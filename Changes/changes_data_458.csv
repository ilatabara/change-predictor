id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible~master~I9313e4209439dd92ce0e0e893f95721c8d92e998,openstack/openstack-ansible,master,I9313e4209439dd92ce0e0e893f95721c8d92e998,Aodh group vars has wrong admin and internal endpoint url,MERGED,2018-10-26 07:54:44.000000000,2018-10-26 22:44:22.000000000,2018-10-26 22:44:22.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-26 07:54:44.000000000', 'files': ['inventory/group_vars/aodh_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93affdca77dfafbd05326af7c10292b193386d05', 'message': 'Aodh group vars has wrong admin and internal endpoint url\n\nChange-Id: I9313e4209439dd92ce0e0e893f95721c8d92e998\n'}]",0,613521,93affdca77dfafbd05326af7c10292b193386d05,7,3,1,22124,,,0,"Aodh group vars has wrong admin and internal endpoint url

Change-Id: I9313e4209439dd92ce0e0e893f95721c8d92e998
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/613521/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/aodh_all.yml'],1,93affdca77dfafbd05326af7c10292b193386d05,bug/1800100,"aodh_service_internaluri: ""{{ openstack_service_internaluri_proto|default(aodh_service_proto) }}://{{ internal_lb_vip_address }}:{{ aodh_service_port }}"" aodh_service_adminuri: ""{{ openstack_service_adminuri_proto|default(aodh_service_proto) }}://{{ internal_lb_vip_address }}:{{ aodh_service_port }}""","aodh_service_internaluri: ""{{ openstack_service_publicuri_proto|default(aodh_service_proto) }}://{{ internal_lb_vip_address }}:{{ aodh_service_port }}"" aodh_service_adminuri: ""{{ openstack_service_publicuri_proto|default(aodh_service_proto) }}://{{ internal_lb_vip_address }}:{{ aodh_service_port }}""",2,2
openstack%2Fnetworking-ovn~stable%2Frocky~I8686288bd4493f56b25e99281999bdd5e1296f8c,openstack/networking-ovn,stable/rocky,I8686288bd4493f56b25e99281999bdd5e1296f8c,Fix Python3.5+ issues,MERGED,2018-09-24 12:29:37.000000000,2018-10-26 22:31:24.000000000,2018-10-26 22:31:24.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 17776}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-24 12:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4fc648aa34933d36423da74a85cd9e55f20c83c6', 'message': 'Fix Python3.5+ issues\n\nThe driver was relying on attributes such as ""im_class"" that does not\nexist in Python3+ anymore.\n\nThis patch fixes those problems and also add a new job in the gate to\nexercise tempest with Python3.5+ so those errors don\'t sneak in the\ncode again.\n\nCloses-Bug: #1791925\nChange-Id: I8686288bd4493f56b25e99281999bdd5e1296f8c\n(cherry picked from commit 7c03ec170e24b93a276d8d9e46771f834c232ebf)\n'}, {'number': 2, 'created': '2018-10-26 08:20:55.000000000', 'files': ['networking_ovn/common/utils.py', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-python3/run.yaml', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-python3/post.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml', 'networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/14db922e9a3cc5c74a062a758685ce348e434542', 'message': 'Fix Python3.5+ issues\n\nThe driver was relying on attributes such as ""im_class"" that does not\nexist in Python3+ anymore.\n\nThis patch fixes those problems and also add a new job in the gate to\nexercise tempest with Python3.5+ so those errors don\'t sneak in the\ncode again.\n\nCloses-Bug: #1791925\nChange-Id: I8686288bd4493f56b25e99281999bdd5e1296f8c\n(cherry picked from commit 7c03ec170e24b93a276d8d9e46771f834c232ebf)\n'}]",0,604759,14db922e9a3cc5c74a062a758685ce348e434542,34,7,2,6773,,,0,"Fix Python3.5+ issues

The driver was relying on attributes such as ""im_class"" that does not
exist in Python3+ anymore.

This patch fixes those problems and also add a new job in the gate to
exercise tempest with Python3.5+ so those errors don't sneak in the
code again.

Closes-Bug: #1791925
Change-Id: I8686288bd4493f56b25e99281999bdd5e1296f8c
(cherry picked from commit 7c03ec170e24b93a276d8d9e46771f834c232ebf)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/59/604759/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-python3/run.yaml', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'devstack/lib/networking-ovn', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-python3/post.yaml', 'zuul.d/project.yaml', 'networking_ovn/tests/functional/base.py']",9,4fc648aa34933d36423da74a85cd9e55f20c83c6,bug/1791925," class TriggerCls(mock.MagicMock): def trigger(self): pass trigger_cls = TriggerCls() if self.ovn_worker: trigger_cls.trigger.__self__.__class__ = ovsdb_monitor.OvnWorker self.mech_driver.post_fork_initialize( mock.ANY, mock.ANY, trigger_cls.trigger)"," trigger = mock.MagicMock() if self.ovn_worker: trigger.im_class = ovsdb_monitor.OvnWorker trigger.im_class.__name__ = 'trigger' self.mech_driver.post_fork_initialize(mock.ANY, mock.ANY, trigger)",130,12
openstack%2Fglance_store~stable%2Frocky~I7bf676ac972af835c7a6b8d04815629752685765,openstack/glance_store,stable/rocky,I7bf676ac972af835c7a6b8d04815629752685765,"Add statement explaining ""tips"" job configuration",MERGED,2018-10-23 13:59:26.000000000,2018-10-26 22:12:14.000000000,2018-10-26 22:12:14.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 13:59:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d001c3c4c9855ee855db4fabee0c0ce4d417f297', 'message': 'Add statement explaining ""tips"" job configuration\n\nThe configuration of the periodic ""tips"" jobs in .zuul.yaml may\nbe confusing, particularly after a stable branch is cut.   Add a\ncomment explaining what we\'re doing and why to reduce confusion.\n\nChange-Id: I7bf676ac972af835c7a6b8d04815629752685765\n(cherry picked from commit ad46c752ef66f552a29866432edd252eff0bd125)\n'}]",0,612708,d001c3c4c9855ee855db4fabee0c0ce4d417f297,8,3,1,5314,,,0,"Add statement explaining ""tips"" job configuration

The configuration of the periodic ""tips"" jobs in .zuul.yaml may
be confusing, particularly after a stable branch is cut.   Add a
comment explaining what we're doing and why to reduce confusion.

Change-Id: I7bf676ac972af835c7a6b8d04815629752685765
(cherry picked from commit ad46c752ef66f552a29866432edd252eff0bd125)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/08/612708/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d001c3c4c9855ee855db4fabee0c0ce4d417f297,tips-job-config-statement-stable/rocky," # NOTE(rosmaita): we only want the ""tips"" jobs to be run against # master, hence the 'branches' qualifiers below. Without them, when # a stable branch is cut, the tests would be run against the stable # branch as well, which is pointless because these libraries are # frozen (more or less) in the stable branches. # # The ""tips"" jobs can be removed from the stable branch .zuul.yaml # files if someone is so inclined, but that would require manual # maintenance, so we do not do it by default. Another option is # to define these jobs in the openstack-infra/project-config repo. # That would make us less agile in adjusting these tests, so we # aren't doing that either.",,12,0
openstack%2Ftrove-tempest-plugin~master~I480038e160b03b0386d65edb1839ec7ea7612ef4,openstack/trove-tempest-plugin,master,I480038e160b03b0386d65edb1839ec7ea7612ef4,change default python 3 env in tox to 3.5,MERGED,2018-06-12 05:58:25.000000000,2018-10-26 22:10:14.000000000,2018-10-26 22:10:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}, {'_account_id': 28671}, {'_account_id': 28695}]","[{'number': 1, 'created': '2018-06-12 05:58:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/969f507fca3c64d5a79bf9b31b79023eb6e3c1ec', 'message': 'change default python 3 env in tox to 3.5\n\nChange-Id: I480038e160b03b0386d65edb1839ec7ea7612ef4\n'}]",0,574564,969f507fca3c64d5a79bf9b31b79023eb6e3c1ec,9,5,1,17499,,,0,"change default python 3 env in tox to 3.5

Change-Id: I480038e160b03b0386d65edb1839ec7ea7612ef4
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/64/574564/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,969f507fca3c64d5a79bf9b31b79023eb6e3c1ec,,"envlist = py35,py27,pypy,pep8","envlist = py34,py27,pypy,pep8",1,1
openstack%2Fpython-glanceclient~stable%2Frocky~If80ead2796c370b9539a0d7dd12bb8d35de8abcf,openstack/python-glanceclient,stable/rocky,If80ead2796c370b9539a0d7dd12bb8d35de8abcf,"Refactor periodic ""tips"" jobs",MERGED,2018-10-23 13:57:32.000000000,2018-10-26 22:08:29.000000000,2018-10-26 22:08:29.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 13:57:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0f1b1bf89e35edc018dffc12252f3474863ff20a', 'message': 'Refactor periodic ""tips"" jobs\n\nTwo changes:\n1 - declare the abstract base tips jobs \'abstract\'\n2 - add a branch matcher to where the periodic tips jobs\n    are invoked in the project definition so that they only\n    apply to the master branch\n\nChange-Id: If80ead2796c370b9539a0d7dd12bb8d35de8abcf\n(cherry picked from commit 93636d6e25938617c9b1a58c737540c62d7f27c3)\n'}]",0,612706,0f1b1bf89e35edc018dffc12252f3474863ff20a,14,4,1,5314,,,0,"Refactor periodic ""tips"" jobs

Two changes:
1 - declare the abstract base tips jobs 'abstract'
2 - add a branch matcher to where the periodic tips jobs
    are invoked in the project definition so that they only
    apply to the master branch

Change-Id: If80ead2796c370b9539a0d7dd12bb8d35de8abcf
(cherry picked from commit 93636d6e25938617c9b1a58c737540c62d7f27c3)
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/06/612706/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f1b1bf89e35edc018dffc12252f3474863ff20a,refactor-tips-jobs-stable/rocky," abstract: true abstract: true # NOTE(rosmaita): we only want the ""tips"" jobs to be run against # master, hence the 'branches' qualifiers below. Without them, when # a stable branch is cut, the tests would be run against the stable # branch as well, which is pointless because these libraries are # frozen (more or less) in the stable branches. # # The ""tips"" jobs can be removed from the stable branch .zuul.yaml # files if someone is so inclined, but that would require manual # maintenance, so we do not do it by default. Another option is # to define these jobs in the openstack-infra/project-config repo. # That would make us less agile in adjusting these tests, so we # aren't doing that either. - glanceclient-tox-py27-keystone-tips: branches: master - glanceclient-tox-py35-keystone-tips: branches: master - glanceclient-tox-py27-oslo-tips: branches: master - glanceclient-tox-py35-oslo-tips: branches: master", - glanceclient-tox-py27-keystone-tips - glanceclient-tox-py35-keystone-tips - glanceclient-tox-py27-oslo-tips - glanceclient-tox-py35-oslo-tips,22,4
openstack%2Fopenstack-ansible-os_octavia~master~I124873a6ab96aa95f886ce146d28e7340c90d40d,openstack/openstack-ansible-os_octavia,master,I124873a6ab96aa95f886ce146d28e7340c90d40d,Convert role to use a common systemd service role,MERGED,2018-09-29 00:49:34.000000000,2018-10-26 21:41:53.000000000,2018-10-26 21:41:53.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-09-29 00:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/aafa68286cf1e1fbabaea48baaecafb5dbf5b142', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 2, 'created': '2018-09-29 00:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/1198a219b63fc156ea72f4831a33645986f9104f', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 3, 'created': '2018-09-29 01:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/adeac7c475cad9ccbcdb7981605f477f840d4a11', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 4, 'created': '2018-09-29 01:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d1db3225f91e6491b1b6a31c6ab1470b0a5d6993', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 5, 'created': '2018-09-29 01:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c8834ef5b75b8a72afca3d6a4e90f81eff2505b3', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nIn addition, it re-orders some tasks for consistency with other roles.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 6, 'created': '2018-09-29 01:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2bca60f3e764d6aefc32ff959eef1b8c9be18068', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nIn addition, it re-orders some tasks for consistency with other roles.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 7, 'created': '2018-10-07 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4605ab0e8ca6a3152a04408d6040fbd09440b818', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This changet  removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nIn addition, it re-orders some tasks for consistency with other roles.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}, {'number': 8, 'created': '2018-10-25 09:03:55.000000000', 'files': ['tasks/octavia_init_systemd.yml', 'tasks/main.yml', 'templates/octavia-systemd-tmpfiles.j2', 'templates/octavia-systemd-init.j2', 'templates/octavia-uwsgi.ini.j2', 'tasks/octavia_init_common.yml', 'tasks/octavia_uwsgi.yml', 'handlers/main.yml', 'templates/octavia.conf.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/376ddeb48f09b01b06f8e7dad8adbc75f832bd6a', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This changet  removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nIn addition, it re-orders some tasks for consistency with other roles.\n\nChange-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d\n'}]",0,606222,376ddeb48f09b01b06f8e7dad8adbc75f832bd6a,16,3,8,1004,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This changet  removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

In addition, it re-orders some tasks for consistency with other roles.

Change-Id: I124873a6ab96aa95f886ce146d28e7340c90d40d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/22/606222/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_init_systemd.yml', 'tasks/main.yml', 'templates/octavia-systemd-tmpfiles.j2', 'templates/octavia-systemd-init.j2', 'templates/octavia-uwsgi.ini.j2', 'tasks/octavia_init_common.yml', 'handlers/main.yml', 'defaults/main.yml']",8,aafa68286cf1e1fbabaea48baaecafb5dbf5b142,octavia-fixes," execstarts: ""{{ octavia_bin }}/uwsgi --ini /etc/uwsgi/octavia-api.ini"" execreloads: ""{{ octavia_bin }}/uwsgi --reload /var/run/octavia-api/octavia-api.pid"" execstarts: ""{{ octavia_bin }}/octavia-worker"" execreloads: ""/bin/kill -HUP $MAINPID"" execstarts: ""{{ octavia_bin }}/octavia-housekeeping"" execreloads: ""/bin/kill -HUP $MAINPID"" execstarts: ""{{ octavia_bin }}/octavia-health-manager"" execreloads: ""/bin/kill -HUP $MAINPID"""," log_string: ""--logto """,36,132
openstack%2Fopenstack-ansible-os_octavia~master~If4214abf928711c364d7962a0369db4a69a4440f,openstack/openstack-ansible-os_octavia,master,If4214abf928711c364d7962a0369db4a69a4440f,Stop arbitrary shutting down services,MERGED,2018-09-29 00:49:34.000000000,2018-10-26 21:41:52.000000000,2018-10-26 21:41:52.000000000,"[{'_account_id': 6816}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-09-29 00:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/443d206b00abf73101df62001287a265a28f3f28', 'message': ""Stop arbitrary shutting down services\n\nIt looks like services are shut down for no reason if we're running\na migration which can mean they will never be started back up if\na playbook fails.\n\nThis patch stops shutting down services for no reason as most likely\nthe service will be restarted after the packages change.\n\nChange-Id: If4214abf928711c364d7962a0369db4a69a4440f\n""}, {'number': 2, 'created': '2018-10-07 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/557d34d8366c76bea670f2621e882dc46a587e31', 'message': ""Stop arbitrary shutting down services\n\nIt looks like services are shut down for no reason if we're running\na migration which can mean they will never be started back up if\na playbook fails.\n\nThis patch stops shutting down services for no reason as most likely\nthe service will be restarted after the packages change.\n\nChange-Id: If4214abf928711c364d7962a0369db4a69a4440f\n""}, {'number': 3, 'created': '2018-10-24 18:02:19.000000000', 'files': ['tasks/octavia_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/19fc9a13ed05071d80bc161de75164dabc38f1c5', 'message': ""Stop arbitrary shutting down services\n\nIt looks like services are shut down for no reason if we're running\na migration which can mean they will never be started back up if\na playbook fails.\n\nThis patch stops shutting down services for no reason as most likely\nthe service will be restarted after the packages change.\n\nChange-Id: If4214abf928711c364d7962a0369db4a69a4440f\n""}]",0,606221,19fc9a13ed05071d80bc161de75164dabc38f1c5,24,4,3,1004,,,0,"Stop arbitrary shutting down services

It looks like services are shut down for no reason if we're running
a migration which can mean they will never be started back up if
a playbook fails.

This patch stops shutting down services for no reason as most likely
the service will be restarted after the packages change.

Change-Id: If4214abf928711c364d7962a0369db4a69a4440f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/21/606221/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_db_setup.yml'],1,443d206b00abf73101df62001287a265a28f3f28,octavia-fixes,,"# Update is offline - name: Stop octavia services service: name: ""{{ item.value.service_name }}"" state: ""stopped"" with_dict: ""{{ octavia_services }}"" notify: Start octavia services ",0,9
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Frocky~I29025dea82ff8a0bcd03cbcf39ae7b34470f0a89,openstack/openstack-ansible-rabbitmq_server,stable/rocky,I29025dea82ff8a0bcd03cbcf39ae7b34470f0a89,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:46:39.000000000,2018-10-26 21:26:24.000000000,2018-10-26 21:26:24.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:46:39.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7354f4f6cf3c59b62e165c35508c64e8489ce874', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I29025dea82ff8a0bcd03cbcf39ae7b34470f0a89\n(cherry picked from commit 628125a940b05f8c150040af4cbeab71118eafae)\n'}]",0,612931,7354f4f6cf3c59b62e165c35508c64e8489ce874,13,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I29025dea82ff8a0bcd03cbcf39ae7b34470f0a89
(cherry picked from commit 628125a940b05f8c150040af4cbeab71118eafae)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/31/612931/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml']",4,7354f4f6cf3c59b62e165c35508c64e8489ce874,container_name_host_var-stable/rocky,container_name: container3,,3,1
openstack%2Fopenstack-ansible-os_monasca-agent~stable%2Frocky~Ibb9cf561ee5bc2c8fa57fa53a0692269b86079cd,openstack/openstack-ansible-os_monasca-agent,stable/rocky,Ibb9cf561ee5bc2c8fa57fa53a0692269b86079cd,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:36:57.000000000,2018-10-26 21:17:19.000000000,2018-10-26 21:17:19.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:36:57.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/64a7ee0029fcfa249ffc7d851611de861376680b', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ibb9cf561ee5bc2c8fa57fa53a0692269b86079cd\n(cherry picked from commit 659c6b92f81760d5173d5c19e142e5296c7c451c)\n'}]",0,612907,64a7ee0029fcfa249ffc7d851611de861376680b,15,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ibb9cf561ee5bc2c8fa57fa53a0692269b86079cd
(cherry picked from commit 659c6b92f81760d5173d5c19e142e5296c7c451c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-agent refs/changes/07/612907/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml']",2,64a7ee0029fcfa249ffc7d851611de861376680b,container_name_host_var-stable/rocky,,"container_name: ""{{ inventory_hostname }}""",1,1
openstack%2Fcharm-neutron-api~master~Ib4573aa925cb1b3b9e1fa04e8a3c5bf611223c25,openstack/charm-neutron-api,master,Ib4573aa925cb1b3b9e1fa04e8a3c5bf611223c25,Make Queens and Rocky share same conf template,MERGED,2018-10-26 15:09:14.000000000,2018-10-26 21:15:30.000000000,2018-10-26 21:15:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 15:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/1d6c4cf4c747fd3d1323c4080b98466a341a855f', 'message': 'Make Queens and Rocky share same conf template\n\nThe original patch for this bug fied the problem for\nrocky only but queens also suffers from the same\nproblem. Since the only diff between the P and R\ntemplates is this change, move it into Q so that\nQ and R will both get the fix.\n\nChange-Id: Ib4573aa925cb1b3b9e1fa04e8a3c5bf611223c25\nRelated-Bug: #1788631\n'}, {'number': 2, 'created': '2018-10-26 15:58:38.000000000', 'files': ['templates/queens/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/31a7dd32d76394210e53ca36d3fc1fbd210ee368', 'message': 'Make Queens and Rocky share same conf template\n\nThe original patch for this bug fixed the problem for\nrocky only but queens also suffers from the same\nproblem. Since the only diff between the P and R\ntemplates is this change, move it into Q so that\nQ and R will both get the fix.\n\nChange-Id: Ib4573aa925cb1b3b9e1fa04e8a3c5bf611223c25\nRelated-Bug: #1788631\n'}]",2,613610,31a7dd32d76394210e53ca36d3fc1fbd210ee368,9,3,2,6737,,,0,"Make Queens and Rocky share same conf template

The original patch for this bug fixed the problem for
rocky only but queens also suffers from the same
problem. Since the only diff between the P and R
templates is this change, move it into Q so that
Q and R will both get the fix.

Change-Id: Ib4573aa925cb1b3b9e1fa04e8a3c5bf611223c25
Related-Bug: #1788631
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/10/613610/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/queens/neutron.conf'],1,1d6c4cf4c747fd3d1323c4080b98466a341a855f,bug/1788631,,,0,0
openstack%2Fopenstack-ansible-os_nova~master~I8fb5e17598b24c2399fbff7ac29957b73042329d,openstack/openstack-ansible-os_nova,master,I8fb5e17598b24c2399fbff7ac29957b73042329d,Cleanup nova distro package install lists,MERGED,2018-10-20 15:47:17.000000000,2018-10-26 21:13:37.000000000,2018-10-26 21:13:37.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-20 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7ad0752fadf4043430351c0b2bb46d0de7729255', 'message': 'Cleanup nova distro package install lists\n\nThe distro install package lists included virtual packages to install\neverything nova, packages for deprecated services (cells v1,\nnova-network, nova-volume), and packages specific\nto hypervisors currently unsupported by OSA (xen).\n\nnova-compute and serialconsole specific packages been moved out to\nnova_service_extra_distro_packages.\n\nChange-Id: I8fb5e17598b24c2399fbff7ac29957b73042329d\n'}, {'number': 2, 'created': '2018-10-20 20:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9e4d0ab518d20b9d79772fde9ac39af8c476ac1a', 'message': 'Cleanup nova distro package install lists\n\nThe distro install package lists included virtual packages to install\neverything nova, packages for deprecated services (cells v1,\nnova-network, nova-volume), and packages specific\nto hypervisors currently unsupported by OSA (xen).\n\nnova-compute and serialconsole specific packages been moved out to\nnova_service_extra_distro_packages.\n\nDepends-On: https://review.openstack.org/#/c/612064\nChange-Id: I8fb5e17598b24c2399fbff7ac29957b73042329d\n'}, {'number': 3, 'created': '2018-10-23 07:22:57.000000000', 'files': ['vars/distro_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5772607ef6715744ec87247b5231036636c029ca', 'message': 'Cleanup nova distro package install lists\n\nThe distro install package lists included virtual packages to install\neverything nova, packages for deprecated services (cells v1,\nnova-network, nova-volume), and packages specific\nto hypervisors currently unsupported by OSA (xen).\n\nnova-compute and serialconsole specific packages been moved out to\nnova_service_extra_distro_packages.\n\nDepends-On: https://review.openstack.org/612614\nChange-Id: I8fb5e17598b24c2399fbff7ac29957b73042329d\n'}]",0,612061,5772607ef6715744ec87247b5231036636c029ca,24,4,3,14805,,,0,"Cleanup nova distro package install lists

The distro install package lists included virtual packages to install
everything nova, packages for deprecated services (cells v1,
nova-network, nova-volume), and packages specific
to hypervisors currently unsupported by OSA (xen).

nova-compute and serialconsole specific packages been moved out to
nova_service_extra_distro_packages.

Depends-On: https://review.openstack.org/612614
Change-Id: I8fb5e17598b24c2399fbff7ac29957b73042329d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/61/612061/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/distro_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",4,7ad0752fadf4043430351c0b2bb46d0de7729255,cleanup_nova_distro_pkgs, kvm: - openstack-nova-compute serialconsole: - openstack-nova-serialproxy, - openstack-nova - openstack-nova-cells - openstack-nova-compute - openstack-nova-console - openstack-nova-network - openstack-nova-novncproxy - openstack-nova-serialproxy - openstack-nova-vncproxy kvm: [],14,23
openstack%2Fopenstack-helm~master~I93ce1fdbbb68d11706cc65dd09d653bc2276dcd6,openstack/openstack-helm,master,I93ce1fdbbb68d11706cc65dd09d653bc2276dcd6,Imported Translations from Zanata,MERGED,2018-10-26 08:33:48.000000000,2018-10-26 20:41:17.000000000,2018-10-26 20:41:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-26 08:33:48.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d72fe1a501bc609a875eebf7b6274e18600ed70', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I93ce1fdbbb68d11706cc65dd09d653bc2276dcd6\n'}]",0,613530,9d72fe1a501bc609a875eebf7b6274e18600ed70,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I93ce1fdbbb68d11706cc65dd09d653bc2276dcd6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/613530/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po']",4,9d72fe1a501bc609a875eebf7b6274e18600ed70,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2018. #zanata""POT-Creation-Date: 2018-10-25 20:55+0000\n""""PO-Revision-Date: 2018-10-25 10:35+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""Common Deployment Requirements"" msgstr ""Allgemeine Bereitstellungsanforderungen"" msgid """" ""Configuring OpenStack for a particular production use-case is beyond the "" ""scope of this guide. Please refer to the OpenStack `Configuration <https://"" ""docs.openstack.org/latest/configuration/>`_ documentation for your selected "" ""version of OpenStack to determine what additional values overrides should be "" ""provided to the OpenStack-Helm charts to ensure appropriate networking, "" ""security, etc. is in place."" msgstr """" ""Die Konfiguration von OpenStack für einen bestimmten Produktions-"" ""Anwendungsfall würde den Rahmen dieses Handbuchs sprengen. Bitte beachten "" ""Sie die OpenStack `Konfiguration <https://docs.openstack.org/latest/"" ""configuration/>`_ Dokumentation für Ihre Version von OpenStack, um zu "" ""ermitteln, welche zusätzlichen Werte den OpenStack-Helm-Charts hinzugefügt "" ""werden sollten, um eine angemessene Vernetzung, Sicherheit usw. "" ""sicherzustellen."" ""Note if you need to make a DNS change, you will have to do uninstall (``helm "" ""delete <chart>``) and install again."" msgstr """" ""Hinweis: Wenn Sie eine DNS-Änderung vornehmen, müssen Sie eine "" ""Deinstallation durchführen (``helm delete <chart> ``) und erneut "" ""installieren."" msgid """"msgid """" ""Prepare ahead of time your FQDN and DNS layouts. There are a handful of "" ""OpenStack endpoints you will want to expose for API and Dashboard access."" msgstr """" ""Bereiten Sie Ihre FQDN- und DNS-Layouts im Voraus vor. Es gibt eine Handvoll "" ""OpenStack-Endpunkte, die für API- und Dashboard-Zugriff verfügbar sein "" ""sollen."" ""by default the `HWE Kernel <../../troubleshooting/ubuntu-hwe-kernel.html>`__ "" ""is required to use CephFS."" msgstr """" ""Bis der Ubuntu-Kernel, der mit 16.04 ausgeliefert wird, standardmäßig CephFS-"" ""Subvolume-Mounts unterstützt, ist der `HWE-Kernel <../../troubleshooting/"" ""ubuntu-hwe-kernel.html>`__ erforderlich, um CephFS zu verwenden."" msgid """" ""Until the Ubuntu kernel shipped with 16.04 supports CephFS subvolume mounts """"We want to change the **public** configurations to match our DNS layouts "" ""above. In each Chart ``values.yaml`` is a ``endpoints`` configuration that "" ""has ``host_fqdn_override``'s for each API that the Chart either produces or "" ""is dependent on. `Read more about how Endpoints are developed <https://docs."" ""openstack.org/openstack-helm/latest/devref/endpoints.html>`__. Note while "" ""Glance Registry is listening on a Ingress http endpoint, you will not need "" ""to expose the registry for external services."" msgstr """" ""Wir möchten die **public** Konfigurationen so ändern, dass sie unseren "" ""obigen DNS-Layouts entsprechen. In jedem Chart ist `values.yaml`` eine `` "" ""endpoints`` Konfiguration, die ``host_fqdn_override``s für jede API hat, die "" ""das Chart entweder erzeugt oder von der es abhängig ist. `Lesen Sie mehr "" ""darüber, wie Endpunkte entwickelt werden <https://docs.openstack.org/"" ""openstack-helm/latest/devref/endpoints.html>`__ . Hinweis: Während Glance "" ""Registry einen Ingress-HTTP-Endpunkt überwacht, müssen Sie die Registrierung "" ""für externe Dienste nicht verfügbar machen."" msgid """"","""POT-Creation-Date: 2018-10-24 23:52+0000\n""""PO-Revision-Date: 2018-09-15 08:14+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""",211,12
openstack%2Freleases~master~I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1,openstack/releases,master,I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1,Mark Ocata as extended maintenance,MERGED,2018-08-30 13:23:29.000000000,2018-10-26 20:30:51.000000000,2018-10-26 20:30:51.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 17685}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-08-30 13:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/858d602769bd722e7f080ecba43a5e88ae31a915', 'message': 'Mark Ocata as extended maintenance\n\nChange-Id: I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-08-30 15:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/783ca293bda20610593ad2f1f5238d75887b91f1', 'message': 'Mark Ocata as extended maintenance\n\nChange-Id: I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2018-09-04 18:34:12.000000000', 'files': ['deliverables/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5814d31bc2bcfab334c4d98a843f5e9dc03db48f', 'message': 'Mark Ocata as extended maintenance\n\nChange-Id: I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,598164,5814d31bc2bcfab334c4d98a843f5e9dc03db48f,25,12,3,11904,,,0,"Mark Ocata as extended maintenance

Change-Id: I7bbef5975e319583d2aa9cc987afd4cb8d69e1d1
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/598164/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/series_status.yaml'],1,858d602769bd722e7f080ecba43a5e88ae31a915,ocata, status: extended maintenance status: end of life date: TBD, status: maintained status: extended maintenance date: 2018-08-27,3,3
openstack%2Ftrove-dashboard~master~I0b7c39d0f192f63392a06fd64487b5c85ff678bd,openstack/trove-dashboard,master,I0b7c39d0f192f63392a06fd64487b5c85ff678bd,Imported Translations from Zanata,MERGED,2018-10-26 07:19:15.000000000,2018-10-26 20:24:45.000000000,2018-10-26 20:24:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28671}]","[{'number': 1, 'created': '2018-10-26 07:19:15.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/bda4bd1850951c793da8fe9c72f76632c5048852', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0b7c39d0f192f63392a06fd64487b5c85ff678bd\n'}]",0,613514,bda4bd1850951c793da8fe9c72f76632c5048852,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0b7c39d0f192f63392a06fd64487b5c85ff678bd
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/14/613514/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'],1,bda4bd1850951c793da8fe9c72f76632c5048852,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata # Robert Simai <robert.simai@suse.com>, 2018. #zanata""Project-Id-Version: trove-dashboard\n""""POT-Creation-Date: 2018-10-23 09:31+0000\n""""PO-Revision-Date: 2018-10-25 09:27+0000\n""""X-Generator: Zanata 4.3.3\n""msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""11.0.0"" msgstr ""11.0.0"" msgid ""Pike Series Release Notes"" msgstr ""Pike Serie Releasenotes"" msgid ""Queens Series Release Notes"" msgstr ""Queens Serie Releasenotes"" msgid ""Rocky Series Release Notes"" msgstr ""Rocky Serie Releasenotes"" msgid ""Upgrade Notes"" msgstr ""Aktualisierungsnotizen""","# Robert Simai <robert.simai@suse.com>, 2016. #zanata # Robert Simai <robert.simai@suse.com>, 2017. #zanata""Project-Id-Version: Trove Dashboard Release Notes 8.0.0\n""""POT-Creation-Date: 2017-04-09 20:48+0000\n""""PO-Revision-Date: 2017-04-10 09:37+0000\n""""X-Generator: Zanata 3.9.6\n""",24,6
openstack%2Fopenstack-ansible-os_keystone~stable%2Fqueens~Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,openstack/openstack-ansible-os_keystone,stable/queens,Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,Add memcache flushing handler on db migrations,MERGED,2018-10-22 19:31:26.000000000,2018-10-26 20:15:15.000000000,2018-10-26 20:15:15.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-22 19:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/f32ea8c1a6f4df037c27634eeb6b7d247c9bba21', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n(cherry picked from commit afc0e5b1ce660224593f2f9d1886d45f1c69f174)\n'}, {'number': 2, 'created': '2018-10-25 13:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6f3326a6908429300858ad3cf9d400648f1dae93', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}, {'number': 3, 'created': '2018-10-25 13:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/545d60749024919d2cf1d48848e24f98b33a0999', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}, {'number': 4, 'created': '2018-10-25 13:22:02.000000000', 'files': ['tasks/keystone_db_setup.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/03e3e83953218ad3a99c7c239037a94b60313ee7', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nDepends-On: https://review.openstack.org/613291\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}]",0,612482,03e3e83953218ad3a99c7c239037a94b60313ee7,23,6,4,27926,,,0,"Add memcache flushing handler on db migrations

Flushing cache when schema changes occur to avoid drift between
what might be cached and what keystone queries expect.

Given that this is a workaround which is only usually required
in major upgrades (and should really be handled in process by
keystone itself), we make the execution optional so that it can
be set to happen only on major upgrades.

To prevent test breakage as happened in master, we combine the
two master patches into one for the backport:

https://review.openstack.org/608066
https://review.openstack.org/613256

Depends-On: https://review.openstack.org/613291
Change-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840
Closes-Bug: 1793389
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/82/612482/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_db_setup.yml', 'handlers/main.yml']",2,f32ea8c1a6f4df037c27634eeb6b7d247c9bba21,bug/1793389,"- name: Flush all of the cache in memcached vars: nc_command: debian: nc -q 1 $(awk '/^\-l/ {print $2}' ""/etc/memcached.conf"" | awk -F, '{print $1}') $(awk '/^\-p/ {print $2}' ""/etc/memcached.conf"") redhat: nc $(awk -F '-l' '/^OPTIONS/ {print $2}' ""/etc/sysconfig/memcached"" | awk -F ',' '{gsub(/""/, """", $1); print $1}' | awk -F '-' '{print $1}') 11211 suse: nc -w 1 $(awk -F '-l' '/^MEMCACHED_PARAMS/ {print $2}' ""/etc/sysconfig/memcached"" | awk -F ',' '{gsub(/""/, """", $1); print $1}' | awk -F '-' '{print $1}') 11211 shell: ""echo 'flush_all' | {{ nc_command.get(ansible_os_family | lower) }}"" delegate_to: ""{{ item }}"" with_items: ""{{ groups.memcached_all }}"" listen: flush cache ",,14,0
openstack%2Fdevstack~master~I269fbb1ed3eb1a29b94e7b67160ce36722a27846,openstack/devstack,master,I269fbb1ed3eb1a29b94e7b67160ce36722a27846,WIP: Allow admin project scoped tokens,ABANDONED,2018-09-26 13:22:13.000000000,2018-10-26 20:14:37.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 20378}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 13:22:13.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/980643d95f48dd124164dcbc40f9d1b07e77e1d6', 'message': 'WIP: Allow admin project scoped tokens\n\nThis change aims to set the tempest admin_domain_scope option under\nidentity to the default value, false[1], so that v3 API tests can\nvalidate tokens scoped to projects[2].\n\nThe old behavior forced every token to be domain scoped which makes\ntests like[3] difficult to test in an admin test case.\n\nI believe there is more work that is needed, like additions to the\naccounts.yaml[4] file so that we can specify project_domain_name and\nuser_domain_name fields. Setting these domain values are especially\nuseful for pre-provisioned credential provider users.\n\n[1] https://docs.openstack.org/tempest/latest/sampleconf.html\n[2] http://logs.openstack.org/24/593124/3/experimental/legacy-tempest-dsvm-identity-v3-test$\n[3] https://review.openstack.org/#/c/593124/3/tempest/api/identity/admin/v3/test_tokens.py\n[4] http://logs.openstack.org/24/593124/3/experimental/legacy-tempest-dsvm-identity-v3-test$\n\nChange-Id: I269fbb1ed3eb1a29b94e7b67160ce36722a27846\n'}]",0,605420,980643d95f48dd124164dcbc40f9d1b07e77e1d6,6,4,1,20378,,,0,"WIP: Allow admin project scoped tokens

This change aims to set the tempest admin_domain_scope option under
identity to the default value, false[1], so that v3 API tests can
validate tokens scoped to projects[2].

The old behavior forced every token to be domain scoped which makes
tests like[3] difficult to test in an admin test case.

I believe there is more work that is needed, like additions to the
accounts.yaml[4] file so that we can specify project_domain_name and
user_domain_name fields. Setting these domain values are especially
useful for pre-provisioned credential provider users.

[1] https://docs.openstack.org/tempest/latest/sampleconf.html
[2] http://logs.openstack.org/24/593124/3/experimental/legacy-tempest-dsvm-identity-v3-test$
[3] https://review.openstack.org/#/c/593124/3/tempest/api/identity/admin/v3/test_tokens.py
[4] http://logs.openstack.org/24/593124/3/experimental/legacy-tempest-dsvm-identity-v3-test$

Change-Id: I269fbb1ed3eb1a29b94e7b67160ce36722a27846
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/605420/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,980643d95f48dd124164dcbc40f9d1b07e77e1d6,,," # Use domain scoped tokens for admin v3 tests, v3 dynamic credentials of v3 account generation iniset $TEMPEST_CONFIG identity admin_domain_scope True",0,2
openstack%2Fpuppet-nova~stable%2Frocky~If1d675cec6fe64e8a812fb638078b0ab1c66b5de,openstack/puppet-nova,stable/rocky,If1d675cec6fe64e8a812fb638078b0ab1c66b5de,Fixup functions for 5.5.7+,MERGED,2018-10-25 23:05:27.000000000,2018-10-26 19:55:10.000000000,2018-10-26 19:55:10.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 23:05:27.000000000', 'files': ['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c40a994fe21a736f05c488ff2e3ec3db1f7fe1cf', 'message': ""Fixup functions for 5.5.7+\n\nRecent changes to Puppet (5.5.7+) has broken some of the legacy function\nitems we were doing in puppet-nova. We'll likely need to update all the\nfunctions to the new syntax but for now this change is to address\ncurrent issues.\n\nChange-Id: If1d675cec6fe64e8a812fb638078b0ab1c66b5de\nCloses-Bug: #1799757\n(cherry picked from commit 3d877926f09d9c0c0f331025256c4b55214c1269)\n""}]",0,613445,c40a994fe21a736f05c488ff2e3ec3db1f7fe1cf,8,3,1,14985,,,0,"Fixup functions for 5.5.7+

Recent changes to Puppet (5.5.7+) has broken some of the legacy function
items we were doing in puppet-nova. We'll likely need to update all the
functions to the new syntax but for now this change is to address
current issues.

Change-Id: If1d675cec6fe64e8a812fb638078b0ab1c66b5de
Closes-Bug: #1799757
(cherry picked from commit 3d877926f09d9c0c0f331025256c4b55214c1269)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/45/613445/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_migration_libvirt_spec.rb']",2,c40a994fe21a736f05c488ff2e3ec3db1f7fe1cf,bug/1799757-stable/rocky," # needed for Puppet 4.x # function here is needed for Puppet 5.5.7+ 'function generate($a, $b) { return ""0000-111-111"" } include nova", 'include nova,5,11
openstack%2Ftripleo-quickstart~master~I6470787b6d9109889f3621454a002e9352d64c8a,openstack/tripleo-quickstart,master,I6470787b6d9109889f3621454a002e9352d64c8a,fs001/035/053: reduce the number of workers on the undercloud,ABANDONED,2018-10-26 13:09:40.000000000,2018-10-26 19:47:12.000000000,,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-26 13:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a237dc80d7e5c309eb027b3448014cb28d7b5e46', 'message': ""fs001/035: reduce the number of workers on the undercloud\n\nTo reduce the timemouts on the Undercloud, let's reduce the number of\nworkers.\n\nDepends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e\nChange-Id: I6470787b6d9109889f3621454a002e9352d64c8a\nRelated-Bug: #1799895\n""}, {'number': 2, 'created': '2018-10-26 14:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b857faebb4f8a42f423b94360e7b99fb8fe8dcb7', 'message': ""fs001/035/053: reduce the number of workers on the undercloud\n\nTo reduce the timemouts on the Undercloud, let's reduce the number of\nworkers.\n\nDepends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e\nChange-Id: I6470787b6d9109889f3621454a002e9352d64c8a\nRelated-Bug: #1799895\n""}, {'number': 3, 'created': '2018-10-26 14:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07c9a33e46c83de7638827e58f11227c0c9a0ae2', 'message': ""fs001/035/053: reduce the number of workers on the undercloud\n\nTo reduce the timemouts on the Undercloud, let's reduce the number of\nworkers.\n\nDepends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e\n\nChange-Id: I6470787b6d9109889f3621454a002e9352d64c8a\nRelated-Bug: #1799895\n""}, {'number': 4, 'created': '2018-10-26 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d80662337255954a52eef8c59bcf70964d7d4a78', 'message': ""fs001/035/053: reduce the number of workers on the undercloud\n\nTo reduce the timemouts on the Undercloud, let's reduce the number of\nworkers.\n\nDepends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e\nChange-Id: I6470787b6d9109889f3621454a002e9352d64c8a\nRelated-Bug: #1799895\n""}, {'number': 5, 'created': '2018-10-26 15:46:59.000000000', 'files': ['config/general_config/featureset053.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7b94091b9e53e412e0b6c3c736e15933ba1744cf', 'message': ""fs001/035/053: reduce the number of workers on the undercloud\n\nTo reduce the timemouts on the Undercloud, let's reduce the number of\nworkers.\n\nDepends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e\n\nChange-Id: I6470787b6d9109889f3621454a002e9352d64c8a\nRelated-Bug: #1799895\n""}]",0,613577,7b94091b9e53e412e0b6c3c736e15933ba1744cf,16,6,5,3153,,,0,"fs001/035/053: reduce the number of workers on the undercloud

To reduce the timemouts on the Undercloud, let's reduce the number of
workers.

Depends-On: I9c2ea60960f1652f62f7f05879ebebddf3f8664e

Change-Id: I6470787b6d9109889f3621454a002e9352d64c8a
Related-Bug: #1799895
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/77/613577/5 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml']",2,a237dc80d7e5c309eb027b3448014cb28d7b5e46,bug/1799895, # https://bugs.launchpad.net/tripleo/+bug/1799895 undercloud_workers: 1,,6,0
openstack%2Fopenstack-ansible-tests~stable%2Frocky~Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd,openstack/openstack-ansible-tests,stable/rocky,Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd,Restart lxc-dnsmasq after clearing iptables rules,MERGED,2018-10-25 11:00:53.000000000,2018-10-26 19:42:12.000000000,2018-10-26 19:42:12.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:00:53.000000000', 'files': ['test-prepare-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ee11076bb25493be9179a7b84de731de9c58a624', 'message': 'Restart lxc-dnsmasq after clearing iptables rules\n\nWhen a functional test is run against the same host more than once and\niptables rules are managed by lxc-dnsmasq the rules that lxc-dnsmasq\ncreated during the first run are removed, preventing containers from\naccessing external networks.\n\nAdd a notify to restart the service and recreate the rules.\n\nChange-Id: Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd\n(cherry picked from commit cd8de5c66d0b95eac36f42173e13c05e89dab742)\n'}]",0,613270,ee11076bb25493be9179a7b84de731de9c58a624,7,4,1,6816,,,0,"Restart lxc-dnsmasq after clearing iptables rules

When a functional test is run against the same host more than once and
iptables rules are managed by lxc-dnsmasq the rules that lxc-dnsmasq
created during the first run are removed, preventing containers from
accessing external networks.

Add a notify to restart the service and recreate the rules.

Change-Id: Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd
(cherry picked from commit cd8de5c66d0b95eac36f42173e13c05e89dab742)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/70/613270/1 && git format-patch -1 --stdout FETCH_HEAD,['test-prepare-host.yml'],1,ee11076bb25493be9179a7b84de731de9c58a624,iptables_cleared_restart_dnsmasq-stable/rocky, register: iptables_clear - name: Trigger dnsmasq restart command: /bin/true changed_when: - lxc_net_manage_iptables | bool - iptables_clear is defined - iptables_clear is changed notify: - Restart dnsmasq,,10,0
openstack%2Fopenstack-zuul-jobs~master~Ie94e43e1ea7b18717bbbfca77f4f408909d34385,openstack/openstack-zuul-jobs,master,Ie94e43e1ea7b18717bbbfca77f4f408909d34385,wip: remove call to legacy copy jenkins role,ABANDONED,2018-08-24 20:25:31.000000000,2018-10-26 19:32:58.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-24 20:25:31.000000000', 'files': ['playbooks/legacy/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/10c8e256f06babb0153f9f0b6dd70dda82fc6f55', 'message': 'wip: remove call to legacy copy jenkins role\n\nThis should be\nrole: legacy-copy-jenkins-scripts but at the same\ntime is probably not needed.\n\nChange-Id: Ie94e43e1ea7b18717bbbfca77f4f408909d34385\n'}]",2,596469,10c8e256f06babb0153f9f0b6dd70dda82fc6f55,6,2,1,9592,,,0,"wip: remove call to legacy copy jenkins role

This should be
role: legacy-copy-jenkins-scripts but at the same
time is probably not needed.

Change-Id: Ie94e43e1ea7b18717bbbfca77f4f408909d34385
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/69/596469/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/pre.yaml'],1,10c8e256f06babb0153f9f0b6dd70dda82fc6f55,,, - legacy-copy-jenkins-scripts,0,1
openstack%2Fnova~master~I0691caab2c44d3189504c54e51bb263ecdc5d1d2,openstack/nova,master,I0691caab2c44d3189504c54e51bb263ecdc5d1d2,Add more documentation for online_data_migrations CLI,MERGED,2018-09-27 18:54:33.000000000,2018-10-26 19:32:36.000000000,2018-10-26 19:32:36.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-27 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0163e0ab9d129a91ab3a8214ade281879ab42a2', 'message': 'Add more documentation for online_data_migrations CLI\n\nThis is a follow up to commit c4c6dc736 to clarify some\nconfusing comments in the code, add more comments in\nthe actual runtime code, and also provide an example\nin the CLI man page docs along with an explanation of\nthe output, specifically for the case that $found>0\nbut done=0 and what that means.\n\nChange-Id: I0691caab2c44d3189504c54e51bb263ecdc5d1d2\nRelated-Bug: #1794364\n'}, {'number': 2, 'created': '2018-10-24 20:14:34.000000000', 'files': ['doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c86f309c564f4a394285068bbdb4f138cfff1651', 'message': 'Add more documentation for online_data_migrations CLI\n\nThis is a follow up to commit c4c6dc736 to clarify some\nconfusing comments in the code, add more comments in\nthe actual runtime code, and also provide an example\nin the CLI man page docs along with an explanation of\nthe output, specifically for the case that $found>0\nbut done=0 and what that means.\n\nChange-Id: I0691caab2c44d3189504c54e51bb263ecdc5d1d2\nRelated-Bug: #1794364\n'}]",6,605836,c86f309c564f4a394285068bbdb4f138cfff1651,36,19,2,6873,,,0,"Add more documentation for online_data_migrations CLI

This is a follow up to commit c4c6dc736 to clarify some
confusing comments in the code, add more comments in
the actual runtime code, and also provide an example
in the CLI man page docs along with an explanation of
the output, specifically for the case that $found>0
but done=0 and what that means.

Change-Id: I0691caab2c44d3189504c54e51bb263ecdc5d1d2
Related-Bug: #1794364
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/605836/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py']",2,c0163e0ab9d129a91ab3a8214ade281879ab42a2,bug/1794364," # found value indicates how many unmigrated/candidate records existed in # the database prior to the migration (either total, or up to the # $count limit provided), and a nonzero found value may tell the user # not migratable (or don't need migrating), but all migrations that can # complete have finished. # This is the per-migration method result for this batch, and # _run_migration will either continue or stop if up to this point # we've processed max_count of records across all migration # methods. # For each batch of migration method results, build the cumulative # set of results. _('Total Needed'), # Really: Total Found"," # found value indicates how many unmigrated records existed in the # database prior to the migration (either total, or up to the # $count limit provided), and a nonzero found value tells the user # not migratable, but all migrations that can complete have # finished. _('Total Needed'),",42,6
openstack%2Fopenstack-ansible-os_rally~stable%2Frocky~I42d691a2f01918932006984f9f68af9df1c7e41f,openstack/openstack-ansible-os_rally,stable/rocky,I42d691a2f01918932006984f9f68af9df1c7e41f,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:45:39.000000000,2018-10-26 19:17:31.000000000,2018-10-26 19:17:31.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/33818ec044c400b3685ea1049c3bd3e9c93c0026', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I42d691a2f01918932006984f9f68af9df1c7e41f\n(cherry picked from commit 79c252fb268d9472076834e140135158d6a8253d)\n'}, {'number': 2, 'created': '2018-10-25 16:37:56.000000000', 'files': ['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/3712ca6f05cc70f90066882787fb6f48152ee42f', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nAdditional changes were made to normalise the tests with\nmost other roles and ensure that the same bridge/network\nconfiguration is applied.\n\nChange-Id: I42d691a2f01918932006984f9f68af9df1c7e41f\n(cherry picked from commit 79c252fb268d9472076834e140135158d6a8253d)\n'}]",0,612928,3712ca6f05cc70f90066882787fb6f48152ee42f,15,5,2,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Additional changes were made to normalise the tests with
most other roles and ensure that the same bridge/network
configuration is applied.

Change-Id: I42d691a2f01918932006984f9f68af9df1c7e41f
(cherry picked from commit 79c252fb268d9472076834e140135158d6a8253d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/28/612928/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",5,33818ec044c400b3685ea1049c3bd3e9c93c0026,container_name_host_var-stable/rocky,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ansible_host: 10.1.0.3 ansible_become: True ansible_user: root container_name: openstack1 ",,43,5
openstack%2Fopenstack-helm-infra~master~I78bffe6764e9cbb16b2a615be766c910ba5d4e48,openstack/openstack-helm-infra,master,I78bffe6764e9cbb16b2a615be766c910ba5d4e48,Restrict libvirt Ceph access scope to what is needed only.,MERGED,2018-10-05 22:23:02.000000000,2018-10-26 19:07:17.000000000,2018-10-26 06:36:49.000000000,"[{'_account_id': 8408}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29053}]","[{'number': 1, 'created': '2018-10-05 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f128f9bb23b5b06366930ed5732acf51b4e2bd3', 'message': 'Restrict libvirt Ceph access scope to what is needed only\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 2, 'created': '2018-10-05 22:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e10fa25ed63d52fe08e47153253462d011261cb8', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 3, 'created': '2018-10-22 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/009624cc3d526288ed0b748ebc5afa569302e0c6', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 4, 'created': '2018-10-23 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1418840e6796febcd6d72b589d536e8b8aa29d1d', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 5, 'created': '2018-10-23 19:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19396e804bf3928882537b5ce2835a734f5bf69a', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 6, 'created': '2018-10-25 05:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f0e1d884f5ab607a26d9156830ae71d88179e50', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 7, 'created': '2018-10-25 08:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f01f56c0983ab4fd91444c21e2fee451e94024b7', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}, {'number': 8, 'created': '2018-10-26 01:15:12.000000000', 'files': ['libvirt/templates/bin/_ceph-keyring.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/566a489bbef8ddea4469f7a494b533d60476f016', 'message': 'Restrict libvirt Ceph access scope to what is needed only.\n\nChange-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48\n'}]",3,608373,566a489bbef8ddea4469f7a494b533d60476f016,34,5,8,29053,,,0,"Restrict libvirt Ceph access scope to what is needed only.

Change-Id: I78bffe6764e9cbb16b2a615be766c910ba5d4e48
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/608373/8 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/templates/bin/_ceph-keyring.sh.tpl'],1,6f128f9bb23b5b06366930ed5732acf51b4e2bd3,," #NOTE(JCL): Restruct access to the cluster to only what is needed. MON Read only and RBD access. mon ""allow r"" \ osd ""allow profile rbd"" \"," mon ""allow *"" \ osd ""allow *"" \ mgr ""allow *"" \",3,3
openstack%2Fansible-role-python_venv_build~stable%2Frocky~I5f86e3bfad95e80c8d2d98237f44883643780df9,openstack/ansible-role-python_venv_build,stable/rocky,I5f86e3bfad95e80c8d2d98237f44883643780df9,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:48:53.000000000,2018-10-26 19:06:39.000000000,2018-10-26 19:06:38.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4780452c61eec0a20b0af762b02b2e650e813cab', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I5f86e3bfad95e80c8d2d98237f44883643780df9\n(cherry picked from commit b7cb5188a16dfb4b993c2b6b750e78aeb6104ae3)\n'}, {'number': 2, 'created': '2018-10-25 16:39:24.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/host_vars/container4.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5fdd8e00633f28606fc531a449d741e8c772a9fc', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nThe container4 host vars were removed because container4\nis not present in the inventory. It has been left over\nby mistake in previous refactoring.\n\nChange-Id: I5f86e3bfad95e80c8d2d98237f44883643780df9\n(cherry picked from commit b7cb5188a16dfb4b993c2b6b750e78aeb6104ae3)\n'}]",0,612937,5fdd8e00633f28606fc531a449d741e8c772a9fc,13,5,2,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

The container4 host vars were removed because container4
is not present in the inventory. It has been left over
by mistake in previous refactoring.

Change-Id: I5f86e3bfad95e80c8d2d98237f44883643780df9
(cherry picked from commit b7cb5188a16dfb4b993c2b6b750e78aeb6104ae3)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/37/612937/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml', 'tests/host_vars/container4.yml']",5,4780452c61eec0a20b0af762b02b2e650e813cab,container_name_host_var-stable/rocky,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ansible_host: 10.1.0.5 ansible_become: True ansible_user: root ",3,19
openstack%2Finstack-undercloud~master~Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb,openstack/instack-undercloud,master,Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb,Add instack-undercloud job,ABANDONED,2018-09-27 14:35:07.000000000,2018-10-26 19:04:15.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-27 14:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2605c67c2836fefdb867bb9df4861ef62b042993', 'message': 'DNM: testing ci\n\nChange-Id: Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb\nDepends-On: https://review.openstack.org/#/c/605753/\n'}, {'number': 2, 'created': '2018-09-27 21:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a73119937d6f81664ddb8b0d90e6462bf4d7ab4b', 'message': ""Add instack-undercloud job\n\nWe removed the instack-undercloud job for anything newer than Rocky. We\nstill need to run this job on the instack-undercloud project so let's\nadd it in here.\n\nChange-Id: Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb\nDepends-On: https://review.openstack.org/#/c/605753/\n""}, {'number': 3, 'created': '2018-09-27 21:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/318fbe4272b22b52e87e55207631d368a444fcf9', 'message': ""Add instack-undercloud job\n\nWe removed the instack-undercloud job for anything newer than Rocky. We\nstill need to run this job on the instack-undercloud project so let's\nadd it in here.\n\nChange-Id: Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb\nDepends-On: https://review.openstack.org/#/c/605753/\n""}, {'number': 4, 'created': '2018-10-18 13:51:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f5d5b7123501315895b85694ed1771cffce7d07a', 'message': ""Add instack-undercloud job\n\nWe removed the instack-undercloud job for anything newer than Rocky. We\nstill need to run this job on the instack-undercloud project so let's\nadd it in here.\n\nChange-Id: Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb\nDepends-On: https://review.openstack.org/#/c/605753/\n""}]",0,605755,f5d5b7123501315895b85694ed1771cffce7d07a,14,5,4,14985,,,0,"Add instack-undercloud job

We removed the instack-undercloud job for anything newer than Rocky. We
still need to run this job on the instack-undercloud project so let's
add it in here.

Change-Id: Ia5bc6dcea16bde78bb47747b8c0ed736f4f576bb
Depends-On: https://review.openstack.org/#/c/605753/
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/55/605755/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,2605c67c2836fefdb867bb9df4861ef62b042993,remove-instack-undercloud,# testing,,1,0
openstack%2Finstack-undercloud~master~I9918c812f2ecc509cd65c463599bd8a2df4165e3,openstack/instack-undercloud,master,I9918c812f2ecc509cd65c463599bd8a2df4165e3,Change python3.5 job to python3.7 job on Stein+,ABANDONED,2018-10-16 02:49:47.000000000,2018-10-26 19:04:09.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 02:49:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0cdd1a5b0535ca6ea76a8be901b9e394d8e83a20', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I9918c812f2ecc509cd65c463599bd8a2df4165e3\nStory: #2004073\nTask: #27459\n""}]",0,610792,0cdd1a5b0535ca6ea76a8be901b9e394d8e83a20,5,3,1,17499,,,0,"Change python3.5 job to python3.7 job on Stein+

This is a mechanically generated patch to add a unit test job running
under Python 3.7 and drop the Python 3.5 unit test job.

python3.5 was the only supported python3 version on Xenial. Now that
we have Bionic nodes supporting python3.6 and python3.7, let's switch
to testing with python3.7 in addition to python3.6 in Stein and
beyond.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I9918c812f2ecc509cd65c463599bd8a2df4165e3
Story: #2004073
Task: #27459
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/92/610792/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0cdd1a5b0535ca6ea76a8be901b9e394d8e83a20,py37-job, - openstack-python37-jobs, - openstack-python35-jobs,1,1
openstack%2Finstack-undercloud~master~Iecefc3513cf1582ede3178607e5203e6311cb8fe,openstack/instack-undercloud,master,Iecefc3513cf1582ede3178607e5203e6311cb8fe,WIP Disable management plugin by default,ABANDONED,2018-08-10 08:50:36.000000000,2018-10-26 19:03:58.000000000,,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-10 08:50:36.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/71386c4870a92dbc9b39d3790cbcbbfb27f6c922', 'message': ""WIP Disable management plugin by default\n\nWe do not enable it on the overcloud because service_manage is\nfalse there and the plugin gets enabled when both admin_enable (defaults to\ntrue) and service_manage (defaults to true) are true\n\nLet's disable this as we do not want to support this plugin\nand it seems it causes problems in certain environments.\nNB: WIP as I am not sure yet what/why it is creating an issue in this\nspecific env.\n\nChange-Id: Iecefc3513cf1582ede3178607e5203e6311cb8fe\n""}]",1,590705,71386c4870a92dbc9b39d3790cbcbbfb27f6c922,4,3,1,20172,,,0,"WIP Disable management plugin by default

We do not enable it on the overcloud because service_manage is
false there and the plugin gets enabled when both admin_enable (defaults to
true) and service_manage (defaults to true) are true

Let's disable this as we do not want to support this plugin
and it seems it causes problems in certain environments.
NB: WIP as I am not sure yet what/why it is creating an issue in this
specific env.

Change-Id: Iecefc3513cf1582ede3178607e5203e6311cb8fe
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/05/590705/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,71386c4870a92dbc9b39d3790cbcbbfb27f6c922,disable-admin-plugin,rabbitmq::admin_enable: false,,1,0
openstack%2Finstack-undercloud~master~I5465c1cbf9ba452ead2f863b9b3b146775c049b8,openstack/instack-undercloud,master,I5465c1cbf9ba452ead2f863b9b3b146775c049b8,Switch to stestr,ABANDONED,2018-07-10 11:26:10.000000000,2018-10-26 19:03:52.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-10 11:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e8451fc5e9244d2e680459ee6385ce6372ef88db', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I5465c1cbf9ba452ead2f863b9b3b146775c049b8\n""}, {'number': 2, 'created': '2018-07-11 00:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a3ba18bc288a7eb28ceb8246635fb867a86782a3', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I5465c1cbf9ba452ead2f863b9b3b146775c049b8\n""}, {'number': 3, 'created': '2018-07-24 04:21:50.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ea3b565c01641488ca085a4506a752dc2067520f', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I5465c1cbf9ba452ead2f863b9b3b146775c049b8\n""}]",0,581327,ea3b565c01641488ca085a4506a752dc2067520f,8,3,3,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I5465c1cbf9ba452ead2f863b9b3b146775c049b8
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/27/581327/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,e8451fc5e9244d2e680459ee6385ce6372ef88db,stestr,[DEFAULT] test_path=./instack_undercloud/tests top_dir=./ ,,8,9
openstack%2Finstack-undercloud~master~Icf7245e61be02f099c141ab0349d66ec5844b9d1,openstack/instack-undercloud,master,Icf7245e61be02f099c141ab0349d66ec5844b9d1,DNM: test with 15 wsgi threads,ABANDONED,2018-03-30 00:05:42.000000000,2018-10-26 19:03:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-30 00:05:42.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/98ac08e21b5cbaf50d6782524bcb9f39f0214e73', 'message': 'DNM: test with 15 wsgi threads\n\nChange-Id: Icf7245e61be02f099c141ab0349d66ec5844b9d1\n'}]",0,557853,98ac08e21b5cbaf50d6782524bcb9f39f0214e73,4,2,1,23811,,,0,"DNM: test with 15 wsgi threads

Change-Id: Icf7245e61be02f099c141ab0349d66ec5844b9d1
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/53/557853/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,98ac08e21b5cbaf50d6782524bcb9f39f0214e73,,barbican::wsgi::apache::threads: 15 cinder::wsgi::apache::threads: 15 glance::api::threads: 15 heat::wsgi::apache_api_cfn::threads: 15 heat::wsgi::apache_api::threads: 15 keystone::wsgi::apache::threads: 15 keystone::wsgi::apache::threads: 1 mistral::wsgi::apache::threads: 15 nova::wsgi::apache_api::threads: 15 nova::conductor::threads: 15 nova::wsgi::apache_placement::threads: 15 swift::proxy::threads: 15 zaqar::wsgi::apache::threads: 15 ,,14,0
openstack%2Fnova~master~Ie637b4871df8b870193b5bc07eece15c03860c06,openstack/nova,master,Ie637b4871df8b870193b5bc07eece15c03860c06,Add rolling upgrade info to enable_consoleauth workaround reno,ABANDONED,2018-10-17 02:57:31.000000000,2018-10-26 18:53:31.000000000,,"[{'_account_id': 2472}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-17 02:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6ea070f91dbf5cf8122f836f9e21a963ef06932', 'message': 'Add rolling upgrade info to enable_consoleauth workaround reno\n\nThis explains how the [workarounds]enable_consoleauth option needs to\nused if an operator is performing a live, rolling upgrade.\n\nCloses-Bug: #1798188\n\nChange-Id: Ie637b4871df8b870193b5bc07eece15c03860c06\n'}, {'number': 2, 'created': '2018-10-17 21:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc0399202e4c87c028084aa4e61194f562b8de2a', 'message': 'Add rolling upgrade info to enable_consoleauth workaround reno\n\nThis explains how the [workarounds]enable_consoleauth option needs to\nused if an operator is performing a live, rolling upgrade.\n\nCloses-Bug: #1798188\n\nChange-Id: Ie637b4871df8b870193b5bc07eece15c03860c06\n'}, {'number': 3, 'created': '2018-10-18 19:49:53.000000000', 'files': ['releasenotes/notes/workarounds-enable-consoleauth-71d68c3879dc2c8a.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ab63d7b4f4183a3b660d417d5c2e10a929a2062', 'message': 'Add rolling upgrade info to enable_consoleauth workaround reno\n\nThis explains how the [workarounds]enable_consoleauth option needs to\nused if an operator is performing a live, rolling upgrade.\n\nCloses-Bug: #1798188\n\nChange-Id: Ie637b4871df8b870193b5bc07eece15c03860c06\n'}]",0,611218,2ab63d7b4f4183a3b660d417d5c2e10a929a2062,34,13,3,4690,,,0,"Add rolling upgrade info to enable_consoleauth workaround reno

This explains how the [workarounds]enable_consoleauth option needs to
used if an operator is performing a live, rolling upgrade.

Closes-Bug: #1798188

Change-Id: Ie637b4871df8b870193b5bc07eece15c03860c06
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/611218/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/workarounds-enable-consoleauth-71d68c3879dc2c8a.yaml'],1,e6ea070f91dbf5cf8122f836f9e21a963ef06932,bug/1798188," have their token authorizations stored in cell databases. With this, console proxies are required to be deployed per cell. All existing consoles will be reset. For most operators, this should be a minimal disruption as the default TTL of a console token is 10 minutes. There is a new configuration option ``[workarounds]/enable_consoleauth`` for use by operators who: * Are performing a live, rolling upgrade * Have configured a much longer token TTL * Otherwise wish to avoid immediately resetting all existing consoles When the option is set to True, the console proxy will fall back on the ``nova-consoleauth`` service to locate existing console authorizations. The option defaults to False. Operators may unset the configuration option when: * The live, rolling upgrade is complete * All of the existing consoles have expired. For example, if a deployment has configured a token TTL of one hour, the operator may disable the ``[workarounds]/enable_consoleauth`` option, one hour after deploying the new code."," have their token authorizations stored in cell databases, in addition to the ``nova-consoleauth`` service backend, in Rocky. With this, console proxies are required to be deployed per cell. All existing consoles will be reset. For most operators, this should be a minimal disruption as the default TTL of a console token is 10 minutes. Operators that have configured a much longer token TTL or otherwise wish to avoid immediately resetting all existing consoles can use the new configuration option ``[workarounds]/enable_consoleauth`` to fall back on the ``nova-consoleauth`` service for locating existing console authorizations. The option defaults to False. Once all of the existing consoles have naturally expired, operators may unset the configuration option. For example, if a deployment has configured a token TTL of one hour, the operator may disable the ``[workarounds]/enable_consoleauth`` option, one hour after deploying the new code.",22,14
openstack%2Fopenstack-ansible-openstack_hosts~master~Id42e514c3f961fa2dc68fdcad845597a74091b03,openstack/openstack-ansible-openstack_hosts,master,Id42e514c3f961fa2dc68fdcad845597a74091b03,SUSE: Add system-user-nobody for Leap 15,MERGED,2018-10-26 09:55:10.000000000,2018-10-26 18:51:54.000000000,2018-10-26 18:51:54.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-26 09:55:10.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4da6e186c043b92ad8e5f78440e2844e0d781b22', 'message': ""SUSE: Add system-user-nobody for Leap 15\n\nThe 'nobody' user and group is being used in several places so it's\nbest to make sure that it's present on every SUSE host instead of\ncreating it on demand.\n\nChange-Id: Id42e514c3f961fa2dc68fdcad845597a74091b03\n""}]",0,613547,4da6e186c043b92ad8e5f78440e2844e0d781b22,10,17,1,23163,,,0,"SUSE: Add system-user-nobody for Leap 15

The 'nobody' user and group is being used in several places so it's
best to make sure that it's present on every SUSE host instead of
creating it on demand.

Change-Id: Id42e514c3f961fa2dc68fdcad845597a74091b03
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/47/613547/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,4da6e186c043b92ad8e5f78440e2844e0d781b22,add-nobody-user," - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-virtualenv', 'system-user-nobody') }}"" # system-user-nobody only exists in Leap 15 onwards",,1,0
openstack%2Fproject-config~master~Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0,openstack/project-config,master,Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0,New Repo: OpenStack-Helm Docs,MERGED,2018-10-19 14:43:46.000000000,2018-10-26 18:47:52.000000000,2018-10-26 18:47:52.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8898}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-10-19 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/236edb21a6c2bd6697991bea40bd9bef08687417', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-19 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/773d4efbc1c997e3f2293334b5cf2c51fcfe2471', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-19 15:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b0d0b7093aa29292d20519844a7256d688477b52', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nDepends-On: https://review.openstack.org/611896\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-10-22 15:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4125a5697c0b4dc7b81f9c2433d0fab4e20b3086', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nNeeded-By: https://review.openstack.org/#/c/611896/\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-10-23 06:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/94202dcb074fbe7b20bddea68117c4460b5daac9', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nNeeded-By: https://review.openstack.org/#/c/611896/\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-10-25 18:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a2a8b2796a577513c53566e2f3a030a2f06fd0e', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nNeeded-By: https://review.openstack.org/#/c/611896/\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-10-26 06:20:23.000000000', 'files': ['gerrit/acls/openstack/openstack-helm-docs.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9d5092005e626df2cd6dbbfc8df52167fafb4ecb', 'message': 'New Repo: OpenStack-Helm Docs\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the documentation that is currently spread\nthroughout the openstack-helm, openstack-helm-addons and\nopenstack-helm-infra repos.\n\nNeeded-By: https://review.openstack.org/#/c/611896/\nChange-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,611893,9d5092005e626df2cd6dbbfc8df52167fafb4ecb,30,9,7,23928,,,0,"New Repo: OpenStack-Helm Docs

This PS adds a new repo for the OpenStack-Helm project. This
repo will house the documentation that is currently spread
throughout the openstack-helm, openstack-helm-addons and
openstack-helm-infra repos.

Needed-By: https://review.openstack.org/#/c/611896/
Change-Id: Iba7b0dae27c66cacfb2ade2f30853e071cd63ad0
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/611893/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-helm-docs.config', 'gerrit/projects.yaml']",2,236edb21a6c2bd6697991bea40bd9bef08687417,new-project,- project: openstack/openstack-helm-docs use-storyboard: true groups: - openstack-helm description: OpenStack Helm Documentation,,20,0
openstack%2Fproject-config~master~Ifd6b2c806567a082e0773795395f7f18d47f8ff9,openstack/project-config,master,Ifd6b2c806567a082e0773795395f7f18d47f8ff9,New Repo - OpenStack-Helm Images,MERGED,2018-10-19 14:38:58.000000000,2018-10-26 18:40:48.000000000,2018-10-26 18:40:48.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8898}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-10-19 14:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f48bcecfb1dcb23d35d29a4ea79f492f4b63a734', 'message': 'New Repo - OpenStack-Helm Images\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the dockerfiles that are spread throughout the\nopenstack-helm, openstack-helm-addons and openstack-helm-infra\nrepoisitories.\n\nChange-Id: Ifd6b2c806567a082e0773795395f7f18d47f8ff9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-19 14:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a135d6d8821b3e30763576b451a9be4c458ad4d', 'message': 'New Repo - OpenStack-Helm Images\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the dockerfiles that are spread throughout the\nopenstack-helm, openstack-helm-addons and openstack-helm-infra\nrepoisitories.\n\nDepends-On: https://review.openstack.org/611895\nChange-Id: Ifd6b2c806567a082e0773795395f7f18d47f8ff9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-22 15:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/27baa201849fb51a074f2f56dbf930c8530a445f', 'message': 'New Repo - OpenStack-Helm Images\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the dockerfiles that are spread throughout the\nopenstack-helm, openstack-helm-addons and openstack-helm-infra\nrepoisitories.\n\nNeeded-By: https://review.openstack.org/611895\nChange-Id: Ifd6b2c806567a082e0773795395f7f18d47f8ff9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-10-25 18:28:29.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-helm-images.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae75d5c2b0ccc89dbbbe5934b6979fc0dc2e91cc', 'message': 'New Repo - OpenStack-Helm Images\n\nThis PS adds a new repo for the OpenStack-Helm project. This\nrepo will house the dockerfiles that are spread throughout the\nopenstack-helm, openstack-helm-addons and openstack-helm-infra\nrepoisitories.\n\nNeeded-By: https://review.openstack.org/611895\nChange-Id: Ifd6b2c806567a082e0773795395f7f18d47f8ff9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",9,611892,ae75d5c2b0ccc89dbbbe5934b6979fc0dc2e91cc,37,9,4,23928,,,0,"New Repo - OpenStack-Helm Images

This PS adds a new repo for the OpenStack-Helm project. This
repo will house the dockerfiles that are spread throughout the
openstack-helm, openstack-helm-addons and openstack-helm-infra
repoisitories.

Needed-By: https://review.openstack.org/611895
Change-Id: Ifd6b2c806567a082e0773795395f7f18d47f8ff9
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/611892/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-helm-images.config']",2,f48bcecfb1dcb23d35d29a4ea79f492f4b63a734,new-project,"[access ""refs/heads/*""] abandon = group openstack-helm-images-core create = group openstack-helm-images-release label-Code-Review = -2..+2 group openstack-helm-images-core label-Workflow = -1..+1 group openstack-helm-images-core [access ""refs/tags/*""] pushSignedTag = group openstack-helm-images-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Fproject-config~master~I89523e0161f54da3254b4b92709d668dd63ed11f,openstack/project-config,master,I89523e0161f54da3254b4b92709d668dd63ed11f,Move openstack-browbeat zuul jobs to project repository,MERGED,2018-10-24 15:59:04.000000000,2018-10-26 18:35:51.000000000,2018-10-26 18:35:50.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 26109}]","[{'number': 1, 'created': '2018-10-24 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/11b5f0d244d3b8863388d2c8a53132096b9ad992', 'message': 'Move openstack-browbeat zuul jobs to project repository\n\nDepends-On: https://review.openstack.org/#/c/613004/\nChange-Id: I89523e0161f54da3254b4b92709d668dd63ed11f\n'}, {'number': 2, 'created': '2018-10-24 16:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ba5dda9b4a6ff8494d0372c4a2d00041ce6c4a2', 'message': 'Move openstack-browbeat zuul jobs to project repository\n\nChange-Id: I89523e0161f54da3254b4b92709d668dd63ed11f\n'}, {'number': 3, 'created': '2018-10-25 17:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0702eb77e177e4f33725c04c04fd82d19653f515', 'message': 'Move openstack-browbeat zuul jobs to project repository\n\nChange-Id: I89523e0161f54da3254b4b92709d668dd63ed11f\nDepends-On: https://review.openstack.org/#/c/613004\n'}, {'number': 4, 'created': '2018-10-25 18:11:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/60b640894d8426317d9199750ea93ec0d7455f16', 'message': 'Move openstack-browbeat zuul jobs to project repository\n\nRemoving jobs from central config, and moving them to project\nrepository. Adding publish-to-pypi template to browbeat project.\n\nChange-Id: I89523e0161f54da3254b4b92709d668dd63ed11f\nDepends-On: https://review.openstack.org/#/c/613004\n'}]",2,613092,60b640894d8426317d9199750ea93ec0d7455f16,18,4,4,24162,,,0,"Move openstack-browbeat zuul jobs to project repository

Removing jobs from central config, and moving them to project
repository. Adding publish-to-pypi template to browbeat project.

Change-Id: I89523e0161f54da3254b4b92709d668dd63ed11f
Depends-On: https://review.openstack.org/#/c/613004
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/613092/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,11b5f0d244d3b8863388d2c8a53132096b9ad992,browbeats,, name: openstack/browbeat templates: - ansible-role-jobs # Revert to docs-on-readthedocs when fixed - docs-on-readthedocs-failing check: jobs: - openstack-tox-py27 - openstack-tox-pep8 gate: jobs: - openstack-tox-py27 - openstack-tox-pep8 - project:,0,15
openstack%2Fnova~master~Icfbaf26a7db6986820e264d1888982b985d613a1,openstack/nova,master,Icfbaf26a7db6986820e264d1888982b985d613a1,Add a hacking rule for deprecated assertion methods,MERGED,2018-10-25 02:51:04.000000000,2018-10-26 18:31:44.000000000,2018-10-26 18:31:43.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-25 02:51:04.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/249174943e8a1c178b15eedc91f0fa05a34e9350', 'message': 'Add a hacking rule for deprecated assertion methods\n\nAdd a hacking rule for the following deprecated methods(*)\nin Python 3.\n\n* assertRegexpMatches\n* assertNotRegexpMatches\n\n[N361] assertRegex/assertNotRegex must be used instead of\n       assertRegexpMatches/assertNotRegexpMatches.\n\n*: https://docs.python.org/3.6/library/unittest.html#deprecated-aliases\n\nChange-Id: Icfbaf26a7db6986820e264d1888982b985d613a1\n'}]",2,613184,249174943e8a1c178b15eedc91f0fa05a34e9350,22,13,1,7634,,,0,"Add a hacking rule for deprecated assertion methods

Add a hacking rule for the following deprecated methods(*)
in Python 3.

* assertRegexpMatches
* assertNotRegexpMatches

[N361] assertRegex/assertNotRegex must be used instead of
       assertRegexpMatches/assertNotRegexpMatches.

*: https://docs.python.org/3.6/library/unittest.html#deprecated-aliases

Change-Id: Icfbaf26a7db6986820e264d1888982b985d613a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/613184/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst']",3,249174943e8a1c178b15eedc91f0fa05a34e9350,add_hacking_rule,- [N361] Check for usage of deprecated assertRegexpMatches and assertNotRegexpMatches,,30,0
openstack%2Fnova~master~I3e1ca88cac3a52a8b44e26f051a51a6db77a3231,openstack/nova,master,I3e1ca88cac3a52a8b44e26f051a51a6db77a3231,api-ref: Remove unnecessary minimum microversion,MERGED,2018-10-25 07:40:21.000000000,2018-10-26 18:31:36.000000000,2018-10-26 18:31:35.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-25 07:40:21.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-server-tags.inc', 'api-ref/source/flavors.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a0e2a10851bd910e53a4bab9bd0612fbc0e9a25', 'message': 'api-ref: Remove unnecessary minimum microversion\n\nA minimum microversion description that is the same as\nthe microversion the API is newly added is redundant\nin parameters. So remove them.\n\nChange-Id: I3e1ca88cac3a52a8b44e26f051a51a6db77a3231\nCloses-Bug: #1799893\n'}]",12,613226,8a0e2a10851bd910e53a4bab9bd0612fbc0e9a25,19,15,1,7634,,,0,"api-ref: Remove unnecessary minimum microversion

A minimum microversion description that is the same as
the microversion the API is newly added is redundant
in parameters. So remove them.

Change-Id: I3e1ca88cac3a52a8b44e26f051a51a6db77a3231
Closes-Bug: #1799893
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/613226/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/os-server-tags.inc', 'api-ref/source/flavors.inc']",3,8a0e2a10851bd910e53a4bab9bd0612fbc0e9a25,bug/1799893, - description: flavor_description_resp_no_min, - description: flavor_description_resp,16,8
openstack%2Fkeystonemiddleware~master~I678482309c7dd35ce147bebf13ebefc84251fe91,openstack/keystonemiddleware,master,I678482309c7dd35ce147bebf13ebefc84251fe91,Expect paste.deploy and gnocchi/panko options,MERGED,2017-10-26 06:40:44.000000000,2018-10-26 18:29:26.000000000,2018-10-26 18:29:26.000000000,"[{'_account_id': 2033}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10608}, {'_account_id': 11109}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 06:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/db5c60d221ff4e217ef7a60cae481246a0ccfdc3', 'message': 'Changed LOG type from warning to debug\n\nThere are always going to be some values from config file of all\nservices that are not relevant from the authtoken middleware\nperspective and they will get logged with a warning message which\nwe need to avoid.\n\nChange-Id: I678482309c7dd35ce147bebf13ebefc84251fe91\nCloses-Bug: 1722444\n'}, {'number': 2, 'created': '2017-11-21 14:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bb4b62c7254033a91b9d8fd1f74391d66696a425', 'message': ""Expect paste.deploy and gnocchi/panko options\n\nThe authtoken middleware has been printing warning log messages to\nthe API logs for all services, reporting unexpected conf keys. This\nwas traced back to paste.deploy adding 'here' and '__file__' and\nboth gnocchi and panko adding 'configkey' keys in wsgi apps though\nthese do not actually exist in the conf file. This change allows\nfor those keys without printing a warning that unnecessarily\nconfuses operators.\n\nChange-Id: I678482309c7dd35ce147bebf13ebefc84251fe91\nCloses-Bug: 1722444\n""}, {'number': 3, 'created': '2017-11-21 14:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8d8550a3d5fc1ed6d91a909e2eb23950854adba5', 'message': ""Expect paste.deploy and gnocchi/panko options\n\nThe authtoken middleware has been printing warning log messages to\nthe API logs for all services, reporting unexpected conf keys. This\nwas traced back to paste.deploy adding 'here' and '__file__' and\nboth gnocchi and panko adding 'configkey' keys in wsgi apps though\nthese do not actually exist in the conf file. This change allows\nfor those keys without printing a warning that unnecessarily\nconfuses operators.\n\nChange-Id: I678482309c7dd35ce147bebf13ebefc84251fe91\nCloses-Bug: 1722444\n""}, {'number': 4, 'created': '2017-12-07 15:54:26.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/_common/config.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0c0eae3b1eb537159f26c82647fb61cc3de8536a', 'message': ""Expect paste.deploy and gnocchi/panko options\n\nThe authtoken middleware has been printing warning log messages to\nthe API logs for all services, reporting unexpected conf keys. This\nwas traced back to paste.deploy adding 'here' and '__file__' and\nboth gnocchi and panko adding 'configkey' keys in wsgi apps though\nthese do not actually exist in the conf file. This change allows\nfor those keys without printing a warning that unnecessarily\nconfuses operators.\n\nBut it's kind of a hack, especially the configkey bit. We shouldn't\nhave to know about gnocchi/panko specifics like this. And it doesn't\naddress the comment in the bug about what is seen for ironic. So I\nthink there will still be more to do here.\n\nChange-Id: I678482309c7dd35ce147bebf13ebefc84251fe91\nPartial-Bug: 1722444\n""}]",7,515291,0c0eae3b1eb537159f26c82647fb61cc3de8536a,25,8,4,24131,,,0,"Expect paste.deploy and gnocchi/panko options

The authtoken middleware has been printing warning log messages to
the API logs for all services, reporting unexpected conf keys. This
was traced back to paste.deploy adding 'here' and '__file__' and
both gnocchi and panko adding 'configkey' keys in wsgi apps though
these do not actually exist in the conf file. This change allows
for those keys without printing a warning that unnecessarily
confuses operators.

But it's kind of a hack, especially the configkey bit. We shouldn't
have to know about gnocchi/panko specifics like this. And it doesn't
address the comment in the bug about what is seen for ironic. So I
think there will still be more to do here.

Change-Id: I678482309c7dd35ce147bebf13ebefc84251fe91
Partial-Bug: 1722444
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/91/515291/4 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/_common/config.py'],1,db5c60d221ff4e217ef7a60cae481246a0ccfdc3,bug/1722444, _LOG.debug(, _LOG.warning(,1,1
openstack%2Fneutron-fwaas~master~I05f0f652f3e43d5c1ce5ae7933991cf92a418920,openstack/neutron-fwaas,master,I05f0f652f3e43d5c1ce5ae7933991cf92a418920,Fix associating firewall group with DVR/L3HA port,MERGED,2018-07-06 04:23:04.000000000,2018-10-26 18:14:43.000000000,2018-10-13 05:42:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6995}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-07-06 04:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fd37ba47e104f15c75d0ed0af4514cce386281e0', 'message': ""[WIP] Fix associating firewall group with DVR port\n\nThis commit enables to specify DVR port for firewall group. We can\nselect a port that device_owner is 'network:router_interface_distributed'\nin creating/updating firewall group.\n\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 2, 'created': '2018-07-09 14:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0c32306dada1053b5328937e6c6b8fa718a3e45a', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall group.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 3, 'created': '2018-07-10 11:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6e7aecd03e72066b11248403502d8905df8c7fd0', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 4, 'created': '2018-10-01 06:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/04b5489470c51a4cf81cbf9d625c47c49ea2ea60', 'message': ""WIP: Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 5, 'created': '2018-10-01 09:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/412301ac926c57bffa7399b22531b79e8fd6da24', 'message': ""WIP: Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 6, 'created': '2018-10-02 02:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/337500fdbf611942417e0ac4c31e6f4c559f4356', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 7, 'created': '2018-10-02 07:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/06dcdf5b4acc950ca5440b6261a3607c3678931c', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}, {'number': 8, 'created': '2018-10-05 06:11:02.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n""}]",6,580552,f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe,36,6,8,13702,,,0,"Fix associating firewall group with DVR/L3HA port

This commit enables to specify DVR/L3HA port for firewall group. We can
select a port with following device_owner in creating/updating firewall
group.

    * DVR:  'network:router_interface_distributed'
    * L3HA: 'network:ha_router_replicated_interface'

Co-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>
Change-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920
Closes-Bug: #1762454
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/52/580552/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py']",3,fd37ba47e104f15c75d0ed0af4514cce386281e0,bug/1762454,"SUPPORTED_L3_PORTS = [ nl_constants.DEVICE_OWNER_ROUTER_INTF, nl_constants.DEVICE_OWNER_DVR_INTERFACE, ] if (device_owner not in SUPPORTED_L3_PORTS and", if (device_owner not in [nl_constants.DEVICE_OWNER_ROUTER_INTF] and,29,5
openstack%2Fsecurity-doc~master~I9333d002ee1e4414178e30c7a59cafef95b661f0,openstack/security-doc,master,I9333d002ee1e4414178e30c7a59cafef95b661f0,Updated from openstack-manuals,MERGED,2018-10-26 13:47:19.000000000,2018-10-26 18:12:16.000000000,2018-10-26 18:12:16.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 13:47:19.000000000', 'files': ['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/98ff76895fc88d04f7de0e64988cfe4d60f36549', 'message': 'Updated from openstack-manuals\n\nChange-Id: I9333d002ee1e4414178e30c7a59cafef95b661f0\n'}]",0,613583,98ff76895fc88d04f7de0e64988cfe4d60f36549,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I9333d002ee1e4414178e30c7a59cafef95b661f0
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/83/613583/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po']",2,98ff76895fc88d04f7de0e64988cfe4d60f36549,openstack/openstack-manuals,"""POT-Creation-Date: 2018-10-26 01:41+0000\n""","""POT-Creation-Date: 2018-08-31 09:33+0000\n""""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, and "" ""Rocky. Code names are cities or counties near where the corresponding "" ""OpenStack design summit took place. An exception, called the Waldon "" ""exception, is granted to elements of the state flag that sound especially "" ""cool. Code names are chosen by popular vote."" msgstr """" ""Setiap rilis OpenStack memiliki nama kode. Nama kode naik dalam urutan "" ""abjad: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, dan "" ""Rocky. Nama kode adalah kota atau kabupaten dekat tempat pertemuan desain "" ""OpenStack yang sesuai berlangsung. Pengecualian, yang disebut pengecualian "" ""Waldon, diberikan pada elemen bendera negara yang terdengar sangat keren. "" ""Nama kode dipilih dengan suara terbanyak."" msgid """"""The code name for the eightteenth release of OpenStack. The design summit "" ""will take place in Vancouver, Kanada. The release is named after the Rocky "" ""Mountains."" msgstr """" ""Nama kode untuk rilis kedelapan belas dari OpenStack. KTT desain akan "" ""berlangsung di Vancouver, Kanada. Pelepasan ini dinamai Rocky Mountains."" msgid """"""The code name for the fifteenth release of OpenStack. The design summit will "" ""take place in Barcelona, Spain. Ocata is a beach north of Barcelona."" msgstr """" ""Nama kode untuk rilis kelima belas dari OpenStack. KTT desain akan "" ""berlangsung di Barcelona, Spanyol. Ocata adalah utara pantai Barcelona."" msgid """"""The code name for the seventeenth release of OpenStack. The design summit "" ""will take place in Sydney, Australia. The release is named after the Queens "" ""Pound river in the South Coast region of New South Wales."" msgstr """" ""Nama kode untuk rilis ketujuh belas dari OpenStack. KTT desain akan "" ""berlangsung di Sydney, Australia. Rilis ini dinamai sungai Queens Pound di "" ""wilayah Pantai Selatan New South Wales."" msgid """"""The code name for the sixteenth release of OpenStack. The design summit will "" ""take place in Boston, Massachusetts, US. The release is named after the "" ""Massachusetts Turnpike, abbreviated commonly as the Mass Pike, which is the "" ""easternmost stretch of Interstate 90."" msgstr """" ""Nama kode untuk rilis keenam belas dari OpenStack. KTT desain akan "" ""berlangsung di Boston, Massachusetts, AS. Rilis ini dinamai Massachusetts "" ""Turnpike, disingkat umum sebagai Mass Pike, yang merupakan bentangan "" ""Interstate 90paling timur."" msgid """"",3,82
openstack%2Fcinder~master~I9946da0c0d9aa247ff820ee6c02e57bf86a2747d,openstack/cinder,master,I9946da0c0d9aa247ff820ee6c02e57bf86a2747d,Update unit test debug instructions,MERGED,2018-10-03 20:07:07.000000000,2018-10-26 17:41:01.000000000,2018-10-26 17:41:00.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-03 20:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98dfc2ad121cdef3f3c91a5cd4e57d35a3c37a69', 'message': ""Update unit test debug instructions\n\nSince we've moved to stestr, the test debugging instructions we had\npublished in our documentation do not actually work anymore. This\nupdates those instructions to show a couple possible methods that can be\nused to perform test debugging.\n\nChange-Id: I9946da0c0d9aa247ff820ee6c02e57bf86a2747d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2018-10-04 12:40:50.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/330fa5b148a2262419818626979fcb54d1e8b4d1', 'message': ""Update unit test debug instructions\n\nSince we've moved to stestr, the test debugging instructions we had\npublished in our documentation do not actually work anymore. This\nupdates those instructions to show a couple possible methods that can be\nused to perform test debugging.\n\nChange-Id: I9946da0c0d9aa247ff820ee6c02e57bf86a2747d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",2,607700,330fa5b148a2262419818626979fcb54d1e8b4d1,52,30,2,11904,,,0,"Update unit test debug instructions

Since we've moved to stestr, the test debugging instructions we had
published in our documentation do not actually work anymore. This
updates those instructions to show a couple possible methods that can be
used to perform test debugging.

Change-Id: I9946da0c0d9aa247ff820ee6c02e57bf86a2747d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/607700/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,98dfc2ad121cdef3f3c91a5cd4e57d35a3c37a69,debug, python -m testtools.run cinder.tests.unit.test_volume_utils # Or to get a list of tests to run python -m testtools.run discover -t ./ cinder/tests/unit --list | grep group > tests_to_run.txt python -m testtools.run --load-list tests_to_run.txt, ostestr --pdb cinder.tests.unit.test_volume_utils # or ostestr -n cinder.tests.unit.test_volume_utils # or ostestr -n cinder/tests/unit/test_context.py,7,5
openstack%2Fneutron-lib~master~I11cb7ec15789a605b1d4223a2a201a0eb4cc7a1b,openstack/neutron-lib,master,I11cb7ec15789a605b1d4223a2a201a0eb4cc7a1b,[DNM] Test FilterObj,ABANDONED,2018-10-25 21:51:42.000000000,2018-10-26 17:32:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-25 21:51:42.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9cb092224b879922aec9d9ea7c3aaffad7dbb4cd', 'message': '[DNM] Test FilterObj\n\nDepends-On: https://review.openstack.org/#/c/609848/\nChange-Id: I11cb7ec15789a605b1d4223a2a201a0eb4cc7a1b\n'}]",0,613433,9cb092224b879922aec9d9ea7c3aaffad7dbb4cd,3,1,1,27654,,,0,"[DNM] Test FilterObj

Depends-On: https://review.openstack.org/#/c/609848/
Change-Id: I11cb7ec15789a605b1d4223a2a201a0eb4cc7a1b
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/33/613433/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,9cb092224b879922aec9d9ea7c3aaffad7dbb4cd,,# test,,1,0
openstack%2Fcinder~master~I7ecd65b2da3700bb02fd12d9f700260f2b708f45,openstack/cinder,master,I7ecd65b2da3700bb02fd12d9f700260f2b708f45,Add column only when it doesn't exist,MERGED,2018-09-19 02:47:46.000000000,2018-10-26 17:20:37.000000000,2018-10-26 17:20:37.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-19 02:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bb90e6796a272efacc765191e4d40174e3af25b', 'message': ""Add column only when it doesn't exist\n\nAdd existence check before actually create the specific column.\n\ntrivial fix\n\nChange-Id: I7ecd65b2da3700bb02fd12d9f700260f2b708f45\n""}, {'number': 2, 'created': '2018-10-11 03:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a8fc5ad6dcce96af82b8589464d616826b3c6b9', 'message': ""Add column only when it doesn't exist\n\nAdd existence check before actually create the specific column.\n\nCloses-bug: bug/1797286\n\nChange-Id: I7ecd65b2da3700bb02fd12d9f700260f2b708f45\n""}, {'number': 3, 'created': '2018-10-11 03:33:42.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/088_add_replication_info_to_cluster.py', 'cinder/db/sqlalchemy/migrate_repo/versions/099_add_connection_info_to_attachment.py', 'cinder/db/sqlalchemy/migrate_repo/versions/089_add_cluster_name_image_cache.py', 'cinder/db/sqlalchemy/migrate_repo/versions/090_add_race_preventer_to_workers.py', 'cinder/db/sqlalchemy/migrate_repo/versions/117_add_encryption_key_id_to_backups.py', 'cinder/db/sqlalchemy/migrate_repo/versions/103_message_action_detail_column.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e165980662d2aaa52abcdf10cb200c8db18432aa', 'message': ""Add column only when it doesn't exist\n\nAdd existence check before actually create the specific column.\n\nCloses-Bug: #1797286\n\nChange-Id: I7ecd65b2da3700bb02fd12d9f700260f2b708f45\n""}]",4,603541,e165980662d2aaa52abcdf10cb200c8db18432aa,93,45,3,20722,,,0,"Add column only when it doesn't exist

Add existence check before actually create the specific column.

Closes-Bug: #1797286

Change-Id: I7ecd65b2da3700bb02fd12d9f700260f2b708f45
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/603541/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/088_add_replication_info_to_cluster.py', 'cinder/db/sqlalchemy/migrate_repo/versions/099_add_connection_info_to_attachment.py', 'cinder/db/sqlalchemy/migrate_repo/versions/089_add_cluster_name_image_cache.py', 'cinder/db/sqlalchemy/migrate_repo/versions/117_add_encryption_key_id_to_backups.py', 'cinder/db/sqlalchemy/migrate_repo/versions/103_message_action_detail_column.py']",5,9bb90e6796a272efacc765191e4d40174e3af25b,bug/1797286," if not hasattr(messages.c, 'detail_id'): messages.create_column(detail_id) if not hasattr(messages.c, 'action_id'): messages.create_column(action_id)", messages.create_column(detail_id) messages.create_column(action_id),16,9
openstack%2Fpython-openstackclient~stable%2Fqueens~I1bbdd33be96d82422a05982508e370237c3560f3,openstack/python-openstackclient,stable/queens,I1bbdd33be96d82422a05982508e370237c3560f3,Don't sent disk_over_commit if nova api > 2.24,MERGED,2018-07-27 20:14:07.000000000,2018-10-26 17:17:09.000000000,2018-10-26 17:17:09.000000000,"[{'_account_id': 6482}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 20:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8acd135fe076c38e6e4b24cf9518adf4ac8c6832', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nStory: #2002963\nTask: #22966\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\n(cherry picked from commit d6121782d3aa6a95b883220b27a154e641b61f7f)\n""}, {'number': 2, 'created': '2018-10-25 20:58:26.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1a7aee61d98b766de64c2f31124e1e8a07193988', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nStory: #2002963\nTask: #22966\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\n(cherry picked from commit d6121782d3aa6a95b883220b27a154e641b61f7f)\n""}]",0,586678,1a7aee61d98b766de64c2f31124e1e8a07193988,12,4,2,8864,,,0,"Don't sent disk_over_commit if nova api > 2.24

In API microversion 2.25 Nova removed the disk_over_commit parameter
to the live migration server action. This patch makes sure that we
don't include it in our request if we're running with 2.25 or higher.

Story: #2002963
Task: #22966
Change-Id: I1bbdd33be96d82422a05982508e370237c3560f3
(cherry picked from commit d6121782d3aa6a95b883220b27a154e641b61f7f)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/78/586678/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,8acd135fe076c38e6e4b24cf9518adf4ac8c6832,bug/1750395,"from novaclient import api_versions kwargs = { 'host': parsed_args.live, 'block_migration': parsed_args.block_migration } if compute_client.api_version < api_versions.APIVersion('2.25'): kwargs['disk_over_commit'] = parsed_args.disk_overcommit server.live_migrate(**kwargs)"," server.live_migrate( host=parsed_args.live, block_migration=parsed_args.block_migration, disk_over_commit=parsed_args.disk_overcommit, )",43,5
openstack%2Fopenstack-ansible-repo_build~stable%2Frocky~I74031a2bcafda1a24d7c767218a3b050ae63bc46,openstack/openstack-ansible-repo_build,stable/rocky,I74031a2bcafda1a24d7c767218a3b050ae63bc46,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:47:42.000000000,2018-10-26 17:09:45.000000000,2018-10-26 17:09:44.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:47:42.000000000', 'files': ['tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/d5ec931f0aa69e0d8f59d00a579fae828143642d', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I74031a2bcafda1a24d7c767218a3b050ae63bc46\n(cherry picked from commit 0b6f76e22c975e855def7dc6e1286f5a979de4bb)\n'}]",0,612934,d5ec931f0aa69e0d8f59d00a579fae828143642d,11,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I74031a2bcafda1a24d7c767218a3b050ae63bc46
(cherry picked from commit 0b6f76e22c975e855def7dc6e1286f5a979de4bb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/34/612934/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml']",2,d5ec931f0aa69e0d8f59d00a579fae828143642d,container_name_host_var-stable/rocky,,"container_name: ""{{ inventory_hostname }}""",1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Frocky~I9ab81228a29133e7f50629db3b604eeab6bedf5a,openstack/openstack-ansible-os_octavia,stable/rocky,I9ab81228a29133e7f50629db3b604eeab6bedf5a,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:39:06.000000000,2018-10-26 17:03:55.000000000,2018-10-26 17:03:55.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:39:06.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/host_vars/octavia1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/swift-storage1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/78323f222efc54b3eccf9e26b410f46d3f257e4d', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I9ab81228a29133e7f50629db3b604eeab6bedf5a\n(cherry picked from commit 441c8b6b819b85b81989499bffda09a04e2ec612)\n'}]",0,612911,78323f222efc54b3eccf9e26b410f46d3f257e4d,13,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I9ab81228a29133e7f50629db3b604eeab6bedf5a
(cherry picked from commit 441c8b6b819b85b81989499bffda09a04e2ec612)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/11/612911/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/octavia1.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/swift-storage1.yml']",5,78323f222efc54b3eccf9e26b410f46d3f257e4d,container_name_host_var-stable/rocky,container_name: swift-storage1,,4,2
openstack%2Fos-brick~master~Id787809161e2125393bf4fe303b5bc0a8d92c2e4,openstack/os-brick,master,Id787809161e2125393bf4fe303b5bc0a8d92c2e4,Improve VolumePathsNotFound message details,MERGED,2018-09-27 03:31:25.000000000,2018-10-26 17:02:01.000000000,2018-10-26 17:02:01.000000000,"[{'_account_id': 1736}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-09-27 03:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b0864ecc2941607a91746831b2e075c168044ffc', 'message': ""Improve debug msg\n\nThe msg of VolumePathsNotFound exception should contain more infos in\nconnection_properties, likes 'target_wwns' and 'target_luns'. In this\ncase we can just provide the connection_properties.\n\nChange-Id: Id787809161e2125393bf4fe303b5bc0a8d92c2e4\n""}, {'number': 2, 'created': '2018-10-08 02:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fd444863519fc154776218c17897bf6d40345642', 'message': ""Improve VolumePathsNotFound message details\n\nThe msg of VolumePathsNotFound exception should contain more info in\nconnection_properties, like 'target_wwns' and 'target_luns'. In this\ncase we provide 'target_wwn', 'target_wwns', 'target_lun' and\n'target_luns' in this exception.\n\nChange-Id: Id787809161e2125393bf4fe303b5bc0a8d92c2e4\n""}, {'number': 3, 'created': '2018-10-09 03:23:03.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/793d36a68d600104f63a3714f31d9623edfbd141', 'message': ""Improve VolumePathsNotFound message details\n\nThe msg of VolumePathsNotFound exception should contain more info in\nconnection_properties, like 'target_wwns' and 'target_luns'. In this\ncase we provide the summary info 'luns' and 'wwns' instead.\n\nChange-Id: Id787809161e2125393bf4fe303b5bc0a8d92c2e4\n""}]",11,605576,793d36a68d600104f63a3714f31d9623edfbd141,57,20,3,25837,,,0,"Improve VolumePathsNotFound message details

The msg of VolumePathsNotFound exception should contain more info in
connection_properties, like 'target_wwns' and 'target_luns'. In this
case we provide the summary info 'luns' and 'wwns' instead.

Change-Id: Id787809161e2125393bf4fe303b5bc0a8d92c2e4
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/605576/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,b0864ecc2941607a91746831b2e075c168044ffc,improve_debug,"from oslo_utils import strutils ""with connection properties: %(props)s."") % { ""props"": strutils.mask_dict_password( connection_properties)}"," ""with lun: %(lun)s and wwn: %(wwn)s"") % { ""lun"": target_lun, ""wwn"": target_wwn}",4,2
openstack%2Fopenstack-ansible~stable%2Frocky~Ie9419be3e5738eeb1c4c6bb444a870a0efa45fd8,openstack/openstack-ansible,stable/rocky,Ie9419be3e5738eeb1c4c6bb444a870a0efa45fd8,Update repo_build SHA for virtualenv creation fix,ABANDONED,2018-10-24 09:48:40.000000000,2018-10-26 16:58:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-24 09:48:40.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b8a88062ddfbaa4b79489582892df83b7bc036a6', 'message': 'Update repo_build SHA for virtualenv creation fix\n\nTo ensure that https://review.openstack.org/612640 is included\nin the next release, we update the role requirements file.\n\nWithout that fix, any re-run of the repo-build playbook after\nthe first one will fail.\n\nChange-Id: Ie9419be3e5738eeb1c4c6bb444a870a0efa45fd8\n'}]",0,612971,b8a88062ddfbaa4b79489582892df83b7bc036a6,3,1,1,6816,,,0,"Update repo_build SHA for virtualenv creation fix

To ensure that https://review.openstack.org/612640 is included
in the next release, we update the role requirements file.

Without that fix, any re-run of the repo-build playbook after
the first one will fail.

Change-Id: Ie9419be3e5738eeb1c4c6bb444a870a0efa45fd8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/612971/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,b8a88062ddfbaa4b79489582892df83b7bc036a6,isolated-virtualenv-create, version: 9d56adf6d1af385a5ea06ff23dcb7b74dcdb4e38, version: 80fb7f2b83b5ee1f2f9a181198991f0a6b5fcab2,1,1
openstack%2Fopenstack-helm-addons~master~I1617c7beab85daf8c5e3f86b53b753115546b418,openstack/openstack-helm-addons,master,I1617c7beab85daf8c5e3f86b53b753115546b418,[456935] Create Armada manifest file to deploy Ranger,ABANDONED,2018-10-24 19:01:27.000000000,2018-10-26 16:53:52.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-10-24 19:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d59658abfc14e0b07aa0b2613e2883e2222ba7a9', 'message': '[456935] Create Armada manifest file to deploy Ranger\n\nModified backendPort to ""api"".\n\nChange-Id: I1617c7beab85daf8c5e3f86b53b753115546b418\n'}, {'number': 2, 'created': '2018-10-24 20:35:32.000000000', 'files': ['ranger/templates/ingress-ranger.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0eb8f1e22ca72206504267f1b6926bf4d2b4239f', 'message': '[456935] Create Armada manifest file to deploy Ranger\n\nModified backendService to ""api"".\n\nChange-Id: I1617c7beab85daf8c5e3f86b53b753115546b418\n'}]",1,613142,0eb8f1e22ca72206504267f1b6926bf4d2b4239f,7,3,2,19391,,,0,"[456935] Create Armada manifest file to deploy Ranger

Modified backendService to ""api"".

Change-Id: I1617c7beab85daf8c5e3f86b53b753115546b418
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/42/613142/2 && git format-patch -1 --stdout FETCH_HEAD,['ranger/templates/ingress-ranger.yaml'],1,d59658abfc14e0b07aa0b2613e2883e2222ba7a9,ranger_manifest,"{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""cms"" ""backendServiceType"" ""cms"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""fms"" ""backendServiceType"" ""fms"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""ims"" ""backendServiceType"" ""ims"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""rms"" ""backendServiceType"" ""rms"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""rds"" ""backendServiceType"" ""rds"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""uuid"" ""backendServiceType"" ""uuid"" ""backendPort"" ""api"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""audit"" ""backendServiceType"" ""audit"" ""backendPort"" ""api"" -}}","{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""cms"" ""backendServiceType"" ""cms"" ""backendPort"" ""cms"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""fms"" ""backendServiceType"" ""fms"" ""backendPort"" ""fms"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""ims"" ""backendServiceType"" ""ims"" ""backendPort"" ""ims"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""rms"" ""backendServiceType"" ""rms"" ""backendPort"" ""rms"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""rds"" ""backendServiceType"" ""rds"" ""backendPort"" ""rds"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""uuid"" ""backendServiceType"" ""uuid"" ""backendPort"" ""uuid"" -}}{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""audit"" ""backendServiceType"" ""audit"" ""backendPort"" ""audit"" -}}",7,7
openstack%2Frpm-packaging~master~I2cc63d9c872dcd35fa9821f2538fbb7f3765d139,openstack/rpm-packaging,master,I2cc63d9c872dcd35fa9821f2538fbb7f3765d139,openstack-macros: patch level update for changes to be reflected,MERGED,2018-10-26 08:21:45.000000000,2018-10-26 16:50:09.000000000,2018-10-26 16:50:09.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-26 08:21:45.000000000', 'files': ['openstack/openstack-macros/openstack-macros.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d33841a074bcbaf10fa87c7415b63b15950c9362', 'message': 'openstack-macros: patch level update for changes to be reflected\n\nthis will help the latest changes related to epoch get delivered\n\nChange-Id: I2cc63d9c872dcd35fa9821f2538fbb7f3765d139\n'}]",0,613525,d33841a074bcbaf10fa87c7415b63b15950c9362,10,5,1,23735,,,0,"openstack-macros: patch level update for changes to be reflected

this will help the latest changes related to epoch get delivered

Change-Id: I2cc63d9c872dcd35fa9821f2538fbb7f3765d139
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/613525/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/openstack-macros.spec.j2'],1,d33841a074bcbaf10fa87c7415b63b15950c9362,,Version: 2018.2.1,Version: 2018.2.0,1,1
openstack%2Fkuryr-kubernetes~master~Ied892e616075ce16fdc15ceb31219c100e011536,openstack/kuryr-kubernetes,master,Ied892e616075ce16fdc15ceb31219c100e011536,Ensure namespace and network policy compatibility,MERGED,2018-10-18 13:36:06.000000000,2018-10-26 16:48:18.000000000,2018-10-26 16:48:18.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-18 13:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3e635d72c63fdfeb2d979534927e42a8304a973a', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 2, 'created': '2018-10-18 15:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a6387f741e4cd213b5814c7ead44113aa05be26a', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 3, 'created': '2018-10-23 15:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/979b2099a189d9f5bf6689cef1767d6d463f4578', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nPartially Implements: blueprint k8s-network-policies\nCloses-Bug: #1799496\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 4, 'created': '2018-10-24 13:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dbcae3b539d01931c0aa98b1d7fdd77e0c971cb6', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nPartially Implements: blueprint k8s-network-policies\nCloses-Bug: #1799496\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 5, 'created': '2018-10-24 15:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/15d8558957f0af869fb564e23713728ca54bc7e0', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nPartially Implements: blueprint k8s-network-policies\nCloses-Bug: #1799496\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 6, 'created': '2018-10-25 10:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/037f70b957cda405a59e85c872674d485e194e03', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nPartially Implements: blueprint k8s-network-policies\nCloses-Bug: #1799496\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}, {'number': 7, 'created': '2018-10-25 12:18:39.000000000', 'files': ['kuryr_kubernetes/controller/drivers/base.py', 'devstack/plugin.sh', 'kuryr_kubernetes/controller/drivers/default_security_groups.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/651da66af1191053a96b283aa6d890fd8488438d', 'message': 'Ensure namespace and network policy compatibility\n\nThis patch ensures namespace handler does not depend on specific\nfunctions implemented on the security group driver for the namespace\nisolation. This way it will be possible to enable the namespace\nhandler (to create a different network per namespace) together with\nthe network policy that will perform the isolation between pods/svc\nin a different way.\n\nPartially Implements: blueprint k8s-network-policies\nCloses-Bug: #1799496\nChange-Id: Ied892e616075ce16fdc15ceb31219c100e011536\n'}]",22,611606,651da66af1191053a96b283aa6d890fd8488438d,41,6,7,23567,,,0,"Ensure namespace and network policy compatibility

This patch ensures namespace handler does not depend on specific
functions implemented on the security group driver for the namespace
isolation. This way it will be possible to enable the namespace
handler (to create a different network per namespace) together with
the network policy that will perform the isolation between pods/svc
in a different way.

Partially Implements: blueprint k8s-network-policies
Closes-Bug: #1799496
Change-Id: Ied892e616075ce16fdc15ceb31219c100e011536
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/611606/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,3e635d72c63fdfeb2d979534927e42a8304a973a,bug/1799496," except NotImplementedError: LOG.debug(""The security group driver configured does not have "" ""the function to create a security group for the "" ""namespace, so namespace isolation will not be "" ""enforced."") try: self._drv_sg.delete_sg(net_crd['spec']['sgId']) except NotImplementedError: LOG.debug(""The security group driver configured does not have "" ""the function to delete a security group for the "" ""namespace, so there is no security group to be "" ""deleted"")", self._drv_sg.delete_sg(net_crd['spec']['sgId']),12,1
openstack%2Frpm-packaging~master~Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98,openstack/rpm-packaging,master,Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98,Add oslo.upgradecheck,MERGED,2018-10-25 13:14:01.000000000,2018-10-26 16:46:31.000000000,2018-10-26 16:46:31.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-25 13:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a578d21a59d09b4b7c0141422d50f184c34fd590', 'message': 'Add oslo.upgradecheck\n\nChange-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98\n'}, {'number': 2, 'created': '2018-10-25 14:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0c59262962fe9e2c7e135380b36a66538d714ba3', 'message': 'Add oslo.upgradecheck\n\nChange-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98\n'}, {'number': 3, 'created': '2018-10-25 14:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/772156ba3426a1ef837d41e47189adb2ee36a43f', 'message': 'Add oslo.upgradecheck\n\nChange-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98\n'}, {'number': 4, 'created': '2018-10-26 09:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c5ae3fd0aefb2165f94d7ec60b2d736f904eb388', 'message': 'Add oslo.upgradecheck\n\nChange-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98\n'}, {'number': 5, 'created': '2018-10-26 12:23:45.000000000', 'files': ['openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30f21028cfecfc6a679796fe771c19a73ed7c1fc', 'message': 'Add oslo.upgradecheck\n\nChange-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98\n'}]",1,613322,30f21028cfecfc6a679796fe771c19a73ed7c1fc,23,5,5,23735,,,0,"Add oslo.upgradecheck

Change-Id: Ieec0be4662899ef2a2d8a04f08f5aa3d62681f98
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/613322/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2'],1,a578d21a59d09b4b7c0141422d50f184c34fd590,,"{% set pypi_name = 'oslo.upgradecheck' %} {% set upstream_version = upstream_version('0.1.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Epoch: {{ epoch( pypi_name ) }} Summary: Common code for writing OpenStack upgrade checks License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('Babel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('PrettyTable') }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: fdupes Requires: {{ py2pkg('Babel', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PrettyTable') }} BuildArch: noarch %ifpython2 BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages %description This project contains the common code necessary for writing upgrade checks in OpenStack projects. It includes a module (oslo_upgradecheck.upgradecheck) for the common code as well as an example (oslo_upgradecheck.__main__) of integrating that code into a project. %package -n python-{{ pypi_name }}-doc Summary: Common code for writing OpenStack upgrade checks BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} %description -n python-{{ pypi_name }}-doc Documentation for the {{ pypi_name }} library. %prep %autosetup -p1 -n {{ pypi_name }}-{{ upstream_version }} %py_req_cleanup sed -i 's/^warning-is-error.*/warning-is-error = 0/g' setup.cfg %build %{python_build} PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html # remove the sphinx-build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %fdupes doc/build/html/ %install %{python_install} %check %{python_expand rm -rf .testrepository # set this so that the variable can be passed to a subprocess.call export PYTHONPATH=`pwd` %python_exec -m stestr.cli run } %files %{python_files} %defattr(-,root,root,-) %license LICENSE %{python_sitelib}/oslo_upgradecheck %{python_sitelib}/*.egg-info %files -n python-{{ pypi_name }}-doc %doc doc/build/html README.rst %license LICENSE %changelog ",,91,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Frocky~I1ae15cabb5df513c7660825404327b8628b9ba2e,openstack/openstack-ansible-os_gnocchi,stable/rocky,I1ae15cabb5df513c7660825404327b8628b9ba2e,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:46:15.000000000,2018-10-26 16:35:26.000000000,2018-10-26 16:35:26.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:46:15.000000000', 'files': ['tests/host_vars/openstack2.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/12e00ef783121eeb4e68173434a642635481403b', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I1ae15cabb5df513c7660825404327b8628b9ba2e\n(cherry picked from commit a50476d6de74e6089985701e30f013b1b198de22)\n'}]",0,612930,12e00ef783121eeb4e68173434a642635481403b,13,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I1ae15cabb5df513c7660825404327b8628b9ba2e
(cherry picked from commit a50476d6de74e6089985701e30f013b1b198de22)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/30/612930/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/openstack2.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",4,12e00ef783121eeb4e68173434a642635481403b,container_name_host_var-stable/rocky,container_name: openstack1,,3,1
openstack%2Fnova~master~I2dcc2fc1a16cc5dcba7879518a2b101df3576304,openstack/nova,master,I2dcc2fc1a16cc5dcba7879518a2b101df3576304,Add API ref guideline for examples,MERGED,2018-09-20 11:22:15.000000000,2018-10-26 16:30:58.000000000,2018-10-26 16:30:58.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 28885}]","[{'number': 1, 'created': '2018-09-20 11:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75bd5f5e7594131e0a11f43dfa6fbc417d87fb9f', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}, {'number': 2, 'created': '2018-09-21 07:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0768f4b48a629da274f243163e9411d867bfedaa', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}, {'number': 3, 'created': '2018-10-04 23:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2090bb23ae287eae25e2d4f55d48380269e0a8ed', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}, {'number': 4, 'created': '2018-10-17 22:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/647b77220535e2fe2034bdbfab7bd8a03b1ee652', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}, {'number': 5, 'created': '2018-10-22 02:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/985672c6b0fec1b4150010e9cdfdd58f70c9790c', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}, {'number': 6, 'created': '2018-10-25 07:46:48.000000000', 'files': ['doc/source/contributor/api-ref-guideline.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ad33f35a485d756b8976f100cfdadad9163b922', 'message': 'Add API ref guideline for examples\n\nAdd guideline for JSON request/response body examples\nin the API reference.\n\nChange-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304\n'}]",5,604060,8ad33f35a485d756b8976f100cfdadad9163b922,67,17,6,7634,,,0,"Add API ref guideline for examples

Add guideline for JSON request/response body examples
in the API reference.

Change-Id: I2dcc2fc1a16cc5dcba7879518a2b101df3576304
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/604060/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api-ref-guideline.rst'],1,75bd5f5e7594131e0a11f43dfa6fbc417d87fb9f,example_guideline,"All request and response have valid sample files. These come from the ``/doc/api_samples/`` directory. The examples must have an explanation of what it is attempting to do or an expression of what was done and then the request returned. When a response has no JSON context and relies on the HTTP response code (e.g. such as a DELETE), a suitable message should be included. For example:: There is no body content for the response of a successful DELETE query. The examples of multiple microversions can be included. The order of examples has to be in ascending order.",.. TODO:: The guideline for request/response JSON bodies should be added.,11,2
openstack%2Fnova~master~I709b4a1438aedcfc95d191462b4ec3f1f8c4355a,openstack/nova,master,I709b4a1438aedcfc95d191462b4ec3f1f8c4355a,Bump os-brick version to 2.6.1,MERGED,2018-10-16 17:35:57.000000000,2018-10-26 16:30:50.000000000,2018-10-26 16:30:50.000000000,"[{'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-16 17:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b644c6a6ea5aa3ce133ffc258ebe8628b1b1609a', 'message': 'Bump os-brick version to 2.6.1\n\nThis will get us bug fixes for gate bug:\n\n  https://bugs.launchpad.net/nova/+bug/1732199\n\nand another bug that looks like it could affect the gate:\n\n  https://bugs.launchpad.net/os-brick/+bug/1794829\n\nCloses-Bug: #1732199\n\nChange-Id: I709b4a1438aedcfc95d191462b4ec3f1f8c4355a\n'}, {'number': 2, 'created': '2018-10-16 20:30:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/37d046c511b418835cbd26c71cff7026c29f8dd3', 'message': 'Bump os-brick version to 2.6.1\n\nThis will get us bug fixes for gate bug:\n\n  https://bugs.launchpad.net/nova/+bug/1732199\n\nand another bug that looks like it could affect the gate:\n\n  https://bugs.launchpad.net/os-brick/+bug/1794829\n\nCloses-Bug: #1732199\n\nChange-Id: I709b4a1438aedcfc95d191462b4ec3f1f8c4355a\n'}]",0,611109,37d046c511b418835cbd26c71cff7026c29f8dd3,29,15,2,4690,,,0,"Bump os-brick version to 2.6.1

This will get us bug fixes for gate bug:

  https://bugs.launchpad.net/nova/+bug/1732199

and another bug that looks like it could affect the gate:

  https://bugs.launchpad.net/os-brick/+bug/1794829

Closes-Bug: #1732199

Change-Id: I709b4a1438aedcfc95d191462b4ec3f1f8c4355a
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/611109/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b644c6a6ea5aa3ce133ffc258ebe8628b1b1609a,bug/1732199,os-brick>=2.6.1 # Apache-2.0,os-brick>=2.5.0 # Apache-2.0,1,1
openstack%2Fpython-novaclient~master~Ibcfb071fcc3c74535b800295ec95ca5ec8bc3c9b,openstack/python-novaclient,master,Ibcfb071fcc3c74535b800295ec95ca5ec8bc3c9b,Fixes Python3 issue in decoding password,MERGED,2018-09-24 18:29:38.000000000,2018-10-26 16:18:22.000000000,2018-10-26 16:18:22.000000000,"[{'_account_id': 679}, {'_account_id': 3185}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9610}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 18:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/12bca19b577243a230e779c754a34b0b714a17ef', 'message': 'Fixes Python3 issue in decoding password\n\nChange-Id: Ibcfb071fcc3c74535b800295ec95ca5ec8bc3c9b\nCloses-Bug: #1794167\n'}, {'number': 2, 'created': '2018-10-26 02:06:47.000000000', 'files': ['novaclient/crypto.py', 'novaclient/tests/unit/test_crypto.py', 'novaclient/tests/unit/v2/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3a8d09ec770a56d6ff8589b32152a3e9ceca9b64', 'message': ""Fixes Python3 issue in decoding password\n\nThe 'nova get-password' command shows a passowrd as bytes\ninstead of string in Python 3 currently.\nIt should be shown as string.\nSo fix it.\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: Ibcfb071fcc3c74535b800295ec95ca5ec8bc3c9b\nCloses-Bug: #1794167\n""}]",2,604870,3a8d09ec770a56d6ff8589b32152a3e9ceca9b64,17,7,2,3185,,,0,"Fixes Python3 issue in decoding password

The 'nova get-password' command shows a passowrd as bytes
instead of string in Python 3 currently.
It should be shown as string.
So fix it.

Co-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>
Change-Id: Ibcfb071fcc3c74535b800295ec95ca5ec8bc3c9b
Closes-Bug: #1794167
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/70/604870/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/crypto.py'],1,12bca19b577243a230e779c754a34b0b714a17ef,bug/1794167, return out.decode(), return out,1,1
openstack%2Fldappool~master~I9ef10432229aaffe4ac9bd733d608098cdae3b9a,openstack/ldappool,master,I9ef10432229aaffe4ac9bd733d608098cdae3b9a,PY3: switch to using unicode text values,MERGED,2018-10-17 17:44:43.000000000,2018-10-26 16:08:51.000000000,2018-10-26 16:08:51.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 17:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/ace09b1a72e2b80e82d3c0d800e2a2752999b45c', 'message': 'py3 ldap does not allow bytes for DN/RDN/field names\n\nIn Python 3, python-ldap does not allow bytes for DN/RDN/field\nnames. Update ldappool to adhere to this behavior.\n\nMore details about byte/str usage in python-ldap can be found at:\nhttp://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode\n\nChange-Id: I9ef10432229aaffe4ac9bd733d608098cdae3b9a\nPartial-Bug: #1798184\n'}, {'number': 2, 'created': '2018-10-19 13:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/a55cc02045b305ac1d653a56c0405b04f95120fb', 'message': 'PY3: switch to using unicode text values\n\nIn Python 3, python-ldap no longer allows bytes for DN/RDN/field\nnames. Instead, text values are represented as str, the Unicode\ntext type.\n\nThis patch updates the keystone LDAP backend to adhere to this\nbehavior.\n\nMore details about byte/str usage in python-ldap can be found at:\nhttp://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode\n\nChange-Id: I9ef10432229aaffe4ac9bd733d608098cdae3b9a\nPartial-Bug: #1798184\n'}, {'number': 3, 'created': '2018-10-19 13:53:57.000000000', 'files': ['ldappool/__init__.py'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/7734b7f45d61a22ebc0ce204304486b7484d697a', 'message': 'PY3: switch to using unicode text values\n\nIn Python 3, python-ldap no longer allows bytes for DN/RDN/field\nnames. Instead, text values are represented as str, the Unicode\ntext type.\n\nThis patch updates the code to adhere to this behavior.\n\nMore details about byte/str usage in python-ldap can be found at:\nhttp://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode\n\nChange-Id: I9ef10432229aaffe4ac9bd733d608098cdae3b9a\nPartial-Bug: #1798184\n'}]",0,611401,7734b7f45d61a22ebc0ce204304486b7484d697a,11,3,3,11805,,,0,"PY3: switch to using unicode text values

In Python 3, python-ldap no longer allows bytes for DN/RDN/field
names. Instead, text values are represented as str, the Unicode
text type.

This patch updates the code to adhere to this behavior.

More details about byte/str usage in python-ldap can be found at:
http://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode

Change-Id: I9ef10432229aaffe4ac9bd733d608098cdae3b9a
Partial-Bug: #1798184
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/01/611401/1 && git format-patch -1 --stdout FETCH_HEAD,['ldappool/__init__.py'],1,ace09b1a72e2b80e82d3c0d800e2a2752999b45c,bug/1798184,from six import PY2 if PY2: passwd = utf8_encode(passwd) if PY2: passwd = utf8_encode(passwd), passwd = utf8_encode(passwd) passwd = utf8_encode(passwd),5,2
openstack%2Fnetworking-ovn~master~I90dcc26a56d751768f7bf53fb811968f70ab75ff,openstack/networking-ovn,master,I90dcc26a56d751768f7bf53fb811968f70ab75ff,Replace Chinese quotes with English quotes,MERGED,2018-10-02 06:20:28.000000000,2018-10-26 16:02:33.000000000,2018-10-26 16:02:33.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 06:20:28.000000000', 'files': ['doc/source/install/migration.rst', 'doc/source/contributor/design/metadata_api.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0db70c422fa47b23549614ab3a1faefe01fd74aa', 'message': 'Replace Chinese quotes with English quotes\n\nChange-Id: I90dcc26a56d751768f7bf53fb811968f70ab75ff\n'}]",0,607102,0db70c422fa47b23549614ab3a1faefe01fd74aa,7,2,1,25747,,,0,"Replace Chinese quotes with English quotes

Change-Id: I90dcc26a56d751768f7bf53fb811968f70ab75ff
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/607102/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/migration.rst', 'doc/source/contributor/design/metadata_api.rst']",2,0db70c422fa47b23549614ab3a1faefe01fd74aa,,namespace. The DHCP namespace can be used when there's no router connected toWe've been building some features useful to OpenStack directly into OVN. DHCP and DNS are key examples of things we've replaced by building them into,namespace. The DHCP namespace can be used when there’s no router connected toWe’ve been building some features useful to OpenStack directly into OVN. DHCP and DNS are key examples of things we’ve replaced by building them into,4,4
openstack%2Fopenstack-ansible-os_congress~stable%2Frocky~If2a401e444df982c3cd79a3f2d591438f3582c2a,openstack/openstack-ansible-os_congress,stable/rocky,If2a401e444df982c3cd79a3f2d591438f3582c2a,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:45:17.000000000,2018-10-26 15:59:11.000000000,2018-10-26 15:59:11.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:45:17.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/congress1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/e0dc04aaff789875c48309ce979d7d148bd99c0a', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: If2a401e444df982c3cd79a3f2d591438f3582c2a\n(cherry picked from commit 934727a3e05db6dacb656a461fe9be9054c3a753)\n'}]",0,612927,e0dc04aaff789875c48309ce979d7d148bd99c0a,13,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: If2a401e444df982c3cd79a3f2d591438f3582c2a
(cherry picked from commit 934727a3e05db6dacb656a461fe9be9054c3a753)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/27/612927/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/congress1.yml']",4,e0dc04aaff789875c48309ce979d7d148bd99c0a,container_name_host_var-stable/rocky,container_name: congress1,,3,1
openstack%2Fpython-tripleoclient~master~Iadb7cc9ba3b62a0221109b1dacf2d764944f691a,openstack/python-tripleoclient,master,Iadb7cc9ba3b62a0221109b1dacf2d764944f691a,Increase the deploy_plan timeout in tripleoclient,MERGED,2018-10-12 10:01:55.000000000,2018-10-26 15:57:46.000000000,2018-10-13 05:52:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7385}, {'_account_id': 9712}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-12 10:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c609a2a400cad44d0815b0e3cf41f5b2340f73b8', 'message': 'Increase the deploy_plan timeout in tripleoclient\n\nThe time for the deploy workflow to complete has been creeping up, and\nit is getting close to the 6 minute timeout in the client. This bumps\nthe timeout to 10 minutes.\n\nChange-Id: Iadb7cc9ba3b62a0221109b1dacf2d764944f691a\nRelated-Bug: #1789680\n'}, {'number': 2, 'created': '2018-10-12 10:04:22.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f716d8f66640c8ff89929843884dfb9638a96bb', 'message': 'Increase the deploy_plan timeout in tripleoclient\n\nThe time for the deploy workflow to complete has been creeping up, and\nit is getting close to the 6 minute timeout in the client. This bumps\nthe timeout to 10 minutes.\n\nChange-Id: Iadb7cc9ba3b62a0221109b1dacf2d764944f691a\nRelated-Bug: #1789680\n'}]",7,609993,9f716d8f66640c8ff89929843884dfb9638a96bb,20,9,2,9712,,,0,"Increase the deploy_plan timeout in tripleoclient

The time for the deploy workflow to complete has been creeping up, and
it is getting close to the 6 minute timeout in the client. This bumps
the timeout to 10 minutes.

Change-Id: Iadb7cc9ba3b62a0221109b1dacf2d764944f691a
Related-Bug: #1789680
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/609993/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,c609a2a400cad44d0815b0e3cf41f5b2340f73b8,bug/1789680, 600):, 360):,1,1
openstack%2Fopenstack-ansible-os_watcher~stable%2Frocky~Iab5c434cd40b909b8b43f52cd9f50cae83c1c715,openstack/openstack-ansible-os_watcher,stable/rocky,Iab5c434cd40b909b8b43f52cd9f50cae83c1c715,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:33:27.000000000,2018-10-26 15:48:30.000000000,2018-10-26 15:48:30.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:33:27.000000000', 'files': ['tests/inventory', 'tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/26b3188db960c75b4f3471dcf91ba42ba55ccba4', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Iab5c434cd40b909b8b43f52cd9f50cae83c1c715\n(cherry picked from commit 0aed681fb8974c3575e9a645e2731088940ddca1)\n'}]",0,612899,26b3188db960c75b4f3471dcf91ba42ba55ccba4,13,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Iab5c434cd40b909b8b43f52cd9f50cae83c1c715
(cherry picked from commit 0aed681fb8974c3575e9a645e2731088940ddca1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/99/612899/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'tests/group_vars/all_containers.yml']",2,26b3188db960c75b4f3471dcf91ba42ba55ccba4,container_name_host_var-stable/rocky,,"container_name: ""{{ inventory_hostname }}""",2,3
openstack%2Fnetworking-ovn~master~I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c,openstack/networking-ovn,master,I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c,DNM: Enable macspoofing tempest test,ABANDONED,2017-10-27 15:41:36.000000000,2018-10-26 15:48:04.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-10-27 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b3d8b22998572e714317a66c4f92128125b96d6b', 'message': 'DNM: Enable macspoofing tempest test\n\nThis test was disabled because it expects dhcp interface to be\npresent. Now that we have metadata enabled by default it should\npass.\n\nChange-Id: I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c\n'}, {'number': 2, 'created': '2017-10-30 11:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/adc48c9ae72b60860167cbaebf5234e87864b8ae', 'message': ""DNM: Enable macspoofing tempest test\n\nThis test was disabled because it expects dhcp interface to be\npresent. Now that we have metadata enabled by default it should\npass.\n\nAlso execute those tests marked as 'slow' to check if this test\npasses.\n\nChange-Id: I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c\n""}, {'number': 3, 'created': '2017-10-30 15:06:51.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4e813960a4327d038e0f885e68a54f2cf144aebf', 'message': ""DNM: Enable macspoofing tempest test\n\nThis test was disabled because it expects dhcp interface to be\npresent. Now that we have metadata enabled by default it should\npass.\n\nAlso execute those tests marked as 'slow' to check if this test\npasses.\n\nChange-Id: I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c\n""}]",2,515747,4e813960a4327d038e0f885e68a54f2cf144aebf,10,3,3,23804,,,0,"DNM: Enable macspoofing tempest test

This test was disabled because it expects dhcp interface to be
present. Now that we have metadata enabled by default it should
pass.

Also execute those tests marked as 'slow' to check if this test
passes.

Change-Id: I3c2279c93b5aea8bec389b1ca5bed6c3f0fe590c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/47/515747/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,b3d8b22998572e714317a66c4f92128125b96d6b,tempest_macspoofing,,"# exclude this test case because this expects dhcp interface to be present r=""$r|(?:tempest\.scenario\.test_network_basic_ops\.TestNetworkBasicOps\.test_port_security_macspoofing_port)"" ",0,3
openstack%2Fnetworking-ovn~master~I1597b5a6e52a56f8503adbe6cdc9de55032a246d,openstack/networking-ovn,master,I1597b5a6e52a56f8503adbe6cdc9de55032a246d,DNM: Run tempest slow tests,ABANDONED,2017-10-31 13:39:07.000000000,2018-10-26 15:47:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-10-31 13:39:07.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eba2844b55d9ceba8a7e3089d975bbcbd610d2cd', 'message': ""DNM: Run tempest slow tests\n\nWe want to see where we are with tempest tests to be able to enable\ncertain tests tagged as 'slow' instead of disabling all of them by\ndefault.\n\nChange-Id: I1597b5a6e52a56f8503adbe6cdc9de55032a246d\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",0,516681,eba2844b55d9ceba8a7e3089d975bbcbd610d2cd,5,2,1,23804,,,0,"DNM: Run tempest slow tests

We want to see where we are with tempest tests to be able to enable
certain tests tagged as 'slow' instead of disabling all of them by
default.

Change-Id: I1597b5a6e52a56f8503adbe6cdc9de55032a246d
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/81/516681/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,eba2844b55d9ceba8a7e3089d975bbcbd610d2cd,tempest_slow,"# exclude the <F12>slow tag (part of the default for 'full') # r=""$r(?:.*\[.*\bslow\b.*\])""r=""$r(?:tempest\.scenario\.test_network_v6.*)""","# exclude the slow tag (part of the default for 'full') r=""$r(?:.*\[.*\bslow\b.*\])""r=""$r|(?:tempest\.scenario\.test_network_v6.*)""",3,3
openstack%2Fnetworking-ovn~master~Ic25fe19e8cd11235a53d3b0b6c4ba508ee709b47,openstack/networking-ovn,master,Ic25fe19e8cd11235a53d3b0b6c4ba508ee709b47,DNM: Debugging why we receive 2 port binding messages from OVSDB,ABANDONED,2018-06-05 10:52:58.000000000,2018-10-26 15:47:29.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-05 10:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ca7de319709c826cde62af73ef7cd00d3536725e', 'message': 'DNM: Debugging why we receive 2 port binding messages from OVSDB\n\nChange-Id: Ic25fe19e8cd11235a53d3b0b6c4ba508ee709b47\n'}, {'number': 2, 'created': '2018-06-06 08:28:44.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b7b84014aa122db701edf9de0df60aed826c223', 'message': 'DNM: Debugging why we receive 2 port binding messages from OVSDB\n\nChange-Id: Ic25fe19e8cd11235a53d3b0b6c4ba508ee709b47\n'}]",0,572338,7b7b84014aa122db701edf9de0df60aed826c223,5,2,2,23804,,,0,"DNM: Debugging why we receive 2 port binding messages from OVSDB

Change-Id: Ic25fe19e8cd11235a53d3b0b6c4ba508ee709b47
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/572338/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,ca7de319709c826cde62af73ef7cd00d3536725e,debug," LOG.info(""[***] Row: %s"", row._row)",,1,0
openstack%2Fnetworking-ovn~master~I6df6ae9507dc7361cb7be770919642e64fc899a8,openstack/networking-ovn,master,I6df6ae9507dc7361cb7be770919642e64fc899a8,DNM: Test bug FIP,ABANDONED,2018-09-12 23:49:23.000000000,2018-10-26 15:47:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-12 23:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3031e129e085947b9d89145843f0a0f55f70c3ed', 'message': 'DNM: Test bug FIP\n\nChange-Id: I6df6ae9507dc7361cb7be770919642e64fc899a8\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-09-12 23:51:06.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/611e7677fe98d20affcb139709cd8b1b8a3b7a35', 'message': 'DNM: Test bug FIP\n\nChange-Id: I6df6ae9507dc7361cb7be770919642e64fc899a8\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,602209,611e7677fe98d20affcb139709cd8b1b8a3b7a35,4,1,2,23804,,,0,"DNM: Test bug FIP

Change-Id: I6df6ae9507dc7361cb7be770919642e64fc899a8
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/09/602209/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/maintenance.py']",2,3031e129e085947b9d89145843f0a0f55f70c3ed,,"DB_CONSISTENCY_CHECK_INTERVAL = 20 # 5 minutes LOG.debug(""XXX create_update inconsist %s"", row) LOG.debug(""XXX delete inconsist %s"", row)","DB_CONSISTENCY_CHECK_INTERVAL = 300 # 5 minutes try: # NOTE(lucasagomes): The way to fix subnets is bit # different than other resources. A subnet in OVN language # is just a DHCP rule but, this rule only exist if the # subnet in Neutron has the ""enable_dhcp"" attribute set # to True. So, it's possible to have a consistent subnet # resource even when it does not exist in the OVN database. if row.resource_type == ovn_const.TYPE_SUBNETS: self._fix_create_update_subnet(row) else: self._fix_create_update(row) except Exception: LOG.exception('Failed to fix resource %(res_uuid)s ' '(type: %(res_type)s)', {'res_uuid': row.resource_uuid, 'res_type': row.resource_type}) try: if row.resource_type == ovn_const.TYPE_SUBNETS: self._ovn_client.delete_subnet(row.resource_uuid) else: self._fix_delete(row) except Exception: LOG.exception('Failed to fix deleted resource %(res_uuid)s ' '(type: %(res_type)s)', {'res_uuid': row.resource_uuid, 'res_type': row.resource_type})",17,28
openstack%2Fnetworking-ovn~master~I4a1cac691c3bd47f061a1a4e325cc649b9d5a619,openstack/networking-ovn,master,I4a1cac691c3bd47f061a1a4e325cc649b9d5a619,DNM: More debug traces for bug 1735154,ABANDONED,2018-09-18 10:37:29.000000000,2018-10-26 15:47:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-18 10:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/90d192883b48d92caff6870a8a69ee23b89fd21b', 'message': 'DNM: More debug traces for bug 1735154\n\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nRelated-Bug: 1735154\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-09-18 10:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee443139f3325edb2aebbd337e84f06ad90f88c2', 'message': 'DNM: More debug traces for bug 1735154\n\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nRelated-Bug: 1735154\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2018-09-18 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9431a0bbec86029c8f3e5b480f5275b508fc0cc4', 'message': 'DNM: More debug traces for bug 1735154\n\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nRelated-Bug: 1735154\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 4, 'created': '2018-09-18 15:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae91c8a4749a5d1831e280cc78f7ea80c3efc14b', 'message': 'DNM: More debug traces for bug 1735154\n\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nRelated-Bug: 1735154\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 5, 'created': '2018-09-20 12:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e850a08746cd9bdb3324bd585122095328b7973a', 'message': 'DNM: More debug traces for bug 1735154\n\nDepends-On: I884e7973d05434d798e0aeaa0f1f826905a8113e\nRelated-Bug: 1735154\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 6, 'created': '2018-09-21 15:49:44.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/14f2ed4339125350bb2313a623fc39ada3397185', 'message': 'DNM: More debug traces for bug 1735154\n\nDepends-On: I884e7973d05434d798e0aeaa0f1f826905a8113e\nRelated-Bug: 1735154\nChange-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,603354,14f2ed4339125350bb2313a623fc39ada3397185,24,2,6,23804,,,0,"DNM: More debug traces for bug 1735154

Depends-On: I884e7973d05434d798e0aeaa0f1f826905a8113e
Related-Bug: 1735154
Change-Id: I4a1cac691c3bd47f061a1a4e325cc649b9d5a619
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/54/603354/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,90d192883b48d92caff6870a8a69ee23b89fd21b,bug/1735154," LOG.debug(""XXX add_external_gateway = %s"", add_external_gateway) LOG.debug(""XXX networks = %s"", networks) LOG.debug(""XXX ext gw info = %s"", router.get(l3.EXTERNAL_GW_INFO)) if router.get(l3.EXTERNAL_GW_INFO) and networks is not None: LOG.debug(""XXX adding ext gw to router %s"", lrouter_name)", if router.get(l3.EXTERNAL_GW_INFO) and networks is not None:,5,0
openstack%2Fnetworking-ovn~master~I93b53f83b956a4b6bc02b32a6f509a25b53a7aea,openstack/networking-ovn,master,I93b53f83b956a4b6bc02b32a6f509a25b53a7aea,DNM: Test OVS 2.9 with Port Groups backport,ABANDONED,2018-08-24 10:00:49.000000000,2018-10-26 15:47:06.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-24 10:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d0e5a4b71d2ec60911132a95d9d0e6e972b27cbe', 'message': 'DNM: Test OVS 2.9 with Port Groups backport\n\nChange-Id: I93b53f83b956a4b6bc02b32a6f509a25b53a7aea\n'}, {'number': 2, 'created': '2018-08-24 12:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/29fd7b0a12d738487cea226302e6eadc4ddecb9d', 'message': 'DNM: Test OVS 2.9 with Port Groups backport\n\nThis patch disables OVN metadata service as well to be able to compare\nrally results against ML2/OVS since OVN metadata service creates an\nextra port upon network creation.\n\nChange-Id: I93b53f83b956a4b6bc02b32a6f509a25b53a7aea\n'}, {'number': 3, 'created': '2018-10-16 06:31:01.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/devstackgaterc', 'devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/37dfd7fa64dd6087a798fa5ce6ba381b5859bd89', 'message': 'DNM: Test OVS 2.9 with Port Groups backport\n\nThis patch disables OVN metadata service as well to be able to compare\nrally results against ML2/OVS since OVN metadata service creates an\nextra port upon network creation.\n\nChange-Id: I93b53f83b956a4b6bc02b32a6f509a25b53a7aea\n'}]",0,596271,37dfd7fa64dd6087a798fa5ce6ba381b5859bd89,9,2,3,23804,,,0,"DNM: Test OVS 2.9 with Port Groups backport

This patch disables OVN metadata service as well to be able to compare
rally results against ML2/OVS since OVN metadata service creates an
extra port upon network creation.

Change-Id: I93b53f83b956a4b6bc02b32a6f509a25b53a7aea
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/71/596271/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'devstack/lib/networking-ovn']",2,d0e5a4b71d2ec60911132a95d9d0e6e972b27cbe,,"OVN_REPO=""https://github.com/danalsan/ovs.git""OVN_BRANCH=port_groups",OVN_REPO=${OVN_REPO:-https://github.com/openvswitch/ovs.git}OVN_BRANCH=${OVN_BRANCH:-master},4,5
openstack%2Fneutron~stable%2Focata~Idd0531cedda87224531cb8fb6a912ccd0f1554d5,openstack/neutron,stable/ocata,Idd0531cedda87224531cb8fb6a912ccd0f1554d5,delete_flows shall only touch flows with the bridge cookie,ABANDONED,2018-01-21 10:10:01.000000000,2018-10-26 15:41:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 27530}]","[{'number': 1, 'created': '2018-01-21 10:10:01.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6739a5fc5a427c338dcf998bcb7dcb3199e2337a', 'message': 'delete_flows shall only touch flows with the bridge cookie\n\nWith this change delete_flows will only remove flows matching the default\ncookie of the bridge.\n\nThe uninstall_flows implementation in the native bridge is also modified\nto touch only the flows with the bridge cookie.\n\nTo still allow deletion of all cookies, cookie=COOKIE_ANY is introduced\nas a special value, and used in the agent code in the places where the\nintent is indeed to clean all flows whatever their cookie is.\n\nPartial-Bug: #1739411\n(cherry picked from commit d761d26225a8fc63e512fc26b864a46c0956e19a)\nChange-Id: Idd0531cedda87224531cb8fb6a912ccd0f1554d5\n'}]",2,536095,6739a5fc5a427c338dcf998bcb7dcb3199e2337a,9,7,1,27530,,,0,"delete_flows shall only touch flows with the bridge cookie

With this change delete_flows will only remove flows matching the default
cookie of the bridge.

The uninstall_flows implementation in the native bridge is also modified
to touch only the flows with the bridge cookie.

To still allow deletion of all cookies, cookie=COOKIE_ANY is introduced
as a special value, and used in the agent code in the places where the
intent is indeed to clean all flows whatever their cookie is.

Partial-Bug: #1739411
(cherry picked from commit d761d26225a8fc63e512fc26b864a46c0956e19a)
Change-Id: Idd0531cedda87224531cb8fb6a912ccd0f1554d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/536095/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",8,6739a5fc5a427c338dcf998bcb7dcb3199e2337a,bug/1739411," def test_delete_flows_all(self): self.br.add_flow(in_port=1, actions=""output:2"") self.br.delete_flows(cookie=ovs_lib.COOKIE_ANY) self.assertEqual([], self.br.dump_all_flows()) ",,162,18
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Frocky~Ic23a77d8f88ed890a219c410d37a94bd97037c53,openstack/openstack-ansible-lxc_container_create,stable/rocky,Ic23a77d8f88ed890a219c410d37a94bd97037c53,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:48:03.000000000,2018-10-26 15:36:19.000000000,2018-10-26 15:36:19.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:48:03.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d68acc690552f7caaa81c1ce5274a1c7feb09464', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ic23a77d8f88ed890a219c410d37a94bd97037c53\n(cherry picked from commit 6509751e13f09a6a58f1348101caca5a60280191)\n'}]",0,612935,d68acc690552f7caaa81c1ce5274a1c7feb09464,13,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ic23a77d8f88ed890a219c410d37a94bd97037c53
(cherry picked from commit 6509751e13f09a6a58f1348101caca5a60280191)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/35/612935/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml']",4,d68acc690552f7caaa81c1ce5274a1c7feb09464,container_name_host_var-stable/rocky,container_name: container3,,3,1
openstack%2Ftripleo-heat-templates~master~I474e57878212d2cb7c2b392a5fdf4e449f783a66,openstack/tripleo-heat-templates,master,I474e57878212d2cb7c2b392a5fdf4e449f783a66,Merge new params - nic-config templates,MERGED,2018-09-27 16:43:33.000000000,2018-10-26 15:20:46.000000000,2018-10-26 13:02:34.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 22600}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-09-27 16:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52e178bfa65d647d769b96e2890c0ecc464b7230', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 2, 'created': '2018-09-28 11:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22ad3bca36ddf0f322c4adc30889b4117f28bd60', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 3, 'created': '2018-09-28 13:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c799086e966dbf6c39d77f70c43714fe83180ac7', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 4, 'created': '2018-09-28 16:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e46ba62d9ed3c55746786f5e39903d3cebf770c', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 5, 'created': '2018-10-03 10:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/054168b25f8f40c19adb0c25ac06c883ddf299e9', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 6, 'created': '2018-10-04 09:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eff4e7df124461944b27db93500669968cf66249', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 7, 'created': '2018-10-04 09:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d345dff5c362abe7b1db7c54582e1be546f0523', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 8, 'created': '2018-10-06 10:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c0d0b5c29b4a48e763ebda207e61ee34ebdc334', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 9, 'created': '2018-10-22 22:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/136806ea0d315795e19ec34fc94772b0d795022e', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 10, 'created': '2018-10-22 23:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ffc25d7d362c2e427d99578abb06b6c5940dc21', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}, {'number': 11, 'created': '2018-10-23 18:00:43.000000000', 'files': ['tools/merge-new-params-nic-config-script.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7a359cd0edde7be287340699c2d588ebb53098e', 'message': ""Merge new params - nic-config templates\n\nUtility script to merge new parameters into existing nic-config\ntemplates. Uses process-templates.py rendered 'single-nic-vlans'\ntemplates as reference and appends any parameters that is not\nalready present in the existing NIC template.\n\nNew NIC template parameters were introduced in:\n  https://review.openstack.org/#/c/580236/\n\nWhen upgrading the existing NIC templates have to have these\nnew parameters merged.\n\nChange-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66\n""}]",25,605807,f7a359cd0edde7be287340699c2d588ebb53098e,56,15,11,24245,,,0,"Merge new params - nic-config templates

Utility script to merge new parameters into existing nic-config
templates. Uses process-templates.py rendered 'single-nic-vlans'
templates as reference and appends any parameters that is not
already present in the existing NIC template.

New NIC template parameters were introduced in:
  https://review.openstack.org/#/c/580236/

When upgrading the existing NIC templates have to have these
new parameters merged.

Change-Id: I474e57878212d2cb7c2b392a5fdf4e449f783a66
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/605807/9 && git format-patch -1 --stdout FETCH_HEAD,['tools/merge-new-params-nic-config-script.py'],1,52e178bfa65d647d769b96e2890c0ecc464b7230,merge-new-params-in-nic-config-templates,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import collections import datetime import os import re import shutil import six import subprocess import sys import yaml from tempfile import mkdtemp DEFAULT_THT_DIR = '/usr/share/openstack-tripleo-heat-templates' NIC_CONFIG_REFERENCE = 'single-nic-vlans' def parse_opts(argv): parser = argparse.ArgumentParser( description='Merge new NIC config template parameters into ' 'existing NIC config template.') parser.add_argument('-r', '--roles-data', metavar='ROLES_DATA', help=""Relative path to the roles_data.yaml file."", default=('%s/roles-data.yaml') % DEFAULT_THT_DIR) parser.add_argument('-n', '--network-data', metavar='NETWORK_DATA', help=""Relative path to the network_data.yaml file."", default=('%s/network-data.yaml') % DEFAULT_THT_DIR) parser.add_argument('--role-name', metavar='ROLE-NAME', help=""Name of the role the NIC config is used for."", default='Controller') parser.add_argument('-t', '--template', metavar='TEMPLATE_FILE', help=(""Existing NIC config template to merge "" ""parameter too.""), ) parser.add_argument('--tht-dir', metavar='THT_DIR', help=(""Path to tripleo-heat-templates (THT) "" ""directory""), default=DEFAULT_THT_DIR) parser.add_argument('--discard-comments', metavar='DISCARD_COMMENTS', help=""Discard comments from the template. (The "" ""scripts functions to keep YAML file comments in "" ""place does not work in all schenarios.)"", default=False) opts = parser.parse_args(argv[1:]) return opts # FIXME: This duplicates code from tools/yaml-nic-config-2-script.py, we should # refactor to share the common code def to_commented_yaml(filename): """""" Convert comments into 'comments<num>: ...' YAML """""" out_str = '' last_non_comment_spaces = '' with open(filename, 'r') as f: comment_count = 0 for line in f: # skip blank line if line.isspace(): continue char_count = 0 spaces = '' for char in line: char_count += 1 if char == ' ': spaces += ' ' next elif char == '#': comment_count += 1 comment = line[char_count:-1] last_non_comment_spaces = spaces out_str += ""%scomment%i_%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, len(spaces), comment) break else: last_non_comment_spaces = spaces out_str += line #inline comments check m = re.match("".*:.*#(.*)"", line) if m: comment_count += 1 out_str += ""%s inline_comment%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, m.group(1)) break with open(filename, 'w') as f: f.write(out_str) return out_str # FIXME: This duplicates code from tools/yaml-nic-config-2-script.py, we should # refactor to share the common code def to_normal_yaml(filename): """""" Convert back to normal #commented YAML"""""" with open(filename, 'r') as f: data = f.read() out_str = '' next_line_break = False for line in data.split('\n'): # get_input not supported by run-os-net-config.sh script line = line.replace('get_input: ', '') m = re.match( "" +comment[0-9]+_([0-9]+): '(.*)'.*"", line) #normal comments i = re.match("" +inline_comment[0-9]+: '(.*)'.*"", line) #inline comments if m: if next_line_break: out_str += '\n' next_line_break = False for x in range(0, int(m.group(1))): out_str += "" "" out_str += ""#%s\n"" % m.group(2) elif i: out_str += "" #%s\n"" % i.group(1) next_line_break = False else: if next_line_break: out_str += '\n' out_str += line next_line_break = True if next_line_break: out_str += '\n' with open(filename, 'w') as f: f.write(out_str) return out_str class description(six.text_type): pass # FIXME: Some of this duplicates code from build_endpoint_map.py, we should # refactor to share the common code class TemplateDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) def description_presenter(self, data): if '\n' in data: style = '>' else: style = '""' return self.represent_scalar( yaml.resolver.BaseResolver.DEFAULT_SCALAR_TAG, data, style=style) # FIXME: This duplicates code from tools/yaml-nic-config-2-script.py, we should # refactor to share the common code # We load mappings into OrderedDict to preserve their order class TemplateLoader(yaml.SafeLoader): def construct_mapping(self, node): self.flatten_mapping(node) return collections.OrderedDict(self.construct_pairs(node)) TemplateDumper.add_representer(description, TemplateDumper.description_presenter) TemplateDumper.add_representer(collections.OrderedDict, TemplateDumper.represent_ordered_dict) TemplateLoader.add_constructor(yaml.resolver.BaseResolver.DEFAULT_MAPPING_TAG, TemplateLoader.construct_mapping) # FIXME: This duplicates code from tools/yaml-nic-config-2-script.py, we should # refactor to share the common code def write_template(template, filename=None): with open(filename, 'w') as f: yaml.dump(template, f, TemplateDumper, width=80, default_flow_style=False) def process_templates_and_get_refernce_parameters(): temp_dir = mkdtemp(dir='/tmp') executable = OPTS.tht_dir + '/tools/process-templates.py' cmd = [executable, '--roles-data ' + OPTS.roles_data, '--base_path ' + OPTS.tht_dir, '--network-data ' + OPTS.network_data, '--output-dir ' + temp_dir] child = subprocess.Popen(' '.join(cmd), shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE) out, err = child.communicate() if not child.returncode == 0: raise RuntimeError('Error processing templates: %s' % err) refernce_file = '/'.join([temp_dir, 'network/config', NIC_CONFIG_REFERENCE, OPTS.role_name.lower() + '.yaml']) with open(refernce_file) as reference: reference_template = yaml.safe_load(reference) reference_params = reference_template['parameters'] shutil.rmtree(temp_dir) return reference_params def validate_template(): if not os.path.exists(OPTS.template): raise RuntimeError('Template not provided.') if not os.path.isfile(OPTS.template): raise RuntimeError('Template %s is not a file.') pass def backup_template(): extension = datetime.datetime.now().strftime('%Y%m%d%H%M%S') backup_filename = os.path.realpath(OPTS.template) + '.' + extension if os.path.exists(backup_filename): raise RuntimeError('Backupe file: %s already exists. Aborting!' % backup_filename) shutil.copyfile(OPTS.template, backup_filename) print('The original template was saved as: %s' % backup_filename) def merge_from_processed(reference_params): template = yaml.load(open(OPTS.template).read(), Loader=TemplateLoader) for param in reference_params: if param not in template['parameters']: template['parameters'][param] = reference_params[param] write_template(template, filename=OPTS.template) print('The update template was saved as: %s' % OPTS.template) OPTS = parse_opts(sys.argv) validate_template() backup_template() if not OPTS.discard_comments: to_commented_yaml(OPTS.template) reference_params = process_templates_and_get_refernce_parameters() merge_from_processed(reference_params) if not OPTS.discard_comments: to_normal_yaml(OPTS.template)",,245,0
openstack%2Fnetworking-ovn~master~I1fa13dfbd165f470bfc0b83222bdec36edf70f94,openstack/networking-ovn,master,I1fa13dfbd165f470bfc0b83222bdec36edf70f94,Add support for UDP protocols in Octavia OVN Driver,MERGED,2018-10-05 12:29:08.000000000,2018-10-26 15:16:03.000000000,2018-10-26 15:16:03.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-05 12:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4c47682e1aa8c29405f7ea4a53ad45696cdce808', 'message': 'Add support for UDP protocols in Octavia OVN Driver\n\nThis patch adds support for UDP protocol. It however also introduces\na limitation. Currently OVN flows are configured such that LBs can\nsupport only a single protocol. Therefore, an LB can be configured\nto use only UDP or only TCP.\nThe protocol in the LB is set by the FIRST Listener associated with\nit.\n\nChange-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94\n'}, {'number': 2, 'created': '2018-10-07 04:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6682246e921c43673f1285089e193b8f0ccdb7ca', 'message': 'Add support for UDP protocols in Octavia OVN Driver\n\nThis patch adds support for UDP protocol. It however also introduces\na limitation. Currently OVN flows are configured such that LBs can\nsupport only a single protocol. Therefore, an LB can be configured\nto use only UDP or only TCP.\nThe protocol in the LB is set by the FIRST Listener associated with\nit.\nThis patch allows pools to also have UDP protocol.\nPartial-Bug: #1789157\nChange-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94\n'}, {'number': 3, 'created': '2018-10-08 05:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/99f4aa1bad905a673af2a6b12f480c5dbd77b5f4', 'message': 'Add support for UDP protocols in Octavia OVN Driver\n\nThis patch adds support for UDP protocol. It however also introduces\na limitation. Currently OVN flows are configured such that LBs can\nsupport only a single protocol. Therefore, an LB can be configured\nto use only UDP or only TCP.\nThe protocol in the LB is set by the FIRST Listener associated with\nit.\nThis patch allows pools to also have UDP protocol.\nPartial-Bug: #1789157\nChange-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94\n'}, {'number': 4, 'created': '2018-10-16 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/76f7918f9fd39dc6ca43e2fa86dc811b5808601e', 'message': 'Add support for UDP protocols in Octavia OVN Driver\n\nThis patch adds support for UDP protocol. It however also introduces\na limitation. Currently OVN flows are configured such that LBs can\nsupport only a single protocol. Therefore, an LB can be configured\nto use only UDP or only TCP.\nThe protocol in the LB is set by the FIRST Listener associated with\nit.\nThis patch allows pools to also have UDP protocol.\nPartial-Bug: #1789157\nChange-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94\n'}, {'number': 5, 'created': '2018-10-25 07:13:54.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/032872d93bfbac451f2b983e242f03a77d16d5c9', 'message': 'Add support for UDP protocols in Octavia OVN Driver\n\nThis patch adds support for UDP protocol. It however also introduces\na limitation. Currently OVN flows are configured such that LBs can\nsupport only a single protocol. Therefore, an LB can be configured\nto use only UDP or only TCP.\nThe protocol in the LB is set by the FIRST Listener associated with\nit.\nThis patch allows pools to also have UDP protocol.\nPartial-Bug: #1789157\nChange-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94\n'}]",13,608252,032872d93bfbac451f2b983e242f03a77d16d5c9,38,8,5,17776,,,0,"Add support for UDP protocols in Octavia OVN Driver

This patch adds support for UDP protocol. It however also introduces
a limitation. Currently OVN flows are configured such that LBs can
support only a single protocol. Therefore, an LB can be configured
to use only UDP or only TCP.
The protocol in the LB is set by the FIRST Listener associated with
it.
This patch allows pools to also have UDP protocol.
Partial-Bug: #1789157
Change-Id: I1fa13dfbd165f470bfc0b83222bdec36edf70f94
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/608252/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,4c47682e1aa8c29405f7ea4a53ad45696cdce808,bug/1789157," def _is_listener_in_lb(self, lb): status = [True for key in list(lb.external_ids) if key.startswith(LB_EXT_IDS_LISTENER_PREFIX)] return status def check_lb_protocol(self, lb_id, listener_protocol): ovn_lb = self._find_ovn_lb(lb_id) if not ovn_lb: return False elif not self._is_listener_in_lb(ovn_lb): return True else: return str(listener_protocol).lower() in ovn_lb.protocol if not self._is_listener_in_lb(ovn_lb): commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('protocol', str(listener['protocol']).lower())) ) self.ovn_native_protocols = [constants.PROTOCOL_TCP, constants.PROTOCOL_UDP] if not self._ovn_helper.check_lb_protocol(listener.loadbalancer_id, listener.protocol): msg = _('This loadbalancer does not support %s ' 'protocol') % listener.protocol raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) 'protocol': listener.protocol,", self.ovn_native_protocols = [constants.PROTOCOL_TCP],31,2
openstack%2Fkeystone~master~I8c0190725d0f7297957bbf10fd9d7184e52ff5f3,openstack/keystone,master,I8c0190725d0f7297957bbf10fd9d7184e52ff5f3,Delete administrator federation guide,MERGED,2018-10-25 20:00:07.000000000,2018-10-26 15:12:49.000000000,2018-10-26 15:12:49.000000000,"[{'_account_id': 2903}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 20:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1faffe2359dd3e836aca1bfb91b3644ebbd8f2ff', 'message': 'Delete administrator federation guide\n\nThe federated-identity guide in the admin section is out of date\nrelative to the one in the operator section. It is sort of incoherent\nand the information within it that is valuable is already present in the\nother guide. Delete this guide in favor of just promoting the operator\nguide.\n\nChange-Id: I8c0190725d0f7297957bbf10fd9d7184e52ff5f3\n'}, {'number': 2, 'created': '2018-10-25 20:05:26.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/federated-identity.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/914885fefda269e27d815c52f8134e206222259c', 'message': 'Delete administrator federation guide\n\nThe federated-identity guide in the admin section is out of date\nrelative to the one in the operator section. It is sort of incoherent\nand the information within it that is valuable is already present in the\nother guide. Delete this guide in favor of just promoting the operator\nguide.\n\nRelated-bug: #1793374\n\nChange-Id: I8c0190725d0f7297957bbf10fd9d7184e52ff5f3\n'}]",0,613408,914885fefda269e27d815c52f8134e206222259c,9,4,2,8482,,,0,"Delete administrator federation guide

The federated-identity guide in the admin section is out of date
relative to the one in the operator section. It is sort of incoherent
and the information within it that is valuable is already present in the
other guide. Delete this guide in favor of just promoting the operator
guide.

Related-bug: #1793374

Change-Id: I8c0190725d0f7297957bbf10fd9d7184e52ff5f3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/613408/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/federated-identity.rst']",2,1faffe2359dd3e836aca1bfb91b3644ebbd8f2ff,bug/1793374,,"================== Federated Identity ================== You can use federation for the Identity service (keystone) in two ways: * Supporting keystone as a :abbr:`SP (Service Provider)`: consuming identity assertions issued by an external Identity Provider, such as SAML assertions or OpenID Connect claims. * Supporting keystone as an :abbr:`IdP (Identity Provider)`: fulfilling authentication requests on behalf of Service Providers. .. note:: It is also possible to have one keystone act as an SP that consumes Identity from another keystone acting as an IdP. There is currently support for two major federation protocols: * `SAML <https://en.wikipedia.org/wiki/SAML_2.0>`_ * `OpenID Connect <https://en.wikipedia.org/wiki/OpenID_Connect>`_ .. figure:: figures/keystone-federation.png :width: 100% Keystone federation To enable federation: #. Run keystone under Apache. See `Configure the Apache HTTP server <https://docs.openstack.org/ocata/install-guide-obs/keystone-install.html>`_ for more information. .. note:: Other application servers, such as `nginx <https://www.nginx.com/resources/wiki>`_, have support for federation extensions that may work but are not tested by the community. #. Configure Apache to use a federation capable module. We recommend Shibboleth, see :doc:`the Shibboleth documentation<../advanced-topics/federation/shibboleth>` for more information. .. note:: Another option is ``mod_auth_melon``, see `the mod's github repo <https://github.com/UNINETT/mod_auth_mellon>`_ for more information. #. Configure federation in keystone. .. note:: The external IdP is responsible for authenticating users and communicates the result of authentication to keystone using authentication assertions. Keystone maps these values to keystone user groups and assignments created in keystone. Supporting keystone as a SP ~~~~~~~~~~~~~~~~~~~~~~~~~~~ To have keystone as an SP, you will need to configure keystone to accept assertions from external IdPs. Examples of external IdPs are: * :abbr:`ADFS (Active Directory Federation Services)` * FreeIPA * Tivoli Access Manager * Keystone Configuring federation in keystone ---------------------------------- #. Configure authentication drivers in ``keystone.conf`` by adding the authentication methods to the ``[auth]`` section in ``keystone.conf``. Ensure the names are the same as to the protocol names added via Identity API v3. For example: .. code-block:: ini [auth] methods = external,password,token,saml2,openid .. note:: ``saml2`` and ``openid`` are instances of the ``mapped`` plugin. These must match the name of the of the federation protocol created via the Identity API. The other names in the example are not related to federation. #. Create local keystone groups and assign roles. .. important:: The keystone requires group-based role assignments to authorize federated users. The federation mapping engine maps federated users into local user groups, which are the actors in keystone's role assignments. #. Create an IdP object in keystone. The object must represent the IdP you will use to authenticate end users: .. code:: ini PUT /OS-FEDERATION/identity_providers/{idp_id} More configuration information for IdPs can be found `Register an Identity Provider <https://developer.openstack.org/api-ref/identity/v3-ext/index.html#register-an-identity-provider>`_. #. Add mapping rules: .. code:: ini PUT /OS-FEDERATION/mappings/{mapping_id} More configuration information for mapping rules can be found `Create a mapping <https://developer.openstack.org/api-ref/identity/v3-ext/index.html#create-a-mapping>`_. .. note:: The only keystone API objects that support mapping are groups and users. #. Add a protocol object and specify the mapping ID you want to use with the combination of the IdP and protocol: .. code:: ini PUT /OS-FEDERATION/identity_providers/{idp_id}/protocols/{protocol_id} More configuration information for protocols can be found `Add a protocol and attribute mapping to an identity provider <https://developer.openstack.org/api-ref/identity/v3-ext/index.html#add-a-protocol-and-attribute-mapping-to-an-identity-provider>`_. Performing federated authentication ----------------------------------- #. Authenticate externally and generate an unscoped token in keystone: .. note:: Unlike other authentication methods in keystone, the user does not issue an HTTP POST request with authentication data in the request body. To start federated authentication a user must access the dedicated URL with IdP's and protocol's identifiers stored within a protected URL. The URL has a format of: ``/v3/OS-FEDERATION/identity_providers/{idp_id}/protocols/{protocol_id}/auth``. .. code:: ini GET/POST /OS-FEDERATION/identity_providers/{identity_provider}/protocols/{protocol}/auth #. Determine accessible resources. By using the previously returned token, the user can issue requests to the list projects and domains that are accessible. * List projects a federated user can access: GET /OS-FEDERATION/projects * List domains a federated user can access: GET /OS-FEDERATION/domains .. code:: ini GET /OS-FEDERATION/projects #. Get a scoped token. A federated user can request a scoped token using the unscoped token. A project or domain can be specified by either ID or name. An ID is sufficient to uniquely identify a project or domain. .. code:: ini POST /auth/tokens Supporting keystone as an IdP ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When acting as an IdP, the primary role of keystone is to issue assertions about users owned by keystone. This is done using PySAML2. Configuring federation in keystone ---------------------------------- There are certain settings in ``keystone.conf`` that must be set up, prior to attempting to federate multiple keystone deployments. #. Within ``keystone.conf``, assign values to the ``[saml]`` related fields, for example: .. code:: ini [saml] certfile=/etc/keystone/ssl/certs/ca.pem keyfile=/etc/keystone/ssl/private/cakey.pem idp_entity_id=https://keystone.example.com/v3/OS-FEDERATION/saml2/idp idp_sso_endpoint=https://keystone.example.com/v3/OS-FEDERATION/saml2/sso idp_metadata_path=/etc/keystone/saml2_idp_metadata.xml #. We recommend the following `Organization` configuration options. Ensure these values contain not special characters that may cause problems as part of a URL: .. code:: ini idp_organization_name=example_company idp_organization_display_name=Example Corp. idp_organization_url=example.com #. As with the `Organization` options, the `Contact` options are not necessary, but it is advisable to set these values: .. code:: ini idp_contact_company=example_company idp_contact_name=John idp_contact_surname=Smith idp_contact_email=jsmith@example.com idp_contact_telephone=555-55-5555 idp_contact_type=technical Generate metadata ----------------- Metadata must be exchanged to create a trust between the IdP and the SP. #. Create metadata for your keystone IdP, run the ``keystone-manage`` command and pipe the output to a file. For example: .. code:: console $ keystone-manage saml_idp_metadata > /etc/keystone/saml2_idp_metadata.xml .. note:: The file location must match the value of the ``idp_metadata_path`` configuration option assigned previously. Create a SP ----------- To setup keystone-as-a-Service-Provider properly, you will need to understand what protocols are supported by external IdPs. For example, keystone as an SP can allow identities to federate in from a ADFS IdP but it must be configured to understand the SAML v2.0 protocol. ADFS issues assertions using SAML v2.0. Some examples of federated protocols include: * SAML v2.0 * OpenID Connect The following instructions are an example of how you can configure keystone as an SP. #. Create a new SP with an ID of BETA. #. Create a ``sp_url`` of `<http://beta.example.com/Shibboleth.sso/SAML2/ECP>`_. #. Create a ``auth_url`` of `<http://beta.example.com:5000/v3/OS-FEDERATION/identity_providers/beta/protocols/saml2/auth>`_. .. note:: Use the ``sp_url`` when creating a SAML assertion for BETA and signed by the current keystone IdP. Use the ``auth_url`` when retrieving the token for BETA once the SAML assertion is sent. #. Set the ``enabled`` field to ``true``. It is set to ``false`` by default. #. Your output should reflect the following example: .. code:: console $ curl -s -X PUT \ -H ""X-Auth-Token: $OS_TOKEN"" \ -H ""Content-Type: application/json"" \ -d '{""service_provider"": {""auth_url"": ""http://beta.example.com:5000/v3/OS-FEDERATION/identity_providers/beta/protocols/saml2/auth"", ""sp_url"": ""https://example.com:5000/Shibboleth.sso/SAML2/ECP"", ""enabled"": true}}' \ http://localhost:5000/v3/OS-FEDERATION/service_providers/BETA | python -mjson.tool keystone-to-keystone ~~~~~~~~~~~~~~~~~~~~ Keystone acting as an IdP is known as :abbr:`k2k (keystone-2-keystone)` or k2k federation, where a keystone somewhere is acting as the SP and another keystone is acting as the IdP. All IdPs issue assertions about the identities it owns using a `Protocol`. Mapping rules ~~~~~~~~~~~~~ Mapping adds a set of rules to map federation attributes to keystone users or groups. An IdP has exactly one mapping specified per protocol. A mapping is a translation between assertions provided from an IdP and the permission and roles applied by an SP. Given an assertion from an IdP, an SP applies a mapping to translate attributes from the IdP to known roles. A mapping is typically owned by an SP. Mapping objects can be used multiple times by different combinations of IdP and protocol. A rule hierarchy is as follows: .. code:: ini { ""rules"": [ { ""local"": [ { ""<user> or <group>"" } ], ""remote"": [ { ""<condition>"" } ] } ] } * ``rules``: top-level list of rules. * ``local``: a rule containing information on what local attributes will be mapped. * ``remote``: a rule containing information on what remote attributes will be mapped. * ``condition``: contains information on conditions that allow a rule, can only be set in a remote rule. For more information on mapping rules, see `Mapping Rules <https://docs.openstack.org/keystone/latest/advanced-topics/federation/federated_identity.html#mapping-rules>`_. Mapping creation ---------------- Mapping creation starts with the communication between the IdP and SP. The IdP usually provides a set of assertions that their users have in their assertion document. The SP will have to map those assertions to known groups and roles. For example: .. code:: ini Identity Provider 1: name: jsmith groups: hacker other: <assertion information> The Service Provider may have 3 groups: Admin Group Developer Group User Group The mapping created by the Service Provider might look like: Local: Group: Developer Group Remote: Groups: hackers The ``Developer Group`` may have a role assignment on the ``Developer Project``. When `jsmith` authenticates against IdP 1, it presents that assertion to the SP.The SP maps the `jsmith` user to the ``Developer Group`` because the assertion says `jsmith` is a member of the ``hacker`` group. Mapping examples ---------------- A bare bones mapping is sufficient if you would like all federated users to have the same authorization in the SP cloud. However, mapping is quite powerful and flexible. You can map different remote users into different user groups in keystone, limited only by the number of assertions your IdP makes about each user. A mapping is composed of a list of rules, and each rule is further composed of a list of remote attributes and a list of local attributes. If a rule is matched, all of the local attributes are applied in the SP. For a rule to match, all of the remote attributes it defines must match. In the base case, a federated user simply needs an assertion containing an email address to be identified in the SP cloud. To achieve that, only one rule is needed that requires the presence of one remote attribute: .. code:: javascript { ""rules"": [ { ""remote"": [ { ""type"": ""Email"" } ], ""local"": [ { ""user"": { ""name"": ""{0}"" } } ] } ] } However, that is not particularly useful as the federated user would receive no authorization. To rectify it, you can map all federated users with email addresses into a ``federated-users`` group in the ``default`` domain. All federated users will then be able to consume whatever role assignments that user group has already received in keystone: .. note:: In this example, there is only one rule requiring one remote attribute. .. code:: javascript { ""rules"": [ { ""remote"": [ { ""type"": ""Email"" } ], ""local"": [ { ""user"": { ""name"": ""{0}"" } }, { ""group"": { ""domain"": { ""id"": ""0cd5e9"" }, ""name"": ""federated-users"" } } ] } ] } This example can be expanded by adding a second rule that conveys additional authorization to only a subset of federated users. Federated users with a `title` attribute that matches either ``Manager`` or ``Supervisor`` are admitted to the ``observers`` group which is granted the ``reader`` role on some project, which would allow the group members to perform any read-only API call in the project: .. code:: javascript { ""rules"": [ { ""remote"": [ { ""type"": ""Email"" }, ], ""local"": [ { ""user"": { ""name"": ""{0}"" } }, { ""group"": { ""domain"": { ""id"": ""default"" }, ""name"": ""federated-users"" } } ] }, { ""remote"": [ { ""type"": ""Title"", ""any_one_of"": ["".*Manager$"", ""Supervisor""], ""regex"": ""true"" }, ], ""local"": [ { ""group"": { ""domain"": { ""id"": ""default"" }, ""name"": ""observers"" } } ] } ] } .. note:: ``any_one_of`` and ``regex`` in the rule above map federated users into the ``observers`` group when a user's ``Title`` assertion matches any of the regular expressions specified in the ``any_one_of`` attribute. Keystone also supports the following: * ``not_any_of``, matches any assertion that does not include one of the specified values * ``blacklist``, matches all assertions of the specified type except those included in the specified value * ``whitelist`` does not match any assertion except those listed in the specified value. ",0,504
openstack%2Frequirements~master~Ie94135da63b3013ef8f1abf9a9d19b69ac9f9c3f,openstack/requirements,master,Ie94135da63b3013ef8f1abf9a9d19b69ac9f9c3f,update constraint for keystoneauth1 to new release 3.11.1,MERGED,2018-10-25 22:13:40.000000000,2018-10-26 15:12:48.000000000,2018-10-26 15:12:48.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 22:13:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/979ffb8cf22db464631e9adc9cbfdfdfa6a109d2', 'message': 'update constraint for keystoneauth1 to new release 3.11.1\n\nChange-Id: Ie94135da63b3013ef8f1abf9a9d19b69ac9f9c3f\nmeta:version: 3.11.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I7310d5a8e4d740c16480ffa5332ab69572525a89\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+1: Morgan Fainberg <morgan.fainberg@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613438,979ffb8cf22db464631e9adc9cbfdfdfa6a109d2,12,6,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.11.1

Change-Id: Ie94135da63b3013ef8f1abf9a9d19b69ac9f9c3f
meta:version: 3.11.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I7310d5a8e4d740c16480ffa5332ab69572525a89
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+1: Morgan Fainberg <morgan.fainberg@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/613438/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,979ffb8cf22db464631e9adc9cbfdfdfa6a109d2,new-release,keystoneauth1===3.11.1,keystoneauth1===3.11.0,1,1
openstack%2Fcharm-neutron-api~stable%2F18.08~I69eb59d324cb04481e6eb76e7759e406a96d6700,openstack/charm-neutron-api,stable/18.08,I69eb59d324cb04481e6eb76e7759e406a96d6700,Make Queens and Rocky share same conf template,ABANDONED,2018-10-26 15:05:04.000000000,2018-10-26 15:06:17.000000000,,[],"[{'number': 1, 'created': '2018-10-26 15:05:04.000000000', 'files': ['templates/queens/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/3d277d8e1744a66d61416e514547d33bd7956ecd', 'message': 'Make Queens and Rocky share same conf template\n\nThe original patch for this bug fied the problem for\nrocky only but queens also suffers from the same\nproblem. Since the only diff between the P and R\ntemplates is this change, move it into Q so that\nQ and R will both get the fix.\n\nChange-Id: I69eb59d324cb04481e6eb76e7759e406a96d6700\nRelated-Bug: #1788631\n'}]",0,613609,3d277d8e1744a66d61416e514547d33bd7956ecd,2,0,1,6737,,,0,"Make Queens and Rocky share same conf template

The original patch for this bug fied the problem for
rocky only but queens also suffers from the same
problem. Since the only diff between the P and R
templates is this change, move it into Q so that
Q and R will both get the fix.

Change-Id: I69eb59d324cb04481e6eb76e7759e406a96d6700
Related-Bug: #1788631
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/09/613609/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/queens/neutron.conf'],1,3d277d8e1744a66d61416e514547d33bd7956ecd,bug/1788631,,,0,0
openstack%2Fpuppet-neutron~master~Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7,openstack/puppet-neutron,master,Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7,Support configuring OVS bridge in networking-ovn metadata agent,ABANDONED,2018-10-22 09:14:32.000000000,2018-10-26 15:04:09.000000000,,"[{'_account_id': 8788}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 09:14:32.000000000', 'files': ['spec/classes/neutron_agents_ovn_metadata_spec.rb', 'manifests/agents/ovn_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/aac31bc442406abf6566375c4d9bb544566a5cb5', 'message': 'Support configuring OVS bridge in networking-ovn metadata agent\n\nThis patch is adding support for configuring ovs_integration_bridge\noption in puppet.\n\nPartial-Bug: #1799175\n\nChange-Id: Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",2,612288,aac31bc442406abf6566375c4d9bb544566a5cb5,6,3,1,23804,,,0,"Support configuring OVS bridge in networking-ovn metadata agent

This patch is adding support for configuring ovs_integration_bridge
option in puppet.

Partial-Bug: #1799175

Change-Id: Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/88/612288/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ovn_metadata.pp', 'spec/classes/neutron_agents_ovn_metadata_spec.rb']",2,aac31bc442406abf6566375c4d9bb544566a5cb5,bug/1799175," { :package_ensure => 'present', :debug => false, :enabled => true, :shared_secret => 'metadata-secret', :purge_config => false, :ovsdb_connection => 'tcp:127.0.0.1:6640', :root_helper => 'sudo neutron-rootwrap /etc/neutron/rootwrap.conf', :state_path => '/var/lib/neutron/', :ovs_integration_bridge => 'br-int', is_expected.to contain_ovn_metadata_agent_config('DEFAULT/ovs_integration_bridge').with(:value => params[:ovs_integration_bridge])"," { :package_ensure => 'present', :debug => false, :enabled => true, :shared_secret => 'metadata-secret', :purge_config => false, :ovsdb_connection => 'tcp:127.0.0.1:6640', :root_helper => 'sudo neutron-rootwrap /etc/neutron/rootwrap.conf', :state_path => '/var/lib/neutron/', ",17,9
openstack%2Ftripleo-heat-templates~master~Ide53fa85cd9daa5975834cb306468a78bb5dcfde,openstack/tripleo-heat-templates,master,Ide53fa85cd9daa5975834cb306468a78bb5dcfde,OVN Metadata Agent: configure OVS Bridge,ABANDONED,2018-10-22 09:23:34.000000000,2018-10-26 15:03:10.000000000,,"[{'_account_id': 8788}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 09:23:34.000000000', 'files': ['puppet/services/ovn-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6813a54936f85592fb98cfb62efc0e8b714f3b7d', 'message': 'OVN Metadata Agent: configure OVS Bridge\n\nThis patch adds support for configuring OVS bridge in OVN\nMetadata Agent.\n\nDepends-On: Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7\nChange-Id: Ide53fa85cd9daa5975834cb306468a78bb5dcfde\nCloses-Bug: #1799175\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,612291,6813a54936f85592fb98cfb62efc0e8b714f3b7d,4,2,1,23804,,,0,"OVN Metadata Agent: configure OVS Bridge

This patch adds support for configuring OVS bridge in OVN
Metadata Agent.

Depends-On: Ia045f3a592a77a037ef767b7e73a1b993ab1e6e7
Change-Id: Ide53fa85cd9daa5975834cb306468a78bb5dcfde
Closes-Bug: #1799175
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/612291/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ovn-metadata.yaml'],1,6813a54936f85592fb98cfb62efc0e8b714f3b7d,bug/1799175," OVNIntegrationBridge: description: > Name of the OVS bridge to use as integration bridge by OVN Metadata Agent. type: string default: ""br-int"" - neutron::agents::ovn_metadata::ovs_integration_bridge: {get_param: OVNIntegrationBridge}",,6,0
openstack%2Ftripleo-ha-utils~master~I664c8d4a2ae9b33f814bde083de0828115b1a73f,openstack/tripleo-ha-utils,master,I664c8d4a2ae9b33f814bde083de0828115b1a73f,Fix STONITH readme removing release from examples,MERGED,2018-10-25 09:24:45.000000000,2018-10-26 15:03:06.000000000,2018-10-26 15:03:06.000000000,"[{'_account_id': 20936}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 09:24:45.000000000', 'files': ['roles/stonith-config/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/71c55e034f0f6979b03c51e2aa78a42399b99ab6', 'message': 'Fix STONITH readme removing release from examples\n\nThis commit removes the release parameter from the exaple commands\nrelated to STONITH, the parameter is not requested, not needed and may\nconfuse users.\n\nChange-Id: I664c8d4a2ae9b33f814bde083de0828115b1a73f\n'}]",0,613253,71c55e034f0f6979b03c51e2aa78a42399b99ab6,6,2,1,20936,,,0,"Fix STONITH readme removing release from examples

This commit removes the release parameter from the exaple commands
related to STONITH, the parameter is not requested, not needed and may
confuse users.

Change-Id: I664c8d4a2ae9b33f814bde083de0828115b1a73f
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/53/613253/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/stonith-config/README.md'],1,71c55e034f0f6979b03c51e2aa78a42399b99ab6,fix_stonith_readme," ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e stonith_devices=""all"" ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e stonith_action=""uninstall"" ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e stonith_action=""uninstall"" -e stonith_devices=""computes"""," ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e release=""rhos-10"" ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e release=""rhos-10"" -e stonith_devices=""all"" ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e release=""rhos-10"" -e stonith_action=""uninstall"" ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-stonith-config.yml -e release=""rhos-10"" -e stonith_action=""uninstall"" -e stonith_devices=""computes""",4,4
openstack%2Ftripleo-ha-utils~master~Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27,openstack/tripleo-ha-utils,master,Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27,Add heat results inside log files,MERGED,2018-10-24 16:07:26.000000000,2018-10-26 14:58:07.000000000,2018-10-26 14:58:07.000000000,"[{'_account_id': 20936}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/2b1cf355677a20c701b09cf52b5e4020452a451e', 'message': 'Add heat results inside log files\n\nThis commit simplifies the way logs are generated, removing the split\nbetween stdout and stderr and adding also the logs for the heat actions,\nso that analyzing failures should become easier.\n\nChange-Id: Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27\n'}, {'number': 2, 'created': '2018-10-24 17:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/8068ff640bfc418717d7b65a8c9352172ebef881', 'message': 'Add heat results inside log files\n\nThis commit simplifies the way logs are generated, removing the split\nbetween stdout and stderr and adding also the logs for the heat actions,\nso that analyzing failures should become easier.\n\nChange-Id: Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27\n'}, {'number': 3, 'created': '2018-10-24 18:06:33.000000000', 'files': ['roles/validate-ha/tasks/heat-validation-create.yml', 'roles/validate-ha/tasks/heat-validation-delete.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/5e1a38b8753d5c950a8e76a67be5ec87081496ad', 'message': 'Add heat results inside log files\n\nThis commit simplifies the way logs are generated, removing the split\nbetween stdout and stderr and adding also the logs for the heat actions,\nso that analyzing failures should become easier.\n\nChange-Id: Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27\n'}]",0,613095,5e1a38b8753d5c950a8e76a67be5ec87081496ad,10,2,3,20936,,,0,"Add heat results inside log files

This commit simplifies the way logs are generated, removing the split
between stdout and stderr and adding also the logs for the heat actions,
so that analyzing failures should become easier.

Change-Id: Ic1d150d5d67a1c22ce8a3bb6951265a8c9b94f27
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/95/613095/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-ha/tasks/ha-test-suite.yml', 'roles/validate-ha/tasks/heat-validation-create.yml', 'roles/validate-ha/tasks/heat-validation-delete.yml']",3,2b1cf355677a20c701b09cf52b5e4020452a451e,add_heat_results_inside_logs, {{ stack_name }} > {{ validate_ha_logs_dir }}/{{ ha_test_name }}_heat-delete.log 2>&1 openstack image delete validate_ha_image > {{ validate_ha_logs_dir }}/{{ ha_test_name }}_image-delete.log 2>&1, {{ stack_name }} openstack image delete validate_ha_image,10,15
openstack%2Frpm-packaging~master~Ie128d33b9820f6a997bb7c8bef499b3b24f63f32,openstack/rpm-packaging,master,Ie128d33b9820f6a997bb7c8bef499b3b24f63f32,Initial package for keystone-tempest-plugin,MERGED,2018-10-19 22:46:21.000000000,2018-10-26 14:56:24.000000000,2018-10-26 14:56:24.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-19 22:46:21.000000000', 'files': ['openstack/keystone-tempest-plugin/keystone-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/adc4fee5d7f5408aca167edf30d69b54ad517d84', 'message': 'Initial package for keystone-tempest-plugin\n\nChange-Id: Ie128d33b9820f6a997bb7c8bef499b3b24f63f32\n'}]",0,611981,adc4fee5d7f5408aca167edf30d69b54ad517d84,13,6,1,1916,,,0,"Initial package for keystone-tempest-plugin

Change-Id: Ie128d33b9820f6a997bb7c8bef499b3b24f63f32
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/611981/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone-tempest-plugin/keystone-tempest-plugin.spec.j2'],1,adc4fee5d7f5408aca167edf30d69b54ad517d84,keystone-tempest-plugin,"{% set pypi_name = 'keystone-tempest-plugin' %} {% set source=fetch_source('https://tarballs.openstack.org/keystone-tempest-plugin/keystone-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname keystone_tempest_plugin %global with_doc 0 %global common_desc \ Tempest plugin for functional testing of keystone's LDAP and federation \ features. Name: {{ py2pkg('keystone-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the keystone project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('lxml') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('testtools') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for keystone tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the keystone tempest tests. %endif %prep %autosetup -n keystone_tempest_plugin-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/keystone_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,77,0
openstack%2Frpm-packaging~master~Ib672211e59f39dc6485254d5ae3d6284a782feff,openstack/rpm-packaging,master,Ib672211e59f39dc6485254d5ae3d6284a782feff,update oslo.config to v6.6.0,ABANDONED,2018-10-10 08:01:58.000000000,2018-10-26 14:50:59.000000000,,"[{'_account_id': 1916}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28613}]","[{'number': 1, 'created': '2018-10-10 08:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1f9cf9003693513d59eb9170bd46ac0ae28d6e1c', 'message': 'update oslo.config to v6.6.0\n\nChange-Id: Ib672211e59f39dc6485254d5ae3d6284a782feff\n'}, {'number': 2, 'created': '2018-10-11 02:42:32.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d48ea577dccec689e0c1a9558feb37fd522da538', 'message': 'update oslo.config to v6.6.0\n\nChange-Id: Ib672211e59f39dc6485254d5ae3d6284a782feff\n'}]",0,609304,d48ea577dccec689e0c1a9558feb37fd522da538,18,6,2,28613,,,0,"update oslo.config to v6.6.0

Change-Id: Ib672211e59f39dc6485254d5ae3d6284a782feff
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/609304/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,1f9cf9003693513d59eb9170bd46ac0ae28d6e1c,oslo.config,{% set upstream_version = upstream_version('6.6.0') %},{% set upstream_version = upstream_version('6.4.0') %},1,1
openstack%2Frpm-packaging~master~I9e0ad6766cd850cac7978127b0b261d625b558e3,openstack/rpm-packaging,master,I9e0ad6766cd850cac7978127b0b261d625b558e3,Initial package for ironic-tempest-plugin,MERGED,2018-10-22 16:25:17.000000000,2018-10-26 14:50:10.000000000,2018-10-26 14:50:10.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-22 16:25:17.000000000', 'files': ['openstack/ironic-tempest-plugin/ironic-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2efe8c7d6bfa3ef86c6a48376db5824a59a6fc0c', 'message': 'Initial package for ironic-tempest-plugin\n\nChange-Id: I9e0ad6766cd850cac7978127b0b261d625b558e3\n'}]",0,612440,2efe8c7d6bfa3ef86c6a48376db5824a59a6fc0c,9,5,1,1916,,,0,"Initial package for ironic-tempest-plugin

Change-Id: I9e0ad6766cd850cac7978127b0b261d625b558e3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/612440/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-tempest-plugin/ironic-tempest-plugin.spec.j2'],1,2efe8c7d6bfa3ef86c6a48376db5824a59a6fc0c,ironic-tempest-plugin,"{% set pypi_name = 'ironic-tempest-plugin' %} {% set source=fetch_source('https://tarballs.openstack.org/ironic-tempest-plugin/ironic-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname ironic_tempest_plugin %global with_doc 0 %global common_desc \ This package contains a Tempest_ plugin for OpenStack `Bare Metal`_ and \ `Bare Metal Introspection`_ projects. Name: {{ py2pkg('ironic-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the ironic project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('fixtures') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for ironic tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the ironic tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/ironic_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,79,0
openstack%2Frpm-packaging~master~If6df31fcfaccc229ea465f3c1b2f6ff61b875a18,openstack/rpm-packaging,master,If6df31fcfaccc229ea465f3c1b2f6ff61b875a18,Initial package for cinder-tempest-plugin,MERGED,2018-10-19 22:59:24.000000000,2018-10-26 14:50:09.000000000,2018-10-26 14:50:09.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-19 22:59:24.000000000', 'files': ['openstack/cinder-tempest-plugin/cinder-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/26ab964e29b183483eb0924b9d02b7ef5b4e8727', 'message': 'Initial package for cinder-tempest-plugin\n\nChange-Id: If6df31fcfaccc229ea465f3c1b2f6ff61b875a18\n'}]",0,611984,26ab964e29b183483eb0924b9d02b7ef5b4e8727,13,6,1,1916,,,0,"Initial package for cinder-tempest-plugin

Change-Id: If6df31fcfaccc229ea465f3c1b2f6ff61b875a18
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/84/611984/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cinder-tempest-plugin/cinder-tempest-plugin.spec.j2'],1,26ab964e29b183483eb0924b9d02b7ef5b4e8727,cinder-tempest-plugin,"{% set pypi_name = 'cinder-tempest-plugin' %} {% set source=fetch_source('https://tarballs.openstack.org/cinder-tempest-plugin/cinder-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname cinder_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the cinder project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('cinder-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the cinder project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('testtools') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for cinder tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the cinder tempest tests. %endif %prep %autosetup -n cinder_tempest_plugin-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/cinder_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,77,0
openstack%2Frpm-packaging~master~Idea0577f4d7f6d81ed1e2463ff724eea09c148bf,openstack/rpm-packaging,master,Idea0577f4d7f6d81ed1e2463ff724eea09c148bf,Initial package for neutron-tempest-plugin,MERGED,2018-10-19 23:19:51.000000000,2018-10-26 14:47:23.000000000,2018-10-26 14:47:23.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-19 23:19:51.000000000', 'files': ['openstack/neutron-tempest-plugin/neutron-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab489d781c66a4e16c567f4ff0bb3dedc562b31e', 'message': 'Initial package for neutron-tempest-plugin\n\nChange-Id: Idea0577f4d7f6d81ed1e2463ff724eea09c148bf\n'}]",0,611988,ab489d781c66a4e16c567f4ff0bb3dedc562b31e,13,6,1,1916,,,0,"Initial package for neutron-tempest-plugin

Change-Id: Idea0577f4d7f6d81ed1e2463ff724eea09c148bf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/611988/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-tempest-plugin/neutron-tempest-plugin.spec.j2'],1,ab489d781c66a4e16c567f4ff0bb3dedc562b31e,neutron-tempest-plugin,"{% set pypi_name = 'neutron-tempest-plugin' %} {% set source=fetch_source('https://tarballs.openstack.org/neutron-tempest-plugin/neutron-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname neutron_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the neutron project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('neutron-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the neutron project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('ddt') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('ipaddress') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('neutron-lib') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('paramiko') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('testscenarios') }} Requires: {{ py2pkg('testtools') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for neutron tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the neutron tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/neutron_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,87,0
openstack%2Fhorizon~master~I202c08a2b391afa627b7600c1482a4483e44fc04,openstack/horizon,master,I202c08a2b391afa627b7600c1482a4483e44fc04,Imported Translations from Zanata,MERGED,2018-10-26 09:17:39.000000000,2018-10-26 14:47:22.000000000,2018-10-26 14:47:21.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 09:17:39.000000000', 'files': ['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b6941b5a17644d8bce7d640f9a3ea34d14714bfe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I202c08a2b391afa627b7600c1482a4483e44fc04\n'}]",0,613541,b6941b5a17644d8bce7d640f9a3ea34d14714bfe,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I202c08a2b391afa627b7600c1482a4483e44fc04
",git fetch https://review.opendev.org/openstack/horizon refs/changes/41/613541/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po']",4,b6941b5a17644d8bce7d640f9a3ea34d14714bfe,zanata/translations,"# Dmytriy Rabotjagov <noonedeadpunk@ya.ru>, 2018. #zanata""POT-Creation-Date: 2018-10-25 19:11+0000\n""""PO-Revision-Date: 2018-10-25 01:50+0000\n"" ""Last-Translator: Dmytriy Rabotjagov <noonedeadpunk@ya.ru>\n""msgid ""Default Region"" msgstr ""Регион по умолчанию"" ","""POT-Creation-Date: 2018-09-15 05:12+0000\n""""PO-Revision-Date: 2018-09-09 07:44+0000\n"" ""Last-Translator: Ilya Alekseyev <ilyaalekseyev@acm.org>\n""",104,12
openstack%2Ffreezer~master~I49155c9ceaef13a83ea10566eca97139d806dada,openstack/freezer,master,I49155c9ceaef13a83ea10566eca97139d806dada,Add freezer-status upgrade check command framework,ABANDONED,2018-10-18 06:45:23.000000000,2018-10-26 14:45:57.000000000,,"[{'_account_id': 8556}, {'_account_id': 19098}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-10-18 06:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b5fd2c278f7838b8eb6a984f4654c5232ccbd480', 'message': 'Add freezer-status upgrade check command framework\n\nThis adds basic framework for freezer-status upgrade\ncheck commands. For now it has only ""check_placeholder""\ncheck implemented.\nReal checks can be added to this tool in the future.\n\nChange-Id: I49155c9ceaef13a83ea10566eca97139d806dada\nStory: 2003657\nTask: 26129\n'}, {'number': 2, 'created': '2018-10-18 09:24:37.000000000', 'files': ['releasenotes/notes/freezer-status-upgrade-check-framework-f3d73fc7ee4c4b20.yaml', 'requirements.txt', 'doc/source/cli/freezer-status.rst', 'doc/source/cli/index.rst', 'lower-constraints.txt', 'freezer/common/i18n.py', 'setup.cfg', 'freezer/cmd/status.py', 'freezer/tests/unit/cmd/test_status.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/a07be4a92e2073b18e663d984233287525863bca', 'message': 'Add freezer-status upgrade check command framework\n\nThis adds basic framework for freezer-status upgrade\ncheck commands. For now it has only ""check_placeholder""\ncheck implemented.\nReal checks can be added to this tool in the future.\n\nChange-Id: I49155c9ceaef13a83ea10566eca97139d806dada\nStory: 2003657\nTask: 26129\n'}]",4,611512,a07be4a92e2073b18e663d984233287525863bca,13,6,2,27615,,,0,"Add freezer-status upgrade check command framework

This adds basic framework for freezer-status upgrade
check commands. For now it has only ""check_placeholder""
check implemented.
Real checks can be added to this tool in the future.

Change-Id: I49155c9ceaef13a83ea10566eca97139d806dada
Story: 2003657
Task: 26129
",git fetch https://review.opendev.org/openstack/freezer refs/changes/12/611512/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/freezer-status-upgrade-check-framework-f3d73fc7ee4c4b20.yaml', 'requirements.txt', 'doc/source/cli/freezer-status.rst', 'doc/source/cli/index.rst', 'lower-constraints.txt', 'freezer/common/i18n.py', 'setup.cfg', 'freezer/cmd/status.py', 'freezer/tests/unit/cmd/test_status.py']",9,b5fd2c278f7838b8eb6a984f4654c5232ccbd480,upgrade-checkers,"# Copyright (c) 2018 NEC, Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import unittest from oslo_upgradecheck.upgradecheck import Code from freezer.cmd import status class TestUpgradeChecks(unittest.TestCase): def setUp(self): super(TestUpgradeChecks, self).setUp() self.cmd = status.Checks() def test__check_placeholder(self): check_result = self.cmd._check_placeholder() self.assertEqual( Code.SUCCESS, check_result.code) ",,206,0
openstack%2Fcinder~master~If7e1b1108acb7a7f8b6b7524213ba5dae5560b53,openstack/cinder,master,If7e1b1108acb7a7f8b6b7524213ba5dae5560b53,Replace openSUSE experimental check with newer version,MERGED,2018-10-10 15:56:00.000000000,2018-10-26 14:44:29.000000000,2018-10-26 10:28:31.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-10 15:56:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16192bc74222c0eca43439a0d9c84fb9668f9be7', 'message': ""Replace openSUSE experimental check with newer version\n\nWe're migrating now to openSUSE 15.0 (yes, 15.0 is newer than 42.3),\nremove legacy job and replace with native Zuul v3 job running python3.\n\nChange-Id: If7e1b1108acb7a7f8b6b7524213ba5dae5560b53\nDepends-On: https://review.openstack.org/609359\n""}]",0,609462,16192bc74222c0eca43439a0d9c84fb9668f9be7,63,37,1,6547,,,0,"Replace openSUSE experimental check with newer version

We're migrating now to openSUSE 15.0 (yes, 15.0 is newer than 42.3),
remove legacy job and replace with native Zuul v3 job running python3.

Change-Id: If7e1b1108acb7a7f8b6b7524213ba5dae5560b53
Depends-On: https://review.openstack.org/609359
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/609462/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,16192bc74222c0eca43439a0d9c84fb9668f9be7,openSUSE, - tempest-full-py3-opensuse150:, - legacy-tempest-dsvm-neutron-full-opensuse-423:,1,1
openstack%2Fopenstack-ansible-os_tempest~master~Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db,openstack/openstack-ansible-os_tempest,master,Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db,Added support for installing tempest from distro,MERGED,2018-08-13 15:26:00.000000000,2018-10-26 14:26:12.000000000,2018-10-26 14:26:12.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10459}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-08-13 15:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ec7f8e42cd1f1a4a909f60156ab7b72f50963202', 'message': '[DNM] testing\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 2, 'created': '2018-08-16 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a80b425a6b0b2c1a8aceb20d70d82fea5a70847f', 'message': '[WIP] Unifing tempest role for Tripleo\n\n* Added support for installing tempest from RPM\n* generate tempest.conf using python-tempestconf\nTODO:\n* Fix tempest run\n* Subunit file generation\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 3, 'created': '2018-10-02 08:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/90dbb139b1807582ce43c058f8bf276d6b409ae7', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 4, 'created': '2018-10-02 08:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6ba8ae18f3fd308b067e183f381f585ece779e38', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 5, 'created': '2018-10-02 10:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cb6e0ae3cde0435a1f205b0282fa56749664b380', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 6, 'created': '2018-10-02 11:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1a73d3c2be067839643821b6d58bb9138c90dee3', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 7, 'created': '2018-10-03 06:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/651eb1eabc3e9a47643098b47a45415405a70e23', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 8, 'created': '2018-10-03 09:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/04840957c810ea5dd5faf75b7d30351d44b96123', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 9, 'created': '2018-10-03 10:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f4cc3d8b229f1d789cb6fe062d0f127fee8446a6', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 10, 'created': '2018-10-03 13:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/53d248ad8884c0f924ac3c89842f1ffad7e35279', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 11, 'created': '2018-10-05 10:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c5c19aeafd48933b541160de6b815d922e6d18a2', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 12, 'created': '2018-10-09 12:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a21faa772c47c635ee930cf07eb96f653891447b', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 13, 'created': '2018-10-10 10:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4a39f3de3dcf0eff0fe9a6de12040aebb8819ed0', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 14, 'created': '2018-10-10 12:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d1df245c56f07a71b48b5e48b56fb74bf1fc1cfe', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 15, 'created': '2018-10-10 12:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0a62201c786760177555c737679075594776dc18', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 16, 'created': '2018-10-10 12:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/71e39f6b94a88ba3e015cdc1674b9df4051ddf1b', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 17, 'created': '2018-10-11 06:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/65509dc5d3073acf3119df55a6d74d0383e8c836', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 18, 'created': '2018-10-11 09:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/8099fafd6a63e167087e3388b46e9c3fab371c22', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 19, 'created': '2018-10-11 12:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/579a93ffe3404fa3f70850b5edc03ec4d8028d1d', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 20, 'created': '2018-10-11 13:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5c3abde8891b45df7b1350b6c4075a58ce93a74f', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 21, 'created': '2018-10-12 04:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/30275b80e5eefbf6ea7261068b4858ea9fd5d354', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 22, 'created': '2018-10-12 09:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/93ba7f2c9c2ae4fb2b8da97768face243453ddfe', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 23, 'created': '2018-10-12 09:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/962fa6de06bae909cdcbd137f3b232439ac5fae7', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nDepends-On: https://review.openstack.org/#/c/607122/\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 24, 'created': '2018-10-12 13:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0a7d1413a705b63807f95df76b9524b375e1d853', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 25, 'created': '2018-10-14 13:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2928992274ae504bb0995a350a448908ae9c9180', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 26, 'created': '2018-10-14 17:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7ecc080f8bb5e656907b4861e05e7c978c7d7bbd', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 27, 'created': '2018-10-15 05:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/003f24977228b36a208cd2b314fd7ba58d20474c', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 28, 'created': '2018-10-15 09:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d4843e1a083942157784b191c19db9528f3a8581', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 29, 'created': '2018-10-15 15:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/88da7eef349e3dbfc3c2694c6c8a8a3def9f7b11', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 30, 'created': '2018-10-16 10:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/60b0cb8ab69d4de7e2d45632a28f75de28e8f439', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 31, 'created': '2018-10-17 09:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/db1ec9881321f539d05c53f5a8fba971b31054e6', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 32, 'created': '2018-10-18 19:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6ec6b7ccf58e53d1200e06e4095652116597e0c6', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 33, 'created': '2018-10-19 16:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/35d3c720617d4b24f6bb1681178ef0ba801611e6', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 34, 'created': '2018-10-20 10:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/10a6c1870544c617d9ec3545f674ba2fd9837db5', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 35, 'created': '2018-10-20 20:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/594d6aa8e14f6df78a8a34eb4d3241a919f77fa3', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 36, 'created': '2018-10-21 12:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/03c202e769eff662dced98b0be04ca72c8a297d0', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 37, 'created': '2018-10-22 15:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/bd721cbe3e71114ffb5d109ae1eda0add05724d4', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 38, 'created': '2018-10-23 04:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6902ef6ddc13c81417a25320b1e6ab56976df57e', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 39, 'created': '2018-10-23 06:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2cf8f31a97808c829e51c2f32163c27db5680790', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 40, 'created': '2018-10-23 11:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b5a08b996b64dc4aa5aba3233e6ed3710c8c44ef', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 41, 'created': '2018-10-23 12:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b6b8e7caac72268928981731fd712ef54aec2f4a', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 42, 'created': '2018-10-24 09:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ed860babc057a2ce4e2fe141062ed0d52a71e840', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 43, 'created': '2018-10-24 14:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/17076ceeeeaa62bb3f97572b5bf5872cf766b688', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 44, 'created': '2018-10-25 08:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/8773ea52309ac7afdc54b5348ddbe56dcbdbbcc3', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 45, 'created': '2018-10-25 14:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a2bd138f0789af9bb5cc305635feaf6c515de00d', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 46, 'created': '2018-10-25 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/385042b580d4a0220cf47d25dfaa5e5ca7e81675', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n- The default location of the default tempest configuration is now\n /etc/tempest/tempest.conf rather than the previous default of\n  $HOME/.tempest/etc.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 47, 'created': '2018-10-25 16:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b72b34b6ca4016200cfda7f7ededc57c5f1438da', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n- The default location of the default tempest configuration is now\n /etc/tempest/tempest.conf rather than the previous default of\n  $HOME/.tempest/etc.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 48, 'created': '2018-10-26 08:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/90853d738c8a0646e0f7ecf827379d6699353a3c', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n- The default location of the default tempest configuration is now\n /etc/tempest/tempest.conf rather than the previous default of\n  $HOME/.tempest/etc.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 49, 'created': '2018-10-26 08:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/52a7a0e11c2b09354c9edaa85962a0dd11fdd555', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n- The default location of the default tempest configuration is now\n /etc/tempest/tempest.conf rather than the previous default of\n  $HOME/.tempest/etc.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}, {'number': 50, 'created': '2018-10-26 08:19:51.000000000', 'files': ['releasenotes/notes/add-support-for-distro-89611067ce74fc2c.yaml', 'tasks/main.yml', 'tasks/tempest_run.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'tasks/tempest_install_source.yml', 'defaults/main.yml', 'tasks/tempest_post_install.yml', 'tests/test-tempest-functional.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'zuul.d/project.yaml', 'tasks/tempest_install.yml', 'tox.ini', 'tasks/stackviz.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7e6e614ff035c428fa34384169da7dfc00ccb103', 'message': 'Added support for installing tempest from distro\n\nIn order to consume os_tempest role across different deployment\ntools, following changes are introduced:\n- tempest_install_method:distro|source through which user can install\n  tempest from source as well as distro\n- tempest_workspace directory is added as when tempest is installed\n  from distro, we need a place where tempest can be executed. It\n  generalised the use of tempest_workspace at each place.\n- The default location of the default tempest configuration is now\n /etc/tempest/tempest.conf rather than the previous default of\n  $HOME/.tempest/etc.\n\nChange-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db\n'}]",128,591424,7e6e614ff035c428fa34384169da7dfc00ccb103,146,15,50,12393,,,0,"Added support for installing tempest from distro

In order to consume os_tempest role across different deployment
tools, following changes are introduced:
- tempest_install_method:distro|source through which user can install
  tempest from source as well as distro
- tempest_workspace directory is added as when tempest is installed
  from distro, we need a place where tempest can be executed. It
  generalised the use of tempest_workspace at each place.
- The default location of the default tempest configuration is now
 /etc/tempest/tempest.conf rather than the previous default of
  $HOME/.tempest/etc.

Change-Id: Ie280cfa6b93fa65c56ed98066deb4f9c82a1a8db
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/24/591424/49 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ec7f8e42cd1f1a4a909f60156ab7b72f50963202,unified_tempest,[files] data_files = usr/local/share/ansible/roles/tempest/defaults = defaults/* usr/local/share/ansible/roles/tempest/meta = meta/* usr/local/share/ansible/roles/tempest/tasks = tasks/* usr/local/share/ansible/roles/tempest/templates = templates/* usr/local/share/ansible/roles/tempest/files = files/* usr/local/share/ansible/roles/tempest/vars = vars/* ,,9,0
openstack%2Fironic-python-agent~master~Ie95102aa3f2054a6b429f3d3e0926e90923c5faf,openstack/ironic-python-agent,master,Ie95102aa3f2054a6b429f3d3e0926e90923c5faf,Allow streaming raw partition images,MERGED,2018-09-27 13:27:43.000000000,2018-10-26 14:14:55.000000000,2018-10-26 14:14:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 29209}]","[{'number': 1, 'created': '2018-09-27 13:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/912e9bd4b5a45726e929239563aaa99c7538a354', 'message': 'Allow streaming raw partition images\n\nCurrently we support streaming raw whole disk images, but not\npartition ones. This change enables it.\n\nChange-Id: Ie95102aa3f2054a6b429f3d3e0926e90923c5faf\nStory: #2003809\nTask: #26558\n'}, {'number': 2, 'created': '2018-10-11 11:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/581a441406cd4438883bc60c6cba1b1ee716cb62', 'message': 'Allow streaming raw partition images\n\nCurrently we support streaming raw whole disk images, but not\npartition ones. This change enables it.\n\nChange-Id: Ie95102aa3f2054a6b429f3d3e0926e90923c5faf\nStory: #2003809\nTask: #26558\n'}, {'number': 3, 'created': '2018-10-17 09:16:23.000000000', 'files': ['requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'lower-constraints.txt', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/streaming-partition-images-cdeb260ef8f90012.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/29136bf68d0ea8a5651be0b3fee101b3013356b8', 'message': 'Allow streaming raw partition images\n\nCurrently we support streaming raw whole disk images, but not\npartition ones. This change enables it.\n\nChange-Id: Ie95102aa3f2054a6b429f3d3e0926e90923c5faf\nStory: #2003809\nTask: #26558\n'}]",0,605707,29136bf68d0ea8a5651be0b3fee101b3013356b8,22,7,3,10239,,,0,"Allow streaming raw partition images

Currently we support streaming raw whole disk images, but not
partition ones. This change enables it.

Change-Id: Ie95102aa3f2054a6b429f3d3e0926e90923c5faf
Story: #2003809
Task: #26558
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/07/605707/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/standby.py'],1,912e9bd4b5a45726e929239563aaa99c7538a354,story/2003809," If ``None``, the image is not populated. if image is not None: image_mb = disk_utils.get_image_mb(image) if image_mb > int(root_mb): msg = ('Root partition is too small for requested image. Image ' 'virtual size: {} MB, Root size: {} MB').format(image_mb, root_mb) raise errors.InvalidCommandParamsError(msg) if stream_raw_images and disk_format == 'raw': if image_info.get('image_type') == 'partition': self.partition_uuids = _write_partition_image(None, image_info, device) stream_to = self.partition_uuids['partitions']['root'] else: stream_to = device self._stream_raw_image_onto_device(image_info, stream_to)"," image_mb = disk_utils.get_image_mb(image) if image_mb > int(root_mb): msg = ('Root partition is too small for requested image. Image ' 'virtual size: {} MB, Root size: {} MB').format(image_mb, root_mb) raise errors.InvalidCommandParamsError(msg) if (stream_raw_images and disk_format == 'raw' and image_info.get('image_type') != 'partition'): self._stream_raw_image_onto_device(image_info, device)",19,9
openstack%2Fkuryr-kubernetes~stable%2Fqueens~Ifd0322b0ec7951d281fdae6e9e08c4356177b06d,openstack/kuryr-kubernetes,stable/queens,Ifd0322b0ec7951d281fdae6e9e08c4356177b06d,Add routes and multi-vif resources to Kuryr's CR,MERGED,2018-10-19 14:54:00.000000000,2018-10-26 14:12:17.000000000,2018-10-26 14:12:17.000000000,"[{'_account_id': 6598}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-19 14:54:00.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ed79e09c382550fda81016d4e68179cffb6e45f5', 'message': ""Add routes and multi-vif resources to Kuryr's CR\n\nThis commit adds routes and network-attachment-definitions resources to\nkuryr-controller ClusterRole. Without that we wouldn't be able to access\nthem though ServiceAccount token, so features depending on those\nwouldn't be working in containerized deployments.\n\nChange-Id: Ifd0322b0ec7951d281fdae6e9e08c4356177b06d\nPartial-Bug: 1796122\n(cherry picked from commit 81b953be94b93d8b736b97b3cea85857e92d9958)\n""}]",0,611894,ed79e09c382550fda81016d4e68179cffb6e45f5,7,3,1,11600,,,0,"Add routes and multi-vif resources to Kuryr's CR

This commit adds routes and network-attachment-definitions resources to
kuryr-controller ClusterRole. Without that we wouldn't be able to access
them though ServiceAccount token, so features depending on those
wouldn't be working in containerized deployments.

Change-Id: Ifd0322b0ec7951d281fdae6e9e08c4356177b06d
Partial-Bug: 1796122
(cherry picked from commit 81b953be94b93d8b736b97b3cea85857e92d9958)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/611894/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,ed79e09c382550fda81016d4e68179cffb6e45f5,bug/1796122," - namespaces - apiGroups: [""oapi""] resources: - routes verbs: [""*""] - apiGroups: - openstack.org verbs: [""*""] resources: - kuryrnets - apiGroups: [""k8s.cni.cncf.io""] resources: - network-attachment-definitions verbs: - get", - deployments - policies,15,2
openstack%2Fopenstack-ansible-os_octavia~master~I2531775a7bfa6b526b5190c651844c0bbd08a1f0,openstack/openstack-ansible-os_octavia,master,I2531775a7bfa6b526b5190c651844c0bbd08a1f0,Use octavia_service_setup_host for getting facts,ABANDONED,2018-10-26 14:01:37.000000000,2018-10-26 14:05:29.000000000,,[],"[{'number': 1, 'created': '2018-10-26 14:01:37.000000000', 'files': ['tasks/octavia_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b51c61a3147ccddf7e574fb5d52e9ad2ab3bd164', 'message': 'Use octavia_service_setup_host for getting facts\n\nWhen trying to retrieve the facts, it attempts to run this on\nthe remote system which no longer ships or has any OpenStack\nclients on it.\n\nChange-Id: I2531775a7bfa6b526b5190c651844c0bbd08a1f0\n'}]",0,613587,b51c61a3147ccddf7e574fb5d52e9ad2ab3bd164,2,0,1,1004,,,0,"Use octavia_service_setup_host for getting facts

When trying to retrieve the facts, it attempts to run this on
the remote system which no longer ships or has any OpenStack
clients on it.

Change-Id: I2531775a7bfa6b526b5190c651844c0bbd08a1f0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/87/613587/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,b51c61a3147ccddf7e574fb5d52e9ad2ab3bd164,," delegate_to: ""{{ octavia_service_setup_host }}"" vars: ansible_python_interpreter: >- {{ (octavia_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }} delegate_to: ""{{ octavia_service_setup_host }}"" vars: ansible_python_interpreter: >- {{ (octavia_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }}",,8,0
openstack%2Fnova~master~Ic2cf10b4b3941245301ea1afeded6ec7d42dd20d,openstack/nova,master,Ic2cf10b4b3941245301ea1afeded6ec7d42dd20d,Docs: Add more colors to Nova system architecture,ABANDONED,2018-07-20 12:25:38.000000000,2018-10-26 14:04:09.000000000,,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 12:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e42b9b8e368861e9ce3834860fc647c00bc13c78', 'message': 'Docs: Add more colors to Nova system architecture\n\nThis is purely subjective improving for architecture.svg.\nChange line width, add colors to differentiate internal and external services.\n\nChange-Id: Ic2cf10b4b3941245301ea1afeded6ec7d42dd20d\n'}, {'number': 2, 'created': '2018-07-20 13:37:07.000000000', 'files': ['doc/source/_static/images/architecture.svg'], 'web_link': 'https://opendev.org/openstack/nova/commit/a954545fbd38560e3764a5542874f05f7a9aaee9', 'message': 'Docs: Add more colors to Nova system architecture\n\nThis is purely subjective improving for architecture.svg.\nChange line width, add colors to differentiate internal and external services.\n\nChange-Id: Ic2cf10b4b3941245301ea1afeded6ec7d42dd20d\n'}]",0,584345,a954545fbd38560e3764a5542874f05f7a9aaee9,18,9,2,21813,,,0,"Docs: Add more colors to Nova system architecture

This is purely subjective improving for architecture.svg.
Change line width, add colors to differentiate internal and external services.

Change-Id: Ic2cf10b4b3941245301ea1afeded6ec7d42dd20d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/584345/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/images/architecture.svg'],1,e42b9b8e368861e9ce3834860fc647c00bc13c78,docs," sodipodi:docname=""architecture_color.svg""> <dc:title /> inkscape:zoom=""1.4142136"" inkscape:cx=""774.38582"" inkscape:cy=""401.58784"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" /> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:2.24125758;stroke-miterlimit:4;stroke-dashoffset:0"" /> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:11.20628723,2.24125744,2.24125744,2.24125744,2.24125744,2.24125744;stroke-dashoffset:0"" /> transform=""translate(16.122405,-432.49801)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(15.525804,-432.49801)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#fffaad;fill-opacity:1""> style=""fill:#fffaad;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" <line id=""line5619"" y2=""355.67004"" x2=""390.61966"" y1=""354.17804"" x1=""333.40366"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5621"" points=""404.379,850.029 407.008,845.096 404.639,840.032 414.506,845.291 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5623"" points=""404.379,850.029 407.008,845.096 404.639,840.032 414.506,845.291 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> <line id=""line5627"" y2=""386.40906"" x2=""429.69467"" y1=""444.34705"" x1=""434.77765"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5629"" points=""451.282,877.889 446.083,875.835 441.321,878.763 445.428,868.364 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5631"" points=""451.282,877.889 446.083,875.835 441.321,878.763 445.428,868.364 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> <line id=""line5635"" y2=""381.64001"" x2=""404.52567"" y1=""453.20801"" x1=""335.44366"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5637"" points=""422.775,876.337 420.914,871.066 415.58,869.392 426.122,865.67 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5639"" points=""422.775,876.337 420.914,871.066 415.58,869.392 426.122,865.67 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" id=""g5677"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" x1=""295.88699"" y1=""1057.55"" x2=""294.659"" y2=""1095.33"" id=""line5679"" /> <polygon style=""fill:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" points=""299.737,1093 294.415,1102.83 289.743,1092.67 294.659,1095.33 "" id=""polygon5681"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" points=""299.737,1093 294.415,1102.83 289.743,1092.67 294.659,1095.33 "" id=""polygon5683"" /> </g> <g transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#fffaad;fill-opacity:1""> style=""fill:#fffaad;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" <line id=""line5707"" y2=""354.41003"" x2=""119.49265"" y1=""354.26001"" x1=""222.18965"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:11.20628752,2.2412575,2.2412575,2.2412575,2.2412575,2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5709"" points=""138.373,838.832 135.881,843.836 138.388,848.832 128.381,843.847 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5711"" points=""138.373,838.832 135.881,843.836 138.388,848.832 128.381,843.847 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> <line id=""line5715"" y2=""474.41602"" x2=""98.451645"" y1=""391.70404"" x1=""222.15665"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:11.20628723,2.24125744,2.24125744,2.24125744,2.24125744,2.24125744;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5717"" points=""114.139,958.296 114.84,963.842 119.697,966.609 108.605,968.011 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5719"" points=""114.139,958.296 114.84,963.842 119.697,966.609 108.605,968.011 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> <line id=""line5723"" y2=""552.63409"" x2=""95.656647"" y1=""635.93402"" x1=""219.95065"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:11.20628723,2.24125744,2.24125744,2.24125744,2.24125744,2.24125744;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5725"" points=""116.905,1039.3 112.045,1042.06 111.338,1047.61 105.815,1037.89 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5727"" points=""116.905,1039.3 112.045,1042.06 111.338,1047.61 105.815,1037.89 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#fffaad;fill-opacity:1""> style=""fill:#fffaad;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" <line id=""line5745"" y2=""475.84705"" x2=""568.59863"" y1=""377.68604"" x1=""334.37567"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:11.20628752,2.2412575,2.2412575,2.2412575,2.2412575,2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> <polygon id=""polygon5747"" points=""580.749,968.918 584.987,965.273 584.614,959.696 591.905,968.172 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5749"" points=""580.749,968.918 584.987,965.273 584.614,959.696 591.905,968.172 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-dasharray:11.20628752,2.2412575,2.2412575,2.2412575,2.2412575,2.2412575;stroke-miterlimit:4;stroke-dashoffset:0"" /> id=""g5353"" transform=""translate(77.603546,18.490374)""> transform=""translate(-92.871263,-510.15758)"" style=""fill:#000000;stroke-width:0.56031436;stroke-miterlimit:4;stroke-dasharray:none"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" id=""polygon5763"" /> transform=""translate(-92.871263,-510.15758)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:0.56031436;stroke-miterlimit:4;stroke-dasharray:none"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" id=""polygon5765"" /> transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#d2f9ac;fill-opacity:1""> style=""fill:#d2f9ac;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#d2f9ac;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" transform=""translate(-16.388348,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#fffaad;fill-opacity:1""> style=""fill:#fffaad;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" id=""g5729-3"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill:#fffaad;fill-opacity:1""> style=""fill:#fffaad;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none;fill-opacity:1"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" style=""fill:#fffaad;fill-opacity:1;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" id=""g5873"" transform=""translate(-19.750234,-489.42595)"" style=""stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none""> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5755-1"" /> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062875;stroke-miterlimit:4;stroke-dasharray:none"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5757-2"" /> y2=""675.13629"" x2=""456.75208"" y1=""675.51648"" x1=""331.25409"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.13654912;stroke-miterlimit:4;stroke-dasharray:11.36549109, 2.27309821, 2.27309821, 2.27309821, 2.27309821, 2.27309821;stroke-dashoffset:0"" /> <line id=""line5753-9-9-3"" y2=""643.83905"" x2=""501.09778"" y1=""579.43872"" x1=""459.36179"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.12062871;stroke-miterlimit:4;stroke-dasharray:11.20628737, 2.24125747, 2.24125747, 2.24125747, 2.24125747, 2.24125747;stroke-dashoffset:0"" />"," sodipodi:docname=""architecture.svg""> <dc:title></dc:title> inkscape:zoom=""2.5984251"" inkscape:cx=""427.15855"" inkscape:cy=""410.31124"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" /> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" /> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.99976206;stroke-miterlimit:4;stroke-dasharray:19.99762007, 3.99952401, 3.99952401, 3.99952401, 3.99952401, 3.99952401;stroke-dashoffset:0"" /> transform=""translate(16.122405,-432.49801)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(15.525804,-432.49801)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:#000000"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:#000000"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" <g id=""g5617"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""349.79199"" y1=""843.604"" x2=""407.008"" y2=""845.09601"" id=""line5619"" /> <polygon style=""fill:#000000"" points=""404.639,840.032 414.506,845.291 404.379,850.029 407.008,845.096 "" id=""polygon5621"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""404.639,840.032 414.506,845.291 404.379,850.029 407.008,845.096 "" id=""polygon5623"" /> </g> <g id=""g5625"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""451.16599"" y1=""933.77301"" x2=""446.08301"" y2=""875.83502"" id=""line5627"" /> <polygon style=""fill:#000000"" points=""441.321,878.763 445.428,868.364 451.282,877.889 446.083,875.835 "" id=""polygon5629"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""441.321,878.763 445.428,868.364 451.282,877.889 446.083,875.835 "" id=""polygon5631"" /> </g> <g id=""g5633"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""351.832"" y1=""942.63397"" x2=""420.914"" y2=""871.06598"" id=""line5635"" /> <polygon style=""fill:#000000"" points=""415.58,869.392 426.122,865.67 422.775,876.337 420.914,871.066 "" id=""polygon5637"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""415.58,869.392 426.122,865.67 422.775,876.337 420.914,871.066 "" id=""polygon5639"" /> </g> transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:#000000"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" <g id=""g5705"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""238.578"" y1=""843.68597"" x2=""135.881"" y2=""843.836"" id=""line5707"" /> <polygon style=""fill:#000000"" points=""138.388,848.832 128.381,843.847 138.373,838.832 135.881,843.836 "" id=""polygon5709"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""138.388,848.832 128.381,843.847 138.373,838.832 135.881,843.836 "" id=""polygon5711"" /> </g> <g id=""g5713"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""238.545"" y1=""881.13"" x2=""114.84"" y2=""963.84198"" id=""line5715"" /> <polygon style=""fill:#000000"" points=""119.697,966.609 108.605,968.011 114.139,958.296 114.84,963.842 "" id=""polygon5717"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""119.697,966.609 108.605,968.011 114.139,958.296 114.84,963.842 "" id=""polygon5719"" /> </g> <g id=""g5721"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""236.339"" y1=""1125.36"" x2=""112.045"" y2=""1042.0601"" id=""line5723"" /> <polygon style=""fill:#000000"" points=""111.338,1047.61 105.815,1037.89 116.905,1039.3 112.045,1042.06 "" id=""polygon5725"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""111.338,1047.61 105.815,1037.89 116.905,1039.3 112.045,1042.06 "" id=""polygon5727"" /> </g> transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" <g id=""g5743"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""350.76401"" y1=""867.112"" x2=""584.987"" y2=""965.27301"" id=""line5745"" /> <polygon style=""fill:#000000"" points=""584.614,959.696 591.905,968.172 580.749,968.918 584.987,965.273 "" id=""polygon5747"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""584.614,959.696 591.905,968.172 580.749,968.918 584.987,965.273 "" id=""polygon5749"" /> </g> style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" /> id=""g5336""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.90578425"" x1=""279.50229"" y1=""571.79578"" x2=""278.26703"" y2=""605.89807"" id=""line5679"" /> transform=""translate(-16.388348,-489.42595)"" style=""fill:#000000"" points=""289.743,1092.67 294.659,1095.33 299.737,1093 294.415,1102.83 "" id=""polygon5681"" /> transform=""translate(-16.388348,-489.42595)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""289.743,1092.67 294.659,1095.33 299.737,1093 294.415,1102.83 "" id=""polygon5683"" /> <g transform=""translate(105.44608,24.193696)"" id=""g5329""> <polygon id=""polygon5763"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" style=""fill:#000000"" transform=""translate(-120.75625,-514.00847)"" /> <polygon id=""polygon5765"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-120.75625,-514.00847)"" /> </g> transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" id=""g5729-3""> style=""fill:#ffffff"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" id=""g6435"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.99976206;stroke-miterlimit:4;stroke-dasharray:19.99762046, 3.99952409, 3.99952409, 3.99952409, 3.99952409, 3.99952409;stroke-dashoffset:0"" x1=""348.33099"" y1=""1164.7389"" x2=""476.24725"" y2=""1164.6753"" id=""line5753-9"" /> <g transform=""translate(-3.3618864,0)"" id=""g5873""> <polygon id=""polygon5755-1"" points=""589.408,1028.81 585.071,1025.28 596.242,1025.72 589.188,1034.39 "" style=""fill:#000000"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> <polygon id=""polygon5757-2"" points=""589.408,1028.81 585.071,1025.28 596.242,1025.72 589.188,1034.39 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> </g> y2=""632.24823"" x2=""486.38559"" y1=""567.8479"" x1=""444.64957"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.96110034;stroke-miterlimit:4;stroke-dasharray:19.61100354, 3.9222007, 3.9222007, 3.9222007, 3.9222007, 3.9222007;stroke-dashoffset:0"" />",278,276
openstack%2Fkuryr-kubernetes~master~Idec2961e6c820524290a20655930a2bfd2898621,openstack/kuryr-kubernetes,master,Idec2961e6c820524290a20655930a2bfd2898621,Move KUBERNETES_NODE_NAME env var to controller,MERGED,2018-10-19 15:00:24.000000000,2018-10-26 13:49:56.000000000,2018-10-26 13:49:56.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-19 15:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/66f104f19814b7d633e9253436fe1953dfd878e6', 'message': ""Move KUBERNETES_NODE_NAME env var to controller\n\nKUBERNETES_NODE_NAME environment variable was defined in kuryr-daemon\nDaemonSet instead in kuryr-controller's Deployment. As it's only used by\nkuryr-controller, this commit moves that definition to its correct\nplace.\n\nChange-Id: Idec2961e6c820524290a20655930a2bfd2898621\nCloses-Bug: 1798835\n""}, {'number': 2, 'created': '2018-10-23 13:21:49.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f0cde86ee68027bd66597f2e4b8db4e10fa81e0b', 'message': ""Move KUBERNETES_NODE_NAME env var to controller\n\nKUBERNETES_NODE_NAME environment variable was defined in kuryr-daemon\nDaemonSet instead of in kuryr-controller's Deployment. As it's only used\nby kuryr-controller, this commit moves that definition to its correct\nplace.\n\nChange-Id: Idec2961e6c820524290a20655930a2bfd2898621\nCloses-Bug: 1798835\n""}]",1,611899,f0cde86ee68027bd66597f2e4b8db4e10fa81e0b,13,5,2,11600,,,0,"Move KUBERNETES_NODE_NAME env var to controller

KUBERNETES_NODE_NAME environment variable was defined in kuryr-daemon
DaemonSet instead of in kuryr-controller's Deployment. As it's only used
by kuryr-controller, this commit moves that definition to its correct
place.

Change-Id: Idec2961e6c820524290a20655930a2bfd2898621
Closes-Bug: 1798835
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/611899/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,66f104f19814b7d633e9253436fe1953dfd878e6,bug/1798835, env: - name: KUBERNETES_NODE_NAME valueFrom: fieldRef: fieldPath: spec.nodeName, - name: KUBERNETES_NODE_NAME valueFrom: fieldRef: fieldPath: spec.nodeName,5,4
openstack%2Fpython-cloudkittyclient~master~I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24,openstack/python-cloudkittyclient,master,I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24,Fix oslo_debug_helper not running,MERGED,2017-02-21 15:39:15.000000000,2018-10-26 13:40:56.000000000,2018-10-26 13:40:56.000000000,"[{'_account_id': 3}, {'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 15917}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 22589}, {'_account_id': 22932}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-02-21 15:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/58fdedec0727161b0d240d531adec88982885bf9', 'message': ""Fix oslo_debug_helper not running\n\nSpecify test directory so that tox won't complain\n`ImportError: Start directory is not importable`\n\nChange-Id: I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24\n""}, {'number': 2, 'created': '2018-01-31 09:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2d792d39a65df9f75904086bba013dce35e77779', 'message': ""Fix oslo_debug_helper not running\n\nSpecify test directory so that tox won't complain\n`ImportError: Start directory is not importable`\n\nChange-Id: I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24\n""}, {'number': 3, 'created': '2018-10-23 11:50:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/378ee671176c1ef1dc8a1ce049af6a359c85e2f4', 'message': ""Fix oslo_debug_helper not running\n\nSpecify test directory so that tox won't complain\n`ImportError: Start directory is not importable`\n\nChange-Id: I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24\n""}]",0,436506,378ee671176c1ef1dc8a1ce049af6a359c85e2f4,19,14,3,21797,,,0,"Fix oslo_debug_helper not running

Specify test directory so that tox won't complain
`ImportError: Start directory is not importable`

Change-Id: I16fff5a8a43da50e4db8fbc5ef32cb59b0ba7f24
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/06/436506/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,58fdedec0727161b0d240d531adec88982885bf9,fix_debug,commands = oslo_debug_helper -t cloudkittyclient/tests {posargs},commands = oslo_debug_helper {posargs},1,1
openstack%2Fopenstack-manuals~master~I0012ef64f68a9dd477057bd701ad9c5f03802606,openstack/openstack-manuals,master,I0012ef64f68a9dd477057bd701ad9c5f03802606,Imported Translations from Zanata,MERGED,2018-10-26 08:44:24.000000000,2018-10-26 13:35:45.000000000,2018-10-26 13:35:45.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 08:44:24.000000000', 'files': ['doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/glossary/source/locale/ru/LC_MESSAGES/glossary.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/ru/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/793c61d9ba3b1f280cf849ec2ea3658140c4fee7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0012ef64f68a9dd477057bd701ad9c5f03802606\n'}]",0,613533,793c61d9ba3b1f280cf849ec2ea3658140c4fee7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0012ef64f68a9dd477057bd701ad9c5f03802606
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/33/613533/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/glossary/source/locale/ru/LC_MESSAGES/glossary.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/ru/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po']",10,793c61d9ba3b1f280cf849ec2ea3658140c4fee7,zanata/translations,"""POT-Creation-Date: 2018-10-26 01:41+0000\n""""X-Generator: Zanata 4.3.3\n""","""POT-Creation-Date: 2017-12-02 21:25+0000\n""""X-Generator: Zanata 3.9.6\n""""The code name for the fifteenth release of OpenStack. The design summit will "" ""take place in Barcelona, Spain. Ocata is a beach north of Barcelona."" msgstr """" ""OpenStack の 14 番目のリリースのコード名。デザインサミットは、スペインのバル"" ""セロナで開催される。Ocata はバルセロナ北部のビーチ。"" msgid """"""The code name for the seventeenth release of OpenStack. The design summit "" ""will take place in Sydney, Australia. The release is named after the Queens "" ""Pound river in the South Coast region of New South Wales."" msgstr """" ""OpenStack の 17 番目のリリースのコード名。デザインサミットは、オーストラリア"" ""のシドニーで開催される。リリースの名前は、 ニューサウスウェールズ州のサウス"" ""コースト地域の Queens Pound 川にちなんでいる。"" msgid """"""The code name for the sixteenth release of OpenStack. The design summit will "" ""take place in Boston, Massachusetts, US. The release is named after the "" ""Massachusetts Turnpike, abbreviated commonly as the Mass Pike, which is the "" ""easternmost stretch of Interstate 90."" msgstr """" ""OpenStack の 16 番目のリリースのコード名。デザインサミットは、アメリカ合衆国"" ""マサチューセッツ州のボストンで開催される。リリースの名前は、 Interstate 90 "" ""(州間高速道路 90 号線) の最も東側の部分である Massachusetts Turnpike 、通称 "" ""Mass Pike にちなんでいる。"" msgid """"",95,328
openstack%2Fopenstack-ansible-haproxy_server~stable%2Frocky~Ia7da4523e726db04f85b1ebd49bf5ec4e31fe727,openstack/openstack-ansible-haproxy_server,stable/rocky,Ia7da4523e726db04f85b1ebd49bf5ec4e31fe727,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:43:30.000000000,2018-10-26 13:31:31.000000000,2018-10-26 13:31:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:43:30.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/5a418aaa438481c5bba7155598a266940ef74e52', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Ia7da4523e726db04f85b1ebd49bf5ec4e31fe727\nCloses-Bug: #1792131\n(cherry picked from commit 72bbe3eef513a34b066bfb3ccf22287197c3d027)\n'}]",0,608716,5a418aaa438481c5bba7155598a266940ef74e52,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Ia7da4523e726db04f85b1ebd49bf5ec4e31fe727
Closes-Bug: #1792131
(cherry picked from commit 72bbe3eef513a34b066bfb3ccf22287197c3d027)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/16/608716/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,5a418aaa438481c5bba7155598a266940ef74e52,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Frocky~Ibddb45adf164c47ed848a3aab5f2ae40d4021eac,openstack/openstack-ansible-ceph_client,stable/rocky,Ibddb45adf164c47ed848a3aab5f2ae40d4021eac,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:41:27.000000000,2018-10-26 13:31:31.000000000,2018-10-26 13:31:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:41:27.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/edfecb10f42e92e581db76eb6a9901d8220d7d8b', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Ibddb45adf164c47ed848a3aab5f2ae40d4021eac\nCloses-Bug: #1792131\n(cherry picked from commit d285fe6602fe6b43e1dd939e96fb5677aa2ce88c)\n'}]",0,608708,edfecb10f42e92e581db76eb6a9901d8220d7d8b,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Ibddb45adf164c47ed848a3aab5f2ae40d4021eac
Closes-Bug: #1792131
(cherry picked from commit d285fe6602fe6b43e1dd939e96fb5677aa2ce88c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/08/608708/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,edfecb10f42e92e581db76eb6a9901d8220d7d8b,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_rally~stable%2Frocky~I0d21902d90b623f9c9a799d26fbaf3b83c999147,openstack/openstack-ansible-os_rally,stable/rocky,I0d21902d90b623f9c9a799d26fbaf3b83c999147,Replace Chinese punctuation with English punctuation,MERGED,2018-10-09 13:18:28.000000000,2018-10-26 13:30:12.000000000,2018-10-26 13:30:12.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-09 13:18:28.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/c53b3647e562bfbcda2ea608c0de60ad7e814156', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I0d21902d90b623f9c9a799d26fbaf3b83c999147\nCloses-Bug: #1792131\n(cherry picked from commit 6cd6e81a8d7860cfad0e2168535c5784e735b5c7)\n'}]",0,608965,c53b3647e562bfbcda2ea608c0de60ad7e814156,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I0d21902d90b623f9c9a799d26fbaf3b83c999147
Closes-Bug: #1792131
(cherry picked from commit 6cd6e81a8d7860cfad0e2168535c5784e735b5c7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/65/608965/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,c53b3647e562bfbcda2ea608c0de60ad7e814156,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-tests~master~I80ed525d759d316620c77b688469aeedc13692bc,openstack/openstack-ansible-tests,master,I80ed525d759d316620c77b688469aeedc13692bc,Add bionic py3 test and switch linters/integrated to bionic,MERGED,2018-10-23 11:46:33.000000000,2018-10-26 13:30:11.000000000,2018-10-26 13:30:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-23 11:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ee5d3081c426546b351fd0d90e9c4da9639fa7c3', 'message': 'Add bionic py3 test and switch linters/integrated to bionic\n\nAs we switch Stein towards being primarily tested via bionic,\nwe add a py3 job for bionic, switch the linters test to use\nbionic and finally switch the integrated experimental job to\nuse bionic instead of xenial.\n\nChange-Id: I80ed525d759d316620c77b688469aeedc13692bc\n'}, {'number': 2, 'created': '2018-10-25 07:10:42.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3210fd8366bd169430be53870356077fcf250997', 'message': 'Add bionic py3 test and switch linters/integrated to bionic\n\nAs we switch Stein towards being primarily tested via bionic,\nwe add a py3 job for bionic, switch the linters test to use\nbionic and finally switch the integrated experimental job to\nuse bionic instead of xenial.\n\nDepends-On: https://review.openstack.org/613030\nChange-Id: I80ed525d759d316620c77b688469aeedc13692bc\n'}]",0,612672,3210fd8366bd169430be53870356077fcf250997,9,3,2,6816,,,0,"Add bionic py3 test and switch linters/integrated to bionic

As we switch Stein towards being primarily tested via bionic,
we add a py3 job for bionic, switch the linters test to use
bionic and finally switch the integrated experimental job to
use bionic instead of xenial.

Depends-On: https://review.openstack.org/613030
Change-Id: I80ed525d759d316620c77b688469aeedc13692bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/72/612672/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ee5d3081c426546b351fd0d90e9c4da9639fa7c3,, nodeset: ubuntu-bionic nodeset: ubuntu-bionic nodeset: ubuntu-bionic name: openstack-ansible-python3-ubuntu-bionic parent: openstack-ansible-functional-ubuntu-bionic vars: tox_env: func_py3 - job:, nodeset: ubuntu-xenial nodeset: ubuntu-xenial,9,2
openstack%2Fopenstack-ansible-pip_install~stable%2Frocky~I38f2a5cebdd7ddc09fbedd5e2f32c3b0c9f8d21e,openstack/openstack-ansible-pip_install,stable/rocky,I38f2a5cebdd7ddc09fbedd5e2f32c3b0c9f8d21e,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:15.000000000,2018-10-26 13:30:11.000000000,2018-10-26 13:30:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:15.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/671e7129ad3dcf20bdda942842f9f76203bf5a5e', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I38f2a5cebdd7ddc09fbedd5e2f32c3b0c9f8d21e\nCloses-Bug: #1792131\n(cherry picked from commit b8d23ded514a886735f51184e61242a269278347)\n'}]",0,608711,671e7129ad3dcf20bdda942842f9f76203bf5a5e,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I38f2a5cebdd7ddc09fbedd5e2f32c3b0c9f8d21e
Closes-Bug: #1792131
(cherry picked from commit b8d23ded514a886735f51184e61242a269278347)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/11/608711/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,671e7129ad3dcf20bdda942842f9f76203bf5a5e,, the 'backport potential' tag TO THE ISSUE (not the PR)., the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Frocky~I5fbd000bbc3f8584ef937dbe9cc6daa7e94fe568,openstack/openstack-ansible-rsyslog_client,stable/rocky,I5fbd000bbc3f8584ef937dbe9cc6daa7e94fe568,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:08.000000000,2018-10-26 13:30:10.000000000,2018-10-26 13:30:10.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:08.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/1875715304a09e20f9fe0adb4cf5e5b34fb57527', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I5fbd000bbc3f8584ef937dbe9cc6daa7e94fe568\nCloses-Bug: #1792131\n(cherry picked from commit 7d9e2ed01913d38676a822331f08dcd724223932)\n'}]",0,608710,1875715304a09e20f9fe0adb4cf5e5b34fb57527,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I5fbd000bbc3f8584ef937dbe9cc6daa7e94fe568
Closes-Bug: #1792131
(cherry picked from commit 7d9e2ed01913d38676a822331f08dcd724223932)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/10/608710/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,1875715304a09e20f9fe0adb4cf5e5b34fb57527,, the 'backport potential' tag TO THE ISSUE (not the PR)., the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Frocky~Iffeef776e033d296823d0285d682e38513dc747b,openstack/openstack-ansible-os_ceilometer,stable/rocky,Iffeef776e033d296823d0285d682e38513dc747b,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:21.000000000,2018-10-26 13:30:09.000000000,2018-10-26 13:30:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:21.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e094798062a2716f34e318e217edbdc046a8ada8', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Iffeef776e033d296823d0285d682e38513dc747b\nCloses-Bug: #1792131\n(cherry picked from commit 01c3f63e02244a69e5ae9dc41c41eb9575f7617f)\n'}]",0,608712,e094798062a2716f34e318e217edbdc046a8ada8,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Iffeef776e033d296823d0285d682e38513dc747b
Closes-Bug: #1792131
(cherry picked from commit 01c3f63e02244a69e5ae9dc41c41eb9575f7617f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/12/608712/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,e094798062a2716f34e318e217edbdc046a8ada8,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Frocky~Ie97d60d7ef3f6fa4503b9de2ce80cc4c6d55cb32,openstack/openstack-ansible-rsyslog_server,stable/rocky,Ie97d60d7ef3f6fa4503b9de2ce80cc4c6d55cb32,Replace Chinese punctuation with English punctuation,MERGED,2018-10-09 13:17:03.000000000,2018-10-26 13:28:42.000000000,2018-10-26 13:28:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-09 13:17:03.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/35ff583119c7449206909956f28118b9e65c888c', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Ie97d60d7ef3f6fa4503b9de2ce80cc4c6d55cb32\nCloses-Bug: #1792131\n(cherry picked from commit 526a066d0b6876c43f3c3c3f36c47eecb49f2961)\n'}]",0,608962,35ff583119c7449206909956f28118b9e65c888c,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Ie97d60d7ef3f6fa4503b9de2ce80cc4c6d55cb32
Closes-Bug: #1792131
(cherry picked from commit 526a066d0b6876c43f3c3c3f36c47eecb49f2961)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/62/608962/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,35ff583119c7449206909956f28118b9e65c888c,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-os_nova~master~Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc,openstack/openstack-ansible-os_nova,master,Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc,Use distro_install project-template,MERGED,2018-10-06 22:18:10.000000000,2018-10-26 13:28:42.000000000,2018-10-26 13:28:42.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-06 22:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0fa11443a5f91594912b52b822a53d5b61fa7208', 'message': 'Switch to using distro_install project-template\n\nDepends-On: I404b17a086cde1a86332f05fd1da0bb9c720cf9c\nChange-Id: Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc\n'}, {'number': 2, 'created': '2018-10-23 10:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f89d5d8eb0e451d2ad736b7e258219188c595ec4', 'message': 'Use distro_install project-template and bionic/lxd\n\nWe use the distro_install template, and switch the LXD\ntest to use bionic.\n\nDepends-On: I404b17a086cde1a86332f05fd1da0bb9c720cf9c\nChange-Id: Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc\n'}, {'number': 3, 'created': '2018-10-23 13:16:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1d4238ae4c4c892bca04b4014e387ed00a47177d', 'message': 'Use distro_install project-template\n\nDepends-On: I404b17a086cde1a86332f05fd1da0bb9c720cf9c\nChange-Id: Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc\n'}]",0,608431,1d4238ae4c4c892bca04b4014e387ed00a47177d,21,5,3,1004,,,0,"Use distro_install project-template

Depends-On: I404b17a086cde1a86332f05fd1da0bb9c720cf9c
Change-Id: Iefe8e920b1f1fb167b9b3bbcaabdab0bf857dacc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/31/608431/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0fa11443a5f91594912b52b822a53d5b61fa7208,distro-project-template, - openstack-ansible-role-distro_install-jobs, - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 # NOTE(hwoarang) xenial does not currently work. It needs investigation - openstack-ansible-functional-distro_install-ubuntu-xenial: voting: false - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423,1,7
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Frocky~I9f4163c2b7d7aa404beda8ff59a6ff09ec2af231,openstack/openstack-ansible-lxc_container_create,stable/rocky,I9f4163c2b7d7aa404beda8ff59a6ff09ec2af231,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:25.000000000,2018-10-26 13:28:41.000000000,2018-10-26 13:28:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:25.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/103bf69d21304383e35451c1fe427f07df48dffc', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I9f4163c2b7d7aa404beda8ff59a6ff09ec2af231\nCloses-Bug: #1792131\n(cherry picked from commit 782319dd69bdbd9f7b068c8c5064a26e7a77904e)\n'}]",0,608713,103bf69d21304383e35451c1fe427f07df48dffc,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I9f4163c2b7d7aa404beda8ff59a6ff09ec2af231
Closes-Bug: #1792131
(cherry picked from commit 782319dd69bdbd9f7b068c8c5064a26e7a77904e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/13/608713/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,103bf69d21304383e35451c1fe427f07df48dffc,, 'backport potential' tag TO THE ISSUE (not the PR)., ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~Ib53c73bbc41683d090025750be24dade8ff066b0,openstack/openstack-ansible-lxc_hosts,stable/rocky,Ib53c73bbc41683d090025750be24dade8ff066b0,Replace Chinese punctuation with English punctuation,MERGED,2018-10-09 13:18:33.000000000,2018-10-26 13:27:03.000000000,2018-10-26 13:27:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-09 13:18:33.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/91076def10547ec56f42dd042a17678885416517', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Ib53c73bbc41683d090025750be24dade8ff066b0\nCloses-Bug: #1792131\n(cherry picked from commit 2b1a0818955268f836464a549198f1d2270889dd)\n'}]",0,608966,91076def10547ec56f42dd042a17678885416517,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Ib53c73bbc41683d090025750be24dade8ff066b0
Closes-Bug: #1792131
(cherry picked from commit 2b1a0818955268f836464a549198f1d2270889dd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/66/608966/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,91076def10547ec56f42dd042a17678885416517,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fqueens~Ic6689387a28539b7eb341d55a9db08f078e8e975,openstack/openstack-ansible-lxc_hosts,stable/queens,Ic6689387a28539b7eb341d55a9db08f078e8e975,Use consistent apt options for upgrades,MERGED,2018-10-26 08:31:21.000000000,2018-10-26 13:27:02.000000000,2018-10-26 13:27:02.000000000,"[{'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-26 08:31:21.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/87bd7600588d224ec8270e7b635340284374afc9', 'message': ""Use consistent apt options for upgrades\n\nThe 'apt-get upgrade' does not set confdef and confold currently, so an\nupgrade which requires user input can break the cache build[1].\n\n[1] http://paste.openstack.org/raw/733076/\n\nChange-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975\n""}]",0,613527,87bd7600588d224ec8270e7b635340284374afc9,10,4,1,6816,,,0,"Use consistent apt options for upgrades

The 'apt-get upgrade' does not set confdef and confold currently, so an
upgrade which requires user input can break the cache build[1].

[1] http://paste.openstack.org/raw/733076/

Change-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/27/613527/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,87bd7600588d224ec8270e7b635340284374afc9,, apt-get upgrade -y {{ lxc_cache_install_debconf }}, apt-get upgrade -y,1,1
openstack%2Fopenstack-ansible-os_zaqar~stable%2Frocky~I93499fc9fd9445e47397ffc2ddfae9ac5bba3861,openstack/openstack-ansible-os_zaqar,stable/rocky,I93499fc9fd9445e47397ffc2ddfae9ac5bba3861,Replace Chinese punctuation with English punctuation,MERGED,2018-10-10 15:08:05.000000000,2018-10-26 13:26:55.000000000,2018-10-26 13:26:55.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-10 15:08:05.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/1a0bf1eb8a22cb87d35ada446ad775458021b420', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I93499fc9fd9445e47397ffc2ddfae9ac5bba3861\nCloses-Bug: #1792131\n(cherry picked from commit 4fd209d9692c17cb3b09df892f57ddafd5ed39e9)\n'}]",0,609447,1a0bf1eb8a22cb87d35ada446ad775458021b420,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I93499fc9fd9445e47397ffc2ddfae9ac5bba3861
Closes-Bug: #1792131
(cherry picked from commit 4fd209d9692c17cb3b09df892f57ddafd5ed39e9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/47/609447/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,1a0bf1eb8a22cb87d35ada446ad775458021b420,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fcharm-openstack-dashboard~master~I74930cf363fe652a34d7ad86cdc493b15557ed40,openstack/charm-openstack-dashboard,master,I74930cf363fe652a34d7ad86cdc493b15557ed40,Use bytes instead of str for writing SSL files,MERGED,2018-10-26 10:39:14.000000000,2018-10-26 13:26:53.000000000,2018-10-26 13:26:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 10:39:14.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e41371802f469e7aa701792a157a3860fe875ef6', 'message': 'Use bytes instead of str for writing SSL files\n\nChange-Id: I74930cf363fe652a34d7ad86cdc493b15557ed40\nCloses-Bug: #1799877\n'}]",0,613553,e41371802f469e7aa701792a157a3860fe875ef6,7,3,1,20634,,,0,"Use bytes instead of str for writing SSL files

Change-Id: I74930cf363fe652a34d7ad86cdc493b15557ed40
Closes-Bug: #1799877
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/53/613553/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,e41371802f469e7aa701792a157a3860fe875ef6,bug/1799877," call('/etc/ssl/certs/dashboard.cert', 'wb'), call('/etc/ssl/private/dashboard.key', 'wb')"," call('/etc/ssl/certs/dashboard.cert', 'w'), call('/etc/ssl/private/dashboard.key', 'w')",4,4
openstack%2Fopenstack-ansible-os_aodh~stable%2Frocky~Ia1ddc4e86d3e989bf5b82538170999741930bd79,openstack/openstack-ansible-os_aodh,stable/rocky,Ia1ddc4e86d3e989bf5b82538170999741930bd79,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:37.000000000,2018-10-26 13:26:24.000000000,2018-10-26 13:26:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:37.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/31f331990626be21c4faa82ada1c94e1d5ac852a', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Ia1ddc4e86d3e989bf5b82538170999741930bd79\nCloses-Bug: #1792131\n(cherry picked from commit ab10448ed2245b2db0618c327437550c6c90f43e)\n'}]",0,608715,31f331990626be21c4faa82ada1c94e1d5ac852a,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Ia1ddc4e86d3e989bf5b82538170999741930bd79
Closes-Bug: #1792131
(cherry picked from commit ab10448ed2245b2db0618c327437550c6c90f43e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/15/608715/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,31f331990626be21c4faa82ada1c94e1d5ac852a,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-repo_build~stable%2Frocky~Id4953185deca6a7387ea59ab229bb294f27eac89,openstack/openstack-ansible-repo_build,stable/rocky,Id4953185deca6a7387ea59ab229bb294f27eac89,Replace Chinese punctuation with English punctuation,MERGED,2018-10-08 15:42:30.000000000,2018-10-26 13:25:59.000000000,2018-10-26 13:25:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-08 15:42:30.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/9393a80584afecee430faa0e845a82e6f8e38388', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: Id4953185deca6a7387ea59ab229bb294f27eac89\nCloses-Bug: #1792131\n(cherry picked from commit ea34aeee231261814e3d95dfab9a85e85acae07c)\n'}]",0,608714,9393a80584afecee430faa0e845a82e6f8e38388,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: Id4953185deca6a7387ea59ab229bb294f27eac89
Closes-Bug: #1792131
(cherry picked from commit ea34aeee231261814e3d95dfab9a85e85acae07c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/14/608714/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,9393a80584afecee430faa0e845a82e6f8e38388,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Frocky~I4ebc4754064fd5f617a419eb75bee123872249a7,openstack/openstack-ansible-rabbitmq_server,stable/rocky,I4ebc4754064fd5f617a419eb75bee123872249a7,Replace Chinese punctuation with English punctuation,MERGED,2018-10-09 13:18:38.000000000,2018-10-26 13:25:24.000000000,2018-10-26 13:25:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-09 13:18:38.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8a7dbe6593d842a5aa3c52abb21f850187d1ec24', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I4ebc4754064fd5f617a419eb75bee123872249a7\nCloses-Bug: #1792131\n(cherry picked from commit efe27a2d01fdb8d1981c8ff62b715d632a8dbc08)\n'}]",0,608967,8a7dbe6593d842a5aa3c52abb21f850187d1ec24,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I4ebc4754064fd5f617a419eb75bee123872249a7
Closes-Bug: #1792131
(cherry picked from commit efe27a2d01fdb8d1981c8ff62b715d632a8dbc08)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/67/608967/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,8a7dbe6593d842a5aa3c52abb21f850187d1ec24,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-nspawn_hosts~stable%2Frocky~I14960fda86e95657bf489f3ce100733475c19b45,openstack/openstack-ansible-nspawn_hosts,stable/rocky,I14960fda86e95657bf489f3ce100733475c19b45,Replace Chinese punctuation with English punctuation,MERGED,2018-10-10 15:08:17.000000000,2018-10-26 13:24:56.000000000,2018-10-26 13:24:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-10 15:08:17.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/5140f304cdcb4d69ea3da9b9844d0fc15635f32f', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I14960fda86e95657bf489f3ce100733475c19b45\nCloses-Bug: #1792131\n(cherry picked from commit deaa0730c94f353039f944e6b71506a38daef32b)\n'}]",0,609450,5140f304cdcb4d69ea3da9b9844d0fc15635f32f,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I14960fda86e95657bf489f3ce100733475c19b45
Closes-Bug: #1792131
(cherry picked from commit deaa0730c94f353039f944e6b71506a38daef32b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/50/609450/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,5140f304cdcb4d69ea3da9b9844d0fc15635f32f,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-tests~master~I46756bc0db6baa9487dffccce3e64cd5d035fd3c,openstack/openstack-ansible-tests,master,I46756bc0db6baa9487dffccce3e64cd5d035fd3c,Clean up unused upgrade test tooling,MERGED,2018-10-25 13:54:23.000000000,2018-10-26 13:23:07.000000000,2018-10-26 13:23:07.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 13:54:23.000000000', 'files': ['test-ansible-env-prep.sh', 'test-create-previous-venv.sh', 'run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3e807d9186736b4a347e7cc8fd736dd86b7b83fe', 'message': ""Clean up unused upgrade test tooling\n\nIt has been discussed and decided at the last two PTG's\nthat upgrade testing in roles is broken in the current\nstate and that we need to make use of the integrated\nrepo for upgrade tests. As such these old tools are no\nlonger required.\n\nChange-Id: I46756bc0db6baa9487dffccce3e64cd5d035fd3c\n""}]",0,613332,3e807d9186736b4a347e7cc8fd736dd86b7b83fe,9,4,1,6816,,,0,"Clean up unused upgrade test tooling

It has been discussed and decided at the last two PTG's
that upgrade testing in roles is broken in the current
state and that we need to make use of the integrated
repo for upgrade tests. As such these old tools are no
longer required.

Change-Id: I46756bc0db6baa9487dffccce3e64cd5d035fd3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/32/613332/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-env-prep.sh', 'test-create-previous-venv.sh', 'run_tests_common.sh']",3,3e807d9186736b4a347e7cc8fd736dd86b7b83fe,cleanup-role-tests,,"# Set the source branch for upgrade tests # Be sure to change this whenever a new stable branch # is created. The checkout must always be N-1. UPGRADE_SOURCE_BRANCH=${UPGRADE_SOURCE_BRANCH:-'stable/queens'} # If this test set includes an upgrade test, the # previous stable release tests repo must also be # cloned. # Note: # Dependent patches to the previous stable release # tests repo are not supported. if [[ ! -d ""${COMMON_TESTS_PATH}/previous"" ]]; then git clone -b ${UPGRADE_SOURCE_BRANCH} \ https://git.openstack.org/openstack/openstack-ansible-tests \ ${COMMON_TESTS_PATH}/previous fi ",0,63
openstack%2Fopenstacksdk~master~I276433591a90ec38b9b0a6f3fd62297ac02f3793,openstack/openstacksdk,master,I276433591a90ec38b9b0a6f3fd62297ac02f3793,Add disk and container format to image task test,ABANDONED,2018-10-25 15:04:23.000000000,2018-10-26 13:16:28.000000000,,[],"[{'number': 1, 'created': '2018-10-25 15:04:23.000000000', 'files': ['openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3a8487246871b05ffacbf7682baba43cff09f975', 'message': ""Add disk and container format to image task test\n\nWe had a regression in the latest release of openstacksdk that was due\nto sending disk_format and container_format in the update properties\ncall after creating the image with tasks.\n\nAdd disk_format and container_format arguments so that we can ensure\nthey don't get sent.\n\nChange-Id: I276433591a90ec38b9b0a6f3fd62297ac02f3793\n""}]",0,613349,3a8487246871b05ffacbf7682baba43cff09f975,2,0,1,2,,,0,"Add disk and container format to image task test

We had a regression in the latest release of openstacksdk that was due
to sending disk_format and container_format in the update properties
call after creating the image with tasks.

Add disk_format and container_format arguments so that we can ensure
they don't get sent.

Change-Id: I276433591a90ec38b9b0a6f3fd62297ac02f3793
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/613349/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/cloud/test_image.py'],1,3a8487246871b05ffacbf7682baba43cff09f975,," disk_format='vhd', container_format='ovf',",,1,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I1e844b0bfa41296075221992472d9369242e22ee,openstack/openstack-ansible-rabbitmq_server,master,I1e844b0bfa41296075221992472d9369242e22ee,Clean up a-r-r role for upgrade test removal,MERGED,2018-10-25 13:49:25.000000000,2018-10-26 13:08:07.000000000,2018-10-26 13:08:06.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 13:49:25.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/eb5f19cdd1efec73311b1f6ea002558517f98f4e', 'message': 'Clean up a-r-r role for upgrade test removal\n\nIn I473b4162e141e05692e89f0420ea74c745dfc9e5 we forgot\nto remove the ansible-role-requirements.yml entry for\nprevious_rabbitmq_server, so we do it here.\n\nChange-Id: I1e844b0bfa41296075221992472d9369242e22ee\n'}]",0,613331,eb5f19cdd1efec73311b1f6ea002558517f98f4e,9,4,1,6816,,,0,"Clean up a-r-r role for upgrade test removal

In I473b4162e141e05692e89f0420ea74c745dfc9e5 we forgot
to remove the ansible-role-requirements.yml entry for
previous_rabbitmq_server, so we do it here.

Change-Id: I1e844b0bfa41296075221992472d9369242e22ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/31/613331/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,eb5f19cdd1efec73311b1f6ea002558517f98f4e,cleanup-role-tests,,- name: previous_rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server scm: git version: stable/queens,0,4
openstack%2Fopenstack-ansible-os_keystone~stable%2Fpike~Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,openstack/openstack-ansible-os_keystone,stable/pike,Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,Add memcache flushing handler on db migrations,MERGED,2018-10-25 13:16:25.000000000,2018-10-26 13:06:46.000000000,2018-10-26 13:06:46.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 27926}]","[{'number': 1, 'created': '2018-10-25 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b68b534ae629734200b7c166facc864291e01c14', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}, {'number': 2, 'created': '2018-10-25 13:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a520c727a18420f85db45ae5da8c173f6add67cd', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}, {'number': 3, 'created': '2018-10-25 13:22:23.000000000', 'files': ['tasks/keystone_db_setup.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0b4eb4162a34d2f9947aca2f9e7f42504b5ba010', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nDepends-On: https://review.openstack.org/613292\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}]",0,613323,0b4eb4162a34d2f9947aca2f9e7f42504b5ba010,13,6,3,6816,,,0,"Add memcache flushing handler on db migrations

Flushing cache when schema changes occur to avoid drift between
what might be cached and what keystone queries expect.

Given that this is a workaround which is only usually required
in major upgrades (and should really be handled in process by
keystone itself), we make the execution optional so that it can
be set to happen only on major upgrades.

To prevent test breakage as happened in master, we combine the
two master patches into one for the backport:

https://review.openstack.org/608066
https://review.openstack.org/613256

Depends-On: https://review.openstack.org/613292
Change-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840
Closes-Bug: 1793389
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/23/613323/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_db_setup.yml', 'handlers/main.yml', 'defaults/main.yml']",3,b68b534ae629734200b7c166facc864291e01c14,bug/1793389," # Toggle whether memcache should be flushed when doing # database migrations. This is sometimes useful when # doing upgrades, but should not usually be required. # ref: https://bugs.launchpad.net/openstack-ansible/+bug/1793389 keystone_flush_memcache: no",keystone_extra_headers: [],22,1
openstack%2Fcloudkitty-dashboard~master~If44a7359a9d98276da85d3df0d961beab49c900f,openstack/cloudkitty-dashboard,master,If44a7359a9d98276da85d3df0d961beab49c900f,Update reno for stable/ocata,MERGED,2017-02-02 21:57:37.000000000,2018-10-26 12:51:58.000000000,2018-10-26 12:51:58.000000000,"[{'_account_id': 3}, {'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-02-02 21:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/aad8f8988ad0209b1a0842087dd311f0db375ce3', 'message': 'Update reno for stable/ocata\n\nChange-Id: If44a7359a9d98276da85d3df0d961beab49c900f\n'}, {'number': 2, 'created': '2018-10-23 12:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/8d81d077eac879775dfa3dc6179c69ef90819bd0', 'message': 'Update reno for stable/ocata\n\nChange-Id: If44a7359a9d98276da85d3df0d961beab49c900f\n'}, {'number': 3, 'created': '2018-10-23 12:55:06.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/2cf42c94a3f7a300049db1f54220c4630f1493f1', 'message': 'Update reno for stable/ocata\n\nChange-Id: If44a7359a9d98276da85d3df0d961beab49c900f\n'}]",0,428457,2cf42c94a3f7a300049db1f54220c4630f1493f1,14,5,3,22816,,,0,"Update reno for stable/ocata

Change-Id: If44a7359a9d98276da85d3df0d961beab49c900f
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/57/428457/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst']",2,aad8f8988ad0209b1a0842087dd311f0db375ce3,reno-ocata, ocata,,7,0
openstack%2Fmonasca-agent~master~I69af917eea10aa8c5633a6668c39e03fc315f81d,openstack/monasca-agent,master,I69af917eea10aa8c5633a6668c39e03fc315f81d,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:15:21.000000000,2018-10-26 12:49:29.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 02:15:21.000000000', 'files': ['tests_to_fix/test_elastic.py', 'monasca_agent/collector/checks_d/cert_check.py', 'monasca_agent/collector/checks_d/apache.py', 'monasca_agent/collector/checks_d/rabbitmq.py', 'monasca_setup/detection/service_plugin.py', 'monasca_agent/collector/checks_d/cadvisor_host.py', 'monasca_agent/collector/checks_d/elastic.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a59624cd365cf5843fdf43dcc919ba4c050cc664', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I69af917eea10aa8c5633a6668c39e03fc315f81d\n'}]",0,613467,a59624cd365cf5843fdf43dcc919ba4c050cc664,4,2,1,27382,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I69af917eea10aa8c5633a6668c39e03fc315f81d
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/67/613467/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests_to_fix/test_elastic.py', 'monasca_agent/collector/checks_d/cert_check.py', 'monasca_agent/collector/checks_d/apache.py', 'monasca_agent/collector/checks_d/rabbitmq.py', 'monasca_setup/detection/service_plugin.py', 'monasca_agent/collector/checks_d/cadvisor_host.py', 'monasca_agent/collector/checks_d/elastic.py']",7,a59624cd365cf5843fdf43dcc919ba4c050cc664,fix_url_version,try: import urlparse except ImportError: import urllib.parse as urlparse,import urlparse,29,12
openstack%2Fneutron~stable%2Fqueens~I9d129f0e90a072ec980aadabb2c6b812c08e1618,openstack/neutron,stable/queens,I9d129f0e90a072ec980aadabb2c6b812c08e1618,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-25 07:43:35.000000000,2018-10-26 12:45:07.000000000,2018-10-26 12:45:07.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 07:43:35.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a9450b2036808748668a3439fdcebb77f071c5f', 'message': '[Functional] Increase test_timeout for db migration tests\n\nPatch [1] increased timeouts for test_walk_version functional tests\nfor MySQL backend to 300 seconds to avoid failures due to timeouts.\n\nUnfortunately it looks that on nodes from some cloud providers used\nin the gate and with number of migration scripts which we have in\nNeutron those tests can take sometimes even around 400 seconds.\n\nSo lets increase this to 600 seconds to avoid such failures of\nfunctional tests job.\n\n[1] https://review.openstack.org/#/c/610003/\n\nChange-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618\nCloses-Bug: #1687027\n(cherry picked from commit c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2)\n'}]",0,613231,6a9450b2036808748668a3439fdcebb77f071c5f,19,6,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

Patch [1] increased timeouts for test_walk_version functional tests
for MySQL backend to 300 seconds to avoid failures due to timeouts.

Unfortunately it looks that on nodes from some cloud providers used
in the gate and with number of migration scripts which we have in
Neutron those tests can take sometimes even around 400 seconds.

So lets increase this to 600 seconds to avoid such failures of
functional tests job.

[1] https://review.openstack.org/#/c/610003/

Change-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618
Closes-Bug: #1687027
(cherry picked from commit c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/613231/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,6a9450b2036808748668a3439fdcebb77f071c5f,bug/1687027-stable/queens, @test_base.set_timeout(600), @test_base.set_timeout(300),1,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Focata~Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,openstack/openstack-ansible-os_keystone,stable/ocata,Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840,Add memcache flushing handler on db migrations,MERGED,2018-10-25 13:19:57.000000000,2018-10-26 12:45:06.000000000,2018-10-26 12:45:06.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 27926}]","[{'number': 1, 'created': '2018-10-25 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/63b526a2e85f7cf4bbbe4de2f594e4c6eefb96a2', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}, {'number': 2, 'created': '2018-10-25 13:22:46.000000000', 'files': ['tasks/keystone_db_setup.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b8798d89f8b5537c58a7d3636c47b3513f06bc64', 'message': 'Add memcache flushing handler on db migrations\n\nFlushing cache when schema changes occur to avoid drift between\nwhat might be cached and what keystone queries expect.\n\nGiven that this is a workaround which is only usually required\nin major upgrades (and should really be handled in process by\nkeystone itself), we make the execution optional so that it can\nbe set to happen only on major upgrades.\n\nTo prevent test breakage as happened in master, we combine the\ntwo master patches into one for the backport:\n\nhttps://review.openstack.org/608066\nhttps://review.openstack.org/613256\n\nDepends-On: https://review.openstack.org/613293\nChange-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840\nCloses-Bug: 1793389\n'}]",0,613325,b8798d89f8b5537c58a7d3636c47b3513f06bc64,12,6,2,6816,,,0,"Add memcache flushing handler on db migrations

Flushing cache when schema changes occur to avoid drift between
what might be cached and what keystone queries expect.

Given that this is a workaround which is only usually required
in major upgrades (and should really be handled in process by
keystone itself), we make the execution optional so that it can
be set to happen only on major upgrades.

To prevent test breakage as happened in master, we combine the
two master patches into one for the backport:

https://review.openstack.org/608066
https://review.openstack.org/613256

Depends-On: https://review.openstack.org/613293
Change-Id: Ibf8f3dd60d6f3c446a14dc8228fa005f12fcc840
Closes-Bug: 1793389
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/25/613325/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_db_setup.yml', 'handlers/main.yml', 'defaults/main.yml']",3,63b526a2e85f7cf4bbbe4de2f594e4c6eefb96a2,bug/1793389," # Toggle whether memcache should be flushed when doing # database migrations. This is sometimes useful when # doing upgrades, but should not usually be required. # ref: https://bugs.launchpad.net/openstack-ansible/+bug/1793389 keystone_flush_memcache: no",,22,0
openstack%2Fsushy~master~Id6c6afcd9142bed0a7f59b9f8893fb86975a65bb,openstack/sushy,master,Id6c6afcd9142bed0a7f59b9f8893fb86975a65bb,Follow-up to 27c725c to move up ``cache_clear``,MERGED,2018-10-25 05:28:51.000000000,2018-10-26 12:29:09.000000000,2018-10-26 12:29:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}, {'_account_id': 29209}]","[{'number': 1, 'created': '2018-10-25 05:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/eb93b38dc7d12de776972e21282f5435f7c7eeee', 'message': 'Follow-up to 27c725c to move up ``cache_clear``\n\nMove up ``cache_clear()`` to ``ResourceBase._do_refresh()``\nmethod. It saves on a lot of ``_do_refresh()`` overrides in\nsubclasses.\n\nAlso change to ``Sequence`` (from ``Iterable``) in the caching\nimplementation.\n\nFollow-up of Change: I7ee651a3b1714fa21728d2f90c36af86bd04eb4b\n\nChange-Id: Id6c6afcd9142bed0a7f59b9f8893fb86975a65bb\n'}, {'number': 2, 'created': '2018-10-25 07:28:14.000000000', 'files': ['sushy/resources/system/storage/volume.py', 'sushy/utils.py', 'sushy/resources/manager/manager.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/system/ethernet_interface.py', 'sushy/resources/system/bios.py', 'sushy/resources/base.py', 'sushy/tests/unit/test_utils.py', 'sushy/resources/system/system.py', 'sushy/resources/system/simple_storage.py', 'sushy/resources/system/processor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/28ee59fd79d91d9d0ab2025aa9b1c4aa4b7eed00', 'message': 'Follow-up to 27c725c to move up ``cache_clear``\n\nMove up ``cache_clear()`` to ``ResourceBase._do_refresh()``\nmethod. It saves on a lot of ``_do_refresh()`` overrides in\nsubclasses.\n\nAlso change to ``Sequence`` (from ``Iterable``) in the caching\nimplementation.\n\nFollow-up of Change: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n\nChange-Id: Id6c6afcd9142bed0a7f59b9f8893fb86975a65bb\n'}]",2,613197,28ee59fd79d91d9d0ab2025aa9b1c4aa4b7eed00,11,6,2,16635,,,0,"Follow-up to 27c725c to move up ``cache_clear``

Move up ``cache_clear()`` to ``ResourceBase._do_refresh()``
method. It saves on a lot of ``_do_refresh()`` overrides in
subclasses.

Also change to ``Sequence`` (from ``Iterable``) in the caching
implementation.

Follow-up of Change: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c

Change-Id: Id6c6afcd9142bed0a7f59b9f8893fb86975a65bb
",git fetch https://review.opendev.org/openstack/sushy refs/changes/97/613197/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/volume.py', 'sushy/utils.py', 'sushy/resources/manager/manager.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/system/ethernet_interface.py', 'sushy/resources/system/bios.py', 'sushy/resources/base.py', 'sushy/tests/unit/test_utils.py', 'sushy/resources/system/system.py', 'sushy/resources/system/simple_storage.py', 'sushy/resources/system/processor.py']",12,eb93b38dc7d12de776972e21282f5435f7c7eeee,follow-up,," def _do_refresh(self, force=False): """"""Do custom resource specific refresh activities On refresh, all sub-resources are marked as stale, i.e. greedy-refresh not done for them unless forced by ``force`` argument. """""" super(ProcessorCollection, self)._do_refresh(force=force) utils.cache_clear(self, force)",14,93
openstack%2Finstack-undercloud~master~I03be8381ec776fd769139c79b85470acedc64d2b,openstack/instack-undercloud,master,I03be8381ec776fd769139c79b85470acedc64d2b,Include local_ip & undercloud_admin_host in docker_insecure_registries,ABANDONED,2018-10-24 21:13:58.000000000,2018-10-26 12:01:42.000000000,,"[{'_account_id': 4571}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20936}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-24 21:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/bca0e17aca3b9192aa0561d3362f5b6ccc2f8d0a', 'message': 'Include local_ip & undercloud_admin_host in docker_insecure_registries\n\nThis patch includes by default the local_ip and undercloud_admin_host in\ndocker_insecure_registries parameter, that can be missed but actually\nneeded in some cases.\n\nThis code was done in tripleoclient for the containerized undercloud in\nRocky, so we just need to port it here for stable versions, to have the\nsame behavior.\n\nChange-Id: I03be8381ec776fd769139c79b85470acedc64d2b\nCloses-Bug: #1799784\n'}, {'number': 2, 'created': '2018-10-25 14:09:45.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b34a49d73847cc823f0047652dc4c46dc26c9c3c', 'message': 'Include local_ip & undercloud_admin_host in docker_insecure_registries\n\nThis patch includes by default the local_ip and undercloud_admin_host in\ndocker_insecure_registries parameter, that can be missed but actually\nneeded in some cases.\n\nThis code was done in tripleoclient for the containerized undercloud in\nRocky, so we just need to port it here for stable versions, to have the\nsame behavior.\n\nChange-Id: I03be8381ec776fd769139c79b85470acedc64d2b\nCloses-Bug: #1799784\n'}]",0,613166,b34a49d73847cc823f0047652dc4c46dc26c9c3c,13,6,2,3153,,,0,"Include local_ip & undercloud_admin_host in docker_insecure_registries

This patch includes by default the local_ip and undercloud_admin_host in
docker_insecure_registries parameter, that can be missed but actually
needed in some cases.

This code was done in tripleoclient for the containerized undercloud in
Rocky, so we just need to port it here for stable versions, to have the
same behavior.

Change-Id: I03be8381ec776fd769139c79b85470acedc64d2b
Closes-Bug: #1799784
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/66/613166/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,bca0e17aca3b9192aa0561d3362f5b6ccc2f8d0a,bug/1799784," self.assertEqual(['192.168.24.1:8787', '192.168.24.3:8787', 'http://foo/bar:8787'], insecure_registries)"," self.assertEqual(['http://foo/bar:8787'], insecure_registries)",7,8
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib2b8e8b41ad34daf387d2bfb0c7308c271570f21,openstack/openstack-ansible-lxc_hosts,master,Ib2b8e8b41ad34daf387d2bfb0c7308c271570f21,SUSE: Fix version compare for OBS containers repository,MERGED,2018-10-25 13:56:47.000000000,2018-10-26 12:00:58.000000000,2018-10-26 12:00:58.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 13:56:47.000000000', 'files': ['vars/suse-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/01c72cf58c1fa1fb647ea0d3117e940ebf79a4ed', 'message': ""SUSE: Fix version compare for OBS containers repository\n\nRight now the OBS:Virtualization:containers repository is added to Leap\n15 because the version comparison does not quite work. We need to use the\n'version' test to properly compare distribution versions.\n\nChange-Id: Ib2b8e8b41ad34daf387d2bfb0c7308c271570f21\n""}]",0,613334,01c72cf58c1fa1fb647ea0d3117e940ebf79a4ed,10,17,1,23163,,,0,"SUSE: Fix version compare for OBS containers repository

Right now the OBS:Virtualization:containers repository is added to Leap
15 because the version comparison does not quite work. We need to use the
'version' test to properly compare distribution versions.

Change-Id: Ib2b8e8b41ad34daf387d2bfb0c7308c271570f21
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/34/613334/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse-host.yml'],1,01c72cf58c1fa1fb647ea0d3117e940ebf79a4ed,osa-add-leap-150," state: ""{{ (ansible_distribution_version is version ('42.1', '>=')) | ternary ('present', 'absent') }}"""," state: ""{{ (ansible_distribution_major_version >= 42) | ternary ('present', 'absent') }}""",1,1
openstack%2Fkeystoneauth~master~I8daa94a245e68a62e48f068c09b64223ab751d8e,openstack/keystoneauth,master,I8daa94a245e68a62e48f068c09b64223ab751d8e,Support passing adapter to adapter,ABANDONED,2018-09-05 13:03:05.000000000,2018-10-26 11:56:38.000000000,,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-05 13:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8ded6bc40b76db709c821d4dd5160741feeaec11', 'message': 'Allow loading custom adapters from config\n\nmany clients implement their session clients as subclasses of\n`adapter.Adapter` to add some logic for custom headers etc.\nThis makes it hard to instantiate those clients\ndirectly from config as one has to load `adapter.Adapter` from config,\ndecompose it to kwargs and pass those to client.\n\nThis patch makes it possible to pass an `adapter` kwarg to\n`adapter.load_from_conf_options`, which will use the provided class as\nplugin to load instead of `adapter.Adapter` (default).\n\nChange-Id: I8daa94a245e68a62e48f068c09b64223ab751d8e\n'}, {'number': 2, 'created': '2018-09-14 17:17:24.000000000', 'files': ['keystoneauth1/adapter.py', 'keystoneauth1/loading/adapter.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/26dcb9682236402d487bcd3116bce3ca807c7890', 'message': 'Support passing adapter to adapter\n\nmany clients implement their session clients as subclasses of\n`adapter.Adapter` to add some logic for custom headers etc.\nThis makes it hard to instantiate those clients having an adapter\nloaded from config as one has to decompose it to kwargs before passing those\nto client.\n\nThis patch makes an `adapter.Adapter` to accept an optional `adapter`\nargument that will be used to set all the adapter-related options that\ncould be loaded from config if their correspoonding explicit arguments\nwere not set.\n\nThis will make it possible to create clients like\n\n  session = load_session_from_conf()\n  adapter = load_adapter_from_conf()\n  client = someclient.Client(session, adapter=adapter)\n\nChange-Id: I8daa94a245e68a62e48f068c09b64223ab751d8e\n'}]",1,600033,26dcb9682236402d487bcd3116bce3ca807c7890,14,7,2,9542,,,0,"Support passing adapter to adapter

many clients implement their session clients as subclasses of
`adapter.Adapter` to add some logic for custom headers etc.
This makes it hard to instantiate those clients having an adapter
loaded from config as one has to decompose it to kwargs before passing those
to client.

This patch makes an `adapter.Adapter` to accept an optional `adapter`
argument that will be used to set all the adapter-related options that
could be loaded from config if their correspoonding explicit arguments
were not set.

This will make it possible to create clients like

  session = load_session_from_conf()
  adapter = load_adapter_from_conf()
  client = someclient.Client(session, adapter=adapter)

Change-Id: I8daa94a245e68a62e48f068c09b64223ab751d8e
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/33/600033/2 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/loading/adapter.py'],1,8ded6bc40b76db709c821d4dd5160741feeaec11,adpater-from-adapter," def __init__(self, cls=None): super(Adapter, self).__init__() self.adapter_cls = cls or adapter.Adapter return self.adapter_cls cls = kwargs.pop('adapter', None) return Adapter(cls=cls).load_from_conf_options(*args, **kwargs)"," return adapter.Adapter return Adapter().load_from_conf_options(*args, **kwargs)",7,2
openstack%2Fcharm-nova-cloud-controller~master~Ib5e8578033b70e72c66472dc6e3bee10e8d2d7cb,openstack/charm-nova-cloud-controller,master,Ib5e8578033b70e72c66472dc6e3bee10e8d2d7cb,Update newton config to match others,MERGED,2018-10-25 15:24:13.000000000,2018-10-26 11:56:16.000000000,2018-10-26 11:56:16.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 15:24:13.000000000', 'files': ['templates/newton/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e4d209fdc155c895437f6cd10861943e9e609be2', 'message': 'Update newton config to match others\n\nChange-Id: Ib5e8578033b70e72c66472dc6e3bee10e8d2d7cb\nCloses-Bug: #1799975\n'}]",0,613355,e4d209fdc155c895437f6cd10861943e9e609be2,7,3,1,20634,,,0,"Update newton config to match others

Change-Id: Ib5e8578033b70e72c66472dc6e3bee10e8d2d7cb
Closes-Bug: #1799975
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/55/613355/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/newton/nova.conf'],1,e4d209fdc155c895437f6cd10861943e9e609be2,bug/1799975,"{% for key, value in network_manager_config.items() -%}","{% for key, value in network_manager_config.iteritems() -%}",1,1
openstack%2Fopenstack-ansible-os_magnum~stable%2Fqueens~I91d4873d94ce85a0768c441df9e0701da1706115,openstack/openstack-ansible-os_magnum,stable/queens,I91d4873d94ce85a0768c441df9e0701da1706115,Disable sending metrics for clusters,MERGED,2018-10-21 16:06:08.000000000,2018-10-26 11:47:25.000000000,2018-10-26 11:47:25.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-21 16:06:08.000000000', 'files': ['templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/3ca309fb0498cc506281b4436dd8baa47c7546a6', 'message': 'Disable sending metrics for clusters\n\nThere is a reported issue in Magnum which makes clusters fail\nto provision if the cluster stat reporting is enabled with\nKuberentes 4.0.0\n\nThis patch disables it as the recommended workaround until this\nis resolved upstream.\n\nChange-Id: I91d4873d94ce85a0768c441df9e0701da1706115\n(cherry picked from commit 0d5a2e1d77f7d2e7302de66e9f5b76c6fe7f827c)\n'}]",0,612192,3ca309fb0498cc506281b4436dd8baa47c7546a6,8,4,1,1004,,,0,"Disable sending metrics for clusters

There is a reported issue in Magnum which makes clusters fail
to provision if the cluster stat reporting is enabled with
Kuberentes 4.0.0

This patch disables it as the recommended workaround until this
is resolved upstream.

Change-Id: I91d4873d94ce85a0768c441df9e0701da1706115
(cherry picked from commit 0d5a2e1d77f7d2e7302de66e9f5b76c6fe7f827c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/92/612192/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/magnum.conf.j2'],1,3ca309fb0498cc506281b4436dd8baa47c7546a6,,[drivers] # NOTE(mnaser): Remove this once the following bug is fixed # https://bugs.launchpad.net/magnum/+bug/1746510 send_cluster_metrics = False ,,5,0
openstack%2Fopenstack-ansible-os_magnum~stable%2Fqueens~I8e8b3f769ae58aa8d7ceb22eaf264865790afeed,openstack/openstack-ansible-os_magnum,stable/queens,I8e8b3f769ae58aa8d7ceb22eaf264865790afeed,Use keystone_auth for credentials,MERGED,2018-10-21 16:06:56.000000000,2018-10-26 11:45:58.000000000,2018-10-26 11:45:58.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-21 16:06:56.000000000', 'files': ['templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/709c27d22c5f8bcf18605d015a1eca166cb227ca', 'message': 'Use keystone_auth for credentials\n\nMagnum requires credentials to be stored inside keystone_auth\nin order to be able to properly talk to other services.  This\npatch addresses that and moves those settings in the right place.\n\nChange-Id: I8e8b3f769ae58aa8d7ceb22eaf264865790afeed\n(cherry picked from commit abf2d03b5b4be2d5257804f3d768d56823e2bb6e)\n'}]",0,612193,709c27d22c5f8bcf18605d015a1eca166cb227ca,8,4,1,1004,,,0,"Use keystone_auth for credentials

Magnum requires credentials to be stored inside keystone_auth
in order to be able to properly talk to other services.  This
patch addresses that and moves those settings in the right place.

Change-Id: I8e8b3f769ae58aa8d7ceb22eaf264865790afeed
(cherry picked from commit abf2d03b5b4be2d5257804f3d768d56823e2bb6e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/93/612193/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/magnum.conf.j2'],1,709c27d22c5f8bcf18605d015a1eca166cb227ca,,[keystone_auth] auth_uri = {{ keystone_service_internalurl }} auth_version = v3 insecure = {{ keystone_service_internaluri_insecure | bool }} memcached_servers = {{ memcached_servers }} token_cache_time = 300 identity_uri = {{ keystone_service_internaluri }} auth_type = {{ magnum_keystone_auth_plugin }} auth_url = {{ keystone_service_internaluri }} project_domain_name = {{ magnum_service_project_domain_name }} user_domain_name = {{ magnum_service_user_domain_name }} project_name = {{ magnum_service_project_name }} username = {{ magnum_service_user_name }} password = {{ magnum_service_password }} ,#TODO(chris_hultin) #Remove once https://bugs.launchpad.net/magnum/+bug/1594888 is closed admin_user = {{ magnum_service_user_name }} admin_tenant_name = {{ magnum_service_project_name }} admin_password = {{ magnum_service_password }},15,5
openstack%2Fosprofiler~master~I3a9aeabb960af88c51e9685412408456793b1b0c,openstack/osprofiler,master,I3a9aeabb960af88c51e9685412408456793b1b0c,add dev-profiler,ABANDONED,2018-10-26 09:04:36.000000000,2018-10-26 11:42:11.000000000,,[{'_account_id': 9008}],"[{'number': 1, 'created': '2018-10-26 09:04:36.000000000', 'files': ['dev-osprofiler/source/_staticstatic/fancy_screenshot.png', 'dev-osprofiler/source/interface-result.rst', 'dev-osprofiler/source/setup.rst', 'dev-osprofiler/source/_staticstatic/basic_screenshot.png', 'dev-osprofiler/source/_statictemplates/layout.html', 'dev-osprofiler/source/conf.py', 'dev-osprofiler/make.bat', 'dev-osprofiler/Makefile', 'dev-osprofiler/source/index.rst', 'dev-osprofiler/source/trace-work.rst', 'dev-osprofiler/source/_staticstatic/default.css', 'dev-osprofiler/source/add-trace.rst', 'dev-osprofiler/source/enable-os.rst'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/189fd32dbb24a92539541d6f457183b53a60b923', 'message': 'add dev-profiler\n\nChange-Id: I3a9aeabb960af88c51e9685412408456793b1b0c\n'}]",0,613539,189fd32dbb24a92539541d6f457183b53a60b923,3,1,1,29248,,,0,"add dev-profiler

Change-Id: I3a9aeabb960af88c51e9685412408456793b1b0c
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/39/613539/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev-osprofiler/source/_staticstatic/fancy_screenshot.png', 'dev-osprofiler/source/interface-result.rst', 'dev-osprofiler/source/setup.rst', 'dev-osprofiler/source/_staticstatic/basic_screenshot.png', 'dev-osprofiler/source/_statictemplates/layout.html', 'dev-osprofiler/source/conf.py', 'dev-osprofiler/make.bat', 'dev-osprofiler/Makefile', 'dev-osprofiler/source/index.rst', 'dev-osprofiler/source/trace-work.rst', 'dev-osprofiler/source/_staticstatic/default.css', 'dev-osprofiler/source/add-trace.rst', 'dev-osprofiler/source/enable-os.rst']",13,189fd32dbb24a92539541d6f457183b53a60b923,tadt-dev-osprofiler,"Enable osProfiler ================= Background ---------- OSProfiler can send trace data into different collectors which're controled by 2 params: .# `OSPROFILER_COLLECTOR` specifies which collector to install in Devstack. OSProfiler plugin does not install anything by dafault, thus default messaging driver will be used Possible value: * `<emty> ` - default messaging driver is used * `redis` - Redis is installed The default value of OSPROFILER_CONNECTION_STRING is set automatically depending on OSPROFILER_COLLECTOR value. .# `OSPROFILER_CONNECTION_STRING` specifies which driver is used by OSProfiler. Possible values: * messaging:// - use messaging as trace collector (with the transport configured by oslo.messaging) * redis://[:password]@host[:port][/db] - use Redis as trace storage * jaeger://[:password]@host[:port][/db] - use jaeger as trace storage * elasticsearch://host:port - use Elasticsearch as trace storage * mongodb://host:port - use MongoDB as trace storage * loginsight://username:password@host - use LogInsight as trace collector/storage OSProfiler now contains various storage drivers to collect tracing data. Information about what driver to use and what options to pass to OSProfiler are now stored in OpenStack services configuration files. Example of such configuration can be found below: :: [profiler] enabled = True trace_sqlalchemy = True hmac_keys = SECRET_KEY connection_string = messaging:// If such configuration is provided, OSProfiler setting up can be processed in following way: :: if CONF.profiler.enabled: osprofiler_initializer.init_from_conf( conf=CONF, context=context.get_admin_context().to_dict(), project=""cinder"", service=binary, host=host ) Redis ----- Why Redis ~~~~~~~~~ * Fast * Non-persistent * Automatic garbage collection ASAP using Redis built-in TTL * Memory-efficient Read more: https://redislabs.com/why-redis/ Setup ~~~~~ Read more: https://redis.io/topics/quickstart Config services for redis ------------------------- * Services: Nova, keystone, glance, cinder Step 1-location of files config: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * Nova: /etc/nova/nova.conf * Keystone: /etc/keystone/keystone.conf <neglected> * Cinder: /etc/cinder/cinder.conf * Glance: /etc/glance/glance-api.conf Step 2-Adding content to files service ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Insert: :: [profiler] enabled = true trace_sqlalchemy = true connection_string = redis://localhost:6379 hmac_keys = your encryption `With keystone: trace_sqlalchemy = false` Step 3-Restart services ~~~~~~~~~~~~~~~~~~~~~~~ Command: :: sudo systemctl restart <service-name> replacing `<service-name>` by the corresponding name: * Nova: devstack@n-api.service * Keystone: devstack@keystone.service <neglected> * Cinder: devstack@c-api.service * Glance: devstack@g-api.service Jaeger ------ Why jaeger ~~~~~~~~~~ * High Scalability * Native support for OpenTracing * Multiple storage backends * Modern Web UI * Cloud Native Deployment * Observability * Backwards compatibility with Zipkin - More detail: read `https://github.com/jaegertracing/jaeger` Start Jaeger ~~~~~~~~~~~~ We will be using an open source distributed tracing system Jaeger to collect and view the traces and analyze the application’s behavior. Let’s run Jaeger backend as an all-in-one Docker image (see up to date instructions): :: docker run -d -p6831:6831/udp -p16686:16686 jaegertracing/all-in-one:latest Once the container starts, open http://127.0.0.1:16686/ in the browser to access the Jaeger UI. Install Jaeger-client ~~~~~~~~~~~~~~~~~~~~~ Command: :: sudo pip install jaeger-client Config services for jaeger -------------------------- * Services: Nova, keystone, glance, cinder Step 1-location of files config: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - Nova: /etc/nova/nova.conf - Keystone: /etc/keystone/keystone.conf <neglected> - Cinder: /etc/cinder/cinder.conf - Glance: /etc/glance/glance-api.conf Step 2-Adding content to files service: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Insert: :: [profiler] enabled = true trace_sqlalchemy = true connection_string = jaeger://localhost:6831 hmac_keys = your encryption `With keystone: trace_sqlalchemy = false` Step 3-Restart services ~~~~~~~~~~~~~~~~~~~~~~~ Command: :: sudo systemctl restart <service-name> replacing `<service-name>` by the corresponding name: * Nova: devstack@n-api.service * Keystone: devstack@keystone.service * Cinder: devstack@c-api.service * Glance: devstack@g-api.service ",,1229,0
openstack%2Fopenstack-helm-infra~master~I915e7d3c945f2002a2008b2b033a2b7725320b17,openstack/openstack-helm-infra,master,I915e7d3c945f2002a2008b2b033a2b7725320b17,Define OSH_PATH by default,MERGED,2018-10-23 11:07:15.000000000,2018-10-26 11:35:11.000000000,2018-10-26 11:35:11.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-23 11:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09754c1545c8e33cd16e9b19c411c6dbdfc65e61', 'message': ""Define OSH_PATH by default\n\nOSH_PATH is not defined by default outside OpenStack's CI.\n\nThis is a problem if a user wants to run scripts manually on its\nmachine for local testing.\n\nThis fixes it by having, by default, the OSH_PATH defined\nin the scripts using OSH relatively to current folder.\n\nFor user experience, the script returns to the same path after\nrunning.\n\nChange-Id: I915e7d3c945f2002a2008b2b033a2b7725320b17\n""}, {'number': 2, 'created': '2018-10-23 11:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18bfa55cd55e6c5bf4cf64ccbb03a8fe935e448c', 'message': ""Define OSH_PATH by default\n\nOSH_PATH is not defined by default outside OpenStack's CI.\n\nThis is a problem if a user wants to run scripts manually on its\nmachine for local testing.\n\nThis fixes it by having, by default, the OSH_PATH defined\nin the scripts using OSH relatively to current folder.\n\nFor user experience, the script returns to the same path after\nrunning.\n\nChange-Id: I915e7d3c945f2002a2008b2b033a2b7725320b17\n""}, {'number': 3, 'created': '2018-10-25 08:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ee911f24417349949cdf1520c4a3a389fd5d643', 'message': ""Define OSH_PATH by default\n\nOSH_PATH is not defined by default outside OpenStack's CI.\n\nThis is a problem if a user wants to run scripts manually on its\nmachine for local testing.\n\nThis fixes it by having, by default, the OSH_PATH defined\nin the scripts using OSH relatively to current folder.\n\nFor user experience, the script returns to the same path after\nrunning.\n\nChange-Id: I915e7d3c945f2002a2008b2b033a2b7725320b17\n""}, {'number': 4, 'created': '2018-10-26 01:15:08.000000000', 'files': ['tools/deployment/keystone-auth/070-keystone.sh', 'tools/deployment/keystone-auth/010-setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52f41c0af0aa91a81b105830605d23fe321b72df', 'message': ""Define OSH_PATH by default\n\nOSH_PATH is not defined by default outside OpenStack's CI.\n\nThis is a problem if a user wants to run scripts manually on its\nmachine for local testing.\n\nThis fixes it by having, by default, the OSH_PATH defined\nin the scripts using OSH relatively to current folder.\n\nFor user experience, the script returns to the same path after\nrunning.\n\nChange-Id: I915e7d3c945f2002a2008b2b033a2b7725320b17\n""}]",0,612666,52f41c0af0aa91a81b105830605d23fe321b72df,32,8,4,17068,,,0,"Define OSH_PATH by default

OSH_PATH is not defined by default outside OpenStack's CI.

This is a problem if a user wants to run scripts manually on its
machine for local testing.

This fixes it by having, by default, the OSH_PATH defined
in the scripts using OSH relatively to current folder.

For user experience, the script returns to the same path after
running.

Change-Id: I915e7d3c945f2002a2008b2b033a2b7725320b17
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/612666/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/keystone-auth/070-keystone.sh', 'tools/deployment/keystone-auth/010-setup-client.sh']",2,09754c1545c8e33cd16e9b19c411c6dbdfc65e61,define_OSH_folder_by_default,"cd ${OSH_PATH:-""../openstack-helm/""}; ./tools/deployment/developer/nfs/020-setup-client.sh; cd -","cd ""${OSH_PATH}""; ./tools/deployment/developer/nfs/020-setup-client.sh",2,2
openstack%2Ftrove~master~I916d927eddd7379fd02ecba16941ce55d94ad9fa,openstack/trove,master,I916d927eddd7379fd02ecba16941ce55d94ad9fa,tox: Remove unnecessary configuration,ABANDONED,2018-03-27 14:01:49.000000000,2018-10-26 11:18:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28671}]","[{'number': 1, 'created': '2018-03-27 14:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/702764589c9b82d0392913ddc6dad6c8ad3661d9', 'message': 'tox: Remove unnecessary configuration\n\nThese were either unnecessary or overrode default configuration\n\nChange-Id: I916d927eddd7379fd02ecba16941ce55d94ad9fa\n'}, {'number': 2, 'created': '2018-08-21 13:37:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/a2f2345e71f02f75dce7ce3b7a9cb924642108b2', 'message': 'tox: Remove unnecessary configuration\n\nThese were either unnecessary or overrode default configuration\n\nChange-Id: I916d927eddd7379fd02ecba16941ce55d94ad9fa\n'}]",0,556864,a2f2345e71f02f75dce7ce3b7a9cb924642108b2,6,3,2,21486,,,0,"tox: Remove unnecessary configuration

These were either unnecessary or overrode default configuration

Change-Id: I916d927eddd7379fd02ecba16941ce55d94ad9fa
",git fetch https://review.opendev.org/openstack/trove refs/changes/64/556864/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,702764589c9b82d0392913ddc6dad6c8ad3661d9,,,basepython = python2.7,0,1
openstack%2Fpython-cloudkittyclient~master~I12a882ce4d24ade153a64b75852396377ac42ca6,openstack/python-cloudkittyclient,master,I12a882ce4d24ade153a64b75852396377ac42ca6,Use global-requirements for requirements,MERGED,2018-10-22 16:10:21.000000000,2018-10-26 11:13:37.000000000,2018-10-26 11:13:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-22 16:10:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/1ed287c92acbf2aba80d37c0fc214caad633a5c1', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkittyclient\'s requirement files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkittyclient is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and doc/requirements.txt\n  with the `update-requirements` tool provided by openstack/requirements.\n\n* Added a lower-constraints.txt file.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I12a882ce4d24ade153a64b75852396377ac42ca6\n'}]",0,612434,1ed287c92acbf2aba80d37c0fc214caad633a5c1,7,3,1,23060,,,0,"Use global-requirements for requirements

This updates cloudkittyclient's requirement files in order to use
openstack/requirements for constraints. This will help to avoid dependency
conflicts when cloudkittyclient is deployed in an openstack context.

Work items:

* Updated requirements.txt, test-requirements.txt and doc/requirements.txt
  with the `update-requirements` tool provided by openstack/requirements.

* Added a lower-constraints.txt file.

* Added the ""check-requirements"" zuul job template to the CI.

Change-Id: I12a882ce4d24ade153a64b75852396377ac42ca6
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/34/612434/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt']",5,1ed287c92acbf2aba80d37c0fc214caad633a5c1,use-global-requirements,"sphinx>=1.6.2,!=1.6.6,!=1.6.7 # BSD reno>=2.5.0 # Apache-2.0","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD reno>=2.5.0 # Apache2",34,10
openstack%2Fpython-cloudkittyclient~master~Iba1401b0cb4319a668d449139c8d20fc011cf178,openstack/python-cloudkittyclient,master,Iba1401b0cb4319a668d449139c8d20fc011cf178,"Fix ""cloudkitty report tenant list"" command",MERGED,2018-10-23 08:30:06.000000000,2018-10-26 11:13:35.000000000,2018-10-26 11:13:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-23 08:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/11ff131c7e1fe08df21647bcbbfcbdd574c2df15', 'message': 'Fix ""cloudkitty report tenant list"" command\n\nThis fixes the ""cloudkitty report tenant list"": command, by transforming each\nelement of the list returned by CliTenantList\'s take_action method\ninto a tuple.\n\nChange-Id: Iba1401b0cb4319a668d449139c8d20fc011cf178\nStory: 2004149\nTask: 27622\n'}, {'number': 2, 'created': '2018-10-23 09:27:29.000000000', 'files': ['cloudkittyclient/v1/report_cli.py', 'cloudkittyclient/tests/unit/v1/test_report_cli.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e9a92a294144c00769fba5a86b49324f539309bc', 'message': 'Fix ""cloudkitty report tenant list"" command\n\nThis fixes the ""cloudkitty report tenant list"": command, by transforming each\nelement of the list returned by CliTenantList\'s take_action method\ninto a tuple.\n\nChange-Id: Iba1401b0cb4319a668d449139c8d20fc011cf178\nStory: 2004149\nTask: 27622\n'}]",0,612630,e9a92a294144c00769fba5a86b49324f539309bc,8,3,2,23060,,,0,"Fix ""cloudkitty report tenant list"" command

This fixes the ""cloudkitty report tenant list"": command, by transforming each
element of the list returned by CliTenantList's take_action method
into a tuple.

Change-Id: Iba1401b0cb4319a668d449139c8d20fc011cf178
Story: 2004149
Task: 27622
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/30/612630/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v1/report_cli.py', 'cloudkittyclient/tests/unit/v1/test_report_cli.py']",2,11ff131c7e1fe08df21647bcbbfcbdd574c2df15,fix-report-tenant-list,"# Copyright 2018 Objectif Libre # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import collections import mock from cloudkittyclient.tests.unit.v1 import base from cloudkittyclient.v1 import report_cli class TestReportCli(base.BaseAPIEndpointTestCase): def test_report_tenant_list(self): class DummyAPIClient(object): def get_tenants(*args, **kwargs): return ['ee530dfc-319a-438f-9d43-346cfef501d6', '91743a9a-688b-4526-b568-7b501531176c', '4468704c-972e-4cfd-a342-9b71c493b79b'] class Wrap(object): report = DummyAPIClient() class DummyParsedArgs(object): def __init__(self): self.begin = '2042-01-01T00:00:00' self.end = '2042-12-01T00:00:00' def __get_client_from_osc(*args): return Wrap() parsed_args = DummyParsedArgs() with mock.patch('cloudkittyclient.utils.get_client_from_osc', new=__get_client_from_osc): # self is only used used to get a client so just we just pass None # in order to skip class instanciation result = report_cli.CliTenantList.take_action(None, parsed_args) assert len(result) == 2 assert result[0] == ('Tenant ID', ) assert isinstance(result[1], collections.Iterable) for res in result[1]: assert isinstance(res, collections.Iterable) ",,62,2
openstack%2Fnetworking-l2gw~master~Id6cc9f1005a4920136f75aba2c461c7000e27cd0,openstack/networking-l2gw,master,Id6cc9f1005a4920136f75aba2c461c7000e27cd0,Use upper constraints for Rocky,ABANDONED,2018-10-26 11:03:16.000000000,2018-10-26 11:05:54.000000000,,[],"[{'number': 1, 'created': '2018-10-26 11:03:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/e6197b5d02cf49eaf533bcc2c4af960284f30917', 'message': 'Use upper constraints for Rocky\n\nChange-Id: Id6cc9f1005a4920136f75aba2c461c7000e27cd0\n'}]",0,613556,e6197b5d02cf49eaf533bcc2c4af960284f30917,2,0,1,9542,,,0,"Use upper constraints for Rocky

Change-Id: Id6cc9f1005a4920136f75aba2c461c7000e27cd0
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/56/613556/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e6197b5d02cf49eaf533bcc2c4af960284f30917,rocky-u-c,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fopenstack-ansible-memcached_server~stable%2Fpike~Id046aa97ed90654f1859e584891fe5228f96aa90,openstack/openstack-ansible-memcached_server,stable/pike,Id046aa97ed90654f1859e584891fe5228f96aa90,Change netcat to be a required package,MERGED,2018-10-25 11:58:40.000000000,2018-10-26 11:00:35.000000000,2018-10-26 11:00:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:58:40.000000000', 'files': ['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/2bf8171dcfc7ee22fa2cf18ad054eee7226e69db', 'message': 'Change netcat to be a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nGiven that the memcached_test_distro_packages variable is no longer\nused, the associated bits for it are also removed.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)\n'}]",0,613292,2bf8171dcfc7ee22fa2cf18ad054eee7226e69db,7,3,1,6816,,,0,"Change netcat to be a required package

Netcat is not a direct dependancy of memcached nor the playbooks in
this role, however other OSA roles delegate tasks to the memcached
container and run shell commands which use nc.

This patch ensures that netcat is explicity installed into the
memcached container and we do not rely on it being present in the
container base image.

Given that the memcached_test_distro_packages variable is no longer
used, the associated bits for it are also removed.

Change-Id: Id046aa97ed90654f1859e584891fe5228f96aa90
(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/92/613292/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml']",5,2bf8171dcfc7ee22fa2cf18ad054eee7226e69db,reduce-packages-stable/pike,, memcached_test_distro_packages:,1,33
openstack%2Fopenstack-ansible-memcached_server~stable%2Fqueens~Id046aa97ed90654f1859e584891fe5228f96aa90,openstack/openstack-ansible-memcached_server,stable/queens,Id046aa97ed90654f1859e584891fe5228f96aa90,Change netcat to be a required package,MERGED,2018-10-25 11:58:32.000000000,2018-10-26 11:00:35.000000000,2018-10-26 11:00:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:58:32.000000000', 'files': ['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/fb2d656684a01c4b77ddc09c2a0a3b478d93a780', 'message': 'Change netcat to be a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nGiven that the memcached_test_distro_packages variable is no longer\nused, the associated bits for it are also removed.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)\n'}]",0,613291,fb2d656684a01c4b77ddc09c2a0a3b478d93a780,7,3,1,6816,,,0,"Change netcat to be a required package

Netcat is not a direct dependancy of memcached nor the playbooks in
this role, however other OSA roles delegate tasks to the memcached
container and run shell commands which use nc.

This patch ensures that netcat is explicity installed into the
memcached container and we do not rely on it being present in the
container base image.

Given that the memcached_test_distro_packages variable is no longer
used, the associated bits for it are also removed.

Change-Id: Id046aa97ed90654f1859e584891fe5228f96aa90
(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/91/613291/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml']",5,fb2d656684a01c4b77ddc09c2a0a3b478d93a780,reduce-packages-stable/queens,, memcached_test_distro_packages:,1,33
openstack%2Fopenstack-ansible-memcached_server~stable%2Focata~Id046aa97ed90654f1859e584891fe5228f96aa90,openstack/openstack-ansible-memcached_server,stable/ocata,Id046aa97ed90654f1859e584891fe5228f96aa90,Change netcat to be a required package,MERGED,2018-10-25 11:59:59.000000000,2018-10-26 11:00:14.000000000,2018-10-26 11:00:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:59:59.000000000', 'files': ['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/5cd2617baa5ecf47cdb937e9d0679e4decd5aa47', 'message': 'Change netcat to be a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nGiven that the memcached_test_distro_packages variable is no longer\nused, the associated bits for it are also removed.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)\n'}]",0,613293,5cd2617baa5ecf47cdb937e9d0679e4decd5aa47,7,3,1,6816,,,0,"Change netcat to be a required package

Netcat is not a direct dependancy of memcached nor the playbooks in
this role, however other OSA roles delegate tasks to the memcached
container and run shell commands which use nc.

This patch ensures that netcat is explicity installed into the
memcached container and we do not rely on it being present in the
container base image.

Given that the memcached_test_distro_packages variable is no longer
used, the associated bits for it are also removed.

Change-Id: Id046aa97ed90654f1859e584891fe5228f96aa90
(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/93/613293/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml']",4,5cd2617baa5ecf47cdb937e9d0679e4decd5aa47,reduce-packages-stable/ocata,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # Compile a list of the distro packages to install based on # whether the host is in the host group and the service is # enabled. # memcached_package_list: |- {% set packages = memcached_distro_packages %} {% if install_test_packages | bool %} {% set _ = packages.extend(memcached_test_distro_packages) %} {% endif %} {{ packages }} ",1,31
openstack%2Fopenstack-ansible-memcached_server~stable%2Frocky~Id046aa97ed90654f1859e584891fe5228f96aa90,openstack/openstack-ansible-memcached_server,stable/rocky,Id046aa97ed90654f1859e584891fe5228f96aa90,Change netcat to be a required package,MERGED,2018-10-25 11:58:23.000000000,2018-10-26 11:00:13.000000000,2018-10-26 11:00:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:58:23.000000000', 'files': ['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e058c81a44859c7bcd3eeaac49a8f25b423e38a4', 'message': 'Change netcat to be a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nGiven that the memcached_test_distro_packages variable is no longer\nused, the associated bits for it are also removed.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)\n'}]",0,613290,e058c81a44859c7bcd3eeaac49a8f25b423e38a4,7,3,1,6816,,,0,"Change netcat to be a required package

Netcat is not a direct dependancy of memcached nor the playbooks in
this role, however other OSA roles delegate tasks to the memcached
container and run shell commands which use nc.

This patch ensures that netcat is explicity installed into the
memcached container and we do not rely on it being present in the
container base image.

Given that the memcached_test_distro_packages variable is no longer
used, the associated bits for it are also removed.

Change-Id: Id046aa97ed90654f1859e584891fe5228f96aa90
(cherry picked from commit 261db5b8837e078f7880f9fac562b93467384b6d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/90/613290/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml']",5,e058c81a44859c7bcd3eeaac49a8f25b423e38a4,reduce-packages-stable/rocky,, memcached_test_distro_packages:,1,33
openstack%2Fos-win~master~I63d1aa3a6f9fb12d08478eb41fe973b1582b540c,openstack/os-win,master,I63d1aa3a6f9fb12d08478eb41fe973b1582b540c,Limit Failover Cluster WMI provider usage,MERGED,2018-10-03 15:10:37.000000000,2018-10-26 10:56:48.000000000,2018-10-26 10:56:48.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 15:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/f2ba1a3f9b85f834f5fe5fbae93d2e22b9decd4f', 'message': 'WIP: limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other place in which we\'re still using WMI is the method that\nadds VM cluster roles. The reason is that we\'d have to explicitly\ncreate the the cluster resources and group, probably set some\nresource dependencies and properties. For now, it\'s easier/safer to\njust stick with the WMI method (which really shouldn\'t fail).\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 2, 'created': '2018-10-04 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/29662f4d15579d9a9abf6ca9f2edb1643f15bf25', 'message': 'WIP: limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other place in which we\'re still using WMI is the method that\nadds VM cluster roles. The reason is that we\'d have to explicitly\ncreate the the cluster resources and group, probably set some\nresource dependencies and properties. For now, it\'s easier/safer to\njust stick with the WMI method (which really shouldn\'t fail).\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 3, 'created': '2018-10-05 12:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/3a5000231aadbd1f7e5276544eeaf5bd0cf5e701', 'message': 'WIP: limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything.\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 4, 'created': '2018-10-16 12:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/4b3d7e289f224a95657810ed5fcbff4aa58a8f19', 'message': 'Limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything. We\'re avoiding it for now.\n\nCloses-Bug: #1798069\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 5, 'created': '2018-10-16 13:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/18a7bef3ce93d237ca3f14b4d30683f2c300ee50', 'message': 'Limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything. We\'re avoiding it for now.\n\nCloses-Bug: #1798069\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 6, 'created': '2018-10-24 08:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/21f3774ed506ae9868651921918a356265e1b0eb', 'message': 'Limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything. We\'re avoiding it for now.\n\nCloses-Bug: #1798069\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 7, 'created': '2018-10-25 07:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/978ad2b0df56cada4a6f0034b01bfa3c6be29018', 'message': 'Limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything. We\'re avoiding it for now.\n\nCloses-Bug: #1798069\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}, {'number': 8, 'created': '2018-10-25 08:50:08.000000000', 'files': ['os_win/utils/winapi/constants.py', 'os_win/utils/compute/clusterutils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/winapi/libs/clusapi.py', 'os_win/tests/unit/utils/compute/test_clusapi_utils.py', 'os_win/exceptions.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/utils/compute/_clusapi_utils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/6c6955f9f23f3fabf71d06f0a52d6d770aedab2c', 'message': 'Limit Failover Cluster WMI provider usage\n\nThe Failover Cluster WMI provider is quite unreliable, especially\nin recent Windows Server 2016 versions.\n\nAfter failovers, some valid WMI queries fail with ""Invalid Property""\nerrors, which really looks like a WMI provider bug. Event listeners\nare affected as well, for which reason we\'re missing VM failover events.\n\nThis change refactors ""clusterutils"", switching to the underlying\nC library.\n\nThe new failover event listener cannot provide the source of the\nmigrated instances, so we\'re keeping the old one as well for backwards\ncompatibility, for now.\n\nThe only other places in which we\'re still using WMI are the methods\nthat add or destroy VM cluster roles.\n\nThe reason is that we\'d have to explicitly create the the cluster\nresources and group, probably set some resource dependencies and\nproperties. For now, it\'s easier/safer to just stick with the WMI\nmethod (which really shouldn\'t fail).\n\nAlso, destroying VM cluster groups using clusapi\'s DestroyClusterGroup\nfunction behaves strange. VMs get recreated asyncronuously and put in\nsuspended state, breaking everything. We\'re avoiding it for now.\n\nCloses-Bug: #1798069\n\nChange-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c\n'}]",18,607611,6c6955f9f23f3fabf71d06f0a52d6d770aedab2c,25,3,8,8543,,,0,"Limit Failover Cluster WMI provider usage

The Failover Cluster WMI provider is quite unreliable, especially
in recent Windows Server 2016 versions.

After failovers, some valid WMI queries fail with ""Invalid Property""
errors, which really looks like a WMI provider bug. Event listeners
are affected as well, for which reason we're missing VM failover events.

This change refactors ""clusterutils"", switching to the underlying
C library.

The new failover event listener cannot provide the source of the
migrated instances, so we're keeping the old one as well for backwards
compatibility, for now.

The only other places in which we're still using WMI are the methods
that add or destroy VM cluster roles.

The reason is that we'd have to explicitly create the the cluster
resources and group, probably set some resource dependencies and
properties. For now, it's easier/safer to just stick with the WMI
method (which really shouldn't fail).

Also, destroying VM cluster groups using clusapi's DestroyClusterGroup
function behaves strange. VMs get recreated asyncronuously and put in
suspended state, breaking everything. We're avoiding it for now.

Closes-Bug: #1798069

Change-Id: I63d1aa3a6f9fb12d08478eb41fe973b1582b540c
",git fetch https://review.opendev.org/openstack/os-win refs/changes/11/607611/8 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/winapi/constants.py', 'os_win/utils/compute/clusterutils.py', 'os_win/utils/winapi/libs/clusapi.py', 'os_win/exceptions.py', 'os_win/utils/compute/_clusapi_utils.py']",5,f2ba1a3f9b85f834f5fe5fbae93d2e22b9decd4f,bug/1798069," def open_cluster_enum(self, cluster_handle, object_type): return self._run_and_check_output( clusapi.ClusterOpenEnumEx, cluster_handle, object_type, None, # pOptions, reserved for future use. **self._open_handle_check_flags) def open_cluster_resource(self, cluster_handle, resource_name): handle = self._run_and_check_output(clusapi.OpenClusterResource, cluster_handle, ctypes.c_wchar_p(resource_name), **self._open_handle_check_flags) return handle def close_cluster_resource(self, resource_handle): clusapi.CloseClusterResource(resource_handle) def close_cluster_enum(self, enum_handle): clusapi.ClusterCloseEnumEx(enum_handle) def online_cluster_group(self, group_handle, destination_node_handle=None): self._run_and_check_output(clusapi.OnlineClusterGroup, group_handle, destination_node_handle) def destroy_cluster_group(self, group_handle): self._run_and_check_output(clusapi.DestroyClusterGroup, group_handle) def offline_cluster_group(self, group_handle): self._run_and_check_output(clusapi.OfflineClusterGroup, group_handle) obj_type_buff_sz = ctypes.c_ulong(w_const.MAX_PATH) obj_id_buff_sz = ctypes.c_ulong(w_const.MAX_PATH) parent_id_buff_sz = ctypes.c_ulong(w_const.MAX_PATH) obj_type_buff = (ctypes.c_wchar * obj_type_buff_sz.value)() obj_id_buff = (ctypes.c_wchar * obj_id_buff_sz.value)() parent_id_buff = (ctypes.c_wchar * parent_id_buff_sz.value)() try: self._run_and_check_output( clusapi.GetClusterNotifyV2, notif_port_h, ctypes.byref(notif_key_p), ctypes.byref(filter_and_type), buff, ctypes.byref(buff_sz), obj_id_buff, ctypes.byref(obj_id_buff_sz), parent_id_buff, ctypes.byref(parent_id_buff_sz), obj_name_buff, ctypes.byref(obj_name_buff_sz), obj_type_buff, ctypes.byref(obj_type_buff_sz), timeout_ms) parent_id_buff = (ctypes.c_wchar * parent_id_buff_sz.value)() obj_type_buff = (ctypes.c_wchar * obj_type_buff_sz.value)() self._run_and_check_output( clusapi.GetClusterNotifyV2, notif_port_h, ctypes.byref(notif_key_p), ctypes.byref(filter_and_type), buff, ctypes.byref(buff_sz), obj_id_buff, ctypes.buff(obj_id_buff_sz), parent_id_buff, ctypes.byref(parent_id_buff_sz), obj_name_buff, ctypes.byref(obj_name_buff_sz), obj_type_buff, ctypes.byref(obj_type_buff_sz), timeout_ms) 'object_id': obj_id_buff.value, 'object_type_str': obj_type_buff.value, 'parent_id': parent_id_buff.value, def get_prop_list_entry_value(self, prop_list_p, prop_list_sz, entry_name, entry_type, entry_syntax): prop_list_p, prop_list_sz, entry_name) if (prop_entry['length'] != ctypes.sizeof(entry_type) or prop_entry['syntax'] != entry_syntax): return entry_type.from_address(prop_entry['val_p'].value).value def get_cluster_group_status_info(self, prop_list_p, prop_list_sz): return self.get_prop_list_entry_value( prop_list_p, prop_list_sz, w_const.CLUSREG_NAME_GRP_STATUS_INFORMATION, ctypes.c_ulonglong, w_const.CLUSPROP_SYNTAX_LIST_VALUE_ULARGE_INTEGER) def get_cluster_group_type(self, prop_list_p, prop_list_sz): return self.get_prop_list_entry_value( prop_list_p, prop_list_sz, w_const.CLUSREG_NAME_GRP_TYPE, wintypes.DWORD, w_const.CLUSPROP_SYNTAX_LIST_VALUE_DWORD) def cluster_get_enum_count(self, enum_handle): return self._run_and_check_output( clusapi.ClusterGetEnumCountEx, enum_handle, error_on_nonzero_ret_val=False, ret_val_is_err_code=False) def cluster_enum(self, enum_handle, index): item_sz = wintypes.DWORD(0) self._run_and_check_output( clusapi.ClusterEnumEx, enum_handle, index, None, ctypes.byref(item_sz), ignored_error_codes=[w_const.ERROR_MORE_DATA]) item_buff = (ctypes.c_ubyte * item_sz.value)() self._run_and_check_output( clusapi.ClusterEnumEx, enum_handle, index, ctypes.byref(item_buff), ctypes.byref(item_sz)) return ctypes.cast(item_buff, clusapi_def.PCLUSTER_ENUM_ITEM).contents"," def get_args(buff, obj_name_buff): return (clusapi.GetClusterNotifyV2, notif_port_h, ctypes.byref(notif_key_p), ctypes.byref(filter_and_type), buff, ctypes.byref(buff_sz), None, # object id None, # object id sz None, # parent id None, # parent id sz obj_name_buff, ctypes.byref(obj_name_buff_sz), None, # object type None, # object type sz timeout_ms) try: self._run_and_check_output(*get_args(buff, obj_name_buff)) self._run_and_check_output(*get_args(buff, obj_name_buff)) def get_cluster_group_status_info(self, prop_list_p, prop_list_sz): prop_list_p, prop_list_sz, w_const.CLUSREG_NAME_GRP_STATUS_INFORMATION) if (prop_entry['length'] != ctypes.sizeof(ctypes.c_ulonglong) or prop_entry['syntax'] != w_const.CLUSPROP_SYNTAX_LIST_VALUE_ULARGE_INTEGER): status_info_p = prop_entry['val_p'] status_info = ctypes.c_ulonglong.from_address( status_info_p.value).value return status_info",473,151
openstack%2Fcinder~stable%2Fpike~I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,openstack/cinder,stable/pike,I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,Fix image volume cache max size and max count limits,MERGED,2018-10-22 18:19:31.000000000,2018-10-26 10:56:33.000000000,2018-10-23 13:57:53.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-22 18:19:31.000000000', 'files': ['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec1a8e36ee3d71da97c758f6bd92ff0d88c2edd7', 'message': 'Fix image volume cache max size and max count limits\n\nFix the code that enforces the image volume cache max size and max count\nlimits so that each limit functions independently from the other.\n\nThis fixes a bug where the code would function correctly when both were\nset to zero (unlimited) or when both limits were set (non-zero), but would\nmisbehave when only one limit was set and the other unlimited.\n\nCloses-Bug: #1792944\nChange-Id: I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a\n(cherry picked from commit 74249de6398dbec8592591667b83a5612bf4a969)\n(cherry picked from commit 4c2b41d5b531c1e3cd87172d30f280f89e2505a3)\n(cherry picked from commit fe0c082529c301e28fd7dd517f564eaaed944475)\n'}]",0,612470,ec1a8e36ee3d71da97c758f6bd92ff0d88c2edd7,26,22,1,13953,,,0,"Fix image volume cache max size and max count limits

Fix the code that enforces the image volume cache max size and max count
limits so that each limit functions independently from the other.

This fixes a bug where the code would function correctly when both were
set to zero (unlimited) or when both limits were set (non-zero), but would
misbehave when only one limit was set and the other unlimited.

Closes-Bug: #1792944
Change-Id: I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a
(cherry picked from commit 74249de6398dbec8592591667b83a5612bf4a969)
(cherry picked from commit 4c2b41d5b531c1e3cd87172d30f280f89e2505a3)
(cherry picked from commit fe0c082529c301e28fd7dd517f564eaaed944475)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/612470/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py']",2,ec1a8e36ee3d71da97c758f6bd92ff0d88c2edd7,bug/1792944," cache = self._build_cache(max_gb=30, max_count=0) cache = self._build_cache(max_gb=0, max_count=2)"," cache = self._build_cache(max_gb=30, max_count=10) cache = self._build_cache(max_gb=30, max_count=2)",6,4
openstack%2Fopenstack-ansible~master~Ife232ce16008be8eabef9efc8f46465c2ab8e7ad,openstack/openstack-ansible,master,Ife232ce16008be8eabef9efc8f46465c2ab8e7ad,Example setup for gnocchi with ceph and redis,MERGED,2018-07-16 12:55:34.000000000,2018-10-26 10:55:44.000000000,2018-10-26 10:55:44.000000000,"[{'_account_id': 6816}, {'_account_id': 21369}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-07-16 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d897d63b4d8c957467db787d6907affee4f87f9', 'message': 'Example setup for gnocchi with ceph and redis\n\nThis doc explains how to setup gnocchi with:\n- ceph as metric storage\n- redis as measure stroage\n- zookeeper for coordination\n\nChange-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad\n'}, {'number': 2, 'created': '2018-07-17 04:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af33aac3f3180f58cddce92138a72e723d7c7d96', 'message': 'Example setup for gnocchi with ceph and redis\n\nThis doc explains how to setup gnocchi with:\n- ceph as metric storage\n- redis as measure stroage\n- zookeeper for coordination\n\nChange-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad\n'}, {'number': 3, 'created': '2018-07-17 04:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46eb18c5b233bd7c60f23dea364ce6b8a7ddfeee', 'message': 'Example setup for gnocchi with ceph and redis\n\nThis doc explains how to setup gnocchi with:\n- ceph as metric storage\n- redis as measure stroage\n- zookeeper for coordination\n\nChange-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad\n'}, {'number': 4, 'created': '2018-07-19 06:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9cd6d5d514a30841096084738f26a358fdbe6eb0', 'message': 'Example setup for gnocchi with ceph and redis\n\nThis doc explains how to setup gnocchi with:\n- ceph as metric storage\n- redis as measure stroage\n- zookeeper for coordination\n\nChange-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad\n'}, {'number': 5, 'created': '2018-10-01 05:01:58.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/prod/gnocchi_redis.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fefb0822ed5e148701f390a886043d8410a43195', 'message': 'Example setup for gnocchi with ceph and redis\n\nThis doc explains how to setup gnocchi with:\n- ceph as metric storage\n- redis as measure stroage\n- zookeeper for coordination\n\nChange-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad\n'}]",3,582946,fefb0822ed5e148701f390a886043d8410a43195,17,4,5,21369,,,0,"Example setup for gnocchi with ceph and redis

This doc explains how to setup gnocchi with:
- ceph as metric storage
- redis as measure stroage
- zookeeper for coordination

Change-Id: Ife232ce16008be8eabef9efc8f46465c2ab8e7ad
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/582946/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/prod/gnocchi_redis.rst']",2,9d897d63b4d8c957467db787d6907affee4f87f9,doc_gnocchi_redis,"============================================== Telemetry with Gnocchi, Ceph and Redis example ============================================== The default openstack-ansible installation configures gnocchi to use a file as storage backend. When you already have an installed ceph, you can use this as backend. Ceph as metric storage ~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: yaml gnocchi_storage_driver: ceph You have to add some pip packages to your gnocchi setup: .. code-block:: yaml gnocchi_pip_packages: - cryptography - gnocchiclient # this is what we want: # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" # but as there is no librados >=12.2 pip package we have to first install ceph without alternative support # after adding the ceph repo to gnocchi container, python-rados>=12.2.0 is installed and linked automatically # and gnocchi will automatically take up the features present in the used rados lib. - ""gnocchi[mysql,ceph,redis]"" - keystonemiddleware - python-memcached But when your setup grows, gnocchi might slow down or block your ceph installation. You might experience slow requests and stuck PGs in your Ceph. Redis as measure storage ~~~~~~~~~~~~~~~~~~~~~~~~ The solution to this problem is to use an incoming measure storage for your gnocchi installation. The `supported storage systems`_ are: * File (default) * Ceph (preferred) * OpenStack Swift * Amazon S3 * Redis .. _supported storage systems: https://gnocchi.xyz/intro.html#incoming-and-storage-drivers The only one left for the setup is Redis. So first of all setup a redis server/cluster, e.g. with this `ansible role`_. Next, you have to configure Gnocchi with OpenStack-Ansible to use the Redis Cluster as incoming storage: .. _ansible role: https://github.com/DavidWittman/ansible-redis .. code-block:: yaml gnocchi_conf_overrides: incoming: driver: redis redis_url: redis://{{ hostvars[groups['redis-master'][0]]['ansible_default_ipv4']['address'] }}:{{ hostvars[groups['redis-master'][0]]['redis_sentinel_port'] }}?sentinel=master01{% for host in groups['redis-slave'] %}&sentinel_fallback={{ hostvars[host]['ansible_default_ipv4']['address'] }}:{{ hostvars[host]['redis_sentinel_port'] }}{% endfor %} You also have to install additional pip/distro packages to use the redis cluster: .. code-block:: yaml gnocchi_distro_packages: - apache2 - apache2-utils - libapache2-mod-wsgi - git - build-essential - python-dev - libpq-dev - python-rados # additional package for python redis client - python-redis .. code-block:: yaml gnocchi_pip_packages: - cryptography - gnocchiclient # this is what we want: # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" # but as there is no librados >=12.2 pip package we have to first install ceph without alternative support # after adding the ceph repo to gnocchi container, python-rados>=12.2.0 is installed and linked automatically # and gnocchi will automatically take up the features present in the used rados lib. - ""gnocchi[mysql,ceph,redis]"" - keystonemiddleware - python-memcached - redis .. note:: A word of caution: the name of the Ceph alternative lib implementation (ceph_alternative_lib) varies between Gnocchi versions. Zookeeper for coordination ~~~~~~~~~~~~~~~~~~~~~~~~~~ When you deployed Gnocchi on multiple servers to distribute the work, add Zookeeper as coordination backend. To setup Zookeeper, you can use `this ansible role`_. .. _this ansible role: https://github.com/openstack/ansible-role-zookeeper.git Create containers for Zookeeper: .. code-block:: yaml ## conf.d zookeeper_hosts: {% for server in groups['control_nodes'] %} {{ server }}: ip: {{ hostvars[server]['ansible_default_ipv4']['address'] }} {% endfor%} .. code-block:: yaml ## env.d component_skel: zookeeper_server: belongs_to: - zookeeper_all container_skel: zookeeper_container: belongs_to: - infra_containers - shared-infra_containers contains: - zookeeper_server properties: service_name: zookeeper Now you can set up Zookeeper as coordination backend for Gnocchi: .. code-block:: yaml gnocchi_coordination_url: ""zookeeper://{% for host in groups['zookeeper_all'] %}{{ hostvars[host]['container_address'] }}:2181{% if not loop.last %},{% endif %}{% endfor %}"" You also have to install additional packages: .. code-block:: yaml gnocchi_pip_packages: - cryptography - gnocchiclient # this is what we want: # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" # but as there is no librados >=12.2 pip package we have to first install ceph without alternative support # after adding the ceph repo to gnocchi container, python-rados>=12.2.0 is installed and linked automatically # and gnocchi will automatically take up the features present in the used rados lib. - ""gnocchi[mysql,ceph,redis]"" - keystonemiddleware - python-memcached - redis # addiitional pip packages needed for zookeeper coordination backend - tooz - lz4 - kazoo Performance Tests for Gnocchi ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ For more ideas how to tune your Gnocchi stack, take a look at these presenatations: * https://docs.openstack.org/developer/performance-docs/test_results/telemetry_gnocchi_with_ceph/index.html * https://julien.danjou.info/talks/OpenStack_Telemetry_and_the_10000_Instances.pdf",,173,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fpike~Ic6689387a28539b7eb341d55a9db08f078e8e975,openstack/openstack-ansible-lxc_hosts,stable/pike,Ic6689387a28539b7eb341d55a9db08f078e8e975,Use consistent apt options for upgrades,MERGED,2018-10-26 08:31:36.000000000,2018-10-26 10:54:24.000000000,2018-10-26 10:54:24.000000000,"[{'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-26 08:31:36.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/86d1ca845fcd09a3322109da8b61474e5e77c4d1', 'message': ""Use consistent apt options for upgrades\n\nThe 'apt-get upgrade' does not set confdef and confold currently, so an\nupgrade which requires user input can break the cache build[1].\n\n[1] http://paste.openstack.org/raw/733076/\n\nChange-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975\n""}]",0,613528,86d1ca845fcd09a3322109da8b61474e5e77c4d1,8,4,1,6816,,,0,"Use consistent apt options for upgrades

The 'apt-get upgrade' does not set confdef and confold currently, so an
upgrade which requires user input can break the cache build[1].

[1] http://paste.openstack.org/raw/733076/

Change-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/28/613528/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,86d1ca845fcd09a3322109da8b61474e5e77c4d1,, apt-get upgrade -y {{ lxc_cache_install_debconf }}, apt-get upgrade -y,1,1
openstack%2Ftripleo-ci~master~Id4006284955c3e74d05b983fda67895926649b56,openstack/tripleo-ci,master,Id4006284955c3e74d05b983fda67895926649b56,tripleo.sh --repo-setup update ceph to luminous and remove older,ABANDONED,2018-07-18 11:01:14.000000000,2018-10-26 10:42:02.000000000,,"[{'_account_id': 1955}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18002}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-07-18 11:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b8b3d53cd5ae4cdb76ad5aa5f4b67716e981c73c', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug I think\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\n\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 2, 'created': '2018-07-18 12:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a84f3e5740ab78f6da7f1de856e9cc11142f637', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug I think\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 3, 'created': '2018-07-18 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61a74db5f01d3a07bb5b309f71b5d156ca96fb0c', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug I think\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 4, 'created': '2018-07-18 15:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba793d65de8f7b66d95e51531169890da5e11ef8', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug I think\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 5, 'created': '2018-07-19 07:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70abfa7808f3f28700d57e994341eb211a08d485', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug I think\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 6, 'created': '2018-07-19 07:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2786724ec98778a64650dd8c2da75966d9692cdd', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 7, 'created': '2018-07-19 07:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fb00336365b71931f0451a9fa9723e05a455a377', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 8, 'created': '2018-07-19 08:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/01b9e71ec06d39730501a2440b24995c4579f41d', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug.\n\nCI is using tripleo.sh --bootstrap-subnodes at [2] and that is removing\nolder versions of installed centos-release-ceph-* packages. However\nthe code needs updating to include luminous and this also makes\nsure all older ceph repo/packages are removed before setting up the\ntarget release repos.\n\nCloses-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\n[2] https://github.com/openstack-infra/tripleo-ci/blob/67bffb38c016feaed6cb730687a92b86342938d4/toci_gate_test.sh#L293\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}, {'number': 9, 'created': '2018-07-19 08:59:28.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ea79bd001eb94914b47871c8cabbf61cade8165f', 'message': 'tripleo.sh --repo-setup update ceph to luminous and remove older\n\nWe are moving away from using this code with [1] however for now\nwe need this for the bug.\n\nCI is using tripleo.sh --bootstrap-subnodes at [2] and that is removing\nolder versions of installed centos-release-ceph-* packages. However\nthe code needs updating to include luminous and this also makes\nsure all older ceph repo/packages are removed before setting up the\ntarget release repos.\n\nRelated-Bug: 1781255\n[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks\n[2] https://github.com/openstack-infra/tripleo-ci/blob/67bffb38c016feaed6cb730687a92b86342938d4/toci_gate_test.sh#L293\nChange-Id: Id4006284955c3e74d05b983fda67895926649b56\n'}]",16,583547,ea79bd001eb94914b47871c8cabbf61cade8165f,44,11,9,8449,,,0,"tripleo.sh --repo-setup update ceph to luminous and remove older

We are moving away from using this code with [1] however for now
we need this for the bug.

CI is using tripleo.sh --bootstrap-subnodes at [2] and that is removing
older versions of installed centos-release-ceph-* packages. However
the code needs updating to include luminous and this also makes
sure all older ceph repo/packages are removed before setting up the
target release repos.

Related-Bug: 1781255
[1] https://trello.com/c/GvjcnJB2/850-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks
[2] https://github.com/openstack-infra/tripleo-ci/blob/67bffb38c016feaed6cb730687a92b86342938d4/toci_gate_test.sh#L293
Change-Id: Id4006284955c3e74d05b983fda67895926649b56
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/583547/6 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,b8b3d53cd5ae4cdb76ad5aa5f4b67716e981c73c,bug/1781255,# Use Ceph/Luminous for all but mitaka CEPH_RELEASE=luminous for version in hammer jewel luminous ; do if rpm -q centos-release-ceph-$version; then sudo yum -y erase centos-release-ceph-$version done,"# Use Ceph/Jewel for all but mitaka CEPH_RELEASE=jewel if [[ ""${STABLE_RELEASE}"" = ""mitaka"" ]] ; then if rpm -q centos-release-ceph-hammer; then sudo yum -y erase centos-release-ceph-hammer else if rpm -q centos-release-ceph-jewel; then sudo yum -y erase centos-release-ceph-jewel fi fi",6,10
openstack%2Ftripleo-ci~master~I232d2cb773347e9e03f3853c54ba53953c3041ab,openstack/tripleo-ci,master,I232d2cb773347e9e03f3853c54ba53953c3041ab,Install ansible from RPMs,ABANDONED,2018-10-22 09:16:59.000000000,2018-10-26 10:40:14.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-22 09:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8c88324845052130ff13be27c7b12e4f6073dfb', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 2, 'created': '2018-10-22 09:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9a882b7dffd238da78523fe574e7281e4392a086', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 3, 'created': '2018-10-22 10:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3033217e18560af727aa8b852f8afee39f5e8672', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/#/c/610491/\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 4, 'created': '2018-10-22 12:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eac77b63574ed3a1c32a23e40156549327e085b', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/#/c/610491/\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 5, 'created': '2018-10-22 12:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82e585a8c53e0f8820f5b4618899cb90a2a7df27', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/#/c/610491/\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 6, 'created': '2018-10-22 13:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6d00ab1cc6f519529beacd804ce151bc787b5c47', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 7, 'created': '2018-10-23 06:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1ce4c876968fd55365d8d1ac399bdb0ba92c8962', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf.log\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 8, 'created': '2018-10-23 06:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ba0a2b034742dc707996848623e8bb7a8ae901f', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 9, 'created': '2018-10-23 07:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0eb46bb432f3bc27e3c570dbc45675625daf0045', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf config and logs\n\nStore: https://tree.taiga.io/project/tripleo-ci-board/us/192?milestone=203564\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 10, 'created': '2018-10-23 08:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/087ca4121b03d1a0c0321d4ae099228d1d220d7e', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 11, 'created': '2018-10-23 08:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8339173e085281848a79163b322de492ca784606', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 12, 'created': '2018-10-23 08:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2cd44ca251a6f5c517434d79d0ca636619d52a4', 'message': 'Install ansible with pip\n\nFedora 28 has no python3-ansible package, the only way to have ansible\nrunnig with python3 is installing with pip\n\nhttps://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 13, 'created': '2018-10-23 15:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a31fcf51175ceab15d592f63add32f4baa68358f', 'message': 'Install ansible with pip\n\nInstalls ansible (ansible or ansible-python3 based on distro)\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 14, 'created': '2018-10-25 07:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4d7901f04f28f170398ee36fafd91bd7a93dee21', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 15, 'created': '2018-10-25 08:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ca583383dcb53843b2db0b7b51139ef0b0a2bd71', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nAlso collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 16, 'created': '2018-10-25 08:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7fd90b931f545bab046eaf4b02f8b3a2a785a6f', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 17, 'created': '2018-10-25 08:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d9d7e44d8377e5425ed8a5de12cf78013a066b3e', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 18, 'created': '2018-10-25 11:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4aa219b586110bf5dcd28252c992a7ca4fd39085', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nDepends-On: https://review.openstack.org/#/c/610468/\nDepends-On: https://review.openstack.org/612390\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 19, 'created': '2018-10-25 11:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/69d01da073ec9b63afd2db0f3585406d1daf105d', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 20, 'created': '2018-10-25 11:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff9175b924bbd29fd6eb2590af5af4466f0bd0d0', 'message': 'WIP: Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 21, 'created': '2018-10-25 11:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d259e64d8148f387130bdb0c53464184df21dde', 'message': 'Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 22, 'created': '2018-10-25 12:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8125c8d069317a0aab618231d64c3a31bbd74fc3', 'message': 'DNM: squash to test f28 job\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 23, 'created': '2018-10-25 12:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bae8e9a0fedccd6fd214fc8a9efe4facb0523a1c', 'message': 'Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}, {'number': 24, 'created': '2018-10-26 08:40:19.000000000', 'files': ['playbooks/tripleo-ci/templates/toci_gate_test.sh.j2', 'toci-quickstart/config/collect-logs.yml', 'playbooks/tripleo-ci/templates/oooq_common_functions.sh.j2', 'playbooks/tripleo-ci/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6dd8d0f11bee0361139adf0bc3cb783ee6257029', 'message': 'Install ansible from RPMs\n\nIn case we are at fedora28 we want to use ansible over pythone3 the only\npackage is ansible-python3, the review add support for that without\nbreaking other distros.\n\nTo be splitetd at different review:\n\n- Collect dnf config and logs\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/218?kanban-status=1447276\n\nChange-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab\n'}]",20,612290,6dd8d0f11bee0361139adf0bc3cb783ee6257029,74,11,24,27898,,,0,"Install ansible from RPMs

In case we are at fedora28 we want to use ansible over pythone3 the only
package is ansible-python3, the review add support for that without
breaking other distros.

To be splitetd at different review:

- Collect dnf config and logs

Story: https://tree.taiga.io/project/tripleo-ci-board/task/218?kanban-status=1447276

Change-Id: I232d2cb773347e9e03f3853c54ba53953c3041ab
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/612290/9 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/templates/toci_gate_test.sh.j2'],1,f8c88324845052130ff13be27c7b12e4f6073dfb,standalone-f28,# We have to enforce installing ansible with with pip so we run ansible over # python3 at fedora 28 there is no python3-ansible package there # https://docs.ansible.com/ansible/2.6/reference_appendices/python_3_support.html sudo $(python_cmd) -m pip install shyaml ,,5,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~Ic6689387a28539b7eb341d55a9db08f078e8e975,openstack/openstack-ansible-lxc_hosts,stable/rocky,Ic6689387a28539b7eb341d55a9db08f078e8e975,Use consistent apt options for upgrades,MERGED,2018-10-26 08:28:22.000000000,2018-10-26 10:34:33.000000000,2018-10-26 10:34:33.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-26 08:28:22.000000000', 'files': ['templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/ubuntu_18_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9aeeddef085c2d78083f916d038e3eeab2ae6b0a', 'message': ""Use consistent apt options for upgrades\n\nThe 'apt-get upgrade' does not set confdef and confold currently, so an\nupgrade which requires user input can break the cache build[1].\n\n[1] http://paste.openstack.org/raw/733076/\n\nChange-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975\n(cherry picked from commit f63abfa921b2c69e202b068fe631b48adbb9ad64)\n""}]",0,613526,9aeeddef085c2d78083f916d038e3eeab2ae6b0a,8,5,1,6816,,,0,"Use consistent apt options for upgrades

The 'apt-get upgrade' does not set confdef and confold currently, so an
upgrade which requires user input can break the cache build[1].

[1] http://paste.openstack.org/raw/733076/

Change-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975
(cherry picked from commit f63abfa921b2c69e202b068fe631b48adbb9ad64)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/26/613526/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/ubuntu_18_prep.sh.j2']",2,9aeeddef085c2d78083f916d038e3eeab2ae6b0a,,"apt-get upgrade -y -o Dpkg::Options::=""--force-confdef"" -o Dpkg::Options::=""--force-confold"" --force-yes",apt-get upgrade -y,2,2
openstack%2Fcloudkitty-dashboard~master~Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5,openstack/cloudkitty-dashboard,master,Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5,Add testcases for cloudkitty-dashboard,MERGED,2017-02-24 06:48:10.000000000,2018-10-26 10:18:14.000000000,2018-10-26 10:18:14.000000000,"[{'_account_id': 3}, {'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 12015}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 24634}, {'_account_id': 25126}]","[{'number': 1, 'created': '2017-02-24 06:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/711ceb994367fee10b31b02af8be00be43ef4459', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 2, 'created': '2017-02-24 06:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/beed975c93acdf4f6efdc21216ea431430a7618f', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 3, 'created': '2017-02-24 06:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/7f12c1cd952841aab2f90d903d52c75a2fbab8f6', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 4, 'created': '2017-03-02 09:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/60fc41fbe036231df49094f5d92fdd73c0de81cd', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\nDepends-On: I4aeb9a67344c2566545219d079032af0ceb510b4\n'}, {'number': 5, 'created': '2017-03-02 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/7e983c3da744c1c288cc8ad2f44092042278e1ef', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 6, 'created': '2017-03-13 09:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/734ff1fed3c9034c06226598c24f766a84ef7a33', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 7, 'created': '2018-01-31 09:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/83a6fe3cb858fd858e1dd5dacbb9d531fabaf074', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 8, 'created': '2018-10-23 09:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/bba99a491024b6348b0ae47b948d2a4870925b51', 'message': 'Add testcases for cloudkitty-dashboard\n\nadd testcases for testing rating/reporting panel registration\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}, {'number': 9, 'created': '2018-10-23 11:36:35.000000000', 'files': ['cloudkittydashboard/tests/test_cloudkittydashboard.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/c00e7626020f8f2a47e8babdb85b4d64ee80b81b', 'message': 'Add testcases for cloudkitty-dashboard\n\nAdd a testcase for testing rating/reporting panel registration.\n\nChange-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5\n'}]",2,437809,c00e7626020f8f2a47e8babdb85b4d64ee80b81b,32,13,9,21797,,,0,"Add testcases for cloudkitty-dashboard

Add a testcase for testing rating/reporting panel registration.

Change-Id: Iafbe3968ee7d4bdf90dce9b23ec481d7c816ddc5
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/09/437809/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittydashboard/tests/test_cloudkittydashboard.py', 'test-requirements.txt']",2,711ceb994367fee10b31b02af8be00be43ef4459,add_tests, # Require Horizon -e git://github.com/openstack/horizon.git#egg=horizon ,,18,0
openstack%2Fopenstack-ansible~master~Ie8d1493e42f40a98de33f04529799e77ef8599c5,openstack/openstack-ansible,master,Ie8d1493e42f40a98de33f04529799e77ef8599c5,[trivial] docs: fix sphinx warnings unknown options,MERGED,2018-09-15 17:03:39.000000000,2018-10-26 10:06:59.000000000,2018-10-26 10:06:59.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-15 17:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/da6d99c16b4c2fce0b0d98b9d70c025c307c5db7', 'message': '[trivial] docs: fix sphinx warnings unknown options\n\nChange-Id: Ie8d1493e42f40a98de33f04529799e77ef8599c5\n'}, {'number': 2, 'created': '2018-10-02 16:44:18.000000000', 'files': ['doc/source/admin/maintenance-tasks/ansible-modules.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/42a06f1dd3813742d6abd255423f05f43b0509c4', 'message': '[trivial] docs: fix sphinx warnings unknown options\n\ni.e. http://logs.openstack.org/57/607057/2/check/build-openstack-sphinx-docs/7e49382/job-output.txt.gz#_2018-10-02_14_47_17_363143\n\nChange-Id: Ie8d1493e42f40a98de33f04529799e77ef8599c5\n'}]",0,602866,42a06f1dd3813742d6abd255423f05f43b0509c4,9,3,2,17765,,,0,"[trivial] docs: fix sphinx warnings unknown options

i.e. http://logs.openstack.org/57/607057/2/check/build-openstack-sphinx-docs/7e49382/job-output.txt.gz#_2018-10-02_14_47_17_363143

Change-Id: Ie8d1493e42f40a98de33f04529799e77ef8599c5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/602866/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/maintenance-tasks/ansible-modules.rst'],1,da6d99c16b4c2fce0b0d98b9d70c025c307c5db7,,"to :command:`chdir=/home/user ls` when running Ansible from the CLI: remote file will not be an error unless ``fail_on_missing`` is set to md5sum"": ""dbd52b5fd65ea23cb255d2617e36729c"",","to :option:`chdir=/home/user ls` when running Ansible from the CLI: remote file will not be an error unless :option:`fail_on_missing` is set to ""md5sum"": ""dbd52b5fd65ea23cb255d2617e36729c"",",3,3
openstack%2Fopenstack-ansible-lxc_hosts~master~I3cca4b7d20516403beecaf130913b6fa2b3ee6bc,openstack/openstack-ansible-lxc_hosts,master,I3cca4b7d20516403beecaf130913b6fa2b3ee6bc,SUSE: Add system-user-nobody for Leap 15,ABANDONED,2018-10-25 15:34:57.000000000,2018-10-26 09:50:34.000000000,,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 15:34:57.000000000', 'files': ['vars/suse-host.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9f17990922db31b87cffb16e06eb1d9d9b113fd8', 'message': ""SUSE: Add system-user-nobody for Leap 15\n\nThe 'nobody' user and group is being used in several places so it's\nbest to make sure that it's present on every SUSE host instead of\ncreating it on demand.\n\nChange-Id: I3cca4b7d20516403beecaf130913b6fa2b3ee6bc\n""}]",0,613362,9f17990922db31b87cffb16e06eb1d9d9b113fd8,6,16,1,23163,,,0,"SUSE: Add system-user-nobody for Leap 15

The 'nobody' user and group is being used in several places so it's
best to make sure that it's present on every SUSE host instead of
creating it on demand.

Change-Id: I3cca4b7d20516403beecaf130913b6fa2b3ee6bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/62/613362/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/suse-host.yml', 'vars/suse.yml']",2,9f17990922db31b87cffb16e06eb1d9d9b113fd8,add-nobody-user, - system-user-nobody,,2,0
openstack%2Foslo.db~master~I2f5a9e35c2fae0c28b78beef3dcd2c4794362766,openstack/oslo.db,master,I2f5a9e35c2fae0c28b78beef3dcd2c4794362766,"Add ""is_started"" flag to enginefacade",MERGED,2018-10-24 14:16:43.000000000,2018-10-26 09:28:52.000000000,2018-10-26 09:28:52.000000000,"[{'_account_id': 6928}, {'_account_id': 9555}, {'_account_id': 9796}, {'_account_id': 11564}, {'_account_id': 11816}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-10-24 14:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/86fe5307591ad122804d7e4ffa4fe5ab31653789', 'message': 'Add ""is_started"" flag to enginefacade\n\nSome module reloading scenarios such as that which occurs\nwithin mod_wsgi mean that an existing module-level enginefacade\nis already in the ""started"" state, however initialization\nroutines from the calling application may still attempt to\ncall the ``.configure`` method.  Add a new flag is_started\nto both _TransactionContextManager and _TransactionFactory so\nthat calling code can check for this state ahead of time;\nadditionally, promote the TypeError raised to a specific subclass\nenginefacade.AlreadyStartedError to allow for better optimistic\nschemes.\n\nChange-Id: I2f5a9e35c2fae0c28b78beef3dcd2c4794362766\nReferences: I704196711d30c1124e713ac31111a8ea6fa2f1ba\n'}, {'number': 2, 'created': '2018-10-24 17:45:56.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'releasenotes/notes/add_facade_started-14f9bc34fac89371.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5b36e169ea74d2345545169124c31cdb6c319408', 'message': 'Add ""is_started"" flag to enginefacade\n\nSome module reloading scenarios such as that which occurs\nwithin mod_wsgi mean that an existing module-level enginefacade\nis already in the ""started"" state, however initialization\nroutines from the calling application may still attempt to\ncall the ``.configure`` method.  Add a new flag is_started\nto both _TransactionContextManager and _TransactionFactory so\nthat calling code can check for this state ahead of time;\nadditionally, promote the TypeError raised to a specific subclass\nenginefacade.AlreadyStartedError to allow for better optimistic\nschemes.\n\nChange-Id: I2f5a9e35c2fae0c28b78beef3dcd2c4794362766\nReferences: I704196711d30c1124e713ac31111a8ea6fa2f1ba\n'}]",0,613040,5b36e169ea74d2345545169124c31cdb6c319408,11,8,2,11816,,,0,"Add ""is_started"" flag to enginefacade

Some module reloading scenarios such as that which occurs
within mod_wsgi mean that an existing module-level enginefacade
is already in the ""started"" state, however initialization
routines from the calling application may still attempt to
call the ``.configure`` method.  Add a new flag is_started
to both _TransactionContextManager and _TransactionFactory so
that calling code can check for this state ahead of time;
additionally, promote the TypeError raised to a specific subclass
enginefacade.AlreadyStartedError to allow for better optimistic
schemes.

Change-Id: I2f5a9e35c2fae0c28b78beef3dcd2c4794362766
References: I704196711d30c1124e713ac31111a8ea6fa2f1ba
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/40/613040/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'releasenotes/notes/add_facade_started-14f9bc34fac89371.yaml']",3,86fe5307591ad122804d7e4ffa4fe5ab31653789,add_started_flag,"--- features: - | Added new ``.is_started`` boolean flag to enginefacade context manager and factory objects, so that double-configure scenarios can be prevented by calling code. Additionally, the ``TypeError`` raised when configure is called after the factory is started is now a specific subclass ``enginefacade.AlreadyStartedError``. ",,53,1
openstack%2Finstack-undercloud~master~Id9404f4e10bfa7b1b207a40f71832b269f7cfbb6,openstack/instack-undercloud,master,Id9404f4e10bfa7b1b207a40f71832b269f7cfbb6,Pin openstacksdk and fix pep8 stricter requirement about backslash (W605),ABANDONED,2018-10-25 10:57:07.000000000,2018-10-26 09:14:46.000000000,,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-25 10:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ef6e535e48c6aa289f2ad029804ba41884f3c64d', 'message': 'Fix pep8 stricter requirement about backslash (W605)\n\nPython will become stricter about backslash requirement and all\nunknown escape sequence will be forbidden.  PEP8 adjusted for that and\nraises a W605 error.\n\nChange-Id: Id9404f4e10bfa7b1b207a40f71832b269f7cfbb6\nCloses-Bug: #1799926\n'}, {'number': 2, 'created': '2018-10-25 14:08:53.000000000', 'files': ['requirements.txt', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/761e8e177a9b468cca46b4314960dfe9099f98bd', 'message': 'Pin openstacksdk and fix pep8 stricter requirement about backslash (W605)\n\n* Pin openstacksdk==0.17.2 to work with os-client-config.\n* Python will become stricter about backslash requirement and all\n  unknown escape sequence will be forbidden.  PEP8 adjusted for that and\n  raises a W605 error.\n\nChange-Id: Id9404f4e10bfa7b1b207a40f71832b269f7cfbb6\nCloses-Bug: #1799926\n'}]",0,613267,761e8e177a9b468cca46b4314960dfe9099f98bd,12,8,2,8297,,,0,"Pin openstacksdk and fix pep8 stricter requirement about backslash (W605)

* Pin openstacksdk==0.17.2 to work with os-client-config.
* Python will become stricter about backslash requirement and all
  unknown escape sequence will be forbidden.  PEP8 adjusted for that and
  raises a W605 error.

Change-Id: Id9404f4e10bfa7b1b207a40f71832b269f7cfbb6
Closes-Bug: #1799926
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/67/613267/2 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,ef6e535e48c6aa289f2ad029804ba41884f3c64d,bug/1799926," 'sed -i ""s/127.0.0.1\\(\\s*\\)/' '127.0.0.1\\1test.hostname test /"" ' 'sed -i ""s/127.0.0.1\\(\\s*\\)/' '127.0.0.1\\1test.hostname test /"" ' 'sed -i ""s/127.0.0.1\\(\\s*\\)/'"," 'sed -i ""s/127.0.0.1\(\s*\)/127.0.0.1\\1test.hostname test /"" ' 'sed -i ""s/127.0.0.1\(\s*\)/127.0.0.1\\1test.hostname test /"" ' 'sed -i ""s/127.0.0.1\(\s*\)/'",6,4
openstack%2Ftripleo-quickstart-extras~master~I21452b05b01f517b6333453caddfc16da3b5a82b,openstack/tripleo-quickstart-extras,master,I21452b05b01f517b6333453caddfc16da3b5a82b,Make sure we properly set container related facts during upgrade.,ABANDONED,2018-08-22 14:57:48.000000000,2018-10-26 09:13:05.000000000,,"[{'_account_id': 8449}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-08-22 14:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30198df20d56d1d07ec23ea43b2108959f108618', 'message': ""Make sure we properly set container related facts during upgrade.\n\nThe container_build_id and docker_registry_namespace_used weren't set\nanymore during upgrade.\n\nThis patch make sure that the associated task during deployment isn't\nskipped and that we change it just before to the right value.\n\nChange-Id: I21452b05b01f517b6333453caddfc16da3b5a82b\nCloses-Bug: #1786488\n""}, {'number': 2, 'created': '2018-08-23 07:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fefff90ee17447d3816b41e6ad4be5a70149b746', 'message': ""Make sure we properly set container related facts during upgrade.\n\nThe container_build_id and docker_registry_namespace_used weren't set\nanymore during upgrade.\n\nThis patch make sure that the associated task during deployment isn't\nskipped and that we change it just before to the right value.\n\nChange-Id: I21452b05b01f517b6333453caddfc16da3b5a82b\nCloses-Bug: #1786488\n""}, {'number': 3, 'created': '2018-08-24 13:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/49ca2f21194bff9873ea0906fdd849313aded241', 'message': ""Make sure we properly set container related facts during upgrade.\n\nThe container_build_id and docker_registry_namespace_used weren't set\nanymore during upgrade.\n\nThis patch make sure that the associated task during deployment isn't\nskipped and that we change it just before to the right value.\n\nChange-Id: I21452b05b01f517b6333453caddfc16da3b5a82b\nCloses-Bug: #1786488\n""}, {'number': 4, 'created': '2018-08-28 07:46:51.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml', 'roles/container-prep/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c3cdf07264ff71145c17add92c03cd236f9c3cf3', 'message': ""Make sure we properly set container related facts during upgrade.\n\nThe container_build_id and docker_registry_namespace_used weren't set\nanymore during upgrade.\n\nThis patch make sure that the associated task during deployment isn't\nskipped and that we change it just before to the right value.\n\nChange-Id: I21452b05b01f517b6333453caddfc16da3b5a82b\nCloses-Bug: #1786488\n""}]",2,595143,c3cdf07264ff71145c17add92c03cd236f9c3cf3,24,5,4,8297,,,0,"Make sure we properly set container related facts during upgrade.

The container_build_id and docker_registry_namespace_used weren't set
anymore during upgrade.

This patch make sure that the associated task during deployment isn't
skipped and that we change it just before to the right value.

Change-Id: I21452b05b01f517b6333453caddfc16da3b5a82b
Closes-Bug: #1786488
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/595143/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud-upgrade.yml', 'roles/container-prep/tasks/main.yml']",2,30198df20d56d1d07ec23ea43b2108959f108618,bug/1786488,, - container_build_id is not defined,7,1
openstack%2Fneutron~master~I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580,openstack/neutron,master,I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580,Don't uninstall flow tables in setup_dvr_flows_on_integ_br,MERGED,2018-06-06 11:01:13.000000000,2018-10-26 08:51:41.000000000,2018-09-21 15:50:34.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7249}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}]","[{'number': 1, 'created': '2018-06-06 11:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6b643811c26b7262256da84126c9ca2667fa4c8', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int  in setup_integration_br, these default\nflow tables will be missing.\n\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\nCloses-Bug: #1775146\n""}, {'number': 2, 'created': '2018-06-06 11:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/836676b5ff6854f21ff7a9a47384a35998d6bcf5', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int  in setup_integration_br, these default\nflow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 3, 'created': '2018-06-06 11:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4c1685367e43c3ff8ba70922b23e4a4acef3221', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 4, 'created': '2018-06-06 13:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42d8befc59ddeb7d8d537cb4f89500cee70d122c', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 5, 'created': '2018-06-06 13:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f61577f373b59a16c8962d9b183bb418318754b7', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 6, 'created': '2018-06-07 06:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2ed872670efcebabcb7b1b6570262dc92c950bc', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 7, 'created': '2018-06-07 06:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c05e10ddc36c01fc7c0b2db1bf9cc1c878857809', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 8, 'created': '2018-08-31 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7efabce3e95305055025a1c50eebd49b56264685', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}, {'number': 9, 'created': '2018-09-16 13:42:58.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/760870b6c238f5f2aa5fec33852e51b4ebccb718', 'message': ""Don't uninstall flow tables in setup_dvr_flows_on_integ_br\n\nThis is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed\n\nBr-int's flow tables are already uninstalled in setup_integration_br.\nAnd setup_integration_br will install some default flows. If we still\nuninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these\ndefault flow tables will be missing.\n\nCloses-Bug: #1775146\nChange-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580\n""}]",0,572729,760870b6c238f5f2aa5fec33852e51b4ebccb718,65,12,9,28329,,,0,"Don't uninstall flow tables in setup_dvr_flows_on_integ_br

This is a revise for I7b24a159962af7b58c096a1b2766e2169e9f8aed

Br-int's flow tables are already uninstalled in setup_integration_br.
And setup_integration_br will install some default flows. If we still
uninstall flow tables of br-int in setup_dvr_flows_on_integ_br, these
default flow tables will be missing.

Closes-Bug: #1775146
Change-Id: I71c1f9034dfc913b9e9ae17cc8f6bd084c9ee580
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/572729/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py'],1,f6b643811c26b7262256da84126c9ca2667fa4c8,bug/1775146,,"from oslo_config import cfgcfg.CONF.import_group('AGENT', 'neutron.plugins.ml2.drivers.openvswitch.' 'agent.common.config') self.conf = cfg.CONF # Remove existing flows in integration bridge if self.conf.AGENT.drop_flows_on_start: self.int_br.uninstall_flows(cookie=ovs_lib.COOKIE_ANY)",0,8
openstack%2Fneutron~master~I6193b00681dfb79222eedfd00c89620321ac1b4f,openstack/neutron,master,I6193b00681dfb79222eedfd00c89620321ac1b4f,Add permanent ARP entries for DVR fip/qrouter veth pair,MERGED,2018-10-03 18:39:42.000000000,2018-10-26 08:45:29.000000000,2018-10-16 17:30:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-10-03 18:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43289883e63b284ff17145ae7b8d776edb3adb9d', 'message': 'DNM: Add permanent ARP entries for DVR fip/qrouter veth pair\n\nSince we know the IP and MAC addresses of both sides of the\nfip/qrouter namespace veth pair device, just add permanent\nARP entries for them.  Could solve a problem where we\nsometimes see ARP entries in STALE state for a period of\ntime, causing job failures.\n\nCurrently depending on neutron debug patch, which in turn\ndepends on grenade debug patch.\n\nDepends-On: https://review.openstack.org/602156\nChange-Id: I6193b00681dfb79222eedfd00c89620321ac1b4f\nRelated-Bug: #1791989\n'}, {'number': 2, 'created': '2018-10-03 18:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0079838fefd18e19db013d8673541210458e2a', 'message': 'DNM: Add permanent ARP entries for DVR fip/qrouter veth pair\n\nSince we know the IP and MAC addresses of both sides of the\nfip/qrouter namespace veth pair device, just add permanent\nARP entries for them.  Could solve a problem where we\nsometimes see ARP entries in STALE state for a period of\ntime, causing job failures.\n\nCurrently depending on neutron debug patch, which in turn\ndepends on grenade debug patch.\n\nDepends-On: https://review.openstack.org/602156\nChange-Id: I6193b00681dfb79222eedfd00c89620321ac1b4f\nRelated-Bug: #1791989\n'}, {'number': 3, 'created': '2018-10-11 13:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d92e5da3de161bfd990d592f41d821e680a53821', 'message': 'Add permanent ARP entries for DVR fip/qrouter veth pair\n\nSince we know the IP and MAC addresses of both sides of the\nfip/qrouter namespace veth pair device, just add permanent\nARP entries for them.  Could solve a problem where we\nsometimes see ARP entries in STALE state for a period of\ntime, causing job failures.\n\nCurrently depending on neutron debug patch, which in turn\ndepends on grenade debug patch.\n\nChange-Id: I6193b00681dfb79222eedfd00c89620321ac1b4f\nRelated-Bug: #1791989\n'}, {'number': 4, 'created': '2018-10-11 13:44:28.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac5815a110f0033c1a217481822fc0c72c1ba16c', 'message': 'Add permanent ARP entries for DVR fip/qrouter veth pair\n\nSince we know the IP and MAC addresses of both sides of the\nfip/qrouter namespace veth pair device, just add permanent\nARP entries for them.\n\nChange-Id: I6193b00681dfb79222eedfd00c89620321ac1b4f\nRelated-Bug: #1791989\n'}]",1,607685,ac5815a110f0033c1a217481822fc0c72c1ba16c,62,14,4,1131,,,0,"Add permanent ARP entries for DVR fip/qrouter veth pair

Since we know the IP and MAC addresses of both sides of the
fip/qrouter namespace veth pair device, just add permanent
ARP entries for them.

Change-Id: I6193b00681dfb79222eedfd00c89620321ac1b4f
Related-Bug: #1791989
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/607685/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_fip_ns.py'],1,43289883e63b284ff17145ae7b8d776edb3adb9d,bug/1791989," # Add permanant ARP entries on each side of veth pair rtr_2_fip_dev.neigh.add(common_utils.cidr_to_ip(fip_2_rtr), fip_2_rtr_dev.link.address) fip_2_rtr_dev.neigh.add(common_utils.cidr_to_ip(rtr_2_fip), rtr_2_fip_dev.link.address) ",,7,0
openstack%2Fproject-config~master~Ia19e7c85cae24788bb1dd2cd872839bbbe20aa90,openstack/project-config,master,Ia19e7c85cae24788bb1dd2cd872839bbbe20aa90,Normalize projects.yaml,MERGED,2018-10-26 06:55:15.000000000,2018-10-26 08:29:39.000000000,2018-10-26 08:29:39.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 06:55:15.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2d0c62e5322167a208b2125cd41a89dc872dbf4', 'message': 'Normalize projects.yaml\n\nChange-Id: Ia19e7c85cae24788bb1dd2cd872839bbbe20aa90\n'}]",0,613511,e2d0c62e5322167a208b2125cd41a89dc872dbf4,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ia19e7c85cae24788bb1dd2cd872839bbbe20aa90
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/613511/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e2d0c62e5322167a208b2125cd41a89dc872dbf4,project-yaml-normalization,, upstream: https://github.com/amadev/docker-aptly.git,0,1
openstack%2Fcinder~master~I7349518cd7a0cb4f4e35d94440dea1f7e3c2b416,openstack/cinder,master,I7349518cd7a0cb4f4e35d94440dea1f7e3c2b416,Fix debug message for _copy_volume_data,MERGED,2018-10-22 18:13:27.000000000,2018-10-26 08:29:38.000000000,2018-10-23 01:37:19.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-22 18:13:27.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/525a7831506cc05d8b9a415f7cab539632c44896', 'message': 'Fix debug message for _copy_volume_data\n\nUse the correct name of the method for a\nmore clear log message.\n\nChange-Id: I7349518cd7a0cb4f4e35d94440dea1f7e3c2b416\n'}]",0,612467,525a7831506cc05d8b9a415f7cab539632c44896,37,31,1,4523,,,0,"Fix debug message for _copy_volume_data

Use the correct name of the method for a
more clear log message.

Change-Id: I7349518cd7a0cb4f4e35d94440dea1f7e3c2b416
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/612467/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,525a7831506cc05d8b9a415f7cab539632c44896,," LOG.debug('_copy_volume_data %(src)s -> %(dest)s.',"," LOG.debug('copy_data_between_volumes %(src)s -> %(dest)s.',",1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic6689387a28539b7eb341d55a9db08f078e8e975,openstack/openstack-ansible-lxc_hosts,master,Ic6689387a28539b7eb341d55a9db08f078e8e975,Use consistent apt options for upgrades,MERGED,2018-10-25 19:58:16.000000000,2018-10-26 08:28:22.000000000,2018-10-26 08:27:53.000000000,"[{'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 19:58:16.000000000', 'files': ['templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/ubuntu_18_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f63abfa921b2c69e202b068fe631b48adbb9ad64', 'message': ""Use consistent apt options for upgrades\n\nThe 'apt-get upgrade' does not set confdef and confold currently, so an\nupgrade which requires user input can break the cache build[1].\n\n[1] http://paste.openstack.org/raw/733076/\n\nChange-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975\n""}]",0,613407,f63abfa921b2c69e202b068fe631b48adbb9ad64,10,4,1,17799,,,0,"Use consistent apt options for upgrades

The 'apt-get upgrade' does not set confdef and confold currently, so an
upgrade which requires user input can break the cache build[1].

[1] http://paste.openstack.org/raw/733076/

Change-Id: Ic6689387a28539b7eb341d55a9db08f078e8e975
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/07/613407/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/ubuntu_18_prep.sh.j2']",2,f63abfa921b2c69e202b068fe631b48adbb9ad64,,"apt-get upgrade -y -o Dpkg::Options::=""--force-confdef"" -o Dpkg::Options::=""--force-confold"" --force-yes",apt-get upgrade -y,2,2
openstack%2Fopenstack-helm-infra~master~Iba2cf4d8304f2405db394fbb6fee58119eab13fc,openstack/openstack-helm-infra,master,Iba2cf4d8304f2405db394fbb6fee58119eab13fc,Node-Exporter: allows to set collectors enable/disable,MERGED,2018-08-01 12:56:12.000000000,2018-10-26 08:01:40.000000000,2018-10-26 08:01:40.000000000,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24427}, {'_account_id': 25764}, {'_account_id': 26931}]","[{'number': 1, 'created': '2018-08-01 12:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/72c5f4cd959ac797a7336192b1ba9b9a49f0e292', 'message': 'Node-Exporter: allows to set collectors enable/disable\n\nThis PS allows to set collectors enable/disable using values.\n_node-exporter.sh.tpl makes collectors-list from values.yaml.\n\nChange-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc\n'}, {'number': 2, 'created': '2018-09-19 04:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d637c0edded34afb0129f79dea07bed387ba5bf7', 'message': 'Node-Exporter: allows to set collectors enable/disable\n\nThis PS allows to set collectors enable/disable using values.\n_node-exporter.sh.tpl makes collectors-list from values.yaml.\n\nChange-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc\n'}, {'number': 3, 'created': '2018-10-22 15:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffa26a3b985bf9ff7855088f4c7201c27ec0926e', 'message': 'Node-Exporter: allows to set collectors enable/disable\n\nThis PS allows to set collectors enable/disable using values.\n_node-exporter.sh.tpl makes collectors-list from values.yaml.\n\nChange-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc\n'}, {'number': 4, 'created': '2018-10-25 06:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a55054fa4fb4d60da8f8e0a230f32ba89393e196', 'message': 'Node-Exporter: allows to set collectors enable/disable\n\nThis PS allows to set collectors enable/disable using values.\n_node-exporter.sh.tpl makes collectors-list from values.yaml.\n\nChange-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc\n'}, {'number': 5, 'created': '2018-10-26 01:15:15.000000000', 'files': ['helm-toolkit/templates/utils/_joinListWithPrefix.tpl', 'prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4dfb27f0cd8df30c53f4421a9e34118787cf056', 'message': 'Node-Exporter: allows to set collectors enable/disable\n\nThis PS allows to set collectors enable/disable using values.\n_node-exporter.sh.tpl makes collectors-list from values.yaml.\n\nChange-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc\n'}]",2,587812,b4dfb27f0cd8df30c53f4421a9e34118787cf056,26,8,5,24427,,,0,"Node-Exporter: allows to set collectors enable/disable

This PS allows to set collectors enable/disable using values.
_node-exporter.sh.tpl makes collectors-list from values.yaml.

Change-Id: Iba2cf4d8304f2405db394fbb6fee58119eab13fc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/587812/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml']",2,72c5f4cd959ac797a7336192b1ba9b9a49f0e292,set_collectors, collectors: enable: - ntp - meminfo_numa - bonding - mountstats disable:,,12,6
openstack%2Fnova~master~Ia0dbd2cc6fc5dcedd5382afbdba710953cc80e11,openstack/nova,master,Ia0dbd2cc6fc5dcedd5382afbdba710953cc80e11,Delete redundant spaces,ABANDONED,2018-10-25 05:38:08.000000000,2018-10-26 07:52:16.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-25 05:38:08.000000000', 'files': ['nova/virt/libvirt/volume/net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3187e26d278ade7de61c10befdadcfd26f823bc9', 'message': 'Delete redundant spaces\n\nChange-Id: Ia0dbd2cc6fc5dcedd5382afbdba710953cc80e11\n'}]",0,613199,3187e26d278ade7de61c10befdadcfd26f823bc9,28,21,1,25837,,,0,"Delete redundant spaces

Change-Id: Ia0dbd2cc6fc5dcedd5382afbdba710953cc80e11
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/613199/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/net.py'],1,3187e26d278ade7de61c10befdadcfd26f823bc9,," conf.source_name) conf.source_name, password)"," conf.source_name) conf.source_name, password)",3,3
openstack%2Fcharm-ceph-mon~stable%2F18.08~I7a5c53c792ab958d94301de62cdd4d804f8a54f7,openstack/charm-ceph-mon,stable/18.08,I7a5c53c792ab958d94301de62cdd4d804f8a54f7,Resync ceph helpers,MERGED,2018-10-25 14:55:22.000000000,2018-10-26 07:37:19.000000000,2018-10-26 06:04:47.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 14:55:22.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9c577f155de8e4f37930d24f194c8b65a8d6c1ac', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nAdd nova-cloud-controller to amulet tests to achieve a complete\ndeployment post landing of changes for Nova Cells v2 support.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n(cherry picked from commit 61e20c2be3b3ed1a17895a81c6fe7933a4237550)\n'}]",0,613346,9c577f155de8e4f37930d24f194c8b65a8d6c1ac,11,4,1,20805,,,0,"Resync ceph helpers

Resync ceph helpers, picking up fixes for:

 - Upgrades from Luminous to Mimic.
 - Correct build of OSD list in more complex CRUSH
   configurations, resolving upgrade issues.

Add nova-cloud-controller to amulet tests to achieve a complete
deployment post landing of changes for Nova Cells v2 support.

Closes-Bug: 1788722

Change-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7
(cherry picked from commit 61e20c2be3b3ed1a17895a81c6fe7933a4237550)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/46/613346/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,9c577f155de8e4f37930d24f194c8b65a8d6c1ac,bug/1794878-stable/18.08," host_nodes = [ node for node in json_tree['nodes'] if node['type'] == 'host' ] for host in host_nodes: crush_list.append( CrushLocation( name=host.get('name'), identifier=host['id'], host=host.get('host'), rack=host.get('rack'), row=host.get('row'), datacenter=host.get('datacenter'), chassis=host.get('chassis'), root=host.get('root') ) :param: dev: Full path to use for OSD block device setup, The function looks up realpath of the device cmd.append(os.path.realpath(dev)) ('luminous', 'mimic'), 'rocky': 'mimic',"," child_ids = json_tree['nodes'][0]['children'] for child in json_tree['nodes']: if child['id'] in child_ids: crush_list.append( CrushLocation( name=child.get('name'), identifier=child['id'], host=child.get('host'), rack=child.get('rack'), row=child.get('row'), datacenter=child.get('datacenter'), chassis=child.get('chassis'), root=child.get('root') ) :param: dev: Full path to use for OSD block device setup cmd.append(dev)",21,16
openstack%2Fironic-inspector~master~I5009e8708dcad8ab25380f7bf574125d6e758ef5,openstack/ironic-inspector,master,I5009e8708dcad8ab25380f7bf574125d6e758ef5,Add API reference,MERGED,2017-08-21 08:06:04.000000000,2018-10-26 07:31:58.000000000,2018-10-22 20:31:33.000000000,"[{'_account_id': 6618}, {'_account_id': 8871}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13636}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-08-21 08:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/990bcc8aeeaad90f46cf0196206d0d90d6bafe8f', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 2, 'created': '2018-09-01 06:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/747ee874211836b4d1f3784edf34485c8c05dba4', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 3, 'created': '2018-09-03 01:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c1140e20f8fd27edfd58368e969d7453cb1785e8', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 4, 'created': '2018-09-05 02:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c020c14bfd38bc36c7d42af5b6922bbca1b90c85', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 5, 'created': '2018-09-11 01:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e196f4687793f5678fc2339d818728c4fb7d0412', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nDepends-On: Ib0852ce505cfa1d07bf6001480438f4a6d94fbca\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 6, 'created': '2018-10-15 07:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c231b9cbce18be67775e821bc86051930f7e59a2', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 7, 'created': '2018-10-15 09:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/474a351806001dc5cb443d85d437d9f704b9f3d6', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}, {'number': 8, 'created': '2018-10-16 08:52:32.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/api-v1-common-node-uuid.json', 'api-ref/source/samples/api-v1-create-rule-request.json', 'api-ref/source/index.rst', 'test-requirements.txt', 'api-ref/source/samples/api-v1-continue-request.json', 'api-ref/source/samples/api-v1-root-response.json', 'lower-constraints.txt', 'api-ref/source/introspection-api-v1-rules.inc', 'zuul.d/legacy-ironic-inspector-jobs.yaml', 'api-ref/source/samples/api-root-response.json', 'api-ref/source/introspection-api-versions.inc', 'api-ref/source/samples/api-v1-common-rule-uuid.json', 'api-ref/source/samples/api-v1-create-rule-response.json', 'api-ref/source/introspection-api-v1-introspection.inc', 'api-ref/source/introspection-api-v1-continue.inc', 'api-ref/source/samples/api-v1-data-introspection-response.json', 'api-ref/source/samples/api-v1-get-introspections-response.json', 'api-ref/source/samples/api-v1-get-rule-response.json', 'api-ref/source/conf.py', 'api-ref/source/samples/api-v1-get-introspection-response.json', 'tox.ini', 'api-ref/source/samples/api-v1-get-rules-response.json'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/05a86b3d574f3262f8ada3d145a352afb8557cdb', 'message': 'Add API reference\n\nAdd initial API reference, which covers all inspector endpoits.\n\nThe conf.py and the tox environment are stolen from ironic.\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5\n'}]",71,495752,05a86b3d574f3262f8ada3d145a352afb8557cdb,46,7,8,13636,,,0,"Add API reference

Add initial API reference, which covers all inspector endpoits.

The conf.py and the tox environment are stolen from ironic.

Co-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>
Change-Id: I5009e8708dcad8ab25380f7bf574125d6e758ef5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/495752/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/api-v1-common-node-uuid.json', 'api-ref/source/samples/api-v1-create-rule-request.json', 'api-ref/source/index.rst', 'test-requirements.txt', 'api-ref/source/samples/api-v1-continue-request.json', 'api-ref/source/samples/api-v1-root-response.json', 'api-ref/source/introspection-api-v1-rules.inc', 'api-ref/source/samples/api-root-response.json', 'api-ref/source/introspection-api-versions.inc', 'api-ref/source/samples/api-v1-common-rule-uuid.json', 'api-ref/source/samples/api-v1-create-rule-response.json', 'api-ref/source/introspection-api-v1-introspection.inc', 'api-ref/source/introspection-api-v1-continue.inc', 'api-ref/source/samples/api-v1-data-introspection-response.json', 'api-ref/source/samples/api-v1-get-introspections-response.json', 'api-ref/source/samples/api-v1-get-rule-response.json', 'api-ref/source/conf.py', 'api-ref/source/samples/api-v1-get-introspection-response.json', 'tox.ini', 'api-ref/source/samples/api-v1-get-rules-response.json']",21,990bcc8aeeaad90f46cf0196206d0d90d6bafe8f,api-ref,"{ ""rules"": [ { ""description"": ""Set deploy info if not already set on node"", ""links"": [ { ""href"": ""/v1/rules/7459bf7c-9ff9-43a8-ba9f-48542ecda66c"", ""rel"": ""self"" } ], ""uuid"": ""7459bf7c-9ff9-43a8-ba9f-48542ecda66c"" }, { ""description"": ""Set IPMI driver_info if no credentials"", ""links"": [ { ""href"": ""/v1/rules/b0ea6361-03cd-467c-859c-7230547dcb9a"", ""rel"": ""self"" } ], ""uuid"": ""b0ea6361-03cd-467c-859c-7230547dcb9a"" } ] } ",,1490,0
openstack%2Fpuppet-nova~master~Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5,openstack/puppet-nova,master,Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5,Add puppet-nova-tripleo-standalone job,MERGED,2018-10-12 07:42:59.000000000,2018-10-26 07:17:49.000000000,2018-10-26 07:17:49.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9414}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2018-10-12 07:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3283f29ca7b46ab291e18ba0f0b9a9e9077eaf81', 'message': '[DNM] testing tripleo standalone tempest\n\nDepends-On: https://review.openstack.org/609918\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 2, 'created': '2018-10-16 10:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/02ce82f9acc99fcf92da7d590a15035d78254dd2', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 3, 'created': '2018-10-17 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f10800e1946b10578b07e9e05ee67bd017b8376f', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 4, 'created': '2018-10-20 10:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fa750fae0783d2a2d24a150534ac408732c88172', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 5, 'created': '2018-10-23 17:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/77109e7ab1e914e5ebbe162e9bb0fca3ccbdf143', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 6, 'created': '2018-10-24 18:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4ecdaabea2348c7338bcaefb35d714cd628a2759', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}, {'number': 7, 'created': '2018-10-25 14:22:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/670197c94aa8ec7e46c2479a58773e9b00c417ee', 'message': 'Add puppet-nova-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run nova\n  specific tempest tests.\n\n* It will help to detect the puppet-nova tempest specific issues early\n  in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5\n'}]",0,609942,670197c94aa8ec7e46c2479a58773e9b00c417ee,40,8,7,12393,,,0,"Add puppet-nova-tripleo-standalone job

* It overrrides the tripleo-standalone featureset override to run nova
  specific tempest tests.

* It will help to detect the puppet-nova tempest specific issues early
  in gates.

Depends-On: https://review.openstack.org/#/c/609666

Change-Id: Ifd4d8134f21a6efc7f3086378fad16b39ffa57b5
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/42/609942/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,3283f29ca7b46ab291e18ba0f0b9a9e9077eaf81,tempest_standalone,,,1,0
openstack%2Fblazar~stable%2Fqueens~Ib8b436a4a3b40a0d3005d03dcd5af465dd10f088,openstack/blazar,stable/queens,Ib8b436a4a3b40a0d3005d03dcd5af465dd10f088,Check number of replaced hosts in update_reservation,MERGED,2018-08-10 01:58:14.000000000,2018-10-26 07:03:44.000000000,2018-10-26 07:03:44.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-08-10 01:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/80026ceb7e7c9845604d9116b78b8ccf28b0a81b', 'message': 'Check number of replaced hosts in update_reservation\n\nInstancePlugin fails to check the number of replaced hosts in\nthe update_reservation method. It wrongly succeeds to update\nthe instance reservation via the Lease Update API.\n\nChange-Id: Ib8b436a4a3b40a0d3005d03dcd5af465dd10f088\nCloses-Bug: #1786007\n(cherry picked from commit 1d8a6a089442ad80564f1437abad242d6af23b9f)\n'}, {'number': 2, 'created': '2018-09-14 02:02:19.000000000', 'files': ['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ad52c36474cb0c38d19bff3d6f8a8b3b306a4580', 'message': 'Check number of replaced hosts in update_reservation\n\nInstancePlugin fails to check the number of replaced hosts in\nthe update_reservation method. It wrongly succeeds to update\nthe instance reservation via the Lease Update API.\n\nChange-Id: Ib8b436a4a3b40a0d3005d03dcd5af465dd10f088\nCloses-Bug: #1786007\n(cherry picked from commit 1d8a6a089442ad80564f1437abad242d6af23b9f)\n'}]",0,590599,ad52c36474cb0c38d19bff3d6f8a8b3b306a4580,11,5,2,8878,,,0,"Check number of replaced hosts in update_reservation

InstancePlugin fails to check the number of replaced hosts in
the update_reservation method. It wrongly succeeds to update
the instance reservation via the Lease Update API.

Change-Id: Ib8b436a4a3b40a0d3005d03dcd5af465dd10f088
Closes-Bug: #1786007
(cherry picked from commit 1d8a6a089442ad80564f1437abad242d6af23b9f)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/99/590599/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py']",2,80026ceb7e7c9845604d9116b78b8ccf28b0a81b,bug/1786007-stable/queens, if (new_values['amount'] - reservation['amount'] != (len(changed_hosts['added']) - len(changed_hosts['removed']))): raise mgr_exceptions.NotEnoughHostsAvailable() ,,31,0
openstack%2Fopenstackdocstheme~master~I23e3ae6382766da9326f5abd545edfcdeacebe30,openstack/openstackdocstheme,master,I23e3ae6382766da9326f5abd545edfcdeacebe30,"StarlingX nav fix to remove ""Software Update"" links",MERGED,2018-10-25 17:24:56.000000000,2018-10-26 06:59:17.000000000,2018-10-26 06:59:17.000000000,"[{'_account_id': 6547}, {'_account_id': 17765}, {'_account_id': 22348}, {'_account_id': 29319}]","[{'number': 1, 'created': '2018-10-25 17:24:56.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/dc6b70a102627ebc331c30c91986b6833bf18fd5', 'message': 'StarlingX nav fix to remove ""Software Update"" links\n\nThe ""Software Update"" target page for the StarlingX Docs has gone\naway.  The starlingx theme still had that link in the left-hand\nnav panel.  I have removed it.\n\nChange-Id: I23e3ae6382766da9326f5abd545edfcdeacebe30\nSigned-off-by: Scott Rifenbark <srifenbark@gmail.com>\n'}]",0,613384,dc6b70a102627ebc331c30c91986b6833bf18fd5,8,4,1,29039,,,0,"StarlingX nav fix to remove ""Software Update"" links

The ""Software Update"" target page for the StarlingX Docs has gone
away.  The starlingx theme still had that link in the left-hand
nav panel.  I have removed it.

Change-Id: I23e3ae6382766da9326f5abd545edfcdeacebe30
Signed-off-by: Scott Rifenbark <srifenbark@gmail.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/84/613384/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html'],1,dc6b70a102627ebc331c30c91986b6833bf18fd5,documentation-baseline,," <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://docs.starlingx.io/api-ref/stx-update/"">Software Update</a></li>",0,1
openstack%2Fzaqar~stable%2Frocky~Ic18f76fef2b139a3edefecc6004846b11ee7653e,openstack/zaqar,stable/rocky,Ic18f76fef2b139a3edefecc6004846b11ee7653e,Import legacy-rally-dsvm-zaqar-zaqar,MERGED,2018-09-30 10:02:39.000000000,2018-10-26 06:50:48.000000000,2018-10-26 06:50:48.000000000,"[{'_account_id': 24}, {'_account_id': 308}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 22816}]","[{'number': 1, 'created': '2018-09-30 10:02:39.000000000', 'files': ['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fed6d772d57a0293e62a4837534ce3d9dc311a70', 'message': ""Import legacy-rally-dsvm-zaqar-zaqar\n\nImport job legacy-rally-dsvm-zaqar-zaqar and rename according to\nZuul v3 naming conventions.\n\nRemove branches condition, there's an implicit one, this is not needed.\n\nThis is a partial backport.\n\nChange-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e\n(cherry picked from commit d7dc1bc750aed121bfc50fc999ff03e96cfd2deb)\n""}]",0,606839,fed6d772d57a0293e62a4837534ce3d9dc311a70,12,14,1,6547,,,0,"Import legacy-rally-dsvm-zaqar-zaqar

Import job legacy-rally-dsvm-zaqar-zaqar and rename according to
Zuul v3 naming conventions.

Remove branches condition, there's an implicit one, this is not needed.

This is a partial backport.

Change-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e
(cherry picked from commit d7dc1bc750aed121bfc50fc999ff03e96cfd2deb)
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/39/606839/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml']",3,fed6d772d57a0293e62a4837534ce3d9dc311a70,update-zuul,- job: name: zaqar-rally parent: legacy-dsvm-base run: playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml post-run: playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/aodh - openstack/ceilometer - openstack/diskimage-builder - openstack/ironic - openstack/magnum - openstack/networking-bgpvpn - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/neutron-vpnaas - openstack/octavia - openstack/panko - openstack/python-magnumclient - openstack/python-senlinclient - openstack/python-watcherclient - openstack/python-zaqarclient - openstack/rally - openstack/senlin - openstack/tripleo-image-elements - openstack/watcher - openstack/zaqar - openstack/zaqar-ui - zaqar-rally:, branches: ^(?!(driverfixes|stable/(mitaka|newton))).*$ - legacy-rally-dsvm-zaqar-zaqar:,248,2
openstack%2Fpuppet-nova~master~I93acd7c4cee0657f56358d9f6cba615fbc0b1d63,openstack/puppet-nova,master,I93acd7c4cee0657f56358d9f6cba615fbc0b1d63,Optimise the nova client vars defined,MERGED,2018-09-14 16:19:04.000000000,2018-10-26 06:39:23.000000000,2018-10-26 06:39:23.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-14 16:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0f42310dc49b99be62d83936a2fb82c8297d1fba', 'message': 'Optimise the nova client vars defined\n\nnova client defined twice, it is unnecessary\n\nChange-Id: I93acd7c4cee0657f56358d9f6cba615fbc0b1d63\nCloses-Bug: #1792606\n'}, {'number': 2, 'created': '2018-09-14 16:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/39fd1443ae57ae617d7c1353090b98f1fe5b1d7c', 'message': 'Optimise the nova client vars defined\n\nnova client defined twice, it is unnecessary\n\nChange-Id: I93acd7c4cee0657f56358d9f6cba615fbc0b1d63\nCloses-Bug: #1792606\n'}, {'number': 3, 'created': '2018-10-05 16:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f7de70676ec0d93cab1a31262f4f9cff57395235', 'message': 'Optimise the nova client vars defined\n\nnova client defined twice, it is unnecessary\n\nChange-Id: I93acd7c4cee0657f56358d9f6cba615fbc0b1d63\nCloses-Bug: #1792606\n'}, {'number': 4, 'created': '2018-10-25 23:46:04.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/64e22c62713d0bf96694e1e9bd80850f565261e3', 'message': 'Optimise the nova client vars defined\n\nnova client defined twice, it is unnecessary\n\nChange-Id: I93acd7c4cee0657f56358d9f6cba615fbc0b1d63\nCloses-Bug: #1792606\n'}]",0,602674,64e22c62713d0bf96694e1e9bd80850f565261e3,53,9,4,27781,,,0,"Optimise the nova client vars defined

nova client defined twice, it is unnecessary

Change-Id: I93acd7c4cee0657f56358d9f6cba615fbc0b1d63
Closes-Bug: #1792606
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/74/602674/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,0f42310dc49b99be62d83936a2fb82c8297d1fba,bug/1792606," $client_package = ""python${pyvers}-novaclient"" $group = 'nova' "," $group = 'nova' $client_package = ""python${pyvers}-novaclient""",3,2
openstack%2Fwatcher~master~Icb0bbca9c05ee97ea9947a31db5e87b7837e42d0,openstack/watcher,master,Icb0bbca9c05ee97ea9947a31db5e87b7837e42d0,Fix oslo_versionedobjects warnings,MERGED,2018-10-18 16:00:11.000000000,2018-10-26 06:27:50.000000000,2018-10-26 06:27:50.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 16:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ee5a9b07ef66652b785276eed12ae193402ca239', 'message': '[WiP] Fix oslo_versionedobjects warnings\n\nChange-Id: Icb0bbca9c05ee97ea9947a31db5e87b7837e42d0\n'}, {'number': 2, 'created': '2018-10-23 14:17:46.000000000', 'files': ['watcher/tests/decision_engine/model/data/scenario_8_with_4_nodes.xml', 'watcher/objects/fields.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_error-volume-create.json', 'watcher/tests/decision_engine/scope/test_compute.py', 'watcher/decision_engine/model/element/volume.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_bootable-volume-create.json', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-update.json', 'watcher/tests/decision_engine/model/data/scenario_7_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_3_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_metrics.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_1_node_unavailable.xml', 'watcher/tests/decision_engine/model/data/scenario_1.xml', 'watcher/tests/api/base.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-resize.json', 'watcher/tests/decision_engine/model/data/scenario_2_with_metrics.xml', 'watcher/tests/decision_engine/strategy/strategies/test_zone_migration.py', 'watcher/tests/decision_engine/model/notification/test_cinder_notifications.py', 'watcher/tests/decision_engine/cluster/test_cinder_cdmc.py', 'watcher/tests/decision_engine/scope/fake_scopes.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-attach.json', 'watcher/tests/decision_engine/model/data/scenario_5_with_instance_disk_0.xml', 'watcher/tests/decision_engine/scope/test_storage.py', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-detach.json', 'watcher/tests/decision_engine/model/data/scenario_3_with_metrics.xml', 'watcher/tests/api/v1/test_actions.py', 'watcher/tests/decision_engine/model/data/scenario_6_with_2_nodes.xml', 'watcher/tests/decision_engine/model/test_element.py', 'watcher/tests/decision_engine/model/data/scenario_9_with_3_active_plus_1_disabled_nodes.xml', 'watcher/tests/decision_engine/model/data/storage_scenario_1.xml', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-create.json', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-create_pool_notfound.json', 'watcher/tests/decision_engine/model/notification/data/scenario_1_volume-delete.json'], 'web_link': 'https://opendev.org/openstack/watcher/commit/62b9282b1e36aaba6c2e7f7296cd25bbb8a6b368', 'message': 'Fix oslo_versionedobjects warnings\n\nThis patch set fixes warnings regarding invalid UUIDs and\nstatic_root.\n\nChange-Id: Icb0bbca9c05ee97ea9947a31db5e87b7837e42d0\n'}]",0,611666,62b9282b1e36aaba6c2e7f7296cd25bbb8a6b368,9,3,2,19055,,,0,"Fix oslo_versionedobjects warnings

This patch set fixes warnings regarding invalid UUIDs and
static_root.

Change-Id: Icb0bbca9c05ee97ea9947a31db5e87b7837e42d0
",git fetch https://review.opendev.org/openstack/watcher refs/changes/66/611666/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/decision_engine/model/data/scenario_8_with_4_nodes.xml', 'watcher/tests/decision_engine/scope/test_compute.py', 'watcher/tests/decision_engine/model/data/scenario_5_with_instance_disk_0.xml', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/tests/decision_engine/model/data/scenario_7_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_3_with_metrics.xml', 'watcher/tests/decision_engine/model/data/scenario_3_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_metrics.xml', 'watcher/tests/api/v1/test_actions.py', 'watcher/tests/decision_engine/model/data/scenario_1_with_1_node_unavailable.xml', 'watcher/tests/decision_engine/model/data/scenario_6_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_9_with_3_active_plus_1_disabled_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_1.xml', 'watcher/tests/decision_engine/model/data/storage_scenario_1.xml', 'watcher/tests/api/base.py', 'watcher/tests/decision_engine/model/data/scenario_2_with_metrics.xml']",16,ee5a9b07ef66652b785276eed12ae193402ca239,fix-test-warnings," <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_0"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_1"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_2"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_3"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_4"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_5"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/>"," <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_0"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_0""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_1"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_1""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_2"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_2""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_3"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_3""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_4"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_4""/> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_5"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""project_5""/>",125,119
openstack%2Ftripleo-heat-templates~master~Ibf25e28d02cee6308f3e9a2660e001ba73d756c0,openstack/tripleo-heat-templates,master,Ibf25e28d02cee6308f3e9a2660e001ba73d756c0,Skip hosts group in ceph-ansible inventory when all are blacklisted,MERGED,2018-10-15 22:13:07.000000000,2018-10-26 05:50:55.000000000,2018-10-26 05:50:55.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23974}]","[{'number': 1, 'created': '2018-10-15 22:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fd87fe869ddcf516b641ebde31088687ff6c22b', 'message': 'Use --limit with ceph-ansible to cope with blacklisted nodes\n\nPreviously we were parsing ansible_hostname from the outer inventory\nto remove blacklisted nodes. This revealed to be problematic when\nall nodes of a given group were blacklisted. This change proposes\na different approach where we use --limit instead, like the outer\nansible_playbook run.\n\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 2, 'created': '2018-10-15 22:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/393ef5e4675a133a346c03db20b9a5f2da509a22', 'message': 'Use --limit with ceph-ansible to cope with blacklisted nodes\n\nPreviously we were parsing ansible_hostname from the outer inventory\nto remove blacklisted nodes. This revealed to be problematic when\nall nodes of a given group were blacklisted. This change proposes\na different approach where we use --limit instead, like the outer\nansible_playbook run.\n\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 3, 'created': '2018-10-16 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/498cbbd46a2bee08f603e73cfa03cf990092c21a', 'message': 'Use --limit with ceph-ansible to cope with blacklisted nodes\n\nPreviously we were parsing ansible_hostname from the outer inventory\nto remove blacklisted nodes. This revealed to be problematic when\nall nodes of a given group were blacklisted. This change proposes\na different approach where we use --limit instead, like the outer\nansible_playbook run.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 4, 'created': '2018-10-17 17:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a576beab149ad8d5e8d87d0b9691169007a7bca', 'message': 'Use --limit with ceph-ansible to cope with blacklisted nodes\n\nPreviously we were parsing ansible_hostname from the outer inventory\nto remove blacklisted nodes. This revealed to be problematic when\nall nodes of a given group were blacklisted. This change proposes\na different approach where we use --limit instead, like the outer\nansible_playbook run.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 5, 'created': '2018-10-18 11:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8107a6e9208d648ecd63c17eb3385e323632826', 'message': 'Use --limit with ceph-ansible to cope with blacklisted nodes\n\nPreviously we were parsing ansible_hostname from the outer inventory\nto remove blacklisted nodes. This revealed to be problematic when\nall nodes of a given group were blacklisted. This change proposes\na different approach where we use --limit instead, like the outer\nansible_playbook run.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 6, 'created': '2018-10-22 21:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96c11fe1cabbd3c783c150a246a0d66e84068961', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 7, 'created': '2018-10-23 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7807e8874540d253737f9368d9c9eff40cba6018', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 8, 'created': '2018-10-24 07:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa9de4d25996fda55ad3f998a58c41d1c4ed5afb', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 9, 'created': '2018-10-24 07:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/119aadd97fef1d6cf062fb187ad737d98cdf477a', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 10, 'created': '2018-10-24 08:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0910ffae7dec3be192e28129c0649db5d5d57b2c', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 11, 'created': '2018-10-24 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37e166f8755d2410bac5c6a2d44c28b42b6cb705', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 12, 'created': '2018-10-24 16:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/506ba51fd0852bb8ac147584ba8933275eee9b35', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}, {'number': 13, 'created': '2018-10-24 22:13:45.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bcfb7114666efc0172132a4ebe0f5cff2be7931', 'message': 'Skip hosts group in ceph-ansible inventory when all are blacklisted\n\nEnsures the hosts group is not created in the ceph-ansible inventory\nif all nodes of a given group are blacklisted.\n\nCloses-Bug: 1798044\nChange-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0\n'}]",10,610736,5bcfb7114666efc0172132a4ebe0f5cff2be7931,49,7,13,6796,,,0,"Skip hosts group in ceph-ansible inventory when all are blacklisted

Ensures the hosts group is not created in the ceph-ansible inventory
if all nodes of a given group are blacklisted.

Closes-Bug: 1798044
Change-Id: Ibf25e28d02cee6308f3e9a2660e001ba73d756c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/610736/13 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,0fd87fe869ddcf516b641ebde31088687ff6c22b,bug/1798044," {{ host }}: - yaql: data: {get_param: DeploymentServerBlacklist} expression: $.data.len() > 0 and ""--limit 'all:!"" + $.data.where($ != null).join(':!') + ""'"" or """"", - name: set blacklisted_hostnames set_fact: blacklisted_hostnames: {get_param: DeploymentServerBlacklist} {%- if hostvars.raw_get(host)['ansible_hostname'] is defined -%} {%- if hostvars.raw_get(host)['ansible_hostname'] not in blacklisted_hostnames -%} {{ hostvars.raw_get(host)['ansible_hostname'] }}: {% endif -%} {% endif -%},4,8
openstack%2Frpm-packaging~master~Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e,openstack/rpm-packaging,master,Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e,package the added wsgi script,MERGED,2018-10-22 08:45:29.000000000,2018-10-26 05:19:44.000000000,2018-10-26 05:19:44.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-22 08:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1f391160a2b0700e15c035f811e2df2f83e3101d', 'message': 'package the new cli\n\nadded a new file\nhttps://review.openstack.org/#/c/611792/\n\nChange-Id: Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e\n'}, {'number': 2, 'created': '2018-10-22 08:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/af249b83f95107255215176da4ba379344ac1c47', 'message': 'package the added wsgi script\n\nadded a new file\nhttps://review.openstack.org/#/c/611792/\n\nChange-Id: Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e\n'}, {'number': 3, 'created': '2018-10-22 09:37:23.000000000', 'files': ['openstack/cyborg/cyborg.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7134ab7c81f01d5d7d446ca1bbd4c3627115b802', 'message': 'package the added wsgi script\n\nadded a new file\nhttps://review.openstack.org/#/c/611792/\n\nChange-Id: Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e\n'}]",1,612282,7134ab7c81f01d5d7d446ca1bbd4c3627115b802,16,5,3,23735,,,0,"package the added wsgi script

added a new file
https://review.openstack.org/#/c/611792/

Change-Id: Ifb8eec99c3111d76e5d11c64c24d5692c0adbe5e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/82/612282/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cyborg/cyborg.spec.j2'],1,1f391160a2b0700e15c035f811e2df2f83e3101d,,%{_bindir}/{{pypi_name}}-wsgi-api,,1,0
openstack%2Fglance~stable%2Frocky~Ic54255a2035d747c15b16faaf470a8949939fe4f,openstack/glance,stable/rocky,Ic54255a2035d747c15b16faaf470a8949939fe4f,"Refactor periodic ""tips"" jobs",MERGED,2018-10-24 15:22:47.000000000,2018-10-26 05:05:02.000000000,2018-10-26 05:05:02.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 15:22:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/4c48794cf45be7e742afa66d5c951a7870822479', 'message': 'Refactor periodic ""tips"" jobs\n\nTwo changes:\n1 - declare the abstract base tips jobs \'abstract\'\n2 - add a branch matcher to where the periodic tips jobs\n    are invoked in the project definition so that they only\n    apply to the master branch\n\nChange-Id: Ic54255a2035d747c15b16faaf470a8949939fe4f\n(cherry picked from commit 7d5684a936def67689caf1c48cb0110b9aca704d)\n'}]",0,613074,4c48794cf45be7e742afa66d5c951a7870822479,9,4,1,5314,,,0,"Refactor periodic ""tips"" jobs

Two changes:
1 - declare the abstract base tips jobs 'abstract'
2 - add a branch matcher to where the periodic tips jobs
    are invoked in the project definition so that they only
    apply to the master branch

Change-Id: Ic54255a2035d747c15b16faaf470a8949939fe4f
(cherry picked from commit 7d5684a936def67689caf1c48cb0110b9aca704d)
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/613074/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4c48794cf45be7e742afa66d5c951a7870822479,refactor-tips-jobs-stable/rocky," abstract: true abstract: true abstract: true abstract: true # NOTE(rosmaita): we only want the ""tips"" jobs to be run against # master, hence the 'branches' qualifiers below. Without them, when # a stable branch is cut, the tests would be run against the stable # branch as well, which is pointless because these libraries are # frozen (more or less) in the stable branches. # # The ""tips"" jobs can be removed from the stable branch .zuul.yaml # files if someone is so inclined, but that would require manual # maintenance, so we do not do it by default. Another option is # to define these jobs in the openstack-infra/project-config repo. # That would make us less agile in adjusting these tests, so we # aren't doing that either. - glance-tox-functional-oslo-tips: branches: master - glance-tox-functional-py35-oslo-tips: branches: master - glance-tox-py27-keystone-tips: branches: master - glance-tox-py35-keystone-tips: branches: master - glance-tox-functional-keystone-tips: branches: master - glance-tox-functional-py35-keystone-tips: branches: master - glance-tox-py27-glance_store-tips: branches: master - glance-tox-py35-glance_store-tips: branches: master - glance-tox-functional-glance_store-tips: branches: master - glance-tox-functional-py35-glance_store-tips: branches: master - glance-tox-py27-cursive-tips: branches: master - glance-tox-py35-cursive-tips: branches: master - glance-tox-functional-cursive-tips: branches: master - glance-tox-functional-py35-cursive-tips: branches: master", - glance-tox-functional-oslo-tips - glance-tox-functional-py35-oslo-tips - glance-tox-py27-keystone-tips - glance-tox-py35-keystone-tips - glance-tox-functional-keystone-tips - glance-tox-functional-py35-keystone-tips - glance-tox-py27-glance_store-tips - glance-tox-py35-glance_store-tips - glance-tox-functional-glance_store-tips - glance-tox-functional-py35-glance_store-tips - glance-tox-py27-cursive-tips - glance-tox-py35-cursive-tips - glance-tox-functional-cursive-tips - glance-tox-functional-py35-cursive-tips,44,14
openstack%2Fsecurity-doc~master~I7daa67a61092514cda9d3e9c882e726c3fc2e0b1,openstack/security-doc,master,I7daa67a61092514cda9d3e9c882e726c3fc2e0b1,Updated from openstack-manuals,MERGED,2018-10-26 01:40:47.000000000,2018-10-26 04:57:41.000000000,2018-10-26 04:57:41.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 01:40:47.000000000', 'files': ['common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7a9972a9b05d35f9e8518ec5fecd87cb5611edfd', 'message': 'Updated from openstack-manuals\n\nChange-Id: I7daa67a61092514cda9d3e9c882e726c3fc2e0b1\n'}]",0,613463,7a9972a9b05d35f9e8518ec5fecd87cb5611edfd,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I7daa67a61092514cda9d3e9c882e726c3fc2e0b1
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/63/613463/1 && git format-patch -1 --stdout FETCH_HEAD,['common/glossary.rst'],1,7a9972a9b05d35f9e8518ec5fecd87cb5611edfd,openstack/openstack-manuals," design summit took place in Barcelona, Spain. Ocata is Mitaka, Newton, Ocata, Pike, Queens, Rocky, and Stein. The code name for the sixteenth release of OpenStack. The OpenStack summit took place in Boston, Massachusetts, US. The release OpenStack summit took place in Sydney, Australia. The release OpenStack summit took place in Vancouver, Canada. The release Stein The code name for the nineteenth release of OpenStack. The OpenStack Summit took place in Berlin, Germany. The release is named after the street Steinstraße in Berlin. "," design summit will take place in Barcelona, Spain. Ocata is Mitaka, Newton, Ocata, Pike, Queens, and Rocky. The code name for the sixteenth release of OpenStack. The design summit will take place in Boston, Massachusetts, US. The release design summit will take place in Sydney, Australia. The release design summit will take place in Vancouver, Kanada. The release",12,6
openstack%2Frequirements~master~I6e65328431b2756e41370ed2b498ed6a0e7de515,openstack/requirements,master,I6e65328431b2756e41370ed2b498ed6a0e7de515,update constraint for metalsmith to new release 0.8.0,MERGED,2018-10-25 19:41:26.000000000,2018-10-26 04:33:49.000000000,2018-10-26 04:33:49.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 19:41:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ef166ccc24767f5d47caf4a675145395ddcde0c4', 'message': 'update constraint for metalsmith to new release 0.8.0\n\nChange-Id: I6e65328431b2756e41370ed2b498ed6a0e7de515\nmeta:version: 0.8.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5\nmeta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613405,ef166ccc24767f5d47caf4a675145395ddcde0c4,7,3,1,11131,,,0,"update constraint for metalsmith to new release 0.8.0

Change-Id: I6e65328431b2756e41370ed2b498ed6a0e7de515
meta:version: 0.8.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5
meta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/613405/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ef166ccc24767f5d47caf4a675145395ddcde0c4,new-release,metalsmith===0.8.0,metalsmith===0.7.0,1,1
openstack%2Fcharm-nova-compute~master~I359e254292772ecbb5d2e6b3774b25b35cb15c33,openstack/charm-nova-compute,master,I359e254292772ecbb5d2e6b3774b25b35cb15c33,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:22:11.000000000,2018-10-26 04:21:24.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:22:11.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/188684fa5eb0ee94ca88636c91dc73b1baafb9c6', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I359e254292772ecbb5d2e6b3774b25b35cb15c33\n'}]",0,613492,188684fa5eb0ee94ca88636c91dc73b1baafb9c6,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I359e254292772ecbb5d2e6b3774b25b35cb15c33
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/92/613492/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,188684fa5eb0ee94ca88636c91dc73b1baafb9c6,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-cinder~master~I91682430327793d94acbafcfa0124603ddcd37e4,openstack/charm-cinder,master,I91682430327793d94acbafcfa0124603ddcd37e4,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:18:52.000000000,2018-10-26 04:21:16.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:18:52.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c8f17e3af869f4f74099700b4e6d1e5e66f0590e', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I91682430327793d94acbafcfa0124603ddcd37e4\n'}]",0,613490,c8f17e3af869f4f74099700b4e6d1e5e66f0590e,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I91682430327793d94acbafcfa0124603ddcd37e4
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/90/613490/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,c8f17e3af869f4f74099700b4e6d1e5e66f0590e,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse ,import urlparse,5,1
openstack%2Fcharm-ceph-osd~master~Ie10bb93597ef739abee9ec8d5249f524a2f8dcd2,openstack/charm-ceph-osd,master,Ie10bb93597ef739abee9ec8d5249f524a2f8dcd2,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:11:12.000000000,2018-10-26 04:20:44.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:11:12.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e16c04c36127a436915692cc48f14f25af75c5b9', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ie10bb93597ef739abee9ec8d5249f524a2f8dcd2\n'}]",0,613484,e16c04c36127a436915692cc48f14f25af75c5b9,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ie10bb93597ef739abee9ec8d5249f524a2f8dcd2
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/84/613484/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,e16c04c36127a436915692cc48f14f25af75c5b9,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse ,import urlparse,5,1
openstack%2Fcharm-openstack-dashboard~master~I07ea16609bfa36e25c25ccb166d0717aca2145ea,openstack/charm-openstack-dashboard,master,I07ea16609bfa36e25c25ccb166d0717aca2145ea,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:22:53.000000000,2018-10-26 04:20:37.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:22:53.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/65c80397c1ef130a222f5a0339751abb1b86d562', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I07ea16609bfa36e25c25ccb166d0717aca2145ea\n'}]",0,613493,65c80397c1ef130a222f5a0339751abb1b86d562,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I07ea16609bfa36e25c25ccb166d0717aca2145ea
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/93/613493/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,65c80397c1ef130a222f5a0339751abb1b86d562,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-swift-proxy~master~I9c235588927be875db225f3d934d1b913b809bbf,openstack/charm-swift-proxy,master,I9c235588927be875db225f3d934d1b913b809bbf,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:56:52.000000000,2018-10-26 04:20:31.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 02:56:52.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/57ee6ef784e7bda30ab7e49f9b5203f6ce772672', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I9c235588927be875db225f3d934d1b913b809bbf\n'}]",0,613477,57ee6ef784e7bda30ab7e49f9b5203f6ce772672,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I9c235588927be875db225f3d934d1b913b809bbf
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/77/613477/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,57ee6ef784e7bda30ab7e49f9b5203f6ce772672,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-rabbitmq-server~master~Iee98d7d88597157fc6fe05dc079e14f64a1e9192,openstack/charm-rabbitmq-server,master,Iee98d7d88597157fc6fe05dc079e14f64a1e9192,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:13:35.000000000,2018-10-26 04:20:22.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:13:35.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fa92ddd8e2303a13407962f53e00c63bd88221c6', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Iee98d7d88597157fc6fe05dc079e14f64a1e9192\n'}]",0,613488,fa92ddd8e2303a13407962f53e00c63bd88221c6,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Iee98d7d88597157fc6fe05dc079e14f64a1e9192
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/88/613488/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,fa92ddd8e2303a13407962f53e00c63bd88221c6,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-keystone~master~I8a70c9b1c8a40393c77622771bdcff68839f432e,openstack/charm-keystone,master,I8a70c9b1c8a40393c77622771bdcff68839f432e,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:20:11.000000000,2018-10-26 04:20:07.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:20:11.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/dd847fb801372c9fb4a22588afa8788df03d869c', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I8a70c9b1c8a40393c77622771bdcff68839f432e\n'}]",0,613491,dd847fb801372c9fb4a22588afa8788df03d869c,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I8a70c9b1c8a40393c77622771bdcff68839f432e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/613491/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,dd847fb801372c9fb4a22588afa8788df03d869c,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-cinder-backup~master~Ia3b61b2030bb26fa02fab3b8c60c335e368fcf2d,openstack/charm-cinder-backup,master,Ia3b61b2030bb26fa02fab3b8c60c335e368fcf2d,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:34:20.000000000,2018-10-26 04:19:59.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:34:20.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/7938f35605aaa8d86836b9e13484e230f34e71c9', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ia3b61b2030bb26fa02fab3b8c60c335e368fcf2d\n'}]",0,613472,7938f35605aaa8d86836b9e13484e230f34e71c9,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ia3b61b2030bb26fa02fab3b8c60c335e368fcf2d
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/72/613472/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,7938f35605aaa8d86836b9e13484e230f34e71c9,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-neutron-openvswitch~master~Iabccfd4e203d4fe131a2467edc1145852a1f59d8,openstack/charm-neutron-openvswitch,master,Iabccfd4e203d4fe131a2467edc1145852a1f59d8,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:15:55.000000000,2018-10-26 04:19:51.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:15:55.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/789763118526579455c0b824381e1b8da5838b39', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Iabccfd4e203d4fe131a2467edc1145852a1f59d8\n'}]",0,613489,789763118526579455c0b824381e1b8da5838b39,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Iabccfd4e203d4fe131a2467edc1145852a1f59d8
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/89/613489/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,789763118526579455c0b824381e1b8da5838b39,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse ,import urlparse,5,1
openstack%2Fcharm-glance~master~Ic713ea990ce4d0d3912457257239cfca90c97d18,openstack/charm-glance,master,Ic713ea990ce4d0d3912457257239cfca90c97d18,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:02:25.000000000,2018-10-26 04:19:38.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:02:25.000000000', 'files': ['tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6f7b8f74c51dc9365346a59631bb49cd93abe46e', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ic713ea990ce4d0d3912457257239cfca90c97d18\n'}]",0,613480,6f7b8f74c51dc9365346a59631bb49cd93abe46e,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ic713ea990ce4d0d3912457257239cfca90c97d18
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/80/613480/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",2,6f7b8f74c51dc9365346a59631bb49cd93abe46e,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,8,2
openstack%2Fcharm-ceilometer-agent~master~Id0186734f3819ce88e2e4f916c831e409b3f6853,openstack/charm-ceilometer-agent,master,Id0186734f3819ce88e2e4f916c831e409b3f6853,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:53:14.000000000,2018-10-26 04:19:27.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:53:14.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/bf67228adadf828df896ebd65a0cb7fae52e9a21', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Id0186734f3819ce88e2e4f916c831e409b3f6853\n'}]",0,613475,bf67228adadf828df896ebd65a0cb7fae52e9a21,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Id0186734f3819ce88e2e4f916c831e409b3f6853
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/75/613475/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,bf67228adadf828df896ebd65a0cb7fae52e9a21,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-ceph-mon~master~Ib4d16233ab3492e93a4caa84c1656f168a0d9321,openstack/charm-ceph-mon,master,Ib4d16233ab3492e93a4caa84c1656f168a0d9321,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:09:37.000000000,2018-10-26 04:19:13.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:09:37.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d3389be96eea729168a88d25b0466b52ab326a32', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ib4d16233ab3492e93a4caa84c1656f168a0d9321\n'}]",0,613483,d3389be96eea729168a88d25b0466b52ab326a32,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ib4d16233ab3492e93a4caa84c1656f168a0d9321
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/83/613483/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,d3389be96eea729168a88d25b0466b52ab326a32,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-nova-cloud-controller~master~I12c0db0def4a08f88423f3f7535fd417c698f358,openstack/charm-nova-cloud-controller,master,I12c0db0def4a08f88423f3f7535fd417c698f358,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:07:59.000000000,2018-10-26 04:19:05.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:07:59.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b181ede25ca0b6df2ccb6ccc43728567a5d1d710', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I12c0db0def4a08f88423f3f7535fd417c698f358\n'}]",0,613482,b181ede25ca0b6df2ccb6ccc43728567a5d1d710,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I12c0db0def4a08f88423f3f7535fd417c698f358
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/82/613482/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,b181ede25ca0b6df2ccb6ccc43728567a5d1d710,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-swift-storage~master~If86be3b923cb985f333224551e940240b4eb24aa,openstack/charm-swift-storage,master,If86be3b923cb985f333224551e940240b4eb24aa,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 03:00:29.000000000,2018-10-26 04:18:55.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 03:00:29.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/ece2ed69962772e581fdecb36ab70aee6d5dfd6f', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: If86be3b923cb985f333224551e940240b4eb24aa\n'}]",0,613479,ece2ed69962772e581fdecb36ab70aee6d5dfd6f,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: If86be3b923cb985f333224551e940240b4eb24aa
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/79/613479/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,ece2ed69962772e581fdecb36ab70aee6d5dfd6f,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-nova-lxd~master~I55455ddea4bdcda26d98534409bb915278143475,openstack/charm-nova-lxd,master,I55455ddea4bdcda26d98534409bb915278143475,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:36:14.000000000,2018-10-26 04:18:47.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:36:14.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/c83d452ba01edc7936c0496a3e8d47a7a41b89f2', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I55455ddea4bdcda26d98534409bb915278143475\n'}]",0,613473,c83d452ba01edc7936c0496a3e8d47a7a41b89f2,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I55455ddea4bdcda26d98534409bb915278143475
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/73/613473/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,c83d452ba01edc7936c0496a3e8d47a7a41b89f2,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-ceilometer~master~Ie79ab2cb75574520e3fb73d3d655405424e6b8ef,openstack/charm-ceilometer,master,Ie79ab2cb75574520e3fb73d3d655405424e6b8ef,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:58:32.000000000,2018-10-26 04:18:39.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 02:58:32.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/20b24e226bee3b5ecab0e960c50898a4526f7397', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ie79ab2cb75574520e3fb73d3d655405424e6b8ef\n'}]",0,613478,20b24e226bee3b5ecab0e960c50898a4526f7397,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ie79ab2cb75574520e3fb73d3d655405424e6b8ef
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/78/613478/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,20b24e226bee3b5ecab0e960c50898a4526f7397,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse ,import urlparse,5,1
openstack%2Fcharm-cinder-ceph~master~Ifac1fe98ffbcab4c8cec5628eeeb0556b406134b,openstack/charm-cinder-ceph,master,Ifac1fe98ffbcab4c8cec5628eeeb0556b406134b,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:37:54.000000000,2018-10-26 04:18:27.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:37:54.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6b07d3a1538b2e99727cdee40423c8fbb595fea3', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ifac1fe98ffbcab4c8cec5628eeeb0556b406134b\n'}]",0,613474,6b07d3a1538b2e99727cdee40423c8fbb595fea3,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ifac1fe98ffbcab4c8cec5628eeeb0556b406134b
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/74/613474/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,6b07d3a1538b2e99727cdee40423c8fbb595fea3,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-ceph-radosgw~master~I9cb97e3317accd5879573e4bf824c9f3e269868f,openstack/charm-ceph-radosgw,master,I9cb97e3317accd5879573e4bf824c9f3e269868f,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:55:25.000000000,2018-10-26 04:18:21.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-10-26 02:55:25.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/a63e1602d2aec4a6c098b3b4b25aa49a216331fc', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I9cb97e3317accd5879573e4bf824c9f3e269868f\n'}]",0,613476,a63e1602d2aec4a6c098b3b4b25aa49a216331fc,3,1,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I9cb97e3317accd5879573e4bf824c9f3e269868f
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/76/613476/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,a63e1602d2aec4a6c098b3b4b25aa49a216331fc,,try: from urlparse import urlparse except ImportError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-nova-compute-proxy~master~If1710c1269c8b60d3ad56e59742e2be92af1fced,openstack/charm-nova-compute-proxy,master,If1710c1269c8b60d3ad56e59742e2be92af1fced,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:28:06.000000000,2018-10-26 04:18:07.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:28:06.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/e8e989d821cb89532fa93a47fab948342203decc', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: If1710c1269c8b60d3ad56e59742e2be92af1fced\n'}]",0,613470,e8e989d821cb89532fa93a47fab948342203decc,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: If1710c1269c8b60d3ad56e59742e2be92af1fced
",git fetch https://review.opendev.org/openstack/charm-nova-compute-proxy refs/changes/70/613470/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,e8e989d821cb89532fa93a47fab948342203decc,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-heat~master~I8c24f73fed90111c628a6b8374dca143dc4c5426,openstack/charm-heat,master,I8c24f73fed90111c628a6b8374dca143dc4c5426,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:21:14.000000000,2018-10-26 04:17:59.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 02:21:14.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/3b036303e81994d04c7f8dfe91634ea0924ce561', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I8c24f73fed90111c628a6b8374dca143dc4c5426\n'}]",0,613468,3b036303e81994d04c7f8dfe91634ea0924ce561,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I8c24f73fed90111c628a6b8374dca143dc4c5426
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/68/613468/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,3b036303e81994d04c7f8dfe91634ea0924ce561,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-neutron-gateway~master~I73ce2db350c0a8b607aa7fb57c09102336565f7c,openstack/charm-neutron-gateway,master,I73ce2db350c0a8b607aa7fb57c09102336565f7c,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 01:32:48.000000000,2018-10-26 04:17:45.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 01:32:48.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/1437971a9147f449882f3f29932c54a0fed68484', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I73ce2db350c0a8b607aa7fb57c09102336565f7c\n'}]",0,613462,1437971a9147f449882f3f29932c54a0fed68484,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I73ce2db350c0a8b607aa7fb57c09102336565f7c
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/62/613462/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,1437971a9147f449882f3f29932c54a0fed68484,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcharm-glance-simplestreams-sync~master~Icca05d5ef368c4e59a519a7c47da719cf7fe391e,openstack/charm-glance-simplestreams-sync,master,Icca05d5ef368c4e59a519a7c47da719cf7fe391e,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 01:28:41.000000000,2018-10-26 04:16:19.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2018-10-26 01:28:41.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/83bbf1338bf99941987710cb7404642701d3f259', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Icca05d5ef368c4e59a519a7c47da719cf7fe391e\n'}]",0,613460,83bbf1338bf99941987710cb7404642701d3f259,4,2,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Icca05d5ef368c4e59a519a7c47da719cf7fe391e
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/60/613460/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/amulet/utils.py'],1,83bbf1338bf99941987710cb7404642701d3f259,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fpuppet-tripleo~master~Ib5a64a978cd28672391af836c112b886054c75e1,openstack/puppet-tripleo,master,Ib5a64a978cd28672391af836c112b886054c75e1,Remove the duplicated word,ABANDONED,2018-10-26 01:00:42.000000000,2018-10-26 03:35:25.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2018-10-26 01:00:42.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/neutron/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3faebff66923ef3b158ec129c0ecdfe142db3ab3', 'message': 'Remove the duplicated word\n\nChange-Id: Ib5a64a978cd28672391af836c112b886054c75e1\n'}]",0,613456,3faebff66923ef3b158ec129c0ecdfe142db3ab3,3,1,1,27565,,,0,"Remove the duplicated word

Change-Id: Ib5a64a978cd28672391af836c112b886054c75e1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/613456/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/neutron/plugins/ml2.pp']",3,3faebff66923ef3b158ec129c0ecdfe142db3ab3,,# in spite of the fact that it is in the drivers list.,# in spite of the fact that it is in the the drivers list.,3,3
openstack%2Fcharm-odl-controller~master~Ib877de01308a5c2a63e11558978c9b3a846719c3,openstack/charm-odl-controller,master,Ib877de01308a5c2a63e11558978c9b3a846719c3,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 02:32:29.000000000,2018-10-26 03:23:31.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2018-10-26 02:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/e7e517c41f43d5d4caca3d4e14122d39a9a30bb1', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ib877de01308a5c2a63e11558978c9b3a846719c3\n'}, {'number': 2, 'created': '2018-10-26 02:51:00.000000000', 'files': ['hooks/odl_controller_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/0d415189a97c509fe5bcedb32a119ca688848d69', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: Ib877de01308a5c2a63e11558978c9b3a846719c3\n'}]",0,613471,0d415189a97c509fe5bcedb32a119ca688848d69,5,1,2,27565,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: Ib877de01308a5c2a63e11558978c9b3a846719c3
",git fetch https://review.opendev.org/openstack/charm-odl-controller refs/changes/71/613471/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/odl_controller_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",2,e7e517c41f43d5d4caca3d4e14122d39a9a30bb1,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,8,2
openstack%2Fpython-openstackclient~master~Ib760c55e31209223338a4086ff1f4fee88dc6959,openstack/python-openstackclient,master,Ib760c55e31209223338a4086ff1f4fee88dc6959,Default --nic to 'auto' if creating a server with >= 2.37,MERGED,2018-02-19 18:25:33.000000000,2018-10-26 03:20:17.000000000,2018-10-26 03:20:17.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 18:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1b0ddcf08fcc0876daf2e1db11437f86727a613a', 'message': ""Default --nic to 'auto' if creating a server with >= 2.37\n\nCompute API version >= 2.37 requires a 'networks' value in\nthe server create request. The novaclient CLI defaults this\nto 'auto' if not specified, but the novaclient ServerManager.create\npython API binding code does not, as it wants clients to be explicit.\n\nFor the purposes of the OSC CLI, we should follow suit and if the\nuser is requesting OS_COMPUTE_API_VERSION>=2.37 without specific\nnics, we should just default to 'auto'.\n\nChange-Id: Ib760c55e31209223338a4086ff1f4fee88dc6959\nCloses-Bug: #1750395\n""}, {'number': 2, 'created': '2018-03-06 15:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/377325899d9f99a12c9001ce9d9b7b5a4d31bdff', 'message': ""Default --nic to 'auto' if creating a server with >= 2.37\n\nCompute API version >= 2.37 requires a 'networks' value in\nthe server create request. The novaclient CLI defaults this\nto 'auto' if not specified, but the novaclient ServerManager.create\npython API binding code does not, as it wants clients to be explicit.\n\nFor the purposes of the OSC CLI, we should follow suit and if the\nuser is requesting OS_COMPUTE_API_VERSION>=2.37 without specific\nnics, we should just default to 'auto'.\n\nChange-Id: Ib760c55e31209223338a4086ff1f4fee88dc6959\nCloses-Bug: #1750395\n""}, {'number': 3, 'created': '2018-03-21 01:44:29.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1008544882fbdae16b045abca05cf3e2e8a14787', 'message': ""Default --nic to 'auto' if creating a server with >= 2.37\n\nCompute API version >= 2.37 requires a 'networks' value in\nthe server create request. The novaclient CLI defaults this\nto 'auto' if not specified, but the novaclient ServerManager.create\npython API binding code does not, as it wants clients to be explicit.\n\nFor the purposes of the OSC CLI, we should follow suit and if the\nuser is requesting OS_COMPUTE_API_VERSION>=2.37 without specific\nnics, we should just default to 'auto'.\n\nChange-Id: Ib760c55e31209223338a4086ff1f4fee88dc6959\nCloses-Bug: #1750395\n""}]",0,545946,1008544882fbdae16b045abca05cf3e2e8a14787,21,4,3,6873,,,0,"Default --nic to 'auto' if creating a server with >= 2.37

Compute API version >= 2.37 requires a 'networks' value in
the server create request. The novaclient CLI defaults this
to 'auto' if not specified, but the novaclient ServerManager.create
python API binding code does not, as it wants clients to be explicit.

For the purposes of the OSC CLI, we should follow suit and if the
user is requesting OS_COMPUTE_API_VERSION>=2.37 without specific
nics, we should just default to 'auto'.

Change-Id: Ib760c55e31209223338a4086ff1f4fee88dc6959
Closes-Bug: #1750395
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/545946/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,1b0ddcf08fcc0876daf2e1db11437f86727a613a,bug/1750395,"from novaclient import api_versions # Compute API version >= 2.37 requires a value, so default to # 'auto' to maintain legacy behavior if a nic wasn't specified. if compute_client.api_version >= api_versions.APIVersion('2.37'): nics = 'auto' else: # Default to empty list if nothing was specified, let nova # side to decide the default behavior. nics = []"," # Default to empty list if nothing was specified, let nova side to # decide the default behavior. nics = []",62,3
openstack%2Fcharm-ceph-osd~stable%2F18.08~I1370524f0f31120e3cb7305c5bc509a6494c5586,openstack/charm-ceph-osd,stable/18.08,I1370524f0f31120e3cb7305c5bc509a6494c5586,Notify MON cluster of number of bootstrapped OSD's,MERGED,2018-10-18 14:12:53.000000000,2018-10-26 02:46:20.000000000,2018-10-26 02:46:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:12:53.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/331a59db336a06e1cc0ad4047204acb2f781a261', 'message': ""Notify MON cluster of number of bootstrapped OSD's\n\nTo allow the ceph-mon charm to better assess when the Ceph cluster\nis in a usable state, provide the number of OSD devices that where\nbootstrapped into the Ceph cluster over the relation to ceph-mon.\n\nThis is used by the ceph-mon charm inconjunction with the\n'expected-osd-count' configuration option to delay pool creation\nand issue of keys for clients until the expected number of OSD's\nhave been bootstrapped into the cluster.\n\nChange-Id: I1370524f0f31120e3cb7305c5bc509a6494c5586\nCloses-Bug: 1794878\n(cherry picked from commit 63f9ac2c7cd0db8f212bba6d278af2b0316b7760)\n""}]",0,611619,331a59db336a06e1cc0ad4047204acb2f781a261,13,4,1,935,,,0,"Notify MON cluster of number of bootstrapped OSD's

To allow the ceph-mon charm to better assess when the Ceph cluster
is in a usable state, provide the number of OSD devices that where
bootstrapped into the Ceph cluster over the relation to ceph-mon.

This is used by the ceph-mon charm inconjunction with the
'expected-osd-count' configuration option to delay pool creation
and issue of keys for clients until the expected number of OSD's
have been bootstrapped into the cluster.

Change-Id: I1370524f0f31120e3cb7305c5bc509a6494c5586
Closes-Bug: 1794878
(cherry picked from commit 63f9ac2c7cd0db8f212bba6d278af2b0316b7760)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/19/611619/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,331a59db336a06e1cc0ad4047204acb2f781a261,bug/1794878," # Notify MON cluster as to how many OSD's this unit bootstrapped # into the cluster for r_id in relation_ids('mon'): relation_set( relation_id=r_id, relation_settings={ 'bootstrapped-osds': len(db.get('osd-devices', [])) } ) ",,10,0
openstack%2Fcharm-ceph-osd~stable%2F18.08~I7d8fca74ec6eadae21a6e669e8b2522d9e4c9367,openstack/charm-ceph-osd,stable/18.08,I7d8fca74ec6eadae21a6e669e8b2522d9e4c9367,Resync ceph helpers,MERGED,2018-10-18 14:12:53.000000000,2018-10-26 02:46:00.000000000,2018-10-26 02:46:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:12:53.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/d4a964a8d78c4f739808135ad49039cf28b1ba09', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nCloses-Bug: 1788722\n\nChange-Id: I7d8fca74ec6eadae21a6e669e8b2522d9e4c9367\n(cherry picked from commit ce97b7a479388dac23899de0a3c7f5c1c4ee2d84)\n'}]",0,611618,d4a964a8d78c4f739808135ad49039cf28b1ba09,11,3,1,935,,,0,"Resync ceph helpers

Resync ceph helpers, picking up fixes for:

 - Upgrades from Luminous to Mimic.
 - Correct build of OSD list in more complex CRUSH
   configurations, resolving upgrade issues.

Closes-Bug: 1788722

Change-Id: I7d8fca74ec6eadae21a6e669e8b2522d9e4c9367
(cherry picked from commit ce97b7a479388dac23899de0a3c7f5c1c4ee2d84)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/18/611618/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,d4a964a8d78c4f739808135ad49039cf28b1ba09,bug/1794878," host_nodes = [ node for node in json_tree['nodes'] if node['type'] == 'host' ] for host in host_nodes: crush_list.append( CrushLocation( name=host.get('name'), identifier=host['id'], host=host.get('host'), rack=host.get('rack'), row=host.get('row'), datacenter=host.get('datacenter'), chassis=host.get('chassis'), root=host.get('root') ) :param: dev: Full path to use for OSD block device setup, The function looks up realpath of the device cmd.append(os.path.realpath(dev)) ('luminous', 'mimic'), 'rocky': 'mimic',"," parent_nodes = [ node for node in json_tree['nodes'] if node['type'] == 'root'] child_ids = [] for node in parent_nodes: try: child_ids = child_ids + node['children'] except KeyError: # skip if this parent has no children continue for child in json_tree['nodes']: if child['id'] in child_ids: crush_list.append( CrushLocation( name=child.get('name'), identifier=child['id'], host=child.get('host'), rack=child.get('rack'), row=child.get('row'), datacenter=child.get('datacenter'), chassis=child.get('chassis'), root=child.get('root') ) :param: dev: Full path to use for OSD block device setup cmd.append(dev)",21,24
openstack%2Fopenstack-helm-infra~master~I2db6dffd45599386f8082db8f893c799d139aba3,openstack/openstack-helm-infra,master,I2db6dffd45599386f8082db8f893c799d139aba3,ceph: make log directory configurable,MERGED,2018-10-24 20:46:37.000000000,2018-10-26 02:41:15.000000000,2018-10-26 02:41:15.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29053}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-10-24 20:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af4a9ffd8ebdcd5ef05cf96be392a0965019660b', 'message': 'ceph-mon: make log directory configurable\n\nthis is make log directory configurable incase if  another mon\nrunning on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 2, 'created': '2018-10-24 20:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6bd3ca038ad394e3a605ded2b6b715c599005eb', 'message': 'ceph-mon: make log directory configurable\n\nthis is make log directory configurable incase if  another mon\nrunning on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 3, 'created': '2018-10-24 21:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f42c0afb171ced58089b752052bb183d6db4d021', 'message': 'ceph-mon: make log directory configurable\n\nthis is make log directory configurable incase if  another mon\nrunning on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 4, 'created': '2018-10-24 21:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87e9ae28aa858d58eb1bb17008b7f87ef0202501', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 5, 'created': '2018-10-24 22:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c024f6ca9b3da1db7cac0842c2ad9726d0a99c9', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 6, 'created': '2018-10-24 22:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13274b66a161ba52c21b44e49ac2e481cae57d41', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 7, 'created': '2018-10-25 06:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/129d6602a850fabbecf201bf66068fca014b1e24', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 8, 'created': '2018-10-25 08:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/825a35e263df0d16d947e58d76bee1598bd0b63e', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}, {'number': 9, 'created': '2018-10-25 14:34:14.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1b8f394b269087d0f286dd69b040a87807ac5f8', 'message': 'ceph: make log directory configurable\n\nthis is make log directory configurable incase if  another mon or\nosd running on same host can point to other directory\n\nChange-Id: I2db6dffd45599386f8082db8f893c799d139aba3\n'}]",0,613159,a1b8f394b269087d0f286dd69b040a87807ac5f8,21,6,9,28372,,,0,"ceph: make log directory configurable

this is make log directory configurable incase if  another mon or
osd running on same host can point to other directory

Change-Id: I2db6dffd45599386f8082db8f893c799d139aba3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/613159/8 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/values.yaml']",2,af4a9ffd8ebdcd5ef05cf96be392a0965019660b,, log_directory: /var/log/ceph ,,2,1
openstack%2Fkeystone~master~I9a0ba7ad713a3c9eb6b0464ed30ff4e6d62d3c74,openstack/keystone,master,I9a0ba7ad713a3c9eb6b0464ed30ff4e6d62d3c74,Fix api-ref v3.9 release identifier,MERGED,2018-10-25 10:00:29.000000000,2018-10-26 02:26:14.000000000,2018-10-26 02:26:14.000000000,"[{'_account_id': 9542}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 10:00:29.000000000', 'files': ['api-ref/source/v3/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/46b12eb29acee99698ecf2d0b27c951f5655a3c5', 'message': ""Fix api-ref v3.9 release identifier\n\nIn Pike we didn't make any significant API additions. In Queens we ended\nup bumping the release version twice, once in ba61e84 for project tags\nand again in a50fafd2 for system scope. Update the v3.9 identifier to\nrefer to Queens to avoid misinforming people.\n\nThis unfortunately might read more confusingly as now there are two\nQueens additions.\n\nChange-Id: I9a0ba7ad713a3c9eb6b0464ed30ff4e6d62d3c74\n""}]",0,613257,46b12eb29acee99698ecf2d0b27c951f5655a3c5,8,4,1,8482,,,0,"Fix api-ref v3.9 release identifier

In Pike we didn't make any significant API additions. In Queens we ended
up bumping the release version twice, once in ba61e84 for project tags
and again in a50fafd2 for system scope. Update the v3.9 identifier to
refer to Queens to avoid misinforming people.

This unfortunately might read more confusingly as now there are two
Queens additions.

Change-Id: I9a0ba7ad713a3c9eb6b0464ed30ff4e6d62d3c74
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/613257/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/index.rst'],1,46b12eb29acee99698ecf2d0b27c951f5655a3c5,fix-api-ref,================================== What's New in Version 3.9 (Queens) ==================================,================================ What's New in Version 3.9 (Pike) ================================,3,3
openstack%2Fkeystone~master~I087dbc9ef9dea6558670fbbe54258d820524ddc6,openstack/keystone,master,I087dbc9ef9dea6558670fbbe54258d820524ddc6,Update keystone-manage bootstrap port instructions,MERGED,2018-10-24 20:55:54.000000000,2018-10-26 02:26:12.000000000,2018-10-26 02:26:12.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 20:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f4b9e115f488209ab45d1a7e553816462bbaa1b6', 'message': 'admin endpoint that uses port 35357 changed to port 5000 because we no\nlonger use that port\n\nChange-Id: I087dbc9ef9dea6558670fbbe54258d820524ddc6\n'}, {'number': 2, 'created': '2018-10-25 18:32:51.000000000', 'files': ['doc/source/admin/identity-bootstrap.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/74446ab0ad0de3fa2e5ca00fd349cf58a64e86d1', 'message': 'Update keystone-manage bootstrap port instructions\n\nWith the removal of the v2 API, it is no longer necessary to create\nthe admin endpoint on a separate port.This patch updates the\nkeystone-manage bootstrap instructions to use port 5000 to be\nconsistent with other documentation.\n\nChange-Id: I087dbc9ef9dea6558670fbbe54258d820524ddc6\n'}]",1,613163,74446ab0ad0de3fa2e5ca00fd349cf58a64e86d1,13,4,2,29355,,,0,"Update keystone-manage bootstrap port instructions

With the removal of the v2 API, it is no longer necessary to create
the admin endpoint on a separate port.This patch updates the
keystone-manage bootstrap instructions to use port 5000 to be
consistent with other documentation.

Change-Id: I087dbc9ef9dea6558670fbbe54258d820524ddc6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/613163/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/identity-bootstrap.rst'],1,f4b9e115f488209ab45d1a7e553816462bbaa1b6,identity-bootstrap.rst, --bootstrap-admin-url http://localhost:5000 \, --bootstrap-admin-url http://localhost:35357 \,1,1
openstack%2Fcinder~master~Ibf3faa12ef3964071b39fe38b2724162b3ddb770,openstack/cinder,master,Ibf3faa12ef3964071b39fe38b2724162b3ddb770,[minifix] Update reno formatting on Quobyte driver defaults change,MERGED,2018-10-11 12:45:14.000000000,2018-10-26 02:26:08.000000000,2018-10-26 02:26:08.000000000,"[{'_account_id': 24}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-11 12:45:14.000000000', 'files': ['releasenotes/notes/qb-switch-nas-sec-opts-635c6ef1205e4f3f.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/89ae27d2187e34b24917f762e9944f641b2419fe', 'message': '[minifix] Update reno formatting on Quobyte driver defaults change\n\nCorrects formatting as requested in comment of previous\nchange I0ce20e109f126500462e6459794e993bbd579b58 .\n\nChange-Id: Ibf3faa12ef3964071b39fe38b2724162b3ddb770\n'}]",0,609688,89ae27d2187e34b24917f762e9944f641b2419fe,37,32,1,13915,,,0,"[minifix] Update reno formatting on Quobyte driver defaults change

Corrects formatting as requested in comment of previous
change I0ce20e109f126500462e6459794e993bbd579b58 .

Change-Id: Ibf3faa12ef3964071b39fe38b2724162b3ddb770
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/609688/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/qb-switch-nas-sec-opts-635c6ef1205e4f3f.yaml'],1,89ae27d2187e34b24917f762e9944f641b2419fe,minifix_relnote_594967, ``nas_secure_file_operations`` and ``nas_secure_file_permissions`` has changed., nas_secure_file_operations and nas_secure_file_permissions has changed.,2,1
openstack%2Fcinder~master~I0557b32e7e3752e8fcde5dadd621c82fded1e755,openstack/cinder,master,I0557b32e7e3752e8fcde5dadd621c82fded1e755,api-ref: Fix namespace parameter for backend capabilities,MERGED,2018-10-06 04:30:57.000000000,2018-10-26 02:26:05.000000000,2018-10-26 02:26:05.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 20190}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-06 04:30:57.000000000', 'files': ['api-ref/source/v2/capabilities-v2.inc', 'api-ref/source/v3/capabilities-v3.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a60fd0a61cf87ea49efdcd4d135364e8a7feceb8', 'message': 'api-ref: Fix namespace parameter for backend capabilities\n\nThis patch set corrects the namespace parameter for capabilities\napi-ref from namespace [0] to namespace_1 which is the correct\none as it is both required and matches the following format\nin the view code [2]:\n\n    The storage namespace, such as\n    ``OS::Storage::Capabilities::foo``.\n\n[0] https://github.com/openstack/cinder/blob/7f7716d584cd955162cab988c49c6fa3ac08f2e0/api-ref/source/v3/parameters.yaml#L1945\n[1] https://github.com/openstack/cinder/blob/7f7716d584cd955162cab988c49c6fa3ac08f2e0/api-ref/source/v3/parameters.yaml#L1951\n[2] https://github.com/openstack/cinder/blob/af41c04d0ff0b5a4b2077eedb605314937912a35/cinder/api/views/capabilities.py#L31\n\nChange-Id: I0557b32e7e3752e8fcde5dadd621c82fded1e755\n'}]",0,608397,a60fd0a61cf87ea49efdcd4d135364e8a7feceb8,32,28,1,23186,,,0,"api-ref: Fix namespace parameter for backend capabilities

This patch set corrects the namespace parameter for capabilities
api-ref from namespace [0] to namespace_1 which is the correct
one as it is both required and matches the following format
in the view code [2]:

    The storage namespace, such as
    ``OS::Storage::Capabilities::foo``.

[0] https://github.com/openstack/cinder/blob/7f7716d584cd955162cab988c49c6fa3ac08f2e0/api-ref/source/v3/parameters.yaml#L1945
[1] https://github.com/openstack/cinder/blob/7f7716d584cd955162cab988c49c6fa3ac08f2e0/api-ref/source/v3/parameters.yaml#L1951
[2] https://github.com/openstack/cinder/blob/af41c04d0ff0b5a4b2077eedb605314937912a35/cinder/api/views/capabilities.py#L31

Change-Id: I0557b32e7e3752e8fcde5dadd621c82fded1e755
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/608397/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/capabilities-v2.inc', 'api-ref/source/v3/capabilities-v3.inc']",2,a60fd0a61cf87ea49efdcd4d135364e8a7feceb8,api-ref, - namespace: namespace_1, - namespace: namespace,2,2
openstack%2Fcinder~stable%2Fqueens~I75058c36085eb1a8adb26a95297e3a2039745a2c,openstack/cinder,stable/queens,I75058c36085eb1a8adb26a95297e3a2039745a2c,Fix backup/restore error for ceph rbd backend,MERGED,2018-10-16 14:25:20.000000000,2018-10-26 02:26:01.000000000,2018-10-26 02:26:00.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26155}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-16 14:25:20.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85b9eff508ac88bf6cf8999083887b7e9b8963d1', 'message': 'Fix backup/restore error for ceph rbd backend\n\nIf a large volume is backed up or a lot of concurrent backups happen,\nthe cinder-backup service goes offline since a lot of these operations\nhave calls to the C code which are not run on native threads.\n\nWhen many concurrent backup create/restore operations happen, then\nif all of them are greenthreads, and since, when there is a call to the\nC code, monkeypatching does not happen by eventlet. Hence, there is no\ncontext switch to other threads until the call to the C library is\ncompleted. This will block context switching to other green threads.\nAs a result, some of the backup create/restore operations might go to\nerror state.\n\nThe objects on which read/write operations or C function\ncalls are done are wrapped in Proxy objects so that they run as native\nthreads.\n\nChange-Id: I75058c36085eb1a8adb26a95297e3a2039745a2c\nCloses-Bug: #1745435\n(cherry picked from commit f1d681875cd3b28860d7daab53695bad618900a3)\n'}]",0,610996,85b9eff508ac88bf6cf8999083887b7e9b8963d1,24,21,1,4523,,,0,"Fix backup/restore error for ceph rbd backend

If a large volume is backed up or a lot of concurrent backups happen,
the cinder-backup service goes offline since a lot of these operations
have calls to the C code which are not run on native threads.

When many concurrent backup create/restore operations happen, then
if all of them are greenthreads, and since, when there is a call to the
C code, monkeypatching does not happen by eventlet. Hence, there is no
context switch to other threads until the call to the C library is
completed. This will block context switching to other green threads.
As a result, some of the backup create/restore operations might go to
error state.

The objects on which read/write operations or C function
calls are done are wrapped in Proxy objects so that they run as native
threads.

Change-Id: I75058c36085eb1a8adb26a95297e3a2039745a2c
Closes-Bug: #1745435
(cherry picked from commit f1d681875cd3b28860d7daab53695bad618900a3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/610996/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py']",2,85b9eff508ac88bf6cf8999083887b7e9b8963d1,bug/1745435-stable/queens," meta_obj = eventlet.tpool.Proxy(rados.Object(self._client.ioctx, self.name)) meta_obj = eventlet.tpool.Proxy(rados.Object(self._client.ioctx, self.name)) meta_obj = eventlet.tpool.Proxy(rados.Object(self._client.ioctx, self.name)) meta_obj = eventlet.tpool.Proxy(rados.Object(self._client.ioctx, self.name)) client = eventlet.tpool.Proxy(self.rados.Rados( rados_id=self._ceph_backup_user, conffile=self._ceph_backup_conf)) eventlet.tpool.Proxy(volume.rbd_image).discard(offset, length) eventlet.tpool.Proxy(self.rbd.RBD()).create( ioctx=rados_client.ioctx, name=name, size=size, old_format=old_format, features=features, stripe_unit=self.rbd_stripe_unit, stripe_count=self.rbd_stripe_count) base_rbd = eventlet.tpool.Proxy(self.rbd.Image(rados_client.ioctx, base_name)) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: eventlet.tpool.Proxy(self.rbd.RBD()).remove( client.ioctx, base_name) if src_name in eventlet.tpool.Proxy( self.rbd.RBD()).list(client.ioctx): src_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, src_name)) rbds = eventlet.tpool.Proxy(self.rbd.RBD()).list(client.ioctx) base_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, base_name, read_only=True)) source_rbd_image = eventlet.tpool.Proxy(volume_file.rbd_image) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: if base_name not in eventlet.tpool.Proxy(self.rbd.RBD()).list( ioctx=client.ioctx): with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: eventlet.tpool.Proxy(self.rbd.RBD()).create( ioctx=client.ioctx, name=backup_name, size=length, old_format=old_format, features=features, stripe_unit=self.rbd_stripe_unit, stripe_count=self.rbd_stripe_count) dest_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, backup_name)) self._transfer_data(src_volume, src_name, eventlet.tpool.Proxy(rbd_fd), backup_name, length) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: src_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, backup_name, snapshot=src_snap, read_only=True)) self._transfer_data(eventlet.tpool.Proxy(rbd_fd), backup_name, dest_file, dest_name, length) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, backup.container)) as client: base_image = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, utils.convert_str(backup_base), read_only=True)) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, src_pool)) as client: dest_image = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, restore_vol_encode)) with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self, self._ceph_backup_pool)) as client: base_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, base_name, read_only=True)) with eventlet.tpool.Proxy(rbd_driver.RADOSClient( self, backup.container)) as client: with eventlet.tpool.Proxy(rbd_driver.RADOSClient(self)) as client: with eventlet.tpool.Proxy(rbd_driver.RADOSClient( self, backup.container)) as client:"," meta_obj = rados.Object(self._client.ioctx, self.name) meta_obj = rados.Object(self._client.ioctx, self.name) meta_obj = rados.Object(self._client.ioctx, self.name) meta_obj = rados.Object(self._client.ioctx, self.name) client = self.rados.Rados(rados_id=self._ceph_backup_user, conffile=self._ceph_backup_conf) volume.rbd_image.discard(offset, length) # yield to any other pending backups eventlet.sleep(0) # yield to any other pending backups eventlet.sleep(0) # yield to any other pending backups eventlet.sleep(0) self.rbd.RBD().create(ioctx=rados_client.ioctx, name=name, size=size, old_format=old_format, features=features, stripe_unit=self.rbd_stripe_unit, stripe_count=self.rbd_stripe_count) base_rbd = self.rbd.Image(rados_client.ioctx, base_name) with rbd_driver.RADOSClient(self, backup.container) as client: self.rbd.RBD().remove(client.ioctx, base_name) eventlet.sleep(delay) if src_name in self.rbd.RBD().list(client.ioctx): src_rbd = self.rbd.Image(client.ioctx, src_name) rbds = self.rbd.RBD().list(client.ioctx) base_rbd = self.rbd.Image(client.ioctx, base_name, read_only=True) source_rbd_image = volume_file.rbd_image with rbd_driver.RADOSClient(self, backup.container) as client: if base_name not in self.rbd.RBD().list(ioctx=client.ioctx): with rbd_driver.RADOSClient(self, backup.container) as client: self.rbd.RBD().create(ioctx=client.ioctx, name=backup_name, size=length, old_format=old_format, features=features, stripe_unit=self.rbd_stripe_unit, stripe_count=self.rbd_stripe_count) dest_rbd = self.rbd.Image(client.ioctx, backup_name) self._transfer_data(src_volume, src_name, rbd_fd, backup_name, length) with rbd_driver.RADOSClient(self, backup.container) as client: with rbd_driver.RADOSClient(self, backup.container) as client: src_rbd = self.rbd.Image(client.ioctx, backup_name, snapshot=src_snap, read_only=True) self._transfer_data(rbd_fd, backup_name, dest_file, dest_name, length) with rbd_driver.RADOSClient(self, backup.container) as client: base_image = self.rbd.Image(client.ioctx, utils.convert_str(backup_base), read_only=True) with rbd_driver.RADOSClient(self, src_pool) as client: dest_image = self.rbd.Image(client.ioctx, restore_vol_encode) with rbd_driver.RADOSClient(self, self._ceph_backup_pool) as client: base_rbd = self.rbd.Image(client.ioctx, base_name, read_only=True) with rbd_driver.RADOSClient(self, backup.container) as client: with rbd_driver.RADOSClient(self) as client: with rbd_driver.RADOSClient(self, backup.container) as client:",149,71
openstack%2Fcinder~master~I1a3e527765c23a4b64a6493913f99e15ea25a7d4,openstack/cinder,master,I1a3e527765c23a4b64a6493913f99e15ea25a7d4,Remove scsi_id from rootwrap filter,MERGED,2018-10-18 18:36:04.000000000,2018-10-26 02:25:58.000000000,2018-10-26 02:25:58.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-18 18:36:04.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a86eb80b2e906232629184ff7adafbd9c8b9065d', 'message': 'Remove scsi_id from rootwrap filter\n\nRemove scsi_id from rootwrap filter no longer being used.\n\nChange-Id: I1a3e527765c23a4b64a6493913f99e15ea25a7d4\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,611693,a86eb80b2e906232629184ff7adafbd9c8b9065d,37,32,1,24,,,0,"Remove scsi_id from rootwrap filter

Remove scsi_id from rootwrap filter no longer being used.

Change-Id: I1a3e527765c23a4b64a6493913f99e15ea25a7d4
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/611693/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/rootwrap.d/volume.filters'],1,a86eb80b2e906232629184ff7adafbd9c8b9065d,privsep,,"scsi_id: CommandFilter, /lib/udev/scsi_id, root",0,1
openstack%2Fcinder~master~I169b45f1176537448871cf23b6362c7ffbb16fff,openstack/cinder,master,I169b45f1176537448871cf23b6362c7ffbb16fff,Remove touch command from volume.filters,MERGED,2018-10-15 13:24:34.000000000,2018-10-26 02:25:53.000000000,2018-10-26 02:25:53.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-15 13:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f2408e22c70732c318059ecd6b4126b34dd74c6', 'message': 'Remove touch command from volume.filters\n\nMove touch to privsep and remove it from volume.filters.\n\nChange-Id: I169b45f1176537448871cf23b6362c7ffbb16fff\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-18 13:19:42.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/path.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d02aebf2ab10903957c8b840dc9efb79b9332bae', 'message': 'Remove touch command from volume.filters\n\nMove touch to privsep and remove it from volume.filters.\n\nChange-Id: I169b45f1176537448871cf23b6362c7ffbb16fff\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,610514,d02aebf2ab10903957c8b840dc9efb79b9332bae,74,38,2,24,,,0,"Remove touch command from volume.filters

Move touch to privsep and remove it from volume.filters.

Change-Id: I169b45f1176537448871cf23b6362c7ffbb16fff
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/610514/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/path.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py']",4,6f2408e22c70732c318059ecd6b4126b34dd74c6,privsep,import cinder.privsep.path # Touching parent directory forces NFS client to flush its cache. cinder.privsep.path.touch(path)," try: # Touching parent directory forces NFS client to flush its cache. self._execute('touch', path, run_as_root=self._execute_as_root) except processutils.ProcessExecutionError: LOG.exception(""Failed to touch path %s."", path)",17,11
openstack%2Fcharm-heat~master~I9a68c5e4f3733887576a0ee9228dfdfeddb77b24,openstack/charm-heat,master,I9a68c5e4f3733887576a0ee9228dfdfeddb77b24,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-26 01:21:18.000000000,2018-10-26 02:08:20.000000000,,[],"[{'number': 1, 'created': '2018-10-26 01:21:18.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/670b7fbb4958b7f9208a4466c598c1cfc690fb68', 'message': ""Fix the conflict of urlparse between python2 and python3\n\n 请为您的变更输入提交说明。以 '#' 开始的行将被忽略，而一个空的提交\n\nChange-Id: I9a68c5e4f3733887576a0ee9228dfdfeddb77b24\n""}]",0,613457,670b7fbb4958b7f9208a4466c598c1cfc690fb68,2,0,1,27565,,,0,"Fix the conflict of urlparse between python2 and python3

 请为您的变更输入提交说明。以 '#' 开始的行将被忽略，而一个空的提交

Change-Id: I9a68c5e4f3733887576a0ee9228dfdfeddb77b24
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/57/613457/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/amulet/utils.py'],1,670b7fbb4958b7f9208a4466c598c1cfc690fb68,,try: from urlparse import urlparse except ModuleNotFoundError: from urllib.parse import urlparse,import urlparse,4,1
openstack%2Fcinder~stable%2Fqueens~I5501a8c8b5d029a25a482b0f5fabce611c724c52,openstack/cinder,stable/queens,I5501a8c8b5d029a25a482b0f5fabce611c724c52,VMAX Queens - 90 endpoint not compatible with unisphere 8.4,MERGED,2018-10-17 14:41:50.000000000,2018-10-26 01:58:48.000000000,2018-10-26 01:58:47.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-17 14:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a15e7f023ec846bd0effddc602c3b566d81a3542', 'message': 'VMAX Queens - remove 90 endpoint not compatible with unisphere 8.4\n\n90 REST endpoint not compatible with minimum unisphere version of 8.4.\nThis was introduced in backport of https://review.openstack.org/#/c/587822/\nwhich uses unisphere 9.0.  This is why there is no corresponding review\nin master and why we are fixing it directly on stable/queens.\n\nChange-Id: I5501a8c8b5d029a25a482b0f5fabce611c724c52\nCloses-Bug: #1778954\n'}, {'number': 2, 'created': '2018-10-17 14:58:15.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f48861340cf39fabc87125c1175e17474270a446', 'message': 'VMAX Queens - 90 endpoint not compatible with unisphere 8.4\n\n90 REST endpoint not compatible with minimum unisphere version of 8.4.\nThis was introduced in backport of \nhttps://review.openstack.org/#/c/587822/ which uses unisphere 9.0.\nThis is why there is no corresponding review in master and why we are\nfixing it directly on stable/queens.\n\nChange-Id: I5501a8c8b5d029a25a482b0f5fabce611c724c52\nCloses-Bug: #1778954\n'}]",1,611340,f48861340cf39fabc87125c1175e17474270a446,25,19,2,12670,,,0,"VMAX Queens - 90 endpoint not compatible with unisphere 8.4

90 REST endpoint not compatible with minimum unisphere version of 8.4.
This was introduced in backport of 
https://review.openstack.org/#/c/587822/ which uses unisphere 9.0.
This is why there is no corresponding review in master and why we are
fixing it directly on stable/queens.

Change-Id: I5501a8c8b5d029a25a482b0f5fabce611c724c52
Closes-Bug: #1778954
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/611340/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/vmax/rest.py'],1,a15e7f023ec846bd0effddc602c3b566d81a3542,bug/1778954," slo_dict = self.get_resource(array, SLOPROVISIONING, 'slo')"," slo_dict = self.get_resource(array, SLOPROVISIONING, 'slo', version='90')",1,2
openstack%2Fcinder~master~I47c3c8279d2026f04646ceba4bd31f23519fffad,openstack/cinder,master,I47c3c8279d2026f04646ceba4bd31f23519fffad,api-ref: add missing fields in volume group types,MERGED,2018-09-29 03:30:10.000000000,2018-10-26 01:58:45.000000000,2018-10-26 01:58:45.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-29 03:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07706df2684a06a4b6fb5f9b0a7ae5ce754b375a', 'message': 'api-ref: add missing fields in volume group types\n\nThere are some fields missing in volume group types api ref,\nhttps://developer.openstack.org/api-ref/block-storage/v3/#list-group-types\n\nis_public and description are missing from the response and\nsample of ""List group types"".\n\nChange-Id: I47c3c8279d2026f04646ceba4bd31f23519fffad\n'}, {'number': 2, 'created': '2018-10-17 03:04:39.000000000', 'files': ['api-ref/source/v3/group-types.inc', 'api-ref/source/v3/samples/group-types-list-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f3375689f5b5738de45f779424760bccb4b6e6a', 'message': 'api-ref: add missing fields in volume group types\n\nThere are some fields missing in volume group types api ref,\nhttps://developer.openstack.org/api-ref/block-storage/v3/#list-group-types\n\nis_public and description are missing from the response and\nsample of ""List group types"".\n\nChange-Id: I47c3c8279d2026f04646ceba4bd31f23519fffad\n'}]",3,606242,0f3375689f5b5738de45f779424760bccb4b6e6a,67,37,2,20190,,,0,"api-ref: add missing fields in volume group types

There are some fields missing in volume group types api ref,
https://developer.openstack.org/api-ref/block-storage/v3/#list-group-types

is_public and description are missing from the response and
sample of ""List group types"".

Change-Id: I47c3c8279d2026f04646ceba4bd31f23519fffad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/606242/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/group-types.inc', 'api-ref/source/v3/samples/group-types-list-response.json']",2,07706df2684a06a4b6fb5f9b0a7ae5ce754b375a,bp/volume-response-schema-validation," ""is_public"": true, ""name"": ""group_type1"", ""description"": ""tempest-group-type-description-1261576824"" ""is_public"": true, ""name"": ""group_type2"", ""description"": ""tempest-group-type-description-1261576824"""," ""name"": ""group_type1"" ""name"": ""group_type2""",8,2
openstack%2Fcinder~master~Ia015f3b48796dec79dd68b8d393e920a03dfa585,openstack/cinder,master,Ia015f3b48796dec79dd68b8d393e920a03dfa585,DS8K: correct the usage for ssl method(SSLContext.wrap_socket),MERGED,2018-10-15 08:45:18.000000000,2018-10-26 01:58:43.000000000,2018-10-26 01:58:42.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26422}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-15 08:45:18.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_connection.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b742179f332a13913c3beb90a59a5a85e417efe3', 'message': 'DS8K: correct the usage for ssl method(SSLContext.wrap_socket)\n\nSince Python 3.2 and 2.7.9, it is recommended to use the\nSSLContext.wrap_socket() instead of wrap_socket(). So the patch\nhttps://review.openstack.org/#/c/591608/ help to optimize it. But the\nusage of SSLContext.wrap_socket() is wrong, it caused DS8K cinder\ndriver can not be initialized, so this patch will correct it.\n\nChange-Id: Ia015f3b48796dec79dd68b8d393e920a03dfa585\nCloses-Bug: 1797847\n'}]",2,610453,b742179f332a13913c3beb90a59a5a85e417efe3,64,37,1,26422,,,0,"DS8K: correct the usage for ssl method(SSLContext.wrap_socket)

Since Python 3.2 and 2.7.9, it is recommended to use the
SSLContext.wrap_socket() instead of wrap_socket(). So the patch
https://review.openstack.org/#/c/591608/ help to optimize it. But the
usage of SSLContext.wrap_socket() is wrong, it caused DS8K cinder
driver can not be initialized, so this patch will correct it.

Change-Id: Ia015f3b48796dec79dd68b8d393e920a03dfa585
Closes-Bug: 1797847
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/610453/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/ds8k_connection.py'],1,b742179f332a13913c3beb90a59a5a85e417efe3,bug/1797847, context = ssl.SSLContext(ssl.PROTOCOL_SSLv23) self.sock = context.wrap_socket(conn), self.sock = ssl.SSLContext.wrap_socket(conn),2,1
openstack%2Ftripleo-upgrade~master~I11b4cc5697346e5729ab27c81bd0e3e86b92e7d0,openstack/tripleo-upgrade,master,I11b4cc5697346e5729ab27c81bd0e3e86b92e7d0,Add ContainerImagePrepare to custom roles_data,MERGED,2018-10-19 06:58:59.000000000,2018-10-26 01:46:33.000000000,2018-10-26 01:46:33.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-19 06:58:59.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4c28657ca910bf68dca492b4d9075643f3fcae3e', 'message': 'Add ContainerImagePrepare to custom roles_data\n\nNew service ContainerImagePrepare, introduced in Rocky, triggers\na container image prepare in the same way as for the containerized\nundercloud. When performing Q->R upgrade custom roles_data.yaml\nhas to be updated with it.\n\nChange-Id: I11b4cc5697346e5729ab27c81bd0e3e86b92e7d0\n'}]",0,611788,4c28657ca910bf68dca492b4d9075643f3fcae3e,9,5,1,21537,,,0,"Add ContainerImagePrepare to custom roles_data

New service ContainerImagePrepare, introduced in Rocky, triggers
a container image prepare in the same way as for the containerized
undercloud. When performing Q->R upgrade custom roles_data.yaml
has to be updated with it.

Change-Id: I11b4cc5697346e5729ab27c81bd0e3e86b92e7d0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/611788/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,4c28657ca910bf68dca492b4d9075643f3fcae3e,add-containers-svc," - name: add ContainerImagePrepare service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::HAproxy$)' replace: '\1\2\1- OS::TripleO::Services::ContainerImagePrepare'",,6,0
openstack%2Fkeystoneauth~master~I3f0a6047ecb0569553d17eb7a066ac7023817c66,openstack/keystoneauth,master,I3f0a6047ecb0569553d17eb7a066ac7023817c66,Add missing release note for ironic discovery fix,MERGED,2018-10-24 02:52:33.000000000,2018-10-26 01:36:33.000000000,2018-10-26 01:36:33.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 02:52:33.000000000', 'files': ['releasenotes/notes/ironic-discovery-fe41793ef97027bf.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c6e87c8209dedc25adf42ea3c95715fe6fd7e582', 'message': 'Add missing release note for ironic discovery fix\n\nChange-Id: I3f0a6047ecb0569553d17eb7a066ac7023817c66\n'}]",0,612872,c6e87c8209dedc25adf42ea3c95715fe6fd7e582,7,3,1,2,,,0,"Add missing release note for ironic discovery fix

Change-Id: I3f0a6047ecb0569553d17eb7a066ac7023817c66
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/72/612872/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ironic-discovery-fe41793ef97027bf.yaml'],1,c6e87c8209dedc25adf42ea3c95715fe6fd7e582,,--- fixes: - | A workaround for misformed discovery documents was being applied too soon causing ironic discovery documents to be mistakenly ignored. ,,5,0
openstack%2Fkolla-ansible~master~I4d409e052c00d83b451a2a13917f89531a88457f,openstack/kolla-ansible,master,I4d409e052c00d83b451a2a13917f89531a88457f,Fix template src of kibana configuration file,MERGED,2018-10-24 11:36:38.000000000,2018-10-26 01:05:43.000000000,2018-10-26 01:05:43.000000000,"[{'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 9820}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2018-10-24 11:36:38.000000000', 'files': ['ansible/roles/kibana/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1acb65642760eec5d28a4eb23b693a1cf695324', 'message': 'Fix template src of kibana configuration file\n\nChange-Id: I4d409e052c00d83b451a2a13917f89531a88457f\n'}]",0,612993,c1acb65642760eec5d28a4eb23b693a1cf695324,10,6,1,167,,,0,"Fix template src of kibana configuration file

Change-Id: I4d409e052c00d83b451a2a13917f89531a88457f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/612993/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/tasks/config.yml'],1,c1acb65642760eec5d28a4eb23b693a1cf695324,kibana-config-template," src: ""{{ item }}"""," src: ""kibana.yml.j2""",1,1
openstack%2Fcinder~stable%2Fpike~I50430d67c2b9952d0b0c200920491c31f88a7ad7,openstack/cinder,stable/pike,I50430d67c2b9952d0b0c200920491c31f88a7ad7,Added mount fstype based validation of Quobyte mounts,MERGED,2018-10-11 13:16:10.000000000,2018-10-26 01:02:44.000000000,2018-10-26 01:02:44.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 17097}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-11 13:16:10.000000000', 'files': ['releasenotes/notes/bug-1730933-1bb0272e3c51eed3.yaml', 'cinder/volume/drivers/quobyte.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1d67d52f79656ce9c7f4b326d2703d972c35d9a', 'message': 'Added mount fstype based validation of Quobyte mounts\n\nThe validation of Quobyte mounts is extended to validate based\non a mounts file system type being set to ""fuse.quobyte"".\n\nCloses-Bug: #1730933\n\nChange-Id: I50430d67c2b9952d0b0c200920491c31f88a7ad7\n(cherry picked from commit ac0583c94acb8f960e9b6e242ce3e6eb604962c0)\n'}]",0,609698,a1d67d52f79656ce9c7f4b326d2703d972c35d9a,24,19,1,13915,,,0,"Added mount fstype based validation of Quobyte mounts

The validation of Quobyte mounts is extended to validate based
on a mounts file system type being set to ""fuse.quobyte"".

Closes-Bug: #1730933

Change-Id: I50430d67c2b9952d0b0c200920491c31f88a7ad7
(cherry picked from commit ac0583c94acb8f960e9b6e242ce3e6eb604962c0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/609698/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1730933-1bb0272e3c51eed3.yaml', 'cinder/volume/drivers/quobyte.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py']",3,a1d67d52f79656ce9c7f4b326d2703d972c35d9a,bug/1730933-stable/pike," def test_validate_volume_all_good_prefix_val(self, stat_mock, part_mock): def test_validate_volume_all_good_subtype_val(self, stat_mock, part_mock): part_mock.return_value = self.get_mock_partitions() part_mock.return_value[0].device = ""not_quobyte"" part_mock.return_value[0].fstype = ""fuse.quobyte"" drv = self._driver def statMockCall(*args): if args[0] == self.TEST_MNT_POINT: stat_result = mock.Mock() stat_result.st_size = 0 return stat_result return os.stat(args) stat_mock.side_effect = statMockCall drv._validate_volume(self.TEST_MNT_POINT) stat_mock.assert_called_once_with(self.TEST_MNT_POINT) part_mock.assert_called_once_with(all=True) @mock.patch.object(psutil, ""disk_partitions"") @mock.patch.object(os, ""stat"")"," def test_validate_volume_all_good(self, stat_mock, part_mock):",31,3
openstack%2Fnova-specs~master~Ieabb7741529759efad3b517df3eeea0d0382b215,openstack/nova-specs,master,Ieabb7741529759efad3b517df3eeea0d0382b215,[WIP] generic device discovery policy,ABANDONED,2018-09-19 13:53:40.000000000,2018-10-26 01:02:44.000000000,,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 8864}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 13557}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/562c31fc4e60b413e3928e47351b94411d12a525', 'message': '[WIP] generic device discovery policy\n\n- This change intoduces a spec to define\n  a generic schema that can be shared across\n  projects for device whitelisting, policy\n  and placement modeling.\n\n- This is an early draft for feedback on\n  the direction. it does not currently\n  follow the spec template but that will\n  be corrected later.\n\nChange-Id: Ieabb7741529759efad3b517df3eeea0d0382b215\n'}, {'number': 2, 'created': '2018-09-19 16:10:21.000000000', 'files': ['specs/stein/approved/device-discovery-policy-lib.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0d9b11fa003ae47911ebe35a6d33dc5568734e73', 'message': '[WIP] generic device discovery policy\n\n- This change intoduces a spec to define\n  a generic schema that can be shared across\n  projects for device whitelisting, policy\n  and placement modeling.\n\n- This is an early draft for feedback on\n  the direction. it does not currently\n  follow the spec template but that will\n  be corrected later.\n\nChange-Id: Ieabb7741529759efad3b517df3eeea0d0382b215\n'}]",45,603805,0d9b11fa003ae47911ebe35a6d33dc5568734e73,15,14,2,11604,,,0,"[WIP] generic device discovery policy

- This change intoduces a spec to define
  a generic schema that can be shared across
  projects for device whitelisting, policy
  and placement modeling.

- This is an early draft for feedback on
  the direction. it does not currently
  follow the spec template but that will
  be corrected later.

Change-Id: Ieabb7741529759efad3b517df3eeea0d0382b215
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/603805/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/device-discovery-policy-lib.rst'],1,562c31fc4e60b413e3928e47351b94411d12a525,generic-device-policy-lib,"========================================= A schema for gerneric device whitelisting ========================================= NOTE(sean-k-mooney): this is a draft of what i had before the PTG with an added set of sample devices, design goals and outputs. it is not currently in a vaild spec format but i will update it in the next revisions of to to match the spec format. ignore line lenght and formatting for now i will correct this in the next version. Problem Statement ================= For many cycle nova has had the ablity to inventory host for available pci deivecs and filter those via a whitelist. over time that whitleist has been extended to suport wildcarding, descibe policy and store metadata. in recent cycles more usecases have emgerged for different flavors of device passthrough witnin and outside nova. this spec proposes a generic schema that can be shared between openstack services to provide a single file format to whitelist devices own by openstack while decoupleing policy and metadata and enabling placement reporting. sample devices to support ------------------------- - pmem (persitent memory devices) - vgpus (sriov and mdev based) - pci/sriov devices (in a hypervior independnt way) - usb (hyperviors have supported usb passhtrough for a long time) - blk storage (local block storage can be useful for srach/cacheing workloads) - fpgas (may not always be pcie based) - should be extensible to whitelist device or slot but may be out of inital scope - ... add comments for other device types i have missed other usecases -------------- - numa aware vSwitches - bandwith based schduling - numa afinity policy - physnet associations - trusted vf policy - ... add comments here if there are others design goals ------------ - config file format independent - yaml (prefered) - json (optional) - toml (optional) - config (optional) - schema validation (one of) - jsonschema (prefered) - oslo.config (requires ini format) - ovo (very verbose but automatically versioned) - versioned - supports defaults - supports field validation - support config generation - suport code generation (optional but desired) - allow modling of placement providers - allow declartion of resouce provider traits - allow declartion of resouce classes - allow policy to expressed decoupled form device whitelisting or pooling. outputs ------- - a schema for device whitelisting - a common set of python modules for - generating configs conforming to the schema - validating configs with the schema - loading python data structures from a vaild config - dumping python data structures to a vaild config - an osc pluging to allow easy inspection and create of the config using common modules above. - a new repo under oslo/nova deliverable? this is not initally need but i think makes sense. SCHEMA ====== Note this is an informal schema and a formal schema will be added after initall feedback. This will be replaced in later revions. devices:// a set of allowed devices <deice name>: // a human readable name used latter to associate device within a pool bus: // the pysical bus the device is attached too e.g.: pcie,usb,nvme,sata... type: // optional, for busses that support multiple classes or type of device this is the bus specific type. address_type: // the type of adddress used to identify the device on the bus // e.g. domain:bus:device:funciton address for pcie, uuid , device path address: // a idenfify for the device, the format of which is specifed by address_type, may support regex or list. device_pool: // a set of device that will be modeled as a placement resocse provider <pool name>: a human readable name that will be used refer to a pool of device, for pcie this can be used to supprot backwads compatiblty with existing alias in pcie whitelist devices: [] // list of device names that are part of the pool resouce_class: the placement resouce class correcponding to this pool (required) traits: [] //the set of tratis exposed for this pool, default none , list of traits seperated by comma, support specia auto value for auto discovery of traits and +/- for adding or removeing traits to auto disciverd list. numa:[]// list, optional override for numa affinity of pool. -1 means no numa affintiy, if not set this is auto dicoverd. EXAMPLE CONFIG ============== TODO(sean-k-mooney): - add pmem example. (follow up with alex_xu for input) - add bandwith basesd schduling example. (follow up with gibi for input) - add vswith numa affintiy example. (follow up with stephenfin for input) - add powervm examples. (bug efried for input) - figure out how to properly embed yaml in rst using code blocks. `` --- devices: nic1: // mathces a specific nic by bus slot function address type: nic // bus specifc type bus: pcie address_type: DBDF address: 0000:07:02.0 // should support same regex as current pcie whitelist nic2: // match a singel nic by hyperviors specific uuid type: nic bus: pcie address_type: uuid address: 18ad2597-3bb8-48ea-adaa-e0453a40e7f9 // i dont know how to wildcard this maybe allow a list instead? niantics: // match all intel x520 niantic nics / note niantic is used as the name of a set of device type: nic bus: pcie vendor_id: ""8086"" product_id: ""10ed"" hdd1: // an example of a non pcie device type: block_storage bus: sata address_type: uuid address: a43a9e49-bcb8-439d-9a9f-80020e1a049e ssd1: type: block_storage bus: nvme address_type: path address: /dev/nvme0 gtx1080: type: gpu bus: mdev address_type: path address: /sys/bus/mdev/uuid device_pools: // each device pool is a resouce provider in placement vendor_a_nic:// this is the alias that would be in the flavor for legacy devices. devices:[nic1,nic2] resouce_class: CUSTOM_VENDER_A_NIC traits: auto,+CUSTOM_PHYSNET_PRIVATE numa:auto// this is default but can be overriden for legacy devices -1 means non numa affiy vendor_b_nic: // this is the alias that would be in the flavor for legacy devices. devices:[niantics] resouce_class: CUSTOM_INTEL_NIANTIC traits:auto,+CUSTOM_PHYSNET_PUBLIC mass_storage: devices:[hdd1] resouce_class: DISK_GB // need to lookup real resouce class to use here traits:auto,+CUSTOM_SPINNING_RUST fast_storage: // this is the alias that would be in the flavor for legacy devices. devices:[ssd1] resouce_class: DISK_GB traits:auto,+CUSTOM_FAST_AND_EXPENCIVE `` ",,165,0
openstack%2Fneutron~master~Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80,openstack/neutron,master,Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80,Event driven periodic resync task for DHCP agents,MERGED,2018-07-06 03:35:34.000000000,2018-10-26 01:02:41.000000000,2018-10-26 01:02:41.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25437}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28439}]","[{'number': 1, 'created': '2018-07-06 03:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/992a61d1c7400bf268806bd48e6b0bb9f16df8d5', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds. This may cause a\npotentially long delay before an agent gets new work via an\nagent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto a event driven one. We could force the agent to act on the resync\nrequest immediately therefore decreasing how much time is needed before\nDHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 2, 'created': '2018-07-11 00:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/774bcbfe608c81257b0c0c3b626022ab693d1dbe', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds. This may cause a\npotentially long delay before an agent gets new work via an\nagent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto a event driven one. We could force the agent to act on the resync\nrequest immediately therefore decreasing how much time is needed before\nDHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 3, 'created': '2018-09-28 16:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d20bb24ecbf3d19399af50b767a7f91a7909c7e', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum intervals taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 4, 'created': '2018-09-29 01:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf2a30174f4a9aeac48447c8f4f0f593232cf169', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum intervals taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 5, 'created': '2018-09-29 11:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea019658bf86a83419cbb14c0087040619d374ff', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 6, 'created': '2018-09-29 11:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4702b55768e10df2455afc73a9a88499f0a6b906', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 7, 'created': '2018-09-29 11:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d77470297748f40519133a84e4226a96034f1eeb', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 8, 'created': '2018-09-29 15:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86cc5fe8daf81919b9dd3f4e9c76be2cdc7380e6', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 9, 'created': '2018-10-08 05:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e50899d18465d2ba11910ec7812ef9ae2b6f7ea', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 10, 'created': '2018-10-15 14:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/baa98ec3231c55ac09aa514c208544a9e1e03931', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 11, 'created': '2018-10-15 14:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c70ad46129a7ea4f525afee0d1e7773ddca99b00', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 12, 'created': '2018-10-16 01:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8da58b653f4e18bee8069cb01359a0877e30eec0', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}, {'number': 13, 'created': '2018-10-25 08:28:51.000000000', 'files': ['neutron/conf/agent/dhcp.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'releasenotes/notes/dhcp-resync-throttle-config-option-9f2375e3baf683ad.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d98f0a7d43bc45b66260053bde76d992fd613b8', 'message': 'Event driven periodic resync task for DHCP agents\n\nThe DHCP agent will resync its state with Neutron to recover from any\ntransient notification or RPC errors. Currently, the periodic resync\ntask waits on a timer to determine whether a re-sync is necessary. The\ninterval between attempts by default is 5 seconds and can be longer\nthru config. This may cause a potentially long delay before an agent\ngets new work via an agent_updated RPC call.\n\nThe idea of this RFE is to change the timer based periodic resync task\ninto an event driven one. It also proposes a new DHCP agent config\noption ""resync_throttle"" to ensure the minimum interval taken between\nresync state events to avoid too frequent resyncing. In this way, we\ncould force the agent to act on the resync request immediately therefore\ndecreasing how much time is needed before DHCP services are available.\n\nCo-authored-by: Allain Legacy <Allain.legacy@windriver.com>\n\nCloses-Bug: #1780370\nChange-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80\n'}]",32,580548,1d98f0a7d43bc45b66260053bde76d992fd613b8,112,19,13,28373,,,0,"Event driven periodic resync task for DHCP agents

The DHCP agent will resync its state with Neutron to recover from any
transient notification or RPC errors. Currently, the periodic resync
task waits on a timer to determine whether a re-sync is necessary. The
interval between attempts by default is 5 seconds and can be longer
thru config. This may cause a potentially long delay before an agent
gets new work via an agent_updated RPC call.

The idea of this RFE is to change the timer based periodic resync task
into an event driven one. It also proposes a new DHCP agent config
option ""resync_throttle"" to ensure the minimum interval taken between
resync state events to avoid too frequent resyncing. In this way, we
could force the agent to act on the resync request immediately therefore
decreasing how much time is needed before DHCP services are available.

Co-authored-by: Allain Legacy <Allain.legacy@windriver.com>

Closes-Bug: #1780370
Change-Id: Ie9d758ba5f750a38dc19ea5ce8b2c6b414f9ef80
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/580548/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,992a61d1c7400bf268806bd48e6b0bb9f16df8d5,bug/1780370," dhcp = dhcp_agent.DhcpAgent(HOSTNAME) resync_reasons = collections.OrderedDict( (('a', 'reason1'), ('b', 'reason2'))) dhcp.needs_resync_reasons = resync_reasons with mock.patch.object(dhcp, 'sync_state') as sync_state: sync_state.side_effect = RuntimeError with testtools.ExpectedException(RuntimeError): dhcp._periodic_resync_helper() sync_state.assert_called_once_with(resync_reasons.keys()) self.assertEqual(0, len(dhcp.needs_resync_reasons))"," with mock.patch.object(dhcp_agent.eventlet, 'sleep') as sleep: dhcp = dhcp_agent.DhcpAgent(HOSTNAME) resync_reasons = collections.OrderedDict( (('a', 'reason1'), ('b', 'reason2'))) dhcp.needs_resync_reasons = resync_reasons with mock.patch.object(dhcp, 'sync_state') as sync_state: sync_state.side_effect = RuntimeError with testtools.ExpectedException(RuntimeError): dhcp._periodic_resync_helper() sync_state.assert_called_once_with(resync_reasons.keys()) sleep.assert_called_once_with(dhcp.conf.resync_interval) self.assertEqual(0, len(dhcp.needs_resync_reasons))",21,13
openstack%2Fnova~master~Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0,openstack/nova,master,Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0,Add functional recreate test for bug 1799727,MERGED,2018-10-24 17:09:51.000000000,2018-10-26 01:02:36.000000000,2018-10-26 01:02:36.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21719}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-24 17:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99d34bb32252cc916d70444c80572767e2214eb9', 'message': 'Add functional recreate test for bug 1799727\n\nThis adds a functional test which recreates the\nbug where config-driven allocation ratio overrides\nare not being reflected in resource provider inventory\nonce initially set.\n\nChange-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0\nRelated-Bug: #1799727\n'}, {'number': 2, 'created': '2018-10-24 17:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5258a837e91ab6bd68bef3ae0433fad79de68af5', 'message': ""Add functional recreate test for bug 1799727\n\nThis adds a functional test which recreates the\nbug where config-driven allocation ratio overrides\nare not being reflected in resource provider inventory\nonce initially set.\n\nThe allocation_ratio values set in the\nFakeDriver.update_provider_tree method, added in change\nI69d760aaf931d46f011cfd229b88f400837662e8, are removed\nhere otherwise they hard-code the values which get sent\nto placement and ResourceTracker._normalize_inventory_from_cn_obj\nwon't update the allocation ratios based on config. The\nfake virt driver shouldn't really need to hard-code the\nallocation ratios since the RT will provide those based\non config.\n\nChange-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0\nRelated-Bug: #1799727\n""}, {'number': 3, 'created': '2018-10-24 19:28:19.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45f36cebabdbaad10e69c1a99f5ad4f091885f82', 'message': ""Add functional recreate test for bug 1799727\n\nThis adds a functional test which recreates the\nbug where config-driven reserved and allocation ratio\noverrides are not being reflected in resource provider\ninventory once initially set.\n\nThe reserved and allocation_ratio values set in the\nFakeDriver.update_provider_tree method, added in change\nI69d760aaf931d46f011cfd229b88f400837662e8, are removed\nhere otherwise they hard-code the values which get sent\nto placement and ResourceTracker._normalize_inventory_from_cn_obj\nwon't update the reserved / ratios based on config. The\nfake virt driver shouldn't really need to hard-code these\nvalues since the RT will provide those based on config.\n\nChange-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0\nRelated-Bug: #1799727\n""}]",1,613115,45f36cebabdbaad10e69c1a99f5ad4f091885f82,30,17,3,6873,,,0,"Add functional recreate test for bug 1799727

This adds a functional test which recreates the
bug where config-driven reserved and allocation ratio
overrides are not being reflected in resource provider
inventory once initially set.

The reserved and allocation_ratio values set in the
FakeDriver.update_provider_tree method, added in change
I69d760aaf931d46f011cfd229b88f400837662e8, are removed
here otherwise they hard-code the values which get sent
to placement and ResourceTracker._normalize_inventory_from_cn_obj
won't update the reserved / ratios based on config. The
fake virt driver shouldn't really need to hard-code these
values since the RT will provide those based on config.

Change-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0
Related-Bug: #1799727
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/613115/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/compute/test_resource_tracker.py']",2,99d34bb32252cc916d70444c80572767e2214eb9,bug/1799727,"from nova.tests.functional import integrated_helpers class TestUpdateComputeNodeAllocationRatio( integrated_helpers.ProviderUsageBaseTestCase): """"""Tests reflecting allocation ratios from nova-compute to placement"""""" compute_driver = 'fake.FakeDriver' def test_update_allocation_ratios(self): # Start a compute service which should create a corresponding resource # provider in the placement service. compute_service = self._start_compute('fake-host') # Assert the compute node resource provider exists in placement with # the default allocation ratios from config. rp_uuid = self._get_provider_uuid_by_host('fake-host') inventories = self._get_provider_inventory(rp_uuid) # The default allocation ratio config values are all 0.0 and get # defaulted to real values in the ComputeNode object, so we need to # check our defaults against what is in the ComputeNode object. ctxt = context.get_admin_context() # Note that the CellDatabases fixture usage means we don't need to # target the context to cell1 even though the compute_nodes table is # in the cell1 database. cn = objects.ComputeNode.get_by_uuid(ctxt, rp_uuid) ratios = { 'VCPU': cn.cpu_allocation_ratio, 'MEMORY_MB': cn.ram_allocation_ratio, 'DISK_GB': cn.disk_allocation_ratio } for rc, ratio in ratios.items(): self.assertIn(rc, inventories) self.assertIn('allocation_ratio', inventories[rc]) self.assertEqual(ratio, inventories[rc]['allocation_ratio'], 'Unexpected allocation ratio for %s' % rc) # Now change the configuration values, restart the compute service, # and ensure the changes are reflected in the resource provider # inventory records. We use 2.0 since disk_allocation_ratio defaults # to 1.0. self.flags(cpu_allocation_ratio=2.0) self.flags(ram_allocation_ratio=2.0) self.flags(disk_allocation_ratio=2.0) self.restart_compute_service(compute_service) # The ratios should now come from config overrides rather than the # defaults in the ComputeNode object. ratios = { 'VCPU': CONF.cpu_allocation_ratio, 'MEMORY_MB': CONF.ram_allocation_ratio, 'DISK_GB': CONF.disk_allocation_ratio } attr_map = { 'VCPU': 'cpu', 'MEMORY_MB': 'ram', 'DISK_GB': 'disk', } cn = objects.ComputeNode.get_by_uuid(ctxt, rp_uuid) inventories = self._get_provider_inventory(rp_uuid) for rc, ratio in ratios.items(): # Make sure the config is what we expect. self.assertEqual(2.0, ratio, 'Unexpected config allocation ratio for %s' % rc) # Make sure the values in the DB are updated. self.assertEqual( ratio, getattr(cn, '%s_allocation_ratio' % attr_map[rc]), 'Unexpected ComputeNode allocation ratio for %s' % rc) # Make sure the values in placement are updated. # FIXME(mriedem): The config-driven allocation ratio overrides # are not reflected in placement until bug 1799727 is fixed. self.assertNotEqual(ratio, inventories[rc]['allocation_ratio'], 'Unexpected resource provider inventory ' 'allocation ratio for %s' % rc)",,74,3
openstack%2Frally-openstack~master~Idf28fef97a261c12792b65cb1c5624368d3f8646,openstack/rally-openstack,master,Idf28fef97a261c12792b65cb1c5624368d3f8646,"Fix missing ""is None"" for check_metrics in grafana",MERGED,2018-10-25 15:59:39.000000000,2018-10-26 00:55:28.000000000,2018-10-26 00:55:28.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 15:59:39.000000000', 'files': ['rally_openstack/services/grafana/grafana.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/536a69f1f4da37ebb395a6f6d5eabfeb50503202', 'message': 'Fix missing ""is None"" for check_metrics in grafana\n\nOne condition misses ""is None"" and so raises KeyError, so\nfix this place.\n\nChange-Id: Idf28fef97a261c12792b65cb1c5624368d3f8646\n'}]",0,613366,536a69f1f4da37ebb395a6f6d5eabfeb50503202,6,2,1,13009,,,0,"Fix missing ""is None"" for check_metrics in grafana

One condition misses ""is None"" and so raises KeyError, so
fix this place.

Change-Id: Idf28fef97a261c12792b65cb1c5624368d3f8646
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/66/613366/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/services/grafana/grafana.py'],1,536a69f1f4da37ebb395a6f6d5eabfeb50503202,fix-monitoring-scenarios," no_result = (result.get(""data"") is None or len(result[""data""][""result""]) < 1) if no_result and i + 1 >= retries_total: elif no_result:"," is_result = result.get(""data"") or len(result[""data""][""result""]) < 1 if is_result and i + 1 >= retries_total: elif is_result:",4,3
openstack%2Fpuppet-crane~master~I2ff981706533f1089a903dfec2e852038f382377,openstack/puppet-crane,master,I2ff981706533f1089a903dfec2e852038f382377,Update min tox version to 2.0,ABANDONED,2018-10-25 07:42:48.000000000,2018-10-26 00:54:16.000000000,,[{'_account_id': 27565}],"[{'number': 1, 'created': '2018-10-25 07:42:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-crane/commit/176f0014f259fdd967214b3c048dc37a5f788ff6', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets\n\nChange-Id: I2ff981706533f1089a903dfec2e852038f382377\n'}]",0,613229,176f0014f259fdd967214b3c048dc37a5f788ff6,3,1,1,27565,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets

Change-Id: I2ff981706533f1089a903dfec2e852038f382377
",git fetch https://review.opendev.org/openstack/puppet-crane refs/changes/29/613229/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,176f0014f259fdd967214b3c048dc37a5f788ff6,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpuppet-pacemaker~master~I0fa4f1c5704a9092bb9d93078d13b6d1aec901fe,openstack/puppet-pacemaker,master,I0fa4f1c5704a9092bb9d93078d13b6d1aec901fe,Update min tox version to 2.0,ABANDONED,2018-10-25 07:37:51.000000000,2018-10-26 00:40:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2018-10-25 07:37:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/64edb5fa13ee361616bf7e69a055ea48b75aed5d', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets\n\nChange-Id: I0fa4f1c5704a9092bb9d93078d13b6d1aec901fe\n'}]",0,613224,64edb5fa13ee361616bf7e69a055ea48b75aed5d,8,2,1,27565,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets

Change-Id: I0fa4f1c5704a9092bb9d93078d13b6d1aec901fe
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/24/613224/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,64edb5fa13ee361616bf7e69a055ea48b75aed5d,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpuppet-cloudkitty~master~Icb85b5d5b2005dbd1c560cd1c2dc2044ac20319d,openstack/puppet-cloudkitty,master,Icb85b5d5b2005dbd1c560cd1c2dc2044ac20319d,Update min tox version to 2.0,ABANDONED,2018-10-25 07:40:36.000000000,2018-10-26 00:40:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2018-10-25 07:40:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/d9c4b641d28dcce6e314a95c5cdc295470c42b7a', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets\n\nChange-Id: Icb85b5d5b2005dbd1c560cd1c2dc2044ac20319d\n'}]",0,613227,d9c4b641d28dcce6e314a95c5cdc295470c42b7a,5,2,1,27565,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets

Change-Id: Icb85b5d5b2005dbd1c560cd1c2dc2044ac20319d
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/27/613227/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d9c4b641d28dcce6e314a95c5cdc295470c42b7a,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpuppet-tripleo~master~I4517ddbaf672b1e91f2aa3c4624d65f81d04f11c,openstack/puppet-tripleo,master,I4517ddbaf672b1e91f2aa3c4624d65f81d04f11c,Update min tox version to 2.0,ABANDONED,2018-10-25 07:39:11.000000000,2018-10-26 00:40:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2018-10-25 07:39:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/31c168f42680067737595cda6a36ec9bffb83302', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets\n\nChange-Id: I4517ddbaf672b1e91f2aa3c4624d65f81d04f11c\n'}]",0,613225,31c168f42680067737595cda6a36ec9bffb83302,5,2,1,27565,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets

Change-Id: I4517ddbaf672b1e91f2aa3c4624d65f81d04f11c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/25/613225/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,31c168f42680067737595cda6a36ec9bffb83302,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fosc-placement~stable%2Fqueens~I966fb6d16b0086fc5fe345fdb695dbbed2eb4299,openstack/osc-placement,stable/queens,I966fb6d16b0086fc5fe345fdb695dbbed2eb4299,Do not depend on jenkins user in devstack gate,MERGED,2018-03-26 22:05:21.000000000,2018-10-26 00:30:21.000000000,2018-10-26 00:30:21.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 15554}, {'_account_id': 17685}, {'_account_id': 18889}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 22:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4ecbebf502f65c5b0193ef341569936c8377e92e', 'message': ""Do not depend on jenkins user in devstack gate\n\nAs announced on openstack-dev [1] openstack-infra images no longer have\nthe jenkins user. The functional (devstack gate based) test suite of the\nosc-placement repo depended on the jenkins user in its post_test_hook.\nBecause of that dependecy all functional test suite runs of\nosc-placement started to fail after [2] was merged.\n\nWe fix the functional test suite of osc-placement by no longer\nhardcoding the jenkins user.\n\nIdeally we would not need root in post_test_hook. However it seems\ndevstack installs globally (as root) the master branch of osc-placement\n(in develop mode) resulting the following directory being owned by root:\n\n/opt/stack/new/osc-placement/osc_placement.egg-info/\n\nWhen 'tox -e functional' tries to install the commit under test of\nosc-placement in the tox functional venv (also in develop mode from the\nsame repo directory) but as a non-privileged user that conflicts with\nthe previous global installation.\n\nIt'd be nice to remove the need for root altogether, but at the moment\nI don't know how to do that.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n           2018-February/127800.html\n[2] https://review.openstack.org/514485/\n\nChange-Id: I966fb6d16b0086fc5fe345fdb695dbbed2eb4299\n(cherry picked from commit 253fd92b29863e5546dff4aa5ba77c37244346b5)\n""}, {'number': 2, 'created': '2018-10-25 19:23:46.000000000', 'files': ['osc_placement/tests/functional/hooks/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ddaf4fd893ce7a406031448cfc12459d59766001', 'message': ""Do not depend on jenkins user in devstack gate\n\nAs announced on openstack-dev [1] openstack-infra images no longer have\nthe jenkins user. The functional (devstack gate based) test suite of the\nosc-placement repo depended on the jenkins user in its post_test_hook.\nBecause of that dependecy all functional test suite runs of\nosc-placement started to fail after [2] was merged.\n\nWe fix the functional test suite of osc-placement by no longer\nhardcoding the jenkins user.\n\nIdeally we would not need root in post_test_hook. However it seems\ndevstack installs globally (as root) the master branch of osc-placement\n(in develop mode) resulting the following directory being owned by root:\n\n/opt/stack/new/osc-placement/osc_placement.egg-info/\n\nWhen 'tox -e functional' tries to install the commit under test of\nosc-placement in the tox functional venv (also in develop mode from the\nsame repo directory) but as a non-privileged user that conflicts with\nthe previous global installation.\n\nIt'd be nice to remove the need for root altogether, but at the moment\nI don't know how to do that.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/\n           2018-February/127800.html\n[2] https://review.openstack.org/514485/\n\nChange-Id: I966fb6d16b0086fc5fe345fdb695dbbed2eb4299\n(cherry picked from commit 253fd92b29863e5546dff4aa5ba77c37244346b5)\n""}]",0,556666,ddaf4fd893ce7a406031448cfc12459d59766001,17,9,2,6873,,,0,"Do not depend on jenkins user in devstack gate

As announced on openstack-dev [1] openstack-infra images no longer have
the jenkins user. The functional (devstack gate based) test suite of the
osc-placement repo depended on the jenkins user in its post_test_hook.
Because of that dependecy all functional test suite runs of
osc-placement started to fail after [2] was merged.

We fix the functional test suite of osc-placement by no longer
hardcoding the jenkins user.

Ideally we would not need root in post_test_hook. However it seems
devstack installs globally (as root) the master branch of osc-placement
(in develop mode) resulting the following directory being owned by root:

/opt/stack/new/osc-placement/osc_placement.egg-info/

When 'tox -e functional' tries to install the commit under test of
osc-placement in the tox functional venv (also in develop mode from the
same repo directory) but as a non-privileged user that conflicts with
the previous global installation.

It'd be nice to remove the need for root altogether, but at the moment
I don't know how to do that.

[1] http://lists.openstack.org/pipermail/openstack-dev/
           2018-February/127800.html
[2] https://review.openstack.org/514485/

Change-Id: I966fb6d16b0086fc5fe345fdb695dbbed2eb4299
(cherry picked from commit 253fd92b29863e5546dff4aa5ba77c37244346b5)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/66/556666/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/tests/functional/hooks/post_test_hook.sh'],1,4ecbebf502f65c5b0193ef341569936c8377e92e,py35-stable/queens, .tox/functional/bin/testr last --subunit > $WORKSPACE/testrepository.subunit mv $WORKSPACE/testrepository.subunit $BASE/logs/testrepository.subunit /usr/os-testr-env/bin/subunit2html $BASE/logs/testrepository.subunit $BASE/logs/testr_results.html gzip -9 $BASE/logs/testrepository.subunit gzip -9 $BASE/logs/testr_results.html chmod a+r $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gzsudo chown -R $USER:stack $OSCPLACEMENT_DIRtox -e ${TOX_ENV:-functional}, sudo .tox/functional/bin/testr last --subunit > $WORKSPACE/testrepository.subunit sudo mv $WORKSPACE/testrepository.subunit $BASE/logs/testrepository.subunit sudo /usr/os-testr-env/bin/subunit2html $BASE/logs/testrepository.subunit $BASE/logs/testr_results.html sudo gzip -9 $BASE/logs/testrepository.subunit sudo gzip -9 $BASE/logs/testr_results.html sudo chown jenkins:jenkins $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz sudo chmod a+r $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gzsudo chown -R jenkins:stack $OSCPLACEMENT_DIRsudo -E -H -u jenkins tox -e ${TOX_ENV:-functional},8,9
openstack%2Fnova~master~Ie06937d8d89d1cfabaeec57993240a581a5b2025,openstack/nova,master,Ie06937d8d89d1cfabaeec57993240a581a5b2025,Handle allocations consuming only from the child RPs,NEW,2018-10-05 15:42:16.000000000,2018-10-26 00:04:08.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-05 15:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/360749cb41fa418c9088fc68fab06c8488075a80', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resource from children RPs of the compute tree. This is cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and ever server's allocation contians one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 2, 'created': '2018-10-11 14:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18151cba9470663eff83d619bc126e7ebbd98254', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This is cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and ever server's allocation contians one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 3, 'created': '2018-10-11 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/710e4b4ad573612be34928ba170376811967c806', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 4, 'created': '2018-10-11 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b31eb54cac435c34a4f77508f91b86a027a86ed', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 5, 'created': '2018-10-15 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f19090758714704e2c76643a1d8eaf487c132ae', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 6, 'created': '2018-10-15 22:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/894298f96f5d56711fadf908f89206221172f2a6', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 7, 'created': '2018-10-24 15:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40b35af579b16061edb5e0595ee9f50842f8b879', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}, {'number': 8, 'created': '2018-10-25 13:53:15.000000000', 'files': ['nova/virt/fake.py', 'nova/scheduler/utils.py', 'nova/tests/functional/integrated_helpers.py', 'nova/conductor/tasks/migrate.py', 'nova/scheduler/filter_scheduler.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0eaec51f34a0c7a6a86e0a42c3fcb5b40fe9a981', 'message': ""Handle allocations consuming only from the child RPs\n\nThis patch prepare nova for the situation when a server will only\nconsume resources from children RPs of the compute tree. This cannot\nhappen today but will in the future, when cpu and memory resource are\nmoved to the NUMA RP and servers are booted from volume and therefore\nnot requesting disk resources.\n\nThere are many places in nova that assumes that every allocation\ncandidate and every server's allocation contains one compute node RP\nbesides any number of children RPs. This patch removes this assumption.\n\nTODO:\n* make the unit test pass\n\nChange-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025\n""}]",6,608298,0eaec51f34a0c7a6a86e0a42c3fcb5b40fe9a981,82,15,8,9708,,,0,"Handle allocations consuming only from the child RPs

This patch prepare nova for the situation when a server will only
consume resources from children RPs of the compute tree. This cannot
happen today but will in the future, when cpu and memory resource are
moved to the NUMA RP and servers are booted from volume and therefore
not requesting disk resources.

There are many places in nova that assumes that every allocation
candidate and every server's allocation contains one compute node RP
besides any number of children RPs. This patch removes this assumption.

TODO:
* make the unit test pass

Change-Id: Ie06937d8d89d1cfabaeec57993240a581a5b2025
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/608298/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/conductor/tasks/migrate.py', 'nova/scheduler/client/report.py', 'nova/scheduler/filter_scheduler.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",9,360749cb41fa418c9088fc68fab06c8488075a80,bp/use-nested-allocation-candidates," self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation( self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesAllocation( self.flavor1, migration_uuid, source_rp_uuid) self.assertFlavorMatchesAllocation( self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage( empty_usage, target_uuid) self.assertRequestMatchesUsage(empty_usage, target_uuid) class ServerMovingTestsWithNumaLikeComputes( ServerMovingTestsWithNestedComputes): compute_driver = 'fake.MediumFakeDriverWithNumaLikeProviderTree'"," source_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertIn(dest_rp_uuid, allocations) allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertIn(source_rp_uuid, allocations) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertIn(source_rp_uuid, allocations) usage = self._get_provider_usages(target_uuid) self.assertEqual(empty_usage, usage) usage = self._get_provider_usages(target_uuid) self.assertEqual(empty_usage, usage)",197,64
openstack%2Fopenstack-ansible-os_swift~master~I08c6206dd83551e50a5b594cf428ffb8b2e8ebd8,openstack/openstack-ansible-os_swift,master,I08c6206dd83551e50a5b594cf428ffb8b2e8ebd8,vars: Do not pull devel packages on distro installations,MERGED,2018-10-23 13:59:56.000000000,2018-10-25 23:59:22.000000000,2018-10-25 23:59:21.000000000,"[{'_account_id': 6816}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-23 13:59:56.000000000', 'files': ['vars/source_install.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/b4a047791d96512a5cd49e87d3e043c7eb3a0cf2', 'message': ""vars: Do not pull devel packages on distro installations\n\nThe devel packages are only needed to build the pip packages so we don't\nneed them when we install packages straight from the distro repos.\n\nChange-Id: I08c6206dd83551e50a5b594cf428ffb8b2e8ebd8\nDepends-On: https://review.openstack.org/612673\nDepends-On: https://review.openstack.org/612661\n""}]",0,612709,b4a047791d96512a5cd49e87d3e043c7eb3a0cf2,18,4,1,23163,,,0,"vars: Do not pull devel packages on distro installations

The devel packages are only needed to build the pip packages so we don't
need them when we install packages straight from the distro repos.

Change-Id: I08c6206dd83551e50a5b594cf428ffb8b2e8ebd8
Depends-On: https://review.openstack.org/612673
Depends-On: https://review.openstack.org/612661
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/09/612709/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",4,b4a047791d96512a5cd49e87d3e043c7eb3a0cf2,osa-add-leap-150,swift_devel_distro_packages: - gcc - liberasurecode1 - liberasurecode-devel - libffi-devel - python-devel - libopenssl-devel , - gcc - liberasurecode1 - liberasurecode-devel - libffi-devel - python-devel - libopenssl-devel,22,16
openstack%2Fswift~master~I433b4b41844f83c872edb79dfa3a710ab7144bb4,openstack/swift,master,I433b4b41844f83c872edb79dfa3a710ab7144bb4,gatekeeper: Just loop through response headers once,NEW,2018-10-25 17:50:26.000000000,2018-10-25 23:58:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-25 17:50:26.000000000', 'files': ['swift/common/middleware/gatekeeper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ad5923654ecc95283107c6822631590e798ecb3', 'message': 'gatekeeper: Just loop through response headers once\n\nPreviously we would go through them as many as three times.\n\nChange-Id: I433b4b41844f83c872edb79dfa3a710ab7144bb4\n'}]",0,613391,4ad5923654ecc95283107c6822631590e798ecb3,2,1,1,15343,,,0,"gatekeeper: Just loop through response headers once

Previously we would go through them as many as three times.

Change-Id: I433b4b41844f83c872edb79dfa3a710ab7144bb4
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/613391/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/gatekeeper.py'],1,4ad5923654ecc95283107c6822631590e798ecb3,," removed = [] headers_for_client = [] for header, value in response_headers: if self.outbound_condition(header): removed.append((header, value)) continue header_lower = header.lower() if header_lower == 'location' and env.get( 'swift.leave_relative_location'): value = new_path headers_for_client.append((header, value)) return start_response(status, headers_for_client, exc_info)"," def fixed_response_headers(): def relative_path(value): return new_path if not env.get('swift.leave_relative_location'): return response_headers else: return [ (k, v) if k.lower() != 'location' else (k, relative_path(v)) for (k, v) in response_headers ] response_headers = fixed_response_headers() removed = [(header, value) for header, value in response_headers if self.outbound_condition(header)] new_headers = [ (header, value) for header, value in response_headers if not self.outbound_condition(header)] return start_response(status, new_headers, exc_info) return start_response(status, response_headers, exc_info)",13,19
openstack%2Fzun-ui~master~Iac2f5fc13521a996d89ef6f5d631db7f0d1192a8,openstack/zun-ui,master,Iac2f5fc13521a996d89ef6f5d631db7f0d1192a8,Imported Translations from Zanata,MERGED,2018-10-25 07:06:48.000000000,2018-10-25 23:54:20.000000000,2018-10-25 23:54:20.000000000,"[{'_account_id': 8264}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 16352}, {'_account_id': 17172}, {'_account_id': 21428}, {'_account_id': 21785}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23055}, {'_account_id': 23365}, {'_account_id': 23829}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-10-25 07:06:48.000000000', 'files': ['zun_ui/locale/de/LC_MESSAGES/djangojs.po', 'zun_ui/locale/ja/LC_MESSAGES/djangojs.po', 'zun_ui/locale/id/LC_MESSAGES/djangojs.po', 'zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'zun_ui/locale/en_GB/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/7b9b3f2d5ce94b4d19bc7323de342afa6a8bb930', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iac2f5fc13521a996d89ef6f5d631db7f0d1192a8\n'}]",0,613220,7b9b3f2d5ce94b4d19bc7323de342afa6a8bb930,6,15,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iac2f5fc13521a996d89ef6f5d631db7f0d1192a8
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/20/613220/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/locale/de/LC_MESSAGES/djangojs.po', 'zun_ui/locale/ja/LC_MESSAGES/djangojs.po', 'zun_ui/locale/id/LC_MESSAGES/djangojs.po', 'zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'zun_ui/locale/en_GB/LC_MESSAGES/djangojs.po']",5,7b9b3f2d5ce94b4d19bc7323de342afa6a8bb930,zanata/translations,"""POT-Creation-Date: 2018-10-25 02:05+0000\n""""PO-Revision-Date: 2018-10-25 02:05+0000\n""#, fuzzymsgid_plural ""Delete Images"" msgstr[0] ""Delete Image"" msgstr[1] """"","""POT-Creation-Date: 2018-06-22 07:51+0000\n""""PO-Revision-Date: 2018-06-25 12:54+0000\n""msgstr ""Delete Image"" #, python-format msgid ""Delete Image %s"" msgstr ""Delete Image %s""msgid ""Select host to remove the image from."" msgstr ""Select host to remove the image from."" msgid ""Unable to delete the Image."" msgstr ""Unable to delete the Image."" ",28,66
openstack%2Ftripleo-heat-templates~master~Ife3c4600f5bd70490a68059eb27c5100743a5298,openstack/tripleo-heat-templates,master,Ife3c4600f5bd70490a68059eb27c5100743a5298,Allow standalone to manage selinux,MERGED,2018-10-15 14:48:51.000000000,2018-10-25 23:35:49.000000000,2018-10-22 21:31:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-15 14:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/147fa8b6daa56ef555b9179be6863a573db1eb1d', 'message': 'Allow standalone to manage selinux\n\nIn some cases we may need to disable selinux (like in CI). The role\nneeds the SELinux service so that the management can be done during the\ndeployment.\n\nChange-Id: Ife3c4600f5bd70490a68059eb27c5100743a5298\nCloses-Bug: #1797910\n'}, {'number': 2, 'created': '2018-10-15 20:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea4a7873ace0af915e206be3c862dbfdc59e294a', 'message': 'Allow standalone to manage selinux\n\nIn some cases we may need to disable selinux (like in CI). The role\nneeds the SELinux service so that the management can be done during the\ndeployment.\n\nChange-Id: Ife3c4600f5bd70490a68059eb27c5100743a5298\nCloses-Bug: #1797910\n'}, {'number': 3, 'created': '2018-10-17 08:43:49.000000000', 'files': ['releasenotes/notes/standalone-selinux-configuration-39a0c7285d8e4c66.yaml', 'sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'environments/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7451fc44de73ff4b609344fba3c2393746e9cdfb', 'message': 'Allow standalone to manage selinux\n\nIn some cases we may need to disable selinux (like in CI). The role\nneeds the SELinux service so that the management can be done during the\ndeployment.\n\nChange-Id: Ife3c4600f5bd70490a68059eb27c5100743a5298\nCloses-Bug: #1797910\n'}]",2,610596,7451fc44de73ff4b609344fba3c2393746e9cdfb,34,10,3,14985,,,0,"Allow standalone to manage selinux

In some cases we may need to disable selinux (like in CI). The role
needs the SELinux service so that the management can be done during the
deployment.

Change-Id: Ife3c4600f5bd70490a68059eb27c5100743a5298
Closes-Bug: #1797910
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/610596/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/standalone-selinux-configuration-39a0c7285d8e4c66.yaml', 'roles/Standalone.yaml']",2,147fa8b6daa56ef555b9179be6863a573db1eb1d,bug/1797910, - OS::TripleO::Services::SELinux,,5,0
openstack%2Fpython-tripleoclient~master~I683cb03ae10f047946a0c1bc7f34344ee944a8f7,openstack/python-tripleoclient,master,I683cb03ae10f047946a0c1bc7f34344ee944a8f7,Stop using deprecated docker.yaml,MERGED,2018-10-19 08:32:24.000000000,2018-10-25 23:07:47.000000000,2018-10-25 23:07:47.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-19 08:32:24.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24255000c61537dbde5c0b2953770b3b493a5303', 'message': 'Stop using deprecated docker.yaml\n\nThe docker.yaml env file is being deprecated in change\nI6106e223d9c1e399d396d745ad28274107074b06 so we can stop using it. All\ndeployments are now containerized and the docker.yaml entries should\nbe part of the default resource registry.\n\nChange-Id: I683cb03ae10f047946a0c1bc7f34344ee944a8f7\n'}]",0,611805,24255000c61537dbde5c0b2953770b3b493a5303,12,10,1,8042,,,0,"Stop using deprecated docker.yaml

The docker.yaml env file is being deprecated in change
I6106e223d9c1e399d396d745ad28274107074b06 so we can stop using it. All
deployments are now containerized and the docker.yaml entries should
be part of the default resource registry.

Change-Id: I683cb03ae10f047946a0c1bc7f34344ee944a8f7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/611805/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/test_container_image.py']",3,24255000c61537dbde5c0b2953770b3b493a5303,deprecate-docker-yaml," 'environment/docker-ha.yaml', pmef.assert_called_once_with(['environment/docker-ha.yaml'],"," 'environment/docker.yaml', pmef.assert_called_once_with(['environment/docker.yaml'],",2,24
openstack%2Fpuppet-nova~master~If1d675cec6fe64e8a812fb638078b0ab1c66b5de,openstack/puppet-nova,master,If1d675cec6fe64e8a812fb638078b0ab1c66b5de,Fixup functions for 5.5.7+,MERGED,2018-10-24 18:29:12.000000000,2018-10-25 23:05:41.000000000,2018-10-25 22:03:20.000000000,"[{'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 18:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2b79ce016250e7c6c7c967490cc3fb2baf722298', 'message': ""Fixup functions for 5.5.7+\n\nRecent changes to Puppet (5.5.7+) has broken some of the legacy function\nitems we were doing in puppet-nova. We'll likely need to update all the\nfunctions to the new syntax but for now this change is to address\ncurrent issues.\n\nChange-Id: If1d675cec6fe64e8a812fb638078b0ab1c66b5de\nCloses-Bug: #1799757\n""}, {'number': 2, 'created': '2018-10-25 14:21:26.000000000', 'files': ['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3d877926f09d9c0c0f331025256c4b55214c1269', 'message': ""Fixup functions for 5.5.7+\n\nRecent changes to Puppet (5.5.7+) has broken some of the legacy function\nitems we were doing in puppet-nova. We'll likely need to update all the\nfunctions to the new syntax but for now this change is to address\ncurrent issues.\n\nChange-Id: If1d675cec6fe64e8a812fb638078b0ab1c66b5de\nCloses-Bug: #1799757\n""}]",0,613138,3d877926f09d9c0c0f331025256c4b55214c1269,16,4,2,14985,,,0,"Fixup functions for 5.5.7+

Recent changes to Puppet (5.5.7+) has broken some of the legacy function
items we were doing in puppet-nova. We'll likely need to update all the
functions to the new syntax but for now this change is to address
current issues.

Change-Id: If1d675cec6fe64e8a812fb638078b0ab1c66b5de
Closes-Bug: #1799757
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/38/613138/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_migration_libvirt_spec.rb']",2,2b79ce016250e7c6c7c967490cc3fb2baf722298,bug/1799757," 'function generate($a, $b) { return ""0000-111-111"" } include nova"," generate = {} before(:each) { Puppet::Parser::Functions.newfunction(:generate, :type => :rvalue) { |args| generate.call() } generate.stubs(:call).returns('0000-111-111') } 'include nova",3,19
openstack%2Fmagnum~master~I015af15dccd5fe622137c1f5fe042d3d29cc9a47,openstack/magnum,master,I015af15dccd5fe622137c1f5fe042d3d29cc9a47,Fix the heat-container-agent docker image,MERGED,2018-07-20 03:54:51.000000000,2018-10-25 22:36:39.000000000,2018-07-23 07:21:31.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28411}]","[{'number': 1, 'created': '2018-07-20 03:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7660a160b549ebee29692bb155b66fc59f17d38f', 'message': 'Fix the heat-config-notify for missing bracket\n\nChange-Id: I015af15dccd5fe622137c1f5fe042d3d29cc9a47\n'}, {'number': 2, 'created': '2018-07-20 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e01035b8cc6799a29aa5d37596d6a1529e94a507', 'message': 'Fix the heat-config-notify for missing bracket\n\nThis patch is related to the multi region issue since unfortunately a\nregression issue was introduced by https://review.openstack.org/#/c/579043.\nSimply fix it by adding the missing bracket.\n\nTask: 22627\nStory: 2002768\n\nChange-Id: I015af15dccd5fe622137c1f5fe042d3d29cc9a47\n'}, {'number': 3, 'created': '2018-07-20 20:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1932febab8dbf91dd10bbcecc1d5d02e5c41c8e1', 'message': ""Fix the heat-container-agent docker image\n\nThere are 2 fixes included in this patch:\n\n1. A regression issue introduced by the multi region patch,\n   see https://review.openstack.org/#/c/579043 for more details.\n   There is a missing bracket.\n2. Issues in the Dockerfile of heat-container-agent. Some depedencies\n   are renamed or we don't really need them. And because of the\n   multi region bug, we need a new version for os-collect-config. So\n   switching to pip from dnf is much eaiser than building a new RPM\n   package for those python libs we care about. To be more clear,\n   for the multi region issue, we need os-collect-config 9.1.0, and\n   with dnf you can only find 5.0.0.\n\nTask: 23099\nStory: 2002768\n\nChange-Id: I015af15dccd5fe622137c1f5fe042d3d29cc9a47\n""}, {'number': 4, 'created': '2018-07-23 02:43:26.000000000', 'files': ['magnum/drivers/common/image/heat-container-agent/Dockerfile', 'magnum/drivers/common/image/heat-container-agent/scripts/heat-config-notify'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4751d328b171a71c4cde8e49bc53b8804b113349', 'message': ""Fix the heat-container-agent docker image\n\nThere are 2 fixes included in this patch:\n\n1. A regression issue introduced by the multi region patch,\n   see https://review.openstack.org/#/c/579043 for more details.\n   There is a missing bracket.\n2. Issues in the Dockerfile of heat-container-agent. Some depedencies\n   are renamed or we don't really need them. And because of the\n   multi region bug, we need a new version for os-collect-config. So\n   switching to pip from dnf is much eaiser than building a new RPM\n   package for those python libs we care about. To be more clear,\n   for the multi region issue, we need os-collect-config 9.1.0, and\n   with dnf you can only find 5.0.0.\n\nTask: 23099\nStory: 2002768\n\nChange-Id: I015af15dccd5fe622137c1f5fe042d3d29cc9a47\n""}]",4,584215,4751d328b171a71c4cde8e49bc53b8804b113349,27,5,4,6484,,,0,"Fix the heat-container-agent docker image

There are 2 fixes included in this patch:

1. A regression issue introduced by the multi region patch,
   see https://review.openstack.org/#/c/579043 for more details.
   There is a missing bracket.
2. Issues in the Dockerfile of heat-container-agent. Some depedencies
   are renamed or we don't really need them. And because of the
   multi region bug, we need a new version for os-collect-config. So
   switching to pip from dnf is much eaiser than building a new RPM
   package for those python libs we care about. To be more clear,
   for the multi region issue, we need os-collect-config 9.1.0, and
   with dnf you can only find 5.0.0.

Task: 23099
Story: 2002768

Change-Id: I015af15dccd5fe622137c1f5fe042d3d29cc9a47
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/584215/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/image/heat-container-agent/scripts/heat-config-notify'],1,7660a160b549ebee29692bb155b66fc59f17d38f,fix-heat-container-agent, region_name=iv.get('deploy_region_name')), region_name=iv.get('deploy_region_name'),1,1
openstack%2Fmagnum~stable%2Fqueens~I88016482e887ce0b0fa309199abd27cf0e777e2c,openstack/magnum,stable/queens,I88016482e887ce0b0fa309199abd27cf0e777e2c,Pass in `region_name` to get correct heat endpoint,MERGED,2018-10-21 23:10:20.000000000,2018-10-25 22:35:27.000000000,2018-10-25 22:35:27.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-10-21 23:10:20.000000000', 'files': ['magnum/drivers/common/image/heat-container-agent/scripts/write-os-apply-config-templates.sh', 'magnum/drivers/common/image/heat-container-agent/scripts/heat-config-notify'], 'web_link': 'https://opendev.org/openstack/magnum/commit/62b0f2236fb0b36faa3e7d9d946387ed85ca3265', 'message': 'Pass in `region_name` to get correct heat endpoint\n\nIn a multi regions openstack cloud, when user create a cluster in the\none region, heat-container-agent may try to get stack data from the\nother regions and will definitely fail because currently\nheat-container-agent doesn\'t pass ""region_name"" when searching for\nHeat endpoints. This patch fixes the issue by passing the region\nname.\n\nPlease refer the fix Iec6f3606c9fdf8474f393b0990356f34d38bcf75 on\nHeat side.\n\nTask: 22627\nStory: 2002768\n\nChange-Id: I88016482e887ce0b0fa309199abd27cf0e777e2c\n(cherry picked from commit 2521afa3dc6acbb6575d31e68b4bc8fa0ac33eff)\n'}]",1,612216,62b0f2236fb0b36faa3e7d9d946387ed85ca3265,13,4,1,1004,,,0,"Pass in `region_name` to get correct heat endpoint

In a multi regions openstack cloud, when user create a cluster in the
one region, heat-container-agent may try to get stack data from the
other regions and will definitely fail because currently
heat-container-agent doesn't pass ""region_name"" when searching for
Heat endpoints. This patch fixes the issue by passing the region
name.

Please refer the fix Iec6f3606c9fdf8474f393b0990356f34d38bcf75 on
Heat side.

Task: 22627
Story: 2002768

Change-Id: I88016482e887ce0b0fa309199abd27cf0e777e2c
(cherry picked from commit 2521afa3dc6acbb6575d31e68b4bc8fa0ac33eff)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/612216/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/image/heat-container-agent/scripts/write-os-apply-config-templates.sh', 'magnum/drivers/common/image/heat-container-agent/scripts/heat-config-notify']",2,62b0f2236fb0b36faa3e7d9d946387ed85ca3265,story/2002768," service_type='messaging', endpoint_type='publicURL', region_name=iv.get('deploy_region_name') service_type='orchestration', endpoint_type='publicURL', region_name=iv.get('deploy_region_name'))"," service_type='messaging', endpoint_type='publicURL') service_type='orchestration', endpoint_type='publicURL')",6,2
openstack%2Freleases~master~I6a58e52e4ec3c2ba9d8614366f31343f6ea92893,openstack/releases,master,I6a58e52e4ec3c2ba9d8614366f31343f6ea92893,Release Monasca,MERGED,2018-10-25 12:16:36.000000000,2018-10-25 22:33:34.000000000,2018-10-25 22:33:34.000000000,"[{'_account_id': 11904}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 12:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/039eb5bc382dd1d62237136d742b35376c8b0d8c', 'message': 'Release Monasca\n\n* monasca-agent         2.9.0\n* monasca-api           2.8.0\n* monasca-ceilometer    1.9.0\n* monasca-events-api    0.2.0\n* monasca-log-api       2.8.0\n* monasca-notification  1.15.0\n* monasca-persister     1.13.0\n* monasca-transform     0.17.0\n\nChange-Id: I6a58e52e4ec3c2ba9d8614366f31343f6ea92893\n'}, {'number': 2, 'created': '2018-10-25 13:42:12.000000000', 'files': ['deliverables/stein/monasca-events-api.yaml', 'deliverables/stein/monasca-log-api.yaml', 'deliverables/stein/monasca-api.yaml', 'deliverables/stein/monasca-persister.yaml', 'deliverables/stein/monasca-ceilometer.yaml', 'deliverables/stein/monasca-notification.yaml', 'deliverables/stein/monasca-transform.yaml', 'deliverables/stein/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b39de4450894880635386fced9fee5443c917f7e', 'message': 'Release Monasca\n\n* monasca-agent         2.9.0\n* monasca-api           2.8.0\n* monasca-ceilometer    1.9.0\n* monasca-events-api    0.2.0\n* monasca-log-api       2.8.0\n* monasca-notification  1.15.0\n* monasca-persister     1.13.0\n* monasca-transform     0.17.0\n\nChange-Id: I6a58e52e4ec3c2ba9d8614366f31343f6ea92893\n'}]",0,613302,b39de4450894880635386fced9fee5443c917f7e,10,3,2,16222,,,0,"Release Monasca

* monasca-agent         2.9.0
* monasca-api           2.8.0
* monasca-ceilometer    1.9.0
* monasca-events-api    0.2.0
* monasca-log-api       2.8.0
* monasca-notification  1.15.0
* monasca-persister     1.13.0
* monasca-transform     0.17.0

Change-Id: I6a58e52e4ec3c2ba9d8614366f31343f6ea92893
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/613302/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/monasca-events-api.yaml', 'deliverables/stein/monasca-log-api.yaml', 'deliverables/stein/monasca-api.yaml', 'deliverables/stein/monasca-persister.yaml', 'deliverables/stein/monasca-ceilometer.yaml', 'deliverables/stein/monasca-notification.yaml', 'deliverables/stein/monasca-transform.yaml', 'deliverables/stein/monasca-agent.yaml']",8,039eb5bc382dd1d62237136d742b35376c8b0d8c,,releases: - projects: - hash: 5756ed9b641de8e7bdeca57176e46f4d4c297315 repo: openstack/monasca-agent version: 2.9.0,,46,0
openstack%2Fproject-config~master~I9d62beb006086315b98c56055b2dda1a011d423d,openstack/project-config,master,I9d62beb006086315b98c56055b2dda1a011d423d,Add release tag and remove python jobs for Apmec,MERGED,2018-10-24 09:31:52.000000000,2018-10-25 22:27:41.000000000,2018-10-25 22:27:41.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 20560}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/efa55a202f5da33fffad7f945eae65fdf5c0ffc1', 'message': 'Add release tag for Apmec project\n\nApmec is not official project yet, however we are planning to do that.\nThis patch allow Apmec to be released directly\n\nChange-Id: I9d62beb006086315b98c56055b2dda1a011d423d\n'}, {'number': 2, 'created': '2018-10-24 13:15:47.000000000', 'files': ['gerrit/acls/openstack/apmec.config', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/74678d2e5493d9f23e64babf6219c440f5749151', 'message': 'Add release tag and remove python jobs for Apmec\n\nApmec is not official project yet, however we are planning to do that.\nThis patch allows Apmec to be released directly. In addition, since\nApmec had zuul jobs locally, remove them from project-config\n\nChange-Id: I9d62beb006086315b98c56055b2dda1a011d423d\n'}]",0,612962,74678d2e5493d9f23e64babf6219c440f5749151,15,5,2,20560,,,0,"Add release tag and remove python jobs for Apmec

Apmec is not official project yet, however we are planning to do that.
This patch allows Apmec to be released directly. In addition, since
Apmec had zuul jobs locally, remove them from project-config

Change-Id: I9d62beb006086315b98c56055b2dda1a011d423d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/612962/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/apmec.config'],1,efa55a202f5da33fffad7f945eae65fdf5c0ffc1,,"[access ""refs/tags/*""] pushSignedTag = group apmec-release ",,3,0
openstack%2Fproject-config~master~Ib00cc651f23b7d4fa83415caa4372e5424ac724e,openstack/project-config,master,Ib00cc651f23b7d4fa83415caa4372e5424ac724e,New Airship project - Utils,MERGED,2018-10-23 22:20:02.000000000,2018-10-25 22:25:32.000000000,2018-10-25 22:25:32.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 22:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/10601c9943bf58f116181d6758a24539bcc461d6', 'message': 'New Airship project - Utils\n\nAirship is a collection of components that provide a declarative\ninterface for deploying bare metal Kubernetes at scale,\nfacilitating integrated deployment of OpenStack on Kubernetes.\n\nThe Airship Utils project will hold dockerfiles and Helm charts for\noptional Airship components.\n\nChange-Id: Ib00cc651f23b7d4fa83415caa4372e5424ac724e\n'}, {'number': 2, 'created': '2018-10-24 15:50:28.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea577626973d24391ec56eea511d1cfbad5a8f0e', 'message': 'New Airship project - Utils\n\nAirship is a collection of components that provide a declarative\ninterface for deploying bare metal Kubernetes at scale,\nfacilitating integrated deployment of OpenStack on Kubernetes.\n\nThe Airship Utils project will hold dockerfiles and Helm charts for\noptional Airship components.\n\nChange-Id: Ib00cc651f23b7d4fa83415caa4372e5424ac724e\n'}]",2,612820,ea577626973d24391ec56eea511d1cfbad5a8f0e,13,4,2,21813,,,0,"New Airship project - Utils

Airship is a collection of components that provide a declarative
interface for deploying bare metal Kubernetes at scale,
facilitating integrated deployment of OpenStack on Kubernetes.

The Airship Utils project will hold dockerfiles and Helm charts for
optional Airship components.

Change-Id: Ib00cc651f23b7d4fa83415caa4372e5424ac724e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/612820/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,10601c9943bf58f116181d6758a24539bcc461d6,, - openstack/airship-utils,,10,0
openstack%2Fopenstack-ansible-os_cinder~master~I10e30da2ef1fa35e8f55be3f2248e7c538bd3835,openstack/openstack-ansible-os_cinder,master,I10e30da2ef1fa35e8f55be3f2248e7c538bd3835,Install libpython2.7,ABANDONED,2018-08-10 01:39:14.000000000,2018-10-25 22:17:54.000000000,,"[{'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-10 01:39:14.000000000', 'files': ['vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/977b3f326577a41967d6a1eb2a226f777a17af95', 'message': 'Install libpython2.7\n\nOne of the pip packages we install, uwsgi, requires libpython2.7\nto be installed. It is normally pulled in as a dependency by either\npip_install or galera_client as an apt-recommends package. When\nrecommends are disabled or reduced package lists are used, uwsgi\nfails to start on the cinder-api container because libpython2.7.so.1.0\nis missing.\n\nExample error:\nAug  8 17:30:36 aio1-cinder-api-container-f74e98f2 uwsgi[3188]:\n/openstack/venvs/cinder-17.0.8/bin/uwsgi: error while loading shared\nlibraries: libpython2.7.so.1.0: cannot open shared object file: No\nsuch file or directory\n\nChange-Id: I10e30da2ef1fa35e8f55be3f2248e7c538bd3835\n'}]",0,590596,977b3f326577a41967d6a1eb2a226f777a17af95,5,2,1,17799,,,0,"Install libpython2.7

One of the pip packages we install, uwsgi, requires libpython2.7
to be installed. It is normally pulled in as a dependency by either
pip_install or galera_client as an apt-recommends package. When
recommends are disabled or reduced package lists are used, uwsgi
fails to start on the cinder-api container because libpython2.7.so.1.0
is missing.

Example error:
Aug  8 17:30:36 aio1-cinder-api-container-f74e98f2 uwsgi[3188]:
/openstack/venvs/cinder-17.0.8/bin/uwsgi: error while loading shared
libraries: libpython2.7.so.1.0: cannot open shared object file: No
such file or directory

Change-Id: I10e30da2ef1fa35e8f55be3f2248e7c538bd3835
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/96/590596/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu.yml'],1,977b3f326577a41967d6a1eb2a226f777a17af95,libpython, - libpython2.7,,1,0
openstack%2Frequirements~master~I89e6989a8072dff68781c9bc055f03ed427d329c,openstack/requirements,master,I89e6989a8072dff68781c9bc055f03ed427d329c,update constraint for os-traits to new release 0.10.0,MERGED,2018-10-24 17:51:47.000000000,2018-10-25 21:51:33.000000000,2018-10-25 21:51:33.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:51:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fdca7787222e609da46fc6f8cc86f6cf4e42861', 'message': 'update constraint for os-traits to new release 0.10.0\n\nChange-Id: I89e6989a8072dff68781c9bc055f03ed427d329c\nmeta:version: 0.10.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ib75ca366999dbe3bc527d8fae670a674282a7b67\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613124,1fdca7787222e609da46fc6f8cc86f6cf4e42861,16,4,1,11131,,,0,"update constraint for os-traits to new release 0.10.0

Change-Id: I89e6989a8072dff68781c9bc055f03ed427d329c
meta:version: 0.10.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ib75ca366999dbe3bc527d8fae670a674282a7b67
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/613124/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1fdca7787222e609da46fc6f8cc86f6cf4e42861,new-release,os-traits===0.10.0,os-traits===0.9.0,1,1
openstack%2Freleases~master~I7310d5a8e4d740c16480ffa5332ab69572525a89,openstack/releases,master,I7310d5a8e4d740c16480ffa5332ab69572525a89,Release 3.11.0 of keystoneauth,MERGED,2018-10-25 15:38:40.000000000,2018-10-25 21:47:16.000000000,2018-10-25 21:47:15.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 15:38:40.000000000', 'files': ['deliverables/stein/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc778bd5619ef439abc35d23e32f0cd56a41deeb', 'message': 'Release 3.11.0 of keystoneauth\n\nChange-Id: I7310d5a8e4d740c16480ffa5332ab69572525a89\n'}]",0,613364,bc778bd5619ef439abc35d23e32f0cd56a41deeb,8,4,1,2,,,0,"Release 3.11.0 of keystoneauth

Change-Id: I7310d5a8e4d740c16480ffa5332ab69572525a89
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/613364/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/keystoneauth.yaml'],1,bc778bd5619ef439abc35d23e32f0cd56a41deeb,, - projects: - hash: 72288d3b18e66da3e04c35f60ab43c916b92c59a repo: openstack/keystoneauth tarball-base: keystoneauth1 version: 3.11.1,,5,0
openstack%2Foctavia-dashboard~master~Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb,openstack/octavia-dashboard,master,Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb,Support the X-Forwarded-Proto insertion header,MERGED,2018-10-09 12:30:53.000000000,2018-10-25 21:47:14.000000000,2018-10-25 21:47:14.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 19930}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 12:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/08af06d34df493f83c0312c28a1e2ce2da5d61a5', 'message': 'Support the X-Forwarded-Proto insertion header\n\nThis is a follow up of Id017bb277eebae98f0441663e41d07b40b6e3e38,\nwhich added support for the X-Forwarded-Proto insertion header on\nlisteners.\n\nChange-Id: Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb\n'}, {'number': 2, 'created': '2018-10-24 10:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d1d110b2202bae3bc321ee4cfbae85e9002b185a', 'message': 'Support the X-Forwarded-Proto insertion header\n\nThis is a follow up of Id017bb277eebae98f0441663e41d07b40b6e3e38,\nwhich added support for the X-Forwarded-Proto insertion header on\nlisteners.\n\nChange-Id: Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb\n'}, {'number': 3, 'created': '2018-10-24 12:07:58.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-x-forwarded-proto-e30b52a3f853ed62.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/90aa0f41f4e8462bed0b8ea83cfebe371f068424', 'message': 'Support the X-Forwarded-Proto insertion header\n\nThis is a follow up of Id017bb277eebae98f0441663e41d07b40b6e3e38,\nwhich added support for the X-Forwarded-Proto insertion header on\nlisteners.\n\nChange-Id: Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb\nStory: 2004165\nTask: 27642\n'}]",0,608934,90aa0f41f4e8462bed0b8ea83cfebe371f068424,13,4,3,2245,,,0,"Support the X-Forwarded-Proto insertion header

This is a follow up of Id017bb277eebae98f0441663e41d07b40b6e3e38,
which added support for the X-Forwarded-Proto insertion header on
listeners.

Change-Id: Ifdf73015e12fea1ddac2c6168f34f1c452a9a9cb
Story: 2004165
Task: 27642
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/34/608934/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-x-forwarded-proto-e30b52a3f853ed62.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js']",4,08af06d34df493f83c0312c28a1e2ce2da5d61a5,x-forwarded-proto," 'X-Forwarded-Port': 'True', 'X-Forwarded-Proto': 'True' describe('Model visible resources (edit listener, no x forwared proto)', function() { beforeEach(function() { delete listenerResources.listener.insert_headers['X-Forwarded-Proto']; delete listenerResources.pool; model.initialize('listener', '1234'); scope.$apply(); }); it('should only show listener details', function() { expect(model.context.resource).toEqual('listener'); }); }); ", 'X-Forwarded-Port': 'True',38,3
openstack%2Fmagnum~stable%2Frocky~Ia2ce59841d823ba02a65224088e5af1a8c9610b1,openstack/magnum,stable/rocky,Ia2ce59841d823ba02a65224088e5af1a8c9610b1,Make master node schedulable with taints,MERGED,2018-10-23 19:27:22.000000000,2018-10-25 21:32:32.000000000,2018-10-25 21:32:32.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28502}]","[{'number': 1, 'created': '2018-10-23 19:27:22.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/90a7c8c0ce3ecc5ebdf280814030def139535e30', 'message': ""Make master node schedulable with taints\n\n--register-with-taints take no effect when --register-schedulable=false\nconfigured. It's better to drop --register-schedulable and\nleave --register-with-taints to make master schedulable\n\nadd --pod-infra-container-image=CONTAINER_INFRA_PREFIX\nfor kubelet on master nodes.\n\nChange-Id: Ia2ce59841d823ba02a65224088e5af1a8c9610b1\n(cherry picked from commit 05f0cddc46beb55e3e05938ad18d5aa596ee5713)\n""}]",0,612790,90a7c8c0ce3ecc5ebdf280814030def139535e30,11,4,1,20498,,,0,"Make master node schedulable with taints

--register-with-taints take no effect when --register-schedulable=false
configured. It's better to drop --register-schedulable and
leave --register-with-taints to make master schedulable

add --pod-infra-container-image=CONTAINER_INFRA_PREFIX
for kubelet on master nodes.

Change-Id: Ia2ce59841d823ba02a65224088e5af1a8c9610b1
(cherry picked from commit 05f0cddc46beb55e3e05938ad18d5aa596ee5713)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/90/612790/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'],1,90a7c8c0ce3ecc5ebdf280814030def139535e30,,"KUBELET_ARGS=""--register-node=true --pod-manifest-path=/etc/kubernetes/manifests --cadvisor-port=0 --hostname-override=${HOSTNAME_OVERRIDE}"" KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.0""","KUBELET_ARGS=""--register-node=true --register-schedulable=false --pod-manifest-path=/etc/kubernetes/manifests --cadvisor-port=0 --hostname-override=${HOSTNAME_OVERRIDE}""",2,1
openstack%2Fplacement~master~Ib98e370d6863cc8c679a07d04f053ba5a3723c43,openstack/placement,master,Ib98e370d6863cc8c679a07d04f053ba5a3723c43,De-nova-ify doc/source/index.rst,MERGED,2018-10-25 05:46:02.000000000,2018-10-25 21:09:09.000000000,2018-10-25 21:09:09.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 05:46:02.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/caef44bf2566f6b319ae032fac0fad1f04954870', 'message': ""De-nova-ify doc/source/index.rst\n\nSome of the descriptions in the file ``doc/source/index.rst`` assume\nplacement still depends on nova, which isn't true, so this patch\nupdates it.\n\nThis patch also adds a upgrade note for Stein (19.0.0) in that file.\n\nChange-Id: Ib98e370d6863cc8c679a07d04f053ba5a3723c43\n""}]",1,613200,caef44bf2566f6b319ae032fac0fad1f04954870,11,3,1,25625,,,0,"De-nova-ify doc/source/index.rst

Some of the descriptions in the file ``doc/source/index.rst`` assume
placement still depends on nova, which isn't true, so this patch
updates it.

This patch also adds a upgrade note for Stein (19.0.0) in that file.

Change-Id: Ib98e370d6863cc8c679a07d04f053ba5a3723c43
",git fetch https://review.opendev.org/openstack/placement refs/changes/00/613200/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,caef44bf2566f6b319ae032fac0fad1f04954870,clean-docs,"The placement API service was introduced in the 14.0.0 Newton release within the nova repository and extracted to the placement repository in the 19.0.0 Stein release. This is a REST API stack and data model used to track resource provider inventories and usages, along with different classes of resources. For example, a resource provider can be a compute node, a shared storage pool, or an IP allocation pool. The placement service tracks the inventory and usage of each provider. For example, an instance created on a compute node may be a consumer of resources such as RAM and CPU from a compute node resource provider, disk from an external shared storage pool resource provider and IP addresses from an external IP pool resource provider... note:: Before the Stein release the placement code was in Nova alongside the compute REST API code (nova-api). Make sure that the release version of this document matches the release version you want to deploy.Placement provides a ``placement-api`` WSGI script for running the service with``placement-api``, as a standard WSGI script, provides a module levelconfiguration (``placement.conf``) of the placement application.such as the database connection URL from ``/etc/placement/placement.conf``. The directory the configuration file will be found in can be changed by settingIn the Newton release, where the placement code is in Nova, the nova-api database is the only deployment option for the placement API service and the resources it manages. After upgrading the nova-api service for Newton and running the ``nova-manage api_db sync`` command the placement tables will be created.In the Stein release, where the placement code is extracted, we have scripts for the data migration from the nova-api database to the placement database. You can find them in the extracted placement repository, ``/tools/mysql-migrate-db.sh`` and ``/tools/postgresql-migrate-db.sh``.The nova-compute service code will begin reporting resource provider inventory and usage information as soon as the placement API service is in place and can respond to requests via the endpoint registered in the service catalog. As a reminder, the `nova-status upgrade check`_ tool can be used to help determine the status of your deployment and how ready it is to perform an upgrade.Stein (19.0.0) ~~~~~~~~~~~~~~ * The placement code is now available from `its own repository`_. * The placement server side settings in ``nova.conf`` can be moved to a separate placement configuration file ``placement.conf``. * The default configuration value of ``[placement]/policy_file`` is changed from ``placement-policy.yaml`` to ``policy.yaml`` .. _`nova-status upgrade check`: https://docs.openstack.org/nova/latest/cli/nova-status.html .. _`its own repository`: https://git.openstack.org/cgit/openstack/placement ","Nova introduced the placement API service in the 14.0.0 Newton release. This is a separate REST API stack and data model used to track resource provider inventories and usages, along with different classes of resources. For example, a resource provider can be a compute node, a shared storage pool, or an IP allocation pool. The placement service tracks the inventory and usage of each provider. For example, an instance created on a compute node may be a consumer of resources such as RAM and CPU from a compute node resource provider, disk from an external shared storage pool resource provider and IP addresses from an external IP pool resource provider.The placement-api service must be deployed at some point after you have upgraded to the 14.0.0 Newton release but before you can upgrade to the 15.0.0 Ocata release. This is so that the resource tracker in the nova-compute service can populate resource provider (compute node) inventory and allocation information which will be used by the nova-scheduler service in Ocata.At this time the placement API code is still in Nova alongside the compute REST API code (nova-api). So once you have upgraded nova-api to Newton you already have the placement API code, you just need to install the service. Nova provides a ``nova-placement-api`` WSGI script for running the service with.. note:: The placement API service is currently developed within Nova but it is designed to be as separate as possible from the existing code so that it can eventually be split into a separate project. ``nova-placement-api``, as a standard WSGI script, provides a module levelconfiguration (``nova.conf``) of the placement application.such as the database connection URL from ``/etc/nova/nova.conf``. The directory the configuration file will be found in can be changed by settingIn the Newton release the Nova **api** database is the only deployment option for the placement API service and the resources it manages. After upgrading the nova-api service for Newton and running the ``nova-manage api_db sync`` command the placement tables will be created... note:: At this time there is no facility for migrating existing placement data from the nova api database to a placement database. There are many ways to do this. Which one is best will depend on the environment.The 14.0.0 Newton nova-compute service code will begin reporting resource provider inventory and usage information as soon as the placement API service is in place and can respond to requests via the endpoint registered in the service catalog... note:: After upgrading nova-compute code to Newton and restarting the service, the nova-compute service will attempt to make a connection to the placement API and if that is not yet available a warning will be logged. The nova-compute service will keep attempting to connect to the placement API, warning periodically on error until it is successful. Keep in mind that Placement is optional in Newton, but required in Ocata, so the placement service should be enabled before upgrading to Ocata. nova.conf on the compute nodes will need to be updated in the ``[placement]`` group for credentials to make requests from nova-compute to the placement-api service. As a reminder, the :nova-doc:`nova-status upgrade check </cli/nova-status>` tool can be used to help determine the status of your deployment and how ready it is to perform an upgrade.",46,51
openstack%2Fgovernance~master~I9f00124ccaea66e1555bbb548386c187165c3cf0,openstack/governance,master,I9f00124ccaea66e1555bbb548386c187165c3cf0,Add cells charm and interfaces,MERGED,2018-10-09 07:42:41.000000000,2018-10-25 20:59:24.000000000,2018-10-25 20:59:24.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 07:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/dd8dacf2289704fcc8b84d866529e3560ed7ff44', 'message': 'Add cells charm and interfaces\n\nAdd new nova-cell-controller charm and associated interfaces.\n\nDepends-On: If73c0d836eea55dc9e64ad9b9cffc6521eb4d928\n\nChange-Id: I9f00124ccaea66e1555bbb548386c187165c3cf0\n'}, {'number': 2, 'created': '2018-10-09 09:16:43.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1773aabb90b1db5f56fe9546f7b058473213fb3f', 'message': 'Add cells charm and interfaces\n\nAdd new nova-cell-controller charm and two associated interfaces.\n\nDepends-On: If73c0d836eea55dc9e64ad9b9cffc6521eb4d928\n\nChange-Id: I9f00124ccaea66e1555bbb548386c187165c3cf0\n'}]",0,608866,1773aabb90b1db5f56fe9546f7b058473213fb3f,21,12,2,12549,,,0,"Add cells charm and interfaces

Add new nova-cell-controller charm and two associated interfaces.

Depends-On: If73c0d836eea55dc9e64ad9b9cffc6521eb4d928

Change-Id: I9f00124ccaea66e1555bbb548386c187165c3cf0
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/608866/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,dd8dacf2289704fcc8b84d866529e3560ed7ff44,new-project, charm-interface-nova-cell: repos: - openstack/charm-interface-nova-cell charm-interface-nova-compute: repos: - openstack/charm-interface-nova-compute charm-nova-cell-controller: repos: - openstack/charm-nova-cell-controller,,9,0
openstack%2Fopenstack-helm~master~I67b69acc26089eff593804fbebcf66ae0ecb04b0,openstack/openstack-helm,master,I67b69acc26089eff593804fbebcf66ae0ecb04b0,Imported Translations from Zanata,MERGED,2018-10-22 06:32:49.000000000,2018-10-25 20:43:29.000000000,2018-10-25 20:43:29.000000000,"[{'_account_id': 6547}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-22 06:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c42c22d75d452277ceacaba88e28232b9c4a37ea', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I67b69acc26089eff593804fbebcf66ae0ecb04b0\n'}, {'number': 2, 'created': '2018-10-24 06:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8197aea0fd2df332f87e342b48631d6cb404521d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I67b69acc26089eff593804fbebcf66ae0ecb04b0\n'}, {'number': 3, 'created': '2018-10-25 06:31:16.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-testing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0aa21b3c1ad85a964916e19d393c43dab61d298', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I67b69acc26089eff593804fbebcf66ae0ecb04b0\n'}]",0,612254,d0aa21b3c1ad85a964916e19d393c43dab61d298,15,6,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I67b69acc26089eff593804fbebcf66ae0ecb04b0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/612254/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-testing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po']",11,c42c22d75d452277ceacaba88e28232b9c4a37ea,zanata/translations,"# Sungjin Kang <gang.sungjin@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-10-21 07:52+0000\n""""PO-Revision-Date: 2018-10-21 06:45+0000\n"" ""Last-Translator: Sungjin Kang <gang.sungjin@gmail.com>\n""""Another place where the DHCP agent is dependent on L2 agent is the """"DHCP 에이전트가 L2 에이전트에 종속된 위치는 L2 에이전트 deamonset에 대한 종속"" ""성입니다:""""different Kubernetes namespace, a ``namespace`` can be provided for each """"합니다. 다른 Kubernetes 네임 스페이스에서 실행중인 서비스에 연결하여 각 "" ""endpoint에 ``namespace`` 를 제공할 수 있습니다.""""auto_bridge_add`. These values should align with :code:`conf.plugins.""""place. Essentially, all external connectivity can be defined centrally.""","""POT-Creation-Date: 2018-09-29 05:49+0000\n""""PO-Revision-Date: 2018-09-26 05:52+0000\n"" ""Last-Translator: Soonyeul Park <ardentpark@gmail.com>\n""""Another place where the DHCP agent is dependent of L2 agent is the """"DHCP 에이전트가 L2 에이전트에 의존되는 또 다른 위치는 L2 에이전트 데몬세트에 "" ""대한 의존성입니다.""""different Kubernetes namespace, a ``namespace`` can be provided to each """"합니다. 다른 Kubernetes 네임스페이스에서 실행중인 서비스에 접속하기 위해, "" ""``namespace`` 는 각 endpoint에 제공될 수 있습니다.""""auto_bridge_add`. These values should be align with :code:`conf.plugins.""""place. Essentially, all external connectivity can be be defined centrally.""",77,368
openstack%2Fopenstack-ansible-os_searchlight~stable%2Frocky~I20d7b4a3afc39ca11f7c48a1cce71119e36bd750,openstack/openstack-ansible-os_searchlight,stable/rocky,I20d7b4a3afc39ca11f7c48a1cce71119e36bd750,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:36:02.000000000,2018-10-25 20:25:27.000000000,2018-10-25 20:25:27.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:36:02.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/7eb394521bd5386a0ea332e241fcb449f3571e59', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I20d7b4a3afc39ca11f7c48a1cce71119e36bd750\n(cherry picked from commit 9f3324c8c8aab41c0b47019c3d62505c2fdddf30)\n'}]",0,612904,7eb394521bd5386a0ea332e241fcb449f3571e59,7,3,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I20d7b4a3afc39ca11f7c48a1cce71119e36bd750
(cherry picked from commit 9f3324c8c8aab41c0b47019c3d62505c2fdddf30)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_searchlight refs/changes/04/612904/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,7eb394521bd5386a0ea332e241fcb449f3571e59,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Frocky~Iff8afbad1ef28b288c4ea403e6d4dc811b4b8a45,openstack/openstack-ansible-nspawn_container_create,stable/rocky,Iff8afbad1ef28b288c4ea403e6d4dc811b4b8a45,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:48:26.000000000,2018-10-25 20:21:33.000000000,2018-10-25 20:21:33.000000000,"[{'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:48:26.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/fb79d4f1d880b0e196334201db16fcc12309fba9', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Iff8afbad1ef28b288c4ea403e6d4dc811b4b8a45\n(cherry picked from commit e5ea3378ad629aa13c1473c0e9d26d6be051f1fd)\n'}]",0,612936,fb79d4f1d880b0e196334201db16fcc12309fba9,7,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Iff8afbad1ef28b288c4ea403e6d4dc811b4b8a45
(cherry picked from commit e5ea3378ad629aa13c1473c0e9d26d6be051f1fd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/36/612936/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml']",4,fb79d4f1d880b0e196334201db16fcc12309fba9,container_name_host_var-stable/rocky,container_name: container3,,3,1
openstack%2Fansible-role-qdrouterd~stable%2Frocky~I9aee5e3dd0d84ad6b642267c487e8ce2a9a84318,openstack/ansible-role-qdrouterd,stable/rocky,I9aee5e3dd0d84ad6b642267c487e8ce2a9a84318,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:27:56.000000000,2018-10-25 19:58:16.000000000,2018-10-25 19:58:16.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:27:56.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/44623c52284d7324546b90054651194e386b4a7d', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I9aee5e3dd0d84ad6b642267c487e8ce2a9a84318\n(cherry picked from commit 75eda42f7cc0bffcf28f07d4a84631e10ec50ec6)\n'}]",0,612895,44623c52284d7324546b90054651194e386b4a7d,7,3,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I9aee5e3dd0d84ad6b642267c487e8ce2a9a84318
(cherry picked from commit 75eda42f7cc0bffcf28f07d4a84631e10ec50ec6)
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/95/612895/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml']",4,44623c52284d7324546b90054651194e386b4a7d,container_name_host_var-stable/rocky,container_name: container3,,3,1
openstack%2Fnova~master~I00297a196243d4a0b8b42a6e1b17a3bc7211720c,openstack/nova,master,I00297a196243d4a0b8b42a6e1b17a3bc7211720c,Time how long it takes to get host instance info during scheduling,ABANDONED,2018-06-02 13:20:54.000000000,2018-10-25 19:50:36.000000000,,"[{'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-02 13:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11923ece30f0f7cca0a3fc071ff8cc8e3a177e93', 'message': 'Time how long it takes to get host instance info during scheduling\n\nThis adds a simple stop watch timer to the scheduler code\nwhich pulls the instance information for each candidate host\nduring scheduling. This only runs if debug log is enabled.\n\nChange-Id: I00297a196243d4a0b8b42a6e1b17a3bc7211720c\nRelated-Bug: #1737465\n'}, {'number': 2, 'created': '2018-06-02 13:23:28.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a75231bc7a3dacdc973acacae91ba71756ed8fc', 'message': 'Time how long it takes to get host instance info during scheduling\n\nThis adds a simple stop watch timer to the scheduler code\nwhich pulls the instance information for each candidate host\nduring scheduling. This only runs if debug log is enabled.\n\nChange-Id: I00297a196243d4a0b8b42a6e1b17a3bc7211720c\nRelated-Bug: #1737465\n'}]",0,571928,9a75231bc7a3dacdc973acacae91ba71756ed8fc,23,13,2,6873,,,0,"Time how long it takes to get host instance info during scheduling

This adds a simple stop watch timer to the scheduler code
which pulls the instance information for each candidate host
during scheduling. This only runs if debug log is enabled.

Change-Id: I00297a196243d4a0b8b42a6e1b17a3bc7211720c
Related-Bug: #1737465
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/571928/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,11923ece30f0f7cca0a3fc071ff8cc8e3a177e93,bug/1737465," # Do simple profiling of how long it takes to get instance information # across all hosts if running with debug logging enabled. get_instance_info_timer = None if logging.is_debug_enabled(CONF): get_instance_info_timer = timeutils.StopWatch() if get_instance_info_timer: if get_instance_info_timer.has_stopped(): get_instance_info_timer.resume() else: # First time starting the stop watch. get_instance_info_timer.start() instance_info = self._get_instance_info(context, compute) if get_instance_info_timer: get_instance_info_timer.stop() instance_info) if get_instance_info_timer: LOG.debug('Took %0.2f seconds to get instance info across ' '%s hosts', get_instance_info_timer.elapsed(), len(compute_nodes)) "," self._get_instance_info(context, compute))",22,1
openstack%2Fnova~master~If6492a97645db7dc5ce693b94953707c06f7c990,openstack/nova,master,If6492a97645db7dc5ce693b94953707c06f7c990,Use BDM.attach_mode when creating/updating volume attachments,ABANDONED,2018-05-20 23:40:53.000000000,2018-10-25 19:49:03.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-20 23:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01ebac9e494b6a2b814d8843d7de78bc6b697d6d', 'message': 'Use BDM.attach_mode when creating/updating volume attachments\n\nThis enables the compute service code to pass the BDM.attach_mode\nthrough to Cinder when creating/updating a volume attachment that\nhas a host connector.\n\nThe compute service RPC API version is incremented as an indication\nto the API service (in a subsequent change) that the compute service\non a given host is capable of using the user-requested attach_mode,\nor fail in the API if the compute hosting the instance is too old\nto support the user request.\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: If6492a97645db7dc5ce693b94953707c06f7c990\n'}, {'number': 2, 'created': '2018-05-21 17:27:59.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/objects/service.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/block_device.py', 'nova/block_device.py', 'nova/compute/manager.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ffe023b2251bb39367e47448f8d75a1805c702e5', 'message': 'Use BDM.attach_mode when creating/updating volume attachments\n\nThis enables the compute service code to pass the BDM.attach_mode\nthrough to Cinder when creating/updating a volume attachment that\nhas a host connector.\n\nThe compute service RPC API version is incremented as an indication\nto the API service (in a subsequent change) that the compute service\non a given host is capable of using the user-requested attach_mode,\nor fail in the API if the compute hosting the instance is too old\nto support the user request.\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: If6492a97645db7dc5ce693b94953707c06f7c990\n'}]",1,569680,ffe023b2251bb39367e47448f8d75a1805c702e5,30,12,2,6873,,,0,"Use BDM.attach_mode when creating/updating volume attachments

This enables the compute service code to pass the BDM.attach_mode
through to Cinder when creating/updating a volume attachment that
has a host connector.

The compute service RPC API version is incremented as an indication
to the API service (in a subsequent change) that the compute service
on a given host is capable of using the user-requested attach_mode,
or fail in the API if the compute hosting the instance is too old
to support the user request.

Part of blueprint volume-multiattach-enhancements

Change-Id: If6492a97645db7dc5ce693b94953707c06f7c990
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/569680/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/service.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/block_device.py', 'nova/block_device.py', 'nova/compute/manager.py', 'nova/virt/block_device.py']",9,01ebac9e494b6a2b814d8843d7de78bc6b697d6d,bp/volume-multiattach-enhancements," 'attachment_id', 'attach_mode']) self['mount_device'], attach_mode=self['attach_mode'])['connection_info']", 'attachment_id']) self['mount_device'])['connection_info'],53,29
openstack%2Fnova~master~I46a84993b29f7657a1ca409e6cfc67dd6b0b7f9b,openstack/nova,master,I46a84993b29f7657a1ca409e6cfc67dd6b0b7f9b,Add plumbing to pass attach_mode when creating/updating attachments,ABANDONED,2018-05-20 21:37:57.000000000,2018-10-25 19:48:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 28203}]","[{'number': 1, 'created': '2018-05-20 21:37:57.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6215bd8080b08a2e9c0d55a5b3f2c2b87b188c', 'message': ""Add plumbing to pass attach_mode when creating/updating attachments\n\nThis adds the code to the volume client attachment_create and\nattachment_update methods such that we can pass the attach mode,\nwhich gets passed to the Cinder API via the host connector dict.\nBy default this doesn't change anything, and won't get used until\nlater in the series when we take the BlockDeviceMapping.attach_mode\nto pass through when creating/updating attachments.\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: I46a84993b29f7657a1ca409e6cfc67dd6b0b7f9b\n""}]",0,569674,ce6215bd8080b08a2e9c0d55a5b3f2c2b87b188c,21,15,1,6873,,,0,"Add plumbing to pass attach_mode when creating/updating attachments

This adds the code to the volume client attachment_create and
attachment_update methods such that we can pass the attach mode,
which gets passed to the Cinder API via the host connector dict.
By default this doesn't change anything, and won't get used until
later in the series when we take the BlockDeviceMapping.attach_mode
to pass through when creating/updating attachments.

Part of blueprint volume-multiattach-enhancements

Change-Id: I46a84993b29f7657a1ca409e6cfc67dd6b0b7f9b
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/569674/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,ce6215bd8080b08a2e9c0d55a5b3f2c2b87b188c,bp/volume-multiattach-enhancements," connector=None, mountpoint=None, attach_mode=None): :param attach_mode: Either ""rw"" for read/write or ""ro"" for read-only. # work around it client-side. The same is true with attach_mode. if _connector and attach_mode and 'mode' not in _connector: # Make a copy of the connector so we don't modify it by # reference. _connector = copy.deepcopy(_connector) _connector['mode'] = attach_mode mountpoint=None, attach_mode=None): :param attach_mode: Either ""rw"" for read/write or ""ro"" for read-only. if _connector and attach_mode and 'mode' not in _connector: # Make a copy of the connector so we don't modify it by # reference. _connector = copy.deepcopy(_connector) _connector['mode'] = attach_mode "," connector=None, mountpoint=None): # work around it client-side. mountpoint=None):",37,14
openstack%2Fnova~master~Ibf318d16651403fdc7b26900e361908c6a1fdea3,openstack/nova,master,Ibf318d16651403fdc7b26900e361908c6a1fdea3,Add BlockDeviceMapping.attach_mode field,ABANDONED,2018-05-20 20:45:09.000000000,2018-10-25 19:48:53.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-20 20:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a614b28bb30cfab895d9369164478cd16f7f280', 'message': 'Add BlockDeviceMapping.attach_mode field\n\nThe new field is nullable and optional since local BDMs won\'t\nuse attach_mode. The new field can be lazy-loaded for a default\nvalue for existing records which, for volumes, default to ""rw""\nbecause that\'s the default hard-coded into cinder when attaching\na volume to a server.\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: Ibf318d16651403fdc7b26900e361908c6a1fdea3\n'}, {'number': 2, 'created': '2018-05-20 21:02:56.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d50ae83de689276701136436949a026882d0f384', 'message': 'Add BlockDeviceMapping.attach_mode field\n\nThe new field is nullable and optional since local BDMs won\'t\nuse attach_mode. The new field can be lazy-loaded for a default\nvalue for existing records which, for volumes, default to ""rw""\nbecause that\'s the default hard-coded into cinder when attaching\na volume to a server.\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: Ibf318d16651403fdc7b26900e361908c6a1fdea3\n'}]",2,569669,d50ae83de689276701136436949a026882d0f384,18,14,2,6873,,,0,"Add BlockDeviceMapping.attach_mode field

The new field is nullable and optional since local BDMs won't
use attach_mode. The new field can be lazy-loaded for a default
value for existing records which, for volumes, default to ""rw""
because that's the default hard-coded into cinder when attaching
a volume to a server.

Part of blueprint volume-multiattach-enhancements

Change-Id: Ibf318d16651403fdc7b26900e361908c6a1fdea3
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/569669/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py']",2,7a614b28bb30cfab895d9369164478cd16f7f280,bp/volume-multiattach-enhancements,"BLOCK_DEVICE_OPTIONAL_ATTRS = ( _BLOCK_DEVICE_OPTIONAL_JOINED_FIELD + ['attach_mode']) if attrname == 'instance': self.instance = objects.Instance.get_by_uuid(self._context, self.instance_uuid) elif attrname == 'attach_mode': self.attach_mode = 'rw' if self.is_volume else None self.obj_reset_changes(fields=[attrname])","BLOCK_DEVICE_OPTIONAL_ATTRS = _BLOCK_DEVICE_OPTIONAL_JOINED_FIELD elif key == 'attach_mode' and not db_block_device.get(key): # Default attach_mode to ""rw"" for volume BDMs. if db_block_device['destination_type'] == ( fields.BlockDeviceDestinationType.VOLUME): db_block_device['attach_mode'] = ( fields.BlockDeviceAttachModeType.READ_WRITE) else: db_block_device['attach_mode'] = None self.instance = objects.Instance.get_by_uuid(self._context, self.instance_uuid) self.obj_reset_changes(fields=['instance'])",29,30
openstack%2Fnova~master~I34a4829a2dfbf5bad3206da16d42ce6a4aa361db,openstack/nova,master,I34a4829a2dfbf5bad3206da16d42ce6a4aa361db,Add block_device_mapping.attach_mode column,ABANDONED,2018-05-20 17:19:50.000000000,2018-10-25 19:48:50.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-20 17:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aac8e561f34910572c6320932a072244588dd00b', 'message': ""Add block_device_mapping.attach_mode column\n\nThis just adds the 2-character bdm.attach_mode column\nwhich is nullable and doesn't have a default because\nlocal bdms won't care about attach_mode. The default\nwill be handled in the BlockDeviceMapping object layer\nbased on the destination_type (volume vs local).\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: I34a4829a2dfbf5bad3206da16d42ce6a4aa361db\n""}, {'number': 2, 'created': '2018-05-20 20:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed4f121b54a383426fdae4f53d10298cd4ca943', 'message': ""Add block_device_mapping.attach_mode column\n\nThis just adds the 2-character bdm.attach_mode column\nwhich is nullable and doesn't have a default because\nlocal bdms won't care about attach_mode. The default\nwill be handled in the BlockDeviceMapping object layer\nbased on the destination_type (volume vs local).\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: I34a4829a2dfbf5bad3206da16d42ce6a4aa361db\n""}, {'number': 3, 'created': '2018-05-20 21:02:56.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/391_add_bdm_attach_mode.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/962aa19426930079781b7e8ca8402e2dfe98a2cc', 'message': ""Add block_device_mapping.attach_mode column\n\nThis just adds the 2-character bdm.attach_mode column\nwhich is nullable and doesn't have a default because\nlocal bdms won't care about attach_mode. The default\nwill be handled in the BlockDeviceMapping object layer\nbased on the destination_type (volume vs local).\n\nPart of blueprint volume-multiattach-enhancements\n\nChange-Id: I34a4829a2dfbf5bad3206da16d42ce6a4aa361db\n""}]",0,569649,962aa19426930079781b7e8ca8402e2dfe98a2cc,34,15,3,6873,,,0,"Add block_device_mapping.attach_mode column

This just adds the 2-character bdm.attach_mode column
which is nullable and doesn't have a default because
local bdms won't care about attach_mode. The default
will be handled in the BlockDeviceMapping object layer
based on the destination_type (volume vs local).

Part of blueprint volume-multiattach-enhancements

Change-Id: I34a4829a2dfbf5bad3206da16d42ce6a4aa361db
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/569649/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/391_add_bdm_attach_mode.py']",3,aac8e561f34910572c6320932a072244588dd00b,bp/volume-multiattach-enhancements,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy import Column from sqlalchemy import MetaData from sqlalchemy import Table from sqlalchemy import String BASE_TABLE_NAME = 'block_device_mapping' NEW_COLUMN_NAME = 'attach_mode' def upgrade(migrate_engine): meta = MetaData(bind=migrate_engine) for prefix in ('', 'shadow_'): table = Table(prefix + BASE_TABLE_NAME, meta, autoload=True) new_column = Column(NEW_COLUMN_NAME, String(2), nullable=True) if not hasattr(table.c, NEW_COLUMN_NAME): table.create_column(new_column) ",,40,0
openstack%2Fneutron~stable%2Fpike~I9d129f0e90a072ec980aadabb2c6b812c08e1618,openstack/neutron,stable/pike,I9d129f0e90a072ec980aadabb2c6b812c08e1618,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-25 07:43:46.000000000,2018-10-25 19:47:37.000000000,2018-10-25 19:47:37.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 07:43:46.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eaaf0756cd1a422f03ebdfe2d8a55bb69e115e7', 'message': '[Functional] Increase test_timeout for db migration tests\n\nPatch [1] increased timeouts for test_walk_version functional tests\nfor MySQL backend to 300 seconds to avoid failures due to timeouts.\n\nUnfortunately it looks that on nodes from some cloud providers used\nin the gate and with number of migration scripts which we have in\nNeutron those tests can take sometimes even around 400 seconds.\n\nSo lets increase this to 600 seconds to avoid such failures of\nfunctional tests job.\n\n[1] https://review.openstack.org/#/c/610003/\n\nChange-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618\nCloses-Bug: #1687027\n(cherry picked from commit c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2)\n'}]",0,613232,3eaaf0756cd1a422f03ebdfe2d8a55bb69e115e7,7,3,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

Patch [1] increased timeouts for test_walk_version functional tests
for MySQL backend to 300 seconds to avoid failures due to timeouts.

Unfortunately it looks that on nodes from some cloud providers used
in the gate and with number of migration scripts which we have in
Neutron those tests can take sometimes even around 400 seconds.

So lets increase this to 600 seconds to avoid such failures of
functional tests job.

[1] https://review.openstack.org/#/c/610003/

Change-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618
Closes-Bug: #1687027
(cherry picked from commit c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/613232/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,3eaaf0756cd1a422f03ebdfe2d8a55bb69e115e7,bug/1687027-stable/pike, @test_base.set_timeout(600), @test_base.set_timeout(300),1,1
openstack%2Fnova~master~Ibc0c56bbefe1881904b394f23b6686c2869d77c6,openstack/nova,master,Ibc0c56bbefe1881904b394f23b6686c2869d77c6,Add wrinkle to FailedEvacuateStateTests,ABANDONED,2018-04-16 20:00:18.000000000,2018-10-25 19:46:05.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-16 20:00:18.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1713783.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a4117876a5e9e72b8956d16c0c03d48e7ab48b9', 'message': ""Add wrinkle to FailedEvacuateStateTests\n\nAs part of the reported bug which prompted this\ntest, a failed evacuation would result in the\ninstance getting deleted if the source compute\nwas restarted, but the functional test didn't check\nfor that, so it's added here.\n\nChange-Id: Ibc0c56bbefe1881904b394f23b6686c2869d77c6\nRelated-Bug: #1713783\n""}]",2,561707,7a4117876a5e9e72b8956d16c0c03d48e7ab48b9,11,8,1,6873,,,0,"Add wrinkle to FailedEvacuateStateTests

As part of the reported bug which prompted this
test, a failed evacuation would result in the
instance getting deleted if the source compute
was restarted, but the functional test didn't check
for that, so it's added here.

Change-Id: Ibc0c56bbefe1881904b394f23b6686c2869d77c6
Related-Bug: #1713783
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/561707/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1713783.py'],1,7a4117876a5e9e72b8956d16c0c03d48e7ab48b9,bug/1713783, self.compute1.stop() # restart the compute service to make sure it doesn't delete # the instance based on the attempted evacuation self.compute1.start() self.api.get_server(server['id']),,6,0
openstack%2Fdevstack~master~I44811fde6e26271bb429bf4f1d59a9b094f66970,openstack/devstack,master,I44811fde6e26271bb429bf4f1d59a9b094f66970,Don't set database connection in controller in superconductor mode,ABANDONED,2018-03-22 15:55:53.000000000,2018-10-25 19:43:30.000000000,,"[{'_account_id': 2033}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 15:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08b0b488b4cf7b211abeb88435e894e0cc69e7f9', 'message': ""WIP: Don't set database connection in controller in superconductor mode\n\nCERN is reporting that nova-api won't function unless [database]/connection\nis set in nova.conf which shouldn't really be necessary as the controller\nservices in nova (nova-api, nova-conductor (superconductor), nova-scheduler)\nshould rely on iterating cell mappings from the nova_api database.\n\nThis is to flush out any issues with that configuration.\n\nChange-Id: I44811fde6e26271bb429bf4f1d59a9b094f66970\nRelated-Bug: #1757472\n""}, {'number': 2, 'created': '2018-03-24 00:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a501145a04c791a85beb3e112c153aef32f57c68', 'message': ""WIP: Don't set database connection in controller in superconductor mode\n\nCERN is reporting that nova-api won't function unless [database]/connection\nis set in nova.conf which shouldn't really be necessary as the controller\nservices in nova (nova-api, nova-conductor (superconductor), nova-scheduler)\nshould rely on iterating cell mappings from the nova_api database.\n\nThis is to flush out any issues with that configuration.\n\nChange-Id: I44811fde6e26271bb429bf4f1d59a9b094f66970\nRelated-Bug: #1757472\n""}, {'number': 3, 'created': '2018-03-26 22:22:44.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ea5079b776121751ad293eba9b64cf52dad590b', 'message': ""Don't set database connection in controller in superconductor mode\n\nThe nova controller services should start without [database]/connection\nbeing set in nova.conf since the controller services in nova\n(nova-api, nova-conductor (superconductor), nova-scheduler)\nshould rely on iterating cell mappings from the nova_api database.\n\nDepends-On: I4e8b862d76bc30de691597ce72ca108b79af68f1\n\nChange-Id: I44811fde6e26271bb429bf4f1d59a9b094f66970\nRelated-Bug: #1757472\n""}]",5,555346,4ea5079b776121751ad293eba9b64cf52dad590b,26,7,3,6873,,,0,"Don't set database connection in controller in superconductor mode

The nova controller services should start without [database]/connection
being set in nova.conf since the controller services in nova
(nova-api, nova-conductor (superconductor), nova-scheduler)
should rely on iterating cell mappings from the nova_api database.

Depends-On: I4e8b862d76bc30de691597ce72ca108b79af68f1

Change-Id: I44811fde6e26271bb429bf4f1d59a9b094f66970
Related-Bug: #1757472
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/555346/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,08b0b488b4cf7b211abeb88435e894e0cc69e7f9,bug/1757472, iniset $NOVA_CONF database connection `database_connection_url $db`, iniset $NOVA_CONF database connection `database_connection_url $db`,1,1
openstack%2Fkeystone~master~I1d66f203716db93f3a6f56f06b80836b711d9484,openstack/keystone,master,I1d66f203716db93f3a6f56f06b80836b711d9484,DNM - Expose get domain enforcement issue,ABANDONED,2018-09-27 00:41:56.000000000,2018-10-25 19:38:36.000000000,,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 00:41:56.000000000', 'files': ['keystone/tests/unit/test_v3_resource.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f6d2dab936b62d59adca8e6dad76697391aa9fcc', 'message': 'DNM - Expose get domain enforcement issue\n\nA user that is scoped to a project under a domain cannot\nview said domain without admin.\n\nChange-Id: I1d66f203716db93f3a6f56f06b80836b711d9484\n'}]",3,605560,f6d2dab936b62d59adca8e6dad76697391aa9fcc,5,3,1,21420,,,0,"DNM - Expose get domain enforcement issue

A user that is scoped to a project under a domain cannot
view said domain without admin.

Change-Id: I1d66f203716db93f3a6f56f06b80836b711d9484
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/605560/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_resource.py'],1,f6d2dab936b62d59adca8e6dad76697391aa9fcc,domain-test," def test_member_role_on_domain(self): """"""User X has a role on Project Y, which is under Domain Z. However User X cannot view Domain Z. """""" project2 = unit.new_project_ref(domain_id=self.domain_id) PROVIDERS.resource_api.create_project(project2['id'], project2) user2 = unit.create_user(PROVIDERS.identity_api, domain_id=self.domain_id, project_id=project2['id']) role_member = unit.new_role_ref() PROVIDERS.role_api.create_role(role_member['id'], role_member) PROVIDERS.assignment_api.add_role_to_user_and_project( user2['id'], project2['id'], role_member['id'] ) # user2 should be scoped to project2 auth_data = self.build_authentication_request( user_id=user2['id'], password=user2['password'], project_id=project2['id']) token_data = self.v3_create_token(auth_data) # User has a role on project2, which is under domain, but cannot # view domain # TODO(gagehugo): When resolved, remove expected status self.get('/domains/%(domain_id)s' % { 'domain_id': self.domain['id']}, token=token_data.headers['x-subject-token'], expected_status=exception.ForbiddenAction.code) ",,34,0
openstack%2Fsyntribos-openstack-templates~master~I1b2613da837260c43a291b18a12d2aa4e23458e6,openstack/syntribos-openstack-templates,master,I1b2613da837260c43a291b18a12d2aa4e23458e6,WIP - Add template files for airship-deckhand,ABANDONED,2018-10-18 18:02:07.000000000,2018-10-25 19:38:16.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 18:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos-openstack-templates/commit/f470ac623f7abe01cf8bbc72cfe276b65e6007b3', 'message': 'WIP - Add template files for airship-deckhand\n\nChange-Id: I1b2613da837260c43a291b18a12d2aa4e23458e6\n'}, {'number': 2, 'created': '2018-10-18 18:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos-openstack-templates/commit/b0fd89a3b77d51714ab40264acf5fc9761a59c67', 'message': 'WIP - Add template files for airship-deckhand\n\nChange-Id: I1b2613da837260c43a291b18a12d2aa4e23458e6\n'}, {'number': 3, 'created': '2018-10-24 18:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos-openstack-templates/commit/f2c4472d45b708506fddd6081a2e0feb9b4c6d9c', 'message': 'WIP - Add template files for airship-deckhand\n\nChange-Id: I1b2613da837260c43a291b18a12d2aa4e23458e6\n'}, {'number': 4, 'created': '2018-10-24 19:22:00.000000000', 'files': ['airship-deckhand/revision_validation_get.template', 'airship-deckhand/revision_diff_get.template', 'airship-deckhand/revision_validations_entries_get.template', 'airship-deckhand/revision_deepdiff_get.template', 'airship-deckhand/revision_tags_get.template', 'airship-deckhand/revision_document_get.template', 'airship-deckhand/revisions_get.template', 'airship-deckhand/rollback_post.template', 'airship-deckhand/revision_tag_delete.template', 'airship-deckhand/revision_validation_post.template', 'airship-deckhand/revision_tag_post.template', 'airship-deckhand/revision_validation_detail_get.template', 'airship-deckhand/revision_validations_get.template', 'airship-deckhand/revision_tag_get.template', 'airship-deckhand/revision_tags_delete.template', 'airship-deckhand/bucket_document_put.template', 'airship-deckhand/revision_get.template', 'airship-deckhand/revision_delete.template', 'airship-deckhand/revision_rendered-document_get.template'], 'web_link': 'https://opendev.org/openstack/syntribos-openstack-templates/commit/cb66b4fe56bb30a7a7881cdc75e83ee40994b0d7', 'message': 'WIP - Add template files for airship-deckhand\n\nChange-Id: I1b2613da837260c43a291b18a12d2aa4e23458e6\n'}]",4,611687,cb66b4fe56bb30a7a7881cdc75e83ee40994b0d7,11,2,4,21420,,,0,"WIP - Add template files for airship-deckhand

Change-Id: I1b2613da837260c43a291b18a12d2aa4e23458e6
",git fetch https://review.opendev.org/openstack/syntribos-openstack-templates refs/changes/87/611687/3 && git format-patch -1 --stdout FETCH_HEAD,"['airship-deckhand/revision_validation_get.template', 'airship-deckhand/revision_diff_get.template', 'airship-deckhand/revision_validations_entries_get.template', 'airship-deckhand/revision_deepdiff_get.template', 'airship-deckhand/revision_tags_get.template', 'airship-deckhand/revision_document_get.template', 'airship-deckhand/revisions_get.template', 'airship-deckhand/rollback_post.template', 'airship-deckhand/revision_tag_delete.template', 'airship-deckhand/revision_validation_post.template', 'airship-deckhand/revision_tag_post.template', 'airship-deckhand/revision_validation_detail_get.template', 'airship-deckhand/revision_validations_get.template', 'airship-deckhand/revision_tag_get.template', 'airship-deckhand/revision_tags_delete.template', 'airship-deckhand/bucket_document_put.template', 'airship-deckhand/revision_get.template', 'airship-deckhand/revision_delete.template', 'airship-deckhand/revision_rendered-document_get.template']",19,f470ac623f7abe01cf8bbc72cfe276b65e6007b3,airship-deckhand,"GET /api/v1.0/revisions/{revision_id}/rendered-documents HTTP/1.1 Accept: application/x-yaml X-Auth-Token: CALL_EXTERNAL|syntribos.extensions.identity.client:get_token_v3:[""user""]| ",,72,0
openstack%2Fsyntribos~master~Id103eb68927116ae1056b1b9d2f363593fb77878,openstack/syntribos,master,Id103eb68927116ae1056b1b9d2f363593fb77878,WIP - Add airship-deckhand extension,ABANDONED,2018-10-19 20:41:04.000000000,2018-10-25 19:38:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-19 20:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/60276a76999a71b95cc4b56dcf4280c85451560f', 'message': 'WIP - Add airship-deckhand extension\n\nChange-Id: Id103eb68927116ae1056b1b9d2f363593fb77878\n'}, {'number': 2, 'created': '2018-10-24 18:56:41.000000000', 'files': ['requirements.txt', 'syntribos/extensions/airship-deckhand/client.py'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/de89a58c8d83382efd3ce1579a873a354c778118', 'message': 'WIP - Add airship-deckhand extension\n\nChange-Id: Id103eb68927116ae1056b1b9d2f363593fb77878\n'}]",0,611951,de89a58c8d83382efd3ce1579a873a354c778118,5,1,2,21420,,,0,"WIP - Add airship-deckhand extension

Change-Id: Id103eb68927116ae1056b1b9d2f363593fb77878
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/51/611951/2 && git format-patch -1 --stdout FETCH_HEAD,['syntribos/extensions/airship-deckhand/client.py'],1,60276a76999a71b95cc4b56dcf4280c85451560f,airship-deckhand,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import logging from oslo_config import cfg from requests import RequestException as RequestException from syntribos.clients.http.client import SynHTTPClient from syntribos.utils.memoize import memoize logging.basicConfig(level=logging.CRITICAL) LOG = logging.getLogger(__name__) CONF = cfg.CONF @memoize def get_revisions(): url = '/api/v1.0/revisions' headers = {} headers['Accept'] = 'application/x-yaml' try: resp, _ = SynHTTPClient().request( 'GET', url, headers=headers) # TODO: parse YAML response here for ids r = [] except RequestException as e: LOG.debug(e) return r ",,37,0
openstack%2Fopenstack-helm~master~Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171,openstack/openstack-helm,master,Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171,[DNM/WIP/POC] Add syntribos gate check,ABANDONED,2018-10-03 20:30:02.000000000,2018-10-25 19:37:35.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 20:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1f80deee48f7fecc4421914b4c43e15f62a7caf', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 2, 'created': '2018-10-03 20:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/475418bf63da06f676eae8876bbcdf37be2eb9db', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 3, 'created': '2018-10-04 04:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fdf6f4dd2441439f5336cf29f994ba565c1f8584', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 4, 'created': '2018-10-04 05:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/346f1c1c095cdebcb9d2bc8640af09e2a1fbb07d', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 5, 'created': '2018-10-05 15:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4babc0b6837ac6780642ffacfb939b38498b9316', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 6, 'created': '2018-10-05 17:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0832511296df720c31ac689b6b2b2bfefd9d5e2', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 7, 'created': '2018-10-06 00:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3e64e330c49432dbf88dfba9a6414c81637c304', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 8, 'created': '2018-10-10 03:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c161a6f1305dc3782eeb96459f43ee59def9680', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 9, 'created': '2018-10-10 04:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d8def5b262c840932e0fc91c71a9d9b55bb90666', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 10, 'created': '2018-10-10 18:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca0b859260f3cfe9a5b6053965e208ff88550f3c', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 11, 'created': '2018-10-10 23:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d610d6931b48a86d02f6d165b4f7874c64ed77c', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}, {'number': 12, 'created': '2018-10-11 00:53:34.000000000', 'files': ['tools/gate/playbooks/syntribos/run.yaml', 'tools/gate/playbooks/syntribos/templates/syntribos.conf.j2', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84179c784602a0294d7b4ea24d88db41bcf2fea4', 'message': '[DNM/WIP/POC] Add syntribos gate check\n\nChange-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171\n'}]",6,607702,84179c784602a0294d7b4ea24d88db41bcf2fea4,31,3,12,21420,,,0,"[DNM/WIP/POC] Add syntribos gate check

Change-Id: Ib2dd56f4aba1283c4376b9fe329a8c4abd5af171
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/607702/10 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/syntribos/run.yaml', 'tools/gate/playbooks/syntribos/templates/syntribos.conf.j2', '.zuul.yaml']",3,e1f80deee48f7fecc4421914b4c43e15f62a7caf,syntribos, # templates: # - publish-openstack-docs-pti - openstack-helm-syntribos # - openstack-helm-dev-deploy-ceph-swift-ovs # - openstack-helm-dev-deploy-ceph-radosgw-ovs # - openstack-helm-dev-deploy-ceph-rbd-ovs # - openstack-helm-dev-deploy-nfs-ovs # - openstack-helm-dev-deploy-ceph-lb: # voting: false # - openstack-helm-dev-deploy-nfs-lb: # voting: false # - openstack-helm-dev-deploy-nfs-ldap: # voting: false # - openstack-helm-multinode-ubuntu: # voting: false # - openstack-helm-ironic-ubuntu: # voting: false # - openstack-helm-armada-fullstack-deploy: # voting: false # - openstack-helm-kolla-deploy-ceph-ovs # - openstack-helm-ocata-loci-deploy-ceph: # voting: false # - openstack-helm-ocata-kolla-deploy-ceph: # voting: false # - openstack-helm-pike-loci-deploy-ceph: # voting: false # - openstack-helm-pike-kolla-deploy-ceph: # voting: false - job: timeout: 10800 name: openstack-helm-syntribos parent: openstack-helm-dev-deploy run: tools/gate/playbooks/syntribos/run.yaml required_projects: - openstack/syntribos, templates: - publish-openstack-docs-pti - openstack-helm-dev-deploy-ceph-swift-ovs - openstack-helm-dev-deploy-ceph-radosgw-ovs - openstack-helm-dev-deploy-ceph-rbd-ovs - openstack-helm-dev-deploy-nfs-ovs - openstack-helm-dev-deploy-ceph-lb: voting: false - openstack-helm-dev-deploy-nfs-lb: voting: false - openstack-helm-dev-deploy-nfs-ldap: voting: false - openstack-helm-multinode-ubuntu: voting: false - openstack-helm-ironic-ubuntu: voting: false - openstack-helm-armada-fullstack-deploy: voting: false - openstack-helm-kolla-deploy-ceph-ovs - openstack-helm-ocata-loci-deploy-ceph: voting: false - openstack-helm-ocata-kolla-deploy-ceph: voting: false - openstack-helm-pike-loci-deploy-ceph: voting: false - openstack-helm-pike-kolla-deploy-ceph: voting: false,122,27
openstack%2Fbifrost~master~I985a6fa2cb3e6bbce8058f2fe290a6a3e51f8a8e,openstack/bifrost,master,I985a6fa2cb3e6bbce8058f2fe290a6a3e51f8a8e,TEST: debug broken gate,ABANDONED,2018-10-10 22:07:07.000000000,2018-10-25 19:31:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-10 22:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/22712e936bb304aae715f5cd355459459031a905', 'message': 'TEST: debug broken gate\n\nChange-Id: I985a6fa2cb3e6bbce8058f2fe290a6a3e51f8a8e\n'}, {'number': 2, 'created': '2018-10-10 22:33:35.000000000', 'files': ['playbooks/test-bifrost.yaml', 'scripts/collect-test-info.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f2218e61a5e898ff389e3a4dd95c23f8afd47810', 'message': 'TEST: debug broken gate\n\nChange-Id: I985a6fa2cb3e6bbce8058f2fe290a6a3e51f8a8e\n'}]",0,609554,f2218e61a5e898ff389e3a4dd95c23f8afd47810,4,1,2,11655,,,0,"TEST: debug broken gate

Change-Id: I985a6fa2cb3e6bbce8058f2fe290a6a3e51f8a8e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/609554/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/test-bifrost.yaml', 'scripts/collect-test-info.sh']",2,22712e936bb304aae715f5cd355459459031a905,fix-ironic-config-deprecated-by-oslo,ps auxf &>${LOG_LOCATION}/ps.txt ,,6,0
openstack%2Fneutron~stable%2Fpike~I54e3db4822830a0c83daf7b5150575f8d6e2497b,openstack/neutron,stable/pike,I54e3db4822830a0c83daf7b5150575f8d6e2497b,Don't skip DVR port while neutron-openvswitch-agent is restared.,MERGED,2018-06-08 17:06:42.000000000,2018-10-25 19:30:58.000000000,2018-10-25 19:30:58.000000000,"[{'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13770}, {'_account_id': 13995}, {'_account_id': 15736}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 28329}]","[{'number': 1, 'created': '2018-06-08 17:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f069e091b404b2d4920279f9bf554a03bfbe53dd', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}, {'number': 2, 'created': '2018-07-18 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2aed93085df546b696f759da8bf0d2df2a8241f', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}, {'number': 3, 'created': '2018-08-30 17:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bfc1edfea613fae8a43ee3595e9d08dcdd195ab', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}, {'number': 4, 'created': '2018-09-01 02:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1459c13dffa1bd0e2015b1cb949f6b78ae846901', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}, {'number': 5, 'created': '2018-09-10 20:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/825a4981f14f2866cb7c0a2bea846ee27073d8b3', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n""}, {'number': 6, 'created': '2018-09-24 22:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f2acbc293807f3395337a8396caadb8e834daa4', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n""}, {'number': 7, 'created': '2018-09-25 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2f7180251670dc037d28297e38293cbd72b25b6', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n""}, {'number': 8, 'created': '2018-09-27 04:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a47a71b6cfbb4618d9e3e1deb3d75f16d6018d3', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}, {'number': 9, 'created': '2018-10-02 16:03:33.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a91c6de429c59ca7c85f27df3c2ba0d163d4bd6', 'message': ""Don't skip DVR port while neutron-openvswitch-agent is restared.\n\nneutron-openvswitch-agent will refresh flows when it's restarted.\nBut the port's binding status is not changed, update_port_postcommit\nwill be skipped at function '_update_individual_port_db_status' in\n'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the\nfdb entries about DVR port will not be added.\n\nSo, we can't skip DVR port at notify_l2pop_port_wiring when agent\nis restared.\n\nCloses-Bug: #1773286\nChange-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b\n(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)\n""}]",4,573785,5a91c6de429c59ca7c85f27df3c2ba0d163d4bd6,219,16,9,7016,,,0,"Don't skip DVR port while neutron-openvswitch-agent is restared.

neutron-openvswitch-agent will refresh flows when it's restarted.
But the port's binding status is not changed, update_port_postcommit
will be skipped at function '_update_individual_port_db_status' in
'neutron/plugins/ml2/plugin.py', l2pop don't handle DVR ports, the
fdb entries about DVR port will not be added.

So, we can't skip DVR port at notify_l2pop_port_wiring when agent
is restared.

Closes-Bug: #1773286
Change-Id: I54e3db4822830a0c83daf7b5150575f8d6e2497b
(cherry picked from commit d0fa2c9ac50a783c410fab2df938974c4e829ffa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/573785/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py']",3,f069e091b404b2d4920279f9bf554a03bfbe53dd,bug/1773286,"import datetime def test_ovs_agent_restarted_with_dvr_port(self): plugin = directory.get_plugin() router = self._create_dvr_router() with mock.patch.object(l2pop_mech_driver.L2populationMechanismDriver, 'agent_restarted', return_value=True): with self.subnet(network=self._network, enable_dhcp=False) as snet: with self.port( subnet=snet, device_owner=constants.DEVICE_OWNER_DVR_INTERFACE)\ as port: port_id = port['port']['id'] plugin.update_distributed_port_binding(self.adminContext, port_id, {'port': {portbindings.HOST_ID: HOST_4, 'device_id': router['id']}}) port = self._show('ports', port_id) self.assertEqual(portbindings.VIF_TYPE_DISTRIBUTED, port['port'][portbindings.VIF_TYPE]) self.callbacks.update_device_up(self.adminContext, agent_id=HOST_4, device=port_id, host=HOST_4) fanout_expected = {port['port']['network_id']: { 'network_type': u'vxlan', 'ports': { u'20.0.0.4': [('00:00:00:00:00:00', '0.0.0.0')]}, 'segment_id': 1}} self.mock_fanout.assert_called_with(mock.ANY, 'add_fdb_entries', fanout_expected) def test_agent_restarted(self): mech_driver = l2pop_mech_driver.L2populationMechanismDriver() ctx = mock.Mock() ctx.host = ""__host1__"" ctx._plugin_context = {} agent = mock.Mock() agent.started_at = datetime.datetime(2018, 5, 25, 15, 51, 20) agent.heartbeat_timestamp = datetime.datetime(2018, 5, 25, 15, 51, 50) with mock.patch.object(l2pop_db, 'get_agent_by_host', return_value=agent): res = mech_driver.agent_restarted(ctx) self.assertTrue(res) agent.heartbeat_timestamp = datetime.datetime(2018, 5, 25, 15, 58, 30) with mock.patch.object(l2pop_db, 'get_agent_by_host', return_value=agent): res = mech_driver.agent_restarted(ctx) self.assertFalse(res)",,76,10
openstack%2Fbifrost~master~Ia2c9d1d8414c8306e8b766948d64b49a586bbc5b,openstack/bifrost,master,Ia2c9d1d8414c8306e8b766948d64b49a586bbc5b,Enhance information collection to aid debugging,ABANDONED,2018-10-15 17:59:24.000000000,2018-10-25 19:29:40.000000000,,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 17:59:24.000000000', 'files': ['scripts/collect-test-info.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3973da674b7bf8789cb6e0dae23036768f935fb7', 'message': ""Enhance information collection to aid debugging\n\nIt seems we're unable to see why virtualbmc and ipmitool are\ngetting along on centos. As a first step, we need to see\nsome more of the picture, specifically what virutalbmc is\npercieving, what is presently running process wise, and what\nvirtual machines are operating.\n\nChange-Id: Ia2c9d1d8414c8306e8b766948d64b49a586bbc5b\n""}]",0,610677,3973da674b7bf8789cb6e0dae23036768f935fb7,7,4,1,11655,,,0,"Enhance information collection to aid debugging

It seems we're unable to see why virtualbmc and ipmitool are
getting along on centos. As a first step, we need to see
some more of the picture, specifically what virutalbmc is
percieving, what is presently running process wise, and what
virtual machines are operating.

Change-Id: Ia2c9d1d8414c8306e8b766948d64b49a586bbc5b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/77/610677/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect-test-info.sh'],1,3973da674b7bf8789cb6e0dae23036768f935fb7,,sudo vbmc list &> ${LOG_LOCATION}/vbmc.txt sudo virsh list --all &> ${LOG_LOCATION}/virsh-list.txt ps auxf &> ${LOG_LOCATION}/ps.txt ,,5,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I55058fd6288eec87fd1cd028b4a684b9472496cb,openstack/tripleo-heat-templates,stable/rocky,I55058fd6288eec87fd1cd028b4a684b9472496cb,Fix cinder_api_apache error during upgrade.,MERGED,2018-10-23 08:56:22.000000000,2018-10-25 19:27:28.000000000,2018-10-25 19:27:28.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-23 08:56:22.000000000', 'files': ['docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c05b035cfc6fa264c21eed03fad7fa8d8f90b244', 'message': 'Fix cinder_api_apache error during upgrade.\n\nIn I35c8d9985df21b3084fba558687e1f408e5a0878 we removed the\ncinder_api_apache from step 2.  This cause the upgrade to fail as the\nnext task is using that variable.\n\nConverting it to a fact in step 0 so that we can call it later.\n\nChange-Id: I55058fd6288eec87fd1cd028b4a684b9472496cb\nResolve-Bug: #1799166\n(cherry picked from commit 4ad99224bd655d85c6829e0c9d5653ef0837549f)\n'}]",0,612637,c05b035cfc6fa264c21eed03fad7fa8d8f90b244,15,6,1,8042,,,0,"Fix cinder_api_apache error during upgrade.

In I35c8d9985df21b3084fba558687e1f408e5a0878 we removed the
cinder_api_apache from step 2.  This cause the upgrade to fail as the
next task is using that variable.

Converting it to a fact in step 0 so that we can call it later.

Change-Id: I55058fd6288eec87fd1cd028b4a684b9472496cb
Resolve-Bug: #1799166
(cherry picked from commit 4ad99224bd655d85c6829e0c9d5653ef0837549f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/612637/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/cinder-api.yaml'],1,c05b035cfc6fa264c21eed03fad7fa8d8f90b244,bug/1799166-stable/rocky," - name: Set fact cinder_api_apache (upgrade) set_fact: cinder_api_apache: ""{{ cinder_api_apache.rc == 0 }}"" when: cinder_api_apache|bool", when: cinder_api_apache.rc == 0,4,1
openstack%2Fdevstack~master~I738758ba031e0449b77d64b337801f0fd35f9a74,openstack/devstack,master,I738758ba031e0449b77d64b337801f0fd35f9a74,WIP: Run with the NumInstancesFilter,ABANDONED,2017-12-22 17:40:29.000000000,2018-10-25 19:25:02.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-22 17:40:29.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b6af3b02a371f0e92d17b456934614c59358e24', 'message': 'WIP: Run with the NumInstancesFilter\n\nTrying to flush out a bug.\n\nChange-Id: I738758ba031e0449b77d64b337801f0fd35f9a74\nDepends-On: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9\n'}]",0,529867,9b6af3b02a371f0e92d17b456934614c59358e24,8,5,1,6873,,,0,"WIP: Run with the NumInstancesFilter

Trying to flush out a bug.

Change-Id: I738758ba031e0449b77d64b337801f0fd35f9a74
Depends-On: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/529867/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,9b6af3b02a371f0e92d17b456934614c59358e24,num-instances-filter,"FILTERS=""RetryFilter,AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter,NumInstancesFilter""","FILTERS=""RetryFilter,AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter""",1,1
openstack%2Freleases~master~I1025b25cf6591775b9e191227d9726be81303648,openstack/releases,master,I1025b25cf6591775b9e191227d9726be81303648,Release python-brick-cinderclient-ext 0.10.0,MERGED,2018-10-24 01:15:09.000000000,2018-10-25 19:20:36.000000000,2018-10-25 19:20:36.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 01:15:09.000000000', 'files': ['deliverables/stein/python-brick-cinderclient-ext.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/121526c2f9e26adce313daad2a94f4f52b925bdc', 'message': 'Release python-brick-cinderclient-ext 0.10.0\n\nThis is the Stein milestone-1 release for\npython-brick-cinderclient-ext to release merged commits since the\nlast release.\n\nSee [1] for more details on the new cycle-with-intermediary library\nrelease changes.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html\n\nWe plan on processing this release November 1 unless we are told to hold\noff, or earlier if we get a +1 from the PTL and/or release liaison\nindicating that it is all clear to proceed.\n\nChange-Id: I1025b25cf6591775b9e191227d9726be81303648\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,612847,121526c2f9e26adce313daad2a94f4f52b925bdc,7,3,1,11904,,,0,"Release python-brick-cinderclient-ext 0.10.0

This is the Stein milestone-1 release for
python-brick-cinderclient-ext to release merged commits since the
last release.

See [1] for more details on the new cycle-with-intermediary library
release changes.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html

We plan on processing this release November 1 unless we are told to hold
off, or earlier if we get a +1 from the PTL and/or release liaison
indicating that it is all clear to proceed.

Change-Id: I1025b25cf6591775b9e191227d9726be81303648
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/612847/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-brick-cinderclient-ext.yaml'],1,121526c2f9e26adce313daad2a94f4f52b925bdc,python-brick-cinderclient-ext,releases: - projects: - hash: 94c1a461ec86531882c42c6359c8198a5b5e2db9 repo: openstack/python-brick-cinderclient-ext version: 0.10.0,,5,0
openstack%2Fnova~master~Ia68e8cccf64aea3d2ee52f242048c941474e60c6,openstack/nova,master,Ia68e8cccf64aea3d2ee52f242048c941474e60c6,Archive DB records from all cells in post-test-hook,ABANDONED,2018-03-06 19:18:16.000000000,2018-10-25 19:19:26.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-06 19:18:16.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e8cf366e42bf3c973257e6ccf79f32df7650b88', 'message': 'Archive DB records from all cells in post-test-hook\n\nWith the new --all-cells option, we can archive all entries\nfrom all cells (cell0 and cell1 in our CI system) in the\npost-test-hook that runs in the nova-next job.\n\nRelated-Bug: #1719487\n\nChange-Id: Ia68e8cccf64aea3d2ee52f242048c941474e60c6\n'}]",0,550212,2e8cf366e42bf3c973257e6ccf79f32df7650b88,12,10,1,6873,,,0,"Archive DB records from all cells in post-test-hook

With the new --all-cells option, we can archive all entries
from all cells (cell0 and cell1 in our CI system) in the
post-test-hook that runs in the nova-next job.

Related-Bug: #1719487

Change-Id: Ia68e8cccf64aea3d2ee52f242048c941474e60c6
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/550212/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/post_test_hook.sh'],1,2e8cf366e42bf3c973257e6ccf79f32df7650b88,bug/1719487, $MANAGE db archive_deleted_rows --verbose --max_rows 1000 --all-cells, $MANAGE db archive_deleted_rows --verbose --max_rows 1000,1,1
openstack%2Ftripleo-common~master~Ifd9293716a8fbf9b26a634789ed704dca436d450,openstack/tripleo-common,master,Ifd9293716a8fbf9b26a634789ed704dca436d450,Add debug to container image prepare,MERGED,2018-09-24 19:22:20.000000000,2018-10-25 19:15:28.000000000,2018-10-25 19:15:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-24 19:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70679ce01d2d63cd9b297aba2868744f9dd5467b', 'message': 'Add debug to container iamge prepare\n\nAdd the ability to specify --debug to tripleo-container-image-prepare to\nhelp with debugging.\n\nChange-Id: Ifd9293716a8fbf9b26a634789ed704dca436d450\n'}, {'number': 2, 'created': '2018-10-18 23:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1263f825ce30402e787295b703e6d74fc3e76685', 'message': 'Add debug to container iamge prepare\n\nAdd the ability to specify --debug to tripleo-container-image-prepare to\nhelp with debugging.\n\nChange-Id: Ifd9293716a8fbf9b26a634789ed704dca436d450\n'}, {'number': 3, 'created': '2018-10-18 23:19:22.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4048bfdf01226b23a54d5e6d15227d6e88c16d1', 'message': 'Add debug to container image prepare\n\nAdd the ability to specify --debug to tripleo-container-image-prepare to\nhelp with debugging.\n\nChange-Id: Ifd9293716a8fbf9b26a634789ed704dca436d450\n'}]",1,604886,a4048bfdf01226b23a54d5e6d15227d6e88c16d1,21,10,3,14985,,,0,"Add debug to container image prepare

Add the ability to specify --debug to tripleo-container-image-prepare to
help with debugging.

Change-Id: Ifd9293716a8fbf9b26a634789ed704dca436d450
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/604886/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,70679ce01d2d63cd9b297aba2868744f9dd5467b,container-prepare-logging," parser.add_argument( ""--debug"", dest=""debug"", action='store_true', help=""Enable debug logging. By default logging is set to INFO."" ) if args.debug: log_level = logging.DEBUG else: log_level = logging.INFO log.setLevel(log_level)", log.setLevel(logging.INFO),12,1
openstack%2Fpython-tripleoclient~master~Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b,openstack/python-tripleoclient,master,Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b,Improve standalone success messaging,MERGED,2018-09-11 17:54:36.000000000,2018-10-25 19:15:27.000000000,2018-10-25 19:15:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7385}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27336}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-11 17:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af5d810f2a58f4e51ebc31ee3e20b78392d1bacf', 'message': ""Improve standalone success messaging\n\nEveryone has wanted to know where the overcloudrc or stackrc file is for\nthe standalone. Since we generate a clouds.yaml, let's update the\nstandalone deploy to indicate where this file is generated and how ot\nuse it.\n\nChange-Id: Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b\n""}, {'number': 2, 'created': '2018-09-11 18:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c9c12d9d12e6783d16fcbf8e7ea11b5c05cb44a1', 'message': ""Improve standalone success messaging\n\nEveryone has wanted to know where the overcloudrc or stackrc file is for\nthe standalone. Since we generate a clouds.yaml, let's update the\nstandalone deploy to indicate where this file is generated and how to\nuse it.\n\nChange-Id: Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b\n""}, {'number': 3, 'created': '2018-09-12 15:22:22.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03af1862fbc9207360856e75fca4976fd35fffcb', 'message': ""Improve standalone success messaging\n\nEveryone has wanted to know where the overcloudrc or stackrc file is for\nthe standalone. Since we generate a clouds.yaml, let's update the\nstandalone deploy to indicate where this file is generated and how to\nuse it.\n\nChange-Id: Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b\n""}]",3,601656,03af1862fbc9207360856e75fca4976fd35fffcb,24,9,3,14985,,,0,"Improve standalone success messaging

Everyone has wanted to know where the overcloudrc or stackrc file is for
the standalone. Since we generate a clouds.yaml, let's update the
standalone deploy to indicate where this file is generated and how to
use it.

Change-Id: Ic49c1dced7a88eb2a9c28fb6667a3588bceb405b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/601656/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,af5d810f2a58f4e51ebc31ee3e20b78392d1bacf,all-in-one,"STANDALONE_COMPLETION_MESSAGE = """""" ########################################################## The deployment has been successfully completed. Useful files: The clouds.yaml file is at {1} Use ""export OS_CLOUD=standalone"" before running the openstack command. ########################################################## """""" def _is_undercloud_deploy(self, parsed_args): return parsed_args.standalone_role == 'Undercloud' and \ parsed_args.stack == 'undercloud' if not self._is_undercloud_deploy(parsed_args): success_messaging = DEPLOY_COMPLETION_MESSAGE if not self._is_undercloud_deploy(parsed_args): success_messaging = success_messaging + \ STANDALONE_COMPLETTION_MESSAGE.format([ '~/.config/openstack/clouds.yaml'])"," if parsed_args.standalone_role != 'Undercloud' and \ parsed_args.stack != 'undercloud': success_messaging = DEPLOY_COMPLETION_MESSAGE.format( '~/undercloud-passwords.conf', '~/stackrc' )",25,6
openstack%2Ftripleo-common~stable%2Fpike~I53062d2b89dd89d78eefd2c481b5670c16ba9232,openstack/tripleo-common,stable/pike,I53062d2b89dd89d78eefd2c481b5670c16ba9232,[Pike Only] Remove comment related to namespace variable.,MERGED,2018-10-24 13:10:25.000000000,2018-10-25 19:15:26.000000000,2018-10-25 19:15:26.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-24 13:10:25.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16cdb712484b9acc6bfb1bd7c17bc592702aabb0', 'message': ""[Pike Only] Remove comment related to namespace variable.\n\nDue to the close dependency between python-tripleoclient and\ntripleo-common packages, it's better to leave the\novercloud_containers.yaml.j2 template working with both\nvariables, docker_namespace and namespace in case the change\nin python-tripleoclient [0] would be missing.\n\n[0] - Id5948211c5570dc284826f246ba07eb9472e3779\n\nChange-Id: I53062d2b89dd89d78eefd2c481b5670c16ba9232\nRelated-Bug: #1796664\n""}]",0,613013,16cdb712484b9acc6bfb1bd7c17bc592702aabb0,10,7,1,26343,,,0,"[Pike Only] Remove comment related to namespace variable.

Due to the close dependency between python-tripleoclient and
tripleo-common packages, it's better to leave the
overcloud_containers.yaml.j2 template working with both
variables, docker_namespace and namespace in case the change
in python-tripleoclient [0] would be missing.

[0] - Id5948211c5570dc284826f246ba07eb9472e3779

Change-Id: I53062d2b89dd89d78eefd2c481b5670c16ba9232
Related-Bug: #1796664
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/613013/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,16cdb712484b9acc6bfb1bd7c17bc592702aabb0,bug/1796664,,{# LP #1796664 remove namespace reference when 608648 gets merged #},0,1
openstack%2Fpython-tripleoclient~master~I3d88ab7a948a1e14940542964824a3bbc1a94fa6,openstack/python-tripleoclient,master,I3d88ab7a948a1e14940542964824a3bbc1a94fa6,check for existence of output env file for container image prepare,MERGED,2018-10-11 12:59:42.000000000,2018-10-25 19:15:25.000000000,2018-10-25 19:15:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-11 12:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bb1f9b0bbfa876c8b0f6dc2629a2673434e32a0', 'message': 'WIP - check for existence of output env file for container image prepare\n\nCurrently, `overcloud container image prepare --env-file` will clobber\nany existing file, which can present a problem.\n\nThis patch catches this scenario.\n\nChange-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6\nCloses-Bug: 1723071\n'}, {'number': 2, 'created': '2018-10-11 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4bf0b46de281b0bdb623affad9eaba0d7e40a04e', 'message': 'WIP - check for existence of output env file for container image prepare\n\nCurrently, `overcloud container image prepare --env-file` will clobber\nany existing file, which can present a problem.\n\nThis patch catches this scenario, moves the existing --env-file to a\nbackup, and then continues with the creation.\n\nChange-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6\nCloses-Bug: 1723071\n'}, {'number': 3, 'created': '2018-10-11 13:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/974f56e43770fa75b096e4dd4b8a69f5f3d0a587', 'message': 'check for existence of output env file for container image prepare\n\nCurrently, `overcloud container image prepare --env-file` will clobber\nany existing file, which can present a problem.\n\nThis patch catches this scenario, moves the existing --env-file to a\nbackup, and then continues with the creation.\n\nChange-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6\nCloses-Bug: 1723071\n'}, {'number': 4, 'created': '2018-10-11 13:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/929e9688705b73c397f8f375658d59207699afca', 'message': 'check for existence of output env file for container image prepare\n\nCurrently, `overcloud container image prepare --env-file` will clobber\nany existing file, which can present a problem.\n\nThis patch catches this scenario, moves the existing --env-file to a\nbackup, and then continues with the creation.\n\nChange-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6\nCloses-Bug: 1723071\n'}, {'number': 5, 'created': '2018-10-11 17:37:36.000000000', 'files': ['tripleoclient/v1/container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b43155648d7bb4c0fefff259303eff3b03eaa4a', 'message': 'check for existence of output env file for container image prepare\n\nCurrently, `overcloud container image prepare --env-file` will clobber\nany existing file, which can present a problem.\n\nThis patch catches this scenario, moves the existing --env-file to a\nbackup, and then continues with the creation.\n\nChange-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6\nCloses-Bug: 1723071\n'}]",4,609694,4b43155648d7bb4c0fefff259303eff3b03eaa4a,21,6,5,27427,,,0,"check for existence of output env file for container image prepare

Currently, `overcloud container image prepare --env-file` will clobber
any existing file, which can present a problem.

This patch catches this scenario, moves the existing --env-file to a
backup, and then continues with the creation.

Change-Id: I3d88ab7a948a1e14940542964824a3bbc1a94fa6
Closes-Bug: 1723071
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/609694/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,8bb1f9b0bbfa876c8b0f6dc2629a2673434e32a0,bug/1723071," if not os.path.exists(parsed_args.output_env_file): with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(build_env_file(params, self.app.command_options)) else: self.log.warn(""Output env file already exists."") if not os.path.exists(parsed_args.output_env_file): with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(env_data) else: self.log.warn(""Output env file already exists."") if not os.path.exists(parsed_args.output_env_file): with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(env_data) else: self.app.stdout.write(env_data) else: self.log.warn(""Output env file already exists."")"," with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(build_env_file(params, self.app.command_options)) with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(env_data) with os.fdopen(os.open(parsed_args.output_env_file, os.O_CREAT | os.O_TRUNC | os.O_WRONLY, 0o666), 'w') as f: f.write(env_data) else: self.app.stdout.write(env_data)",23,14
openstack%2Ftripleo-quickstart~master~I79b02922b9b7925609dc56b6da044a3b38465efb,openstack/tripleo-quickstart,master,I79b02922b9b7925609dc56b6da044a3b38465efb,Remove old config/release files,MERGED,2018-10-01 13:03:47.000000000,2018-10-25 19:15:24.000000000,2018-10-25 19:15:23.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-10-01 13:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5f7fd31bb9d855540db53ced713c73e8ffa33072', 'message': 'Swap soft linked config/release files with targets\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\n'}, {'number': 2, 'created': '2018-10-02 07:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0eefcbc37f4b47ce251a7497622136c08fdf00ef', 'message': 'Swap soft linked config/release files with targets\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\n'}, {'number': 3, 'created': '2018-10-02 07:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/da34ae52f7cc016068dce9feaaf4d8211fe354b2', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 4, 'created': '2018-10-03 11:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/014769ad1622553d64bc6954aa67009d9f03ba4c', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 5, 'created': '2018-10-03 15:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a8f7b95062e5ebe0142445ae0436cc8c64709a7b', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 6, 'created': '2018-10-10 17:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2e10907dc785c91d97efcfa00ee298017df9f3fc', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 7, 'created': '2018-10-12 13:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a4c25b7bf0f77544a69555820d36095de58dfb56', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nDepends-On: https://review.openstack.org/610038\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 8, 'created': '2018-10-12 13:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07577fa841e565d9a6ea3410afcb04896bc15063', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nDepends-On: https://review.openstack.org/610038\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 9, 'created': '2018-10-15 09:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d85b5ac964950f2b0b133004352441e435d0398a', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nDepends-On: https://review.openstack.org/610038\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 10, 'created': '2018-10-16 07:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/290444427a60aac6f813b78b6d37901bdd64a57a', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nDepends-On: https://review.openstack.org/610038\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1\n'}, {'number': 11, 'created': '2018-10-22 08:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f984d8ca8a0564873e7d037b11c8b27cd268229e', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 12, 'created': '2018-10-22 08:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/90e598ffbddafc999d410bc9906c21e8c8eefedc', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 13, 'created': '2018-10-22 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/51a4b7f1bf90c1568c23240722db550899a2afd3', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 14, 'created': '2018-10-23 14:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72728681cfc55ebc6a477bce544df8167975e83a', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 15, 'created': '2018-10-23 14:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1260de71b25c57fe13aa8eb2293115ec808e837', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 16, 'created': '2018-10-23 15:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5a7f647cc99aef8f5ac67a9ef8d9d5e7a891f2e6', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}, {'number': 17, 'created': '2018-10-23 16:35:30.000000000', 'files': ['config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/queens.yml', 'config/release/tripleo-ci/promotion-testing-hash-rocky.yml', 'config/release/queens-undercloud-newton-overcloud.yml', 'config/release/master-tripleo-ci.yml', 'config/release/tripleo-ci/queens-undercloud-newton-overcloud.yml', 'config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/rocky.yml', 'config/release/tripleo-ci/consistent-pike.yml', 'config/release/tripleo-ci/rocky-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/consistent-rocky.yml', 'config/release/tripleo-ci/consistent-queens.yml', 'config/release/tripleo-ci/consistent-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/309524b75aa252f52f915b020fe5856a4f524c52', 'message': 'Remove old config/release files\n\nChange-Id: I79b02922b9b7925609dc56b6da044a3b38465efb\nPartial-Bug: #1740928\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/7\n'}]",0,606944,309524b75aa252f52f915b020fe5856a4f524c52,73,6,17,24162,,,0,"Remove old config/release files

Change-Id: I79b02922b9b7925609dc56b6da044a3b38465efb
Partial-Bug: #1740928
Story: https://tree.taiga.io/project/tripleo-ci-board/task/7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/606944/10 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/queens.yml', 'config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/consistent-rocky.yml', 'config/release/tripleo-ci/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/CentOS-7/rocky-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-newton-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/tripleo-ci/queens-undercloud-newton-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/consistent-pike.yml', 'config/release/tripleo-ci/rocky-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/consistent-master.yml']",48,5f7fd31bb9d855540db53ced713c73e8ffa33072,standalone-f28,../tripleo-ci/CentOS-7/consistent-master.yml,,24,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I99e08314dedfcc71a776423ac3c6c282237cc0c2,openstack/tripleo-heat-templates,stable/queens,I99e08314dedfcc71a776423ac3c6c282237cc0c2,Add provision to specify java arguments to ODL,MERGED,2018-10-22 05:42:08.000000000,2018-10-25 19:15:21.000000000,2018-10-25 19:15:20.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20866}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 05:42:08.000000000', 'files': ['releasenotes/notes/set_java_opts_from_tripleo-d969b1151ec244a0.yaml', 'puppet/services/opendaylight-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bb9fdb97b209cf3dc4b1b8255c2fad8e6053d28', 'message': 'Add provision to specify java arguments to ODL\n\nJava options like heap size configuration needs\ntweaking for large scale deployments. Allow\ncustomizing those values from TripleO.\n\npuppet-opendaylight will configure these values\nin ODL. Corresponding puppet-opendaylight patch is\nhttps://git.opendaylight.org/gerrit/#/c/68491\n\nChange-Id: I99e08314dedfcc71a776423ac3c6c282237cc0c2\nCloses-Bug: #1794073\n(cherry picked from commit 865e8b574c741c9027a07a08f7a77795f7f12544)\n'}]",2,612237,7bb9fdb97b209cf3dc4b1b8255c2fad8e6053d28,10,9,1,20866,,,0,"Add provision to specify java arguments to ODL

Java options like heap size configuration needs
tweaking for large scale deployments. Allow
customizing those values from TripleO.

puppet-opendaylight will configure these values
in ODL. Corresponding puppet-opendaylight patch is
https://git.opendaylight.org/gerrit/#/c/68491

Change-Id: I99e08314dedfcc71a776423ac3c6c282237cc0c2
Closes-Bug: #1794073
(cherry picked from commit 865e8b574c741c9027a07a08f7a77795f7f12544)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/612237/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set_java_opts_from_tripleo-d969b1151ec244a0.yaml', 'puppet/services/opendaylight-api.yaml']",2,7bb9fdb97b209cf3dc4b1b8255c2fad8e6053d28,bug/1794073," OpenDaylightJavaOpts: default: '' type: string description: Specifies the Java options to run ODL with as a string. Note, these options are in addition to the default Java options set by the karaf/ODL boot scripts and IP version based flag set by 'opendaylight' class. opendaylight::java_opts: {get_param: OpenDaylightJavaOpts}",,12,0
openstack%2Ftripleo-heat-templates~master~I675dc4985cdb3a86fac0a8421518ff3d7c784214,openstack/tripleo-heat-templates,master,I675dc4985cdb3a86fac0a8421518ff3d7c784214,ceilometer: --skip-metering-database is gone,MERGED,2018-10-23 18:42:34.000000000,2018-10-25 19:15:19.000000000,2018-10-25 19:15:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 18:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/936985edafc079131ae9a950e229382e1776346a', 'message': 'ceilometer: --skip-metering-database is gone\n\nOption --skip-metering-database is gone since OSP13.\n\nThis change removes it.\n\nChange-Id: I675dc4985cdb3a86fac0a8421518ff3d7c784214\n'}, {'number': 2, 'created': '2018-10-23 18:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91c056b598861294ee63fb0d0db695e44590b87c', 'message': 'ceilometer: --skip-metering-database is gone\n\nOption --skip-metering-database is gone since OSP13 (9323f07f).\n\nThis change removes it.\n\nChange-Id: I675dc4985cdb3a86fac0a8421518ff3d7c784214\n'}, {'number': 3, 'created': '2018-10-23 18:51:56.000000000', 'files': ['docker/services/ceilometer-agent-central.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60f6300e9bbd255a8a8f65d7ed5b50cbb5e4e662', 'message': 'ceilometer: --skip-metering-database is gone\n\nOption --skip-metering-database is gone since OSP13\n(I6b262dd440a72f25662b64d938ab9e5328709a97).\n\nThis change removes it.\n\nChange-Id: I675dc4985cdb3a86fac0a8421518ff3d7c784214\n'}]",0,612776,60f6300e9bbd255a8a8f65d7ed5b50cbb5e4e662,14,6,3,2813,,,0,"ceilometer: --skip-metering-database is gone

Option --skip-metering-database is gone since OSP13
(I6b262dd440a72f25662b64d938ab9e5328709a97).

This change removes it.

Change-Id: I675dc4985cdb3a86fac0a8421518ff3d7c784214
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/612776/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-central.yaml'],1,936985edafc079131ae9a950e229382e1776346a,," - ""su ceilometer -s /bin/bash -c 'for n in {1..10}; do /usr/bin/ceilometer-upgrade && exit 0 || sleep 30; done; exit 1'"""," - ""su ceilometer -s /bin/bash -c 'for n in {1..10}; do /usr/bin/ceilometer-upgrade --skip-metering-database && exit 0 || sleep 30; done; exit 1'""",1,1
openstack%2Fopenstack-ansible-os_magnum~stable%2Frocky~I692d538976b7be49e35ef0f2f3d90aedd4355542,openstack/openstack-ansible-os_magnum,stable/rocky,I692d538976b7be49e35ef0f2f3d90aedd4355542,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:38:47.000000000,2018-10-25 19:13:39.000000000,2018-10-25 19:13:39.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:38:47.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a564b64f260ea3a230b749782ef12ed30bb2e07c', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I692d538976b7be49e35ef0f2f3d90aedd4355542\n(cherry picked from commit fe179ea9e148b46a0619e3042cdcd4f45a79d7bc)\n'}]",0,612910,a564b64f260ea3a230b749782ef12ed30bb2e07c,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I692d538976b7be49e35ef0f2f3d90aedd4355542
(cherry picked from commit fe179ea9e148b46a0619e3042cdcd4f45a79d7bc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/10/612910/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,a564b64f260ea3a230b749782ef12ed30bb2e07c,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fnova~master~Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0,openstack/nova,master,Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0,DNM: see what else is doing useless migration context stuff,ABANDONED,2017-06-06 21:40:37.000000000,2018-10-25 19:11:47.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-06 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1630730cd06bf92ce66a5bc512010f95242ccbf', 'message': 'DNM: see what else is doing useless migration context stuff\n\nChange-Id: Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0\n'}, {'number': 2, 'created': '2017-10-27 03:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28be28bc4c99f4b090de587f810e070f89ff82aa', 'message': 'DNM: see what else is doing useless migration context stuff\n\nChange-Id: Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0\n'}, {'number': 3, 'created': '2017-12-13 15:04:27.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2d55c09cd01f7f991831e8bb4386b38839074a9', 'message': 'DNM: see what else is doing useless migration context stuff\n\nChange-Id: Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0\n'}]",0,471491,d2d55c09cd01f7f991831e8bb4386b38839074a9,34,16,3,6873,,,0,"DNM: see what else is doing useless migration context stuff

Change-Id: Ie93ab0d53d1d1319c5ec4b3795db993380cdd7b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/471491/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,c1630730cd06bf92ce66a5bc512010f95242ccbf,bug/1696221," raise Exception( ""Trying to apply a migration context that does not "" ""seem to be set for this instance: %s"" % self.uuid) raise Exception( ""Trying to revert a migration context that does not "" ""seem to be set for this instance: %s"" % self.uuid)"," LOG.debug(""Trying to apply a migration context that does not "" ""seem to be set for this instance"", instance=self) LOG.debug(""Trying to revert a migration context that does not "" ""seem to be set for this instance"", instance=self)",6,4
openstack%2Foslo.log~master~I466661ac89b015573812310bc5457106160e055e,openstack/oslo.log,master,I466661ac89b015573812310bc5457106160e055e,DNM: test CONF.trace=True,ABANDONED,2016-09-07 00:22:27.000000000,2018-10-25 19:11:17.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-09-07 00:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b20c6fe11b449afea85f832baae0b7a5c17623ed', 'message': 'DNM: test CONF.trace=True\n\nTests out the LOG.trace() logging with a proposed\nnova-scheduler change to use trace level logging.\n\nDepends-On: I8bba16c94c2bdd114bc011382747ebca25ea5a50\n\nChange-Id: I466661ac89b015573812310bc5457106160e055e\nRelated-Bug: #1620692\n'}, {'number': 2, 'created': '2016-09-07 16:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/4f80f66556d8307d87c4882ab29ea59e745d3896', 'message': 'DNM: test CONF.trace=True\n\nTests out the LOG.trace() logging with a proposed\nnova-scheduler change to use trace level logging.\n\nDepends-On: I8bba16c94c2bdd114bc011382747ebca25ea5a50\n\nChange-Id: I466661ac89b015573812310bc5457106160e055e\nRelated-Bug: #1620692\n'}, {'number': 3, 'created': '2018-07-24 15:34:43.000000000', 'files': ['oslo_log/_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/cfdb7fa5a5077772af7b3f0544e5573ff7557b9e', 'message': 'DNM: test CONF.trace=True\n\nTests out the LOG.trace() logging with a proposed\nnova-scheduler change to use trace level logging.\n\nDepends-On: I8bba16c94c2bdd114bc011382747ebca25ea5a50\n\nChange-Id: I466661ac89b015573812310bc5457106160e055e\nRelated-Bug: #1620692\n'}]",1,366423,cfdb7fa5a5077772af7b3f0544e5573ff7557b9e,13,3,3,6873,,,0,"DNM: test CONF.trace=True

Tests out the LOG.trace() logging with a proposed
nova-scheduler change to use trace level logging.

Depends-On: I8bba16c94c2bdd114bc011382747ebca25ea5a50

Change-Id: I466661ac89b015573812310bc5457106160e055e
Related-Bug: #1620692
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/23/366423/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/_options.py'],1,b20c6fe11b449afea85f832baae0b7a5c17623ed,bug/1620692," default=True,"," default=False,",1,1
openstack%2Fopenstack-helm~master~I080d8b2fb3324f8a37f88abee330aa2da3a93704,openstack/openstack-helm,master,I080d8b2fb3324f8a37f88abee330aa2da3a93704,Remove ironic_host_manager usage,ABANDONED,2018-05-02 15:58:38.000000000,2018-10-25 19:11:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-02 15:58:38.000000000', 'files': ['tools/deployment/baremetal/110-compute-kit.sh', 'nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/03194d3068fa6779853f5220c483e7a2af559c4d', 'message': 'Remove ironic_host_manager usage\n\nThe baremetal scheduling options were deprecated\nin Pike and the ironic_host_manager was deprecated\nin Queens and has now been removed. Deployments\nmust use resource classes now for baremetal scheduling.\n\nThe large host subset size value is also no longer needed,\nsee: https://review.openstack.org/565736/\n\nDepends-On: https://review.openstack.org/565805/\nChange-Id: I080d8b2fb3324f8a37f88abee330aa2da3a93704\n'}]",0,565819,03194d3068fa6779853f5220c483e7a2af559c4d,4,2,1,6873,,,0,"Remove ironic_host_manager usage

The baremetal scheduling options were deprecated
in Pike and the ironic_host_manager was deprecated
in Queens and has now been removed. Deployments
must use resource classes now for baremetal scheduling.

The large host subset size value is also no longer needed,
see: https://review.openstack.org/565736/

Depends-On: https://review.openstack.org/565805/
Change-Id: I080d8b2fb3324f8a37f88abee330aa2da3a93704
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/565819/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/baremetal/110-compute-kit.sh', 'nova/values.yaml']",2,03194d3068fa6779853f5220c483e7a2af559c4d,exact-filters,, scheduler_host_manager: ironic_host_manager,0,5
openstack%2Fdevstack~master~I5981f908c6037fbda3f483c7a864a76c2a1fbbf1,openstack/devstack,master,I5981f908c6037fbda3f483c7a864a76c2a1fbbf1,DNM: recreate 1000 instance burst scheduling failure,ABANDONED,2017-09-27 16:13:11.000000000,2018-10-25 19:10:14.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-27 16:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5351026a63b5097d63c93823d0ff556561739bef', 'message': ""DNM: recreate 500 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 500 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 500 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 2, 'created': '2017-09-27 16:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1fa3fd17bdb24b30c7d730183cada95b486cbc38', 'message': ""DNM: recreate 500 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 500 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 500 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 3, 'created': '2017-09-27 20:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/898a3f14118c6159f02ccac9294655094cd9bb81', 'message': ""DNM: recreate 500 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 500 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 500 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 4, 'created': '2017-09-28 19:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3ba3cc20c0b6fb50ea6651106eafdf51bd2ad2b', 'message': ""DNM: recreate 500 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 500 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 500 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 5, 'created': '2017-09-29 21:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0da35a4bb655833d044bd4bc589c8c5145c4fa26', 'message': ""DNM: recreate 500 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 500 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 500 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 6, 'created': '2017-10-03 18:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9950fe066584b3c8040ed6daf608e10621ab83fa', 'message': ""DNM: recreate 1000 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 1000 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 1000 instances into ERROR state.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 7, 'created': '2017-10-06 19:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a3afcd693ca3b6c461d8f1ce0a1e05df8ca107d', 'message': ""DNM: recreate 1000 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 1000 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 1000 instances into ERROR state.\n5. Set the rpc_response_timeout=300 otherwise superconductor times\n   out waiting on the select_destinations() call response from the\n   scheduler, triggers 2 retries, and that totally breaks everything.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 8, 'created': '2018-10-02 20:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/02b79e520153008f050dd3cb1bfabce6f022fb2b', 'message': ""DNM: recreate 1000 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 1000 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 1000 instances into ERROR state.\n5. Set the rpc_response_timeout=300 otherwise superconductor times\n   out waiting on the select_destinations() call response from the\n   scheduler, triggers 2 retries, and that totally breaks everything.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}, {'number': 9, 'created': '2018-10-03 23:08:42.000000000', 'files': ['lib/nova', 'stackrc', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d06c11b48031278d6970d8442d18c933b22bb7b1', 'message': ""DNM: recreate 1000 instance burst scheduling failure\n\nThis does a few things:\n\n1. Sets up the fake compute driver\n2. Disables quota checking\n3. Disables tempest and horizon since we don't need those\n4. Once everything is setup, creates 1000 instances at once\n   which should trigger a concurrent update failure in Placement\n   during scheduling, which ends up being a NoValidHost error and\n   puts all 1000 instances into ERROR state.\n5. Set the rpc_response_timeout=300 otherwise superconductor times\n   out waiting on the select_destinations() call response from the\n   scheduler, triggers 2 retries, and that totally breaks everything.\n\nThe point of this change is to recreate that issue and then we\ncan get the logs to find out what is causing the concurrent update.\n\nDepends-On: https://review.openstack.org/607735/\n\nChange-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1\n""}]",1,507918,d06c11b48031278d6970d8442d18c933b22bb7b1,53,6,9,6873,,,0,"DNM: recreate 1000 instance burst scheduling failure

This does a few things:

1. Sets up the fake compute driver
2. Disables quota checking
3. Disables tempest and horizon since we don't need those
4. Once everything is setup, creates 1000 instances at once
   which should trigger a concurrent update failure in Placement
   during scheduling, which ends up being a NoValidHost error and
   puts all 1000 instances into ERROR state.
5. Set the rpc_response_timeout=300 otherwise superconductor times
   out waiting on the select_destinations() call response from the
   scheduler, triggers 2 retries, and that totally breaks everything.

The point of this change is to recreate that issue and then we
can get the logs to find out what is causing the concurrent update.

Depends-On: https://review.openstack.org/607735/

Change-Id: I5981f908c6037fbda3f483c7a864a76c2a1fbbf1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/507918/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'lib/nova_plugins/hypervisor-fake', 'stackrc', 'stack.sh']",4,5351026a63b5097d63c93823d0ff556561739bef,bug/1795992,"# DO SOME TESTING # Get the image IMAGE_ID=$(openstack image list -f value -c ID) # Create 500 instances at once; this should fail on a conflict in Placement # when the nova scheduler is creating allocations, and that will put all # instances into ERROR state because of the NoValidHost. nova boot --flavor 1 --image $IMAGE_ID --nic none --poll --min-count 500 test-alloc-conflict time_start ""wait_for_error_instances"" rval=0 timeout $timeout bash -x <<EOF || rval=$? NUM_INSTANCES=\$(nova list --status error | grep -c ERROR) while [[ \$NUM_INSTANCES != 500 ]]; do sleep 1 NUM_INSTANCES=\$(nova list --status error | grep -c ERROR) done EOF time_stop ""wait_for_error_instances"" NUM_INSTANCES=$(nova list --status error | grep -c ERROR) if [[ $NUM_INSTANCES != 500 ]]; then die $LINENO ""Timed out waiting for 500 instances to go to ERROR state."" fi ",,34,16
openstack%2Ftripleo-common~master~I94d6d0e3f596a95374075f45a710869818c7083e,openstack/tripleo-common,master,I94d6d0e3f596a95374075f45a710869818c7083e,Store prepare defaults in packaged yaml,MERGED,2018-09-12 17:31:07.000000000,2018-10-25 19:10:08.000000000,2018-10-25 19:10:08.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-12 17:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a78f589faecc3a2edd9b28d8764b0d0dc59bb3cb', 'message': 'Store prepare defaults in packaged yaml\n\nCONTAINER_IMAGE_PREPARE_PARAM needs to be patched downstream for\ndifferent build pipelines, but this patching is hard to maintain.\n\nThis change breaks out this information into the file\ncontainer_image_prepare_defaults.yaml. Downstream (or stable branches)\ncan then set their image defaults by replacing all of\ncontainer_image_prepare_defaults.yaml in packaging.\n\nCONTAINER_IMAGE_PREPARE_PARAM is populated in a way which won\'t\nreload the file every time kolla_builder is imported.\n\nStoring the unparsed yaml in CONTAINER_IMAGE_PREPARE_PARAM_STR also\ngives the potential for the ""openstack tripleo container image prepare\ndefault"" command to write out a file which preserves the comments,\nwhich will help deployers understand what each value means.\n\nChange-Id: I94d6d0e3f596a95374075f45a710869818c7083e\n'}, {'number': 2, 'created': '2018-09-12 20:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/23b827716b48004658b9dd49e3fefc942b480455', 'message': 'Store prepare defaults in packaged yaml\n\nCONTAINER_IMAGE_PREPARE_PARAM needs to be patched downstream for\ndifferent build pipelines, but this patching is hard to maintain.\n\nThis change breaks out this information into the file\ncontainer_image_prepare_defaults.yaml. Downstream (or stable branches)\ncan then set their image defaults by replacing all of\ncontainer_image_prepare_defaults.yaml in packaging.\n\nStoring the unparsed yaml in CONTAINER_IMAGE_PREPARE_PARAM_STR also\ngives the potential for the ""openstack tripleo container image prepare\ndefault"" command to write out a file which preserves the comments,\nwhich will help deployers understand what each value means.\n\nChange-Id: I94d6d0e3f596a95374075f45a710869818c7083e\n'}, {'number': 3, 'created': '2018-09-18 21:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d27db10fd1d9e47589ed413fd1989cc452e84d0a', 'message': 'Store prepare defaults in packaged yaml\n\nCONTAINER_IMAGE_PREPARE_PARAM needs to be patched downstream for\ndifferent build pipelines, but this patching is hard to maintain.\n\nThis change breaks out this information into the file\ncontainer_image_prepare_defaults.yaml. Downstream (or stable branches)\ncan then set their image defaults by replacing all of\ncontainer_image_prepare_defaults.yaml in packaging.\n\nStoring the unparsed yaml in CONTAINER_IMAGE_PREPARE_PARAM_STR also\ngives the potential for the ""openstack tripleo container image prepare\ndefault"" command to write out a file which preserves the comments,\nwhich will help deployers understand what each value means.\n\nChange-Id: I94d6d0e3f596a95374075f45a710869818c7083e\n'}, {'number': 4, 'created': '2018-10-18 21:59:23.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90a1891e7aff062cfe8f4ea2b2befc3916fc6149', 'message': 'Store prepare defaults in packaged yaml\n\nCONTAINER_IMAGE_PREPARE_PARAM needs to be patched downstream for\ndifferent build pipelines, but this patching is hard to maintain.\n\nThis change breaks out this information into the file\ncontainer_image_prepare_defaults.yaml. Downstream (or stable branches)\ncan then set their image defaults by replacing all of\ncontainer_image_prepare_defaults.yaml in packaging.\n\nStoring the unparsed yaml in CONTAINER_IMAGE_PREPARE_PARAM_STR also\ngives the potential for the ""openstack tripleo container image prepare\ndefault"" command to write out a file which preserves the comments,\nwhich will help deployers understand what each value means.\n\nChange-Id: I94d6d0e3f596a95374075f45a710869818c7083e\n'}]",4,602104,90a1891e7aff062cfe8f4ea2b2befc3916fc6149,29,6,4,4571,,,0,"Store prepare defaults in packaged yaml

CONTAINER_IMAGE_PREPARE_PARAM needs to be patched downstream for
different build pipelines, but this patching is hard to maintain.

This change breaks out this information into the file
container_image_prepare_defaults.yaml. Downstream (or stable branches)
can then set their image defaults by replacing all of
container_image_prepare_defaults.yaml in packaging.

Storing the unparsed yaml in CONTAINER_IMAGE_PREPARE_PARAM_STR also
gives the potential for the ""openstack tripleo container image prepare
default"" command to write out a file which preserves the comments,
which will help deployers understand what each value means.

Change-Id: I94d6d0e3f596a95374075f45a710869818c7083e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/602104/4 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py']",2,a78f589faecc3a2edd9b28d8764b0d0dc59bb3cb,yaml_prepare_defaults,"DEFAULT_PREPARE_FILE = os.path.join(sys.prefix, 'share', 'tripleo-common', 'container-images', 'container_images_prepare_defaults.yaml') CONTAINER_IMAGE_PREPARE_PARAM_STR = None CONTAINER_IMAGE_PREPARE_PARAM = None CONTAINER_IMAGES_DEFAULTS = None def init_prepare_defaults(): global CONTAINER_IMAGE_PREPARE_PARAM_STR if CONTAINER_IMAGE_PREPARE_PARAM_STR is None: with open(DEFAULT_PREPARE_FILE) as f: CONTAINER_IMAGE_PREPARE_PARAM_STR = f.read() global CONTAINER_IMAGE_PREPARE_PARAM if CONTAINER_IMAGE_PREPARE_PARAM is None: p = yaml.safe_load(CONTAINER_IMAGE_PREPARE_PARAM_STR) CONTAINER_IMAGE_PREPARE_PARAM = p[ 'parameter_defaults']['ContainerImagePrepare'] global CONTAINER_IMAGES_DEFAULTS if CONTAINER_IMAGES_DEFAULTS is None: CONTAINER_IMAGES_DEFAULTS = CONTAINER_IMAGE_PREPARE_PARAM[0]['set'] init_prepare_defaults() ","CONTAINER_IMAGE_PREPARE_PARAM = [{ 'tag_from_label': 'rdo_version', 'set': { 'namespace': 'docker.io/tripleomaster', 'ceph_namespace': 'docker.io/ceph', 'ceph_image': 'daemon', 'ceph_tag': 'v3.0.3-stable-3.0-luminous-centos-7-x86_64', 'name_prefix': 'centos-binary-', 'name_suffix': '', 'tag': 'current-tripleo', 'neutron_driver': None, 'openshift_namespace': 'docker.io/openshift', 'openshift_tag': 'v3.9.0', 'openshift_base_image': 'origin', 'openshift_cockpit_namespace': 'docker.io/cockpit', 'openshift_cockpit_image': 'kubernetes', 'openshift_cockpit_tag': 'latest', 'openshift_etcd_namespace': 'registry.fedoraproject.org/latest', 'openshift_etcd_image': 'etcd', 'openshift_etcd_tag': 'latest', 'openshift_gluster_namespace': 'docker.io/gluster', 'openshift_gluster_image': 'gluster-centos', 'openshift_gluster_block_image': 'glusterblock-provisioner', 'openshift_gluster_tag': 'latest', 'openshift_heketi_namespace': 'docker.io/heketi', 'openshift_heketi_image': 'heketi', 'openshift_heketi_tag': 'latest', } }] CONTAINER_IMAGES_DEFAULTS = CONTAINER_IMAGE_PREPARE_PARAM[0]['set']",69,30
openstack%2Ftripleo-heat-templates~master~Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516,openstack/tripleo-heat-templates,master,Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516,Standardize path to prepare log file,MERGED,2018-09-03 02:21:56.000000000,2018-10-25 19:10:07.000000000,2018-10-25 19:10:07.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-09-03 02:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e144dd5d257c05c11f03ec8f299fd4a3c8f2375', 'message': 'Standardize path to prepare log file\n\nThis change makes the default ContainerImagePrepareLogFile be\n/var/log/tripleo-container-image-prepare.log for both undercloud and\novercloud deploy.\n\nPreviously, undercloud prepare logged to $HOME/install-undercloud.log\nand overcloud prepare logged to\n$(pwd)/tripleo-container-image-prepare.log.\n\nWith this change, both will be logged to\n/var/log/tripleo-container-image-prepare.log\n\nDepends-On: Id969aa256810f5589d96d56b340959a44ec44955\nChange-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516\nCloses-Bug: #1789871\n'}, {'number': 2, 'created': '2018-09-03 21:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b53407c86a6cbfde0d9d37553c305e83be32d2e4', 'message': 'Standardize path to prepare log file\n\nThis change makes the default ContainerImagePrepareLogFile be\n/var/log/tripleo-container-image-prepare.log for both undercloud and\novercloud deploy.\n\nPreviously, undercloud prepare logged to $HOME/install-undercloud.log\nand overcloud prepare logged to\n$(pwd)/tripleo-container-image-prepare.log.\n\nWith this change, both will be logged to\n/var/log/tripleo-container-image-prepare.log\n\nChange-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516\nCloses-Bug: #1789871\n'}, {'number': 3, 'created': '2018-09-11 14:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a040847564825d05becf8df5b7f4b5ebb1fba31', 'message': 'Standardize path to prepare log file\n\nThis change makes the default ContainerImagePrepareLogFile be\n/var/log/tripleo-container-image-prepare.log for both undercloud and\novercloud deploy.\n\nPreviously, undercloud prepare logged to $HOME/install-undercloud.log\nand overcloud prepare logged to\n$(pwd)/tripleo-container-image-prepare.log.\n\nWith this change, both will be logged to\n/var/log/tripleo-container-image-prepare.log\n\nChange-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516\nCloses-Bug: #1789871\n'}, {'number': 4, 'created': '2018-09-20 01:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06e5d0b29a33e823f0fc51eeba5e78ab90119c82', 'message': 'Standardize path to prepare log file\n\nThis change makes the default ContainerImagePrepareLogFile be\n/var/log/tripleo-container-image-prepare.log for both undercloud and\novercloud deploy.\n\nPreviously, undercloud prepare logged to $HOME/install-undercloud.log\nand overcloud prepare logged to\n$(pwd)/tripleo-container-image-prepare.log.\n\nWith this change, both will be logged to\n/var/log/tripleo-container-image-prepare.log\n\nDepends-On: Id4b776de808ea329a299430078c6f3efdb604e02\nChange-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516\nCloses-Bug: #1789871\n'}, {'number': 5, 'created': '2018-10-14 12:53:44.000000000', 'files': ['environments/undercloud.yaml', 'puppet/services/container-image-prepare.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fe38fb7ed6d4f5e7ed21a99fd699c877363db53', 'message': 'Standardize path to prepare log file\n\nThis change makes the default ContainerImagePrepareLogFile be\n/var/log/tripleo-container-image-prepare.log for both undercloud and\novercloud deploy.\n\nPreviously, undercloud prepare logged to $HOME/install-undercloud.log\nand overcloud prepare logged to\n$(pwd)/tripleo-container-image-prepare.log.\n\nWith this change, both will be logged to\n/var/log/tripleo-container-image-prepare.log\n\nDepends-On: Id4b776de808ea329a299430078c6f3efdb604e02\nChange-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516\nCloses-Bug: #1789871\n'}]",5,599273,8fe38fb7ed6d4f5e7ed21a99fd699c877363db53,66,12,5,4571,,,0,"Standardize path to prepare log file

This change makes the default ContainerImagePrepareLogFile be
/var/log/tripleo-container-image-prepare.log for both undercloud and
overcloud deploy.

Previously, undercloud prepare logged to $HOME/install-undercloud.log
and overcloud prepare logged to
$(pwd)/tripleo-container-image-prepare.log.

With this change, both will be logged to
/var/log/tripleo-container-image-prepare.log

Depends-On: Id4b776de808ea329a299430078c6f3efdb604e02
Change-Id: Icd3c5d612a9c42d1d3d8e374f10eb56d5737d516
Closes-Bug: #1789871
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/599273/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'puppet/services/container-image-prepare.j2.yaml']",2,4e144dd5d257c05c11f03ec8f299fd4a3c8f2375,bug/1789871, default: '/var/log/tripleo-container-image-prepare.log' - name: Run tripleo-container-image-prepare logged to {{ '{{' }} log_file {{ '}}' }} shell: sudo /usr/bin/tripleo-container-image-prepare --roles-file {{ '{{' }} role_data.path {{ '}}' }} --environment-file {{ '{{' }} prepare_param.path {{ '}}' }} --cleanup partial 2>&1 | tee --append {{ '{{' }} log_file {{ '}}' }}, default: 'tripleo-container-image-prepare.log' - name: Run tripleo-container-image-prepare shell: sudo /usr/bin/tripleo-container-image-prepare --roles-file {{ '{{' }} role_data.path {{ '}}' }} --environment-file {{ '{{' }} prepare_param.path {{ '}}' }} --cleanup partial 2> {{ '{{' }} log_file {{ '}}' }},3,4
openstack%2Freleases~master~I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5,openstack/releases,master,I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5,Release metalsmith 0.8.0,MERGED,2018-10-24 01:14:54.000000000,2018-10-25 19:03:20.000000000,2018-10-25 19:03:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 01:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b0494dc83e47efeb3edf88c5c775c6038bbfd8d2', 'message': 'Release metalsmith 0.1.0\n\nThis is the Stein milestone-1 release for metalsmith to\nrelease merged commits since the last release.\n\nSee [1] for more details on the new cycle-with-intermediary library\nrelease changes.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html\n\nWe plan on processing this release November 1 unless we are told to hold\noff, or earlier if we get a +1 from the PTL and/or release liaison\nindicating that it is all clear to proceed.\n\nChange-Id: I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-24 13:00:18.000000000', 'files': ['deliverables/stein/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee4ae4b0c5ece3d437e22ccd26fbd9cc11d9c21c', 'message': 'Release metalsmith 0.8.0\n\nThis is the Stein milestone-1 release for metalsmith to\nrelease merged commits since the last release.\n\nSee [1] for more details on the new cycle-with-intermediary library\nrelease changes.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html\n\nWe plan on processing this release November 1 unless we are told to hold\noff, or earlier if we get a +1 from the PTL and/or release liaison\nindicating that it is all clear to proceed.\n\nChange-Id: I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,612840,ee4ae4b0c5ece3d437e22ccd26fbd9cc11d9c21c,10,4,2,11904,,,0,"Release metalsmith 0.8.0

This is the Stein milestone-1 release for metalsmith to
release merged commits since the last release.

See [1] for more details on the new cycle-with-intermediary library
release changes.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html

We plan on processing this release November 1 unless we are told to hold
off, or earlier if we get a +1 from the PTL and/or release liaison
indicating that it is all clear to proceed.

Change-Id: I2eefa3d81f4a0d3122ef5f2bb5493516bb9e44d5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/612840/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/metalsmith.yaml'],1,b0494dc83e47efeb3edf88c5c775c6038bbfd8d2,metalsmith,releases: - projects: - hash: 192b740d9663a1a2df4a96c554addbbf3b9727ff repo: openstack/metalsmith version: 0.1.0,,5,0
openstack%2Fhorizon~master~Idd5f59e32268cf4ceefe3639c607fb6c3520e538,openstack/horizon,master,Idd5f59e32268cf4ceefe3639c607fb6c3520e538,Replaces the delete button with a disabling version,MERGED,2018-07-23 07:49:54.000000000,2018-10-25 18:54:57.000000000,2018-10-25 18:54:56.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 22348}, {'_account_id': 26546}]","[{'number': 1, 'created': '2018-07-23 07:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/13a4df8c417789bc4db026e589dccb31cf24dacf', 'message': 'Replaces the delete button with a disabling version\n\nReplaces the default delete button template for the images batch delete\naction with a custom one. This template contains a new component, which\nchanges the disabled/enabled state of the underlying action based on the\nselected images allowed value as specified by the delete-image service\nused to evaluate the allowed value for individual rows/images and their\nrespective delete actions.\n\nCloses-Bug: 1549544\n\nChange-Id: Idd5f59e32268cf4ceefe3639c607fb6c3520e538\n'}, {'number': 2, 'created': '2018-07-23 08:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2e99b5aad0262d726e48f89c2fd1014aac1a63d', 'message': 'Replaces the delete button with a disabling version\n\nReplaces the default delete button template for the images batch delete\naction with a custom one. This template contains a new component, which\nchanges the disabled/enabled state of the underlying action based on the\nselected images allowed value as specified by the delete-image service\nused to evaluate the allowed value for individual rows/images and their\nrespective delete actions.\n\nCloses-Bug: 1549544\n\nChange-Id: Idd5f59e32268cf4ceefe3639c607fb6c3520e538\n'}, {'number': 3, 'created': '2018-07-24 05:11:32.000000000', 'files': ['openstack_dashboard/static/app/core/images/actions/delete-image-selected-button.template.html', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.component.js', 'openstack_dashboard/static/app/core/images/actions/actions.module.js', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.template.html', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.component.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/71cac4a145d6726703d76ce66e1787df80c3f3cf', 'message': 'Replaces the delete button with a disabling version\n\nReplaces the default delete button template for the images batch delete\naction with a custom one. This template contains a new component, which\nchanges the disabled/enabled state of the underlying action based on the\nselected images allowed value as specified by the delete-image service\nused to evaluate the allowed value for individual rows/images and their\nrespective delete actions.\n\nCloses-Bug: 1549544\n\nChange-Id: Idd5f59e32268cf4ceefe3639c607fb6c3520e538\n'}]",2,584750,71cac4a145d6726703d76ce66e1787df80c3f3cf,23,5,3,26546,,,0,"Replaces the delete button with a disabling version

Replaces the default delete button template for the images batch delete
action with a custom one. This template contains a new component, which
changes the disabled/enabled state of the underlying action based on the
selected images allowed value as specified by the delete-image service
used to evaluate the allowed value for individual rows/images and their
respective delete actions.

Closes-Bug: 1549544

Change-Id: Idd5f59e32268cf4ceefe3639c607fb6c3520e538
",git fetch https://review.opendev.org/openstack/horizon refs/changes/50/584750/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/images/actions/delete-image-selected-button.template.html', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.component.js', 'openstack_dashboard/static/app/core/images/actions/actions.module.js', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.template.html', 'openstack_dashboard/static/app/core/images/actions/delete-image-selected.component.spec.js']",5,13a4df8c417789bc4db026e589dccb31cf24dacf,bug/1549544,"/** * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use self file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; describe('delete-image-selected component', function() { var $scope, $element, $controller, $q; // Mock image data var mockAllowed = { allowed: true }; var mockDisallowed = { allowed: false }; beforeEach(module('templates')); beforeEach(module('horizon.app.core.images.actions', function($provide) { // Injects a mock 'action' directive for unit testing $provide.decorator('actionDirective', function($delegate) { var component = $delegate[0]; component.template = '<div>Mock</div>'; component.templateUrl = null; return $delegate; }); // Mock delete-image.service. The disabling mechanism uses the allowed // function from that service using the promises API, which is mocked // here. $provide.service( 'horizon.app.core.images.actions.delete-image.service', function() { return { allowed: function(mockImage) { /* Returns promises to mimic the real service API */ var deferred = $q.defer(); if (mockImage.allowed) { deferred.resolve(); } else { deferred.reject(); } return deferred.promise; } }; } ); })); beforeEach(inject(function(_$rootScope_, _$compile_, _$q_) { $q = _$q_; $scope = _$rootScope_.$new(); var tag = angular.element( '<delete-image-selected selected=""selected"" callback=""callback"">' + '</delete-image-selected>' ); $scope.selected = []; $element = _$compile_(tag)($scope); $scope.$apply(); $controller = $element.controller('deleteImageSelected'); })); // Empty list of images should disable the button it('disables for empty list', function() { expect($controller.disabled).toBe(true); }); // A list of allowed imges enables the button it('enables for all allowed images', function() { // Selections change the object; just pushing in new values wouldn't // trigger disable recalculations $scope.selected = [$.extend({}, mockAllowed)]; $scope.$apply(); expect($controller.disabled).toBe(false); }); // All disabled images disables the button it('disables for all disallowed images', function() { $scope.selected = [$.extend({}, mockDisallowed)]; $scope.$apply(); expect($controller.disabled).toBe(true); }); // At least one disallowed image disables the button it('disables for mixed images', function() { $scope.selected = [ $.extend({}, mockDisallowed), $.extend({}, mockDisallowed) ]; $scope.$apply(); expect($controller.disabled).toBe(true); }); }); })();",,194,5
openstack%2Fopenstack-ansible-os_zun~stable%2Frocky~I4e76e65b8e2b4b0968f8e5af89e08da4dd69eb9b,openstack/openstack-ansible-os_zun,stable/rocky,I4e76e65b8e2b4b0968f8e5af89e08da4dd69eb9b,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:34:14.000000000,2018-10-25 18:47:28.000000000,2018-10-25 18:47:28.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:34:14.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/8a74a098775807ebbf26fc726ffee89d22550797', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I4e76e65b8e2b4b0968f8e5af89e08da4dd69eb9b\n(cherry picked from commit c5c1bbb4cb93ed401bfa6b27556fd454108dbaf0)\n'}]",0,612900,8a74a098775807ebbf26fc726ffee89d22550797,9,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I4e76e65b8e2b4b0968f8e5af89e08da4dd69eb9b
(cherry picked from commit c5c1bbb4cb93ed401bfa6b27556fd454108dbaf0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/00/612900/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,8a74a098775807ebbf26fc726ffee89d22550797,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fkeystone~master~I9806722cca8bcd1d4c73618cf1b36107929d37b0,openstack/keystone,master,I9806722cca8bcd1d4c73618cf1b36107929d37b0,"Remove useless ""clean"" file",MERGED,2018-10-24 09:02:03.000000000,2018-10-25 18:39:28.000000000,2018-10-25 18:39:27.000000000,"[{'_account_id': 2903}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 09:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e95076fefcdcd43e13e0be58d0c2dc57d224fe5a', 'message': 'Remove useless ""clean"" file\n\nThe request input format validation now is handled by jsonschema\ncheck. The clean file is useless now.\n\nChange-Id: I9806722cca8bcd1d4c73618cf1b36107929d37b0\n'}, {'number': 2, 'created': '2018-10-25 02:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4a54861fe59e473c31ec2725cce2a04402bcfe4b', 'message': 'Remove useless ""clean"" file\n\nThe request input format validation now is handled by jsonschema\ncheck. The clean file is useless now.\n\nChange-Id: I9806722cca8bcd1d4c73618cf1b36107929d37b0\n'}, {'number': 3, 'created': '2018-10-25 06:09:58.000000000', 'files': ['keystone/tests/unit/identity/test_backends.py', 'keystone/tests/unit/test_validation.py', 'keystone/identity/core.py', 'keystone/identity/schema.py', 'keystone/tests/unit/resource/test_backends.py', 'keystone/resource/core.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/common/clean.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e5def7c3ad7751d374986a6585680c339cc8e22d', 'message': 'Remove useless ""clean"" file\n\nThe request input format validation now is handled by jsonschema\ncheck. The clean file is useless now.\n\nChange-Id: I9806722cca8bcd1d4c73618cf1b36107929d37b0\n'}]",0,612954,e5def7c3ad7751d374986a6585680c339cc8e22d,14,3,3,15054,,,0,"Remove useless ""clean"" file

The request input format validation now is handled by jsonschema
check. The clean file is useless now.

Change-Id: I9806722cca8bcd1d4c73618cf1b36107929d37b0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/612954/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/core.py', 'keystone/identity/schema.py', 'keystone/resource/core.py', 'keystone/common/clean.py']",4,e95076fefcdcd43e13e0be58d0c2dc57d224fe5a,remove_clean,,"# Copyright 2012 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from keystone import exception from keystone.i18n import _ def check_length(property_name, value, min_length=1, max_length=64): if len(value) < min_length: if min_length == 1: msg = _(""%s cannot be empty."") % property_name else: msg = (_(""%(property_name)s cannot be less than "" ""%(min_length)s characters."") % dict( property_name=property_name, min_length=min_length)) raise exception.ValidationError(msg) if len(value) > max_length: msg = (_(""%(property_name)s should not be greater than "" ""%(max_length)s characters."") % dict( property_name=property_name, max_length=max_length)) raise exception.ValidationError(msg) def check_type(property_name, value, expected_type, display_expected_type): if not isinstance(value, expected_type): msg = (_(""%(property_name)s is not a "" ""%(display_expected_type)s"") % dict( property_name=property_name, display_expected_type=display_expected_type)) raise exception.ValidationError(msg) def check_enabled(property_name, enabled): # Allow int and it's subclass bool check_type('%s enabled' % property_name, enabled, int, 'boolean') return bool(enabled) def check_name(property_name, name, min_length=1, max_length=64): check_type('%s name' % property_name, name, six.string_types, 'str or unicode') name = name.strip() check_length('%s name' % property_name, name, min_length=min_length, max_length=max_length) return name def domain_name(name): return check_name('Domain', name) def domain_enabled(enabled): return check_enabled('Domain', enabled) def project_name(name): return check_name('Project', name) def project_enabled(enabled): return check_enabled('Project', enabled) def user_name(name): return check_name('User', name, max_length=255) def user_enabled(enabled): return check_enabled('User', enabled) def group_name(name): return check_name('Group', name) ",1,104
openstack%2Ftripleo-upgrade~stable%2Frocky~Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5,openstack/tripleo-upgrade,stable/rocky,Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5,Use external-(upgrade|update) commands for Ceph.,MERGED,2018-10-11 14:49:32.000000000,2018-10-25 18:27:46.000000000,2018-10-25 18:27:46.000000000,"[{'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-11 14:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2894cd1186ac902df787f0270b6cfa9ce553e39f', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 2, 'created': '2018-10-17 12:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6964e14a4e2b35e99899f8a1634a3279d4f84d92', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 3, 'created': '2018-10-18 12:49:04.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'templates/ceph-upgrade-run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/54bb1590dea0e7e7ba286252379c650597fc53fd', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n(cherry picked from commit c0c804dfbbe33fb3e32610348fd3aba922f95887)\n'}]",0,609730,54bb1590dea0e7e7ba286252379c650597fc53fd,16,4,3,21537,,,0,"Use external-(upgrade|update) commands for Ceph.

After switching from Heat workflow resources to external_deploy_tasks,
the `ceph-upgrade run` command no longer works and is dropped.
Instead use `external-update run` and `external-upgrade run` commands.

Also run ping/L3/load tests, if requested, during Ceph update/upgrade.

Change-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5
(cherry picked from commit c0c804dfbbe33fb3e32610348fd3aba922f95887)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/609730/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'templates/ceph-upgrade-run.sh.j2']",2,2894cd1186ac902df787f0270b6cfa9ce553e39f,ceph-upg-new-stable/rocky,"set -euo pipefail {% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_start_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_start_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_pre.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_pre.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) || : bash {{ working_dir }}/fip_http_check_start.sh & {% endif %} echo ""[$(date)] Major upgrade - Ceph upgrade step"" openstack overcloud external-upgrade run \ {% if overcloud_ssh_user != '' -%} --ssh-user {{ overcloud_ssh_user }} \ {% endif -%} {% if ceph_upgrade_skip_tags|default(false) -%} --skip-tags ""{{ ceph_upgrade_skip_tags }}"" \ {% endif -%} --tags ceph 2>&1 echo ""[$(date)] Major upgrade - finished Ceph upgrade step"" {% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_stop_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_stop_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_post.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_post.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) bash {{ working_dir }}/fip_http_check_stop.sh {% endif %}","echo ""[$(date)] Started {% if ffu_overcloud_upgrade %} ffwd-upgrade {% else %} major {% endif %}upgrade Ceph step"" openstack overcloud ceph-upgrade run \ --templates {{ tht_directory }} \ {% if initial_env_file is defined and initial_env_file.stdout_lines|length > 0 %} {% for _env in initial_env_file.stdout_lines %} -e {{ _env }} \ {% endfor %} {% endif %} {% if cli_converted_options|default(false)|bool %} -e {{working_dir}}/cli_opts_params.yaml \ {% endif %} {% if ffu_overcloud_upgrade %} {% if deployment_with_ha_upstream %} -e {{ tht_directory }}/environments/docker.yaml \ -e {{ tht_directory }}/environments/docker-ha.yaml \ {% endif %} -e {{working_dir}}/ceph-ansible-env.yaml \ --ceph-ansible-playbook '/usr/share/ceph-ansible/infrastructure-playbooks/switch-from-non-containerized-to-containerized-ceph-daemons.yml,/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml' \ {% endif %} {% if tripleo_upgrade_validations_non_fatal|bool %} --validation-errors-nonfatal \ {% endif %} -e {{ working_dir }}/{{ container_registry_file }} \ {% if splitstack_deployment|bool %} --disable-validations \ --deployed-server \ {% endif %} {% if (not ffu_overcloud_upgrade or roles_data != default_roles_data) %}--roles-file {{ roles_data }}{% endif %} 2>&1 echo ""[$(date)] Finished CEPH upgrade""",99,46
openstack%2Fnova~master~Ieb26275deac2ddee3768a0fad7f37dc5795fb5c0,openstack/nova,master,Ieb26275deac2ddee3768a0fad7f37dc5795fb5c0,api-ref: Add descriptions of error cases,MERGED,2018-10-15 04:24:56.000000000,2018-10-25 18:26:21.000000000,2018-10-25 18:26:00.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-15 04:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac738217512789fb2b414f88bacc953b15cd37b3', 'message': ""api-ref: Add descriptions of error cases\n\nIn the following APIs, the 'changes-since' query parameter must be\nearlier than or equal to 'changes-before' query parameter\notherwise the API returns 400.\n\n* GET /servers\n* GET /servers/detail\n\nAdd the description in each parameter.\n\nChange-Id: Ieb26275deac2ddee3768a0fad7f37dc5795fb5c0\n""}, {'number': 2, 'created': '2018-10-25 07:46:30.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c531a5b94111533962fe45a6193d4c7ffc2d66d', 'message': ""api-ref: Add descriptions of error cases\n\nIn the following APIs, the 'changes-since' query parameter must be\nearlier than or equal to 'changes-before' query parameter\notherwise the API returns 400.\n\n* GET /servers\n* GET /servers/detail\n\nAdd the description in each parameter.\n\nChange-Id: Ieb26275deac2ddee3768a0fad7f37dc5795fb5c0\n""}]",0,610429,4c531a5b94111533962fe45a6193d4c7ffc2d66d,33,16,2,7634,,,0,"api-ref: Add descriptions of error cases

In the following APIs, the 'changes-since' query parameter must be
earlier than or equal to 'changes-before' query parameter
otherwise the API returns 400.

* GET /servers
* GET /servers/detail

Add the description in each parameter.

Change-Id: Ieb26275deac2ddee3768a0fad7f37dc5795fb5c0
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/610429/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,ac738217512789fb2b414f88bacc953b15cd37b3,update_parameter_description," When both ``changes-since`` and ``changes-before`` are specified, the value of the ``changes-before`` must be later than or equal to the value of the ``changes-since`` otherwise API will return 400. When both ``changes-since`` and ``changes-before`` are specified, the value of the ``changes-since`` must be earlier than or equal to the value of the ``changes-before`` otherwise API will return 400.",,6,0
openstack%2Fkeystone~master~I65c79f15c9c94d53a8612153203898895ac4d0dd,openstack/keystone,master,I65c79f15c9c94d53a8612153203898895ac4d0dd,Update third endpoint legacy port for Keystone v3 API,MERGED,2018-10-24 23:03:04.000000000,2018-10-25 18:26:08.000000000,2018-10-25 18:26:08.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-24 23:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d823b19bfa76ee372067837ca949d2be6c958a19', 'message': 'Update third endpoint legacy port for Keystone v3 API\n\nThe third endpoint used a url that ended in port 35357 which was a legacy port in keystone v2 API which has been removed.\n\nUpdated port on admin port from 35357 to 5000. This will fit better with keystone v3 API as that of v2 has been removed.\n\nChange-Id: I65c79f15c9c94d53a8612153203898895ac4d0dd\n'}, {'number': 2, 'created': '2018-10-25 09:37:11.000000000', 'files': ['api-ref/source/v3/samples/admin/get-service-catalog-response.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/790f9685dcd5229b6fc76cb007506dbe46ddb8a6', 'message': 'Update third endpoint legacy port for Keystone v3 API\n\nThe third endpoint used a url that ended in port 35357 which was a legacy port\nin keystone v2 API which has been removed.\n\nUpdated port on admin port from 35357 to 5000. This will fit better with\nkeystone v3 API as that of v2 has been removed.\n\nChange-Id: I65c79f15c9c94d53a8612153203898895ac4d0dd\n'}]",2,613171,790f9685dcd5229b6fc76cb007506dbe46ddb8a6,14,4,2,29352,,,0,"Update third endpoint legacy port for Keystone v3 API

The third endpoint used a url that ended in port 35357 which was a legacy port
in keystone v2 API which has been removed.

Updated port on admin port from 35357 to 5000. This will fit better with
keystone v3 API as that of v2 has been removed.

Change-Id: I65c79f15c9c94d53a8612153203898895ac4d0dd
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/613171/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/samples/admin/get-service-catalog-response.json'],1,d823b19bfa76ee372067837ca949d2be6c958a19,," ""url"": ""http://localhost:5000"""," ""url"": ""http://localhost:35357""",1,1
openstack%2Fkeystone~master~I9655fb502b287ed7f0d381498252a24b417e5718,openstack/keystone,master,I9655fb502b287ed7f0d381498252a24b417e5718,Updating doc of unified limit,MERGED,2018-10-22 02:07:10.000000000,2018-10-25 18:26:06.000000000,2018-10-25 18:26:06.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-22 02:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/344b4e69b096e97a85ab3fcc0847c7ab017804af', 'message': 'Updating doc of unified limit\n\nAdding the details of maximum and minimum\nvalues a user can set for default limit,\nresource limit and resource name in the\nunified limit doc.\n\nChange-Id: I9655fb502b287ed7f0d381498252a24b417e5718\nRelated-patch: https://review.openstack.org/#/c/610479/\n'}, {'number': 2, 'created': '2018-10-25 02:37:10.000000000', 'files': ['doc/source/admin/identity-unified-limits.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f84fafbe28ec4b94127c45a0e3e773a2f571eb5', 'message': 'Updating doc of unified limit\n\nAdding the details of maximum and minimum\nvalues a user can set for default limit,\nresource limit and resource name in the\nunified limit doc.\n\nChange-Id: I9655fb502b287ed7f0d381498252a24b417e5718\nRelated-patch: https://review.openstack.org/#/c/610479/\n'}]",3,612226,4f84fafbe28ec4b94127c45a0e3e773a2f571eb5,12,6,2,27621,,,0,"Updating doc of unified limit

Adding the details of maximum and minimum
values a user can set for default limit,
resource limit and resource name in the
unified limit doc.

Change-Id: I9655fb502b287ed7f0d381498252a24b417e5718
Related-patch: https://review.openstack.org/#/c/610479/
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/612226/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/identity-unified-limits.rst'],1,344b4e69b096e97a85ab3fcc0847c7ab017804af,612226,- a project specific limit i.e resource limit.. NOTE:: The `default limit` of registered limit and the `resource limit` of limit now are limited from `-1` to `2147483647` (integer). `-1` means no limit. `2147483647` is the max value for integer by default in SQL (4 bytes). The length of unified limit's `resource type` now is limited from `1` to `255` (string). ,- a project specific limit,7,1
openstack%2Fneutron~stable%2Fqueens~Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7,openstack/neutron,stable/queens,Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7,Fix dvr ha router gateway goes wrong host,MERGED,2018-10-22 17:22:14.000000000,2018-10-25 18:25:52.000000000,2018-10-25 18:25:52.000000000,"[{'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 17:22:14.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3578ab87a2b1d1872e1334314aba20f08d52dd5b', 'message': ""Fix dvr ha router gateway goes wrong host\n\nDuring L3 agent restart, the dvr ha router gateway port\nbinding host may change because the multiple ha router\nscheduled hosts.\n\nAfter this patch, we return the 'master' ha binding host\ndirectly during the gateway port create. And do not let\nthe original 'master' (current is backup) host override\nthe gateway port binding host.\n\nCloses-Bug: #1793529\nChange-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7\n(cherry picked from commit 1973a037c29b0fc8bf6347771ed930726d1648f5)\n""}]",0,612453,3578ab87a2b1d1872e1334314aba20f08d52dd5b,12,6,1,7016,,,0,"Fix dvr ha router gateway goes wrong host

During L3 agent restart, the dvr ha router gateway port
binding host may change because the multiple ha router
scheduled hosts.

After this patch, we return the 'master' ha binding host
directly during the gateway port create. And do not let
the original 'master' (current is backup) host override
the gateway port binding host.

Closes-Bug: #1793529
Change-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7
(cherry picked from commit 1973a037c29b0fc8bf6347771ed930726d1648f5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/612453/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",4,3578ab87a2b1d1872e1334314aba20f08d52dd5b,bug/1793529-stable/queens," def test__get_sync_routers_with_state_change_and_check_gw_port_host(self): ext_net = self._create_network(self.core_plugin, self.admin_ctx, external=True) network_id = self._create_network(self.core_plugin, self.admin_ctx) subnet = self._create_subnet(self.core_plugin, self.admin_ctx, network_id) interface_info = {'subnet_id': subnet['id']} router = self._create_router() self.plugin._update_router_gw_info(self.admin_ctx, router['id'], {'network_id': ext_net}) self.plugin.add_router_interface(self.admin_ctx, router['id'], interface_info) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_ACTIVE}, self.agent1['host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent2['host']) routers = self.plugin._get_sync_routers(self.admin_ctx, router_ids=[router['id']]) self.assertEqual(self.agent1['host'], routers[0]['gw_port_host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent1['host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_ACTIVE}, self.agent2['host']) routers = self.plugin._get_sync_routers(self.admin_ctx, router_ids=[router['id']]) self.assertEqual(self.agent2['host'], routers[0]['gw_port_host']) ",,124,17
openstack%2Fneutron~master~Icbdad6712345d04b0b45194422cbe0813cd7e1e4,openstack/neutron,master,Icbdad6712345d04b0b45194422cbe0813cd7e1e4,remove unused db api functions,MERGED,2018-10-22 21:53:12.000000000,2018-10-25 18:25:49.000000000,2018-10-25 18:25:49.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-22 21:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d08a93bd5252b127c152482b1ffe8f0561d37bfa', 'message': ""remove unused db api functions\n\nThere are a handful of functions in neutron.db.api that are no longer\nused due to the consumption of the db api from neutron-lib. This patch\nremoves them.\n\nRemoved:\n- _copy_if_lds()\n- add_to_rel_load_list()\n- load_one_to_manys()\n- LOG\n\nRenamed:\n- expire_for_fk_change is now named _expire_for_fk_change to indicate\nit's private and should not be used by consumers.\n\nNeutronLibImpact\n\nChange-Id: Icbdad6712345d04b0b45194422cbe0813cd7e1e4\n""}, {'number': 2, 'created': '2018-10-24 20:39:35.000000000', 'files': ['neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/029f77e96cc56c9fdce095ee1714d89bef89abfe', 'message': ""remove unused db api functions\n\nThere are a handful of functions in neutron.db.api that are no longer\nused due to the consumption of the db api from neutron-lib. This patch\nremoves them.\n\nRemoved:\n- _copy_if_lds()\n- add_to_rel_load_list()\n- load_one_to_manys()\n- LOG\n\nRenamed:\n- expire_for_fk_change is now named _expire_for_fk_change to indicate\nit's private and should not be used by consumers.\n\nNeutronLibImpact\n\nChange-Id: Icbdad6712345d04b0b45194422cbe0813cd7e1e4\n""}]",0,612527,029f77e96cc56c9fdce095ee1714d89bef89abfe,29,14,2,5367,,,0,"remove unused db api functions

There are a handful of functions in neutron.db.api that are no longer
used due to the consumption of the db api from neutron-lib. This patch
removes them.

Removed:
- _copy_if_lds()
- add_to_rel_load_list()
- load_one_to_manys()
- LOG

Renamed:
- expire_for_fk_change is now named _expire_for_fk_change to indicate
it's private and should not be used by consumers.

NeutronLibImpact

Change-Id: Icbdad6712345d04b0b45194422cbe0813cd7e1e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/612527/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/api.py'],1,d08a93bd5252b127c152482b1ffe8f0561d37bfa,bp/neutronlib-decouple-db,"def _expire_for_fk_change(target, fk_value, relationship_prop, column_attr): _expire_for_fk_change(obj, *a) _expire_for_fk_change(obj, None, prop, colkey) _expire_for_fk_change(target, value, prop, colkey)","import copyfrom oslo_log import log as loggingLOG = logging.getLogger(__name__) def _copy_if_lds(item): """"""Deepcopy lists/dicts/sets, leave everything else alone."""""" return copy.deepcopy(item) if isinstance(item, (list, dict, set)) else item @event.listens_for(orm.session.Session, ""after_flush"") def add_to_rel_load_list(session, flush_context=None): # keep track of new items to load relationships on during commit session.info.setdefault('_load_rels', weakref.WeakSet()).update( session.new) @event.listens_for(orm.session.Session, ""before_commit"") def load_one_to_manys(session): # TODO(kevinbenton): we should be able to remove this after we # have eliminated all places where related objects are constructed # using a key rather than a relationship. # capture any new objects if session.new: session.flush() if session.transaction.nested: # wait until final commit return for new_object in session.info.pop('_load_rels', []): if new_object not in session: # don't load detached objects because that brings them back into # session continue state = sqlalchemy.inspect(new_object) # set up relationship loading so that we can call lazy # loaders on the object even though the "".key"" is not set up yet # (normally happens by in after_flush_postexec, but we're trying # to do this more succinctly). in this context this is only # setting a simple flag on the object's state. session.enable_relationship_loading(new_object) # look for eager relationships and do normal load. # For relationships where the related object is also # in the session these lazy loads will pull from the # identity map and not emit SELECT. Otherwise, we are still # local in the transaction so a normal SELECT load will work fine. for relationship_attr in state.mapper.relationships: if relationship_attr.lazy not in ('joined', 'subquery'): # we only want to automatically load relationships that would # automatically load during a lookup operation continue if relationship_attr.key not in state.dict: getattr(new_object, relationship_attr.key) if relationship_attr.key not in state.dict: msg = (""Relationship %s attributes must be loaded in db"" "" object %s"" % (relationship_attr.key, state.dict)) raise AssertionError(msg)def expire_for_fk_change(target, fk_value, relationship_prop, column_attr): expire_for_fk_change(obj, *a) expire_for_fk_change(obj, None, prop, colkey) expire_for_fk_change(target, value, prop, colkey)",4,65
openstack%2Fglance-specs~master~I959f58837c2c3f84503ee151f1815e244cfa065c,openstack/glance-specs,master,I959f58837c2c3f84503ee151f1815e244cfa065c,"spec-lite for addition of a ""web-location"" import method",ABANDONED,2018-03-19 21:31:54.000000000,2018-10-25 18:03:27.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 26734}]","[{'number': 1, 'created': '2018-03-19 21:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/6e579657f3cf0ad9062c63caa8641c41e235f3e7', 'message': 'spec-lite for addition of a ""web-location"" import method\n\nChange-Id: I959f58837c2c3f84503ee151f1815e244cfa065c\n'}, {'number': 2, 'created': '2018-03-20 00:38:36.000000000', 'files': ['specs/rocky/approved/glance/web-location-import-method.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c6e7bb3829929bb976581a75b923c81783da6544', 'message': 'spec-lite for addition of a ""web-location"" import method\n\nChange-Id: I959f58837c2c3f84503ee151f1815e244cfa065c\n'}]",2,554362,c6e7bb3829929bb976581a75b923c81783da6544,11,4,2,23561,,,0,"spec-lite for addition of a ""web-location"" import method

Change-Id: I959f58837c2c3f84503ee151f1815e244cfa065c
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/62/554362/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/glance/web-location-import-method.rst'],1,6e579657f3cf0ad9062c63caa8641c41e235f3e7,bug/1756465,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ Spec Lite: web-location import method ============================ :project: glance :problem: glance API v1 is deprecated and slated for removal in Rocky, yet it provides no functionality to register an image by location, when it is stored on an external HTTP server. In my use-case, images for use in numberous private cloud deployments on a corporate intranet are stored on a centralised HTTP server and registered with the various glance instances, under a common ""image"" project, by an administrator or automated process with an appropriate role. Those images are generally used only once - to create a cinder volume. A snapshot of the volume is then used to created the boot volume for each VM. Having to copy every image into some store behind each instance of glance would be very wasteful of storage and time. :solution: Provide a ""web-location"" import method, akin to ""web-download"", restricted by a policy that would be admin-only by default, but could be assigned to ""image administrators"" as needed. :impacts: None :alternatives: It may be possible to create an empty image, then modify its location(s) via PATCH, if bug 1750892 gets resolved, but this has a dependency on exposing the location direct URL, which is not ideal. It's also rather cumbersome. :timeline: Before API v1 gets removed. :reviewers: rosmaita ",,38,0
openstack%2Fopenstack-ansible-tests~master~Ifa0653628911c27c4c1c6ea0a565e06a35ea572e,openstack/openstack-ansible-tests,master,Ifa0653628911c27c4c1c6ea0a565e06a35ea572e,Clone integrated repo into the base jobs,MERGED,2018-08-16 16:24:47.000000000,2018-10-25 17:40:43.000000000,2018-10-25 17:40:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-08-16 16:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5be45f263813335a9a1a76de6f3cf93faef2c1c3', 'message': 'Clone integrated repo into the base jobs\n\nThis will help pave the way in order to allow us to call playbooks\nof the integrated repos inside our CI, avoiding the duplication\ninside openstack-ansible-tests.\n\nChange-Id: Ifa0653628911c27c4c1c6ea0a565e06a35ea572e\n'}, {'number': 2, 'created': '2018-08-16 22:04:31.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b945b39f6f3828dc497a0532ae9f4798a89fe287', 'message': 'Clone integrated repo into the base jobs\n\nThis will help pave the way in order to allow us to call playbooks\nof the integrated repos inside our CI, avoiding the duplication\ninside openstack-ansible-tests.\n\nChange-Id: Ifa0653628911c27c4c1c6ea0a565e06a35ea572e\n'}]",0,592573,b945b39f6f3828dc497a0532ae9f4798a89fe287,9,3,2,1004,,,0,"Clone integrated repo into the base jobs

This will help pave the way in order to allow us to call playbooks
of the integrated repos inside our CI, avoiding the duplication
inside openstack-ansible-tests.

Change-Id: Ifa0653628911c27c4c1c6ea0a565e06a35ea572e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/73/592573/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5be45f263813335a9a1a76de6f3cf93faef2c1c3,, - name: openstack/openstack-ansible,,1,0
openstack%2Fnetworking-ovn~stable%2Frocky~Icfc9e76e8371d8f33b264df65ae3a7cbc0ca099e,openstack/networking-ovn,stable/rocky,Icfc9e76e8371d8f33b264df65ae3a7cbc0ca099e,Register OVN metadata as an agent,MERGED,2018-10-01 08:50:26.000000000,2018-10-25 17:40:30.000000000,2018-10-25 17:40:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-01 08:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f6ad42c66bb91c8d9c66cb46067548752f667bdc', 'message': 'Register OVN metadata as an agent\n\nThis patch registers and lists the OVN metadata agent with Neutron.\n\nSince the OVN Controller / Gateway use the Chassis UUID as its own\nagent UUID, the OVN Metadata creates can\'t re-use that. Instead, this\npatch generates a random UUID for each Metadata agent and saves it to the\nexternal_ids\' column in the Chassis table. At startup time, the metadata\nagent will check if the ""neutron:ovn-metadata-id"" key is present in the\nChassis external_id column and use that UUID if it\'s there, otherwise\nit will generate a random UUID for it.\n\nThis patch uses the same AgentStats mechanism to identify whether the\nOVN metadata agent is alive or not by relying on the ""nb_cfg"" from the\nChassis. The only difference from the OVN controller agent is that the\nmetadata will save the ""nb_cfg"" of it\'s last update into the Chassis\nexternal_ids column.\n\nConflicts:\n\tnetworking_ovn/common/utils.py\n\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: #1719574\nChange-Id: Icfc9e76e8371d8f33b264df65ae3a7cbc0ca099e\n(cherry picked from commit 53a1c87cbf2de25e4d18696987179f40f6c5d67f)\n'}, {'number': 2, 'created': '2018-10-19 15:57:11.000000000', 'files': ['networking_ovn/common/utils.py', 'tools/configure_for_func_testing.sh', 'networking_ovn/agent/metadata/ovsdb.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/93fccfb62ea0750fd10448b497f7a6cd4f12a828', 'message': 'Register OVN metadata as an agent\n\nThis patch registers and lists the OVN metadata agent with Neutron.\n\nSince the OVN Controller / Gateway use the Chassis UUID as its own\nagent UUID, the OVN Metadata creates can\'t re-use that. Instead, this\npatch generates a random UUID for each Metadata agent and saves it to the\nexternal_ids\' column in the Chassis table. At startup time, the metadata\nagent will check if the ""neutron:ovn-metadata-id"" key is present in the\nChassis external_id column and use that UUID if it\'s there, otherwise\nit will generate a random UUID for it.\n\nThis patch uses the same AgentStats mechanism to identify whether the\nOVN metadata agent is alive or not by relying on the ""nb_cfg"" from the\nChassis. The only difference from the OVN controller agent is that the\nmetadata will save the ""nb_cfg"" of it\'s last update into the Chassis\nexternal_ids column.\n\nConflicts:\n\tnetworking_ovn/common/utils.py\n\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: #1719574\nChange-Id: Icfc9e76e8371d8f33b264df65ae3a7cbc0ca099e\n(cherry picked from commit 53a1c87cbf2de25e4d18696987179f40f6c5d67f)\n'}]",0,606904,93fccfb62ea0750fd10448b497f7a6cd4f12a828,36,6,2,6773,,,0,"Register OVN metadata as an agent

This patch registers and lists the OVN metadata agent with Neutron.

Since the OVN Controller / Gateway use the Chassis UUID as its own
agent UUID, the OVN Metadata creates can't re-use that. Instead, this
patch generates a random UUID for each Metadata agent and saves it to the
external_ids' column in the Chassis table. At startup time, the metadata
agent will check if the ""neutron:ovn-metadata-id"" key is present in the
Chassis external_id column and use that UUID if it's there, otherwise
it will generate a random UUID for it.

This patch uses the same AgentStats mechanism to identify whether the
OVN metadata agent is alive or not by relying on the ""nb_cfg"" from the
Chassis. The only difference from the OVN controller agent is that the
metadata will save the ""nb_cfg"" of it's last update into the Chassis
external_ids column.

Conflicts:
	networking_ovn/common/utils.py

Co-Authored-By: Daniel Alvarez <dalvarez@redhat.com>
Closes-Bug: #1719574
Change-Id: Icfc9e76e8371d8f33b264df65ae3a7cbc0ca099e
(cherry picked from commit 53a1c87cbf2de25e4d18696987179f40f6c5d67f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/606904/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'tools/configure_for_func_testing.sh', 'networking_ovn/agent/metadata/ovsdb.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",12,f6ad42c66bb91c8d9c66cb46067548752f667bdc,bug/1719574,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_config import fixture as fixture_config from networking_ovn.agent.metadata import agent from networking_ovn.agent.metadata import ovsdb from networking_ovn.agent.metadata import server as metadata_server from networking_ovn.common import constants as ovn_const from networking_ovn.conf.agent.metadata import config as meta from networking_ovn.tests.functional import base class TestMetadataAgent(base.TestOVNFunctionalBase): def setUp(self): super(TestMetadataAgent, self).setUp() self._start_metadata_agent() def _start_metadata_agent(self): conf = self.useFixture(fixture_config.Config()).conf conf.register_opts(meta.SHARED_OPTS) conf.register_opts(meta.UNIX_DOMAIN_METADATA_PROXY_OPTS) conf.register_opts(meta.METADATA_PROXY_HANDLER_OPTS) conf.register_opts(meta.OVS_OPTS, group='ovs') meta.setup_privsep() ovn_sb_db = self.ovsdb_server_mgr.get_ovsdb_connection_path('sb') conf.set_override('ovn_sb_connection', ovn_sb_db, group='ovn') # We don't need the HA proxy server running for now p = mock.patch.object(metadata_server, 'UnixDomainMetadataProxy') p.start() self.addCleanup(p.stop) # We only have OVN NB and OVN SB running for functional tests p = mock.patch.object(ovsdb, 'MetadataAgentOvsIdl') p.start() self.addCleanup(p.stop) self.chassis_name = self.add_fake_chassis('ovs-host-fake') with mock.patch.object(agent.MetadataAgent, '_get_own_chassis_name') as mock_get_ch_name: mock_get_ch_name.return_value = self.chassis_name agt = agent.MetadataAgent(conf) agt.start() # Metadata agent will open connections to OVS and SB databases. # Close connections to them when the test ends, self.addCleanup(agt.ovs_idl.ovsdb_connection.stop) self.addCleanup(agt.sb_idl.ovsdb_connection.stop) def test_metadata_agent_healthcheck(self): chassis_row = self.sb_api.db_find( 'Chassis', ('name', '=', self.chassis_name)).execute( check_error=True)[0] # Assert that, prior to creating a resource the metadata agent # didn't populate the external_ids from the Chassis self.assertNotIn(ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, chassis_row['external_ids']) # Let's create a network to force a transaction (actually 2: one for # the logical switch and another one for the metadata port) on NB db # which will automatically increment the nb_cfg counter on NB_Global # and make ovn-controller copy it over to SB_Global. Upon this event, # Metadata agent will update the external_ids on its Chassis row to # signal that it's healthy. self._make_network(self.fmt, 'n1', True) chassis_row = self.sb_api.db_find( 'Chassis', ('name', '=', self.chassis_name)).execute( check_error=True)[0] # Assert that the metadata agent now populated the external_ids # from the chassis with the nb_cfg self.assertEqual(int(chassis_row['external_ids'][ ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY]), 2) ",,304,54
openstack%2Fnetworking-ovn~stable%2Frocky~I529d82b28be9bb93649f19034027c41ee1aff08b,openstack/networking-ovn,stable/rocky,I529d82b28be9bb93649f19034027c41ee1aff08b,Fix ovn db sync tool to support Port Groups,MERGED,2018-10-19 06:50:31.000000000,2018-10-25 17:40:29.000000000,2018-10-25 17:40:29.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 17776}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-19 06:50:31.000000000', 'files': ['networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c2db89715e98a9f235c686a403ec8d274a512c4', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit ebd5b06f554d06d7e4b2fe78dca1eaf5cd007c86)\n'}]",0,611786,6c2db89715e98a9f235c686a403ec8d274a512c4,18,6,1,23804,,,0,"Fix ovn db sync tool to support Port Groups

If port groups are supported, the sync script will still create
address sets and ACLs based on the old implementation.
This patch is taking into account whether Port Groups are supported
and create the right resources accordingly.

Closes-Bug: #1798028

Change-Id: I529d82b28be9bb93649f19034027c41ee1aff08b
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit ebd5b06f554d06d7e4b2fe78dca1eaf5cd007c86)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/86/611786/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py']",6,6c2db89715e98a9f235c686a403ec8d274a512c4,bug/1798028, self.db_list_rows = mock.Mock() self.lsp_list = mock.MagicMock(),,479,110
openstack%2Fnetworking-ovn~stable%2Frocky~Ib08473e4768c94ad3b0a223b72f1dad1d26769dd,openstack/networking-ovn,stable/rocky,Ib08473e4768c94ad3b0a223b72f1dad1d26769dd,Use neutron's agent_down_time for agent liveness,MERGED,2018-09-28 13:13:10.000000000,2018-10-25 17:40:28.000000000,2018-10-25 17:40:28.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-28 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/83f6376db6d25f8cfead5064e32146f225bcef93', 'message': ""Use neutron's agent_down_time for agent liveness\n\nInstead of returning the immediate status, mimick ML2/OVS's\nagent_down_time handling. With this patch, we no longer have an\nissue where an agent will appear down because we didn't wait long\nenough for ovn-controller to update the Chassis and we don't have\nto wait before sending a response to API requests.\n\nCloses-Bug: #1719574\nChange-Id: Ib08473e4768c94ad3b0a223b72f1dad1d26769dd\n(cherry picked from commit 7cf92ee960697d284f58ab9c26dab607b3685f57)\n""}, {'number': 2, 'created': '2018-10-01 08:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/530806d775ea9d55370af08a717ece07adc9a82a', 'message': ""Use neutron's agent_down_time for agent liveness\n\nInstead of returning the immediate status, mimick ML2/OVS's\nagent_down_time handling. With this patch, we no longer have an\nissue where an agent will appear down because we didn't wait long\nenough for ovn-controller to update the Chassis and we don't have\nto wait before sending a response to API requests.\n\nCloses-Bug: #1719574\nChange-Id: Ib08473e4768c94ad3b0a223b72f1dad1d26769dd\n(cherry picked from commit 7cf92ee960697d284f58ab9c26dab607b3685f57)\n""}, {'number': 3, 'created': '2018-10-19 06:50:31.000000000', 'files': ['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/extensions.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'releasenotes/notes/add-agent-api-4f15364d04d28941.yaml', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/34fdaa90381b3d56819995aa5113f9f36b6984d0', 'message': ""Use neutron's agent_down_time for agent liveness\n\nInstead of returning the immediate status, mimick ML2/OVS's\nagent_down_time handling. With this patch, we no longer have an\nissue where an agent will appear down because we didn't wait long\nenough for ovn-controller to update the Chassis and we don't have\nto wait before sending a response to API requests.\n\nCloses-Bug: #1719574\nChange-Id: Ib08473e4768c94ad3b0a223b72f1dad1d26769dd\n(cherry picked from commit 7cf92ee960697d284f58ab9c26dab607b3685f57)\n""}]",0,606067,34fdaa90381b3d56819995aa5113f9f36b6984d0,72,7,3,6773,,,0,"Use neutron's agent_down_time for agent liveness

Instead of returning the immediate status, mimick ML2/OVS's
agent_down_time handling. With this patch, we no longer have an
issue where an agent will appear down because we didn't wait long
enough for ovn-controller to update the Chassis and we don't have
to wait before sending a response to API requests.

Closes-Bug: #1719574
Change-Id: Ib08473e4768c94ad3b0a223b72f1dad1d26769dd
(cherry picked from commit 7cf92ee960697d284f58ab9c26dab607b3685f57)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/67/606067/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/extensions.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'releasenotes/notes/add-agent-api-4f15364d04d28941.yaml', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/fakes.py']",11,83f6376db6d25f8cfead5064e32146f225bcef93,bug/1798028, self.nb_global = mock.Mock(),,164,4
openstack%2Foslo.rootwrap~master~Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563,openstack/oslo.rootwrap,master,Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563,Run rootwrap with lower fd ulimit by default,MERGED,2018-10-04 12:39:42.000000000,2018-10-25 17:40:16.000000000,2018-10-25 01:28:26.000000000,"[{'_account_id': 308}, {'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 6928}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 12:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/2480afd4e04c965deb7fca7f3d89b37081415653', 'message': 'Run rootwrap.daemon with low fd limit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 512000 or higher). By\nstarting our daemon with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 2, 'created': '2018-10-04 13:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/ee295a0a7a4aebe065b604fb2c153ff431743c97', 'message': 'Run rootwrap.daemon with low fd limit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 512000 or higher). By\nstarting our daemon with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 3, 'created': '2018-10-04 13:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/9c2d01df94d5042d09e7222f0075b5bc481fe54c', 'message': 'Run rootwrap.daemon with low fd limit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 512000 or higher). By\nstarting our daemon with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 4, 'created': '2018-10-04 15:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/10eef13c87bd3f0e65a18bbabe4ef3a5fd78f811', 'message': 'Run rootwrap with low fd ulimit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 1 million or higher). By\nstarting our process with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 5, 'created': '2018-10-04 15:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/1ef85e972b63ea6c033e611cd0e62455e34fa026', 'message': 'Run rootwrap with low fd ulimit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 1 million or higher). By\nstarting our process with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 6, 'created': '2018-10-04 19:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c00cbc8c77923910d1906aed19ba0c3224fa3f97', 'message': 'Run rootwrap with low fd ulimit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large (like 1 million or higher). By\nstarting our process with lower fd ulimit we can mitigate that\neffectively and regain performance.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 7, 'created': '2018-10-04 20:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/31344522e9278718b34f0001110bb58e1885ebdb', 'message': 'Run rootwrap with low fd ulimit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied.\n\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 8, 'created': '2018-10-05 10:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/09acc0b299310fdb19855abcc5f19161282410e7', 'message': 'Run rootwrap with low fd ulimit\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied.\n\nCloses-Bug: 1796267\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 9, 'created': '2018-10-09 10:12:56.000000000', 'files': ['doc/source/user/usage.rst', 'etc/rootwrap.conf.sample', 'oslo_rootwrap/wrapper.py', 'oslo_rootwrap/cmd.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c0a86998203315858721a7b2c8ab75fbf5cd51d9', 'message': 'Run rootwrap with lower fd ulimit by default\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied. This patch adds a configuration option and\nsets a more sensible default of 1024 file descriptor limit by default.\n\nCloses-Bug: 1796267\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}]",2,607951,c0a86998203315858721a7b2c8ab75fbf5cd51d9,42,7,9,6593,,,0,"Run rootwrap with lower fd ulimit by default

On Python 2.x, a subprocess.Popen() with close_fds=True will
fork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),
which thanks to Kernel PTI (Kaiser patches) is significantly slower
in 2018 when the range is very large. With a soft limit of 1048576,
benchmark.py reports an overhead of ~ 400ms without this patch and 2ms
with the patch applied. This patch adds a configuration option and
sets a more sensible default of 1024 file descriptor limit by default.

Closes-Bug: 1796267
Change-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/51/607951/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_rootwrap/daemon.py'],1,2480afd4e04c965deb7fca7f3d89b37081415653,607951,"import resource # We use close_fds=True, which can hinder performance a lot # on Python 2.x where it closes up to all possible fds fd_limit = resource.getrlimit(resource.RLIMIT_NOFILE)[0] sensible_fd_limit = 1024 if (fd_limit[0] > sensible_fd_limit): LOG.info(""Lowering ulimit for NOFILE to %d"", sensible_fd_limit) resource.setrlimit( resource.RLIMIT_NOFILE, (sensible_fd_limit, sensible_fd_limit)) ",,11,0
openstack%2Fpuppet-swift~master~If303b5af5cf68781dd42cc7d44e77e10bc77cdf7,openstack/puppet-swift,master,If303b5af5cf68781dd42cc7d44e77e10bc77cdf7,Add puppet-swift-tripleo-standalone job,MERGED,2018-10-12 07:46:26.000000000,2018-10-25 17:27:50.000000000,2018-10-25 17:27:50.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 9414}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2018-10-12 07:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e4ddbec57bb7c7a79a0c08e60c14fff000ef4ada', 'message': '[DNM] testing tripleo standalone tempest\n\nDepends-On: https://review.openstack.org/609918\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}, {'number': 2, 'created': '2018-10-15 10:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d8c5fa18c106eb77059ffd120856e1ac5deb6318', 'message': 'Add puppet-swift-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run\n  Object Storage specific tempest tests.\n* It will help to detect the puppet-swift tempest specific issues\n  early in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\n\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}, {'number': 3, 'created': '2018-10-15 15:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/62114bb7d928a4de7d4433cfe38ab2187a2575cc', 'message': 'Add puppet-swift-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run\n  Object Storage specific tempest tests.\n* It will help to detect the puppet-swift tempest specific issues\n  early in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\nDepends-On: https://review.openstack.org/#/c/610600/\n\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}, {'number': 4, 'created': '2018-10-16 06:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/52769be206c4936ce82ad2b209fed2ccd4e4fb29', 'message': 'Add puppet-swift-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run\n  Object Storage specific tempest tests.\n* It will help to detect the puppet-swift tempest specific issues\n  early in gates.\n\nDepends-On: https://review.openstack.org/#/c/609666\nDepends-On: https://review.openstack.org/#/c/610600/\nDepends-On: https://review.openstack.org/#/c/610017/\n\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}, {'number': 5, 'created': '2018-10-17 08:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4a1ba6e7d0131a5745a9dea80491fc472ec829db', 'message': 'Add puppet-swift-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run\n  Object Storage specific tempest tests.\n* It will help to detect the puppet-swift tempest specific issues\n  early in gates.\n\nDepends-On: https://review.openstack.org/#/c/610600/\n\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}, {'number': 6, 'created': '2018-10-23 12:29:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f2ea89695b990c2a00d7c24bb6fe3cd9b5fd00ad', 'message': 'Add puppet-swift-tripleo-standalone job\n\n* It overrrides the tripleo-standalone featureset override to run\n  Object Storage specific tempest tests.\n* It will help to detect the puppet-swift tempest specific issues\n  early in gates.\n\nDepends-On: https://review.openstack.org/#/c/612245/\n\nChange-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7\n'}]",0,609943,f2ea89695b990c2a00d7c24bb6fe3cd9b5fd00ad,40,8,6,12393,,,0,"Add puppet-swift-tripleo-standalone job

* It overrrides the tripleo-standalone featureset override to run
  Object Storage specific tempest tests.
* It will help to detect the puppet-swift tempest specific issues
  early in gates.

Depends-On: https://review.openstack.org/#/c/612245/

Change-Id: If303b5af5cf68781dd42cc7d44e77e10bc77cdf7
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/43/609943/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,e4ddbec57bb7c7a79a0c08e60c14fff000ef4ada,tempest_standalone,,,1,0
openstack%2Fopenstack-ansible-os_glance~master~I354f30462205dbf34de946260204b63c11488049,openstack/openstack-ansible-os_glance,master,I354f30462205dbf34de946260204b63c11488049,Add cron as a required package,MERGED,2018-10-24 16:22:57.000000000,2018-10-25 17:23:32.000000000,2018-10-25 17:23:32.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 16:22:57.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/e596ee101bc900fcbe494d2f9ac60cadf5936265', 'message': 'Add cron as a required package\n\nThe role sets up crontab entries but assumes that the environment\nhas cron installed. This patch ensures that assumption is correct.\n\nChange-Id: I354f30462205dbf34de946260204b63c11488049\n'}]",0,613103,e596ee101bc900fcbe494d2f9ac60cadf5936265,11,4,1,25023,,,0,"Add cron as a required package

The role sets up crontab entries but assumes that the environment
has cron installed. This patch ensures that assumption is correct.

Change-Id: I354f30462205dbf34de946260204b63c11488049
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/03/613103/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",3,e596ee101bc900fcbe494d2f9ac60cadf5936265,reduce-packages, - cronie,,3,0
openstack%2Fglance_store~master~I63571e4a8f85003e304f16653d60cbd38e6b6bde,openstack/glance_store,master,I63571e4a8f85003e304f16653d60cbd38e6b6bde,Provision to add new config options in sample config file,MERGED,2018-09-18 09:06:34.000000000,2018-10-25 17:19:11.000000000,2018-10-25 17:19:11.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-18 09:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8b25d36703e2e51b338ef639b37c09dc5d6c3c8a', 'message': 'Provision to add new config options in sample config file\n\nIn Rocky we have added support for multiple backend as a EXPERIMENTAL\nfeature. However configuration options related to multiple backend\nare not generated in sample config file due to some issue. We have\nadded below 3 new config options for multiple backend.\n\n1. enabled_backneds (added in glance)\n2. default_backend (added in glance_store)\n3. store_description (added in glance_store)\n\nMade provision to add option 2 and 3 from above to sample config\nfile.\n\nChange-Id: I63571e4a8f85003e304f16653d60cbd38e6b6bde\nPartial-Bug: #1793057\n'}, {'number': 2, 'created': '2018-09-18 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/dbb72ee3fd339f621aa012bb0c168f9f6cd68f0b', 'message': 'Provision to add new config options in sample config file\n\nIn Rocky we have added support for multiple backend as a EXPERIMENTAL\nfeature. However configuration options related to multiple backend\nare not generated in sample config file due to some issue. We have\nadded below 3 new config options for multiple backend.\n\n1. enabled_backneds (added in glance)\n2. default_backend (added in glance_store)\n3. store_description (added in glance_store)\n\nMade provision to add option 2 and 3 from above to sample config\nfile.\n\nChange-Id: I63571e4a8f85003e304f16653d60cbd38e6b6bde\nPartial-Bug: #1793057\n'}, {'number': 3, 'created': '2018-09-18 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ae026499025279d4f40547a5be2e16dce30fce66', 'message': 'Provision to add new config options in sample config file\n\nIn Rocky we have added support for multiple backend as a EXPERIMENTAL\nfeature. However configuration options related to multiple backend\nare not generated in sample config file due to some issue. We have\nadded below 2 new config options for multiple backend.\n\n1. enabled_backneds (added in glance)\n2. default_backend (added in glance_store)\n\nMade provision to add option 2 from above to sample config\nfile.\n\nChange-Id: I63571e4a8f85003e304f16653d60cbd38e6b6bde\nPartial-Bug: #1793057\n'}, {'number': 4, 'created': '2018-09-18 10:19:19.000000000', 'files': ['glance_store/multi_backend.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/da494d4abb3f738315396081502fef96b0248091', 'message': 'Provision to add new config options in sample config file\n\nIn Rocky we have added support for multiple backend as a EXPERIMENTAL\nfeature. However configuration options related to multiple backend\nare not generated in sample config file due to some issue. We have\nadded below 2 new config options for multiple backend.\n\n1. enabled_backneds (added in glance)\n2. default_backend (added in glance_store)\n\nMade provision to add option 2 from above to sample config\nfile.\n\nChange-Id: I63571e4a8f85003e304f16653d60cbd38e6b6bde\nPartial-Bug: #1793057\n'}]",1,603331,da494d4abb3f738315396081502fef96b0248091,11,5,4,9303,,,0,"Provision to add new config options in sample config file

In Rocky we have added support for multiple backend as a EXPERIMENTAL
feature. However configuration options related to multiple backend
are not generated in sample config file due to some issue. We have
added below 2 new config options for multiple backend.

1. enabled_backneds (added in glance)
2. default_backend (added in glance_store)

Made provision to add option 2 from above to sample config
file.

Change-Id: I63571e4a8f85003e304f16653d60cbd38e6b6bde
Partial-Bug: #1793057
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/31/603331/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/multi_backend.py', 'setup.cfg']",2,8b25d36703e2e51b338ef639b37c09dc5d6c3c8a,bug/1793057, glance.multi_store = glance_store.multi_backend._list_opts,,18,0
openstack%2Fopenstack-ansible-os_keystone~master~Ic708573a8867b914536ff6210f35779f3db513b3,openstack/openstack-ansible-os_keystone,master,Ic708573a8867b914536ff6210f35779f3db513b3,Add cron as a required package,MERGED,2018-10-24 16:17:24.000000000,2018-10-25 17:19:10.000000000,2018-10-25 17:19:10.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 16:17:24.000000000', 'files': ['vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d04556eee9b092f4e4e0cb41728cdfcec4730432', 'message': 'Add cron as a required package\n\nThis was missing from the ubuntu vars but present for the other distros.\n\nChange-Id: Ic708573a8867b914536ff6210f35779f3db513b3\n'}]",0,613102,d04556eee9b092f4e4e0cb41728cdfcec4730432,11,4,1,25023,,,0,"Add cron as a required package

This was missing from the ubuntu vars but present for the other distros.

Change-Id: Ic708573a8867b914536ff6210f35779f3db513b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/02/613102/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu.yml'],1,d04556eee9b092f4e4e0cb41728cdfcec4730432,reduce-packages, - cron,,1,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~Idc50e27b84cc6287765dea1cb6b69dd53e4960d2,openstack/openstack-ansible-os_neutron,stable/rocky,Idc50e27b84cc6287765dea1cb6b69dd53e4960d2,V2 driver is needed to work with ODL 9.0,MERGED,2018-10-24 07:53:07.000000000,2018-10-25 17:01:34.000000000,2018-10-25 17:01:34.000000000,"[{'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/58e453fbfe5bf64b6510d5bec5a14c934033b4db', 'message': 'V2 driver is needed to work with ODL 9.0\n\nThe new version of ODL (released 28th of August) requires the version 2\nof the SFC driver in order for SFC to work\n\nChange-Id: Idc50e27b84cc6287765dea1cb6b69dd53e4960d2\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n(cherry picked from commit 9ec6cfc7377233685315de575880e55d83da347e)\n'}, {'number': 2, 'created': '2018-10-24 11:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/218f95610839e9d6ea6323cc33dd3b3d15150eaf', 'message': 'V2 driver is needed to work with ODL 9.0\n\nThe new version of ODL (released 28th of August) requires the version 2\nof the SFC driver in order for SFC to work\n\nChange-Id: Idc50e27b84cc6287765dea1cb6b69dd53e4960d2\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n(cherry picked from commit 9ec6cfc7377233685315de575880e55d83da347e)\n'}, {'number': 3, 'created': '2018-10-25 08:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c8c395fd2d32300c3fe7c94dafec0e94fab01bcb', 'message': 'V2 driver is needed to work with ODL 9.0\n\nThe new version of ODL (released 28th of August) requires the version 2\nof the SFC driver in order for SFC to work\n\nChange-Id: Idc50e27b84cc6287765dea1cb6b69dd53e4960d2\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n(cherry picked from commit 9ec6cfc7377233685315de575880e55d83da347e)\n'}, {'number': 4, 'created': '2018-10-25 08:52:24.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/200fa4a7aaa15a6d6758418eafffe093174d2f72', 'message': 'V2 driver is needed to work with ODL 9.0\n\nThe new version of ODL (released 28th of August) requires the version 2\nof the SFC driver in order for SFC to work\n\nChange-Id: Idc50e27b84cc6287765dea1cb6b69dd53e4960d2\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n(cherry picked from commit 9ec6cfc7377233685315de575880e55d83da347e)\n'}]",0,612939,200fa4a7aaa15a6d6758418eafffe093174d2f72,17,4,4,21883,,,0,"V2 driver is needed to work with ODL 9.0

The new version of ODL (released 28th of August) requires the version 2
of the SFC driver in order for SFC to work

Change-Id: Idc50e27b84cc6287765dea1cb6b69dd53e4960d2
Signed-off-by: Manuel Buil <mbuil@suse.com>
(cherry picked from commit 9ec6cfc7377233685315de575880e55d83da347e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/39/612939/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,58e453fbfe5bf64b6510d5bec5a14c934033b4db,,drivers = odl_v2drivers = odl_v2,drivers = odldrivers = odl,2,2
openstack%2Fopenstack-ansible-os_tempest~stable%2Frocky~Ia62cbc85fc1f1e8db4ce8f8aa41beef5ecefcc49,openstack/openstack-ansible-os_tempest,stable/rocky,Ia62cbc85fc1f1e8db4ce8f8aa41beef5ecefcc49,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:38:02.000000000,2018-10-25 17:00:35.000000000,2018-10-25 17:00:34.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:38:02.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/tempest1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/71bc993d77391352041941e8b164ba2124a759fa', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ia62cbc85fc1f1e8db4ce8f8aa41beef5ecefcc49\n(cherry picked from commit d77b3d1748550fc262e105f09113b10cc7dc5fc1)\n'}]",0,612908,71bc993d77391352041941e8b164ba2124a759fa,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ia62cbc85fc1f1e8db4ce8f8aa41beef5ecefcc49
(cherry picked from commit d77b3d1748550fc262e105f09113b10cc7dc5fc1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/08/612908/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/tempest1.yml']",4,71bc993d77391352041941e8b164ba2124a759fa,container_name_host_var-stable/rocky,container_name: tempest1,,3,1
openstack%2Fopenstack-ansible-repo_server~master~Iab09b732d63d007c1d638ec9dc35834e564e5ce5,openstack/openstack-ansible-repo_server,master,Iab09b732d63d007c1d638ec9dc35834e564e5ce5,Use distro packages only after they are installed,MERGED,2018-10-24 15:11:23.000000000,2018-10-25 16:59:23.000000000,2018-10-25 16:59:23.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/cc192edabddbc823b18a9e27bf9da17a1854d8c0', 'message': 'Use distro packages only after they are installed\n\nIn an environment with sudo and lsyncd not already installed the pre\ninstall tasks try to set up config files before the config directories\nexist, and the tasks fail.\n\nThis patch moves the sudo and lsyncd config tasks to run after the\ndistro packages have been installed.\n\nIn addition, sudo is added as a required distro package for the\nrepo server.\n\nChange-Id: Iab09b732d63d007c1d638ec9dc35834e564e5ce5\n'}, {'number': 2, 'created': '2018-10-25 12:08:55.000000000', 'files': ['tasks/repo_install.yml', 'vars/redhat.yml', 'tasks/repo_pre_install.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/467f8e30805301645956f1e3d72a933cf47495b1', 'message': 'Use distro packages only after they are installed\n\nIn an environment with sudo and lsyncd not already installed the pre\ninstall tasks try to set up config files before the config directories\nexist, and the tasks fail.\n\nThis patch moves the sudo and lsyncd config tasks to run after the\ndistro packages have been installed.\n\nIn addition, sudo is added as a required distro package for the\nrepo server.\n\nChange-Id: Iab09b732d63d007c1d638ec9dc35834e564e5ce5\n'}]",1,613069,467f8e30805301645956f1e3d72a933cf47495b1,12,4,2,25023,,,0,"Use distro packages only after they are installed

In an environment with sudo and lsyncd not already installed the pre
install tasks try to set up config files before the config directories
exist, and the tasks fail.

This patch moves the sudo and lsyncd config tasks to run after the
distro packages have been installed.

In addition, sudo is added as a required distro package for the
repo server.

Change-Id: Iab09b732d63d007c1d638ec9dc35834e564e5ce5
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/69/613069/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'vars/redhat.yml', 'tasks/repo_pre_install.yml', 'vars/debian.yml', 'vars/suse.yml']",5,cc192edabddbc823b18a9e27bf9da17a1854d8c0,reduce-packages, - sudo,,15,12
openstack%2Fopenstack-helm-infra~master~I1d57940d25db5bf208442d378abc628f57a9f43e,openstack/openstack-helm-infra,master,I1d57940d25db5bf208442d378abc628f57a9f43e,[MariaDB] Be a pirate .... 'R'rrrrrr!,ABANDONED,2018-10-23 19:23:36.000000000,2018-10-25 16:48:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-23 19:23:36.000000000', 'files': ['mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8f0cea517190ad3891ca7001368bb5d5a9d1a83', 'message': ""[MariaDB] Be a pirate .... 'R'rrrrrr!\n\nChange-Id: I1d57940d25db5bf208442d378abc628f57a9f43e\n""}]",0,612789,e8f0cea517190ad3891ca7001368bb5d5a9d1a83,3,1,1,8898,,,0,"[MariaDB] Be a pirate .... 'R'rrrrrr!

Change-Id: I1d57940d25db5bf208442d378abc628f57a9f43e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/612789/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/statefulset.yaml'],1,e8f0cea517190ad3891ca7001368bb5d5a9d1a83,mariadb-recovery, value: {{ .Values.force_recovery | quote }}, value: {{ .Values.force_recovey | quote }},1,1
openstack%2Fopenstack-helm-infra~master~I89c51d4bae7f2d04e3d1e7485e04355cb3f5b52c,openstack/openstack-helm-infra,master,I89c51d4bae7f2d04e3d1e7485e04355cb3f5b52c,"[MariaDB] Don't be a pirate, remove that patch",ABANDONED,2018-10-23 19:23:32.000000000,2018-10-25 16:47:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-23 19:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/650f0fc913d403cd19bd3e76ccfc8a0c10fb905b', 'message': ""[MariaDB] Don't be a pirate, remove that patch\n\nChange-Id: I89c51d4bae7f2d04e3d1e7485e04355cb3f5b52c\n""}, {'number': 2, 'created': '2018-10-24 00:57:55.000000000', 'files': ['mariadb/templates/bin/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/949dbae79cb10faf3254059e59594a70d475d4cb', 'message': ""[MariaDB] Don't be a pirate, remove that patch\n\nChange-Id: I89c51d4bae7f2d04e3d1e7485e04355cb3f5b52c\n""}]",0,612788,949dbae79cb10faf3254059e59594a70d475d4cb,5,1,2,8898,,,0,"[MariaDB] Don't be a pirate, remove that patch

Change-Id: I89c51d4bae7f2d04e3d1e7485e04355cb3f5b52c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/612788/2 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.sh.tpl'],1,650f0fc913d403cd19bd3e76ccfc8a0c10fb905b,mariadb-remove-patch,,"# MariaDB 10.2.13 has a regression which breaks clustering, patch # around this for now if /usr/sbin/mysqld --version | grep --silent 10.2.13 ; then sed -i 's^LSOF_OUT=.*^LSOF_OUT=$(lsof -sTCP:LISTEN -i TCP:${PORT} -a -c nc -c socat -F c 2> /dev/null || :)^' /usr/bin/wsrep_sst_xtrabackup-v2 fi ",0,6
openstack%2Fkeystone~master~Id8cf0c72ea0157961055fbbe0b9c013dfbb70fa6,openstack/keystone,master,Id8cf0c72ea0157961055fbbe0b9c013dfbb70fa6,Trivial: Remove repeated if conditions,MERGED,2018-10-25 05:37:50.000000000,2018-10-25 16:44:43.000000000,2018-10-25 16:44:43.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 05:37:50.000000000', 'files': ['keystone/tests/common/auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6fc7eb7fd8518bfb6ca53ca980c10fc0040e5668', 'message': 'Trivial: Remove repeated if conditions\n\nThis patch removes a if condition mentioned\ntwice in auth.py of tests.common.\n\nChange-Id: Id8cf0c72ea0157961055fbbe0b9c013dfbb70fa6\n'}]",0,613198,6fc7eb7fd8518bfb6ca53ca980c10fc0040e5668,8,7,1,27621,,,0,"Trivial: Remove repeated if conditions

This patch removes a if condition mentioned
twice in auth.py of tests.common.

Change-Id: Id8cf0c72ea0157961055fbbe0b9c013dfbb70fa6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/98/613198/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/common/auth.py'],1,6fc7eb7fd8518bfb6ca53ca980c10fc0040e5668,,, elif system: scope_data['system'] = {'all': True},0,2
openstack%2Fsahara-tests~master~I1ad04708c088fa1e05beaa0d1915bae5420ad3c3,openstack/sahara-tests,master,I1ad04708c088fa1e05beaa0d1915bae5420ad3c3,Use upper-constraints.txt for sahara-tests testing,MERGED,2018-10-17 09:49:34.000000000,2018-10-25 16:44:04.000000000,2018-10-25 16:44:04.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-10-17 09:49:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/cb04a444e2e4767d577a70c05303c25680d32d6d', 'message': 'Use upper-constraints.txt for sahara-tests testing\n\nIt aligns with the general good practice in OpenStack and\nit prevents unexpected breakages coming from new library releases\n(as it happens currently with urllib3 1.24.)\n\nChange-Id: I1ad04708c088fa1e05beaa0d1915bae5420ad3c3\n'}]",0,611276,cb04a444e2e4767d577a70c05303c25680d32d6d,10,4,1,10459,,,0,"Use upper-constraints.txt for sahara-tests testing

It aligns with the general good practice in OpenStack and
it prevents unexpected breakages coming from new library releases
(as it happens currently with urllib3 1.24.)

Change-Id: I1ad04708c088fa1e05beaa0d1915bae5420ad3c3
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/76/611276/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb04a444e2e4767d577a70c05303c25680d32d6d,use-upper-constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},,1,0
openstack%2Fansible-role-python_venv_build~master~I04100a1073dddb06775d8583104bfd6ef4b3213a,openstack/ansible-role-python_venv_build,master,I04100a1073dddb06775d8583104bfd6ef4b3213a,Only install the appropriate distro packages,MERGED,2018-10-18 05:59:41.000000000,2018-10-25 16:39:38.000000000,2018-10-25 16:38:34.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 05:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/74591a3888b6faa7c9307a3373217d24ccbcc8dc', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages seperated.\n\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 2, 'created': '2018-10-23 13:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/c8136bff4d08a81f3301285c2b583b1ba5087ab2', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages seperated.\n\nDepends-On: https://review.openstack.org/612704\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 3, 'created': '2018-10-23 15:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/cfe28bdb789ce8a53d8d0e6bbc490ec95577deb1', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages seperated.\n\nDepends-On: https://review.openstack.org/612704\nDepends-On: https://review.openstack.org/612732\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 4, 'created': '2018-10-24 09:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/206363d851d07418b0554f50bb5816aaa11cc2ed', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages separated.\n\nDepends-On: https://review.openstack.org/612704\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 5, 'created': '2018-10-25 11:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6ae733bba4cf1a22a146130c56a93d8cd3b894d8', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages separated.\n\nDepends-On: https://review.openstack.org/612704\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 6, 'created': '2018-10-25 11:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e9ec4fdefd369f097841cb687c640feb7e625a5f', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages separated.\n\nDepends-On: https://review.openstack.org/612704\nDepends-On: https://review.openstack.org/613256\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}, {'number': 7, 'created': '2018-10-25 11:30:28.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/70525a7fbb0b92fef0593f4848fafe36c4b92d10', 'message': ""Only install the appropriate distro packages\n\nCurrently all packages provided to the role (build and install)\nare installed on both the build host and the install host. This\nwas done as a temporary measure to allow us time to ensure that\neach role seperates these, but now that there are some\ninstallations using this it's causing conflicts in services and\npackages.\n\nWe should rather do the right thing, and fix the roles which need\nthe packages separated.\n\nIf there is no wheel build host, the venv_build_distro_package_list\npackages will need to be installed on the target host, otherwise\nthe sdist install will not work, so we cater for that in this patch\ntoo.\n\nDepends-On: https://review.openstack.org/612704\nDepends-On: https://review.openstack.org/613256\nChange-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a\n""}]",0,611508,70525a7fbb0b92fef0593f4848fafe36c4b92d10,35,5,7,6816,,,0,"Only install the appropriate distro packages

Currently all packages provided to the role (build and install)
are installed on both the build host and the install host. This
was done as a temporary measure to allow us time to ensure that
each role seperates these, but now that there are some
installations using this it's causing conflicts in services and
packages.

We should rather do the right thing, and fix the roles which need
the packages separated.

If there is no wheel build host, the venv_build_distro_package_list
packages will need to be installed on the target host, otherwise
the sdist install will not work, so we cater for that in this patch
too.

Depends-On: https://review.openstack.org/612704
Depends-On: https://review.openstack.org/613256
Change-Id: I04100a1073dddb06775d8583104bfd6ef4b3213a
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/08/611508/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,74591a3888b6faa7c9307a3373217d24ccbcc8dc,bp/python-build-simplification," name: ""{{ venv_install_distro_package_list }}"""," name: ""{{ venv_build_distro_package_list + venv_install_distro_package_list }}""",2,2
openstack%2Fopenstack-ansible-os_cloudkitty~stable%2Frocky~Iebf19bc6527aea0ca0ba4796ee38d923ac64281a,openstack/openstack-ansible-os_cloudkitty,stable/rocky,Iebf19bc6527aea0ca0ba4796ee38d923ac64281a,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:32:46.000000000,2018-10-25 16:35:28.000000000,2018-10-25 16:35:27.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:32:46.000000000', 'files': ['tests/inventory', 'tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/7f533bd6261840e007d7f3516d000ca396c24b6f', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Iebf19bc6527aea0ca0ba4796ee38d923ac64281a\n(cherry picked from commit b228cc0fc96e66fdb296fb2b732625ae31b08181)\n'}]",0,612898,7f533bd6261840e007d7f3516d000ca396c24b6f,9,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Iebf19bc6527aea0ca0ba4796ee38d923ac64281a
(cherry picked from commit b228cc0fc96e66fdb296fb2b732625ae31b08181)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/98/612898/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'tests/group_vars/all_containers.yml']",2,7f533bd6261840e007d7f3516d000ca396c24b6f,container_name_host_var-stable/rocky,,"container_name: ""{{ inventory_hostname }}""",2,3
openstack%2Fopenstack-ansible-os_tacker~stable%2Frocky~I1a41a2953f0274953c7695246d700ad96dbaf0d3,openstack/openstack-ansible-os_tacker,stable/rocky,I1a41a2953f0274953c7695246d700ad96dbaf0d3,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:43:00.000000000,2018-10-25 16:32:56.000000000,2018-10-25 16:32:55.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:43:00.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/tacker1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/4c798c7b0d485134834671fb2276350a64ab631b', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I1a41a2953f0274953c7695246d700ad96dbaf0d3\n(cherry picked from commit 3022704d39812853249d2aaed35f0e189ddf5c94)\n'}]",0,612922,4c798c7b0d485134834671fb2276350a64ab631b,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I1a41a2953f0274953c7695246d700ad96dbaf0d3
(cherry picked from commit 3022704d39812853249d2aaed35f0e189ddf5c94)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/22/612922/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/tacker1.yml']",3,4c798c7b0d485134834671fb2276350a64ab631b,container_name_host_var-stable/rocky,container_name: tacker1,,2,1
openstack%2Fopenstack-helm-infra~master~Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956,openstack/openstack-helm-infra,master,Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956,MariaDB: Galera cluster refactor,MERGED,2018-09-22 17:18:39.000000000,2018-10-25 16:32:56.000000000,2018-10-25 16:32:56.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28848}]","[{'number': 1, 'created': '2018-09-22 17:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a124518e1047c55d500dee891524e1ff5a106b5c', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-09-22 19:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/64213f7f1084bb717bbc81392c7e9f2845a5f10d', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-09-23 17:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ac8af1d1fbf149b3ee8d39a6a1df27b2425e2cf', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-09-23 17:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e6fb2a1fc93a4db4fc2e1bd1bbc4a381a1cf24a', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-09-23 18:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/876e1761d2a49b0753541e9eef8acaf96170f35a', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-09-23 18:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4171788c521361877e080c626450255338f56bb7', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-09-24 07:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/476fbe0384efc24b07d8b1f5b1c74815f0a87bb4', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-09-24 07:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9320866daa8505dbc8afe0b55d702ea59318b88c', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2018-09-24 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3cc68944c803854a20aaad9dd519cbed960820bf', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2018-09-24 19:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83146bd3cc8c9d609ce5e72061ef6d561d8e44cb', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2018-09-25 01:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d828f5ce710d38302a2b63f61476f2836ecbf05b', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 12, 'created': '2018-09-25 04:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/357ad49dde838b514961a29870f5d16b04c99cbc', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 13, 'created': '2018-09-25 05:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/71d11dcecec1411699be69c2c1b2d77153ab480a', 'message': 'WIP: Mariadb cluster improvements\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 14, 'created': '2018-09-25 05:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36534693cd31b6e8addf618fcf29ba2c17948dd7', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n * add sigterm handler\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 15, 'created': '2018-09-25 05:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8181314154e2c2c815523d8d8b4fca65a376ae6a', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n * add sigterm handler\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 16, 'created': '2018-09-25 19:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f1dbeadaba49c19e50584a3d5c5177ace86bd75', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n * add sigterm handler\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 17, 'created': '2018-09-27 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c57b9241155d68e6567fa350c7b7455e7d1fd41', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 18, 'created': '2018-09-27 20:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d46dcf901dd997af17cc52b1f721032613eb6270', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 19, 'created': '2018-10-15 17:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5d53a6a4ac037fab075d6915c500d7e3961e4eb', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 20, 'created': '2018-10-15 18:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ecbdcc3fec9d6dafa6975cd922253b8b0092fd1a', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 21, 'created': '2018-10-15 19:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ab45bcdcd5026d47c6594034b7f0eaf9b3368e9', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 22, 'created': '2018-10-15 21:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffca5cd5f1a3391646d85f38feb6ad5e128a867e', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 23, 'created': '2018-10-16 20:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04fb561395932784d009e1aceff960682ad0ba1e', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 24, 'created': '2018-10-16 21:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9041de3a8309652cb8f6e3630628082e857a6900', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 25, 'created': '2018-10-19 13:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a7b6f8ac5e5cf427e3831ede0f31bd7d27cb8168', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 26, 'created': '2018-10-19 13:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d7449e93195a34682bf7666c02a444b19db5d0d', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 27, 'created': '2018-10-23 17:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e2b51aa15abde463926476abbe647ed98e7a6a7', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 28, 'created': '2018-10-23 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05a963cf7a3aa868d8e5885c2bb4c854e6dc756a', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 29, 'created': '2018-10-23 17:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8dd4b31a838a15065976b8f858bf4b9e3477f27', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 30, 'created': '2018-10-23 18:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2953fbfcb2d99337112e8d69b42bb22f5cbc5dcc', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * get xtrabackup back up\n * deal with potential for split brains (in follow up ps)\n * deal with chart upgrade senario\n * deal with chart removal and redeploy senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 31, 'created': '2018-10-23 18:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8a8ffd030b8b98dc597d6508c7d0abe8bfd99f7', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 32, 'created': '2018-10-23 18:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fc0cdc35e9dca8460c5553eb741803b6a6f7750', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 33, 'created': '2018-10-23 19:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e95375f434f2eb751b229f1eed8584f97e6f1c8c', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 34, 'created': '2018-10-23 22:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e41195506997ccc4f4c4496d8eef318462432f6', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 35, 'created': '2018-10-23 22:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/231d5e38624594aaa71bca2ecc2fef390e4b83f5', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 36, 'created': '2018-10-23 22:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8be669e11792bd0f13413df3601774b77f35df5c', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 37, 'created': '2018-10-24 15:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8d1de352e99090620f5a3f7336ce5581962fd8f', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 38, 'created': '2018-10-24 17:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68c9545be9293408e5242a7a578a24b4fb3848a5', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 39, 'created': '2018-10-24 17:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b478c2da292f336d70ef4bff5850a9040223a557', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 40, 'created': '2018-10-24 17:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad927d8c1830c83be893dfe7d9bebe939f33ce3e', 'message': 'WIP: Mariadb cluster improvements\n\nTODO:\n * setup vars for timers and set sane nyquest ratios between them\n * deal with chart upgrade senario\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 41, 'created': '2018-10-24 18:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15dcbfafbb601812e088ed2d75b3cadd1c1469e8', 'message': 'MariaDB: Galera cluster refactor\n\nThis PS updates the MariaDB chart to better support clustering,\nusing a configmap to track cluster state.\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 42, 'created': '2018-10-24 18:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fb4ff3a78eebf1b67301524bfa0c46e4c130b86', 'message': 'MariaDB: Galera cluster refactor\n\nThis PS updates the MariaDB chart to better support clustering,\nusing a configmap to track cluster state.\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 43, 'created': '2018-10-24 18:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46bf6e62bb0df2b99f3119cb39f1c5608b60a43b', 'message': 'MariaDB: Galera cluster refactor\n\nThis PS updates the MariaDB chart to better support clustering,\nusing a configmap to track cluster state.\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 44, 'created': '2018-10-24 18:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1747ed5b5e496f45d905cf84a6d23e1e777c4d33', 'message': 'MariaDB: Galera cluster refactor\n\nThis PS updates the MariaDB chart to better support clustering,\nusing a configmap to track cluster state.\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 45, 'created': '2018-10-25 06:21:01.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'tools/images/mariadb/README.rst', 'mariadb/templates/bin/_start.py.tpl', 'mariadb/templates/statefulset.yaml', 'tools/images/mariadb/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6e84fe15f84d5ba1fa0f0cffbac448b0cc5aa06', 'message': 'MariaDB: Galera cluster refactor\n\nThis PS updates the MariaDB chart to better support clustering,\nusing a configmap to track cluster state.\n\nChange-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",11,604556,f6e84fe15f84d5ba1fa0f0cffbac448b0cc5aa06,80,8,45,23928,,,0,"MariaDB: Galera cluster refactor

This PS updates the MariaDB chart to better support clustering,
using a configmap to track cluster state.

Change-Id: Ifd9c3d63353a9b587384b6f13c0863ecc4fbd956
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/604556/16 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_start.py.tpl', 'mariadb/templates/etc/_00-base.cnf.tpl', 'mariadb/templates/statefulset.yaml', 'tools/images/mariadb/Dockerfile']",6,a124518e1047c55d500dee891524e1ff5a106b5c,mariadb-galera,FROM docker.io/mariadb@sha256:b7894bd08e5752acdd41fea654cb89467c99e67b8293975bb5d787b27e66ce1a #FROM docker.io/mariadb:10.3.9-bionic RUN set -ex ;\ apt-get update ;\ apt-get upgrade -y ;\ apt-get install -y --no-install-recommends \ python-pip ;\ pip --no-cache-dir install --upgrade pip ;\ hash -r ;\ pip --no-cache-dir install setuptools ;\ pip --no-cache-dir install kubernetes ;\ ,,151,8
openstack%2Fopenstack-ansible-os_aodh~stable%2Frocky~Iedc250945ead1ed3ad91e7e550a134fae7f9e175,openstack/openstack-ansible-os_aodh,stable/rocky,Iedc250945ead1ed3ad91e7e550a134fae7f9e175,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:41:10.000000000,2018-10-25 16:25:55.000000000,2018-10-25 16:25:55.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:41:10.000000000', 'files': ['tests/host_vars/aodh.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/gnocchi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/439a3dfec4c4d388ab5546da9811157313a71272', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Iedc250945ead1ed3ad91e7e550a134fae7f9e175\n(cherry picked from commit abf905a2113774abe9027db0c7bc5783ed5e0ddb)\n'}]",0,612917,439a3dfec4c4d388ab5546da9811157313a71272,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Iedc250945ead1ed3ad91e7e550a134fae7f9e175
(cherry picked from commit abf905a2113774abe9027db0c7bc5783ed5e0ddb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/17/612917/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/aodh.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/gnocchi.yml']",5,439a3dfec4c4d388ab5546da9811157313a71272,container_name_host_var-stable/rocky,container_name: gnocchi,,4,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Frocky~Ib7f90af561bf97b898a125ed10a8773570ff79fc,openstack/openstack-ansible-os_ceilometer,stable/rocky,Ib7f90af561bf97b898a125ed10a8773570ff79fc,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:42:03.000000000,2018-10-25 16:22:35.000000000,2018-10-25 16:22:35.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:42:03.000000000', 'files': ['tests/host_vars/gnocchi1.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/347cca79207085cf5403f290032a5d7be241b37b', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ib7f90af561bf97b898a125ed10a8773570ff79fc\n(cherry picked from commit 6966132007e056c96cd1c08773537c2939be9cf9)\n'}]",0,612919,347cca79207085cf5403f290032a5d7be241b37b,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ib7f90af561bf97b898a125ed10a8773570ff79fc
(cherry picked from commit 6966132007e056c96cd1c08773537c2939be9cf9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/19/612919/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/gnocchi1.yml', 'tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",4,347cca79207085cf5403f290032a5d7be241b37b,container_name_host_var-stable/rocky,container_name: openstack1,,3,1
openstack%2Fopenstack-ansible-os_swift~stable%2Frocky~If28f2586017c3813afd4260533c16e4390cebc04,openstack/openstack-ansible-os_swift,stable/rocky,If28f2586017c3813afd4260533c16e4390cebc04,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:39:45.000000000,2018-10-25 16:17:32.000000000,2018-10-25 16:17:32.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:39:45.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/host_vars/swift-proxy.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/swift-storage2.yml', 'tests/host_vars/swift-storage3.yml', 'tests/host_vars/swift-storage1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/cc764d0c60d407b1ad6f7fd0bea3a68b1f132f2c', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: If28f2586017c3813afd4260533c16e4390cebc04\n(cherry picked from commit b9eafb6a4830629570aecb78a1ee333f41ef0df6)\n'}]",0,612912,cc764d0c60d407b1ad6f7fd0bea3a68b1f132f2c,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: If28f2586017c3813afd4260533c16e4390cebc04
(cherry picked from commit b9eafb6a4830629570aecb78a1ee333f41ef0df6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/12/612912/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/host_vars/swift-proxy.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/swift-storage2.yml', 'tests/host_vars/swift-storage3.yml', 'tests/host_vars/swift-storage1.yml']",6,cc764d0c60d407b1ad6f7fd0bea3a68b1f132f2c,container_name_host_var-stable/rocky,container_name: swift-storage1,,5,1
openstack%2Ftripleo-validations~master~I642e1d5bd2131ab1b3fd855cdb5764d97e365d0d,openstack/tripleo-validations,master,I642e1d5bd2131ab1b3fd855cdb5764d97e365d0d,Remove a debug task,MERGED,2018-09-20 12:08:36.000000000,2018-10-25 16:11:46.000000000,2018-10-03 11:38:56.000000000,"[{'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/67aa2635edcd595f3a998377fd50ab4cc0b9ba23', 'message': 'Remove a debug task\n\nProbably remnant of some manual testing\n\nChange-Id: I642e1d5bd2131ab1b3fd855cdb5764d97e365d0d\n'}, {'number': 2, 'created': '2018-09-29 17:23:09.000000000', 'files': ['validations/tasks/disk_space.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b8ebc17d560cfbd1e845b73f13fac318fff9691', 'message': 'Remove a debug task\n\nProbably remnant of some manual testing\n\nChange-Id: I642e1d5bd2131ab1b3fd855cdb5764d97e365d0d\n'}]",0,604072,5b8ebc17d560cfbd1e845b73f13fac318fff9691,11,3,2,9317,,,0,"Remove a debug task

Probably remnant of some manual testing

Change-Id: I642e1d5bd2131ab1b3fd855cdb5764d97e365d0d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/604072/2 && git format-patch -1 --stdout FETCH_HEAD,['validations/tasks/disk_space.yaml'],1,67aa2635edcd595f3a998377fd50ab4cc0b9ba23,trivial,,"- name: debug debug: msg: ""{{a_mounts}}"" ",0,5
openstack%2Fopenstack-ansible-os_sahara~stable%2Frocky~I0747d097deea5f6c2556ab660ce9d1f22dd0eeb4,openstack/openstack-ansible-os_sahara,stable/rocky,I0747d097deea5f6c2556ab660ce9d1f22dd0eeb4,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:43:50.000000000,2018-10-25 16:06:53.000000000,2018-10-25 16:06:53.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:43:50.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/sahara1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/fce9bd7389068f09648cb83c5c668b3cb77845d1', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I0747d097deea5f6c2556ab660ce9d1f22dd0eeb4\n(cherry picked from commit 6facffe55078dafd6ab565dce507018dc2a88a00)\n'}]",0,612924,fce9bd7389068f09648cb83c5c668b3cb77845d1,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I0747d097deea5f6c2556ab660ce9d1f22dd0eeb4
(cherry picked from commit 6facffe55078dafd6ab565dce507018dc2a88a00)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/24/612924/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/sahara1.yml']",4,fce9bd7389068f09648cb83c5c668b3cb77845d1,container_name_host_var-stable/rocky,container_name: sahara1,,3,1
openstack%2Fopenstack-ansible-os_masakari~stable%2Frocky~I2edf7369d5a111061c4e6590728efd6b72eb3b41,openstack/openstack-ansible-os_masakari,stable/rocky,I2edf7369d5a111061c4e6590728efd6b72eb3b41,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:34:49.000000000,2018-10-25 16:05:33.000000000,2018-10-25 16:05:33.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:34:49.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/masakari1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6bf4351dbe84a1776a72c612f1fd9b25e220fa64', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I2edf7369d5a111061c4e6590728efd6b72eb3b41\n(cherry picked from commit 77022b244228b54d292e194eed3eca790587db43)\n'}]",0,612901,6bf4351dbe84a1776a72c612f1fd9b25e220fa64,9,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I2edf7369d5a111061c4e6590728efd6b72eb3b41
(cherry picked from commit 77022b244228b54d292e194eed3eca790587db43)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/01/612901/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/masakari1.yml']",3,6bf4351dbe84a1776a72c612f1fd9b25e220fa64,container_name_host_var-stable/rocky,container_name: masakari1 ,,2,1
openstack%2Fpaunch~master~I07c0b2d620238a8a66deb1ac9ecbeede16f640f7,openstack/paunch,master,I07c0b2d620238a8a66deb1ac9ecbeede16f640f7,Intoduce caching of podman ps calls in BaseRunner,ABANDONED,2018-10-19 16:06:05.000000000,2018-10-25 16:05:19.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-19 16:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/f79bcfa5c4e9fb4295b71f5f38d960b650ae6671', 'message': ""Intoduce caching of podman ps calls in BaseRunner\n\nPodman CLI may hang indefinitely long, depending on the\ninternal podman DB locks state and/or other containers operations\nongoing concurrently. Other containers runtime might also experience\nissues like that, when CLI becomes unresponsive and hangs.\n\nLimit containers CLI commands used in 'paunch.BaseRunner' and\nwhen pulling an image using its exec method, by fixed timeouts.\n\nTo alleviate the long running 'podman ps', introcude internal for\n'paunch.BaseRunner' caching of the podman ps results.  Attempt firstly\nto find results in the cache.  If nothing found, retry with the cache\nforce updated,  which stores the actual 'podman ps' results into the\ncache.\n\nIf 'podman ps' fails with an error or times out (defaults to a 10 sec),\nmark the cache invalidated for any future operations but return what we\nhave there as the best effort. The invalidation mark is removed when\n'podman ps' operation succeeds.\n\nThis reduces the amount of redundant 'podman ps' calls and shares its\nresults for the 'paunch.BaseRunner' class methods. And agressive cache\ninvalidation/force updating helps to keep it in the most recent state.\n\nRelated-Bug: #1797525\n\nChange-Id: I07c0b2d620238a8a66deb1ac9ecbeede16f640f7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-10-23 16:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/0cab6028decefe21a88376c651a6d60003bb931f', 'message': ""Intoduce caching of podman ps calls in BaseRunner\n\nPodman CLI may hang indefinitely long, depending on the\ninternal podman DB locks state and/or other containers operations\nongoing concurrently. Other containers runtime might also experience\nissues like that, when CLI becomes unresponsive and hangs.\n\nLimit containers CLI commands used in 'paunch.BaseRunner' and\nwhen pulling an image using its exec method, by fixed timeouts.\n\nTo alleviate the long running 'podman ps', introcude internal for\n'paunch.BaseRunner' caching of the podman ps results.  Attempt firstly\nto find results in the cache.  If nothing found, retry with the cache\nforce updated,  which stores the actual 'podman ps' results into the\ncache.\n\nIf 'podman ps' fails with an error or times out (defaults to a 10 sec),\nmark the cache invalidated for any future operations but return what we\nhave there as the best effort. The invalidation mark is removed when\n'podman ps' operation succeeds.\n\nThis reduces the amount of redundant 'podman ps' calls and shares its\nresults for the 'paunch.BaseRunner' class methods. And agressive cache\ninvalidation/force updating helps to keep it in the most recent state.\n\nRelated-Bug: #1797525\n\nChange-Id: I07c0b2d620238a8a66deb1ac9ecbeede16f640f7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-10-24 08:58:59.000000000', 'files': ['requirements.txt', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/cd520ccffad2ef2d56a94fb43984db40968024de', 'message': ""Intoduce caching of podman ps calls in BaseRunner\n\nPodman CLI may hang indefinitely long, depending on the\ninternal podman DB locks state and/or other containers operations\nongoing concurrently. Other containers runtime might also experience\nissues like that, when CLI becomes unresponsive and hangs.\n\nLimit containers CLI commands used in 'paunch.BaseRunner' and\nwhen pulling an image using its exec method, by fixed timeouts.\n\nTo alleviate the long running 'podman ps', introcude internal for\n'paunch.BaseRunner' caching of the podman ps results.  Attempt firstly\nto find results in the cache.  If nothing found, retry with the cache\nforce updated,  which stores the actual 'podman ps' results into the\ncache.\n\nIf 'podman ps' fails with an error or times out (defaults to a 10 sec),\nmark the cache invalidated for any future operations but return what we\nhave there as the best effort. The invalidation mark is removed when\n'podman ps' operation succeeds.\n\nThis reduces the amount of redundant 'podman ps' calls and shares its\nresults for the 'paunch.BaseRunner' class methods. And agressive cache\ninvalidation/force updating helps to keep it in the most recent state.\n\nRelated-Bug: #1797525\n\nChange-Id: I07c0b2d620238a8a66deb1ac9ecbeede16f640f7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,611911,cd520ccffad2ef2d56a94fb43984db40968024de,15,7,3,6926,,,0,"Intoduce caching of podman ps calls in BaseRunner

Podman CLI may hang indefinitely long, depending on the
internal podman DB locks state and/or other containers operations
ongoing concurrently. Other containers runtime might also experience
issues like that, when CLI becomes unresponsive and hangs.

Limit containers CLI commands used in 'paunch.BaseRunner' and
when pulling an image using its exec method, by fixed timeouts.

To alleviate the long running 'podman ps', introcude internal for
'paunch.BaseRunner' caching of the podman ps results.  Attempt firstly
to find results in the cache.  If nothing found, retry with the cache
force updated,  which stores the actual 'podman ps' results into the
cache.

If 'podman ps' fails with an error or times out (defaults to a 10 sec),
mark the cache invalidated for any future operations but return what we
have there as the best effort. The invalidation mark is removed when
'podman ps' operation succeeds.

This reduces the amount of redundant 'podman ps' calls and shares its
results for the 'paunch.BaseRunner' class methods. And agressive cache
invalidation/force updating helps to keep it in the most recent state.

Related-Bug: #1797525

Change-Id: I07c0b2d620238a8a66deb1ac9ecbeede16f640f7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/11/611911/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'paunch/runner.py']",2,f79bcfa5c4e9fb4295b71f5f38d960b650ae6671,bug/1797525,"import jmespath self.containers_view = {} self.containers_view_invalidated = False def cache_podman_containers_view(self, force_update=False): '''Try to get the full list of containers in JSON and cache it. Return the 'ps' view cache status: True = valid, False = invalidated. Note: the valid/invalid cache does not correspond the real host state. Those are only interlnal markers complementing the force_update logic used to syncronize cache with the real host state via 'podman ps'. ''' if (not force_update and not self.containers_view_invalidated and self.containers_view): return True self.containers_view_invalidated |= force_update if self.containers_view_invalidated: LOG.debug(""The containers 'ps' view considered as invalidated"") try: cmd = ['podman', 'ps', '-a', '--format', 'json'] cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode == 0: self.containers_view = json.loads(cmd_stdout) except Exception: returncode = 1 finally: # Always keep the cached info as the best effort if returncode != 0: LOG.error(""Failed to get/update the containers 'ps' view"") # Invalidate cache to update it later on, eventually self.containers_view_invalidated = True LOG.debug(""The containers 'ps' view is invalidated"") else: self.containers_view_invalidated = False LOG.debug(""The containers 'ps' view is no longer invalidated"") return not self.containers_view_invalidated def filter_containers_view(self, jquerry): try: result = jmespath.search(jquerry, self.containers_view) except Exception: LOG.error(""Failed json querry %s for the containers view"" % jquerry) result = None finally: return result def current_config_ids(self, force_update=False): # Use either the cached of force updated containers view for podman if self.cont_cmd == 'podman': if not self.cache_podman_containers_view( force_update=force_update): LOG.debug(""Using results from invalidated 'ps' cache"") result = self.filter_containers_view( ""[].labels | [?managed_by=='%s'].name"" % self.managed_by) if result and len(result) > 0: return set(result) elif not force_update: # When not found, invalidate the cache and re-try once again self.current_config_ids(force_update=True) else: return set() else: # List all config_id labels for managed containers cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=%s' % self.managed_by, '--format', '{{.Label ""config_id""}}' ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return set() return set(cmd_stdout.split()) def containers_in_config(self, conf_id, force_update=False): # Use either the cached of force updated containers view for podman if self.cont_cmd == 'podman': if not self.cache_podman_containers_view( force_update=force_update): LOG.debug(""Using results from invalidated 'ps' cache"") result = self.filter_containers_view( ""[] | [?(labels.managed_by=='%s' && "" ""labels.config_id=='%s')].id"" % (self.managed_by, conf_id)) if result and len(result) > 0: return result elif not force_update: # When not found, invalidate the cache and re-try once again self.containers_in_config(conf_id, force_update=True) else: cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=%s' % self.managed_by, '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return [] return [c for c in cmd_stdout.split()] # Inspect does not use the cached ps view, it is already fast enough def discover_container_name(self, container, cid, force_update=False): # Use either the cached of force updated containers view for podman if self.cont_cmd == 'podman': if not self.cache_podman_containers_view( force_update=force_update): LOG.debug(""Using results from invalidated 'ps' cache"") result = self.filter_containers_view( ""[] | [?(labels.container_name=='%s' && "" ""labels.config_id=='%s')].names"" % (container, cid)) if result and len(result) > 0: return result elif not force_update: # When not found, invalidate the cache and re-try once again self.discover_container_name(container, cid, force_update=True) else: return container else: cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=container_name=%s' % container, '--filter', 'label=config_id=%s' % cid, '--format', '{{.Names}}' ] (cmd_stdout, cmd_stderr, returncode) = self.execute(cmd) if returncode != 0: return container names = cmd_stdout.split() if names: return names[0] def container_names(self, conf_id=None, force_update=False): # Use either the cached of force updated containers view for podman if self.cont_cmd == 'podman': if not self.cache_podman_containers_view( force_update=force_update): LOG.debug(""Using results from invalidated 'ps' cache"") if not conf_id: jquerry = (""[] | [?labels.managed_by=='%s']."" ""[names, labels.container_name]"" % self.managed_by) else: jquerry = (""[] | [?(labels.managed_by=='%s' && "" ""labels.config_id=='%s')]."" ""[names, labels.container_name]"" % (self.managed_by, conf_id)) result = self.filter_containers_view(jquerry) if result and len(result) > 0: for c in result: if c: yield c elif not force_update: # When not found, invalidate the cache and re-try once again self.container_names(conf_id, force_update=True) else: return else: # list every container name, and its container_name label cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=%s' % self.managed_by ] if conf_id: cmd.extend(( '--filter', 'label=config_id=%s' % conf_id )) '--format', '{{.Names}} {{.Label ""container_name""}}' cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return for line in cmd_stdout.split(""\n""): if line: yield line.split()"," def current_config_ids(self): # List all config_id labels for managed containers cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=%s' % self.managed_by, '--format', '{{.Label ""config_id""}}' ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return set() return set(cmd_stdout.split()) def containers_in_config(self, conf_id): cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=%s' % self.managed_by, '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return [c for c in cmd_stdout.split()] def discover_container_name(self, container, cid): cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=container_name=%s' % container, '--filter', 'label=config_id=%s' % cid, '--format', '{{.Names}}' ] (cmd_stdout, cmd_stderr, returncode) = self.execute(cmd) if returncode != 0: names = cmd_stdout.split() if names: return names[0] return container def container_names(self, conf_id=None): # list every container name, and its container_name label cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=%s' % self.managed_by ] if conf_id: '--filter', 'label=config_id=%s' % conf_id cmd.extend(( '--format', '{{.Names}} {{.Label ""container_name""}}' )) cmd_stdout, cmd_stderr, returncode = self.execute(cmd) if returncode != 0: return for line in cmd_stdout.split(""\n""): if line: yield line.split()",179,55
openstack%2Fopenstack-ansible-os_trove~stable%2Frocky~Ie39f2ef9c2f481479e6b73e88b6a7f27d8df8aea,openstack/openstack-ansible-os_trove,stable/rocky,Ie39f2ef9c2f481479e6b73e88b6a7f27d8df8aea,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:44:49.000000000,2018-10-25 16:03:16.000000000,2018-10-25 16:03:16.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:44:49.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/d470c0ffbb3fdb5228e2b3461d886653b3a75e5e', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ie39f2ef9c2f481479e6b73e88b6a7f27d8df8aea\n(cherry picked from commit 4947ec4c4af750a7adff88b47c9f3751cf15dcdd)\n'}]",0,612926,d470c0ffbb3fdb5228e2b3461d886653b3a75e5e,9,5,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ie39f2ef9c2f481479e6b73e88b6a7f27d8df8aea
(cherry picked from commit 4947ec4c4af750a7adff88b47c9f3751cf15dcdd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/26/612926/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,d470c0ffbb3fdb5228e2b3461d886653b3a75e5e,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fopenstack-ansible-os_zaqar~stable%2Frocky~I9542008be92408d9f1956810c8cfeb839c3abc1d,openstack/openstack-ansible-os_zaqar,stable/rocky,I9542008be92408d9f1956810c8cfeb839c3abc1d,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:35:07.000000000,2018-10-25 16:03:16.000000000,2018-10-25 16:03:16.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:35:07.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/736ac69bd1e6e9f71cecc318b2bdaf96b041a49b', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I9542008be92408d9f1956810c8cfeb839c3abc1d\n(cherry picked from commit d599e19610c0ffb73f3e78cb4d569a146abe473b)\n'}]",0,612902,736ac69bd1e6e9f71cecc318b2bdaf96b041a49b,9,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I9542008be92408d9f1956810c8cfeb839c3abc1d
(cherry picked from commit d599e19610c0ffb73f3e78cb4d569a146abe473b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/02/612902/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,736ac69bd1e6e9f71cecc318b2bdaf96b041a49b,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fopenstack-ansible-galera_server~stable%2Frocky~Ib1bac8c596e97505e537095474aa9aca208eea41,openstack/openstack-ansible-galera_server,stable/rocky,Ib1bac8c596e97505e537095474aa9aca208eea41,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:47:03.000000000,2018-10-25 16:01:18.000000000,2018-10-25 16:01:18.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:47:03.000000000', 'files': ['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7a7036f6d15ce3117a925217b66cba806034bb96', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ib1bac8c596e97505e537095474aa9aca208eea41\n(cherry picked from commit 3f38edbf3296493bfa2da643d56cf61f48832b44)\n'}]",0,612932,7a7036f6d15ce3117a925217b66cba806034bb96,7,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ib1bac8c596e97505e537095474aa9aca208eea41
(cherry picked from commit 3f38edbf3296493bfa2da643d56cf61f48832b44)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/32/612932/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/container3.yml']",4,7a7036f6d15ce3117a925217b66cba806034bb96,container_name_host_var-stable/rocky,container_name: container3,,3,1
openstack%2Freleases~master~Ib4ae3250b62638813425983ef79ae4af936b7b6c,openstack/releases,master,Ib4ae3250b62638813425983ef79ae4af936b7b6c,Release Horizon stein-1 15.0.0.0b1,MERGED,2018-10-25 12:18:41.000000000,2018-10-25 16:00:56.000000000,2018-10-25 16:00:56.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 12:18:41.000000000', 'files': ['deliverables/stein/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7d29a0120ea04e5fada525bf1ca15af7327980b8', 'message': 'Release Horizon stein-1 15.0.0.0b1\n\nThis patch creates the Milestone 1 release\nfor OpenStack Horizon.\n\nChange-Id: Ib4ae3250b62638813425983ef79ae4af936b7b6c\n'}]",0,613303,7d29a0120ea04e5fada525bf1ca15af7327980b8,9,3,1,1736,,,0,"Release Horizon stein-1 15.0.0.0b1

This patch creates the Milestone 1 release
for OpenStack Horizon.

Change-Id: Ib4ae3250b62638813425983ef79ae4af936b7b6c
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/613303/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/horizon.yaml'],1,7d29a0120ea04e5fada525bf1ca15af7327980b8,horizon-stein-1,releases: - version: 15.0.0.0b1 projects: - hash: 11fe92baf01619bcb824a68ea96e89fe8b462a25 repo: openstack/horizon,,5,0
openstack%2Fnova-specs~master~I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42,openstack/nova-specs,master,I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42,Support initial allocation ratios,MERGED,2018-03-12 18:18:29.000000000,2018-10-25 15:56:44.000000000,2018-10-25 15:56:44.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 16881}, {'_account_id': 20722}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 25625}, {'_account_id': 26458}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-12 18:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/060a94c0baa4f239a91ea05722fc6679ca11ca4c', 'message': 'Support default allocation ratios\n\nAllows admins to manually set allocation ratios for a compute node\nwithout the compute host resource tracker always overwriting that value.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: default-allocation-ratios\n'}, {'number': 2, 'created': '2018-03-12 19:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/faff1da1305afa100f07bbd1a0d4a399d1baef99', 'message': 'Support default allocation ratios\n\nAllows admins to manually set allocation ratios for a compute node\nwithout the compute host resource tracker always overwriting that value.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: default-allocation-ratios\n'}, {'number': 3, 'created': '2018-04-24 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2921d2be57438a8eb1d7a077ca71d2deafe27d31', 'message': 'Support initial allocation ratios\n\nAllows admins to manually set allocation ratios for a compute node\nwithout the compute host resource tracker always overwriting that value.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: default-allocation-ratios\n'}, {'number': 4, 'created': '2018-09-12 18:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9c4920fc9e3bc6618202f76820839c2e415d3195', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 5, 'created': '2018-09-13 11:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dff0cc41337e693b0029ec5123fc91697ce408cf', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 6, 'created': '2018-10-10 09:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3ee7bd88cf9d5932a20ab5f722b5d72ee9507759', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 7, 'created': '2018-10-10 13:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/28e69040e050ee5568f4f85fb9842e1737dcad59', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 8, 'created': '2018-10-11 08:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/591d12cda662acc0c4fb085d6dd0d83e10c73987', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 9, 'created': '2018-10-15 06:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6cb7eb3d8546bf63a8eb94bdbce6d2387fc4aedb', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}, {'number': 10, 'created': '2018-10-17 21:48:06.000000000', 'files': ['specs/stein/approved/initial-allocation-ratios.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/22b389641f7ef5df4ec0ae6957cf3fddaea2f573', 'message': 'Support initial allocation ratios\n\nProvide separate CONF options for specifying the initial allocation\nratio for compute nodes. Change the default values for\nCONF.xxx_allocation_ratio options to None and change the behaviour of\nthe resource tracker to only override allocation ratios for *existing*\ncompute nodes if the CONF.xxx_allocation_ratio value is not None.\n\nChange-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42\nblueprint: initial-allocation-ratios\n'}]",143,552105,22b389641f7ef5df4ec0ae6957cf3fddaea2f573,86,24,10,7,,,0,"Support initial allocation ratios

Provide separate CONF options for specifying the initial allocation
ratio for compute nodes. Change the default values for
CONF.xxx_allocation_ratio options to None and change the behaviour of
the resource tracker to only override allocation ratios for *existing*
compute nodes if the CONF.xxx_allocation_ratio value is not None.

Change-Id: I5e6cf306dcac71f78f89d90a14ecc3bbbd7e0f42
blueprint: initial-allocation-ratios
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/552105/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/default-allocation-ratios.rst'],1,060a94c0baa4f239a91ea05722fc6679ca11ca4c,bp/initial-allocation-ratios,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Default allocation ratio configuration ====================================== https://blueprints.launchpad.net/nova/+spec/default-allocation-ratios We propose to add 3 new nova.conf configuration options that will used to determine how to set the *initial* allocation ratio of ``VCPU``, ``MEMORY_MB`` and ``DISK_GB`` resource classes when a compute worker first starts up and creates its compute node record in the nova cell DB and corresponding inventory records in the placement service. The value of these new configuration options will only be used if the compute service's resource tracker is not able to find a record in the placement service for the compute node the resource tracker is managing. Problem description =================== The saga of the allocation ratio values on the compute host ----------------------------------------------------------- The process by which nova determines the allocation ratio for CPU, RAM and disk resources on a hypervisor is confusing and `error-prone`_. The ``compute_nodes`` table in the nova cell DB contains three fields representing the allocation ratio for CPU, RAM and disk resources on that hypervisor. These fields are populated using different default values depending on the version of nova running on the ``nova-compute`` service. .. _error prone: https://bugs.launchpad.net/nova/+bug/1742747 Upon starting up, the resource tracker in the ``nova-compute`` service worker `checks`_ to see if a record exists in the ``compute_nodes`` table of the nova cell DB for itself. If it does not find one, the resource tracker `creates`_ a record in the table, `setting`_ the associated allocation ratio values in the ``compute_nodes`` table to the value it finds in the ``cpu_allocation_ratio``, ``ram_allocation_ratio`` and ``disk_allocation_ratio`` nova.conf configuration options. .. _checks: https://github.com/openstack/nova/blob/stable/queens/nova/compute/resource_tracker.py#L566 .. _creates: https://github.com/openstack/nova/blob/stable/queens/nova/compute/resource_tracker.py#L577-L590 .. _setting: https://github.com/openstack/nova/blob/stable/queens/nova/compute/resource_tracker.py#L611-L614 The default values of the ``cpu_allocation_ratio``, ``ram_allocation_ratio`` and ``disk_allocation_ratio`` CONF options is `currently set`_ to ``0.0``. .. _currently set: https://github.com/openstack/nova/blob/stable/queens/nova/conf/compute.py#L400 The resource tracker saves these default ``0.0`` values to the ``compute_nodes`` table when the resource tracker calls ``save()`` on the compute node object. However, there is `code`_ in the ``ComputeNode._from_db_obj`` that, upon **reading** the record back from the database on first save, changes the values from ``0.0`` to ``16.0``, ``1.5`` or ``1.0``. .. _code: https://github.com/openstack/nova/blob/stable/queens/nova/objects/compute_node.py#L177-L207 The ``ComputeNode`` object that was ``save()``'d by the resource tracker has these new values for some period of time while the record in the ``compute_nodes`` table continues to have the wrong ``0.0`` values. When the resource tracker runs its ``update_available_resource()`` next perioidic task, the new ``16.0``/``1.5``/``1.0`` values are then save to the compute nodes table. So, for some amount of time -- typically around 5-15 minutes -- the resource usages reported by the compute node are incorrect (due to the allocation ratio of 0.0 being multiplied by the total amount in inventory, leading to 0 resources shown on the system). Admins cannot manually set allocation ratios -------------------------------------------- In addition to the confusing process by which the allocation ratio values are set, there is currently no way for an admin to set the allocation ratio on an individual compute node without the resource tracker eventually overwriting that value the next time it runs the ``update_available_resources`` periodic task on the ``nova-compute`` service. Furthermore, due to the way that default values for allocation ratios are calculated in the ``ComputeNode._from_db_obj()`` method, there is no way to differentiate between a situation where the deployer really does want to always override the ``cpu_allocation_ratio`` on a compute host to some value or a situation where a deployer just wishes to indicate the value for an allocation ratio the **first time** a compute service starts up, but allow an admin to override this allocation ratio afterwards. Use Cases --------- An administrator would like to set allocation ratios for individual resources on a compute node without that value being overwritten by the compute node's resource tracker. Proposed change =============== First, change the resource tracker to **not always overwrite** the compute node's allocation ratios to the value of the ``cpu_allocation_ratio``, ``ram_allocation_ratio`` and ``disk_allocation_ratio`` CONF options **unless the value of these options is NOT ``0.0``**. In other words, if any of these CONF options is set to something *other than* ``0.0``, then the CONF option should be considered the complete override value for that resource class' allocation ratio. Even if an admin manually adjusts the allocation ratio of the resource class in the placement API, the next time the ``update_available_resource()`` periodic task runs, it will be overwritten to the value of the CONF option. Add three new CONF options to the nova.conf file: * ``default_cpu_allocation_ratio`` * ``default_ram_allocation_ratio`` * ``default_disk_allocation_ratio`` The default value of each CONF option shall be ``None``. These new ``default_xxx_allocation_ratio`` CONF options shall **ONLY** be used if the resource tracker detects no existing record in the ``compute_nodes`` nova cell DB for that hypervisor. Remove the code in the ``nova.objects.ComputeNode._from_db_obj`` that adjusts allocation ratios.` Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None, however clearly in order to take advantage of the ability to manually set allocation ratios on a compute node, that hypervisor would need to be upgraded. No impact to old compute hosts. Implementation ============== Assignee(s) ----------- Primary assignee: jaypipes Work Items ---------- * Modify resource tracker to only set allocation ratios on the compute node object when the CONF options are non- ``0.0`` * Add new ``default_xxx_allocation_ratio`` CONF options and modify resource tracker's initial compute node creation to use these values if non- ``None`` * Remove code in the ``ComputeNode._from_db_obj()`` that changes allocation ratio values Dependencies ============ None Testing ======= No extraordinary testing outside normal unit and functional testing Documentation Impact ==================== A release note explaining the use of the new ``default_xxx_allocation_ratio`` CONF options should be created along with a more detailed doc in the admin guide explaining the following primary scenarios: * When the deployer wants to **ALWAYS** set an override value for a resource on a compute node. This is where the deployer would ensure that the ``cpu_allocation_ratio``, ``ram_allocation_ratio`` and ``disk_allocation_ratio`` CONF options were set to a non- ``0.0`` value. * When the deployer wants to set an **INITIAL** value for a compute node's allocation ratio but wants to allow an admin to adjust this afterwards without making any CONF file changes. This scenario uses the new ``default_xxx_allocation_ratios`` for the initial ratio values and then shows the deployer using the osc placement commands to manually set an allocation ratio for a resource class on a resource provider. References ========== Bugs: * https://bugs.launchpad.net/nova/+bug/1742747 * https://bugs.launchpad.net/nova/+bug/1729621 * https://bugs.launchpad.net/nova/+bug/1739349 ",,232,0
openstack%2Fopenstack-ansible-os_blazar~stable%2Frocky~Ic3975acc1d7fa608d67b3e2171b0d862fb2b28fd,openstack/openstack-ansible-os_blazar,stable/rocky,Ic3975acc1d7fa608d67b3e2171b0d862fb2b28fd,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:36:35.000000000,2018-10-25 15:54:16.000000000,2018-10-25 15:54:16.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:36:35.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/blazar1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/6faa458fafa13038323a9b3cb33583dd0c2db482', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: Ic3975acc1d7fa608d67b3e2171b0d862fb2b28fd\n(cherry picked from commit a8bd55beabf22cd8d45ab6e33b9493b3f26cabd0)\n'}]",0,612906,6faa458fafa13038323a9b3cb33583dd0c2db482,9,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: Ic3975acc1d7fa608d67b3e2171b0d862fb2b28fd
(cherry picked from commit a8bd55beabf22cd8d45ab6e33b9493b3f26cabd0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/06/612906/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/blazar1.yml']",4,6faa458fafa13038323a9b3cb33583dd0c2db482,container_name_host_var-stable/rocky,container_name: blazar1,,3,1
openstack%2Fcharm-cinder-backup~master~Iccab9ef5c129993c9599bf8c54b685ed7f73e659,openstack/charm-cinder-backup,master,Iccab9ef5c129993c9599bf8c54b685ed7f73e659,Series Upgrade,MERGED,2018-10-17 17:50:11.000000000,2018-10-25 15:50:27.000000000,2018-10-25 15:50:26.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 17:50:11.000000000', 'files': ['hooks/cinder_backup_hooks.py', 'hooks/post-series-upgrade', 'hooks/pre-series-upgrade'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/2206d4a2754a116e365cf0619ee400445cd32e1f', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: Iccab9ef5c129993c9599bf8c54b685ed7f73e659\n'}]",0,611402,2206d4a2754a116e365cf0619ee400445cd32e1f,11,4,1,20805,,,0,"Series Upgrade

Implement the series-upgrade feature allowing to move between Ubuntu
series.

Change-Id: Iccab9ef5c129993c9599bf8c54b685ed7f73e659
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/02/611402/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/cinder_backup_hooks.py', 'hooks/post-series-upgrade', 'hooks/pre-series-upgrade']",3,2206d4a2754a116e365cf0619ee400445cd32e1f,series-upgrade,cinder_backup_hooks.py,,26,0
openstack%2Foslo.rootwrap~master~Ib29e96307caa39c21936f216d9aed7907e7a7331,openstack/oslo.rootwrap,master,Ib29e96307caa39c21936f216d9aed7907e7a7331,Add release note for file descriptor limit change,MERGED,2018-10-25 15:07:31.000000000,2018-10-25 15:48:53.000000000,2018-10-25 15:48:53.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 15:07:31.000000000', 'files': ['releasenotes/notes/file-descriptor-limit-e2b2a3033b9ef21e.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/7e79f319a8ef7c79c588259621e0a64eecef4cfd', 'message': 'Add release note for file descriptor limit change\n\nThis could have an operator impact, so we should mention it in the\nrelease notes. See c0a86998203315858721a7b2c8ab75fbf5cd51d9 for the\nactual implementation of the feature.\n\nChange-Id: Ib29e96307caa39c21936f216d9aed7907e7a7331\n'}]",0,613351,7e79f319a8ef7c79c588259621e0a64eecef4cfd,7,3,1,6928,,,0,"Add release note for file descriptor limit change

This could have an operator impact, so we should mention it in the
release notes. See c0a86998203315858721a7b2c8ab75fbf5cd51d9 for the
actual implementation of the feature.

Change-Id: Ib29e96307caa39c21936f216d9aed7907e7a7331
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/51/613351/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/file-descriptor-limit-e2b2a3033b9ef21e.yaml'],1,7e79f319a8ef7c79c588259621e0a64eecef4cfd,fileno-limit,"--- features: - | A configurable limit on the number of file descriptors that can be opened by a rootwrap-started process has been added. It defaults to 1024, but can be adjusted by setting the ``rlimit_nofile`` option in rootwrap.conf to a larger or smaller value. upgrade: - | Because a file descriptor limit was added in this release (see the features section for details), rootwrap processes that were previously relying on inheriting their parent process's descriptor limits may exhaust their available file descriptors. Use the ``rlimit_nofile`` option to restore the previous limits if this is the case. ",,14,0
openstack%2Fcharm-openstack-dashboard~master~I1f73a6b0284ca4e0a4018bff73fd4f8a778c4db5,openstack/charm-openstack-dashboard,master,I1f73a6b0284ca4e0a4018bff73fd4f8a778c4db5,Pre-install apache2,MERGED,2018-10-19 16:10:14.000000000,2018-10-25 15:39:45.000000000,2018-10-25 15:39:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 16:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b1937060666fcda25526f592c2de6468f2549d53', 'message': 'Pre-install apache2\n\nApache2 is a dependency of openstack-dashboard which gets installed in\nthe install() function. However, prior to that we register configs\nwhich does a check of the apache2 package version leading to a chicken\nand egg race.\n\nPre-install apache2 in the bash install script to avoid this race.\n\nChange-Id: I1f73a6b0284ca4e0a4018bff73fd4f8a778c4db5\n'}, {'number': 2, 'created': '2018-10-23 18:40:14.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/0d1dec7e0b9eadedf86ae0ff93dee48b634a21ea', 'message': 'Pre-install apache2\n\nApache2 is a dependency of openstack-dashboard which gets installed in\nthe install() function. However, prior to that we register configs\nwhich does a check of the apache2 package version leading to a chicken\nand egg race.\n\nPre-install apache2 in the bash install script to avoid this race.\n\nCloses-Bug: #1799500\n\nChange-Id: I1f73a6b0284ca4e0a4018bff73fd4f8a778c4db5\n'}]",0,611914,0d1dec7e0b9eadedf86ae0ff93dee48b634a21ea,15,4,2,20805,,,0,"Pre-install apache2

Apache2 is a dependency of openstack-dashboard which gets installed in
the install() function. However, prior to that we register configs
which does a check of the apache2 package version leading to a chicken
and egg race.

Pre-install apache2 in the bash install script to avoid this race.

Closes-Bug: #1799500

Change-Id: I1f73a6b0284ca4e0a4018bff73fd4f8a778c4db5
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/14/611914/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,b1937060666fcda25526f592c2de6468f2549d53,bug/1799500,"declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython', 'apache2')",declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython'),1,1
openstack%2Fcharm-rabbitmq-server~master~I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f,openstack/charm-rabbitmq-server,master,I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f,Change charm to py3,MERGED,2018-09-26 16:16:49.000000000,2018-10-25 15:26:24.000000000,2018-10-25 14:40:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/7c87687793aa202c87f40f6f493c077bc7f03432', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 2, 'created': '2018-09-26 16:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6dcd418ade95bc110201a923ae836921d633f9f7', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 3, 'created': '2018-10-02 11:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fc4fee92450725b64c78b898a23c10691e7f0927', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 4, 'created': '2018-10-10 10:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1ab63670e90ec95cd45f0c26c3a505b3b33cd736', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 5, 'created': '2018-10-19 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c71369ac02e88e747de8b37523457765e89215b4', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 6, 'created': '2018-10-23 11:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/718cf0a0cb160fde8ab727bb7fe6945f4b2bffa3', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 7, 'created': '2018-10-24 13:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fc67b15cd9d02d2de7c082e1cdf6d38660330ddb', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}, {'number': 8, 'created': '2018-10-24 13:50:44.000000000', 'files': ['charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'charmhelpers/core/hugepage.py', 'charmhelpers/osplatform.py', 'hooks/rabbitmq_server_relations.py', 'charmhelpers/contrib/hahelpers/__init__.py', 'charmhelpers/contrib/hardening/__init__.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/storage/linux/bcache.py', 'charmhelpers/core/fstab.py', 'charmhelpers/contrib/hardening/README.hardening.md', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/cli/hookenv.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'charmhelpers/contrib/openstack/files/check_haproxy_queue_depth.sh', 'unit_tests/test_rabbit_utils.py', 'charmhelpers/contrib/network/__init__.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/hardening/host/templates/10.hardcore.conf', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/kernel_factory/centos.py', 'hooks/ssl_utils.py', 'charmhelpers/contrib/hardening/ssh/templates/sshd_config', 'charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'charmhelpers/contrib/openstack/templates/memcached.conf', 'charmhelpers/contrib/python/__init__.py', 'charmhelpers/contrib/hardening/host/checks/securetty.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/hardening/apache/templates/__init__.py', 'charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/templates/section-zeromq', 'charmhelpers/core/files.py', 'charmhelpers/contrib/hardening/defaults/ssh.yaml.schema', 'charmhelpers/contrib/openstack/cert_utils.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/hardening/mysql/templates/hardening.cnf', 'charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'actions/actions.py', 'charmhelpers/contrib/hardening/audits/__init__.py', 'charmhelpers/contrib/hardening/host/checks/limits.py', 'charmhelpers/core/host_factory/__init__.py', 'charmhelpers/contrib/hardening/host/checks/minimize_access.py', 'charmhelpers/contrib/__init__.py', 'templates/rabbitmq-env.conf', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/mysql/__init__.py', 'charmhelpers/core/kernel.py', 'charmhelpers/contrib/storage/linux/__init__.py', 'charmhelpers/contrib/openstack/templates/__init__.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/giturl.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/defaults/mysql.yaml.schema', 'charmhelpers/contrib/openstack/files/__init__.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/charmsupport/__init__.py', 'charmhelpers/contrib/hardening/defaults/os.yaml', 'charmhelpers/core/services/__init__.py', 'charmhelpers/contrib/hardening/defaults/mysql.yaml', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/bzrurl.py', 'charmhelpers/core/sysctl.py', 'charmhelpers/contrib/openstack/templates/git.upstart', 'charmhelpers/contrib/hardening/defaults/__init__.py', 'charmhelpers/contrib/hardening/ssh/checks/config.py', 'charmhelpers/contrib/hardening/host/templates/securetty', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/templates/modules', 'charmhelpers/fetch/snap.py', 'charmhelpers/cli/host.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hardening/host/checks/suid_sgid.py', 'charmhelpers/contrib/storage/__init__.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-legacy', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hardening/templating.py', 'scripts/check_rabbitmq_cluster.py', 'unit_tests/__init__.py', 'charmhelpers/contrib/hardening/ssh/templates/ssh_config', 'charmhelpers/core/__init__.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/hardening/host/checks/__init__.py', 'charmhelpers/contrib/openstack/files/check_haproxy.sh', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/hardening/apache/checks/__init__.py', 'charmhelpers/contrib/hardening/host/templates/tally2', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/contrib/openstack/alternatives.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'unit_tests/test_actions.py', 'charmhelpers/contrib/openstack/ha/__init__.py', 'scripts/check_rabbitmq_queues.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/hardening/host/templates/login.defs', 'tox.ini', 'hooks/rabbit_utils.py', 'charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'charmhelpers/contrib/hardening/defaults/ssh.yaml', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/ssl/service.py', 'Makefile', 'charmhelpers/contrib/hardening/host/templates/99-juju-hardening.conf', 'charmhelpers/contrib/hardening/host/__init__.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/templates/ceph.conf', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/charmsupport/volumes.py', 'charmhelpers/cli/benchmark.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/core/host_factory/centos.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'unit_tests/test_utils.py', 'charmhelpers/contrib/hardening/host/checks/pam.py', 'charmhelpers/contrib/hardening/host/templates/pinerolo_profile.sh', 'scripts/check_rabbitmq.py', 'charmhelpers/contrib/hardening/host/templates/__init__.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/hardening/defaults/apache.yaml', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'hooks/install', 'charmhelpers/contrib/hardening/host/checks/profile.py', 'unit_tests/test_ssl_utils.py', 'charmhelpers/cli/unitdata.py', 'charmhelpers/contrib/openstack/exceptions.py', 'charmhelpers/contrib/hardening/host/checks/apt.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/ssl/__init__.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hardening/ssh/checks/__init__.py', 'unit_tests/test_rabbitmq_server_relations.py', 'charmhelpers/contrib/hardening/apache/templates/alias.conf', 'charmhelpers/core/kernel_factory/__init__.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/host/templates/passwdqc.conf', 'charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'charmhelpers/contrib/python/packages.py', 'charmhelpers/cli/commands.py', 'charmhelpers/contrib/hardening/mysql/checks/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/contrib/hardening/apache/__init__.py', 'charmhelpers/contrib/openstack/templates/section-rabbitmq-oslo', 'charmhelpers/contrib/hardening/ssh/__init__.py', 'charmhelpers/contrib/openstack/amulet/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-cache'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/79a1ea26d6b991f7c020576c63fab70855bb2d22', 'message': ""Change charm to py3\n\nThe tests are still py2; they'll need an update to zaza at some point.\n\nChange-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f\n""}]",7,605475,79a1ea26d6b991f7c020576c63fab70855bb2d22,56,5,8,20870,,,0,"Change charm to py3

The tests are still py2; they'll need an update to zaza at some point.

Change-Id: I2c4b1ba0212f96cf4a725c80d87b8b2bfed2186f
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/75/605475/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'test-requirements.txt', 'charmhelpers/core/hugepage.py', 'charmhelpers/osplatform.py', 'hooks/rabbitmq_server_relations.py', 'tests/gate-basic-trusty-mitaka', 'charmhelpers/contrib/hahelpers/__init__.py', 'charmhelpers/contrib/hardening/__init__.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/storage/linux/bcache.py', 'tests/gate-basic-xenial-mitaka', 'charmhelpers/core/fstab.py', 'charmhelpers/contrib/hardening/README.hardening.md', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/cli/hookenv.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'charmhelpers/contrib/openstack/files/check_haproxy_queue_depth.sh', 'unit_tests/test_rabbit_utils.py', 'charmhelpers/contrib/network/__init__.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/hardening/host/templates/10.hardcore.conf', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/kernel_factory/centos.py', 'hooks/ssl_utils.py', 'charmhelpers/contrib/hardening/ssh/templates/sshd_config', 'charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'charmhelpers/contrib/openstack/templates/memcached.conf', 'tests/gate-basic-xenial-queens', 'charmhelpers/contrib/python/__init__.py', 'charmhelpers/contrib/hardening/host/checks/securetty.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/hardening/apache/templates/__init__.py', 'charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/templates/section-zeromq', 'charmhelpers/core/files.py', 'charmhelpers/contrib/hardening/defaults/ssh.yaml.schema', 'charmhelpers/contrib/openstack/cert_utils.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/hardening/mysql/templates/hardening.cnf', 'charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'actions/actions.py', 'charmhelpers/contrib/hardening/audits/__init__.py', 'charmhelpers/contrib/hardening/host/checks/limits.py', 'charmhelpers/core/host_factory/__init__.py', 'charmhelpers/contrib/hardening/host/checks/minimize_access.py', 'charmhelpers/contrib/__init__.py', 'templates/rabbitmq-env.conf', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/mysql/__init__.py', 'charmhelpers/core/kernel.py', 'charmhelpers/contrib/storage/linux/__init__.py', 'charmhelpers/contrib/openstack/templates/__init__.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/giturl.py', 'charmhelpers/fetch/__init__.py', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/hardening/defaults/mysql.yaml.schema', 'charmhelpers/contrib/openstack/files/__init__.py', 'tests/gate-basic-trusty-icehouse', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/charmsupport/__init__.py', 'charmhelpers/contrib/hardening/defaults/os.yaml', 'charmhelpers/core/services/__init__.py', 'charmhelpers/contrib/hardening/defaults/mysql.yaml', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/bzrurl.py', 'charmhelpers/core/sysctl.py', 'charmhelpers/contrib/openstack/templates/git.upstart', 'charmhelpers/contrib/hardening/defaults/__init__.py', 'charmhelpers/contrib/hardening/ssh/checks/config.py', 'charmhelpers/contrib/hardening/host/templates/securetty', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/templates/modules', 'charmhelpers/fetch/snap.py', 'charmhelpers/cli/host.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hardening/host/checks/suid_sgid.py', 'charmhelpers/contrib/storage/__init__.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-legacy', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hardening/templating.py', 'scripts/check_rabbitmq_cluster.py', 'unit_tests/__init__.py', 'charmhelpers/contrib/hardening/ssh/templates/ssh_config', 'charmhelpers/core/__init__.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/hardening/host/checks/__init__.py', 'charmhelpers/contrib/openstack/files/check_haproxy.sh', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/hardening/apache/checks/__init__.py', 'charmhelpers/contrib/hardening/host/templates/tally2', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/contrib/openstack/alternatives.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'unit_tests/test_actions.py', 'charmhelpers/contrib/openstack/ha/__init__.py', 'scripts/check_rabbitmq_queues.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/hardening/host/templates/login.defs', 'tests/gate-basic-bionic-rocky', 'tox.ini', 'hooks/rabbit_utils.py', 'charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/gate-basic-xenial-pike', 'charmhelpers/contrib/hardening/defaults/ssh.yaml', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/ssl/service.py', 'Makefile', 'charmhelpers/contrib/hardening/host/templates/99-juju-hardening.conf', 'charmhelpers/contrib/hardening/host/__init__.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/templates/ceph.conf', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/charmsupport/volumes.py', 'charmhelpers/cli/benchmark.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/core/host_factory/centos.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'unit_tests/test_utils.py', 'charmhelpers/contrib/hardening/host/checks/pam.py', 'charmhelpers/contrib/hardening/host/templates/pinerolo_profile.sh', 'scripts/check_rabbitmq.py', 'charmhelpers/contrib/hardening/host/templates/__init__.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/hardening/defaults/apache.yaml', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'hooks/install', 'charmhelpers/contrib/hardening/host/checks/profile.py', 'unit_tests/test_ssl_utils.py', 'charmhelpers/cli/unitdata.py', 'charmhelpers/contrib/openstack/exceptions.py', 'charmhelpers/contrib/hardening/host/checks/apt.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/ssl/__init__.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hardening/ssh/checks/__init__.py', 'unit_tests/test_rabbitmq_server_relations.py', 'charmhelpers/contrib/hardening/apache/templates/alias.conf', 'charmhelpers/core/kernel_factory/__init__.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/host/templates/passwdqc.conf', 'charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'charmhelpers/contrib/python/packages.py', 'charmhelpers/cli/commands.py', 'charmhelpers/contrib/hardening/mysql/checks/__init__.py', 'tests/dev-basic-cosmic-rocky', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/core/kernel_factory/ubuntu.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/contrib/hardening/apache/__init__.py', 'charmhelpers/contrib/openstack/templates/section-rabbitmq-oslo', 'charmhelpers/contrib/hardening/ssh/__init__.py', 'charmhelpers/contrib/openstack/amulet/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-cache']",176,7c87687793aa202c87f40f6f493c077bc7f03432,ensure-py3,,,133,99
openstack%2Freleases~master~I8e88db76877562eb5d6348d2a499ac804337a4c8,openstack/releases,master,I8e88db76877562eb5d6348d2a499ac804337a4c8,First Glance Stein Milestone release,ABANDONED,2018-10-25 15:10:07.000000000,2018-10-25 15:15:01.000000000,,[],"[{'number': 1, 'created': '2018-10-25 15:10:07.000000000', 'files': ['deliverables/stein/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09ba087f2b1bdfcf96c706edfe9c7a80948fa424', 'message': 'First Glance Stein Milestone release\n\nChange-Id: I8e88db76877562eb5d6348d2a499ac804337a4c8\n'}]",0,613352,09ba087f2b1bdfcf96c706edfe9c7a80948fa424,2,0,1,5202,,,0,"First Glance Stein Milestone release

Change-Id: I8e88db76877562eb5d6348d2a499ac804337a4c8
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/613352/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/glance.yaml'],1,09ba087f2b1bdfcf96c706edfe9c7a80948fa424,glance-stein-1,releases: - version: 18.0.0.0b1 projects: - repo: openstack/glance hash: 88c0bedc24c2ea133635a800d6a7f1b154e3998c,,5,0
openstack%2Fopenstack-helm-infra~master~I2fc94d04b42b425978a9f4855d4c8d177ae331f8,openstack/openstack-helm-infra,master,I2fc94d04b42b425978a9f4855d4c8d177ae331f8,Kubernetes: Bump version to v1.10.9,ABANDONED,2018-10-25 14:20:35.000000000,2018-10-25 15:07:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-25 14:20:35.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c67a0e5eaa31afe0b331fba8cec404aaf4e0f444', 'message': 'Kubernetes: Bump version to v1.10.9\n\nThis PS updates the version of kubernetes to v1.10.9\n\nChange-Id: I2fc94d04b42b425978a9f4855d4c8d177ae331f8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,613338,c67a0e5eaa31afe0b331fba8cec404aaf4e0f444,3,1,1,23928,,,0,"Kubernetes: Bump version to v1.10.9

This PS updates the version of kubernetes to v1.10.9

Change-Id: I2fc94d04b42b425978a9f4855d4c8d177ae331f8
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/613338/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml']",2,c67a0e5eaa31afe0b331fba8cec404aaf4e0f444,mariadb-galera, kubernetes: v1.10.9, kubernetes: v1.10.8,2,2
openstack%2Fpython-glanceclient~master~I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b,openstack/python-glanceclient,master,I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b,"Use ""multihash"" for data download validation",MERGED,2018-08-22 02:26:36.000000000,2018-10-25 15:05:20.000000000,2018-09-18 07:58:36.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-22 02:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bcd7260ce6263c4fce55684de31f4acc13fbf12f', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 2, 'created': '2018-08-22 02:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/c196b7f0a54b0244bdfe421af79db7c426f36d95', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 3, 'created': '2018-08-22 02:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4d5793c202ec9eab575eba6ce7ddc91373aa606c', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 4, 'created': '2018-08-22 13:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7e0fc78b5f462c94d8955ab92071012dbfe8a1d1', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 5, 'created': '2018-09-07 01:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/086d1e558cecf3ee5f560042aa7d8de475f96781', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 6, 'created': '2018-09-07 13:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4484846e4f72fdfaec19ca7ecb55c6a4e69b4026', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 7, 'created': '2018-09-07 14:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1068435fc36edd13f0061822594284abdc371cda', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 8, 'created': '2018-09-07 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9568769b1b90a76b7e619930879940a67fe01f1a', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 9, 'created': '2018-09-07 14:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/fd4b98ce56d812940a3ab497d4c8a6c29fafb3cf', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}, {'number': 10, 'created': '2018-09-07 18:50:34.000000000', 'files': ['glanceclient/tests/unit/v2/fixtures.py', 'glanceclient/tests/unit/test_shell.py', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', 'releasenotes/notes/multihash-download-verification-596e91bf7b68e7db.yaml', 'glanceclient/tests/unit/v2/test_images.py', 'glanceclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/8fd7e8c664e82d805dc4a12534b3d7e3fcaac606', 'message': 'Use ""multihash"" for data download validation\n\nWhen the Glance ""multihash"" is available on an image, the\nglanceclient should use it instead of MD5 to validate data\ndownloads.  For cases in which the multihash specifies an\nalgorithm not available to the client, an option is added\nto the image-download command that will allow fallback to\nthe legacy MD5 checksum verification.\n\nChange-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b\nCloses-bug: #1788323\n'}]",4,594769,8fd7e8c664e82d805dc4a12534b3d7e3fcaac606,29,4,10,5314,,,0,"Use ""multihash"" for data download validation

When the Glance ""multihash"" is available on an image, the
glanceclient should use it instead of MD5 to validate data
downloads.  For cases in which the multihash specifies an
algorithm not available to the client, an option is added
to the image-download command that will allow fallback to
the legacy MD5 checksum verification.

Change-Id: I4ee6e5071eca08d3bbedceda2acc170e7ed21a6b
Closes-bug: #1788323
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/69/594769/10 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/fixtures.py', 'glanceclient/tests/unit/test_shell.py', 'glanceclient/v2/images.py', 'glanceclient/common/utils.py', 'glanceclient/tests/unit/v2/test_images.py']",5,bcd7260ce6263c4fce55684de31f4acc13fbf12f,bug/1788323,"import hashlib { 'content-md5': hashlib.md5(b'A').hexdigest(), }, '/v2/images/5cc4bebc-db27-11e1-a1eb-080027cbe205': { 'GET': ( {}, {}, ), }, '/v2/images/headeronly-db27-11e1-a1eb-080027cbe205/file': { '/v2/images/headeronly-db27-11e1-a1eb-080027cbe205': { 'GET': ( {}, {}, ), }, '/v2/images/chkonly-db27-11e1-a1eb-080027cbe205/file': { 'GET': ( { 'content-md5': 'wrong' }, 'BB', ), }, '/v2/images/chkonly-db27-11e1-a1eb-080027cbe205': { 'GET': ( {}, { 'checksum': 'wrong', }, ), }, '/v2/images/multihash-db27-11e1-a1eb-080027cbe205/file': { 'GET': ( { 'content-md5': 'wrong' }, 'BB', ), }, '/v2/images/multihash-db27-11e1-a1eb-080027cbe205': { 'GET': ( {}, { 'checksum': 'wrong', 'os_hash_algo': 'md5', 'os_hash_value': 'junk' }, ), }, '/v2/images/headeronly-dd57-11e1-af0f-02163e68b1d8/file': { '/v2/images/headeronly-dd57-11e1-af0f-02163e68b1d8': { 'GET': ( {}, {}, ), }, '/v2/images/chkonly-dd57-11e1-af0f-02163e68b1d8/file': { 'GET': ( { 'content-md5': 'defb99e69a9f1f6e06f15006b1f166ae' }, 'CCC', ), }, '/v2/images/chkonly-dd57-11e1-af0f-02163e68b1d8': { 'GET': ( {}, { 'checksum': 'defb99e69a9f1f6e06f15006b1f166ae', }, ), }, '/v2/images/multihash-dd57-11e1-af0f-02163e68b1d8/file': { 'GET': ( { 'content-md5': 'defb99e69a9f1f6e06f15006b1f166ae' }, 'CCC', ), }, '/v2/images/multihash-dd57-11e1-af0f-02163e68b1d8': { 'GET': ( {}, { 'checksum': 'defb99e69a9f1f6e06f15006b1f166ae', 'os_hash_algo': 'sha384', 'os_hash_value': hashlib.sha384(b'CCC').hexdigest() }, ), }, body = self.controller.data('headeronly-db27-11e1-a1eb-080027cbe205', body = self.controller.data('headeronly-db27-11e1-a1eb-080027cbe205') body = self.controller.data('chkonly-db27-11e1-a1eb-080027cbe205', self.assertEqual('BB', body) body = self.controller.data('chkonly-db27-11e1-a1eb-080027cbe205') try: body = ''.join([b for b in body]) self.fail('data did not raise an error.') except IOError as e: self.assertEqual(errno.EPIPE, e.errno) msg = 'was 9d3d9048db16a7eee539e93e3618cbe7 expected wrong' self.assertIn(msg, str(e)) body = self.controller.data('multihash-db27-11e1-a1eb-080027cbe205', do_checksum=False) self.assertEqual('BB', body) body = self.controller.data('multihash-db27-11e1-a1eb-080027cbe205') try: body = ''.join([b for b in body]) self.fail('data did not raise an error.') except IOError as e: self.assertEqual(errno.EPIPE, e.errno) msg = 'was 9d3d9048db16a7eee539e93e3618cbe7 expected junk' self.assertIn(msg, str(e)) def test_data_with_checksum(self): for prefix in ['headeronly', 'chkonly', 'multihash']: body = self.controller.data(prefix + '-dd57-11e1-af0f-02163e68b1d8', do_checksum=False) body = ''.join([b for b in body]) self.assertEqual('CCC', body) body = self.controller.data(prefix + '-dd57-11e1-af0f-02163e68b1d8') body = ''.join([b for b in body]) self.assertEqual('CCC', body) return_value=(resp, {}))"," {}, '/v2/images/66fb18d6-db27-11e1-a1eb-080027cbe205/file': { '/v2/images/1b1c6366-dd57-11e1-af0f-02163e68b1d8/file': { body = self.controller.data('66fb18d6-db27-11e1-a1eb-080027cbe205', body = self.controller.data('66fb18d6-db27-11e1-a1eb-080027cbe205') def test_data_with_checksum(self): body = self.controller.data('1b1c6366-dd57-11e1-af0f-02163e68b1d8', self.assertEqual('CCC', body) body = self.controller.data('1b1c6366-dd57-11e1-af0f-02163e68b1d8') self.assertEqual('CCC', body) return_value=(resp, None))",195,17
openstack%2Fcharm-ceph-mon~master~I7a5c53c792ab958d94301de62cdd4d804f8a54f7,openstack/charm-ceph-mon,master,I7a5c53c792ab958d94301de62cdd4d804f8a54f7,Resync ceph helpers,MERGED,2018-10-11 14:14:48.000000000,2018-10-25 14:55:22.000000000,2018-10-18 11:34:14.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e95035f8144debb0de5bdc279d4bd651bbe097e0', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Jewel.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 2, 'created': '2018-10-11 14:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7ee8656f21ef268e8c68c446e294efb3da66c5f0', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 3, 'created': '2018-10-12 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f1ae8aab77f6878a2d841cc5ab4653639c52b2ee', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 4, 'created': '2018-10-15 13:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d6a8ceb84ce200e661fe40e8c0689f9b0270b3e9', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nAdd nova-cloud-controller to amulet tests to achieve a complete\ndeployment post landing of changes for Nova Cells v2 support.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 5, 'created': '2018-10-16 08:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/cbd591c0487a2a9c5490d7958f27791cc5ca88c8', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nAdd nova-cloud-controller to amulet tests to achieve a complete\ndeployment post landing of changes for Nova Cells v2 support.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 6, 'created': '2018-10-16 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/13d3575b6e5184ea60f2b10da8f33dd54acda584', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nAdd nova-cloud-controller to amulet tests to achieve a complete\ndeployment post landing of changes for Nova Cells v2 support.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}, {'number': 7, 'created': '2018-10-17 13:55:58.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/61e20c2be3b3ed1a17895a81c6fe7933a4237550', 'message': 'Resync ceph helpers\n\nResync ceph helpers, picking up fixes for:\n\n - Upgrades from Luminous to Mimic.\n - Correct build of OSD list in more complex CRUSH\n   configurations, resolving upgrade issues.\n\nAdd nova-cloud-controller to amulet tests to achieve a complete\ndeployment post landing of changes for Nova Cells v2 support.\n\nCloses-Bug: 1788722\n\nChange-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7\n'}]",0,609719,61e20c2be3b3ed1a17895a81c6fe7933a4237550,36,5,7,935,,,0,"Resync ceph helpers

Resync ceph helpers, picking up fixes for:

 - Upgrades from Luminous to Mimic.
 - Correct build of OSD list in more complex CRUSH
   configurations, resolving upgrade issues.

Add nova-cloud-controller to amulet tests to achieve a complete
deployment post landing of changes for Nova Cells v2 support.

Closes-Bug: 1788722

Change-Id: I7a5c53c792ab958d94301de62cdd4d804f8a54f7
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/19/609719/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,e95035f8144debb0de5bdc279d4bd651bbe097e0,bug/1794878," parent_nodes = [ node for node in json_tree['nodes'] if node['type'] == 'root'] child_ids = [] for node in parent_nodes: try: child_ids = child_ids + node['children'] except KeyError: # skip if this parent has no children continue :param: dev: Full path to use for OSD block device setup, The function looks up realpath of the device cmd.append(os.path.realpath(dev)) ('luminous', 'mimic'), 'rocky': 'mimic',", child_ids = json_tree['nodes'][0]['children'] :param: dev: Full path to use for OSD block device setup cmd.append(dev),14,3
openstack%2Fcharm-ceph-mon~master~Id67e13c176fc8fd4953ba7c2cf7e33252810940c,openstack/charm-ceph-mon,master,Id67e13c176fc8fd4953ba7c2cf7e33252810940c,Guard cluster operations until sufficient OSD's booted,MERGED,2018-10-16 08:53:44.000000000,2018-10-25 14:54:09.000000000,2018-10-18 11:37:43.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 08:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9f383c9b2ead2a82349ebdda877ced2be760f9f2', 'message': ""Guard cluster operations until sufficient OSD's booted\n\nEnsure that broker requests are not processed and that client\naccess keys are not issued until the expected number of OSD's\nhave been bootstrapped into the cluster.\n\nThis depends on presentation of the number of bootstrapped\nOSD's from the ceph-osd charm (see Depends-On).\n\nFor upgraders, keys will have already been issued so there\nshould be no impact on existing access to the Ceph cluster;\nThe ceph-osd units will present the required relation data\npost upgrade at which point the charm will mark the cluster\nas ready for service and continue to process and pending\nrequests.\n\nChange-Id: Id67e13c176fc8fd4953ba7c2cf7e33252810940c\nDepends-On: I1370524f0f31120e3cb7305c5bc509a6494c5586\nCloses-Bug: 1794878\n""}, {'number': 2, 'created': '2018-10-16 09:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6cd3a252c7bce2716bc223068e20e84fdcbce5ab', 'message': ""Guard cluster operations until sufficient OSD's booted\n\nEnsure that broker requests are not processed and that client\naccess keys are not issued until the expected number of OSD's\nhave been bootstrapped into the cluster.\n\nThis depends on presentation of the number of bootstrapped\nOSD's from the ceph-osd charm (see Depends-On).\n\nFor upgraders, keys will have already been issued so there\nshould be no impact on existing access to the Ceph cluster;\nThe ceph-osd units will present the required relation data\npost upgrade at which point the charm will mark the cluster\nas ready for service and continue to process and pending\nrequests.\n\nChange-Id: Id67e13c176fc8fd4953ba7c2cf7e33252810940c\nDepends-On: I1370524f0f31120e3cb7305c5bc509a6494c5586\nCloses-Bug: 1794878\n""}, {'number': 3, 'created': '2018-10-16 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/60a68deca7ae27c82e90486b4fde7cf4b237e118', 'message': ""Guard cluster operations until sufficient OSD's booted\n\nEnsure that broker requests are not processed and that client\naccess keys are not issued until the expected number of OSD's\nhave been bootstrapped into the cluster.\n\nThis depends on presentation of the number of bootstrapped\nOSD's from the ceph-osd charm (see Depends-On).\n\nFor upgraders, keys will have already been issued so there\nshould be no impact on existing access to the Ceph cluster;\nThe ceph-osd units will present the required relation data\npost upgrade at which point the charm will mark the cluster\nas ready for service and continue to process and pending\nrequests.\n\nChange-Id: Id67e13c176fc8fd4953ba7c2cf7e33252810940c\nDepends-On: I1370524f0f31120e3cb7305c5bc509a6494c5586\nCloses-Bug: 1794878\n""}, {'number': 4, 'created': '2018-10-17 13:55:58.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ed99bd2b5708d0494a9139e6805a03940b41eefb', 'message': ""Guard cluster operations until sufficient OSD's booted\n\nEnsure that broker requests are not processed and that client\naccess keys are not issued until the expected number of OSD's\nhave been bootstrapped into the cluster.\n\nThis depends on presentation of the number of bootstrapped\nOSD's from the ceph-osd charm (see Depends-On).\n\nFor upgraders, keys will have already been issued so there\nshould be no impact on existing access to the Ceph cluster;\nThe ceph-osd units will present the required relation data\npost upgrade at which point the charm will mark the cluster\nas ready for service and continue to process and pending\nrequests.\n\nChange-Id: Id67e13c176fc8fd4953ba7c2cf7e33252810940c\nDepends-On: I1370524f0f31120e3cb7305c5bc509a6494c5586\nCloses-Bug: 1794878\n""}]",0,610910,ed99bd2b5708d0494a9139e6805a03940b41eefb,22,5,4,935,,,0,"Guard cluster operations until sufficient OSD's booted

Ensure that broker requests are not processed and that client
access keys are not issued until the expected number of OSD's
have been bootstrapped into the cluster.

This depends on presentation of the number of bootstrapped
OSD's from the ceph-osd charm (see Depends-On).

For upgraders, keys will have already been issued so there
should be no impact on existing access to the Ceph cluster;
The ceph-osd units will present the required relation data
post upgrade at which point the charm will mark the cluster
as ready for service and continue to process and pending
requests.

Change-Id: Id67e13c176fc8fd4953ba7c2cf7e33252810940c
Depends-On: I1370524f0f31120e3cb7305c5bc509a6494c5586
Closes-Bug: 1794878
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/10/610910/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,9f383c9b2ead2a82349ebdda877ced2be760f9f2,bug/1794878," @patch.object(ceph_hooks, 'ready_for_service') is_quorum, ready_for_service): ready_for_service.return_value = True", is_quorum):,55,19
openstack%2Fnova~master~I2af45a9540e7ccd60ace80d9fcadc79972da7df7,openstack/nova,master,I2af45a9540e7ccd60ace80d9fcadc79972da7df7,Consider allocations invovling child providers during allocation cleanup,MERGED,2018-09-28 12:15:48.000000000,2018-10-25 14:39:03.000000000,2018-10-25 14:13:44.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-28 12:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef51fd2dad9b3ceafb2f1759aac9869d358a5161', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 2, 'created': '2018-09-28 12:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4cca690f47c804e47aecc900911928c9fe4a79', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 3, 'created': '2018-10-01 15:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7718e8a251a7f28acddffa983927f24238e7f4d', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 4, 'created': '2018-10-02 15:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd15a3d488b84ce18f32e8dfee17587ca2a524d', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 5, 'created': '2018-10-03 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71f8052671c1f284bc399eee9ce713a52d36910b', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 6, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb25b9c57eaa8a15ba6c4de19aa789a5ea2953c2', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nTODO:\n* make the unit test pass\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 7, 'created': '2018-10-04 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50ee2ce8f41a80f79ff278660eba25e1896c0c91', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 8, 'created': '2018-10-04 13:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9625cc90a9e091334177d4cb75724603265a3c75', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 9, 'created': '2018-10-04 16:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4030a338739ca7b6e1210a5946bf77ff8fe0e21e', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 10, 'created': '2018-10-10 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85478cd2aa3093124ee4a4d5f43753b1880e1d00', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably becase evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation agains the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 11, 'created': '2018-10-11 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfe08c74e6426fe6abee1f43fedbb18823e622ab', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affect by this call\npath most probably because evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 12, 'created': '2018-10-15 08:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/019f41155579e4b94a726f813e8fae1691afe650', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affected by this call\npath most probably because evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 13, 'created': '2018-10-15 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d7aadb0c0876b0e96846ce0d589e9448a6e2a42', 'message': 'Consider nested allocations during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against nested compute RP trees. This leads to leaking\nallocations on the child providers during cleanup. As the functional\ntests previously shown mostly evacuation is directly affected by this call\npath most probably because evacuation still uses the instance_uuid as the\nconsumer for both the source host and the destination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 14, 'created': '2018-10-24 14:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/813c1a2ff0aea4c8090bbde58d521fa4d0daec86', 'message': 'Consider allocations invovling child providers during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against RP trees containing child providers. This leads to\nleaking allocations on the child providers during cleanup. As the functional\ntests in ServerMovingTestsWithNestedResourceRequests previously shown mostly\nevacuation is directly affected by this call path because evacuation still\nuses the instance_uuid as the consumer for both the source host and the\ndestination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 15, 'created': '2018-10-24 15:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c3bf2b4802005b82732489d0fbc5d4d449b9c5', 'message': 'Consider allocations invovling child providers during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against RP trees containing child providers. This leads to\nleaking allocations on the child providers during cleanup. As the functional\ntests in ServerMovingTestsWithNestedResourceRequests previously shown mostly\nevacuation is directly affected by this call path because evacuation still\nuses the instance_uuid as the consumer for both the source host and the\ndestination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 16, 'created': '2018-10-24 15:50:46.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/utils.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/66297f0c4ac99e38d9cf1cb3fbeb6fbaa93217c6', 'message': 'Consider allocations invovling child providers during allocation cleanup\n\nNova calls remove_provider_from_instance_allocation() in couple of\ncleanup cases. As the name of the function suggests this does not handle\nallocations against RP trees containing child providers. This leads to\nleaking allocations on the child providers during cleanup. As the functional\ntests in ServerMovingTestsWithNestedResourceRequests previously shown mostly\nevacuation is directly affected by this call path because evacuation still\nuses the instance_uuid as the consumer for both the source host and the\ndestination host allocation.\n\nThis patch replaces remove_provider_from_instance_allocation() with\nremove_provider_tree_from_instance_allocation() and as the name suggests\nthis call removes allocation against the RP tree. After this change most\nof the evacuation functional tests passes without resource leak, except\nforce evacuation. That will be handled in a subsequent patch.\n\nAlso as this change made the scheduler/utils\nremove_allocation_from_compute just a proxy call of\nremove_provider_from_instance_allocation and therefore\nremove_allocation_from_compute is deleted.\n\nChange-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7\nBlueprint: use-nested-allocation-candidates\n'}]",80,606050,66297f0c4ac99e38d9cf1cb3fbeb6fbaa93217c6,183,21,16,9708,,,0,"Consider allocations invovling child providers during allocation cleanup

Nova calls remove_provider_from_instance_allocation() in couple of
cleanup cases. As the name of the function suggests this does not handle
allocations against RP trees containing child providers. This leads to
leaking allocations on the child providers during cleanup. As the functional
tests in ServerMovingTestsWithNestedResourceRequests previously shown mostly
evacuation is directly affected by this call path because evacuation still
uses the instance_uuid as the consumer for both the source host and the
destination host allocation.

This patch replaces remove_provider_from_instance_allocation() with
remove_provider_tree_from_instance_allocation() and as the name suggests
this call removes allocation against the RP tree. After this change most
of the evacuation functional tests passes without resource leak, except
force evacuation. That will be handled in a subsequent patch.

Also as this change made the scheduler/utils
remove_allocation_from_compute just a proxy call of
remove_provider_from_instance_allocation and therefore
remove_allocation_from_compute is deleted.

Change-Id: I2af45a9540e7ccd60ace80d9fcadc79972da7df7
Blueprint: use-nested-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/606050/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/scheduler/client/report.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py']",4,ef51fd2dad9b3ceafb2f1759aac9869d358a5161,bp/use-nested-allocation-candidates,," def test_evacuate(self): # This test shows a bug. It seems that when the source allocation is # dropped after the failed evacuate nova only drops the allocation from # the root RP but not from the child RP. super(ServerMovingTestsWithNestedResourceRequests, self).test_evacuate() @unittest.expectedFailure def test_evacuate_rebuild_on_dest_fails(self): # This test shows a bug. It seems that when the rebuild fails on the # destination host only the root RP allocation is deleted on the dest # host. super(ServerMovingTestsWithNestedResourceRequests, self).test_evacuate_rebuild_on_dest_fails() @unittest.expectedFailure def test_evacuate_claim_on_dest_fails(self): # This test shows a bug. It seems that when the evacuation fails on the # destination host only the root RP allocation is deleted on the dest # host. super(ServerMovingTestsWithNestedResourceRequests, self).test_evacuate_claim_on_dest_fails() @unittest.expectedFailure",29,121
openstack%2Ffreezer-api~master~Ib56c0a87c92c48daa705b75c09e1c5b3b1c3cd5a,openstack/freezer-api,master,Ib56c0a87c92c48daa705b75c09e1c5b3b1c3cd5a,Update  Backup Service api-ref,MERGED,2018-10-25 10:58:49.000000000,2018-10-25 14:34:05.000000000,2018-10-25 14:34:05.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 10:58:49.000000000', 'files': ['api-ref/source/v2/samples/job-get-response.json', 'api-ref/source/v2/samples/actions-list-response.json', 'api-ref/source/v2/samples/actions-update-response.json', 'api-ref/source/v2/samples/sessions-update-response.json', 'api-ref/source/v2/samples/job-update-request.json', 'api-ref/source/v2/samples/sessions-update-request.json', 'api-ref/source/v2/samples/client-get-response.json', 'api-ref/source/v2/samples/sessions-list-response.json', 'api-ref/source/v2/samples/sessions-create-response.json', 'api-ref/source/v2/backups-v2.inc', 'api-ref/source/v2/samples/session-start-response.json', 'api-ref/source/v2/samples/sessions-get-response.json', 'api-ref/source/v2/samples/actions-create-response.json', 'api-ref/source/v2/sessions-v2.inc', 'api-ref/source/v2/samples/actions-get-response.json', 'api-ref/source/v2/samples/sessions-get-with-job-response.json', 'api-ref/source/v2/samples/clients-create-request.json', 'api-ref/source/v2/samples/sessions-create-request.json', 'api-ref/source/v2/samples/actions-update-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/backup-get-response.json', 'api-ref/source/v2/jobs-v2.inc', 'api-ref/source/v2/samples/actions-create-request.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/clients-create-response.json', 'api-ref/source/v2/samples/session-start-request.json', 'api-ref/source/v1/index.rst', 'api-ref/source/v2/samples/clients-list-response.json', 'api-ref/source/v2/samples/job-update-response.json', 'api-ref/source/v2/actions-v2.inc', 'api-ref/source/v2/clients-v2.inc'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cee24d3acdc3bf488110affa24de674bc8b0adc7', 'message': 'Update  Backup Service api-ref\n\nAdd Backup Service API v2 reference.\n\nChange-Id: Ib56c0a87c92c48daa705b75c09e1c5b3b1c3cd5a\n'}]",0,613269,cee24d3acdc3bf488110affa24de674bc8b0adc7,7,2,1,21069,,,0,"Update  Backup Service api-ref

Add Backup Service API v2 reference.

Change-Id: Ib56c0a87c92c48daa705b75c09e1c5b3b1c3cd5a
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/69/613269/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/job-get-response.json', 'api-ref/source/v2/samples/actions-list-response.json', 'api-ref/source/v2/samples/actions-update-response.json', 'api-ref/source/v2/samples/sessions-update-response.json', 'api-ref/source/v2/samples/job-update-request.json', 'api-ref/source/v2/samples/sessions-update-request.json', 'api-ref/source/v2/samples/client-get-response.json', 'api-ref/source/v2/samples/sessions-list-response.json', 'api-ref/source/v2/samples/sessions-create-response.json', 'api-ref/source/v2/backups-v2.inc', 'api-ref/source/v2/samples/session-start-response.json', 'api-ref/source/v2/samples/sessions-get-response.json', 'api-ref/source/v2/samples/actions-create-response.json', 'api-ref/source/v2/sessions-v2.inc', 'api-ref/source/v2/samples/actions-get-response.json', 'api-ref/source/v2/samples/sessions-get-with-job-response.json', 'api-ref/source/v2/samples/clients-create-request.json', 'api-ref/source/v2/samples/sessions-create-request.json', 'api-ref/source/v2/samples/actions-update-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/backup-get-response.json', 'api-ref/source/v2/jobs-v2.inc', 'api-ref/source/v2/samples/actions-create-request.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/clients-create-response.json', 'api-ref/source/v2/samples/session-start-request.json', 'api-ref/source/v1/index.rst', 'api-ref/source/v2/samples/clients-list-response.json', 'api-ref/source/v2/samples/job-update-response.json', 'api-ref/source/v2/actions-v2.inc', 'api-ref/source/v2/clients-v2.inc']",31,cee24d3acdc3bf488110affa24de674bc8b0adc7,doc_v2,"================= Clients (clients) ================= Clients allow freezer schedulers or users to create a client to be able to create, update, show or delete job. The client is required to record you backups on freezer api. Lists clients(v2) ================= .. rest_method:: GET /v2/{project_id}/clients Lists clients. This operation lists clients. Normal response codes: 200 Error response codes: - Unauthorized (401) - Forbidden (403) Query Parameters ----------------- .. rest_parameters:: parameters.yaml - project_id: project_id_path Request Parameters ------------------- .. rest_parameters:: parameters.yaml - limit: limit - offset: marker Response Parameters ------------------- .. rest_parameters:: parameters.yaml - clients: clients Response Example ---------------- .. literalinclude:: samples/clients-list-response.json :language: javascript Creates Client(v2) ================== .. rest_method:: POST /v2/{project_id}/clients Creates a client. This operation creates a new client. Normal response codes: 201 Error response codes: - Syntax Error (753) - BadRequest (400) - Unauthorized (401) - ServiceUnavailable (503) Query Parameters ------------------ .. rest_parameters:: parameters.yaml - project_id: project_id_path Request Parameters ------------------- .. rest_parameters:: parameters.yaml - hostname: hostname - uuid: uuid - client_id: client_id Request Example --------------- .. literalinclude:: samples/clients-create-request.json :language: javascript Response Parameters ------------------- .. rest_parameters:: parameters.yaml - client_id: client_id Response Example ---------------- .. literalinclude:: samples/clients-create-response.json :language: javascript Show clients(v2) ================ .. rest_method:: GET /v2/{project_id}/clients/{client_id} Show clients. This operation shows a certain client . It displays all client details. Normal response codes: 200 Error response codes: - Unauthorized (401) - Forbidden (403) Query Parameters ----------------- .. rest_parameters:: parameters.yaml - project_id: project_id_path - client_id: client_id_path Response Parameters ------------------- .. rest_parameters:: parameters.yaml - user_id: user_id - client_id: client_id - hostname: hostname - uuid: uuid Response Example ---------------- .. literalinclude:: samples/client-get-response.json :language: javascript Delete clients(v2) ================== .. rest_method:: DELETE /v2/{project_id}/clients/{client_id} Delete clients. This operation deletes a certain client. Normal response codes: 204 Error response codes: - Unauthorized (401) - Forbidden (403) Query Parameters ----------------- .. rest_parameters:: parameters.yaml - project_id: project_id_path - client_id: client_id_path There is no response for this operation. ",,1531,37
openstack%2Fnova~master~I1832da2190be5ef2b04953938860a56a43e8cddf,openstack/nova,master,I1832da2190be5ef2b04953938860a56a43e8cddf,Remove the CachingScheduler,MERGED,2018-10-18 22:02:32.000000000,2018-10-25 14:21:31.000000000,2018-10-25 13:22:53.000000000,"[{'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-18 22:02:32.000000000', 'files': ['playbooks/legacy/nova-caching-scheduler/post.yaml', 'nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/cmd/test_scheduler.py', 'playbooks/legacy/nova-caching-scheduler/run.yaml', '.zuul.yaml', 'nova/scheduler/driver.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/scheduler.py', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/test_scheduler.py', 'devstack/tempest-dsvm-caching-scheduler-rc', 'nova/tests/functional/regressions/test_bug_1741125.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'contrib/profile_caching_scheduler.sh', 'nova/test.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/scheduler/filters/core_filter.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/scheduler/caching_scheduler.py', 'setup.cfg', 'releasenotes/notes/remove-caching-scheduler-cfe0985b5a58bef4.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/25dadb94db37e0f1c6769bf586ec06c3b5ea3051', 'message': 'Remove the CachingScheduler\n\nThe CachingScheduler has been deprecated since Pike [1].\nIt does not use the placement service and as more of nova\nrelies on placement for managing resource allocations,\nmaintaining compabitility for the CachingScheduler is\nexorbitant.\n\nThe release note in this change goes into much more detail\nabout why the FilterScheduler + Placement should be a\nsufficient replacement for the original justification\nfor the CachingScheduler along with details on how to migrate\nfrom the CachingScheduler to the FilterScheduler.\n\nSince the [scheduler]/driver configuration option does allow\nloading out-of-tree drivers and the scheduler driver interface\ndoes have the USES_ALLOCATION_CANDIDATES variable, it is\npossible that there are drivers being used which are also not\nusing the placement service. The release note also explains this\nbut warns against it. However, as a result some existing\nfunctional tests, which were using the CachingScheduler, are\nupdated to still test scheduling without allocations being\ncreated in the placement service.\n\nOver time we will likely remove the USES_ALLOCATION_CANDIDATES\nvariable in the scheduler driver interface along with the\ncompatibility code associated with it, but that is left for\na later change.\n\n[1] Ia7ff98ff28b7265058845e46b277317a2bfc96d2\n\nChange-Id: I1832da2190be5ef2b04953938860a56a43e8cddf\n'}]",11,611723,25dadb94db37e0f1c6769bf586ec06c3b5ea3051,24,17,1,6873,,,0,"Remove the CachingScheduler

The CachingScheduler has been deprecated since Pike [1].
It does not use the placement service and as more of nova
relies on placement for managing resource allocations,
maintaining compabitility for the CachingScheduler is
exorbitant.

The release note in this change goes into much more detail
about why the FilterScheduler + Placement should be a
sufficient replacement for the original justification
for the CachingScheduler along with details on how to migrate
from the CachingScheduler to the FilterScheduler.

Since the [scheduler]/driver configuration option does allow
loading out-of-tree drivers and the scheduler driver interface
does have the USES_ALLOCATION_CANDIDATES variable, it is
possible that there are drivers being used which are also not
using the placement service. The release note also explains this
but warns against it. However, as a result some existing
functional tests, which were using the CachingScheduler, are
updated to still test scheduling without allocations being
created in the placement service.

Over time we will likely remove the USES_ALLOCATION_CANDIDATES
variable in the scheduler driver interface along with the
compatibility code associated with it, but that is left for
a later change.

[1] Ia7ff98ff28b7265058845e46b277317a2bfc96d2

Change-Id: I1832da2190be5ef2b04953938860a56a43e8cddf
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/611723/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-caching-scheduler/post.yaml', 'nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/cmd/test_scheduler.py', 'playbooks/legacy/nova-caching-scheduler/run.yaml', '.zuul.yaml', 'nova/scheduler/driver.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/scheduler.py', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/test_scheduler.py', 'devstack/tempest-dsvm-caching-scheduler-rc', 'nova/tests/functional/regressions/test_bug_1741125.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'contrib/profile_caching_scheduler.sh', 'nova/test.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/scheduler/filters/core_filter.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/scheduler/caching_scheduler.py', 'setup.cfg', 'releasenotes/notes/remove-caching-scheduler-cfe0985b5a58bef4.yaml']",23,25dadb94db37e0f1c6769bf586ec06c3b5ea3051,delete-caching-scheduler,"--- upgrade: - | The ``caching_scheduler`` scheduler driver, which was deprecated in the 16.0.0 Pike release, has now been removed. Unlike the default ``filter_scheduler`` scheduler driver which creates resource allocations in the placement service during scheduling, the ``caching_scheduler`` driver did not interface with the placement service. As more and more functionality within nova relies on managing (sometimes complex) resource allocations in the placement service, compatibility with the ``caching_scheduler`` driver is difficult to maintain, and seldom tested. The original reasons behind the need for the CachingScheduler should now be resolved with the FilterScheduler and the placement service, notably: * resource claims (allocations) are made atomically during scheduling to alleviate the potential for racing to concurrently build servers on the same compute host which could lead to failures * because of the atomic allocation claims made during scheduling by the ``filter_scheduler`` driver, it is safe [1]_ to run multiple scheduler workers and scale horizontally .. [1] There are still known race issues with concurrently building some types of resources and workloads, such as anything that requires PCI/NUMA or (anti-)affinity groups. However, those races also existed with the ``caching_scheduler`` driver. To migrate from the CachingScheduler to the FilterScheduler, operators can leverage the ``nova-manage placement heal_allocations`` command: https://docs.openstack.org/nova/latest/cli/nova-manage.html#placement Finally, it is still technically possible to load an out-of-tree scheduler driver using the ``nova.scheduler.driver`` entry-point. However, out-of-tree driver interfaces are not guaranteed to be stable: https://docs.openstack.org/nova/latest/contributor/policies.html#out-of-tree-support And as noted above, as more of the code base evolves to rely on resource allocations being tracked in the placement service (created during scheduling), out-of-tree scheduler driver support may be severely impacted. If you rely on the ``caching_scheduler`` driver or your own out-of-tree driver which sets ``USES_ALLOCATION_CANDIDATES = False`` to bypass the placement service, please communicate with the nova development team in the openstack-dev mailing list and/or #openstack-nova freenode IRC channel to determine what prevents you from using the ``filter_scheduler`` driver.",,113,664
openstack%2Fneutron~master~Ia36b05c835339fea8913103dffad1422a9aacaed,openstack/neutron,master,Ia36b05c835339fea8913103dffad1422a9aacaed,ovs-agent: fullstack test resource info report,MERGED,2018-09-05 10:57:29.000000000,2018-10-25 14:19:34.000000000,2018-10-25 14:19:33.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-09-05 10:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cf8f1266cced01220edeb1c7006ebad39d28433', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 2, 'created': '2018-09-06 10:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6550b7b0ddb532796ed81c8145d36e5a4236f40', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 3, 'created': '2018-09-18 07:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88c6500ccb0ee1ca84014eebce18b07f2fd26400', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 4, 'created': '2018-10-01 16:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e18d0fbedc6384511c0de202c858f18d6bccedb', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 5, 'created': '2018-10-04 14:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06a68136c6d6576d929a80126e71e711d3407032', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 6, 'created': '2018-10-05 12:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f78ebcff611e79f911c5fbe9354fd9f423e0cd9b', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 7, 'created': '2018-10-05 12:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8293b7d70f87fcea6852c7e05632d089da300f9', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 8, 'created': '2018-10-08 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d4ce91b2c49c90a3104888a8d678cd8b31b236d', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 9, 'created': '2018-10-08 12:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81d6b4bf66f3bed96c72d054b8415b5195a5d4ea', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 10, 'created': '2018-10-10 09:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0fefad2db21bbf6087aeb39fb9efebdb62d6910', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 11, 'created': '2018-10-10 10:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5864b6626f11135ffa0eaaa2bd901211a0399fc5', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 12, 'created': '2018-10-11 09:17:28.000000000', 'files': ['neutron/tests/fullstack/test_agent_bandwidth_report.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/277c1e77b2e5ac2e281a4178cd4c679d96e45c83', 'message': 'ovs-agent: fullstack test resource info report\n\nChange-Id: Ia36b05c835339fea8913103dffad1422a9aacaed\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}]",22,600002,277c1e77b2e5ac2e281a4178cd4c679d96e45c83,92,14,12,8313,,,0,"ovs-agent: fullstack test resource info report

Change-Id: Ia36b05c835339fea8913103dffad1422a9aacaed
Partial-Bug: #1578989
See-Also: https://review.openstack.org/502306 (nova spec)
See-Also: https://review.openstack.org/508149 (neutron spec)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/600002/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/test_agent_placement_report.py', 'neutron/tests/fullstack/resources/config.py']",2,1cf8f1266cced01220edeb1c7006ebad39d28433,minimum-bandwidth-allocation-placement-api," physnet, device = self._generate_bridge_mappings() self.config['ovs']['bridge_mappings'] = '%s:%s' % (physnet, device) self.config['ovs']['resource_provider_bandwidths'] = '%s:%s:%s' % ( device, 10000, 10000) return (PHYSICAL_NETWORK_NAME, utils.get_rand_device_name(prefix='br-eth'))"," self.config['ovs']['bridge_mappings'] = ( self._generate_bridge_mappings()) return '%s:%s' % (PHYSICAL_NETWORK_NAME, utils.get_rand_device_name(prefix='br-eth'))",55,4
openstack%2Fdevstack~master~I564a328fe26dadf3876a2f1b80596c26e56e3b50,openstack/devstack,master,I564a328fe26dadf3876a2f1b80596c26e56e3b50,DNM: Test grenade placement extract sans devstack changes,ABANDONED,2018-10-24 16:30:11.000000000,2018-10-25 14:16:37.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:30:11.000000000', 'files': ['lib/placement'], 'web_link': 'https://opendev.org/openstack/devstack/commit/44513a891e111a479f6f5c80011735ebefe3894b', 'message': 'DNM: Test grenade placement extract sans devstack changes\n\nThis tests the grenade change that handles the extracted\nplacement repo to see what happens if the corresponding\ndevstack changes are not made yet.\n\nDepends-On: Ia0f19debb442be2b3d04eae238a3d7287393b5eb\nChange-Id: I564a328fe26dadf3876a2f1b80596c26e56e3b50\n'}]",0,613105,44513a891e111a479f6f5c80011735ebefe3894b,11,6,1,6873,,,0,"DNM: Test grenade placement extract sans devstack changes

This tests the grenade change that handles the extracted
placement repo to see what happens if the corresponding
devstack changes are not made yet.

Depends-On: Ia0f19debb442be2b3d04eae238a3d7287393b5eb
Change-Id: I564a328fe26dadf3876a2f1b80596c26e56e3b50
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/613105/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/placement'],1,44513a891e111a479f6f5c80011735ebefe3894b,cd/placement-solo, # hello world!,,1,0
openstack%2Fproject-config~master~I9cea03f726d4acb21ad5584f8db7a4d15bc556db,openstack/project-config,master,I9cea03f726d4acb21ad5584f8db7a4d15bc556db,Switch nodepool launchers to use new zk cluster,MERGED,2018-10-22 16:29:00.000000000,2018-10-25 14:16:36.000000000,2018-10-25 14:16:36.000000000,"[{'_account_id': 1}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 16:29:00.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/57eaa73695411b18bc1bd4b26e5b95b6b8668b43', 'message': 'Switch nodepool launchers to use new zk cluster\n\nThis should happen at the same time as we switch the zuul scheduler over\nto the new zk cluster and after the nodepool builders have populated\nimage data on the new zk cluster.\n\nThis gets us off the old nodepool.o.o server and onto newer HA cluster.\n\nChange-Id: I9cea03f726d4acb21ad5584f8db7a4d15bc556db\n'}]",0,612442,57eaa73695411b18bc1bd4b26e5b95b6b8668b43,10,6,1,4146,,,0,"Switch nodepool launchers to use new zk cluster

This should happen at the same time as we switch the zuul scheduler over
to the new zk cluster and after the nodepool builders have populated
image data on the new zk cluster.

This gets us off the old nodepool.o.o server and onto newer HA cluster.

Change-Id: I9cea03f726d4acb21ad5584f8db7a4d15bc556db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/612442/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml']",4,57eaa73695411b18bc1bd4b26e5b95b6b8668b43,zk-cluster-switch, - host: zk01.openstack.org port: 2181 - host: zk02.openstack.org port: 2181 - host: zk03.openstack.org, - host: nodepool.openstack.org,20,4
openstack%2Fopenstack-ansible-os_panko~stable%2Frocky~I8f1a221536363a5ed5154cfb72bfae710c018429,openstack/openstack-ansible-os_panko,stable/rocky,I8f1a221536363a5ed5154cfb72bfae710c018429,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:35:37.000000000,2018-10-25 14:10:37.000000000,2018-10-25 14:10:37.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:35:37.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/abdb5088f51435e7099d45ef040978d8bf3161b7', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I8f1a221536363a5ed5154cfb72bfae710c018429\n(cherry picked from commit 1a81b54fa3d51ec143cfd6206e77135c21c2b2f7)\n'}]",0,612903,abdb5088f51435e7099d45ef040978d8bf3161b7,14,4,1,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I8f1a221536363a5ed5154cfb72bfae710c018429
(cherry picked from commit 1a81b54fa3d51ec143cfd6206e77135c21c2b2f7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/03/612903/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,abdb5088f51435e7099d45ef040978d8bf3161b7,container_name_host_var-stable/rocky,container_name: openstack1,,2,1
openstack%2Fnova~master~I0851e2d54a1fdc82fe3291fb7e286e790f121e92,openstack/nova,master,I0851e2d54a1fdc82fe3291fb7e286e790f121e92,Drop legacy cold migrate allocation compat code,MERGED,2018-10-19 21:50:04.000000000,2018-10-25 13:55:19.000000000,2018-10-25 13:55:19.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-19 21:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66aa0397b86b9f9cb42aad2ab2aaf684baa4a2f9', 'message': 'Drop legacy cold migrate allocation compat code\n\nMigration-based allocations, where conductor swaps the\nsource node allocations from the instance record to the\nmigration record before calling the scheduler - which\ncreates new allocations on the selected dest node for\nthe instance, was new in Queens but contained compatibility\ncode for (1) old computes where conductor couldn\'t pass\na migration record to the compute and (2) scheduler drivers\nwhich didn\'t create allocations, like the CachingScheduler.\n\nChange Ibcb6bf912b3fb69c8631665fef2832906ba338aa makes\n""migration"" a required parameter for prep_resize() in\ncompute so (1) is no longer an issue. And change\nI1832da2190be5ef2b04953938860a56a43e8cddf removed the\nCachingScheduler.\n\nThis change guts the compatibility code added throughout\nthe following changes in Queens:\n\n  I0883c2ba1989c5d5a46e23bcbcda53598707bcbc\n\n  I7b2903c56cb53b48afe2c4dec42ae7623a7f24eb\n\n  I7c3c95d4e0836e1af054d076aad29172574eab2c\n\nThis change does overlap a bit with live-migration\nflows that deal with migration-based allocations. Those\nflows will be cleaned up in a subsequent change.\n\nCleaning up this compatibility code is going to help\nwith supporting nested resource allocations for things\nlike blueprint use-nested-allocation-candidates where\nwe need to be sure that the source node allocations are\non the migration record rather than ""doubled up"" on the\ninstance record.\n\nChange-Id: I0851e2d54a1fdc82fe3291fb7e286e790f121e92\n'}, {'number': 2, 'created': '2018-10-19 21:52:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e936b82a4299f887239186e2a593fc3e010beaae', 'message': 'Drop legacy cold migrate allocation compat code\n\nMigration-based allocations, where conductor swaps the\nsource node allocations from the instance record to the\nmigration record before calling the scheduler - which\ncreates new allocations on the selected dest node for\nthe instance, was new in Queens but contained compatibility\ncode for (1) old computes where conductor couldn\'t pass\na migration record to the compute and (2) scheduler drivers\nwhich didn\'t create allocations, like the CachingScheduler.\n\nChange Ibcb6bf912b3fb69c8631665fef2832906ba338aa makes\n""migration"" a required parameter for prep_resize() in\ncompute so (1) is no longer an issue. And change\nI1832da2190be5ef2b04953938860a56a43e8cddf removed the\nCachingScheduler.\n\nThis change guts the compatibility code added throughout\nthe following changes in Queens:\n\n  I0883c2ba1989c5d5a46e23bcbcda53598707bcbc\n\n  I7b2903c56cb53b48afe2c4dec42ae7623a7f24eb\n\n  I7c3c95d4e0836e1af054d076aad29172574eab2c\n\nThis change does overlap a bit with live-migration\nflows that deal with migration-based allocations. Those\nflows will be cleaned up in a subsequent change.\n\nCleaning up this compatibility code is going to help\nwith supporting nested resource allocations for things\nlike blueprint use-nested-allocation-candidates where\nwe need to be sure that the source node allocations are\non the migration record rather than ""doubled up"" on the\ninstance record.\n\nChange-Id: I0851e2d54a1fdc82fe3291fb7e286e790f121e92\n'}]",1,611970,e936b82a4299f887239186e2a593fc3e010beaae,27,19,2,6873,,,0,"Drop legacy cold migrate allocation compat code

Migration-based allocations, where conductor swaps the
source node allocations from the instance record to the
migration record before calling the scheduler - which
creates new allocations on the selected dest node for
the instance, was new in Queens but contained compatibility
code for (1) old computes where conductor couldn't pass
a migration record to the compute and (2) scheduler drivers
which didn't create allocations, like the CachingScheduler.

Change Ibcb6bf912b3fb69c8631665fef2832906ba338aa makes
""migration"" a required parameter for prep_resize() in
compute so (1) is no longer an issue. And change
I1832da2190be5ef2b04953938860a56a43e8cddf removed the
CachingScheduler.

This change guts the compatibility code added throughout
the following changes in Queens:

  I0883c2ba1989c5d5a46e23bcbcda53598707bcbc

  I7b2903c56cb53b48afe2c4dec42ae7623a7f24eb

  I7c3c95d4e0836e1af054d076aad29172574eab2c

This change does overlap a bit with live-migration
flows that deal with migration-based allocations. Those
flows will be cleaned up in a subsequent change.

Cleaning up this compatibility code is going to help
with supporting nested resource allocations for things
like blueprint use-nested-allocation-candidates where
we need to be sure that the source node allocations are
on the migration record rather than ""doubled up"" on the
instance record.

Change-Id: I0851e2d54a1fdc82fe3291fb7e286e790f121e92
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/611970/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",6,66aa0397b86b9f9cb42aad2ab2aaf684baa4a2f9,remove-migration-allocation-compat," self._delete_allocation_after_move(context, instance, migration) def _delete_allocation_after_move(self, context, instance, migration): """"""Deletes resource allocations held by the migration record against the source compute node resource provider after a confirmed cold / successful live migration. """""" try: # NOTE(danms): We're finishing on the source node, so try # to delete the allocation based on the migration uuid self.reportclient.delete_allocation_for_instance( except exception.AllocationDeleteFailed: LOG.error('Deleting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put to ERROR state ' 'but the allocation held by the migration is ' 'leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise LOG.error('Did not find resource allocations for migration ' '%s on source node %s. Unable to revert source node ' 'allocations back to the instance.', migration.uuid, migration.source_node, instance=instance) LOG.error('Migration %(mig)s has allocations against ' self._revert_allocation(context, instance, migration) migrate_data.migration)"," self._delete_allocation_after_move(context, instance, migration, old_instance_type, migration.source_node) def _delete_allocation_after_move(self, context, instance, migration, flavor, nodename): rt = self._get_resource_tracker() cn_uuid = rt.get_node_uuid(nodename) if migration.source_node == nodename: if migration.status in ('confirmed', 'completed'): try: # NOTE(danms): We're finishing on the source node, so try # to delete the allocation based on the migration uuid deleted = self.reportclient.delete_allocation_for_instance( context, migration.uuid) if deleted: LOG.info(_('Source node %(node)s confirmed migration ' '%(mig)s; deleted migration-based ' 'allocation'), {'node': nodename, 'mig': migration.uuid}) # NOTE(danms): We succeeded, which means we do not # need to do the complex double allocation dance return except exception.AllocationDeleteFailed: LOG.error('Deleting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put to ERROR state ' 'but the allocation held by the migration is ' 'leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise else: # We're reverting (or failed) on the source, so we # need to check if our migration holds a claim and if # so, avoid doing the legacy behavior below. # NOTE(gibi): We are only hitting this in case of reverting # a resize-on-same-host operation mig_allocs = ( self.reportclient.get_allocations_for_consumer_by_provider( context, cn_uuid, migration.uuid)) if mig_allocs: LOG.info(_('Source node %(node)s reverted migration ' '%(mig)s; not deleting migration-based ' 'allocation'), {'node': nodename, 'mig': migration.uuid}) return elif migration.dest_node == nodename: # NOTE(danms): We're reverting on the destination node # (and we must not be doing a same-host migration if we # made it past the check above), so we need to check to # see if the source did migration-based allocation # accounting allocs = self.reportclient.get_allocations_for_consumer( if allocs: # NOTE(danms): The source did migration-based allocation # accounting, so we should let the source node rejigger # the allocations in finish_resize_revert() LOG.info(_('Destination node %(node)s reverted migration ' '%(mig)s; not deleting migration-based ' 'allocation'), {'node': nodename, 'mig': migration.uuid}) return # TODO(danms): Remove below this line when we remove compatibility # for double-accounting migrations (likely rocky) LOG.info(_('Doing legacy allocation math for migration %(mig)s after ' 'instance move'), {'mig': migration.uuid}, instance=instance) # NOTE(jaypipes): This sucks, but due to the fact that confirm_resize() # only runs on the source host and revert_resize() runs on the # destination host, we need to do this here. Basically, what we're # doing here is grabbing the existing allocations for this instance # from the placement API, dropping the resources in the doubled-up # allocation set that refer to the source host UUID and calling PUT # /allocations back to the placement API. The allocation that gets # PUT'd back to placement will only include the destination host and # any shared providers in the case of a confirm_resize operation and # the source host and shared providers for a revert_resize operation.. if not scheduler_utils.remove_allocation_from_compute( context, instance, cn_uuid, self.reportclient, flavor): LOG.error(""Failed to save manipulated allocation"", instance=instance) self._delete_allocation_after_move(context, instance, migration, instance.flavor, instance.node) # NOTE(danms): This migration did not do per-migration allocation # accounting, so nothing to do here. LOG.info('Old-style migration %(mig)s is being reverted; ' 'no migration claims found on original node ' 'to swap.', {'mig': migration.uuid}, instance=instance) LOG.error('New-style migration %(mig)s has allocations against ' if migration and not self._revert_allocation( context, instance, migration): # We did not do a migration-based # allocation. Note that for a resize to the # same host, the scheduler will merge the # flavors, so here we'd be subtracting the new # flavor from the allocated resources on this # node. # FIXME(danms): Remove this in Rocky rt = self._get_resource_tracker() rt.delete_allocation_for_failed_resize( context, instance, node, instance_type) migrate_data.migration, instance.flavor, source_node)",52,311
openstack%2Fproject-config~master~I6ada28dd88df52afedbe1d1055f050c51a9c5dbe,openstack/project-config,master,I6ada28dd88df52afedbe1d1055f050c51a9c5dbe,Disable all providers in nodepool launchers,ABANDONED,2018-10-25 13:31:05.000000000,2018-10-25 13:50:36.000000000,,[{'_account_id': 5263}],"[{'number': 1, 'created': '2018-10-25 13:31:05.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7dd9e5a7c238412fd3bce6dd4dbc9d63721794c', 'message': 'Disable all providers in nodepool launchers\n\nAs part of the migration to a new ZooKeeper cluster, we need to\ntemporarily disable all providers so that we can manually delete\nexisting instances.\n\nChange-Id: I6ada28dd88df52afedbe1d1055f050c51a9c5dbe\n'}]",0,613329,d7dd9e5a7c238412fd3bce6dd4dbc9d63721794c,3,1,1,3099,,,0,"Disable all providers in nodepool launchers

As part of the migration to a new ZooKeeper cluster, we need to
temporarily disable all providers so that we can manually delete
existing instances.

Change-Id: I6ada28dd88df52afedbe1d1055f050c51a9c5dbe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/613329/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml']",4,d7dd9e5a7c238412fd3bce6dd4dbc9d63721794c,cattle-drive, max-servers: 0 max-servers: 0 max-servers: 0, max-servers: 140 max-servers: 145 max-servers: 195,13,13
openstack%2Fopenstack-helm-infra~master~I031c63d6305f1514ffdd53d77d621bc7edc0e68c,openstack/openstack-helm-infra,master,I031c63d6305f1514ffdd53d77d621bc7edc0e68c,MariaDB: Move to use mariabackup instead of xtrabackup-v2,MERGED,2018-10-23 18:03:56.000000000,2018-10-25 13:44:16.000000000,2018-10-25 13:44:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-23 18:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff2f75be36d2212f0096bf32a14b1bb18f61bced', 'message': 'MariaDB: Move to use mariabackup instead of xtrabackup-v2\n\nThis PS moves to use mariabackup instead of xtrabackup-v2, for info\nsee:\n * https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103/#mariadb-backup-and-percona-xtrabackup\n * https://mariadb.com/kb/en/library/mariabackup-overview/#about-mariabackup\n\nAdditionally the readyness script is updated to match the order of\nvalidation tests described in the mariadb/galera documentation.\n\nChange-Id: I031c63d6305f1514ffdd53d77d621bc7edc0e68c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-24 18:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ac08378a2029adb9e7262a4350b4005a700b518', 'message': 'MariaDB: Move to use mariabackup instead of xtrabackup-v2\n\nThis PS moves to use mariabackup instead of xtrabackup-v2, for info\nsee:\n * https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103/#mariadb-backup-and-percona-xtrabackup\n * https://mariadb.com/kb/en/library/mariabackup-overview/#about-mariabackup\n\nAdditionally the readyness script is updated to match the order of\nvalidation tests described in the mariadb/galera documentation.\n\nChange-Id: I031c63d6305f1514ffdd53d77d621bc7edc0e68c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-25 05:43:59.000000000', 'files': ['mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/etc/_00-base.cnf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bc03bf88cb7272fe2c206673d3d0aeefb97321d', 'message': 'MariaDB: Move to use mariabackup instead of xtrabackup-v2\n\nThis PS moves to use mariabackup instead of xtrabackup-v2, for info\nsee:\n * https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103/#mariadb-backup-and-percona-xtrabackup\n * https://mariadb.com/kb/en/library/mariabackup-overview/#about-mariabackup\n\nAdditionally the readyness script is updated to match the order of\nvalidation tests described in the mariadb/galera documentation.\n\nChange-Id: I031c63d6305f1514ffdd53d77d621bc7edc0e68c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,612768,8bc03bf88cb7272fe2c206673d3d0aeefb97321d,15,7,3,23928,,,0,"MariaDB: Move to use mariabackup instead of xtrabackup-v2

This PS moves to use mariabackup instead of xtrabackup-v2, for info
see:
 * https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103/#mariadb-backup-and-percona-xtrabackup
 * https://mariadb.com/kb/en/library/mariabackup-overview/#about-mariabackup

Additionally the readyness script is updated to match the order of
validation tests described in the mariadb/galera documentation.

Change-Id: I031c63d6305f1514ffdd53d77d621bc7edc0e68c
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/612768/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/etc/_00-base.cnf.tpl']",2,ff2f75be36d2212f0096bf32a14b1bb18f61bced,mariadb/updates,# FIX_ME(portdirect): https://mariadb.com/kb/en/library/mariabackup-overview/#granting-privileges-for-sstswsrep_sst_method=mariabackup,wsrep_sst_method=xtrabackup-v2,10,5
openstack%2Fswift~master~I1976acf4d80f4fd15125c31632a3584b2466103a,openstack/swift,master,I1976acf4d80f4fd15125c31632a3584b2466103a,WIP - abstract FS operations in replicator/reconstructor,ABANDONED,2018-04-16 14:15:21.000000000,2018-10-25 13:34:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-16 14:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/284865bcdac9f2ba02a6314b5dd3187f2798e790', 'message': 'WIP - abstract FS operations in replicator/reconstructor\n\nMake the replicator/reconstructor call to the DiskFileManager for FS\noperations (mkdir, rmtree...).\n\nThe goal is to be able to add diskfile implementations without having to\npatch the replicator/reconstructor.\n\nBecause lots of things in the code rely on the current directory\nstructure (partition/suffix/object hash) I have kept the ""POSIX like""\ncalls.\n\nSo all these ""rmdir"", ""exists"", etc.. functions in the DiskFileManager\ndon\'t look very good (and could be static), but I\'m not sure how else to\nhandle it without changing the replicator/reconstructor logic.\nSuggestions welcome!\n\nChange-Id: I1976acf4d80f4fd15125c31632a3584b2466103a\n'}, {'number': 2, 'created': '2018-04-16 15:51:18.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_replicator.py', 'test/unit/obj/test_reconstructor.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/35ccf384c995b138cf1f9000ced7d5ff1184938e', 'message': 'WIP - abstract FS operations in replicator/reconstructor\n\nMake the replicator/reconstructor call to the DiskFileManager for FS\noperations (mkdir, rmtree...).\n\nThe goal is to be able to add diskfile implementations without having to\npatch the replicator/reconstructor.\n\nBecause lots of things in the code rely on the current directory\nstructure (partition/suffix/object hash) I have kept the ""POSIX like""\ncalls.\n\nSo all these ""rmdir"", ""exists"", etc.. functions in the DiskFileManager\ndon\'t look very good (and could be static), but I\'m not sure how else to\nhandle it without changing the replicator/reconstructor logic.\nSuggestions welcome!\n\nChange-Id: I1976acf4d80f4fd15125c31632a3584b2466103a\n'}]",0,561631,35ccf384c995b138cf1f9000ced7d5ff1184938e,5,1,2,25251,,,0,"WIP - abstract FS operations in replicator/reconstructor

Make the replicator/reconstructor call to the DiskFileManager for FS
operations (mkdir, rmtree...).

The goal is to be able to add diskfile implementations without having to
patch the replicator/reconstructor.

Because lots of things in the code rely on the current directory
structure (partition/suffix/object hash) I have kept the ""POSIX like""
calls.

So all these ""rmdir"", ""exists"", etc.. functions in the DiskFileManager
don't look very good (and could be static), but I'm not sure how else to
handle it without changing the replicator/reconstructor logic.
Suggestions welcome!

Change-Id: I1976acf4d80f4fd15125c31632a3584b2466103a
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/561631/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_replicator.py', 'swift/obj/diskfile.py', 'test/unit/obj/test_reconstructor.py']",5,284865bcdac9f2ba02a6314b5dd3187f2798e790,feature/abstract_fsops," def blowup_mkdirs(self, path): with mock.patch.object(diskfile.BaseDiskFileManager, 'mkdirs', blowup_mkdirs): mock.patch('swift.obj.diskfile.BaseDiskFileManager.mkdirs', self.assertIn('Not a directory', line)"," def blowup_mkdirs(path): with mock.patch.object(object_reconstructor, 'mkdirs', blowup_mkdirs): mock.patch('swift.obj.reconstructor.mkdirs', self.assertIn('Unable to list partitions', line)",102,40
openstack%2Fswift~master~I8af39770e7a1eab0b8e556c1cac1fcc030d04dc0,openstack/swift,master,I8af39770e7a1eab0b8e556c1cac1fcc030d04dc0,Initial LOSF RPC commit,ABANDONED,2018-04-11 15:54:36.000000000,2018-10-25 13:34:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-11 15:54:36.000000000', 'files': ['go/losf-rpc/db.go', 'go/losf-rpc/swift_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md', 'go/losf-rpc/encoding.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE', 'go/losf-rpc/encoding_test.go', 'go/losf-rpc/utils.go', 'go/losf-rpc/README.md', 'go/losf-rpc/main.go', 'go/losf-rpc/swift.go', 'go/losf-rpc/stats.go', 'go/losf-rpc/rpc_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/statsd_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/.travis.yml', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/conn.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/examples_test.go', 'go/losf-rpc/proto/fmgr.proto', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/README.md', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/options.go', 'go/losf-rpc/rpc.go', 'go/losf-rpc/logging.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/doc.go'], 'web_link': 'https://opendev.org/openstack/swift/commit/94cd83ab6fb00d9dd3abaa3e7aa7cf920dea19bd', 'message': 'Initial LOSF RPC commit\n\nThe RPC code for the ""LOSF"" (Lots Of Small Files) work.\n\nChange-Id: I8af39770e7a1eab0b8e556c1cac1fcc030d04dc0\n'}]",0,560480,94cd83ab6fb00d9dd3abaa3e7aa7cf920dea19bd,3,1,1,25251,,,0,"Initial LOSF RPC commit

The RPC code for the ""LOSF"" (Lots Of Small Files) work.

Change-Id: I8af39770e7a1eab0b8e556c1cac1fcc030d04dc0
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/560480/1 && git format-patch -1 --stdout FETCH_HEAD,"['go/losf-rpc/db.go', 'go/losf-rpc/swift_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md', 'go/losf-rpc/encoding.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE', 'go/losf-rpc/encoding_test.go', 'go/losf-rpc/utils.go', 'go/losf-rpc/README.md', 'go/losf-rpc/main.go', 'go/losf-rpc/swift.go', 'go/losf-rpc/stats.go', 'go/losf-rpc/rpc_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/statsd_test.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/.travis.yml', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/conn.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/examples_test.go', 'go/losf-rpc/proto/fmgr.proto', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/README.md', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/options.go', 'go/losf-rpc/rpc.go', 'go/losf-rpc/logging.go', 'go/losf-rpc/vendor/gopkg.in/alexcesaro/statsd.v2/doc.go']",23,94cd83ab6fb00d9dd3abaa3e7aa7cf920dea19bd,feature/losf,"/* Package statsd is a simple and efficient StatsD client. Options Use options to configure the Client: target host/port, sampling rate, tags, etc. Whenever you want to use different options (e.g. other tags, different sampling rate), you should use the Clone() method of the Client. Because when cloning a Client, the same connection is reused so this is way cheaper and more efficient than creating another Client using New(). Internals Client's methods buffer metrics. The buffer is flushed when either: - the background goroutine flushes the buffer (every 100ms by default) - the buffer is full (1440 bytes by default so that IP packets are not fragmented) The background goroutine can be disabled using the FlushPeriod(0) option. Buffering can be disabled using the MaxPacketSize(0) option. StatsD homepage: https://github.com/etsy/statsd */ package statsd ",,4599,0
openstack%2Fnova~master~I5eed90d45f4f1fc0f7f2ef47a795f63d363a65b4,openstack/nova,master,I5eed90d45f4f1fc0f7f2ef47a795f63d363a65b4,Document restrictions on changes-since/before when listing servers,ABANDONED,2018-10-24 15:17:14.000000000,2018-10-25 13:30:29.000000000,,"[{'_account_id': 7634}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-24 15:17:14.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/cfd5735684d4c2f7a32ae927e7ecf52bab58dff9', 'message': 'Document restrictions on changes-since/before when listing servers\n\nThis copies the same wording about using the changes-since\nand changes-before query parameters when listing migrations\nand instance actions records and applies it to listing servers.\n\nRelated changes:\n\n  I2a39ac5a9fe969d383099b4e766c46ad05d9f67c\n\n  I44546bc9798708a48a250cc3a21bdbcabe2649e1\n\nChange-Id: I5eed90d45f4f1fc0f7f2ef47a795f63d363a65b4\nRelated-Bug: #1796008\nRelated-Bug: #1796009\n'}]",0,613070,cfd5735684d4c2f7a32ae927e7ecf52bab58dff9,16,14,1,6873,,,0,"Document restrictions on changes-since/before when listing servers

This copies the same wording about using the changes-since
and changes-before query parameters when listing migrations
and instance actions records and applies it to listing servers.

Related changes:

  I2a39ac5a9fe969d383099b4e766c46ad05d9f67c

  I44546bc9798708a48a250cc3a21bdbcabe2649e1

Change-Id: I5eed90d45f4f1fc0f7f2ef47a795f63d363a65b4
Related-Bug: #1796008
Related-Bug: #1796009
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/613070/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,cfd5735684d4c2f7a32ae927e7ecf52bab58dff9,bug/1796008," When both ``changes-since`` and ``changes-before`` are specified, the value of the ``changes-before`` must be later than or equal to the value of the ``changes-since`` otherwise API will return 400. When both ``changes-since`` and ``changes-before`` are specified, the value of the ``changes-since`` must be earlier than or equal to the value of the ``changes-before`` otherwise API will return 400.",,6,0
openstack%2Fneutron~stable%2Fpike~I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a,openstack/neutron,stable/pike,I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a,DVR: Fix mac format for backward compatibility with vsctl api,MERGED,2018-03-20 14:28:16.000000000,2018-10-25 13:28:10.000000000,2018-10-25 13:28:09.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 7233}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 14:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a409b44c5aedfc2caf9f8590f91782c07df89ea', 'message': 'DVR: Fix mac format for backward compatibility with vsctl api\n\nFix the mac address format for backward compatibility with\nvsctl ovs api\n\nCloses-Bug: #1756406\nChange-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a\n(cherry picked from commit 6b13cf0bee67e6196201e7863b1facce54b6d6f6)\n'}, {'number': 5, 'created': '2018-10-01 20:04:15.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77152ee76eb588aefc693472ceaa415559bdebf4', 'message': 'DVR: Fix mac format for backward compatibility with vsctl api\n\nFix the mac address format for backward compatibility with\nvsctl ovs api\n\nCloses-Bug: #1756406\nChange-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a\n(cherry picked from commit 6b13cf0bee67e6196201e7863b1facce54b6d6f6)\n'}]",0,554568,77152ee76eb588aefc693472ceaa415559bdebf4,66,11,2,19307,,,0,"DVR: Fix mac format for backward compatibility with vsctl api

Fix the mac address format for backward compatibility with
vsctl ovs api

Closes-Bug: #1756406
Change-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a
(cherry picked from commit 6b13cf0bee67e6196201e7863b1facce54b6d6f6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/554568/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,3a409b44c5aedfc2caf9f8590f91782c07df89ea,bug/1756406-stable/queens-stable/pike," 'mac_address': 'aa-bb-cc-dd-ee-ff'}, 'mac_address': '11-22-33-44-55-66'}]): 'mac_address': 'aa-22-33-44-55-66'}): valid_entry = {'host': 'cn1', 'mac_address': 'aa-22-33-44-55-66'}"," 'mac_address': 'aa:bb:cc:dd:ee:ff'}, 'mac_address': '11:22:33:44:55:66'}]): 'mac_address': 'aa:22:33:44:55:66'}): valid_entry = {'host': 'cn1', 'mac_address': 'aa:22:33:44:55:66'}",16,9
openstack%2Fwatcher~master~I1c9c141d98d858c36ad8bb7be0b95c38ff1d5752,openstack/watcher,master,I1c9c141d98d858c36ad8bb7be0b95c38ff1d5752,Don't need nova notifications,MERGED,2018-10-12 07:13:10.000000000,2018-10-25 13:18:39.000000000,2018-10-25 13:18:39.000000000,"[{'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f0d955084e2f734d392ccd118f614380a8ee2c0d', 'message': ""Don't need nova notifications\n\nNow we have removed nova legacy notifications in Watcher\nand just consume nova versioned notifications,\nwe don't need notification config in nova.cfg\n\nChange-Id: I1c9c141d98d858c36ad8bb7be0b95c38ff1d5752\n""}, {'number': 2, 'created': '2018-10-24 06:42:17.000000000', 'files': ['devstack/local.conf.compute', 'devstack/local.conf.controller', 'devstack/lib/watcher'], 'web_link': 'https://opendev.org/openstack/watcher/commit/93890fb2900ce2ecb22779e3548bed486febf1cd', 'message': ""Don't need nova notifications\n\nNow we have removed nova legacy notifications in Watcher\nand just consume nova versioned notifications,\nwe don't need notification config in nova.conf\n\nChange-Id: I1c9c141d98d858c36ad8bb7be0b95c38ff1d5752\n""}]",4,609931,93890fb2900ce2ecb22779e3548bed486febf1cd,18,4,2,21692,,,0,"Don't need nova notifications

Now we have removed nova legacy notifications in Watcher
and just consume nova versioned notifications,
we don't need notification config in nova.conf

Change-Id: I1c9c141d98d858c36ad8bb7be0b95c38ff1d5752
",git fetch https://review.opendev.org/openstack/watcher refs/changes/31/609931/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,f0d955084e2f734d392ccd118f614380a8ee2c0d,remove_nova_conf,," iniset $NOVA_CONF oslo_messaging_notifications topics ""notifications,watcher_notifications"" iniset $NOVA_CONF notifications notify_on_state_change ""vm_and_task_state"" ",0,3
openstack%2Fopenstack-ansible-os_keystone~master~I55158c332a35e150f61541e8c2c1390e397d7d2c,openstack/openstack-ansible-os_keystone,master,I55158c332a35e150f61541e8c2c1390e397d7d2c,"Revert ""vars: Add missing netcat package""",MERGED,2018-10-25 10:35:22.000000000,2018-10-25 13:11:56.000000000,2018-10-25 13:11:56.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 27926}]","[{'number': 1, 'created': '2018-10-25 10:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ea2fa7dd605d993da79dc5b41e2dbbe1d2340006', 'message': 'Revert ""vars: Add missing netcat package""\n\nThis reverts commit 781835e7521b91ef813a1c95455ac9e91794a8ca.\n\nThe package is actually required on the memcached hosts, not\nthe keystone hosts. This helped make role tests pass because\nin the role tests memcache and keystone are often on the same\ncontainers.\n\nThe actual fix will be https://review.openstack.org/613099 which\nensures that netcat is installed on the memcache hosts instead.\n\nChange-Id: I55158c332a35e150f61541e8c2c1390e397d7d2c\n'}, {'number': 2, 'created': '2018-10-25 10:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a497c35cbf6f11303a43492aed306cda39e23cc8', 'message': 'Revert ""vars: Add missing netcat package""\n\nThis reverts commit 781835e7521b91ef813a1c95455ac9e91794a8ca.\n\nThe package is actually required on the memcached hosts, not\nthe keystone hosts. This helped make role tests pass because\nin the role tests memcache and keystone are often on the same\ncontainers.\n\nThe actual fix will be https://review.openstack.org/613099 which\nensures that netcat is installed on the memcache hosts instead.\n\nChange-Id: I55158c332a35e150f61541e8c2c1390e397d7d2c\n'}, {'number': 3, 'created': '2018-10-25 10:36:17.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0cd0a732c591b7b5090c4f87fc47db3a44b6fc3e', 'message': 'Revert ""vars: Add missing netcat package""\n\nThis reverts commit 781835e7521b91ef813a1c95455ac9e91794a8ca.\n\nThe package is actually required on the memcached hosts, not\nthe keystone hosts. This helped make role tests pass because\nin the role tests memcache and keystone are often on the same\ncontainers.\n\nThe actual fix will be https://review.openstack.org/613099 which\nensures that netcat is installed on the memcache hosts instead.\n\nDepends-On: https://review.openstack.org/613099\nChange-Id: I55158c332a35e150f61541e8c2c1390e397d7d2c\n'}]",0,613260,0cd0a732c591b7b5090c4f87fc47db3a44b6fc3e,9,16,3,6816,,,0,"Revert ""vars: Add missing netcat package""

This reverts commit 781835e7521b91ef813a1c95455ac9e91794a8ca.

The package is actually required on the memcached hosts, not
the keystone hosts. This helped make role tests pass because
in the role tests memcache and keystone are often on the same
containers.

The actual fix will be https://review.openstack.org/613099 which
ensures that netcat is installed on the memcache hosts instead.

Depends-On: https://review.openstack.org/613099
Change-Id: I55158c332a35e150f61541e8c2c1390e397d7d2c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/60/613260/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",3,ea2fa7dd605d993da79dc5b41e2dbbe1d2340006,add-missing-netcat,keystone_sshd: sshd, - netcat-openbsdkeystone_sshd: sshd ,3,6
openstack%2Ftempest~master~I2b8991dd8aa20736d2b9f978a977fc227ed0ab8b,openstack/tempest,master,I2b8991dd8aa20736d2b9f978a977fc227ed0ab8b,Adding missing test case of account generator resources,MERGED,2018-10-01 09:03:57.000000000,2018-10-25 12:49:49.000000000,2018-10-25 10:43:12.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-10-01 09:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4869653758e1c76b2e864c43c875c7502f59d541', 'message': 'Adding missing test case of account generator resources\n\nAdding a new test which is missing from account generator resources.\nTest name: test_generate_resources_swift_no_admin\n\nThis patch set will add the test to check generate resources when\nSwift is enable but admin is not. It will also add some missing\nchecks in another tests.\n\nChange-Id: I2b8991dd8aa20736d2b9f978a977fc227ed0ab8b\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n'}, {'number': 2, 'created': '2018-10-25 08:34:20.000000000', 'files': ['tempest/tests/cmd/test_account_generator.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ece4ae6e42f42bb4722e1af232fc062f76b6d88f', 'message': 'Adding missing test case of account generator resources\n\nAdding a new test which is missing from account generator resources.\nTest name: test_generate_resources_swift_no_admin\n\nThis patch set will add the test to check generate resources when\nSwift is enable but admin is not. It will also add some missing\nchecks in another tests.\n\nChange-Id: I2b8991dd8aa20736d2b9f978a977fc227ed0ab8b\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n'}]",0,606909,ece4ae6e42f42bb4722e1af232fc062f76b6d88f,28,8,2,27078,,,0,"Adding missing test case of account generator resources

Adding a new test which is missing from account generator resources.
Test name: test_generate_resources_swift_no_admin

This patch set will add the test to check generate resources when
Swift is enable but admin is not. It will also add some missing
checks in another tests.

Change-Id: I2b8991dd8aa20736d2b9f978a977fc227ed0ab8b
Partially-Implements: blueprint tempest-cli-unit-test-coverage
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/606909/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/cmd/test_account_generator.py'],1,4869653758e1c76b2e864c43c875c7502f59d541,606880," self.assertEqual(self.opts.os_username, admin_creds.username) self.assertEqual(self.opts.os_password, admin_creds.password) def test_generate_resources_swift_no_admin(self): cfg.CONF.set_default('swift', True, group='service_available') cfg.CONF.set_default('operator_role', 'fake_operator', group='object-storage') cfg.CONF.set_default('reseller_admin_role', 'fake_reseller', group='object-storage') resources = account_generator.generate_resources( self.cred_provider, admin=False) resource_types = [k for k, _ in resources] # No Admin, swift, expect four credentials only self.assertEqual(4, len(resources)) # Ensure create_user was invoked 4 times (4 distinct users) self.assertEqual(4, self.user_create_fixture.mock.call_count) self.assertIn('primary', resource_types) self.assertIn('alt', resource_types) self.assertNotIn('admin', resource_types) self.assertIn(['fake_operator'], resource_types) self.assertIn(['fake_reseller'], resource_types) self.assertNotIn(['fake_owner'], resource_types) for resource in resources: self.assertIsNotNone(resource[1].network) self.assertIsNotNone(resource[1].router) self.assertIsNotNone(resource[1].subnet) ",,26,0
openstack%2Fopenstack-manuals~master~Ib73c80d22f8bfc5ce98c41a737535bfeb0d5f2d7,openstack/openstack-manuals,master,Ib73c80d22f8bfc5ce98c41a737535bfeb0d5f2d7,Temporarily remove ha-guide from index,MERGED,2018-10-25 06:25:34.000000000,2018-10-25 12:43:44.000000000,2018-10-25 07:52:45.000000000,"[{'_account_id': 681}, {'_account_id': 2394}, {'_account_id': 2472}, {'_account_id': 9076}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 15007}, {'_account_id': 15334}, {'_account_id': 17556}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2018-10-25 06:25:34.000000000', 'files': ['www/stein/index.html', 'www/pike/index.html', 'www/ocata/index.html', 'www/rocky/index.html', 'www/queens/index.html', 'www/templates/ops_and_admin_guides.tmpl'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e590fc900a45044b000f77f15051f2c749dd1a07', 'message': ""Temporarily remove ha-guide from index\n\nThe page https://docs.openstack.org/ha-guide/ is empty, let's not link\nto it since there's no content yet. Once we have content, we can revert\nthis change.\n\nChange-Id: Ib73c80d22f8bfc5ce98c41a737535bfeb0d5f2d7\nRelated-Bug: #1799810\n""}]",0,613209,e590fc900a45044b000f77f15051f2c749dd1a07,7,15,1,6547,,,0,"Temporarily remove ha-guide from index

The page https://docs.openstack.org/ha-guide/ is empty, let's not link
to it since there's no content yet. Once we have content, we can revert
this change.

Change-Id: Ib73c80d22f8bfc5ce98c41a737535bfeb0d5f2d7
Related-Bug: #1799810
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/613209/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/pike/index.html', 'www/stein/index.html', 'www/ocata/index.html', 'www/rocky/index.html', 'www/queens/index.html', 'www/templates/ops_and_admin_guides.tmpl']",6,e590fc900a45044b000f77f15051f2c749dd1a07,bug/1799810, <!-- TODO(jaegerandi): Enable once we have content again -->,,12,1
openstack%2Fblazar~master~I3ff29958f04a55b4c39272c528b1630564c62e34,openstack/blazar,master,I3ff29958f04a55b4c39272c528b1630564c62e34,Allow terminating leases in ERROR state when start_lease failed,MERGED,2018-10-15 18:00:42.000000000,2018-10-25 12:39:07.000000000,2018-10-25 12:39:07.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-10-15 18:00:42.000000000', 'files': ['blazar/status.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6ca69c00faa43775b0072f48e0e2c5640226f467', 'message': 'Allow terminating leases in ERROR state when start_lease failed\n\nCommit 8d2f4a0f0ebeccf0366ea61e2325f5323590cb41 added a valid state\ntransition from ERROR to TERMINATING, to allow a lease in the ERROR\nstate to attempt to clean itself up upon lease end. However, it did not\nwork for leases which failed to start as there was no corresponding\ncombination of statuses for it.\n\nChange-Id: I3ff29958f04a55b4c39272c528b1630564c62e34\n'}]",0,610678,6ca69c00faa43775b0072f48e0e2c5640226f467,8,4,1,15197,,,0,"Allow terminating leases in ERROR state when start_lease failed

Commit 8d2f4a0f0ebeccf0366ea61e2325f5323590cb41 added a valid state
transition from ERROR to TERMINATING, to allow a lease in the ERROR
state to attempt to clean itself up upon lease end. However, it did not
work for leases which failed to start as there was no corresponding
combination of statuses for it.

Change-Id: I3ff29958f04a55b4c39272c528b1630564c62e34
",git fetch https://review.opendev.org/openstack/blazar refs/changes/78/610678/1 && git format-patch -1 --stdout FETCH_HEAD,['blazar/status.py'],1,6ca69c00faa43775b0072f48e0e2c5640226f467,bug/1797940," 'start_lease': (EventStatus.DONE, EventStatus.ERROR),"," 'start_lease': (EventStatus.DONE,),",2,1
openstack%2Fneutron~master~I360211cf60afb5611fb9e77fe6332fa59159708f,openstack/neutron,master,I360211cf60afb5611fb9e77fe6332fa59159708f,"Revert ""Add openstack/placement as a required project for neutron-grenade*""",MERGED,2018-10-24 12:46:33.000000000,2018-10-25 12:33:17.000000000,2018-10-24 21:54:37.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-10-24 12:46:33.000000000', 'files': ['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a98766d758fbf828ebd9ba0916f61f7ac1acde43', 'message': 'Revert ""Add openstack/placement as a required project for neutron-grenade*""\n\nThis reverts commit 0014c0c3734e8d344e4a45e127fbd0c86dcfaf3c.\n\nThis is handled generically now with this change and its dependency:\n\n  https://review.openstack.org/#/c/606853/\n\nChange-Id: I360211cf60afb5611fb9e77fe6332fa59159708f\n'}]",0,613005,a98766d758fbf828ebd9ba0916f61f7ac1acde43,12,8,1,6873,,,0,"Revert ""Add openstack/placement as a required project for neutron-grenade*""

This reverts commit 0014c0c3734e8d344e4a45e127fbd0c86dcfaf3c.

This is handled generically now with this change and its dependency:

  https://review.openstack.org/#/c/606853/

Change-Id: I360211cf60afb5611fb9e77fe6332fa59159708f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/613005/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml', '.zuul.yaml']",4,a98766d758fbf828ebd9ba0916f61f7ac1acde43,cd/placement-solo,, # openstack/placement is not part of legacy-dsvm-base because that is # branchless and openstack/placement only has a master branch (it is # new as of Stein) - openstack/placement # openstack/placement is not part of legacy-dsvm-base because that is # branchless and openstack/placement only has a master branch (it is # new as of Stein) - openstack/placement # openstack/placement is not part of legacy-dsvm-base because that is # branchless and openstack/placement only has a master branch (it is # new as of Stein) - openstack/placement,3,21
openstack%2Fopenstack-ansible-os_keystone~master~Ied0ce1e9877697bb627f784a0590f7c7e924479b,openstack/openstack-ansible-os_keystone,master,Ied0ce1e9877697bb627f784a0590f7c7e924479b,Make the memcache flush optional,MERGED,2018-10-25 09:38:08.000000000,2018-10-25 12:32:47.000000000,2018-10-25 12:32:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 09:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/2c1d5ef11727d7bf1f4fe9330855e877ee9f1762', 'message': ""Make the memcache flush optional\n\nThe memcache flush is a workaround. The implementation should\nreally be implemented more surgically in keystone itself. This\nhas begun with https://review.openstack.org/612686 but it is\nnot complete. However, something that's been made clear by the\nteam is that this was only required for the Newton->Ocata\nupgrade and has not been required since.\n\nThis workaround may be required again in the future, so instead\nof removing it, we make the tool opt-in via a toggle which can\nthen easily be set when doing the appropriate major upgrade.\n\nChange-Id: Ied0ce1e9877697bb627f784a0590f7c7e924479b\n""}, {'number': 2, 'created': '2018-10-25 09:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0e85485b3599aed1139bc438b54aa0b83031dea0', 'message': ""Make the memcache flush optional\n\nThe memcache flush implemented in https://review.openstack.org/608066\nis actually a workaround. The implementation should really be\nimplemented more surgically in keystone itself. This has begun with\nhttps://review.openstack.org/612686 but it is not complete. However,\nsomething that's been made clear by the team is that this was only\nrequired for the Newton->Ocata upgrade and has not been required since.\n\nThis workaround may be required again in the future, so instead of\nremoving it, we make the tool opt-in via a toggle which can then easily\nbe set when doing the appropriate major upgrade.\n\nChange-Id: Ied0ce1e9877697bb627f784a0590f7c7e924479b\n""}, {'number': 3, 'created': '2018-10-25 10:13:22.000000000', 'files': ['handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/280f3e062a30ebffdc2986d0b3c20e323486e3da', 'message': ""Make the memcache flush optional\n\nThe memcache flush implemented in https://review.openstack.org/608066\nis actually a workaround. The implementation should really be\nimplemented more surgically in keystone itself. This has begun with\nhttps://review.openstack.org/612686 but it is not complete. However,\nsomething that's been made clear by the team is that this was only\nrequired for the Newton->Ocata upgrade and has not been required since.\n\nThis workaround may be required again in the future, so instead of\nremoving it, we make the tool opt-in via a toggle which can then easily\nbe set when doing the appropriate major upgrade.\n\nRelated-Bug: 1793389\nChange-Id: Ied0ce1e9877697bb627f784a0590f7c7e924479b\n""}]",0,613256,280f3e062a30ebffdc2986d0b3c20e323486e3da,11,3,3,6816,,,0,"Make the memcache flush optional

The memcache flush implemented in https://review.openstack.org/608066
is actually a workaround. The implementation should really be
implemented more surgically in keystone itself. This has begun with
https://review.openstack.org/612686 but it is not complete. However,
something that's been made clear by the team is that this was only
required for the Newton->Ocata upgrade and has not been required since.

This workaround may be required again in the future, so instead of
removing it, we make the tool opt-in via a toggle which can then easily
be set when doing the appropriate major upgrade.

Related-Bug: 1793389
Change-Id: Ied0ce1e9877697bb627f784a0590f7c7e924479b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/56/613256/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'defaults/main.yml']",2,2c1d5ef11727d7bf1f4fe9330855e877ee9f1762,bug/1793389," # Toggle whether memcache should be flushed when doing # database migrations. This is sometimes useful when # doing upgrades, but should not usually be required. # ref: https://bugs.launchpad.net/openstack-ansible/+bug/1793389 keystone_flush_memcache: no",,8,0
openstack%2Fopenstack-ansible-galera_server~master~Id9c4f11b3536e7f9d510f5ef8e6d82a82a96adac,openstack/openstack-ansible-galera_server,master,Id9c4f11b3536e7f9d510f5ef8e6d82a82a96adac,Correct failure when stopping cluster state is ignored,MERGED,2018-10-02 00:06:44.000000000,2018-10-25 12:22:19.000000000,2018-10-25 12:22:19.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-02 00:06:44.000000000', 'files': ['tasks/galera_upgrade_pre.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/068bb7299914b59cefc7ef619db06fc957d20c50', 'message': 'Correct failure when stopping cluster state is ignored\n\nIf the user passes in the `galera_ignore_cluster_state=true` flag, like\nin the case of a node addition or a rolling replacement of nodes,\nthis role will fail to execute on all new nodes due to the existance of\na functioning cluster galera cluster. The first task in the pre-upgrade\nsteps attempts to stop the mysql service prior to running anything else.\nThis change makes it so the mysql service will not fail to stop on this\npre-upgrade task when the `galera_ignore_cluster_state=true` is passed\nthrough.\n\nChange-Id: Id9c4f11b3536e7f9d510f5ef8e6d82a82a96adac\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",1,607071,068bb7299914b59cefc7ef619db06fc957d20c50,7,3,1,7353,,,0,"Correct failure when stopping cluster state is ignored

If the user passes in the `galera_ignore_cluster_state=true` flag, like
in the case of a node addition or a rolling replacement of nodes,
this role will fail to execute on all new nodes due to the existance of
a functioning cluster galera cluster. The first task in the pre-upgrade
steps attempts to stop the mysql service prior to running anything else.
This change makes it so the mysql service will not fail to stop on this
pre-upgrade task when the `galera_ignore_cluster_state=true` is passed
through.

Change-Id: Id9c4f11b3536e7f9d510f5ef8e6d82a82a96adac
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/71/607071/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_upgrade_pre.yml'],1,068bb7299914b59cefc7ef619db06fc957d20c50,," systemd: failed_when: ""{{ (not galera_ignore_cluster_state | bool) | default(omit, false) }}""", service:,2,1
openstack%2Fkolla-ansible~stable%2Focata~I842aa74d588ece2b33b1218976a333112d8168da,openstack/kolla-ansible,stable/ocata,I842aa74d588ece2b33b1218976a333112d8168da,Pin ARA to 0.15.x,MERGED,2018-10-01 09:18:58.000000000,2018-10-25 12:09:03.000000000,2018-10-25 12:09:03.000000000,"[{'_account_id': 10273}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-01 09:18:58.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9548f37b50f93f9ed56cb4a67d79463c1587cec9', 'message': 'Pin ARA to 0.15.x\n\nCurrently ARA is installed in CI without any version constraints. This\ncaused the stable/queens and older Ansible CI jobs to start failing when\nARA 0.16.0 was released, since they use Ansible 2.3.x which is\nunsupported by ARA 0.16.0.\n\nThis change adds an upper constraint on ARA of 0.16.\n\nChange-Id: I842aa74d588ece2b33b1218976a333112d8168da\n(cherry picked from commit 6b1ff1d6ef811a109e4c7075f63cae3ef710e176)\n'}]",0,606917,9548f37b50f93f9ed56cb4a67d79463c1587cec9,9,4,1,14826,,,0,"Pin ARA to 0.15.x

Currently ARA is installed in CI without any version constraints. This
caused the stable/queens and older Ansible CI jobs to start failing when
ARA 0.16.0 was released, since they use Ansible 2.3.x which is
unsupported by ARA 0.16.0.

This change adds an upper constraint on ARA of 0.16.

Change-Id: I842aa74d588ece2b33b1218976a333112d8168da
(cherry picked from commit 6b1ff1d6ef811a109e4c7075f63cae3ef710e176)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/606917/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,9548f37b50f93f9ed56cb4a67d79463c1587cec9,," sudo -H pip install -U ""ansible>=2,<2.4"" ""docker-py"" ""python-openstackclient"" ""python-neutronclient"" ""ara<0.16"" ""cmd2<0.9.0"""," sudo -H pip install -U ""ansible>=2,<2.4"" ""docker-py"" ""python-openstackclient"" ""python-neutronclient"" ""ara"" ""cmd2<0.9.0""",1,1
openstack%2Fkolla-ansible~master~I7046d3f6b610a46a69504a283c933d83f266a3db,openstack/kolla-ansible,master,I7046d3f6b610a46a69504a283c933d83f266a3db,Use kibana instead of Kibana as project_name,MERGED,2018-10-24 11:45:21.000000000,2018-10-25 12:09:02.000000000,2018-10-25 12:09:02.000000000,"[{'_account_id': 167}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-24 11:45:21.000000000', 'files': ['ansible/roles/kibana/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6898d7628756a7a1adcea811ebdbe4674c32041b', 'message': 'Use kibana instead of Kibana as project_name\n\nAll other project names are lowercase.\n\nChange-Id: I7046d3f6b610a46a69504a283c933d83f266a3db\n'}]",0,612994,6898d7628756a7a1adcea811ebdbe4674c32041b,11,4,1,167,,,0,"Use kibana instead of Kibana as project_name

All other project names are lowercase.

Change-Id: I7046d3f6b610a46a69504a283c933d83f266a3db
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/612994/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/defaults/main.yml'],1,6898d7628756a7a1adcea811ebdbe4674c32041b,project_name_lowercase,"project_name: ""kibana""","project_name: ""Kibana""",1,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I1bf946bd8a9341c9d5030affac5779cbcbe94be6,openstack/openstack-ansible-os_neutron,stable/rocky,I1bf946bd8a9341c9d5030affac5779cbcbe94be6,Set container_name as host_var in test inventory,MERGED,2018-10-24 07:38:26.000000000,2018-10-25 12:07:41.000000000,2018-10-25 12:07:41.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 07:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a1d1302807028812aecd9b2a11fecfd31d325c9f', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I1bf946bd8a9341c9d5030affac5779cbcbe94be6\n(cherry picked from commit 24cb41d08f524061705073dc6fb51607dfd0e78b)\n'}, {'number': 2, 'created': '2018-10-25 08:51:47.000000000', 'files': ['tests/host_vars/server2.yml', 'tests/host_vars/infra1.yml', 'tests/host_vars/agents2.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/agents1.yml', 'tests/host_vars/server1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/00b7ee81271329ecb536534d0aa875192e25de49', 'message': 'Set container_name as host_var in test inventory\n\nThe connection plugin no longer falls back on using the\ninventory_hostname as the container_name. Set container_name as a host\nvar for each container in the test inventory.\n\nChange-Id: I1bf946bd8a9341c9d5030affac5779cbcbe94be6\n(cherry picked from commit 24cb41d08f524061705073dc6fb51607dfd0e78b)\n'}]",0,612909,00b7ee81271329ecb536534d0aa875192e25de49,11,5,2,6816,,,0,"Set container_name as host_var in test inventory

The connection plugin no longer falls back on using the
inventory_hostname as the container_name. Set container_name as a host
var for each container in the test inventory.

Change-Id: I1bf946bd8a9341c9d5030affac5779cbcbe94be6
(cherry picked from commit 24cb41d08f524061705073dc6fb51607dfd0e78b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/09/612909/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/server2.yml', 'tests/host_vars/infra1.yml', 'tests/host_vars/agents2.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/agents1.yml', 'tests/host_vars/server1.yml']",6,a1d1302807028812aecd9b2a11fecfd31d325c9f,container_name_host_var-stable/rocky,container_name: server1,,5,1
openstack%2Fopenstack-ansible-os_glance~master~I4f2c5df598473152bf319296355b57f4826b3554,openstack/openstack-ansible-os_glance,master,I4f2c5df598473152bf319296355b57f4826b3554,Install missing libxml2 distro package,MERGED,2018-10-23 13:45:22.000000000,2018-10-25 12:07:11.000000000,2018-10-25 12:07:11.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-23 13:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/f1d3411e14d62be60f16de5483c96d8ba76f4d56', 'message': 'Install required devel packages for source installs\n\nIn order to run the glance-api service, the xml library is required,\nor the following error will be returned when starting the service:\n\nerror while loading shared libraries: libxml2.so.2: cannot open shared object file\n\nTo ensure that the library is installed, we combine the base packages\nwith the devel packages when installing.\n\nChange-Id: I4f2c5df598473152bf319296355b57f4826b3554\n'}, {'number': 2, 'created': '2018-10-24 08:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2c3890f38051e1fd6052a88a3ea3905960a63d97', 'message': 'Install missing libxml2 distro package\n\nIn order to run the glance-api service, the libxml2 library is required,\nor the following error will be returned when starting the service:\n\nerror while loading shared libraries: libxml2.so.2: cannot open shared object file\n\nTo ensure that the library is installed, we add the required package to\nthe base glance packages.\n\nChange-Id: I4f2c5df598473152bf319296355b57f4826b3554\n'}, {'number': 3, 'created': '2018-10-25 07:16:38.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c5e73336100839e70d2c901729850edeae97d705', 'message': 'Install missing libxml2 distro package\n\nIn order to run the glance-api service, the libxml2 library is required,\nor the following error will be returned when starting the service:\n\nerror while loading shared libraries: libxml2.so.2: cannot open shared object file\n\nTo ensure that the library is installed, we add the required package to\nthe base glance packages.\n\nDepends-On: https://review.openstack.org/613030\nChange-Id: I4f2c5df598473152bf319296355b57f4826b3554\n'}]",0,612704,c5e73336100839e70d2c901729850edeae97d705,14,4,3,6816,,,0,"Install missing libxml2 distro package

In order to run the glance-api service, the libxml2 library is required,
or the following error will be returned when starting the service:

error while loading shared libraries: libxml2.so.2: cannot open shared object file

To ensure that the library is installed, we add the required package to
the base glance packages.

Depends-On: https://review.openstack.org/613030
Change-Id: I4f2c5df598473152bf319296355b57f4826b3554
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/04/612704/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install_source.yml'],1,f1d3411e14d62be60f16de5483c96d8ba76f4d56,bp/python-build-simplification," venv_install_distro_package_list: ""{{ glance_devel_distro_packages + glance_distro_packages }}"""," venv_install_distro_package_list: ""{{ glance_distro_packages }}""",1,1
openstack%2Fopenstack-ansible-memcached_server~master~Id046aa97ed90654f1859e584891fe5228f96aa90,openstack/openstack-ansible-memcached_server,master,Id046aa97ed90654f1859e584891fe5228f96aa90,Change netcat to be a required package,MERGED,2018-10-24 16:11:42.000000000,2018-10-25 11:58:40.000000000,2018-10-25 11:49:07.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-24 16:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/d785edf4c43c4c438ad65a4f3abd57f87c3617d3', 'message': 'Add netcat as a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n'}, {'number': 2, 'created': '2018-10-25 09:20:16.000000000', 'files': ['tasks/memcached_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/261db5b8837e078f7880f9fac562b93467384b6d', 'message': 'Change netcat to be a required package\n\nNetcat is not a direct dependancy of memcached nor the playbooks in\nthis role, however other OSA roles delegate tasks to the memcached\ncontainer and run shell commands which use nc.\n\nThis patch ensures that netcat is explicity installed into the\nmemcached container and we do not rely on it being present in the\ncontainer base image.\n\nGiven that the memcached_test_distro_packages variable is no longer\nused, the associated bits for it are also removed.\n\nChange-Id: Id046aa97ed90654f1859e584891fe5228f96aa90\n'}]",0,613099,261db5b8837e078f7880f9fac562b93467384b6d,14,3,2,25023,,,0,"Change netcat to be a required package

Netcat is not a direct dependancy of memcached nor the playbooks in
this role, however other OSA roles delegate tasks to the memcached
container and run shell commands which use nc.

This patch ensures that netcat is explicity installed into the
memcached container and we do not rely on it being present in the
container base image.

Given that the memcached_test_distro_packages variable is no longer
used, the associated bits for it are also removed.

Change-Id: Id046aa97ed90654f1859e584891fe5228f96aa90
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/99/613099/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml']",3,d785edf4c43c4c438ad65a4f3abd57f87c3617d3,reduce-packages,memcached_test_distro_packages: [] , memcached_test_distro_packages:,6,6
openstack%2Fnetworking-bgpvpn~stable%2Fpike~Ia9f5fa177771ead870c13546aa870ee64b3445be,openstack/networking-bgpvpn,stable/pike,Ia9f5fa177771ead870c13546aa870ee64b3445be,Add required projects,MERGED,2018-10-13 17:31:02.000000000,2018-10-25 11:57:52.000000000,2018-10-25 11:57:52.000000000,"[{'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-13 17:31:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8c5715fa21a1dd44bcd3980d82bc8eb7334c31b8', 'message': 'Add required projects\n\nStable periodic jobs started to fail [1] [2] with errors that they are\nmissing required projects as soon as old job settings were removed [3]\nfrom project-config repository. The problem is only present in queens\nand pike, on the other stable branches the configurations are OK.\n\nSo networking-bagpipe, horizon and neutron added as they were present\nin the old settings.\n\n[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/networking-bgpvpn/stable/pike/build-openstack-sphinx-docs/594eeba/job-output.txt.gz#_2018-10-13_06_33_35_696317\n[2] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/networking-bgpvpn/stable/queens/openstack-tox-py27/4af2104/job-output.txt.gz#_2018-10-13_06_24_06_925732\n[3] https://review.openstack.org/#/c/597865/\n\nChange-Id: Ia9f5fa177771ead870c13546aa870ee64b3445be\n(cherry picked from commit 9bc95a62e3f154b1f5d166ff83b8ba935d65548b)\n'}]",0,610273,8c5715fa21a1dd44bcd3980d82bc8eb7334c31b8,10,3,1,17685,,,0,"Add required projects

Stable periodic jobs started to fail [1] [2] with errors that they are
missing required projects as soon as old job settings were removed [3]
from project-config repository. The problem is only present in queens
and pike, on the other stable branches the configurations are OK.

So networking-bagpipe, horizon and neutron added as they were present
in the old settings.

[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/networking-bgpvpn/stable/pike/build-openstack-sphinx-docs/594eeba/job-output.txt.gz#_2018-10-13_06_33_35_696317
[2] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/networking-bgpvpn/stable/queens/openstack-tox-py27/4af2104/job-output.txt.gz#_2018-10-13_06_24_06_925732
[3] https://review.openstack.org/#/c/597865/

Change-Id: Ia9f5fa177771ead870c13546aa870ee64b3445be
(cherry picked from commit 9bc95a62e3f154b1f5d166ff83b8ba935d65548b)
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/73/610273/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8c5715fa21a1dd44bcd3980d82bc8eb7334c31b8,, - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/neutron - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/neutron - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon - openstack/networking-bagpipe - openstack/horizon,,26,0
openstack%2Fcharm-swift-storage~master~I98f4e6664080407a045ca5e76db59d46ffa9c38a,openstack/charm-swift-storage,master,I98f4e6664080407a045ca5e76db59d46ffa9c38a,Upgrade the charm to py3 runtime,MERGED,2018-09-28 11:39:14.000000000,2018-10-25 11:56:38.000000000,2018-10-25 11:56:38.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 11:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/3ae40815def53bffc8a638d3db509ea51825c3f2', 'message': 'Upgrade the charm to py3 runtime\n\nChange-Id: I98f4e6664080407a045ca5e76db59d46ffa9c38a\n'}, {'number': 2, 'created': '2018-10-18 17:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/1c67fda9bdb1097c27e94b549294863a8d839fed', 'message': 'Upgrade the charm to py3 runtime\n\nChange-Id: I98f4e6664080407a045ca5e76db59d46ffa9c38a\n'}, {'number': 3, 'created': '2018-10-24 13:57:12.000000000', 'files': ['unit_tests/test_swift_storage_context.py', 'files/nrpe-external-master/check_swift_storage.py', 'hooks/lib', 'unit_tests/test_swift_storage_relations.py', 'actions/charmhelpers', 'unit_tests/test_check_swift_storage.py', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/charmhelpers', 'hooks/swift_storage_hooks.py', 'actions/actions.py', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_storage_utils.py', 'hooks/install', 'tox.ini', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/fc81200315e93585ec96c220f792aefbde9826d8', 'message': 'Upgrade the charm to py3 runtime\n\nChange-Id: I98f4e6664080407a045ca5e76db59d46ffa9c38a\n'}]",15,606041,fc81200315e93585ec96c220f792aefbde9826d8,22,5,3,20870,,,0,"Upgrade the charm to py3 runtime

Change-Id: I98f4e6664080407a045ca5e76db59d46ffa9c38a
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/41/606041/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_swift_storage_context.py', 'files/nrpe-external-master/check_swift_storage.py', 'hooks/lib', 'unit_tests/test_swift_storage_relations.py', 'actions/charmhelpers', 'test-requirements.txt', 'unit_tests/test_check_swift_storage.py', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/charmhelpers', 'hooks/swift_storage_hooks.py', 'actions/actions.py', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_storage_utils.py', 'hooks/install', 'tox.ini', 'lib/swift_storage_utils.py']",19,3ae40815def53bffc8a638d3db509ea51825c3f2,ensure-py3,"from lib.misc_utils import (from lib.swift_storage_context import ( out = check_output(['findmnt', device]).decode('ascii') # only sorted so the tests pass; doesn't affect functionality bdevs = sorted(set(bdevs)) for key, val in devstore.items(): for k, v in devstore.items()] blk_uuid = (subprocess .check_output(['blkid', '-s', 'UUID', dev]) .decode('ascii')) existing = [(k, v) for k, v in devstore.items() kvstore.set(key='devices', value=json.dumps(devstore, sort_keys=True))","from misc_utils import (from swift_storage_context import ( out = check_output(['findmnt', device]) bdevs = list(set(bdevs)) for key, val in devstore.iteritems(): for k, v in devstore.iteritems()] blk_uuid = subprocess.check_output(['blkid', '-s', 'UUID', dev]) existing = [(k, v) for k, v in devstore.iteritems() kvstore.set(key='devices', value=json.dumps(devstore))",196,122
openstack%2Fpython-tripleoclient~master~If828292df20bba370791dcb9736fa44b40b3e94c,openstack/python-tripleoclient,master,If828292df20bba370791dcb9736fa44b40b3e94c,Fix type of --config-download-timeout,MERGED,2018-10-22 15:05:48.000000000,2018-10-25 11:54:55.000000000,2018-10-25 09:33:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-22 15:05:48.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2dc6920e8b498c190344e0337d7a782efbd3de6b', 'message': 'Fix type of --config-download-timeout\n\nThis arg should be of type int, not the default type string.\n\nChange-Id: If828292df20bba370791dcb9736fa44b40b3e94c\nCloses-Bug: #1799241\n'}]",0,612417,2dc6920e8b498c190344e0337d7a782efbd3de6b,17,8,1,7144,,,0,"Fix type of --config-download-timeout

This arg should be of type int, not the default type string.

Change-Id: If828292df20bba370791dcb9736fa44b40b3e94c
Closes-Bug: #1799241
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/612417/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,2dc6920e8b498c190344e0337d7a782efbd3de6b,bug/1799241," type=int,",,27,0
openstack%2Fopenstack-ansible-tests~stable%2Frocky~I3e48dad0e213f6e24a2ceb4033b1a53873b6e298,openstack/openstack-ansible-tests,stable/rocky,I3e48dad0e213f6e24a2ceb4033b1a53873b6e298,test-log-collect: Disable repositories when collecting installed pkgs on SUSE,MERGED,2018-10-24 09:45:52.000000000,2018-10-25 11:53:33.000000000,2018-10-25 11:53:33.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 09:45:52.000000000', 'files': ['test-log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/249f327bdbd50c516d2ff18fb78ae406cd1c3620', 'message': 'test-log-collect: Disable repositories when collecting installed pkgs on SUSE\n\nzypper performs some network operations when collecting the list of\ninstalled packages which slow down the overall process. We already have\nthe per host list of repositories so we can do some maths to figure out\nwhere each package is coming from.\n\nAs we see below, disabling the repositories saves us ~9s.\n~$ time zypper --quiet pa -i\nreal    0m10.607s\nuser    0m9.024s\nsys     0m0.193s\n\n~$ time zypper --disable-repositories pa -i\nreal    0m1.043s\nuser    0m0.833s\nsys     0m0.136s\n\nOn a deployment with multiple containers, the 9s difference causes a lot\nof overhead and jobs are timing out from time to time. As such, lets\njust disable the repositories when collecting the list of the installed\npackages.\n\nChange-Id: I3e48dad0e213f6e24a2ceb4033b1a53873b6e298\n(cherry picked from commit 0ecb859b969a7b9cf23582cc45ddeda15a658106)\n'}]",0,612967,249f327bdbd50c516d2ff18fb78ae406cd1c3620,9,4,1,6816,,,0,"test-log-collect: Disable repositories when collecting installed pkgs on SUSE

zypper performs some network operations when collecting the list of
installed packages which slow down the overall process. We already have
the per host list of repositories so we can do some maths to figure out
where each package is coming from.

As we see below, disabling the repositories saves us ~9s.
~$ time zypper --quiet pa -i
real    0m10.607s
user    0m9.024s
sys     0m0.193s

~$ time zypper --disable-repositories pa -i
real    0m1.043s
user    0m0.833s
sys     0m0.136s

On a deployment with multiple containers, the 9s difference causes a lot
of overhead and jobs are timing out from time to time. As such, lets
just disable the repositories when collecting the list of the installed
packages.

Change-Id: I3e48dad0e213f6e24a2ceb4033b1a53873b6e298
(cherry picked from commit 0ecb859b969a7b9cf23582cc45ddeda15a658106)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/67/612967/1 && git format-patch -1 --stdout FETCH_HEAD,['test-log-collect.sh'],1,249f327bdbd50c516d2ff18fb78ae406cd1c3620,disable-repos-zypper-logs-stable/rocky," eval sudo ${lxc_cmd} zypper --disable-repositories pa -i > ""${WORKING_DIR}/logs/suse-zypper-list-installed-${1}.txt"" || true"," eval sudo ${lxc_cmd} zypper pa -i > ""${WORKING_DIR}/logs/suse-zypper-list-installed-${1}.txt"" || true",1,1
openstack%2Fnova~master~I60e1e092cfb3b9c30363d86c5d2431c1f48caa14,openstack/nova,master,I60e1e092cfb3b9c30363d86c5d2431c1f48caa14,"Microversion 2.64 - Add ""deleted"" time in GET server response",ABANDONED,2018-06-11 08:10:07.000000000,2018-10-25 11:52:55.000000000,,"[{'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26286}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-11 08:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2576b2ded48c31581158bf115e0958e4ea839af', 'message': 'Return ""deleted"" time of instance when vm_state is DELETED or SOFT-DELETED\n\nWhile showing deleted instances, we want to see instance\'s deleted time.\n\nChange-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14\n'}, {'number': 2, 'created': '2018-07-10 08:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8835584f16a42c40fe3f43e6680ebc904dcf0d4a', 'message': 'Microversion 2.64 - Add ""deleted"" time in GET server response\n\nThis patch adds a new microversion to add ``deleted`` field\nwhile getting server so we can know when the server was deleted.\n``deleted`` is the date and time when the resource was deleted.\nIf the resource has not been deleted yet, this field will be ``null``.\n\nThe ``deleted`` field will be in the response body of the following APIs:\n\n* ``GET /servers/detail``\n* ``GET /servers/{server_id}``\n* ``PUT /servers/{server_id}``\n* ``POST /servers/{server_id}/action (rebuild)``\n\nChange-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14\n'}, {'number': 3, 'created': '2018-07-10 10:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f4046979d09cc58b003336ad2c26c679e589c5f', 'message': 'Microversion 2.64 - Add ""deleted"" time in GET server response\n\nThis patch adds a new microversion to add ``deleted`` field\nwhile getting server so we can know when the server was deleted.\n``deleted`` is the date and time when the resource was deleted.\nIf the resource has not been deleted yet, this field will be ``null``.\n\nThe ``deleted`` field will be in the response body of the following APIs:\n\n* ``GET /servers/detail``\n* ``GET /servers/{server_id}``\n* ``PUT /servers/{server_id}``\n* ``POST /servers/{server_id}/action (rebuild)``\n\nImplements blueprint: add-deleted-time-attribute\nChange-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14\n'}, {'number': 4, 'created': '2018-07-11 10:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa47471c551a587eae89cb86c9e14996569ac8b7', 'message': 'Microversion 2.64 - Add ""deleted"" time in GET server response\n\nThis patch adds a new microversion to add ``deleted`` and\n``estimated_reclaim`` attributes while getting soft-deleted instance\nby admins. So admins can know when the server was deleted and when it\nwill be reclaimed. ``deleted`` is the date and time when the instance\nwas deleted. ``estimated_reclaim`` is the date and time when the\ninstance will be reclaimed.\nIf the instance has not been deleted yet, the response will not\ninclude these two fields.\n\nThe ``deleted`` and ``estimated_reclaim`` fields will be in the\nresponse body of the following APIs:\n\n* ``GET /servers/detail``\n* ``GET /servers/{server_id}``\n\nAPIImpact\nImplements blueprint: add-deleted-time-attribute\nChange-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14\n'}, {'number': 5, 'created': '2018-07-11 11:28:40.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/openstack/compute/views/servers.py', 'releasenotes/notes/add-deleted-time-to-get-server-response-ce437bdee1bfb3b3.yaml', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/servers/v2.64/server-get-resp.json', 'nova/tests/functional/api_sample_tests/test_servers.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.64/servers-details-resp.json.tpl', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/servers/v2.64/servers-details-resp.json', 'api-ref/source/servers.inc', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.64/server-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/32b704beb058ae56084d8fb02e0ee732616ff9b5', 'message': 'Microversion 2.64 - Add ""deleted"" time in GET server response\n\nThis patch adds a new microversion to add ``deleted`` and\n``estimated_reclaim`` attributes while getting soft-deleted instance\nby admins. So admins can know when the server was deleted and when it\nwill be reclaimed. ``deleted`` is the date and time when the instance\nwas deleted. ``estimated_reclaim`` is the date and time when the\ninstance will be reclaimed.\nIf the instance has not been deleted yet, the response will not\ninclude these two fields.\n\nThe ``deleted`` and ``estimated_reclaim`` fields will be in the\nresponse body of the following APIs:\n\n* ``GET /servers/detail``\n* ``GET /servers/{server_id}``\n\nAPIImpact\nImplements blueprint: add-deleted-time-attribute\nChange-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14\n'}]",5,574159,32b704beb058ae56084d8fb02e0ee732616ff9b5,55,18,5,26286,,,0,"Microversion 2.64 - Add ""deleted"" time in GET server response

This patch adds a new microversion to add ``deleted`` and
``estimated_reclaim`` attributes while getting soft-deleted instance
by admins. So admins can know when the server was deleted and when it
will be reclaimed. ``deleted`` is the date and time when the instance
was deleted. ``estimated_reclaim`` is the date and time when the
instance will be reclaimed.
If the instance has not been deleted yet, the response will not
include these two fields.

The ``deleted`` and ``estimated_reclaim`` fields will be in the
response body of the following APIs:

* ``GET /servers/detail``
* ``GET /servers/{server_id}``

APIImpact
Implements blueprint: add-deleted-time-attribute
Change-Id: I60e1e092cfb3b9c30363d86c5d2431c1f48caa14
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/574159/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py']",2,d2576b2ded48c31581158bf115e0958e4ea839af,bp/add-deleted-time-attribute," ""deleted"": """", ""deleted"": """", ""deleted"": """", ""deleted"": """", ""deleted"": """",",,9,0
openstack%2Frally-openstack~master~I814cdc689810cae31011eb7c1ea439df1a98a180,openstack/rally-openstack,master,I814cdc689810cae31011eb7c1ea439df1a98a180,Remove python 3.4,MERGED,2018-10-24 18:22:39.000000000,2018-10-25 11:49:07.000000000,2018-10-25 11:49:06.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 18:22:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f29e824550be0fd9609bc118bf0fa8fc01d299e7', 'message': 'Remove python 3.4\n\nRemove python3.4 since its not supported anymore.\n\nChange-Id: I814cdc689810cae31011eb7c1ea439df1a98a180\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,613135,f29e824550be0fd9609bc118bf0fa8fc01d299e7,6,2,1,24,,,0,"Remove python 3.4

Remove python3.4 since its not supported anymore.

Change-Id: I814cdc689810cae31011eb7c1ea439df1a98a180
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/35/613135/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f29e824550be0fd9609bc118bf0fa8fc01d299e7,,"envlist = py27,py35,py36,py37,pep8","envlist = py27,py34,py35,py36,py37,pep8[testenv:py34] basepython = python3.4 [testenv:debug34] basepython = python3.4 commands = oslo_debug_helper -t tests {posargs} ",1,9
openstack%2Fcloudkitty-specs~master~Ieb598651d0953cbb55649ebaba6028f938041af6,openstack/cloudkitty-specs,master,Ieb598651d0953cbb55649ebaba6028f938041af6,Add pike in cloudkitty-specs,MERGED,2017-06-30 06:45:07.000000000,2018-10-25 11:47:07.000000000,2018-10-25 11:47:07.000000000,"[{'_account_id': 3}, {'_account_id': 2376}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25126}]","[{'number': 1, 'created': '2017-06-30 06:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/b4430e5a9b22bff5d469ccca504ee4c85240b8a2', 'message': 'Add pike in cloudkitty-specs\n\nChange-Id: Ieb598651d0953cbb55649ebaba6028f938041af6\n'}, {'number': 2, 'created': '2018-10-23 09:31:59.000000000', 'files': ['doc/source/index.rst', 'specs/pike/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ad39b8c6ce342d43e119165b914db3537585cb3a', 'message': 'Add pike in cloudkitty-specs\n\nChange-Id: Ieb598651d0953cbb55649ebaba6028f938041af6\n'}]",0,479179,ad39b8c6ce342d43e119165b914db3537585cb3a,11,6,2,24924,,,0,"Add pike in cloudkitty-specs

Change-Id: Ieb598651d0953cbb55649ebaba6028f938041af6
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/79/479179/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/pike/placeholder.rst']",2,b4430e5a9b22bff5d469ccca504ee4c85240b8a2,pike,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for Pike specs directory. It will be removed soon after some spec for Pike is merged. The latest spec template is found at ``specs/template.rst`` in the ``cloudkitty-specs`` repository. Problem Description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Proposed Change =============== Add this file. References ========== None. ,,41,0
openstack%2Fmonasca-common~master~Id2bb8ca8f17011c0c11560c1e00497a134bf96b3,openstack/monasca-common,master,Id2bb8ca8f17011c0c11560c1e00497a134bf96b3,Update links in pom.xml,MERGED,2018-01-15 09:11:39.000000000,2018-10-25 11:46:31.000000000,2018-10-25 11:46:31.000000000,"[{'_account_id': 16222}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26775}, {'_account_id': 27383}]","[{'number': 1, 'created': '2018-01-15 09:11:39.000000000', 'files': ['pom.xml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/8ccf4c8760853ba02925bc24502fd1c7a622776b', 'message': 'Update links in pom.xml\n\nChange-Id: Id2bb8ca8f17011c0c11560c1e00497a134bf96b3\n'}]",0,533574,8ccf4c8760853ba02925bc24502fd1c7a622776b,31,5,1,27361,,,0,"Update links in pom.xml

Change-Id: Id2bb8ca8f17011c0c11560c1e00497a134bf96b3
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/74/533574/1 && git format-patch -1 --stdout FETCH_HEAD,['pom.xml'],1,8ccf4c8760853ba02925bc24502fd1c7a622776b,modify_http, <url>https://github.com/openstack/monasca-common</url>, <url>http://github.com/openstack/monasca-common</url>,1,1
openstack%2Fopenstack-ansible-os_neutron~master~I5a171ee83edcfa152b944e0bc39a90f2a8546916,openstack/openstack-ansible-os_neutron,master,I5a171ee83edcfa152b944e0bc39a90f2a8546916,ovs: force to secure fail mode by default,MERGED,2018-10-19 13:37:09.000000000,2018-10-25 11:46:19.000000000,2018-10-19 17:21:05.000000000,"[{'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-19 13:37:09.000000000', 'files': ['tasks/providers/ovs_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/24103ca169793292964bb86f742b8e08977804d7', 'message': ""ovs: force to secure fail mode by default\n\nThe upstream Ansible module seems to pass through a 'None' when\ncreating the port with safe_mode missing which breaks.  This patch\nforces it to the Neutron required mode of 'secure'.\n\nChange-Id: I5a171ee83edcfa152b944e0bc39a90f2a8546916\n""}]",0,611874,24103ca169793292964bb86f742b8e08977804d7,8,3,1,1004,,,0,"ovs: force to secure fail mode by default

The upstream Ansible module seems to pass through a 'None' when
creating the port with safe_mode missing which breaks.  This patch
forces it to the Neutron required mode of 'secure'.

Change-Id: I5a171ee83edcfa152b944e0bc39a90f2a8546916
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/74/611874/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/ovs_config.yml'],1,24103ca169793292964bb86f742b8e08977804d7,fix-ovs-port, fail_mode: secure,,1,0
openstack%2Fopenstack-ansible-os_nova~master~Ifb15cb7815487f047c0249f340a79c67971f5411,openstack/openstack-ansible-os_nova,master,Ifb15cb7815487f047c0249f340a79c67971f5411,Add support for NFS,MERGED,2018-10-20 14:46:23.000000000,2018-10-25 11:45:24.000000000,2018-10-22 15:51:56.000000000,"[{'_account_id': 7353}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23924}]","[{'number': 1, 'created': '2018-10-20 14:46:23.000000000', 'files': ['tasks/nova_compute.yml', 'tasks/nova_pre_install.yml', 'defaults/main.yml', 'vars/main.yml', 'releasenotes/notes/add-nfs-support-5aacc81dbf3c2270.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3ff434a1f3af485fd208e6c715ad08ce9a9c8298', 'message': 'Add support for NFS\n\nThis support allows deployers to easily use NFS and automatically\nhave mountpoints during deployment.\n\nChange-Id: Ifb15cb7815487f047c0249f340a79c67971f5411\n'}]",0,612057,3ff434a1f3af485fd208e6c715ad08ce9a9c8298,9,4,1,1004,,,0,"Add support for NFS

This support allows deployers to easily use NFS and automatically
have mountpoints during deployment.

Change-Id: Ifb15cb7815487f047c0249f340a79c67971f5411
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/57/612057/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_compute.yml', 'tasks/nova_pre_install.yml', 'defaults/main.yml', 'vars/main.yml', 'releasenotes/notes/add-nfs-support-5aacc81dbf3c2270.yaml']",5,3ff434a1f3af485fd208e6c715ad08ce9a9c8298,add-nfs,"--- features: - It is now possible to use NFS mountpoints with the role by using the nova_nfs_client variable, which is useful for using NFS for instance data and saves. ",,68,0
openstack%2Fdevstack~master~I55bd067487665e5026e82a0737cb0f38a69499fb,openstack/devstack,master,I55bd067487665e5026e82a0737cb0f38a69499fb,Add devstack ipv6 jobs,MERGED,2018-10-08 14:45:47.000000000,2018-10-25 11:39:54.000000000,2018-10-25 11:39:54.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4187}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25c0239068f744eb75081c2987a4d4f04195153c', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 2, 'created': '2018-10-08 15:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/777f58ab355856276dfb5c2496a63baecbc427d2', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 3, 'created': '2018-10-08 17:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9f689043201cb9990b194df9706c186b4e5f17f', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 4, 'created': '2018-10-08 19:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/35c5996b142d9ac847ae0e2e6889f6980b4e8781', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 5, 'created': '2018-10-09 07:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1bf8948465391d91249bf27cdb19c4d94819ba1c', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 6, 'created': '2018-10-09 14:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a1fd53b27f8da542ec9f03b2d8cb8c3e959c3a93', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 7, 'created': '2018-10-09 14:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c11616d61e1e0f0a3e376022516e3f2c0735755', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 8, 'created': '2018-10-10 07:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ee090067bc3f5019e9b5e8ed855e0f18be789cc', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 9, 'created': '2018-10-10 11:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b99cf55b1cd1ddd0091cc20b63652a015672ea8', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}, {'number': 10, 'created': '2018-10-10 16:06:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d91c29d9e363ac09d98d17bae90da1acd5ee66a', 'message': 'Add devstack ipv6 jobs\n\nWe can see that there is more demand on using ipv6 as the underlay\ninfrastructure to deploy new services, and OpenStack should be ready for\nthat.\n\nThese devstack ipv6 jobs are based on the work started by Jens Harbott in\nhttps://review.openstack.org/#/c/608168/\n\nChange-Id: I55bd067487665e5026e82a0737cb0f38a69499fb\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n'}]",18,608691,0d91c29d9e363ac09d98d17bae90da1acd5ee66a,69,11,10,19307,,,0,"Add devstack ipv6 jobs

We can see that there is more demand on using ipv6 as the underlay
infrastructure to deploy new services, and OpenStack should be ready for
that.

These devstack ipv6 jobs are based on the work started by Jens Harbott in
https://review.openstack.org/#/c/608168/

Change-Id: I55bd067487665e5026e82a0737cb0f38a69499fb
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/608691/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,25c0239068f744eb75081c2987a4d4f04195153c,ipv6," name: devstack-minimal-ipv6 parent: devstack-base description: | Minimal devstack base job, intended for use by jobs that need less than the normal minimum set of required-projects. nodeset: openstack-single-node required-projects: - git.openstack.org/openstack/requirements vars: devstack_localrc: # Multinode specific settings HOST_IP: ""{{ hostvars['controller']['nodepool']['private_ipv4'] }}"" HOST_IPV6: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}"" PUBLIC_BRIDGE_MTU: '{{ external_bridge_mtu }}' SERVICE_IP_VERSION: 6 devstack_services: # Shared services dstat: true etcd3: true mysql: true peakmem_tracker: true rabbit: true group-vars: subnode: devstack_services: # Shared services dstat: true peakmem_tracker: true devstack_localrc: # Multinode specific settings HOST_IP: ""{{ hostvars[inventory_hostname]['nodepool']['private_ipv4'] }}"" HOST_IPV6: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}"" PUBLIC_BRIDGE_MTU: '{{ external_bridge_mtu }}' SERVICE_IP_VERSION: 6 # Subnode specific settings DATABASE_TYPE: mysql RABBIT_HOST: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}"" DATABASE_HOST: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}"" - job: name: devstack-ipv6 parent: devstack-minimal-ipv6 description: | Base devstack job for integration gate. This base job can be used for single node and multinode devstack jobs. With a single node nodeset, this job sets up an ""all-in-one"" (aio) devstack with the six OpenStack services included in the devstack tree: keystone, glance, cinder, neutron, nova and swift. With a two node nodeset, this job sets up an aio + compute node. The controller can be customised using host-vars.controller, the sub-nodes can be customised using group-vars.subnode. Descendent jobs can enable / disable services, add devstack configuration options, enable devstack plugins, configure log files or directories to be transferred to the log server. The job assumes that there is only one controller node. The number of subnodes can be scaled up seamlessly by setting a custom nodeset in job.nodeset. The run playbook consists of a single role, so it can be easily rewritten and extended. nodeset: openstack-single-node required-projects: - git.openstack.org/openstack/cinder - git.openstack.org/openstack/glance - git.openstack.org/openstack/keystone - git.openstack.org/openstack/neutron - git.openstack.org/openstack/nova - git.openstack.org/openstack/swift timeout: 7200 vars: devstack_localrc: # Common OpenStack services settings SWIFT_REPLICAS: 1 SWIFT_START_ALL_SERVICES: false SWIFT_HASH: 1234123412341234 CINDER_PERIODIC_INTERVAL: 10 DEBUG_LIBVIRT_COREDUMPS: true NOVA_VNC_ENABLED: true VNCSERVER_LISTEN: 0.0.0.0 VNCSERVER_PROXYCLIENT_ADDRESS: $HOST_IPV6 devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: global_physnet_mtu: '{{ external_bridge_mtu }}' devstack_services: # Core services enabled for this branch. # This list replaces the test-matrix. # Shared services dstat: true etcd3: true mysql: true peakmem_tracker: true rabbit: true tls-proxy: true # Keystone services key: true # Glance services g-api: true g-reg: true # Nova services n-api: true n-api-meta: true n-cauth: true n-cond: true n-cpu: true n-novnc: true n-obj: true n-sch: true placement-api: true # Neutron services # We need to keep using the neutron-legacy based services for # now until all issues with the new lib/neutron code are solved q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true # neutron-api: true # neutron-agent: true # neutron-dhcp: true # neutron-l3: true # neutron-metadata-agent: true # neutron-metering: true # Swift services s-account: true s-container: true s-object: true s-proxy: true # Cinder services c-api: true c-bak: true c-sch: true c-vol: true cinder: true # Services we don't need. # This section is not really needed, it's for readability. horizon: false tempest: false # Test matrix emits ceilometer but ceilomenter is not installed in the # integrated gate, so specifying the services has not effect. # ceilometer-*: false group-vars: subnode: devstack_services: # Core services enabled for this branch. # This list replaces the test-matrix. # Shared services dstat: true peakmem_tracker: true tls-proxy: true # Nova services n-cpu: true placement-client: true # Neutron services neutron-agent: true # Cinder services c-bak: true c-vol: true # Services we don't run at all on subnode. # This section is not really needed, it's for readability. # keystone: false # s-*: false horizon: false tempest: false # Test matrix emits ceilometer but ceilomenter is not installed in the # integrated gate, so specifying the services has not effect. # ceilometer-*: false devstack_localrc: # Subnode specific settings GLANCE_HOSTPORT: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}:9292"" Q_HOST: ""{{ hostvars['controller']['nodepool']['private_ipv6'] }}"" NOVA_VNC_ENABLED: true VNCSERVER_LISTEN: 0.0.0.0 VNCSERVER_PROXYCLIENT_ADDRESS: $HOST_IPV6 - job: - devstack-ipv6: voting: false",,187,0
openstack%2Fnova~master~Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93,openstack/nova,master,Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93,Deletes evacuated instance files when source host is ok,NEW,2018-09-28 07:31:51.000000000,2018-10-25 11:35:07.000000000,,"[{'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9610}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29215}]","[{'number': 1, 'created': '2018-09-28 07:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89ca1c9e600940074e8197b8dcce55a5eed33db1', 'message': ""Deletes evacuated instance files when source host is ok\n\nImage_backend is Rdb and the instance is evacuated due to the host power down.After the source host is powered on,the instance's files are not deleted.\n\nSo this patch delete  evacuated instance files when source host is ok.\n\nChange-Id: Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93\n""}, {'number': 2, 'created': '2018-10-09 00:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b37e84c6e020bb6b017d681a087ad4c29fb1bda3', 'message': ""Deletes evacuated instance files when source host is ok\n\nImage_backend is Rdb and the instance is evacuated due to the \nhost power down.After the source host is powered on,the instance's \nfiles are not deleted.\n\nSo this patch delete  evacuated instance files when source host is ok.\n\nCloses-Bug: #1794685\n\nChange-Id: Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93\n""}, {'number': 3, 'created': '2018-10-17 07:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a5068507d893234713c83e6cda1d5fa86469128', 'message': ""Deletes evacuated instance files when source host is ok\n\nImage_backend is Rdb and the instance is evacuated due to the\nhost power down. After the source host is powered on,the instance's\nfiles are not deleted.\n\nSo this patch delete evacuated instance files when source host is ok.\n\nCloses-Bug: #1794685\n\nChange-Id: Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93\n""}, {'number': 4, 'created': '2018-10-24 01:56:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5e4a48e6e59007700219ab0a7648e7b9e93647c', 'message': ""Deletes evacuated instance files when source host is ok\n\nImage_backend is Rdb and the instance is evacuated due to the\nhost power down. After the source host is powered on,the instance's\nfiles are not deleted.\n\nSo this patch delete evacuated instance files when source host is ok.\n\nCloses-Bug: #1794685\n\nChange-Id: Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93\n""}]",8,605987,a5e4a48e6e59007700219ab0a7648e7b9e93647c,61,20,4,29215,,,0,"Deletes evacuated instance files when source host is ok

Image_backend is Rdb and the instance is evacuated due to the
host power down. After the source host is powered on,the instance's
files are not deleted.

So this patch delete evacuated instance files when source host is ok.

Closes-Bug: #1794685

Change-Id: Ic7cd9f2df7b917d830bf0386ff7fb9d5cd5c7e93
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/605987/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,89ca1c9e600940074e8197b8dcce55a5eed33db1,BUG1794685, if (destroy_disks or is_shared_block_storage or (migrate_data is None and CONF.libvirt.images_type == 'rdb')):, if destroy_disks or is_shared_block_storage:,2,1
openstack%2Ftripleo-common~master~I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb,openstack/tripleo-common,master,I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb,WIP: add a noop option to ansible run.,ABANDONED,2018-09-14 20:45:24.000000000,2018-10-25 11:29:34.000000000,,"[{'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-14 20:45:24.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e87ab39e25871bd4b8ac92edc0a6add2c54e3344', 'message': 'WIP: add a noop option to ansible run.\n\nThis *may* be helpful in testing a dummy upgrade run.  The idea would\nbe to be able to test the upgrade workflow, without actually running\nit.  The time constraint on upstream CI usually prevents a full\nupgrade run.\n\nChange-Id: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb\n'}]",0,602745,e87ab39e25871bd4b8ac92edc0a6add2c54e3344,6,4,1,8297,,,0,"WIP: add a noop option to ansible run.

This *may* be helpful in testing a dummy upgrade run.  The idea would
be to be able to test the upgrade workflow, without actually running
it.  The time constraint on upstream CI usually prevents a full
upgrade run.

Change-Id: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/602745/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,e87ab39e25871bd4b8ac92edc0a6add2c54e3344,," self.noop = self._kwargs_for_run.pop('noop', None) if self.noop: command.extend(['--check', '--diff', self.noop]) ",,4,0
openstack%2Fpython-tripleoclient~master~Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332,openstack/python-tripleoclient,master,Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332,WIP: Run the ansible part of upgrade with --check --diff.,ABANDONED,2018-09-14 21:17:14.000000000,2018-10-25 11:29:33.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-14 21:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6cdb866c2a3511b6dc06b4e51af307b4002d080', 'message': 'WIP: Run the ansible part of upgrade with --check --diff.\n\nThis may be useful to test the upgrade workflow, without actually\nrunning it.\n\nChange-Id: Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332\nDepends-On: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb\n'}, {'number': 2, 'created': '2018-09-14 21:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d20a5863387cf6fb59946d166e165eeb8c904bea', 'message': 'WIP: Run the ansible part of upgrade with --check --diff.\n\nThis may be useful to test the upgrade workflow, without actually\nrunning it.\n\nChange-Id: Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332\nDepends-On: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb\n'}, {'number': 3, 'created': '2018-09-16 22:16:41.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcaa478c9b9cfa2c458e4df6b97d86b3513f9c57', 'message': 'WIP: Run the ansible part of upgrade with --check --diff.\n\nThis may be useful to test the upgrade workflow, without actually\nrunning it.\n\nChange-Id: Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332\nDepends-On: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb\n'}]",0,602760,bcaa478c9b9cfa2c458e4df6b97d86b3513f9c57,9,3,3,8297,,,0,"WIP: Run the ansible part of upgrade with --check --diff.

This may be useful to test the upgrade workflow, without actually
running it.

Change-Id: Ie80e5ea8f7a0a1afb314d3c2ef039ad6a6fb3332
Depends-On: I22c7d6732960b6f3a3b2cc3a037936b9b0b490bb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/602760/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py']",2,c6cdb866c2a3511b6dc06b4e51af307b4002d080,," parser.add_argument('--noop', dest='noop', default=False, action=""store"", help=_('Run Ansible with --check and --diff')) noop = parsed_args.noop",,9,2
openstack%2Ftripleo-quickstart-extras~master~I6a4e7eeacbb8c8bb449ce47ba34a24389c3519b1,openstack/tripleo-quickstart-extras,master,I6a4e7eeacbb8c8bb449ce47ba34a24389c3519b1,Expose the keep running option for standalone role.,ABANDONED,2018-09-12 21:21:57.000000000,2018-10-25 11:28:25.000000000,,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 8871}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-12 21:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b58d07524c1eecdcb88aa3ce25b321a43e3092c6', 'message': 'Expose the keep running option for standalone role.\n\nThis option will be required to be able to upgrade a standalone role.\n\nChange-Id: I6a4e7eeacbb8c8bb449ce47ba34a24389c3519b1\n'}, {'number': 2, 'created': '2018-09-12 22:36:58.000000000', 'files': ['roles/standalone/templates/standalone.sh.j2', 'roles/standalone/README.md', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d64a8aa59dbc31d441a08eeebaf638860bb583f', 'message': 'Expose the keep running option for standalone role.\n\nThis option will be required to be able to upgrade a standalone role.\n\nChange-Id: I6a4e7eeacbb8c8bb449ce47ba34a24389c3519b1\n'}]",0,602170,8d64a8aa59dbc31d441a08eeebaf638860bb583f,14,6,2,8297,,,0,"Expose the keep running option for standalone role.

This option will be required to be able to upgrade a standalone role.

Change-Id: I6a4e7eeacbb8c8bb449ce47ba34a24389c3519b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/70/602170/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone.sh.j2', 'roles/standalone/README.md', 'roles/standalone/defaults/main.yml']",3,b58d07524c1eecdcb88aa3ce25b321a43e3092c6,,standalone_keep_running: false ,,5,0
openstack%2Fneutron~master~I24d694ba57aa3ff49f8c118486265925f1b4a611,openstack/neutron,master,I24d694ba57aa3ff49f8c118486265925f1b4a611,Increase tempest jobs timeout,MERGED,2018-10-23 21:24:17.000000000,2018-10-25 11:25:12.000000000,2018-10-24 21:39:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-10-23 21:24:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb068f089c5cc0597c152f53b65cc246ac0a937b', 'message': ""Increase tempest jobs timeout\n\nFor jobs like:\n- neutron-tempest-iptables_hybrid\n- neutron-tempest-linuxbridge\n- neutron-tempest-dvr\n\nSometimes we hit timeouts which aren't related\ndirectly to Neutron.\n\nAs was decided on Neutron CI meeting [1], lets try\nto increase jobs' timeout to 3h and check if that\nwill help to stabilize those jobs.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2018/neutron_ci.2018-10-23-16.00.log.html#l-121\n\nChange-Id: I24d694ba57aa3ff49f8c118486265925f1b4a611\n""}]",0,612809,fb068f089c5cc0597c152f53b65cc246ac0a937b,18,10,1,11975,,,0,"Increase tempest jobs timeout

For jobs like:
- neutron-tempest-iptables_hybrid
- neutron-tempest-linuxbridge
- neutron-tempest-dvr

Sometimes we hit timeouts which aren't related
directly to Neutron.

As was decided on Neutron CI meeting [1], lets try
to increase jobs' timeout to 3h and check if that
will help to stabilize those jobs.

[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2018/neutron_ci.2018-10-23-16.00.log.html#l-121

Change-Id: I24d694ba57aa3ff49f8c118486265925f1b4a611
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/612809/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb068f089c5cc0597c152f53b65cc246ac0a937b,increase-tempest-timeouts, timeout: 10800 timeout: 10800 timeout: 10800, timeout: 7800 timeout: 8400 timeout: 7800,3,3
openstack%2Fpuppet-neutron~master~Ie634ac497409c64f1b63d67e63fddf42a0034756,openstack/puppet-neutron,master,Ie634ac497409c64f1b63d67e63fddf42a0034756,Adjust neutron binary for Fedora,ABANDONED,2018-10-11 06:32:41.000000000,2018-10-25 11:16:33.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 06:32:41.000000000', 'files': ['lib/puppet/provider/neutron.rb', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cf5e44af9285658549b32e38e5bfa510dc0faec0', 'message': 'Adjust neutron binary for Fedora\n\nChange-Id: Ie634ac497409c64f1b63d67e63fddf42a0034756\n'}]",0,609596,cf5e44af9285658549b32e38e5bfa510dc0faec0,4,2,1,13861,,,0,"Adjust neutron binary for Fedora

Change-Id: Ie634ac497409c64f1b63d67e63fddf42a0034756
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/96/609596/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron.rb', '.zuul.yaml']",2,cf5e44af9285658549b32e38e5bfa510dc0faec0,enable-py3, # - puppet-openstack-module-unit-jobs #- puppet-openstack-integration-jobs-all #- puppet-openstack-beaker-jobs #- tripleo-puppet-undercloud #- release-notes-jobs-python3, - puppet-openstack-module-unit-jobs - puppet-openstack-integration-jobs-all - puppet-openstack-beaker-jobs - tripleo-puppet-undercloud - release-notes-jobs-python3,10,6
openstack%2Fopenstack-helm-infra~master~Ic954d75c8bd7532991dc9b3184ad6d74b97855d1,openstack/openstack-helm-infra,master,Ic954d75c8bd7532991dc9b3184ad6d74b97855d1,ceph co-location journal and permission fixes,MERGED,2018-10-22 14:17:31.000000000,2018-10-25 11:09:44.000000000,2018-10-25 11:09:44.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26686}, {'_account_id': 29053}]","[{'number': 1, 'created': '2018-10-22 14:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bff3960dd7d3d021eaacddadd1ecb23ad8e3d337', 'message': 'ceph co-location journal and permission fixes\n\nSupport co-located journals with Ceph helm chart\nEnsure proper ownership set on OSD/Journal disks\n\nChange-Id: Ic954d75c8bd7532991dc9b3184ad6d74b97855d1\n'}, {'number': 2, 'created': '2018-10-25 08:21:31.000000000', 'files': ['ceph-osd/templates/bin/osd/_block.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8ac6c3f2160d996c5294837259f3e1fb19b65ca', 'message': 'ceph co-location journal and permission fixes\n\nSupport co-located journals with Ceph helm chart\nEnsure proper ownership set on OSD/Journal disks\n\nChange-Id: Ic954d75c8bd7532991dc9b3184ad6d74b97855d1\n'}]",0,612402,f8ac6c3f2160d996c5294837259f3e1fb19b65ca,14,6,2,29268,,,0,"ceph co-location journal and permission fixes

Support co-located journals with Ceph helm chart
Ensure proper ownership set on OSD/Journal disks

Change-Id: Ic954d75c8bd7532991dc9b3184ad6d74b97855d1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/612402/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/_block.sh.tpl'],1,bff3960dd7d3d021eaacddadd1ecb23ad8e3d337,CEPH_JOURNAL," elif [ ""${OSD_DEVICE}"" == ""${OSD_JOURNAL}"" ]; then # journal and osd disk are on the same device. OSD_JOURNAL=""$(dev_part ""${OSD_JOURNAL}"" 2)"" chown ceph. ""${OSD_JOURNAL}"" ""${DATA_PART}"" chown ceph. ""${JOURNAL_PART}"" ""${DATA_PART}"""," chown ceph. ""${OSD_JOURNAL}"" chown ceph. ""${JOURNAL_PART}""",5,2
openstack%2Fopenstack-ansible-tests~master~Ic5dc80310046eb64cec347c7546bdfb5e2c0cb15,openstack/openstack-ansible-tests,master,Ic5dc80310046eb64cec347c7546bdfb5e2c0cb15,zuul: Make SUSE and Ubuntu distro jobs non-voting,MERGED,2018-10-24 09:28:44.000000000,2018-10-25 11:04:01.000000000,2018-10-25 11:04:01.000000000,"[{'_account_id': 6816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 09:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e0c61f17f9c4b95d9b88b3c7049b1f94b9937c36', 'message': 'zuul: Make SUSE and Ubuntu distro jobs non-voting\n\nAs discussed during project meeting\n\nLink: http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2018/openstack_ansible_meeting.2018-10-23-16.01.log.html#l-188\nChange-Id: Ic5dc80310046eb64cec347c7546bdfb5e2c0cb15\n'}, {'number': 2, 'created': '2018-10-24 09:31:33.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b708fa630ffbc1714e31677590a6811aead590bc', 'message': 'zuul: Make SUSE and Ubuntu distro jobs non-voting\n\nAs discussed during project meeting\n\nLink: http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2018/openstack_ansible_meeting.2018-10-23-16.01.log.html#l-188\nChange-Id: Ic5dc80310046eb64cec347c7546bdfb5e2c0cb15\n'}]",0,612961,b708fa630ffbc1714e31677590a6811aead590bc,12,4,2,23163,,,0,"zuul: Make SUSE and Ubuntu distro jobs non-voting

As discussed during project meeting

Link: http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2018/openstack_ansible_meeting.2018-10-23-16.01.log.html#l-188
Change-Id: Ic5dc80310046eb64cec347c7546bdfb5e2c0cb15
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/61/612961/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,e0c61f17f9c4b95d9b88b3c7049b1f94b9937c36,disable-suse-ubuntu-distro-master, # NOTE(hwoarang) SUSE and Ubuntu distro jobs remain non-voting # on master branches. See # http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2018/openstack_ansible_meeting.2018-10-23-16.01.log.html#l-188 voting: false voting: false, - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-ubuntu-bionic,5,2
openstack%2Ffreezer-api~master~Ia64d6d49e692a3d2875662252eb270fb04d9df33,openstack/freezer-api,master,Ia64d6d49e692a3d2875662252eb270fb04d9df33,Add jobs api for bp add-mysql-support-for-freezer,MERGED,2018-10-25 08:51:00.000000000,2018-10-25 11:02:23.000000000,2018-10-25 11:02:23.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 08:51:00.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/60b1cb7eb40e39cf0ece0861c0faa8fa310f36c4', 'message': 'Add jobs api for bp add-mysql-support-for-freezer\n\nAdd jobs api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ia64d6d49e692a3d2875662252eb270fb04d9df33\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613244,60b1cb7eb40e39cf0ece0861c0faa8fa310f36c4,6,2,1,22484,,,0,"Add jobs api for bp add-mysql-support-for-freezer

Add jobs api in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: Ia64d6d49e692a3d2875662252eb270fb04d9df33
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/44/613244/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,60b1cb7eb40e39cf0ece0861c0faa8fa310f36c4,bp/add-mysql-support-for-freezer,"def delete_job(user_id, job_id, project_id): session = get_db_session() query = model_query(session, models.Job, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=job_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Job delete, job_id: {0} deleted'.format(job_id)) else: LOG.info('Action delete, job_id: {0} not found'. format(job_id)) session.close() return job_id def add_job(user_id, doc, project_id): job_doc = utils.JobDoc.create(doc, project_id, user_id) job_id = job_doc.get('job_id') existing = get_job(project_id=project_id, user_id=user_id, job_id=job_id) if existing: raise freezer_api_exc.\ DocumentExists(message='Job already registered with ID {0}'. format(job_id)) job = models.Job() jobvalue = {} jobvalue['id'] = job_id jobvalue['project_id'] = project_id jobvalue['user_id'] = user_id jobvalue['schedule'] = json_utils.\ json_encode(job_doc.pop('job_schedule', '')) jobvalue['client_id'] = job_doc.get('client_id', '') jobvalue['session_id'] = job_doc.pop('session_id', '') jobvalue['session_tag'] = job_doc.pop('session_tag', 0) jobvalue['description'] = job_doc.pop('description', '') jobvalue['job_actions'] = json_utils.\ json_encode(job_doc.pop('job_actions', '')) job.update(jobvalue) session = get_db_session() with session.begin(): try: job.save(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Job registered, job_id: {0}'.format(job_id)) return job_id def get_job(project_id, user_id, job_id): session = get_db_session() with session.begin(): try: query = model_query(session, models.Job, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=job_id) result = query.all() except Exception as e: raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() values = {} if 1 == len(result): values['job_id'] = result[0].get('id') values['project_id'] = result[0].get('project_id') values['user_id'] = result[0].get('user_id') values['job_schedule'] = json_utils.\ json_decode(result[0].get('schedule')) values['client_id'] = result[0].get('client_id') values['session_id'] = result[0].get('session_id') values['session_tag'] = result[0].get('session_tag') values['description'] = result[0].get('description') values['job_actions'] = json_utils.\ json_decode(result[0].get('job_actions')) return values def search_job(project_id, user_id, offset=0, limit=10, search=None): search = search or {} jobs = [] session = get_db_session() query = model_query(session, models.Job, project_id=project_id) query = query.filter_by(user_id=user_id) result = query.all() for job in result: jobmap = {} jobmap['job_id'] = job.get('id') jobmap['project_id'] = job.get('project_id') jobmap['user_id'] = job.get('user_id') jobmap['job_schedule'] = json_utils.json_decode(job.get('schedule')) jobmap['client_id'] = job.get('client_id') jobmap['session_id'] = job.get('session_id') jobmap['session_tag'] = job.get('session_tag') jobmap['description'] = job.get('description') jobmap['job_actions'] = json_utils.json_decode( job.get('job_actions')) jobs.append(jobmap) session.close() return jobs def update_job(user_id, job_id, patch_doc, project_id): valid_patch = utils.JobDoc.create_patch(patch_doc) values = {} for key in valid_patch.keys(): if key == 'job_schedule': values['schedule'] = json_utils.\ json_encode(valid_patch.get(key, None)) elif key == 'job_actions': values[key] = json_utils.json_encode(valid_patch.get(key, None)) else: values[key] = valid_patch.get(key, None) session = get_db_session() with session.begin(): try: query = model_query(session, models.Job, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=job_id) result = query.update(values) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if not result: raise freezer_api_exc.DocumentNotFound( message='Job not registered with ID' ' {0}'.format(job_id)) else: LOG.info('job updated, job_id: {0}'.format(job_id)) return 0 def replace_job(user_id, job_id, doc, project_id): valid_doc = utils.JobDoc.update(doc, user_id, job_id, project_id) values = {} valuesnew = {} bCreate = False values['id'] = job_id values['project_id'] = project_id values['user_id'] = user_id values['schedule'] = json_utils.\ json_encode(valid_doc.pop('job_schedule', None)) values['client_id'] = valid_doc.get('client_id', None) values['session_id'] = valid_doc.pop('session_id', None) values['session_tag'] = valid_doc.pop('session_tag', None) values['description'] = valid_doc.pop('description', None) values['job_actions'] = json_utils.\ json_encode(valid_doc.pop('job_actions', None)) for key in values: if values[key] is not None: valuesnew[key] = values[key] session = get_db_session() with session.begin(): try: query = model_query(session, models.Job, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=job_id) result = query.update(valuesnew) if not result: bCreate = True except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if bCreate: job = models.Job() job.update(valuesnew) session = get_db_session() with session.begin(): try: job.save(session=session) except Exception as e: session.close() raise freezer_api_exc.\ StorageEngineError(message='mysql operation failed {0}'. format(e)) session.close() LOG.info('job replaced, job_id: {0}'.format(job_id)) return job_id ",,209,0
openstack%2Ffreezer-api~master~I27e010fb332e25b570aa56ac0432d71621c3929e,openstack/freezer-api,master,I27e010fb332e25b570aa56ac0432d71621c3929e,Add backup api for bp add-mysql-support-for-freezer,MERGED,2018-10-25 08:39:19.000000000,2018-10-25 11:02:21.000000000,2018-10-25 11:02:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-25 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a980444c57ee669d9ac3c8306d4e9a0f02bd81fd', 'message': 'Add backup api for bp add-mysql-support-for-freezer\n\nAdd backup api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I27e010fb332e25b570aa56ac0432d71621c3929e\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-25 08:51:00.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/83fb41280ea9a413f7fc879730b7af81fd64bef6', 'message': 'Add backup api for bp add-mysql-support-for-freezer\n\nAdd backup api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I27e010fb332e25b570aa56ac0432d71621c3929e\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613241,83fb41280ea9a413f7fc879730b7af81fd64bef6,7,2,2,21387,,,0,"Add backup api for bp add-mysql-support-for-freezer

Add backup api in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: I27e010fb332e25b570aa56ac0432d71621c3929e
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/41/613241/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,a980444c57ee669d9ac3c8306d4e9a0f02bd81fd,bp/add-mysql-support-for-freezer,"def get_backup(project_id, user_id, backup_id): session = get_db_session() with session.begin(): try: query = model_query(session, models.Backup, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=backup_id) result = query.all() except Exception as e: raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() values = {} if 1 == len(result): values['project_id'] = result[0].get('project_id') values['backup_id'] = result[0].get('id') values['user_id'] = result[0].get('user_id') values['user_name'] = result[0].get('user_name') values['client_id'] = result[0].get('client_id') values['backup_uuid'] = result[0].get('id') values['backup_metadata'] = json_utils.\ json_decode(result[0].get('backup_metadata')) return values def add_backup(project_id, user_id, user_name, doc): metadatadoc = utils.BackupMetadataDoc(project_id, user_id, user_name, doc) if not metadatadoc.is_valid(): raise freezer_api_exc.BadDataFormat( message='Bad Data Format') backup_id = metadatadoc.backup_id backupjson = metadatadoc.serialize() backup_metadata = backupjson.get('backup_metadata') job_doc = backup_metadata.get('job_doc') existing = get_backup(project_id=project_id, user_id=user_id, backup_id=backup_id) if existing: raise freezer_api_exc.DocumentExists( message='Backup already registered with ID' ' {0}'.format(backup_id)) backup = models.Backup() backupvalue = {} backupvalue['project_id'] = project_id backupvalue['id'] = backup_id backupvalue['user_id'] = user_id backupvalue['user_name'] = user_name backupvalue['client_id'] = job_doc.get('client_id') backupvalue['job_id'] = backup_metadata.get('job_id') # The field backup_metadata is json, including : # hostname , backup_name , container etc backupvalue['backup_metadata'] = json_utils.json_encode(backup_metadata) backup.update(backupvalue) session = get_db_session() with session.begin(): try: backup.save(session=session) except Exception as e: session.close() raise freezer_api_exc.\ StorageEngineError(message='mysql operation failed {0}'. format(e)) LOG.info('Backup registered, backup_id: {0}'.format(backup_id)) session.close() return backup_id def delete_backup(project_id, user_id, backup_id): session = get_db_session() query = model_query(session, models.Backup, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=backup_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Backup delete, backup_id: {0} deleted'. format(backup_id)) else: LOG.info('Backup delete, backup_id: {0} not found'. format(backup_id)) session.close() return backup_id def search_backup(project_id, user_id, offset=0, limit=10, search=None): search = search or {} backups = [] session = get_db_session() query = model_query(session, models.Backup, project_id=project_id) query = query.filter_by(user_id=user_id) result = query.all() for backup in result: backupmap = {} backupmap['project_id'] = project_id backupmap['user_id'] = user_id backupmap['backup_id'] = backup.id backupmap['backup_uuid'] = backup.id backupmap['user_name'] = backup.user_name backupmap['client_id'] = backup.client_id backupmap['backup_metadata'] = json_utils.\ json_decode(backup.get('backup_metadata')) backups.append(backupmap) session.close() return backups ",,123,0
openstack%2Fopenstack-ansible-tests~master~Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd,openstack/openstack-ansible-tests,master,Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd,Restart lxc-dnsmasq after clearing iptables rules,MERGED,2018-10-23 00:04:21.000000000,2018-10-25 11:00:53.000000000,2018-10-25 11:00:35.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 00:04:21.000000000', 'files': ['test-prepare-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cd8de5c66d0b95eac36f42173e13c05e89dab742', 'message': 'Restart lxc-dnsmasq after clearing iptables rules\n\nWhen a functional test is run against the same host more than once and\niptables rules are managed by lxc-dnsmasq the rules that lxc-dnsmasq\ncreated during the first run are removed, preventing containers from\naccessing external networks.\n\nAdd a notify to restart the service and recreate the rules.\n\nChange-Id: Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd\n'}]",0,612539,cd8de5c66d0b95eac36f42173e13c05e89dab742,12,3,1,14805,,,0,"Restart lxc-dnsmasq after clearing iptables rules

When a functional test is run against the same host more than once and
iptables rules are managed by lxc-dnsmasq the rules that lxc-dnsmasq
created during the first run are removed, preventing containers from
accessing external networks.

Add a notify to restart the service and recreate the rules.

Change-Id: Ia3b39c7f81d24de10fe23cb000b1253f4b3dcbfd
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/39/612539/1 && git format-patch -1 --stdout FETCH_HEAD,['test-prepare-host.yml'],1,cd8de5c66d0b95eac36f42173e13c05e89dab742,iptables_cleared_restart_dnsmasq, register: iptables_clear - name: Trigger dnsmasq restart command: /bin/true changed_when: - lxc_net_manage_iptables | bool - iptables_clear is defined - iptables_clear is changed notify: - Restart dnsmasq,,10,0
openstack%2Ffreezer-api~master~Iff6628fb8de4bf0481f0f73cc70a6d33512516ff,openstack/freezer-api,master,Iff6628fb8de4bf0481f0f73cc70a6d33512516ff,Add backup table for bp add-mysql-support-for-freezer,MERGED,2018-10-25 08:34:33.000000000,2018-10-25 10:50:38.000000000,2018-10-25 10:50:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-25 08:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/2d4943b476dac420d1ea93d22a3fd26c8e2c5f23', 'message': 'Add backup table for bp add-mysql-support-for-freezer\n\nAdd backup table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Iff6628fb8de4bf0481f0f73cc70a6d33512516ff\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-25 08:51:00.000000000', 'files': ['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/aacbe8a128da0e749d4fc2c84d1135277e21f338', 'message': 'Add backup table for bp add-mysql-support-for-freezer\n\nAdd backup table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Iff6628fb8de4bf0481f0f73cc70a6d33512516ff\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613240,aacbe8a128da0e749d4fc2c84d1135277e21f338,7,2,2,21387,,,0,"Add backup table for bp add-mysql-support-for-freezer

Add backup table in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: Iff6628fb8de4bf0481f0f73cc70a6d33512516ff
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/40/613240/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py']",2,2d4943b476dac420d1ea93d22a3fd26c8e2c5f23,bp/add-mysql-support-for-freezer,"class Backup(BASE, FreezerBase): """"""Represents freezer Backup."""""" # The field backup_metadata is json, including : # nova_inst_id, engine_name, storage, remove_older_than, restore_from_date, # command, incremental, restore_abs_path, etc __tablename__ = 'backups' id = Column(String(36), primary_key=True) client_id = Column(String(255), nullable=False) job_id = Column(String(36), nullable=False) project_id = Column(String(36), nullable=False) user_id = Column(String(64), nullable=False) user_name = Column(String(64), nullable=False) backup_metadata = Column(Text) ActionReport, Backup) ActionReport, Backup)", ActionReport) ActionReport),39,3
openstack%2Fnova~stable%2Frocky~I43a23a3290db0c835fed01b8d6a38962dc61adce,openstack/nova,stable/rocky,I43a23a3290db0c835fed01b8d6a38962dc61adce,Don't persist zero allocation ratios in ResourceTracker,MERGED,2018-09-04 16:21:53.000000000,2018-10-25 10:48:07.000000000,2018-09-14 10:50:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-09-04 16:21:53.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01265b98c4cd2b1377e891a06ce748fc6f8f3425', 'message': ""Don't persist zero allocation ratios in ResourceTracker\n\nThe ComputeNode object itself has a facade which provides the\nactual default values for cpu, disk and ram allocation ratios\nwhen the config option values are left at the default (0.0).\n\nWhen we initially create a ComputeNode in the ResourceTracker,\nthe *_allocation_ratio values in the object are going to be\nunset, and then _copy_resources, called from _init_compute_node,\nwill set the values to the config option values, again, defaulted\nto 0.0, but the ComputeNode object, after calling create() or\nsave(), will change those *on the object* to the non-0.0 we\nactually know and love (16.0 for cpu, 1.5 for ram, and 1.0 for disk).\n\nDuring the update_available_resource periodic, we'll again go\nthrough _init_compute_node and _copy_resources in the ResourceTracker\nwhich will set the configured values (default of 0.0) onto the\nComputeNode object, which makes the _resource_change method, called\nfrom _update, return True and trigger a ComputeNode.save() call\nfrom the _update method. At that point we're *persisting* the 0.0\nallocation ratios in the database, even though ComputeNode.save\nwill change them to their non-0.0 default values *on the object*\nbecause of the _from_db_object call at the end of ComputeNode.save.\n\nSo even if the ComputeNode object allocation ratio values are the\nnon-0.0 defaults, we'll *always* update the database on every\nperiodic even if nothing else changed in inventory.\n\nThis change modifies the _copy_resource method to only update the\nComputeNode fields if the configured ratios are not the 0.0 default.\n\nChange-Id: I43a23a3290db0c835fed01b8d6a38962dc61adce\nRelated-Bug: #1789654\n(cherry picked from commit 2588af87c862cfd02d860f6b860381e907b279ff)\n""}]",0,599672,01265b98c4cd2b1377e891a06ce748fc6f8f3425,19,10,1,6873,,,0,"Don't persist zero allocation ratios in ResourceTracker

The ComputeNode object itself has a facade which provides the
actual default values for cpu, disk and ram allocation ratios
when the config option values are left at the default (0.0).

When we initially create a ComputeNode in the ResourceTracker,
the *_allocation_ratio values in the object are going to be
unset, and then _copy_resources, called from _init_compute_node,
will set the values to the config option values, again, defaulted
to 0.0, but the ComputeNode object, after calling create() or
save(), will change those *on the object* to the non-0.0 we
actually know and love (16.0 for cpu, 1.5 for ram, and 1.0 for disk).

During the update_available_resource periodic, we'll again go
through _init_compute_node and _copy_resources in the ResourceTracker
which will set the configured values (default of 0.0) onto the
ComputeNode object, which makes the _resource_change method, called
from _update, return True and trigger a ComputeNode.save() call
from the _update method. At that point we're *persisting* the 0.0
allocation ratios in the database, even though ComputeNode.save
will change them to their non-0.0 default values *on the object*
because of the _from_db_object call at the end of ComputeNode.save.

So even if the ComputeNode object allocation ratio values are the
non-0.0 defaults, we'll *always* update the database on every
periodic even if nothing else changed in inventory.

This change modifies the _copy_resource method to only update the
ComputeNode fields if the configured ratios are not the 0.0 default.

Change-Id: I43a23a3290db0c835fed01b8d6a38962dc61adce
Related-Bug: #1789654
(cherry picked from commit 2588af87c862cfd02d860f6b860381e907b279ff)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/599672/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,01265b98c4cd2b1377e891a06ce748fc6f8f3425,bug/1789654," # Update the allocation ratios for the related ComputeNode object # but only if the configured values are not the default 0.0; the # ComputeNode._from_db_object method takes care of providing default # allocation ratios when the config is left at the 0.0 default, so # we'll really end up with something like a # ComputeNode.cpu_allocation_ratio of 16.0, not 0.0. We want to avoid # resetting the ComputeNode fields to 0.0 because that will make # the _resource_change method think something changed when really it # didn't. # TODO(mriedem): Will this break any scenarios where an operator is # trying to *reset* the allocation ratios by changing config from # non-0.0 back to 0.0? Maybe we should only do this if the fields on # the ComputeNode object are not already set. For example, let's say # the cpu_allocation_ratio config was 1.0 and then the operator wants # to get back to the default (16.0 via the facade), and to do that they # change the config back to 0.0 (or just unset the config option). # Should we support that or treat these config options as ""sticky"" in # that once you start setting them, you can't go back to the implied # defaults by unsetting or resetting to 0.0? Sort of like how # per-tenant quota is sticky once you change it in the API. for res in ('cpu', 'disk', 'ram'): attr = '%s_allocation_ratio' % res conf_alloc_ratio = getattr(self, attr) if conf_alloc_ratio != 0.0: setattr(compute_node, attr, conf_alloc_ratio)", # update the allocation ratios for the related ComputeNode object compute_node.ram_allocation_ratio = self.ram_allocation_ratio compute_node.cpu_allocation_ratio = self.cpu_allocation_ratio compute_node.disk_allocation_ratio = self.disk_allocation_ratio,60,4
openstack%2Fqinling~master~I580d2b4b49a345cf3d9a1432201cd63a1472c915,openstack/qinling,master,I580d2b4b49a345cf3d9a1432201cd63a1472c915,add Qinling-dashboard url in docs,MERGED,2018-10-24 08:48:04.000000000,2018-10-25 10:46:55.000000000,2018-10-25 10:46:55.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 08:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/140016a4a6978a1c1b943a21704ef88692e76015', 'message': 'add Qinling-dashboard url in docs\n\nChange-Id: I580d2b4b49a345cf3d9a1432201cd63a1472c915\n'}, {'number': 2, 'created': '2018-10-24 08:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/66eceb86bc3d187c379cfffbf53f36f3602516df', 'message': 'add Qinling-dashboard url in docs\n\nChange-Id: I580d2b4b49a345cf3d9a1432201cd63a1472c915\n'}, {'number': 3, 'created': '2018-10-25 08:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1f722847f7811a815e1d50f9c77e2ce7bb3beafd', 'message': 'add Qinling-dashboard url in docs\n\nChange-Id: I580d2b4b49a345cf3d9a1432201cd63a1472c915\n'}, {'number': 4, 'created': '2018-10-25 09:10:49.000000000', 'files': ['doc/source/admin/install/overview.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/fdc842fc56738c0e3a19a0646edee1b4a599e914', 'message': 'add Qinling-dashboard url in docs\n\nChange-Id: I580d2b4b49a345cf3d9a1432201cd63a1472c915\n'}]",0,612952,fdc842fc56738c0e3a19a0646edee1b4a599e914,13,2,4,27979,,,0,"add Qinling-dashboard url in docs

Change-Id: I580d2b4b49a345cf3d9a1432201cd63a1472c915
",git fetch https://review.opendev.org/openstack/qinling refs/changes/52/612952/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/install/overview.rst'],1,140016a4a6978a1c1b943a21704ef88692e76015,doc-fix,qinling-dashboard The horizon plugin for Qinling is available `here <https://docs.openstack.org/qinling-dashboard/latest/>`., The horizon plugin for Qinling is still not available now.,2,1
openstack%2Fmistral~stable%2Frocky~I5ebc44c7a3f95c868d653689dc5cea689c788cd0,openstack/mistral,stable/rocky,I5ebc44c7a3f95c868d653689dc5cea689c788cd0,Improve join by removing periodic jobs,MERGED,2018-10-24 10:39:45.000000000,2018-10-25 10:38:32.000000000,2018-10-25 10:38:32.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 10:39:45.000000000', 'files': ['mistral/engine/action_queue.py', 'mistral/tests/unit/engine/test_subworkflows_pause_resume.py', 'mistral/workflow/base.py', 'mistral/engine/task_handler.py', 'mistral/tests/unit/engine/base.py', 'mistral/workflow/reverse_workflow.py', 'releasenotes/notes/remove_polling_from_join-3a7921c4af741822.yaml', 'mistral/workflow/lookup_utils.py', 'mistral/workflow/direct_workflow.py', 'mistral/tests/unit/engine/test_join.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/8306fa17eb7ae7e4a0f33f5f362be46daff4f0a9', 'message': 'Improve join by removing periodic jobs\n\n* This patch removes the approach with DB polling needed to\n  determine if a ""join"" task is ready to run. Instead of running\n  a periodic scheduled job, each task completion now runs the\n  algorithm that finds all potentially affected join tasks\n  and schedules just one job (instead of a periodic job) to check\n  their readiness.\n  This solves a problem of system cascaded overloading in case of\n  having many very large joins (when a workflow has many joins with\n  many  dependencies each). Previously, in such case Mistral created\n  too many periodic jobs that just didn\'t let the workflow progress\n  well, i.e. most CPU was used by scheduler to run those periodic\n  jobs that very rarely switched ""join"" tasks to the RUNNING state.\n\nChange-Id: I5ebc44c7a3f95c868d653689dc5cea689c788cd0\nCloses-Bug: #1799356\n(cherry picked from commit 1a4c599a4d1ab9522d47a017ce1b98eac8b290df)\n'}]",0,612982,8306fa17eb7ae7e4a0f33f5f362be46daff4f0a9,7,3,1,8731,,,0,"Improve join by removing periodic jobs

* This patch removes the approach with DB polling needed to
  determine if a ""join"" task is ready to run. Instead of running
  a periodic scheduled job, each task completion now runs the
  algorithm that finds all potentially affected join tasks
  and schedules just one job (instead of a periodic job) to check
  their readiness.
  This solves a problem of system cascaded overloading in case of
  having many very large joins (when a workflow has many joins with
  many  dependencies each). Previously, in such case Mistral created
  too many periodic jobs that just didn't let the workflow progress
  well, i.e. most CPU was used by scheduler to run those periodic
  jobs that very rarely switched ""join"" tasks to the RUNNING state.

Change-Id: I5ebc44c7a3f95c868d653689dc5cea689c788cd0
Closes-Bug: #1799356
(cherry picked from commit 1a4c599a4d1ab9522d47a017ce1b98eac8b290df)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/82/612982/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/action_queue.py', 'mistral/tests/unit/engine/test_subworkflows_pause_resume.py', 'mistral/workflow/base.py', 'mistral/engine/task_handler.py', 'mistral/tests/unit/engine/base.py', 'mistral/workflow/reverse_workflow.py', 'releasenotes/notes/remove_polling_from_join-3a7921c4af741822.yaml', 'mistral/workflow/lookup_utils.py', 'mistral/workflow/direct_workflow.py', 'mistral/tests/unit/engine/test_join.py']",10,8306fa17eb7ae7e4a0f33f5f362be46daff4f0a9,bug/1799356-stable/rocky, mtd_name = 'mistral.engine.task_handler._refresh_task_state' mtd_name = 'mistral.engine.task_handler._refresh_task_state' , calls = db_api.get_delayed_calls() mtd_name = 'mistral.engine.task_handler._refresh_task_state' cnt = sum([1 for c in calls if c.target_method_name == mtd_name]) # There can be 2 calls with different value of 'processing' flag. self.assertTrue(cnt == 1 or cnt == 2) calls = db_api.get_delayed_calls() mtd_name = 'mistral.engine.task_handler._refresh_task_state' cnt = sum([1 for c in calls if c.target_method_name == mtd_name]) # There can be 2 calls with different value of 'processing' flag. self.assertTrue(cnt == 1 or cnt == 2) ,156,85
openstack%2Fopenstack-ansible-os_keystone~master~Ieab35215e84d6971cd9c2068206ebf2103cbc4b4,openstack/openstack-ansible-os_keystone,master,Ieab35215e84d6971cd9c2068206ebf2103cbc4b4,vars: Add missing netcat package,MERGED,2018-10-23 11:48:35.000000000,2018-10-25 10:35:22.000000000,2018-10-23 15:21:50.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27926}]","[{'number': 1, 'created': '2018-10-23 11:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1f29c56d8193617725afe6fbc61a361c3fd6a994', 'message': 'vars: Add missing netcat package\n\nCommit afc0e5b1ce66 (""Add memcache flushing handler on db migrations"")\nadded an implicit dependency to the \'nc\' package but it did not add it\nto the list of required packages so things break like this:\n\n [""/bin/sh: nc: command not found""]\n\nAs such, we need to add the package to the rest of the distro packages.\n\nChange-Id: Ieab35215e84d6971cd9c2068206ebf2103cbc4b4\n'}, {'number': 2, 'created': '2018-10-23 11:48:49.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/781835e7521b91ef813a1c95455ac9e91794a8ca', 'message': 'vars: Add missing netcat package\n\nCommit afc0e5b1ce66 (""Add memcache flushing handler on db migrations"")\nadded an implicit dependency to the \'nc\' package but it did not add it\nto the list of required packages so things break like this:\n\n [""/bin/sh: nc: command not found""]\n\nAs such, we need to add the package to the rest of the distro packages.\n\nFixes: afc0e5b1ce66 (""Add memcache flushing handler on db migrations"")\nChange-Id: Ieab35215e84d6971cd9c2068206ebf2103cbc4b4\n'}]",0,612673,781835e7521b91ef813a1c95455ac9e91794a8ca,13,16,2,23163,,,0,"vars: Add missing netcat package

Commit afc0e5b1ce66 (""Add memcache flushing handler on db migrations"")
added an implicit dependency to the 'nc' package but it did not add it
to the list of required packages so things break like this:

 [""/bin/sh: nc: command not found""]

As such, we need to add the package to the rest of the distro packages.

Fixes: afc0e5b1ce66 (""Add memcache flushing handler on db migrations"")
Change-Id: Ieab35215e84d6971cd9c2068206ebf2103cbc4b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/73/612673/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",3,1f29c56d8193617725afe6fbc61a361c3fd6a994,add-missing-netcat, - netcat-openbsdkeystone_sshd: sshd ,keystone_sshd: sshd,6,3
openstack%2Frequirements~master~I000c6170d2f46be6b7c41f42fb32357b0f7142f8,openstack/requirements,master,I000c6170d2f46be6b7c41f42fb32357b0f7142f8,update constraint for python-zaqarclient to new release 1.11.0,MERGED,2018-10-24 16:13:34.000000000,2018-10-25 10:21:25.000000000,2018-10-25 10:21:24.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:13:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/decc05388c04a38fec6b41a0dffca70bb21a132d', 'message': 'update constraint for python-zaqarclient to new release 1.11.0\n\nChange-Id: I000c6170d2f46be6b7c41f42fb32357b0f7142f8\nmeta:version: 1.11.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I87abfb527179ed828f12b9f8c861780082d7273e\nmeta:release:Code-Review+1: wanghao <sxmatch1986@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613100,decc05388c04a38fec6b41a0dffca70bb21a132d,12,4,1,11131,,,0,"update constraint for python-zaqarclient to new release 1.11.0

Change-Id: I000c6170d2f46be6b7c41f42fb32357b0f7142f8
meta:version: 1.11.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I87abfb527179ed828f12b9f8c861780082d7273e
meta:release:Code-Review+1: wanghao <sxmatch1986@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/613100/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,decc05388c04a38fec6b41a0dffca70bb21a132d,new-release,python-zaqarclient===1.11.0,python-zaqarclient===1.10.0,1,1
openstack%2Fneutron-specs~master~Ib87c9f521b7492a385b93d45eabdd30068a8e576,openstack/neutron-specs,master,Ib87c9f521b7492a385b93d45eabdd30068a8e576,Spec for Firewall Rule Scheduling,ABANDONED,2015-10-19 08:29:07.000000000,2018-10-25 10:20:33.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4656}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6995}, {'_account_id': 9200}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 15471}, {'_account_id': 17120}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2015-10-19 08:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9a0a20f8bc7a2dd8fec0d53e66729e6582069909', 'message': '[WIP]RFE Update for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nImplements: blueprint firewall-rule-scheduling\n'}, {'number': 2, 'created': '2017-02-23 19:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4b6c1e4a1b34aaf7ef2d8f4b1333850183c1f6b5', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nPartially-Closes: #1657153\n'}, {'number': 3, 'created': '2017-02-23 20:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a2aaed269628eceb172d86f78a6d4573b82d78fa', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nPartially-Closes: #1657153\n'}, {'number': 4, 'created': '2017-02-23 20:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f254a223cb79a9b746b09748c8962f79f95c17bd', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nPartially-Closes: #1657153\n'}, {'number': 5, 'created': '2017-02-23 20:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5d9f9ce8221ac40cc25d772c2bbcfc54884804e5', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nPartially-Closes: #1657153\n'}, {'number': 6, 'created': '2017-02-23 20:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/da6015371f5a15224afe4840860c727ff2179814', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 7, 'created': '2017-02-28 13:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/695b405a938f5854286d16f4c0c54e17c92fc651', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 8, 'created': '2017-03-02 04:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b70d091a5cd614622b821929fb960c107ae96dcf', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 9, 'created': '2017-03-02 05:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d95722bcbce58236a12f8aae9738664ba6a8efd1', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 10, 'created': '2017-03-02 06:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/007145ec0dc65005bca8d2464e7f78ccd01f2049', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 11, 'created': '2017-03-02 07:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3c6d2bc672b393b3ffc839e5b12e92669d9dae01', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 12, 'created': '2017-03-15 05:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/75869dd464b6e2f5a06a1651d08c64436d047878', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657153\n'}, {'number': 13, 'created': '2017-10-28 07:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/be5078e3e90304a7040e4b41d8c90808a4437723', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 14, 'created': '2017-10-28 07:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2e195d8d9c8402557c8991a9dee1f22107a2e81c', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 15, 'created': '2017-10-28 09:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b705931ddfe18d3be4742732eb61d9e2b393b770', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 16, 'created': '2017-11-20 07:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5b09feaf17b20c8031365d8001fec518183f2a92', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 17, 'created': '2017-12-04 01:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0c1980cb1405470fefa30ac34bda73f0b78c5aca', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 18, 'created': '2017-12-13 02:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/185b3d994970156f954ab4a04bba7b2ea7eb121a', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 19, 'created': '2017-12-20 09:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ab779ad817fd538aca2d3f003d0140eb57675ef5', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}, {'number': 20, 'created': '2018-03-27 09:07:27.000000000', 'files': ['specs/rocky/firewall-scheduling.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3b57d56fc74a288f7f9f7d370a8c19abcd18c3c5', 'message': 'Spec for Firewall Rule Scheduling\n\nCurrently Openstack does not allow scheduling of Firewalls.\nThe following blueprint attempts to increase the usability of\na firewall by providing scheduling facility to the user.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576\nRelated-Bug: #1657084\n'}]",112,236840,3b57d56fc74a288f7f9f7d370a8c19abcd18c3c5,81,15,20,17776,,,0,"Spec for Firewall Rule Scheduling

Currently Openstack does not allow scheduling of Firewalls.
The following blueprint attempts to increase the usability of
a firewall by providing scheduling facility to the user.

Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
Change-Id: Ib87c9f521b7492a385b93d45eabdd30068a8e576
Related-Bug: #1657084
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/40/236840/20 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/firewall-scheduling.rst'],1,9a0a20f8bc7a2dd8fec0d53e66729e6582069909,bug/1657084,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Scheduling support in Firewall ===================================== https://blueprints.launchpad.net/neutron/+spec/firewall-rule-scheduling Currently Openstack firewalls lack scheduling. Openstack firewalls allow a particular rule to be active through-out its lifespan, till it is a part of a Firewall.Most firewalls now a days support the facility to schedule a policy/rule, so that more variations and extended usablitiy can be provided to the user. Problem Description =================== While efficient in its working, Openstack firewalls do not support Scheduling mechanism.When a firewall is created and associated with a router, the rules governing the firewall are active the whole time. However, in order to extend the user support, and to provide a more detailed firewall experience, scheduling of the firewall rules is possible. Scheduling allows a firewall to be 'Active' for the duration specified, and for the rest of the duration, remain 'Passive'. Use Cases: a) User creates a firewall rule with no duration specified. - Scenario : Regression - User Impact: No change from previous releases. The firewall will operate based like it used to earlier, as no duration is defined. b) User creates a firewall rule with Action in Deny/Accept/Reject for a specific time-period. - Scenario : New - User Impact: The enforced rules would be active and Deny/Accept/Reject all the specific packets for the duration specified. After that, the rule would expire. Packets will not be filtered after the specific duration.For the remaining duration,User can create a new rule with a separate action,if required. IP Tables allow filteration of Packets based on time, using a 'time' module , which is proposed to be used in this patch. Proposed Change =============== Overview -------- Data Model Impact ----------------- REST API Impact --------------- Security Impact --------------- Notifications Impact -------------------- Other End User Impact --------------------- Performance Impact ------------------ Other Deployer Impact --------------------- Developer Impact ---------------- Community Impact ---------------- None Alternatives ------------ Limitation ----------- Currently Firewall rules can only be scheduled on a daily basis. That is because although 'time' module may come pre-packed with iptables, the 'date' module does not, and therefore day/date wise filtering is currently not available in this release. However, it can be easily added if the date module is released for iptables. Implementation ============== References ========== None ",,102,0
openstack%2Fkolla~master~Ib8cca45b56a79bea9939c49d24046966ea82bed7,openstack/kolla,master,Ib8cca45b56a79bea9939c49d24046966ea82bed7,Install sensu plugins from RPM on Centos and RHEL,ABANDONED,2018-10-24 12:19:24.000000000,2018-10-25 10:18:22.000000000,,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-24 12:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d480dd84e884c17636251855baafc10ee70225f8', 'message': 'Install sensu plugins from RPM on Centos and RHEL\n\nChange-Id: Ib8cca45b56a79bea9939c49d24046966ea82bed7\n'}, {'number': 2, 'created': '2018-10-24 13:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5cae2525e62a9787f26ba1de8f214e3a9730badd', 'message': 'Install sensu plugins from RPM on Centos and RHEL\n\nChange-Id: Ib8cca45b56a79bea9939c49d24046966ea82bed7\n'}, {'number': 3, 'created': '2018-10-24 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/121c9c18d761e938bf5e4102d6939db3c850588e', 'message': 'Install sensu plugins from RPM on Centos and RHEL\n\nChange-Id: Ib8cca45b56a79bea9939c49d24046966ea82bed7\n'}, {'number': 4, 'created': '2018-10-24 14:53:57.000000000', 'files': ['docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/347c3ccee8faecfcbb6dd47656dd024cc2a9b768', 'message': 'Install sensu plugins from RPM on Centos and RHEL\n\nChange-Id: Ib8cca45b56a79bea9939c49d24046966ea82bed7\n'}]",7,613002,347c3ccee8faecfcbb6dd47656dd024cc2a9b768,19,6,4,4264,,,0,"Install sensu plugins from RPM on Centos and RHEL

Change-Id: Ib8cca45b56a79bea9939c49d24046966ea82bed7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/613002/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2']",2,d480dd84e884c17636251855baafc10ee70225f8,sensu_install,"{% if base_distro in ['debian', 'ubuntu'] %}RUN sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }} {% else %}{% set sensu_plugins = [ 'rubygem-sensu-system-profile' ] %} {{ macros.install_packages(sensu_client_plugins | customizable(""packages"")) }} {% endif %}","RUN sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}",14,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If1bf6dda19e6e0b875463c421f9504efab85251b,openstack/tripleo-heat-templates,stable/queens,If1bf6dda19e6e0b875463c421f9504efab85251b,Don't run host_prep_tasks from {{role}}HostPrepDeployment,MERGED,2018-08-07 15:46:48.000000000,2018-10-25 10:18:05.000000000,2018-10-19 04:54:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-07 15:46:48.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ce99b522ca99250560c5cc135125fcbeb943515', 'message': ""Don't run host_prep_tasks from {{role}}HostPrepDeployment\n\nhost_prep_tasks are run from deploy_steps_playbook.yaml, so there's no\nneed to also run them as part of the {{role}}HostPrepDeployment\nresources.\n\nChange-Id: If1bf6dda19e6e0b875463c421f9504efab85251b\n(cherry picked from commit 697b1d943817a6a602551904802fcd1800db2233)\n""}]",0,589522,3ce99b522ca99250560c5cc135125fcbeb943515,23,4,1,7144,,,0,"Don't run host_prep_tasks from {{role}}HostPrepDeployment

host_prep_tasks are run from deploy_steps_playbook.yaml, so there's no
need to also run them as part of the {{role}}HostPrepDeployment
resources.

Change-Id: If1bf6dda19e6e0b875463c421f9504efab85251b
(cherry picked from commit 697b1d943817a6a602551904802fcd1800db2233)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/589522/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,3ce99b522ca99250560c5cc135125fcbeb943515,," # FIXME: can we move docker-puppet somewhere so it's installed via a package? - name: Create /var/lib/docker-puppet file: path=/var/lib/docker-puppet state=directory setype=svirt_sandbox_file_t selevel=s0 recurse=true - name: Write docker-puppet.py copy: content=""{{ '{{' }}docker_puppet_script{{ '}}' }}"" dest=/var/lib/docker-puppet/docker-puppet.py force=yes mode=0600"," # Join host_prep_tasks with the other per-host configuration list_concat: {%- if is_upgrade|default(false) and role.disable_upgrade_deployment|default(false) %} - [] {%- else %} - {get_param: [role_data, {{role.name}}, host_prep_tasks]} {%- endif %} - # FIXME: can we move docker-puppet somewhere so it's installed via a package? - name: Create /var/lib/docker-puppet file: path=/var/lib/docker-puppet state=directory setype=svirt_sandbox_file_t selevel=s0 recurse=true - name: Write docker-puppet.py copy: content=""{{ '{{' }}docker_puppet_script{{ '}}' }}"" dest=/var/lib/docker-puppet/docker-puppet.py force=yes mode=0600",5,13
openstack%2Fqinling~master~I6dd3546be2e03288654c5c3e8dad0aaabfff06a2,openstack/qinling,master,I6dd3546be2e03288654c5c3e8dad0aaabfff06a2,Add framework for qinling-status upgrade check,MERGED,2018-10-24 12:04:24.000000000,2018-10-25 10:01:13.000000000,2018-10-25 10:01:13.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-24 12:04:24.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'qinling/tests/unit/cmd/test_status.py', 'qinling/cmd/status.py', 'doc/source/cli/index.rst', 'qinling/tests/unit/cmd/__init__.py', 'lower-constraints.txt', 'setup.cfg', 'doc/source/cli/qinling-status.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/5cf8d51c07ecb1a2c366fef05fc87eedf4b78f39', 'message': 'Add framework for qinling-status upgrade check\n\nThis commit adds the functionality of qinling-status CLI for performing\nupgrade checks as part of the Stein cycle upgrade-checkers goal.\nIt only includes a sample check which must be replaced by real checks in\nfuture.\n\nChange-Id: I6dd3546be2e03288654c5c3e8dad0aaabfff06a2\nStory: 2003657\nTask: 26151\n'}]",0,612997,5cf8d51c07ecb1a2c366fef05fc87eedf4b78f39,23,4,1,25553,,,0,"Add framework for qinling-status upgrade check

This commit adds the functionality of qinling-status CLI for performing
upgrade checks as part of the Stein cycle upgrade-checkers goal.
It only includes a sample check which must be replaced by real checks in
future.

Change-Id: I6dd3546be2e03288654c5c3e8dad0aaabfff06a2
Story: 2003657
Task: 26151
",git fetch https://review.opendev.org/openstack/qinling refs/changes/97/612997/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'requirements.txt', 'qinling/tests/unit/cmd/test_status.py', 'qinling/cmd/status.py', 'doc/source/cli/index.rst', 'qinling/tests/unit/cmd/__init__.py', 'lower-constraints.txt', 'setup.cfg', 'doc/source/cli/qinling-status.rst']",9,5cf8d51c07ecb1a2c366fef05fc87eedf4b78f39,upgrade-checkers,"============== qinling-status ============== ----------------------------------------- CLI interface for Qinling status commands ----------------------------------------- Synopsis ======== :: qinling-status <category> <command> [<args>] Description =========== :program:`qinling-status` is a tool that provides routines for checking the status of a Qinling deployment. Options ======= The standard pattern for executing a :program:`qinling-status` command is:: qinling-status <category> <command> [<args>] Run without arguments to see a list of available command categories:: qinling-status Categories are: * ``upgrade`` Detailed descriptions are below: You can also run with a category argument such as ``upgrade`` to see a list of all commands in that category:: qinling-status upgrade These sections describe the available categories and arguments for :program:`qinling-status`. Upgrade ~~~~~~~ .. _qinling-status-checks: ``qinling-status upgrade check`` Performs a release-specific readiness check before restarting services with new code. For example, missing or changed configuration options, incompatible object states, or other conditions that could lead to failures while upgrading. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - All upgrade readiness checks passed successfully and there is nothing to do. * - 1 - At least one check encountered an issue and requires further investigation. This is considered a warning but the upgrade may be OK. * - 2 - There was an upgrade status check failure that needs to be investigated. This should be considered something that stops an upgrade. * - 255 - An unexpected error occurred. **History of Checks** **2.0.0 (Stein)** * Sample check to be filled in with checks as they are added in Stein. ",,186,0
openstack%2Fpaunch~master~I653ac4cc520e40f3eb4d029e8c99ab482b17a859,openstack/paunch,master,I653ac4cc520e40f3eb4d029e8c99ab482b17a859,Fix logging to stdout and file in classes/commands,MERGED,2018-10-22 10:29:38.000000000,2018-10-25 09:56:59.000000000,2018-10-25 09:56:59.000000000,"[{'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-22 10:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/91cfed95a35afa829283010b8c414eecee09aa80', 'message': 'Use oslo_log for logging to stdout/file\n\nImprove logging to console or file.\nBy default, keep logging to stdout.\n\nCloses-Bug: #1799182\n\nChange-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-10-22 10:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/109cd6cdeab2bb5dd2f3256a8bd4afaaf90d53ab', 'message': 'Use oslo_log for logging to stdout/file\n\nImprove logging to console or file.\nBy default, keep logging to stdout.\n\nCloses-Bug: #1799182\n\nChange-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-22 10:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d7bc133c7bd3816ebe6af84508cb42609b65aaf1', 'message': 'Use oslo_log for logging to stdout/file\n\nImprove logging to console or file.\nBy default, keep logging to stdout.\n\nCloses-Bug: #1799182\n\nChange-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-10-23 16:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/cd031c60ceb1216ede5927ab042f84c34a2e7a80', 'message': 'Fix logging to stdout and file in classes/commands\n\nFix logging to console to depend on input CLI args. By default, keep\nlogging to stdout. Make --log-file argument working as well.\n\nUse the input verbosity parameters as a controlling switch for\nlogs verbosity.\n\nEvaluate log levels as:\n\n  * 1 (WARNING+) - the default log level if neither -v nor --debug used\n  * 2 (INFO+)    - applies if -v / --verbose\n  * 4 (DEBUG+)   - applies if --debug, dumps command results to file,\n    if --log-file is requested.\n  * 5 (DEBUG+)   - applies if --debug and -v. Like the latter mode, but\n    also dumps the executed commands results to console.\n\nThis is needed for better deployments troubleshootng.\n\nCloses-Bug: #1799182\n\nChange-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-23 16:44:43.000000000', 'files': ['paunch/builder/podman.py', 'paunch/cmd.py', 'paunch/utils/common.py', 'paunch/runner.py', 'paunch/builder/compose1.py', 'releasenotes/notes/logging-1517682a7b0037cf.yaml', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py', 'paunch/tests/test_paunch.py', 'paunch/__init__.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d3c83259bfe59ed6713c7b5f7bb34128f39aae24', 'message': 'Fix logging to stdout and file in classes/commands\n\nFix logging to console to depend on input CLI args. By default, keep\nlogging to stdout. Make --log-file argument working as well.\n\nUse the input verbosity parameters as a controlling switch for\nlogs verbosity.\n\nEvaluate log levels as:\n\n  * 1 (WARNING+) - the default log level if neither -v nor --debug used\n  * 2 (INFO+)    - applies if -v / --verbose\n  * 4 (DEBUG+)   - applies if --debug, dumps command results to file,\n    if --log-file is requested.\n  * 5 (DEBUG+)   - applies if --debug and -v. Like the latter mode, but\n    also dumps the executed commands results to console.\n\nThis is needed for better deployments troubleshootng.\n\nCloses-Bug: #1799182\n\nChange-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,612308,d3c83259bfe59ed6713c7b5f7bb34128f39aae24,21,8,5,6926,,,0,"Fix logging to stdout and file in classes/commands

Fix logging to console to depend on input CLI args. By default, keep
logging to stdout. Make --log-file argument working as well.

Use the input verbosity parameters as a controlling switch for
logs verbosity.

Evaluate log levels as:

  * 1 (WARNING+) - the default log level if neither -v nor --debug used
  * 2 (INFO+)    - applies if -v / --verbose
  * 4 (DEBUG+)   - applies if --debug, dumps command results to file,
    if --log-file is requested.
  * 5 (DEBUG+)   - applies if --debug and -v. Like the latter mode, but
    also dumps the executed commands results to console.

This is needed for better deployments troubleshootng.

Closes-Bug: #1799182

Change-Id: I653ac4cc520e40f3eb4d029e8c99ab482b17a859
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/08/612308/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/utils/logging.py', 'requirements.txt', 'paunch/cmd.py', 'paunch/runner.py', 'paunch/builder/compose1.py', 'paunch/builder/base.py', 'paunch/__init__.py', 'paunch/utils/systemd.py']",9,91cfed95a35afa829283010b8c414eecee09aa80,bug/1799182,from oslo_log import log as logging from paunch.utils import configure_logging configure_logging(LOG),import logging,76,12
openstack%2Ftripleo-quickstart-extras~master~I3374bdb52838572e267788e183b5f1eff9a14ec9,openstack/tripleo-quickstart-extras,master,I3374bdb52838572e267788e183b5f1eff9a14ec9,Set identity.region with tempestconf explicitly,MERGED,2018-10-22 06:06:56.000000000,2018-10-25 09:56:58.000000000,2018-10-25 09:56:58.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-22 06:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08885000046dc838db45a84a554237f8c247196d', 'message': ""WIP Set identity.region with tempestconf explicitly\n\nWhen running tempest set the identity.region explicitly as\nit's not picked from the rc file.\n\nDepends-On: https://review.openstack.org/606046/\nChange-Id: I3374bdb52838572e267788e183b5f1eff9a14ec9\n""}, {'number': 2, 'created': '2018-10-22 08:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7e5b1a14d4fea7cec8ece4760bf8ff26a6c7664b', 'message': ""WIP Set identity.region with tempestconf explicitly\n\nWhen running tempest set the identity.region explicitly as\nit's not picked from the rc file.\n\nDepends-On: https://review.openstack.org/606046/\nChange-Id: I3374bdb52838572e267788e183b5f1eff9a14ec9\n""}, {'number': 3, 'created': '2018-10-22 09:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/853bfe617fb052e7f384e7cc9a90c1e90e912321', 'message': ""WIP Set identity.region with tempestconf explicitly\n\nWhen running tempest set the identity.region explicitly as\nit's not picked from the rc file.\n\nDepends-On: https://review.openstack.org/606046/\nChange-Id: I3374bdb52838572e267788e183b5f1eff9a14ec9\n""}, {'number': 4, 'created': '2018-10-23 05:13:25.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2824be4d63eb7a8ed1e7902397dec6a730d78887', 'message': ""Set identity.region with tempestconf explicitly\n\nWhen running tempest set the identity.region explicitly as\nit's not picked from the rc file.\n\nChange-Id: I3374bdb52838572e267788e183b5f1eff9a14ec9\n""}]",1,612245,2824be4d63eb7a8ed1e7902397dec6a730d78887,32,11,4,8833,,,0,"Set identity.region with tempestconf explicitly

When running tempest set the identity.region explicitly as
it's not picked from the rc file.

Change-Id: I3374bdb52838572e267788e183b5f1eff9a14ec9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/45/612245/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,08885000046dc838db45a84a554237f8c247196d,tempest_standalone,region_name=${OS_REGION_NAME:-'regionOne'} identity.region $region_name,,2,0
openstack%2Ftripleo-quickstart-extras~master~I3627018769a599cf2ae7530c9c44a100aa44c3a3,openstack/tripleo-quickstart-extras,master,I3627018769a599cf2ae7530c9c44a100aa44c3a3,Update standalone environment file,MERGED,2018-09-26 20:23:19.000000000,2018-10-25 09:56:57.000000000,2018-10-25 09:56:57.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-26 20:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f0bde413657a6ae4a830d4e73180fb46f86f512', 'message': 'Update standalone environment file\n\nUpdate the standalone role to use the new sample-env-generator version\nof the standalone environment file.\n\nChange-Id: I3627018769a599cf2ae7530c9c44a100aa44c3a3\nDepends-On: https://review.openstack.org/#/c/605156/\n'}, {'number': 2, 'created': '2018-10-07 03:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68fa9774ceed7907ce186e4770717fecaecb49ee', 'message': 'Update standalone environment file\n\nUpdate the standalone role to use the new sample-env-generator version\nof the standalone environment file.\n\nChange-Id: I3627018769a599cf2ae7530c9c44a100aa44c3a3\nDepends-On: Ibc735ac4326a9217469e368c074de8b0df7689bd\n'}, {'number': 3, 'created': '2018-10-09 17:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2b55ffce6234b69323615c05a677999f108109b', 'message': 'Update standalone environment file\n\nUpdate the standalone role to use the new sample-env-generator version\nof the standalone environment file.\n\nChange-Id: I3627018769a599cf2ae7530c9c44a100aa44c3a3\nDepends-On: Ibc735ac4326a9217469e368c074de8b0df7689bd\n'}, {'number': 4, 'created': '2018-10-23 20:55:15.000000000', 'files': ['roles/standalone/templates/standalone.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cca95eed784d18211a59a07cc443b6cbf2a2475a', 'message': 'Update standalone environment file\n\nUpdate the standalone role to use the new sample-env-generator version\nof the standalone environment file.\n\nChange-Id: I3627018769a599cf2ae7530c9c44a100aa44c3a3\nDepends-On: https://review.openstack.org/#/c/612800/\n'}]",0,605523,cca95eed784d18211a59a07cc443b6cbf2a2475a,46,9,4,14985,,,0,"Update standalone environment file

Update the standalone role to use the new sample-env-generator version
of the standalone environment file.

Change-Id: I3627018769a599cf2ae7530c9c44a100aa44c3a3
Depends-On: https://review.openstack.org/#/c/612800/
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/605523/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone.sh.j2'],1,5f0bde413657a6ae4a830d4e73180fb46f86f512,all-in-one, -e {{ overcloud_templates_path }}/environments/standalone/standalone-tripleo.yaml \, -e {{ overcloud_templates_path }}/environments/standalone.yaml \,1,1
openstack%2Fnetworking-ovn~stable%2Frocky~Iea86c4fa2d7e00c45eb36db04b7769a7b0dbf435,openstack/networking-ovn,stable/rocky,Iea86c4fa2d7e00c45eb36db04b7769a7b0dbf435,Infrared plugin: Fix the permission issue with the start-ovn-migration script,MERGED,2018-10-19 15:17:32.000000000,2018-10-25 09:51:41.000000000,2018-10-25 09:51:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 15:17:32.000000000', 'files': ['migration/infrared/tripleo-ovn-migration/main.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3c3ae2b90de2807c02089d82bde7c41ac0639455', 'message': ""Infrared plugin: Fix the permission issue with the start-ovn-migration script\n\nThe mode param of the ansible module 'template' was not indented properly.\nThis patch fixes it.\n\nChange-Id: Iea86c4fa2d7e00c45eb36db04b7769a7b0dbf435\n(cherry picked from commit 4916206cb63f224ebc799c6492e5e15a615f9d14)\n""}]",0,611904,3c3ae2b90de2807c02089d82bde7c41ac0639455,23,7,1,8788,,,0,"Infrared plugin: Fix the permission issue with the start-ovn-migration script

The mode param of the ansible module 'template' was not indented properly.
This patch fixes it.

Change-Id: Iea86c4fa2d7e00c45eb36db04b7769a7b0dbf435
(cherry picked from commit 4916206cb63f224ebc799c6492e5e15a615f9d14)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/611904/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/infrared/tripleo-ovn-migration/main.yml'],1,3c3ae2b90de2807c02089d82bde7c41ac0639455,migration/infrared, mode: 0755, mode: 0744,1,1
openstack%2Ffreezer-api~master~I44356f36895a961808fa643b6fb45cbe9e49240e,openstack/freezer-api,master,I44356f36895a961808fa643b6fb45cbe9e49240e,Release the notes about Sqlalchemy driver for freezer-api,MERGED,2018-10-25 04:26:09.000000000,2018-10-25 09:49:42.000000000,2018-10-25 09:49:42.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 04:26:09.000000000', 'files': ['releasenotes/notes/add-mysql-support-for-freezer-api-e226f59425a2183c.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/d2e1c199d26d2eeb20dbd962befec78065a4a68b', 'message': 'Release the notes about Sqlalchemy driver for freezer-api\n\nChange-Id: I44356f36895a961808fa643b6fb45cbe9e49240e\n'}]",0,613191,d2e1c199d26d2eeb20dbd962befec78065a4a68b,7,3,1,22484,,,0,"Release the notes about Sqlalchemy driver for freezer-api

Change-Id: I44356f36895a961808fa643b6fb45cbe9e49240e
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/91/613191/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-mysql-support-for-freezer-api-e226f59425a2183c.yaml'],1,d2e1c199d26d2eeb20dbd962befec78065a4a68b,bug/gengchc,"--- features: - | Completely support sqlalchemy driver for freezer-api. The previous version only implemented part one. In this patch, sqlalchemy driver has been completely implemented for freezer-api. See links in detail: https://storyboard.openstack.org/#!/story/2004132 The configuration example is as follows: [database] connection = mysql+pymysql://root:stack@127.0.0.1/freezer?charset=utf8 [storage] backend = sqlalchemy driver = sqlalchemy ",,13,0
openstack%2Fkuryr-kubernetes~master~I712e088e21774d85033025996e31fda510c239a7,openstack/kuryr-kubernetes,master,I712e088e21774d85033025996e31fda510c239a7,Set the UDP services enabled flag at tempest.conf,MERGED,2018-10-23 14:24:39.000000000,2018-10-25 09:46:17.000000000,2018-10-25 09:46:17.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-23 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea267ec8228cf1d7b925058b71323ea255d23dc8', 'message': 'Set the UDP services enabled flag at tempest.conf\n\nAs services with protocol UDP are supported in Kuryr\nonly from Stein release.\nWe should set this flag (default=False) to run UDP services tests\nin tempest.\n\nChange-Id: I712e088e21774d85033025996e31fda510c239a7\n'}, {'number': 2, 'created': '2018-10-25 06:11:14.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7381d0b91ec53dc06405db6cb795b12b84f600d0', 'message': 'Set the UDP services enabled flag at tempest.conf\n\nAs services with protocol UDP are supported in Kuryr\nstarting from Stein release (and only for Octavia).\nWe should set this flag (default=False) to run UDP services tests\nin tempest.\n\nChange-Id: I712e088e21774d85033025996e31fda510c239a7\n'}]",0,612713,7381d0b91ec53dc06405db6cb795b12b84f600d0,11,6,2,21041,,,0,"Set the UDP services enabled flag at tempest.conf

As services with protocol UDP are supported in Kuryr
starting from Stein release (and only for Octavia).
We should set this flag (default=False) to run UDP services tests
in tempest.

Change-Id: I712e088e21774d85033025996e31fda510c239a7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/13/612713/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ea267ec8228cf1d7b925058b71323ea255d23dc8,add_udp_tempest_flag,"function update_tempest_conf_file { if [[ ""$KURYR_USE_PORT_POOLS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes port_pool_enabled True fi if [[ ""$KURYR_K8S_CONTAINERIZED_DEPLOYMENT"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes containerized True fi if [[ ""$KURYR_SUBNET_DRIVER"" == ""namespace"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes namespace_enabled True fi if [[ ""$KURYR_K8S_SERIAL_TESTS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes run_tests_serial True fi if [[ ""$KURYR_MULTI_VIF_DRIVER"" == ""npwg_multiple_interfaces"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes npwg_multi_vif_enabled True fi if [[ ""$KURYR_ENABLED_HANDLERS"" =~ .*policy.* ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes network_policy_enabled True fi if is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled True fi # NOTE(yboaron): Services with protocol UDP are supported in Kuryr # only from Stein release iniset $TEMPEST_CONFIG kuryr_kubernetes test_udp_services True } if is_service_enabled tempest; then update_tempest_conf_file"," if is_service_enabled tempest && [[ ""$KURYR_USE_PORT_POOLS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes port_pool_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_K8S_CONTAINERIZED_DEPLOYMENT"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes containerized True fi if is_service_enabled tempest && [[ ""$KURYR_SUBNET_DRIVER"" == ""namespace"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes namespace_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_K8S_SERIAL_TESTS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes run_tests_serial True fi if is_service_enabled tempest && [[ ""$KURYR_MULTI_VIF_DRIVER"" == ""npwg_multiple_interfaces"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes npwg_multi_vif_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_ENABLED_HANDLERS"" =~ .*policy.* ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes network_policy_enabled True fi if is_service_enabled tempest && is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled True",30,20
openstack%2Ftripleo-heat-templates~master~I4dde00e615be3a3c13fa8a21f8a5eb4ca9dbfbec,openstack/tripleo-heat-templates,master,I4dde00e615be3a3c13fa8a21f8a5eb4ca9dbfbec,Fix typo in standalone-tripleo environment,MERGED,2018-10-23 20:44:53.000000000,2018-10-25 09:33:29.000000000,2018-10-25 09:33:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-23 20:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e757120bdf19e521a0afdd9871e0ba0f22d5995b', 'message': 'Fix typo in standalone-tripleo environment\n\nChange-Id: I4dde00e615be3a3c13fa8a21f8a5eb4ca9dbfbec\n'}, {'number': 2, 'created': '2018-10-23 20:48:55.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62418388b2ba896859829d6f8a2888cbcca05a46', 'message': 'Fix typo in standalone-tripleo environment\n\nChange-Id: I4dde00e615be3a3c13fa8a21f8a5eb4ca9dbfbec\n'}]",0,612800,62418388b2ba896859829d6f8a2888cbcca05a46,10,7,2,12715,,,0,"Fix typo in standalone-tripleo environment

Change-Id: I4dde00e615be3a3c13fa8a21f8a5eb4ca9dbfbec
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/612800/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/standalone/standalone-tripleo.yaml'],1,e757120bdf19e521a0afdd9871e0ba0f22d5995b,oops, OS::TripleO::Services::SELinux: ../../puppet/services/selinux.yaml, OS::TripleO::Services::SELinux: ../puppet/services/selinux.yaml,1,1
openstack%2Fkuryr-kubernetes~master~Id082213bacb1265b72dfbfef1e1f780e9236849c,openstack/kuryr-kubernetes,master,Id082213bacb1265b72dfbfef1e1f780e9236849c,Refactor tempest opts setting in DevStack plugin,ABANDONED,2018-10-24 13:51:47.000000000,2018-10-25 09:30:00.000000000,,"[{'_account_id': 21041}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 13:51:47.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/531c4bff2dbe6d7d3ab52aac73eef7ccdcff3fb9', 'message': 'Refactor tempest opts setting in DevStack plugin\n\nChange-Id: Id082213bacb1265b72dfbfef1e1f780e9236849c\n'}]",0,613031,531c4bff2dbe6d7d3ab52aac73eef7ccdcff3fb9,4,2,1,11600,,,0,"Refactor tempest opts setting in DevStack plugin

Change-Id: Id082213bacb1265b72dfbfef1e1f780e9236849c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/613031/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,531c4bff2dbe6d7d3ab52aac73eef7ccdcff3fb9,refactor-tempest-options," if is_service_enabled tempest; then if [[ ""$KURYR_USE_PORT_POOLS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes port_pool_enabled True fi if [[ ""$KURYR_K8S_CONTAINERIZED_DEPLOYMENT"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes containerized True fi if [[ ""$KURYR_SUBNET_DRIVER"" == ""namespace"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes namespace_enabled True fi if [[ ""$KURYR_K8S_SERIAL_TESTS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes run_tests_serial True fi if [[ ""$KURYR_MULTI_VIF_DRIVER"" == ""npwg_multiple_interfaces"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes npwg_multi_vif_enabled True fi if [[ ""$KURYR_ENABLED_HANDLERS"" =~ .*policy.* ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes network_policy_enabled True fi if is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled True fi"," if is_service_enabled tempest && [[ ""$KURYR_USE_PORT_POOLS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes port_pool_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_K8S_CONTAINERIZED_DEPLOYMENT"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes containerized True fi if is_service_enabled tempest && [[ ""$KURYR_SUBNET_DRIVER"" == ""namespace"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes namespace_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_K8S_SERIAL_TESTS"" == ""True"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes run_tests_serial True fi if is_service_enabled tempest && [[ ""$KURYR_MULTI_VIF_DRIVER"" == ""npwg_multiple_interfaces"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes npwg_multi_vif_enabled True fi if is_service_enabled tempest && [[ ""$KURYR_ENABLED_HANDLERS"" =~ .*policy.* ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes network_policy_enabled True fi if is_service_enabled tempest && is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled True",22,20
openstack%2Ftripleo-quickstart~master~Id5bb8f0666a7e4ea021b03645f555bdda1709388,openstack/tripleo-quickstart,master,Id5bb8f0666a7e4ea021b03645f555bdda1709388,Adopt use of ansible_pkg_mgr variable,MERGED,2018-10-23 16:53:14.000000000,2018-10-25 09:20:25.000000000,2018-10-25 09:20:25.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-23 16:53:14.000000000', 'files': ['roles/convert-image/templates/convert_image.sh.j2', 'roles/libvirt/setup/undercloud/templates/update_image.sh.j2', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/libvirt/setup/undercloud/templates/inject_gating_repo.sh.j2', 'roles/repo-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/04463d10fd7711da1a1af18421ab40f372d145d9', 'message': 'Adopt use of ansible_pkg_mgr variable\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/153\nChange-Id: Id5bb8f0666a7e4ea021b03645f555bdda1709388\n'}]",0,612753,04463d10fd7711da1a1af18421ab40f372d145d9,10,6,1,24162,,,0,"Adopt use of ansible_pkg_mgr variable

Story: https://tree.taiga.io/project/tripleo-ci-board/task/153
Change-Id: Id5bb8f0666a7e4ea021b03645f555bdda1709388
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/612753/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/convert-image/templates/convert_image.sh.j2', 'roles/libvirt/setup/undercloud/templates/update_image.sh.j2', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/libvirt/setup/undercloud/templates/inject_gating_repo.sh.j2', 'roles/repo-setup/defaults/main.yml']",5,04463d10fd7711da1a1af18421ab40f372d145d9,standalone-f28," {% if ansible_pkg_mgr == ""yum"" %} sudo {{ ansible_pkg_mgr }} install -y yum-plugin-priorities; {% endif %} sudo {{ ansible_pkg_mgr }} clean all; sudo {{ ansible_pkg_mgr }} repolist; sudo {{ ansible_pkg_mgr }} update -y", sudo yum install -y yum-plugin-priorities; sudo yum clean all; sudo yum repolist; sudo yum update -y,25,14
openstack%2Ftripleo-common~stable%2Fpike~Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,openstack/tripleo-common,stable/pike,Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,Remove horizon ui plugins we don't support,MERGED,2018-10-18 16:04:55.000000000,2018-10-25 09:20:24.000000000,2018-10-25 09:20:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-18 16:04:55.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2088f612235d687c1d66fc74e16b5ab7cc8e4a02', 'message': ""Remove horizon ui plugins we don't support\n\nThe trove horizon plugin actually causes problems for horizon by default\nbut there's also a list of dashboards for services we don't officially\nsupport being deployed via TripleO. This change removes the cloudkitty,\nmurano and trove ui packages from the horizon container.\n\nChange-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900\nCloses-Bug: #1767520\n(cherry picked from commit 5f9e974564cad477b8de03de7e5eb80c1273f4c4)\n""}]",0,611670,2088f612235d687c1d66fc74e16b5ab7cc8e4a02,11,5,1,14985,,,0,"Remove horizon ui plugins we don't support

The trove horizon plugin actually causes problems for horizon by default
but there's also a list of dashboards for services we don't officially
support being deployed via TripleO. This change removes the cloudkitty,
murano and trove ui packages from the horizon container.

Change-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900
Closes-Bug: #1767520
(cherry picked from commit 5f9e974564cad477b8de03de7e5eb80c1273f4c4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/611670/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,2088f612235d687c1d66fc74e16b5ab7cc8e4a02,bug/1767520-stable/pike,"# Horizon dashboards we do not support # See LP#1767520 {% set horizon_packages_remove = [ 'openstack-cloudkitty-ui', 'openstack-murano-ui', 'openstack-trove-ui' ] %} ",,8,0
openstack%2Ftripleo-heat-templates~master~I8906145955ab6c444efdfa73beca073a62c26e26,openstack/tripleo-heat-templates,master,I8906145955ab6c444efdfa73beca073a62c26e26,Fix IHA with the new region_name key,MERGED,2018-10-18 09:19:57.000000000,2018-10-25 09:20:22.000000000,2018-10-25 09:20:22.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 17216}, {'_account_id': 17517}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 09:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e402b2123d292bb05858b1251352737321bdf47', 'message': 'WIP Fix IHA with the new region_name key\n\nChange-Id: I8906145955ab6c444efdfa73beca073a62c26e26\n'}, {'number': 2, 'created': '2018-10-18 16:49:29.000000000', 'files': ['extraconfig/tasks/instanceha/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9235e30c0819d1283a55029f73b4d40fbe6625fe', 'message': 'Fix IHA with the new region_name key\n\nia change f2e72352b1376ce719614e9cad4e4c71a3f9c3d8 we did the following\nin nova-base.yaml:\n- nova::placement::os_region_name: {get_param: KeystoneRegion}\n+ nova::placement::region_name: {get_param: KeystoneRegion}\n\nBut in the IHA script we looked for the os_region_name config key in the\nplacemenet ini section of nova.conf, which is now missing.\nWe need to adapt that script as well. Without this fix we\'ll error\nout like this:\nOct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]:   File ""/var/lib/nova/instanceha/check-run-nova-compute"", line 147, in create_nova_connection\nOct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]:     region_name=options[""os_region_name""][0],\nOct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]: KeyError: \'os_region_name\'\n\nCloses-Bug: #1798560\n\nChange-Id: I8906145955ab6c444efdfa73beca073a62c26e26\n'}]",0,611551,9235e30c0819d1283a55029f73b4d40fbe6625fe,31,7,2,20172,,,0,"Fix IHA with the new region_name key

ia change f2e72352b1376ce719614e9cad4e4c71a3f9c3d8 we did the following
in nova-base.yaml:
- nova::placement::os_region_name: {get_param: KeystoneRegion}
+ nova::placement::region_name: {get_param: KeystoneRegion}

But in the IHA script we looked for the os_region_name config key in the
placemenet ini section of nova.conf, which is now missing.
We need to adapt that script as well. Without this fix we'll error
out like this:
Oct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]:   File ""/var/lib/nova/instanceha/check-run-nova-compute"", line 147, in create_nova_connection
Oct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]:     region_name=options[""os_region_name""][0],
Oct 16 09:08:12 overcloud-novacomputeiha-0 dockerd-current[14673]: KeyError: 'os_region_name'

Closes-Bug: #1798560

Change-Id: I8906145955ab6c444efdfa73beca073a62c26e26
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/611551/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/instanceha/check-run-nova-compute'],1,4e402b2123d292bb05858b1251352737321bdf47,bug/1798560," if 'region_name' in options: region = options['region_name'][0] elif 'os_region_name' in options: region = options['os_region_name'][0] else: # We actually try to make a client call even with an empty region region = None region_name=region, region_name=region,"," region_name=options[""os_region_name""][0], region_name=options[""os_region_name""][0],",8,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~Icc04003a9e90b66720d968c6c8f1c687156b677e,openstack/tripleo-heat-templates,stable/rocky,Icc04003a9e90b66720d968c6c8f1c687156b677e,Recreate cinder LVM loopback device on startup,MERGED,2018-10-21 15:24:32.000000000,2018-10-25 09:20:20.000000000,2018-10-25 09:20:20.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-21 15:24:32.000000000', 'files': ['docker/services/cinder-volume.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/cinder-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ef1ade75347da10ec09005d7b74a23474acc861', 'message': ""Recreate cinder LVM loopback device on startup\n\nAdd a systemd service that creates the loopback device required by\ncinder's iSCSI backend on system startup.\n\nThis patch also consolidates the host_prep_tasks for the HA and non-HA\nversions of the cinder-volume service. The list of tasks is identical,\nand rather than repeating it in each template, the tasks are defined\nonce in cinder-common.yaml.\n\nNOTE: This backport does not set the 'setype' when creating cinder's\npersistent directories. Setting the 'setype' is required only in later\nreleases.\n\nCloses-Bug: #1581092\nChange-Id: Icc04003a9e90b66720d968c6c8f1c687156b677e\n(cherry picked from commit 2040d4f284b1507abb8fb4013ea5a162a9cf96e2)\n""}]",0,612185,5ef1ade75347da10ec09005d7b74a23474acc861,19,4,1,21129,,,0,"Recreate cinder LVM loopback device on startup

Add a systemd service that creates the loopback device required by
cinder's iSCSI backend on system startup.

This patch also consolidates the host_prep_tasks for the HA and non-HA
versions of the cinder-volume service. The list of tasks is identical,
and rather than repeating it in each template, the tasks are defined
once in cinder-common.yaml.

NOTE: This backport does not set the 'setype' when creating cinder's
persistent directories. Setting the 'setype' is required only in later
releases.

Closes-Bug: #1581092
Change-Id: Icc04003a9e90b66720d968c6c8f1c687156b677e
(cherry picked from commit 2040d4f284b1507abb8fb4013ea5a162a9cf96e2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/612185/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/cinder-volume.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/cinder-common.yaml']",3,5ef1ade75347da10ec09005d7b74a23474acc861,bug/1581092," CinderEnableIscsiBackend: default: true description: Whether to enable or not the Iscsi backend for Cinder type: boolean CinderLVMLoopDeviceSize: default: 10280 description: The size of the loopback file used by the cinder LVM driver. type: number cinder_volume_host_prep_tasks: description: Host prep tasks for the cinder-volume service (HA or non-HA) value: - name: create persistent directories file: path: ""{{ item }}"" state: directory with_items: - /var/log/containers/cinder - /var/lib/cinder - name: cinder logs readme copy: dest: /var/log/cinder/readme.txt content: | Log files from cinder containers can be found under /var/log/containers/cinder and /var/log/containers/httpd/cinder-api. ignore_errors: true - name: ensure ceph configurations exist file: path: /etc/ceph state: directory - name: cinder_enable_iscsi_backend fact set_fact: cinder_enable_iscsi_backend: {get_param: CinderEnableIscsiBackend} - when: cinder_enable_iscsi_backend block: - name: cinder create LVM volume group dd command: list_join: - '' - - 'dd if=/dev/zero of=/var/lib/cinder/cinder-volumes bs=1 count=0 seek=' - str_replace: template: VALUE params: VALUE: {get_param: CinderLVMLoopDeviceSize} - 'M' args: creates: /var/lib/cinder/cinder-volumes - name: cinder create LVM volume group shell: | if ! losetup /dev/loop2; then losetup /dev/loop2 /var/lib/cinder/cinder-volumes fi if ! pvdisplay | grep cinder-volumes; then pvcreate /dev/loop2 fi if ! vgdisplay | grep cinder-volumes; then vgcreate cinder-volumes /dev/loop2 fi args: executable: /bin/bash creates: /dev/loop2 - name: cinder create service to run losetup for LVM on startup copy: dest: /etc/systemd/system/cinder-lvm-losetup.service content: | [Unit] Description=Cinder LVM losetup After=syslog.target [Service] Type=oneshot ExecStart=/bin/bash -c '/sbin/losetup /dev/loop2 || /sbin/losetup /dev/loop2 /var/lib/cinder/cinder-volumes' ExecStop=/bin/bash -c '/sbin/losetup -d /dev/loop2' RemainAfterExit=yes [Install] WantedBy=multi-user.target - name: cinder enable the LVM losetup service systemd: name: cinder-lvm-losetup enabled: yes daemon_reload: yes ",,84,118
openstack%2Fqinling~master~I8092f67063f5925f25ebbbffd22a1454a6a31adb,openstack/qinling,master,I8092f67063f5925f25ebbbffd22a1454a6a31adb,use include_tasks instead of include,MERGED,2018-10-23 04:40:50.000000000,2018-10-25 09:15:07.000000000,2018-10-25 09:15:07.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 04:40:50.000000000', 'files': ['tools/gate/kubeadm/playbook/roles/docker/tasks/main.yml', 'tools/gate/kubeadm/playbook/roles/k8s_cli/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/qinling/commit/42c7fdadd56ee047a7a663ed3cee7b6eb3aa1813', 'message': 'use include_tasks instead of include\n\nChange-Id: I8092f67063f5925f25ebbbffd22a1454a6a31adb\n'}]",0,612589,42c7fdadd56ee047a7a663ed3cee7b6eb3aa1813,8,3,1,27781,,,0,"use include_tasks instead of include

Change-Id: I8092f67063f5925f25ebbbffd22a1454a6a31adb
",git fetch https://review.opendev.org/openstack/qinling refs/changes/89/612589/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/kubeadm/playbook/roles/docker/tasks/main.yml', 'tools/gate/kubeadm/playbook/roles/k8s_cli/tasks/main.yml']",2,42c7fdadd56ee047a7a663ed3cee7b6eb3aa1813,,- include_tasks: ubuntu.yml- include_tasks: centos.yml,- include: ubuntu.yml- include: centos.yml,4,4
openstack%2Ftripleo-heat-templates~master~I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740,openstack/tripleo-heat-templates,master,I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740,Add capabilities for Neutron/OVN agents,ABANDONED,2018-09-28 12:05:22.000000000,2018-10-25 09:13:18.000000000,,"[{'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-09-28 12:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd8ea95e8664b96be992f34c209a43763d425873', 'message': ""Use cap sysadmin for Neutron/OVN agents\n\nNeutron/OVN agents may be running unprivileged but granted\nCAP_SYS_ADMIN. That also allows to execute podman CLI from agents'\ncontainers to create wrappers for child containers w/o additional\nsockets required for that.\n\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-10-01 15:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cb5db91d417a19bc318e087ba6a9a646f85dca0', 'message': ""Use cap sysadmin for Neutron/OVN agents\n\nNeutron/OVN agents may be running unprivileged but granted\nCAP_SYS_ADMIN. That also allows to execute podman CLI from agents'\ncontainers to create wrappers for child containers w/o additional\nsockets required for that.\n\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-10-02 10:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2255e63d94dff27a0c88443e3ac971f9cce86750', 'message': 'Use cap sysadmin for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nCAP_SYS_ADMIN.\n\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-10-10 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a9ea26954a2089fdf82bf6c2428c48c15f707d2', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-11 09:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d63d27d192747f5caa3c4ba9a406a006e70146f', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nDepends-On: https://review.openstack.org/607139\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-10-11 09:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fbdde0e23145e9dfc9320aeb0bf8e5a587d019a', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nDepends-On: https://review.openstack.org/607139\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-10-15 11:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f37441907ac3f3fffe4785cf5c1c9ab676c3535', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nDepends-On: https://review.openstack.org/607139\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-10-17 15:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a0518593756f9fce039205f4aba302e50e75fce', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nDepends-On: https://review.openstack.org/607139\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-10-24 17:43:18.000000000', 'files': ['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34386e5ae4a608cd981c5fcf4a4990ca05a7d18e', 'message': 'Add capabilities for Neutron/OVN agents\n\nRun Neutron/OVN agents unprivileged but granted\nSYS_ADMIN and SYS_PTRACE, as nsenter requires.\n\nDepends-On: https://review.openstack.org/607139\nChange-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,606045,34386e5ae4a608cd981c5fcf4a4990ca05a7d18e,32,6,9,6926,,,0,"Add capabilities for Neutron/OVN agents

Run Neutron/OVN agents unprivileged but granted
SYS_ADMIN and SYS_PTRACE, as nsenter requires.

Depends-On: https://review.openstack.org/607139
Change-Id: I08d3f4f34dc3fd9b559b4bdee1a18673dc1d1740
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/606045/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml']",3,cd8ea95e8664b96be992f34c209a43763d425873,podman_rootwrap, cap_add: SYS_ADMIN, privileged: true,3,3
openstack%2Fpuppet-tripleo~master~I8655190de6c0af1c38134eae5afd3ff11601ce94,openstack/puppet-tripleo,master,I8655190de6c0af1c38134eae5afd3ff11601ce94,Run wrappers non-privileged byt SYSADMIN cap added,ABANDONED,2018-10-02 09:53:48.000000000,2018-10-25 09:12:27.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-02 09:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d235c1e6c52b53091d86ee58081514dad7ab8c11', 'message': 'Run wrappers as a non-root and SYSADMIN capability\n\nChange-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94\n'}, {'number': 2, 'created': '2018-10-11 09:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cfbbaca9406846b3e319e03f51d7660b8d91a6ac', 'message': 'Run wrappers as a non-root and SYSADMIN capability\n\nChange-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-16 07:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c60183c6a3c96402a89ff62c18dd0e0a4dcc5663', 'message': 'Run wrappers non-privileged byt SYSADMIN cap added\n\nChange-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-10-16 08:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d43a1a51667825a2062c9d42c68b2afd369ed164', 'message': 'Run wrappers non-privileged byt SYSADMIN cap added\n\nChange-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-18 15:43:51.000000000', 'files': ['templates/neutron/dnsmasq.epp', 'templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp', 'templates/neutron/neutron-keepalived-state-change.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4dfba81931a092d0aff696fc99d43ee2e2dd2a75', 'message': 'Run wrappers non-privileged byt SYSADMIN cap added\n\nChange-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,607139,4dfba81931a092d0aff696fc99d43ee2e2dd2a75,17,5,5,6926,,,0,"Run wrappers non-privileged byt SYSADMIN cap added

Change-Id: I8655190de6c0af1c38134eae5afd3ff11601ce94
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/607139/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/dnsmasq.epp', 'templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp', 'templates/neutron/neutron-keepalived-state-change.epp']",6,d235c1e6c52b53091d86ee58081514dad7ab8c11,podman_rootwrap, --cap-add=['SYS_ADMIN'] \, -u root \ --privileged \,6,12
openstack%2Fnetworking-ovn~master~Ifb0fcb93e2a22e80306452d0a563cda793d62a5f,openstack/networking-ovn,master,Ifb0fcb93e2a22e80306452d0a563cda793d62a5f,Functional: Agent-list tests should not match on exact conf version,ABANDONED,2018-10-22 10:24:19.000000000,2018-10-25 08:59:41.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-22 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7af8a4edd1074317f3986908cd31f98c16483ec3', 'message': 'Functional: Agent-list tests should not match on exact conf version\n\nThis patch is changing the test_metadata_agent_healthcheck to not match\non the exact version of the SB config in the external_ids of the Chassis\ntable.\n\nPrior to this patch the test did two things:\n\n1. It will make sure that the Chassis\' external_ids does not have the\n""OVN_AGENT_METADATA_SB_CFG_KEY"" to start with.\n\n2. Test create a new network and then makes sure that the\n""OVN_AGENT_METADATA_SB_CFG_KEY"" is now present with a value of 2.\n\nThis patch is changing the step 2. to only verify whether the\nOVN_AGENT_METADATA_SB_CFG_KEY is present or not and do not rely anymore\non matching the exact SB config version (in this case, 2) because that\'s\nnot relevant.\n\nRelated-Bug: #1719574\nChange-Id: Ifb0fcb93e2a22e80306452d0a563cda793d62a5f\n'}, {'number': 2, 'created': '2018-10-22 10:35:47.000000000', 'files': ['networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68bc3e05a30876711b74aab4fa644ba6efa4b8af', 'message': 'Functional: Agent-list tests should not match on exact conf version\n\nThis patch is changing the test_metadata_agent_healthcheck to not match\non the exact version of the SB config in the external_ids of the Chassis\ntable.\n\nPrior to this patch the test did two things:\n\n1. It will make sure that the Chassis\' external_ids does not have the\n""OVN_AGENT_METADATA_SB_CFG_KEY"" to start with.\n\n2. Test create a new network and then makes sure that the\n""OVN_AGENT_METADATA_SB_CFG_KEY"" is now present with a value of 2.\n\nThis patch is changing the step 2. to only verify whether the\nOVN_AGENT_METADATA_SB_CFG_KEY is present or not and do not rely anymore\non matching the exact SB config version (in this case, 2) because that\'s\nnot relevant.\n\nRelated-Bug: #1719574\nChange-Id: Ifb0fcb93e2a22e80306452d0a563cda793d62a5f\n'}]",6,612306,68bc3e05a30876711b74aab4fa644ba6efa4b8af,16,6,2,6773,,,0,"Functional: Agent-list tests should not match on exact conf version

This patch is changing the test_metadata_agent_healthcheck to not match
on the exact version of the SB config in the external_ids of the Chassis
table.

Prior to this patch the test did two things:

1. It will make sure that the Chassis' external_ids does not have the
""OVN_AGENT_METADATA_SB_CFG_KEY"" to start with.

2. Test create a new network and then makes sure that the
""OVN_AGENT_METADATA_SB_CFG_KEY"" is now present with a value of 2.

This patch is changing the step 2. to only verify whether the
OVN_AGENT_METADATA_SB_CFG_KEY is present or not and do not rely anymore
on matching the exact SB config version (in this case, 2) because that's
not relevant.

Related-Bug: #1719574
Change-Id: Ifb0fcb93e2a22e80306452d0a563cda793d62a5f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/612306/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_metadata_agent.py'],1,7af8a4edd1074317f3986908cd31f98c16483ec3,bug/1719574," ext_ids = chassis_row['external_ids'] self.assertIn(ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, ext_ids) self.assertIsInstance( ext_ids[ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY], int)"," self.assertEqual(int(chassis_row['external_ids'][ ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY]), 2)",4,2
openstack%2Fopenstack-ansible-os_keystone~master~Idc137a255437ae316d2f99f957df7d62bc693bac,openstack/openstack-ansible-os_keystone,master,Idc137a255437ae316d2f99f957df7d62bc693bac,Remove paste references in Keystone,MERGED,2018-10-24 13:48:52.000000000,2018-10-25 08:42:41.000000000,2018-10-25 08:42:41.000000000,"[{'_account_id': 6816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-24 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/15c6589f740edfa8cf15e50b5268c5a3be69fbf4', 'message': 'Remove paste references in Keystone\n\nKeystone paste file was recently removed, and the paste mechanism\nwas completely removed in the past [1].\n\nThis removes all references to it.\n\n[1]: https://github.com/openstack/keystone/commit/d04bb1e7e61a39404b27ecf5248a0b7982863043\n\nChange-Id: Idc137a255437ae316d2f99f957df7d62bc693bac\n'}, {'number': 2, 'created': '2018-10-24 19:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a611c2d2e3cd7b6f481c0f848d54ff85e4f2b148', 'message': 'Remove paste references in Keystone\n\nKeystone paste file was recently removed, and the paste mechanism\nwas completely removed in the past [1].\n\nThis removes all references to it.\n\n[1]: https://github.com/openstack/keystone/commit/d04bb1e7e61a39404b27ecf5248a0b7982863043\n\nChange-Id: Idc137a255437ae316d2f99f957df7d62bc693bac\n'}, {'number': 3, 'created': '2018-10-24 19:58:10.000000000', 'files': ['tasks/keystone_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/76d39a6c2b1dea8bb07f837b44556c56973adb18', 'message': 'Remove paste references in Keystone\n\nKeystone paste file was recently removed, and the paste mechanism\nwas completely removed in the past [1].\n\nThis removes all references to it.\n\n[1]: https://github.com/openstack/keystone/commit/d04bb1e7e61a39404b27ecf5248a0b7982863043\n\nChange-Id: Idc137a255437ae316d2f99f957df7d62bc693bac\n'}]",0,613030,76d39a6c2b1dea8bb07f837b44556c56973adb18,12,5,3,17068,,,0,"Remove paste references in Keystone

Keystone paste file was recently removed, and the paste mechanism
was completely removed in the past [1].

This removes all references to it.

[1]: https://github.com/openstack/keystone/commit/d04bb1e7e61a39404b27ecf5248a0b7982863043

Change-Id: Idc137a255437ae316d2f99f957df7d62bc693bac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/30/613030/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_post_install.yml', 'defaults/main.yml']",2,15c6589f740edfa8cf15e50b5268c5a3be69fbf4,remove_api_paste_references,,"keystone_paste_default_file_path: ""/etc/openstack_deploy/keystone/keystone-paste.ini""keystone_keystone_paste_ini_overrides: {}",1,8
openstack%2Frequirements~master~I343732fb048abef1e0ff274f75a37c6edcacfed7,openstack/requirements,master,I343732fb048abef1e0ff274f75a37c6edcacfed7,update constraint for python-watcherclient to new release 2.2.0,MERGED,2018-10-24 16:13:40.000000000,2018-10-25 08:39:40.000000000,2018-10-25 08:39:40.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:13:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d4adf44057f0d1b21feb040ccd2ad904bb8b3095', 'message': 'update constraint for python-watcherclient to new release 2.2.0\n\nChange-Id: I343732fb048abef1e0ff274f75a37c6edcacfed7\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I0f96699bf8cf2b2ad9a9580dfc3cd686180bc51b\nmeta:release:Code-Review+1: Alexander Chadin <aschadin@sbcloud.ru>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613101,d4adf44057f0d1b21feb040ccd2ad904bb8b3095,12,4,1,11131,,,0,"update constraint for python-watcherclient to new release 2.2.0

Change-Id: I343732fb048abef1e0ff274f75a37c6edcacfed7
meta:version: 2.2.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I0f96699bf8cf2b2ad9a9580dfc3cd686180bc51b
meta:release:Code-Review+1: Alexander Chadin <aschadin@sbcloud.ru>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/613101/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d4adf44057f0d1b21feb040ccd2ad904bb8b3095,new-release,python-watcherclient===2.2.0,python-watcherclient===2.1.0,1,1
openstack%2Ffreezer-api~master~Id9a182f7b699f8079cdf31ded8c2ca6e7d26078a,openstack/freezer-api,master,Id9a182f7b699f8079cdf31ded8c2ca6e7d26078a,Add jobs table for bp add-mysql-support-for-freezer,MERGED,2018-10-25 06:24:29.000000000,2018-10-25 08:28:15.000000000,2018-10-25 08:28:15.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 06:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cead0dc3ac93a8b30ee73df0701b7b45e85f19a1', 'message': 'Add jobs table for bp add-mysql-support-for-freezer\n\nAdd jobs table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Id9a182f7b699f8079cdf31ded8c2ca6e7d26078a\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-25 06:36:28.000000000', 'files': ['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/796c41ac7d57b3470c13f2a07feecc031d5175d3', 'message': 'Add jobs table for bp add-mysql-support-for-freezer\n\nAdd jobs table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Id9a182f7b699f8079cdf31ded8c2ca6e7d26078a\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613208,796c41ac7d57b3470c13f2a07feecc031d5175d3,7,2,2,22484,,,0,"Add jobs table for bp add-mysql-support-for-freezer

Add jobs table in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: Id9a182f7b699f8079cdf31ded8c2ca6e7d26078a
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/08/613208/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py']",2,cead0dc3ac93a8b30ee73df0701b7b45e85f19a1,bp/add-mysql-support-for-freezer,"class Job(BASE, FreezerBase): """"""Represents freezer job."""""" __tablename__ = 'jobs' id = Column(String(36), primary_key=True) project_id = Column(String(36), nullable=False) user_id = Column(String(36), nullable=False) schedule = Column(Text) client_id = Column(String(255), ForeignKey('clients.id'), nullable=False) session_id = Column(String(36), ForeignKey('sessions.id'), nullable=False) session_tag = Column(String(255)) description = Column(String(255)) job_actions = Column(Text) client = relationship(Client, backref='jobs', foreign_keys=client_id, primaryjoin='and_(' 'Job.client_id == Client.id,' 'Job.deleted == False)') session = relationship(Session, backref='jobs', foreign_keys=session_id, primaryjoin='and_(' 'Job.session_id == Session.id,' 'Job.deleted == False)') ActionReport) ActionReport)","class JobAttachment(BASE, FreezerBase): __tablename__ = 'job_attachments' id = Column(String(36), primary_key=True) client_id = Column(String(255), ForeignKey('clients.id'), nullable=False) job_id = Column(String(36), ForeignKey('jobs.id'), nullable=False) session_id = Column(String(36), ForeignKey('sessions.id'), nullable=False) project_id = Column(String(36), nullable=False) event = Column(String(255)) status = Column(String(255)) current_pid = Column(Integer) client = relationship(Client, backref='job_attachments', foreign_keys=client_id, primaryjoin='and_(' 'JobAttachment.client_id == Client.id,' 'JobAttachment.deleted == False)') job = relationship( Job, backref='job_attachments', foreign_keys=job_id, primaryjoin='and_(' 'JobAttachment.job_id == Job.id,' 'JobAttachment.deleted == False)') session = relationship(Session, backref='job_attachments', foreign_keys=session_id, primaryjoin='and_(' 'JobAttachment.session_id == Session.id,' 'JobAttachment.deleted == False)') ActionReport, JobAttachment) ActionReport, JobAttachment)",59,32
openstack%2Fqinling~master~I0fbacdd1b8ff97be33454fb3894b91c8ab633655,openstack/qinling,master,I0fbacdd1b8ff97be33454fb3894b91c8ab633655,[DNM] Add liveness check for the runtime container,ABANDONED,2018-10-24 02:50:14.000000000,2018-10-25 08:23:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-24 02:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/2021c915780496145586543cac554cf2b7f72ce4', 'message': ""Add liveness check for the runtime container\n\n              \\\\\\///\n             / _  _ \\\n           (| (.)(.) |)\n.--------.OOOo--()--oOOO.-------.\n|                               |\n| This is a test, DO NOT MERGE! |\n|                               |\n'-------.oooO-------------------'\n         (   )   Oooo.\n          \\ (    (   )\n           \\_)    ) /\n                 (_/\n\nChange-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655\n""}, {'number': 2, 'created': '2018-10-24 03:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/11df7e0050f1ec5352610cd2bb15ec0c9009d1d0', 'message': ""Add liveness check for the runtime container\n\n              \\\\\\///\n             / _  _ \\\n           (| (.)(.) |)\n.--------.OOOo--()--oOOO.-------.\n|                               |\n| This is a test, DO NOT MERGE! |\n|                               |\n'-------.oooO-------------------'\n         (   )   Oooo.\n          \\ (    (   )\n           \\_)    ) /\n                 (_/\n\nChange-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655\n""}, {'number': 3, 'created': '2018-10-24 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ac42c65710605d64d87f9ece5eed913dc1a444cd', 'message': ""[DNM] Add liveness check for the runtime container\n\n              \\\\\\///\n             / _  _ \\\n           (| (.)(.) |)\n.--------.OOOo--()--oOOO.-------.\n|                               |\n| This is a test, DO NOT MERGE! |\n|                               |\n'-------.oooO-------------------'\n         (   )   Oooo.\n          \\ (    (   )\n           \\_)    ) /\n                 (_/\n\nChange-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655\n""}, {'number': 4, 'created': '2018-10-24 22:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/a4b16b8b4fe0a8b3036d2e9a066bfebe1f12121f', 'message': ""[DNM] Add liveness check for the runtime container\n\n              \\\\\\///\n             / _  _ \\\n           (| (.)(.) |)\n.--------.OOOo--()--oOOO.-------.\n|                               |\n| This is a test, DO NOT MERGE! |\n|                               |\n'-------.oooO-------------------'\n         (   )   Oooo.\n          \\ (    (   )\n           \\_)    ) /\n                 (_/\n\nChange-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655\n""}, {'number': 5, 'created': '2018-10-25 02:34:36.000000000', 'files': ['qinling/engine/utils.py', 'qinling/orchestrator/kubernetes/manager.py', 'qinling/config.py', 'devstack/plugin.sh', 'qinling/tests/unit/orchestrator/kubernetes/test_manager.py', 'qinling/orchestrator/kubernetes/templates/deployment.j2', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/qinling/commit/97b0695572b6ca95f4524fa8c9eb5a8d46e9e21d', 'message': ""[DNM] Add liveness check for the runtime container\n\n              \\\\\\///\n             / _  _ \\\n           (| (.)(.) |)\n.--------.OOOo--()--oOOO.-------.\n|                               |\n| This is a test, DO NOT MERGE! |\n|                               |\n'-------.oooO-------------------'\n         (   )   Oooo.\n          \\ (    (   )\n           \\_)    ) /\n                 (_/\n\nChange-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655\n""}]",0,612871,97b0695572b6ca95f4524fa8c9eb5a8d46e9e21d,11,1,5,6732,,,0,"[DNM] Add liveness check for the runtime container

              \\\///
             / _  _ \
           (| (.)(.) |)
.--------.OOOo--()--oOOO.-------.
|                               |
| This is a test, DO NOT MERGE! |
|                               |
'-------.oooO-------------------'
         (   )   Oooo.
          \ (    (   )
           \_)    ) /
                 (_/

Change-Id: I0fbacdd1b8ff97be33454fb3894b91c8ab633655
",git fetch https://review.opendev.org/openstack/qinling refs/changes/71/612871/4 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/orchestrator/kubernetes/manager.py', 'qinling/config.py', 'devstack/plugin.sh', 'qinling/orchestrator/kubernetes/templates/deployment.j2', 'devstack/settings']",5,2021c915780496145586543cac554cf2b7f72ce4,add-healthz,QINLING_HEALTHZ_IMAGE=${QINLING_HEALTHZ_IMAGE:-k8s.gcr.io/exechealthz:1.2},,30,6
openstack%2Ffreezer-api~master~I1fc0669e67af7f468037e13e2bd8111c4ed26fb3,openstack/freezer-api,master,I1fc0669e67af7f468037e13e2bd8111c4ed26fb3,Add session api for bp add-mysql-support-for-freezer,MERGED,2018-10-25 06:01:39.000000000,2018-10-25 08:17:34.000000000,2018-10-25 08:17:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-25 06:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8ed31cfb1c7fa7fd126659d34fda9f591ba81432', 'message': 'Add session api for bp add-mysql-support-for-freezer\n\nAdd session api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I1fc0669e67af7f468037e13e2bd8111c4ed26fb3\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-25 06:24:29.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6064f9f154e11cb01946322a955e1003f9bf4ece', 'message': 'Add session api for bp add-mysql-support-for-freezer\n\nAdd session api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I1fc0669e67af7f468037e13e2bd8111c4ed26fb3\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613203,6064f9f154e11cb01946322a955e1003f9bf4ece,7,2,2,21387,,,0,"Add session api for bp add-mysql-support-for-freezer

Add session api in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: I1fc0669e67af7f468037e13e2bd8111c4ed26fb3
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/03/613203/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,8ed31cfb1c7fa7fd126659d34fda9f591ba81432,bp/add-mysql-support-for-freezer," def get_session(project_id, user_id, session_id): jobt = {} session = get_db_session() with session.begin(): try: query = model_query(session, models.Session, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=session_id) result = query.all() except Exception as e: raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() values = {} if 1 == len(result): values['project_id'] = result[0].get('project_id') values['session_id'] = result[0].get('id') values['user_id'] = result[0].get('user_id') values['description'] = result[0].get('description') values['session_tag'] = result[0].get('session_tag') values['result'] = result[0].get('result') values['hold_off'] = result[0].get('hold_off') values['status'] = result[0].get('status') values['time_ended'] = result[0].get('time_ended') values['time_started'] = result[0].get('time_started') values['time_end'] = result[0].get('time_end') values['time_start'] = result[0].get('time_start') values['schedule'] = json_utils.json_decode(result[0]. get('schedule')) jobt = result[0].get('job') if jobt is not None: values['jobs'] = json_utils.json_decode(result[0].get('job')) return values def delete_session(project_id, user_id, session_id): session = get_db_session() query = model_query(session, models.Session, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=session_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Session delete, session_id: {0} deleted'. format(session_id)) else: LOG.info('Session delete, session_id: {0} not found'. format(session_id)) session.close() return session_id def add_session(project_id, user_id, doc): session_doc = utils.SessionDoc.create(doc=doc, user_id=user_id, project_id=project_id) session_id = session_doc['session_id'] schedulingjson = session_doc.get('schedule') existing = get_session(project_id=project_id, user_id=user_id, session_id=session_id) if existing: raise freezer_api_exc.DocumentExists( message='Session already registered with ID' ' {0}'.format(session_id)) sessiont = models.Session() sessionvalue = {} sessionvalue['project_id'] = project_id sessionvalue['id'] = session_id sessionvalue['user_id'] = user_id sessionvalue['description'] = session_doc.get('description', None) sessionvalue['hold_off'] = session_doc.get('hold_off', 30) sessionvalue['session_tag'] = session_doc.get('session_tag', 0) sessionvalue['status'] = session_doc.get('status') sessionvalue['time_ended'] = session_doc.get('time_ended', -1) sessionvalue['time_started'] = session_doc.get('time_started', -1) sessionvalue['time_end'] = session_doc.get('time_end', -1) sessionvalue['time_start'] = session_doc.get('time_start', -1) sessionvalue['result'] = session_doc.get('result', None) # The field scheduling is json sessionvalue['schedule'] = json_utils.json_encode(schedulingjson) sessiont.update(sessionvalue) session = get_db_session() with session.begin(): try: sessiont.save(session=session) except Exception as e: session.close() raise freezer_api_exc.\ StorageEngineError(message='mysql operation failed {0}'. format(e)) LOG.info('Session registered, session_id: {0}'.format(session_id)) session.close() return session_id def update_session(user_id, session_id, patch_doc, project_id): valid_patch = utils.SessionDoc.create_patch(patch_doc) sessiont = get_session(project_id=project_id, user_id=user_id, session_id=session_id) if not sessiont: raise freezer_api_exc.DocumentNotFound( message='Session not register with ID' ' {0}'.format(session_id)) values = {} for key in valid_patch.keys(): if key == 'jobs': jobintable = sessiont.get('jobs', None) jobinpatch = valid_patch.get('jobs', None) if jobintable: jobintable.update(jobinpatch) jobinpatch.update(jobintable) values['job'] = json_utils.json_encode(valid_patch.get(key, None)) elif key == 'schedule': values[key] = json_utils.json_encode(valid_patch.get(key, None)) else: values[key] = valid_patch.get(key, None) session = get_db_session() with session.begin(): try: query = model_query(session, models.Session, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=session_id) result = query.update(values) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if not result: raise freezer_api_exc.DocumentNotFound( message='session not registered with ID' ' {0}'.format(session_id)) else: LOG.info('session updated, session_id: {0}'.format(session_id)) return 0 def replace_session(user_id, session_id, doc, project_id): valid_doc = utils.SessionDoc.update(doc, user_id, session_id, project_id) values = {} valuesnew = {} bCreate = False values['id'] = session_id values['project_id'] = project_id values['user_id'] = user_id values['schedule'] = json_utils.\ json_encode(valid_doc.get('schedule', None)) values['job'] = json_utils.json_encode(valid_doc.get('jobs', None)) values['session_tag'] = valid_doc.get('session_tag', None) values['description'] = valid_doc.get('description', None) values['status'] = valid_doc.get('status') values['time_ended'] = valid_doc.get('time_ended', None) values['time_started'] = valid_doc.get('time_started', None) values['time_end'] = valid_doc.get('time_end', None) values['time_start'] = valid_doc.get('time_start', None) values['result'] = valid_doc.get('result', None) values['hold_off'] = valid_doc.get('hold_off', None) for key in values: if values[key] is not None: valuesnew[key] = values[key] session = get_db_session() with session.begin(): try: query = model_query(session, models.Session, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=session_id) result = query.update(valuesnew) if not result: bCreate = True except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if bCreate: sessiont = models.Session() sessiont.update(valuesnew) session = get_db_session() with session.begin(): try: sessiont.save(session=session) except Exception as e: session.close() raise freezer_api_exc.\ StorageEngineError(message='mysql operation failed {0}'. format(e)) session.close() LOG.info('session replaced, session_id: {0}'.format(session_id)) return session_id def search_session(project_id, user_id, offset=0, limit=10, search=None): search = search or {} sessions = [] jobt = {} session = get_db_session() query = model_query(session, models.Session, project_id=project_id) query = query.filter_by(user_id=user_id) result = query.all() for sessiont in result: sessionmap = {} sessionmap['project_id'] = project_id sessionmap['user_id'] = user_id sessionmap['session_id'] = sessiont.get('id') sessionmap['description'] = sessiont.get('description') sessionmap['session_tag'] = sessiont.get('session_tag') sessionmap['result'] = sessiont.get('result') sessionmap['hold_off'] = sessiont.get('hold_off') sessionmap['status'] = sessiont.get('status') sessionmap['time_ended'] = sessiont.get('time_ended') sessionmap['time_end'] = sessiont.get('time_end') sessionmap['time_started'] = sessiont.get('time_started') sessionmap['time_start'] = sessiont.get('time_start') sessionmap['schedule'] = json_utils.\ json_decode(sessiont.get('schedule')) jobt = sessiont.get('job') if jobt is not None: sessionmap['jobs'] = json_utils.json_decode(sessiont.get('job')) sessions.append(sessionmap) session.close() return sessions",,252,0
openstack%2Ffreezer-api~master~I178556a0d9f26e0b0dc0c64f02e8fd73a82ea432,openstack/freezer-api,master,I178556a0d9f26e0b0dc0c64f02e8fd73a82ea432,Add session table for bp add-mysql-support-for-freezer,MERGED,2018-10-25 05:54:06.000000000,2018-10-25 08:12:14.000000000,2018-10-25 08:12:14.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-25 05:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8cc9f7c3046709c6df398ba57b1e1af010164cc4', 'message': 'Add session table for bp add-mysql-support-for-freezer\n\nAdd session table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I178556a0d9f26e0b0dc0c64f02e8fd73a82ea432\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-25 06:24:29.000000000', 'files': ['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/83d199694c2b32746fe594c656cea153d8f62272', 'message': 'Add session table for bp add-mysql-support-for-freezer\n\nAdd session table in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I178556a0d9f26e0b0dc0c64f02e8fd73a82ea432\nImplements: bp add-mysql-support-for-freezer\n'}]",0,613201,83d199694c2b32746fe594c656cea153d8f62272,7,2,2,21387,,,0,"Add session table for bp add-mysql-support-for-freezer

Add session table in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: I178556a0d9f26e0b0dc0c64f02e8fd73a82ea432
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/01/613201/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py']",2,8cc9f7c3046709c6df398ba57b1e1af010164cc4,bp/add-mysql-support-for-freezer," session_tag = Column(String(255), default=0) description = Column(String(255)) hold_off = Column(Integer, default=30) schedule = Column(Text) job = Column(Text) user_id = Column(String(36), nullable=False) time_start = Column(Integer, default=-1) time_end = Column(Integer, default=-1) time_started = Column(Integer, default=-1) time_ended = Column(Integer, default=-1) status = Column(String(255)) result = Column(String(255))", scheduling = Column(Text) policy = Column(String(255)),38,3
openstack%2Fopenstack-helm-infra~master~If1bdd954956f063ac1eebbb94d1128df8b8d2695,openstack/openstack-helm-infra,master,If1bdd954956f063ac1eebbb94d1128df8b8d2695,Nagios: Remove Nagios log monitors,MERGED,2018-10-23 21:13:18.000000000,2018-10-25 07:56:27.000000000,2018-10-25 07:56:27.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 21:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c407b87808bcd0e4486b19cf40f0d7e970ce565', 'message': 'Nagios: Remove Nagios log monitors\n\nThis removes the checks for Nagios to query Elasticsearch for\nlogged events. The current plugin in the image is resulting in\nunstable behavior, and should be removed until this plugins been\nimproved\n\nChange-Id: If1bdd954956f063ac1eebbb94d1128df8b8d2695\n'}, {'number': 2, 'created': '2018-10-25 05:21:22.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d6cfd72d0923dcd1c604bc88fb0c4ed960cea54', 'message': 'Nagios: Remove Nagios log monitors\n\nThis removes the checks for Nagios to query Elasticsearch for\nlogged events. The current plugin in the image is resulting in\nunstable behavior, and should be removed until this plugins been\nimproved\n\nChange-Id: If1bdd954956f063ac1eebbb94d1128df8b8d2695\n'}]",0,612804,8d6cfd72d0923dcd1c604bc88fb0c4ed960cea54,12,3,2,17591,,,0,"Nagios: Remove Nagios log monitors

This removes the checks for Nagios to query Elasticsearch for
logged events. The current plugin in the image is resulting in
unstable behavior, and should be removed until this plugins been
improved

Change-Id: If1bdd954956f063ac1eebbb94d1128df8b8d2695
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/612804/2 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,5c407b87808bcd0e4486b19cf40f0d7e970ce565,nagios/remove_logmonitors,," - check_logmon_glance: use: generic-service service_description: Logmon_glance-error check_command: check_es_alert!glance!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_keystone: use: generic-service service_description: Logmon_keystone-error check_command: check_es_alert!keystone!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_nova: use: generic-service service_description: Logmon_nova-error check_command: check_es_alert!nova!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_neutron: use: generic-service service_description: Logmon_neutron-error check_command: check_es_alert!neutron!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_cinder: use: generic-service service_description: Logmon_cinder-error check_command: check_es_alert!cinder!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_heat: use: generic-service service_description: Logmon_heat-error check_command: check_es_alert!heat!15!CRITICAL,ERROR!10!oslo_openstack_fluentd hostgroup_name: prometheus-hosts - check_logmon_horizon: use: generic-service service_description: Logmon_horizon-error check_command: check_es_alert!horizon!15!CRITICAL,ERROR!10!docker_fluentd hostgroup_name: prometheus-hosts",0,35
openstack%2Fneutron~master~I9d129f0e90a072ec980aadabb2c6b812c08e1618,openstack/neutron,master,I9d129f0e90a072ec980aadabb2c6b812c08e1618,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-22 21:02:52.000000000,2018-10-25 07:56:17.000000000,2018-10-25 03:38:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-22 21:02:52.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2', 'message': '[Functional] Increase test_timeout for db migration tests\n\nPatch [1] increased timeouts for test_walk_version functional tests\nfor MySQL backend to 300 seconds to avoid failures due to timeouts.\n\nUnfortunately it looks that on nodes from some cloud providers used\nin the gate and with number of migration scripts which we have in\nNeutron those tests can take sometimes even around 400 seconds.\n\nSo lets increase this to 600 seconds to avoid such failures of\nfunctional tests job.\n\n[1] https://review.openstack.org/#/c/610003/\n\nChange-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618\nCloses-Bug: #1687027\n'}]",2,612505,c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2,34,8,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

Patch [1] increased timeouts for test_walk_version functional tests
for MySQL backend to 300 seconds to avoid failures due to timeouts.

Unfortunately it looks that on nodes from some cloud providers used
in the gate and with number of migration scripts which we have in
Neutron those tests can take sometimes even around 400 seconds.

So lets increase this to 600 seconds to avoid such failures of
functional tests job.

[1] https://review.openstack.org/#/c/610003/

Change-Id: I9d129f0e90a072ec980aadabb2c6b812c08e1618
Closes-Bug: #1687027
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/612505/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,c39afbd5fcdfff2ad5e7f6963768da9f3d8027d2,bug/1687027, @test_base.set_timeout(600), @test_base.set_timeout(300),1,1
openstack%2Fnova~master~I739c06bd02336bf720cddacb21f48e7857378487,openstack/nova,master,I739c06bd02336bf720cddacb21f48e7857378487,conductor: Recreate volume attachments during a reschedule,MERGED,2018-07-30 14:04:00.000000000,2018-10-25 07:52:28.000000000,2018-10-23 03:10:47.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 14:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1116aef0873c95ba3a37192ea18224d97d520a2', 'message': ""WIP compute: Recreate attachments during a reschedule\n\nWIP as I'm not sure that this is the best place for this logic, maybe\nthis needs to be over in the conductor or higher in the compute API?\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n""}, {'number': 2, 'created': '2018-07-31 10:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b51fa583ae1ec231141326e3886cca078ca41a97', 'message': ""WIP compute: Recreate attachments during a reschedule\n\nWIP as I'm not sure that this is the best place for this logic, maybe\nthis needs to be over in the conductor or higher in the compute API?\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n""}, {'number': 3, 'created': '2018-07-31 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5338638f633b1a1bcf9dae9fc8185cf4806f0bec', 'message': ""WIP compute: Recreate attachments during a reschedule\n\nWIP as I'm not sure that this is the best place for this logic, maybe\nthis needs to be over in the conductor or higher in the compute API?\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n""}, {'number': 4, 'created': '2018-08-03 16:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/375c18ff0491c83cc540c7d7e10bcd41a979347f', 'message': 'compute: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder . As a result we should check and if necessary\nrecreate these volume attachments when spawning an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 5, 'created': '2018-08-06 10:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2351f57b8314b68978edfd4bf3d62da784c548bf', 'message': 'compute: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder . As a result we should check and if necessary\nrecreate these volume attachments when spawning an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 6, 'created': '2018-08-06 10:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a1a81f20be0fa3e660bed9fe524f308ceead8e', 'message': 'compute: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 7, 'created': '2018-08-06 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bdf12029ccb8a60151e19fb9bdfdd63f4f302a0', 'message': 'compute: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 8, 'created': '2018-08-06 14:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bc5c436e84ea4dfffb3b487f9978e8850fc7d30', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 9, 'created': '2018-08-07 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ca8f8c9e2e32477336644b393b53d902677baaf', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 10, 'created': '2018-08-09 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ce6dd5f01b688d77e7a3b2ea0b9f533bf69b0c1', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 11, 'created': '2018-09-21 10:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c89efe83f430d13eb3ebf6fc7fc699b0c940032b', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 12, 'created': '2018-09-24 18:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3184ea9fbbfc6b7ca6e8ffc0dfb82845aa6873ec', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 13, 'created': '2018-10-17 16:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb251f6ac82b9261c15763c479108dd31c093a45', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 14, 'created': '2018-10-22 16:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b6ee119949c3a83a929a1a0a3f295fc9cccc8a4', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn cleanup code\nwithin the compute manager will delete the volume attachments referenced\nby the bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}, {'number': 15, 'created': '2018-10-22 19:35:44.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/regressions/test_bug_1784353.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41452a5c6adb8cae54eef24803f4adc468131b34', 'message': 'conductor: Recreate volume attachments during a reschedule\n\nWhen an instance with attached volumes fails to spawn, cleanup code\nwithin the compute manager (_shutdown_instance called from\n_build_resources) will delete the volume attachments referenced by\nthe bdms in Cinder. As a result we should check and if necessary\nrecreate these volume attachments when rescheduling an instance.\n\nNote that there are a few different ways to fix this bug by\nmaking changes to the compute manager code, either by not deleting\nthe volume attachment on failure before rescheduling [1] or by\nperforming the get/create check during each build after the\nreschedule [2].\n\nThe problem with *not* cleaning up the attachments is if we don\'t\nreschedule, then we\'ve left orphaned ""reserved"" volumes in Cinder\n(or we have to add special logic to tell compute when to cleanup\nattachments).\n\nThe problem with checking the existence of the attachment on every\nnew host we build on is that we\'d be needlessly checking that for\ninitial creates even if we don\'t ever need to reschedule, unless\nagain we have special logic against that (like checking to see if\nwe\'ve rescheduled at all).\n\nAlso, in either case that involves changes to the compute means that\nolder computes might not have the fix.\n\nSo ultimately it seems that the best way to handle this is:\n\n1. Only deal with this on reschedules.\n2. Let the cell conductor orchestrate it since it\'s already dealing\n   with the reschedule. Then the compute logic doesn\'t need to change.\n\n[1] https://review.openstack.org/#/c/587071/3/nova/compute/manager.py@1631\n[2] https://review.openstack.org/#/c/587071/4/nova/compute/manager.py@1667\n\nChange-Id: I739c06bd02336bf720cddacb21f48e7857378487\nCloses-bug: #1784353\n'}]",53,587071,41452a5c6adb8cae54eef24803f4adc468131b34,201,21,15,10135,,,0,"conductor: Recreate volume attachments during a reschedule

When an instance with attached volumes fails to spawn, cleanup code
within the compute manager (_shutdown_instance called from
_build_resources) will delete the volume attachments referenced by
the bdms in Cinder. As a result we should check and if necessary
recreate these volume attachments when rescheduling an instance.

Note that there are a few different ways to fix this bug by
making changes to the compute manager code, either by not deleting
the volume attachment on failure before rescheduling [1] or by
performing the get/create check during each build after the
reschedule [2].

The problem with *not* cleaning up the attachments is if we don't
reschedule, then we've left orphaned ""reserved"" volumes in Cinder
(or we have to add special logic to tell compute when to cleanup
attachments).

The problem with checking the existence of the attachment on every
new host we build on is that we'd be needlessly checking that for
initial creates even if we don't ever need to reschedule, unless
again we have special logic against that (like checking to see if
we've rescheduled at all).

Also, in either case that involves changes to the compute means that
older computes might not have the fix.

So ultimately it seems that the best way to handle this is:

1. Only deal with this on reschedules.
2. Let the cell conductor orchestrate it since it's already dealing
   with the reschedule. Then the compute logic doesn't need to change.

[1] https://review.openstack.org/#/c/587071/3/nova/compute/manager.py@1631
[2] https://review.openstack.org/#/c/587071/4/nova/compute/manager.py@1667

Change-Id: I739c06bd02336bf720cddacb21f48e7857378487
Closes-bug: #1784353
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/587071/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/compute/manager.py']",3,f1116aef0873c95ba3a37192ea18224d97d520a2,bug/1784353," def _validate_existing_attachment_ids(self, context, instance, bdms): """"""Ensure any attachment ids referenced by the bdms exist"""""" for bdm in bdms: if bdm.is_volume and bdm.attachment_id: try: self.volume_api.attachment_get(context, bdm.attachment_id) except exception.VolumeAttachmentNotFound: # VolumeAttachmentNotFound suggests that the attachment was # deleted, possibily as the result of a failure to spawn # the instance on another compute host. # TODO(lyarwood): Should we check the compute version? attachment = self.volume_api.attachment_create(context, bdm.volume_id, instance.uuid) bdm.attachment_id = attachment['id'] bdm.save() self._validate_existing_attachment_ids(context, instance, bdms)",,64,11
openstack%2Fcinder~stable%2Frocky~Ibe180949205ef6985dc5c19904c127cbca361d53,openstack/cinder,stable/rocky,Ibe180949205ef6985dc5c19904c127cbca361d53,Allow using forward slashes in metadata,MERGED,2018-10-19 15:39:58.000000000,2018-10-25 07:42:35.000000000,2018-10-22 16:21:04.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-19 15:39:58.000000000', 'files': ['cinder/tests/functional/test_volumes.py', 'cinder/api/validation/parameter_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d59b432dddae09216c028f9a91f99e7e8a7715bf', 'message': 'Allow using forward slashes in metadata\n\nThe recent changes introduced in Rocky disallowed the use of forward\nslashes inside metadata which has caused software that relies on\nmetadata and uses those forward slashes stop functioning, a notable\nexample would be the Kubernetes cloud provider.\n\nThis patch allows the usage of a forward slash in the metadata as\nwell as extra specs, it is relatively harmless, unbreaks downstream\nusers and we already accept a range of symbols in there anyways.\n\nChange-Id: Ibe180949205ef6985dc5c19904c127cbca361d53\nCloses-Bug: #1798798\n(cherry picked from commit 534fa38f4cb364cb6584c273be8ae2580fabe627)\n'}]",0,611910,d59b432dddae09216c028f9a91f99e7e8a7715bf,32,21,1,1004,,,0,"Allow using forward slashes in metadata

The recent changes introduced in Rocky disallowed the use of forward
slashes inside metadata which has caused software that relies on
metadata and uses those forward slashes stop functioning, a notable
example would be the Kubernetes cloud provider.

This patch allows the usage of a forward slash in the metadata as
well as extra specs, it is relatively harmless, unbreaks downstream
users and we already accept a range of symbols in there anyways.

Change-Id: Ibe180949205ef6985dc5c19904c127cbca361d53
Closes-Bug: #1798798
(cherry picked from commit 534fa38f4cb364cb6584c273be8ae2580fabe627)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/611910/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/test_volumes.py', 'cinder/api/validation/parameter_types.py']",2,d59b432dddae09216c028f9a91f99e7e8a7715bf,bug/1798798," '^[a-zA-Z0-9-_:. /]{1,255}$': { '^[a-zA-Z0-9-_:. /]{1,255}$']['type'] = ['string', 'null']"," '^[a-zA-Z0-9-_:. ]{1,255}$': { '^[a-zA-Z0-9-_:. ]{1,255}$']['type'] = ['string', 'null']",4,3
openstack%2Fopenstack-ansible-ops~master~Ie880e10d4915c06d86084b60cbb8d994d5d9965d,openstack/openstack-ansible-ops,master,Ie880e10d4915c06d86084b60cbb8d994d5d9965d,Parameterize ansible version in embedded runtime,MERGED,2018-10-24 18:18:19.000000000,2018-10-25 07:36:11.000000000,2018-10-25 07:36:11.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 18:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8bd85f433965e1d7c1ca6af4782c6c7d60c6e9c4', 'message': 'Parameterize ansible version in embedded runtime\n\nChange-Id: Ie880e10d4915c06d86084b60cbb8d994d5d9965d\n'}, {'number': 2, 'created': '2018-10-24 18:19:35.000000000', 'files': ['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'bootstrap-embedded-ansible/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/27aeb36389bac9c63ed34f0ed54e99aed02918b6', 'message': 'Parameterize ansible version in embedded runtime\n\nChange-Id: Ie880e10d4915c06d86084b60cbb8d994d5d9965d\n'}]",0,613133,27aeb36389bac9c63ed34f0ed54e99aed02918b6,8,3,2,12906,,,0,"Parameterize ansible version in embedded runtime

Change-Id: Ie880e10d4915c06d86084b60cbb8d994d5d9965d
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/33/613133/1 && git format-patch -1 --stdout FETCH_HEAD,"['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'bootstrap-embedded-ansible/README.rst']",2,8bd85f433965e1d7c1ca6af4782c6c7d60c6e9c4,,`${HOME}/ansible${ANSIBLE_VERSION}` if it does not already exist.,`${HOME}/ansible25` if it does not already exist.,4,3
openstack%2Fopenstack-ansible-os_congress~master~Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8,openstack/openstack-ansible-os_congress,master,Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8,Switch to using project-templates,ABANDONED,2018-07-31 17:12:23.000000000,2018-10-25 07:35:58.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-07-31 17:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/8661c9b91f13a10450e7815dfb9336cd758f698b', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead\n\nChange-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8\n'}, {'number': 2, 'created': '2018-08-06 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/1a566b9a2796af214bac367fe0ecd2ebd2f65b8a', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead\n\nDepends-On: https://review.openstack.org/588962\nChange-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8\n'}, {'number': 3, 'created': '2018-08-06 16:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/0d0fb9f2f01745a343264c80cdbdd72815d9ca98', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead\n\nChange-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8\n'}, {'number': 4, 'created': '2018-08-06 20:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/723fd4d014e50c285470b0c9d595e837122f14c7', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead\n\nChange-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8\n'}, {'number': 5, 'created': '2018-08-07 09:57:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/55dfe9ec1496f3cfa8f4356c5429ec5f20fea441', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead\n\nChange-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8\n'}]",4,587532,55dfe9ec1496f3cfa8f4356c5429ec5f20fea441,18,4,5,25023,,,0,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead

Change-Id: Ic7a90271477f17b6c0e1b7d8dd1f50ac596d20b8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/32/587532/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8661c9b91f13a10450e7815dfb9336cd758f698b,bionic-check, templates: - openstack-ansible-role-jobs, name: openstack/openstack-ansible-os_congress check: jobs: - openstack-ansible-linters - openstack-ansible-functional-ubuntu-xenial gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-ubuntu-xenial,2,9
openstack%2Fopenstack-ansible~master~I00389494c73b94c5d0f62815ecaaf52506a3d05c,openstack/openstack-ansible,master,I00389494c73b94c5d0f62815ecaaf52506a3d05c,[DNM] debug slow apt installs,ABANDONED,2018-10-06 19:40:14.000000000,2018-10-25 07:33:28.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-06 19:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29621a301c8cdfaf55df5ed87c86b0b1f44f51b8', 'message': '[DNM] debug slow apt installs\n\nInstall strace on the deploy host and container cache. Use a patched\nansible which straces network activity during package installs.\n\nChange-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c\n'}, {'number': 2, 'created': '2018-10-06 20:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/02eaaccc2623ba54b79bbc92542d73c9855fe4fe', 'message': '[DNM] debug slow apt installs\n\nInstall strace on the deploy host and container cache. Use a patched\nansible which straces network activity during package installs.\n\nChange-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c\n'}, {'number': 3, 'created': '2018-10-07 08:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f5227f1b480249562db439d404295492d5bc5022', 'message': '[DNM] debug slow apt installs\n\nInstall strace on the deploy host and container cache. Use a patched\nansible which straces network activity during package installs.\n\nEnable debug logging for apt-cacher-ng\n\nChange-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c\n'}, {'number': 4, 'created': '2018-10-07 09:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/366885952ffec97c38e5f79393ea76e8ba75ccb5', 'message': '[DNM] debug slow apt installs\n\nInstall strace on the deploy host and container cache. Use a patched\nansible which straces network activity during package installs.\n\nEnable debug logging for apt-cacher-ng\n\nChange-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c\n'}, {'number': 5, 'created': '2018-10-07 09:44:41.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'playbooks/repo-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/106b208f523843401fd10bd69745024e81aa75f4', 'message': '[DNM] debug slow apt installs\n\nInstall strace on the deploy host and container cache. Use a patched\nansible which straces network activity during package installs.\n\nEnable debug logging for apt-cacher-ng\n\nChange-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c\n'}]",0,608423,106b208f523843401fd10bd69745024e81aa75f4,12,2,5,25023,,,0,"[DNM] debug slow apt installs

Install strace on the deploy host and container cache. Use a patched
ansible which straces network activity during package installs.

Enable debug logging for apt-cacher-ng

Change-Id: I00389494c73b94c5d0f62815ecaaf52506a3d05c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/608423/5 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,29621a301c8cdfaf55df5ed87c86b0b1f44f51b8,apt-debug,lxc_hosts_extra_distro_packages: - strace ,,5,2
openstack%2Fopenstack-ansible~master~I4298a90d09877a7c9b563b2b050958f7d60157eb,openstack/openstack-ansible,master,I4298a90d09877a7c9b563b2b050958f7d60157eb,[DNM] bypass haproxy for apt-cacher-ng,ABANDONED,2018-10-07 17:44:48.000000000,2018-10-25 07:33:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-07 17:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2871c7ceda1cd1858e09cc772dc1bcda8c509322', 'message': 'bypass haproxy for apt-cacher-ng\n\nChange-Id: I4298a90d09877a7c9b563b2b050958f7d60157eb\n'}, {'number': 2, 'created': '2018-10-07 20:13:58.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/178626119700b08512926d1a02352de6c3ee7169', 'message': '[DNM] bypass haproxy for apt-cacher-ng\n\nChange-Id: I4298a90d09877a7c9b563b2b050958f7d60157eb\n'}]",0,608459,178626119700b08512926d1a02352de6c3ee7169,5,1,2,25023,,,0,"[DNM] bypass haproxy for apt-cacher-ng

Change-Id: I4298a90d09877a7c9b563b2b050958f7d60157eb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/608459/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,2871c7ceda1cd1858e09cc772dc1bcda8c509322,apt-no-haproxy,"repo_pkg_cache_url: ""http://{{ hostvars[groups['repo_all'][0]]['ansible_host'] }}:{{ repo_pkg_cache_port }}""","repo_pkg_cache_url: ""http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port }}""",1,1
openstack%2Frequirements~master~I88e7113774e6274816710bb836a9e7edb3c2ded0,openstack/requirements,master,I88e7113774e6274816710bb836a9e7edb3c2ded0,update constraint for python-senlinclient to new release 1.9.0,MERGED,2018-10-24 18:46:25.000000000,2018-10-25 07:28:28.000000000,2018-10-25 07:28:28.000000000,"[{'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 18:46:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/02a5dff51d6710de53c74fca32a1ff76be852deb', 'message': 'update constraint for python-senlinclient to new release 1.9.0\n\nChange-Id: I88e7113774e6274816710bb836a9e7edb3c2ded0\nmeta:version: 1.9.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I53d284d4b234bd638e4f5f930c12662ecac7ac13\nmeta:release:Code-Review+1: Duc Truong <dtruong@blizzard.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613139,02a5dff51d6710de53c74fca32a1ff76be852deb,8,4,1,11131,,,0,"update constraint for python-senlinclient to new release 1.9.0

Change-Id: I88e7113774e6274816710bb836a9e7edb3c2ded0
meta:version: 1.9.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I53d284d4b234bd638e4f5f930c12662ecac7ac13
meta:release:Code-Review+1: Duc Truong <dtruong@blizzard.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/613139/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,02a5dff51d6710de53c74fca32a1ff76be852deb,new-release,python-senlinclient===1.9.0,python-senlinclient===1.8.0,1,1
openstack%2Ffreezer~master~I0d7f3125520aa27ba1d2d94ff52e3cc0eea4916c,openstack/freezer,master,I0d7f3125520aa27ba1d2d94ff52e3cc0eea4916c,lvm backup: calculate path_to_backup after volume is mounted,MERGED,2018-10-22 10:11:25.000000000,2018-10-25 07:28:16.000000000,2018-10-25 07:28:16.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 25562}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-22 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/06bd63bfa2f697665c8ba242fa2071b1c9ac0dd3', 'message': 'lvm backup: calculate path_to_backup after volume is mounted\n\nFor the time being, the path_to_backup for backup with lvm snapshot\nis not taken directly from --path-to-backup parameter, but adjusted\naccording the mount info of the corresponding volume hinted by that\nparameter. However this info is inferred before the volume is actually\nmounted so it tends to be inaccuate and leads to errors.\n\nSo do the calculation after volume mounting instead.\n\nChange-Id: I0d7f3125520aa27ba1d2d94ff52e3cc0eea4916c\nCloses-Bug: #1799183\n'}, {'number': 2, 'created': '2018-10-23 11:44:59.000000000', 'files': ['freezer/snapshot/lvm.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/1bfbfc3a7a0e84aa2a0f7afffe2985f132f5d341', 'message': 'lvm backup: calculate path_to_backup after volume is mounted\n\nFor the time being, the path_to_backup for backup with lvm snapshot\nis not taken directly from --path-to-backup parameter, but adjusted\naccording the mount info of the corresponding volume hinted by that\nparameter. However this info is inferred before the volume is actually\nmounted so it tends to be inaccuate and leads to errors.\n\nSo do the calculation after volume mounting instead.\n\nChange-Id: I0d7f3125520aa27ba1d2d94ff52e3cc0eea4916c\nCloses-Bug: #1799183\nStory: 2004152\nTask: 27623\n'}]",0,612300,1bfbfc3a7a0e84aa2a0f7afffe2985f132f5d341,14,6,2,25562,,,0,"lvm backup: calculate path_to_backup after volume is mounted

For the time being, the path_to_backup for backup with lvm snapshot
is not taken directly from --path-to-backup parameter, but adjusted
according the mount info of the corresponding volume hinted by that
parameter. However this info is inferred before the volume is actually
mounted so it tends to be inaccuate and leads to errors.

So do the calculation after volume mounting instead.

Change-Id: I0d7f3125520aa27ba1d2d94ff52e3cc0eea4916c
Closes-Bug: #1799183
Story: 2004152
Task: 27623
",git fetch https://review.opendev.org/openstack/freezer refs/changes/00/612300/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/snapshot/lvm.py'],1,06bd63bfa2f697665c8ba242fa2071b1c9ac0dd3,bug/1799183," # After snapshot is mounted, adjust path_to_backup according the mount # point and relative path of the snapshot volume. lvm_info = get_lvm_info(backup_opt_dict.path_to_backup) backup_opt_dict.path_to_backup = os.path.join(backup_opt_dict.lvm_dirmount, lvm_info['snap_path']) "," backup_opt_dict.path_to_backup = os.path.join(backup_opt_dict.lvm_dirmount, lvm_info['snap_path']) ",6,3
openstack%2Frequirements~master~Ic7ccf1fd59143f15adfc90c675792bd39feb7242,openstack/requirements,master,Ic7ccf1fd59143f15adfc90c675792bd39feb7242,update constraint for python-qinlingclient to new release 2.1.0,MERGED,2018-10-24 23:01:55.000000000,2018-10-25 07:24:17.000000000,2018-10-25 07:24:17.000000000,"[{'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 23:01:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/583eb4dbbc8fda1253bf4254afd5ba4658f2111b', 'message': 'update constraint for python-qinlingclient to new release 2.1.0\n\nChange-Id: Ic7ccf1fd59143f15adfc90c675792bd39feb7242\nmeta:version: 2.1.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I0816c7237e18709e82c33b5bbf92e0f71d404a3e\nmeta:release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613170,583eb4dbbc8fda1253bf4254afd5ba4658f2111b,8,4,1,11131,,,0,"update constraint for python-qinlingclient to new release 2.1.0

Change-Id: Ic7ccf1fd59143f15adfc90c675792bd39feb7242
meta:version: 2.1.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I0816c7237e18709e82c33b5bbf92e0f71d404a3e
meta:release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/613170/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,583eb4dbbc8fda1253bf4254afd5ba4658f2111b,new-release,python-qinlingclient===2.1.0,python-qinlingclient===2.0.0,1,1
openstack%2Fheat-tempest-plugin~master~I3a994cf9edfb32ea72090810228a6dac87bfc0f9,openstack/heat-tempest-plugin,master,I3a994cf9edfb32ea72090810228a6dac87bfc0f9,Add requires_service_type test decorator,MERGED,2018-10-17 11:24:41.000000000,2018-10-25 07:23:15.000000000,2018-10-25 07:23:15.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 11:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/5e128c58118337609bfec6b785f8d77d843d6287', 'message': 'Add requires_service_type test decorator\n\nAdds the decorator for tests requiring zaqar.\n\nChange-Id: I3a994cf9edfb32ea72090810228a6dac87bfc0f9\nStory: #2004107\nTask: 27516\n'}, {'number': 2, 'created': '2018-10-17 13:20:35.000000000', 'files': ['heat_tempest_plugin/tests/functional/test_event_sinks.py', 'heat_tempest_plugin/common/test.py', 'heat_tempest_plugin/tests/functional/test_waitcondition.py', 'heat_tempest_plugin/tests/functional/test_software_config.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/d6b253502af379cce420723fd5ab997bbf6487b5', 'message': 'Add requires_service_type test decorator\n\nAdds the decorator for tests requiring zaqar.\n\nChange-Id: I3a994cf9edfb32ea72090810228a6dac87bfc0f9\nStory: #2004107\nTask: 27516\n'}]",2,611295,d6b253502af379cce420723fd5ab997bbf6487b5,18,3,2,8833,,,0,"Add requires_service_type test decorator

Adds the decorator for tests requiring zaqar.

Change-Id: I3a994cf9edfb32ea72090810228a6dac87bfc0f9
Story: #2004107
Task: 27516
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/95/611295/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/functional/test_event_sinks.py', 'heat_tempest_plugin/common/test.py', 'heat_tempest_plugin/tests/functional/test_waitcondition.py', 'heat_tempest_plugin/tests/functional/test_software_config.py']",4,5e128c58118337609bfec6b785f8d77d843d6287,story/2004107,@test.requires_service_type('messaging'),,26,9
openstack%2Fproject-config~master~Ie39e4f63273fd18dca097a14d5c87d0fc58b2c09,openstack/project-config,master,Ie39e4f63273fd18dca097a14d5c87d0fc58b2c09,Normalize projects.yaml,MERGED,2018-10-25 06:13:06.000000000,2018-10-25 07:15:07.000000000,2018-10-25 07:15:07.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 06:13:06.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f739a00d3acb35558fd77a645ef1651300ff4c9', 'message': 'Normalize projects.yaml\n\nChange-Id: Ie39e4f63273fd18dca097a14d5c87d0fc58b2c09\n'}]",0,613206,1f739a00d3acb35558fd77a645ef1651300ff4c9,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ie39e4f63273fd18dca097a14d5c87d0fc58b2c09
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/613206/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,1f739a00d3acb35558fd77a645ef1651300ff4c9,project-yaml-normalization,, upstream: https://github.com/dprince/puppet-crane.git,0,1
openstack%2Ffreezer~master~Iaa8c8ff523b1d29a1addeaa3d802053d63aba80a,openstack/freezer,master,Iaa8c8ff523b1d29a1addeaa3d802053d63aba80a,lvm-backup: Normalize path when comparing current path and mount point,MERGED,2018-10-23 02:52:33.000000000,2018-10-25 07:13:57.000000000,2018-10-25 07:13:57.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-23 02:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b3b0ce1b0a1271de9e5d7fa307d1eb54aac8c368', 'message': 'Normalize path when comparing current path and mount point\n\nBefore umounting and removing lvm volume, we need to make sure we are\nnot within the mount point that is to be removed.\nPrevious logic lacks consideration that path can have parts like\ntrailing slashes, which could end up skipping changing dir when it is\nneeded.\nThis patch proposes to normalize the path before doing the check to\navoid such mistakes.\n\nCloses-Bug: #1799334\n\nChange-Id: Iaa8c8ff523b1d29a1addeaa3d802053d63aba80a\n'}, {'number': 2, 'created': '2018-10-23 11:51:17.000000000', 'files': ['freezer/snapshot/lvm.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/98ea424f3976635a856371b1e8986208fc1f8a78', 'message': 'lvm-backup: Normalize path when comparing current path and mount point\n\nBefore umounting and removing lvm volume, we need to make sure we are\nnot within the mount point that is to be removed.\nPrevious logic lacks consideration that path can have parts like\ntrailing slashes, which could end up skipping changing dir when it is\nneeded.\nThis patch proposes to normalize the path before doing the check to\navoid such mistakes.\n\nCloses-Bug: #1799334\nStory: 2004153\nTask: 27625\nChange-Id: Iaa8c8ff523b1d29a1addeaa3d802053d63aba80a\n'}]",0,612552,98ea424f3976635a856371b1e8986208fc1f8a78,12,5,2,25562,,,0,"lvm-backup: Normalize path when comparing current path and mount point

Before umounting and removing lvm volume, we need to make sure we are
not within the mount point that is to be removed.
Previous logic lacks consideration that path can have parts like
trailing slashes, which could end up skipping changing dir when it is
needed.
This patch proposes to normalize the path before doing the check to
avoid such mistakes.

Closes-Bug: #1799334
Story: 2004153
Task: 27625
Change-Id: Iaa8c8ff523b1d29a1addeaa3d802053d63aba80a
",git fetch https://review.opendev.org/openstack/freezer refs/changes/52/612552/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/snapshot/lvm.py'],1,b3b0ce1b0a1271de9e5d7fa307d1eb54aac8c368,bug/1799334, # Change dir if we are within the mount point to be removed. if os.getcwd().startswith(os.path.normpath(path)):, if os.getcwd().startswith(path):,2,1
openstack%2Fneutron~master~I3bedb7c22312884cc28aa78aa0f8fbe418f97090,openstack/neutron,master,I3bedb7c22312884cc28aa78aa0f8fbe418f97090,Make port binding attempt after agent is revived,MERGED,2018-09-28 13:48:04.000000000,2018-10-25 07:11:15.000000000,2018-10-23 01:37:23.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27566}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-09-28 13:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca70f949d24b4b4ee5f1f6627788d9574b3eb562', 'message': 'Make port binding attempt after agent is revived\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 2, 'created': '2018-10-01 17:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1030c5d5ad56fadbcf57c1c1edfda47d84482e5', 'message': 'Make port binding attempt after agent is revived\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 3, 'created': '2018-10-03 07:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96c69dbbe9970472f42dc9cebdcbaadf43b76869', 'message': 'Make port binding attempt after agent is revived\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 4, 'created': '2018-10-04 15:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d68549255ba15387129d441cfa87fe853e64d530', 'message': 'Make port binding attempt after agent is revived\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 5, 'created': '2018-10-10 12:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12d39045edb2947ff43470f0c482402a90ff454a', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 6, 'created': '2018-10-10 14:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2013b5962874170d55b5b3dad485ea5415c3430', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 7, 'created': '2018-10-11 11:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da3d9afd648f0e2c15ddf7cfea312a929fe461e2', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 8, 'created': '2018-10-12 08:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b81416e5e3c88f4d9b783d1e30e13a5c7705847', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 9, 'created': '2018-10-12 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b3d3f7dee58bca3b1982c80259f29fc8da83042', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 10, 'created': '2018-10-12 16:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40cbc96c2fb0188717bc2f16085c27594d5118be', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 11, 'created': '2018-10-15 10:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40e18d292df39997212d3d74b2979c273b1c7050', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 12, 'created': '2018-10-16 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fc1f9ce61c1f12b4ff2125872cce889d6b1f089', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 13, 'created': '2018-10-16 20:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77c9a37e2b92f97d31ca61b403c2044e3c75ddb8', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 14, 'created': '2018-10-18 08:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f34a0a31a271965f81923a5ed4f1b8c0b19785c', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 15, 'created': '2018-10-18 15:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e1472fac2440d7e784cba75d70726ca6988de29', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}, {'number': 16, 'created': '2018-10-22 16:43:57.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/test_ports_rebind.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f787f12aa3441ecffef55f261c4d87dbb12ca6cf', 'message': 'Make port binding attempt after agent is revived\n\nIn some cases it may happen that port is ""binding_failed""\nbecause L2 agent running on destination host was down but\nthis is ""temporary"" issue.\nIt is like that for example in case when using L3 HA and when\nmaster and backup network nodes were e.g. rebooted.\nL3 agent might start running before L2 agent on host in such case\nand if it\'s new master node, router ports will have ""binding_failed""\nstate.\n\nWhen agent sends heartbeat and is getting back to live,\nML2 plugin will try to bind all ports with ""binding_failed""\nfrom this host.\n\nChange-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090\nCloses-Bug: #1794809\n'}]",37,606085,f787f12aa3441ecffef55f261c4d87dbb12ca6cf,153,19,16,11975,,,0,"Make port binding attempt after agent is revived

In some cases it may happen that port is ""binding_failed""
because L2 agent running on destination host was down but
this is ""temporary"" issue.
It is like that for example in case when using L3 HA and when
master and backup network nodes were e.g. rebooted.
L3 agent might start running before L2 agent on host in such case
and if it's new master node, router ports will have ""binding_failed""
state.

When agent sends heartbeat and is getting back to live,
ML2 plugin will try to bind all ports with ""binding_failed""
from this host.

Change-Id: I3bedb7c22312884cc28aa78aa0f8fbe418f97090
Closes-Bug: #1794809
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/606085/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py']",4,ca70f949d24b4b4ee5f1f6627788d9574b3eb562,bug/1794809,"from neutron_lib.agent import constants as agent_consts registry.subscribe(self._retry_binding_revived_agents, resources.AGENT, events.AFTER_UPDATE) def _retry_binding_revived_agents(self, resource, event, trigger, **kwargs): context = kwargs['context'] host = kwargs['host'] agent = kwargs.get('agent', {}) agent_status = agent.get('agent_status') agent_revived = (event == events.AFTER_UPDATE and agent_status == agent_consts.AGENT_REVIVED) agent_new = (event == events.AFTER_CREATE and agent_status == agent_consts.AGENT_NEW) if not agent_revived and not agent_new: return ports = ports_obj.Port.get_ports_by_binding_type_and_host( context, portbindings.VIF_TYPE_BINDING_FAILED, host) for port in ports: port_dict = self._make_port_dict(port.db_obj) network = self.get_network(context, port.network_id) binding = self._get_binding_for_host(port.bindings, host) if not binding: LOG.debug('No bindings found for port %(port_id)s ' 'on host %(host)s', {'port_id': port.id, 'host': host}) continue levels = db.get_binding_level_objs(context, port.id, binding.host) mech_context = driver_context.PortContext(self, context, port_dict, network, binding.db_obj, levels) self._bind_port_if_needed(mech_context) ",,122,0
openstack%2Fnova~master~I46511b5f3e3c850ba61add41e8ca053897618be6,openstack/nova,master,I46511b5f3e3c850ba61add41e8ca053897618be6,Add regression test for bug#1784353,MERGED,2018-07-30 11:48:40.000000000,2018-10-25 07:09:06.000000000,2018-10-22 22:53:36.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ff6dbe3881cdac1ad3cf93ebe5e51fc835ca053', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 2, 'created': '2018-07-30 11:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40c24f3f4791a217497e5b3efd82fd8aba8b1cfe', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 3, 'created': '2018-07-31 10:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/488aff3329a4d08ffcc41c75c37e1fd1752e3cdb', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 4, 'created': '2018-07-31 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4cb6bf7fabef6c62454fd128d95a7c98686277c', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 5, 'created': '2018-08-03 16:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d16841eff8438e8366708ecfd1ae4f87480e112c', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 6, 'created': '2018-08-06 10:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3c4dcc34539e9b72834209b2b25765e55fcdbbc', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 7, 'created': '2018-08-06 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aedd6210d9d1fbccde6dd91c6e5a9a14baac4c22', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 8, 'created': '2018-08-07 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11681cb4a306f49a72c2964fcce6834c42a314cb', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 9, 'created': '2018-08-09 08:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56967db431c2a3187265468e7c1197cdb48bcbbb', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 10, 'created': '2018-08-09 14:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e767e22fd81d897192f45356ab9c9bce475b71b', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 11, 'created': '2018-08-09 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baf31b3cf5ebc9af355b1f1ab007d046302c5d5c', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 12, 'created': '2018-09-21 10:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c52554e88e0f1f39f0a2d07b2308ae4d921514', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 13, 'created': '2018-09-24 18:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4b3a409ab156568ca99523afa398a2e5c9a40c4', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 14, 'created': '2018-10-17 16:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef5cfff30b782c5b52797c7b01018fa3549d756', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}, {'number': 15, 'created': '2018-10-22 16:21:18.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1784353.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a8629e5800ed95c0e6bac04ca711e835606370bf', 'message': 'Add regression test for bug#1784353\n\nRelated-Bug: #1784353\nChange-Id: I46511b5f3e3c850ba61add41e8ca053897618be6\n'}]",10,587014,a8629e5800ed95c0e6bac04ca711e835606370bf,108,13,15,10135,,,0,"Add regression test for bug#1784353

Related-Bug: #1784353
Change-Id: I46511b5f3e3c850ba61add41e8ca053897618be6
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/587014/15 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1784353.py'],1,5ff6dbe3881cdac1ad3cf93ebe5e51fc835ca053,bug/1784353,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake from nova.tests.unit import policy_fixture from nova.virt import fake class TestRescheduleWithVolumesAttached( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Assert that volume backed instances cannot be rescheduled at present. This regression test asserts that volume backed instances fail to start when rescheduled due to their volume attachments being deleted by cleanup code within the compute layer after an initial failure to spawn. """""" def setUp(self): super(TestRescheduleWithVolumesAttached, self).setUp() # Use the new attach flow fixture for cinder self.cinder = self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) fake_network.set_stub_network_methods(self) self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = '2.14' nova.tests.unit.image.fake.stub_out_image_service(self) self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) self.start_service('conductor') self.start_service('scheduler') # Start two computes to allow the instance to be rescheduled fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.host1 = self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.host2 = self.start_service('compute', host='host2') self.image_id = self.api.get_images()[0]['id'] self.flavor_id = self.api.get_flavors()[0]['id'] self.addCleanup(fake_notifier.reset) def test_reschedule_with_volume_attached(self): # Mock out spawn to always first with the first attempt with mock.patch('nova.virt.fake.FakeDriver.spawn') as (mock_spawn): mock_spawn.side_effect = [ Exception('Force reschedule'), None ] # Boot a volume backed instance volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server_request = { 'name': 'server', 'flavorRef': self.flavor_id, 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': volume_id, 'source_type': 'volume', 'destination_type': 'volume'}], } server_response = self.api.post_server({'server': server_request}) # FIXME(lyarwood): Assert that the instance ends up in an ERROR # state with no attachments present in the fixture. The instance # should obviously be ACTIVE with a single attachment listed. server = self._wait_for_state_change(self.api, server_response, 'ERROR') self.assertFalse(self.cinder.attachments) ",,95,0
openstack%2Fpuppet-oslo~master~Ie151e1857e6e951c676986c6b2778db0d0a52819,openstack/puppet-oslo,master,Ie151e1857e6e951c676986c6b2778db0d0a52819,Remove deprecated rabbit options,MERGED,2018-10-21 16:23:04.000000000,2018-10-25 07:06:59.000000000,2018-10-25 07:06:59.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-21 16:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/32635c964f5eaea08023c7999f98cc12ade84b77', 'message': 'Remove deprecated rabbit options\n\nRemove the deprecated options rabbit_host, rabbit_port, rabbit_hosts,\nrabbit_userid, rabbit_password and rabbit_virtual_host [1].\n\nAll modules should support this change already or I have open patches\nthat fixes it.\n\nAdded a proper prelude notification that the functionality that\nchanged rabbit_ha_queues to true automatically if rabbit_hosts was\nused is now removed so it has to be set explicitly.\n\n[1] https://review.openstack.org/#/c/599912/\n\nChange-Id: Ie151e1857e6e951c676986c6b2778db0d0a52819\n'}, {'number': 2, 'created': '2018-10-21 18:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/24e82e9b69385061375c21ee8d3fb6ec3108906d', 'message': 'Remove deprecated rabbit options\n\nRemove the deprecated options rabbit_host, rabbit_port, rabbit_hosts,\nrabbit_userid, rabbit_password and rabbit_virtual_host [1].\n\nAll modules should support this change already or I have open patches\nthat fixes it.\n\nAdded a proper prelude notification that the functionality that\nchanged rabbit_ha_queues to true automatically if rabbit_hosts was\nused is now removed so it has to be set explicitly.\n\n[1] https://review.openstack.org/#/c/599912/\n\nChange-Id: Ie151e1857e6e951c676986c6b2778db0d0a52819\n'}, {'number': 3, 'created': '2018-10-21 18:09:01.000000000', 'files': ['spec/defines/oslo_messaging_rabbit_spec.rb', 'releasenotes/notes/remove-deprecated-rabbit-options-212b21d41e6d2808.yaml', 'manifests/messaging/rabbit.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/ae6a6b479dfe39fbeaf0989ccbd025e8496c1d38', 'message': 'Remove deprecated rabbit options\n\nRemove the deprecated options rabbit_host, rabbit_port, rabbit_hosts,\nrabbit_userid, rabbit_password and rabbit_virtual_host [1].\n\nAll modules should support this change already or I have open patches\nthat fixes it.\n\nAdded a proper prelude notification that the functionality that\nchanged rabbit_ha_queues to true automatically if rabbit_hosts was\nused is now removed so it has to be set explicitly.\n\n[1] https://review.openstack.org/#/c/599912/\n\nDepends-On: https://review.openstack.org/#/c/612190/\nDepends-On: https://review.openstack.org/#/c/612191/\nChange-Id: Ie151e1857e6e951c676986c6b2778db0d0a52819\n'}]",0,612195,ae6a6b479dfe39fbeaf0989ccbd025e8496c1d38,11,3,3,16137,,,0,"Remove deprecated rabbit options

Remove the deprecated options rabbit_host, rabbit_port, rabbit_hosts,
rabbit_userid, rabbit_password and rabbit_virtual_host [1].

All modules should support this change already or I have open patches
that fixes it.

Added a proper prelude notification that the functionality that
changed rabbit_ha_queues to true automatically if rabbit_hosts was
used is now removed so it has to be set explicitly.

[1] https://review.openstack.org/#/c/599912/

Depends-On: https://review.openstack.org/#/c/612190/
Depends-On: https://review.openstack.org/#/c/612191/
Change-Id: Ie151e1857e6e951c676986c6b2778db0d0a52819
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/95/612195/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_messaging_rabbit_spec.rb', 'releasenotes/notes/remove-deprecated-rabbit-options-212b21d41e6d2808.yaml', 'manifests/messaging/rabbit.pp']",3,32635c964f5eaea08023c7999f98cc12ade84b77,removed-oslo-rabbitmq-options," 'oslo_messaging_rabbit/rabbit_ha_queues' => { value => $rabbit_ha_queues },","# [*rabbit_host*] # (Optional) The RabbitMQ broker address where a single node is used. # (string value) # Defaults to $::os_service_default # # [*rabbit_port*] # (Optional) The RabbitMQ broker port where a single node is used. # (port value) # Defaults to $::os_service_default ## [*rabbit_hosts*] # (Optional) RabbitMQ HA cluster host:port pairs. (array value) # Defaults to $::os_service_default ## [*rabbit_userid*] # (Optional) The RabbitMQ userid. (string value) # Defaults to $::os_service_default # # [*rabbit_password*] # (Optional) The RabbitMQ password. (string value) # Defaults to $::os_service_default ## [*rabbit_virtual_host*] # (Optional) The RabbitMQ virtual host. (string value) # Defaults to $::os_service_default # $rabbit_host = $::os_service_default, $rabbit_port = $::os_service_default, $rabbit_hosts = $::os_service_default, $rabbit_userid = $::os_service_default, $rabbit_password = $::os_service_default, $rabbit_virtual_host = $::os_service_default, if !is_service_default($rabbit_hosts) or !is_service_default($rabbit_host) { warning(""The oslo_messaging rabbit_host, rabbit_hosts, rabbit_port, rabbit_userid, \ rabbit_password, rabbit_virtual_host parameters have been deprecated by the \ [DEFAULT]\\transport_url. Please use oslo::messaging::default::transport_url instead."") } if !is_service_default($rabbit_hosts) { $rabbit_hosts_orig = join(any2array($rabbit_hosts), ',') if size($rabbit_hosts) > 1 and is_service_default($rabbit_ha_queues) { $rabbit_ha_queues_orig = true } else { $rabbit_ha_queues_orig = $rabbit_ha_queues } # Do not set rabbit_port and rabbit_host $rabbit_port_orig = $::os_service_default $rabbit_host_orig = $::os_service_default } else { $rabbit_port_orig = $rabbit_port $rabbit_host_orig = $rabbit_host $rabbit_ha_queues_orig = $rabbit_ha_queues # Do not set rabbit_hosts if host or port or both are set $rabbit_hosts_orig = $::os_service_default } 'oslo_messaging_rabbit/rabbit_password' => { value => $rabbit_password, secret => true }, 'oslo_messaging_rabbit/rabbit_userid' => { value => $rabbit_userid }, 'oslo_messaging_rabbit/rabbit_virtual_host' => { value => $rabbit_virtual_host }, 'oslo_messaging_rabbit/rabbit_hosts' => { value => $rabbit_hosts_orig }, 'oslo_messaging_rabbit/rabbit_port' => { value => $rabbit_port_orig }, 'oslo_messaging_rabbit/rabbit_host' => { value => $rabbit_host_orig }, 'oslo_messaging_rabbit/rabbit_ha_queues' => { value => $rabbit_ha_queues_orig },",19,144
openstack%2Ffreezer~master~I333dea283bedd2391b46978d99d251cfa77ce5c1,openstack/freezer,master,I333dea283bedd2391b46978d99d251cfa77ce5c1,Remove unneeded if statements,MERGED,2018-10-24 09:49:57.000000000,2018-10-25 06:54:44.000000000,2018-10-25 06:54:44.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 09:49:57.000000000', 'files': ['freezer/scheduler/freezer_scheduler.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/3c9528d0fa04b8ea1dbf03eae49aea6ba4af40c4', 'message': 'Remove unneeded if statements\n\nChange-Id: I333dea283bedd2391b46978d99d251cfa77ce5c1\n'}]",0,612972,3c9528d0fa04b8ea1dbf03eae49aea6ba4af40c4,7,2,1,25562,,,0,"Remove unneeded if statements

Change-Id: I333dea283bedd2391b46978d99d251cfa77ce5c1
",git fetch https://review.opendev.org/openstack/freezer refs/changes/72/612972/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/scheduler/freezer_scheduler.py'],1,3c9528d0fa04b8ea1dbf03eae49aea6ba4af40c4,trivial," self.jobs[job.id] = job LOG.info(""Created job {0}"".format(job.id)) # check for abort status if job_doc['job_schedule']['event'] == 'abort': pid = int(job_doc['job_schedule']['current_pid']) utils.terminate_subprocess(pid, 'freezer-agent') job.process_event(job_doc)"," if job: self.jobs[job.id] = job LOG.info(""Created job {0}"".format(job.id)) if job: # check for abort status if job_doc['job_schedule']['event'] == 'abort': pid = int(job_doc['job_schedule']['current_pid']) utils.terminate_subprocess(pid, 'freezer-agent') job.process_event(job_doc)",8,9
openstack%2Fironic~master~I6747cfdbded84d16adbe02b61c4698e1a025a09a,openstack/ironic,master,I6747cfdbded84d16adbe02b61c4698e1a025a09a,WIP: Implement console log support for Socat console,ABANDONED,2017-09-01 06:20:54.000000000,2018-10-25 06:41:09.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 17998}, {'_account_id': 18320}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-09-01 06:20:54.000000000', 'files': ['ironic/common/exception.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/base.py', 'ironic/conf/console.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/console_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/42a5491d4d9b874a7118f07c438f5983082d830a', 'message': 'WIP: Implement console log support for Socat console\n\n- Added console log methods to base.ConsoleInterface\n- Implement console log methods for Socat console\n\nChange-Id: I6747cfdbded84d16adbe02b61c4698e1a025a09a\nPartial-Bug: #1526368\n'}]",0,499909,42a5491d4d9b874a7118f07c438f5983082d830a,7,5,1,18320,,,0,"WIP: Implement console log support for Socat console

- Added console log methods to base.ConsoleInterface
- Implement console log methods for Socat console

Change-Id: I6747cfdbded84d16adbe02b61c4698e1a025a09a
Partial-Bug: #1526368
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/499909/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/base.py', 'ironic/conf/console.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/console_utils.py']",6,42a5491d4d9b874a7118f07c438f5983082d830a,bug/1526368,"def _get_console_log_dir(): """"""Return the directory for holding console log files. :raises: ConsoleLogNotEnabled if the directory is not set """""" log_dir = CONF.console.terminal_log_dir if not log_dir: raise exception.ConsoleLogNotEnabled( message=_('Console Log is disabled as Console Log directory ' 'is not set.')) return log_dir def _ensure_console_log_dir_exists(): """"""Ensure that the console log directory exists Checks that the directory for console log files exists and if not, creates it. :raises: ConsoleLogNotEnabled if console log is disabled :raises: ConsoleLogError if the directory doesn't exist and cannot be created """""" dir = _get_console_log_dir() if not os.path.exists(dir): try: os.makedirs(dir) except OSError as exc: msg = (_(""Cannot create directory '%(path)s' for console log "" ""files. Reason: %(reason)s."") % {'path': dir, 'reason': exc}) LOG.error(msg) raise exception.ConsoleLogError(message=msg) def _get_console_log_file(node_uuid): """"""Generate the file name to hold the console log. :raises: ConsoleLogNotEnabled if console log is disabled """""" log_dir = _get_console_log_dir() name = ""%s.log"" % node_uuid path = os.path.join(log_dir, name) return path def _check_and_truncate_console_log_file(node_uuid): """"""Truncate console log file upon configuration. If the size of the log file exceeds the limitation, truncates the log file from the beginning with a factor of 0.75 of the max size value. :param node_uuid: the UUID of the node :raises: ConsoleLogNotEnabled if console log is disabled """""" log_file = _get_console_log_file(node_uuid) if not os.path.isfile(log_file): return file_size = os.path.getsize(log_file) max_size = CONF.console.max_log_filesize new_size = int(0.75 * max_size) if file_size > max_size > 0 and new_size > 0: temp_file = log_file + '.temp' with open(temp_file, 'wb') as out_file: with open(log_file, 'rb') as in_file: in_file.seek(-new_size, os.SEEK_END) for chunk in iter(lambda: in_file.read(16 * 1024), ''): out_file.write(chunk) # Remove the old log file, then rename the temp file os.unlink(log_file) os.rename(temp_file, log_file) try: _ensure_console_log_dir_exists() # Check and truncate log file if exceeds limitation _check_and_truncate_console_log_file(node_uuid) log_enabled = True log_file = _get_console_log_file(node_uuid) except exception.ConsoleLogNotEnabled: log_enabled = False if log_enabled: args.append('SYSTEM:""%(cmd)s | tee -a %(log_file)s"",pty,stderr' % {'cmd': console_cmd, 'log_file': log_file}) else: args.append('EXEC:""%s"",pty,stderr' % console_cmd) def get_console_log(node_uuid, length): """"""Get console log for a node. :param node_uuid: the UUID of the node :param length: the size in bytes of log to retrieve :returns: console log text """""" log_file = _get_console_log_file(node_uuid) # If log file not exist, just return an empty string if not os.path.isfile(log_file): return '' file_size = os.path.getsize(log_file) result = None with open(log_file, 'rb') as in_file: if file_size > length: in_file.seek(-length, os.SEEK_END) result = in_file.read() return result def clear_console_log(node_uuid): """"""Remove console log file for a node. If console log is enabled and the log file exists for the node, this function will remove the file. :param node_uuid: the UUID of the node """""" try: path = _get_console_log_file(node_uuid) except exception.ConsoleLogNotEnabled: return try: os.unlink(path) except OSError as e: if e.errno == errno.ENOENT: # File does not exist, just ignore return else: LOG.warning(""Failed to unlink console log file %(path)s, "" ""error: %(err)s"", {'path': path, 'err': e}) raise e"," args.append('EXEC:""%s"",pty,stderr' % console_cmd)",202,3
openstack%2Fnova~master~Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4,openstack/nova,master,Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4,fixtures: Track volume attachments within CinderFixtureNewAttachFlow,MERGED,2018-07-30 11:48:40.000000000,2018-10-25 06:40:37.000000000,2018-10-22 22:53:30.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92671cd39160f4d5b75d33d7177947620b03342b', 'message': 'fixtures: Track attachments within CinderFixtureNewAttachFlow\n\nPreviously attachments ids were not tracked at all within the fixture\nwith only the instance_uuid and volume_id stashed. This change now\ncorrectly tracks and checks the attachment_id for each attachment while\nalso stashing the associated volume_id and instance_uuid.\n\nThis change should allow future functional tests to exercise bugs where\nattachments are deleted but not recreated.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 2, 'created': '2018-07-31 10:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad81c3e14b864f4c222f65e85076ff81f97ff334', 'message': 'fixtures: Track attachments within CinderFixtureNewAttachFlow\n\nPreviously attachments ids were not tracked at all within the fixture\nwith only the instance_uuid and volume_id stashed.\n\nThis change should allow future functional tests to exercise bugs where\nattachments are deleted but not recreated.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 3, 'created': '2018-07-31 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d104d27ca1576b2609eba25ba4f7ee93baa54c2', 'message': 'fixtures: Track attachments within CinderFixtureNewAttachFlow\n\nPreviously attachments ids were not tracked at all within the fixture\nwith only the instance_uuid and volume_id stashed.This change should\nallow future functional tests to exercise bugs where attachments are\ndeleted but not recreated.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 4, 'created': '2018-08-03 16:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6979297b8f3fd6eebdd6fd3e6ac06a82a15a042', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 5, 'created': '2018-08-06 10:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fed618948ba1d318777ed18b1fb68c2f850a4a2f', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 6, 'created': '2018-08-06 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24e3f89e01195189cbb41b32c4cc518f479f5b9e', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 7, 'created': '2018-08-07 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/731048fa4983df2ab616b8dc07245c7c9dca29d1', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 8, 'created': '2018-08-08 13:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a482e89ba0eb0bfdcefb7b9af5ef6407cc55c53f', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 9, 'created': '2018-08-08 14:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dc16527d9d7b55a2a0b08fd22547dafcb0dc4c4', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 10, 'created': '2018-08-08 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c8ff131be9e706766a4caf0e2db60e2b29512e', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 11, 'created': '2018-08-09 08:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e0b24abd50ad662ba0682ee8a3f4b453c482218', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 12, 'created': '2018-08-09 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d05b99e317185fdfd4878e31ed5b7fe807ca0b0', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 13, 'created': '2018-09-21 10:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f54a348cce7e0d507442ab01865f6b01f9896da3', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 14, 'created': '2018-09-24 18:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e154682499c7a5e96cd79dfe63a2baa4a6d1464a', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\n\nRelated-Bug: #1784353\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\n'}, {'number': 15, 'created': '2018-10-17 16:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/319f2669219c8c3100c218bb6ae0f7990fd644c3', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\nRelated-Bug: #1784353\n'}, {'number': 16, 'created': '2018-10-22 16:21:18.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1675570.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfdc6a0d5293e29d91d4755370c08769394f3ba7', 'message': 'fixtures: Track volume attachments within CinderFixtureNewAttachFlow\n\nPreviously volume attachments ids were not tracked at all within the\nfixture with only the instance_uuid and volume_id stashed. This change\nshould allow future functional tests to exercise bugs where attachments\nare deleted but not recreated such as bug #1784353.\n\nChange-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4\nCo-authored-by: Matthew Booth <mbooth@redhat.com>\nRelated-Bug: #1784353\n'}]",37,587013,bfdc6a0d5293e29d91d4755370c08769394f3ba7,129,14,16,10135,,,0,"fixtures: Track volume attachments within CinderFixtureNewAttachFlow

Previously volume attachments ids were not tracked at all within the
fixture with only the instance_uuid and volume_id stashed. This change
should allow future functional tests to exercise bugs where attachments
are deleted but not recreated such as bug #1784353.

Change-Id: Ib30144596fe6a8d8ffbb4ebd695ebcf38ef828a4
Co-authored-by: Matthew Booth <mbooth@redhat.com>
Related-Bug: #1784353
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/587013/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,92671cd39160f4d5b75d33d7177947620b03342b,bug/1784353," # NOTE(lyarwood): This is a collection of dicts mapping an attachment # id to a single volume id and instance uuid. self.attachments = collections.defaultdict() for attachment, vol in self.attachments.items(): if volume_id == vol['volume_id']: instance_uuid = vol['instance_uuid'] 'server_id': instance_uuid, 'attachment_id': volume_id, 'mountpoint': '/dev/vdb' def _check_attachment_id(id): if id not in self.attachments: raise exception.VolumeAttachmentNotFound(attachment_id=id) self.attachments[attachment_id] = { 'volume_id': volume_id, 'instance_uuid': instance_uuid } return {'id': attachment_id, 'connection_info': {'data': {}}} _check_attachment_id(attachment_id) self.attachments.pop(attachment_id) _check_attachment_id(attachment_id) _check_attachment_id(attachment_id)"," # This is a map of instance UUIDs mapped to a list of volume IDs. # This map gets updated on attach/detach operations. self.attachments = collections.defaultdict(list) for instance_uuid, volumes in self.attachments.items(): if volume_id in volumes: instance_uuid: { 'attachment_id': volume_id, 'mountpoint': '/dev/vdb' } attachment = {'id': attachment_id, 'connection_info': {'data': {}}} self.attachments['instance_uuid'].append(instance_uuid) self.attachments[instance_uuid].append(volume_id) return attachment instance_uuid = self.attachments['instance_uuid'][0] del self.attachments[instance_uuid][0] del self.attachments['instance_uuid'][0]",22,17
openstack%2Ftripleo-quickstart~master~I583849a6037fc1772eef7b39316df0ce7f55becb,openstack/tripleo-quickstart,master,I583849a6037fc1772eef7b39316df0ce7f55becb,Add manila and sahara tests to tempest skip list for fs020,MERGED,2018-10-11 15:24:53.000000000,2018-10-25 06:36:04.000000000,2018-10-15 09:38:13.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 16643}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-11 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/589b87bfb0facc4e2d74df8e69dc85ee64ef5ea5', 'message': 'Add manila and sahara tests to tempest skip list for fs020\n\n* As Manila and sahara tempest tests are configured in fs08 and fs019\n  and is not configured in fs020. Since skip list is centralized in\n  TripleO, it will leads to break fs020 and blocks promotion.\n  So we are keeping the skip list here.\n\nChange-Id: I583849a6037fc1772eef7b39316df0ce7f55becb\n'}, {'number': 2, 'created': '2018-10-11 15:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d2ae0c46c6669736a5e6be71be31e1a007e84643', 'message': 'Add manila and sahara tests to tempest skip list for fs020\n\n* As Manila and sahara tempest tests are configured in fs08 and fs019\n  and is not configured in fs020. Since skip list is centralized in\n  TripleO, it will leads to break fs020 and blocks promotion.\n  So we are keeping the skip list here.\n\nChange-Id: I583849a6037fc1772eef7b39316df0ce7f55becb\n'}, {'number': 3, 'created': '2018-10-12 04:54:45.000000000', 'files': ['config/general_config/featureset020.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb39ff6238adbf617cc603049193842dc4d1677c', 'message': 'Add manila and sahara tests to tempest skip list for fs020\n\n* As Manila and sahara tempest tests are configured in fs08 and fs019\n  and is not configured in fs020. Since skip list is centralized in\n  TripleO, it will leads to break fs020 and blocks promotion.\n  So we are keeping the skip list here.\n\nChange-Id: I583849a6037fc1772eef7b39316df0ce7f55becb\n'}]",2,609741,eb39ff6238adbf617cc603049193842dc4d1677c,20,8,3,12393,,,0,"Add manila and sahara tests to tempest skip list for fs020

* As Manila and sahara tempest tests are configured in fs08 and fs019
  and is not configured in fs020. Since skip list is centralized in
  TripleO, it will leads to break fs020 and blocks promotion.
  So we are keeping the skip list here.

Change-Id: I583849a6037fc1772eef7b39316df0ce7f55becb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/609741/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset021.yml'],1,589b87bfb0facc4e2d74df8e69dc85ee64ef5ea5,unskip_manila,test_black_regex: 'sahara_tempest_plugin|manila_tempest_tests',,1,0
openstack%2Fkeystone~master~I4c2f7bf9fa7d01a4d73541d218a271074f121683,openstack/keystone,master,I4c2f7bf9fa7d01a4d73541d218a271074f121683,Deprecate eventlet related configuration,ABANDONED,2018-10-25 06:28:55.000000000,2018-10-25 06:29:42.000000000,,[],"[{'number': 1, 'created': '2018-10-25 06:28:55.000000000', 'files': ['keystone/conf/__init__.py', 'releasenotes/notes/deprecated-as-of-stein-0166965502cb3be2.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ac4d83f4b221704441e6c270d79b30850bea5f1', 'message': 'Deprecate eventlet related configuration\n\nThe ""standard-threads"", ""pydev-debug-host"" and ""pydev-debug-port""\ncli configuration items were only uesed by Keystone eventlet model\nin a few releases before. Deprecate them now.\n\nChange-Id: If4f2f318999fc291ce93b12ce57a95dfca5dcf05\nbp: deprecated-as-of-stein\n\nChange-Id: I4c2f7bf9fa7d01a4d73541d218a271074f121683\n'}]",0,613210,1ac4d83f4b221704441e6c270d79b30850bea5f1,2,0,1,15054,,,0,"Deprecate eventlet related configuration

The ""standard-threads"", ""pydev-debug-host"" and ""pydev-debug-port""
cli configuration items were only uesed by Keystone eventlet model
in a few releases before. Deprecate them now.

Change-Id: If4f2f318999fc291ce93b12ce57a95dfca5dcf05
bp: deprecated-as-of-stein

Change-Id: I4c2f7bf9fa7d01a4d73541d218a271074f121683
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/613210/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'releasenotes/notes/deprecated-as-of-stein-0166965502cb3be2.yaml']",2,1ac4d83f4b221704441e6c270d79b30850bea5f1,bp/deprecated-as-of-stein,"--- deprecations: - > The commandline options `standard-threads, `pydev-debug-host` and `pydev-debug-port` are only used by Keystone eventlet model in a few releases before. They are deprecated now and will be removed in the next release. ",,22,3
openstack%2Fpuppet-cinder~master~I880184255a1f7c39ae66bd8ad7c361d65d378a0c,openstack/puppet-cinder,master,I880184255a1f7c39ae66bd8ad7c361d65d378a0c,Set rbd_cluster_name to cope with custom cluster names,MERGED,2018-10-04 14:14:06.000000000,2018-10-25 06:29:24.000000000,2018-10-24 19:46:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 14:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b6f67dd106ceb0c73a346acb4e8e43997c2ae3e9', 'message': 'Always set rbd_cluster_name to cope with custom cluster names\n\nCinder requires the Ceph cluster name to be set explicitly in\nrbd_cluster_name\n\nChange-Id: I880184255a1f7c39ae66bd8ad7c361d65d378a0c\nCloses-Bug: 1796096\n'}, {'number': 2, 'created': '2018-10-05 11:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c1cca47f97569e89a960a777904b085f51f1cdc6', 'message': 'Always set rbd_cluster_name to cope with custom cluster names\n\nCinder requires the Ceph cluster name to be set explicitly in\nrbd_cluster_name\n\nChange-Id: I880184255a1f7c39ae66bd8ad7c361d65d378a0c\nCloses-Bug: 1796096\n'}, {'number': 3, 'created': '2018-10-11 11:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/662ec3aef125f6032a9940771dad64fa4d37496d', 'message': ""Set rbd_cluster_name to cope with custom cluster names\n\nCinder requires the Ceph cluster name to be set explicitly in\nrbd_cluster_name when not 'ceph'.\n\nChange-Id: I880184255a1f7c39ae66bd8ad7c361d65d378a0c\nCloses-Bug: 1796096\n""}, {'number': 4, 'created': '2018-10-23 16:37:24.000000000', 'files': ['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/612279161ba26ac02791e20a6eb5aa22e8ac673a', 'message': ""Set rbd_cluster_name to cope with custom cluster names\n\nCinder requires the Ceph cluster name to be set explicitly in\nrbd_cluster_name when not 'ceph'.\n\nChange-Id: I880184255a1f7c39ae66bd8ad7c361d65d378a0c\nCloses-Bug: 1796096\n""}]",6,607964,612279161ba26ac02791e20a6eb5aa22e8ac673a,42,6,4,6796,,,0,"Set rbd_cluster_name to cope with custom cluster names

Cinder requires the Ceph cluster name to be set explicitly in
rbd_cluster_name when not 'ceph'.

Change-Id: I880184255a1f7c39ae66bd8ad7c361d65d378a0c
Closes-Bug: 1796096
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/64/607964/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb']",2,b6f67dd106ceb0c73a346acb4e8e43997c2ae3e9,bug/1796096," is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_cluster_name"").with_value('ceph')",,5,0
openstack%2Frally~master~I11146767a7d2cf029e143474c5dc7bae83c975ac,openstack/rally,master,I11146767a7d2cf029e143474c5dc7bae83c975ac,Duplicated items in requirements files,ABANDONED,2018-07-05 07:15:29.000000000,2018-10-25 06:27:06.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 07:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6f00678a414a7894512cd869622005e747a3571e', 'message': 'Duplicated items in requirements files\n\n- oslosphinx is duplicated, so removes one from test-requirements.\n- Moves doc requirements to correct file.\n\nChange-Id: I11146767a7d2cf029e143474c5dc7bae83c975ac\n'}, {'number': 2, 'created': '2018-07-05 08:36:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/42b86d980f9437597aa122b5c6426373247299f4', 'message': 'Duplicated items in requirements files\n\noslosphinx is already in test-requirements.txt.\n\nChange-Id: I11146767a7d2cf029e143474c5dc7bae83c975ac\n'}]",0,580304,42b86d980f9437597aa122b5c6426373247299f4,7,2,2,18320,,,0,"Duplicated items in requirements files

oslosphinx is already in test-requirements.txt.

Change-Id: I11146767a7d2cf029e143474c5dc7bae83c975ac
",git fetch https://review.opendev.org/openstack/rally refs/changes/04/580304/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,6f00678a414a7894512cd869622005e747a3571e,,, -r{toxinidir}/test-requirements.txt,2,5
openstack%2Ftripleo-heat-templates~master~I47694f41b744008ea67337db625bb628ba73aaf7,openstack/tripleo-heat-templates,master,I47694f41b744008ea67337db625bb628ba73aaf7,Replace Chinese quotes with English quotes,ABANDONED,2018-09-10 02:34:16.000000000,2018-10-25 06:02:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25747}]","[{'number': 1, 'created': '2018-09-10 02:34:16.000000000', 'files': ['releasenotes/notes/6.0.0-b52a14a71fc62788.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/756f79fa612bdf41a7846895ce80efccf5c0e0ad', 'message': 'Replace Chinese quotes with English quotes\n\nChange-Id: I47694f41b744008ea67337db625bb628ba73aaf7\n'}]",0,601143,756f79fa612bdf41a7846895ce80efccf5c0e0ad,9,3,1,25747,,,0,"Replace Chinese quotes with English quotes

Change-Id: I47694f41b744008ea67337db625bb628ba73aaf7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/601143/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/6.0.0-b52a14a71fc62788.yaml'],1,756f79fa612bdf41a7846895ce80efccf5c0e0ad,, displays an 'Admin Password' field on the “Change Password” form to verify, displays an ‘Admin Password’ field on the “Change Password” form to verify,1,1
openstack%2Fsushy~master~I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c,openstack/sushy,master,I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c,Introduce ``cache_it`` and ``cache_clear``,MERGED,2018-07-11 09:34:26.000000000,2018-10-25 05:31:27.000000000,2018-10-24 11:46:10.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-07-11 09:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c7da776b180ec9195aa6b7ff77605aa4b6795e4f', 'message': 'Introduces ``cache_it`` decorator\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility ``cache_it``\ndecorator attempts to reduce that code bloat to some extent.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}, {'number': 2, 'created': '2018-07-11 09:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/af6b6ea5f14866ad1f9e884b0c36b9ec053942dc', 'message': 'Introduces ``cache_it`` decorator\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility ``cache_it``\ndecorator attempts to reduce that code bloat to some extent.\n\nAlso removed unnecessary array boxing of generator object in\n``utils.max_safe()`` function.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}, {'number': 3, 'created': '2018-07-12 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6ee2d08647eb4c653784f7847b823a38566f5c35', 'message': 'Introduce ``cache_it`` and ``cache_clear``\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility decorator\n``cache_it`` with its complimentary ``cache_clear`` method\nattempt to reduce that code bloat.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}, {'number': 4, 'created': '2018-09-24 10:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/35245d1bf47773a40f8430fd66bd74fbc630e946', 'message': 'Introduce ``cache_it`` and ``cache_clear``\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility decorator\n``cache_it`` with its complimentary ``cache_clear`` method\nattempt to reduce that code bloat.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}, {'number': 5, 'created': '2018-09-24 16:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8c129a84a6282ade4cf6b67bea9a7a62e34179d9', 'message': 'Introduce ``cache_it`` and ``cache_clear``\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility decorator\n``cache_it`` with its complimentary ``cache_clear`` method\nattempt to reduce that code bloat.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}, {'number': 6, 'created': '2018-10-22 07:08:22.000000000', 'files': ['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/system/storage/volume.py', 'sushy/utils.py', 'sushy/resources/manager/manager.py', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/tests/unit/resources/system/test_ethernet_interfaces.py', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/system/ethernet_interface.py', 'sushy/resources/system/bios.py', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_manager.py', 'sushy/tests/unit/test_utils.py', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/test_base.py', 'sushy/tests/unit/resources/system/test_simple_storage.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/resources/system/simple_storage.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/resources/system/processor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/27c725cbb8a2a5d55d9e74519ad5e386b2fe50c4', 'message': 'Introduce ``cache_it`` and ``cache_clear``\n\nRight now the nested resource property methods contain a lot of\nrepetitive code for caching purpose. This utility decorator\n``cache_it`` with its complimentary ``cache_clear`` method\nattempt to reduce that code bloat.\n\nChange-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c\n'}]",64,581645,27c725cbb8a2a5d55d9e74519ad5e386b2fe50c4,30,6,6,16635,,,0,"Introduce ``cache_it`` and ``cache_clear``

Right now the nested resource property methods contain a lot of
repetitive code for caching purpose. This utility decorator
``cache_it`` with its complimentary ``cache_clear`` method
attempt to reduce that code bloat.

Change-Id: I7404a15beb029cb282ac6b84bb8b8fdb97ebcd4c
",git fetch https://review.opendev.org/openstack/sushy refs/changes/45/581645/6 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_utils.py', 'sushy/resources/system/storage/volume.py', 'sushy/resources/system/system.py', 'sushy/utils.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/resources/system/processor.py', 'sushy/resources/system/ethernet_interface.py', 'sushy/resources/system/bios.py']",8,c7da776b180ec9195aa6b7ff77605aa4b6795e4f,caching_results_including_sushy_resources,"from sushy import utils """"""Caching variable for `pending_settings_resource`"""""" @property @utils.cache_it def pending_settings_resource(self): """"""Pending BIOS settings resource"""""" return Bios( self._conn, self._settings.resource_uri, redfish_version=self.redfish_version) return self.pending_settings_resource.attributes"," if not self._pending_settings_resource: self._pending_settings_resource = Bios( self._conn, self._settings.resource_uri, redfish_version=self.redfish_version) self._pending_settings_resource.refresh(force=False) return self._pending_settings_resource.attributes",219,77
openstack%2Fnova~master~Ic16f30a15fe072eb0619e64575897ed69b9eb947,openstack/nova,master,Ic16f30a15fe072eb0619e64575897ed69b9eb947,Fix up compute rpcapi version for pike release,MERGED,2018-10-22 04:17:14.000000000,2018-10-25 05:18:27.000000000,2018-10-24 04:00:41.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-22 04:17:14.000000000', 'files': ['nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10d64b2c62c54f243e6fb05bc9c7b027d433aae1', 'message': 'Fix up compute rpcapi version for pike release\n\nThis was wrongly set to 4.18 when pike only supports 4.17\n\nChange-Id: Ic16f30a15fe072eb0619e64575897ed69b9eb947\nCloses-Bug: #1799113\n'}]",1,612231,10d64b2c62c54f243e6fb05bc9c7b027d433aae1,37,15,1,3031,,,0,"Fix up compute rpcapi version for pike release

This was wrongly set to 4.18 when pike only supports 4.17

Change-Id: Ic16f30a15fe072eb0619e64575897ed69b9eb947
Closes-Bug: #1799113
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/612231/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/rpcapi.py'],1,10d64b2c62c54f243e6fb05bc9c7b027d433aae1,bug/1799113," ... Pike supports messaging version 4.17. So any changes to existing the version_cap being set to 4.17. * 4.18 - Add migration to prep_resize() 'pike': '4.17',"," * 4.18 - Add migration to prep_resize() ... Pike supports messaging version 4.18. So any changes to existing the version_cap being set to 4.18. 'pike': '4.18',",4,4
openstack%2Fopenstack-helm-infra~master~I284d6b04940424a87e5b239ccc9d30ae01075f38,openstack/openstack-helm-infra,master,I284d6b04940424a87e5b239ccc9d30ae01075f38,Fix k8s-auth job,MERGED,2018-10-25 00:31:36.000000000,2018-10-25 05:13:59.000000000,2018-10-25 05:13:59.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-25 00:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8488b7c506edc66821643a952a6f41cedb1c18e', 'message': 'WIP: Fix k8s-auth job\n\nThis patch set addresses a cross-repo conflict with the enablement of\nnetwork policy in an OSH script.\n\nChange-Id: I284d6b04940424a87e5b239ccc9d30ae01075f38\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-10-25 01:49:53.000000000', 'files': ['tools/deployment/keystone-auth/070-keystone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/653b84a2e19a83a8c7631bae58d05c8636cf4f2a', 'message': 'Fix k8s-auth job\n\nThis patch set addresses a cross-repo conflict with the enablement of\nnetwork policy in gate script override.\n\nChange-Id: I284d6b04940424a87e5b239ccc9d30ae01075f38\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",1,613176,653b84a2e19a83a8c7631bae58d05c8636cf4f2a,12,5,2,20466,,,0,"Fix k8s-auth job

This patch set addresses a cross-repo conflict with the enablement of
network policy in gate script override.

Change-Id: I284d6b04940424a87e5b239ccc9d30ae01075f38
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/613176/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/keystone-auth/070-keystone.sh'],1,a8488b7c506edc66821643a952a6f41cedb1c18e,fix-webhook,"# Install LDAP make ldap : ${OSH_INFRA_EXTRA_HELM_ARGS:=""""} helm upgrade --install ldap ${OSH_INFRA_PATH}/ldap \ --namespace=openstack \ --set pod.replicas.server=1 \ --set bootstrap.enabled=true \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_LDAP} ./tools/deployment/common/wait-for-pods.sh openstack helm status ldap # Install Keystone cd ""${OSH_PATH}"" make pull-images keystone : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install keystone ./keystone \ --namespace=openstack \ --values=./tools/overrides/keystone/ldap_domain_config.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_KEYSTONE} ./tools/deployment/common/wait-for-pods.sh openstack helm status keystone # Testing basic functionality export OS_CLOUD=openstack_helm sleep 30 #NOTE(portdirect): Wait for ingress controller to update rules and restart Nginx openstack endpoint list","#NOTE: Move into openstack-helm root dir & Run keystone deployment script cd ""${OSH_PATH}""; ./tools/deployment/developer/ldap/080-keystone.sh",32,2
openstack%2Ffreezer-api~master~I511a281b599fd3846463cfa294172be2856162a1,openstack/freezer-api,master,I511a281b599fd3846463cfa294172be2856162a1,Add action api for bp add-mysql-support-for-freezer,MERGED,2018-10-24 07:53:37.000000000,2018-10-25 05:13:51.000000000,2018-10-25 05:13:51.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-24 07:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ae0c6a7cc7d8700059e2b3318a8813278f6c2ba1', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-24 08:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/122ec5690af7a24eef7d5aba1c7451892f5b5915', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 3, 'created': '2018-10-25 02:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6a0d9964d4383da812e7a1b7b5374c94e524f44c', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 4, 'created': '2018-10-25 02:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c26a1358ddf118c50596e368c603643b37b2acd1', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 5, 'created': '2018-10-25 03:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/702ee32c5b9bc366f349fd50265fe576aa1e6d47', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 6, 'created': '2018-10-25 03:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/dac509a324aff197ec48f466b29d6af0d1e30df8', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 7, 'created': '2018-10-25 03:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/53c6d1f6919a952eb46bd2cff7dcc1e464dd04e8', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 8, 'created': '2018-10-25 03:39:16.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py', 'freezer_api/api/common/utils.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4f68595aa70d4346dff591c39f5937bc3be1eb2a', 'message': 'Add action api for bp add-mysql-support-for-freezer\n\nAdd action api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I511a281b599fd3846463cfa294172be2856162a1\nImplements: bp add-mysql-support-for-freezer\n'}]",6,612940,4f68595aa70d4346dff591c39f5937bc3be1eb2a,20,3,8,21387,,,0,"Add action api for bp add-mysql-support-for-freezer

Add action api in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: I511a281b599fd3846463cfa294172be2856162a1
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/40/612940/8 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,ae0c6a7cc7d8700059e2b3318a8813278f6c2ba1,bp/add-mysql-support-for-freezer," def delete_action(project_id, user_id, action_id): session = get_db_session() query = model_query(session, models.Action, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=action_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Action delete, action_id: {0} deleted'. format(action_id)) else: LOG.info('Action delete, action_id: {0} not found'. format(action_id)) query = model_query(session, models.ActionReport, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=action_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('ActionReport delete, action_id: {0} deleted'. format(action_id)) else: LOG.info('ActionReport delete, action_id: {0} not found'. format(action_id)) session.close() return action_id def add_action(project_id, user_id, doc): action_doc = utils.ActionDoc.create(doc, user_id, project_id) keyt = ['action', 'mode', 'backup_name', 'container', 'src_file', 'timeout', 'priority', 'mandatory', 'log_file'] freezer_action = action_doc.get('freezer_action', {}) action_id = action_doc.get('action_id') existing = get_action(project_id=project_id, user_id=user_id, action_id=action_id) if existing: raise freezer_api_exc.DocumentExists( message='Action already registered with ID' ' {0}'.format(action_id)) action = models.Action() actionvalue = {} actionreportvalue = {} actionvalue['project_id'] = project_id actionvalue['id'] = action_id actionvalue['user_id'] = user_id actionvalue['max_retries'] = action_doc.get('max_retries', 5) actionvalue['max_retries_interval'] = action_doc.\ get('max_retries_interval', 6) for key in freezer_action.keys(): if key in keyt: actionvalue[key] = freezer_action.get(key) actionreportvalue['result'] = freezer_action.get('result', None) actionreportvalue['time_elapsed'] = freezer_action.\ get('time_elapsed', None) actionreportvalue['report_date'] = freezer_action.\ get('report_date', None) actionvalue['backup_metadata'] = json_utils.json_encode(freezer_action) action.update(actionvalue) session = get_db_session() with session.begin(): try: action.save(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Action registered, action_id: {0}'.format(action_id)) actionReport = models.ActionReport() actionreportvalue['project_id'] = project_id actionreportvalue['id'] = action_id actionreportvalue['user_id'] = user_id actionReport.update(actionreportvalue) with session.begin(): try: actionReport.save(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Action Reports registered, action_id: {0}'. format(action_id)) session.close() return action_id def get_action(project_id, user_id, action_id): session = get_db_session() with session.begin(): try: query = model_query(session, models.Action, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=action_id) result = query.all() except Exception as e: raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() values = {} if 1 == len(result): values['project_id'] = result[0].get('project_id') values['action_id'] = result[0].get('id') values['user_id'] = result[0].get('user_id') values['max_retries'] = result[0].get('max_retries') values['max_retries_interval'] = result[0].\ get('max_retries_interval') values['freezer_action'] = json_utils.\ json_decode(result[0].get('backup_metadata')) values['freezer_action']['backup_name'] = result[0].\ get('backup_name') values['freezer_action']['action'] = result[0].get('action') values['freezer_action']['mode'] = result[0].get('mode') values['freezer_action']['container'] = result[0].\ get('container') values['freezer_action']['timeout'] = result[0].get('timeout') values['freezer_action']['priority'] = result[0].get('priority') values['freezer_action']['src_file'] = result[0].get('src_file') values['freezer_action']['log_file'] = result[0].get('log_file') return values def search_action(project_id, user_id, offset=0, limit=10, search=None): search = search or {} actions = [] session = get_db_session() query = model_query(session, models.Action, project_id=project_id) query = query.filter_by(user_id=user_id) result = query.all() for action in result: actionmap = {} actionmap['project_id'] = project_id actionmap['user_id'] = user_id actionmap['timeout'] = action.timeout actionmap['max_retries_interval'] = action.max_retries_interval actionmap['max_retries'] = action.max_retries actionmap['action_id'] = action.id actionmap['mandatory'] = action.mandatory actionmap['freezer_action'] = json_utils.\ json_decode(action.get('backup_metadata')) actionmap['freezer_action']['backup_name'] = action.\ get('backup_name') actionmap['freezer_action']['mode'] = action.get('mode') actionmap['freezer_action']['action'] = action.get('action') actionmap['freezer_action']['container'] = action.\ get('container') actionmap['freezer_action']['timeout'] = action.get('timeout') actionmap['freezer_action']['priority'] = action.get('priority') actionmap['freezer_action']['src_file'] = action.get('src_file') actionmap['freezer_action']['log_file'] = action.get('log_file') actions.append(actionmap) session.close() return actions def update_action(user_id, action_id, patch_doc, project_id): # changes in user_id or action_id are not allowed valid_patch = utils.ActionDoc.create_patch(patch_doc) keyt = ['action', 'mode', 'backup_name', 'container', 'src_file', 'timeout', 'priority', 'mandatory', 'log_file'] values = {} freezer_action = valid_patch.get('freezer_action', {}) values['project_id'] = project_id values['id'] = action_id values['user_id'] = user_id values['max_retries'] = valid_patch.get('max_retries', None) values['max_retries_interval'] = valid_patch.\ get('max_retries_interval', None) for key in freezer_action.keys(): if key in keyt: values[key] = freezer_action.get(key) values['backup_metadata'] = json_utils.json_encode(freezer_action) session = get_db_session() with session.begin(): try: query = model_query(session, models.Action, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=action_id) result = query.update(values) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if not result: raise freezer_api_exc.DocumentNotFound( message='Action not registered with ID' ' {0}'.format(action_id)) else: LOG.info('action updated, action_id: {0}'.format(action_id)) return action_id def replace_action(user_id, action_id, doc, project_id): valid_doc = utils.ActionDoc.update(doc, user_id, action_id, project_id) values = {} keyt = ['action', 'mode', 'backup_name', 'container', 'src_file', 'timeout', 'priority', 'mandatory', 'log_file'] bCreate = False freezer_action = valid_doc.get('freezer_action', {}) values['project_id'] = project_id values['id'] = action_id values['user_id'] = user_id values['max_retries'] = valid_doc.get('max_retries', None) values['max_retries_interval'] = valid_doc.\ get('max_retries_interval', None) for key in freezer_action.keys(): if key in keyt: values[key] = freezer_action.get(key) session = get_db_session() with session.begin(): try: query = model_query(session, models.Action, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(id=action_id) result = query.update(values) if not result: bCreate = True except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) session.close() if bCreate: action = models.Action() action.update(values) session = get_db_session() with session.begin(): try: action.save(session=session) except Exception as e: session.close() raise freezer_api_exc.\ StorageEngineError(message='mysql operation failed {0}'. format(e)) session.close() LOG.info('action replaced, action_id: {0}'.format(action_id)) return action_id"," :param context: NovaContext of the query. :param project_only: If set and context is user-type, then restrict query to match the context's project_id. If set to 'allow_none', restriction includes project_id = None.",287,4
openstack%2Fnova~master~I457c9993d1af8b01503c9d4c61caff6f26951f52,openstack/nova,master,I457c9993d1af8b01503c9d4c61caff6f26951f52,Rename tempest-nova job to follow conventions,MERGED,2018-10-22 04:08:32.000000000,2018-10-25 05:09:53.000000000,2018-10-23 11:08:25.000000000,"[{'_account_id': 4690}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-22 04:08:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8718c9718f803b6ba373576d1a5119b56b23fd6b', 'message': 'Rename tempest-nova job to follow conventions\n\nFollow the naming conventions from\nhttps://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3\n- a job defined in nova repo needs to start with nova, not tempest.\n\nThus rename tempest-nova to nova-tempest.\n\nChange-Id: I457c9993d1af8b01503c9d4c61caff6f26951f52\n'}]",0,612230,8718c9718f803b6ba373576d1a5119b56b23fd6b,47,18,1,6547,,,0,"Rename tempest-nova job to follow conventions

Follow the naming conventions from
https://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3
- a job defined in nova repo needs to start with nova, not tempest.

Thus rename tempest-nova to nova-tempest.

Change-Id: I457c9993d1af8b01503c9d4c61caff6f26951f52
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/612230/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8718c9718f803b6ba373576d1a5119b56b23fd6b,lib-forward-oslo, name: nova-tempest-v2-api - nova-tempest-v2-api:, name: tempest-nova-v2-api - tempest-nova-v2-api:,2,2
openstack%2Fnova~master~I51155755a565a9a38084906a57407e87083fb362,openstack/nova,master,I51155755a565a9a38084906a57407e87083fb362,Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job,MERGED,2018-10-13 16:24:32.000000000,2018-10-25 04:55:21.000000000,2018-10-23 08:29:39.000000000,"[{'_account_id': 4690}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-13 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb1f5b6106acf992e0594d806b64e982d79b3038', 'message': 'Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job\n\nMigrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\nto Zuul v3 native. We can just use the tempest-full job here, adding\nrequired-projects will automatically check out the library from source\ninstead of installing it from pip.\n\nChange-Id: I51155755a565a9a38084906a57407e87083fb362\n'}, {'number': 2, 'created': '2018-10-13 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc8267b44c865559cc93a47e4c7b92683341a6d', 'message': 'Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job\n\nMigrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\nto Zuul v3 native. We can just use the tempest-full job here, adding\nrequired-projects will automatically check out the library from source\ninstead of installing it from pip.\n\nSince this is the only user of the legacy job, define the job in the\nnova repository.\n\nChange-Id: I51155755a565a9a38084906a57407e87083fb362\n'}, {'number': 3, 'created': '2018-10-13 16:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59f167ffc0bdee775c1c9eb6d3ae065a8943aafa', 'message': 'Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job\n\nMigrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\nto Zuul v3 native. We can just use the tempest-full job here, adding\nrequired-projects will automatically check out the library from source\ninstead of installing it from pip.\n\nSince this is the only user of the legacy job, define the job in the\nnova repository.\n\nChange-Id: I51155755a565a9a38084906a57407e87083fb362\n'}, {'number': 4, 'created': '2018-10-13 16:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e20278f506de2a5c54569999ff5fae726e5c099f', 'message': 'Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job\n\nMigrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\nto Zuul v3 native. We can just use the tempest-full job here, adding\nrequired-projects will automatically check out the library from source\ninstead of installing it from pip.\n\nSince this is the only user of the legacy job, define the job in the\nnova repository.\n\nChange-Id: I51155755a565a9a38084906a57407e87083fb362\n'}, {'number': 5, 'created': '2018-10-22 04:06:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cb74d32dd91d62368f3c6db0094691866fe41b6', 'message': 'Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job\n\nMigrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\nto Zuul v3 native. We can just use the tempest-full job here, adding\nrequired-projects will automatically check out the library from source\ninstead of installing it from pip.\n\nSince this is the only user of the legacy job, define the job in the\nnova repository.\n\nChange-Id: I51155755a565a9a38084906a57407e87083fb362\n'}]",1,610271,2cb74d32dd91d62368f3c6db0094691866fe41b6,63,20,5,6547,,,0,"Convert legacy-tempest-dsvm-neutron-src-oslo.versionedobjects job

Migrate experimental job legacy-tempest-dsvm-neutron-src-oslo.versionedobjects
to Zuul v3 native. We can just use the tempest-full job here, adding
required-projects will automatically check out the library from source
instead of installing it from pip.

Since this is the only user of the legacy job, define the job in the
nova repository.

Change-Id: I51155755a565a9a38084906a57407e87083fb362
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/610271/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb1f5b6106acf992e0594d806b64e982d79b3038,lib-forward-oslo,- job: name: nova-tempest-full-oslo.versionedobjects description: | Run test with git version of oslo.versionedobjects to check that changes to nova will work with the next released version of that library. parent: tempest-full required-projects: - openstack/oslo.versionedobjects - nova-tempest-full-oslo.versionedobjects:, - legacy-tempest-dsvm-neutron-src-oslo.versionedobjects:,11,1
openstack%2Ftripleo-ci~master~I3631a6b2c739316b1ff0c2786dbe44f59077f39b,openstack/tripleo-ci,master,I3631a6b2c739316b1ff0c2786dbe44f59077f39b,Make containerized-undercloud-upgrades job non-voting,MERGED,2018-10-23 15:00:03.000000000,2018-10-25 04:55:03.000000000,2018-10-25 04:55:03.000000000,"[{'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-23 15:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/869ca1bc4d80c73ff7a22d98e743540251071d73', 'message': 'Make containerized-undercloud-upgrades job non-voting\n\nThis review removes the containerized-undercloud-upgrades\njob from the gate and makes it non-voting in check while\nwe merge https://review.openstack.org/#/c/611800/\nand confirm there are no errors in this test.\n\nRelated-Bug: #1798525\nChange-Id: I3631a6b2c739316b1ff0c2786dbe44f59077f39b\n'}, {'number': 2, 'created': '2018-10-23 15:02:09.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a574b2d627a051d682d755558dbea4da0b8362a3', 'message': 'Make containerized-undercloud-upgrades job non-voting\n\nThis review removes the containerized-undercloud-upgrades\njob from the gate and makes it non-voting in check while\nwe merge https://review.openstack.org/#/c/611800/\nand confirm there are no errors in this test.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/219\n\nRelated-Bug: #1798525\nChange-Id: I3631a6b2c739316b1ff0c2786dbe44f59077f39b\n'}]",0,612724,a574b2d627a051d682d755558dbea4da0b8362a3,12,5,2,9976,,,0,"Make containerized-undercloud-upgrades job non-voting

This review removes the containerized-undercloud-upgrades
job from the gate and makes it non-voting in check while
we merge https://review.openstack.org/#/c/611800/
and confirm there are no errors in this test.

https://tree.taiga.io/project/tripleo-ci-board/issue/219

Related-Bug: #1798525
Change-Id: I3631a6b2c739316b1ff0c2786dbe44f59077f39b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/612724/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,869ca1bc4d80c73ff7a22d98e743540251071d73,bug/1798525, # TODO(rlandy) make it voting when we confirm # https://review.openstack.org/#/c/611800/ # is working as expected. voting: false, - tripleo-ci-centos-7-containerized-undercloud-upgrades,4,1
openstack%2Fpython-novaclient~master~I0c3d611fc322ae2c9f28ce3845b1c08eaab69485,openstack/python-novaclient,master,I0c3d611fc322ae2c9f28ce3845b1c08eaab69485,Deprecate the unused instance-name,MERGED,2018-09-14 03:14:57.000000000,2018-10-25 04:29:28.000000000,2018-10-25 04:29:28.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9610}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-14 03:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/130d3eba64f445274a058721992a6fc34b8afe74', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\n""}, {'number': 2, 'created': '2018-09-14 03:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/33e1b7dc313db50829d999b38fe7b6a40610b8d5', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 3, 'created': '2018-09-14 08:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3a6e1301fd000c70e9f6b772d0937c3c286711a9', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 4, 'created': '2018-09-17 01:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/839ed280a15e8ce78a56070f8932c8b171dd9943', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 5, 'created': '2018-09-18 07:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1663bdda9f7d81ee4bac00ba5542dfc248bc0aec', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 6, 'created': '2018-09-20 01:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fb2e17f5fd08084e94a1fdef1e9265fd06f0d790', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 7, 'created': '2018-09-21 01:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7699518b302fe17e12ff0032bbfa100003b8d084', 'message': ""Remove the unused instance-name\n\nThe '--instnace-name' attribute exists in nova CLI for a long time,\nbut it is not used and is difficult to get the microversion in which\nit is been removed. So it's time to remove it.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 8, 'created': '2018-09-28 03:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9c1aee1a3c012f4a9ce7d91107c329962df03047', 'message': ""Deprecate the unused instance-name\n\nThe '--instnace-name' option exists in nova CLI for a long time,\nbut it is not used, so we deprecate it firtly and will remove it in\nT release.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 9, 'created': '2018-09-28 06:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/757a3bd12eb5445f6e4b65d28e2b7a82182875e0', 'message': ""Deprecate the unused instance-name\n\nThe '--instnace-name' option exists in nova CLI for a long time,\nbut it is not used, so we deprecate it firtly and will remove it in\nT release.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 10, 'created': '2018-10-24 14:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4b42e548c50aebd10d9808019db11d3652a70e7f', 'message': ""Deprecate the unused instance-name\n\nThe '--instnace-name' option exists in nova CLI for a long time,\nbut it is not used, so we deprecate it firstly and will remove it in\nT release.\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}, {'number': 11, 'created': '2018-10-25 00:54:17.000000000', 'files': ['releasenotes/notes/deprecate-instance-name-option-bc76629d28f1d456.yaml', 'novaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/910201f20157c57e8b24d1f0e82763250f6df0d7', 'message': ""Deprecate the unused instance-name\n\nThe '--instnace-name' option exists in nova CLI for a long time,\nbut it is not used, so we deprecate it firstly and will remove it in\nT release.\n\n\nChange-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485\nCloses-Bug: #1788182\n""}]",16,602520,910201f20157c57e8b24d1f0e82763250f6df0d7,61,6,11,9610,,,0,"Deprecate the unused instance-name

The '--instnace-name' option exists in nova CLI for a long time,
but it is not used, so we deprecate it firstly and will remove it in
T release.


Change-Id: I0c3d611fc322ae2c9f28ce3845b1c08eaab69485
Closes-Bug: #1788182
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/20/602520/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'releasenotes/notes/remove-deprecated-option-in-3.3.0-82a413157838570d.yaml']",2,130d3eba64f445274a058721992a6fc34b8afe74,bug/1788182,, - --instance_name replaced by --instance-name,0,7
openstack%2Ffreezer-api~master~Idafc9d9c26540735fe8a4ddb24af1f09964d3846,openstack/freezer-api,master,Idafc9d9c26540735fe8a4ddb24af1f09964d3846,Add action table for bp add-mysql-support-for-freezer,MERGED,2018-10-24 07:23:33.000000000,2018-10-25 04:24:06.000000000,2018-10-25 04:24:06.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-24 07:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/308c7ddef023c7cbe4e6574b0b45238eb25c05ba', 'message': 'Add action table for bp add-mysql-support-for-freezer\n\nAdd table action and ActionReport in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-24 07:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0816e4b1603acbceefc727140b9fef047a26c295', 'message': 'Add action table for bp add-mysql-support-for-freezer\n\nAdd table action and ActionReport in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 3, 'created': '2018-10-24 08:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4dd43af4cae21c76c40601f0c5275db52c1ea355', 'message': 'Add action table for bp add-mysql-support-for-freezer\n\nAdd table action and ActionReport in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 4, 'created': '2018-10-24 09:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/31b67e89869fa060d55b1bbad934e3c71870ead8', 'message': 'Add action table for bp add-mysql-support-for-freezer\n\nAdd table action and ActionReport in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 5, 'created': '2018-10-25 02:55:05.000000000', 'files': ['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8c63de54e902409d95782be161106b6a1758c928', 'message': 'Add action table for bp add-mysql-support-for-freezer\n\nAdd table action and ActionReport in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846\nImplements: bp add-mysql-support-for-freezer\n'}]",1,612894,8c63de54e902409d95782be161106b6a1758c928,18,4,5,21387,,,0,"Add action table for bp add-mysql-support-for-freezer

Add table action and ActionReport in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: Idafc9d9c26540735fe8a4ddb24af1f09964d3846
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/94/612894/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py']",2,308c7ddef023c7cbe4e6574b0b45238eb25c05ba,bp/add-mysql-support-for-freezer," # The field backup_metadata is json, including : # hostname ,snapshot ,storage ,dry_run , lvm_auto_snap, lvm_dirmount, # lvm_snapname max_level , max_priority, max_segment_size , mode, # mysql_conf, path_to_backup, remove_older_than restore_abs_path # restore_from_host, ssh_host , ssh_key , ssh_username, ssh_port , proxy # no_incremental, overwrite , nova_inst_id , engine_name # restore_from_date , command , incremental user_id = Column(String(64), nullable=False) timeout = Column(Integer) priority = Column(Integer) max_retries_interval = Column(Integer, default=6) max_retries = Column(Integer, default=5) mandatory = Column(Boolean, default=False) log_file = Column(String(255)) backup_metadata = Column(Text) user_id = Column(String(64), nullable=False)"," restore_abs_path = Column(String(255))class ActionAttachment(BASE, FreezerBase): __tablename__ = 'action_attachments' id = Column(String(36), primary_key=True) action_id = Column(String(36), ForeignKey('actions.id'), nullable=False) job_id = Column(String(36), ForeignKey('jobs.id'), nullable=False) project_id = Column(String(36), nullable=False) priority = Column(Integer) retries = Column(Integer) retry_interval = Column(Integer) mandatory = Column(Boolean, default=False) action = relationship(Action, backref='action_attachments', foreign_keys=action_id, primaryjoin='and_(' 'ActionAttachment.action_id == Action.id,' 'ActionAttachment.deleted == False)') job = relationship(Job, backref='action_attachments', foreign_keys=job_id, primaryjoin='and_(' 'ActionAttachment.job_id == Job.id,' 'ActionAttachment.deleted == False)') action_id = Column(String(36), ForeignKey('actions.id'), nullable=False) action_attachment_id = Column( String(36), ForeignKey('actions.id'), nullable=False ) backup_metadata = Column(Text) action = relationship(Action, backref='action_reports', foreign_keys=action_id, primaryjoin='and_(' 'ActionReport.action_id == Action.id,' 'ActionReport.deleted == False)') action_attachment = relationship( ActionAttachment, backref='action_reports', foreign_keys=action_attachment_id, primaryjoin='and_(' 'ActionReport.action_attachment_id == ActionAttachment.id,' 'ActionReport.deleted == False)')",64,42
openstack%2Ftrove~master~I33252cce41c27cc7302c860dde1f6448ecdf3991,openstack/trove,master,I33252cce41c27cc7302c860dde1f6448ecdf3991,Add detailed list for instances,MERGED,2018-10-08 11:04:27.000000000,2018-10-25 03:34:28.000000000,2018-10-25 03:34:28.000000000,"[{'_account_id': 13157}, {'_account_id': 22348}, {'_account_id': 22608}, {'_account_id': 22694}, {'_account_id': 23707}, {'_account_id': 24739}, {'_account_id': 25113}, {'_account_id': 27518}, {'_account_id': 28646}, {'_account_id': 28671}, {'_account_id': 28695}, {'_account_id': 28713}, {'_account_id': 29159}]","[{'number': 1, 'created': '2018-10-08 11:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/759cf9f7d6764ef0f28c75a25e6428cbd0ed214a', 'message': 'Add detailed list for instances\n\nCurrently, listing instances only allows to get basic information about\nentities. To get the details, one need to query instance ""show"" endpoint\nfor each instance separately. This is inefficient and exposes API to a\nheavier load.\n\nThere are use cases in which we want to obtain detailed information\nabout all instances. In particular, in services integrating with Trove.\nFor example, Vitrage project requires this information to build vertices\nand edges in the resource graph for RCA analysis.\n\nChange-Id: I33252cce41c27cc7302c860dde1f6448ecdf3991\nSigned-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>\n'}, {'number': 2, 'created': '2018-10-08 11:52:08.000000000', 'files': ['trove/common/api.py', 'trove/common/policies/instances.py', 'trove/instance/views.py', 'releasenotes/notes/add-instance-detailed-list-e712dccf6c9091c0.yaml', 'trove/instance/service.py', 'trove/tests/api/instances.py', 'trove/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f9fd69e9c685d10197230d917b04a2ff71052eec', 'message': 'Add detailed list for instances\n\nCurrently, listing instances only allows to get basic information about\nentities. To get the details, one need to query instance ""show"" endpoint\nfor each instance separately. This is inefficient and exposes API to a\nheavier load.\n\nThere are use cases in which we want to obtain detailed information\nabout all instances. In particular, in services integrating with Trove.\nFor example, Vitrage project requires this information to build vertices\nand edges in the resource graph for RCA analysis.\n\nChange-Id: I33252cce41c27cc7302c860dde1f6448ecdf3991\nSigned-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>\n'}]",2,608640,f9fd69e9c685d10197230d917b04a2ff71052eec,20,13,2,28695,,,0,"Add detailed list for instances

Currently, listing instances only allows to get basic information about
entities. To get the details, one need to query instance ""show"" endpoint
for each instance separately. This is inefficient and exposes API to a
heavier load.

There are use cases in which we want to obtain detailed information
about all instances. In particular, in services integrating with Trove.
For example, Vitrage project requires this information to build vertices
and edges in the resource graph for RCA analysis.

Change-Id: I33252cce41c27cc7302c860dde1f6448ecdf3991
Signed-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/40/608640/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/api.py', 'trove/common/policies/instances.py', 'trove/instance/views.py', 'releasenotes/notes/add-instance-detailed-list-e712dccf6c9091c0.yaml', 'trove/instance/service.py', 'trove/tests/api/instances.py', 'trove/common/policies/base.py']",7,759cf9f7d6764ef0f28c75a25e6428cbd0ed214a,,PATH_INSTANCES_DETAIL = PATH_INSTANCES + '/detail',,63,6
openstack%2Fcyborg~master~I87f07ea2259e13a40491f4d1f7fa3c14bc88f16f,openstack/cyborg,master,I87f07ea2259e13a40491f4d1f7fa3c14bc88f16f,use context to get project_id and user_id,MERGED,2018-10-24 13:06:57.000000000,2018-10-25 03:28:57.000000000,2018-10-25 03:28:57.000000000,"[{'_account_id': 17813}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2018-10-24 13:06:57.000000000', 'files': ['cyborg/agent/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/55ed3e26494908e9ea9f671d17f82ff25036ebc4', 'message': 'use context to get project_id and user_id\n\nChange-Id: I87f07ea2259e13a40491f4d1f7fa3c14bc88f16f\n'}]",0,613012,55ed3e26494908e9ea9f671d17f82ff25036ebc4,8,3,1,14131,,,0,"use context to get project_id and user_id

Change-Id: I87f07ea2259e13a40491f4d1f7fa3c14bc88f16f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/12/613012/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/agent/resource_tracker.py'],1,55ed3e26494908e9ea9f671d17f82ff25036ebc4,bug-fix," 'project_id': context.project_id, 'user_id': context.user_id,"," 'project_id': pecan.request.context.project_id, 'user_id': pecan.request.context.user_id,",2,2
openstack%2Ffreezer-api~master~I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc,openstack/freezer-api,master,I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc,Add clients api for bp add-mysql-support-for-freezer,MERGED,2018-10-24 06:23:58.000000000,2018-10-25 03:23:21.000000000,2018-10-25 03:23:21.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-24 06:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/60603ee416b251d5ab7ba47221636e845c178ecc', 'message': 'Add clients api bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-24 06:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4005012f96385239e2452ad680b8130d92343dcc', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 3, 'created': '2018-10-24 07:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/048b7954739f27f20c180c57db3e96373701d07d', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 4, 'created': '2018-10-24 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/aefc7b78bc81e9e6e2d0114b4c31d2898be8fcba', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 5, 'created': '2018-10-24 08:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/53a4e28cb8c2a55e32ed76f786f6601db589965f', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 6, 'created': '2018-10-24 12:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/26d2b4c9cbec4f70f61185cb960ec8a66d8e35c3', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 7, 'created': '2018-10-25 00:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/5940ecb50dac1dd36b91173c97cfd82a5e9e7d37', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 8, 'created': '2018-10-25 01:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/94a1f0f527eaf6a43be357aa6945f632856ee1f3', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 9, 'created': '2018-10-25 01:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6d48527faf91f97e3d3bd251922807bdead8fe8b', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 10, 'created': '2018-10-25 01:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a47abe4e51a47a5e3834e39c288ce185f1a53911', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 11, 'created': '2018-10-25 01:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f26581bc35661c658afb73398a28f164d6a2749d', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 12, 'created': '2018-10-25 01:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a83a7590ddef21f80f6ecb5275eb3f85556ff02d', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 13, 'created': '2018-10-25 02:03:19.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/9db61ba0ba3c7de78f25ca1801c6ac110fff3c42', 'message': 'Add clients api for bp add-mysql-support-for-freezer\n\nAdd clients api in v2.\nThe other tables,api and test will be added in following patch.\n\nref: https://storyboard.openstack.org/#!/story/2004132\n\nStory: #2004132\nTask: #27578\n\nChange-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc\nImplements: bp add-mysql-support-for-freezer\n'}]",15,612888,9db61ba0ba3c7de78f25ca1801c6ac110fff3c42,37,5,13,21387,,,0,"Add clients api for bp add-mysql-support-for-freezer

Add clients api in v2.
The other tables,api and test will be added in following patch.

ref: https://storyboard.openstack.org/#!/story/2004132

Story: #2004132
Task: #27578

Change-Id: I8ac7cbd6fc41c25510c1a3ad000cb109f9306efc
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/88/612888/12 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,60603ee416b251d5ab7ba47221636e845c178ecc,bp/add-mysql-support-for-freezer,"import modelsfrom oslo_db.sqlalchemy import utils as sqlalchemyutilsfrom freezer_api.api.common import utils as json_utils from freezer_api.common import elasticv2_utils as utils from freezer_api.common import exceptions as freezer_api_excdef get_db_session(context=None): """"""Get a database session object. :param context: The request context that can contain a context manager """""" ctxt_mgr = get_context_manager(context) return ctxt_mgr.get_legacy_facade().get_session() def model_query(session, model, args=None, read_deleted='no', project_id=None): """"""Query helper that accounts for context's `read_deleted` field. :param context: NovaContext of the query. :param model: Model to query. Must be a subclass of ModelBase. :param args: Arguments to query. If None - model is used. :param read_deleted: If not None, overrides context's read_deleted field. Permitted values are 'no', which does not return deleted values; 'only', which only returns deleted values; and 'yes', which does not filter deleted values. :param project_only: If set and context is user-type, then restrict query to match the context's project_id. If set to 'allow_none', restriction includes project_id = None. """""" query_kwargs = {} if 'no' == read_deleted: query_kwargs['deleted'] = False elif 'only' == read_deleted: query_kwargs['deleted'] = True elif 'yes' == read_deleted: pass else: raise ValueError(_(""Unrecognized read_deleted value '%s'"") % read_deleted) query = sqlalchemyutils.model_query( model, session, args, **query_kwargs) if project_id: query = query.filter_by(project_id=project_id) return query def get_client(project_id, user_id, client_id=None, offset=0, limit=10, search=None): search = search or {} clients = [] session = get_db_session() query = model_query(session, models.Client, project_id=project_id) if client_id: query = query.filter_by(user_id=user_id).filter_by(config_id=client_id) else: query = query.filter_by(user_id=user_id) result = query.all() for client in result: clientmap = {} clientmap[u'project_id'] = client.project_id clientmap[u'user_id'] = client.user_id clientmap[u'client'] = {u'uuid': client.uuid, u'hostname': client.hostname, u'client_id': client.config_id, u'description': client.description} clients.append(clientmap) session.close() return clients def add_client(project_id, user_id, doc): client_doc = utils.ClientDoc.create(doc, project_id, user_id) client_id = client_doc['client']['client_id'] values = {} client_json = client_doc.get('client', {}) existing = get_client(project_id=project_id, user_id=user_id, client_id=client_id) if existing: raise freezer_api_exc.DocumentExists( message='Client already registered with ID' ' {0}'.format(client_id)) client = models.Client() values['project_id'] = project_id values['config_id'] = client_id values['id'] = client_json.get('uuid', None) values['user_id'] = user_id values['hostname'] = client_json.get('hostname', None) values['uuid'] = client_json.get('uuid', None) values['description'] = client_json.get('description', None) client.update(values) session = get_db_session() with session.begin(): try: client.save(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Client registered, client_id: {0}'.format(client_id)) session.close() return client_id def delete_client(project_id, user_id, client_id): session = get_db_session() query = model_query(session, models.Client, project_id=project_id) query = query.filter_by(user_id=user_id).filter_by(config_id=client_id) result = query.all() if 1 == len(result): try: result[0].delete(session=session) except Exception as e: session.close() raise freezer_api_exc.StorageEngineError( message='mysql operation failed {0}'.format(e)) LOG.info('Client delete, client_id: {0} deleted'. format(client_id)) else: LOG.info('Client delete, client_id: {0} not found'. format(client_id)) session.close() return client_id",,139,0
openstack%2Fstorlets~master~Id54cab0071fbd0aad5189257e1002e7a6f45a822,openstack/storlets,master,Id54cab0071fbd0aad5189257e1002e7a6f45a822,"Make the playbook's yaml file start with ""---""",MERGED,2018-10-19 04:52:19.000000000,2018-10-25 03:13:35.000000000,2018-10-25 03:13:35.000000000,"[{'_account_id': 4608}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-10-19 04:52:19.000000000', 'files': ['playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/pre.yaml', 'README.rst', 'playbooks/storlets-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/f7996cb73e47c173108a7e4ae038870bd3b26af8', 'message': 'Make the playbook\'s yaml file start with ""---""\n\n1. the yamls file of playbook should start with ""---"".\n2. Update the url to https due to it redirct to it.\n\nChange-Id: Id54cab0071fbd0aad5189257e1002e7a6f45a822\n'}]",0,611776,f7996cb73e47c173108a7e4ae038870bd3b26af8,10,6,1,27781,,,0,"Make the playbook's yaml file start with ""---""

1. the yamls file of playbook should start with ""---"".
2. Update the url to https due to it redirct to it.

Change-Id: Id54cab0071fbd0aad5189257e1002e7a6f45a822
",git fetch https://review.opendev.org/openstack/storlets refs/changes/76/611776/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/pre.yaml', 'README.rst', 'playbooks/storlets-functional/run.yaml']",4,f7996cb73e47c173108a7e4ae038870bd3b26af8,,---,,11,8
openstack%2Fheat~master~Ic79cc07a2d11772c1892b2db8c4c02cc7be4081c,openstack/heat,master,Ic79cc07a2d11772c1892b2db8c4c02cc7be4081c,"Revert ""Add openstack/placement as a required project for heat-grenade*""",MERGED,2018-10-24 12:49:07.000000000,2018-10-25 03:02:38.000000000,2018-10-25 03:02:38.000000000,"[{'_account_id': 6873}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 12:49:07.000000000', 'files': ['.zuul.yaml', 'playbooks/devstack/grenade/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/0b9c9dbce7e3f12e280d22a8177851bf79aff087', 'message': 'Revert ""Add openstack/placement as a required project for heat-grenade*""\n\nThis reverts commit 4e8a3ca6b2041c170f4073499ee0315616396af2.\n\nThis is handled generically with this change and its dependency:\n\n  https://review.openstack.org/#/c/606853/\n\nChange-Id: Ic79cc07a2d11772c1892b2db8c4c02cc7be4081c\n'}]",0,613008,0b9c9dbce7e3f12e280d22a8177851bf79aff087,10,3,1,6873,,,0,"Revert ""Add openstack/placement as a required project for heat-grenade*""

This reverts commit 4e8a3ca6b2041c170f4073499ee0315616396af2.

This is handled generically with this change and its dependency:

  https://review.openstack.org/#/c/606853/

Change-Id: Ic79cc07a2d11772c1892b2db8c4c02cc7be4081c
",git fetch https://review.opendev.org/openstack/heat refs/changes/08/613008/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/devstack/grenade/run.yaml']",2,0b9c9dbce7e3f12e280d22a8177851bf79aff087,cd/placement-solo,," # Grenade needs to clone the placement repo on the Stein side since # the repo did not exist in Rocky. export PROJECTS=""openstack/placement $PROJECTS""",0,7
openstack%2Fnova~master~I6490e9db04d7cbc7b85d0a5ae496eee4efaf0eca,openstack/nova,master,I6490e9db04d7cbc7b85d0a5ae496eee4efaf0eca,Remove method get_by_service_id,ABANDONED,2017-10-13 08:32:27.000000000,2018-10-25 02:57:51.000000000,,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-13 08:32:27.000000000', 'files': ['nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0da67cb5fc6169d73f940f760c52a3eb4f157525', 'message': 'Remove method get_by_service_id\n\nThis is deprecated and should be removed on the next version bump.\n\nChange-Id: I6490e9db04d7cbc7b85d0a5ae496eee4efaf0eca\n'}]",2,511767,0da67cb5fc6169d73f940f760c52a3eb4f157525,17,12,1,26617,,,0,"Remove method get_by_service_id

This is deprecated and should be removed on the next version bump.

Change-Id: I6490e9db04d7cbc7b85d0a5ae496eee4efaf0eca
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/511767/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py']",2,0da67cb5fc6169d73f940f760c52a3eb4f157525,remove_get_by_service_id,," @mock.patch.object(db, 'compute_nodes_get_by_service_id') def test_get_by_service_id(self, get_mock): get_mock.return_value = [fake_compute_node] compute = compute_node.ComputeNode.get_by_service_id(self.context, 456) self.compare_obj(compute, fake_compute_node, subs=self.subs(), comparators=self.comparators()) get_mock.assert_called_once_with(self.context, 456) ",0,19
openstack%2Fnova~master~I1dce3408f1ebc3c2c2ea207d05c28319d32159af,openstack/nova,master,I1dce3408f1ebc3c2c2ea207d05c28319d32159af,Move libvirts qemu-img support to privsep,ABANDONED,2017-09-27 13:03:35.000000000,2018-10-25 02:57:34.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-27 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bdc73213a8e1f2f872e5912b9af775f59dec394', 'message': ""Move libvirts qemu-img support to privsep.\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 2, 'created': '2017-09-27 13:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab5d9a80c0b008671e9a40dee5c2702f15e7e18a', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 3, 'created': '2017-09-29 04:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea555557f9620b7e6f3f04af1f3f02d0dbf03396', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 4, 'created': '2017-10-06 06:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17dfc2e1084af58e66a57b09d8d5a7920f9b53ba', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 5, 'created': '2017-10-06 09:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0974b3afd1d7faf1bccf6c3ada58b2a16f5f27de', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 6, 'created': '2017-10-06 09:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b30f5e843ba91f520e7410144f022003b8e45768', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}, {'number': 7, 'created': '2017-10-06 09:15:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/privsep/libvirt.py', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml', 'nova/virt/libvirt/utils.py', 'nova/virt/disk/api.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/058f3090e4d916d4411dca38564b1ab10cf19a18', 'message': ""Move libvirts qemu-img support to privsep\n\nThis is the example of something where we can't just move to python\ncalls on the far side of the trust boundary. So we just move the\nexecutes() to the trusted sie and make sure their attack surface\nis as small as possible.\n\nChange-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af\nblueprint: hurrah-for-privsep\n""}]",6,507848,058f3090e4d916d4411dca38564b1ab10cf19a18,43,11,7,26617,,,0,"Move libvirts qemu-img support to privsep

This is the example of something where we can't just move to python
calls on the far side of the trust boundary. So we just move the
executes() to the trusted sie and make sure their attack surface
is as small as possible.

Change-Id: I1dce3408f1ebc3c2c2ea207d05c28319d32159af
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/507848/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/privsep/libvirt.py', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml', 'nova/virt/libvirt/utils.py', 'nova/virt/disk/api.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,3bdc73213a8e1f2f872e5912b9af775f59dec394,bp/hurrah-for-privsep," @mock.patch('nova.privsep.libvirt.qemu_image_raw_to_qcow2') mock.call(path, _path_qcow), @mock.patch('nova.privsep.livirt.qemu_image_qcow2_to_raw') mock.call(path, _path_raw),"," @mock.patch('nova.utils.execute') mock.call('qemu-img', 'convert', '-f', 'raw', '-O', 'qcow2', path, _path_qcow), @mock.patch('nova.utils.execute') mock.call('qemu-img', 'convert', '-f', 'qcow2', '-O', 'raw', path, _path_raw),",54,22
openstack%2Fnova~master~I59e0a45071451b1cb0b163e52c49d03752d73581,openstack/nova,master,I59e0a45071451b1cb0b163e52c49d03752d73581,Remove code in this method _set_auth_config_rbd,ABANDONED,2017-09-23 16:17:01.000000000,2018-10-25 02:57:25.000000000,,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-23 16:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42adcfeee1e8f620b08c20a64e22871869c58934', 'message': ""Remove code in this method _set_auth_config_rbd\n\nAnyone relying on falling back to nova config is probably having\nthis work accidentally and we'll remove that support in the\n17.0.0 Queens release.\n\nFalling back to Nova configuration values for\nRBD authentication. Cinder should be configured\nfor auth with Ceph volumes.\n\nChange-Id: I59e0a45071451b1cb0b163e52c49d03752d73581\n""}, {'number': 2, 'created': '2017-09-24 03:13:54.000000000', 'files': ['nova/virt/libvirt/volume/net.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a56b2b38bcc4088c43919c8775f1f3c6fda9c10f', 'message': ""Remove code in this method _set_auth_config_rbd\n\nAnyone relying on falling back to nova config is probably having\nthis work accidentally and we'll remove that support in the\n17.0.0 Queens release.\n\nFalling back to Nova configuration values for\nRBD authentication. Cinder should be configured\nfor auth with Ceph volumes.\n\nChange-Id: I59e0a45071451b1cb0b163e52c49d03752d73581\n""}]",1,506868,a56b2b38bcc4088c43919c8775f1f3c6fda9c10f,18,8,2,26617,,,0,"Remove code in this method _set_auth_config_rbd

Anyone relying on falling back to nova config is probably having
this work accidentally and we'll remove that support in the
17.0.0 Queens release.

Falling back to Nova configuration values for
RBD authentication. Cinder should be configured
for auth with Ceph volumes.

Change-Id: I59e0a45071451b1cb0b163e52c49d03752d73581
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/506868/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/net.py'],1,42adcfeee1e8f620b08c20a64e22871869c58934,remove_code,, elif CONF.libvirt.rbd_secret_uuid: # Anyone relying on falling back to nova config is probably having # this work accidentally and we'll remove that support in the # 17.0.0 Queens release. # NOTE(mriedem): We'll have to be extra careful about this in case # the reason we got here is due to an old volume connection created # before we started preferring the Cinder settings in Ocata. LOG.warning('Falling back to Nova configuration values for ' 'RBD authentication. Cinder should be configured ' 'for auth with Ceph volumes. This fallback will ' 'be dropped in the Nova 17.0.0 Queens release.') # use the nova config values conf.auth_username = CONF.libvirt.rbd_user conf.auth_secret_uuid = CONF.libvirt.rbd_secret_uuid # secret_type is always hard-coded to 'ceph' in cinder conf.auth_secret_type = netdisk_properties['secret_type'],0,16
openstack%2Foslo.db~master~I00df9de39ac7a0db7dbf074a26acb5c0b2f188c5,openstack/oslo.db,master,I00df9de39ac7a0db7dbf074a26acb5c0b2f188c5,Remove debtcollector.removals.removed_class in test_base.py,ABANDONED,2017-09-08 06:59:21.000000000,2018-10-25 02:57:14.000000000,,"[{'_account_id': 3}, {'_account_id': 7}]","[{'number': 1, 'created': '2017-09-08 06:59:21.000000000', 'files': ['oslo_db/sqlalchemy/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3a4b5b17a32b034c23f6db2e44863e6491c309a0', 'message': 'Remove debtcollector.removals.removed_class in test_base.py\n\nThere are some function debtcollector.removals.removed_class in test_base.py.\nI find that these classes are still using in other place by searching in\nhttp://codesearch.openstack.org/. So these functions should be removed.\n\nChange-Id: I00df9de39ac7a0db7dbf074a26acb5c0b2f188c5\nCloses-Bug:#1715815\n'}]",0,501977,3a4b5b17a32b034c23f6db2e44863e6491c309a0,4,2,1,26617,,,0,"Remove debtcollector.removals.removed_class in test_base.py

There are some function debtcollector.removals.removed_class in test_base.py.
I find that these classes are still using in other place by searching in
http://codesearch.openstack.org/. So these functions should be removed.

Change-Id: I00df9de39ac7a0db7dbf074a26acb5c0b2f188c5
Closes-Bug:#1715815
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/77/501977/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/test_base.py'],1,3a4b5b17a32b034c23f6db2e44863e6491c309a0,1715815,,"import debtcollector@debtcollector.removals.removed_class(""DbFixture"")@debtcollector.removals.removed_class(""DbTestCase"")@debtcollector.removals.removed_class(""OpportunisticTestCase"")@debtcollector.removals.removed_class(""MySQLOpportunisticFixture"")@debtcollector.removals.removed_class(""PostgreSQLOpportunisticFixture"")@debtcollector.removals.removed_class(""MySQLOpportunisticTestCase"")@debtcollector.removals.removed_class(""PostgreSQLOpportunisticTestCase"")",0,8
openstack%2Foslo.db~master~I26c727821819c3b7460e7f26b08065f4208e7a34,openstack/oslo.db,master,I26c727821819c3b7460e7f26b08065f4208e7a34,Remove debtcollector.renames.renamed_kwarg in oslo.db,ABANDONED,2017-09-07 16:36:40.000000000,2018-10-25 02:57:07.000000000,,"[{'_account_id': 3}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-07 16:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/16dad853ab62a122c2fc0916c383626bc064988d', 'message': 'Remove debtcollector.renames.renamed_kwarg in oslo.db\n\nKwarg idle_timeout has been already replaced of connection_recycle_time.\nSo debtcollector.renames.renamed_kwarg is deprecated for removal.\n\nChange-Id: I26c727821819c3b7460e7f26b08065f4208e7a34\nCloses-Bug:#1715692\n'}, {'number': 2, 'created': '2017-09-08 01:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1578854fbabd06d94af1b8fc85056391cc97d52d', 'message': 'Remove debtcollector.renames.renamed_kwarg in oslo.db\n\nKwarg idle_timeout has been already replaced of connection_recycle_time.\nSo debtcollector.renames.renamed_kwarg is deprecated for removal.\n\nChange-Id: I26c727821819c3b7460e7f26b08065f4208e7a34\nCloses-Bug:#1715692\n'}, {'number': 3, 'created': '2018-02-28 08:38:24.000000000', 'files': ['oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/39d5bcdc5d08e5abfd99a34b2b29f86a4797863c', 'message': 'Remove debtcollector.renames.renamed_kwarg in oslo.db\n\nKwarg idle_timeout has been already replaced of connection_recycle_time.\nSo debtcollector.renames.renamed_kwarg is deprecated for removal.\n\nChange-Id: I26c727821819c3b7460e7f26b08065f4208e7a34\nCloses-Bug:#1715692\n'}]",2,501803,39d5bcdc5d08e5abfd99a34b2b29f86a4797863c,12,5,3,26617,,,0,"Remove debtcollector.renames.renamed_kwarg in oslo.db

Kwarg idle_timeout has been already replaced of connection_recycle_time.
So debtcollector.renames.renamed_kwarg is deprecated for removal.

Change-Id: I26c727821819c3b7460e7f26b08065f4208e7a34
Closes-Bug:#1715692
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/03/501803/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/sqlalchemy/engines.py']",2,16dad853ab62a122c2fc0916c383626bc064988d,oslo-debt-cleanup,,"import debtcollector.renames@debtcollector.renames.renamed_kwarg( ""idle_timeout"", ""connection_recycle_time"", replace=True)",0,8
openstack%2Ffreezer-api~master~Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22,openstack/freezer-api,master,Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22,Change config_id to client_id in clients table,MERGED,2018-10-24 08:38:37.000000000,2018-10-25 02:45:29.000000000,2018-10-25 02:45:29.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-24 08:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a8622f427c66aca5aa45bf2e2d58359f97555022', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 2, 'created': '2018-10-24 09:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/d7cb237f7f8048641d07138b5535409e1e5a2441', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 3, 'created': '2018-10-24 09:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/aa41f9228f060df5fccc929b0fa384f44238468f', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 4, 'created': '2018-10-24 12:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4d8d7bae9d35b6802f7a6445972a82138d6bedab', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 5, 'created': '2018-10-25 00:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/80fe8f30af11b889da765e9b63be93ed5ce92b61', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 6, 'created': '2018-10-25 00:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c9bba83f1d01716e8dc9bd393aa25fefc894e7fc', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}, {'number': 7, 'created': '2018-10-25 01:26:22.000000000', 'files': ['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/93a000a514a441122449b16998b4961a70fb8387', 'message': 'Change config_id to client_id in clients table\n\nconfig_id is actually client_id, this patch modify it\n\nStory: #2004132\nTask: #27578\n\nChange-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22\nImplements: bp add-mysql-support-for-freezer\n'}]",0,612946,93a000a514a441122449b16998b4961a70fb8387,25,3,7,21387,,,0,"Change config_id to client_id in clients table

config_id is actually client_id, this patch modify it

Story: #2004132
Task: #27578

Change-Id: Ie561b1d2cfbc783bd74af4e0c4d3d13b7b45be22
Implements: bp add-mysql-support-for-freezer
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/46/612946/7 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/db/sqlalchemy/migrate_repo/versions/001_freezer_api_init.py', 'freezer_api/db/sqlalchemy/api.py', 'freezer_api/db/sqlalchemy/models.py']",3,a8622f427c66aca5aa45bf2e2d58359f97555022,bp/add-mysql-support-for-freezer," client_id = Column(String(255), nullable=False)"," config_id = Column(String(255), nullable=False)",6,6
openstack%2Ffreezer-dr~master~I0400da74d287b7903b0b0552deb98b10ea7e2b0d,openstack/freezer-dr,master,I0400da74d287b7903b0b0552deb98b10ea7e2b0d,Define get_info method in evacuator backend drivers,MERGED,2018-10-17 06:58:55.000000000,2018-10-25 02:37:20.000000000,2018-10-25 02:37:20.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 06:58:55.000000000', 'files': ['freezer_dr/evacuators/drivers/dummy/dummy.py', 'freezer_dr/evacuators/drivers/default/standard.py'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/eeb86e8b780c3075ce5365f75428932d7f2593cd', 'message': 'Define get_info method in evacuator backend drivers\n\nThis is needed because get_info is declared as a abstract method\nin the base class [1].\n\n[1] https://github.com/openstack/freezer-dr/blob/master/freezer_dr/evacuators/common/driver.py#L45\n\nChange-Id: I0400da74d287b7903b0b0552deb98b10ea7e2b0d\nCloses-Bug: #1798255\n'}]",0,611249,eeb86e8b780c3075ce5365f75428932d7f2593cd,7,2,1,25562,,,0,"Define get_info method in evacuator backend drivers

This is needed because get_info is declared as a abstract method
in the base class [1].

[1] https://github.com/openstack/freezer-dr/blob/master/freezer_dr/evacuators/common/driver.py#L45

Change-Id: I0400da74d287b7903b0b0552deb98b10ea7e2b0d
Closes-Bug: #1798255
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/49/611249/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_dr/evacuators/drivers/dummy/dummy.py', 'freezer_dr/evacuators/drivers/default/standard.py']",2,eeb86e8b780c3075ce5365f75428932d7f2593cd,bug/1798255," def get_info(self): """""" To be implemented. Get Driver Information :return: Dict contains driver information """""" raise NotImplementedError",,10,0
openstack%2Fneutron~stable%2Fqueens~If620b23564479042aa6f58640bcd6705e5eb52cf,openstack/neutron,stable/queens,If620b23564479042aa6f58640bcd6705e5eb52cf,DVR-HA: Configure extra routes on router namespace in dvr_snat node,MERGED,2018-10-19 04:41:04.000000000,2018-10-25 02:30:28.000000000,2018-10-25 02:30:28.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 04:41:04.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc0fc25bfc9766ce27b2c1d0bd67bb9fe29c0da6', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n(cherry picked from commit 81652cd939ebaf7ea09e5f8dd31d8185619c8243)\n'}]",0,611774,cc0fc25bfc9766ce27b2c1d0bd67bb9fe29c0da6,23,8,1,7016,,,0,"DVR-HA: Configure extra routes on router namespace in dvr_snat node

Extra routes are not configured on Router namespaces in dvr_snat
node with DVR-HA configuration.
This patch fixes the problem.

Change-Id: If620b23564479042aa6f58640bcd6705e5eb52cf
Closes-Bug: #1797037
(cherry picked from commit 81652cd939ebaf7ea09e5f8dd31d8185619c8243)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/611774/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py']",2,cc0fc25bfc9766ce27b2c1d0bd67bb9fe29c0da6,bug/1797037-stable/queens," self, router_namespace=True, check_fpr_int_rule_delete=False, enable_ha=False): router_info = self.generate_dvr_router_info( enable_snat=True, enable_ha=enable_ha) if not enable_ha: self._assert_extra_routes(router_updated, namespace=snat_ns_name) def test_dvr_ha_rtr_static_routes_in_rtr_namespace(self): self._setup_dvr_router_static_routes(enable_ha=True) "," self, router_namespace=True, check_fpr_int_rule_delete=False): router_info = self.generate_dvr_router_info(enable_snat=True) self._assert_extra_routes(router_updated, namespace=snat_ns_name)",11,3
openstack%2Fkeystone~stable%2Fqueens~I14748bf2399e5da4ee360f451a8050f25dd90803,openstack/keystone,stable/queens,I14748bf2399e5da4ee360f451a8050f25dd90803,Invalidate app cred AFTER deletion,MERGED,2018-10-21 19:52:38.000000000,2018-10-25 02:30:25.000000000,2018-10-25 02:30:25.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-21 19:52:38.000000000', 'files': ['keystone/application_credential/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/db14ee24a7102f1f9f0f95ac55ea39da1fb88e26', 'message': 'Invalidate app cred AFTER deletion\n\nInvalidate the application credential after deletion, not before.\nThis prevents timing issues where an app_cred could remain active\nafter deletion.\n\nChange-Id: I14748bf2399e5da4ee360f451a8050f25dd90803\n(cherry picked from commit 906a1d3f689b9226cb949153fc9b07d287e7ff75)\n'}]",0,612212,db14ee24a7102f1f9f0f95ac55ea39da1fb88e26,13,5,1,2903,,,0,"Invalidate app cred AFTER deletion

Invalidate the application credential after deletion, not before.
This prevents timing issues where an app_cred could remain active
after deletion.

Change-Id: I14748bf2399e5da4ee360f451a8050f25dd90803
(cherry picked from commit 906a1d3f689b9226cb949153fc9b07d287e7ff75)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/612212/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/application_credential/core.py'],1,db14ee24a7102f1f9f0f95ac55ea39da1fb88e26,, self.driver.delete_application_credential(application_credential_id), self.driver.delete_application_credential(application_credential_id),1,1
openstack%2Fneutron~stable%2Fpike~I61f0ec1a57a05302265bdc1bc3805b2fb9aed2d7,openstack/neutron,stable/pike,I61f0ec1a57a05302265bdc1bc3805b2fb9aed2d7,"Revert ""DVR: Fix allowed_address_pair IP, ARP table update by neutron agent""",MERGED,2018-09-13 17:16:10.000000000,2018-10-25 02:30:23.000000000,2018-10-25 02:30:23.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-13 17:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3437aba484cc67607c4bf4a5d04bc40776186752', 'message': 'Revert ""DVR: Fix allowed_address_pair IP, ARP table update by neutron agent""\n\nThis reverts commit 34b7213ee37d80ef1844f0bf8baae3fca1535038.\n\nChange-Id: I61f0ec1a57a05302265bdc1bc3805b2fb9aed2d7\n'}, {'number': 2, 'created': '2018-09-13 17:18:11.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8804486c49904754acac8c7a6754d32796569f19', 'message': 'Revert ""DVR: Fix allowed_address_pair IP, ARP table update by neutron agent""\n\nThis reverts commit 34b7213ee37d80ef1844f0bf8baae3fca1535038.\n\nCloses-bug: #1773999\nChange-Id: I61f0ec1a57a05302265bdc1bc3805b2fb9aed2d7\n'}]",0,602401,8804486c49904754acac8c7a6754d32796569f19,46,10,2,7016,,,0,"Revert ""DVR: Fix allowed_address_pair IP, ARP table update by neutron agent""

This reverts commit 34b7213ee37d80ef1844f0bf8baae3fca1535038.

Closes-bug: #1773999
Change-Id: I61f0ec1a57a05302265bdc1bc3805b2fb9aed2d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/602401/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr.py']",7,3437aba484cc67607c4bf4a5d04bc40776186752,bug/1608400," ri._update_arp_entry(ip, mac, subnet_id, action)"," nud_state = arp_table.get('nud_state') ri._update_arp_entry(ip, mac, subnet_id, action, nud_state=nud_state)",17,96
openstack%2Fironic-inspector~master~I98a21a1113dbbcbe78c62de616c930b56f9834f8,openstack/ironic-inspector,master,I98a21a1113dbbcbe78c62de616c930b56f9834f8,Add openstack/placement as a required project,ABANDONED,2018-10-08 07:14:17.000000000,2018-10-25 02:25:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-08 07:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e8173cee641a642ba9decbe76edd1630266adc85', 'message': 'DNM/TEST grenade job\n\nChange-Id: I98a21a1113dbbcbe78c62de616c930b56f9834f8\n'}, {'number': 2, 'created': '2018-10-08 07:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c4dde1af4dfed9b27651bae37b7e39990be9e3d8', 'message': 'DNM/TEST grenade job\n\nChange-Id: I98a21a1113dbbcbe78c62de616c930b56f9834f8\n'}, {'number': 3, 'created': '2018-10-10 08:18:24.000000000', 'files': ['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/legacy-ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1ed74ee847ecfa12cefbf08479ad57c108a4b7d5', 'message': 'Add openstack/placement as a required project\n\nThis is a copy & paste change from the patch\nhttps://review.openstack.org/#/c/606850, which I believe\nonce the patch based on it is merged, will break inspector\ngate as well.\n\nChange-Id: I98a21a1113dbbcbe78c62de616c930b56f9834f8\n'}]",0,608591,1ed74ee847ecfa12cefbf08479ad57c108a4b7d5,6,1,3,24828,,,0,"Add openstack/placement as a required project

This is a copy & paste change from the patch
https://review.openstack.org/#/c/606850, which I believe
once the patch based on it is merged, will break inspector
gate as well.

Change-Id: I98a21a1113dbbcbe78c62de616c930b56f9834f8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/91/608591/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml'],1,e8173cee641a642ba9decbe76edd1630266adc85,placement," export PROJECTS=""openstack-dev/grenade openstack/placement $PROJECTS"""," export PROJECTS=""openstack-dev/grenade $PROJECTS""",1,1
openstack%2Fsenlin-dashboard~master~I43603171bd641faa10e52a65fbea1d35ef6a1913,openstack/senlin-dashboard,master,I43603171bd641faa10e52a65fbea1d35ef6a1913,Imported Translations from Zanata,MERGED,2018-10-22 07:08:01.000000000,2018-10-25 02:04:27.000000000,2018-10-25 02:04:27.000000000,"[{'_account_id': 1736}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 07:08:01.000000000', 'files': ['senlin_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/e8aa34bb0e3775f29dc63dda0e3433530849d685', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I43603171bd641faa10e52a65fbea1d35ef6a1913\n'}]",0,612263,e8aa34bb0e3775f29dc63dda0e3433530849d685,10,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I43603171bd641faa10e52a65fbea1d35ef6a1913
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/63/612263/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,e8aa34bb0e3775f29dc63dda0e3433530849d685,zanata/translations,"# Sungjin Kang <gang.sungjin@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-10-16 19:22+0000\n""""PO-Revision-Date: 2018-10-21 08:00+0000\n"" ""Last-Translator: Sungjin Kang <gang.sungjin@gmail.com>\n""msgctxt ""Current status of a Node"" msgid ""ACTIVE"" msgstr ""ACTIVE"" msgid ""Action ="" msgstr ""Action ="" msgctxt ""Current status of a Node"" msgid ""CREATING"" msgstr ""CREATING"" msgid ""Channel"" msgstr ""Channel"" msgctxt ""Current status of a Node"" msgid ""DELETING"" msgstr ""DELETING"" msgctxt ""Current status of a Node"" msgid ""ERROR"" msgstr ""ERROR"" msgid ""File"" msgstr ""파일"" msgctxt ""Current status of a Node"" msgid ""INIT"" msgstr ""INIT"" msgid ""Parameters"" msgstr ""매개 변수"" msgctxt ""Current status of a Node"" msgid ""RECOVERING"" msgstr ""RECOVERING"" msgid ""Select Type"" msgstr ""타입 선택"" msgctxt ""Current status of a Node"" msgid ""UPDATING"" msgstr ""UPDATING"" msgctxt ""Current status of a Node"" msgid ""WARNING"" msgstr ""WARNING"" msgctxt ""Current status of the event"" msgid ""WARNING"" msgstr ""WARNING"" ","""POT-Creation-Date: 2018-03-14 07:30+0000\n""""PO-Revision-Date: 2018-03-17 07:33+0000\n"" ""Last-Translator: Jaewook Oh <kyle.oh95@gmail.com>\n""",55,3
openstack%2Frequirements~master~I557ef24a2ff7f77cddc2bc4322cd3fef0f6e5577,openstack/requirements,master,I557ef24a2ff7f77cddc2bc4322cd3fef0f6e5577,update constraint for python-novaclient to new release 11.1.0,MERGED,2018-10-24 17:51:08.000000000,2018-10-25 02:03:06.000000000,2018-10-25 02:03:05.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:51:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/15394f32499d341d8b02a120dd2331e01631ae69', 'message': 'update constraint for python-novaclient to new release 11.1.0\n\nChange-Id: I557ef24a2ff7f77cddc2bc4322cd3fef0f6e5577\nmeta:version: 11.1.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ibea9ee607b61b03115428a0bb9a6dd128952d0d8\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613123,15394f32499d341d8b02a120dd2331e01631ae69,6,3,1,11131,,,0,"update constraint for python-novaclient to new release 11.1.0

Change-Id: I557ef24a2ff7f77cddc2bc4322cd3fef0f6e5577
meta:version: 11.1.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ibea9ee607b61b03115428a0bb9a6dd128952d0d8
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/613123/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,15394f32499d341d8b02a120dd2331e01631ae69,new-release,python-novaclient===11.1.0,python-novaclient===11.0.0,1,1
openstack%2Frequirements~master~I2e3ea820fd1c7de8d7fcc1a7b7d4f48bee05adf3,openstack/requirements,master,I2e3ea820fd1c7de8d7fcc1a7b7d4f48bee05adf3,update constraint for keystonemiddleware to new release 5.3.0,MERGED,2018-10-24 17:36:04.000000000,2018-10-25 02:03:05.000000000,2018-10-25 02:03:05.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:36:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ce9b589e4d28fcf81ed35b882757321b9d08b073', 'message': 'update constraint for keystonemiddleware to new release 5.3.0\n\nChange-Id: I2e3ea820fd1c7de8d7fcc1a7b7d4f48bee05adf3\nmeta:version: 5.3.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I4b2d57bd31cb244cb02c7a45b8637579cc240ed7\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613120,ce9b589e4d28fcf81ed35b882757321b9d08b073,6,3,1,11131,,,0,"update constraint for keystonemiddleware to new release 5.3.0

Change-Id: I2e3ea820fd1c7de8d7fcc1a7b7d4f48bee05adf3
meta:version: 5.3.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I4b2d57bd31cb244cb02c7a45b8637579cc240ed7
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/613120/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ce9b589e4d28fcf81ed35b882757321b9d08b073,new-release,keystonemiddleware===5.3.0,keystonemiddleware===5.2.0,1,1
openstack%2Fpython-zunclient~master~I6ecdb63e633f145614b1a0d57712352dace7acf2,openstack/python-zunclient,master,I6ecdb63e633f145614b1a0d57712352dace7acf2,Add quotas and quota classes,MERGED,2018-09-27 10:14:37.000000000,2018-10-25 01:58:41.000000000,2018-10-25 01:58:41.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-09-27 10:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/4aa13bd72f9352513dded81f71b3da17d0064e92', 'message': '[WIP] Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 2, 'created': '2018-09-30 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/a243dfe86dc7696b33fb1242efec13aec2c055bd', 'message': '[WIP] Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 3, 'created': '2018-10-07 05:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/95e4ccc9d5ccacb4853ff2a032f1d577a67b6f09', 'message': '[WIP] Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 4, 'created': '2018-10-09 02:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/6ff778363dbf2f9a9da099f5d489f02f99ad6eb0', 'message': '[WIP] Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 5, 'created': '2018-10-21 06:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/f0ec74a8593ceb5ba009474c2b94c1a2da3ce453', 'message': '[WIP] Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 6, 'created': '2018-10-23 04:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/a05d46984213cdae1be319fcc93876595c972595', 'message': 'Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 7, 'created': '2018-10-24 02:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/1786c2de015c56e849d2495ad0010fa75dc89489', 'message': 'Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}, {'number': 8, 'created': '2018-10-24 03:08:16.000000000', 'files': ['zunclient/v1/quota_classes_shell.py', 'zunclient/v1/quota_classes.py', 'zunclient/tests/unit/v1/test_quotas.py', 'zunclient/v1/shell.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py', 'zunclient/v1/quotas.py', 'zunclient/osc/v1/quota_classes.py', 'zunclient/api_versions.py', 'zunclient/v1/quotas_shell.py', 'setup.cfg', 'zunclient/common/cliutils.py', 'zunclient/osc/v1/quotas.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/239b3b9cf5b30e8dbfa70b482c06cd3e2692a145', 'message': 'Add quotas and quota classes\n\nChange-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2\nImplements: blueprint quota-support\n'}]",17,605638,239b3b9cf5b30e8dbfa70b482c06cd3e2692a145,38,4,8,22406,,,0,"Add quotas and quota classes

Change-Id: I6ecdb63e633f145614b1a0d57712352dace7acf2
Implements: blueprint quota-support
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/38/605638/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/quota_classes_shell.py', 'zunclient/v1/quotas_shell.py', 'zunclient/v1/quota_classes.py', 'zunclient/v1/client.py', 'zunclient/v1/quotas.py']",5,4aa13bd72f9352513dded81f71b3da17d0064e92,bp/quota-support,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from zunclient.common import base class Quota(base.Resource): def __repr__(self): return ""<Quota %s>"" % self._info class QuotaManager(base.Manager): resource_class = Quota @staticmethod def _path(): return '/v1/quotas' def get(self, **kwargs): return self._list(self._path(), qparams=kwargs) def update(self, containers=None, memory=None, cpu=None, disk=None): resources = {} if cpu is not None: resources['cpu'] = cpu if memory is not None: resources['memory'] = memory if containers is not None: resources['containers'] = containers if disk is not None: resources['disk'] = disk return self._update(self._path(), resources, method='PUT') def defaults(self): return self._list(self._path() + '/defaults') def delete(self): return self._delete(self._path()) ",,207,0
openstack%2Frequirements~master~I5f561278955eed1b02f1eaebfa6229b0f8e578ff,openstack/requirements,master,I5f561278955eed1b02f1eaebfa6229b0f8e578ff,update constraint for tosca-parser to new release 1.2.0,MERGED,2018-10-24 15:55:54.000000000,2018-10-25 01:48:18.000000000,2018-10-25 01:48:18.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 15:55:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0f1a45074671509aab363225f2fc0d1963ac215', 'message': 'update constraint for tosca-parser to new release 1.2.0\n\nChange-Id: I5f561278955eed1b02f1eaebfa6229b0f8e578ff\nmeta:version: 1.2.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Id0dc1b2c5023e36194fd7ff01032b347d5834549\nmeta:release:Code-Review+1: Rico Lin <rico.lin.guanyu@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613089,c0f1a45074671509aab363225f2fc0d1963ac215,7,3,1,11131,,,0,"update constraint for tosca-parser to new release 1.2.0

Change-Id: I5f561278955eed1b02f1eaebfa6229b0f8e578ff
meta:version: 1.2.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Id0dc1b2c5023e36194fd7ff01032b347d5834549
meta:release:Code-Review+1: Rico Lin <rico.lin.guanyu@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/613089/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c0f1a45074671509aab363225f2fc0d1963ac215,new-release,tosca-parser===1.2.0,tosca-parser===1.1.0,1,1
openstack%2Frequirements~master~Ibb3a8811c9de14e7e78d2338b6c965e06b943865,openstack/requirements,master,Ibb3a8811c9de14e7e78d2338b6c965e06b943865,update constraint for python-manilaclient to new release 1.25.0,MERGED,2018-10-24 16:05:15.000000000,2018-10-25 01:48:17.000000000,2018-10-25 01:48:17.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:05:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e7c95d9cf9ea2e0332a0900c5f24eecb3107ff66', 'message': 'update constraint for python-manilaclient to new release 1.25.0\n\nChange-Id: Ibb3a8811c9de14e7e78d2338b6c965e06b943865\nmeta:version: 1.25.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I7dd94114c58b5e18b7284643f446f2c270ed705c\nmeta:release:Code-Review+1: Tom Barron <tpb@dyncloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613093,e7c95d9cf9ea2e0332a0900c5f24eecb3107ff66,7,3,1,11131,,,0,"update constraint for python-manilaclient to new release 1.25.0

Change-Id: Ibb3a8811c9de14e7e78d2338b6c965e06b943865
meta:version: 1.25.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I7dd94114c58b5e18b7284643f446f2c270ed705c
meta:release:Code-Review+1: Tom Barron <tpb@dyncloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/613093/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e7c95d9cf9ea2e0332a0900c5f24eecb3107ff66,new-release,python-manilaclient===1.25.0,python-manilaclient===1.24.1,1,1
openstack%2Fzun-ui~master~Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9,openstack/zun-ui,master,Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9,"Add ""host"" column into images table view for admin",MERGED,2018-10-22 04:29:36.000000000,2018-10-25 01:43:27.000000000,2018-10-25 01:43:27.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 04:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/1092f53c5cb340353878d59d58344e7c10762cb3', 'message': 'Add ""host"" column into images table view for admin\n\nChange-Id: Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9\n'}, {'number': 2, 'created': '2018-10-22 05:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/a77443e1902ac8a18579b87ada76e18276c4b952', 'message': 'Add ""host"" column into images table view for admin\n\nChange-Id: Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9\nCloses-Bug: #1798702\n'}, {'number': 3, 'created': '2018-10-25 00:11:25.000000000', 'files': ['zun_ui/static/dashboard/container/images/images.module.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/e426b241923407fdacabbc7bf0bd2bb00383c4a2', 'message': 'Add ""host"" column into images table view for admin\n\nChange-Id: Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9\nCloses-Bug: #1798702\n'}]",0,612233,e426b241923407fdacabbc7bf0bd2bb00383c4a2,14,3,3,16352,,,0,"Add ""host"" column into images table view for admin

Change-Id: Ia76d5bc53dd2d71897afc9fe214ca3c2111f06a9
Closes-Bug: #1798702
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/33/612233/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/static/dashboard/container/images/images.module.js'],1,1092f53c5cb340353878d59d58344e7c10762cb3,bug/1798702," .setDefaultIndexUrl('/admin/container/images/') id: 'host', priority: 1 }) .append({ 'label': gettext('Host'), 'name': 'host', 'singleton': true }) .append({ 'host': { label: gettext('Host'), filters: ['noValue'] },",,11,0
openstack%2Fzun-ui~master~I2adae5cb466e620177c3788ac340f6464711e21d,openstack/zun-ui,master,I2adae5cb466e620177c3788ac340f6464711e21d,Remove 'host' parameter from deleting image,MERGED,2018-10-22 05:51:30.000000000,2018-10-25 01:42:04.000000000,2018-10-25 01:42:04.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 05:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/632298689c5ca03fd92631671807b55469e846c0', 'message': ""Remove 'host' parameter from deleting image\n\n'host' parameter for deleting image has removed from client.\nZun UI should remove this parameter.\n\nNow, due to only 'id' is necessary for deleting image,\nwe can use 'delete-selected' type action and common deletion\nconfirmation dialog. Using the common deletion action,\nwe can also implement deletion action as batch action.\n\nChange-Id: I2adae5cb466e620177c3788ac340f6464711e21d\nCloses-Bug: #1799125\n""}, {'number': 2, 'created': '2018-10-25 00:11:17.000000000', 'files': ['zun_ui/api/rest_api.py', 'zun_ui/static/dashboard/container/images/actions.module.js', 'zun_ui/static/dashboard/container/images/actions/delete.service.js', 'zun_ui/static/dashboard/container/zun.service.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/3f8cb502b68e9a32624ca7c5057cc873eac56293', 'message': ""Remove 'host' parameter from deleting image\n\n'host' parameter for deleting image has removed from client.\nZun UI should remove this parameter.\n\nNow, due to only 'id' is necessary for deleting image,\nwe can use 'delete-selected' type action and common deletion\nconfirmation dialog. Using the common deletion action,\nwe can also implement deletion action as batch action.\n\nChange-Id: I2adae5cb466e620177c3788ac340f6464711e21d\nCloses-Bug: #1799125\n""}]",0,612240,3f8cb502b68e9a32624ca7c5057cc873eac56293,12,3,2,16352,,,0,"Remove 'host' parameter from deleting image

'host' parameter for deleting image has removed from client.
Zun UI should remove this parameter.

Now, due to only 'id' is necessary for deleting image,
we can use 'delete-selected' type action and common deletion
confirmation dialog. Using the common deletion action,
we can also implement deletion action as batch action.

Change-Id: I2adae5cb466e620177c3788ac340f6464711e21d
Closes-Bug: #1799125
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/40/612240/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/api/rest_api.py', 'zun_ui/static/dashboard/container/images/actions.module.js', 'zun_ui/static/dashboard/container/images/actions/delete.service.js', 'zun_ui/static/dashboard/container/zun.service.js']",4,632298689c5ca03fd92631671807b55469e846c0,bug/1799125," function deleteImage(id, suppressError) { var promise = apiService.delete(imagesPath, [id]); return suppressError ? promise : promise.error(function() { var msg = gettext('Unable to delete the Image with id: %(id)s'); toastService.add('error', interpolate(msg, { id: id }, true)); });"," function deleteImage(id, host) { var msg = gettext('Unable to delete the Image.'); return apiService.delete(imagesPath + id, {host: host}).error(error(msg));",122,96
openstack%2Ftempest~master~I922693612ab756ce0fe3ff8f7f15c243cd631581,openstack/tempest,master,I922693612ab756ce0fe3ff8f7f15c243cd631581,Add check for the cascade deletion of volume created from snapshot,ABANDONED,2018-10-24 09:14:47.000000000,2018-10-25 01:40:57.000000000,,"[{'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 09:14:47.000000000', 'files': ['tempest/api/volume/test_volume_delete_cascade.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2a7bb1c53d4f110e5b01437119af89f19252c88', 'message': 'Add check for the cascade deletion of volume created from snapshot\n\nIn test_volume_from_snapshot_cascade_delete, the test steps are:\n1. create a volume (volume_id)\n2. create snapshot from volume_id (snapshot_id)\n3. create volume from snapshot_id (snap_volume_id)\n4. delete volume_id with cascade\n5. check volume_id is deleted; check snapshot_id is deleted\nWe should add the check for whether the snap_volume_id is also deleted.\n\nChange-Id: I922693612ab756ce0fe3ff8f7f15c243cd631581\n'}]",0,612956,e2a7bb1c53d4f110e5b01437119af89f19252c88,5,3,1,20190,,,0,"Add check for the cascade deletion of volume created from snapshot

In test_volume_from_snapshot_cascade_delete, the test steps are:
1. create a volume (volume_id)
2. create snapshot from volume_id (snapshot_id)
3. create volume from snapshot_id (snap_volume_id)
4. delete volume_id with cascade
5. check volume_id is deleted; check snapshot_id is deleted
We should add the check for whether the snap_volume_id is also deleted.

Change-Id: I922693612ab756ce0fe3ff8f7f15c243cd631581
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/612956/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volume_delete_cascade.py'],1,e2a7bb1c53d4f110e5b01437119af89f19252c88,delete_cascade," def _assert_cascade_delete(self, volume_id, snap_volume_id=None): # Verify the volume created from snapshot was deleted if snap_volume_id: self.assertNotIn(snap_volume_id, volume_list) self._assert_cascade_delete(volume['id'], snap_volume_id=volume_snap['id'])"," def _assert_cascade_delete(self, volume_id): self._assert_cascade_delete(volume['id'])",7,2
openstack%2Fmurano~master~If7987cdf5d9a686abbcad5960b8f391f8b9518a3,openstack/murano,master,If7987cdf5d9a686abbcad5960b8f391f8b9518a3,Add framework for murano-status upgrade check,MERGED,2018-10-23 12:25:48.000000000,2018-10-25 01:39:33.000000000,2018-10-25 01:39:33.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-10-23 12:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9a546142831f85d620856fdadbefe3d52442ac69', 'message': 'Add framework for murano-status upgrade check\n\nThis commit adds the functionality of murano-status CLI for performing\nupgrade checks as part of the Stein cycle upgrade-checkers goal.\nIt only includes a sample check which must be replaced by real checks in\nfuture.\n\nChange-Id: If7987cdf5d9a686abbcad5960b8f391f8b9518a3\nStory: 2003657\nTask: 26143\n'}, {'number': 2, 'created': '2018-10-24 09:31:59.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'doc/source/cli/murano-status.rst', 'murano/cmd/status.py', 'doc/source/cli/index.rst', 'lower-constraints.txt', 'setup.cfg', 'murano/tests/unit/cmd/test_status.py', 'releasenotes/notes/add-upgrade-check-framework-1c069e5a54125d1b.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/4341093b14513cb9f241e0b5a8f393d621b74387', 'message': 'Add framework for murano-status upgrade check\n\nThis commit adds the functionality of murano-status CLI for performing\nupgrade checks as part of the Stein cycle upgrade-checkers goal.\nIt only includes a sample check which must be replaced by real checks in\nfuture.\n\nChange-Id: If7987cdf5d9a686abbcad5960b8f391f8b9518a3\nStory: 2003657\nTask: 26143\n'}]",2,612679,4341093b14513cb9f241e0b5a8f393d621b74387,15,4,2,25553,,,0,"Add framework for murano-status upgrade check

This commit adds the functionality of murano-status CLI for performing
upgrade checks as part of the Stein cycle upgrade-checkers goal.
It only includes a sample check which must be replaced by real checks in
future.

Change-Id: If7987cdf5d9a686abbcad5960b8f391f8b9518a3
Story: 2003657
Task: 26143
",git fetch https://review.opendev.org/openstack/murano refs/changes/79/612679/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'requirements.txt', 'doc/source/cli/murano-status.rst', 'murano/cmd/status.py', 'doc/source/cli/index.rst', 'lower-constraints.txt', 'setup.cfg', 'murano/tests/unit/cmd/test_status.py', 'releasenotes/notes/add-upgrade-check-framework-1c069e5a54125d1b.yaml']",9,9a546142831f85d620856fdadbefe3d52442ac69,upgrade-checkers,--- prelude: > Added new tool ``murano-status upgrade check``. features: - | New framework for ``murano-status upgrade check`` command is added. This framework allows adding various checks which can be run before a Murano upgrade to ensure if the upgrade can be performed safely. upgrade: - | Operator can now use new CLI tool ``murano-status upgrade check`` to check if Murano deployment can be safely upgraded from N-1 to N release. ,,201,0
openstack%2Frequirements~master~I85e21f047fa594164848e1e4f2df991a6545da69,openstack/requirements,master,I85e21f047fa594164848e1e4f2df991a6545da69,update constraint for python-vitrageclient to new release 2.4.0,MERGED,2018-10-24 16:08:30.000000000,2018-10-25 01:32:53.000000000,2018-10-25 01:32:53.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:08:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/742e4c033cd12628d87abfabb8da76b30b53d9c7', 'message': 'update constraint for python-vitrageclient to new release 2.4.0\n\nChange-Id: I85e21f047fa594164848e1e4f2df991a6545da69\nmeta:version: 2.4.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I463ca1858050a6875208b320219f9363c10c3395\nmeta:release:Code-Review+1: Ifat Afek <ifat.afek@nokia.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613096,742e4c033cd12628d87abfabb8da76b30b53d9c7,7,3,1,11131,,,0,"update constraint for python-vitrageclient to new release 2.4.0

Change-Id: I85e21f047fa594164848e1e4f2df991a6545da69
meta:version: 2.4.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I463ca1858050a6875208b320219f9363c10c3395
meta:release:Code-Review+1: Ifat Afek <ifat.afek@nokia.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/613096/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,742e4c033cd12628d87abfabb8da76b30b53d9c7,new-release,python-vitrageclient===2.4.0,python-vitrageclient===2.3.0,1,1
openstack%2Fmagnum-ui~master~Ifcf61c5b4b00660e31410eea0922ed8ae186aaf3,openstack/magnum-ui,master,Ifcf61c5b4b00660e31410eea0922ed8ae186aaf3,Imported Translations from Zanata,MERGED,2018-10-24 08:20:30.000000000,2018-10-25 00:37:24.000000000,2018-10-25 00:37:23.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-10-24 08:20:30.000000000', 'files': ['magnum_ui/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/0ea3615b03c9d2c5a679698a9407a88d876b076c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifcf61c5b4b00660e31410eea0922ed8ae186aaf3\n'}]",0,612944,0ea3615b03c9d2c5a679698a9407a88d876b076c,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifcf61c5b4b00660e31410eea0922ed8ae186aaf3
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/44/612944/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/locale/de/LC_MESSAGES/djangojs.po'],1,0ea3615b03c9d2c5a679698a9407a88d876b076c,zanata/translations,"""POT-Creation-Date: 2018-10-18 06:24+0000\n""""PO-Revision-Date: 2018-10-23 12:19+0000\n""msgid ""Calico"" msgstr ""Calico"" ","""POT-Creation-Date: 2018-09-18 03:13+0000\n""""PO-Revision-Date: 2018-09-17 08:19+0000\n""",5,2
openstack%2Ftraining-guides~master~I35656ba6add4e403d79d2cbe2a2122cc0b09ea0d,openstack/training-guides,master,I35656ba6add4e403d79d2cbe2a2122cc0b09ea0d,Use the unified openstack client,MERGED,2018-10-24 21:30:05.000000000,2018-10-25 00:15:27.000000000,2018-10-25 00:15:27.000000000,"[{'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 21:30:05.000000000', 'files': ['doc/upstream-training/source/slides/code-devstack.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/6bff9dfb79e62d39904f3c093662d97389c063fd', 'message': ""Use the unified openstack client\n\nWe encourage using the unified openstack client rather than individual\nservice CLI tools, since it is very close to feature parity and has a\nmore consistent interface. Recommending the individual CLI tools is also\nconfusing because some services, like keystone, don't have their own\nCLIs any more.\n\nChange-Id: I35656ba6add4e403d79d2cbe2a2122cc0b09ea0d\n""}]",0,613167,6bff9dfb79e62d39904f3c093662d97389c063fd,7,3,1,8482,,,0,"Use the unified openstack client

We encourage using the unified openstack client rather than individual
service CLI tools, since it is very close to feature parity and has a
more consistent interface. Recommending the individual CLI tools is also
confusing because some services, like keystone, don't have their own
CLIs any more.

Change-Id: I35656ba6add4e403d79d2cbe2a2122cc0b09ea0d
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/67/613167/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/code-devstack.rst'],1,6bff9dfb79e62d39904f3c093662d97389c063fd,osc,- Ensure you can use the ``openstack`` command to interact with the services running on your VM,- Ensure you can use commands like ``cinder`` or ``nova`` to interact with the services running on your VM,2,2
openstack%2Frequirements~master~Ib2957fd3e02cd1904d2743bb45e98aebf5f4c8c8,openstack/requirements,master,Ib2957fd3e02cd1904d2743bb45e98aebf5f4c8c8,update constraint for monasca-common to new release 2.12.0,MERGED,2018-10-24 17:09:09.000000000,2018-10-25 00:11:22.000000000,2018-10-25 00:11:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:09:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0a8a539c50bacdb18c26ee3c41533f68d38b74fe', 'message': 'update constraint for monasca-common to new release 2.12.0\n\nChange-Id: Ib2957fd3e02cd1904d2743bb45e98aebf5f4c8c8\nmeta:version: 2.12.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I1271aec5324f186e6fba78fdd8902ae0c44f8e8a\nmeta:release:Code-Review+1: Witold Bedyk <witold.bedyk@est.fujitsu.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613113,0a8a539c50bacdb18c26ee3c41533f68d38b74fe,7,3,1,11131,,,0,"update constraint for monasca-common to new release 2.12.0

Change-Id: Ib2957fd3e02cd1904d2743bb45e98aebf5f4c8c8
meta:version: 2.12.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I1271aec5324f186e6fba78fdd8902ae0c44f8e8a
meta:release:Code-Review+1: Witold Bedyk <witold.bedyk@est.fujitsu.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/613113/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0a8a539c50bacdb18c26ee3c41533f68d38b74fe,new-release,monasca-common===2.12.0,monasca-common===2.11.0,1,1
openstack%2Frequirements~master~I36e66a22a097b9f4ac57adcb6cfeea28c4a32176,openstack/requirements,master,I36e66a22a097b9f4ac57adcb6cfeea28c4a32176,update constraint for python-magnumclient to new release 2.11.0,MERGED,2018-10-24 16:48:53.000000000,2018-10-25 00:11:22.000000000,2018-10-25 00:11:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 16:48:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea5c91a0cd73342c8309c71d056e672ad95d0a59', 'message': 'update constraint for python-magnumclient to new release 2.11.0\n\nChange-Id: I36e66a22a097b9f4ac57adcb6cfeea28c4a32176\nmeta:version: 2.11.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ic323fa0e13efcdbff86f5131acdecb0582cf3c87\nmeta:release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613107,ea5c91a0cd73342c8309c71d056e672ad95d0a59,7,3,1,11131,,,0,"update constraint for python-magnumclient to new release 2.11.0

Change-Id: I36e66a22a097b9f4ac57adcb6cfeea28c4a32176
meta:version: 2.11.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ic323fa0e13efcdbff86f5131acdecb0582cf3c87
meta:release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/613107/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ea5c91a0cd73342c8309c71d056e672ad95d0a59,new-release,python-magnumclient===2.11.0,python-magnumclient===2.10.0,1,1
openstack%2Frequirements~master~Id0380e9ded82d92b26b22be1fdfb04cf314b9ed3,openstack/requirements,master,Id0380e9ded82d92b26b22be1fdfb04cf314b9ed3,update constraint for python-ironic-inspector-client to new release 3.4.0,MERGED,2018-10-24 17:07:03.000000000,2018-10-25 00:08:03.000000000,2018-10-25 00:08:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:07:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a604def0b7efe2ac9637cb7600bb1717b8a1331a', 'message': 'update constraint for python-ironic-inspector-client to new release 3.4.0\n\nChange-Id: Id0380e9ded82d92b26b22be1fdfb04cf314b9ed3\nmeta:version: 3.4.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ibbc2adf88af60aafdd4bfff71230a93d17c71678\nmeta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613111,a604def0b7efe2ac9637cb7600bb1717b8a1331a,7,3,1,11131,,,0,"update constraint for python-ironic-inspector-client to new release 3.4.0

Change-Id: Id0380e9ded82d92b26b22be1fdfb04cf314b9ed3
meta:version: 3.4.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ibbc2adf88af60aafdd4bfff71230a93d17c71678
meta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/613111/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a604def0b7efe2ac9637cb7600bb1717b8a1331a,new-release,python-ironic-inspector-client===3.4.0,python-ironic-inspector-client===3.3.0,1,1
openstack%2Frequirements~master~Ifc35e5074574c395d1be5302105a4bf2e241f663,openstack/requirements,master,Ifc35e5074574c395d1be5302105a4bf2e241f663,update constraint for python-keystoneclient to new release 3.18.0,MERGED,2018-10-24 17:25:24.000000000,2018-10-25 00:08:02.000000000,2018-10-25 00:08:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 17:25:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a330f31212fda134051f34ca6344e664122d1b11', 'message': 'update constraint for python-keystoneclient to new release 3.18.0\n\nChange-Id: Ifc35e5074574c395d1be5302105a4bf2e241f663\nmeta:version: 3.18.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I6655313626d1ac0e4816f3e27c6c7fbcf18be02b\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,613119,a330f31212fda134051f34ca6344e664122d1b11,6,2,1,11131,,,0,"update constraint for python-keystoneclient to new release 3.18.0

Change-Id: Ifc35e5074574c395d1be5302105a4bf2e241f663
meta:version: 3.18.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I6655313626d1ac0e4816f3e27c6c7fbcf18be02b
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/613119/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a330f31212fda134051f34ca6344e664122d1b11,new-release,python-keystoneclient===3.18.0,python-keystoneclient===3.17.0,1,1
openstack%2Fnetworking-ovn~stable%2Frocky~I227ec967f450b26b12f19d687e94029e6ef1e558,openstack/networking-ovn,stable/rocky,I227ec967f450b26b12f19d687e94029e6ef1e558,Attempt the migration to Port Groups from Maintenance worker,MERGED,2018-10-18 16:18:39.000000000,2018-10-24 23:56:05.000000000,2018-10-24 23:56:05.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-18 16:18:39.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/03dc5ae1c3208ddf68d0afe5f1b29a04d65a2135', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 17b15f2901e5ac2e51948670cab0772279b5e2df)\n""}]",0,611672,03dc5ae1c3208ddf68d0afe5f1b29a04d65a2135,24,5,1,8788,,,0,"Attempt the migration to Port Groups from Maintenance worker

The migration to port groups task is now moved to the maintenance
worker. This worker holds a distributed lock within OVSDB so we'll
make sure that the migration will be performed just once.

During an update/upgrade, it may happen that newer version of
neutron-server can't migrate to Port Groups as the lock is held
by other (old instance). When all servers have been updated, the
maintenance task will perform the migration just once on the cloud
making sure that normal operation will happen.

We can remove this task in later cycles as this is just a migration
path from Address Sets to Port Groups for implementing Neutron
Security Groups.

TODO: functional test to validate the migration path to PGs.

Change-Id: I227ec967f450b26b12f19d687e94029e6ef1e558
Closes-Bug: #1789921
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 17b15f2901e5ac2e51948670cab0772279b5e2df)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/72/611672/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/ovn_db_sync.py']",3,03dc5ae1c3208ddf68d0afe5f1b29a04d65a2135,bug/1789921," # If Port Groups are not supported or we've already migrated, return if (not self.ovn_api.is_port_groups_supported() or not self.ovn_api.get_address_sets()):", self.migrate_to_port_groups(ctx) if not self.ovn_api.is_port_groups_supported():,85,3
openstack%2Fnetworking-ovn~master~Iad3c4ee758cb04f65cc18f0d604076b31d7b5222,openstack/networking-ovn,master,Iad3c4ee758cb04f65cc18f0d604076b31d7b5222,Increment versioning with pbr instruction,MERGED,2018-10-15 13:47:53.000000000,2018-10-24 23:56:04.000000000,2018-10-24 23:56:04.000000000,"[{'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8a819aea4367128bd78cc1081b85b77a5b2f357d', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Iad3c4ee758cb04f65cc18f0d604076b31d7b5222\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610544,8a819aea4367128bd78cc1081b85b77a5b2f357d,13,4,1,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: Iad3c4ee758cb04f65cc18f0d604076b31d7b5222
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/44/610544/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8a819aea4367128bd78cc1081b85b77a5b2f357d,sem-ver,,,0,0
openstack%2Ftripleo-quickstart~master~Ibbf28c13170c74a849937356c873acb9672b3c9e,openstack/tripleo-quickstart,master,Ibbf28c13170c74a849937356c873acb9672b3c9e,Create venv only when virtualenv is not there,MERGED,2018-09-13 12:41:44.000000000,2018-10-24 23:51:00.000000000,2018-10-24 23:50:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-09-13 12:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9aa610ee3ae49bc7b772b9cacb415f43903abefb', 'message': 'Create venv only when if OPT_WORKDIR is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 2, 'created': '2018-09-14 07:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/28c693a681f21d8287733c44345b5515f70c9d3b', 'message': 'Create venv only when if OPT_WORKDIR is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 3, 'created': '2018-09-14 07:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e51b59ef3ac5258a7ff2146afa33b2122fb1556f', 'message': 'Create venv only when if OPT_WORKDIR is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 4, 'created': '2018-09-14 08:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6d46179d9be73fd0fbad3d44bf2e6330025e6296', 'message': 'Create venv only when if OPT_WORKDIR is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 5, 'created': '2018-09-14 08:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/397b833e552dbd5963bf0a12ac892443e7f73ede', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 6, 'created': '2018-09-14 08:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4f466cf8f78e9ffdf48b1c1d74fb729385f09809', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 7, 'created': '2018-09-14 08:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2cb79a5305f3e8180ca07e1709de1f96466450ef', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 8, 'created': '2018-09-14 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a24a0a2b132ec40a59020dd0ed83d6d90ebe185a', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 9, 'created': '2018-09-14 10:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a64ebb4cb53ac170de21a64794db4fb01dffa1fc', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 10, 'created': '2018-10-11 11:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9b5a898ad0a1b7d17cd92c9ac2634f5cec3625c1', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 11, 'created': '2018-10-12 04:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3d86c89c7dbe41ad1c35c85b1d1e191fd46f4935', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 12, 'created': '2018-10-23 12:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/facaba0e6a4563b296f6b727a386f8aae20bf591', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}, {'number': 13, 'created': '2018-10-23 12:43:37.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d936512bfbf2b5265f9cf9bef8f3df9725afa01d', 'message': 'Create venv only when virtualenv is not there\n\n* In TripleO CI, once overcloud deploy finish and then we want to run\n  something else from the same venv at that time, some process might be\n  using that virtualenv which leads to race condition. In order to avoid\n  that first check whether venv exists or not if exist, re-use that\n\nAvoids using `-v` test as this is not available on BSD bash version.\n\nChange-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e\nCloses-Bug: #1792375\n'}]",5,602347,d936512bfbf2b5265f9cf9bef8f3df9725afa01d,64,14,13,12393,,,0,"Create venv only when virtualenv is not there

* In TripleO CI, once overcloud deploy finish and then we want to run
  something else from the same venv at that time, some process might be
  using that virtualenv which leads to race condition. In order to avoid
  that first check whether venv exists or not if exist, re-use that

Avoids using `-v` test as this is not available on BSD bash version.

Change-Id: Ibbf28c13170c74a849937356c873acb9672b3c9e
Closes-Bug: #1792375
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/47/602347/8 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,9aa610ee3ae49bc7b772b9cacb415f43903abefb,bug/1792375,"# If virtualenv $OPT_WORKDIR already exists, do not create it, just reuse it # otherwise it will take into race condition if somewhere same venv is used if ! [ -f ""$OPT_WORKDIR/bin/python2"" ]; then virtualenv\ $( [ ""$OPT_SYSTEM_PACKAGES"" = 1 ] && printf -- ""--system-site-packages\n"" )\ $OPT_WORKDIR fi"," virtualenv\ $( [ ""$OPT_SYSTEM_PACKAGES"" = 1 ] && printf -- ""--system-site-packages\n"" )\ $OPT_WORKDIR",7,3
openstack%2Frpm-packaging~master~I783070b065e63273cdd8d5e18ac2394f3afb5890,openstack/rpm-packaging,master,I783070b065e63273cdd8d5e18ac2394f3afb5890,Initial spec file of manila-tempest-plugin,MERGED,2018-09-28 19:44:06.000000000,2018-10-24 23:46:19.000000000,2018-10-05 09:08:39.000000000,"[{'_account_id': 6593}, {'_account_id': 8367}, {'_account_id': 8482}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 16643}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25601}, {'_account_id': 27668}]","[{'number': 1, 'created': '2018-09-28 19:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/771d1e396c888651e78cdba2c30bdb8c0bc43e51', 'message': 'Initial spec file of manila-tempest-plugin\n\nChange-Id: I783070b065e63273cdd8d5e18ac2394f3afb5890\n'}, {'number': 2, 'created': '2018-10-01 10:10:54.000000000', 'files': ['openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0f5a54bcca5e9ce8ba28e25740b99178d1421e9a', 'message': 'Initial spec file of manila-tempest-plugin\n\nChange-Id: I783070b065e63273cdd8d5e18ac2394f3afb5890\n'}]",2,606186,0f5a54bcca5e9ce8ba28e25740b99178d1421e9a,27,11,2,27668,,,0,"Initial spec file of manila-tempest-plugin

Change-Id: I783070b065e63273cdd8d5e18ac2394f3afb5890
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/86/606186/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2'],1,771d1e396c888651e78cdba2c30bdb8c0bc43e51,manila-tempest-plugin,"{% set pypi_name = 'manila-tempest-plugin' %} {% set rpm_release = '1' %} {% set source=fetch_source('https://tarballs.openstack.org/manila-tempest-plugin/manila-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} %global sname manila-tempest-plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the manila project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('manila-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the manila project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('ddt') }} Requires: {{ py2pkg('dnspython') }} Requires: {{ py2pkg('testtools') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for manila tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the manila tempest tests. %endif %prep %autosetup -n %{sname}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/manila_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,75,0
openstack%2Fopenstack-helm~master~I2f95445a49dfaced19cab058f94966f11c4a8877,openstack/openstack-helm,master,I2f95445a49dfaced19cab058f94966f11c4a8877,VBMC: remove from osh and update ironic gate setup script,MERGED,2018-10-08 14:41:08.000000000,2018-10-24 23:42:22.000000000,2018-10-24 23:42:22.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-08 14:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/312e687d6dcb23b8078e645218ab8d06ca5b782c', 'message': 'VBMC: remove from osh and update ironic gate setup script\n\nThis PS removes the vmbc image from osh, and also fixes some linting\nissues with the ironic gate setup script.\n\nDepends-On: https://review.openstack.org/608689\nChange-Id: I2f95445a49dfaced19cab058f94966f11c4a8877\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-10 20:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99de1d7fb3a5ee4b320d76b073af6e00042ee951', 'message': 'VBMC: remove from osh and update ironic gate setup script\n\nThis PS removes the vmbc image from osh, and also fixes some linting\nissues with the ironic gate setup script.\n\nDepends-On: https://review.openstack.org/608689\nChange-Id: I2f95445a49dfaced19cab058f94966f11c4a8877\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-17 04:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3b3c7bd4adb2ca7415b85c7f84501c08606e659', 'message': 'VBMC: remove from osh and update ironic gate setup script\n\nThis PS removes the vmbc image from osh, and also fixes some linting\nissues with the ironic gate setup script.\n\nDepends-On: https://review.openstack.org/608689\nChange-Id: I2f95445a49dfaced19cab058f94966f11c4a8877\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-10-23 16:53:35.000000000', 'files': ['tools/images/vbmc/README.rst', 'tools/images/vbmc/Dockerfile', 'tools/images/vbmc/Makefile', 'tools/deployment/baremetal/005-setup-nodes.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0edbafb7807d0c1d35d154fcfeb54074e62f72c', 'message': 'VBMC: remove from osh and update ironic gate setup script\n\nThis PS removes the vmbc image from osh, and also fixes some linting\nissues with the ironic gate setup script.\n\nDepends-On: https://review.openstack.org/608689\nChange-Id: I2f95445a49dfaced19cab058f94966f11c4a8877\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608690,f0edbafb7807d0c1d35d154fcfeb54074e62f72c,17,4,4,23928,,,0,"VBMC: remove from osh and update ironic gate setup script

This PS removes the vmbc image from osh, and also fixes some linting
issues with the ironic gate setup script.

Depends-On: https://review.openstack.org/608689
Change-Id: I2f95445a49dfaced19cab058f94966f11c4a8877
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/608690/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/vbmc/Dockerfile', 'tools/images/vbmc/README.rst', 'tools/images/vbmc/Makefile', 'tools/deployment/baremetal/005-setup-nodes.sh']",4,312e687d6dcb23b8078e645218ab8d06ca5b782c,vbmc/check," kubectl label node ""${PRIMARY_NODE}"" ${LABEL}=enabled: ""${OSH_INFRA_PATH:=""../openstack-helm-infra""}"" --set images.tags.libvirt=docker.io/openstackhelm/vbmc:centos-0.1 MAC_ADDR=$(printf '00:01:DE:%02X:%02X:%02X\n' $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256))) LIBVIRT_POD_NODE=$(kubectl get -n libvirt pod ""${LIBVIRT_POD}"" -o json | jq -r '.spec.nodeName') LIBVIRT_NODE_IP=$(kubectl get node ""${LIBVIRT_POD_NODE}"" -o json | jq -r '.status.addresses[] | select(.type==""InternalIP"").address') kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- mkdir -p /var/lib/libvirt/images kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- rm -f /var/lib/libvirt/images/vm-1.qcow2 || true kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- qemu-img create -f qcow2 /var/lib/libvirt/images/vm-1.qcow2 5G kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- chown -R qemu: /var/lib/libvirt/images/vm-1.qcow2 kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- sh -c ""echo ${VM_DEF} | base64 -d > /tmp/fake-baremetal-1.xml"" kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- sh -c ""virsh undefine fake-baremetal-1 || true"" kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- virsh define /tmp/fake-baremetal-1.xml kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- sh -c ""vbmc delete fake-baremetal-1 || true"" kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- vbmc add fake-baremetal-1 --address ""${LIBVIRT_NODE_IP}"" kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- sh -c ""nohup vbmc start fake-baremetal-1 &>/dev/null &"" kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- virsh list --all kubectl exec -n libvirt ""${LIBVIRT_POD}"" -- vbmc show fake-baremetal-1MASTER_IP=$(kubectl get node ""$(hostname -f)"" -o json | jq -r '.status.addresses[] | select(.type==""InternalIP"").address') if [ ""x$(kubectl --namespace openstack get pod ""${OVS_VSWITCHD_POD}"" -o wide --no-headers | awk '{ print $NF }')"" == ""x$(hostname -f)"" ] ; then -- ovs-vsctl add-port ""${OSH_IRONIC_PXE_DEV}"" ""gre${COUNTER}"" \ -- set interface ""gre${COUNTER}"" type=gre options:remote_ip=""${NODE_IP}"" -- cat ""/sys/class/net/${MASTER_NODE_DEV}/mtu"")"" -- ip link set dev ${OSH_IRONIC_PXE_DEV} mtu $((MASTER_NODE_MTU - 50)) -- ovs-vsctl add-port ""${OSH_IRONIC_PXE_DEV}"" gre0 \ -- set interface gre0 type=gre options:remote_ip=""${MASTER_IP}""sudo iptables -t nat -A POSTROUTING -o ""${DEFAULT_ROUTE_DEV}"" -j MASQUERADE sudo iptables -A FORWARD -i ""${DEFAULT_ROUTE_DEV}"" -o ""${OSH_IRONIC_PXE_DEV}"" -m state --state RELATED,ESTABLISHED -j ACCEPT sudo iptables -A FORWARD -i ""${OSH_IRONIC_PXE_DEV}"" -o ""${DEFAULT_ROUTE_DEV}"" -j ACCEPT"," kubectl label node ${PRIMARY_NODE} ${LABEL}=enabled: ${OSH_INFRA_PATH:=""../openstack-helm-infra""} --set images.tags.libvirt=docker.io/openstackhelm/vbmc:centos MAC_ADDR=$(printf '00:01:DE:%02X:%02X:%02X\n' $[RANDOM%256] $[RANDOM%256] $[RANDOM%256]) LIBVIRT_POD_NODE=$(kubectl get -n libvirt pod ${LIBVIRT_POD} -o json | jq -r '.spec.nodeName') LIBVIRT_NODE_IP=$(kubectl get node ${LIBVIRT_POD_NODE} -o json | jq -r '.status.addresses[] | select(.type==""InternalIP"").address') kubectl exec -n libvirt ${LIBVIRT_POD} -- mkdir -p /var/lib/libvirt/images kubectl exec -n libvirt ${LIBVIRT_POD} -- rm -f /var/lib/libvirt/images/vm-1.qcow2 || true kubectl exec -n libvirt ${LIBVIRT_POD} -- qemu-img create -f qcow2 /var/lib/libvirt/images/vm-1.qcow2 5G kubectl exec -n libvirt ${LIBVIRT_POD} -- chown -R qemu: /var/lib/libvirt/images/vm-1.qcow2 kubectl exec -n libvirt ${LIBVIRT_POD} -- sh -c ""echo ""${VM_DEF}"" | base64 -d > /tmp/fake-baremetal-1.xml"" kubectl exec -n libvirt ${LIBVIRT_POD} -- sh -c ""virsh undefine fake-baremetal-1 || true"" kubectl exec -n libvirt ${LIBVIRT_POD} -- virsh define /tmp/fake-baremetal-1.xml kubectl exec -n libvirt ${LIBVIRT_POD} -- sh -c ""vbmc delete fake-baremetal-1 || true"" kubectl exec -n libvirt ${LIBVIRT_POD} -- vbmc add fake-baremetal-1 --address ${LIBVIRT_NODE_IP} kubectl exec -n libvirt ${LIBVIRT_POD} -- sh -c ""nohup vbmc start fake-baremetal-1 &>/dev/null &"" kubectl exec -n libvirt ${LIBVIRT_POD} -- virsh list --all kubectl exec -n libvirt ${LIBVIRT_POD} -- vbmc show fake-baremetal-1MASTER_IP=$(kubectl get node $(hostname -f) -o json | jq -r '.status.addresses[] | select(.type==""InternalIP"").address') if [ ""x$(kubectl --namespace openstack get pod ${OVS_VSWITCHD_POD} -o wide --no-headers | awk '{ print $NF }')"" == ""x$(hostname -f)"" ] ; then -- ovs-vsctl add-port ${OSH_IRONIC_PXE_DEV} gre${COUNTER} \ -- set interface gre${COUNTER} type=gre options:remote_ip=${NODE_IP} -- cat /sys/class/net/${MASTER_NODE_DEV}/mtu)"" -- ip link set dev ${OSH_IRONIC_PXE_DEV} mtu $((${MASTER_NODE_MTU} - 50)) -- ovs-vsctl add-port ${OSH_IRONIC_PXE_DEV} gre0 \ -- set interface gre0 type=gre options:remote_ip=${MASTER_IP}sudo iptables -t nat -A POSTROUTING -o ${DEFAULT_ROUTE_DEV} -j MASQUERADE sudo iptables -A FORWARD -i ${DEFAULT_ROUTE_DEV} -o ${OSH_IRONIC_PXE_DEV} -m state --state RELATED,ESTABLISHED -j ACCEPT sudo iptables -A FORWARD -i ${OSH_IRONIC_PXE_DEV} -o ${DEFAULT_ROUTE_DEV} -j ACCEPT",29,138
openstack%2Ftraining-guides~master~I585fa8814918130a3cd830638038a1e7553e038b,openstack/training-guides,master,I585fa8814918130a3cd830638038a1e7553e038b,Update supported releases exercise for EM,MERGED,2018-10-24 20:37:55.000000000,2018-10-24 23:36:02.000000000,2018-10-24 23:36:01.000000000,"[{'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 20:37:55.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-release-cycle.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/e779f320997d48f881d79af0309d4d84a9395eb8', 'message': 'Update supported releases exercise for EM\n\nWith support life cycles moving to an extended maintenance model,\n""supported"" isn\'t quite to cut and dry. Modify the question so that the\nanswer can be easily obtained from the current releases site[1] (the\ncorrect answer at this point in time is four).\n\n[1] https://releases.openstack.org/\n\nChange-Id: I585fa8814918130a3cd830638038a1e7553e038b\n'}]",0,613157,e779f320997d48f881d79af0309d4d84a9395eb8,7,3,1,8482,,,0,"Update supported releases exercise for EM

With support life cycles moving to an extended maintenance model,
""supported"" isn't quite to cut and dry. Modify the question so that the
answer can be easily obtained from the current releases site[1] (the
correct answer at this point in time is four).

[1] https://releases.openstack.org/

Change-Id: I585fa8814918130a3cd830638038a1e7553e038b
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/57/613157/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/howitsmade-release-cycle.rst'],1,e779f320997d48f881d79af0309d4d84a9395eb8,extended-maint,- How many OpenStack releases are currently maintained by the community?,- How many OpenStack releases are officially supported by the community?,1,2
openstack%2Fpuppet-glance~master~If3a0bc37fe23698b5b5730b4e535f4f56b266a75,openstack/puppet-glance,master,If3a0bc37fe23698b5b5730b4e535f4f56b266a75,Add ability to configure filesystem metadata related parameters,MERGED,2018-07-13 04:08:24.000000000,2018-10-24 23:31:15.000000000,2018-10-24 23:31:15.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18575}, {'_account_id': 19138}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-13 04:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fb5f92304a8efa1153a7a516ee3a1efa63da703d', 'message': 'Add ability to configure filesystem metadata related parametrs\n\nAdding below new options to support netapp glance configuration\n- ""filesystem_store_metadata_file""\n- ""filesystem_store_metadata_perms""\n\nChange-Id: If3a0bc37fe23698b5b5730b4e535f4f56b266a75\n'}, {'number': 2, 'created': '2018-07-13 09:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/13c23fd6fe796acfa6846a02e0bfce0e7b726e60', 'message': 'Add ability to configure filesystem metadata related parametrs\n\nAdding below new options to support netapp glance configuration\n- ""filesystem_store_metadata_file""\n- ""filesystem_store_metadata_perms""\n\nChange-Id: If3a0bc37fe23698b5b5730b4e535f4f56b266a75\n'}, {'number': 3, 'created': '2018-07-20 14:53:58.000000000', 'files': ['releasenotes/notes/add_metadata_file_related_parameters-dd365b3cfaed47a1.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/749a07541bf45b94ec0f1be52331980f45f1c207', 'message': 'Add ability to configure filesystem metadata related parameters\n\nAdding below new options to support netapp glance configuration\n- ""filesystem_store_metadata_file""\n- ""filesystem_store_metadata_perms""\n\nChange-Id: If3a0bc37fe23698b5b5730b4e535f4f56b266a75\n'}]",6,582444,749a07541bf45b94ec0f1be52331980f45f1c207,28,13,3,19138,,,0,"Add ability to configure filesystem metadata related parameters

Adding below new options to support netapp glance configuration
- ""filesystem_store_metadata_file""
- ""filesystem_store_metadata_perms""

Change-Id: If3a0bc37fe23698b5b5730b4e535f4f56b266a75
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/44/582444/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_metadata_file_related_parameters-dd365b3cfaed47a1.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb']",3,fb5f92304a8efa1153a7a516ee3a1efa63da703d,bug/1740456," :filesystem_store_metadata_file => '<SERVICE DEFAULT>', :filesystem_store_file_perm => '<SERVICE DEFAULT>', :filesystem_store_metadata_file => '/etc/glance/glance-metadata-file.conf', :filesystem_store_file_perm => '0644', 'filesystem_store_metadata_file', 'filesystem_store_file_perm',",,47,18
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7e1ffd3a50714c825f4091d7c0aee2d895ad72a1,openstack/tripleo-heat-templates,stable/rocky,I7e1ffd3a50714c825f4091d7c0aee2d895ad72a1,Add OS::TripleO::Services::ContainerImagePrepare to ControllerOpenStack,MERGED,2018-10-18 20:08:00.000000000,2018-10-24 23:07:00.000000000,2018-10-24 23:07:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 20:08:00.000000000', 'files': ['roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5aa3d8a1a9e1a1f71467b86d70162f099bc3633a', 'message': 'Add OS::TripleO::Services::ContainerImagePrepare to ControllerOpenStack\n\nThis service was in Controller but not in ControllerOpenStack.\nPrepare service which causes overcloud deployment fail due to missing\nimages.\n\nChange-Id: I7e1ffd3a50714c825f4091d7c0aee2d895ad72a1\nCloses-Bug: #1798670\n(cherry picked from commit 0c5ba2fbe42f796c0210254c1bf25a87813a4939)\n'}]",0,611710,5aa3d8a1a9e1a1f71467b86d70162f099bc3633a,14,5,1,3153,,,0,"Add OS::TripleO::Services::ContainerImagePrepare to ControllerOpenStack

This service was in Controller but not in ControllerOpenStack.
Prepare service which causes overcloud deployment fail due to missing
images.

Change-Id: I7e1ffd3a50714c825f4091d7c0aee2d895ad72a1
Closes-Bug: #1798670
(cherry picked from commit 0c5ba2fbe42f796c0210254c1bf25a87813a4939)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/611710/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ControllerOpenstack.yaml'],1,5aa3d8a1a9e1a1f71467b86d70162f099bc3633a,bug/1798670, - OS::TripleO::Services::ContainerImagePrepare,,1,0
openstack%2Fproject-config~master~Ifdc403ca0faa57e61359707a5fc25a9dfa20e031,openstack/project-config,master,Ifdc403ca0faa57e61359707a5fc25a9dfa20e031,Import puppet-crane for TripleO,MERGED,2018-10-10 19:54:42.000000000,2018-10-24 23:05:56.000000000,2018-10-24 23:05:56.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 10873}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 19:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/422dc16a662fa62ebf9bfa4c5971f4161927b808', 'message': ""Import puppet-crane for TripleO\n\nThis Puppet module is slated to be used to configure crane (a\nlightweight 'docker pull' API for containers).\n\nChange-Id: Ifdc403ca0faa57e61359707a5fc25a9dfa20e031\n""}, {'number': 2, 'created': '2018-10-11 13:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8740ed1f93e2e9e5daefb6ed73c7694cf095902b', 'message': ""Import puppet-crane for TripleO\n\nThis Puppet module is slated to be used to configure crane (a\nlightweight 'docker pull' API for containers).\n\nChange-Id: Ifdc403ca0faa57e61359707a5fc25a9dfa20e031\n""}, {'number': 3, 'created': '2018-10-15 18:22:43.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db40cca56a0882d9c6f20b775ba6079b72998751', 'message': ""Import puppet-crane for TripleO\n\nThis Puppet module is slated to be used to configure crane (a\nlightweight 'docker pull' API for containers).\n\nNeeded-By: I897ce8b601bda54b0334eefbd8879e2587ee5515\nChange-Id: Ifdc403ca0faa57e61359707a5fc25a9dfa20e031\n""}]",2,609531,db40cca56a0882d9c6f20b775ba6079b72998751,20,6,3,360,,,0,"Import puppet-crane for TripleO

This Puppet module is slated to be used to configure crane (a
lightweight 'docker pull' API for containers).

Needed-By: I897ce8b601bda54b0334eefbd8879e2587ee5515
Change-Id: Ifdc403ca0faa57e61359707a5fc25a9dfa20e031
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/609531/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/puppet-crane.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,422dc16a662fa62ebf9bfa4c5971f4161927b808,puppet-crane, - openstack/puppet-crane,,19,0
openstack%2Fproject-config~master~I7ba8b1aa55c8c93fa1bac313c39509645771156c,openstack/project-config,master,I7ba8b1aa55c8c93fa1bac313c39509645771156c,Retire astra projects,MERGED,2018-10-14 11:00:45.000000000,2018-10-24 23:05:55.000000000,2018-10-24 23:05:55.000000000,"[{'_account_id': 986}, {'_account_id': 1420}, {'_account_id': 2592}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6287}, {'_account_id': 6547}, {'_account_id': 6923}, {'_account_id': 8005}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-14 11:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/356f09e4d6df0f9e4a9a9ca8d602f204cf909448', 'message': 'Retire astra projects\n\nThe repos are retired now, see also\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-August/133513.html\n\nChange-Id: I7ba8b1aa55c8c93fa1bac313c39509645771156c\nDepends-On: https://review.openstack.org/610356\nDepends-On: https://review.openstack.org/610357\nDepends-On: https://review.openstack.org/610358\nDepends-On: https://review.openstack.org/610359\n'}, {'number': 2, 'created': '2018-10-14 11:05:47.000000000', 'files': ['gerrit/acls/openstack/astara.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5f8a9dd6073ee505a923d05671a96164ac3609b8', 'message': 'Retire astra projects\n\nThe repos are retired now, see also\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-August/133513.html\n\nChange-Id: I7ba8b1aa55c8c93fa1bac313c39509645771156c\nDepends-On: https://review.openstack.org/610356\nDepends-On: https://review.openstack.org/610357\nDepends-On: https://review.openstack.org/610358\nDepends-On: https://review.openstack.org/610359\n'}]",0,610361,5f8a9dd6073ee505a923d05671a96164ac3609b8,11,11,2,6547,,,0,"Retire astra projects

The repos are retired now, see also
http://lists.openstack.org/pipermail/openstack-dev/2018-August/133513.html

Change-Id: I7ba8b1aa55c8c93fa1bac313c39509645771156c
Depends-On: https://review.openstack.org/610356
Depends-On: https://review.openstack.org/610357
Depends-On: https://review.openstack.org/610358
Depends-On: https://review.openstack.org/610359
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/610361/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",3,356f09e4d6df0f9e4a9a9ca8d602f204cf909448,retire-astara,, - openstack/astara - openstack/astara-appliance - openstack/astara-horizon - openstack/astara-neutron,8,37
openstack%2Fgrenade~master~I980a6d5fc5f45595076dc6c15673704ea9b9b13b,openstack/grenade,master,I980a6d5fc5f45595076dc6c15673704ea9b9b13b,DRY up irrelevant-files usage,MERGED,2018-09-12 18:14:39.000000000,2018-10-24 22:59:30.000000000,2018-10-24 22:59:29.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/5b8f2106ef32d98731c6dce0058ec81d6444657e', 'message': ""DRY up irrelevant-files usage\n\nThis adds a simple ansible alias for defining\nirrelevant-files for grenade job usage so we\ndon't have to copy/paste this around.\n\nChange-Id: I980a6d5fc5f45595076dc6c15673704ea9b9b13b\n""}, {'number': 2, 'created': '2018-09-17 16:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/426bb416da3d6998bcdd54cbf80b041f31d1d245', 'message': ""DRY up irrelevant-files usage\n\nThis adds a simple ansible alias for defining\nirrelevant-files for grenade job usage so we\ndon't have to copy/paste this around.\n\nChange-Id: I980a6d5fc5f45595076dc6c15673704ea9b9b13b\n""}, {'number': 3, 'created': '2018-09-18 19:30:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/4febe2137c3c2f84d8250faa73b2a0c374a45b1d', 'message': ""DRY up irrelevant-files usage\n\nThis adds a simple ansible alias for defining\nirrelevant-files for grenade job usage so we\ndon't have to copy/paste this around.\n\nChange-Id: I980a6d5fc5f45595076dc6c15673704ea9b9b13b\n""}]",1,602129,4febe2137c3c2f84d8250faa73b2a0c374a45b1d,14,5,3,6873,,,0,"DRY up irrelevant-files usage

This adds a simple ansible alias for defining
irrelevant-files for grenade job usage so we
don't have to copy/paste this around.

Change-Id: I980a6d5fc5f45595076dc6c15673704ea9b9b13b
",git fetch https://review.opendev.org/openstack/grenade refs/changes/29/602129/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5b8f2106ef32d98731c6dce0058ec81d6444657e,grenade-postgresql, irrelevant-files: &grenade-irrelevant-files irrelevant-files: *grenade-irrelevant-files irrelevant-files: *grenade-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *grenade-irrelevant-files irrelevant-files: *grenade-irrelevant-files irrelevant-files: *grenade-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *grenade-irrelevant-files irrelevant-files: *grenade-irrelevant-files - trove-grenade: irrelevant-files: *grenade-irrelevant-files, irrelevant-files: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - trove-grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,9,25
openstack%2Fheat~master~I7a90b864a7e092dfe549a39b489d648fb0ea7ae8,openstack/heat,master,I7a90b864a7e092dfe549a39b489d648fb0ea7ae8,Avoid SSL errors for heat endpoints using publicURL,ABANDONED,2018-10-23 18:59:07.000000000,2018-10-24 22:52:09.000000000,,"[{'_account_id': 8833}, {'_account_id': 15435}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 18:59:07.000000000', 'files': ['heat/engine/clients/os/heat_plugin.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/04b2925e2d7112c4807a4f5e5401c4e8f27d33c9', 'message': 'Avoid SSL errors for heat endpoints using publicURL\n\nChange-Id: I7a90b864a7e092dfe549a39b489d648fb0ea7ae8\nStory: 2004159\nTask: 27634\n'}]",1,612780,04b2925e2d7112c4807a4f5e5401c4e8f27d33c9,5,3,1,22776,,,0,"Avoid SSL errors for heat endpoints using publicURL

Change-Id: I7a90b864a7e092dfe549a39b489d648fb0ea7ae8
Story: 2004159
Task: 27634
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/612780/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/heat_plugin.py'],1,04b2925e2d7112c4807a4f5e5401c4e8f27d33c9,stx-enhancements," endpoint = self.get_heat_url(True) def get_heat_url(self, client_launch=False): if client_launch: endpoint_type = 'internalURL'", endpoint = self.get_heat_url() def get_heat_url(self):,4,2
openstack%2Freleases~master~I0816c7237e18709e82c33b5bbf92e0f71d404a3e,openstack/releases,master,I0816c7237e18709e82c33b5bbf92e0f71d404a3e,Release python-qinlingclient 2.1.0,MERGED,2018-10-24 01:15:32.000000000,2018-10-24 22:42:59.000000000,2018-10-24 22:42:59.000000000,"[{'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 01:15:32.000000000', 'files': ['deliverables/stein/python-qinlingclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b7930b691f102368f366ec69851cae4aab4ebf6', 'message': 'Release python-qinlingclient 2.1.0\n\nThis is the Stein milestone-1 release for python-qinlingclient to\nrelease merged commits since the last release.\n\nSee [1] for more details on the new cycle-with-intermediary library\nrelease changes.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html\n\nWe plan on processing this release November 1 unless we are told to hold\noff, or earlier if we get a +1 from the PTL and/or release liaison\nindicating that it is all clear to proceed.\n\nChange-Id: I0816c7237e18709e82c33b5bbf92e0f71d404a3e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,612857,3b7930b691f102368f366ec69851cae4aab4ebf6,7,3,1,11904,,,0,"Release python-qinlingclient 2.1.0

This is the Stein milestone-1 release for python-qinlingclient to
release merged commits since the last release.

See [1] for more details on the new cycle-with-intermediary library
release changes.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135689.html

We plan on processing this release November 1 unless we are told to hold
off, or earlier if we get a +1 from the PTL and/or release liaison
indicating that it is all clear to proceed.

Change-Id: I0816c7237e18709e82c33b5bbf92e0f71d404a3e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/612857/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-qinlingclient.yaml'],1,3b7930b691f102368f366ec69851cae4aab4ebf6,python-qinlingclient,releases: - projects: - hash: dd2ceebb7e0c85eb66f05f2825d506765ab792de repo: openstack/python-qinlingclient version: 2.1.0,,5,0
openstack%2Fneutron-tempest-plugin~master~I29fdbf51164aedc0b1a40055532f414cdf8cd4e8,openstack/neutron-tempest-plugin,master,I29fdbf51164aedc0b1a40055532f414cdf8cd4e8,test for minimum bw ingress direction,MERGED,2018-08-31 06:53:47.000000000,2018-10-24 22:35:43.000000000,2018-10-24 22:35:43.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-31 06:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/853090adb7c09ac1a5b4f5a296dc0b0cf56af2e6', 'message': 'WIP: tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 2, 'created': '2018-10-02 05:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/652caf090cd7df0b6f925c873d5d0a9a0476f61b', 'message': 'tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 3, 'created': '2018-10-02 11:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af91fd5ee6a422ae76f464ae5b56cc719b14f2fb', 'message': 'tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 4, 'created': '2018-10-02 11:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9b0996e58966c25ebdeea8b9a451e0d9efaf2263', 'message': 'tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 5, 'created': '2018-10-05 05:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/24700d5ffaef02d50047edd851c8827813715cd1', 'message': 'tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 6, 'created': '2018-10-09 11:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/903b91658b4444aa0c40a5f545e7dd56f3bb2cef', 'message': 'tests for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 7, 'created': '2018-10-10 12:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/87d5c39ffd858c54822a29b3219056b6c1b68a31', 'message': 'test for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 8, 'created': '2018-10-15 07:39:28.000000000', 'files': ['neutron_tempest_plugin/api/test_qos.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dc9c6d6dbe12dd0f760d54edfef84d58551a30a7', 'message': 'test for minimum bw ingress direction\n\nChange-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8\nDepends-On: https://review.openstack.org/584927\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}]",8,598463,dc9c6d6dbe12dd0f760d54edfef84d58551a30a7,34,8,8,8313,,,0,"test for minimum bw ingress direction

Change-Id: I29fdbf51164aedc0b1a40055532f414cdf8cd4e8
Depends-On: https://review.openstack.org/584927
Partial-Bug: #1578989
See-Also: https://review.openstack.org/502306 (nova spec)
See-Also: https://review.openstack.org/508149 (neutron spec)
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/63/598463/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_qos.py'],1,853090adb7c09ac1a5b4f5a296dc0b0cf56af2e6,minimum-bandwidth-allocation-placement-api," if utils.is_extension_enabled(""qos-bw-minimum-ingress"", ""network""): self.skipTest(""Ingress direction for QoS minimum bandwidth rule"" ""is enabled"") @decorators.idempotent_id('35baf998-ae65-495c-9902-35a0d11e8936') @utils.requires_ext(extension=""qos-bw-minimum-ingress"", service=""network"") def test_rule_create_pass_for_direction_ingress(self): policy = self.create_qos_policy(name='test-policy', description='test policy', shared=False) self.admin_client.create_minimum_bandwidth_rule( policy_id=policy['id'], direction=self.DIRECTION_INGRESS, min_kbps=201) retrieved_policy = self.admin_client.show_qos_policy(policy['id']) policy_rules = retrieved_policy['policy']['rules'] self.assertEqual(1, len(policy_rules)) self.assertEqual(qos_consts.RULE_TYPE_MINIMUM_BANDWIDTH, policy_rules[0]['type']) self.assertEqual(self.DIRECTION_INGRESS, policy_rules[0]['direction']) ",,22,0
openstack%2Fnova~stable%2Fpike~I597dee74d33de337913eddda74ab056fbf81a23c,openstack/nova,stable/pike,I597dee74d33de337913eddda74ab056fbf81a23c,Enforce case-sensitive hostnames in aggregate host add,MERGED,2018-09-25 23:25:07.000000000,2018-10-24 22:35:40.000000000,2018-10-24 22:35:40.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 23:25:07.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0bd38dbadcaeef59213e5471018649f7a9d2d9bf', 'message': 'Enforce case-sensitive hostnames in aggregate host add\n\nIf we are using a case-insensitive backend database like mysql, a\nuser can request an aggregate host add with a non-matching hostname\nand we will not signal failure. We will create a mapping which will\nnot actually include that host in the aggregate, which will be\nconfusing later. This change makes us fail if the host name does not\nmatch exactly, which is the same behavior as if we are using a\ncase-sensitive backend (like postgres).\n\nChange-Id: I597dee74d33de337913eddda74ab056fbf81a23c\nCloses-Bug: #1709260\n(cherry picked from commit c8e2de668434861b87495e0a0f715b2f90d8ec05)\n(cherry picked from commit c72bb2c747016b22e71109b9750d5899b776e67a)\n(cherry picked from commit 22197f3d0156b9fb87a132e77ab44dbdd63bc826)\n'}]",0,605269,0bd38dbadcaeef59213e5471018649f7a9d2d9bf,11,7,1,6873,,,0,"Enforce case-sensitive hostnames in aggregate host add

If we are using a case-insensitive backend database like mysql, a
user can request an aggregate host add with a non-matching hostname
and we will not signal failure. We will create a mapping which will
not actually include that host in the aggregate, which will be
confusing later. This change makes us fail if the host name does not
match exactly, which is the same behavior as if we are using a
case-sensitive backend (like postgres).

Change-Id: I597dee74d33de337913eddda74ab056fbf81a23c
Closes-Bug: #1709260
(cherry picked from commit c8e2de668434861b87495e0a0f715b2f90d8ec05)
(cherry picked from commit c72bb2c747016b22e71109b9750d5899b776e67a)
(cherry picked from commit 22197f3d0156b9fb87a132e77ab44dbdd63bc826)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/605269/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",2,0bd38dbadcaeef59213e5471018649f7a9d2d9bf,bug/1709260," service = objects.Service.get_by_compute_host(context, host_name) service = _find_service_in_cell(context, service_host=host_name) if service.host != host_name: # NOTE(danms): If we found a service but it is not an # exact match, we may have a case-insensitive backend # database (like mysql) which will end up with us # adding the host-aggregate mapping with a # non-matching hostname. raise exception.ComputeHostNotFound(host=host_name) "," objects.Service.get_by_compute_host(context, host_name) _find_service_in_cell(context, service_host=host_name)",34,3
openstack%2Fnova~stable%2Fpike~Ibd44ba9de5680958f55f0ae6325cfc33dabadc4c,openstack/nova,stable/pike,Ibd44ba9de5680958f55f0ae6325cfc33dabadc4c,"Revert ""Make host_aggregate_map dictionary case-insensitive""",MERGED,2018-09-25 23:25:07.000000000,2018-10-24 22:35:34.000000000,2018-10-24 22:35:34.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 23:25:07.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5cae2f63448c145c80b7f82ddccc7a9e672d534', 'message': 'Revert ""Make host_aggregate_map dictionary case-insensitive""\n\nThis reverts commit 8f5fbd83de3759407b8f928159067211af156d60.\n\nThe original change caused our host state processing to be inconsistent\nwith our own hypervisors API. Automation tooling that used our API\nto add hosts to aggregates would fail silently. We are reverting\nthis and will propose a check on the aggregate host add action\nwhich will confirm the case-sensitive mapping of the host being\nadded, which is what we should have done in the first place.\n\nNOTE(mriedem): Since this is a revert of a backport to pike,\nwe don\'t cherry pick the revert from queens, but this is using\nthe same change ID as the revert in queens.\n\nChange-Id: Ibd44ba9de5680958f55f0ae6325cfc33dabadc4c\nCloses-Bug: #1793747\n'}]",0,605268,c5cae2f63448c145c80b7f82ddccc7a9e672d534,10,6,1,6873,,,0,"Revert ""Make host_aggregate_map dictionary case-insensitive""

This reverts commit 8f5fbd83de3759407b8f928159067211af156d60.

The original change caused our host state processing to be inconsistent
with our own hypervisors API. Automation tooling that used our API
to add hosts to aggregates would fail silently. We are reverting
this and will propose a check on the aggregate host add action
which will confirm the case-sensitive mapping of the host being
added, which is what we should have done in the first place.

NOTE(mriedem): Since this is a revert of a backport to pike,
we don't cherry pick the revert from queens, but this is using
the same change ID as the revert in queens.

Change-Id: Ibd44ba9de5680958f55f0ae6325cfc33dabadc4c
Closes-Bug: #1793747
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/605268/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,c5cae2f63448c145c80b7f82ddccc7a9e672d534,bug/1709260, self.host_aggregates_map[host].add(agg.id) self.host_aggregates_map[host].remove(aggregate.id) self.host_aggregates_map[host]], self.host_aggregates_map[host.lower()].add(agg.id) self.host_aggregates_map[host.lower()].remove(aggregate.id) self.host_aggregates_map[host.lower()]],3,14
openstack%2Fqinling~master~Ic91432405b503bb5530442050195e9b7b84c80a2,openstack/qinling,master,Ic91432405b503bb5530442050195e9b7b84c80a2,Add runtime creation guide,MERGED,2018-10-23 23:57:23.000000000,2018-10-24 22:25:32.000000000,2018-10-24 22:25:32.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 23:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/df711b0f9d087164a6944b455b67af0cac4e88c1', 'message': 'Add runtime creation guide\n\nChange-Id: Ic91432405b503bb5530442050195e9b7b84c80a2\n'}, {'number': 2, 'created': '2018-10-24 00:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/8a0d7b243719a01ad958092bc0cfd83ac83339ac', 'message': 'Add runtime creation guide\n\nChange-Id: Ic91432405b503bb5530442050195e9b7b84c80a2\n'}, {'number': 3, 'created': '2018-10-24 09:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/7af7db7d4ee6e0d69f7e198144526495be62ea02', 'message': 'Add runtime creation guide\n\nChange-Id: Ic91432405b503bb5530442050195e9b7b84c80a2\n'}, {'number': 4, 'created': '2018-10-24 10:25:41.000000000', 'files': ['doc/source/admin/runtime.rst', 'doc/source/glossary.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/6c7392f1840cc293a5f6b4739cb6b94f27e38a56', 'message': 'Add runtime creation guide\n\nChange-Id: Ic91432405b503bb5530442050195e9b7b84c80a2\n'}]",0,612832,6c7392f1840cc293a5f6b4739cb6b94f27e38a56,13,3,4,6732,,,0,"Add runtime creation guide

Change-Id: Ic91432405b503bb5530442050195e9b7b84c80a2
",git fetch https://review.opendev.org/openstack/qinling refs/changes/32/612832/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/runtime.rst', 'doc/source/glossary.rst']",2,df711b0f9d087164a6944b455b67af0cac4e88c1,doc-add-runtime," Runtime ~~~~~~~ The runtime is programming language support. In Qinling, each runtime is encapsulated in a container image which is used for creating the runtime container. Qinling communicates with the container by sending HTTP requests and runs user function inside. Currently, Qinling only supports Python 2 and Python 3 officially and Node.JS in experimental.",,80,2
openstack%2Fnova~master~Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50,openstack/nova,master,Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50,Add debug logs for when provider inventory changes,MERGED,2018-08-29 14:56:31.000000000,2018-10-24 22:14:34.000000000,2018-10-24 22:14:34.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-29 14:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4be7974108cf679ab3255dc62ed60719d577475', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 2, 'created': '2018-08-29 18:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14b6c8fd94eecc705d4c245922a88f3a0ffca925', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 3, 'created': '2018-08-29 19:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21e2006900afe46d301fab5c6ec234092ed8b788', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 4, 'created': '2018-08-30 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cd263187b38c4ea5c751a129585edeee53bf8b8', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 5, 'created': '2018-08-30 21:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee8c87b3294b78d1bc05d295f02d22910a1aaf34', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 6, 'created': '2018-08-30 21:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aeae1bdc9e251c3aa562208f124f5ce55edd598', 'message': 'Add debug logs for when provider inventory changes\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n'}, {'number': 7, 'created': '2018-10-19 19:19:50.000000000', 'files': ['nova/scheduler/client/report.py', 'nova/compute/provider_tree.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ade240b392563914c1bddc228a3eb00585177d4c', 'message': ""Add debug logs for when provider inventory changes\n\nBecause of the ProviderTree caching involved in both\nthe ResourceTracker and SchedulerReportClient, it can\nbe hard to know if inventory changes are being correctly\nreported to the placement service as expected, especially\nwith things like configurable allocation ratios. This\nadds debug logs to the SchedulerReportClient and\nProviderTree to determine if inventory has changed and\nwhen it's flushed back to placement.\n\nChange-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50\nRelated-Bug: #1789654\n""}]",5,597560,ade240b392563914c1bddc228a3eb00585177d4c,91,17,7,6873,,,0,"Add debug logs for when provider inventory changes

Because of the ProviderTree caching involved in both
the ResourceTracker and SchedulerReportClient, it can
be hard to know if inventory changes are being correctly
reported to the placement service as expected, especially
with things like configurable allocation ratios. This
adds debug logs to the SchedulerReportClient and
ProviderTree to determine if inventory has changed and
when it's flushed back to placement.

Change-Id: Ia6ab3ab4dea08b479bb6b794f408fd2e6f678c50
Related-Bug: #1789654
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/597560/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/compute/provider_tree.py', 'nova/compute/resource_tracker.py']",3,c4be7974108cf679ab3255dc62ed60719d577475,bug/1789654," LOG.info('Begin _normalize_inventory_from_cn_obj for node %s', cn.uuid) LOG.info('Using cpu_allocation_ratio %s for node: %s', cn.cpu_allocation_ratio, cn.uuid) LOG.info('RT: Flushing ProviderTree changes back to placement for ' 'node: %s', compute_node.uuid)",,14,0
openstack%2Fpuppet-ceilometer~master~I7784f7381e70678b5107e9f3b137423afcf22d90,openstack/puppet-ceilometer,master,I7784f7381e70678b5107e9f3b137423afcf22d90,Add more meters for compute node polling,ABANDONED,2018-10-23 05:20:34.000000000,2018-10-24 21:42:45.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 05:20:34.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/164fa3d2cce077bd2d6255955c0d6c779c538165', 'message': 'Add more meters for compute node polling\n\nChange-Id: I7784f7381e70678b5107e9f3b137423afcf22d90\n'}]",0,612597,164fa3d2cce077bd2d6255955c0d6c779c538165,4,2,1,26721,,,0,"Add more meters for compute node polling

Change-Id: I7784f7381e70678b5107e9f3b137423afcf22d90
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/97/612597/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,164fa3d2cce077bd2d6255955c0d6c779c538165,upsmaster," 'disk.capacity', 'disk.usage', 'disk.device.read.bytes', 'disk.device.read.requests', 'disk.device.write.bytes', 'disk.device.write.requests', 'disk.device.usage',",,7,0
openstack%2Fceilometer~master~I57f67688528a4178d215d3cb226d6c356a058bca,openstack/ceilometer,master,I57f67688528a4178d215d3cb226d6c356a058bca,Add more default meters for compute node polling,ABANDONED,2018-10-24 00:03:59.000000000,2018-10-24 21:42:37.000000000,,"[{'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 00:03:59.000000000', 'files': ['etc/ceilometer/polling.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/717646d6e2b059ef3ba98e3a37d3b0540aa2259e', 'message': 'Add more default meters for compute node polling\n\nChange-Id: I57f67688528a4178d215d3cb226d6c356a058bca\n'}]",0,612833,717646d6e2b059ef3ba98e3a37d3b0540aa2259e,7,3,1,26721,,,0,"Add more default meters for compute node polling

Change-Id: I57f67688528a4178d215d3cb226d6c356a058bca
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/612833/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ceilometer/polling.yaml'],1,717646d6e2b059ef3ba98e3a37d3b0540aa2259e,, - disk.capacity - disk.read.bytes - disk.read.requests - disk.write.bytes - disk.write.requests - disk.usage - disk.device.usage,,7,0
openstack%2Fnova~stable%2Fqueens~I67f66e95d69ae6df22e539550a3eac697ea8f5d8,openstack/nova,stable/queens,I67f66e95d69ae6df22e539550a3eac697ea8f5d8,Ensure attachment cleanup on failure in driver.pre_live_migration,MERGED,2018-10-23 18:33:47.000000000,2018-10-24 21:41:35.000000000,2018-10-24 21:41:35.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 18:33:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b53e4edf9f7f8c794316d3a0920d727723d1bab', 'message': ""Ensure attachment cleanup on failure in driver.pre_live_migration\n\nPreviously, if the call to driver.pre_live_migration failed (which in\nlibvirt can happen with a DestinationDiskExists exception), the\ncompute manager wouldn't rollback/cleanup volume attachments, leading\nto corrupt volume attachment information, and, depending on the\nbackend, the instance being unable to access its volume. This patch\nmoves the driver.pre_live_migration call inside the existing\ntry/except, allowing the compute manager to properly rollback/cleanup\nvolume attachments.\n\nThe compute manager has its own _rollback_live_migration() cleanup in\ncase the pre_live_migration() RPC call to the destination fails. There\nshould be no conflicts between the cleanup in that and the new volume\ncleanup in the except block. The remove_volume_connection() ->\ndriver_detach() -> detach_volume() call catches the InstanceNotFound\nexception and warns about the instance disappearing (it was never\nreally on the destination in the first place). The attachment_delete()\nin _rollback_live_migration() is contingent on there being an\nold_vol_attachment in migrate_data, which there isn't because\npre_live_migration() raised instead of returning.\n\nConflicts in nova/compute/manager.py due to absence of setting\nmigrate_data.wait_for_vif_plug from 5aadff75c3a.\n\nChange-Id: I67f66e95d69ae6df22e539550a3eac697ea8f5d8\nCloses-bug: 1778206\n(cherry picked from commit 1a29248d5e688ba1d4f806895dccd45fcb34b833)\n(cherry picked from commit 6aecf475dbff9c7d477378c021749b987d47deae)\n""}]",0,612774,4b53e4edf9f7f8c794316d3a0920d727723d1bab,13,9,1,8864,,,0,"Ensure attachment cleanup on failure in driver.pre_live_migration

Previously, if the call to driver.pre_live_migration failed (which in
libvirt can happen with a DestinationDiskExists exception), the
compute manager wouldn't rollback/cleanup volume attachments, leading
to corrupt volume attachment information, and, depending on the
backend, the instance being unable to access its volume. This patch
moves the driver.pre_live_migration call inside the existing
try/except, allowing the compute manager to properly rollback/cleanup
volume attachments.

The compute manager has its own _rollback_live_migration() cleanup in
case the pre_live_migration() RPC call to the destination fails. There
should be no conflicts between the cleanup in that and the new volume
cleanup in the except block. The remove_volume_connection() ->
driver_detach() -> detach_volume() call catches the InstanceNotFound
exception and warns about the instance disappearing (it was never
really on the destination in the first place). The attachment_delete()
in _rollback_live_migration() is contingent on there being an
old_vol_attachment in migrate_data, which there isn't because
pre_live_migration() raised instead of returning.

Conflicts in nova/compute/manager.py due to absence of setting
migrate_data.wait_for_vif_plug from 5aadff75c3a.

Change-Id: I67f66e95d69ae6df22e539550a3eac697ea8f5d8
Closes-bug: 1778206
(cherry picked from commit 1a29248d5e688ba1d4f806895dccd45fcb34b833)
(cherry picked from commit 6aecf475dbff9c7d477378c021749b987d47deae)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/612774/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,4b53e4edf9f7f8c794316d3a0920d727723d1bab,bug/1778206," connector = self.driver.get_volume_connector(instance) try: block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) migrate_data = self.driver.pre_live_migration(context, instance, block_device_info, network_info, disk, migrate_data) LOG.debug('driver pre_live_migration data is %s', migrate_data) # NOTE(tr3buchet): setup networks on destination host self.network_api.setup_networks_on_host(context, instance, self.host) # Creating filters to hypervisors and firewalls. # An example is that nova-instance-instance-xxx, # which is written to libvirt.xml(Check ""virsh nwfilter-list"") # This nwfilter is necessary on the destination host. # In addition, this method is creating filtering rule # onto destination host. self.driver.ensure_filtering_rules_for_instance(instance, network_info)"," try: connector = self.driver.get_volume_connector(instance) block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) migrate_data = self.driver.pre_live_migration(context, instance, block_device_info, network_info, disk, migrate_data) LOG.debug('driver pre_live_migration data is %s', migrate_data) # NOTE(tr3buchet): setup networks on destination host self.network_api.setup_networks_on_host(context, instance, self.host) # Creating filters to hypervisors and firewalls. # An example is that nova-instance-instance-xxx, # which is written to libvirt.xml(Check ""virsh nwfilter-list"") # This nwfilter is necessary on the destination host. # In addition, this method is creating filtering rule # onto destination host. self.driver.ensure_filtering_rules_for_instance(instance, network_info) ",102,32
openstack%2Fnova~stable%2Fqueens~I372eddb9e356b02328f937917a856bc631691f53,openstack/nova,stable/queens,I372eddb9e356b02328f937917a856bc631691f53,Move live_migration.pre.start to the start of the method,MERGED,2018-10-23 18:33:47.000000000,2018-10-24 21:41:29.000000000,2018-10-24 21:41:29.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 18:33:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b065dad8015ea4fdacb0aedc763b38c5c8a9130', 'message': ""Move live_migration.pre.start to the start of the method\n\nThis simply moves the pre_live_migration start notification\nback to the start of the method before creating new volume\nattachments. While in here, the list of bdms are passed to\nthe notify_about_instance_action method so if\n[notifications]/bdms_in_notifications is True we don't have\nto pull them out of the database again for each versioned\nnotification.\n\nConflicts in nova/compute/manager.py due to absence of comment from\nf0b9d5204f3.\n\nChange-Id: I372eddb9e356b02328f937917a856bc631691f53\nPartial-Bug: #1763051\n(cherry picked from commit 7a2228142b8f8f015a554e2b25198ab37811a058)\n(cherry picked from commit ae2da62955e5c856fec71eebb4f3458fb4c7fb79)\n""}]",0,612773,6b065dad8015ea4fdacb0aedc763b38c5c8a9130,17,8,1,8864,,,0,"Move live_migration.pre.start to the start of the method

This simply moves the pre_live_migration start notification
back to the start of the method before creating new volume
attachments. While in here, the list of bdms are passed to
the notify_about_instance_action method so if
[notifications]/bdms_in_notifications is True we don't have
to pull them out of the database again for each versioned
notification.

Conflicts in nova/compute/manager.py due to absence of comment from
f0b9d5204f3.

Change-Id: I372eddb9e356b02328f937917a856bc631691f53
Partial-Bug: #1763051
(cherry picked from commit 7a2228142b8f8f015a554e2b25198ab37811a058)
(cherry picked from commit ae2da62955e5c856fec71eebb4f3458fb4c7fb79)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/612773/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,6b065dad8015ea4fdacb0aedc763b38c5c8a9130,bug/1778206," network_info = self.network_api.get_instance_nw_info(context, instance) self._notify_about_instance_usage( context, instance, ""live_migration.pre.start"", network_info=network_info) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_PRE, phase=fields.NotificationPhase.START, bdms=bdms) phase=fields.NotificationPhase.END, bdms=bdms)"," network_info = self.network_api.get_instance_nw_info(context, instance) self._notify_about_instance_usage( context, instance, ""live_migration.pre.start"", network_info=network_info) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_PRE, phase=fields.NotificationPhase.START) phase=fields.NotificationPhase.END)",25,17
