id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~master~I9e2d3c37650465d0748852f8cdb82fbeba7b3f4c,openstack/nova,master,I9e2d3c37650465d0748852f8cdb82fbeba7b3f4c,api: Remove unnecessary 'base_' prefix from schemas,MERGED,2021-08-06 14:08:13.000000000,2021-08-19 20:58:20.000000000,2021-08-19 20:58:20.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0214c0ea470f66f69df82f16e149b192e1b358eb', 'message': ""api: Remove unnecessary 'base_' prefix from schemas\n\nA base is something that it's inherited by other things. If everything\nis a base, nothing is. This is just noise so remove it.\n\nChange-Id: I9e2d3c37650465d0748852f8cdb82fbeba7b3f4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-19 10:19:42.000000000', 'files': ['nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3fa6859f953cd5ee7371f26ec78c6eb244d96b2', 'message': ""api: Remove unnecessary 'base_' prefix from schemas\n\nA base is something that it's inherited by other things. If everything\nis a base, nothing is. This is just noise so remove it.\n\nChange-Id: I9e2d3c37650465d0748852f8cdb82fbeba7b3f4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,803754,e3fa6859f953cd5ee7371f26ec78c6eb244d96b2,28,4,2,15334,,,0,"api: Remove unnecessary 'base_' prefix from schemas

A base is something that it's inherited by other things. If everything
is a base, nothing is. This is just noise so remove it.

Change-Id: I9e2d3c37650465d0748852f8cdb82fbeba7b3f4c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/803754/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/servers.py']",2,0214c0ea470f66f69df82f16e149b192e1b358eb,bp/configurable-instance-hostnames," @validation.schema(schema_servers.create_v20, '2.0', '2.0') @validation.schema(schema_servers.create, '2.1', '2.18') @validation.schema(schema_servers.create_v219, '2.19', '2.31') @validation.schema(schema_servers.create_v232, '2.32', '2.32') @validation.schema(schema_servers.create_v233, '2.33', '2.36') @validation.schema(schema_servers.create_v237, '2.37', '2.41') @validation.schema(schema_servers.create_v242, '2.42', '2.51') @validation.schema(schema_servers.create_v252, '2.52', '2.56') @validation.schema(schema_servers.create_v257, '2.57', '2.62') @validation.schema(schema_servers.create_v263, '2.63', '2.66') @validation.schema(schema_servers.create_v267, '2.67', '2.73') @validation.schema(schema_servers.create_v274, '2.74') @validation.schema(schema_servers.update_v20, '2.0', '2.0') @validation.schema(schema_servers.update, '2.1', '2.18') @validation.schema(schema_servers.update_v219, '2.19') @validation.schema(schema_servers.rebuild_v20, '2.0', '2.0') @validation.schema(schema_servers.rebuild, '2.1', '2.18') @validation.schema(schema_servers.rebuild_v219, '2.19', '2.53') @validation.schema(schema_servers.rebuild_v254, '2.54', '2.56') @validation.schema(schema_servers.rebuild_v257, '2.57', '2.62') @validation.schema(schema_servers.rebuild_v263, '2.63')"," @validation.schema(schema_servers.base_create_v20, '2.0', '2.0') @validation.schema(schema_servers.base_create, '2.1', '2.18') @validation.schema(schema_servers.base_create_v219, '2.19', '2.31') @validation.schema(schema_servers.base_create_v232, '2.32', '2.32') @validation.schema(schema_servers.base_create_v233, '2.33', '2.36') @validation.schema(schema_servers.base_create_v237, '2.37', '2.41') @validation.schema(schema_servers.base_create_v242, '2.42', '2.51') @validation.schema(schema_servers.base_create_v252, '2.52', '2.56') @validation.schema(schema_servers.base_create_v257, '2.57', '2.62') @validation.schema(schema_servers.base_create_v263, '2.63', '2.66') @validation.schema(schema_servers.base_create_v267, '2.67', '2.73') @validation.schema(schema_servers.base_create_v274, '2.74') @validation.schema(schema_servers.base_update_v20, '2.0', '2.0') @validation.schema(schema_servers.base_update, '2.1', '2.18') @validation.schema(schema_servers.base_update_v219, '2.19') @validation.schema(schema_servers.base_rebuild_v20, '2.0', '2.0') @validation.schema(schema_servers.base_rebuild, '2.1', '2.18') @validation.schema(schema_servers.base_rebuild_v219, '2.19', '2.53') @validation.schema(schema_servers.base_rebuild_v254, '2.54', '2.56') @validation.schema(schema_servers.base_rebuild_v257, '2.57', '2.62') @validation.schema(schema_servers.base_rebuild_v263, '2.63')",76,85
openstack%2Freleases~master~Ica7db7d1bc036226584206e988509ac1706e3b6a,openstack/releases,master,Ica7db7d1bc036226584206e988509ac1706e3b6a,Release final os-vif for Xena,MERGED,2021-08-16 09:44:51.000000000,2021-08-19 20:23:50.000000000,2021-08-19 20:23:50.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:44:51.000000000', 'files': ['deliverables/xena/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3933f44a8219b768f0575b45bcee7e578535b277', 'message': 'Release final os-vif for Xena\n\nThis proposed a release for os-vif to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.5.0..b837c1a\nb837c1a add configurable per port bridges\nb75af3a update os-vif ci to account for devstack default changes\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ica7db7d1bc036226584206e988509ac1706e3b6a\n'}]",0,804672,3933f44a8219b768f0575b45bcee7e578535b277,11,6,1,28522,,,0,"Release final os-vif for Xena

This proposed a release for os-vif to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.5.0..b837c1a
b837c1a add configurable per port bridges
b75af3a update os-vif ci to account for devstack default changes

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ica7db7d1bc036226584206e988509ac1706e3b6a
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/804672/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/os-vif.yaml'],1,3933f44a8219b768f0575b45bcee7e578535b277,xena-final-non-client-libs, - version: 2.6.0 projects: - repo: openstack/os-vif hash: b837c1a74f37191692a820711e431a75516a4abf,,4,0
openstack%2Fcharm-specs~master~Ifd77e49fb92274df2b38242f55508b702bcf100b,openstack/charm-specs,master,Ifd77e49fb92274df2b38242f55508b702bcf100b,Add spec proposal for subordinate charm cinder-lvm,MERGED,2021-08-10 21:25:07.000000000,2021-08-19 20:19:17.000000000,2021-08-19 20:17:44.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 21:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/bc4187cce2342de678439e1a62d32b5363077c82', 'message': ""Add spec proposal for subordinate charm cinder-lvm\n\nProposes a new charm, 'cinder-lvm' that is subordinate to the 'cinder'\ncharm, to configure the LVM driver.\n\nChange-Id: Ifd77e49fb92274df2b38242f55508b702bcf100b\n""}, {'number': 2, 'created': '2021-08-17 18:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/0092196bc162478d8521483ac6f4064d52ed5060', 'message': ""Add spec proposal for subordinate charm cinder-lvm\n\nProposes a new charm, 'cinder-lvm' that is subordinate to the 'cinder'\ncharm, to configure the LVM driver.\n\nChange-Id: Ifd77e49fb92274df2b38242f55508b702bcf100b\n""}, {'number': 3, 'created': '2021-08-19 13:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ea2ba5d9906955bf92604f5bf9b4ffa1733a2ff6', 'message': ""Add spec proposal for subordinate charm cinder-lvm\n\nProposes a new charm, 'cinder-lvm' that is subordinate to the 'cinder'\ncharm, to configure the LVM driver.\n\nChange-Id: Ifd77e49fb92274df2b38242f55508b702bcf100b\n""}, {'number': 4, 'created': '2021-08-19 19:30:37.000000000', 'files': ['specs/xena/backlog/cinder-lvm.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/4f3e4be58723efb821c49c006e93ee09c61b9c49', 'message': ""Add spec proposal for subordinate charm cinder-lvm\n\nProposes a new charm, 'cinder-lvm' that is subordinate to the 'cinder'\ncharm, to configure the LVM driver.\n\nChange-Id: Ifd77e49fb92274df2b38242f55508b702bcf100b\n""}]",23,804145,4f3e4be58723efb821c49c006e93ee09c61b9c49,17,2,4,33717,,,0,"Add spec proposal for subordinate charm cinder-lvm

Proposes a new charm, 'cinder-lvm' that is subordinate to the 'cinder'
charm, to configure the LVM driver.

Change-Id: Ifd77e49fb92274df2b38242f55508b702bcf100b
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/45/804145/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/backlog/cinder-lvm.rst'],1,bc4187cce2342de678439e1a62d32b5363077c82,cinder-lvm,".. Copyright 2021 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =================================== Cinder subordinate charm cinder-lvm =================================== Problem description =================== Cinder has a great number of drivers for different backends. Almost all currently available commercial storage arrays and many other software only solutions have a driver available, if not already in the upstream cinder project, as an installable package that enables cinder with the extra driver. Because of this abundance of possibilities, it is not feasible to make the cinder charm adapt to all scenarios and be able to configure all drivers specificities, including different kinds of preparations and pre-requisites that each driver may have Therefore, a model was developed where a separate specialized charm will be deployed to take care of the specifics of the driver and pass configuration to the main cinder charm over a charm relation so that cinder can write them on its own configuration file. This charm relates to cinder charm in a way that is called ""subordinate charm"". Proposed Change =============== Instead of changing the cinder charm, this proposal aims to create a separate subordinate charm specific for the lvm driver. The following points are of condiderable importance for the development of this subordinate charm: * The new implementation should not conflict with current implementation. Both should co-exist, even in the same deployment if possible. * The new charm should implement all features currently existing in the cinder charm, regarding the lvm functionality. * New options should be added only to the new charm extending original functionality as needed. There are no specific versions of juju or openstack needed for this charm. Nevertheless, in order to limit the scope reasonably, we strive to support releases from Queens on. Alternatives ------------ Currently there exists no alternative except for manually configuring cinder, something that has been done in the field, but should not be advised once this charm is released and stable. Implementation ============== Assignee(s) ----------- The Canonical Field Engineering Team is developing the charm and will maintain it until acceptance by the openstack project. This team will also make changes as needed after reviews. Primary assignee: Andre Ruiz <andre.ruiz@canonical.com> - Launchpad ID: andre-ruiz Gerrit Topic ------------ Use Gerrit topic ""charm-cinder-lvm"" for all patches related to this spec. .. code-block:: bash git-review -t charm-cinder-lvm Work Items ---------- The charm, as listed above. Plus, both unit and functional tests will be written. Repositories ------------ The following repositories currently host the charm code: https://git.launchpad.net/~andre-ruiz/+git/charm-cinder-lvm/tree/ https://jaas.ai/u/andre-ruiz/cinder-lvm On the other hand, the LVM driver is part of the cinder-common package so we do not even need to install packages when installing the charm. Documentation ------------- No documentation change needed for current existing projects. New documentation is part of the proposed charm. Security -------- No security aspect is going to change in relation to the current solution. Testing ------- Code changes will be covered by both unit and functional tests. No special hardware is expected to be needed to test this charm. Dependencies ============ No dependencies in addition to the ones that exist in the current solution. ",,121,0
openstack%2Freleases~master~Ic8dc785e8fef1c564a23db094485da6b3e78aae4,openstack/releases,master,Ic8dc785e8fef1c564a23db094485da6b3e78aae4,Release final monasca-statsd for Xena,MERGED,2021-08-16 09:34:17.000000000,2021-08-19 20:17:48.000000000,2021-08-19 20:17:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:34:17.000000000', 'files': ['deliverables/xena/monasca-statsd.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a9b0261d0fc90f25f28bda5b85a3208ed601f0bb', 'message': 'Release final monasca-statsd for Xena\n\nThis proposed a release for monasca-statsd to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.2.0..77fbd15\n77fbd15 Add Python3 xena unit tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic8dc785e8fef1c564a23db094485da6b3e78aae4\n'}]",0,804665,a9b0261d0fc90f25f28bda5b85a3208ed601f0bb,10,4,1,28522,,,0,"Release final monasca-statsd for Xena

This proposed a release for monasca-statsd to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.2.0..77fbd15
77fbd15 Add Python3 xena unit tests

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic8dc785e8fef1c564a23db094485da6b3e78aae4
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/804665/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-statsd.yaml'],1,a9b0261d0fc90f25f28bda5b85a3208ed601f0bb,xena-final-non-client-libs,releases: - version: 2.3.0 projects: - repo: openstack/monasca-statsd hash: 77fbd159408be1f9e79fbe5640a6c82baed76b65,,5,0
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I3cd61678de85c487335802019d3308f4c854636e,openstack/openstack-virtual-baremetal,stable/2.0,I3cd61678de85c487335802019d3308f4c854636e,Hide curl command with auth token from logs,MERGED,2021-08-19 16:35:59.000000000,2021-08-19 20:09:54.000000000,2021-08-19 16:58:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-19 16:35:59.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/3cb0a4e42e1a58a9a0fec1ded98be9d6877f5147', 'message': 'Hide curl command with auth token from logs\n\nCurl command contains auth token to cloud and it\'s printed in\nconsole, let\'s hide it with ""+x"".\n\nChange-Id: I3cd61678de85c487335802019d3308f4c854636e\n(cherry picked from commit fb6700fcdb292b263002ea3e0da8f6bff12f7694)\n'}]",0,805149,3cb0a4e42e1a58a9a0fec1ded98be9d6877f5147,7,3,1,10969,,,0,"Hide curl command with auth token from logs

Curl command contains auth token to cloud and it's printed in
console, let's hide it with ""+x"".

Change-Id: I3cd61678de85c487335802019d3308f4c854636e
(cherry picked from commit fb6700fcdb292b263002ea3e0da8f6bff12f7694)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/49/805149/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,3cb0a4e42e1a58a9a0fec1ded98be9d6877f5147,, set +xset +x,,2,1
openstack%2Frequirements~master~Ia4d8c7ae62bcce99fd3aa65df5620a96a866290c,openstack/requirements,master,Ia4d8c7ae62bcce99fd3aa65df5620a96a866290c,Updated from generate-constraints,MERGED,2021-08-19 06:25:03.000000000,2021-08-19 20:03:18.000000000,2021-08-19 20:00:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 06:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/08e543b13387bc2935f533f5b382cca5c663cff3', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia4d8c7ae62bcce99fd3aa65df5620a96a866290c\n'}, {'number': 2, 'created': '2021-08-19 15:30:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e3a7d135839e9440174b96d2b4b6a97233a56b1', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia4d8c7ae62bcce99fd3aa65df5620a96a866290c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,805120,8e3a7d135839e9440174b96d2b4b6a97233a56b1,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ia4d8c7ae62bcce99fd3aa65df5620a96a866290c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/805120/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,08e543b13387bc2935f533f5b382cca5c663cff3,openstack/requirements/constraints/noclob,XStatic-Angular===1.8.2.1google-api-core===2.0.0SQLAlchemy===1.4.23google-auth===2.0.0pkg_resources===0.0.0ruamel.yaml===0.17.11boto3===1.18.24botocore===1.21.24fasteners===0.16.3,XStatic-Angular===1.5.8.0google-api-core===1.31.2SQLAlchemy===1.4.22google-auth===1.35.0ruamel.yaml===0.17.10boto3===1.18.23botocore===1.21.23fasteners===0.14.1setuptools===57.4.0,9,9
openstack%2Frequirements~master~I77d3f3429b9d0bfd2dd3e5341dc0e5ffeb74a803,openstack/requirements,master,I77d3f3429b9d0bfd2dd3e5341dc0e5ffeb74a803,update constraint for oslo.serialization to new release 4.2.0,MERGED,2021-08-19 12:52:12.000000000,2021-08-19 20:02:10.000000000,2021-08-19 20:00:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:52:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8a1350c013ea070b83852515352ef6db0ebeddc', 'message': 'update constraint for oslo.serialization to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I946c734c8958b641e211453289d7bb3f26bb9700\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I77d3f3429b9d0bfd2dd3e5341dc0e5ffeb74a803\n'}]",0,805207,e8a1350c013ea070b83852515352ef6db0ebeddc,11,3,1,11131,,,0,"update constraint for oslo.serialization to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I946c734c8958b641e211453289d7bb3f26bb9700
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I77d3f3429b9d0bfd2dd3e5341dc0e5ffeb74a803
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/805207/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e8a1350c013ea070b83852515352ef6db0ebeddc,new-release,oslo.serialization===4.2.0,oslo.serialization===4.1.0,1,1
openstack%2Frequirements~master~I2320698831c230e911cf0dec0d556c8cf60d3efb,openstack/requirements,master,I2320698831c230e911cf0dec0d556c8cf60d3efb,update constraint for ceilometermiddleware to new release 2.3.0,MERGED,2021-08-19 07:54:46.000000000,2021-08-19 19:43:30.000000000,2021-08-19 19:42:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:54:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b18c9e7fbcb2591b462600f47e45b4ca594b0325', 'message': 'update constraint for ceilometermiddleware to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7f263b1833715f58cb714de78d1279a60e9064f6\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I2320698831c230e911cf0dec0d556c8cf60d3efb\n'}]",0,805157,b18c9e7fbcb2591b462600f47e45b4ca594b0325,11,3,1,11131,,,0,"update constraint for ceilometermiddleware to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7f263b1833715f58cb714de78d1279a60e9064f6
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I2320698831c230e911cf0dec0d556c8cf60d3efb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/805157/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b18c9e7fbcb2591b462600f47e45b4ca594b0325,new-release,ceilometermiddleware===2.3.0,ceilometermiddleware===2.2.0,1,1
openstack%2Frequirements~master~I5a87377f2ec95071d991d4eceb79fbcdbcc0f657,openstack/requirements,master,I5a87377f2ec95071d991d4eceb79fbcdbcc0f657,update constraint for ironic-lib to new release 5.0.0,MERGED,2021-08-19 13:16:30.000000000,2021-08-19 19:40:54.000000000,2021-08-19 19:39:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 13:16:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e0a9c90a1c2bb323fd00ca011d4ec8e04aeb0d71', 'message': 'update constraint for ironic-lib to new release 5.0.0\n\nmeta: version: 5.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I5a87377f2ec95071d991d4eceb79fbcdbcc0f657\n'}]",0,805215,e0a9c90a1c2bb323fd00ca011d4ec8e04aeb0d71,9,3,1,11131,,,0,"update constraint for ironic-lib to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I5a87377f2ec95071d991d4eceb79fbcdbcc0f657
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/805215/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e0a9c90a1c2bb323fd00ca011d4ec8e04aeb0d71,new-release,ironic-lib===5.0.0,ironic-lib===4.7.1,1,1
openstack%2Frequirements~master~If9877299bee2ec4a27049fd6f7bd2d6ba6720abd,openstack/requirements,master,If9877299bee2ec4a27049fd6f7bd2d6ba6720abd,update constraint for oslo.policy to new release 3.8.2,MERGED,2021-08-19 12:58:07.000000000,2021-08-19 19:31:11.000000000,2021-08-19 19:28:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:58:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8bc4479d84e0a383ea6b6ccf696e931df21e7b0b', 'message': 'update constraint for oslo.policy to new release 3.8.2\n\nmeta: version: 3.8.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I2d54646ddc5659b9a89c1adb6bf635f50871d9e4\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: If9877299bee2ec4a27049fd6f7bd2d6ba6720abd\n'}]",0,805211,8bc4479d84e0a383ea6b6ccf696e931df21e7b0b,9,3,1,11131,,,0,"update constraint for oslo.policy to new release 3.8.2

meta: version: 3.8.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I2d54646ddc5659b9a89c1adb6bf635f50871d9e4
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: If9877299bee2ec4a27049fd6f7bd2d6ba6720abd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/805211/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8bc4479d84e0a383ea6b6ccf696e931df21e7b0b,new-release,oslo.policy===3.8.2,oslo.policy===3.8.1,1,1
openstack%2Frequirements~master~I2a22556627fed30426f7f9251c653460ac249ecf,openstack/requirements,master,I2a22556627fed30426f7f9251c653460ac249ecf,update constraint for sushy to new release 3.11.1,MERGED,2021-08-19 12:55:10.000000000,2021-08-19 19:29:58.000000000,2021-08-19 19:28:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:55:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8fa926c59e50bfb04752b7212bb484821e41266', 'message': 'update constraint for sushy to new release 3.11.1\n\nmeta: version: 3.11.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ida39290a960374fd2c726a11fb4f4770f93562b3\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2a22556627fed30426f7f9251c653460ac249ecf\n'}]",0,805210,e8fa926c59e50bfb04752b7212bb484821e41266,9,3,1,11131,,,0,"update constraint for sushy to new release 3.11.1

meta: version: 3.11.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ida39290a960374fd2c726a11fb4f4770f93562b3
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2a22556627fed30426f7f9251c653460ac249ecf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/805210/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e8fa926c59e50bfb04752b7212bb484821e41266,new-release,sushy===3.11.1,sushy===3.11.0,1,1
openstack%2Fopenstack-virtual-baremetal~master~I3cd61678de85c487335802019d3308f4c854636e,openstack/openstack-virtual-baremetal,master,I3cd61678de85c487335802019d3308f4c854636e,Hide curl command with auth token from logs,MERGED,2021-08-19 14:57:30.000000000,2021-08-19 19:23:16.000000000,2021-08-19 16:10:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-19 14:57:30.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/fb6700fcdb292b263002ea3e0da8f6bff12f7694', 'message': 'Hide curl command with auth token from logs\n\nCurl command contains auth token to cloud and it\'s printed in\nconsole, let\'s hide it with ""+x"".\n\nChange-Id: I3cd61678de85c487335802019d3308f4c854636e\n'}]",0,805242,fb6700fcdb292b263002ea3e0da8f6bff12f7694,7,3,1,10969,,,0,"Hide curl command with auth token from logs

Curl command contains auth token to cloud and it's printed in
console, let's hide it with ""+x"".

Change-Id: I3cd61678de85c487335802019d3308f4c854636e
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/42/805242/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,fb6700fcdb292b263002ea3e0da8f6bff12f7694,, set +xset +x,,2,1
openstack%2Fnova~master~I6c2bffad09855baa66572160799d0ba30aafda4b,openstack/nova,master,I6c2bffad09855baa66572160799d0ba30aafda4b,[DNM] testing libvirt_disable_apic workaround option,ABANDONED,2020-12-08 16:49:30.000000000,2021-08-19 19:14:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-08 16:49:30.000000000', 'files': ['nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89939fb71bc7baf3b1d46eab5737307deb579515', 'message': '[DNM] testing libvirt_disable_apic workaround option\n\nChange-Id: I6c2bffad09855baa66572160799d0ba30aafda4b\n'}]",0,766044,89939fb71bc7baf3b1d46eab5737307deb579515,12,1,1,11604,,,0,"[DNM] testing libvirt_disable_apic workaround option

Change-Id: I6c2bffad09855baa66572160799d0ba30aafda4b
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/766044/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/workarounds.py'],1,89939fb71bc7baf3b1d46eab5737307deb579515,workaround-disable-apic," default=True,"," default=False,",1,1
openstack%2Freleases~master~I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4,openstack/releases,master,I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4,Release final kuryr for Xena,MERGED,2021-08-16 09:30:27.000000000,2021-08-19 19:05:54.000000000,2021-08-19 19:05:54.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:30:27.000000000', 'files': ['deliverables/xena/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cddab0c33730bb2953226a8ad379eeb91c4f0212', 'message': 'Release final kuryr for Xena\n\nThis proposed a release for kuryr to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.3.0..764de32\n0347de1 setup.cfg: Replace dashes with underscores\n77fedd2 Add Python3 xena unit tests\n0425000 Update master for stable/wallaby\n8ef1757 remove unicode from code\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4\n'}]",0,804661,cddab0c33730bb2953226a8ad379eeb91c4f0212,10,4,1,28522,,,0,"Release final kuryr for Xena

This proposed a release for kuryr to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.3.0..764de32
0347de1 setup.cfg: Replace dashes with underscores
77fedd2 Add Python3 xena unit tests
0425000 Update master for stable/wallaby
8ef1757 remove unicode from code

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/804661/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/kuryr.yaml'],1,cddab0c33730bb2953226a8ad379eeb91c4f0212,xena-final-non-client-libs,releases: - version: 2.4.0 projects: - repo: openstack/kuryr hash: 764de32607059a9a1a0bd37c46609815a1abe1ba,,5,0
openstack%2Frequirements~master~I21d488977159e35bcb5458b6bb54b779f1d89aed,openstack/requirements,master,I21d488977159e35bcb5458b6bb54b779f1d89aed,update constraint for stevedore to new release 3.4.0,MERGED,2021-08-19 12:54:04.000000000,2021-08-19 18:43:01.000000000,2021-08-19 18:40:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:54:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c95f3f27e0178633afff3231909ad3a34c72f2c', 'message': 'update constraint for stevedore to new release 3.4.0\n\nmeta: version: 3.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iff464b1b78839901ca1700cc0016ab558f5000b1\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I21d488977159e35bcb5458b6bb54b779f1d89aed\n'}]",0,805209,3c95f3f27e0178633afff3231909ad3a34c72f2c,9,3,1,11131,,,0,"update constraint for stevedore to new release 3.4.0

meta: version: 3.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iff464b1b78839901ca1700cc0016ab558f5000b1
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I21d488977159e35bcb5458b6bb54b779f1d89aed
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/805209/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c95f3f27e0178633afff3231909ad3a34c72f2c,new-release,stevedore===3.4.0,stevedore===3.3.0,1,1
openstack%2Fpuppet-tripleo~master~Idbcdd4a745d29dc3580d20252f86a81735cdac6f,openstack/puppet-tripleo,master,Idbcdd4a745d29dc3580d20252f86a81735cdac6f,Add /dev/log to ovn-dbs-bundle,MERGED,2020-05-26 16:34:59.000000000,2021-08-19 18:42:31.000000000,2021-08-19 18:42:31.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-26 16:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe3e3d3caf522a9ae6ed7f388a38b15eaa052e49', 'message': 'WIP Add /dev/log to ovn-dbs-bundle\n\nThis aligns it to the other containers that have OCF and makes it\nso that the ocf resource agent correctly logs things in the journal.\n\nChange-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f\n'}, {'number': 2, 'created': '2021-08-18 11:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d6d37845af243c45135ceea9f577bbb487d2e143', 'message': 'Add /dev/log to ovn-dbs-bundle\n\nThis aligns it to the other containers that have OCF and makes it\nso that the ocf resource agent correctly logs things in the journal.\n\nChange-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f\n'}, {'number': 3, 'created': '2021-08-18 16:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0749f6988cceaccb097cbed642f1e78c15567f6a', 'message': 'Add /dev/log to ovn-dbs-bundle\n\nThis aligns it to the other containers that have OCF and makes it\nso that the ocf resource agent correctly logs things in the journal.\n\nDepends-On: https://review.opendev.org/805059\nChange-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f\n'}, {'number': 4, 'created': '2021-08-19 06:49:25.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3841151a2afe984eb0edea7c69affcca7a5bd3db', 'message': 'Add /dev/log to ovn-dbs-bundle\n\nThis aligns it to the other containers that have OCF and makes it\nso that the ocf resource agent correctly logs things in the journal.\n\nChange-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f\n'}]",0,730878,3841151a2afe984eb0edea7c69affcca7a5bd3db,28,5,4,20172,,,0,"Add /dev/log to ovn-dbs-bundle

This aligns it to the other containers that have OCF and makes it
so that the ocf resource agent correctly logs things in the journal.

Change-Id: Idbcdd4a745d29dc3580d20252f86a81735cdac6f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/730878/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,fe3e3d3caf522a9ae6ed7f388a38b15eaa052e49,ovn-dev-log," 'ovn-dbs-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', },",,5,0
openstack%2Fnova~master~Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,openstack/nova,master,Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,Fix 1vcpu error with multiqueue and vif_type=tap,MERGED,2021-08-11 21:07:35.000000000,2021-08-19 18:41:50.000000000,2021-08-19 18:38:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 21:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7f273e84846b947be750a39354add5af0ea974d', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n'}, {'number': 2, 'created': '2021-08-11 21:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb8159a2bf35edf0ba51881f18170250ad148b6', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n'}, {'number': 3, 'created': '2021-08-17 18:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b323c580e0ca5ca629ac426122f242d3d47e5991', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n'}, {'number': 4, 'created': '2021-08-17 21:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d427776639fdf44da71e9171533d5ca59437234', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.get_flavor().vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n'}, {'number': 5, 'created': '2021-08-18 12:51:28.000000000', 'files': ['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.get_flavor().vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n'}]",19,804303,7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d,51,4,5,14567,,,0,"Fix 1vcpu error with multiqueue and vif_type=tap

Fix for bug #1893263 introduced a regression where
1 vcpu instances would fail to build when paired with
multiqueue-enabled images, in the scenario vif_type=tap.

Solution is to not pass multiqueue parameter when
instances.get_flavor().vcpus = 1.

Closes-bug: #1939604
Change-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/804303/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py']",3,f7f273e84846b947be750a39354add5af0ea974d,bug/1893263," image_ref=uuids.image_ref, vcpus=2, image_ref=uuids.image_ref, vcpus=2, def test_plug_tap_mq_ignored_1vcpu(self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): d1 = vif.LibvirtGenericVIFDriver() mq_ins = objects.Instance( id=1, uuid='f0000000-0000-0000-0000-000000000001', image_ref=uuids.image_ref, vcpus=1, project_id=723, system_metadata={ 'image_hw_vif_multiqueue_enabled': 'True', } ) d1.plug(mq_ins, self.vif_tap) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False) @mock.patch('nova.privsep.linux_net.device_exists', return_value=True) @mock.patch('nova.privsep.linux_net.set_device_mtu') @mock.patch('nova.privsep.linux_net.create_tap_dev') image_ref=uuids.image_ref, vcpus=2, image_ref=uuids.image_ref, vcpus=2,"," image_ref=uuids.image_ref, image_ref=uuids.image_ref, image_ref=uuids.image_ref, image_ref=uuids.image_ref,",29,5
openstack%2Frequirements~master~I9619416a3297164264711f5b69ee833ab20f45b8,openstack/requirements,master,I9619416a3297164264711f5b69ee833ab20f45b8,update constraint for os-win to new release 5.5.0,MERGED,2021-08-19 07:52:34.000000000,2021-08-19 18:41:22.000000000,2021-08-19 18:38:59.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:52:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b8d311332a78782dccc29c41d05533faa3821a7', 'message': 'update constraint for os-win to new release 5.5.0\n\nmeta: version: 5.5.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ied2954434000d52b6eeab1a1af24a43bf789a392\nmeta: release:Code-Review+1: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I9619416a3297164264711f5b69ee833ab20f45b8\n'}]",0,805156,0b8d311332a78782dccc29c41d05533faa3821a7,9,3,1,11131,,,0,"update constraint for os-win to new release 5.5.0

meta: version: 5.5.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ied2954434000d52b6eeab1a1af24a43bf789a392
meta: release:Code-Review+1: Lucian Petrut <lpetrut@cloudbasesolutions.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I9619416a3297164264711f5b69ee833ab20f45b8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/805156/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0b8d311332a78782dccc29c41d05533faa3821a7,new-release,os-win===5.5.0,os-win===5.4.0,1,1
openstack%2Frequirements~master~I54f819c3b0ffa722e4f7a8d23e061dd16f25376c,openstack/requirements,master,I54f819c3b0ffa722e4f7a8d23e061dd16f25376c,update constraint for oslo.vmware to new release 3.9.1,MERGED,2021-08-19 12:48:19.000000000,2021-08-19 18:39:32.000000000,2021-08-19 18:39:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:48:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5bd35ac23e4ce83892811df2b99bceb6fc535cb2', 'message': 'update constraint for oslo.vmware to new release 3.9.1\n\nmeta: version: 3.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I54f819c3b0ffa722e4f7a8d23e061dd16f25376c\n'}]",0,805202,5bd35ac23e4ce83892811df2b99bceb6fc535cb2,8,3,1,11131,,,0,"update constraint for oslo.vmware to new release 3.9.1

meta: version: 3.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I54f819c3b0ffa722e4f7a8d23e061dd16f25376c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/805202/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5bd35ac23e4ce83892811df2b99bceb6fc535cb2,new-release,oslo.vmware===3.9.1,oslo.vmware===3.9.0,1,1
openstack%2Frequirements~master~Icb2c9d2972fc2356772a16edc80e3ab0582f4a6c,openstack/requirements,master,Icb2c9d2972fc2356772a16edc80e3ab0582f4a6c,update constraint for oslo.utils to new release 4.10.0,MERGED,2021-08-19 12:48:35.000000000,2021-08-19 18:39:28.000000000,2021-08-19 18:39:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:48:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/557e9ea48b4beafea97bd66f84e239234b4706c5', 'message': 'update constraint for oslo.utils to new release 4.10.0\n\nmeta: version: 4.10.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ife237e0d09beb2040af5934965100123258db223\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Icb2c9d2972fc2356772a16edc80e3ab0582f4a6c\n'}]",0,805203,557e9ea48b4beafea97bd66f84e239234b4706c5,8,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.10.0

meta: version: 4.10.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ife237e0d09beb2040af5934965100123258db223
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Icb2c9d2972fc2356772a16edc80e3ab0582f4a6c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/805203/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,557e9ea48b4beafea97bd66f84e239234b4706c5,new-release,oslo.utils===4.10.0,oslo.utils===4.9.2,1,1
openstack%2Frequirements~master~Ib04612d1bd0dfafcb555dc291dd39b7e804d9b57,openstack/requirements,master,Ib04612d1bd0dfafcb555dc291dd39b7e804d9b57,update constraint for oslo.metrics to new release 0.3.0,MERGED,2021-08-19 12:49:00.000000000,2021-08-19 18:39:25.000000000,2021-08-19 18:39:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:49:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/35a9105e3042ebbd7a6597b5597e4d38760e29af', 'message': 'update constraint for oslo.metrics to new release 0.3.0\n\nmeta: version: 0.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I0cb63e6f02301a88ddcbc136abb11f1830f811b7\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib04612d1bd0dfafcb555dc291dd39b7e804d9b57\n'}]",0,805204,35a9105e3042ebbd7a6597b5597e4d38760e29af,8,3,1,11131,,,0,"update constraint for oslo.metrics to new release 0.3.0

meta: version: 0.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I0cb63e6f02301a88ddcbc136abb11f1830f811b7
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib04612d1bd0dfafcb555dc291dd39b7e804d9b57
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/805204/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,35a9105e3042ebbd7a6597b5597e4d38760e29af,new-release,oslo.metrics===0.3.0,oslo.metrics===0.2.1,1,1
openstack%2Frequirements~master~I2b9b9edf5384ae66ed1e81c817d3e7b12841b00b,openstack/requirements,master,I2b9b9edf5384ae66ed1e81c817d3e7b12841b00b,update constraint for oslo.privsep to new release 2.6.1,MERGED,2021-08-19 12:49:07.000000000,2021-08-19 18:39:22.000000000,2021-08-19 18:39:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:49:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f095959d5dd474fc96c1227db415d449ff9e0f1a', 'message': 'update constraint for oslo.privsep to new release 2.6.1\n\nmeta: version: 2.6.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2b9b9edf5384ae66ed1e81c817d3e7b12841b00b\n'}]",0,805205,f095959d5dd474fc96c1227db415d449ff9e0f1a,8,3,1,11131,,,0,"update constraint for oslo.privsep to new release 2.6.1

meta: version: 2.6.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2b9b9edf5384ae66ed1e81c817d3e7b12841b00b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/805205/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f095959d5dd474fc96c1227db415d449ff9e0f1a,new-release,oslo.privsep===2.6.1,oslo.privsep===2.6.0,1,1
openstack%2Frequirements~master~Ic9986138fd055d32913027cbd5313cd4f7e9f22a,openstack/requirements,master,Ic9986138fd055d32913027cbd5313cd4f7e9f22a,update constraint for oslo.versionedobjects to new release 2.5.0,MERGED,2021-08-19 12:46:57.000000000,2021-08-19 18:39:19.000000000,2021-08-19 18:39:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:46:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/37e22f48ac685056832ba3037482856120e88075', 'message': 'update constraint for oslo.versionedobjects to new release 2.5.0\n\nmeta: version: 2.5.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I27a4ec0615c6ca7291b25ad0aa9663503404c4c0\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic9986138fd055d32913027cbd5313cd4f7e9f22a\n'}]",0,805201,37e22f48ac685056832ba3037482856120e88075,8,3,1,11131,,,0,"update constraint for oslo.versionedobjects to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27a4ec0615c6ca7291b25ad0aa9663503404c4c0
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic9986138fd055d32913027cbd5313cd4f7e9f22a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/805201/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,37e22f48ac685056832ba3037482856120e88075,new-release,oslo.versionedobjects===2.5.0,oslo.versionedobjects===2.4.0,1,1
openstack%2Frequirements~master~I1acd4ff7710ad5c8028f7a0470db7634b5ee8a9d,openstack/requirements,master,I1acd4ff7710ad5c8028f7a0470db7634b5ee8a9d,update constraint for automaton to new release 2.4.0,MERGED,2021-08-19 12:44:23.000000000,2021-08-19 18:39:17.000000000,2021-08-19 18:39:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:44:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d28ba054aa438d830ba66d9c8a13f6110ae31327', 'message': 'update constraint for automaton to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I83550e91db0b8edb77cf03d0c178d7934a1ce634\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1acd4ff7710ad5c8028f7a0470db7634b5ee8a9d\n'}]",0,805199,d28ba054aa438d830ba66d9c8a13f6110ae31327,8,3,1,11131,,,0,"update constraint for automaton to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I83550e91db0b8edb77cf03d0c178d7934a1ce634
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1acd4ff7710ad5c8028f7a0470db7634b5ee8a9d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/805199/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d28ba054aa438d830ba66d9c8a13f6110ae31327,new-release,automaton===2.4.0,automaton===2.3.0,1,1
openstack%2Frequirements~master~I676bc5229e961a5fa2e31eed9970f2d8f5444e96,openstack/requirements,master,I676bc5229e961a5fa2e31eed9970f2d8f5444e96,update constraint for oslo.context to new release 3.3.1,MERGED,2021-08-19 12:44:00.000000000,2021-08-19 18:39:14.000000000,2021-08-19 18:39:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:44:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/66ddb470aa8857beee47d37b946affd18533a105', 'message': 'update constraint for oslo.context to new release 3.3.1\n\nmeta: version: 3.3.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I9631431d8a28ec8e243eb659b5026452efda2b4a\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I676bc5229e961a5fa2e31eed9970f2d8f5444e96\n'}]",0,805198,66ddb470aa8857beee47d37b946affd18533a105,8,3,1,11131,,,0,"update constraint for oslo.context to new release 3.3.1

meta: version: 3.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I9631431d8a28ec8e243eb659b5026452efda2b4a
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I676bc5229e961a5fa2e31eed9970f2d8f5444e96
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/805198/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,66ddb470aa8857beee47d37b946affd18533a105,new-release,oslo.context===3.3.1,oslo.context===3.3.0,1,1
openstack%2Frequirements~master~I3886f26a93740296285e42acca807989f8b9ec50,openstack/requirements,master,I3886f26a93740296285e42acca807989f8b9ec50,update constraint for os-ken to new release 2.1.0,MERGED,2021-08-19 07:59:06.000000000,2021-08-19 18:39:11.000000000,2021-08-19 18:39:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:59:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2ed4edd462887c8b48351839a824afde6309b9ed', 'message': 'update constraint for os-ken to new release 2.1.0\n\nmeta: version: 2.1.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I3886f26a93740296285e42acca807989f8b9ec50\n'}]",0,805160,2ed4edd462887c8b48351839a824afde6309b9ed,8,3,1,11131,,,0,"update constraint for os-ken to new release 2.1.0

meta: version: 2.1.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I3886f26a93740296285e42acca807989f8b9ec50
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/805160/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2ed4edd462887c8b48351839a824afde6309b9ed,new-release,os-ken===2.1.0,os-ken===2.0.0,1,1
openstack%2Frequirements~master~I31271a34a2d34dd215a141b8a26bcb75aaf61f24,openstack/requirements,master,I31271a34a2d34dd215a141b8a26bcb75aaf61f24,update constraint for octavia-lib to new release 2.4.1,MERGED,2021-08-19 07:59:41.000000000,2021-08-19 18:39:08.000000000,2021-08-19 18:39:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:59:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea57f4569654363fdd73ac1a9fbe5f226b9727f6', 'message': 'update constraint for octavia-lib to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d\nmeta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I31271a34a2d34dd215a141b8a26bcb75aaf61f24\n'}]",0,805161,ea57f4569654363fdd73ac1a9fbe5f226b9727f6,8,3,1,11131,,,0,"update constraint for octavia-lib to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d
meta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I31271a34a2d34dd215a141b8a26bcb75aaf61f24
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/805161/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ea57f4569654363fdd73ac1a9fbe5f226b9727f6,new-release,octavia-lib===2.4.1,octavia-lib===2.4.0,1,1
openstack%2Frequirements~master~Ifb54733b527a48f94422ef23e30a0cddb977a196,openstack/requirements,master,Ifb54733b527a48f94422ef23e30a0cddb977a196,update constraint for tosca-parser to new release 2.4.1,MERGED,2021-08-19 07:58:02.000000000,2021-08-19 18:39:05.000000000,2021-08-19 18:39:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:58:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8d75d7cda26c2b38b0f3fa293ec2787e6e4fbc8', 'message': 'update constraint for tosca-parser to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I22768e499ef808867ca097bd7e189a90d66112ef\nmeta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ifb54733b527a48f94422ef23e30a0cddb977a196\n'}]",0,805159,b8d75d7cda26c2b38b0f3fa293ec2787e6e4fbc8,8,3,1,11131,,,0,"update constraint for tosca-parser to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I22768e499ef808867ca097bd7e189a90d66112ef
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ifb54733b527a48f94422ef23e30a0cddb977a196
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/805159/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b8d75d7cda26c2b38b0f3fa293ec2787e6e4fbc8,new-release,tosca-parser===2.4.1,tosca-parser===2.4.0,1,1
openstack%2Frequirements~master~Ie20335af32e8593374ef4090ff9c55564568a48f,openstack/requirements,master,Ie20335af32e8593374ef4090ff9c55564568a48f,update constraint for ovsdbapp to new release 1.12.0,MERGED,2021-08-19 07:54:47.000000000,2021-08-19 18:39:02.000000000,2021-08-19 18:39:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 07:54:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1dd7a39623f47e19a1f517d65f7ef615f2bf31bc', 'message': 'update constraint for ovsdbapp to new release 1.12.0\n\nmeta: version: 1.12.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idbeb9d09c345766b14e364dcfbaeca78c7ccec21\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ie20335af32e8593374ef4090ff9c55564568a48f\n'}]",0,805158,1dd7a39623f47e19a1f517d65f7ef615f2bf31bc,8,3,1,11131,,,0,"update constraint for ovsdbapp to new release 1.12.0

meta: version: 1.12.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idbeb9d09c345766b14e364dcfbaeca78c7ccec21
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ie20335af32e8593374ef4090ff9c55564568a48f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/805158/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1dd7a39623f47e19a1f517d65f7ef615f2bf31bc,new-release,ovsdbapp===1.12.0,ovsdbapp===1.11.0,1,1
openstack%2Ftripleo-quickstart~master~Ic33cb930a7e81e58527e3771e3401c844137cf1d,openstack/tripleo-quickstart,master,Ic33cb930a7e81e58527e3771e3401c844137cf1d,DO-NOT-MERGE Enable the centos testing repo for ceph,ABANDONED,2017-09-07 17:01:27.000000000,2021-08-19 18:36:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6796}, {'_account_id': 8871}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 25402}, {'_account_id': 26297}]","[{'number': 1, 'created': '2017-09-07 17:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1a9daa1cda7feb27a919c5d18c277ca68e582ee8', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\nDepnds-On: I29c689c6c689590da5b6a3f581fdbec98a52e207\n'}, {'number': 2, 'created': '2017-09-08 08:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e078d7f2fa48ce12874e8173194cfd0f952c6ded', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 3, 'created': '2017-09-10 10:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/438b1f3c77f6997910222f00ea468b372e56908d', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 4, 'created': '2017-09-20 21:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71852842abd4740c06990b3d4e51810f321ec145', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 5, 'created': '2017-10-05 09:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/42b5febb2a5b72e82fcd599bed63e9f2fe2f1f37', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 6, 'created': '2017-10-19 10:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/debfcac23bcc1fa4b39089d5df79225e5d63c9a3', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 7, 'created': '2017-12-21 20:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4fd17366a10e447faf7ce715ed048820a47fa1ae', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d'}, {'number': 8, 'created': '2018-01-11 17:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/affe8335bb31b84c4f58d2d436b7a8467daddad0', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 9, 'created': '2018-01-26 18:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6fd413174052a1212eee82d921bec2a2a9ec4569', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 10, 'created': '2018-02-13 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0d61b8ae26fc41e03abf47fad99c135f10b8771b', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 11, 'created': '2018-03-22 09:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f54d230c6b32d2ae17a6ac2a0cfb50dc3cef1333', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 12, 'created': '2018-04-12 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/54a1ea736743f577e31283d011d2dbf916fe06ee', 'message': 'DO-NOT-MERGE Enable the centos testing repo for testing\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 13, 'created': '2018-09-25 08:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5cd419d60e235e6052a76208764bea49e7df3daf', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 14, 'created': '2018-12-04 17:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbc73ba99fc0d1bebdc32e5d631bce784607d89e', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 15, 'created': '2019-01-08 11:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/06516ecca7ed6f7ae834d9cb6911618c32522bf2', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 16, 'created': '2019-02-13 21:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/70279fd5e52c5f29155fe82f37ee5e532b6c6c05', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 17, 'created': '2019-04-11 15:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/992f1abe43a8c92a269317a2a3ba73f734d842be', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 18, 'created': '2019-04-15 13:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a789f214f68d54a068f9e6eccf20ddda520c15e2', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 19, 'created': '2019-05-03 09:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a68a56329bd11eb1c3487d662496dc4a911a98e5', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 20, 'created': '2019-06-14 08:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1b14accb6fff39bfcaa1699b0af2079e0577dec3', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 21, 'created': '2019-07-17 10:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/050d1a7e431f8e9e2f36bcf7dfe973c26fa6723a', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 22, 'created': '2019-07-18 10:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1a891c1b751c2bfd8dcb58255150235fef4cdb8a', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 23, 'created': '2019-07-23 07:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a533beb99f35309acf22854e31b7b4c8052960b7', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 24, 'created': '2019-09-03 18:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f3ffae30d0d2e26849602ed756a24ffd385d0a19', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 25, 'created': '2019-09-26 14:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77ce565395feb8fc2bc0efba4817ae467239ba15', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 26, 'created': '2019-10-11 10:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9efe2181e4921d0509628b5752e71cd3b65ef0b0', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 27, 'created': '2019-10-24 15:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf5f5351cc5b22ca866ed376ab58cea4f512eca6', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 28, 'created': '2019-10-24 20:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/875992ab14427373860aad90610ba5ba92f4bb16', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 29, 'created': '2020-01-09 21:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1b7d1358789816e1abebdcd460ac529ac4a4e5d', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 30, 'created': '2020-03-26 14:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8f87a6e2d86d56d9c9b5ce706954780152cbf064', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 31, 'created': '2020-04-14 18:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/94cd62af58144d53690395d03023a44f4d641dee', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 32, 'created': '2020-05-07 10:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6e01115ce26be9fbaaef29da8692aa2babcafeba', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 33, 'created': '2020-06-18 13:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ad1aea4e21be95206c393e0df0be51f537af2a18', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 34, 'created': '2020-08-11 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86976ba181d531404585457bbe8a106ef948d416', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 35, 'created': '2020-12-09 11:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a2e984a6ea57dd46b8163cdadec18d498ff6b8b0', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 36, 'created': '2021-02-22 09:31:24.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/99063eae097cc54cf7fcef373b38fc1eabe641df', 'message': 'DO-NOT-MERGE Enable the centos testing repo for ceph\n\nProvides a way to test a new version of ceph-ansible from\nthe CentOS Storage SIG testing repo against the existing\nTripleO CI before that version is moved to the release\nrepo.\n\nChange-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}]",7,501810,99063eae097cc54cf7fcef373b38fc1eabe641df,187,12,36,18002,,,0,"DO-NOT-MERGE Enable the centos testing repo for ceph

Provides a way to test a new version of ceph-ansible from
the CentOS Storage SIG testing repo against the existing
TripleO CI before that version is moved to the release
repo.

Change-Id: Ic33cb930a7e81e58527e3771e3401c844137cf1d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/501810/29 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/master.yml'],1,1a9daa1cda7feb27a919c5d18c277ca68e582ee8,storage_sig_testing, baseurl: http://cbs.centos.org/repos/storage7-ceph-jewel-testing/x86_64/os/Packages/, baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/storage/x86_64/ceph-jewel/,1,1
openstack%2Foctavia-tempest-plugin~master~I5bb7ee389e734c075f10ed38507bade9a442e51b,openstack/octavia-tempest-plugin,master,I5bb7ee389e734c075f10ed38507bade9a442e51b,Fix wrong protocol in UDP pool tests,MERGED,2021-07-30 15:42:37.000000000,2021-08-19 18:31:27.000000000,2021-08-19 18:29:57.000000000,"[{'_account_id': 7125}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27560}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-30 15:42:37.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/685532377cc77b64209772963436cd04331e94a3', 'message': 'Fix wrong protocol in UDP pool tests\n\nChange-Id: I5bb7ee389e734c075f10ed38507bade9a442e51b\n'}]",0,803056,685532377cc77b64209772963436cd04331e94a3,9,5,1,9542,,,0,"Fix wrong protocol in UDP pool tests

Change-Id: I5bb7ee389e734c075f10ed38507bade9a442e51b
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/56/803056/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/api/v2/test_pool.py'],1,685532377cc77b64209772963436cd04331e94a3,use-udp-in-udp-pool-tests," const.UDP, const.LB_ALGORITHM_ROUND_ROBIN, const.UDP, const.LB_ALGORITHM_ROUND_ROBIN, const.UDP, const.LB_ALGORITHM_ROUND_ROBIN,"," const.HTTP, const.LB_ALGORITHM_ROUND_ROBIN, const.HTTP, const.LB_ALGORITHM_ROUND_ROBIN, const.HTTP, const.LB_ALGORITHM_ROUND_ROBIN,",3,3
openstack%2Fkolla-ansible~master~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,master,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-07-28 19:19:40.000000000,2021-08-19 18:21:44.000000000,2021-08-19 18:20:13.000000000,"[{'_account_id': 167}, {'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-07-28 19:19:40.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7cdad5325180c5502fdfd742abcde0df9d5ac90', 'message': 'Use more RMQ flags for less busy wait\n\nAs mentioned in the Iced014acee7e590c10848e73feca166f48b622dc\ncommit message, in Ussuri+ we can use ``+sbwtdcpu none\n+sbwtdio none`` as well. This is due to relying on RMQ-provided\nerlang in version 23.x.\n\nThis change adds the extra arguments by default.\nIt should be backported down to Ussuri before we do a release with\nIced014acee7e590c10848e73feca166f48b622dc.\n\nChange-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2\n'}]",0,802796,d7cdad5325180c5502fdfd742abcde0df9d5ac90,13,7,1,30491,,,0,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/802796/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,d7cdad5325180c5502fdfd742abcde0df9d5ac90,rmq-even-less-busy-wait,"# and not to busy wait (+sbwt none +sbwtdcpu none +sbwtdio none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none +sbwtdcpu none +sbwtdio none""","# and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""",8,7
openstack%2Fnova~master~I1d25a3a00380cac07547f53e75259ac0711c949c,openstack/nova,master,I1d25a3a00380cac07547f53e75259ac0711c949c,smartnic support - functional tests,MERGED,2021-03-12 05:34:44.000000000,2021-08-19 18:16:54.000000000,2021-08-19 18:13:30.000000000,"[{'_account_id': 5754}, {'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2021-03-12 05:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20defc7390e3b5ba75b8f7579f06b130507c45ef', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 2, 'created': '2021-03-30 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c87985ac348437e11a5a4847d9ade8916446d80', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 3, 'created': '2021-05-14 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acd9a22a3b725aed857eeb0b449f033b777d6ba7', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 4, 'created': '2021-05-20 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02d9f135141e11b5f3a0602384aad0fe9b08e55f', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 5, 'created': '2021-05-21 08:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a44af5a602cff9d9dcfd2bd0698f456e46472a95', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 6, 'created': '2021-06-02 06:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fb97bb24036755051bfac4daa13ecb25973adba', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 7, 'created': '2021-06-08 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e45149c26d2724b7e1252cf6cd9afd1cefa4a79', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 8, 'created': '2021-06-09 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dbeb80e8427c92ff54b51e7bc707da489252a63', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 9, 'created': '2021-06-11 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d212e377cc78a3dae9ebc8fe09c295daefb205ad', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 10, 'created': '2021-06-15 02:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1f5cad8010213cf1fd47e8f804dbdcd3bf284aa', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 11, 'created': '2021-06-15 07:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f6fdcc9a7aaa3d246639e0f913b7150e4190972', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 12, 'created': '2021-06-16 07:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/839da40f26318fb33486c93e418b4c441ecf3453', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 13, 'created': '2021-06-17 07:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b005c26788e54d0f8379d7295f0a6de88ec8124', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 14, 'created': '2021-06-17 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3c658ce1f5a15b17ed07ccf0a52c035332bb550', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 15, 'created': '2021-06-18 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0d5b9fbdaeee205bcb351a661e65e40052fdd03', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 16, 'created': '2021-06-21 05:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4553f16a7e93d580a3f10f774d21558b74149ea', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 17, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2151e2d7e59ca1c100c3d901e45bf989b76c9fba', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 18, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a493913784b3a580c3292fe2d4ddde7dfa9994c', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 19, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14b03a685b05fc249265ca9c5ad7f4fed7c04df9', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 20, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e397316447f58c6813a3a5e971021368eb0ad98', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 21, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958c62800558560f756874987db4dc2ea97b4918', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 22, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c05b18ae9d25b2c8b0682bda83639a2304684df2', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 23, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f5dcd74162b19f004b7787ecad98bef474161d7', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 24, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1465000c742acd9d9429ff91ace6c76591436d2b', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 25, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e365d2f3e67fc860d5b259a0b18905b9414ab9c', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 26, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f6aa8d4798ce28a56be372e4fc2cc131f98a592', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 27, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5996e2f2dea12d3aa5d29218d8cd4b67c8755e1b', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 28, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/215ea31ffea7c06ed0dcbd3f8c86b90947a2e52d', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}, {'number': 29, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/fixtures/neutron.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/fixtures/cyborg.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3245098e366e68f6d353d9f6ba0b40af9adb95b', 'message': 'smartnic support - functional tests\n\nfunction test\n\t- boot/soft reboot/hard reboot\n        - delete\n\t- rebuild\n\t- un/pause\n\t- stop/start\n\t- lock/unlock\n\t- rescue/unrescue\n\t- reject: resize/suspend/migrate/shelve/evacuate\n\nImplements: blueprint sriov-smartnic-support\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: I1d25a3a00380cac07547f53e75259ac0711c949c\n'}]",90,780147,c3245098e366e68f6d353d9f6ba0b40af9adb95b,163,6,29,7543,,,0,"smartnic support - functional tests

function test
	- boot/soft reboot/hard reboot
        - delete
	- rebuild
	- un/pause
	- stop/start
	- lock/unlock
	- rescue/unrescue
	- reject: resize/suspend/migrate/shelve/evacuate

Implements: blueprint sriov-smartnic-support
Co-Authored-By: Xinran Wang <xin-ran.wang@intel.com>
Change-Id: I1d25a3a00380cac07547f53e75259ac0711c949c
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/780147/29 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py']",2,20defc7390e3b5ba75b8f7579f06b130507c45ef,bp/sriov-smartnic-support," # This is also works for port with accelerator device def _test_evacuate(self, server, num_hosts): server_hostname = server['OS-EXT-SRV-ATTR:host'] for i in range(num_hosts): if self.compute_services[i].host == server_hostname: compute_to_stop = self.compute_services[i] else: compute_to_evacuate = self.compute_services[i] # Stop and force down the compute service. compute_id = self.admin_api.get_services( host=server_hostname, binary='nova-compute')[0]['id'] compute_to_stop.stop() self.admin_api.put_service(compute_id, {'forced_down': 'true'}) return compute_to_stop, compute_to_evacuate class PortAcceleratorServerOpsTest(AcceleratorServerBase): def setUp(self): self.NUM_HOSTS = 2 # 2nd host needed for evacuate super(PortAcceleratorServerOpsTest, self).setUp() self.flavor_id = self._create_flavor(name='tiny') server_name = 'port_accel_server' # add extra port for accelerator self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 for port in [self.neutron.port_with_accelerator]: self.neutron._ports[port['id']] = copy.deepcopy(port) port = self.neutron.port_with_accelerator self.server = self._create_server( server_name, flavor_id=self.flavor_id, image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[{'port': port['id']}], expected_state='ACTIVE') def test_delete_server(self): self._delete_server(self.server) hostname = self.server['OS-EXT-SRV-ATTR:host'] server_host_rp_uuid = self._get_provider_uuid_by_host(hostname) for i in range(self.NUM_HOSTS): compute_uuid = self.compute_rp_uuids[i] host_alloc = self._get_allocations_by_provider_uuid(compute_uuid) if compute_uuid == server_host_rp_uuid: self.assertEqual({}, host_alloc) def test_soft_reboot_ok(self): self._reboot_server(self.server) self._check_allocations_usage(self.server) def test_hard_reboot_ok(self): self._reboot_server(self.server, hard=True) self._check_allocations_usage(self.server) def test_pause_unpause_ok(self): # paus and unpause should work with accelerators backed port. # This is not a general test of un/pause functionality. self.api.post_server_action(self.server['id'], {'pause': {}}) self._wait_for_state_change(self.server, 'PAUSED') self._check_allocations_usage(self.server) # ARQs didn't get deleted (and so didn't have to be re-created). self.cyborg.mock_del_arqs.assert_not_called() self.api.post_server_action(self.server['id'], {'unpause': {}}) self._wait_for_state_change(self.server, 'ACTIVE') self._check_allocations_usage(self.server) def test_stop_start_ok(self): # Stop and start should work with accelerators backed port. self.api.post_server_action(self.server['id'], {'os-stop': {}}) self._wait_for_state_change(self.server, 'SHUTOFF') self._check_allocations_usage(self.server) # ARQs didn't get deleted (and so didn't have to be re-created). self.cyborg.mock_del_arqs.assert_not_called() self.api.post_server_action(self.server['id'], {'os-start': {}}) self._wait_for_state_change(self.server, 'ACTIVE') self._check_allocations_usage(self.server) def test_lock_unlock_ok(self): # Lock/unlock are no-ops for accelerators. self.api.post_server_action(self.server['id'], {'lock': {}}) server = self.api.get_server(self.server['id']) self.assertTrue(server['locked']) self._check_allocations_usage(self.server) self.api.post_server_action(self.server['id'], {'unlock': {}}) server = self.api.get_server(self.server['id']) self.assertTrue(not server['locked']) self._check_allocations_usage(self.server) def test_backup_ok(self): self.api.post_server_action(self.server['id'], {'createBackup': { 'name': 'Backup 1', 'backup_type': 'daily', 'rotation': 1}}) self._check_allocations_usage(self.server) def test_create_image_ok(self): # snapshot self.api.post_server_action(self.server['id'], {'createImage': { 'name': 'foo-image', 'metadata': {'meta_var': 'meta_val'}}}) self._check_allocations_usage(self.server) def test_rescue_unrescue_ok(self): self.api.post_server_action(self.server['id'], {'rescue': { 'adminPass': 'MySecretPass', 'rescue_image_ref': '70a599e0-31e7-49b7-b260-868f441e862b'}}) self._check_allocations_usage(self.server) # ARQs didn't get deleted (and so didn't have to be re-created). self.cyborg.mock_del_arqs.assert_not_called() self._wait_for_state_change(self.server, 'RESCUE') self.api.post_server_action(self.server['id'], {'unrescue': {}}) self._check_allocations_usage(self.server) def test_rebuild_ok(self): rebuild_image_ref = self.glance.auto_disk_config_enabled_image['id'] self.api.post_server_action(self.server['id'], {'rebuild': { 'imageRef': rebuild_image_ref, 'OS-DCF:diskConfig': 'AUTO'}}) fake_notifier.wait_for_versioned_notifications('instance.rebuild.end') self._wait_for_state_change(self.server, 'ACTIVE') self._check_allocations_usage(self.server) def test_resize_reject(self): ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'resize': {'flavorRef': '2', 'OS-DCF:diskConfig': 'AUTO'}}) self.assertEqual(403, ex.response.status_code) self._check_allocations_usage(self.server) def test_suspend_reject(self): ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'suspend': {}}) self.assertEqual(403, ex.response.status_code) self._check_allocations_usage(self.server) def test_migrate_reject(self): ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'migrate': {}}) self.assertEqual(403, ex.response.status_code) self._check_allocations_usage(self.server) def test_live_migrate_reject(self): ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'migrate': {'host': 'accel_host1'}}) self.assertEqual(403, ex.response.status_code) self._check_allocations_usage(self.server) def test_shelve_reject(self): self.flags(compute=5.0, group='upgrade_levels') compute_rpcapi.reset_globals() ex = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'shelve': {}}) self.assertEqual(403, ex.response.status_code) def test_evacuate_reject(self): _, compute_to_evacuate = self._test_evacuate( self.server, self.NUM_HOSTS) ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, self.server['id'], {'evacuate': { 'host': compute_to_evacuate.host, 'adminPass': 'MySecretPass'}}) self.assertEqual(403, ex.response.status_code) self._check_allocations_usage(self.server) "," def _test_evacuate(self, server, num_hosts): server_hostname = server['OS-EXT-SRV-ATTR:host'] for i in range(num_hosts): if self.compute_services[i].host == server_hostname: compute_to_stop = self.compute_services[i] else: compute_to_evacuate = self.compute_services[i] # Stop and force down the compute service. compute_id = self.admin_api.get_services( host=server_hostname, binary='nova-compute')[0]['id'] compute_to_stop.stop() self.admin_api.put_service(compute_id, {'forced_down': 'true'}) return compute_to_stop, compute_to_evacuate ",214,15
openstack%2Fcharm-ceph-mon~master~I05bf90ff274e4f1b7ee9e278d62894b68ba2e787,openstack/charm-ceph-mon,master,I05bf90ff274e4f1b7ee9e278d62894b68ba2e787,Implement the 'list-inconsistent-objs' action,MERGED,2021-08-02 18:44:05.000000000,2021-08-19 18:16:42.000000000,2021-08-19 18:16:42.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 18:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4a2b3ec66ec57dceb6a4b259fb6dee02f4450a3e', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 2, 'created': '2021-08-02 19:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9c11f165e16d5d9dfcac01ec3eca2d9566b1e103', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 3, 'created': '2021-08-03 19:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e9fdc72c09910808ac80994d84e58de92ad86e77', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 4, 'created': '2021-08-05 18:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/51b0f215ab765bd2a075a7276e73e9961d3b0558', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 5, 'created': '2021-08-06 19:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/eea233ec869e17a734cfecd458302536e68422ad', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 6, 'created': '2021-08-06 19:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9d9d92eae57beb5bd0344b41e321e089875f16ab', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 7, 'created': '2021-08-06 20:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8587164d3d26e0ec6f0eff7015bd6488d6ac6288', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}, {'number': 8, 'created': '2021-08-06 21:12:58.000000000', 'files': ['unit_tests/test_action_list_inconsistent.py', 'actions/list-inconsistent-objs', 'actions/list_inconsistent_objs.py', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0270272177a9141e6ea558a2e6d023dfe026eb8a', 'message': ""Implement the 'list-inconsistent-objs' action\n\nPreviously, if we wanted to list the inconsistent objects per PG,\nwe needed to call 'ceph health detail' to get the list of inconsistent\nPGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch\naims to implement a single action that does all that and formats it\nas a pretty JSON.\n\nCloses-Bug: #1931751\nChange-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787\n""}]",11,803248,0270272177a9141e6ea558a2e6d023dfe026eb8a,39,3,8,33717,,,0,"Implement the 'list-inconsistent-objs' action

Previously, if we wanted to list the inconsistent objects per PG,
we needed to call 'ceph health detail' to get the list of inconsistent
PGs and then 'rados list-inconsistent-obj $PG' for each PG. This patch
aims to implement a single action that does all that and formats it
as a pretty JSON.

Closes-Bug: #1931751
Change-Id: I05bf90ff274e4f1b7ee9e278d62894b68ba2e787
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/48/803248/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_action_list_inconsistent.py', 'actions/list-inconsistent-objs', 'actions/list_inconsistent_objs.py', 'README.md']",4,4a2b3ec66ec57dceb6a4b259fb6dee02f4450a3e,bug/1931751,* `list-inconsistent-objs`,,158,0
openstack%2Ftripleo-common~master~Idc620239c6d43de69f707cf210ce8e5059d6cf01,openstack/tripleo-common,master,Idc620239c6d43de69f707cf210ce8e5059d6cf01,Setting language for the python3.6 tox environment,MERGED,2021-08-19 05:55:06.000000000,2021-08-19 18:11:19.000000000,2021-08-19 18:09:29.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-08-19 05:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1133c6abbed83848ed671befce856b83ab8ab428', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nChange-Id: Idc620239c6d43de69f707cf210ce8e5059d6cf01\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n'}, {'number': 2, 'created': '2021-08-19 08:40:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1eef7a5d1b2c3117a80f6280ea31a7c1278e9c98', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nChange-Id: Idc620239c6d43de69f707cf210ce8e5059d6cf01\nCloses-Bug: #1940313\n'}]",2,805117,1eef7a5d1b2c3117a80f6280ea31a7c1278e9c98,12,9,2,28223,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Change-Id: Idc620239c6d43de69f707cf210ce8e5059d6cf01
Closes-Bug: #1940313
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/805117/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1133c6abbed83848ed671befce856b83ab8ab428,encodingfix, LC_ALL=en_US.UTF-8,,1,0
openstack%2Ftripleo-validations~stable%2Fwallaby~I98916d3f120804e49d6b20ef86d28795f5dba7bf,openstack/tripleo-validations,stable/wallaby,I98916d3f120804e49d6b20ef86d28795f5dba7bf,Setting language for the python3.6 tox environment,MERGED,2021-08-19 05:45:28.000000000,2021-08-19 18:11:02.000000000,2021-08-19 18:09:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 05:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/22b80b34b65236f99180ab305ea3f890271e6294', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf\n(cherry picked from commit 597847a7386916648e1009fdd6db54d30afad946)\n'}, {'number': 2, 'created': '2021-08-19 08:38:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d0f300328605d181ddcaaccec35b8efb14487d40', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: #1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf\n(cherry picked from commit 597847a7386916648e1009fdd6db54d30afad946)\n'}]",0,805114,d0f300328605d181ddcaaccec35b8efb14487d40,16,12,2,32926,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Closes-Bug: #1940313

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf
(cherry picked from commit 597847a7386916648e1009fdd6db54d30afad946)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/14/805114/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,22b80b34b65236f99180ab305ea3f890271e6294,encodingfix, LC_ALL=en_US.UTF-8, LC_ALL=C,1,1
openstack%2Ftripleo-validations~master~I98916d3f120804e49d6b20ef86d28795f5dba7bf,openstack/tripleo-validations,master,I98916d3f120804e49d6b20ef86d28795f5dba7bf,Setting language for the python3.6 tox environment,MERGED,2021-08-18 12:55:24.000000000,2021-08-19 18:10:59.000000000,2021-08-19 18:09:31.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-18 12:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/597847a7386916648e1009fdd6db54d30afad946', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf\n'}, {'number': 2, 'created': '2021-08-19 08:38:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d00a7f94ff385f4cf9a35a840892688214b38e33', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: #1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf\n'}]",0,805015,d00a7f94ff385f4cf9a35a840892688214b38e33,12,10,2,32926,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Closes-Bug: #1940313

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I98916d3f120804e49d6b20ef86d28795f5dba7bf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/805015/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,597847a7386916648e1009fdd6db54d30afad946,encodingfix, LC_ALL=en_US.UTF-8, LC_ALL=C,1,1
openstack%2Ftripleo-heat-templates~master~I42b45b5f0ccb4746c83da20cf5be7ef3066a861a,openstack/tripleo-heat-templates,master,I42b45b5f0ccb4746c83da20cf5be7ef3066a861a,Setting language for the python3.6 tox environment,MERGED,2021-08-19 06:12:38.000000000,2021-08-19 18:10:59.000000000,2021-08-19 18:09:24.000000000,"[{'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 06:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33549b0f2a0b45f574f0ddc4487b3c077a84f773', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I42b45b5f0ccb4746c83da20cf5be7ef3066a861a\n'}, {'number': 2, 'created': '2021-08-19 06:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d011814e5fcaf0504c74eac7dbe3bc8f4f95ce65', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I42b45b5f0ccb4746c83da20cf5be7ef3066a861a\n'}, {'number': 3, 'created': '2021-08-19 08:38:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/580139d2f2f7ba6bdb40106e469e2adda7c73fea', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: #1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I42b45b5f0ccb4746c83da20cf5be7ef3066a861a\n'}]",0,805119,580139d2f2f7ba6bdb40106e469e2adda7c73fea,11,3,3,32926,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Closes-Bug: #1940313

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I42b45b5f0ccb4746c83da20cf5be7ef3066a861a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/805119/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,33549b0f2a0b45f574f0ddc4487b3c077a84f773,encodingfix,setenv = LC_ALL=en_US.UTF-8,,2,0
openstack%2Fvalidations-libs~master~I585a433e7480c22d52f402c1661194968ec66307,openstack/validations-libs,master,I585a433e7480c22d52f402c1661194968ec66307,Setting language for the python3.6 tox environment,MERGED,2021-08-18 12:50:58.000000000,2021-08-19 18:09:22.000000000,2021-08-19 18:09:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-18 12:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/355135274a110c674653956d629370652775e7ee', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I585a433e7480c22d52f402c1661194968ec66307\n'}, {'number': 2, 'created': '2021-08-19 08:38:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c8480cbf80a8a34b7ff5b3d7f535ff5afc942a75', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: #1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I585a433e7480c22d52f402c1661194968ec66307\n'}]",0,805013,c8480cbf80a8a34b7ff5b3d7f535ff5afc942a75,10,9,2,32926,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Closes-Bug: #1940313

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I585a433e7480c22d52f402c1661194968ec66307
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/13/805013/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,355135274a110c674653956d629370652775e7ee,encodingfix, LC_ALL=en_US.UTF-8, LC_ALL=C,1,1
openstack%2Fvalidations-common~master~If117620aebbce07137386f82dfa0c21bd034a1b6,openstack/validations-common,master,If117620aebbce07137386f82dfa0c21bd034a1b6,Setting language for the python3.6 tox environment,MERGED,2021-08-18 12:53:48.000000000,2021-08-19 18:09:20.000000000,2021-08-19 18:09:20.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-18 12:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/581d49bc35ebc2fcd42c308a375c33b1cc7b03b8', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If117620aebbce07137386f82dfa0c21bd034a1b6\n'}, {'number': 2, 'created': '2021-08-19 08:38:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8dd362023d6b6219d8baaf50211944731c33acd8', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nCloses-Bug: #1940313\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If117620aebbce07137386f82dfa0c21bd034a1b6\n'}]",0,805014,8dd362023d6b6219d8baaf50211944731c33acd8,9,10,2,32926,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Closes-Bug: #1940313

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If117620aebbce07137386f82dfa0c21bd034a1b6
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/14/805014/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,581d49bc35ebc2fcd42c308a375c33b1cc7b03b8,encodingfix, LC_ALL=en_US.UTF-8, LC_ALL=C,1,1
openstack%2Ftripleo-ansible~master~Id32f1135c857eb4ccc4a6c7356957ff0f5182839,openstack/tripleo-ansible,master,Id32f1135c857eb4ccc4a6c7356957ff0f5182839,Add deployed_ceph feature,MERGED,2021-06-22 20:41:30.000000000,2021-08-19 18:09:19.000000000,2021-08-19 18:09:19.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-22 20:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ec4dd4123bedd0ed8021e0a07e2884e08e7f258', 'message': 'Add tripleo_cephadm_deployed_ceph boolean parameter\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 2, 'created': '2021-06-23 01:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48c4b2c72ebf9675c9fac03d7616b08945115ec0', 'message': 'Add tripleo_cephadm_deployed_ceph boolean parameter\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 3, 'created': '2021-06-23 04:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6103c49057e2e26bf158610778e61e1808848c72', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 4, 'created': '2021-06-23 13:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afb8b1cfba1238facbb85e0e44c043dd1c7a1eb5', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 5, 'created': '2021-06-23 14:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9487898b033e9f1a5354e4209da0ecd791487d5b', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 6, 'created': '2021-06-23 15:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db16f795a643247dd35db45a3957c4daa7339152', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 7, 'created': '2021-06-24 00:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b61742f257b3244c1004df6b87548cf2465e2c81', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 8, 'created': '2021-06-29 16:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce52462d5e72a77bd3d92da367ffedc76338ea30', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 9, 'created': '2021-07-01 01:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d24ad346744e3650363dd1e7908f657fa8cb207', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 10, 'created': '2021-07-01 17:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b6dcc56c0cdacd25e7904ab0ca6bee904f03acf', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 11, 'created': '2021-07-02 23:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db5ba13ac6e523ee53431c01efb739eed9d5538d', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 12, 'created': '2021-07-03 20:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/293dfe2f93993bbdb8bb1dac398190a400bfde6e', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 13, 'created': '2021-07-03 22:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7566c39d3969da0f8e60f401c7fdb1d7777cb450', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 14, 'created': '2021-07-25 15:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5de29d4af1dd8b6fa4e2e3d377e5401fd4417ad8', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 15, 'created': '2021-07-25 18:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d3a6e653f8a9c8104f78845ebb8bc230ae34d48', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 16, 'created': '2021-08-09 20:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a98da1c9d418398752b04e606f114d1cca9b5b25', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}, {'number': 17, 'created': '2021-08-10 11:47:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_run_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml', 'tripleo_ansible/playbooks/ceph-admin-user-playbook.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/make_deployed_ceph_tht.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/enable_ceph_admin_user.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35e455ad52751ae334a614a03c8257da2f30e038', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n'}]",31,797538,35e455ad52751ae334a614a03c8257da2f30e038,68,5,17,18002,,,0,"Add deployed_ceph feature

Add cli-deployed-ceph.yaml playbook which can be used
to deploy ceph after networkv2 is configured but before
the overcloud is configured.

Add the tripleo_cephadm_deployed_ceph parameter boolean
paramter which should be true if only if Ceph has already
been deployed.

This parameter causes the roles tripleo_run_cephadm and
tripleo_cephadm to skip certain tasks under the assmption
that these tasks have already been completed during an
earlier phase of deployment.

Change-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/797538/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",3,3ec4dd4123bedd0ed8021e0a07e2884e08e7f258,deployed_ceph, - not tripleo_cephadm_deployed_ceph,,10,2
openstack%2Foctavia~master~Ib189c6f67946851d37c31a6a8d657460c15f491e,openstack/octavia,master,Ib189c6f67946851d37c31a6a8d657460c15f491e,Replace md5 for fips,MERGED,2021-06-25 18:34:11.000000000,2021-08-19 18:05:01.000000000,2021-08-19 18:03:11.000000000,"[{'_account_id': 7973}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-25 18:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33c9cbe89202cf288530cbe048d087ec2ab8abf7', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 2, 'created': '2021-06-25 21:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b21e97ab69e09c5e5e816a98c8f6a76f5ce4bd5c', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 3, 'created': '2021-06-25 21:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc6684b502dfabcf4e317700bf06fdf4541bf6f6', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 4, 'created': '2021-06-25 23:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d688401d68aed816798c334ed19015f4d7ccd753', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 5, 'created': '2021-06-28 18:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/417004d008f75e0463219cd6ae92f0b3873fb472', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 6, 'created': '2021-06-29 01:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b07adaa480255bd5eed5f1eb0bd4e5b77cb093a4', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}, {'number': 7, 'created': '2021-07-07 18:35:41.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'requirements.txt', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'lower-constraints.txt', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/db7a633a4ff2da39f67f9ddf42931cc21052fda4', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n'}]",7,798146,db7a633a4ff2da39f67f9ddf42931cc21052fda4,22,5,7,9914,,,0,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to generate etags and to check file integrity when
uploading certs. fingerprints when ssh keys are
being generated and imported.  Without this patch, these operations
fail on FIPS enabled systems.

Change-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/798146/7 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",5,33c9cbe89202cf288530cbe048d087ec2ab8abf7,add_fips_job,"from oslo_utils.secretutils import md5 ref_md5 = md5(fake_secret, usedforsecurity=False).hexdigest() # nosec md5sum=ref_md5, name=ref_name) ref_md5 = md5(fake_pem, usedforsecurity=False).hexdigest() # nosec md5sum=ref_md5, name=ref_name)"," ref_md5 = hashlib.md5(fake_secret).hexdigest() # nosec md5=ref_md5, name=ref_name) ref_md5 = hashlib.md5(fake_pem).hexdigest() # nosec md5=ref_md5, name=ref_name)",32,26
openstack%2Fnova~master~Idab0ee38750d018de409699a0dbdff106d9e11fb,openstack/nova,master,Idab0ee38750d018de409699a0dbdff106d9e11fb,smartnic support - cleanup arqs,MERGED,2021-06-25 07:49:34.000000000,2021-08-19 18:05:00.000000000,2021-08-19 18:02:52.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/390526276fe297d0c8578a7fa99a550264bec8fc', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 2, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e91de8bbae491eba2b87547c1ea8f309188aaff', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 3, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d601c68db089a5f229fd5f9993d7f641cd931fbd', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 4, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4e6d60334c03b67b96a95375436022ae317846c', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 5, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/282b6b4c014f7643f068a440fd7a55952db63251', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 6, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93a0c6b35bc5a8bef3b41e5754ce8a227b74882d', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 7, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8592cab0fe4f443eeb72ab0aaade7eb1fec4d787', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 8, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b52e914a56a1963edd0690b02c43e12f369ef169', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 9, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcae463e9b7097a80675dd6c0b5f03222436ae74', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 10, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cc12c111dd1229c970603dbc25e9a5d3df07f82', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 11, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75a5862b59c7496a8707c513740cddbcd212fa8b', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 12, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96aa8575f4a81699b750303c80efbb3dbefcb302', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}, {'number': 13, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e19fa1a1997c6d18d440dcdc5a0732b7e2467fa5', 'message': 'smartnic support - cleanup arqs\n\ndelete arqs:\n        -  delete arq while port unbind\n\t-  create ops failed and arqs did not bind to instance\n\t-  arq bind to instance but not bind to port\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb\n'}]",10,798054,e19fa1a1997c6d18d440dcdc5a0732b7e2467fa5,91,5,13,7543,,,0,"smartnic support - cleanup arqs

delete arqs:
        -  delete arq while port unbind
	-  create ops failed and arqs did not bind to instance
	-  arq bind to instance but not bind to port

Implements: blueprint sriov-smartnic-support
Change-Id: Idab0ee38750d018de409699a0dbdff106d9e11fb
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/798054/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py']",7,390526276fe297d0c8578a7fa99a550264bec8fc,bp/sriov-smartnic-support," """"""Delete Cyborg ARQs for the instance. :param context :param instance: instance who own the args :param uuids: delete arqs by uuids while did not bind to instance yet. """""" dp_name = instance.flavor.extra_specs.get('accel:device_profile') if dp_name: LOG.debug('Calling Cyborg to delete ARQs for instance %(instance)s', try: cyclient.delete_arqs_for_instance(instance.uuid) except exception.AcceleratorRequestOpFailed as e: LOG.exception('Failed to delete accelerator requests for ' if arq_uuids: LOG.debug('Calling Cyborg to delete ARQs by uuids %(uuid)s for' ' instance %(instance)s', {'instance': instance.uuid, 'uuid': arq_uuids}) try: cyclient.delete_arqs_by_uuid(arq_uuids) except exception.AcceleratorRequestOpFailed as e: LOG.exception('ARQ %s does not exist while deleted for ' 'instance %s. Exception: %s', arq_uuids, instance.uuid, e)"," """"""Delete Cyborg ARQs for the instance."""""" dp_name = instance.flavor.extra_specs.get('accel:device_profile') if dp_name is None: return LOG.debug('Calling Cyborg to delete ARQs for instance %(instance)s', try: cyclient.delete_arqs_for_instance(instance.uuid) except exception.AcceleratorRequestOpFailed as e: LOG.exception('Failed to delete accelerator requests for '",115,14
openstack%2Ftripleo-validations~stable%2Fvictoria~I4385a6f02ac4a41244ba6aef5e755d922588d544,openstack/tripleo-validations,stable/victoria,I4385a6f02ac4a41244ba6aef5e755d922588d544,DNM: verbose all the things,ABANDONED,2021-08-19 16:12:09.000000000,2021-08-19 18:04:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-19 16:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f0a2861b1f58e060a240e125225bbfb6d344eab7', 'message': 'DNM: verbose all the things\n\nChange-Id: I4385a6f02ac4a41244ba6aef5e755d922588d544\n'}, {'number': 2, 'created': '2021-08-19 16:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/79adfa1f54ff36f9fe7f47d92adaece72118591f', 'message': 'DNM: verbose all the things\n\nChange-Id: I4385a6f02ac4a41244ba6aef5e755d922588d544\n'}, {'number': 3, 'created': '2021-08-19 16:43:38.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8cc5aa708f966a7820c0e92a422ae22dfc05718d', 'message': 'DNM: verbose all the things\n\nChange-Id: I4385a6f02ac4a41244ba6aef5e755d922588d544\n'}]",0,805248,8cc5aa708f966a7820c0e92a422ae22dfc05718d,5,1,3,14985,,,0,"DNM: verbose all the things

Change-Id: I4385a6f02ac4a41244ba6aef5e755d922588d544
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/48/805248/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,f0a2861b1f58e060a240e125225bbfb6d344eab7,dnm, name: tripleo-validations-molecule-jobs - job: tripleo_job_ansible_args: '-vvv', - tripleo-validations-centos-8-molecule-ceph - tripleo-validations-centos-8-molecule-check_for_dangling_images - tripleo-validations-centos-8-molecule-check_network_gateway - tripleo-validations-centos-8-molecule-check_rhsm_version - tripleo-validations-centos-8-molecule-check_uc_hostname - tripleo-validations-centos-8-molecule-check_undercloud_conf - tripleo-validations-centos-8-molecule-compute_tsx - tripleo-validations-centos-8-molecule-controller_token - tripleo-validations-centos-8-molecule-controller_ulimits - tripleo-validations-centos-8-molecule-ctlplane_ip_range - tripleo-validations-centos-8-molecule-image_serve - tripleo-validations-centos-8-molecule-nova_status - tripleo-validations-centos-8-molecule-nova_svirt - tripleo-validations-centos-8-molecule-package_version - tripleo-validations-centos-8-molecule-rabbitmq_limits - tripleo-validations-centos-8-molecule-repos - tripleo-validations-centos-8-molecule-stonith_exists - tripleo-validations-centos-8-molecule-system_encoding - tripleo-validations-centos-8-molecule-tls_everywhere - tripleo-validations-centos-8-molecule-tripleo_haproxy - tripleo-validations-centos-8-molecule-undercloud_debug - tripleo-validations-centos-8-molecule-undercloud_heat_purge_deleted - tripleo-validations-centos-8-molecule-undercloud_tokenflush gate: jobs: - tripleo-validations-centos-8-molecule-ceph - tripleo-validations-centos-8-molecule-check_for_dangling_images - tripleo-validations-centos-8-molecule-check_kernel_version - tripleo-validations-centos-8-molecule-check_network_gateway - tripleo-validations-centos-8-molecule-check_rhsm_version - tripleo-validations-centos-8-molecule-check_uc_hostname - tripleo-validations-centos-8-molecule-check_undercloud_conf - tripleo-validations-centos-8-molecule-compute_tsx - tripleo-validations-centos-8-molecule-controller_token - tripleo-validations-centos-8-molecule-controller_ulimits - tripleo-validations-centos-8-molecule-ctlplane_ip_range - tripleo-validations-centos-8-molecule-nova_status - tripleo-validations-centos-8-molecule-nova_svirt - tripleo-validations-centos-8-molecule-package_version - tripleo-validations-centos-8-molecule-rabbitmq_limits - tripleo-validations-centos-8-molecule-repos - tripleo-validations-centos-8-molecule-stonith_exists - tripleo-validations-centos-8-molecule-system_encoding - tripleo-validations-centos-8-molecule-tls_everywhere - tripleo-validations-centos-8-molecule-tripleo_haproxy - tripleo-validations-centos-8-molecule-undercloud_debug - tripleo-validations-centos-8-molecule-undercloud_heat_purge_deleted - tripleo-validations-centos-8-molecule-undercloud_tokenflush name: tripleo-validations-molecule-jobs - job: files: - ^roles/ceph/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-ceph parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: ceph - job: files: - ^roles/check_for_dangling_images/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-check_for_dangling_images parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: check_for_dangling_images - job: files: - ^roles/check_kernel_version/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml- job: files: - ^roles/check_network_gateway/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-check_network_gateway parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: check_network_gateway - job: files: - ^roles/check_rhsm_version/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-check_rhsm_version parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: check_rhsm_version - job: files: - ^roles/check_uc_hostname/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-check_uc_hostname parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: check_uc_hostname - job: files: - ^roles/check_undercloud_conf/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-check_undercloud_conf parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: check_undercloud_conf - job: files: - ^roles/collect_flavors_and_verify_profiles/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-collect_flavors_and_verify_profiles parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: collect_flavors_and_verify_profiles voting: false - job: files: - ^roles/compute_tsx/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-compute_tsx parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: compute_tsx - job: files: - ^roles/container_status/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-container_status parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: container_status voting: false - job: files: - ^roles/controller_token/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-controller_token parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: controller_token - job: files: - ^roles/controller_ulimits/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-controller_ulimits parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: controller_ulimits - job: files: - ^roles/ctlplane_ip_range/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-ctlplane_ip_range parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: ctlplane_ip_range - job: files: - ^roles/dhcp_validations/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-dhcp_validations parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: dhcp_validations voting: false - job: files: - ^roles/healthcheck_service_status/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-healthcheck_service_status parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: healthcheck_service_status voting: false - job: files: - ^roles/image_serve/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-image_serve parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: image_serve voting: false - job: files: - ^roles/ironic_boot_configuration/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-ironic_boot_configuration parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: ironic_boot_configuration voting: false - job: files: - ^roles/mysql_open_files_limit/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-mysql_open_files_limit parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: mysql_open_files_limit voting: false - job: files: - ^roles/network_environment/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-network_environment parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: network_environment voting: false - job: files: - ^roles/neutron_sanity_check/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-neutron_sanity_check parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: neutron_sanity_check voting: false - job: files: - ^roles/node_disks/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-node_disks parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: node_disks voting: false - job: files: - ^roles/node_health/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-node_health parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: node_health voting: false - job: files: - ^roles/nova_event_callback/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-nova_event_callback parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: nova_event_callback voting: false - job: files: - ^roles/nova_status/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-nova_status parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: nova_status - job: files: - ^roles/nova_svirt/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-nova_svirt parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: nova_svirt - job: files: - ^roles/openshift_on_openstack/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-openshift_on_openstack parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: openshift_on_openstack voting: false - job: files: - ^roles/openstack_endpoints/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-openstack_endpoints parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: openstack_endpoints voting: false - job: files: - ^roles/oslo_config_validator/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txt name: tripleo-validations-centos-8-molecule-oslo_config_validator parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: oslo_config_validator - job: files: - ^roles/overcloud_service_status/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-overcloud_service_status parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: overcloud_service_status - job: files: - ^roles/ovs_dpdk_pmd/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-ovs_dpdk_pmd parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: ovs_dpdk_pmd voting: false - job: files: - ^roles/pacemaker_status/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-pacemaker_status parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: pacemaker_status voting: false - job: files: - ^roles/package_version/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-package_version parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: package_version - job: files: - ^roles/rabbitmq_limits/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-rabbitmq_limits parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: rabbitmq_limits - job: files: - ^roles/repos/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-repos parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: repos - job: files: - ^roles/stack_health/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-stack_health parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: stack_health voting: false - job: files: - ^roles/stonith_exists/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-stonith_exists parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: stonith_exists - job: files: - ^roles/switch_vlans/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-switch_vlans parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: switch_vlans voting: false - job: files: - ^roles/system_encoding/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-system_encoding parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: system_encoding - job: files: - ^roles/tls_everywhere/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-tls_everywhere parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: tls_everywhere voting: true - job: files: - ^roles/tripleo_haproxy/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-tripleo_haproxy parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: tripleo_haproxy - job: files: - ^roles/undercloud_debug/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-undercloud_debug parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: undercloud_debug - job: files: - ^roles/undercloud_heat_purge_deleted/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-undercloud_heat_purge_deleted parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: undercloud_heat_purge_deleted - job: files: - ^roles/undercloud_process_count/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-undercloud_process_count parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: undercloud_process_count voting: false - job: files: - ^roles/undercloud_tokenflush/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-undercloud_tokenflush parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: undercloud_tokenflush - job: files: - ^roles/validation_init/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml name: tripleo-validations-centos-8-molecule-validation_init parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: validation_init,2,515
openstack%2Fcharm-masakari~stable%2F21.04~Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5,openstack/charm-masakari,stable/21.04,Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5,Specify certificates relation to update endpoints.,MERGED,2021-08-19 11:42:50.000000000,2021-08-19 17:53:10.000000000,2021-08-19 17:53:10.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 11:42:50.000000000', 'files': ['src/reactive/masakari_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/532ddc91f80084e731bf231fa591aee50fe8af38', 'message': 'Specify certificates relation to update endpoints.\n\nWhen the certificates relation is unspecified with the\nconfigure_tls method invocation, the masakari endpoints\nseem to ignore the update to TLS. This change specifies\nthe relation which causes the endpoints to update correctly.\n\nCloses-Bug: #1935986\nChange-Id: Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5\n(cherry picked from commit 3760b7211f6428dfd7321d4adf8d7ddaed7535f2)\n'}]",0,805142,532ddc91f80084e731bf231fa591aee50fe8af38,10,4,1,20634,,,0,"Specify certificates relation to update endpoints.

When the certificates relation is unspecified with the
configure_tls method invocation, the masakari endpoints
seem to ignore the update to TLS. This change specifies
the relation which causes the endpoints to update correctly.

Closes-Bug: #1935986
Change-Id: Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5
(cherry picked from commit 3760b7211f6428dfd7321d4adf8d7ddaed7535f2)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/42/805142/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/masakari_handlers.py'],1,532ddc91f80084e731bf231fa591aee50fe8af38,, charm_class.configure_tls( certificates_interface=reactive.endpoint_from_flag( 'certificates.available')), charm_class.configure_tls(),3,1
openstack%2Foctavia~master~I6251cd17bd6fa9faf5109e50c2190dda3614908d,openstack/octavia,master,I6251cd17bd6fa9faf5109e50c2190dda3614908d,Update nr_open limit value in the amphora,MERGED,2021-04-22 10:35:06.000000000,2021-08-19 17:51:49.000000000,2021-08-19 17:49:59.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-04-22 10:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4f6356d9bd9b1a7fb314159bd7f360d3b89c135', 'message': 'Update nr_open limit value in the amphora\n\nUsing haproxy 2.x, the ideal rlimit value for nr_open is close to\nconnection_limit * 2.5 (see compute_ideal_* in src/haproxy.c).\nSet this limit to 2,600,000 in the amphora to support a loadbalancer\nwith maxconn 1M.\n\nThis prevents the following warning messages when launching/reloading\nhaproxy:\n\n* ""Cannot raise FD limit to 2375058, limit is 2097152.""\n* ""FD limit (2097152) too low for maxconn=950000/maxsock=2375058. Please\n  raise \'ulimit-n\' to 2375058 or more to avoid any trouble.""\n\nChange-Id: I6251cd17bd6fa9faf5109e50c2190dda3614908d\n'}, {'number': 2, 'created': '2021-08-18 14:21:24.000000000', 'files': ['releasenotes/notes/fix-nr_open-limit-value-7f475c3e301a608d.yaml', 'octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4174f4a5a47a208d7cb7fa6d736f5bb20e995b64', 'message': 'Update nr_open limit value in the amphora\n\nUsing haproxy 2.x, the ideal rlimit value for nr_open is close to\nconnection_limit * 2.5 (see compute_ideal_* in src/haproxy.c).\nSet this limit to 2,600,000 in the amphora to support a loadbalancer\nwith maxconn 1M.\n\nThis prevents the following warning messages when launching/reloading\nhaproxy:\n\n* ""Cannot raise FD limit to 2375058, limit is 2097152.""\n* ""FD limit (2097152) too low for maxconn=950000/maxsock=2375058. Please\n  raise \'ulimit-n\' to 2375058 or more to avoid any trouble.""\n\nChange-Id: I6251cd17bd6fa9faf5109e50c2190dda3614908d\n'}]",0,787528,4174f4a5a47a208d7cb7fa6d736f5bb20e995b64,16,4,2,29244,,,0,"Update nr_open limit value in the amphora

Using haproxy 2.x, the ideal rlimit value for nr_open is close to
connection_limit * 2.5 (see compute_ideal_* in src/haproxy.c).
Set this limit to 2,600,000 in the amphora to support a loadbalancer
with maxconn 1M.

This prevents the following warning messages when launching/reloading
haproxy:

* ""Cannot raise FD limit to 2375058, limit is 2097152.""
* ""FD limit (2097152) too low for maxconn=950000/maxsock=2375058. Please
  raise 'ulimit-n' to 2375058 or more to avoid any trouble.""

Change-Id: I6251cd17bd6fa9faf5109e50c2190dda3614908d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/787528/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nr_open-limit-value-7f475c3e301a608d.yaml', 'octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel']",3,f4f6356d9bd9b1a7fb314159bd7f360d3b89c135,,sysctl-write-value fs.file-max 2600000 sysctl-write-value fs.nr_open 2600000,sysctl-write-value fs.file-max 2097152 sysctl-write-value fs.nr_open 2097152,9,3
openstack%2Fpython-manilaclient~master~I75d3c5441b82fb8f16896719544a81dd032cdd15,openstack/python-manilaclient,master,I75d3c5441b82fb8f16896719544a81dd032cdd15,[OSC] Implement Availability Zones Command,MERGED,2021-08-18 14:57:35.000000000,2021-08-19 17:20:13.000000000,2021-08-19 17:18:21.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-08-18 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/254e784ac7e6b71aaa6a44acf814a50b99cb03d5', 'message': '[OSC] Implement Availability zones Command\n\nThis commit implements the following openstack share command:\n\nopenstack share availability zone list\n\nChange-Id: I75d3c5441b82fb8f16896719544a81dd032cdd15\n'}, {'number': 2, 'created': '2021-08-19 06:35:29.000000000', 'files': ['manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/osc/v2/availability_zones.py', 'manilaclient/tests/unit/osc/v2/test_availability_zones.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/53275bec677e2b82768ee7254f45f52bbeb9b423', 'message': '[OSC] Implement Availability Zones Command\n\nThis commit implements the following openstack share command:\n\nopenstack share availability zone list\n\nChange-Id: I75d3c5441b82fb8f16896719544a81dd032cdd15\n'}]",5,805039,53275bec677e2b82768ee7254f45f52bbeb9b423,17,5,2,32493,,,0,"[OSC] Implement Availability Zones Command

This commit implements the following openstack share command:

openstack share availability zone list

Change-Id: I75d3c5441b82fb8f16896719544a81dd032cdd15
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/39/805039/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/availability_zones.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_availability_zones.py', 'setup.cfg']",4,254e784ac7e6b71aaa6a44acf814a50b99cb03d5,bp/openstack-client-support, share_availability_zone_list = manilaclient.osc.v2.availability_zones:ShareAvailabilityZoneList,,147,0
openstack%2Fnova-specs~master~I2f863d95e894a43c609ed986e900b3bf713c98d4,openstack/nova-specs,master,I2f863d95e894a43c609ed986e900b3bf713c98d4,Amend configurable-instance-hostnames for more response changes,ABANDONED,2021-08-09 09:38:37.000000000,2021-08-19 17:04:37.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 09:38:37.000000000', 'files': ['specs/xena/approved/configurable-instance-hostnames.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/58a3d350e743e86079979e10a646fc44c13d460a', 'message': ""Amend configurable-instance-hostnames for more response changes\n\nWe're now going to drop the 'OS-EXT-SRV-ATTR:' prefix from all\n'/servers' APIs, as well as all other extension-based prefixes from\nthese APIs and all '/flavors' APIs.\n\nChange-Id: I2f863d95e894a43c609ed986e900b3bf713c98d4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,803892,58a3d350e743e86079979e10a646fc44c13d460a,6,4,1,15334,,,0,"Amend configurable-instance-hostnames for more response changes

We're now going to drop the 'OS-EXT-SRV-ATTR:' prefix from all
'/servers' APIs, as well as all other extension-based prefixes from
these APIs and all '/flavors' APIs.

Change-Id: I2f863d95e894a43c609ed986e900b3bf713c98d4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/92/803892/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/configurable-instance-hostnames.rst'],1,58a3d350e743e86079979e10a646fc44c13d460a,configurable-instance-hostnames,"consistency between the request and response bodies. To continue this vein of consistency, we will also remove the ``OS-EXT-SRV-ATTR:`` from all other fields, as well as other extension-based fields with prefixes such as the ``OS-EXT-AZ``, ``OS-EXT-STS``, ``OS-SRV-USG``, ``os-extended-volumes``, ``os:scheduler_hints`` and ``OS-SCH-HNT`` prefixes for various ``/servers`` API requests and responses and the ``OS-FLV-EXT-DATA`` and ``OS-FLV-DISABLED`` prefixes for various ``/flavors`` responses. The sole exception is the ``OS-DCF:diskConfig`` field, which will be dropped entirely as it is no longer meaningful for any in-tree virt driver. The ``hostname`` attribute (formerly ``OS-EXT-SRV-ATTR:hostname``) is currently admin-only by default but will now be shown for non-admin users since it- Do not rename the ``OS-EXT-SRV-ATTR:hostname`` attribute in ``/servers`` responses. This would result in a mismatch between the server requests and server responses. This mismatch already exists for the ``host`` and ``node`` attributes of the server (which are represented at ``host`` and ``hypervisor_hostname`` in requests from microversion 2.74, but ``OS-EXT-SRV-ATTR:host`` and ``OS-EXT-SRV-ATTR:hypervisor_hostname`` in responses but we don't want to propagate this mistake. - Do not rename the other non-hostname attributes in ``/servers`` responses. This would result inconsistencies between API microversions, where clients would need to drop the prefix from one field in a microversion but not others. This doesn't seem very sensible.A new microversion will be introduced. When this microversion is used, users will be able to pass an additional ``hostname`` field when creating newThe ``OS-EXT-SRV-ATTR``, ``OS-EXT-AZ``, ``OS-EXT-STS``, ``OS-SRV-USG``, ``os-extended-volumes``, ``os:scheduler_hints`` and ``OS-SCH-HNT`` prefixes will be removed from various ``/servers`` API requests and responses and the ``OS-DCF:diskConfig`` field will be dropped entirely. The ``OS-FLV-EXT-DATA`` and ``OS-FLV-DISABLED`` prefixes will be removed from various ``/flavors`` responses. ","consistency between the request and response bodies. This attribute is also currently admin-only and it will now be shown for non-admin users since itA new microversion will be introduced. When this microversion is used, users will be able to pass an additional ``hostname`` field when creating new",33,4
openstack%2Fcharm-neutron-openvswitch~stable%2F21.04~I65ace64e0a71f78fa857481fff0a874cc018d7d8,openstack/charm-neutron-openvswitch,stable/21.04,I65ace64e0a71f78fa857481fff0a874cc018d7d8,Set NoopFirewallDriver when SGs disabled,MERGED,2021-08-04 13:36:12.000000000,2021-08-19 16:43:19.000000000,2021-08-19 16:43:19.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-04 13:36:12.000000000', 'files': ['templates/queens/openvswitch_agent.ini', 'templates/ussuri/openvswitch_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b5870d73c7f059c5a94850c8a2f03caa06973344', 'message': 'Set NoopFirewallDriver when SGs disabled\n\nLeaving firewall_driver unconfigured has expose an error\nwhen configuring vlan trunk ports while security groups\nare disabled. Setting it to NoopFirewallDriver allows it\nto work properly.\n\nChange-Id: I65ace64e0a71f78fa857481fff0a874cc018d7d8\nCloses-Bug: #1934904\n(cherry picked from commit cc4cc00ca3d82350a0800c104e7c99a522569fbd)\n'}]",0,803479,b5870d73c7f059c5a94850c8a2f03caa06973344,14,4,1,6737,,,0,"Set NoopFirewallDriver when SGs disabled

Leaving firewall_driver unconfigured has expose an error
when configuring vlan trunk ports while security groups
are disabled. Setting it to NoopFirewallDriver allows it
to work properly.

Change-Id: I65ace64e0a71f78fa857481fff0a874cc018d7d8
Closes-Bug: #1934904
(cherry picked from commit cc4cc00ca3d82350a0800c104e7c99a522569fbd)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/79/803479/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/openvswitch_agent.ini', 'templates/ussuri/openvswitch_agent.ini']",2,b5870d73c7f059c5a94850c8a2f03caa06973344,bug/1934904,firewall_driver = neutron.agent.firewall.NoopFirewallDriver,,2,0
openstack%2Fbifrost~master~Ic5239aba764f632c48a422812fde7010ffb1a339,openstack/bifrost,master,Ic5239aba764f632c48a422812fde7010ffb1a339,Move Nginx code to a new role bifrost-nginx-install,MERGED,2021-07-27 14:35:31.000000000,2021-08-19 16:37:08.000000000,2021-08-19 16:35:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-27 14:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b1c61b1404e633c6dc3ea2d34e21f49a71d59386', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 2, 'created': '2021-07-27 14:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/522ec2e48eaf14985aaabef265111296994c164d', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 3, 'created': '2021-07-28 15:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/65d3f612a28cd072b788141d21b9a2553d9fe6d5', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 4, 'created': '2021-07-30 11:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c59c8b98687ef91fd9c6dbcd8fefa535b62c7cb8', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 5, 'created': '2021-07-30 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/babc255bdba78e18feb6e895666a5030e559216a', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 6, 'created': '2021-07-30 13:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9dcb8335683bef16a0127043a1d4b37cc51f253b', 'message': '[WIP] Move Nginx code to a new role bifrost-nginx-install\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}, {'number': 7, 'created': '2021-08-02 11:40:19.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/templates/nginx_conf.d_bifrost-httpboot.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/templates/nginx_conf.d_bifrost-keystone.conf.j2', 'playbooks/roles/bifrost-nginx-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-nginx-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-nginx-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', 'playbooks/roles/bifrost-nginx-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'releasenotes/notes/bifrost-nginx-install-8a824b4be58201c7.yaml', 'playbooks/roles/bifrost-nginx-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-nginx-install/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a28b13eb7c0569dda45a47d9aa92fd4747dfe710', 'message': 'Move Nginx code to a new role bifrost-nginx-install\n\nThere is currently a lot of duplication between nginx setup for keystone\n(identity API) and ironic (httpboot directory). This change moves the\ncommon code to a new role and makes the httpboot configuration a\nseparate nginx configuration file.\n\nChange-Id: Ic5239aba764f632c48a422812fde7010ffb1a339\n'}]",2,802532,a28b13eb7c0569dda45a47d9aa92fd4747dfe710,20,3,7,10239,,,0,"Move Nginx code to a new role bifrost-nginx-install

There is currently a lot of duplication between nginx setup for keystone
(identity API) and ironic (httpboot directory). This change moves the
common code to a new role and makes the httpboot configuration a
separate nginx configuration file.

Change-Id: Ic5239aba764f632c48a422812fde7010ffb1a339
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/32/802532/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-nginx-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-nginx-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-nginx-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-nginx-install/tasks/install.yml', 'playbooks/roles/bifrost-nginx-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-nginx-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-nginx-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-nginx-install/tasks/start.yml']",18,b1c61b1404e633c6dc3ea2d34e21f49a71d59386,bifrost-nginx-install,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. --- - name: ""Ensure nginx is running with current config"" service: name: nginx state: restarted enabled: yes ",,216,106
openstack%2Fsushy-tools~master~I58d5e43c33f5ebce4fc7f120917839d8dd28c56b,openstack/sushy-tools,master,I58d5e43c33f5ebce4fc7f120917839d8dd28c56b,Support HTTP basic auth,MERGED,2021-08-05 12:42:05.000000000,2021-08-19 16:32:02.000000000,2021-08-19 16:29:13.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-05 12:42:05.000000000', 'files': ['releasenotes/notes/auth-044dab149ab0c03f.yaml', 'sushy_tools/emulator/main.py', 'requirements.txt', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7998eeca08f6128a8d1336e470eb03dbd4ecae4b', 'message': 'Support HTTP basic auth\n\nChange-Id: I58d5e43c33f5ebce4fc7f120917839d8dd28c56b\n'}]",0,803596,7998eeca08f6128a8d1336e470eb03dbd4ecae4b,8,3,1,10239,,,0,"Support HTTP basic auth

Change-Id: I58d5e43c33f5ebce4fc7f120917839d8dd28c56b
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/96/803596/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/auth-044dab149ab0c03f.yaml', 'sushy_tools/emulator/main.py', 'requirements.txt', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf']",5,7998eeca08f6128a8d1336e470eb03dbd4ecae4b,auth,"# If authentication is desired, set this to an htpasswd file. SUSHY_EMULATOR_AUTH_FILE = None ",,83,1
openstack%2Fcharm-interface-keystone-fid-service-provider~master~Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8,openstack/charm-interface-keystone-fid-service-provider,master,Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8,Check if there is a relation before accessing it.,ABANDONED,2020-09-10 21:07:31.000000000,2021-08-19 16:28:28.000000000,,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-09-10 21:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/773fbc7f7daa87918a425fe46800b3d20fb0e80e', 'message': 'Check if there is a relation before accessing it.\n\nWhen destroying a model is not rare that juju will remove the principal unit\nbefore the subordinate runs the -departed hook, so once the -departed hook of\nthe subordinate runs there are no relations.\n\nChange-Id: Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8\nCloses-Bug: #1894339\n'}, {'number': 2, 'created': '2020-11-17 15:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/8d95e2ea8774a4bc41695e9ac42e2fce8a8bf810', 'message': 'Check if there is a relation before accessing it.\n\nWhen destroying a model is not rare that juju will remove the principal unit\nbefore the subordinate runs the -departed hook, so once the -departed hook of\nthe subordinate runs there are no relations.\n\nChange-Id: Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8\nCloses-Bug: #1894339\n'}, {'number': 3, 'created': '2020-11-17 15:26:28.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/0f40ec1e8419e20215fd02a48291d8446c4e7cc4', 'message': 'Check if there is a relation before accessing it.\n\nWhen destroying a model is not rare that juju will remove the principal\nunit before the subordinate runs the -departed hook, so once the\n-departed hook of the subordinate runs there are no relations.\n\nChange-Id: Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8\nCloses-Bug: #1894339\n'}]",1,751105,0f40ec1e8419e20215fd02a48291d8446c4e7cc4,10,4,3,2424,,,0,"Check if there is a relation before accessing it.

When destroying a model is not rare that juju will remove the principal
unit before the subordinate runs the -departed hook, so once the
-departed hook of the subordinate runs there are no relations.

Change-Id: Ifc8827c144f8e7b3a1d9e9553fcd44441ba143a8
Closes-Bug: #1894339
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-fid-service-provider refs/changes/05/751105/1 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,773fbc7f7daa87918a425fe46800b3d20fb0e80e,bug/1894339, if not self.relations: return,,2,0
openstack%2Fsushy-tools~master~Ib726b7d2cc44fbea666d580d7639680bf4bfbcf1,openstack/sushy-tools,master,Ib726b7d2cc44fbea666d580d7639680bf4bfbcf1,Use correct status code with werkzeug exceptions,MERGED,2021-08-05 12:53:02.000000000,2021-08-19 16:23:28.000000000,2021-08-19 16:21:17.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-05 12:53:02.000000000', 'files': ['sushy_tools/emulator/main.py', 'releasenotes/notes/http-code-b4e32ad8485ef841.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6b11ec4da449087d5c403a4c25e156afc645f24e', 'message': 'Use correct status code with werkzeug exceptions\n\nChange-Id: Ib726b7d2cc44fbea666d580d7639680bf4bfbcf1\n'}]",0,803598,6b11ec4da449087d5c403a4c25e156afc645f24e,8,3,1,10239,,,0,"Use correct status code with werkzeug exceptions

Change-Id: Ib726b7d2cc44fbea666d580d7639680bf4bfbcf1
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/98/803598/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'releasenotes/notes/http-code-b4e32ad8485ef841.yaml']",2,6b11ec4da449087d5c403a4c25e156afc645f24e,http-code,--- fixes: - | Returns the correct status code (404) when a URL is not found. ,,6,1
openstack%2Fproject-config~master~I930317c27360c7ba9914cde28fba0c9e11329211,openstack/project-config,master,I930317c27360c7ba9914cde28fba0c9e11329211,Retire puppet-monasca - Step 1: End project Gating,MERGED,2021-08-19 01:59:10.000000000,2021-08-19 16:06:36.000000000,2021-08-19 16:06:36.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 01:59:10.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a2f5497430a3a47f4563b4f49f93d17f6cac42a', 'message': ""Retire puppet-monasca - Step 1: End project Gating\n\nThis module still depends on outdated interface of puppet-python which\nwas already removed. Because we haven't seen any intention to keep it\nmaintained[1], I'd propose retiring the module now.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024118.html\n\nChange-Id: I930317c27360c7ba9914cde28fba0c9e11329211\n""}]",0,805098,8a2f5497430a3a47f4563b4f49f93d17f6cac42a,10,5,1,9816,,,0,"Retire puppet-monasca - Step 1: End project Gating

This module still depends on outdated interface of puppet-python which
was already removed. Because we haven't seen any intention to keep it
maintained[1], I'd propose retiring the module now.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024118.html

Change-Id: I930317c27360c7ba9914cde28fba0c9e11329211
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/805098/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,8a2f5497430a3a47f4563b4f49f93d17f6cac42a,retire-puppet-monasca, - noop-jobs, - puppet-release-jobs,1,1
openstack%2Fnova-specs~master~I4caff30f2b3cc12f0970874dcbee04e572e8ccc5,openstack/nova-specs,master,I4caff30f2b3cc12f0970874dcbee04e572e8ccc5,"Revert ""Amend configurable-instance-hostnames to include response changes""",MERGED,2021-08-09 10:01:57.000000000,2021-08-19 16:03:23.000000000,2021-08-19 16:01:45.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 10:01:57.000000000', 'files': ['specs/xena/approved/configurable-instance-hostnames.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ed015789ef4c12b95e18366a98837e110ced5776', 'message': 'Revert ""Amend configurable-instance-hostnames to include response changes""\n\nThis reverts commit aec9a01d54ce02d24745e80cc9d9635a0eeb7048. This\nchange proposed renaming ``OS-EXT-SRV-ATTR:hostname`` attribute in\n``/servers`` responses to match the ``hostname`` attribute in requests,\nwhich would avoid a mismatch between the server requests and server\nresponses. However, this mismatch already exists for the ``host`` and\n``node`` attributes of the server, which are represented as ``host`` and\n``hypervisor_hostname`` in requests (from microversion 2.74) but\n``OS-EXT-SRV-ATTR:host`` and ``OS-EXT-SRV-ATTR:hypervisor_hostname`` in\nresponses. In addition, there are many more fields with the\n``OS-EXT-SRV-ATTR`` prefixes and it seems odd to remove it for one field\n(and force clients to make changes) without removing the other\nextension-based prefixes for both the various ``/servers`` APIs and the\n``/flavors`` APIs. It would be better to tackle this in a separate\nmicroversion or potentially not at all [1].\n\n[1] https://etherpad.opendev.org/p/nova-api-cleanup (Item #3, line 46)\n\nChange-Id: I4caff30f2b3cc12f0970874dcbee04e572e8ccc5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,803895,ed015789ef4c12b95e18366a98837e110ced5776,10,5,1,15334,,,0,"Revert ""Amend configurable-instance-hostnames to include response changes""

This reverts commit aec9a01d54ce02d24745e80cc9d9635a0eeb7048. This
change proposed renaming ``OS-EXT-SRV-ATTR:hostname`` attribute in
``/servers`` responses to match the ``hostname`` attribute in requests,
which would avoid a mismatch between the server requests and server
responses. However, this mismatch already exists for the ``host`` and
``node`` attributes of the server, which are represented as ``host`` and
``hypervisor_hostname`` in requests (from microversion 2.74) but
``OS-EXT-SRV-ATTR:host`` and ``OS-EXT-SRV-ATTR:hypervisor_hostname`` in
responses. In addition, there are many more fields with the
``OS-EXT-SRV-ATTR`` prefixes and it seems odd to remove it for one field
(and force clients to make changes) without removing the other
extension-based prefixes for both the various ``/servers`` APIs and the
``/flavors`` APIs. It would be better to tackle this in a separate
microversion or potentially not at all [1].

[1] https://etherpad.opendev.org/p/nova-api-cleanup (Item #3, line 46)

Change-Id: I4caff30f2b3cc12f0970874dcbee04e572e8ccc5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/95/803895/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/configurable-instance-hostnames.rst'],1,ed015789ef4c12b95e18366a98837e110ced5776,configurable-instance-hostnames,"The ``OS-EXT-SRV-ATTR:hostname`` instance attribute, which is currently admin-only, will now be shown for non-admin users, since it doesn't make sense to allow users to configure the value but not see it.The ``OS-EXT-SRV-ATTR:hostname`` instance attribute, which is currently admin-only, will now be accessible by non-admin users.","The ``OS-EXT-SRV-ATTR:hostname`` instance attribute will be renamed to ``hostname``, dropping the ``OS-EXT-SRV-ATTR:`` prefix. This will provide consistency between the request and response bodies. This attribute is also currently admin-only and it will now be shown for non-admin users since it doesn't make sense to allow users to configure the value but not see it.The ``OS-EXT-SRV-ATTR:hostname`` instance attribute, which was only shown for admin users, will be removed in favour of a ``hostname`` attribute. The new ``hostname`` attribute will be accessible by non-admin users.",5,8
openstack%2Fceilometer~master~If4fdbb473a00fd1506ed036a4438ca931023e137,openstack/ceilometer,master,If4fdbb473a00fd1506ed036a4438ca931023e137,Adding FIPS job,MERGED,2021-07-13 19:58:01.000000000,2021-08-19 16:01:59.000000000,2021-08-19 15:57:11.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 19:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/40bb79e79d13e97f759cd54985165024febdf206', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 2, 'created': '2021-07-14 19:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6a4166eef53e6f5dfdad141d9331f0cef5a456c7', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 3, 'created': '2021-08-09 19:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b3de5a42ad424cd5d2831c566188f55fc99f1b82', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 4, 'created': '2021-08-09 19:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d124fe2672d427092e5de5059e5663247a2b0643', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 5, 'created': '2021-08-09 19:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/22a6a6f5b042b717b5fa4fcd4850800a82f39f2a', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 6, 'created': '2021-08-10 16:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5e2b4ac9fdd315abe7dd2de3cc88705724729c53', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 7, 'created': '2021-08-11 13:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3fa4eaaf75712cfbc4db191d01ffb7ff3e21e66f', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\nDepends-On: Ic158561b3f4d8ddcc092f4e8da1b3215f976fc98\n'}, {'number': 8, 'created': '2021-08-11 14:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba3a69d6f5fad263786b46408545c0f29a43e4ac', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 9, 'created': '2021-08-12 13:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a31f2793c7bbb67ab384d5748e85cf50530c2f8', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 10, 'created': '2021-08-12 15:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/868ea4f4478ed0dca52087a5bc9e536f3d09eefa', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 11, 'created': '2021-08-12 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b8a1882972a59d7fca985c06590a8fbb6a03aae1', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 12, 'created': '2021-08-12 15:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f35facae124142616d48c9da53c102b9085b1472', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 13, 'created': '2021-08-12 15:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/45dcb0591a171e86c3cb13d5c155aa5b8427614f', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 14, 'created': '2021-08-12 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4d2e43131f08fc17210227469f280c2dbe5b686b', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 15, 'created': '2021-08-12 16:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f4fda2a5b8e2a04cbe45410d4fbb5b462217921a', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 16, 'created': '2021-08-18 14:09:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/04e3ea79223b3e149953c14b71d37e533568b7d7', 'message': 'Adding FIPS job\n\nChange-Id: If4fdbb473a00fd1506ed036a4438ca931023e137\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}]",2,800717,04e3ea79223b3e149953c14b71d37e533568b7d7,65,5,16,30893,,,0,"Adding FIPS job

Change-Id: If4fdbb473a00fd1506ed036a4438ca931023e137
Depends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/17/800717/16 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', '.zuul.yaml']",2,40bb79e79d13e97f759cd54985165024febdf206,add_fips_job,- job: name: telemetry-dsvm-integration-fips nodeset: devstack-single-node-centos-8-stream parent: telemetry-dsvm-integration description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml ,,12,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I059de98ef3fbb8f39a4119dbf334be4b14d989ad,openstack/python-tripleoclient,stable/wallaby,I059de98ef3fbb8f39a4119dbf334be4b14d989ad,"Make the ""success"" message more ""success""-like",MERGED,2021-08-17 13:25:33.000000000,2021-08-19 15:57:22.000000000,2021-08-19 15:55:42.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-17 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/552c49da786de71491cd2f3ab13b382bdddf3bdb', 'message': 'Make the ""success"" message more ""success""-like\n\nWith the current way, the ending message is a bit too similar when we\nget a success or a failure:\n""with error"" compared to ""without error"" is too close, and it\'s easy to\noverlook an potential issue.\n\nThis change changes ""without error"" to ""successfully"", making a clear\ndifference.\n\nThis issue was reported as-is on Red Hat Bugzilla:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1937226\n\nChange-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad\n(cherry picked from commit 6780cd74a0a6c894215f68870a033fc7349167e6)\n'}, {'number': 2, 'created': '2021-08-19 05:16:02.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf7392db2ed2cc2906e1273b222ad4d1156c9cba', 'message': 'Make the ""success"" message more ""success""-like\n\nWith the current way, the ending message is a bit too similar when we\nget a success or a failure:\n""with error"" compared to ""without error"" is too close, and it\'s easy to\noverlook an potential issue.\n\nThis change changes ""without error"" to ""successfully"", making a clear\ndifference.\n\nThis issue was reported as-is on Red Hat Bugzilla:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1937226\n\nChange-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad\n(cherry picked from commit 6780cd74a0a6c894215f68870a033fc7349167e6)\n'}]",0,804858,bf7392db2ed2cc2906e1273b222ad4d1156c9cba,19,4,2,28223,,,0,"Make the ""success"" message more ""success""-like

With the current way, the ending message is a bit too similar when we
get a success or a failure:
""with error"" compared to ""without error"" is too close, and it's easy to
overlook an potential issue.

This change changes ""without error"" to ""successfully"", making a clear
difference.

This issue was reported as-is on Red Hat Bugzilla:
https://bugzilla.redhat.com/show_bug.cgi?id=1937226

Change-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad
(cherry picked from commit 6780cd74a0a6c894215f68870a033fc7349167e6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/804858/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,552c49da786de71491cd2f3ab13b382bdddf3bdb,deploy-msg/success-stable/wallaby, deploy_message = 'successfully', deploy_message = 'without error',1,1
openstack%2Fpython-octaviaclient~master~I9d1a649478794222c39bf4258520c696b3ad0c92,openstack/python-octaviaclient,master,I9d1a649478794222c39bf4258520c696b3ad0c92,Use py3 as the default runtime for tox,MERGED,2021-04-20 07:58:27.000000000,2021-08-19 15:55:44.000000000,2021-08-19 15:51:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-04-20 07:58:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/795e4b55235fa6ef1601bf4ffd34d70bf5fcf923', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I9d1a649478794222c39bf4258520c696b3ad0c92\n'}]",1,787140,795e4b55235fa6ef1601bf4ffd34d70bf5fcf923,9,4,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I9d1a649478794222c39bf4258520c696b3ad0c92
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/40/787140/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,795e4b55235fa6ef1601bf4ffd34d70bf5fcf923,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07,openstack/puppet-tripleo,stable/wallaby,I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07,Replace deprecated ip functions,MERGED,2021-08-16 23:41:24.000000000,2021-08-19 15:55:39.000000000,2021-08-19 15:55:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 23:41:24.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'spec/functions/is_ip_addresses_spec.rb', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/pacemaker/clustercheck.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/base/heat.pp', 'manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'lib/puppet/functions/is_ip_addresses.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/34d78c5827be5b2410003dd76e7273159024650e', 'message': 'Replace deprecated ip functions\n\nThe ip functions in puppetlabs-stdlib are deprecated since 4.13.0[1]\nand should be replaced.\n\nAlso, this change removes the is_ip_addresses method, because now\nthe method is used only with the String variables and can be replaced.\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955\n\nChange-Id: I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07\n(cherry picked from commit e9d96dcec322bc58f3d3d261311f89e708a9522b)\n'}]",0,804728,34d78c5827be5b2410003dd76e7273159024650e,17,3,1,9816,,,0,"Replace deprecated ip functions

The ip functions in puppetlabs-stdlib are deprecated since 4.13.0[1]
and should be replaced.

Also, this change removes the is_ip_addresses method, because now
the method is used only with the String variables and can be replaced.

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955

Change-Id: I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07
(cherry picked from commit e9d96dcec322bc58f3d3d261311f89e708a9522b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/804728/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'spec/functions/is_ip_addresses_spec.rb', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/pacemaker/clustercheck.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/base/heat.pp', 'manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'lib/puppet/functions/is_ip_addresses.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp']",27,34d78c5827be5b2410003dd76e7273159024650e,ip_functions-stable/wallaby, if $memcached_hosts_real[0] =~ Stdlib::Compat::Ipv6 {, if is_ipv6_address($memcached_hosts_real[0]) {,29,70
openstack%2Fpuppet-openstack-integration~master~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,master,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-19 01:45:29.000000000,2021-08-19 15:42:10.000000000,2021-08-19 15:42:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 01:45:29.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/25009d7f3ad04490989c713fee9d3fe72f7a0934', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n'}]",0,805097,25009d7f3ad04490989c713fee9d3fe72f7a0934,7,3,1,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/805097/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,25009d7f3ad04490989c713fee9d3fe72f7a0934,retire-puppet-monasca,, - openstack/puppet-monasca,0,1
openstack%2Fglance~master~I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca,openstack/glance,master,I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca,Deprecate task specific policies,MERGED,2021-07-26 09:12:02.000000000,2021-08-19 15:38:04.000000000,2021-08-19 15:32:56.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 09:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/47995d917c2e179b2e1498ce3d6300b8d25f8d78', 'message': 'Deprecate tasks_api_access policy\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer and will be\ninjecting specific task policies instead of this common check in\nthe API.\n\nRelated blueprint policy-refactor\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 2, 'created': '2021-07-26 15:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7b52109678dd8bb414ab8bc21c84d6869d892892', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 3, 'created': '2021-08-04 16:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c44c704555a5d0b4c5091bb5e7e009d1e385d495', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 4, 'created': '2021-08-04 18:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a0273fe01144c5e5e552821d98890a3577432ee6', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 5, 'created': '2021-08-05 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/300f59d83b1d896452fca79dc201d48ec08e81bd', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 6, 'created': '2021-08-05 20:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a7eee60c7776598955dda28c16fa1b11576ea1d', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\n\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 7, 'created': '2021-08-11 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/acc61aac9b53037295ba3b528f753d1fe5508e1f', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\n\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 8, 'created': '2021-08-11 17:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c191e476beed0566e029be46ea402bde1ffb68be', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\n\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 9, 'created': '2021-08-12 08:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc99ba08a65e359053dca37626fbda425338459a', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\n\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}, {'number': 10, 'created': '2021-08-13 18:09:07.000000000', 'files': ['glance/policies/tasks.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/77a1916b98e7e90f42bd6689b95928406e26edc2', 'message': 'Deprecate task specific policies\n\nAt the momemnt we are enforcing tasks_api_access policy at API layer\nand other tasks policies at policy layer. As a part of policy\nrefactoring we are moving policy checks to API layer. Since task\nAPIs are already deprecated there it is better to keep only one\npolicy and deprecate task specific policies as they no longer be\nused.\n\nRelated blueprint policy-refactor\n\nChange-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca\n'}]",1,802244,77a1916b98e7e90f42bd6689b95928406e26edc2,33,3,10,9303,,,0,"Deprecate task specific policies

At the momemnt we are enforcing tasks_api_access policy at API layer
and other tasks policies at policy layer. As a part of policy
refactoring we are moving policy checks to API layer. Since task
APIs are already deprecated there it is better to keep only one
policy and deprecate task specific policies as they no longer be
used.

Related blueprint policy-refactor

Change-Id: I561bfc6955e62d0b0c5bf89957684b8ca1a4ecca
",git fetch https://review.opendev.org/openstack/glance refs/changes/44/802244/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/tasks.py'],1,47995d917c2e179b2e1498ce3d6300b8d25f8d78,policy-refactor,"DEPRECATION_REASON = """""" From Xena we are enforcing policy checks in the API and policy layer where task policies were enforcing will be removed. As `tasks_api_access` is checked for each task API at API layer there will be no use of other task policies. In order to honor respective task policies we are deprecating 'tasks_api_access`. In Yoga we will make provision to use task specific policies and remove `tasks_api_access` policy. """""" deprecated_rule=policy.DeprecatedRule( name=""tasks_api_access"", check_str=""role:admin"", deprecated_reason=DEPRECATION_REASON, deprecated_since=versionutils.deprecated.XENA)",,13,0
openstack%2Fglance~master~I3bf583e98fd610a8edb7cd31e6809f951463d771,openstack/glance,master,I3bf583e98fd610a8edb7cd31e6809f951463d771,Move setting of enforce_scope to devstack side,MERGED,2021-03-05 14:47:27.000000000,2021-08-19 15:32:12.000000000,2021-08-19 13:12:56.000000000,"[{'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 14:47:27.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/glance/commit/abe052d6dbc923d3419e31852339a081a8dd7fc6', 'message': 'Move setting of enforce_scope to devstack side\n\nenforce_scope setting has been moved to devstack side\nfor glance\n- https://review.opendev.org/c/openstack/devstack/+/778945\n\nWhich will give benefits of managing it in single place and\ndoes not need to restart g-api service again.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/778945\nChange-Id: I3bf583e98fd610a8edb7cd31e6809f951463d771\n'}]",0,778952,abe052d6dbc923d3419e31852339a081a8dd7fc6,24,4,1,8556,,,0,"Move setting of enforce_scope to devstack side

enforce_scope setting has been moved to devstack side
for glance
- https://review.opendev.org/c/openstack/devstack/+/778945

Which will give benefits of managing it in single place and
does not need to restart g-api service again.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/778945
Change-Id: I3bf583e98fd610a8edb7cd31e6809f951463d771
",git fetch https://review.opendev.org/openstack/glance refs/changes/52/778952/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,abe052d6dbc923d3419e31852339a081a8dd7fc6,secure-rbac,,"#!/usr/bin/env bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. function configure_enforce_scope { iniset $GLANCE_CONF_DIR/glance-api.conf oslo_policy enforce_scope true iniset $GLANCE_CONF_DIR/glance-api.conf oslo_policy enforce_new_defaults true iniset $GLANCE_CONF_DIR/glance-api.conf DEFAULT enforce_secure_rbac true sudo systemctl restart devstack@g-api } function configure_protection_tests { iniset $TEMPEST_CONFIG image-feature-enabled enforce_scope true iniset $TEMPEST_CONFIG auth admin_system true iniset $TEMPEST_CONFIG auth admin_project_name '' } # For more information on Devstack plugins, including a more detailed # explanation on when the different steps are executed please see: # https://docs.openstack.org/devstack/latest/plugins.html if [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then # This phase is executed after Tempest was configured echo ""Glance plugin - Test-config phase"" if [[ ""$(trueorfalse False GLANCE_ENFORCE_SCOPE)"" == ""True"" ]] ; then # devstack and tempest assume enforce_scope is false, so need to wait # until the final phase to turn it on configure_enforce_scope configure_protection_tests fi fi ",0,41
openstack%2Fneutron-lib~master~Ic3718defd74c2165077bb5a942e46474d3582cf5,openstack/neutron-lib,master,Ic3718defd74c2165077bb5a942e46474d3582cf5,Add util to generate resource request group UUID,MERGED,2021-08-18 11:43:09.000000000,2021-08-19 15:30:12.000000000,2021-08-19 15:27:07.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 11:43:09.000000000', 'files': ['neutron_lib/tests/unit/placement/test_utils.py', 'neutron_lib/placement/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/794fc7032efca33c24e229d94f914be632911124', 'message': 'Add util to generate resource request group UUID\n\nAdd a new utility function that can be used to generate a stable UUID\nfor a resource request group.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ic3718defd74c2165077bb5a942e46474d3582cf5\n'}]",1,805010,794fc7032efca33c24e229d94f914be632911124,16,7,1,33652,,,0,"Add util to generate resource request group UUID

Add a new utility function that can be used to generate a stable UUID
for a resource request group.

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ic3718defd74c2165077bb5a942e46474d3582cf5
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/10/805010/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/placement/test_utils.py', 'neutron_lib/placement/utils.py']",2,794fc7032efca33c24e229d94f914be632911124,bp/qos-minimum-guaranteed-packet-rate,"def resource_request_group_uuid(namespace, qos_rules, separator=':'): """"""Generate a stable UUID for a resource request group. :param namespace: A UUID object identifying a port. :param qos_rules: A list of QoS rules contributing to the group. :param separator: A string used in assembling a name for uuid5(). Optional. :returns: A unique and stable UUID identifying a resource request group. """""" name = separator.join([rule.id for rule in qos_rules]) return six_uuid5(namespace=namespace, name=name) ",,42,0
openstack%2Fos-brick~master~Iede8f3269ac513d7b7c4fb6ae42985fe4f43cf9c,openstack/os-brick,master,Iede8f3269ac513d7b7c4fb6ae42985fe4f43cf9c,rbd windows: log the device number,MERGED,2021-08-02 13:41:02.000000000,2021-08-19 15:22:43.000000000,2021-08-19 15:18:41.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 13:41:02.000000000', 'files': ['os_brick/initiator/windows/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6db6b82fed7840bed59dde0f1da8e9b35af2f6a4', 'message': ""rbd windows: log the device number\n\nSome Windows RBD CI jobs have failed[1], the connector being unable\nto retrieve the mounted image path.\n\nThe live migration test seems to be the one that's usually failing,\nalthough it doesn't happen all the time.\n\nFor debugging purposes, we'll log the RBD device number.\n\n[1] https://paste.opendev.org/raw/807847/\n\nChange-Id: Iede8f3269ac513d7b7c4fb6ae42985fe4f43cf9c\n""}]",0,803210,6db6b82fed7840bed59dde0f1da8e9b35af2f6a4,22,3,1,8543,,,0,"rbd windows: log the device number

Some Windows RBD CI jobs have failed[1], the connector being unable
to retrieve the mounted image path.

The live migration test seems to be the one that's usually failing,
although it doesn't happen all the time.

For debugging purposes, we'll log the RBD device number.

[1] https://paste.opendev.org/raw/807847/

Change-Id: Iede8f3269ac513d7b7c4fb6ae42985fe4f43cf9c
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/10/803210/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/windows/rbd.py'],1,6db6b82fed7840bed59dde0f1da8e9b35af2f6a4,," LOG.debug( ""Located RBD mapping: %(image)s. "" ""Disk number: %(disk_number)s."", dict(image=connection_properties['name'], disk_number=dev_num))",,5,0
openstack%2Fos-brick~master~Ib2934ff730f99e1a777c106f2c41a73b1cae3d27,openstack/os-brick,master,Ib2934ff730f99e1a777c106f2c41a73b1cae3d27,Replace deprecated tenacity.Retrying.call,MERGED,2021-07-22 18:13:10.000000000,2021-08-19 15:19:33.000000000,2021-08-19 15:17:47.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 18:13:10.000000000', 'files': ['os_brick/utils.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/249943b969e132df3b719657c95dcf2d3a29b40b', 'message': 'Replace deprecated tenacity.Retrying.call\n\n... by the __call__ method following the deprecation in the tenacity\nlibrary[1].\n\n[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f\n\nChange-Id: Ib2934ff730f99e1a777c106f2c41a73b1cae3d27\n'}]",1,801917,249943b969e132df3b719657c95dcf2d3a29b40b,17,3,1,9816,,,0,"Replace deprecated tenacity.Retrying.call

... by the __call__ method following the deprecation in the tenacity
library[1].

[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f

Change-Id: Ib2934ff730f99e1a777c106f2c41a73b1cae3d27
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/801917/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/utils.py'],1,249943b969e132df3b719657c95dcf2d3a29b40b,retrying-call," return r(f, *args, **kwargs)"," return r.call(f, *args, **kwargs)",1,1
openstack%2Fglance~master~I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74,openstack/glance,master,I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74,Refactor gateway auth layer for task APIs,MERGED,2021-07-26 09:12:02.000000000,2021-08-19 15:11:24.000000000,2021-08-19 15:09:31.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 09:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3597d968d98250d123e7224a3946372043129ced', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 2, 'created': '2021-08-04 16:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3b517d2397963895cb407bb167b4c7c2afdb55de', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 3, 'created': '2021-08-04 18:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db853937ad3019ec351649c0bbdc82e1e08d37be', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 4, 'created': '2021-08-05 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d460a52271f22238fb6c41485e7d55a0edc5b708', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 5, 'created': '2021-08-05 20:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a11bc5ad0a637951c30a075fd03561ccf3c1eb5b', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 6, 'created': '2021-08-11 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4d4a5d104f3e9c75f7e1ee0dce4aa33673305d7', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 7, 'created': '2021-08-11 17:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e918ac9947faf9c32883b36b18d333f0a32d317c', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 8, 'created': '2021-08-12 08:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fa4ed1c14def65fa6a35295282d495689e8bc57a', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}, {'number': 9, 'created': '2021-08-13 18:09:07.000000000', 'files': ['glance/gateway.py', 'glance/tests/unit/test_gateway.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d035553871b351234029ef1850eccacd859a5deb', 'message': ""Refactor gateway auth layer for task APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74\n""}]",1,802243,d035553871b351234029ef1850eccacd859a5deb,39,4,9,9303,,,0,"Refactor gateway auth layer for task APIs

This makes us able to optionally not get the authorization layer on
top of the stack. It also don't insert the policy layer in the
middle of the stack.

Related blueprint policy-refactor

Change-Id: I6ca25ddf3c0d80f023f3e4d9ab6ec6823f680b74
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/802243/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/gateway.py', 'glance/tests/unit/test_gateway.py']",2,3597d968d98250d123e7224a3946372043129ced,policy-refactor,"from glance.api import authorizationfrom glance import notifier @mock.patch('glance.api.policy.TaskRepoProxy') def test_get_task_repo(self, mock_proxy): repo = self.gateway.get_task_repo(self.context) self.assertIsInstance(repo, authorization.TaskRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.TaskRepoProxy') def test_get_task_repo_without_auth(self, mock_proxy): repo = self.gateway.get_task_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.TaskRepoProxy) mock_proxy.assert_not_called() @mock.patch('glance.api.policy.TaskStubRepoProxy') def test_get_task_stub_repo(self, mock_proxy): repo = self.gateway.get_task_stub_repo(self.context) self.assertIsInstance(repo, authorization.TaskStubRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.TaskStubRepoProxy') def test_get_task_stub_repo_without_auth(self, mock_proxy): repo = self.gateway.get_task_stub_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.TaskStubRepoProxy) mock_proxy.assert_not_called()",,52,18
openstack%2Fnova~master~Id0dea92beb686b95f0155bb16a6b6fa7c4cda476,openstack/nova,master,Id0dea92beb686b95f0155bb16a6b6fa7c4cda476,smartnic support - build instance with smartnic arqs,MERGED,2021-06-28 06:06:09.000000000,2021-08-19 15:11:08.000000000,2021-08-19 15:05:56.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d36ef43b1915307628d0519c49c8b5d6e4a789ea', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 2, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2146bfdcd9d9038a102392a4ac2e40ddad99a88', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 3, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04ba0f0a1a3274c1e8a226bad7c5e10842ae8c95', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 4, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dfd28965b80f185861a1c5978c19875b94512fc', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 5, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f0d647d60d32aca169c6e6b2f5e2d4e98383e1b', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 6, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aa13fe2fabcd9aa800be5c9e0528a864df5ce9f', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 7, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90a689c5192025debe227f5a51098fac11fe0c9e', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 8, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75a142f8da5ec51e12abafdf9fe45292a5979a54', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 9, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8d4f96546947abe126154c79ed74865a395af2d', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 10, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d2288cb3a243676ef3f58c4fa9fa78a983e8062', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}, {'number': 11, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/120fe8af93dae067ef18bd8e66d8a4e16cbd9770', 'message': ""smartnic support - build instance with smartnic arqs\n\nbuild instance with port requested arqs:\n\n   - Compute service split instance's args into 2 groups: arqs\n     originated from extra spec and args originated from port\n     device profile\n\n   - Updating the port binding info by the device info retrieved\n     from Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\nChange-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476\n""}]",6,798249,120fe8af93dae067ef18bd8e66d8a4e16cbd9770,95,4,11,7543,,,0,"smartnic support - build instance with smartnic arqs

build instance with port requested arqs:

   - Compute service split instance's args into 2 groups: arqs
     originated from extra spec and args originated from port
     device profile

   - Updating the port binding info by the device info retrieved
     from Cyborg.

Implements: blueprint sriov-smartnic-support

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324
Depends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+
Depends-On: https://review.opendev.org/c/openstack/cyborg/+/758942

Co-Authored-By: Shaohe Feng <shaohe.feng@intel.com>
Co-Authored-By: Xinran Wang <xin-ran.wang@intel.com>
Change-Id: Id0dea92beb686b95f0155bb16a6b6fa7c4cda476
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/798249/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/compute/manager.py']",4,d36ef43b1915307628d0519c49c8b5d6e4a789ea,bp/sriov-smartnic-support," security_groups, resource_provider_mapping, network_arqs): resource_provider_mapping=resource_provider_mapping, network_arqs=network_arqs) requested_networks, security_groups, resource_provider_mapping, network_arqs): resource_provider_mapping, network_arqs) security_groups, resource_provider_mapping, network_arqs): requested_networks, security_groups, resource_provider_mapping, network_arqs) spec_arqs = {} network_arqs = {} try: if accel_uuids: arqs = self._get_bound_arq_resources( context, instance, accel_uuids) spec_arqs, network_arqs = self._split_network_arqs( arqs, requested_networks) LOG.debug(""ARQs for spec:%s, ARQs for network:%s"", spec_arqs, network_arqs) except (Exception, eventlet.timeout.Timeout) as exc: LOG.exception(exc) compute_utils.delete_arqs_if_needed(context, instance) msg = _('Failure getting accelerator requests.') raise exception.BuildAbortException( reason=msg, instance_uuid=instance.uuid) resource_provider_mapping, network_arqs) resources['accel_info'] = list(spec_arqs.values()) def _split_network_arqs(self, arqs, requested_networks): """"""splif arq request by exra spec from ARQ requested by port. Return ARQ groups tuple:(spec_arqs, port_arqs) Each group arrange as a dic: { arq1_uuid: arq1 } """""" port_arqs = {} spec_arqs = {} port_arqs_uuids = [req_net.arq_uuid for req_net in requested_networks] for arq in arqs: if arq['uuid'] in port_arqs_uuids: port_arqs.update({arq['uuid']: arq}) else: spec_arqs.update({arq['uuid']: arq}) return spec_arqs, port_arqs "," security_groups, resource_provider_mapping): resource_provider_mapping=resource_provider_mapping) requested_networks, security_groups, resource_provider_mapping): resource_provider_mapping) security_groups, resource_provider_mapping): requested_networks, security_groups, resource_provider_mapping) resource_provider_mapping) arqs = [] if instance.flavor.extra_specs.get('accel:device_profile'): try: arqs = self._get_bound_arq_resources( context, instance, accel_uuids) except (Exception, eventlet.timeout.Timeout) as exc: LOG.exception(exc) self._build_resources_cleanup(instance, network_info) compute_utils.delete_arqs_if_needed(context, instance) msg = _('Failure getting accelerator requests.') raise exception.BuildAbortException( reason=msg, instance_uuid=instance.uuid) resources['accel_info'] = arqs",211,56
openstack%2Fglance~master~I1353aacf595aa36c8c4823fbe7c6d0600a532f73,openstack/glance,master,I1353aacf595aa36c8c4823fbe7c6d0600a532f73,Check upload_image policy in the API,MERGED,2021-08-12 21:17:26.000000000,2021-08-19 15:08:17.000000000,2021-08-19 15:06:04.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 21:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/042ece20f9849da7f8ecc2101ff4245f0145c009', 'message': ""Check upload_image policy in the API\n\nNote that this adds a clause to the upload exception handler which\nreturns 404 if the user can't upload the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I1353aacf595aa36c8c4823fbe7c6d0600a532f73\n""}, {'number': 2, 'created': '2021-08-13 20:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b51c071beb12d1cfe3da15332b643b44ec8c5adc', 'message': ""Check upload_image policy in the API\n\nNote that this adds a clause to the upload exception handler which\nreturns 404 if the user can't upload the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I1353aacf595aa36c8c4823fbe7c6d0600a532f73\n""}, {'number': 3, 'created': '2021-08-17 17:38:20.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images_api_policy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4407d6ceb5e08e3da99c236766b755d3c1a3d8ce', 'message': ""Check upload_image policy in the API\n\nNote that this adds a clause to the upload exception handler which\nreturns 404 if the user can't upload the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I1353aacf595aa36c8c4823fbe7c6d0600a532f73\n""}]",5,804463,4407d6ceb5e08e3da99c236766b755d3c1a3d8ce,40,4,3,9303,,,0,"Check upload_image policy in the API

Note that this adds a clause to the upload exception handler which
returns 404 if the user can't upload the image via policy, but leaves
the existing internal forbidden->403 handler because of how image
property protections work.

Partially-Implements: blueprint policy-refactor

Change-Id: I1353aacf595aa36c8c4823fbe7c6d0600a532f73
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/804463/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images_api_policy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",5,042ece20f9849da7f8ecc2101ff4245f0145c009,policy-refactor," def test_upload_image(self): self.policy.upload_image() self.enforcer.enforce.assert_called_once_with(self.context, 'upload_image', mock.ANY) def test_upload_image_falls_back_to_legacy(self): self.config(enforce_secure_rbac=False) # As admin, image is mutable even if owner does not match self.context.is_admin = True self.context.owner = 'someuser' self.image.owner = 'someotheruser' self.policy.upload_image() # As non-admin, owner matches, so we're good self.context.is_admin = False self.context.owner = 'someuser' self.image.owner = 'someuser' self.policy.upload_image() # If owner does not match, we fail self.image.owner = 'someotheruser' self.assertRaises(exception.Forbidden, self.policy.upload_image) # Make sure we are checking the legacy handler with mock.patch('glance.api.v2.policy.check_is_image_mutable') as m: self.policy.upload_image() m.assert_called_once_with(self.context, self.image) # Make sure we are not checking it if enforce_secure_rbac=True self.config(enforce_secure_rbac=True) with mock.patch('glance.api.v2.policy.check_is_image_mutable') as m: self.policy.upload_image() self.assertFalse(m.called) ",,135,9
openstack%2Fopenstack-ansible~master~I64dacdec2c2e7ee2a0edecde59802e204b319353,openstack/openstack-ansible,master,I64dacdec2c2e7ee2a0edecde59802e204b319353,Set doc jobs to voting,MERGED,2021-08-17 16:18:28.000000000,2021-08-19 15:04:21.000000000,2021-08-19 14:56:17.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-17 16:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/587ef6514368cc533e7ea737af8a1bc7c05bba7b', 'message': 'Fix doc upper constraints before docutils bump\n\nWith recent release of docutils [1] they support only languages that\nthey explicitly have driver for.\nUnfortunatelly Indonesian language is not among list of the supported.\n\nIn order to overcome that until solution is chosen for\nopenstackdocstheme [2] we fix upper-constraints for docs on the version\nbefore docutils bump was done.\n\n[1] https://sourceforge.net/p/docutils/code/8465/\n[2] https://review.opendev.org/c/openstack/openstackdocstheme/+/802758\n\nChange-Id: I64dacdec2c2e7ee2a0edecde59802e204b319353\n'}, {'number': 2, 'created': '2021-08-18 08:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3aa6f464ed251289d424d73c253791984626dea4', 'message': 'Set doc jobs to voting\n\nChange-Id: I64dacdec2c2e7ee2a0edecde59802e204b319353\n'}, {'number': 3, 'created': '2021-08-18 08:47:40.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3cb74de15a466a2d1ca1afc9e57fb349a3f2a7db', 'message': 'Set doc jobs to voting\n\nChange-Id: I64dacdec2c2e7ee2a0edecde59802e204b319353\n'}]",0,804891,3cb74de15a466a2d1ca1afc9e57fb349a3f2a7db,16,3,3,28619,,,0,"Set doc jobs to voting

Change-Id: I64dacdec2c2e7ee2a0edecde59802e204b319353
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/804891/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'tox.ini']",2,587ef6514368cc533e7ea737af8a1bc7c05bba7b,804891,setenv = TOX_CONSTRAINTS_FILE=https://releases.openstack.org/constraints/upper/45ea1136d296bc2a81207e679511a01d7a09c44d,,4,4
openstack%2Fopenstack-ansible~master~I3723291587d290c45887d071a7060b062ea196c0,openstack/openstack-ansible,master,I3723291587d290c45887d071a7060b062ea196c0,Bump master branch,MERGED,2021-07-20 16:09:31.000000000,2021-08-19 15:01:47.000000000,2021-08-19 14:56:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-20 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d7702c8f1e0c87d3817519371e3eae274819f924', 'message': 'Bump master branch\n\nChange-Id: I3723291587d290c45887d071a7060b062ea196c0\n'}, {'number': 2, 'created': '2021-08-12 09:24:03.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1adb7d9f65efde4ab794b70d8b4aa48f2473066', 'message': 'Bump master branch\n\nChange-Id: I3723291587d290c45887d071a7060b062ea196c0\n'}]",0,801510,e1adb7d9f65efde4ab794b70d8b4aa48f2473066,22,3,2,28619,,,0,"Bump master branch

Change-Id: I3723291587d290c45887d071a7060b062ea196c0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/801510/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,d7702c8f1e0c87d3817519371e3eae274819f924,bump_osa,tempest_git_install_branch: 2eb82f1cbc2bd1e189e33ee65a5beb33aff9d1f5 # HEAD as of 20.07.2021,tempest_git_install_branch: 5dcdd41ddafa2e455ab0dd0ce0b1d3f3e32caa04 # HEAD as of 30.06.2021,60,60
openstack%2Fos-traits~master~I45c29fe2bdd3fdcb3c69e07f5e9e5be36de9b797,openstack/os-traits,master,I45c29fe2bdd3fdcb3c69e07f5e9e5be36de9b797,List traits in documentation,MERGED,2020-09-23 11:10:44.000000000,2021-08-19 14:35:24.000000000,2021-08-19 14:32:19.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-23 11:10:44.000000000', 'files': ['doc/source/index.rst', '.gitignore', 'doc/ext/traits.py', 'os_traits/hw/gpu/cuda.py', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/c6a0ff2ac0fad7c9e5962c5d8d343f0405dd8c2d', 'message': ""List traits in documentation\n\nWe're going to have to switch to something other than a list of strings\nor use Sphinx-style inline documentation if we want to provide anything\nmore useful.\n\nChange-Id: I45c29fe2bdd3fdcb3c69e07f5e9e5be36de9b797\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,753579,c6a0ff2ac0fad7c9e5962c5d8d343f0405dd8c2d,14,4,1,15334,,,0,"List traits in documentation

We're going to have to switch to something other than a list of strings
or use Sphinx-style inline documentation if we want to provide anything
more useful.

Change-Id: I45c29fe2bdd3fdcb3c69e07f5e9e5be36de9b797
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/79/753579/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', '.gitignore', 'doc/ext/traits.py', 'os_traits/hw/gpu/cuda.py', 'doc/source/conf.py']",5,c6a0ff2ac0fad7c9e5962c5d8d343f0405dd8c2d,docs,"import os import sys # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. sys.path.insert(0, os.path.abspath('../')) 'ext.traits',project = 'os-traits' copyright = '2016-2020, OpenStack Foundation'","project = u'os-traits' copyright = u'2016, OpenStack Foundation'",124,2
openstack%2Fos-traits~master~Ifc06d6f9b1d3217d09fa20aafc2988acb11c80f2,openstack/os-traits,master,Ifc06d6f9b1d3217d09fa20aafc2988acb11c80f2,"Add 'COMPUTE_FIRMWARE_UEFI', 'COMPUTE_FIRMWARE_BIOS'",MERGED,2021-03-09 12:47:22.000000000,2021-08-19 14:33:03.000000000,2021-08-19 14:31:16.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-09 12:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/ea260110175728565afd064c7ba1a6d550b9fc48', 'message': ""Add 'HW_FIRMWARE_UEFI', 'HW_FIRMWARE_BIOS'\n\nThis allows us to report this trait and use it to filter out hosts that\nsupport our requested 'hw_firmware_type'.\n\nChange-Id: Ifc06d6f9b1d3217d09fa20aafc2988acb11c80f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-08-19 09:54:32.000000000', 'files': ['os_traits/compute/firmware.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/32112e9091caf6e87552c933c5607b6548d5e294', 'message': ""Add 'COMPUTE_FIRMWARE_UEFI', 'COMPUTE_FIRMWARE_BIOS'\n\nThis allows us to report this trait and use it to filter out hosts that\nsupport our requested 'hw_firmware_type'.\n\nChange-Id: Ifc06d6f9b1d3217d09fa20aafc2988acb11c80f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,779495,32112e9091caf6e87552c933c5607b6548d5e294,16,5,2,15334,,,0,"Add 'COMPUTE_FIRMWARE_UEFI', 'COMPUTE_FIRMWARE_BIOS'

This allows us to report this trait and use it to filter out hosts that
support our requested 'hw_firmware_type'.

Change-Id: Ifc06d6f9b1d3217d09fa20aafc2988acb11c80f2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/95/779495/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/hw/firmware.py'],1,ea260110175728565afd064c7ba1a6d550b9fc48,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ # The virt driver supports BIOS instancs. 'BIOS', # The virt driver supports UEFI instances. 'UEFI', ] ",,18,0
openstack%2Fcinder~master~Ic8bcffcb6353401318e371066c641ffe5dd6a7b3,openstack/cinder,master,Ic8bcffcb6353401318e371066c641ffe5dd6a7b3,RBD: postpone snapshot removal until final volume deleted,ABANDONED,2016-02-17 22:16:49.000000000,2021-08-19 14:31:40.000000000,,"[{'_account_id': 1107}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7231}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14274}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14865}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17505}, {'_account_id': 17565}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 18967}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19901}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20599}, {'_account_id': 21193}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22381}, {'_account_id': 22510}, {'_account_id': 22700}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24921}, {'_account_id': 26537}]","[{'number': 1, 'created': '2016-02-17 22:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/afa73160166d35f9418f213b7ef9e2e267fea06c', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the change the delete_snapshot behaviour by hiding\nsnapshots that have dependent children until the final child volume is\ndeleted.  Upon final volume deletion, the 'pending' snapshot is then\nremoved.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal Just Works™\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 2, 'created': '2016-07-13 20:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a6a4f243635d6842f40dea76d4b24c798625ff1', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 3, 'created': '2016-08-09 19:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59ea95d8369416cc1d1d6d075d9fd6e72521a947', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 4, 'created': '2016-08-15 15:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c5d30c9feded02be2be9c7fef14d21cf620b7d1', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 5, 'created': '2016-12-09 14:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51bb34c96cd8265b2fdaa799d4d72b46f10210ff', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 6, 'created': '2016-12-13 22:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba9e0f9ae7109bdc321d07832e073e4b3e849ab6', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nCloses-Bug: #1648885\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 7, 'created': '2016-12-14 12:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b90016519a126609aad0df09f0542494e20c6d8a', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nCloses-Bug: #1648885\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 8, 'created': '2016-12-16 12:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a032182bc3aeaceecbe4ddc3449afd178ee6cd14', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nPartial-Bug: #1648885\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}, {'number': 9, 'created': '2019-05-20 19:21:46.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbff28a45a1e14410939d78d65f3cbdabfb2e72e', 'message': ""RBD: postpone snapshot removal until final volume deleted\n\nYou can create a snapshot and then create a volume from that snapshot.\nUntil this patch, if you then tried to delete your snapshot, the RBD\ndriver would raise ImageBusy as the snapshot still has dependent\nchildren.  Since delete_snapshot() is asynchronous, the client is not\nnotified of the situation, and confusion ensues.\n\nThis patch changes the delete_snapshot behaviour by hiding snapshots\nthat have dependent children until the final child volume is deleted.\nUpon final volume deletion, the 'pending' snapshot is then removed.\n\nThere are a few benefits to this approach:\n\n  1. The user is no longer exposed to RBD implementation details and\n     snapshot removal works as expected.\n  2. By hiding the snapshot, any volume sharing that the children are\n     benefiting from remains intact.  This is why my earlier\n     auto-flatten patch was a bad idea.\n\nPartial-Bug: #1648885\nChange-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3\n""}]",21,281550,bbff28a45a1e14410939d78d65f3cbdabfb2e72e,352,85,9,9236,,,0,"RBD: postpone snapshot removal until final volume deleted

You can create a snapshot and then create a volume from that snapshot.
Until this patch, if you then tried to delete your snapshot, the RBD
driver would raise ImageBusy as the snapshot still has dependent
children.  Since delete_snapshot() is asynchronous, the client is not
notified of the situation, and confusion ensues.

This patch changes the delete_snapshot behaviour by hiding snapshots
that have dependent children until the final child volume is deleted.
Upon final volume deletion, the 'pending' snapshot is then removed.

There are a few benefits to this approach:

  1. The user is no longer exposed to RBD implementation details and
     snapshot removal works as expected.
  2. By hiding the snapshot, any volume sharing that the children are
     benefiting from remains intact.  This is why my earlier
     auto-flatten patch was a bad idea.

Partial-Bug: #1648885
Change-Id: Ic8bcffcb6353401318e371066c641ffe5dd6a7b3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/281550/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/test_rbd.py']",2,afa73160166d35f9418f213b7ef9e2e267fea06c,bug/1648885," def test_get_pending_snapshot(self): client = self.mock_client.return_value client.__enter__.return_value = client image = self.mock_rbd.Image() image.parent_info = mock.Mock() image.parent_info.return_value = ('red', 'green', 'yellow') with mock.patch.object(self.driver.rbd.Image(), 'list_children') as mock_list_children: mock_list_children.return_value = [('blue', 'purple')] ret = self.driver._get_pending_snapshot(client, image, 'purple') self.assertEqual(('blue', 'green', 'yellow'), ret) mock_list_children.return_value = [] ret = self.driver._get_pending_snapshot(client, image, 'purple') self.assertIsNone(ret) mock_list_children.return_value = [('blue', 'pink')] ret = self.driver._get_pending_snapshot(client, image, 'purple') self.assertIsNone(ret) @common_mocks def test_delete_pending_snapshot(self): client = self.mock_client.return_value client.__enter__.return_value = client proxy = self.mock_proxy.return_value proxy.__enter__.return_value = proxy # the case were no pending snapshot exists self.driver._delete_pending_snapshot(client, None) self.assertEqual(0, self.driver.rbd.RBD.return_value.remove.call_count) self.assertEqual(0, proxy.unprotect_snap.call_count) self.assertEqual(0, proxy.remove_snap.call_count) # and the case were there is a pending snapshot self.driver._delete_pending_snapshot(client, ('foo', 'bar', 'baz')) self.driver.rbd.RBD.return_value.remove.assert_called_once_with( client.ioctx, 'baz.deleted') proxy.unprotect_snap.assert_called_once_with('baz') proxy.remove_snap.assert_called_once_with('baz') @common_mocks def test_delete_volume_with_pending_snapshot(self): with mock.patch.object(self.driver, '_get_clone_info') as \ mock_get_clone_info: mock_get_clone_info.return_value = (None, None, None) with mock.patch.object(self.driver, '_get_pending_snapshot') as \ mock_get_pending_snapshot: mock_get_pending_snapshot.return_value = ['opaque', 'object'] with mock.patch.object(self.driver, '_delete_pending_snapshot') as \ mock_delete_pending_snapshot: self.driver.delete_volume(self.volume_a) mock_delete_pending_snapshot.assert_called_once_with( mock.ANY, mock_get_pending_snapshot.return_value) @common_mocks self.driver.delete_snapshot(self.snapshot) self.assertTrue(proxy.unprotect_snap.called) self.mock_rbd.RBD.return_value.create.assert_called_once_with( mock.ANY, '.'.join((self.snapshot.name, 'deleted')), 0, 0) self.assertFalse(proxy.remove_snap.called)"," with mock.patch.object(driver, 'LOG') as \ mock_log: self.assertRaises(exception.SnapshotIsBusy, self.driver.delete_snapshot, self.snapshot) mock_get_children_info.assert_called_once_with( proxy, self.snapshot.name) self.assertTrue(mock_log.info.called) self.assertTrue(proxy.unprotect_snap.called) self.assertFalse(proxy.remove_snap.called)",121,25
openstack%2Fbarbican~master~If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89,openstack/barbican,master,If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-06 12:11:22.000000000,2021-08-19 14:18:22.000000000,2021-08-19 14:16:26.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-06 12:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/afbf8bf416479dd489ef7d904fbdbaf49752a06e', 'message': ""Replace deprecated oslo_utils.fnmatch\n\noslo_utils.fnmatch was deprecated since oslo.utils 4.9.1[1] and\nthe stdlib's fnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89\n""}, {'number': 2, 'created': '2021-07-06 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/48fb155bd074a3f0f9207db0f474e8b6d3236009', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89\n""}, {'number': 3, 'created': '2021-07-06 12:24:11.000000000', 'files': ['barbican/plugin/snakeoil_ca.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/aa7bf8863fafd10960256305747c3eb35309df95', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89\n""}]",0,799652,aa7bf8863fafd10960256305747c3eb35309df95,11,4,3,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: If6ea16bbad5a7454e3a0f190c5a5e8da17f01a89
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/799652/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/snakeoil_ca.py'],1,afbf8bf416479dd489ef7d904fbdbaf49752a06e,fnmatch,import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Ftripleo-quickstart-extras~master~Iff1d6dc64e73f46bddaa596e0bbf2019296bc858,openstack/tripleo-quickstart-extras,master,Iff1d6dc64e73f46bddaa596e0bbf2019296bc858,DNM: Testing ipa multinode,ABANDONED,2020-02-06 19:52:28.000000000,2021-08-19 14:13:47.000000000,,"[{'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 19:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f8a0fec286c7ec99b84ea9d110d66a853443ad0', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 2, 'created': '2020-02-06 23:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0024d106daa350b5515555ba2857920bde680c1', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 3, 'created': '2020-02-07 00:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4083bf00908e35f3def2c54b81df64eae4ff7187', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 4, 'created': '2020-02-07 01:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/75fa3516f5fface97125a31442f69dab2e40aa9c', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 5, 'created': '2020-02-07 03:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/520395a74391ca85e82751a267906a180c3461a9', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 6, 'created': '2020-02-07 03:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f5589d864def66ea62a3d34c308db59986996f22', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 7, 'created': '2020-02-07 04:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c149e2f2e41a2a4b9dd8ede2ed2faff6c735cba3', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 8, 'created': '2020-02-07 04:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ca9e46380cfcc5de6389995eea1bca38bd213384', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 9, 'created': '2020-02-11 18:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c4e61aade2e6cb4f97ffefc3869b49d3c834600c', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 10, 'created': '2020-02-11 20:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a60d29e470796d54bbee6980a5a5f432985700f', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 11, 'created': '2020-02-11 22:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea241d5ac7f4d07b2a4924bbb4f7163c54fb8af6', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 12, 'created': '2020-02-12 01:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/93cbff7b84cbcb2c37657bb126609322280c90e0', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 13, 'created': '2020-02-12 01:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ec9ebbe6b867e333cc0a5cf1d1c89b9246d4808', 'message': 'DNM: Testing ipa multinode\n\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 14, 'created': '2020-02-12 02:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/789c2b3a124fba4236acf43ff166504655d55b33', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/704404\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 15, 'created': '2020-02-12 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c3fbab6dfd83d0e5a3f062c139d09256fb068016', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/704404\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 16, 'created': '2020-02-12 16:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f9ed4b731f79a4cc422671aa099b57b45c5f3abf', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/704404\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 17, 'created': '2020-02-12 16:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d59fe86ee7beaf3997274338e0ad8ea6988ee3c', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/704404\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 18, 'created': '2020-02-12 17:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8e87761ca39a1b139cebdb8c6881807bdca0bb38', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/704404\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 19, 'created': '2020-02-12 17:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3e06ff1cad22b488be98f5dda045fc64e209260', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 20, 'created': '2020-02-12 18:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c30b35fb47691ced474fadb520d9cd13b254142', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 21, 'created': '2020-02-12 19:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea4e9c5f3cd4e174791bcd352080bc89db4ae9d5', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 22, 'created': '2020-02-12 19:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3928bff2131e1218f1ed85df829966f86394e647', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 23, 'created': '2020-02-12 21:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a43b9dbfbe4851301e3284317f2884a98a04e160', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 24, 'created': '2020-02-12 22:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4cda316c99726b3424d52f6b0db9e0e23317a45f', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 25, 'created': '2020-02-12 23:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f68f6497f633aacb16df4f6a1445cfb633041507', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 26, 'created': '2020-02-12 23:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc775aadfc45b47877ece0c587b40ace7139c3f0', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 27, 'created': '2020-02-13 03:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5b8d19bf087c4ad2e864e3b54ef565524706c04d', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 28, 'created': '2020-03-29 21:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e310ae0800c75f5ff99fc9aefb8a544f08ed46c', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 29, 'created': '2020-03-29 22:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13cdacefd7ce1894a77305311e41ca41393871d1', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 30, 'created': '2020-04-07 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52d1157d2d95ebd37339ea85afca26b3593ae922', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/695988\nDepends-On: https://review.opendev.org/#/c/691906\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/707420\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 31, 'created': '2020-04-07 18:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/abf18c2e44f8ff1ae89baaa6d36c395b8f182aa7', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 32, 'created': '2020-04-07 20:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eceae159cc86a325f6d320c8d4a49ce7ced735c4', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 33, 'created': '2020-04-07 22:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08384160c6ec92c16e9813b5070907cbb34bf868', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 34, 'created': '2020-04-08 12:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13244d034cde56faf335545f18b98755768778fb', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 35, 'created': '2020-04-08 18:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c6af5c3b16657f02d7c62ec6ba58e38f9795c97c', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 36, 'created': '2020-04-09 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b9f7ddd5f2d82c03b64bb257aa6e03e614ff197', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 37, 'created': '2020-04-10 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3f2c7b6cb3a5bd4896f4c48e53e59141fa863576', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 38, 'created': '2020-04-10 13:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80e5dfe3035e7db4117cc00c989b03b075048fbb', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 39, 'created': '2020-04-11 15:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b737656ec0e90ec50b4fed7c591ad6668ecc0a4a', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 40, 'created': '2020-04-11 17:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/97a1bb945770b1f373eac743ccb8238ff5576cc6', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 41, 'created': '2020-04-11 18:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1c9b343f5318a904a8a2b59465c82eda478de4a', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 42, 'created': '2020-04-13 07:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a51deea38c1cccc2fd5cae06e65fa30a056507ca', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 43, 'created': '2020-04-13 10:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/25991b367cf0a146b836ae4efd32175f3ee0ccc4', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 44, 'created': '2020-04-13 10:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5cd614dc78f1e9af49b8edccccc457bbe3bd5f64', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 45, 'created': '2020-04-13 11:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24c8b3c1b5de574f7e5bfe492730533b260a939b', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 46, 'created': '2020-04-13 12:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c925c7f5996427c29b82c126ebe22361b4e8ad1a', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 47, 'created': '2020-04-13 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/19f859c217f971f1a4a62c7abe7f6459ea94309e', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 48, 'created': '2020-04-14 02:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0dc0b7e717753a2796ef3da37eb64e4019705aa7', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 49, 'created': '2020-04-14 20:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70681cc537ae87131941effc48aedd09f2e562b9', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 50, 'created': '2020-04-14 22:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b168454c48bd375de1e05b0e863f9c36716cfbbf', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 51, 'created': '2020-04-14 22:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eb81bb6228eb82164e0769149b92e26da95d8631', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 52, 'created': '2020-04-15 15:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/71d5dd6c37ebbb2b770b525fff5f9ff5194de1c6', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 53, 'created': '2020-04-15 17:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/29604fafbf04e123ddf779809694e31bec8093cc', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 54, 'created': '2020-04-15 18:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db73f55a62fc037ef60203dde8437ee2e9c11b50', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 55, 'created': '2020-04-16 07:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/819d82185378593563f8d07c15948b5f150683dd', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 56, 'created': '2020-04-16 18:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cdb8869d18c8a45ee63855bac99667faa7506237', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/720571/\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 57, 'created': '2020-04-16 18:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8b2dc52bfebbb6c45da624eb93ebb9bac722e31', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 58, 'created': '2020-04-17 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a0b4d0c4bae777fa2413ade24edfed481003372f', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 59, 'created': '2020-04-17 09:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/891734a486be27caba15fa4dc89cada177cb0a18', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}, {'number': 60, 'created': '2020-04-17 12:02:59.000000000', 'files': ['roles/ipa-multinode/README.md', 'roles/ipa-multinode/meta/main.yml', 'roles/standalone/tasks/main.yml', 'roles/ipa-multinode/defaults/main.yml', 'roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/ipa-multinode/templates/freeipa-iptables-file.txt', 'roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml', 'zuul.d/layout.yaml', 'playbooks/multinode-standalone-ipa.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2bd0579e7a25c2b6f22174ef78481625b7185140', 'message': 'DNM: Testing ipa multinode\n\nDepends-On: https://review.opendev.org/#/c/707419\nChange-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858\n'}]",37,706373,2bd0579e7a25c2b6f22174ef78481625b7185140,139,5,60,9976,,,0,"DNM: Testing ipa multinode

Depends-On: https://review.opendev.org/#/c/707419
Change-Id: Iff1d6dc64e73f46bddaa596e0bbf2019296bc858
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/706373/51 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ipa-multinode/README.md', 'roles/ipa-multinode/meta/main.yml', 'roles/ipa-multinode/defaults/main.yml', 'roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml', 'playbooks/multinode-standalone-ipa.yml']",6,2f8a0fec286c7ec99b84ea9d110d66a853443ad0,add-ipa-server-role,--- - name: Add the overcloud nodes to the generated inventory hosts: undercloud gather_facts: true vars: inventory: multinode roles: - tripleo-inventory tags: - standalone - name: Prepare the undercloud for installation hosts: undercloud roles: - undercloud-setup tags: - standalone - name: Setup the undercloud for IPA server hosts: undercloud include_role: name: ipa-multinode tasks_from: ipaserver-undercloud-setup.yml tags: - standalone - name: Setup the IPA server hosts: subnode-1 include_role: name: ipa-multinode tasks_from: ipaserver-undercloud-setup.yml tags: - standalone ,,72,0
openstack%2Fos-traits~master~Iba867f4632853f99373976e39c3494ea1c8b91a2,openstack/os-traits,master,Iba867f4632853f99373976e39c3494ea1c8b91a2,"Add a trait for the ""bochs"" display device",MERGED,2021-06-04 13:17:16.000000000,2021-08-19 14:09:13.000000000,2021-08-19 14:06:55.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/9e7dfc5fff502d1a40e2ad9ae90f4e26a1a13cd6', 'message': 'Add a trait for the ""bochs"" display device\n\nThe \'bochs\' display device is a recommended[1] safe option for UEFI\nguests.\n\nThis lets an admin set the trait either via the flavor extra-specs or\nimage metadata properties:\n\n    trait:COMPUTE_GRAPHICS_MODEL_BOCHS=required\n\nImplements: blueprint add-bochs-display-device\n\nChange-Id: Iba867f4632853f99373976e39c3494ea1c8b91a2\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2021-08-19 11:53:07.000000000', 'files': ['os_traits/compute/graphics.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/0f404b4b481212867e10fd2d4656ec26e467ddeb', 'message': 'Add a trait for the ""bochs"" display device\n\nThe \'bochs\' display device is a recommended[1] safe option for UEFI\nguests.\n\nThis lets an admin set the trait either via the flavor extra-specs or\nimage metadata properties:\n\n    trait:COMPUTE_GRAPHICS_MODEL_BOCHS=required\n\nThis also allows The libvirt virt dirver report a standard trait\nfor bochs graphics model support and enables the image_metadata_prefilter\nto automatically request the trait. This will enable vm that request\nthe bochs graphics model to be automaticaly scheduled to hosts that\ncan support it.\n\nImplements: blueprint add-bochs-display-device\n[1]: https://www.kraxel.org/blog/2019/09/display-devices-in-qemu/#tldr\nChange-Id: Iba867f4632853f99373976e39c3494ea1c8b91a2\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",5,794807,0f404b4b481212867e10fd2d4656ec26e467ddeb,14,5,2,6962,,,0,"Add a trait for the ""bochs"" display device

The 'bochs' display device is a recommended[1] safe option for UEFI
guests.

This lets an admin set the trait either via the flavor extra-specs or
image metadata properties:

    trait:COMPUTE_GRAPHICS_MODEL_BOCHS=required

This also allows The libvirt virt dirver report a standard trait
for bochs graphics model support and enables the image_metadata_prefilter
to automatically request the trait. This will enable vm that request
the bochs graphics model to be automaticaly scheduled to hosts that
can support it.

Implements: blueprint add-bochs-display-device
[1]: https://www.kraxel.org/blog/2019/09/display-devices-in-qemu/#tldr
Change-Id: Iba867f4632853f99373976e39c3494ea1c8b91a2
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/07/794807/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/graphics.py'],1,9e7dfc5fff502d1a40e2ad9ae90f4e26a1a13cd6,bp/add-bochs-display-device," 'MODEL_BOCHS',",,1,0
openstack%2Freleases~master~I3bbadae8b333c341ecdd4734ee62516c51ad9490,openstack/releases,master,I3bbadae8b333c341ecdd4734ee62516c51ad9490,[packaging-deb] Transition Ocata to End of Life,MERGED,2021-07-16 18:05:33.000000000,2021-08-19 13:55:51.000000000,2021-08-19 13:55:51.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 18:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9916a8f03c9b6d4bb520b2c15fcf1467a3cc20ec', 'message': ""WIP: [packaging-deb] Transition Ocata to End of Life\n\nHowever packaging-deb is retired some of its repositories' stable/ocata\nbranches still exist. This patch tags these branches with ocata-eol to\nenable us to remove the branches.\n\nChange-Id: I3bbadae8b333c341ecdd4734ee62516c51ad9490\n""}, {'number': 2, 'created': '2021-08-05 11:02:40.000000000', 'files': ['deliverables/ocata/packaging-deb.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f402d762b3846b15931eae7232a4955d3606a9e', 'message': ""[packaging-deb] Transition Ocata to End of Life\n\nHowever packaging-deb is retired some of its repositories' stable/ocata\nbranches still exist. This patch tags these branches with ocata-eol to\nenable us to remove the branches.\n\nChange-Id: I3bbadae8b333c341ecdd4734ee62516c51ad9490\n""}]",0,801122,4f402d762b3846b15931eae7232a4955d3606a9e,11,3,2,17685,,,0,"[packaging-deb] Transition Ocata to End of Life

However packaging-deb is retired some of its repositories' stable/ocata
branches still exist. This patch tags these branches with ocata-eol to
enable us to remove the branches.

Change-Id: I3bbadae8b333c341ecdd4734ee62516c51ad9490
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/801122/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/packaging-deb.yaml'],1,9916a8f03c9b6d4bb520b2c15fcf1467a3cc20ec,ocata-eol,--- team: packaging-deb type: other releases: - version: ocata-eol projects: - repo: openstack/deb-aodh hash: c770d7c6625018bb4b16a3a3b048f4513fed0665 - repo: openstack/deb-barbican hash: 67e4a3cb2d95afc639485487bcbc814d1f1bdcd1 - repo: openstack/deb-ceilometer hash: 11cc70f5c4bfb64024c8ab98e5e1996ac92c6768 - repo: openstack/deb-ceilometermiddleware hash: 43fd8191618eded23bd5be74f2a264c5028f195d - repo: openstack/deb-cinder hash: 163cc48a1dc34d14921d57a48febd59cc996216e - repo: openstack/deb-congress hash: 5795f7773f23f0f1ef17400dcd6f7b70c216603f - repo: openstack/deb-designate hash: 625d36d3b505caf9290e66804f1f5bf59d797c36 - repo: openstack/deb-designate-dashboard hash: da92962798a57fa4e8b7feb6e4090810da377370 - repo: openstack/deb-glance hash: 7336c91e73d4704804b7b0340dc03df1c8d01d42 - repo: openstack/deb-glare hash: 2490d1e2cc294e26114498a8b40aef17579612ee - repo: openstack/deb-heat hash: b0bf108ee4cfbcced4292930de4a197051d4ca47 - repo: openstack/deb-horizon hash: 52380b5dc1e21098d7590cbd5c58cb80349883f6 - repo: openstack/deb-ironic hash: 9cd8cd07ee4e29d3fe77b289a0b2ddb13e036144 - repo: openstack/deb-ironic-inspector hash: 4f8de0e3d6fbfc476021e83286e77596b4e2d90d - repo: openstack/deb-ironic-ui hash: d737372905e867de5bad1356b721cd53e3d98f09 - repo: openstack/deb-keystone hash: 29140ea2c3628b3fdda38ffd8320203a7b85dbb9 - repo: openstack/deb-magnum hash: d2db6a6737974e14e4241830cfaa2320154b88e1 - repo: openstack/deb-manila hash: 2a125594a956151a3ccbe290629a9c5c7b9d7e79 - repo: openstack/deb-manila-ui hash: 160c3420e9a8b16ba431244c8d900c8bdf046594 - repo: openstack/deb-mistral hash: 9eae934a90e6eda40c7aa66ce5fce3b229a5729e - repo: openstack/deb-murano hash: c24d476f90dad99c8562637a9db26e0cfe32e957 - repo: openstack/deb-murano-agent hash: 73bb77aa51e75d6a0851a0be8ee8f84dff87ed98 - repo: openstack/deb-murano-dashboard hash: dab8d06e42770797b287ed9654fe5838d5c43a9b - repo: openstack/deb-networking-arista hash: 5ebdff8d41170d439f582b3e0cf7e7c837aef122 - repo: openstack/deb-networking-hyperv hash: fc42ae060b4fdb72f673573b12d8561e536c06f4 - repo: openstack/deb-networking-l2gw hash: a3c4e7c8c00a18a5d015ae136f66e64fa9f580e2 - repo: openstack/deb-networking-midonet hash: 0b78411550a62590a904385d014ac5d240f7acac - repo: openstack/deb-networking-mlnx hash: f235f38378df442500a57b961e72e4651923979d - repo: openstack/deb-networking-odl hash: 0ec1047ebd5532783343b25b2603cfde53767e39 - repo: openstack/deb-networking-ovn hash: e0f89d266f10f02f30d7ad35bd596cf195d64cbf - repo: openstack/deb-neutron hash: cf6190f1ef69d5d54431744db3d72aa556c691b1 - repo: openstack/deb-neutron-fwaas hash: db7339d5aa08a74b65bb80d0e6c880ebaacb4fea - repo: openstack/deb-neutron-lbaas hash: e871cab1e1efa1ffa9ee35974206346d7b81dfb6 - repo: openstack/deb-neutron-taas hash: 1011bb4e8e92cd09dba0eca468932fe3904d2032 - repo: openstack/deb-neutron-vpnaas hash: 0ce0eeab2b2e35f6526764d7eb1600abea829c6d - repo: openstack/deb-nova hash: 67c4b585beb9f5841e5853266aa94b64013bd185 - repo: openstack/deb-openstack-trove hash: 57e9fe2bc953e018f9e6728f872b5cc3784a3add - repo: openstack/deb-python-aodhclient hash: ed80ef4f71c6e511bc40b005850ab350adad0290 - repo: openstack/deb-python-automaton hash: 7f26cd374ab5ea4a76777c492f455c1ff21041b5 - repo: openstack/deb-python-barbicanclient hash: d10fa8071ed8bf81d72dc1b100dbdf4fa7415b8e - repo: openstack/deb-python-castellan hash: 4a3f938d922d49004b65e69f3d4c45a7fb422e43 - repo: openstack/deb-python-ceilometerclient hash: a9d450abfad4a287cad093f3af97c1afe0cab443 - repo: openstack/deb-python-ceilometermiddleware hash: d4b936f89b29888812eb7f33042c69480531a71a - repo: openstack/deb-python-cinderclient hash: 06f12b41d05d5694720d6fd7b8344704f7853c12 - repo: openstack/deb-python-cliff hash: 4106ee04dfafedb53272f7f3b3cb42fe0e759537 - repo: openstack/deb-python-congressclient hash: e611b4a2cd512e506f7522b1b3c6d84d2144cbef - repo: openstack/deb-python-debtcollector hash: 5169e8795cc769ce1ac48ec37b11fe807f008ae4 - repo: openstack/deb-python-designateclient hash: 86764f6cdd3774425b02e693979b4698c57c3cd1 - repo: openstack/deb-python-django-openstack-auth hash: c00909eb26c5a295891d6e2885b2ded0c664aa2d - repo: openstack/deb-python-fuelclient hash: c15b93ec28446ec49104c7c824648a17b862dd82 - repo: openstack/deb-python-futurist hash: c3b037d751525293b2bd2b63fad60a04d78aa8d3 - repo: openstack/deb-python-glance-store hash: f4a28d11b3ea9b712e251755b3ceaeeebc943c32 - repo: openstack/deb-python-glanceclient hash: 38107a81f438b7783a4472dd06ddca974a4756eb - repo: openstack/deb-python-heatclient hash: ad9cd7a3a2f0e8672b55db2124cde2515e2435a2 - repo: openstack/deb-python-ironic-inspector-client hash: 4a7581c44255f41b35de78ff4d0855b26fb6c9a8 - repo: openstack/deb-python-ironicclient hash: 769a449073a99854a13db4a1c5bab1bd468a2c7e - repo: openstack/deb-python-k8sclient hash: c4b0a00c8d5c7f2f6d8a3c928a96008cf6404d3f - repo: openstack/deb-python-keystoneauth1 hash: f4109234f989ca934c6e043ddcb417f32ec76217 - repo: openstack/deb-python-keystoneclient hash: 8edbd50fdcdbb78a9dd45ead0cb77fabc53ccbea - repo: openstack/deb-python-keystonemiddleware hash: 2108764ba93fcb6b48530c79027dffdebed1f39f - repo: openstack/deb-python-magnumclient hash: f418af4f1a7ec85e3f9bf8f19a61258edaf60c0c - repo: openstack/deb-python-manilaclient hash: 33fd926888276fbbf67500da41c77f72f5f2894f - repo: openstack/deb-python-mistralclient hash: 4f22f17cc6dcc0f6147edce79466d24ff54cdfef - repo: openstack/deb-python-monascaclient hash: e36e0283deb3f3f89141aef9d11c3b0c337c3e26 - repo: openstack/deb-python-mox3 hash: 049aebd112f54b575b67809f3b4017de90b571b8 - repo: openstack/deb-python-muranoclient hash: 9f87a5e4f5bdfcae415368f6e8f4d49ded52de8d - repo: openstack/deb-python-neutron-lib hash: 8b2160ab930fa1f6fe55a4d5c1e8b875ce6d9f45 - repo: openstack/deb-python-neutronclient hash: 124cd01223d899618b6141d6ec9aa6ee0a1967c0 - repo: openstack/deb-python-novaclient hash: a138a32f3996faaeaa7bd9af286d08d99aac3174 - repo: openstack/deb-python-openstackclient hash: 8b308ec35ab5fdfcaeac649e0ea3f20d195d4812 - repo: openstack/deb-python-os-apply-config hash: 1b8c5aa5f989974a83570f400d43a9233af42f75 - repo: openstack/deb-python-os-brick hash: ffda2ba424bbfa57411159af54e6fcbaff9ba555 - repo: openstack/deb-python-os-client-config hash: e4d06660a6e68ac8f3db080711684e3582db1336 - repo: openstack/deb-python-os-cloud-config hash: 97faf83addb16b37d4fe24761d7037ea092eb1f0 - repo: openstack/deb-python-os-collect-config hash: bfd9445f4e4b0ccc43c1b008ff1a2337211bc139 - repo: openstack/deb-python-os-net-config hash: c9d6b67dee5113759f047b04c65c02615bbd9936 - repo: openstack/deb-python-os-refresh-config hash: 5e945a8457a6dcfc9eab9bfae5c9a5c05b5d853e - repo: openstack/deb-python-os-win hash: 8877ffb84b2c5ea4a9e848b78a96df3e0c164b8e - repo: openstack/deb-python-osc-lib hash: 78f0722e8d3287f23fcdf254797fc9216d3353f9 - repo: openstack/deb-python-oslo.cache hash: c25e9f0e9a4ce2da6f861e830c1505753caa3f6e - repo: openstack/deb-python-oslo.concurrency hash: 1e5fa527a18dfecadd1d2c2b3dc8cc4df43445cd - repo: openstack/deb-python-oslo.config hash: b316cc2ddc440df914e2a2b725995ec3421e732e - repo: openstack/deb-python-oslo.context hash: e926a55ca1ae78ddeb3c3154728175de05ac5813 - repo: openstack/deb-python-oslo.db hash: 147e5fa7f1749508dd346f35b432bb8e00a2f61a - repo: openstack/deb-python-oslo.i18n hash: 32c25b97e5063e62578ef01fbf82f144016d8390 - repo: openstack/deb-python-oslo.log hash: 664d4f66e9bafac139b12da3ef94bc26653ed159 - repo: openstack/deb-python-oslo.messaging hash: d46d7a11957782e705b8d30cee389638d1e1bce1 - repo: openstack/deb-python-oslo.middleware hash: 688bc8b7dc927640d57ca061dd4571c36a77b9f1 - repo: openstack/deb-python-oslo.policy hash: 847fe8bf3482fe9f0dceaa753356e91077cb82d7 - repo: openstack/deb-python-oslo.privsep hash: 8234eab2818969fb53914423431899d678ae2fd5 - repo: openstack/deb-python-oslo.reports hash: 23d1d81e321e7991f0226f597b1b6f3246360873 - repo: openstack/deb-python-oslo.rootwrap hash: f3952bf222660073497f0fa6c4015f9eb04b235e - repo: openstack/deb-python-oslo.serialization hash: ec5e9e54df951b00e1b4f333a2b3efa1209e8963 - repo: openstack/deb-python-oslo.service hash: 20b8d2b479359e16344efcd00cf016bf0c9ec805 - repo: openstack/deb-python-oslo.utils hash: 8a56300eb6596d781412346e193ee0263585fb6c - repo: openstack/deb-python-oslo.versionedobjects hash: dc465b997116707eab70a706e1906fa388238d35 - repo: openstack/deb-python-oslo.vmware hash: e47889fe99eab3b40cc6e03df783fc5334cd5db2 - repo: openstack/deb-python-oslotest hash: bb5bdd2ee0dab5fa4a658d098778be7795ef7955 - repo: openstack/deb-python-osprofiler hash: 1dcdceddf915d150b288c46373505ff953ced9b0 - repo: openstack/deb-python-pycadf hash: 96dbc66ceecf9f273c0b5cd6b7f5c2119aa4fe25 - repo: openstack/deb-python-saharaclient hash: 1ace7bd95f1af0205b248c769826b4c93fc5ad06 - repo: openstack/deb-python-scciclient hash: ca44f82e3bbd542c2ff7a6d2ea7f7341627b383b - repo: openstack/deb-python-senlinclient hash: 7e130b078fae03d16318b689cb91af8b456ba8d1 - repo: openstack/deb-python-shotgun hash: 88eddc57ee41d888f8fd255f74681b93c7bf47d2 - repo: openstack/deb-python-swiftclient hash: f8f575308c76747f3965a17de612b7743d2055c6 - repo: openstack/deb-python-tackerclient hash: 70d6404503771e4b3ce0a2aae63a185410c44cd5 - repo: openstack/deb-python-taskflow hash: c94b13a0264d477f4dc3b97bbd22878af25a4f3b - repo: openstack/deb-python-tooz hash: 01914eb6a0bb502b65af85cb682d8e5ab87b8e41 - repo: openstack/deb-python-troveclient hash: c9a777c6a58d4cc4d7dcd49b61d91159727eee39 - repo: openstack/deb-python-watcherclient hash: d94cb9c17fc174c60e0fb7618f1b4705e93e6a35 - repo: openstack/deb-python-zaqarclient hash: 7da9f304b0e6c2e1e555344bc4d8119154e66d05 - repo: openstack/deb-sahara hash: fc1b90b7435334d570a82652ac7ad6f754d87d6d - repo: openstack/deb-sahara-dashboard hash: deab563420900e1c448a1e0b7f44eea1385cfb66 - repo: openstack/deb-senlin hash: fa2526328468670a6976987a2cc11bb1c3fb1b48 - repo: openstack/deb-senlin-dashboard hash: 665d7471e84f0294f4c9d5881095e88c24e0b0b9 - repo: openstack/deb-stevedore hash: 61661f154f904ac6d4d390e65481c099b045990c - repo: openstack/deb-swift hash: 36313a3e4117a637ad639c8866440d8d1732a753 - repo: openstack/deb-trove-dashboard hash: 2035795523d32d66616eb526c1a9eeed0356febb - repo: openstack/deb-watcher hash: 8d61988b8fa28fa7d30f35364067361a7d7e9ddd - repo: openstack/deb-zaqar hash: 7d0184d34adc42491fb1334868dce845febecd7b - repo: openstack/deb-zaqar-ui hash: b8e8c8a5397e7b5fc07629f0ebf949b6070fd4a4 ,,248,0
openstack%2Freleases~master~I6f81ab30fab147a85d759b4db45b6265720e6f27,openstack/releases,master,I6f81ab30fab147a85d759b4db45b6265720e6f27,[dragonflow] Set eol to Dragonflow Ocata,MERGED,2021-06-17 13:36:39.000000000,2021-08-19 13:55:48.000000000,2021-08-19 13:55:48.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 13:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a81ec65623800e5cb5daf46b3a89d669ad6ec145', 'message': 'WIP: Set eol to Dragonflow\n\nDragonflow is not listed under deliverables ocata, however it has\nstable/ocata branch open (and even stable/newton).\n\nThis patch adds dragonflow under ocata and newton deliverables just to\nmake it possible to tag them with *-eol and delete the branches.\n\nChange-Id: I6f81ab30fab147a85d759b4db45b6265720e6f27\n'}, {'number': 2, 'created': '2021-07-05 17:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0f3f7ff50b084f3886fc6df827e89f5da021ffa2', 'message': '[dragonflow] Set eol to Dragonflow Ocata and Newton\n\nDragonflow is not listed under deliverables ocata, however it has\nstable/ocata branch open (and even stable/newton).\n\nThis patch adds dragonflow under ocata and newton deliverables just to\nmake it possible to tag them with *-eol and delete the branches.\n\nChange-Id: I6f81ab30fab147a85d759b4db45b6265720e6f27\n'}, {'number': 3, 'created': '2021-07-16 11:12:49.000000000', 'files': ['deliverables/ocata/dragonflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ba15565393e1378b9a397a740f66d6ab5e2d352', 'message': '[dragonflow] Set eol to Dragonflow Ocata\n\nDragonflow is not listed under deliverables of ocata, however it has\nstable/ocata branch open.\n\nThis patch adds dragonflow under ocata deliverables just to make it\npossible to tag it with ocata-eol and delete the branch.\n\nChange-Id: I6f81ab30fab147a85d759b4db45b6265720e6f27\n'}]",0,796841,0ba15565393e1378b9a397a740f66d6ab5e2d352,16,4,3,17685,,,0,"[dragonflow] Set eol to Dragonflow Ocata

Dragonflow is not listed under deliverables of ocata, however it has
stable/ocata branch open.

This patch adds dragonflow under ocata deliverables just to make it
possible to tag it with ocata-eol and delete the branch.

Change-Id: I6f81ab30fab147a85d759b4db45b6265720e6f27
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/796841/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/dragonflow.yaml', 'deliverables/newton/dragonflow.yaml']",2,a81ec65623800e5cb5daf46b3a89d669ad6ec145,ocata-eol,--- launchpad: dragonflow release-model: abandoned team: dragonflow type: other release-type: neutron releases: - version: newton-eol projects: - repo: openstack/dragonflow hash: 77f7cd971966c5f27c1933d87154a696e3193338 ,,22,0
openstack%2Freleases~master~Ifed70bcb24e6bff2be6c9a81e2bf5865694c48c0,openstack/releases,master,Ifed70bcb24e6bff2be6c9a81e2bf5865694c48c0,[powervm] Transition Ocata to End of Life,MERGED,2021-07-16 18:16:08.000000000,2021-08-19 13:51:38.000000000,2021-08-19 13:51:38.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 18:16:08.000000000', 'files': ['deliverables/ocata/ceilometer-powervm.yaml', 'deliverables/ocata/nova-powervm.yaml', 'deliverables/ocata/networking-powervm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/345136375ace7f9bfc206136378fc2c7d15139df', 'message': ""[powervm] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ifed70bcb24e6bff2be6c9a81e2bf5865694c48c0\n""}]",0,801123,345136375ace7f9bfc206136378fc2c7d15139df,9,4,1,17685,,,0,"[powervm] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ifed70bcb24e6bff2be6c9a81e2bf5865694c48c0
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/801123/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/ceilometer-powervm.yaml', 'deliverables/ocata/nova-powervm.yaml', 'deliverables/ocata/networking-powervm.yaml']",3,345136375ace7f9bfc206136378fc2c7d15139df,ocata-eol,--- launchpad: networking-powervm release-model: cycle-with-milestones team: PowerVMStackers type: other releases: - version: ocata-eol projects: - repo: openstack/networking-powervm hash: 19fbdf15a3dc475f39a68f7d388de63376fafe73 repository-settings: openstack/networking-powervm: {} ,,36,0
openstack%2Fosc-placement~stable%2Fussuri~Iad530edaec39545a5573196f4c33ca1b29808fd7,openstack/osc-placement,stable/ussuri,Iad530edaec39545a5573196f4c33ca1b29808fd7,Update command help information,NEW,2021-08-11 11:22:35.000000000,2021-08-19 13:29:45.000000000,,"[{'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 11:22:35.000000000', 'files': ['osc_placement/resources/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/85c70987df7261d1cbaa12c1bc5545825f829ce3', 'message': 'Update command help information\n\nupdate openstack allocation candidate list help.\n\nChange-Id: Iad530edaec39545a5573196f4c33ca1b29808fd7\n(cherry picked from commit 7aed6dcd06c17a80b621d53fc9a690f3028c252e)\n'}]",0,804165,85c70987df7261d1cbaa12c1bc5545825f829ce3,4,3,1,32029,,,0,"Update command help information

update openstack allocation candidate list help.

Change-Id: Iad530edaec39545a5573196f4c33ca1b29808fd7
(cherry picked from commit 7aed6dcd06c17a80b621d53fc9a690f3028c252e)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/65/804165/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/resources/allocation_candidate.py'],1,85c70987df7261d1cbaa12c1bc5545825f829ce3,update_help-stable/ussuri, '``--resource VCPU=4 --resource DISK_GB=64 ', '``--resource VCP=4 --resource DISK_GB=64 ',1,1
openstack%2Freleases~master~Ib13cbe6e35c83d89216ad24958c4004affba13cb,openstack/releases,master,Ib13cbe6e35c83d89216ad24958c4004affba13cb,Release final glance_store for Xena,MERGED,2021-08-19 07:22:07.000000000,2021-08-19 13:05:54.000000000,2021-08-19 13:05:54.000000000,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 07:22:07.000000000', 'files': ['deliverables/xena/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7f5ce5e5b9dc68bd8d17d83098fbcaa08006776f', 'message': 'Release final glance_store for Xena\n\nThis proposed a release for glance_store to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\nChange-Id: Ib13cbe6e35c83d89216ad24958c4004affba13cb\n'}]",0,805151,7f5ce5e5b9dc68bd8d17d83098fbcaa08006776f,12,5,1,28522,,,0,"Release final glance_store for Xena

This proposed a release for glance_store to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

Change-Id: Ib13cbe6e35c83d89216ad24958c4004affba13cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/805151/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance-store.yaml'],1,7f5ce5e5b9dc68bd8d17d83098fbcaa08006776f,xena-final-non-client-libs, - version: 2.7.0 projects: - repo: openstack/glance_store hash: 6807722becf024ab44ce6ec23e0aca432b1da1c1,,4,0
openstack%2Freleases~master~Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64,openstack/releases,master,Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64,Release final ironic-lib for Xena,MERGED,2021-08-16 09:28:00.000000000,2021-08-19 12:54:27.000000000,2021-08-19 12:54:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/969203c6082d9c0cbdaa16a1acf63212945ea4ae', 'message': 'Release final ironic-lib for Xena\n\nThis proposed a release for ironic-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 4.7.1..b750b74\nb750b74 Add lower-constraints job to current development branch\nd33cf3e Use the json format output of qemu-img info\nf7db05c Update min version of tox to use allowlist\ne4d7c1f utils.execute: log stdout and stderr even on failure\n6aa9425 Remove the logic specific to the way deployment works\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64\n'}, {'number': 2, 'created': '2021-08-19 12:18:14.000000000', 'files': ['deliverables/xena/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7f436ab81673643ca696d3ce8d2c7bdda24c952e', 'message': ""Release final ironic-lib for Xena\n\nThis proposed a release for ironic-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 4.7.1..44131be\n12bca21 json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts\nf6ddd09 json_rpc: list_opts() should return tuple\nb750b74 Add lower-constraints job to current development branch\n54a176a Increase version of hacking and pycodestyle\nd33cf3e Use the json format output of qemu-img info\nf7db05c Update min version of tox to use allowlist\ne4d7c1f utils.execute: log stdout and stderr even on failure\n6aa9425 Remove the logic specific to the way deployment works\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64\n""}]",0,804660,7f436ab81673643ca696d3ce8d2c7bdda24c952e,15,7,2,28522,,,0,"Release final ironic-lib for Xena

This proposed a release for ironic-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 4.7.1..44131be
12bca21 json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts
f6ddd09 json_rpc: list_opts() should return tuple
b750b74 Add lower-constraints job to current development branch
54a176a Increase version of hacking and pycodestyle
d33cf3e Use the json format output of qemu-img info
f7db05c Update min version of tox to use allowlist
e4d7c1f utils.execute: log stdout and stderr even on failure
6aa9425 Remove the logic specific to the way deployment works

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iab0e1df1d1c25227dcc427b1b98dc4b37614fa64
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/804660/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ironic-lib.yaml'],1,969203c6082d9c0cbdaa16a1acf63212945ea4ae,xena-final-non-client-libs, - version: 5.0.0 projects: - repo: openstack/ironic-lib hash: b750b74c20c71513df089ad6d9ba96f0ec8a7a83,,4,0
openstack%2Freleases~master~I9f894a44777f909d745a12750124f035f6aeb8e8,openstack/releases,master,I9f894a44777f909d745a12750124f035f6aeb8e8,Release Masakari stable branches,MERGED,2021-08-17 18:20:16.000000000,2021-08-19 12:30:04.000000000,2021-08-19 12:30:04.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 18:20:16.000000000', 'files': ['deliverables/victoria/masakari.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/ussuri/masakari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/32698eae89292cd427708354a753411d18de3d04', 'message': 'Release Masakari stable branches\n\nChange-Id: I9f894a44777f909d745a12750124f035f6aeb8e8\n'}]",0,804910,32698eae89292cd427708354a753411d18de3d04,8,3,1,30491,,,0,"Release Masakari stable branches

Change-Id: I9f894a44777f909d745a12750124f035f6aeb8e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/804910/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/masakari.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/ussuri/masakari.yaml']",3,32698eae89292cd427708354a753411d18de3d04,masakari-stable-august-2021, - version: 9.1.3 projects: - repo: openstack/masakari hash: b965f3a253e7eca08ac765be90b7c1ae3d86369f,,12,0
openstack%2Freleases~master~Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f,openstack/releases,master,Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f,Release final oslo.vmware for Xena,MERGED,2021-08-16 10:00:20.000000000,2021-08-19 12:30:02.000000000,2021-08-19 12:30:02.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 10:00:20.000000000', 'files': ['deliverables/xena/oslo.vmware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/26170e37c39cd86a551434634a0c5a7b6a947e93', 'message': 'Release final oslo.vmware for Xena\n\nThis proposed a release for oslo.vmware to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.9.0..3e3fa66\n3e3fa66 setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f\n'}]",0,804684,26170e37c39cd86a551434634a0c5a7b6a947e93,8,3,1,28522,,,0,"Release final oslo.vmware for Xena

This proposed a release for oslo.vmware to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.9.0..3e3fa66
3e3fa66 setup.cfg: Replace dashes with underscores

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie77fcd2d48d251b4fb8fae0ec449e0d603fb587f
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/804684/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.vmware.yaml'],1,26170e37c39cd86a551434634a0c5a7b6a947e93,xena-final-non-client-libs, - version: 3.9.1 projects: - repo: openstack/oslo.vmware hash: 3e3fa66cb6f6e845c3f53bea8a13771c1f2b748f,,4,0
openstack%2Freleases~master~Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c,openstack/releases,master,Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c,Release final oslo.privsep for Xena,MERGED,2021-08-16 09:57:16.000000000,2021-08-19 12:30:00.000000000,2021-08-19 12:30:00.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:57:16.000000000', 'files': ['deliverables/xena/oslo.privsep.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b4bbd1a3e975f8b928a19925d90516f7f5faad4', 'message': 'Release final oslo.privsep for Xena\n\nThis proposed a release for oslo.privsep to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.6.0..9aac44a\nfee00eb Changed minversion in tox to 3.18.0\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c\n'}]",0,804680,6b4bbd1a3e975f8b928a19925d90516f7f5faad4,8,3,1,28522,,,0,"Release final oslo.privsep for Xena

This proposed a release for oslo.privsep to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.6.0..9aac44a
fee00eb Changed minversion in tox to 3.18.0

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Id7ebd54c7d585550fff0e3e78a4ba3b9449dcd9c
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/804680/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.privsep.yaml'],1,6b4bbd1a3e975f8b928a19925d90516f7f5faad4,xena-final-non-client-libs, - version: 2.6.1 projects: - repo: openstack/oslo.privsep hash: 9aac44a7f70d0b7cb6e7fb8177d662c117a8e800,,4,0
openstack%2Freleases~master~Ida39290a960374fd2c726a11fb4f4770f93562b3,openstack/releases,master,Ida39290a960374fd2c726a11fb4f4770f93562b3,Release final sushy for Xena,MERGED,2021-08-16 10:03:17.000000000,2021-08-19 12:29:58.000000000,2021-08-19 12:29:58.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-16 10:03:17.000000000', 'files': ['deliverables/xena/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/893e00aa898e77e510c03cdac76a0c0f4fb03a18', 'message': 'Release final sushy for Xena\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.11.0..6669a29\n6669a29 Add lower-constraints job to current development branch\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ida39290a960374fd2c726a11fb4f4770f93562b3\n'}]",0,804687,893e00aa898e77e510c03cdac76a0c0f4fb03a18,10,7,1,28522,,,0,"Release final sushy for Xena

This proposed a release for sushy to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.11.0..6669a29
6669a29 Add lower-constraints job to current development branch

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ida39290a960374fd2c726a11fb4f4770f93562b3
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/804687/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/sushy.yaml'],1,893e00aa898e77e510c03cdac76a0c0f4fb03a18,xena-final-non-client-libs, - version: 3.11.1 projects: - repo: openstack/sushy hash: 6669a29b9d195205eb1e7d8d717e007a73931e8f,,4,0
openstack%2Freleases~master~I63492f11606983f672011cafb03b21fe14fb0214,openstack/releases,master,I63492f11606983f672011cafb03b21fe14fb0214,Release final castellan for Xena,MERGED,2021-08-16 09:21:49.000000000,2021-08-19 12:29:22.000000000,2021-08-19 12:29:22.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:21:49.000000000', 'files': ['deliverables/xena/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b6bcbd304b007c2845d017a30c9840e31325131', 'message': 'Release final castellan for Xena\n\nThis proposed a release for castellan to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.9.0..4eb212b\n4eb212b Moving IRC network reference to OFTC\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I63492f11606983f672011cafb03b21fe14fb0214\n'}]",0,804656,7b6bcbd304b007c2845d017a30c9840e31325131,8,3,1,28522,,,0,"Release final castellan for Xena

This proposed a release for castellan to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.9.0..4eb212b
4eb212b Moving IRC network reference to OFTC

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I63492f11606983f672011cafb03b21fe14fb0214
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/804656/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/castellan.yaml'],1,7b6bcbd304b007c2845d017a30c9840e31325131,xena-final-non-client-libs, - version: 3.9.1 projects: - repo: openstack/castellan hash: 4eb212b826d1befd179d9321e1ebc88a0c55c3b7,,4,0
openstack%2Freleases~master~I9631431d8a28ec8e243eb659b5026452efda2b4a,openstack/releases,master,I9631431d8a28ec8e243eb659b5026452efda2b4a,Release final oslo.context for Xena,MERGED,2021-08-16 09:47:54.000000000,2021-08-19 12:29:18.000000000,2021-08-19 12:29:18.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:47:54.000000000', 'files': ['deliverables/xena/oslo.context.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1e068cbf521b75aa6808e8a3f27210ab075a099', 'message': 'Release final oslo.context for Xena\n\nThis proposed a release for oslo.context to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.3.0..641a1e0\n0fc0a0a Ussuri+ is python3 only and update python to python3\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9631431d8a28ec8e243eb659b5026452efda2b4a\n'}]",0,804675,b1e068cbf521b75aa6808e8a3f27210ab075a099,8,3,1,28522,,,0,"Release final oslo.context for Xena

This proposed a release for oslo.context to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.3.0..641a1e0
0fc0a0a Ussuri+ is python3 only and update python to python3

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I9631431d8a28ec8e243eb659b5026452efda2b4a
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/804675/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.context.yaml'],1,b1e068cbf521b75aa6808e8a3f27210ab075a099,xena-final-non-client-libs, - version: 3.3.1 projects: - repo: openstack/oslo.context hash: 641a1e0fec5d04f1e9cebff628acdaa01ad48700,,4,0
openstack%2Freleases~master~I946c734c8958b641e211453289d7bb3f26bb9700,openstack/releases,master,I946c734c8958b641e211453289d7bb3f26bb9700,Release final oslo.serialization for Xena,MERGED,2021-08-16 09:57:56.000000000,2021-08-19 12:29:15.000000000,2021-08-19 12:29:15.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:57:56.000000000', 'files': ['deliverables/xena/oslo.serialization.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78318a7c5ebf8e917557aeef8b40be7eb07eb5b3', 'message': 'Release final oslo.serialization for Xena\n\nThis proposed a release for oslo.serialization to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 4.1.0..2b94a4f\n2b94a4f setup.cfg: Replace dashes with underscores\nc587b7e Move flake8 as a pre-commit local target.\n02a5e4d Add Python3 xena unit tests\n2b41ddc Update master for stable/wallaby\na1f90ab Remove lower-constraints remnants\n967a36f Drop use of deprecated collections classes\nd20434c Use TOX_CONSTRAINTS_FILE\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I946c734c8958b641e211453289d7bb3f26bb9700\n'}]",0,804681,78318a7c5ebf8e917557aeef8b40be7eb07eb5b3,8,3,1,28522,,,0,"Release final oslo.serialization for Xena

This proposed a release for oslo.serialization to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 4.1.0..2b94a4f
2b94a4f setup.cfg: Replace dashes with underscores
c587b7e Move flake8 as a pre-commit local target.
02a5e4d Add Python3 xena unit tests
2b41ddc Update master for stable/wallaby
a1f90ab Remove lower-constraints remnants
967a36f Drop use of deprecated collections classes
d20434c Use TOX_CONSTRAINTS_FILE

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I946c734c8958b641e211453289d7bb3f26bb9700
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/804681/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.serialization.yaml'],1,78318a7c5ebf8e917557aeef8b40be7eb07eb5b3,xena-final-non-client-libs,releases: - version: 4.2.0 projects: - repo: openstack/oslo.serialization hash: 2b94a4f9ebeafc825d2b06e15a1b397072e31fbc,,5,0
openstack%2Freleases~master~I0cb63e6f02301a88ddcbc136abb11f1830f811b7,openstack/releases,master,I0cb63e6f02301a88ddcbc136abb11f1830f811b7,Release final oslo.metrics for Xena,MERGED,2021-08-16 09:53:59.000000000,2021-08-19 12:29:13.000000000,2021-08-19 12:29:13.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:53:59.000000000', 'files': ['deliverables/xena/oslo.metrics.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f95a4a84580f011b17d8da7390401108aad995e1', 'message': 'Release final oslo.metrics for Xena\n\nThis proposed a release for oslo.metrics to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 0.2.1..43eee50\n29ded7b Enable Test Coverage and Add New Test\n0a5cb7a Fix Heading Characters\n86e1bb1 Enable bandit\nd33cf58 Add Devstack Installation Guide\nf03eb56 Use py3 as the default runtime for tox\n3afeae8 Dropping lower constraints testing\ne8868ad Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0cb63e6f02301a88ddcbc136abb11f1830f811b7\n'}]",0,804678,f95a4a84580f011b17d8da7390401108aad995e1,8,3,1,28522,,,0,"Release final oslo.metrics for Xena

This proposed a release for oslo.metrics to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 0.2.1..43eee50
29ded7b Enable Test Coverage and Add New Test
0a5cb7a Fix Heading Characters
86e1bb1 Enable bandit
d33cf58 Add Devstack Installation Guide
f03eb56 Use py3 as the default runtime for tox
3afeae8 Dropping lower constraints testing
e8868ad Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I0cb63e6f02301a88ddcbc136abb11f1830f811b7
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/804678/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.metrics.yaml'],1,f95a4a84580f011b17d8da7390401108aad995e1,xena-final-non-client-libs,releases: - version: 0.3.0 projects: - repo: openstack/oslo.metrics hash: 43eee506b953e37cbb7d9a21e01f2c24706fd3fb,,5,0
openstack%2Freleases~master~I2d54646ddc5659b9a89c1adb6bf635f50871d9e4,openstack/releases,master,I2d54646ddc5659b9a89c1adb6bf635f50871d9e4,Release final oslo.policy for Xena,MERGED,2021-08-16 09:54:49.000000000,2021-08-19 12:29:10.000000000,2021-08-19 12:29:10.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:54:49.000000000', 'files': ['deliverables/xena/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/13d91a16068c8fb3c4b7a444723e4a990c662c33', 'message': 'Release final oslo.policy for Xena\n\nThis proposed a release for oslo.policy to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.8.1..c7fd9f4\nc7fd9f4 Fix a typo in the document\nfa5f76e Changed minversion in tox to 3.18.0\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I2d54646ddc5659b9a89c1adb6bf635f50871d9e4\n'}]",0,804679,13d91a16068c8fb3c4b7a444723e4a990c662c33,8,3,1,28522,,,0,"Release final oslo.policy for Xena

This proposed a release for oslo.policy to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.8.1..c7fd9f4
c7fd9f4 Fix a typo in the document
fa5f76e Changed minversion in tox to 3.18.0

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I2d54646ddc5659b9a89c1adb6bf635f50871d9e4
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/804679/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.policy.yaml'],1,13d91a16068c8fb3c4b7a444723e4a990c662c33,xena-final-non-client-libs, - version: 3.8.2 projects: - repo: openstack/oslo.policy hash: c7fd9f4fcd43fb78534921530d981634ec516344,,4,0
openstack%2Fneutron-lib~master~I6b54aa9c21bf28de1d451c195e37efde6110258a,openstack/neutron-lib,master,I6b54aa9c21bf28de1d451c195e37efde6110258a,Use placement version allowing re-parenting RP update,MERGED,2021-04-08 08:11:59.000000000,2021-08-19 12:29:05.000000000,2021-07-30 16:20:47.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/314668321cff9d1014e41377dbaa8eea6ca9805a', 'message': 'Use placement version allowing re-parenting RP update\n\nThat is microversion 1.37.\n\nThe next time a placement re-sync is triggered (for example by\nrestarting the respective agents) this corrects the parents\nof wrongly created resource providers introduced by bug #1921150.\n\nChange-Id: I6b54aa9c21bf28de1d451c195e37efde6110258a\nDepends-On: https://review.opendev.org/c/openstack/placement/+/784020\nRelated-Bug: #1921150\n'}, {'number': 2, 'created': '2021-04-09 10:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1b1916c000465af8477bac9c4390cb8ce3a786eb', 'message': 'Use placement version allowing re-parenting RP update\n\nThat is microversion 1.37.\n\nThe next time a placement re-sync is triggered (for example by\nrestarting the respective agents) this corrects the parents\nof wrongly created resource providers introduced by bug #1921150.\n\nChange-Id: I6b54aa9c21bf28de1d451c195e37efde6110258a\nDepends-On: https://review.opendev.org/c/openstack/placement/+/784020\nRelated-Bug: #1921150\n'}, {'number': 3, 'created': '2021-05-21 13:11:50.000000000', 'files': ['neutron_lib/placement/client.py', 'releasenotes/notes/bug-1921150-a38bef3c1be69650.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/270184e936352c07c8325d88584a6d25d0a4c8cc', 'message': 'Use placement version allowing re-parenting RP update\n\nThat is microversion 1.37.\n\nThe next time a placement re-sync is triggered (for example by\nrestarting the respective agents) this corrects the parents\nof wrongly created resource providers introduced by bug #1921150.\n\nChange-Id: I6b54aa9c21bf28de1d451c195e37efde6110258a\nDepends-On: https://review.opendev.org/c/openstack/placement/+/784020\nRelated-Bug: #1921150\n'}]",2,785337,270184e936352c07c8325d88584a6d25d0a4c8cc,23,5,3,15554,,,0,"Use placement version allowing re-parenting RP update

That is microversion 1.37.

The next time a placement re-sync is triggered (for example by
restarting the respective agents) this corrects the parents
of wrongly created resource providers introduced by bug #1921150.

Change-Id: I6b54aa9c21bf28de1d451c195e37efde6110258a
Depends-On: https://review.opendev.org/c/openstack/placement/+/784020
Related-Bug: #1921150
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/37/785337/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/placement/client.py', 'releasenotes/notes/bug-1921150-a38bef3c1be69650.yaml']",2,314668321cff9d1014e41377dbaa8eea6ca9805a,bug/1921150,"--- upgrade: - | If you leave a long time window between upgrading Placement and Neutron Server, then it is recommended to upgrade Placement first (as was always the logical order since Neutron is a client of Placement). If the window between upgrading Neutron and Placement is short - that is no changes in (mostly QoS) resources backed by Placement during this window you can ignore this note. fixes: - | Switched to using placement microversion 1.37 therefore we can fix the resource provider tree corrupted by bug https://launchpad.net/bugs/1921150. ",,16,1
openstack%2Freleases~master~I27a4ec0615c6ca7291b25ad0aa9663503404c4c0,openstack/releases,master,I27a4ec0615c6ca7291b25ad0aa9663503404c4c0,Release final oslo.versionedobjects for Xena,MERGED,2021-08-16 09:59:30.000000000,2021-08-19 12:26:58.000000000,2021-08-19 12:26:58.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:59:30.000000000', 'files': ['deliverables/xena/oslo.versionedobjects.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3a2afd1d34fb4b636012cfe370058c6abd441728', 'message': 'Release final oslo.versionedobjects for Xena\n\nThis proposed a release for oslo.versionedobjects to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..a85275f\n07fd2f2 Replace deprecated inspect.getargspec\n63cdc14 Do not patch inspect.argspec directly\n59c0aad Changed minversion in tox to 3.18.0\na1ecfaa Move flake8 as a pre-commit local target.\n4fa96d6 Add Python3 xena unit tests\n0a3da61 Update master for stable/wallaby\n117d28e Dropping lower constraints references\ne8062fc Dropping lower constraints testing\nbdce5a0 Use TOX_CONSTRAINTS_FILE\n7ce947c Use py3 as the default runtime for tox\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I27a4ec0615c6ca7291b25ad0aa9663503404c4c0\n'}]",0,804683,3a2afd1d34fb4b636012cfe370058c6abd441728,8,3,1,28522,,,0,"Release final oslo.versionedobjects for Xena

This proposed a release for oslo.versionedobjects to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.0..a85275f
07fd2f2 Replace deprecated inspect.getargspec
63cdc14 Do not patch inspect.argspec directly
59c0aad Changed minversion in tox to 3.18.0
a1ecfaa Move flake8 as a pre-commit local target.
4fa96d6 Add Python3 xena unit tests
0a3da61 Update master for stable/wallaby
117d28e Dropping lower constraints references
e8062fc Dropping lower constraints testing
bdce5a0 Use TOX_CONSTRAINTS_FILE
7ce947c Use py3 as the default runtime for tox

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I27a4ec0615c6ca7291b25ad0aa9663503404c4c0
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/804683/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.versionedobjects.yaml'],1,3a2afd1d34fb4b636012cfe370058c6abd441728,xena-final-non-client-libs,releases: - version: 2.5.0 projects: - repo: openstack/oslo.versionedobjects hash: a85275fb160e8160994c53850f60901e65f3fab7,,5,0
openstack%2Freleases~master~Ife237e0d09beb2040af5934965100123258db223,openstack/releases,master,Ife237e0d09beb2040af5934965100123258db223,Release final oslo.utils for Xena,MERGED,2021-08-16 09:58:37.000000000,2021-08-19 12:26:56.000000000,2021-08-19 12:26:56.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:58:37.000000000', 'files': ['deliverables/xena/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2823b4fba925e8a7782d4bc3ac0e76fec79f42e8', 'message': 'Release final oslo.utils for Xena\n\nThis proposed a release for oslo.utils to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 4.9.2..2c74bb9\n2c74bb9 Modify UUID sentinel to support keystone-like UUIDs\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ife237e0d09beb2040af5934965100123258db223\n'}]",0,804682,2823b4fba925e8a7782d4bc3ac0e76fec79f42e8,8,3,1,28522,,,0,"Release final oslo.utils for Xena

This proposed a release for oslo.utils to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 4.9.2..2c74bb9
2c74bb9 Modify UUID sentinel to support keystone-like UUIDs

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ife237e0d09beb2040af5934965100123258db223
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/804682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.utils.yaml'],1,2823b4fba925e8a7782d4bc3ac0e76fec79f42e8,xena-final-non-client-libs, - version: 4.10.0 projects: - repo: openstack/oslo.utils hash: 2c74bb92e5e9561e2ad1386c2e14fb042d6dc062,,4,0
openstack%2Freleases~master~Iff464b1b78839901ca1700cc0016ab558f5000b1,openstack/releases,master,Iff464b1b78839901ca1700cc0016ab558f5000b1,Release final stevedore for Xena,MERGED,2021-08-16 10:02:22.000000000,2021-08-19 12:26:54.000000000,2021-08-19 12:26:54.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 10:02:22.000000000', 'files': ['deliverables/xena/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/579c2ad3e5b21669d6abf3db2c21a397e4eb9d99', 'message': 'Release final stevedore for Xena\n\nThis proposed a release for stevedore to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.3.0..8846a3f\ncba4821 setup.cfg: Replace dashes with underscores\nba1268d Fix formatting of release list\n74d6d58 Remove lower-constraints remnants\n5383853 Move flake8 as a pre-commit local target.\n518948a Add Python3 xena unit tests\n107308a Update master for stable/wallaby\n90b5daa Dropping lower constraints testing\n8b6b861 Use TOX_CONSTRAINTS_FILE\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iff464b1b78839901ca1700cc0016ab558f5000b1\n'}]",0,804686,579c2ad3e5b21669d6abf3db2c21a397e4eb9d99,8,3,1,28522,,,0,"Release final stevedore for Xena

This proposed a release for stevedore to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.3.0..8846a3f
cba4821 setup.cfg: Replace dashes with underscores
ba1268d Fix formatting of release list
74d6d58 Remove lower-constraints remnants
5383853 Move flake8 as a pre-commit local target.
518948a Add Python3 xena unit tests
107308a Update master for stable/wallaby
90b5daa Dropping lower constraints testing
8b6b861 Use TOX_CONSTRAINTS_FILE

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iff464b1b78839901ca1700cc0016ab558f5000b1
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/804686/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/stevedore.yaml'],1,579c2ad3e5b21669d6abf3db2c21a397e4eb9d99,xena-final-non-client-libs,releases: - version: 3.4.0 projects: - repo: openstack/stevedore hash: 8846a3f24a65df82f48d724b3b49b8ac8f135dcd,,5,0
openstack%2Freleases~master~I83550e91db0b8edb77cf03d0c178d7934a1ce634,openstack/releases,master,I83550e91db0b8edb77cf03d0c178d7934a1ce634,Release final automaton for Xena,MERGED,2021-08-16 09:18:54.000000000,2021-08-19 12:17:26.000000000,2021-08-19 12:17:26.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:18:54.000000000', 'files': ['deliverables/xena/automaton.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/975f4d0a5b279db158f9b42f6fc82e070ae99e43', 'message': 'Release final automaton for Xena\n\nThis proposed a release for automaton to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.3.0..0461d8e\n0461d8e Moving to OFTC\ndf3f354 setup.cfg: Replace dashes with underscores\n80bd6a5 Move flake8 as a pre-commit local target.\n2353f50 Add Python3 xena unit tests\n1703b2a Update master for stable/wallaby\n0faae13 tox: Remove references to testr\n283b8e2 Remove lower-constraints remnants\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I83550e91db0b8edb77cf03d0c178d7934a1ce634\n'}]",0,804653,975f4d0a5b279db158f9b42f6fc82e070ae99e43,8,3,1,28522,,,0,"Release final automaton for Xena

This proposed a release for automaton to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.3.0..0461d8e
0461d8e Moving to OFTC
df3f354 setup.cfg: Replace dashes with underscores
80bd6a5 Move flake8 as a pre-commit local target.
2353f50 Add Python3 xena unit tests
1703b2a Update master for stable/wallaby
0faae13 tox: Remove references to testr
283b8e2 Remove lower-constraints remnants

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I83550e91db0b8edb77cf03d0c178d7934a1ce634
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/804653/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/automaton.yaml'],1,975f4d0a5b279db158f9b42f6fc82e070ae99e43,xena-final-non-client-libs,releases: - version: 2.4.0 projects: - repo: openstack/automaton hash: 0461d8e766b8ba7ea6f3754c70e2f2acd8a457f7,,5,0
openstack%2Fcharm-trilio-horizon-plugin~master~I60034c9a7b14307835776a30b753905aab87aa75,openstack/charm-trilio-horizon-plugin,master,I60034c9a7b14307835776a30b753905aab87aa75,Add update-trilio action,MERGED,2021-08-16 13:20:16.000000000,2021-08-19 12:07:54.000000000,2021-08-19 12:07:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:20:16.000000000', 'files': ['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/f7b8f9b66e3eb20743728a792d6f5125c17132bd', 'message': 'Add update-trilio action\n\nAdd update-trilio action which can be run after a Trilio\nupgrade.\n\nTrilio sometimes updates packages in package repositiories that\nrequire DB migrations or config file changes. Since these package\nupdates are not applied by the charm as they would be by changing the\nopenstack-origin or triliovault-pkg-source the charm has no event to\nreact to to automatically perform the post package upgrade actions.\nThis change adds an action `update-trilio` which can\nbe run to apply the changes.\n\nChange-Id: I60034c9a7b14307835776a30b753905aab87aa75\n'}]",0,804739,f7b8f9b66e3eb20743728a792d6f5125c17132bd,9,3,1,12549,,,0,"Add update-trilio action

Add update-trilio action which can be run after a Trilio
upgrade.

Trilio sometimes updates packages in package repositiories that
require DB migrations or config file changes. Since these package
updates are not applied by the charm as they would be by changing the
openstack-origin or triliovault-pkg-source the charm has no event to
react to to automatically perform the post package upgrade actions.
This change adds an action `update-trilio` which can
be run to apply the changes.

Change-Id: I60034c9a7b14307835776a30b753905aab87aa75
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/39/804739/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio']",3,f7b8f9b66e3eb20743728a792d6f5125c17132bd,update-action,actions.py,,69,0
openstack%2Fcharm-trilio-data-mover~master~I4c12bc9ff9b8b20a5ddc16a040f70b87f4cac30b,openstack/charm-trilio-data-mover,master,I4c12bc9ff9b8b20a5ddc16a040f70b87f4cac30b,Add update-trilio action,MERGED,2021-08-16 13:20:34.000000000,2021-08-19 12:07:47.000000000,2021-08-19 12:07:47.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/7e0a44310f31649a679f25a216db3bb9138a5fd7', 'message': 'Add update-trilio action\n\nAdd update-trilio action which can be run after a Trilio\nupgrade.\n\nTrilio sometimes updates packages in package repositiories that\nrequire DB migrations or config file changes. Since these package\nupdates are not applied by the charm as they would be by changing the\nopenstack-origin or triliovault-pkg-source the charm has no event to\nreact to to automatically perform the post package upgrade actions.\nThis change adds an action `update-trilio` which can\nbe run to apply the changes.\n\nChange-Id: I4c12bc9ff9b8b20a5ddc16a040f70b87f4cac30b\n'}, {'number': 2, 'created': '2021-08-17 11:26:04.000000000', 'files': ['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/e6c0e146e8fb28e328f033836ad377a51a1d0d3d', 'message': 'Add update-trilio action\n\nAdd update-trilio action which can be run after a Trilio\nupgrade.\n\nTrilio sometimes updates packages in package repositiories that\nrequire DB migrations or config file changes. Since these package\nupdates are not applied by the charm as they would be by changing the\nopenstack-origin or triliovault-pkg-source the charm has no event to\nreact to to automatically perform the post package upgrade actions.\nThis change adds an action `update-trilio` which can\nbe run to apply the changes.\n\nChange-Id: I4c12bc9ff9b8b20a5ddc16a040f70b87f4cac30b\n'}]",0,804741,e6c0e146e8fb28e328f033836ad377a51a1d0d3d,11,3,2,12549,,,0,"Add update-trilio action

Add update-trilio action which can be run after a Trilio
upgrade.

Trilio sometimes updates packages in package repositiories that
require DB migrations or config file changes. Since these package
updates are not applied by the charm as they would be by changing the
openstack-origin or triliovault-pkg-source the charm has no event to
react to to automatically perform the post package upgrade actions.
This change adds an action `update-trilio` which can
be run to apply the changes.

Change-Id: I4c12bc9ff9b8b20a5ddc16a040f70b87f4cac30b
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/41/804741/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio']",3,7e0a44310f31649a679f25a216db3bb9138a5fd7,update-action,actions.py,,23,1
openstack%2Fcharm-trilio-dm-api~master~I52abfa8091673f20c8c5cc1fffd7ad5d17a60820,openstack/charm-trilio-dm-api,master,I52abfa8091673f20c8c5cc1fffd7ad5d17a60820,Add update-trilio action,MERGED,2021-08-16 13:20:27.000000000,2021-08-19 12:05:54.000000000,2021-08-19 12:05:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:20:27.000000000', 'files': ['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/c9af1732062aff3871d5cc04c04000d3ee936cab', 'message': 'Add update-trilio action\n\nAdd update-trilio action which can be run after a Trilio\nupgrade.\n\nTrilio sometimes updates packages in package repositiories that\nrequire DB migrations or config file changes. Since these package\nupdates are not applied by the charm as they would be by changing the\nopenstack-origin or triliovault-pkg-source the charm has no event to\nreact to to automatically perform the post package upgrade actions.\nThis change adds an action `update-trilio` which can\nbe run to apply the changes.\n\nChange-Id: I52abfa8091673f20c8c5cc1fffd7ad5d17a60820\n'}]",0,804740,c9af1732062aff3871d5cc04c04000d3ee936cab,7,3,1,12549,,,0,"Add update-trilio action

Add update-trilio action which can be run after a Trilio
upgrade.

Trilio sometimes updates packages in package repositiories that
require DB migrations or config file changes. Since these package
updates are not applied by the charm as they would be by changing the
openstack-origin or triliovault-pkg-source the charm has no event to
react to to automatically perform the post package upgrade actions.
This change adds an action `update-trilio` which can
be run to apply the changes.

Change-Id: I52abfa8091673f20c8c5cc1fffd7ad5d17a60820
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/40/804740/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio']",3,c9af1732062aff3871d5cc04c04000d3ee936cab,update-action,actions.py,,75,0
openstack%2Fironic-lib~master~Id50af71faec84bd778422ed86a3b99797158afdb,openstack/ironic-lib,master,Id50af71faec84bd778422ed86a3b99797158afdb,json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts,MERGED,2021-08-11 04:32:56.000000000,2021-08-19 11:39:56.000000000,2021-08-19 11:37:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11491}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 04:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/cd19b333485647a32bb19c908fed50d6d47a1c2a', 'message': ""json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts\n\noslo.config is relying on the list_opts entrypoint to automatically\nintegrate the json_rpc options.\n\nChange-Id: Id50af71faec84bd778422ed86a3b99797158afdb\n""}, {'number': 2, 'created': '2021-08-18 00:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5282a40f97bf134707cf277b8d2a08b83561b137', 'message': ""json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts\n\noslo.config is relying on the list_opts entrypoint to automatically\nintegrate the json_rpc options.\n\nChange-Id: Id50af71faec84bd778422ed86a3b99797158afdb\n""}, {'number': 3, 'created': '2021-08-18 00:43:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/12bca21c0cacc2b2d422b8ae38430294f94be7e3', 'message': ""json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts\n\noslo.config is relying on the list_opts entrypoint to automatically\nintegrate the json_rpc options.\n\nStory: 2009126\nTask: 43038\n\nChange-Id: Id50af71faec84bd778422ed86a3b99797158afdb\n""}]",0,804195,12bca21c0cacc2b2d422b8ae38430294f94be7e3,16,7,3,27419,,,0,"json_rpc: setup.cfg is missing entrypoint for json_rpc's list_opts

oslo.config is relying on the list_opts entrypoint to automatically
integrate the json_rpc options.

Story: 2009126
Task: 43038

Change-Id: Id50af71faec84bd778422ed86a3b99797158afdb
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/95/804195/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cd19b333485647a32bb19c908fed50d6d47a1c2a,automated_config_validation, ironic_lib.json_rpc = ironic_lib.json_rpc:list_opts,,1,0
openstack%2Fironic-lib~master~Ib4b9c270709f5994bc2c031c339822d7d6b9356d,openstack/ironic-lib,master,Ib4b9c270709f5994bc2c031c339822d7d6b9356d,json_rpc: list_opts() should return tuple,MERGED,2021-08-11 04:32:56.000000000,2021-08-19 11:38:40.000000000,2021-08-19 11:37:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11491}, {'_account_id': 11655}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-11 04:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/eefe38a3ef440b9a469e0690dc073e7a443b68ba', 'message': 'json_rpc: list_opts() should return tuple\n\nlist_opts() should return a tuple otherwise\noslo-config-(genera|valida)tors are unable to parse its output.\n\nChange-Id: Ib4b9c270709f5994bc2c031c339822d7d6b9356d\n'}, {'number': 2, 'created': '2021-08-18 00:42:51.000000000', 'files': ['ironic_lib/json_rpc/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f6ddd09d50d3181a7cc2f9f4e201c26522ee8143', 'message': 'json_rpc: list_opts() should return tuple\n\nlist_opts() should return a tuple otherwise\noslo-config-(genera|valida)tors are unable to parse its output.\n\nStory: 2009126\nTask: 43039\n\nChange-Id: Ib4b9c270709f5994bc2c031c339822d7d6b9356d\n'}]",0,804194,f6ddd09d50d3181a7cc2f9f4e201c26522ee8143,17,7,2,27419,,,0,"json_rpc: list_opts() should return tuple

list_opts() should return a tuple otherwise
oslo-config-(genera|valida)tors are unable to parse its output.

Story: 2009126
Task: 43039

Change-Id: Ib4b9c270709f5994bc2c031c339822d7d6b9356d
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/94/804194/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/json_rpc/__init__.py'],1,eefe38a3ef440b9a469e0690dc073e7a443b68ba,automated_config_validation," return [('json_rpc', opts + keystone.add_auth_opts([]))]", return opts + keystone.add_auth_opts([]),1,1
openstack%2Ftripleo-ansible~master~Iffab9c82f9ecdd5845cc93484ae15f70c9153341,openstack/tripleo-ansible,master,Iffab9c82f9ecdd5845cc93484ae15f70c9153341,BnR: managed ceph properly to take a backup of the node,MERGED,2021-07-28 11:44:16.000000000,2021-08-19 11:37:31.000000000,2021-08-19 11:37:31.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-07-28 11:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2335077c2d2c72fd9287712a4c07b11a7ada031', 'message': 'WIP ceph systemd call managed\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 2, 'created': '2021-07-28 16:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe86534df6768766bd633fb8c0251acaea63afc2', 'message': 'WIP ceph systemd call managed\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 3, 'created': '2021-07-28 16:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ed3304102bb51f5998ceaf97f72d0d56237526e', 'message': 'WIP ceph systemd call managed\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 4, 'created': '2021-07-28 16:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6dd216fe1631731312d6062c4eb9cf66311c8935', 'message': 'WIP ceph systemd call managed\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 5, 'created': '2021-07-29 16:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3049b3365d34501ee4a7e0c19b2d36a546fe993d', 'message': 'WIP ceph systemd call managed\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 6, 'created': '2021-07-30 17:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca27fa019bc2da2d30152cf439a5492a0d12416d', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 7, 'created': '2021-08-18 09:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55535aa43967569c0c52a4fff553302102fbd376', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 8, 'created': '2021-08-18 10:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cedda1ca8f64bcbe835db13ab55ce3b0a9664573', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}, {'number': 9, 'created': '2021-08-18 11:55:30.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e85dd4943da47938b14a967f1b9548d202b03f0', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n'}]",15,802688,9e85dd4943da47938b14a967f1b9548d202b03f0,48,8,9,22954,,,0,"BnR: managed ceph properly to take a backup of the node

This patch stops ceph services before doing a backup and
starts the ceph services after the backup. No matter how
ceph was installed (ceph-ansible or cephadm)

Change-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/802688/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,e2335077c2d2c72fd9287712a4c07b11a7ada031,lightbackups,"tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode: false # The role which handles the ceph on the controllers tripleo_backup_and_restore_ceph_mon_role: ""ceph_mon""",tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode: true,210,1
openstack%2Fkolla-ansible~master~I18f3d8f2e10a2996b2ebf92733a1770bef548bda,openstack/kolla-ansible,master,I18f3d8f2e10a2996b2ebf92733a1770bef548bda,Add missing elasticsearch cloudkitty storage and prometheus collector backend support.,MERGED,2020-09-21 14:37:53.000000000,2021-08-19 11:29:01.000000000,2021-03-09 20:18:28.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32067}, {'_account_id': 32304}, {'_account_id': 32398}]","[{'number': 1, 'created': '2020-09-21 14:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/922a6bf2e87dca2e48190d3c6c92ed59fcf4a027', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\n* Add missing gnocchi collector backend.\n* Add missing monasca collector backend.\n* Add missing prometheus collector backend.\n* Add missing elasticsearch storage backend.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 2, 'created': '2020-09-30 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e17453a62c3cfd8438f588182779f825cf235304', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\nRework in order to use discussed options and mechanisms.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 3, 'created': '2020-09-30 16:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73af95fa0feca75906a1601cd3eb3e9540c58e8e', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\nFix issues according to comments.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 4, 'created': '2020-10-15 10:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3bd85fb7a4d7c37b27403fb489a87576cef2ac8a', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\n* Fix issues according to comments.\n* Add support for cloudkitty index creation when using ElasticSearch backend.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 5, 'created': '2020-12-01 09:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29f7310275c10333c4cd976ed769680de7a9ac10', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\n* Add bootstrap step for cloudkitty index creation when using ElasticSearch backend.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 6, 'created': '2020-12-01 12:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/854199790bad96e31a4006ae6b0e2ec8f77df607', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\n* Fix improper indentation on bootstrap step for cloudkitty index creation.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 7, 'created': '2020-12-01 16:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2800232a5997b2d77942797e4bf97f21cc9b5d21', 'message': '[WIP] - Add missing cloudkitty storage and collector backend support.\n\n* Fix improper indentation on bootstrap step for cloudkitty index creation.\n\n* Fix trailing character on comment.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 8, 'created': '2020-12-22 15:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67000b7ac36f75bbd7166c60668a89aaad0ab7fa', 'message': 'Add missing cloudkitty storage and collector backend support.\n\n* Fix improper indentation on bootstrap step for cloudkitty index creation.\n\n* Fix trailing character on comment.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 9, 'created': '2021-02-01 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7168baa0306d4fb0a0d10b8c9c39d8e0834626d7', 'message': 'Add missing cloudkitty storage and collector backend support.\n\n* Fix various remaining typos.\n* Enable Elasticsearch when selected as cloudkitty backend.\n* Add a check for ES index creation when ES required.\n* Add a release note\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 10, 'created': '2021-02-01 16:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68b73dba455603886d7899c9e7df8bc78b86bdaa', 'message': 'Add missing cloudkitty storage and collector backend support.\n\n* Fix various remaining typos.\n* Fix trailing character.\n* Enable Elasticsearch when selected as cloudkitty backend.\n* Add a check for ES index creation when ES required.\n* Add a release note\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 11, 'created': '2021-02-03 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1455a2620a7f3b4909edcc7b198e43607b340927', 'message': 'Add missing elasticsearch cloudkitty storage\nand prometheus collector backend support.\n\n* Fix various remaining typos.\n* Fix trailing character.\n* Enable Elasticsearch when selected as cloudkitty backend.\n* Add a check for ES index creation when ES required.\n* Add a release note\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 12, 'created': '2021-02-04 08:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41caafb05a661f99806f9c225fe07c114061b784', 'message': 'Add missing elasticsearch cloudkitty storage\nand prometheus collector backend support.\n\n* Fix various remaining typos.\n* Fix trailing character.\n* Enable Elasticsearch when selected as cloudkitty backend.\n* Add a check for ES index creation when ES required.\n* Add a release note\n* Fix release note line length issue.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}, {'number': 13, 'created': '2021-02-08 08:29:32.000000000', 'files': ['releasenotes/notes/add_elasticsearch_and_prometheus_support_on_cloudkitty-774e13e363e15a4b.yaml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e72c0cb4e2206cc72104648e507237977258d54', 'message': 'Add missing elasticsearch cloudkitty storage\nand prometheus collector backend support.\n\n* Fix various remaining typos.\n* Fix trailing character on reno.\n* Enable Elasticsearch when selected as cloudkitty backend.\n* Add a check for ES index creation when ES required.\n* Add a release note\n* Fix release note line length issue.\n\nChange-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda\nCloses-bug: #1895945\n'}]",49,752965,9e72c0cb4e2206cc72104648e507237977258d54,73,8,13,32398,,,0,"Add missing elasticsearch cloudkitty storage
and prometheus collector backend support.

* Fix various remaining typos.
* Fix trailing character on reno.
* Enable Elasticsearch when selected as cloudkitty backend.
* Add a check for ES index creation when ES required.
* Add a release note
* Fix release note line length issue.

Change-Id: I18f3d8f2e10a2996b2ebf92733a1770bef548bda
Closes-bug: #1895945
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/752965/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2']",2,922a6bf2e87dca2e48190d3c6c92ed59fcf4a027,,"gnocchi_auth_type = {{ cloudkitty_gnocchi_auth_type }} gnocchi_user = {{ cloudkitty_gnocchi_user }} gnocchi_endpoint = {{ cloudkitty_gnocchi_endpoint }} interface = {{ cloudkitty_gnocchi_interface }}{% if cloudkitty_collector_backend == ""monasca"" %} [collector_monasca] monasca_service_name = monasca interface = {{ cloudkitty_monasca_interface }} {% endif %} {% if cloudkitty_collector_backend == ""prometheus"" %} [collector_prometheus] prometheus_url = {{ cloudkitty_prometheus_url }} prometheus_user = {{ cloudkitty_prometheus_user }} prometheus_password = {{ cloudkitty_prometheus_password }} cafile = {{ cloudkitty_prometheus_cafile }} insecure = {{ cloudkitty_prometheus_insecure_connections }} {% endif %} {% if cloudkitty_storage_backend == 'influxdb' or 'elasticsearch' %} {% if cloudkitty_storage_backend == 'elasticsearch' %} [storage_elasticsearch] host = {{ elasticsearch_host }} index_name = {{ cloudkitty_elasticsearch_index_name }} insecure = {{ cloudkitty_elasticsearch_insecure_connections }} cafile = {{ cloudkitty_elasticsearch_cafile }} scroll_duration = {{ cloudkitty_elasticsearch_scroll_duration }} {% endif %}",auth_section = keystone_authtoken{% if cloudkitty_storage_backend == 'influxdb' %},78,6
openstack%2Fcharm-ceph-dashboard~master~I0d11ce7dc7e7640c963d3807fcd91b64541c167d,openstack/charm-ceph-dashboard,master,I0d11ce7dc7e7640c963d3807fcd91b64541c167d,"osci, zuul, gitreview and Pin charmcraft to 0.10.2",MERGED,2021-08-09 15:59:10.000000000,2021-08-19 11:28:37.000000000,2021-08-19 11:28:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-09 15:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0ff5338472978a1902c02a75f50d39af55684027', 'message': 'gitreview and Pin charmcraft to 0.10.2\n\nAdd git review and pin charmcraft to maintain support for building\nout of a venv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 2, 'created': '2021-08-09 16:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/36f8560f09f600a3af9b3dd48b6d3112925c7c14', 'message': 'zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd zuul config, git review and pin charmcraft to maintain support\nfor building out of a venv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 3, 'created': '2021-08-10 06:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/85be34d993866b78188f3bce600487f451dae04c', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 4, 'created': '2021-08-10 09:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/53b086b9e496b0314e2e5ec125f6312a4d488a24', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 5, 'created': '2021-08-17 15:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6ad4fa0be3deb8506070d72a423b0714e442b024', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 6, 'created': '2021-08-18 15:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/bdd624dad63180bfa0264eaac8741a5f988e362d', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 7, 'created': '2021-08-19 08:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b02f5e37422d71f5c9ad42be979c6fbb8b621c90', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}, {'number': 8, 'created': '2021-08-19 09:28:43.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', '.gitreview', 'build-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/302fed17b08e43770ea34f97244874e2811486b6', 'message': 'osci, zuul, gitreview and Pin charmcraft to 0.10.2\n\nAdd osci config, zuul config, git review and pin charmcraft.\nCharmcraft pin is to maintain support for building out of a\nvenv.\n\nChange-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d\n'}]",0,803940,302fed17b08e43770ea34f97244874e2811486b6,30,3,8,12549,,,0,"osci, zuul, gitreview and Pin charmcraft to 0.10.2

Add osci config, zuul config, git review and pin charmcraft.
Charmcraft pin is to maintain support for building out of a
venv.

Change-Id: I0d11ce7dc7e7640c963d3807fcd91b64541c167d
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/40/803940/8 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'build-requirements.txt', 'tox.ini']",3,0ff5338472978a1902c02a75f50d39af55684027,build-and-review,deps = -r{toxinidir}/build-requirements.txt,deps =,6,1
openstack%2Freleases~master~Ia030695ed4ece76d09af5133323b5ecba61fc008,openstack/releases,master,Ia030695ed4ece76d09af5133323b5ecba61fc008,Release glance_store 2.7.0,ABANDONED,2021-08-19 05:56:07.000000000,2021-08-19 11:28:19.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 05:56:07.000000000', 'files': ['deliverables/xena/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0d7163008269300b6fbf33d73cb5c457bb01ef29', 'message': 'Release glance_store 2.7.0\n\nThis is the official release of glance_store version 2.7.0 for Xena.\n\nChange-Id: Ia030695ed4ece76d09af5133323b5ecba61fc008\n'}]",0,805118,0d7163008269300b6fbf33d73cb5c457bb01ef29,5,4,1,9303,,,0,"Release glance_store 2.7.0

This is the official release of glance_store version 2.7.0 for Xena.

Change-Id: Ia030695ed4ece76d09af5133323b5ecba61fc008
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/805118/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance-store.yaml'],1,0d7163008269300b6fbf33d73cb5c457bb01ef29,xena/2.5.0, - version: 2.7.0 projects: - repo: openstack/glance_store hash: 6807722becf024ab44ce6ec23e0aca432b1da1c1,,4,0
openstack%2Fcharm-masakari~master~Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5,openstack/charm-masakari,master,Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5,Specify certificates relation to update endpoints.,MERGED,2021-08-18 20:03:28.000000000,2021-08-19 11:26:21.000000000,2021-08-19 11:26:21.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 20:03:28.000000000', 'files': ['src/reactive/masakari_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/3760b7211f6428dfd7321d4adf8d7ddaed7535f2', 'message': 'Specify certificates relation to update endpoints.\n\nWhen the certificates relation is unspecified with the\nconfigure_tls method invocation, the masakari endpoints\nseem to ignore the update to TLS. This change specifies\nthe relation which causes the endpoints to update correctly.\n\nCloses-Bug: #1935986\nChange-Id: Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5\n'}]",0,805079,3760b7211f6428dfd7321d4adf8d7ddaed7535f2,12,4,1,20634,,,0,"Specify certificates relation to update endpoints.

When the certificates relation is unspecified with the
configure_tls method invocation, the masakari endpoints
seem to ignore the update to TLS. This change specifies
the relation which causes the endpoints to update correctly.

Closes-Bug: #1935986
Change-Id: Ib1a6ca1ddf64950ff13cf3a8904d9848710d96a5
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/79/805079/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/masakari_handlers.py'],1,3760b7211f6428dfd7321d4adf8d7ddaed7535f2,, charm_class.configure_tls( certificates_interface=reactive.endpoint_from_flag( 'certificates.available')), charm_class.configure_tls(),3,1
openstack%2Ftripleo-heat-templates~master~Ifffe5bea246478954f86e803f8038d73f039eaf8,openstack/tripleo-heat-templates,master,Ifffe5bea246478954f86e803f8038d73f039eaf8,Compute HA: Remove version discovery of keystone API,MERGED,2021-08-12 09:04:40.000000000,2021-08-19 11:26:13.000000000,2021-08-19 11:26:13.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-12 09:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa6cd13b68fdb9922da95f70b4fd0c7d4fbcddc', 'message': 'Remove unnecessary version discovery of keystone API\n\nKeystone removed its v2 API a long ago and now it provides v3 API only.\nThus we no longer need any logic depending on Keystone API version.\n\nChange-Id: Ifffe5bea246478954f86e803f8038d73f039eaf8\n'}, {'number': 2, 'created': '2021-08-12 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ffd903cd36b4d2b40b7c638a87ad7840f792ec2', 'message': 'Compute HA: Remove version discovery of keystone API\n\nKeystone removed its v2 API a long ago and now it provides v3 API only.\nThus we no longer need any logic depending on Keystone API version.\n\nChange-Id: Ifffe5bea246478954f86e803f8038d73f039eaf8\n'}, {'number': 3, 'created': '2021-08-17 08:01:48.000000000', 'files': ['scripts/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f6d13b7ed4d8b0835afa0d4a0beb18c05adc16f', 'message': 'Compute HA: Remove version discovery of keystone API\n\nKeystone removed its v2 API a long ago and now it provides v3 API only.\nThus we no longer need any logic depending on Keystone API version.\n\nChange-Id: Ifffe5bea246478954f86e803f8038d73f039eaf8\n'}]",2,804368,8f6d13b7ed4d8b0835afa0d4a0beb18c05adc16f,21,9,3,9816,,,0,"Compute HA: Remove version discovery of keystone API

Keystone removed its v2 API a long ago and now it provides v3 API only.
Thus we no longer need any logic depending on Keystone API version.

Change-Id: Ifffe5bea246478954f86e803f8038d73f039eaf8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/804368/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/check-run-nova-compute'],1,eaa6cd13b68fdb9922da95f70b4fd0c7d4fbcddc,," project_name=options[""project_name""][0] user_domain_name=options[""user_domain_name""][0] project_domain_name=options[""project_domain_name""][0]"," from keystoneclient import discover keystone_versions = discover.available_versions(options[""auth_url""][0]) keystone_version = keystone_versions[0]['id'][1:] if discover.version_match(""2"", keystone_version): kwargs[""tenant_name""] = options[""tenant_name""][0] elif discover.version_match(""3"", keystone_version): kwargs[""project_name""] = options[""project_name""][0] kwargs[""user_domain_name""] = options[""user_domain_name""][0] kwargs[""project_domain_name""] = options[""project_domain_name""][0] ",3,11
openstack%2Fnova~master~I8775565081960cd6445e94011c5796250c87ed6b,openstack/nova,master,I8775565081960cd6445e94011c5796250c87ed6b,api: Remove various legacy extension prefixes,ABANDONED,2021-08-06 14:08:13.000000000,2021-08-19 11:11:19.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 14:08:13.000000000', 'files': ['nova/api/openstack/compute/helpers.py', 'nova/policies/extended_server_attributes.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/schemas/flavor_manage.py', 'nova/api/openstack/compute/views/addresses.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/874826aad1deaa3b0302eccac9d77e3f6c4f4a0c', 'message': ""api: Remove various legacy extension prefixes\n\nMultiple APIs accept and return field with prefixes like\n'OS-FLV-EXT-DATA'. These prefixes are a hangover from the days before\nmicroversions, when nova's API supported extensions. They no longer make\nmuch sense and can and should be dropped. Start doing this now. Given we\ndon't actually bump the max API microversion, much of what's added here\nis effectively dead code and not easily testable via functional tests\nbut (a) we'll address that in future patches and (b) we have existing\ntests to ensure we haven't broken the existing behavior.\n\nWhile we're here, we move around some calls in the view code to get\nthings in the order of the microversion that added them.\n\nChange-Id: I8775565081960cd6445e94011c5796250c87ed6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nBlueprint: configurable-instance-hostnames\n""}]",0,803756,874826aad1deaa3b0302eccac9d77e3f6c4f4a0c,7,2,1,15334,,,0,"api: Remove various legacy extension prefixes

Multiple APIs accept and return field with prefixes like
'OS-FLV-EXT-DATA'. These prefixes are a hangover from the days before
microversions, when nova's API supported extensions. They no longer make
much sense and can and should be dropped. Start doing this now. Given we
don't actually bump the max API microversion, much of what's added here
is effectively dead code and not easily testable via functional tests
but (a) we'll address that in future patches and (b) we have existing
tests to ensure we haven't broken the existing behavior.

While we're here, we move around some calls in the view code to get
things in the order of the microversion that added them.

Change-Id: I8775565081960cd6445e94011c5796250c87ed6b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Blueprint: configurable-instance-hostnames
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/803756/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/helpers.py', 'nova/policies/extended_server_attributes.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/schemas/flavor_manage.py', 'nova/api/openstack/compute/views/addresses.py', 'nova/api/openstack/compute/servers.py']",10,874826aad1deaa3b0302eccac9d77e3f6c4f4a0c,bp/configurable-instance-hostnames," @validation.query_schema(schema_servers.query_params_v289, '2.89') @validation.query_schema(schema_servers.query_params_v275, '2.75', '2.88') @validation.query_schema(schema_servers.query_params_v289, '2.89') @validation.query_schema(schema_servers.query_params_v275, '2.75', '2.88') @validation.schema(schema_servers.create_v274, '2.74', '2.88') @validation.schema(schema_servers.create_v289, '2.89') if not api_version_request.is_supported(req, min_version='2.89'): if 'os:scheduler_hints' in body: scheduler_hints = body['os:scheduler_hints'] elif 'OS-SCH-HNT:scheduler_hints' in body: scheduler_hints = body['OS-SCH-HNT:scheduler_hints'] else: scheduler_hints = body.get('scheduler_hints', {}) @validation.schema(schema_servers.update_v219, '2.19', '2.88') @validation.schema(schema_servers.update_v289, '2.89') @validation.schema(schema_servers.resize, '2.0', '2.88') @validation.schema(schema_servers.resize_v289, '2.89') @validation.schema(schema_servers.rebuild_v263, '2.63', '2.88') @validation.schema(schema_servers.rebuild_v289, '2.89')"," @validation.query_schema(schema_servers.query_params_v275, '2.75') @validation.query_schema(schema_servers.query_params_v275, '2.75') @validation.schema(schema_servers.create_v274, '2.74') if 'os:scheduler_hints' in body: scheduler_hints = body['os:scheduler_hints'] elif 'OS-SCH-HNT:scheduler_hints' in body: scheduler_hints = body['OS-SCH-HNT:scheduler_hints'] @validation.schema(schema_servers.update_v219, '2.19') @validation.schema(schema_servers.resize) @validation.schema(schema_servers.rebuild_v263, '2.63')",461,155
openstack%2Fnova~master~I8079a40c53141390605a87b5b6f951c8fafe478a,openstack/nova,master,I8079a40c53141390605a87b5b6f951c8fafe478a,api-ref: Update docs for microversion 2.89,ABANDONED,2021-08-06 14:08:13.000000000,2021-08-19 11:11:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 14:08:13.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/servers-actions.inc', 'api-ref/source/flavors.inc', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ee0ddb4a542a19fc82380400c5ef802ec8bb1fb', 'message': 'api-ref: Update docs for microversion 2.89\n\nChange-Id: I8079a40c53141390605a87b5b6f951c8fafe478a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,803758,1ee0ddb4a542a19fc82380400c5ef802ec8bb1fb,4,1,1,15334,,,0,"api-ref: Update docs for microversion 2.89

Change-Id: I8079a40c53141390605a87b5b6f951c8fafe478a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/803758/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/servers-actions.inc', 'api-ref/source/flavors.inc', 'api-ref/source/servers.inc']",4,1ee0ddb4a542a19fc82380400c5ef802ec8bb1fb,bp/configurable-instance-hostnames," - hostname: server_hostname_reqFor each server, shows server details including config drive, extended server status, and server usage information. The extended server status information appears in the ``vm_state``, ``power_state`` and ``task_state`` attributes (``OS-EXT-STS:vm_state``, ``OS-EXT-STS:power_state``, and ``OS-EXT-STS:task_state`` attributes prior to API microversion 2.89) The server usage information appears in the ``launched_at`` and ``terminated_at`` attributes (``OS-SRV-USG:launched_at`` and ``OS-SRV-USG:terminated_at`` attributes prior to API microversion 2.89).. note:: Starting with microversion 2.69 if server details cannot be loaded `handling down cells`__ section of the Compute API guide for more information on the keys that would be returned in the partial constructs. .. __: https://docs.openstack.org/api-guide/compute/down_cells.html - availability_zone: server_availability_zone_2_89 - host: server_host_2_89 - hypervisor_hostname: server_hypervisor_hostname_2_89 - instance_name: server_instance_name_2_89 - hostname: server_hostname_2_89 - reservation_id: server_reservation_id_2_89 - launch_index: server_launch_index_2_89 - kernel_id: server_kernel_id_2_89 - ramdisk_id: server_ramdisk_id_2_89 - root_device_name: server_root_device_name_2_89 - user_data: server_user_data_2_89 - power_state: server_power_state_2_89 - task_state: server_task_state_2_89 - vm_state: server_vm_state_2_89 - volumes_attached: server_volumes_attached_2_89 - volumes_attached.id: server_volumes_attached.id - volumes_attached.delete_on_termination: server_volumes_attached.delete_on_termination - launched_at: server_launched_at_2_89 - terminated_at: server_terminated_at_2_89Includes server details including configuration drive, extended server status, and server usage information. The extended server status information appears in the ``vm_state``, ``power_state`` and ``task_state`` attributes (``OS-EXT-STS:vm_state``, ``OS-EXT-STS:power_state``, and ``OS-EXT-STS:task_state`` attributes prior to API microversion 2.89) The server usage information appears in the ``launched_at`` and ``terminated_at`` attributes (``OS-SRV-USG:launched_at`` and ``OS-SRV-USG:terminated_at`` attributes prior to API microversion 2.89) ``HostId`` is unique per account and is not globally unique. `handling down cells``__ section of the Compute API guide for more information on the keys that would be returned in the partial constructs. .. __: https://docs.openstack.org/api-guide/compute/down_cells.html - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data - availability_zone: server_availability_zone_2_89 - host: server_host_2_89 - hypervisor_hostname: server_hypervisor_hostname_2_89 - instance_name: server_instance_name_2_89 - hostname: server_hostname_2_89 - reservation_id: server_reservation_id_2_89 - launch_index: server_launch_index_2_89 - kernel_id: server_kernel_id_2_89 - ramdisk_id: server_ramdisk_id_2_89 - root_device_name: server_root_device_name_2_89 - user_data: server_user_data_2_89 - power_state: server_power_state_2_89 - task_state: server_task_state_2_89 - vm_state: server_vm_state_2_89 - volumes_attached: server_volumes_attached_2_89 - volumes_attached.id: server_volumes_attached.id - volumes_attached.delete_on_termination: server_volumes_attached.delete_on_termination - launched_at: server_launched_at_2_89 - terminated_at: server_terminated_at_2_89 - hostname: server_hostname_req.. note:: You can specify parameters to update independently. e.g. ``name`` only, ``description`` only, ``name`` and ``description``, etc. - availability_zone: server_availability_zone_update_rebuild_2_89 - host: server_host_update_rebuild_2_89 - hypervisor_hostname: server_hypervisor_hostname_update_rebuild_2_89 - instance_name: server_instance_name_update_rebuild_2_89 - power_state: server_power_state_update_rebuild_2_89 - task_state: server_task_state_update_rebuild_2_89 - vm_state: server_vm_state_update_rebuild_2_89 - hostname: server_hostname_update_rebuild_2_89 - reservation_id: server_reservation_id_update_rebuild_2_89 - launch_index: server_launch_index_update_rebuild_2_89 - kernel_id: server_kernel_id_update_rebuild_2_89 - ramdisk_id: server_ramdisk_id_update_rebuild_2_89 - root_device_name: server_root_device_name_update_rebuild_2_89 - user_data: server_user_data_update_2_89 - volumes_attached: server_volumes_attached_update_rebuild_2_89 - volumes_attached.id: server_volumes_attached.id_update_rebuild - volumes_attached.delete_on_termination: server_volumes_attached.delete_on_termination_update_rebuild - launched_at: server_launched_at_update_rebuild_2_89 - terminated_at: server_terminated_at_update_rebuild_2_89","For each server, shows server details including config drive, extended status, and server usage information. The extended status information appears in the OS-EXT-STS:vm_state, OS-EXT-STS:power_state, and OS-EXT-STS:task_state attributes. The server usage information appears in the OS-SRV-USG:launched_at and OS-SRV-USG:terminated_at attributes... note:: Starting with microversion 2.69 if server details cannot be loaded `handling down cells <https://docs.openstack.org/api-guide/compute/down_cells.html>`__ section of the Compute API guide for more information on the keys that would be returned in the partial constructs.Includes server details including configuration drive, extended status, and server usage information. The extended status information appears in the ``OS-EXT-STS:vm_state``, ``OS-EXT-STS:power_state``, and ``OS-EXT-STS:task_state`` attributes. The server usage information appears in the ``OS-SRV-USG:launched_at`` and ``OS-SRV-USG:terminated_at`` attributes. HostId is unique per account and is not globally unique. `handling down cells <https://docs.openstack.org/api-guide/compute/down_cells.html>`__ section of the Compute API guide for more information on the keys that would be returned in the partial constructs. - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data.. note:: You can specify parameters to update independently. e.g. ``name`` only, ``description`` only, ``name`` and ``description``, etc.",372,198
openstack%2Foslo.db~master~I8629225eeb51d95264d8a3e4b719268bb1597f4f,openstack/oslo.db,master,I8629225eeb51d95264d8a3e4b719268bb1597f4f,requirements: Bump sqlalchemy lower constraint,MERGED,2021-08-16 11:26:26.000000000,2021-08-19 11:03:19.000000000,2021-08-19 11:02:01.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 11:26:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ad4729d69a6d4d74f27c24852f0e5674dd62c9a9', 'message': ""requirements: Bump sqlalchemy lower constraint\n\nWe've started using sqlalchemy features that were introduced in 1.4,\nwhich means we need to bump our lower constraint. Do this now.\n\nAt some point, we probably want to dump all lower-constraint information\nfrom these files since it's no longer maintainable without the\nequivalent job. That's a task left to later, however.\n\nChange-Id: I8629225eeb51d95264d8a3e4b719268bb1597f4f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,804705,ad4729d69a6d4d74f27c24852f0e5674dd62c9a9,8,3,1,15334,,,0,"requirements: Bump sqlalchemy lower constraint

We've started using sqlalchemy features that were introduced in 1.4,
which means we need to bump our lower constraint. Do this now.

At some point, we probably want to dump all lower-constraint information
from these files since it's no longer maintainable without the
equivalent job. That's a task left to later, however.

Change-Id: I8629225eeb51d95264d8a3e4b719268bb1597f4f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/05/804705/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ad4729d69a6d4d74f27c24852f0e5674dd62c9a9,sqlalchemy-20,SQLAlchemy>=1.4.0 # MIT,SQLAlchemy>=1.2.0 # MIT,1,1
openstack%2Fglance_store~stable%2Fvictoria~Ifaa4d39047a183c48a31ccb41e22534e1fc654a4,openstack/glance_store,stable/victoria,Ifaa4d39047a183c48a31ccb41e22534e1fc654a4,[DNM] Test lower constraints trigger,ABANDONED,2021-08-17 08:27:25.000000000,2021-08-19 10:58:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-08-17 08:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a2370425a212185058d7eeced1eb98f92ea0711c', 'message': '[DNM] Test lower constraints trigger\n\nChange-Id: Ifaa4d39047a183c48a31ccb41e22534e1fc654a4\n'}, {'number': 2, 'created': '2021-08-17 08:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ff3504d007a49dbae2b3425a74515c33dfddad79', 'message': '[DNM] Test lower constraints trigger\n\nChange-Id: Ifaa4d39047a183c48a31ccb41e22534e1fc654a4\n'}, {'number': 3, 'created': '2021-08-17 08:47:16.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a24a7f051d628da2b9c8df06faa01f8419889ba4', 'message': '[DNM] Test lower constraints trigger\n\nChange-Id: Ifaa4d39047a183c48a31ccb41e22534e1fc654a4\n'}]",0,804833,a24a7f051d628da2b9c8df06faa01f8419889ba4,7,2,3,13861,,,0,"[DNM] Test lower constraints trigger

Change-Id: Ifaa4d39047a183c48a31ccb41e22534e1fc654a4
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/33/804833/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",3,a2370425a212185058d7eeced1eb98f92ea0711c,dnm," side_effect=fake_factory) as fake_conn_obj: fake_conn_obj.assert_called_once_with( mock.ANY, root_helper, conn=mock.ANY, use_multipath=multipath_supported)", side_effect=fake_factory):,9,3
openstack%2Fopenstack-ansible~master~I13903aed7863d311cf7bc7f7784222785608b3dc,openstack/openstack-ansible,master,I13903aed7863d311cf7bc7f7784222785608b3dc,Add guide for distribution upgrades to docs,MERGED,2021-08-17 13:19:44.000000000,2021-08-19 10:56:42.000000000,2021-08-19 10:54:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-17 13:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/02ab36d302418444c2699a1fc3ec5dc05ba98eb1', 'message': 'Add guide for distribution upgrades to docs\n\nThis builds upon a guide which was only included in the docs for\nthe rocky release.\n\nThis has been tested against two deployments running the victoria\nrelease with ubuntu bionic, moving to ubuntu focal.\n\nChange-Id: I13903aed7863d311cf7bc7f7784222785608b3dc\n'}, {'number': 2, 'created': '2021-08-18 10:51:59.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e48485b83d1fece5018debb89bb3048c0c323cd3', 'message': 'Add guide for distribution upgrades to docs\n\nThis builds upon a guide which was only included in the docs for\nthe rocky release.\n\nThis has been tested against two deployments running the victoria\nrelease with ubuntu bionic, moving to ubuntu focal.\n\nChange-Id: I13903aed7863d311cf7bc7f7784222785608b3dc\n'}]",0,804875,e48485b83d1fece5018debb89bb3048c0c323cd3,12,3,2,31542,,,0,"Add guide for distribution upgrades to docs

This builds upon a guide which was only included in the docs for
the rocky release.

This has been tested against two deployments running the victoria
release with ubuntu bionic, moving to ubuntu focal.

Change-Id: I13903aed7863d311cf7bc7f7784222785608b3dc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/804875/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst']",2,02ab36d302418444c2699a1fc3ec5dc05ba98eb1,,"===================== Distribution upgrades ===================== This guide provides information about upgrading from one distribution release to the next. .. note:: This guide was written when upgrading from Ubuntu Bionic to Focal during the Victoria release cycle. Introduction ============ OpenStack Ansible supports operating system distribution upgrades during specific release cycles. These can be observed by consulting the operating system compatibility matrix, and identifying where two versions of the same operating system are supported. Upgrades should be performed in the order specified in this guide to minimise the risk of service interruptions. Upgrades must also be carried out by performing a fresh installation of the target system's operating system, before running openstack-ansible to install services on this host. Ordering ======== This guide includes a suggested order for carrying out upgrades. This may need to be adapted dependent on the extent to which you have customised your OpenStack Ansible deployment. Critically, it is important to consider when you upgrade 'repo' hosts/containers. At least one 'repo' host should be upgraded before you upgrade any API hosts/containers. The last 'repo' host to be upgraded should be the 'primary', and should not be carried out until after the final service which does not support '--limit' is upgraded. If this order is adapted, it will be necessary to restore some files to the 'repo' host from a backup part-way through the process. This will be necessary if no 'repo' hosts remain which run the older operating system version, which prevents older packages from being built. Beyond these requirements, a suggested order for upgrades is a follows: #. Infrastructure services (Galera, RabbitMQ, APIs, HAProxy) #. In all cases, secondary or backup instance should be upgraded first #. Compute nodes #. Network nodes Pre-Requisites ============== #. Ensure that all hosts in your target deployment have been installed and configured using a matching version of OpenStack Ansible. Ideally perform a minor upgrade to the latest version of the OpenStack release cycle which you are currently running first in order to reduce the risk of encountering bugs. #. Check any OpenStack Ansible variables which you customise to ensure that they take into account the new and old operating system version (for example custom package repositories and version pinning). #. Perform backups of critical data, in particular the galera database in case of any failures. It is also recommended to back up the '/var/www/repo' directory on the primary 'repo' host in case it needs to be restored mid-upgrade. #. Identify your ""primary"" haproxy/galera/rabbitmq/repo infrastructure host In a ""simple"" 3 infrastructure hosts setup, these services/containers usually end up being all on the the same host. The ""primary"" will be the LAST box you'll want to reinstall. #. haproxy/keepalived Finding your haproxy/keepalived primary is as easy as .. code:: console ssh {{ external_lb_vip_address }} Or preferably if you've installed haproxy with stats, like so; .. code-block:: yaml haproxy_stats_enabled: true haproxy_stats_bind_address: ""{{ external_lb_vip_address }}"" and can visit https://admin:password@external_lb_vip_address:1936/ and read ""Statistics Report for pid # on infrastructure_host #. repo_container Check all your repo_containers and look for /etc/lsyncd/lsyncd.conf.lua Warnings ======== #. During the upgrade process, some OpenStack services cannot be deployed by using Ansible's '--limit'. As such, it will be necessary to deploy some services to mixed operating system versions at the same time. The following services are known to lack support for '--limit': * RabbitMQ * Repo Server * Keystone #. In the same way as OpenStack Ansible major (and some minor) upgrades, there will be brief interruptions to the entire galera and rabbitmq clusters during the upgrade which will result in brief service interruptions. #. When taking down 'memcached' instances for upgrades you may encounter performance issues with the APIs. Deploying Infrastructure Hosts ============================== #. Drain RabbitMQ connections (optional) In order to cleanly hand over connections from one member of the RabbitMQ cluster to another, the instance being reinstalled should be drained. This can be achieved by running the following from the instance to be reinstalled and waiting for the RabbitMQ admin interface to indicate that socket descriptors have reduced to zero. .. code:: console rabbitmq-upgrade drain #. Disable HAProxy back ends (optional) If you wish to minimise error states in HAProxy, services on hosts which are being reinstalled can be set in maintenance mode (MAINT). Log into your primary haproxy/keepalived and run something similar to .. code:: console echo ""disable server repo_all-back/<infrahost>_repo_container-<hash>"" | socat /var/run/haproxy.stat stdio for each API or service instance you wish to disable. Or if you've enabled haproxy_stats as described above, you can visit https://admin:password@external_lb_vip_address:1936/ and select them and ""Set state to MAINT"" #. Reinstall an infrastructure host's operating system As noted above, this should be carried out for non-primaries first, ideally starting with a 'repo' host. #. Clearing out stale information #. Removing stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. If rabbitmq was running on this host We forget it by running these commands on another rabbitmq host. .. code:: console rabbitmqctl cluster_status rabbitmqctl forget_cluster_node rabbit@removed_host_rabbitmq_container #. If it's not a ""primary"", install everything on the new host .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* (* because we need to include containers in the limit) #. If it IS a ""primary"", do these steps .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* Temporarily set your primary galera in MAINT in haproxy .. code:: console openstack-ansible galera-install.yml --limit localhost,reinstalled_host* Note that at this point, the Ansible role will have taken the primary galera out of MAINT in HAProxy. You may wish to temporarily put it back into MAINT until you are sure it is working correctly. You'll now have mariadb running, but it's not synced info from the non-primaries. To fix this we ssh to the primary galera, and restart the mariadb.service and verify everything is in order. .. code:: console systemctl restart mariadb.service mysql mysql> SHOW STATUS LIKE ""wsrep_cluster_%""; mysql> SHOW DATABASES; Everything should be sync'ed and in order now. You can take your primary galera from MAINT to READY We can move on to rabbitmq primary .. code:: console openstack-ansible rabbitmq-install.yml The rabbitmq primary will also be in a cluster of it's own. You will need to fix this by running these commands on the primary. .. code:: console rabbitmqctl stop_app rabbitmqctl join_cluster rabbit@some_operational_rabbitmq_container rabbitmqctl start_app rabbitmqctl cluster_status Everything should now be in a working state and we can finish it off with .. code:: console openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* #. Adjust HAProxy status If HAProxy was set into MAINT mode, this can now be removed for services which have been restored. For the 'repo' host, it is important that the freshly installed hosts are set to READY in HAProxy, and any which remain on the old operating system are set to 'MAINT'. Deploying Compute & Network Hosts ================================= #. Disable the hypervisor service on compute hosts and migrate any VMs to another available hypervisor. #. Reinstall a host's operating system #. Clear out stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. Execute the following: .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,reinstalled_host* (* because we need to include containers in the limit) .. note:: During this upgrade cycle it was noted that network nodes required a restart to bring some tenant interfaces online after running setup-openstack. Additionally, BGP speakers (used for IPv6) had to be re-initialised from the command line. These steps were necessary before reinstalling further network nodes to prevent HA Router interruptions. ",,274,0
openstack%2Fcharm-rabbitmq-server~master~I96aa8c4061aed47eb2e844d1bec44fafd379ac25,openstack/charm-rabbitmq-server,master,I96aa8c4061aed47eb2e844d1bec44fafd379ac25,Add config parameters to tune mnesia settings,MERGED,2020-04-01 20:59:00.000000000,2021-08-19 10:47:58.000000000,2021-08-19 09:14:09.000000000,"[{'_account_id': 2276}, {'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-04-01 20:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fa63f70564af3553d8b1f12e04ec949ffd2e80ba', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2020-04-01 21:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/56ced85d66ab94aad3381f7a97c94bc973736b6d', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2020-04-01 23:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/863d81852bfbe9ea00f3bebd925396862c688c04', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 4, 'created': '2020-05-11 16:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/7dfebada3fd0b3883676684b5c988652f7371a17', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 5, 'created': '2020-05-28 15:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1d169ebc6835bd8d372c2fd950ef5365358c2e91', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 6, 'created': '2020-05-29 18:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/8968a05dde3687066e2b0213b51532dc8d876434', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 7, 'created': '2020-06-08 20:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/b9a10b1c5b3e0358deae0a250c1d5733fe2357e2', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file.\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 8, 'created': '2020-06-11 14:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/906d8a716b1336ec8d3d92071ebb59beaf356216', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file [1].\n\n[1] https://www.rabbitmq.com/configure.html#config-items\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 9, 'created': '2020-06-11 14:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/92a734eed547c6ea9813cfdef4b05fe69bcc4aee', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file [1].\n\n[1] https://www.rabbitmq.com/configure.html#config-items\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 10, 'created': '2020-07-19 21:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6f0bf1b20b0e78326df42ca7aadacad3cfcfded5', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file [1].\n\n[1] https://www.rabbitmq.com/configure.html#config-items\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 11, 'created': '2021-08-16 10:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ae663d6e03e45aa28cc5a3121ca04d01a7397dcf', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file [1].\n\n[1] https://www.rabbitmq.com/configure.html#config-items\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nCo-authored-by: Nicolas Bock <nicolas.bock@canonical.com>\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 12, 'created': '2021-08-16 13:43:25.000000000', 'files': ['unit_tests/test_rabbitmq_context.py', 'config.yaml', 'templates/rabbitmq.config', 'hooks/rabbitmq_context.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/8015d9a365410efa5ef6d952ed33364b1679c0ef', 'message': 'Add config parameters to tune mnesia settings\n\nWhen a RabbitMQ cluster is restarted, the mnesia settings determine\nhow long and how often each broker will try to connect to the cluster\nbefore giving up. It might be useful for an operator to be able to\ntune these parameters. This change adds two settings,\n`mnesia-table-loading-retry-timeout` and\n`mnesia-table-loading-retry-limit`, which set these parameters in the\nrabbitmq.config file [1].\n\n[1] https://www.rabbitmq.com/configure.html#config-items\n\nChange-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25\nPartial-Bug: #1828988\nRelated-Bug: #1874075\nCo-authored-by: Nicolas Bock <nicolas.bock@canonical.com>\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",22,716776,8015d9a365410efa5ef6d952ed33364b1679c0ef,76,9,12,19298,,,0,"Add config parameters to tune mnesia settings

When a RabbitMQ cluster is restarted, the mnesia settings determine
how long and how often each broker will try to connect to the cluster
before giving up. It might be useful for an operator to be able to
tune these parameters. This change adds two settings,
`mnesia-table-loading-retry-timeout` and
`mnesia-table-loading-retry-limit`, which set these parameters in the
rabbitmq.config file [1].

[1] https://www.rabbitmq.com/configure.html#config-items

Change-Id: I96aa8c4061aed47eb2e844d1bec44fafd379ac25
Partial-Bug: #1828988
Related-Bug: #1874075
Co-authored-by: Nicolas Bock <nicolas.bock@canonical.com>
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/76/716776/6 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'templates/rabbitmq.config', 'hooks/rabbitmq_context.py']",3,fa63f70564af3553d8b1f12e04ec949ffd2e80ba,mnesia," config('cluster-partition-handling'), 'mnesia_table_loading_retry_timeout': config('mnesia-table-loading-retry-timeout'), 'mnesia_table_loading_retry_limit': config('mnesia-table-loading-retry-limit')}", config('cluster-partition-handling')},17,4
openstack%2Fglance~master~Ib2a7a2ed8bcadbb6a002cfa4b34c70910faa4f00,openstack/glance,master,Ib2a7a2ed8bcadbb6a002cfa4b34c70910faa4f00,Suppress policy deprecation and default change warnings,MERGED,2021-08-18 15:48:13.000000000,2021-08-19 10:37:19.000000000,2021-08-19 02:28:21.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 15:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/33c9c2ec08f3bb5d794541b9204cafb5676e4b43', 'message': 'Suppress policy deprecation and default change warnings\n\nAs part of the new policy work, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults.\n\nThis also suppresses policy deprecation warnings during tests to avoid\nfilling the console with warning messages.\n\nChange-Id: Ib2a7a2ed8bcadbb6a002cfa4b34c70910faa4f00\n'}, {'number': 2, 'created': '2021-08-18 16:13:00.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/tests/unit/test_policy.py', 'glance/tests/unit/common/test_property_utils.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/api/policy.py', 'glance/tests/functional/v2/test_metadef_namespace_api_policy.py', 'glance/tests/unit/api/test_property_protections.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/v2/test_member_api_policy.py', 'glance/tests/functional/v2/test_metadef_object_api_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4b094df5cbed7becbead2eff50c13663537cdc3a', 'message': 'Suppress policy deprecation and default change warnings\n\nAs part of the new policy work, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults.\n\nThis also suppresses policy deprecation warnings during tests to avoid\nfilling the console with warning messages.\n\nChange-Id: Ib2a7a2ed8bcadbb6a002cfa4b34c70910faa4f00\n'}]",3,805049,4b094df5cbed7becbead2eff50c13663537cdc3a,17,3,2,8556,,,0,"Suppress policy deprecation and default change warnings

As part of the new policy work, all of the defaults for
policies were changed and warnings about it are being emitted
constantly in the logs. We can suppress these for now until we are
enforcing new defaults.

This also suppresses policy deprecation warnings during tests to avoid
filling the console with warning messages.

Change-Id: Ib2a7a2ed8bcadbb6a002cfa4b34c70910faa4f00
",git fetch https://review.opendev.org/openstack/glance refs/changes/49/805049/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/tests/unit/test_policy.py', 'glance/tests/unit/common/test_property_utils.py', 'glance/api/policy.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/functional/v2/test_metadef_namespace_api_policy.py', 'glance/tests/unit/api/test_property_protections.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/v2/test_metadef_object_api_policy.py']",9,33c9c2ec08f3bb5d794541b9204cafb5676e4b43,fix-oslo-policy-warnings, self.policy = policy.Enforcer(suppress_deprecation_warnings=True), self.policy = policy.Enforcer(),89,43
openstack%2Foslo.config~master~Ifbf6f52a312929ac07154db8eeee976b0ab0d46a,openstack/oslo.config,master,Ifbf6f52a312929ac07154db8eeee976b0ab0d46a,Fix tests for Python3.,MERGED,2021-08-19 00:42:48.000000000,2021-08-19 10:30:44.000000000,2021-08-19 10:29:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 00:42:48.000000000', 'files': ['oslo_config/tests/test_cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/88c831cfadfe99d6fa75d5dfcd5a871f7d8c7a38', 'message': 'Fix tests for Python3.\n\nChange-Id: Ifbf6f52a312929ac07154db8eeee976b0ab0d46a\n'}]",0,805090,88c831cfadfe99d6fa75d5dfcd5a871f7d8c7a38,7,2,1,8122,,,0,"Fix tests for Python3.

Change-Id: Ifbf6f52a312929ac07154db8eeee976b0ab0d46a
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/90/805090/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_cfg.py'],1,88c831cfadfe99d6fa75d5dfcd5a871f7d8c7a38,python3," # argparse may generate two different help messages: # - In Python >=3.10: ""options:\n --version"" # - In Python <3.10: ""optional arguments:"" self.assertRegex(f.getvalue(), 'option(s|al arguments):') # argparse may generate two different help messages: # - In Python >=3.10: ""options:\n --version"" # - In Python <3.10: ""optional arguments:"" self.assertRegex(f.getvalue(), 'option(s|al arguments):')"," self.assertIn('optional', f.getvalue()) self.assertIn('optional', f.getvalue())",8,2
openstack%2Ftripleo-repos~master~I28c84544d0e9c51269b05c85dc60e9e722204815,openstack/tripleo-repos,master,I28c84544d0e9c51269b05c85dc60e9e722204815,Adopt use of pip-compile,ABANDONED,2021-06-18 15:18:47.000000000,2021-08-19 10:28:32.000000000,,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-06-18 15:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2c86cf4003bc97fa61e90f523cd03481806a8b7a', 'message': 'Adopt use of pip-compile\n\nChange-Id: I28c84544d0e9c51269b05c85dc60e9e722204815\nStory: TRIPLEOCI-512\n'}, {'number': 2, 'created': '2021-06-18 15:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e5040f124ceb270c9a063937255cafca362b08b0', 'message': 'Adopt use of pip-compile\n\nChange-Id: I28c84544d0e9c51269b05c85dc60e9e722204815\nStory: TRIPLEOCI-512\n'}, {'number': 3, 'created': '2021-06-18 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/bf137b5f1aa82d4b7772d9bceac4f5ddca424060', 'message': 'Adopt use of pip-compile\n\nChange-Id: I28c84544d0e9c51269b05c85dc60e9e722204815\nStory: TRIPLEOCI-512\n'}, {'number': 4, 'created': '2021-06-18 15:54:00.000000000', 'files': ['constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/cf72caea276495ddf1e02066356df9c735deaa86', 'message': 'Adopt use of pip-compile\n\nChange-Id: I28c84544d0e9c51269b05c85dc60e9e722204815\nStory: TRIPLEOCI-512\n'}]",0,797125,cf72caea276495ddf1e02066356df9c735deaa86,11,4,4,24162,,,0,"Adopt use of pip-compile

Change-Id: I28c84544d0e9c51269b05c85dc60e9e722204815
Story: TRIPLEOCI-512
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/25/797125/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'test-requirements.in', 'doc/requirements.in', 'tox.ini']",4,2c86cf4003bc97fa61e90f523cd03481806a8b7a,pip-compile,"[testenv:deps] description = Bump all test dependencies basepython = python3 deps = pre-commit>=2.6.0 pip-tools>=5.4.0 setuptools>=51.1.1 skip_install = true commands = pip-compile --upgrade --header=""To update run: tox -e deps"" --output-file=test-requirements.txt setup.py test-requirements.in pip-compile --upgrade --header=""To update run: tox -e deps"" --output-file=doc/requirements.txt setup.py docs/requirements.in {envpython} -m pre_commit run {posargs:--all-files --hook-stage manual -v} ",,147,15
openstack%2Ftripleo-quickstart~master~I1e7478d8613675e938aed93baaafe3b764923d3c,openstack/tripleo-quickstart,master,I1e7478d8613675e938aed93baaafe3b764923d3c,WIP: pip-compile,ABANDONED,2021-06-24 13:15:41.000000000,2021-08-19 10:28:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 13:15:41.000000000', 'files': ['constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bba170ea55aa0086820a723681ed851e9886ab07', 'message': 'WIP: pip-compile\n\nChange-Id: I1e7478d8613675e938aed93baaafe3b764923d3c\n'}]",0,797901,bba170ea55aa0086820a723681ed851e9886ab07,5,2,1,24162,,,0,"WIP: pip-compile

Change-Id: I1e7478d8613675e938aed93baaafe3b764923d3c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/01/797901/1 && git format-patch -1 --stdout FETCH_HEAD,"['constraints.txt', 'tox.ini']",2,bba170ea55aa0086820a723681ed851e9886ab07,pip-compile,"; install_command = {envpython} -m pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} PIP_CONSTRAINT={env:PIP_CONSTRAINT:{toxinidir}/constraints.txt}[testenv:deps] description = Bump all test dependencies basepython = python3 deps = pre-commit>=2.6.0 pip-tools>=5.4.0 setuptools>=51.1.1 setenv = PIP_CONSTRAINT=/dev/null skip_install = true commands = # keep in mind that we cannot use git deps, only pypi.org ones! pip-compile --upgrade --output-file=constraints.txt --pip-args ""-c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}"" setup.py test-requirements.txt requirements.txt molecule-requirements.txt setenv = PIP_CONSTRAINT=/dev/null",install_command = {envpython} -m pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},436,1
openstack%2Fpython-tripleoclient~master~I5b88d81e8231eab0bc6f5f3b95b248321321e799,openstack/python-tripleoclient,master,I5b88d81e8231eab0bc6f5f3b95b248321321e799,"Revert ""Workaround py36 encoding pip bug""",ABANDONED,2021-08-19 05:21:44.000000000,2021-08-19 10:27:49.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-19 05:21:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2a0cc57fb42386b4536aac5a1660dab90df2143', 'message': 'Revert ""Workaround py36 encoding pip bug""\n\nThis reverts commit 377c081f40446e38f3672946d0207811c8bb77eb.\n\nSince https://github.com/tox-dev/tox/commit/bb609f5acfc580588925367b00533bf808e9d4c1 got merged\n\nChange-Id: I5b88d81e8231eab0bc6f5f3b95b248321321e799\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890\n'}]",0,805009,a2a0cc57fb42386b4536aac5a1660dab90df2143,4,5,1,12393,,,0,"Revert ""Workaround py36 encoding pip bug""

This reverts commit 377c081f40446e38f3672946d0207811c8bb77eb.

Since https://github.com/tox-dev/tox/commit/bb609f5acfc580588925367b00533bf808e9d4c1 got merged

Change-Id: I5b88d81e8231eab0bc6f5f3b95b248321321e799
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/805009/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a2a0cc57fb42386b4536aac5a1660dab90df2143,pip-py36,"envlist = pep8,py37,py36 VIRTUAL_ENV={envdir} LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=C HOME={envdir} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt oslotest {[testenv]deps} HOME={env:HOME:/home/stack} oslo-config-generator --config-file config-generator/undercloud.conf oslo-config-generator --config-file config-generator/standalone.conf oslo-config-generator --config-file config-generator/minion.conf","envlist = pep8,py LANG LANGUAGE LC_* HOME={envdir} # https://github.com/pypa/pip/issues/10219#issuecomment-900898020 LC_ALL={env:LC_ALL:en_US.UTF-8} VIRTUAL_ENV={envdir} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt oslotest {[testenv]deps} HOME={env:HOME:/home/stack} oslo-config-generator --config-file config-generator/undercloud.conf oslo-config-generator --config-file config-generator/standalone.conf oslo-config-generator --config-file config-generator/minion.conf",15,17
openstack%2Fnova~master~Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f,openstack/nova,master,Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f,smartnic support - create arqs,MERGED,2020-10-21 05:59:59.000000000,2021-08-19 10:06:26.000000000,2021-08-19 10:04:28.000000000,"[{'_account_id': 5754}, {'_account_id': 7543}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28748}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-21 05:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/888f3dafa85803db7d80ca551959f24dc518dd5b', 'message': 'Cyborg backend port device support\n\nI,e  SRIOV supported by Cyborg.\n\nSteps to use Cyborg backend port device as SRIOV device:\n\n1) create device profile:\n   export GRP=""[{\\""resources:CUSTOM_NIC\\"":\\""1\\"",\\""trait:CUSTOM_GTPV1\\"":\\""required\\"",\n   \\""trait:CUSTOM_PHYSNET1\\"":\\""required\\""}]""\n   openstack accelerator device profile create SRIOV_NIC $GRP\n\n2) create port with Cyborg backend device and set vnic type to\n   direct:\n   neutron port-create public --name test\\\n                     --port-backend=SRIOV_NIC --vnic-type=direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nMajor code flow summary is the following:\n\n1) On API stage, port backend device profile, ""SRIOV_NIC"" is used to\n   create an ARQ by the interaction with Cyborg. And saved the ARQ uuid\n   to request_net object.\n\n2) While the instance\'s all request is fulfilled, i.e, after query\n   Placement schedule to a host which could provides the device, Nova\n   updates the ARQ binding info to Cyborg.\n\n3) On host (n-cpu), while updating the neutron port binding info, device\n   info is retrieved from Cyborg.\n\n4) In the libvirt scope, with the correct binding info the specified PCI\n   devices will appear in the instance via SRIOV passthrough.\n\nDetailed information refers to spec.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nSigned-off-By: Yongli He <yongli.he@intel.com>\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 2, 'created': '2021-01-19 07:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7bc7939b11ad356ee6a91e7d8ebc4c61065d9ed', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 3, 'created': '2021-01-21 07:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a2656809b4281d062f6f7d73cb5a0bb75a21d27', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 4, 'created': '2021-01-25 07:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/494541c2fae9b29df1f8c66a3b859b1155989ba7', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 5, 'created': '2021-01-29 07:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddadee01d7caba1921ca0f704f89f6ba3d95d667', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 6, 'created': '2021-02-04 08:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36980908448cc7188043f14a5223050279602748', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 7, 'created': '2021-02-09 06:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c81420ca5b801112a009048afb6d820e35f6692', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 8, 'created': '2021-02-19 07:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94e0fc34e620e32be8ed95a3c2210d94ff23a9c7', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 9, 'created': '2021-02-23 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/339f7872ac75a632351c5d02fd6c9be3e260d0b4', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 10, 'created': '2021-02-25 06:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d985eb3b2e819f221ce2d4b6ef33bffc99a56cc', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 11, 'created': '2021-02-25 08:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60ba1e57423f21e8161b35b12b843f2787a19aff', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 12, 'created': '2021-02-26 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1e44a45bd90a878275b15cd00b424bee40f4180', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 13, 'created': '2021-03-02 07:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dd7a01030fa61a48fa4f89f6af2f9acea2550d9', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelorator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to create an ARQ.\n   And saved the ARQ UUID to NetworkRequest.\n\n2) After schedule instance come to a host, Nova updates the ARQ binding info\n   to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 14, 'created': '2021-03-02 07:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1353c6e4b957196b0f6222021f701787b91de56b', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 15, 'created': '2021-03-02 08:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9172a838451ea1240477c6ee7410d4005736a374', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 16, 'created': '2021-03-04 07:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b277db3d80f1f2ced960d6051e036edb9df9efe', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 17, 'created': '2021-03-05 04:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24eaaec0e613d493ff2b5c216b6c32c2848a81e0', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 18, 'created': '2021-03-05 07:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49ff31cce5940d810e507d90189ed924de720f9c', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 19, 'created': '2021-03-10 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75d0ff7b1e856f2d21f2828b069a6c28d5b96205', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 20, 'created': '2021-03-11 08:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db2d8b8b98bfc7f1143bbdc90d299f026791d075', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 21, 'created': '2021-03-30 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fdb44d7624d6bb66c66902fe197afc9902ff9c6', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 22, 'created': '2021-05-14 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d37908b79e5db865f1db45e0beecde93920c55a', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 23, 'created': '2021-05-20 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bddbe50a6f8ac4cb1482bc6939d777fa4ad32c5b', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 24, 'created': '2021-05-21 08:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3806c46eaae568ddc5bc7f15c9a94383f3cd75fc', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 25, 'created': '2021-06-02 06:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8de6fc8e11d06af3fc3fa671cd5e404998fb1d0', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 26, 'created': '2021-06-08 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf96123ff73cffb27c2adf6814773d276d0c891b', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 27, 'created': '2021-06-09 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b733f79931303e28acef3f17cd08abee4bf0b1d1', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 28, 'created': '2021-06-11 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a51a98a1697c9303f90297050be46f2daa90d46', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 29, 'created': '2021-06-15 02:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6ab3c1b0bb3e893f7fff065dea25b05a5b0f737', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 30, 'created': '2021-06-17 07:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5ed8d6b7f803f1f2b013f0571c86728cec91b0', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 31, 'created': '2021-06-17 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbf0a7597a8b7f409e18b167c58d6dfc277f2e8b', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 32, 'created': '2021-06-18 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e105348400aa52ecd2ee0c5c290c3803229385e2', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 33, 'created': '2021-06-21 01:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52e5266f5e945aced6a7c3a7e3ae8b35382c4499', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 34, 'created': '2021-06-21 05:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c21f9aa32b52084a972f86b17a0d97585871b8a0', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 35, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/298ffa998e68ecf7a6abcf20c76f9ca6cd3d3380', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 36, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8eefae2b850710f2d426c94db52c8afbaffe1bb', 'message': 'smartnic support\n\nSteps to boot a Cyborg managed smartnic device:\n\n1) create device profile:\n2) create port with Cyborg backend device and set vnic type:\n   neutron port-create public --name test\\\n                     --device-profile=SMART_NIC --vnic-type=accelerator-direct\n\n3) boot instance with specified port with backend device:\n   nova boot test --flavor <flavor name> --image <image name>\\\n               --nic port-id=<port-id>\n\nCode flow summary:\n\n1) On API stage, device profile ""SMART_NIC"" is used to get schedule profile.\n\n2) After schedule instance come to a host, Conductor create ARQ and updates\n   the ARQ binding info to Cyborg.\n\n3) Compute also updating the port binding info by the device info retrieved\n   from Cyborg.\n\n4) The virt drive passthrough the PCI devices to VM.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 37, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8b6a8649dfdc6bfea67dd7c55c1d60626c8b37a', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 38, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/464bb51cdc278f6cca6c5e6ce73847c2d57e738b', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 39, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/399b30b451c50e018a29da99b781cbc6e0598906', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 40, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74ed95b44b5d40df0f529db9b54b32fa1574208d', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 41, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77be35a9d15ba91c7fdab753b805b9c545b98592', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 42, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f59d196dac7a8a60edbfff486f0555a8e495b19b', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 43, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ad2e152292b0626834c48bf2a2a80b8d06283cd', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 44, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2fe6603fda82fc7d76c2d57f90e94600827e055', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 45, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85830ec19e78edc8d4ef4a5c8d75ddba5c8beec4', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 46, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e476f512c5246f1823e4efc5e9076c8d535ed527', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 47, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b90c828d7046fed166e41576ec2806d13c4f78ec', 'message': 'smartnic support - create arqs\n\ncreate arqs for port with device profile:\n\n    - On API stage, device profile is used to get schedule infomations.\n\n    - After schedule instance come to a host, Conductor create ARQ and updates\n      the ARQ binding info to Cyborg.\n\nImplements: blueprint sriov-smartnic-support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324\nDepends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/758942\n\nChange-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}]",292,758944,b90c828d7046fed166e41576ec2806d13c4f78ec,342,16,47,7543,,,0,"smartnic support - create arqs

create arqs for port with device profile:

    - On API stage, device profile is used to get schedule infomations.

    - After schedule instance come to a host, Conductor create ARQ and updates
      the ARQ binding info to Cyborg.

Implements: blueprint sriov-smartnic-support

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/768324
Depends-On: https://review.opendev.org/q/topic:%22bug%252F1906602%22+
Depends-On: https://review.opendev.org/c/openstack/cyborg/+/758942

Change-Id: Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f
Co-Authored-By: Shaohe Feng <shaohe.feng@intel.com>
Co-Authored-By: Xinran Wang <xin-ran.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/758944/25 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'nova/objects/network_request.py', 'nova/conductor/manager.py', 'nova/accelerator/cyborg.py']",4,888f3dafa85803db7d80ca551959f24dc518dd5b,bp/sriov-smartnic-support," def create_arqs_and_match_resource_providers( self, dp_name, rg_rp_map=None): if not rg_rp_map: # device profile of port don't have rp map before scehdule return arqs def get_arq_device_rp_uuid(self, arq_uuid, rg_rp_map): """"""Conductor query the ARP by uuid saved in request_net """""" arq = self.get_arq(arq_uuid) dp_group_id = arq['device_profile_group_id'] requester_id = ( get_device_profile_group_requester_id(dp_group_id)) return rg_rp_map[requester_id][0] def get_arq(self, arq_uuid): """"""Get ARQs by uuid. The format of the returned data structure is as below: {'uuid': $arq_uuid, 'device_profile_name': $dp_name, 'device_profile_group_id': $dp_request_group_index, 'state': 'Bound', 'device_rp_uuid': $resource_provider_uuid, 'hostname': $host_nodename, 'instance_uuid': $instance_uuid, 'attach_handle_info': { # PCI bdf 'bus': '0c', 'device': '0', 'domain': '0000', 'function': '0'}, 'attach_handle_type': 'PCI' # or 'TEST_PCI' for Cyborg fake driver } :raises: AcceleratorRequestOpFailed """""" resp, err_msg = self._call_cyborg(self._client.get, ""/"".join([self.ARQ_URL, arq_uuid])) if err_msg: err_msg = err_msg + _(' ARQ: %s') % arq_uuid raise exception.AcceleratorRequestOpFailed( op=_('get'), msg=err_msg) arq = resp.json() if not arq: err_msg = _(""Cyborg can't find accelerator requests for "" ""'ARQ %s"") % arq_uuid raise exception.AcceleratorRequestOpFailed( op=_('get'), msg=err_msg) return arq "," def create_arqs_and_match_resource_providers(self, dp_name, rg_rp_map):",244,37
openstack%2Fkolla~master~I06d4cb37735aa6eb71d5e836e0050490c401b3a0,openstack/kolla,master,I06d4cb37735aa6eb71d5e836e0050490c401b3a0,[release] Use UCA Xena,MERGED,2021-08-11 15:45:26.000000000,2021-08-19 10:05:31.000000000,2021-08-19 10:04:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-11 15:45:26.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/17848d49a2b0424085daeb2778e141c498ae66a7', 'message': '[release] Use UCA Xena\n\nChange-Id: I06d4cb37735aa6eb71d5e836e0050490c401b3a0\n'}]",0,804268,17848d49a2b0424085daeb2778e141c498ae66a7,13,4,1,15197,,,0,"[release] Use UCA Xena

Change-Id: I06d4cb37735aa6eb71d5e836e0050490c401b3a0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/804268/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu']",2,17848d49a2b0424085daeb2778e141c498ae66a7,binary-images-xena-ubuntu,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/xena main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/wallaby main,2,2
openstack%2Fmasakari-monitors~master~I111cc93939ae4cd2e878e7f863c1a45db51cdbbe,openstack/masakari-monitors,master,I111cc93939ae4cd2e878e7f863c1a45db51cdbbe,Use some better linting,MERGED,2021-08-17 18:04:48.000000000,2021-08-19 09:31:12.000000000,2021-08-19 09:26:34.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28619}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 18:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/c7b8cacb33931a5ad8141cbca9a9b62e82d3119f', 'message': 'Use some better linting\n\nLints docs and yaml files in addition to Python.\n\nThis also fixes the encountered issues.\n\nChange-Id: I111cc93939ae4cd2e878e7f863c1a45db51cdbbe\n'}, {'number': 2, 'created': '2021-08-17 18:22:36.000000000', 'files': ['.yamllint', '.zuul.yaml', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/18c79eb0ca696b0cbac1b08df022e2f85c361ae1', 'message': 'Use some better linting\n\nLints docs and yaml files in addition to Python.\n\nThis also fixes the encountered issues.\n\nChange-Id: I111cc93939ae4cd2e878e7f863c1a45db51cdbbe\n'}]",0,804906,18c79eb0ca696b0cbac1b08df022e2f85c361ae1,13,4,2,30491,,,0,"Use some better linting

Lints docs and yaml files in addition to Python.

This also fixes the encountered issues.

Change-Id: I111cc93939ae4cd2e878e7f863c1a45db51cdbbe
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/06/804906/1 && git format-patch -1 --stdout FETCH_HEAD,"['.yamllint', 'test-requirements.txt', '.zuul.yaml', 'tox.ini', 'HACKING.rst']",5,c7b8cacb33931a5ad8141cbca9a9b62e82d3119f,better-linting,---------------------------------------,------------------------------,54,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0162a0ab86689933f5935af6ee9e343bca6e8c54,openstack/python-tripleoclient,stable/wallaby,I0162a0ab86689933f5935af6ee9e343bca6e8c54,Fix get_deployment_status() for ephemeral heat,MERGED,2021-08-16 07:55:58.000000000,2021-08-19 09:24:52.000000000,2021-08-19 09:23:12.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-16 07:55:58.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06184adb7a880be1f855554c45f51d070c7dd72b', 'message': 'Fix get_deployment_status() for ephemeral heat\n\nWith ephemeral heat there would be no stack, so there is no point\nchecking for it.\n\nChange-Id: I0162a0ab86689933f5935af6ee9e343bca6e8c54\n(cherry picked from commit 0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830)\n'}]",0,804445,06184adb7a880be1f855554c45f51d070c7dd72b,14,3,1,8833,,,0,"Fix get_deployment_status() for ephemeral heat

With ephemeral heat there would be no stack, so there is no point
checking for it.

Change-Id: I0162a0ab86689933f5935af6ee9e343bca6e8c54
(cherry picked from commit 0cde1bff4d101e9d5dc9657b1cf4f95bb89f6830)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/804445/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,06184adb7a880be1f855554c45f51d070c7dd72b,,,from heatclient import exc as heat_exc try: clients.orchestration.stacks.get(stack_name) except heat_exc.HTTPNotFound: return None ,0,7
openstack%2Fkolla-ansible~master~I374f7427a4318d00ca474367818117e11789ec13,openstack/kolla-ansible,master,I374f7427a4318d00ca474367818117e11789ec13,tools: use /usr/bin/env bash instead of /bin/bash,MERGED,2021-08-17 12:31:08.000000000,2021-08-19 09:24:28.000000000,2021-08-19 09:22:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 12:31:08.000000000', 'files': ['tools/loc', 'tools/ovs-dpdkctl.sh', 'tools/diag', 'tools/init-runonce', 'tools/validate-docker-execute.sh', 'tools/cleanup-images', 'tools/cleanup-containers', 'tools/run-bashate.sh', 'tools/pre-commit-hook', 'tools/validate-all-yaml.sh', 'tools/cleanup-host', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/839ec629bf634864268b2ec876f5edbdcb237ce0', 'message': ""tools: use /usr/bin/env bash instead of /bin/bash\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nChange-Id: I374f7427a4318d00ca474367818117e11789ec13\n""}]",1,804872,839ec629bf634864268b2ec876f5edbdcb237ce0,9,3,1,32842,,,0,"tools: use /usr/bin/env bash instead of /bin/bash

Signed-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>
Change-Id: I374f7427a4318d00ca474367818117e11789ec13
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/804872/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/loc', 'tools/ovs-dpdkctl.sh', 'tools/diag', 'tools/init-runonce', 'tools/validate-docker-execute.sh', 'tools/cleanup-images', 'tools/cleanup-containers', 'tools/run-bashate.sh', 'tools/pre-commit-hook', 'tools/validate-all-yaml.sh', 'tools/cleanup-host', 'tools/kolla-ansible']",12,839ec629bf634864268b2ec876f5edbdcb237ce0,tools-generic-shebang,#!/usr/bin/env bash,#!/bin/bash,12,12
openstack%2Fpython-tripleoclient~master~I3a154dbedd115d121bfc826513141c2d8be98508,openstack/python-tripleoclient,master,I3a154dbedd115d121bfc826513141c2d8be98508,Fetch stack after updating it,MERGED,2021-08-16 10:13:47.000000000,2021-08-19 09:19:01.000000000,2021-08-19 09:17:29.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-16 10:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9b8398b93eafff0dffe0ba274df9c6bfd52f18ea', 'message': 'Fetch stack after updating it\n\nWe update the stack assuming that there would be no change\nduring upgrades. This does not allow blacklisting nodes\nduring upgrades.\n\nChange-Id: I3a154dbedd115d121bfc826513141c2d8be98508\n'}, {'number': 2, 'created': '2021-08-16 10:16:25.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7dd1f6e26fa1e6ed587896a7ad2131397eb45024', 'message': ""Fetch stack after updating it\n\nWe update the stack assuming that there would be no change\nduring upgrades. This does not allow blacklisting nodes\nduring upgrades.\n\nThis probably won't be relevant for master/wallaby with\nephemeral heat. Only proposed for backport to older branches.\n\nChange-Id: I3a154dbedd115d121bfc826513141c2d8be98508\n""}]",0,804689,7dd1f6e26fa1e6ed587896a7ad2131397eb45024,15,4,2,8833,,,0,"Fetch stack after updating it

We update the stack assuming that there would be no change
during upgrades. This does not allow blacklisting nodes
during upgrades.

This probably won't be relevant for master/wallaby with
ephemeral heat. Only proposed for backport to older branches.

Change-Id: I3a154dbedd115d121bfc826513141c2d8be98508
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/804689/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,9b8398b93eafff0dffe0ba274df9c6bfd52f18ea,," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name"," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name ",3,5
openstack%2Fkolla~master~I7d4788f5b63fba24e3b2f9b15c16866ff811d83e,openstack/kolla,master,I7d4788f5b63fba24e3b2f9b15c16866ff811d83e,Always use the distro-provided libvirt-python,MERGED,2021-08-18 09:51:22.000000000,2021-08-19 09:18:48.000000000,2021-08-19 09:15:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-18 09:51:22.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/72fcc0f8ef382f4118d6a901d0ef8bba445716a0', 'message': 'Always use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\nChange-Id: I7d4788f5b63fba24e3b2f9b15c16866ff811d83e\n'}]",0,804978,72fcc0f8ef382f4118d6a901d0ef8bba445716a0,19,4,1,30491,,,0,"Always use the distro-provided libvirt-python

This patch switches masakari-monitors image to follow nova-compute
and ceilometer-compute images.
This will be used and required after [1] merges.
Usage of libvirt-python from PyPI has already proven to be
problematic on CentOS Stream in our stable branches. [2]
With this patch we avoid those issues as well.

[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913
[2] https://review.opendev.org/c/openstack/kolla/+/797102

Depends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913
Change-Id: I7d4788f5b63fba24e3b2f9b15c16866ff811d83e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/804978/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,72fcc0f8ef382f4118d6a901d0ef8bba445716a0,masakari-monitors-libvirt," 'python3-libvirt', 'python3-libvirt',"," 'libvirt-devel', 'libvirt-dev',",2,2
openstack%2Fkolla~master~I614548b43de316d86bd53cec5e6b563204f9eff0,openstack/kolla,master,I614548b43de316d86bd53cec5e6b563204f9eff0,Add some system users to fix user uid inconsistencies,MERGED,2021-07-28 09:13:48.000000000,2021-08-19 09:17:32.000000000,2021-08-19 09:15:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-07-28 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/86589330f47806c2ce2239d58b6c85db6ce7edc9', 'message': 'Add hacluster system user in haclient group\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images while using debian-binary images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 2, 'created': '2021-07-28 09:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a86027c21b0b4ec13e2484f1f102e9633d24e9f8', 'message': 'Add hacluster system user in haclient group\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images while using debian-binary images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 3, 'created': '2021-07-28 11:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f2a24d058cd57ff8001797b6c9ed357035556c2', 'message': 'Add some system users to fix user uuid inconsistencies\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 4, 'created': '2021-07-28 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd811969cbddb2ffad1d62d53005ed7d319a05ca', 'message': 'Add some system users to fix user uuid inconsistencies\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 5, 'created': '2021-07-29 10:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf0a5080d002ddf4e92ac56323b0b1fdea734e29', 'message': 'Add some system users to fix user uuid inconsistencies\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 6, 'created': '2021-07-29 10:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8527d8b49b3f3f24b04079d1d79f4c981da0248a', 'message': 'Add some system users to fix user uuid inconsistencies\n\nThis patch is fixing user uuids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 7, 'created': '2021-08-05 12:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2432c3ff525d0e5413381b4857f242a8cbb376c4', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 8, 'created': '2021-08-05 13:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c08fea45aef324e0341fa173a8ed248024032da', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 9, 'created': '2021-08-05 13:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f12ed352ea31544cadd0520b6829bd1e3da6a200', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 10, 'created': '2021-08-05 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d1245f9156cbc05dd5181d52d4778fccabed307', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}, {'number': 11, 'created': '2021-08-05 15:05:44.000000000', 'files': ['releasenotes/notes/bug-1934753-98ec4951a0f7373b.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0799569109007beb6c24dce1ee906c7c8779a560', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n'}]",5,802671,0799569109007beb6c24dce1ee906c7c8779a560,44,5,11,27339,,,0,"Add some system users to fix user uid inconsistencies

This patch is fixing user uids inconsistency between
base and openstack-base images.

Closes-Bug: #1934753
Change-Id: I614548b43de316d86bd53cec5e6b563204f9eff0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/802671/9 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,86589330f47806c2ce2239d58b6c85db6ce7edc9,bug/1934753," }, 'hacluster-user': { 'uid': 42486, 'gid': 42486, 'group': 'haclient',",,5,0
openstack%2Fkolla-ansible~master~I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,openstack/kolla-ansible,master,I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,Fix haproxy precheck when kolla_externally_managed_cert is used,MERGED,2021-08-16 17:43:30.000000000,2021-08-19 09:17:27.000000000,2021-08-19 09:15:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32712}]","[{'number': 1, 'created': '2021-08-16 17:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e82e5520c447e0f751dfbb3c7f5d1a1f0885b1d', 'message': ""Fix haproxy precheck when kolla_externally_managed_cert is used\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nChange-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4\n""}, {'number': 2, 'created': '2021-08-17 12:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d64f599bae3be656cb2b6ca15c94941e6b373bfa', 'message': ""Fix haproxy precheck when kolla_externally_managed_cert is used\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nChange-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4\n""}, {'number': 3, 'created': '2021-08-17 12:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a99cfb589a3e23da280332f41a15c6a5b017f33f', 'message': ""Fix haproxy precheck when kolla_externally_managed_cert is used\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nCloses-Bug: #1940286\nChange-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4\n""}, {'number': 4, 'created': '2021-08-18 14:07:32.000000000', 'files': ['releasenotes/notes/fix-haproxy-precheck-with-externally-managed-cert-1c5faa980aaf8949.yaml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0858d5487e0cb2928278ee2fac66e8ad661b3f32', 'message': ""Fix haproxy precheck when kolla_externally_managed_cert is used\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nCloses-Bug: #1940286\nChange-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4\n""}]",2,804793,0858d5487e0cb2928278ee2fac66e8ad661b3f32,23,5,4,32842,,,0,"Fix haproxy precheck when kolla_externally_managed_cert is used

Signed-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>
Closes-Bug: #1940286
Change-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/804793/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/precheck.yml'],1,1e82e5520c447e0f751dfbb3c7f5d1a1f0885b1d,haproxy-precheck-fix-externally-manager-cert,, - not kolla_externally_managed_cert | bool - not kolla_externally_managed_cert | bool,0,2
openstack%2Fmasakari-dashboard~master~If31afc57bb6fe23d2ae9b081b81519cdb4539ad9,openstack/masakari-dashboard,master,If31afc57bb6fe23d2ae9b081b81519cdb4539ad9,[CI] Run bandit,MERGED,2021-05-18 11:15:39.000000000,2021-08-19 09:05:49.000000000,2021-08-19 09:01:19.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 11:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/124c3dfa9336d3ed65dec921a66b97e1c1fc94bc', 'message': '[CI] Run bandit\n\nChange-Id: If31afc57bb6fe23d2ae9b081b81519cdb4539ad9\n'}, {'number': 2, 'created': '2021-08-17 07:19:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/610116b00fa3c6818dd2f3afe5c82987846a7374', 'message': '[CI] Run bandit\n\nChange-Id: If31afc57bb6fe23d2ae9b081b81519cdb4539ad9\n'}]",0,791922,610116b00fa3c6818dd2f3afe5c82987846a7374,11,3,2,30491,,,0,"[CI] Run bandit

Change-Id: If31afc57bb6fe23d2ae9b081b81519cdb4539ad9
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/22/791922/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,124c3dfa9336d3ed65dec921a66b97e1c1fc94bc,ci-run-bandit,[testenv:linters] skip_install = True deps = {[testenv:pep8]deps} {[testenv:bandit]deps} commands = {[testenv:pep8]commands} {[testenv:bandit]commands} skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} hacking commands = flake8 {posargs} [testenv:bandit] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} bandit commands = bandit -r masakaridashboard,commands = flake8 {posargs},29,1
openstack%2Fpython-masakariclient~master~Ifde285f3c59910325e12ee1d7e33b69270ba6309,openstack/python-masakariclient,master,Ifde285f3c59910325e12ee1d7e33b69270ba6309,[CI] Run bandit,MERGED,2021-05-18 11:20:53.000000000,2021-08-19 09:05:25.000000000,2021-08-19 08:58:41.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 11:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/5fb98f7e8f3c1e4160bc397f15432dd467541fa7', 'message': '[CI] Run bandit\n\nChange-Id: Ifde285f3c59910325e12ee1d7e33b69270ba6309\n'}, {'number': 2, 'created': '2021-08-17 07:18:44.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/30eff27dd908a12d5f2fb5adfd73df19ec5ef806', 'message': '[CI] Run bandit\n\nChange-Id: Ifde285f3c59910325e12ee1d7e33b69270ba6309\n'}]",0,791924,30eff27dd908a12d5f2fb5adfd73df19ec5ef806,11,3,2,30491,,,0,"[CI] Run bandit

Change-Id: Ifde285f3c59910325e12ee1d7e33b69270ba6309
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/24/791924/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,5fb98f7e8f3c1e4160bc397f15432dd467541fa7,ci-run-bandit,[testenv:linters] skip_install = True deps = {[testenv:pep8]deps} {[testenv:bandit]deps} commands = {[testenv:pep8]commands} {[testenv:bandit]commands} skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} hacking commands = flake8 {posargs} [testenv:bandit] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} bandit commands = bandit -r masakariclient,commands = flake8 {posargs},29,1
openstack%2Fmasakari-monitors~master~I78e2baa51a523ef4e8b76a5f7b2ad5cda1085b8a,openstack/masakari-monitors,master,I78e2baa51a523ef4e8b76a5f7b2ad5cda1085b8a,Generate PDF documentation,MERGED,2019-10-03 09:33:10.000000000,2021-08-19 08:49:50.000000000,2021-08-19 08:48:19.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-03 09:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a07967bfba7e5404e5ec58bcf3e9f6449672da91', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: I78e2baa51a523ef4e8b76a5f7b2ad5cda1085b8a\n""}, {'number': 2, 'created': '2021-08-17 17:48:08.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/80ee534f4084180b5769ec2083c902613a0457b7', 'message': 'Generate PDF documentation\n\nFor PDFLaTeX, remove the irrelevant parts (contributing,\nsearch).\n\nChange-Id: I78e2baa51a523ef4e8b76a5f7b2ad5cda1085b8a\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,686364,80ee534f4084180b5769ec2083c902613a0457b7,14,3,2,26490,,,0,"Generate PDF documentation

For PDFLaTeX, remove the irrelevant parts (contributing,
search).

Change-Id: I78e2baa51a523ef4e8b76a5f7b2ad5cda1085b8a
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/64/686364/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,a07967bfba7e5404e5ec58bcf3e9f6449672da91,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,22,3
openstack%2Ftripleo-quickstart~master~Id10132bdb6f999a3384359c6cbee3b144530ed48,openstack/tripleo-quickstart,master,Id10132bdb6f999a3384359c6cbee3b144530ed48,Add back collections_paths in ansible.cfg,MERGED,2021-08-18 07:03:56.000000000,2021-08-19 08:32:03.000000000,2021-08-19 08:28:05.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-18 07:03:56.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/50d9a3d7b1ee65f8fe019341b30a7f1c1aa0185e', 'message': 'Add back collections_paths in ansible.cfg\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801776\nremoved the collections_paths path from ansible.cfg which broke\nci.centos promotion job.\n\nSince tripleo-operator-ansible is installed in venv in ci.centos\njobs and in order to discover that, we need the collections_path\npointing to venv in ansible.cfg.\n\nDue to removal the job broke, adding it back to fix the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id10132bdb6f999a3384359c6cbee3b144530ed48\n'}]",0,804955,50d9a3d7b1ee65f8fe019341b30a7f1c1aa0185e,19,8,1,12393,,,0,"Add back collections_paths in ansible.cfg

https://review.opendev.org/c/openstack/tripleo-quickstart/+/801776
removed the collections_paths path from ansible.cfg which broke
ci.centos promotion job.

Since tripleo-operator-ansible is installed in venv in ci.centos
jobs and in order to discover that, we need the collections_path
pointing to venv in ansible.cfg.

Due to removal the job broke, adding it back to fix the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Id10132bdb6f999a3384359c6cbee3b144530ed48
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/55/804955/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,50d9a3d7b1ee65f8fe019341b30a7f1c1aa0185e,fix_collection,collections_paths = collections:$VIRTUAL_ENV/share/ansible/collections:/usr/share/ansible/collections,,1,0
openstack%2Ftripleo-ci~master~I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30,openstack/tripleo-ci,master,I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30,Add standalone scenario000 job definition,MERGED,2021-07-07 15:55:54.000000000,2021-08-19 08:28:07.000000000,2021-08-19 08:28:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-07 15:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f664914aac1c3cdfea58f6e3beb735478ad1b18', 'message': 'WIP: Add standalone scenario000 job\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 2, 'created': '2021-07-07 16:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a7d982bb2b3cffe95bef41881405bd10162f0e57', 'message': 'WIP: Add standalone scenario000 job\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 3, 'created': '2021-07-07 18:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/35f772523ec66ffdd5997f78e62d3eb94c6be719', 'message': 'WIP: Add standalone scenario000 job\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 4, 'created': '2021-07-07 21:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cbe8f88207c9d7d6e80710137fe854f05e098d33', 'message': 'WIP: Add standalone scenario000 job\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 5, 'created': '2021-07-08 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbe471bcbaade0a72fc0a260b09418ae87d3a9c8', 'message': 'Add standalone scenario000 job definition\n\nAdding job and job-*-options definitions\nfor standalone scenario000 for use in\nperiodic jobs and dependency pipelines.\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 6, 'created': '2021-07-08 15:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8aa644f88e046469ffc761d8df49e56a90677533', 'message': 'Add standalone scenario000 job definition\n\nAdding job and job-*-options definitions\nfor standalone scenario000 for use in\nperiodic jobs and dependency pipelines.\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}, {'number': 7, 'created': '2021-08-13 14:29:24.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/12d28a3062724ba10dffd5dfb45de8292d990a9d', 'message': 'Add standalone scenario000 job definition\n\nAdding job and job-*-options definitions\nfor standalone scenario000 for use in\nperiodic jobs and dependency pipelines.\n\nChange-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30\n'}]",3,799859,12d28a3062724ba10dffd5dfb45de8292d990a9d,31,7,7,9976,,,0,"Add standalone scenario000 job definition

Adding job and job-*-options definitions
for standalone scenario000 for use in
periodic jobs and dependency pipelines.

Change-Id: I4a7ba76ee0e644d519fb64d7ebf212b1d4955d30
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/799859/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,1f664914aac1c3cdfea58f6e3beb735478ad1b18,scenario000-standalone," - tripleo-ci-centos-8-scenario000-standalone: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider name: tripleo-ci-centos-8-scenario000-standalone voting: true parent: tripleo-ci-base-standalone-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|stein|ussuri|victoria)).*$ - job: name: tripleo-ci-centos-8-scenario000-standalone-options vars: featureset: '052' standalone_ceph: true featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario001-standalone.yaml' tempest_services: - keystone tempest_run_concurrency: 1 tempest_tempest_conf_overrides: 'telemetry.alarm_granularity': '60' 'auth.tempest_roles': ""Member"" tempest_test_whitelist: - 'keystone_tempest_plugin.tests.api.identity.v3' - job: - 'ci/environments/scenario000-standalone.yaml'", standalone_ceph: true - 'ci/environments/scenario001-standalone.yaml',33,2
openstack%2Fkayobe-config~stable%2Fvictoria~I7301b2b4b08cf6264a187b571988589051b59723,openstack/kayobe-config,stable/victoria,I7301b2b4b08cf6264a187b571988589051b59723,Synchronise with latest kayobe for victoria,MERGED,2021-08-03 15:03:06.000000000,2021-08-19 08:19:52.000000000,2021-08-19 08:19:52.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-08-03 15:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/8f4ea1e2eb541efa82ac249e7be2115b3c0ad7dc', 'message': 'Synchronise with latest kayobe for victoria\n\nSynchronised with kayobe @ 011f6783a08bc967516bd1484b69c2e3a59ace0f\n\nChange-Id: I7301b2b4b08cf6264a187b571988589051b59723\n'}, {'number': 2, 'created': '2021-08-03 15:06:47.000000000', 'files': ['etc/kayobe/bifrost.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/de1b143f057cc230b3a20ecd6b229315586f52b3', 'message': 'Synchronise with latest kayobe for victoria\n\nSynchronised with kayobe @ 90f07dce6acc0c5569d8f77bb2466aa234f0abb1\n\nChange-Id: I7301b2b4b08cf6264a187b571988589051b59723\n'}]",0,803361,de1b143f057cc230b3a20ecd6b229315586f52b3,10,4,2,15197,,,0,"Synchronise with latest kayobe for victoria

Synchronised with kayobe @ 90f07dce6acc0c5569d8f77bb2466aa234f0abb1

Change-Id: I7301b2b4b08cf6264a187b571988589051b59723
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/61/803361/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/seed-vm.yml']",3,8f4ea1e2eb541efa82ac249e7be2115b3c0ad7dc,,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.4.2105-20210603.0.x86_64.qcow2"".","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".",35,7
openstack%2Fcyborg-tempest-plugin~master~Id24786a6da309e9e875b78fd368135957b81b9d6,openstack/cyborg-tempest-plugin,master,Id24786a6da309e9e875b78fd368135957b81b9d6,DNM: Testing stable jobs,ABANDONED,2021-08-11 15:24:03.000000000,2021-08-19 08:18:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-11 15:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/68c7ce25225cfc0d65cd865848fd3ccc976dfa43', 'message': 'DNM: Testing stable jobs\n\nChange-Id: Id24786a6da309e9e875b78fd368135957b81b9d6\n'}, {'number': 2, 'created': '2021-08-12 14:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d23b8e6b2f71a5df5cff2c950a22ab18f6021aae', 'message': 'DNM: Testing stable jobs\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/803553\n\nChange-Id: Id24786a6da309e9e875b78fd368135957b81b9d6\n'}, {'number': 3, 'created': '2021-08-13 03:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/c8124421b33e15b1daa5acd97847962a13cbcedc', 'message': 'DNM: Testing stable jobs\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/804469\n\nChange-Id: Id24786a6da309e9e875b78fd368135957b81b9d6\n'}, {'number': 4, 'created': '2021-08-13 09:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/ba4aa4f6d7e2c3b22be7728415b359fe13eebbf3', 'message': 'DNM: Testing stable jobs\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/804506\n\nChange-Id: Id24786a6da309e9e875b78fd368135957b81b9d6\n'}, {'number': 5, 'created': '2021-08-16 08:43:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/618ddb75901c7c123620706a2d14f3b10efed1d5', 'message': 'DNM: Testing stable jobs\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/804446\n\nChange-Id: Id24786a6da309e9e875b78fd368135957b81b9d6\n'}]",0,804261,618ddb75901c7c123620706a2d14f3b10efed1d5,15,4,5,8556,,,0,"DNM: Testing stable jobs

Depends-On: https://review.opendev.org/c/openstack/cyborg/+/804446

Change-Id: Id24786a6da309e9e875b78fd368135957b81b9d6
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/61/804261/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,68c7ce25225cfc0d65cd865848fd3ccc976dfa43,,#test,,1,0
openstack%2Fdevstack~master~Ic44daf15e952bbe3c424984ffb2474261e68008f,openstack/devstack,master,Ic44daf15e952bbe3c424984ffb2474261e68008f,Remove libvirt-python from upper-constraints,MERGED,2021-08-18 15:02:25.000000000,2021-08-19 08:08:03.000000000,2021-08-19 08:06:06.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-18 15:02:25.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b8a4c75b72eb44dd5c11950951cf6e6d9a1d778', 'message': ""Remove libvirt-python from upper-constraints\n\n... when installed from distribution.\n\nThis is mostly to fix Ironic's gate as their ecosystem is too\nbroad and complex to quickly remove libvirt-python from all\npossible requirements.txt\n\nMore details inline.\n\nSee also: https://review.opendev.org/c/openstack/devstack/+/798514\naka f0bf2bdff12b66eefbb2eae83e919611eb7cc76d\n\nChange-Id: Ic44daf15e952bbe3c424984ffb2474261e68008f\n""}]",0,805040,8b8a4c75b72eb44dd5c11950951cf6e6d9a1d778,15,4,1,30491,,,0,"Remove libvirt-python from upper-constraints

... when installed from distribution.

This is mostly to fix Ironic's gate as their ecosystem is too
broad and complex to quickly remove libvirt-python from all
possible requirements.txt

More details inline.

See also: https://review.opendev.org/c/openstack/devstack/+/798514
aka f0bf2bdff12b66eefbb2eae83e919611eb7cc76d

Change-Id: Ic44daf15e952bbe3c424984ffb2474261e68008f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/805040/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,8b8a4c75b72eb44dd5c11950951cf6e6d9a1d778,libvirt-uc-no-more," # NOTE(yoctozepto): The common consensus [1] is that libvirt-python should # be installed from distro packages. However, various projects might be # trying to ensure it is installed using pip AND use upper-constraints # with that, causing pip to try to upgrade it and to fail. # The following line removes libvirt-python from upper-constraints and # avoids the situation described above. Now only if installed packages # explicitly depend on a newer (or, in general, incompatible) libvirt-python # version, will pip try to reinstall it. # [1] https://review.opendev.org/c/openstack/devstack/+/798514 $REQUIREMENTS_DIR/.venv/bin/edit-constraints \ $REQUIREMENTS_DIR/upper-constraints.txt -- libvirt-python",,11,0
openstack%2Fkolla~master~Icea70b26e44c89a33fe1941ebe992428f1312d79,openstack/kolla,master,Icea70b26e44c89a33fe1941ebe992428f1312d79,Add example of switching CentOS binary images to current release,MERGED,2021-08-19 07:17:04.000000000,2021-08-19 08:02:24.000000000,2021-08-19 08:00:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-19 07:17:04.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f0d4daaedafdd7ae00b91e9d797c8a9df3e5abc3', 'message': 'Add example of switching CentOS binary images to current release\n\nChange-Id: Icea70b26e44c89a33fe1941ebe992428f1312d79\n'}]",0,805128,f0d4daaedafdd7ae00b91e9d797c8a9df3e5abc3,8,3,1,15197,,,0,"Add example of switching CentOS binary images to current release

Change-Id: Icea70b26e44c89a33fe1941ebe992428f1312d79
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/805128/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,f0d4daaedafdd7ae00b91e9d797c8a9df3e5abc3,, * example: https://review.opendev.org/c/openstack/kolla/+/804269, * example: TODO,1,1
openstack%2Ftripleo-ansible~master~Idfc734022d40de82f510110ba7a5260a2118cb00,openstack/tripleo-ansible,master,Idfc734022d40de82f510110ba7a5260a2118cb00,Generate Octavia ssh key from the octavia playbook,MERGED,2021-03-30 09:36:19.000000000,2021-08-19 07:47:49.000000000,2021-08-19 07:47:49.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-30 09:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c03ef45831cb9dfedd3c9b106f48e1ef9aac6e32', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 2, 'created': '2021-03-30 10:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75aad5acce90d5302a069f8e77ed3ef3dd03ff05', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 3, 'created': '2021-04-28 07:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9b41987521e8be5fe3197bd66994f7cba303860', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 4, 'created': '2021-04-29 12:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e29119e3806a40b99c80f1ec598be48030a4c27a', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 5, 'created': '2021-04-30 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d44cbdc5623f33012c10eb844bcfa8be95100212', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 6, 'created': '2021-06-22 08:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/613edbaf03579cde2793ff32eda2ce17acce03da', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 7, 'created': '2021-07-13 05:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de7c81a19298f9d32f8a32fae87a2e2a4768e680', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nUnless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,\nthe Octavia ssh key is now automatically generated in the $HOME/.ssh\ndirectory of the user that uses tripleo (DeploymentUser).\n\nDepends-On: https://review.opendev.org/783823\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 8, 'created': '2021-07-13 16:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/155ec176c96db2bddfc5f7f381f3ac637b4f2130', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nUnless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,\nthe Octavia ssh key is now automatically generated in the $HOME/.ssh\ndirectory of the user that uses tripleo (DeploymentUser).\n\nDepends-On: I4f31ddc3392e70cff1187ba8b9511af12df4b063\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 9, 'created': '2021-07-16 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01fadc1d7c9d75808ad4411db5a45f734a7b71b6', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nUnless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,\nthe Octavia ssh key is now automatically generated in the $HOME/.ssh\ndirectory of the user that uses tripleo (DeploymentUser).\n\nDepends-On: I4f31ddc3392e70cff1187ba8b9511af12df4b063\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}, {'number': 10, 'created': '2021-08-11 07:42:03.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9970698c424718cd387f791b085e3d194900ad53', 'message': 'Generate Octavia ssh key from the octavia playbook\n\nUnless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,\nthe Octavia ssh key is now automatically generated in the directory\npointed by the OctaviaAmphoraSshKeyDir parameter (default:\n/etc/octavia/ssh)\n\nDepends-On: I4f31ddc3392e70cff1187ba8b9511af12df4b063\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n'}]",5,783824,9970698c424718cd387f791b085e3d194900ad53,71,7,10,29244,,,0,"Generate Octavia ssh key from the octavia playbook

Unless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,
the Octavia ssh key is now automatically generated in the directory
pointed by the OctaviaAmphoraSshKeyDir parameter (default:
/etc/octavia/ssh)

Depends-On: I4f31ddc3392e70cff1187ba8b9511af12df4b063

Related-bug: #1907112
Change-Id: Idfc734022d40de82f510110ba7a5260a2118cb00
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/783824/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'],1,c03ef45831cb9dfedd3c9b106f48e1ef9aac6e32,bug/1907112,"- name: generate ssh public key for Octavia block: - name: generate ssh key for Octavia openssh_keypair: path: ""{{ ssh_key_dir }}/octavia_id_rsa"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" amp_ssh_key_path_final: ""{{ ssh_key_dir }}/octavia_id_rsa.pub"" vars: # Ensure the destination directory for the Octavia ssh key is set. # Use octavia-files.yaml playbook's inventory dir if it doesn't exist. ssh_key_dir: ""{{ amp_ssh_key_dir|default(inventory_dir) }}""- name: get existing public key fingerprint shell: | openstack keypair show -f value -c fingerprint {{ amp_ssh_key_name }} ignore_errors: yes no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}"" register: os_keypair_results # os_keypair doesn't allow updating a keypair, we need to remove the previous # keypair in case we need to update it. - name: delete previous Octavia ssh key os_keypair: state: absent name: ""{{ amp_ssh_key_name }}"" auth: username: ""{{ auth_username }}"" password: ""{{ auth_password }}"" project_name: ""{{ auth_project_name }}"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" when: - os_keypair_results.stdout != '' - os_keypair_results.stdout != ssh_keygen_results.stdout when: - os_keypair_results.stdout == '' or os_keypair_results.stdout != ssh_keygen_results.stdout","- name: defaulting to public key from undercloud default keypair block: - name: create temp pub key file tempfile: state=file register: ssh_key_tmp_file - name: copy ssh public key content to temp file copy: content=""{{ amp_ssh_key_data }}"" dest=""{{ ssh_key_tmp_file.path }}"" amp_ssh_key_path_final: ""{{ ssh_key_tmp_file.path }}"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}""",38,9
openstack%2Freleases~master~I720f4f2502765f459d24ec8a158a5fa038a65871,openstack/releases,master,I720f4f2502765f459d24ec8a158a5fa038a65871,Release final blazar-nova for Xena,MERGED,2021-08-16 09:19:28.000000000,2021-08-19 07:44:53.000000000,2021-08-19 07:44:53.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c6ad7dfd5fe000f7f6d9607783b1f5a8e677d09f', 'message': 'Release final blazar-nova for Xena\n\nThis proposed a release for blazar-nova to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.2.0..5f7bd6e\n5f7bd6e Add Python3 xena unit tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I720f4f2502765f459d24ec8a158a5fa038a65871\n'}, {'number': 2, 'created': '2021-08-16 15:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c27b3d82b9e5943f4a74bf29ce09c114ac12fe44', 'message': 'Release final blazar-nova for Xena\n\nThis proposed a release for blazar-nova to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.2.0..5f7bd6e\n5f7bd6e Add Python3 xena unit tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I720f4f2502765f459d24ec8a158a5fa038a65871\n'}, {'number': 3, 'created': '2021-08-16 15:21:22.000000000', 'files': ['deliverables/xena/blazar-nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d551dd19cb213760aaf6cf6e9a49a9bafcaf74ab', 'message': 'Release final blazar-nova for Xena\n\nThis proposed a release for blazar-nova to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.2.0..965f178\n965f178 Switch to stestr\n668323a Sync requirements and lower constraints with nova\n5f7bd6e Add Python3 xena unit tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I720f4f2502765f459d24ec8a158a5fa038a65871\n'}]",0,804655,d551dd19cb213760aaf6cf6e9a49a9bafcaf74ab,13,4,3,28522,,,0,"Release final blazar-nova for Xena

This proposed a release for blazar-nova to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.2.0..965f178
965f178 Switch to stestr
668323a Sync requirements and lower constraints with nova
5f7bd6e Add Python3 xena unit tests

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I720f4f2502765f459d24ec8a158a5fa038a65871
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/804655/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/blazar-nova.yaml'],1,c6ad7dfd5fe000f7f6d9607783b1f5a8e677d09f,xena-final-non-client-libs,releases: - version: 2.3.0 projects: - repo: openstack/blazar-nova hash: 5f7bd6eea5f737f2bfbfea7d114f8e4ee99c04d2,,5,0
openstack%2Fsushy-oem-idrac~master~If1669e7a666d0897557bc96554a2e403b2ccecf8,openstack/sushy-oem-idrac,master,If1669e7a666d0897557bc96554a2e403b2ccecf8,Add RAID clear foreign config method,MERGED,2021-07-08 15:19:29.000000000,2021-08-19 07:44:45.000000000,2021-08-19 07:44:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-08 15:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c4060bd1980fa9b346d9e81574343da8f0c9d99e', 'message': 'Add RAID clear foreign config method\n\nChange-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8\n'}, {'number': 2, 'created': '2021-08-05 09:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/398fa994fe0761addefcf28661a5054b489b4821', 'message': 'Add RAID clear foreign config method\n\nChange-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8\n'}, {'number': 3, 'created': '2021-08-06 10:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/870f186d501ed1977512e16f08a227b50162e5a3', 'message': 'Add RAID clear foreign config method\n\nChange-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8\n'}, {'number': 4, 'created': '2021-08-12 10:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/d0091cc818b366b785900bb94fa415853ff90b87', 'message': 'Add RAID clear foreign config method\n\nChange-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8\n'}, {'number': 5, 'created': '2021-08-17 14:31:32.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_system.py', 'sushy_oem_idrac/resources/system/system.py', 'sushy_oem_idrac/constants.py', 'sushy_oem_idrac/tests/unit/test_raid_service.py', 'sushy_oem_idrac/resources/system/raid_service.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c63e28113ad218d6a6befe3e4dcc0813c4254c30', 'message': 'Add RAID clear foreign config method\n\nChange-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8\n'}]",8,800071,c63e28113ad218d6a6befe3e4dcc0813c4254c30,18,3,5,27909,,,0,"Add RAID clear foreign config method

Change-Id: If1669e7a666d0897557bc96554a2e403b2ccecf8
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/71/800071/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/constants.py', 'sushy_oem_idrac/tests/unit/test_raid_service.py', 'sushy_oem_idrac/resources/system/raid_service.py']",3,c4060bd1980fa9b346d9e81574343da8f0c9d99e,foreign-conf,"from sushy_oem_idrac import constants clear_foreign_config = common.ActionField( ""#DellRaidService.ClearForeignConfig"") def clear_foreign_config(self, controller_fqdd): """"""Clears foreign configuration Prepares any foreign physical disks for inclusion in the local configuration :param controller_fqdd: FQDD of controller to clear foreign config :returns: Sushy's TaskMonitor instance for TaskService task if there are foreign drives to clear, otherwise None. """""" target_uri = self._actions.clear_foreign_config.target_uri payload = {'TargetFQDD': controller_fqdd} try: response = self._conn.post(target_uri, data=payload) except exceptions.BadRequestError as ex: # Check if failed for no foreign drives errors = ex.body and ex.body.get('@Message.ExtendedInfo') or [] no_foreign_conf = [x for x in errors if constants.NO_FOREIGN_CONFIG in x.get('MessageId')] if len(no_foreign_conf) == 0: raise ex else: LOG.debug('%s: %s', no_foreign_conf[0].get('Message'), controller_fqdd) return task_mon = self._get_task_monitor_from_dell_job(response) LOG.info('Clearing foreign config: %s', controller_fqdd) return task_mon ",,127,0
openstack%2Fsushy-oem-idrac~master~I53964f935d82c349d51c0991c46a3e2b9b0d2682,openstack/sushy-oem-idrac,master,I53964f935d82c349d51c0991c46a3e2b9b0d2682,Add RAID mode conversion methods,MERGED,2021-07-05 14:10:40.000000000,2021-08-19 07:44:43.000000000,2021-08-19 07:44:43.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-05 14:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/4b072f2328be48261751b1779a2c3268e63ae7f0', 'message': 'Add RAID mode conversion methods\n\nIntroduces System OEM extension and Dell RAID service\nwith first Convert to RAID/Non-RAID methods.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/799504\nChange-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682\n'}, {'number': 2, 'created': '2021-07-08 15:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/4fbf3c69e08ba445d901d3f06e06443ecca9566a', 'message': 'Add RAID mode conversion methods\n\nIntroduces System OEM extension and Dell RAID service\nwith first Convert to RAID/Non-RAID methods.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/799504\nChange-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682\n'}, {'number': 3, 'created': '2021-08-05 09:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/6cfcc49007e0d317af0c0823e61e76f2b7382957', 'message': 'Add RAID mode conversion methods\n\nIntroduces System OEM extension and Dell RAID service\nwith first Convert to RAID/Non-RAID methods.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/799504\nChange-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682\n'}, {'number': 4, 'created': '2021-08-06 09:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c96d937c8cb297cd2d45ce9db60b03b804cabe7d', 'message': 'Add RAID mode conversion methods\n\nIntroduces System OEM extension and Dell RAID service\nwith first Convert to RAID/Non-RAID methods.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/799504\nChange-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682\n'}, {'number': 5, 'created': '2021-08-10 13:57:15.000000000', 'files': ['sushy_oem_idrac/resources/__init__.py', 'requirements.txt', 'sushy_oem_idrac/resources/system/constants.py', 'sushy_oem_idrac/tests/unit/test_system.py', 'sushy_oem_idrac/resources/system/system.py', 'sushy_oem_idrac/tests/unit/json_samples/system.json', 'sushy_oem_idrac/tests/unit/json_samples/raid_service.json', 'sushy_oem_idrac/tests/unit/test_raid_service.py', 'setup.cfg', 'sushy_oem_idrac/resources/system/raid_service.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/79d4ecb5872dccc96c6dd66aa157c553223c54ea', 'message': 'Add RAID mode conversion methods\n\nIntroduces System OEM extension and Dell RAID service\nwith first Convert to RAID/Non-RAID methods.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/799504\nChange-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682\n'}]",10,799506,79d4ecb5872dccc96c6dd66aa157c553223c54ea,20,3,5,27909,,,0,"Add RAID mode conversion methods

Introduces System OEM extension and Dell RAID service
with first Convert to RAID/Non-RAID methods.

Depends-On: https://review.opendev.org/c/openstack/sushy/+/799504
Change-Id: I53964f935d82c349d51c0991c46a3e2b9b0d2682
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/06/799506/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'sushy_oem_idrac/resources/system/system.py', 'sushy_oem_idrac/tests/unit/test_system.py', 'sushy_oem_idrac/tests/unit/json_samples/system.json', 'setup.cfg', 'sushy_oem_idrac/tests/unit/json_samples/raid_service.json', 'sushy_oem_idrac/tests/unit/test_raid_service.py', 'sushy_oem_idrac/resources/system/raid_service.py']",8,4b072f2328be48261751b1779a2c3268e63ae7f0,raid,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from sushy import exceptions from sushy.resources import base from sushy.resources import common from sushy import taskmonitor LOG = logging.getLogger(__name__) class ActionsField(base.CompositeField): convert_to_raid = common.ActionField(""#DellRaidService.ConvertToRAID"") convert_to_nonraid = common.ActionField( ""#DellRaidService.ConvertToNonRAID"") class DellRaidService(base.ResourceBase): identity = base.Field('Id', required=True) _actions = ActionsField('Actions') def __init__(self, connector, identity, redfish_version=None, registries=None, root=None): """"""A class representing a DellRaidService. :param connector: A Connector instance :param identity: The identity of the DellRaidService resource :param redfish_version: The version of Redfish. Used to construct the object according to schema of the given version. :param registries: Dict of Redfish Message Registry objects to be used in any resource that needs registries to parse messages. :param root: Sushy root object. Empty for Sushy root itself. """""" super(DellRaidService, self).__init__( connector, identity, redfish_version=redfish_version, registries=registries, root=root) def convert_to_raid(self, physical_disk_fqdds): """"""Converts physical disks to a state usable for RAID :param physical_disk_fqdds: An array of FQDDs where each identifies a physical drive. """""" target_uri = self._actions.convert_to_raid.target_uri payload = {'PDArray': physical_disk_fqdds} response = self._conn.post(target_uri, data=payload) task_monitor = self._get_task_monitor_from_dell_job(response) task_monitor.wait(300) LOG.info('Converted to RAID mode: %s', physical_disk_fqdds) def convert_to_nonraid(self, physical_disk_fqdds): """"""Converts physical disks to non-RAID state. :param physical_disk_fqdds: An array of FQDDs where each identifies a physical drive. """""" target_uri = self._actions.convert_to_nonraid.target_uri payload = {'PDArray': physical_disk_fqdds} response = self._conn.post(target_uri, data=payload) task_monitor = self._get_task_monitor_from_dell_job(response) task_monitor.wait(300) LOG.info('Converted to non-RAID mode: %s', physical_disk_fqdds) def _get_task_monitor_from_dell_job(self, response): """"""From OEM job response returns generic Task monitor :param response: Response from OEM job :returns: Sushy's TaskMonitor instance for TaskService task """""" location = response.headers.get('Location') if not location: raise exceptions.ExtensionError( error='Response %s does not include Location in header' % (response.url)) task_id = location.split('/')[-1] task = None for t in self.root.get_task_service().tasks.get_members(): if t.identity == task_id: task = t break if not task: raise exceptions.ExtensionError( error=""Did not find task by id %s"" % task_id) return taskmonitor.TaskMonitor( self._conn, task.path, redfish_version=self.redfish_version, registries=self.registries) ",,928,2
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~Id8d1584bb07378fc99247ed047a5df2645a7ce72,openstack/sushy-oem-idrac,stable/victoria,Id8d1584bb07378fc99247ed047a5df2645a7ce72,Update virtual media boot-related constants,MERGED,2021-06-18 11:17:08.000000000,2021-08-19 07:39:45.000000000,2021-08-19 07:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 32158}]","[{'number': 1, 'created': '2021-06-18 11:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/4be73e502f1e81d84c85b5b993bba1ba8cd428d4', 'message': 'Update virtual media boot-related constants\n\nConstants related to virtual media boot are modified to identify LC and\nRAC event messages only, and not the version.\n\nStory: 2008708\nTask: 42042\n\nChange-Id: Id8d1584bb07378fc99247ed047a5df2645a7ce72\n(cherry picked from commit ae279799fdd453ca060ee1e1cf56ecc41c8ca0bd)\n'}, {'number': 2, 'created': '2021-07-01 14:20:55.000000000', 'files': ['sushy_oem_idrac/constants.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c1b6217784a841e2c8c87ca49987a25cae75d33c', 'message': 'Update virtual media boot-related constants\n\nConstants related to virtual media boot are modified to identify LC and\nRAC event messages only, and not the version.\n\nStory: 2008708\nTask: 42042\n\nChange-Id: Id8d1584bb07378fc99247ed047a5df2645a7ce72\n(cherry picked from commit ae279799fdd453ca060ee1e1cf56ecc41c8ca0bd)\n'}]",0,797065,c1b6217784a841e2c8c87ca49987a25cae75d33c,8,4,2,27909,,,0,"Update virtual media boot-related constants

Constants related to virtual media boot are modified to identify LC and
RAC event messages only, and not the version.

Story: 2008708
Task: 42042

Change-Id: Id8d1584bb07378fc99247ed047a5df2645a7ce72
(cherry picked from commit ae279799fdd453ca060ee1e1cf56ecc41c8ca0bd)
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/65/797065/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/constants.py', 'sushy_oem_idrac/resources/manager/manager.py']",2,4be73e502f1e81d84c85b5b993bba1ba8cd428d4,, if constants.IDRAC_CONFIG_PENDING in message_id: elif constants.IDRAC_JOB_RUNNING in message_id:, if message_id == constants.IDRAC_CONFIG_PENDING: elif message_id == constants.IDRAC_JOB_RUNNING:,4,4
openstack%2Ftacker~master~I53b3729ff23f1597e4b80e3c0652830d3243e320,openstack/tacker,master,I53b3729ff23f1597e4b80e3c0652830d3243e320,Remove old oslo.messaging transport aliases,NEW,2017-04-07 02:03:26.000000000,2021-08-19 07:39:41.000000000,,"[{'_account_id': 9610}, {'_account_id': 19999}, {'_account_id': 32102}]","[{'number': 1, 'created': '2017-04-07 02:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a38f0f46d2e636043d79854ce88a0840cfecf8c', 'message': 'Remove old oslo.messaging transport aliases\n\nThose are remnants from the oslo-incubator times. Also, oslo.messaging\ndeprecated [1] transport aliases since 5.2.0+ that is the minimal\nversion supported for stable/newton\n\nChange-Id: I53b3729ff23f1597e4b80e3c0652830d3243e320\n'}, {'number': 2, 'created': '2017-04-14 07:40:22.000000000', 'files': ['tacker/common/rpc.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c87ec5d0827ca9e3fa181087cf9cef88fa17dee7', 'message': 'Remove old oslo.messaging transport aliases\n\nThose are remnants from the oslo-incubator times. Also, oslo.messaging\ndeprecated [1] transport aliases since 5.2.0+ that is the minimal\nversion supported for stable/newton.The patch that bumped the minimal\nversion for Tacker landed 3 months+ ago, so we can proceed ripping\nthose aliases from the code base\n\n[1] I314cefa5fb1803fa7e21e3e34300e5ced31bba89\n\nChange-Id: I53b3729ff23f1597e4b80e3c0652830d3243e320\n'}]",1,454421,c87ec5d0827ca9e3fa181087cf9cef88fa17dee7,9,3,2,25423,,,0,"Remove old oslo.messaging transport aliases

Those are remnants from the oslo-incubator times. Also, oslo.messaging
deprecated [1] transport aliases since 5.2.0+ that is the minimal
version supported for stable/newton.The patch that bumped the minimal
version for Tacker landed 3 months+ ago, so we can proceed ripping
those aliases from the code base

[1] I314cefa5fb1803fa7e21e3e34300e5ced31bba89

Change-Id: I53b3729ff23f1597e4b80e3c0652830d3243e320
",git fetch https://review.opendev.org/openstack/tacker refs/changes/21/454421/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/common/rpc.py'],1,8a38f0f46d2e636043d79854ce88a0840cfecf8c,new_1, allowed_remote_exmods=exmods) ,"TRANSPORT_ALIASES = { 'tacker.rpc.impl_fake': 'fake', 'tacker.rpc.impl_qpid': 'qpid', 'tacker.rpc.impl_kombu': 'rabbit', 'tacker.rpc.impl_zmq': 'zmq', } allowed_remote_exmods=exmods, aliases=TRANSPORT_ALIASES)",2,10
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~I78c503a65c0c3fdb17773279d87db425926fa275,openstack/sushy-oem-idrac,stable/victoria,I78c503a65c0c3fdb17773279d87db425926fa275,Update RETRY_COUNT for virtual media boot,MERGED,2021-06-18 11:17:08.000000000,2021-08-19 07:39:04.000000000,2021-08-19 07:39:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 32158}]","[{'number': 1, 'created': '2021-06-18 11:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/0f7d8e23deb8ce7f17dfa718c164d3a3796fa7b7', 'message': 'Update RETRY_COUNT for virtual media boot\n\nIncrease RETRY_COUNT to 35 to provide sufficient time to complete\nalready running iDRAC configuration job. This has been observed when\nironic performs boot mode synchronization, because the node boot mode\nis not the same as bare-metal boot mode.\n\nStory: 2008709\nTask: 42043\n\nChange-Id: I78c503a65c0c3fdb17773279d87db425926fa275\n(cherry picked from commit 56032c4d176b17a859328f1006ca537fc0d12f1e)\n'}, {'number': 2, 'created': '2021-07-01 14:25:25.000000000', 'files': ['sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/f6865b267d3391aafb727cb50263296cdb4fe11e', 'message': 'Update RETRY_COUNT for virtual media boot\n\nIncrease RETRY_COUNT to 35 to provide sufficient time to complete\nalready running iDRAC configuration job. This has been observed when\nironic performs boot mode synchronization, because the node boot mode\nis not the same as bare-metal boot mode.\n\nStory: 2008709\nTask: 42043\n\nChange-Id: I78c503a65c0c3fdb17773279d87db425926fa275\n(cherry picked from commit 56032c4d176b17a859328f1006ca537fc0d12f1e)\n'}]",0,797066,f6865b267d3391aafb727cb50263296cdb4fe11e,8,4,2,27909,,,0,"Update RETRY_COUNT for virtual media boot

Increase RETRY_COUNT to 35 to provide sufficient time to complete
already running iDRAC configuration job. This has been observed when
ironic performs boot mode synchronization, because the node boot mode
is not the same as bare-metal boot mode.

Story: 2008709
Task: 42043

Change-Id: I78c503a65c0c3fdb17773279d87db425926fa275
(cherry picked from commit 56032c4d176b17a859328f1006ca537fc0d12f1e)
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/66/797066/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_oem_idrac/resources/manager/manager.py'],1,0f7d8e23deb8ce7f17dfa718c164d3a3796fa7b7,, RETRY_COUNT = 35, RETRY_COUNT = 10,1,1
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~Ie94d0da858988f40595eb72bbb4e431669383603,openstack/sushy-oem-idrac,stable/victoria,Ie94d0da858988f40595eb72bbb4e431669383603,"Revert ""Add export system configuration""",MERGED,2021-07-01 13:24:57.000000000,2021-08-19 07:38:25.000000000,2021-08-19 07:38:25.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 31418}]","[{'number': 1, 'created': '2021-07-01 13:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/be3916845c047288a2e9dbf3b2cd1dfcec8e00b0', 'message': 'Revert ""Add export system configuration""\n\nThis reverts commit ef98ce301a283b2f5e5b8bd820c9be030be97b23.\n\nReason for revert: Made decision to not backport features for\nsuhy-oem-idrac the same way it is done for python-dracclient\nbecause of dependency on sushy.\n\nChange-Id: Ie94d0da858988f40595eb72bbb4e431669383603\n'}, {'number': 2, 'created': '2021-07-01 15:28:48.000000000', 'files': ['sushy_oem_idrac/resources/manager/constants.py', 'sushy_oem_idrac/resources/manager/mappings.py', 'sushy_oem_idrac/resources/common.py', 'sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/ad2abb2039c975d3ef6965579cc4ade2ca2d3920', 'message': 'Revert ""Add export system configuration""\n\nThis reverts commit ef98ce301a283b2f5e5b8bd820c9be030be97b23.\n\nReason for revert: Made decision to not backport features for\nsuhy-oem-idrac the same way it is done for python-dracclient\nbecause of dependency on sushy.\n\nChange-Id: Ie94d0da858988f40595eb72bbb4e431669383603\n'}]",0,799062,ad2abb2039c975d3ef6965579cc4ade2ca2d3920,9,4,2,27909,,,0,"Revert ""Add export system configuration""

This reverts commit ef98ce301a283b2f5e5b8bd820c9be030be97b23.

Reason for revert: Made decision to not backport features for
suhy-oem-idrac the same way it is done for python-dracclient
because of dependency on sushy.

Change-Id: Ie94d0da858988f40595eb72bbb4e431669383603
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/62/799062/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/resources/manager/constants.py', 'sushy_oem_idrac/resources/manager/mappings.py', 'sushy_oem_idrac/resources/common.py', 'sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",5,be3916845c047288a2e9dbf3b2cd1dfcec8e00b0,get_pxe_mac_bios_mode-stable/victoria, operation,"# Copyright (c) 2020-2021 Dell Inc. or its subsidiaries. #from sushy_oem_idrac.resources import common as res_common from sushy_oem_idrac.resources.manager import mappings as mgr_maps export_system_configuration = res_common.ExportActionField( lambda key, **kwargs: key.endswith( '#OemManager.ExportSystemConfiguration')) @property def export_system_configuration_uri(self): return self._actions.export_system_configuration.target_uri operation. def get_allowed_export_system_config_values(self): """"""Get the allowed values of export system configuration. :returns: A set of allowed values. """""" export_action = self._actions.export_system_configuration allowed_values = export_action.allowed_values[ 'Target@Redfish.AllowableValues'] return set([mgr_maps.EXPORT_CONFIG_VALUE_MAP[value] for value in set(mgr_maps.EXPORT_CONFIG_VALUE_MAP). intersection(allowed_values)]) def _export_system_configuration(self, target): """"""Export system configuration. It exports system configuration for specified target like NIC, BIOS, RAID. :param target: Component of the system to export the configuration from. Can be the entire system. Valid values can be gotten from `get_allowed_export_system_config_values`. :returns: a response object containing configuration details for the specified target. :raises: InvalidParameterValueError on invalid target. :raises: ExtensionError on failure to perform requested operation """""" valid_allowed_targets = self.get_allowed_export_system_config_values() if target not in valid_allowed_targets: raise sushy.exceptions.InvalidParameterValueError( parameter='target', value=target, valid_values=valid_allowed_targets) target = mgr_maps.EXPORT_CONFIG_VALUE_MAP_REV[target] action_data = { 'ShareParameters': { 'Target': target }, 'ExportFormat': ""JSON"" } try: response = asynchronous.http_call( self._conn, 'post', self.export_system_configuration_uri, data=action_data) LOG.info(""Successfully exported system configuration "" ""for %(target)s"", {'target': target}) return response except (sushy.exceptions.ExtensionError, sushy.exceptions.InvalidParameterValueError) as exc: LOG.error('Dell OEM export system configuration failed : %s', exc) raise ",1,194
openstack%2Freleases~master~I22768e499ef808867ca097bd7e189a90d66112ef,openstack/releases,master,I22768e499ef808867ca097bd7e189a90d66112ef,Release final tosca-parser for Xena,MERGED,2021-08-16 10:04:19.000000000,2021-08-19 07:37:58.000000000,2021-08-19 07:37:58.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 10:04:19.000000000', 'files': ['deliverables/xena/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/de699a87ddacdc1473e9097a1adb95c6fed61a4d', 'message': 'Release final tosca-parser for Xena\n\nThis proposed a release for tosca-parser to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..0014362\ne7b9386 Fix old link in Installation guide\n405ec35 Replace assertItemsEqual with assertCountEqual\n92a3e69 import ""collections.abc"" explicitly\n0501264 [ussuri][goal] Update contributor documentation\nca3a2a8 Fix parent types if relationships\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I22768e499ef808867ca097bd7e189a90d66112ef\n'}]",0,804688,de699a87ddacdc1473e9097a1adb95c6fed61a4d,9,4,1,28522,,,0,"Release final tosca-parser for Xena

This proposed a release for tosca-parser to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.0..0014362
e7b9386 Fix old link in Installation guide
405ec35 Replace assertItemsEqual with assertCountEqual
92a3e69 import ""collections.abc"" explicitly
0501264 [ussuri][goal] Update contributor documentation
ca3a2a8 Fix parent types if relationships

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I22768e499ef808867ca097bd7e189a90d66112ef
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/804688/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/tosca-parser.yaml'],1,de699a87ddacdc1473e9097a1adb95c6fed61a4d,xena-final-non-client-libs, - version: 2.4.1 projects: - repo: openstack/tosca-parser hash: 0014362ab14db122b02630bbf99c3205e5fa58aa,,4,0
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~Id829d2462441a65df6c7472811c5788392d4d86b,openstack/sushy-oem-idrac,stable/victoria,Id829d2462441a65df6c7472811c5788392d4d86b,"Revert ""Add get PXE port MACs for BIOS mode""",MERGED,2021-07-01 13:23:59.000000000,2021-08-19 07:37:32.000000000,2021-08-19 07:37:32.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 25726}]","[{'number': 1, 'created': '2021-07-01 13:23:59.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py', 'sushy_oem_idrac/tests/unit/json_samples/export_configuration_nic_bios.json'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/1e8848b7c3de0e27394de03698ab15a76c1748dd', 'message': 'Revert ""Add get PXE port MACs for BIOS mode""\n\nThis reverts commit beb0aa5959f9296f281a1680aa2d906cbee18414.\n\nReason for revert: Made decision to not backport features for\nsuhy-oem-idrac the same way it is done for python-dracclient\nbecause of dependency on sushy.\n\nChange-Id: Id829d2462441a65df6c7472811c5788392d4d86b\n'}]",0,799061,1e8848b7c3de0e27394de03698ab15a76c1748dd,6,4,1,27909,,,0,"Revert ""Add get PXE port MACs for BIOS mode""

This reverts commit beb0aa5959f9296f281a1680aa2d906cbee18414.

Reason for revert: Made decision to not backport features for
suhy-oem-idrac the same way it is done for python-dracclient
because of dependency on sushy.

Change-Id: Id829d2462441a65df6c7472811c5788392d4d86b
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/61/799061/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py', 'sushy_oem_idrac/tests/unit/json_samples/export_configuration_nic_bios.json']",3,1e8848b7c3de0e27394de03698ab15a76c1748dd,get_pxe_mac_bios_mode-stable/victoria,,"{ ""SystemConfiguration"": { ""Comments"": [ { ""Comment"": ""Export type is Normal,JSON,Selective"" }, { ""Comment"": ""Exported configuration may contain commented attributes. Attributes may be commented due to dependency, destructive nature, preserving server identity or for security reasons."" } ], ""Model"": ""PowerEdge R7525"", ""ServiceTag"": ""C6DCS33"", ""TimeStamp"": ""Wed Feb 3 06:53:31 2021"", ""Components"": [ { ""FQDD"": ""NIC.Integrated.1-4-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""8"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Integrated.1-2-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""8"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Integrated.1-3-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""PXE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""8"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Integrated.1-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""8"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Embedded.1-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""EEEControl"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""F4:02:70:B8:A6:7A"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IpAutoConfig"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiTgtBoot"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""DhcpVendId"", ""Value"": ""BRCM ISAN"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkUpDelayTime"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpTimestmp"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstHddTarget"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LunBusyRetryCnt"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IpVer"", ""Value"": ""IPv4"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnetPrefix"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorPrimDns"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSecDns"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": ""iqn.1995-05.com.broadcom.iscsiboot"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ConnectFirstTgt"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ConnectSecondTgt"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondaryDeviceMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""UseIndTgtPortal"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""UseIndTgtName"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BootOptionROM"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BootStrapType"", ""Value"": ""AutoDetect"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""HideSetupPrompt"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BannerMessageTimeout"", ""Value"": ""5"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanMode"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""1"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""PermitTotalPortShutdown"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Slot.1-2-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NParEP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""64"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""INTEL_LLDPAgent"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapMutualAuth"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VFDistribution"", ""Value"": ""64:0:0:0:0:0:0:0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Slot.1-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NParEP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""64"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""INTEL_LLDPAgent"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapMutualAuth"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VFDistribution"", ""Value"": ""64:0:0:0:0:0:0:0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Embedded.2-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""EEEControl"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""F4:02:70:B8:A6:7B"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IpAutoConfig"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiTgtBoot"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""DhcpVendId"", ""Value"": ""BRCM ISAN"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkUpDelayTime"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpTimestmp"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstHddTarget"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LunBusyRetryCnt"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IpVer"", ""Value"": ""IPv4"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnetPrefix"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorPrimDns"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSecDns"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": ""iqn.1995-05.com.broadcom.iscsiboot"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ConnectFirstTgt"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ConnectSecondTgt"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""SecondaryDeviceMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""UseIndTgtPortal"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""UseIndTgtName"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BootOptionROM"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BootStrapType"", ""Value"": ""AutoDetect"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""HideSetupPrompt"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""BannerMessageTimeout"", ""Value"": ""5"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LnkSpeed"", ""Value"": ""AutoNeg"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""WakeOnLan"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanMode"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""1"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""PermitTotalPortShutdown"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Slot.2-2-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NParEP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""64"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""INTEL_LLDPAgent"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapMutualAuth"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VFDistribution"", ""Value"": ""64:0:0:0:0:0:0:0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] }, { ""FQDD"": ""NIC.Slot.2-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""0"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NParEP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""LegacyBootProto"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VLanId"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""NumberVFAdvertised"", ""Value"": ""64"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""INTEL_LLDPAgent"", ""Value"": ""Enabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""TcpIpViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiViaDHCP"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapAuthEnable"", ""Value"": ""Disabled"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""ChapMutualAuth"", ""Value"": ""Disabled"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorIpAddr"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorSubnet"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorGateway"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapId"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""IscsiInitiatorChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIpAddress"", ""Value"": ""0.0.0.0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtTcpPort"", ""Value"": ""3260"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtBootLun"", ""Value"": ""0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtIscsiName"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""FirstTgtChapPwd"", ""Value"": """", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VFDistribution"", ""Value"": ""64:0:0:0:0:0:0:0"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" } ] } ] } } ",0,1532
openstack%2Freleases~master~Ied2954434000d52b6eeab1a1af24a43bf789a392,openstack/releases,master,Ied2954434000d52b6eeab1a1af24a43bf789a392,Release final os-win for Xena,MERGED,2021-08-16 09:45:54.000000000,2021-08-19 07:37:09.000000000,2021-08-19 07:37:09.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:45:54.000000000', 'files': ['deliverables/xena/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d17b6f891e60086c73a1913602a49e9baa1c62cd', 'message': 'Release final os-win for Xena\n\nThis proposed a release for os-win to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 5.4.0..d571260\nd571260 Use importlib instead of imp\n50d0797 Use py3 as the default runtime for tox\n530563b Add Python3 xena unit tests\na357177 Update master for stable/wallaby\n80315f7 Use TOX_CONSTRAINTS_FILE\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ied2954434000d52b6eeab1a1af24a43bf789a392\n'}]",0,804673,d17b6f891e60086c73a1913602a49e9baa1c62cd,9,5,1,28522,,,0,"Release final os-win for Xena

This proposed a release for os-win to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 5.4.0..d571260
d571260 Use importlib instead of imp
50d0797 Use py3 as the default runtime for tox
530563b Add Python3 xena unit tests
a357177 Update master for stable/wallaby
80315f7 Use TOX_CONSTRAINTS_FILE

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ied2954434000d52b6eeab1a1af24a43bf789a392
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/804673/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/os-win.yaml'],1,d17b6f891e60086c73a1913602a49e9baa1c62cd,xena-final-non-client-libs,releases: - version: 5.5.0 projects: - repo: openstack/os-win hash: d571260d41bfe309412570785665a9afd8d8eef2,,5,0
openstack%2Freleases~master~I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d,openstack/releases,master,I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d,Release final octavia-lib for Xena,MERGED,2021-08-16 09:36:24.000000000,2021-08-19 07:37:07.000000000,2021-08-19 07:37:07.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-16 09:36:24.000000000', 'files': ['deliverables/xena/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/48e3a46cecc4173157316ff2a7ad918aaf781404', 'message': 'Release final octavia-lib for Xena\n\nThis proposed a release for octavia-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..ee07c4e\n1ea6189 Add Python3 xena unit tests\nc3fd4d1 Replace deprecated UPPER_CONSTRAINTS_FILE variable\naa03b89 setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d\n'}]",0,804667,48e3a46cecc4173157316ff2a7ad918aaf781404,9,6,1,28522,,,0,"Release final octavia-lib for Xena

This proposed a release for octavia-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.0..ee07c4e
1ea6189 Add Python3 xena unit tests
c3fd4d1 Replace deprecated UPPER_CONSTRAINTS_FILE variable
aa03b89 setup.cfg: Replace dashes with underscores

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I6ffca1745b4d7fe54135119ff304a1abb8d6aa9d
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/804667/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/octavia-lib.yaml'],1,48e3a46cecc4173157316ff2a7ad918aaf781404,xena-final-non-client-libs, - version: 2.4.1 projects: - repo: openstack/octavia-lib hash: ee07c4e5b175a4eb53d7ddfd792227b945d75931,,4,0
openstack%2Freleases~master~I7f263b1833715f58cb714de78d1279a60e9064f6,openstack/releases,master,I7f263b1833715f58cb714de78d1279a60e9064f6,Release final ceilometermiddleware for Xena,MERGED,2021-08-16 09:22:46.000000000,2021-08-19 07:37:05.000000000,2021-08-19 07:37:05.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:22:46.000000000', 'files': ['deliverables/xena/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/faedadbb521a35718d8aac4340343df0881cfd3f', 'message': 'Release final ceilometermiddleware for Xena\n\nThis proposed a release for ceilometermiddleware to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.2.0..082dabb\n082dabb Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I7f263b1833715f58cb714de78d1279a60e9064f6\n'}]",0,804657,faedadbb521a35718d8aac4340343df0881cfd3f,9,4,1,28522,,,0,"Release final ceilometermiddleware for Xena

This proposed a release for ceilometermiddleware to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.2.0..082dabb
082dabb Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I7f263b1833715f58cb714de78d1279a60e9064f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/804657/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ceilometermiddleware.yaml'],1,faedadbb521a35718d8aac4340343df0881cfd3f,xena-final-non-client-libs,releases: - version: 2.3.0 projects: - repo: openstack/ceilometermiddleware hash: 082dabb1b7186f614664f69db32f80918b20d624,,5,0
openstack%2Freleases~master~Idbeb9d09c345766b14e364dcfbaeca78c7ccec21,openstack/releases,master,Idbeb9d09c345766b14e364dcfbaeca78c7ccec21,Release final ovsdbapp for Xena,MERGED,2021-08-16 10:01:03.000000000,2021-08-19 07:33:09.000000000,2021-08-19 07:33:09.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 10:01:03.000000000', 'files': ['deliverables/xena/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b22a5ad8fa81df7716b1c5d22692db78799e25c', 'message': 'Release final ovsdbapp for Xena\n\nThis proposed a release for ovsdbapp to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 1.11.0..35c8eae\nc8cb43e Improve ""OvsdbIdl.from_server"" method\nf02b1c2 Make exceptions in the event logs easier to read\nee39ae0 setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Idbeb9d09c345766b14e364dcfbaeca78c7ccec21\n'}]",0,804685,3b22a5ad8fa81df7716b1c5d22692db78799e25c,10,5,1,28522,,,0,"Release final ovsdbapp for Xena

This proposed a release for ovsdbapp to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 1.11.0..35c8eae
c8cb43e Improve ""OvsdbIdl.from_server"" method
f02b1c2 Make exceptions in the event logs easier to read
ee39ae0 setup.cfg: Replace dashes with underscores

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Idbeb9d09c345766b14e364dcfbaeca78c7ccec21
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/804685/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ovsdbapp.yaml'],1,3b22a5ad8fa81df7716b1c5d22692db78799e25c,xena-final-non-client-libs, - version: 1.12.0 projects: - repo: openstack/ovsdbapp hash: 35c8eae020ef5300e08b7869e5da11dd0e2c500e,,4,0
openstack%2Freleases~master~I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe,openstack/releases,master,I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe,Release final os-ken for Xena,MERGED,2021-08-16 09:43:37.000000000,2021-08-19 07:32:40.000000000,2021-08-19 07:32:40.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8ee82aaa6b0a0f930d6e34f935a359c366890aaa', 'message': 'Release final os-ken for Xena\n\nThis proposed a release for os-ken to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.0.0..0eb57b10\n66d62049 setup.cfg: Replace dashes with underscores\n042e32aa Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe\n'}, {'number': 2, 'created': '2021-08-17 08:20:26.000000000', 'files': ['deliverables/xena/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e3f82ccdc9694452f75926476ac878e171568dfe', 'message': 'Release final os-ken for Xena\n\nThis proposed a release for os-ken to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.0.0..0eb57b10\n66d62049 setup.cfg: Replace dashes with underscores\n042e32aa Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe\n'}]",2,804671,e3f82ccdc9694452f75926476ac878e171568dfe,13,5,2,28522,,,0,"Release final os-ken for Xena

This proposed a release for os-ken to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.0.0..0eb57b10
66d62049 setup.cfg: Replace dashes with underscores
042e32aa Replace deprecated UPPER_CONSTRAINTS_FILE variable

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I32dd0faa8e92d2432efcd9d12617a9e82dfa06fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/804671/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/os-ken.yaml'],1,8ee82aaa6b0a0f930d6e34f935a359c366890aaa,xena-final-non-client-libs, - version: 2.0.1 projects: - repo: openstack/os-ken hash: 0eb57b10dd3044274f2d27417dbebc20239d627e,,4,0
openstack%2Fsushy-oem-idrac~master~I34f04ffc321306947ad76d6f5c40a2b72e3bb73a,openstack/sushy-oem-idrac,master,I34f04ffc321306947ad76d6f5c40a2b72e3bb73a,Update default IncludeInExport value,MERGED,2021-07-12 15:04:07.000000000,2021-08-19 07:29:44.000000000,2021-08-19 07:29:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-12 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/35ab1683c40883ea5077b2c37b790c52110baade', 'message': 'Update default IncludeInExport value\n\nChange-Id: I34f04ffc321306947ad76d6f5c40a2b72e3bb73a\n'}, {'number': 2, 'created': '2021-08-18 14:40:39.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/6de8236ca8329ae830643c84f300af92e7c33ea6', 'message': 'Update default IncludeInExport value\n\nChange-Id: I34f04ffc321306947ad76d6f5c40a2b72e3bb73a\n'}]",0,800497,6de8236ca8329ae830643c84f300af92e7c33ea6,10,3,2,27909,,,0,"Update default IncludeInExport value

Change-Id: I34f04ffc321306947ad76d6f5c40a2b72e3bb73a
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/97/800497/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",2,35ab1683c40883ea5077b2c37b790c52110baade,export-read-only, Exports ALL targets for cloning and includes password hashes and read-only attributes. include_in_export = mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES include_in_export=include_in_export), Exports ALL targets for cloning and includes password hashes. include_in_export=mgr_cons.INCLUDE_EXPORT_PASSWORD_HASHES),6,3
openstack%2Foctavia-dashboard~master~Ic6b2098afa2e3e383b36beb16d8099a6d7d7bc6d,openstack/octavia-dashboard,master,Ic6b2098afa2e3e383b36beb16d8099a6d7d7bc6d,Add example logging setting,MERGED,2021-06-05 22:46:47.000000000,2021-08-19 07:19:31.000000000,2021-08-19 07:17:45.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-05 22:46:47.000000000', 'files': ['octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/cd1f06ace41dcc556cbbbf54d72e63575534b715', 'message': 'Add example logging setting\n\nChange-Id: Ic6b2098afa2e3e383b36beb16d8099a6d7d7bc6d\n'}]",0,794964,cd1f06ace41dcc556cbbbf54d72e63575534b715,8,3,1,9816,,,0,"Add example logging setting

Change-Id: Ic6b2098afa2e3e383b36beb16d8099a6d7d7bc6d
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/64/794964/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py'],1,cd1f06ace41dcc556cbbbf54d72e63575534b715,logger," # Sample # settings.LOGGING['loggers'].update({ # 'openstack': { # 'handlers': ['console'], # 'level': 'DEBUG', # 'propagate': False, # } # 'barbicanclient': { # 'handlers': ['console'], # 'level': 'DEBUG', # 'propagate': False, # } # })",,14,0
openstack%2Fironic~master~I9968e3328beb849c554ed664def1fc6df657b339,openstack/ironic,master,I9968e3328beb849c554ed664def1fc6df657b339,[DNM] Test removing libvirt-python from u-c,ABANDONED,2021-08-18 15:05:55.000000000,2021-08-19 07:11:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 15:05:55.000000000', 'files': ['ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2556589225f241f98ea7e852e347cf64b8fabaa8', 'message': '[DNM] Test removing libvirt-python from u-c\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/805040\nChange-Id: I9968e3328beb849c554ed664def1fc6df657b339\n'}]",0,805041,2556589225f241f98ea7e852e347cf64b8fabaa8,6,1,1,23851,,,0,"[DNM] Test removing libvirt-python from u-c

Depends-On: https://review.opendev.org/c/openstack/devstack/+/805040
Change-Id: I9968e3328beb849c554ed664def1fc6df657b339
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/805041/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,2556589225f241f98ea7e852e347cf64b8fabaa8,test-remove-libvirt-u-c, # DNM THIS IS A TEST ,,3,0
openstack%2Foctavia-dashboard~master~I904c0a8b17d99245bf2f27058752b4b2d4f1b518,openstack/octavia-dashboard,master,I904c0a8b17d99245bf2f27058752b4b2d4f1b518,Support policy-in-code and deprecated policy,NEW,2021-06-05 03:40:40.000000000,2021-08-19 07:10:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-05 03:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/87779cb5b471aca18d0d77a3e1b92f83a1320f0e', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I904c0a8b17d99245bf2f27058752b4b2d4f1b518\n'}, {'number': 2, 'created': '2021-06-05 22:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/edcd40d3138cfdee76a663a838eb398f36ff015c', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I904c0a8b17d99245bf2f27058752b4b2d4f1b518\n'}, {'number': 3, 'created': '2021-08-19 06:57:03.000000000', 'files': ['.gitignore', 'octavia_dashboard/conf/default_policies/octavia.yaml', 'octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py', 'octavia_dashboard/conf/octavia_policy.yaml', 'README.rst', 'devstack/plugin.sh', 'octavia_dashboard/conf/.gitkeep', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/669e29473c68a5f538fecfcc40b4b5b38041cf82', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I904c0a8b17d99245bf2f27058752b4b2d4f1b518\n'}]",4,794911,669e29473c68a5f538fecfcc40b4b5b38041cf82,9,2,3,9816,,,0,"Support policy-in-code and deprecated policy

This change adds support for policy-in-code and deprecated policy
following the change in horizon.

Depends-on: https://review.opendev.org/750134
Change-Id: I904c0a8b17d99245bf2f27058752b4b2d4f1b518
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/11/794911/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'octavia_dashboard/conf/default_policies/octavia.yaml', 'octavia_dashboard/local_settings.d/_1499_load_balancer_settings.py', 'octavia_dashboard/conf/octavia_policy.yaml', 'README.rst', 'devstack/plugin.sh', 'octavia_dashboard/conf/.gitkeep', 'doc/source/installation.rst']",8,87779cb5b471aca18d0d77a3e1b92f83a1320f0e,secure-rbac," 'octavia': 'octavia_policy.yaml',"," 'octavia': 'octavia_policy.json',",1093,17
openstack%2Fsenlin~master~I2411be23a83aef9550d58ead51b4caf2f8c5409f,openstack/senlin,master,I2411be23a83aef9550d58ead51b4caf2f8c5409f,Replace deprecated inspect.getargspec,MERGED,2021-08-13 08:58:00.000000000,2021-08-19 07:08:30.000000000,2021-08-19 07:06:55.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2021-08-13 08:58:00.000000000', 'files': ['senlin/profiles/base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2216af7834c76fbaef49fc28d2febc8468589272', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I2411be23a83aef9550d58ead51b4caf2f8c5409f\n'}]",0,804504,2216af7834c76fbaef49fc28d2febc8468589272,7,2,1,32291,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I2411be23a83aef9550d58ead51b4caf2f8c5409f
",git fetch https://review.opendev.org/openstack/senlin refs/changes/04/804504/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/profiles/base.py'],1,2216af7834c76fbaef49fc28d2febc8468589272,, argspec = inspect.getfullargspec(context.RequestContext.__init__), argspec = inspect.getargspec(context.RequestContext.__init__),1,1
openstack%2Freleases~master~If33e654a43b077ea4c547d6302a8f7b2497251de,openstack/releases,master,If33e654a43b077ea4c547d6302a8f7b2497251de,Move tripleo repos to independent release model,MERGED,2021-08-17 12:30:11.000000000,2021-08-19 07:06:33.000000000,2021-08-19 07:06:33.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-17 12:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66d003c39d5d62cd7721a64ca39c34827cfe60da', 'message': 'Move tripleo repos to independent release model\n\nAs discussed at [1] this moves all tripleo repos to the _independent\nfolder and removes the xena one.\n\n[1] https://review.opendev.org/c/openstack/tripleo-specs/+/801512\n\nChange-Id: If33e654a43b077ea4c547d6302a8f7b2497251de\n'}, {'number': 2, 'created': '2021-08-17 16:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/266bb1c232b6169dd61467dda3b4aba873cceae4', 'message': 'Move tripleo repos to independent release model\n\nAs discussed at [1] this moves all tripleo repos to the _independent\nfolder and removes the xena one.\n\n[1] https://review.opendev.org/c/openstack/tripleo-specs/+/801512\n\nChange-Id: If33e654a43b077ea4c547d6302a8f7b2497251de\n'}, {'number': 3, 'created': '2021-08-18 13:45:04.000000000', 'files': ['deliverables/_independent/puppet-tripleo.yaml', 'deliverables/_independent/os-net-config.yaml', 'deliverables/_independent/tripleo-validations.yaml', 'deliverables/_independent/tripleo-common.yaml', 'deliverables/_independent/python-tripleoclient.yaml', 'deliverables/_independent/tripleo-ansible.yaml', 'deliverables/_independent/tripleo-puppet-elements.yaml', 'deliverables/_independent/tripleo-heat-templates.yaml', 'deliverables/_independent/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/230cb14c4a0fa8f3819ed24776497448dca122a8', 'message': 'Move tripleo repos to independent release model\n\nAs discussed at [1] this moves all tripleo repos to the _independent\nfolder and removes the xena one.\n\n[1] https://review.opendev.org/c/openstack/tripleo-specs/+/801512\n\nChange-Id: If33e654a43b077ea4c547d6302a8f7b2497251de\n'}]",5,804871,230cb14c4a0fa8f3819ed24776497448dca122a8,29,7,3,8449,,,0,"Move tripleo repos to independent release model

As discussed at [1] this moves all tripleo repos to the _independent
folder and removes the xena one.

[1] https://review.opendev.org/c/openstack/tripleo-specs/+/801512

Change-Id: If33e654a43b077ea4c547d6302a8f7b2497251de
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/804871/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/puppet-tripleo.yaml', 'deliverables/_independent/os-net-config.yaml', 'deliverables/_independent/tripleo-validations.yaml', 'deliverables/_independent/tripleo-common.yaml', 'deliverables/_independent/python-tripleoclient.yaml', 'deliverables/_independent/tripleo-ansible.yaml', 'deliverables/_independent/tripleo-puppet-elements.yaml', 'deliverables/_independent/tripleo-heat-templates.yaml', 'deliverables/_independent/tripleo-image-elements.yaml']",9,66d003c39d5d62cd7721a64ca39c34827cfe60da,,type: other,release-model: cycle-with-intermediarytype: trailing,11,18
openstack%2Fglance~master~Ibe33dff25782a48b90bccb3f99472fcec0f2f5c2,openstack/glance,master,Ibe33dff25782a48b90bccb3f99472fcec0f2f5c2,Refactor gateway auth layer for image factory,MERGED,2021-08-18 17:31:10.000000000,2021-08-19 06:53:15.000000000,2021-08-19 06:51:10.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 17:31:10.000000000', 'files': ['glance/gateway.py', 'glance/tests/unit/test_gateway.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a9009f4eb1696b856f9214b8e5a361cdf0b9c212', 'message': 'Refactor gateway auth layer for image factory\n\nChange-Id: Ibe33dff25782a48b90bccb3f99472fcec0f2f5c2\nPartially-Implements: blueprint policy-refactor\n'}]",0,805065,a9009f4eb1696b856f9214b8e5a361cdf0b9c212,7,2,1,4393,,,0,"Refactor gateway auth layer for image factory

Change-Id: Ibe33dff25782a48b90bccb3f99472fcec0f2f5c2
Partially-Implements: blueprint policy-refactor
",git fetch https://review.opendev.org/openstack/glance refs/changes/65/805065/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/gateway.py', 'glance/tests/unit/test_gateway.py']",2,a9009f4eb1696b856f9214b8e5a361cdf0b9c212,bp/policy-refactor," def test_get_image_factory(self): factory = self.gateway.get_image_factory(self.context) self.assertIsInstance(factory, authorization.ImageFactoryProxy) def test_get_image_factory_without_auth(self): factory = self.gateway.get_image_factory(self.context, authorization_layer=False) self.assertIsInstance(factory, notifier.ImageFactoryProxy) @mock.patch('glance.common.property_utils.PropertyRules._load_rules') def test_get_image_factory_without_auth_with_pp(self, mock_load): self.config(property_protection_file='foo') factory = self.gateway.get_image_factory(self.context, authorization_layer=False) self.assertIsInstance(factory, property_protections.ProtectedImageFactoryProxy) @mock.patch('glance.api.policy.ImageFactoryProxy') def test_get_image_factory_policy_layer(self, mock_pif): self.gateway.get_image_factory(self.context, authorization_layer=False) mock_pif.assert_not_called() self.gateway.get_image_factory(self.context) self.assertTrue(mock_pif.called) ",,40,18
openstack%2Fcyborg~stable%2Fvictoria~I2cf328e5a9f0de137edc264cc0d718c324f93209,openstack/cyborg,stable/victoria,I2cf328e5a9f0de137edc264cc0d718c324f93209,Fill the msg of exception,MERGED,2021-06-22 13:49:02.000000000,2021-08-19 06:47:24.000000000,2021-08-19 06:45:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-22 13:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a9638683eb594d58527e7ef0963ea0603d43d1e5', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 2, 'created': '2021-07-28 07:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f516b1e6327baef74fa5bb78213ff04c04a652ed', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 3, 'created': '2021-07-30 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ad6d727add0caf83ca3bb89ad82bd16704a450e5', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 4, 'created': '2021-08-02 10:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9019463d41cb1f65d4a0652e06dadce3dc95f2d4', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 5, 'created': '2021-08-05 03:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9f45f4b24a7dce3bfb8a52e4d9930c435e964ce2', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 6, 'created': '2021-08-05 12:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c2cfb91970892b84bc34d216c46780866f864228', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 7, 'created': '2021-08-06 01:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8d6be0b9cb154fc0a2c4a4df0caa9efb1879adf8', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 8, 'created': '2021-08-06 03:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/be2fd4417dabc974335525c0cb20775e44355272', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}, {'number': 9, 'created': '2021-08-19 00:39:42.000000000', 'files': ['cyborg/objects/ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b1d64f3169c206544648159e4844e98dd23dd395', 'message': 'Fill the msg of exception\n\nChange-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209\n(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)\n'}]",4,797403,b1d64f3169c206544648159e4844e98dd23dd395,40,6,9,23950,,,0,"Fill the msg of exception

Change-Id: I2cf328e5a9f0de137edc264cc0d718c324f93209
(cherry picked from commit 40ca546f80344ae761b2f6b84113ffe4a1406d8a)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/03/797403/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/ext_arq.py'],1,a9638683eb594d58527e7ef0963ea0603d43d1e5,change-797403-4," resource='Attach Handle', msg='with uuid=%s' % db_extarq['attach_handle_id'])"," resource='attach handle', msg='')",2,2
openstack%2Fos-net-config~master~I78f33c2f31e4db3927326ccb3289eecdc5beea0d,openstack/os-net-config,master,I78f33c2f31e4db3927326ccb3289eecdc5beea0d,setup.cfg: Replace dashes with underscores,MERGED,2021-04-30 06:42:48.000000000,2021-08-19 06:45:35.000000000,2021-08-19 06:40:48.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-04-30 06:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7fea5da9500112621ce6f0a28e095f08ba902399', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I78f33c2f31e4db3927326ccb3289eecdc5beea0d\n""}, {'number': 2, 'created': '2021-04-30 17:45:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4d351d400c5a6f2883070a9bfc41b8118b66905f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788990\nChange-Id: I78f33c2f31e4db3927326ccb3289eecdc5beea0d\n""}]",0,788895,4d351d400c5a6f2883070a9bfc41b8118b66905f,18,4,2,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788990
Change-Id: I78f33c2f31e4db3927326ccb3289eecdc5beea0d
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/95/788895/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7fea5da9500112621ce6f0a28e095f08ba902399,,description_file =author_email = openstack-discuss@lists.openstack.orghome_page = https://opendev.org/openstack/os-net-config python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.orghome-page = https://opendev.org/openstack/os-net-config python-requires = >=3.6,4,4
openstack%2Ftripleo-ci~master~If71c864391c4f231423a088594a1bfc96824752e,openstack/tripleo-ci,master,If71c864391c4f231423a088594a1bfc96824752e,"ignore setup.cfg for multinode, upgrade jobs",MERGED,2021-04-30 17:44:55.000000000,2021-08-19 06:40:46.000000000,2021-08-19 06:40:46.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-30 17:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22ed28fa39a3ba16f1fac316855d7b4bbada6631', 'message': 'ignore setup.cfg for multinode jobs\n\nChange-Id: If71c864391c4f231423a088594a1bfc96824752e\n'}, {'number': 2, 'created': '2021-04-30 17:48:21.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0aa16705f1322eef500d602beb28d5b64aafdae8', 'message': 'ignore setup.cfg for multinode, upgrade jobs\n\nChange-Id: If71c864391c4f231423a088594a1bfc96824752e\n'}]",0,788990,0aa16705f1322eef500d602beb28d5b64aafdae8,16,6,2,9592,,,0,"ignore setup.cfg for multinode, upgrade jobs

Change-Id: If71c864391c4f231423a088594a1bfc96824752e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/788990/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,22ed28fa39a3ba16f1fac316855d7b4bbada6631,, - setup.cfg,,1,0
openstack%2Fmasakari~master~I998f7884195b93927773c7186d61c13670a53662,openstack/masakari,master,I998f7884195b93927773c7186d61c13670a53662,"Set ""disabled reason"" for compute service.",MERGED,2021-07-14 09:13:15.000000000,2021-08-19 06:13:47.000000000,2021-08-19 06:08:55.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-14 09:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/af6111c008fd61e0f23cd310e29c4210e0f9a161', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}, {'number': 2, 'created': '2021-08-09 11:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ef029345640e2fed9c2eaf91471e3319f21e37f4', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added in config.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}, {'number': 3, 'created': '2021-08-14 18:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4530c20dc7c36a97a3653aba19a9fadf2e7dc427', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added in config.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}, {'number': 4, 'created': '2021-08-16 12:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/03f64e9fc6fd663de0bd352e1be95f5a9bde68a6', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added in config.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}, {'number': 5, 'created': '2021-08-16 14:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2c574ab112c3847cf5e1f6fb7de3d122cfd085a0', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added in config.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}, {'number': 6, 'created': '2021-08-17 10:13:47.000000000', 'files': ['masakari/tests/unit/fakes.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/conf/engine_driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'releasenotes/notes/compute-disable-reason-9570734c0bb888cf.yaml', 'masakari/engine/drivers/taskflow/process_failure.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c861437b52ca0c415c4239dbf86da25877e0954e', 'message': 'Set ""disabled reason"" for compute service.\n\nMasakari never sets reason why compute service was disabled.\n""disabled reason"" was added in config.\n\nCloses-Bug: 1936181\nChange-Id: I998f7884195b93927773c7186d61c13670a53662\n'}]",6,800756,c861437b52ca0c415c4239dbf86da25877e0954e,41,3,6,32927,,,0,"Set ""disabled reason"" for compute service.

Masakari never sets reason why compute service was disabled.
""disabled reason"" was added in config.

Closes-Bug: 1936181
Change-Id: I998f7884195b93927773c7186d61c13670a53662
",git fetch https://review.opendev.org/openstack/masakari refs/changes/56/800756/6 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/fakes.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/engine/drivers/taskflow/process_failure.py']",4,af6111c008fd61e0f23cd310e29c4210e0f9a161,bug/1936181," self.novaclient.enable_disable_service( self.context, host_name, reason=""process failed, please check masakari notifications."")"," self.novaclient.enable_disable_service(self.context, host_name)",16,3
openstack%2Fglance_store~master~I595207658e812556d726121c1fe4400668c819ec,openstack/glance_store,master,I595207658e812556d726121c1fe4400668c819ec,Xena cycle Release Notes,MERGED,2021-08-18 06:38:01.000000000,2021-08-19 05:37:09.000000000,2021-08-19 05:35:48.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 06:38:01.000000000', 'files': ['releasenotes/notes/xena-final-release-3c6e19dfba43b40d.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6807722becf024ab44ce6ec23e0aca432b1da1c1', 'message': 'Xena cycle Release Notes\n\nChange-Id: I595207658e812556d726121c1fe4400668c819ec\n'}]",0,804952,6807722becf024ab44ce6ec23e0aca432b1da1c1,9,5,1,9303,,,0,"Xena cycle Release Notes

Change-Id: I595207658e812556d726121c1fe4400668c819ec
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/52/804952/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/xena-final-release-3c6e19dfba43b40d.yaml'],1,6807722becf024ab44ce6ec23e0aca432b1da1c1,xena-final-reno,--- prelude: > This was a quiet development cycle for the ``glance_store`` library. Several bugs were fixed and some code changes were committed to increase stability. fixes: - | * Bug 1926404_: HTTP 413 : Failed to add object to Swift. Got error from Swift * Bug 1885651_: swift_store_endpoint doesn't override keystone catalog * Bug 1934849_: s3 backend takes time exponentially .. _1926404: https://code.launchpad.net/bugs/1926404 .. _1885651: https://code.launchpad.net/bugs/1885651 .. _1934849: https://code.launchpad.net/bugs/1934849 ,,14,0
openstack%2Fmanila-tempest-plugin~master~I0fc9885ef6ef954bbd40477db8d6f05477324581,openstack/manila-tempest-plugin,master,I0fc9885ef6ef954bbd40477db8d6f05477324581,Replace tests for API version 1.0 with 2.0,NEW,2021-07-27 23:01:40.000000000,2021-08-19 05:25:10.000000000,,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-07-27 23:01:40.000000000', 'files': ['manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_security_services.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/adbedb08cd44f64d8974045bd531bb5e0dd84ea4', 'message': ""Replace tests for API version 1.0 with 2.0\n\nManila does not support an API micro version called '1.0';\nmicro versions are a function of the v2 API, and they begin\nwith micro version 2.0.\n\nHowever, in some tests, we use the notation '1.0' to indicate\nthe deprecated v1 API; this notation is problematic with the way\nthe tests are judged for skipping based on versions supported.\n\nThe skip check method [1] checks whether the version being requested\nis supported per min and max versions in the config file. By default,\nthe min version is set to 2.0 [2]. So these tests are ALWAYS\nbeing skipped, e.g.:\n\nmanila_tempest_tests.tests.api.test_security_services.SecurityServicesTest.test_list_security_services_with_detail_1_1_0 ... SKIPPED: Skipped. Test requires microversion '1.0'.\n\nSo wherever we use this skip-if-unsupported-api-version logic, we can\nreplace '1.0' with '2.0' since we know functionally API micro version\n2.0 behaves exactly like the v1 API.\n\nThis commit doesn't eliminate all instances of '1.0' in the tests; we\ncould consider doing that in a subsequent change; for now preserving\nthe other tests as is will give us the advantage of still testing the\ndeprecated v1 API paths.\n\n[1] https://opendev.org/openstack/manila-tempest-plugin/src/commit/a0acf25969daf37f3b1f527809f297e6ba227cc9/manila_tempest_tests/utils.py#L98-L102\n[2] https://opendev.org/openstack/manila-tempest-plugin/src/commit/b60fddac7f00824028e7f93678d3daaa62ea9adf/manila_tempest_tests/config.py#L27-L32\n\nChange-Id: I0fc9885ef6ef954bbd40477db8d6f05477324581\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",31,802633,adbedb08cd44f64d8974045bd531bb5e0dd84ea4,10,3,1,16643,,,0,"Replace tests for API version 1.0 with 2.0

Manila does not support an API micro version called '1.0';
micro versions are a function of the v2 API, and they begin
with micro version 2.0.

However, in some tests, we use the notation '1.0' to indicate
the deprecated v1 API; this notation is problematic with the way
the tests are judged for skipping based on versions supported.

The skip check method [1] checks whether the version being requested
is supported per min and max versions in the config file. By default,
the min version is set to 2.0 [2]. So these tests are ALWAYS
being skipped, e.g.:

manila_tempest_tests.tests.api.test_security_services.SecurityServicesTest.test_list_security_services_with_detail_1_1_0 ... SKIPPED: Skipped. Test requires microversion '1.0'.

So wherever we use this skip-if-unsupported-api-version logic, we can
replace '1.0' with '2.0' since we know functionally API micro version
2.0 behaves exactly like the v1 API.

This commit doesn't eliminate all instances of '1.0' in the tests; we
could consider doing that in a subsequent change; for now preserving
the other tests as is will give us the advantage of still testing the
deprecated v1 API paths.

[1] https://opendev.org/openstack/manila-tempest-plugin/src/commit/a0acf25969daf37f3b1f527809f297e6ba227cc9/manila_tempest_tests/utils.py#L98-L102
[2] https://opendev.org/openstack/manila-tempest-plugin/src/commit/b60fddac7f00824028e7f93678d3daaa62ea9adf/manila_tempest_tests/config.py#L27-L32

Change-Id: I0fc9885ef6ef954bbd40477db8d6f05477324581
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/33/802633/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_security_services.py']",2,adbedb08cd44f64d8974045bd531bb5e0dd84ea4,test-skips," @ddt.data(*utils.deduplicate(['2.0', '2.42', '2.44', LATEST_MICROVERSION])) listed = self.shares_v2_client.list_security_services( detailed=True, version=version)['security_services'] @ddt.data(*utils.deduplicate(['2.0', '2.43', '2.44', LATEST_MICROVERSION])) ss = self.create_security_service( client=self.shares_v2_client, version=version, **data) get = self.shares_v2_client.get_security_service( ss[""id""], version=version)['security_service']"," @ddt.data(*utils.deduplicate(['1.0', '2.42', '2.44', LATEST_MICROVERSION])) if utils.is_microversion_ge(version, '2.0'): listed = self.shares_v2_client.list_security_services( detailed=True, version=version)['security_services'] else: listed = self.shares_client.list_security_services( detailed=True)['security_services'] @ddt.data(*utils.deduplicate(['1.0', '2.43', '2.44', LATEST_MICROVERSION])) if utils.is_microversion_ge(version, '2.0'): ss = self.create_security_service( client=self.shares_v2_client, version=version, **data) get = self.shares_v2_client.get_security_service( ss[""id""], version=version)['security_service'] else: ss = self.create_security_service(**data) get = self.shares_client.get_security_service( ss[""id""])['security_service']",19,45
openstack%2Fpython-tripleoclient~master~I3d01c5a19500db9a830c78193f82175b4c1d4361,openstack/python-tripleoclient,master,I3d01c5a19500db9a830c78193f82175b4c1d4361,Workaround py36 encoding pip bug,MERGED,2021-08-17 15:48:05.000000000,2021-08-19 05:21:44.000000000,2021-08-18 15:24:35.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a901b095727fb5bb05ed90e19f0bba139d5368fe', 'message': 'WIP: Enforce UTF8 with python3.6\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\n'}, {'number': 2, 'created': '2021-08-17 16:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ffc7047d253ec42aa8be32e08cdbb8d863957128', 'message': 'WIP: Enforce UTF8 with python3.6\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}, {'number': 3, 'created': '2021-08-18 08:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/528fe9a2e7a32466cde4295a82f49b290f4cc9b9', 'message': 'WIP: Enforce UTF8 with python3.6\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804962\n'}, {'number': 4, 'created': '2021-08-18 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4618f9bcb21019d41599f1e239e0bc925ab226d5', 'message': 'WIP: Enforce UTF8 with python3.6\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}, {'number': 5, 'created': '2021-08-18 09:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a08329639c0ea66828959af5b11d9d50200e30d4', 'message': 'WIP: Enforce UTF8 with python3.6\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890\n'}, {'number': 6, 'created': '2021-08-18 11:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9694974ae920ae1821c3a28beaf7dac05a53fb93', 'message': 'Workaround py36 encoding pip bug\n\n* ensures we add LC_ALL with UTF8 if not already set\n* consolidate tox.ini indentation\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nRelated: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}, {'number': 7, 'created': '2021-08-18 11:15:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/377c081f40446e38f3672946d0207811c8bb77eb', 'message': 'Workaround py36 encoding pip bug\n\n* ensures we add LC_ALL with UTF8 if not already set\n* consolidate tox.ini indentation\n* expose only generic py env on envlist\n* sort envvars in tox\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nRelated: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}]",1,804887,377c081f40446e38f3672946d0207811c8bb77eb,29,5,7,24162,,,0,"Workaround py36 encoding pip bug

* ensures we add LC_ALL with UTF8 if not already set
* consolidate tox.ini indentation
* expose only generic py env on envlist
* sort envvars in tox

Change-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361
Related: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/804887/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a901b095727fb5bb05ed90e19f0bba139d5368fe,pip-py36, - openstack-tox-py36: tox_environment: LANG: en_US.UTF-8, - openstack-tox-py36,3,1
openstack%2Fnova~master~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,master,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,MERGED,2020-11-27 10:23:29.000000000,2021-08-19 04:54:34.000000000,2021-08-18 18:01:03.000000000,"[{'_account_id': 7166}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11583}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-27 10:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfaffbf555a2a0384af847c220f1f2af8d3c4c29', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\ncheck progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, Exception raises to manager and instance/migration\nis set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}, {'number': 2, 'created': '2021-04-29 11:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a6e0ca87eeb4a5135654dcf7772e84f7668618f', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\ncheck progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, Exception raises to manager and instance/migration\nis set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}, {'number': 3, 'created': '2021-07-15 14:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f83ee41677feb2eb74077f48668bb2517105a75c', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\ncheck progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, Exception raises to manager and instance/migration\nis set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}, {'number': 4, 'created': '2021-07-26 15:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d59715aeec2cc00a93f39fae7a4454f6db43e8a', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}, {'number': 5, 'created': '2021-08-04 16:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8c005d34245739571de342aab6726051e521be3', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}, {'number': 6, 'created': '2021-08-17 14:00:33.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39f0af5d18d6bea34fa15b8f7778115b25432749', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n'}]",25,764435,39f0af5d18d6bea34fa15b8f7778115b25432749,73,7,6,28332,,,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/764435/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,bfaffbf555a2a0384af847c220f1f2af8d3c4c29,bug/1905944," @mock.patch.object(libvirt_driver.LibvirtDriver, ""live_migration_abort"") def _test_live_migration_main(self, mock_abort, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn, mon_side_effect=None): mock_monitor.side_effect = mon_side_effect if mon_side_effect: self.assertRaises(mon_side_effect, drvr._live_migration, self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) mock_abort.assert_called_once_with(instance) else: drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) def test_live_migration_main(self): self._test_live_migration_main() def test_live_migration_main_monitoring_failed(self): self._test_live_migration_main(mon_side_effect=Exception) "," def test_live_migration_main(self, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn): drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data)",28,6
openstack%2Fpython-openstackclient~master~I43d84b5532ae6570e1486867c03b8ebec81e38e4,openstack/python-openstackclient,master,I43d84b5532ae6570e1486867c03b8ebec81e38e4,Update volume create documentation,MERGED,2021-03-09 13:50:29.000000000,2021-08-19 04:34:37.000000000,2021-08-19 04:32:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-09 13:50:29.000000000', 'files': ['doc/source/cli/command-objects/volume.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/46bd6ef91f297aa84fb761b0e7fd983668da56de', 'message': 'Update volume create documentation\n\nChange I94aa7a9824e44f9585ffb45e5e7637b9588539b4 removed these options.\n\nChange-Id: I43d84b5532ae6570e1486867c03b8ebec81e38e4\n'}]",0,779498,46bd6ef91f297aa84fb761b0e7fd983668da56de,8,3,1,15197,,,0,"Update volume create documentation

Change I94aa7a9824e44f9585ffb45e5e7637b9588539b4 removed these options.

Change-Id: I43d84b5532ae6570e1486867c03b8ebec81e38e4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/779498/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/volume.rst'],1,46bd6ef91f297aa84fb761b0e7fd983668da56de,,," [--user <user>] [--project <project>] [--multi-attach].. option:: --user <user> Specify an alternate user (name or ID) .. option:: --project <project> Specify an alternate project (name or ID) .. option:: --multi-attach Allow volume to be attached more than once (default to False) The :option:`--project` and :option:`--user` options are typically only useful for admin users, but may be allowed for other users depending on the policy of the cloud and the roles granted to the user. ",0,19
openstack%2Fskyline-console~master~I57ee116bfc94dbe64bea66e9b9d13912cb95ab52,openstack/skyline-console,master,I57ee116bfc94dbe64bea66e9b9d13912cb95ab52,fix: Fix hint in List,MERGED,2021-08-19 03:22:03.000000000,2021-08-19 03:36:21.000000000,2021-08-19 03:36:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 33636}, {'_account_id': 33689}]","[{'number': 1, 'created': '2021-08-19 03:22:03.000000000', 'files': ['src/containers/List/index.jsx', 'src/pages/network/containers/Network/Detail/Subnets.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/74d81658340f681bf0e0ca7715174d2f726a2279', 'message': 'fix: Fix hint in List\n\nFix hint render in BaseList component\n\nChange-Id: I57ee116bfc94dbe64bea66e9b9d13912cb95ab52\n'}]",0,805108,74d81658340f681bf0e0ca7715174d2f726a2279,6,4,1,30434,,,0,"fix: Fix hint in List

Fix hint render in BaseList component

Change-Id: I57ee116bfc94dbe64bea66e9b9d13912cb95ab52
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/08/805108/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/pages/network/containers/Network/Detail/Subnets.jsx']",2,74d81658340f681bf0e0ca7715174d2f726a2279,,, this.updateHints(datas);,23,3
openstack%2Fskyline-console~master~Id8b9f7839432b45af673e33832b36ae06fc7eefd,openstack/skyline-console,master,Id8b9f7839432b45af673e33832b36ae06fc7eefd,fix:Fix special name in flavor metadata,MERGED,2021-08-19 01:44:38.000000000,2021-08-19 03:21:31.000000000,2021-08-19 03:21:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-19 01:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e5d641524d475a1989e6ad7f3582ae95ba1d5c8d', 'message': '[Animbus]fix: Fix special name in flavor metadata\n\nFix special name in flavor metadata\n\nIssue: 96680\nChange-Id: Id8b9f7839432b45af673e33832b36ae06fc7eefd\n'}, {'number': 2, 'created': '2021-08-19 02:16:47.000000000', 'files': ['src/stores/nova/flavor.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b14d532eb9164940f0cf291e13a53caa69a96f6c', 'message': 'fix:Fix special name in flavor metadata\n\nRemove key of extra_specs to return correct object in mapperBeforeFetchProject\n\nChange-Id: Id8b9f7839432b45af673e33832b36ae06fc7eefd\n'}]",2,805096,b14d532eb9164940f0cf291e13a53caa69a96f6c,10,3,2,33689,,,0,"fix:Fix special name in flavor metadata

Remove key of extra_specs to return correct object in mapperBeforeFetchProject

Change-Id: Id8b9f7839432b45af673e33832b36ae06fc7eefd
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/96/805096/2 && git format-patch -1 --stdout FETCH_HEAD,['src/stores/nova/flavor.js'],1,e5d641524d475a1989e6ad7f3582ae95ba1d5c8d,patch-dev," const { extra_specs: { key, ...extraRest } = {}, ...rest } = data; ...extraRest, architecture: extraRest[':architecture'] || 'custom', category: extraRest[':category'],"," const { extra_specs = {}, ...rest } = data; ...extra_specs, architecture: extra_specs[':architecture'] || 'custom', category: extra_specs[':category'],",4,4
openstack%2Ftripleo-common~stable%2Fwallaby~I50a683aaa7062f7f33d6de45758844c8523da7f2,openstack/tripleo-common,stable/wallaby,I50a683aaa7062f7f33d6de45758844c8523da7f2,Bump Ceph container daemons to v6.0.4,MERGED,2021-08-18 18:42:53.000000000,2021-08-19 03:20:40.000000000,2021-08-19 03:19:21.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-18 18:42:53.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/adb0323ab842d41cd790e886663c888675ce4ea9', 'message': 'Bump Ceph container daemons to v6.0.4\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.4 for the daemon images).\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n(cherry picked from commit 13614295b286fd5d5a2e2cde22455c743710391e)\n'}]",0,805007,adb0323ab842d41cd790e886663c888675ce4ea9,13,6,1,30002,,,0,"Bump Ceph container daemons to v6.0.4

The stable Ceph containers v16.2.5 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.4 for the daemon images).

Change-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2
(cherry picked from commit 13614295b286fd5d5a2e2cde22455c743710391e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/805007/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,adb0323ab842d41cd790e886663c888675ce4ea9,cephadm_container_promotion-stable/wallaby,- imagename: quay.io/ceph/daemon:v6.0.4-stable-6.0-pacific-centos-8-x86_64,- imagename: quay.ceph.io/ceph-ci/daemon:v6.0.0-stable-6.0-pacific-centos-8-x86_64,3,3
openstack%2Ftripleo-quickstart-extras~master~I1532f87a374631692a732999d3c3ed02fbcb9fef,openstack/tripleo-quickstart-extras,master,I1532f87a374631692a732999d3c3ed02fbcb9fef,Replace overcloud-delete.sh script with tripleo operator roles,MERGED,2021-07-11 16:09:10.000000000,2021-08-19 03:19:19.000000000,2021-08-19 03:19:19.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-11 16:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83ff4a8bf9926196dd869f5f2ec74b2b514a9c73', 'message': '[WIP] Replace overcloud-delete.sh script with tripleo operator roles\n\nThis patch will remove all shell scripts and replace\nthem with tripleo operator ansible roles.\n\nChange-Id: I1532f87a374631692a732999d3c3ed02fbcb9fef\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2021-07-13 12:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0429331c2a874e06305e6db2532adbed0ddfbc62', 'message': 'Replace overcloud-delete.sh script with tripleo operator roles\n\nThis patch will remove all shell scripts and replace\nthem with tripleo operator ansible roles.\n\nChange-Id: I1532f87a374631692a732999d3c3ed02fbcb9fef\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2021-07-13 12:39:40.000000000', 'files': ['roles/overcloud-delete/templates/overcloud_delete.sh.j2', 'roles/overcloud-delete/defaults/main.yml', 'roles/overcloud-delete/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9172e8483a7cc7e184fe0018006902560120843f', 'message': 'Replace overcloud-delete.sh script with tripleo operator roles\n\nThis patch will remove all shell scripts and replace\nthem with tripleo operator ansible roles.\n\nChange-Id: I1532f87a374631692a732999d3c3ed02fbcb9fef\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",1,800340,9172e8483a7cc7e184fe0018006902560120843f,16,4,3,30750,,,0,"Replace overcloud-delete.sh script with tripleo operator roles

This patch will remove all shell scripts and replace
them with tripleo operator ansible roles.

Change-Id: I1532f87a374631692a732999d3c3ed02fbcb9fef
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/40/800340/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-delete/templates/overcloud_delete.sh.j2', 'roles/overcloud-delete/defaults/main.yml', 'roles/overcloud-delete/tasks/main.yml']",3,83ff4a8bf9926196dd869f5f2ec74b2b514a9c73,utilize-tripleo-operator,"- name: ""Delete overcloud"" tags: - overcloud-delete block: - name: ""Get overcloud id"" shell: >- source {{ working_dir }}/stackrc && \ openstack stack list -f value -c ID environment: OVERCLOUD_NAME: ""{{ stack_name }}"" register: overcloud_id - name: ""Run overcloud delete"" when: - step_delete_overcloud | bool collections: - tripleo.operator include_role: name: tripleo_overcloud_delete vars: tripleo_overcloud_delete_debug: true tripleo_overcloud_delete_name: ""{{ stack_name }}"" tripleo_overcloud_delete_rc_file: ""{{ working_dir }}/stackrc"" tripleo_overcloud_delete_log: ""{{ delete_log }}"" - name: ""check for delete command to complete or fail"" when: - step_delete_overcloud | bool source {{ working_dir }}/stackrc openstack stack show {{ overcloud_id }} -f yaml","# Generate a script from templates. These are scripts # rather than additional ansible tasks so that they can be run # manually from the undercloud host. - name: Create overcloud delete script template: src: ""{{ delete_script }}"" dest: ""{{ working_dir }}/overcloud-delete.sh"" mode: 0755 tags: - overcloud-scripts - when: step_delete_overcloud|bool block: - name: Delete the overcloud shell: > set -o pipefail && {{ working_dir }}/overcloud-delete.sh 2>&1 {{ timestamper_cmd }} > {{ delete_log }} tags: - overcloud-delete - name: check for delete command to complete or fail source {{ working_dir }}/stackrc openstack stack show $(cat {{ working_dir }}/overcloud_id) -f yaml tags: - overcloud-delete",27,41
openstack%2Fos-brick~master~Ib455adeba726d7c83b0a0f5989805c09d70a35d1,openstack/os-brick,master,Ib455adeba726d7c83b0a0f5989805c09d70a35d1,DNM: prototyping the config for nvmeof-agent,ABANDONED,2021-08-17 04:10:17.000000000,2021-08-19 02:57:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-17 04:10:17.000000000', 'files': ['.gitignore', 'os_brick/cmd/nvmeof_agent/agent.py', 'os_brick/cmd/nvmeof_agent/kioxia/rest_client.py', 'tools/config/nvmeof_agent-config-generator.conf', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4175dcf943867a4a58d0880d30852dc9c56698ea', 'message': 'DNM: prototyping the config for nvmeof-agent\n\nChange-Id: Ib455adeba726d7c83b0a0f5989805c09d70a35d1\n'}]",12,804813,4175dcf943867a4a58d0880d30852dc9c56698ea,14,1,1,5314,,,0,"DNM: prototyping the config for nvmeof-agent

Change-Id: Ib455adeba726d7c83b0a0f5989805c09d70a35d1
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/13/804813/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'os_brick/cmd/nvmeof_agent/agent.py', 'os_brick/cmd/nvmeof_agent/kioxia/rest_client.py', 'tools/config/nvmeof_agent-config-generator.conf', 'setup.cfg', 'tox.ini']",6,4175dcf943867a4a58d0880d30852dc9c56698ea,add-config, [testenv:genconfig] sitepackages = False envdir = {toxworkdir}/pep8 commands = oslo-config-generator --config-file=tools/config/nvmeof_agent-config-generator.conf,,78,17
openstack%2Fnova~master~I6c9c6d26edfcd4419371282222d128beedf7fa70,openstack/nova,master,I6c9c6d26edfcd4419371282222d128beedf7fa70,smartnic support - new vnic type,MERGED,2021-01-19 07:24:05.000000000,2021-08-19 02:30:06.000000000,2021-08-19 02:28:14.000000000,"[{'_account_id': 5754}, {'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-01-19 07:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e72d46db50f3ec28958c8461fad3f40656593a5a', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 2, 'created': '2021-01-21 07:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/937a7a362c93ab601f863ba3683cfc166c50ae37', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 3, 'created': '2021-01-25 07:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fa4beb3f6ffa945f0e3a889e22f224f4d06efd1', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 4, 'created': '2021-02-23 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/609899c3cb1ef0af74abd8cb6774a37fca1c960e', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 5, 'created': '2021-02-25 06:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01c3edc58f40eab4a3b8e874141cc7131287f968', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 6, 'created': '2021-02-25 08:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0abe3dfba4ea6cb5a4811b9734188adab7e568e', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 7, 'created': '2021-02-26 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/005db5afadd279c47d89ddc74b7540e13b5581f6', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 8, 'created': '2021-03-02 07:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3132233043848b98963e85d3fee7546babb53375', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 9, 'created': '2021-03-02 08:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce1045417e8d9d7be72e171496d387cb88cbba65', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 10, 'created': '2021-03-05 04:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4a3a40f3a89ca92683017a5790a4ebbb027bd3f', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 11, 'created': '2021-03-05 07:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b292503d0c18ad3b1904e2d036f8573d27995a6', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 12, 'created': '2021-03-10 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fe4bededd04a06838d0944b691b59ea2b6ee57d', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 13, 'created': '2021-03-11 08:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b770418a8570e4deac805f952156f69fe7460d8', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\nCyborg ARQ UUID is saved in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 14, 'created': '2021-03-30 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14c4bc098d06d2fca6c003ac0680a327d8d1593', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 15, 'created': '2021-05-14 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e249e882a5ed0316eb66f7781e89df6f80996a02', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 16, 'created': '2021-05-20 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4642886d40bb64387839bf17440677634790d423', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 17, 'created': '2021-05-21 08:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ee4b489149d775b8c84787cc6313760abda2fda', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 18, 'created': '2021-06-02 06:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4ba496250a74891319561958984ec415e295dfa', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 19, 'created': '2021-06-08 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb033df930b0f5c278b8bd1bfcf7cf5b00a5c4c1', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 20, 'created': '2021-06-09 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c83350f2cf7c0d9b42cf2191a8e208e33236735', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 21, 'created': '2021-06-11 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16b7c81f2bf09be5735b04dc7bd76f973c717def', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 22, 'created': '2021-06-15 02:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8dd813b35675e6c3e3e7e8843b1c12e69be541c', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 23, 'created': '2021-06-17 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a65da140d101e122e894f6359c97f8c9c7cde25', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 24, 'created': '2021-06-18 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/996506c071e7c5d5da6db79181e4f316927dc83f', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 25, 'created': '2021-06-21 05:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15cd1bc4b848cf0307dd8a993de270b6ece2e371', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 26, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9408f6e165e53cac5d057b119a523eb594c78f9f', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 27, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8204a69ee3c1b245ed0c827fbabdddfc61462f8', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 28, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4782e664a8d00f2c3cf790b31554264ad71f8d5', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 29, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b7441defa84191c6eed8d45ba0fdc80bee419af', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 30, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2489ea349c334abb445fd22652a7cfcb58c5b9a', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 31, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f925a8f34457744977ab800a5bc0161a54e9201c', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 32, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57eb09f8cc98e63a11ce88cad53cce49589beeec', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 33, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59ea07adc08143127da86fce8ec5a6366bb075e7', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 34, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3edbb22b02a0053ad216232830d06fd2fd703c7', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 35, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c8da8717236b17e0aee94b6a066f067c15e12d', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 36, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13c8c08d9ab14b690b5417a6fe57064185472809', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 37, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f40cb2f7546853f880eb72d35c8beac5b84baa76', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}, {'number': 38, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/virt/libvirt/vif.py', 'nova/network/neutron.py', 'nova/network/model.py', 'nova/objects/network_request.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b84135f2d45370f94a0a6261af2e2fb6cefae5b', 'message': ""smartnic support - new vnic type\n\nThere are 2 vnic type added to support smatnic: 'accelerator-direct'\nand 'accelerator-direct-physical'.\n\narq uuid and port device profile keep in NetworkRequest.\n\nChange-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70\nImplements: blueprint sriov-smartnic-support\n""}]",43,771363,8b84135f2d45370f94a0a6261af2e2fb6cefae5b,247,6,38,7543,,,0,"smartnic support - new vnic type

There are 2 vnic type added to support smatnic: 'accelerator-direct'
and 'accelerator-direct-physical'.

arq uuid and port device profile keep in NetworkRequest.

Change-Id: I6c9c6d26edfcd4419371282222d128beedf7fa70
Implements: blueprint sriov-smartnic-support
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/771363/29 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/objects/network_request.py']",4,e72d46db50f3ec28958c8461fad3f40656593a5a,bp/sriov-smartnic-support," # Version 1.3: Added arq_uuid VERSION = '1.3' 'arq_uuid': fields.UUIDField(nullable=True),", VERSION = '1.2',16,4
openstack%2Fmasakari-monitors~master~I448b9d2535bfaffa5a3bb77307baa0527a005144,openstack/masakari-monitors,master,I448b9d2535bfaffa5a3bb77307baa0527a005144,Use pre-provided libvirt-python,MERGED,2021-08-17 18:53:55.000000000,2021-08-19 02:22:29.000000000,2021-08-19 02:21:07.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 18:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f1489424558933073fcf4cfa09f4ac80933593d1', 'message': 'Use libvirt-python from distro\n\nThis is to satisfy both libvirtd compatibility and recent pip\nsanity checks that started failing in DevStack jobs after [1],\nimpacting the main Masakari gate.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/802642\n\nChange-Id: I448b9d2535bfaffa5a3bb77307baa0527a005144\n'}, {'number': 2, 'created': '2021-08-18 08:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9c42e088f89aaa69ab6fa07b355f610682b760db', 'message': 'Use pre-provided libvirt-python\n\nThis is to satisfy both libvirtd compatibility and recent pip\nsanity checks that started failing in DevStack jobs after [1],\nimpacting the main Masakari gate.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/802642\n\nChange-Id: I448b9d2535bfaffa5a3bb77307baa0527a005144\n'}, {'number': 3, 'created': '2021-08-18 09:03:33.000000000', 'files': ['requirements.txt', 'bindep.txt', 'test-requirements.txt', 'releasenotes/notes/libvirt-still-required-22a8d817ee8d0be8.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9a351efcec3a67ea429bc437f6aa71861dfcce1f', 'message': 'Use pre-provided libvirt-python\n\nThis is to satisfy both libvirtd compatibility and recent pip\nsanity checks that started failing in DevStack jobs after [1],\nimpacting the main Masakari gate.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/802642\n\nChange-Id: I448b9d2535bfaffa5a3bb77307baa0527a005144\n'}]",1,804913,9a351efcec3a67ea429bc437f6aa71861dfcce1f,17,3,3,30491,,,0,"Use pre-provided libvirt-python

This is to satisfy both libvirtd compatibility and recent pip
sanity checks that started failing in DevStack jobs after [1],
impacting the main Masakari gate.

[1] https://review.opendev.org/c/openstack/devstack/+/802642

Change-Id: I448b9d2535bfaffa5a3bb77307baa0527a005144
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/13/804913/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'bindep.txt', 'releasenotes/notes/libvirt-still-required-22a8d817ee8d0be8.yaml']",3,f1489424558933073fcf4cfa09f4ac80933593d1,libvirt-from-distro,--- other: - | *Note to packagers*: ``libvirt-python`` package is still required by instance-oriented monitors (available in most distros as ``python3-libvirt``). It is no longer listed in ``requirements.txt`` so it will not get installed when installing ``masakari-monitors`` package from PyPI. The change was done to follow how Nova handles this requirement. This is to satisfy both libvirtd compatibility and recent pip sanity checks. ,,18,4
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I05bda8921a97e2c3dad2ffcb3784cd43b7f6654b,openstack/puppet-openstack-integration,stable/wallaby,I05bda8921a97e2c3dad2ffcb3784cd43b7f6654b,Gather config files for libvirt,MERGED,2021-07-20 13:01:15.000000000,2021-08-19 02:11:43.000000000,2021-08-19 02:11:43.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 13:01:15.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a20e4cc80e1a5cd4524bad78d9b8b2e82b08b31b', 'message': 'Gather config files for libvirt\n\nThis change ensures that config files for the libvirt service is\ngathered when copying log files so that we can debug any issue with\nthe libvirt service in detail.\n\nChange-Id: I05bda8921a97e2c3dad2ffcb3784cd43b7f6654b\n(cherry picked from commit d1e9389e3fdd5b5fcee94901ae34c3533571266e)\n'}]",0,801477,a20e4cc80e1a5cd4524bad78d9b8b2e82b08b31b,7,6,1,9816,,,0,"Gather config files for libvirt

This change ensures that config files for the libvirt service is
gathered when copying log files so that we can debug any issue with
the libvirt service in detail.

Change-Id: I05bda8921a97e2c3dad2ffcb3784cd43b7f6654b
(cherry picked from commit d1e9389e3fdd5b5fcee94901ae34c3533571266e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/77/801477/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,a20e4cc80e1a5cd4524bad78d9b8b2e82b08b31b,libvirt-config-stable/wallaby,if [ -d /etc/libvirt ]; then sudo cp -r /etc/libvirt $LOG_DIR/etc/ fi if use_debs; then if [ -f /etc/default/libvirtd ]; then mkdir $LOG_DIR/etc/default sudo cp /etc/default/libvirtd $LOG_DIR/etc/default/ fi elif is_fedora; then if [ -f /etc/sysconfig/libvirtd ]; then mkdir $LOG_DIR/etc/sysconfig sudo cp /etc/sysconfig/libvirtd $LOG_DIR/etc/sysconfig/ fi fi,,14,0
openstack%2Fzaqar~master~Ifb8d4f589c2fb8fa2adc0372d1d54077afe5b32d,openstack/zaqar,master,Ifb8d4f589c2fb8fa2adc0372d1d54077afe5b32d,Changed minversion in tox to 3.18.0,MERGED,2021-07-09 02:40:49.000000000,2021-08-19 01:46:28.000000000,2021-08-19 01:44:04.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 02:40:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8dae90a98cc37453cf1da900673eb67a4b28a047', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ifb8d4f589c2fb8fa2adc0372d1d54077afe5b32d\n""}]",0,800151,8dae90a98cc37453cf1da900673eb67a4b28a047,7,2,1,32238,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ifb8d4f589c2fb8fa2adc0372d1d54077afe5b32d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/51/800151/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8dae90a98cc37453cf1da900673eb67a4b28a047,,minversion = 3.18.0allowlist_externals = findallowlist_externals = bash,minversion = 3.1.0whitelist_externals = findwhitelist_externals = bash,3,3
openstack%2Fzaqar~master~I60679f9e78e91bce1145d899332e871dd62d3a9c,openstack/zaqar,master,I60679f9e78e91bce1145d899332e871dd62d3a9c,Replace deprecated import of ABCs from collections,MERGED,2021-07-16 15:21:34.000000000,2021-08-19 01:45:17.000000000,2021-08-19 01:44:03.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 15:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/906cedbfacc9f65b553f802d217ab3c49e65eff3', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: I60679f9e78e91bce1145d899332e871dd62d3a9c\n'}, {'number': 2, 'created': '2021-07-17 03:26:43.000000000', 'files': ['zaqar/tests/unit/storage/base.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/24538768a6ff007ca37a0be2fbddb3086eb01694', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: I60679f9e78e91bce1145d899332e871dd62d3a9c\n'}]",0,801080,24538768a6ff007ca37a0be2fbddb3086eb01694,9,2,2,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: I60679f9e78e91bce1145d899332e871dd62d3a9c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/80/801080/2 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/tests/unit/storage/base.py'],1,906cedbfacc9f65b553f802d217ab3c49e65eff3,bug/1936667,"import collections.abc self.assertIsInstance(res, collections.abc.Iterable)","import collections self.assertIsInstance(res, collections.Iterable)",2,2
openstack%2Fpuppet-openstack-integration~master~I1fc97d77311763d972b2da925f87d09caa9b21ee,openstack/puppet-openstack-integration,master,I1fc97d77311763d972b2da925f87d09caa9b21ee,Fix dstat options,MERGED,2021-07-21 20:57:15.000000000,2021-08-19 01:09:27.000000000,2021-08-19 01:09:27.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 20:57:15.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/47e61125708a3bbbb1bc665bda61cede3b9ae910', 'message': ""Fix dstat options\n\n--top-io-adv and --top-cpu-adv aren't options in c8, so let's make their\nusage dynamic\n\nChange-Id: I1fc97d77311763d972b2da925f87d09caa9b21ee\n""}]",0,801659,47e61125708a3bbbb1bc665bda61cede3b9ae910,7,3,1,14985,,,0,"Fix dstat options

--top-io-adv and --top-cpu-adv aren't options in c8, so let's make their
usage dynamic

Change-Id: I1fc97d77311763d972b2da925f87d09caa9b21ee
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/801659/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,47e61125708a3bbbb1bc665bda61cede3b9ae910,fix-dstat," DSTAT_OPTS="""" set -e if dstat --help 2>&1 | grep -q ""top-io-adv""; then DSTAT_OPTS=""${DSTAT_OPTS} --top-io-adv"" fi if dstat --help 2>&1 | grep -q ""top-cpu-adv""; then DSTAT_OPTS=""${DSTAT_OPTS} --top-cpu-adv"" fi set +e $SUDO dstat -tcmndrylpg $DSTAT_OPTS --nocolor | $SUDO tee --append /var/log/dstat.log > /dev/null &", $SUDO dstat -tcmndrylpg --top-cpu-adv --top-io-adv --nocolor | $SUDO tee --append /var/log/dstat.log > /dev/null &,11,1
openstack%2Frequirements~stable%2Fvictoria~I53ddd8e3a4c943577e183527348ffaaf123a4027,openstack/requirements,stable/victoria,I53ddd8e3a4c943577e183527348ffaaf123a4027,update constraint for oslo.db to new release 8.4.1,MERGED,2021-08-18 08:32:19.000000000,2021-08-19 01:09:04.000000000,2021-08-19 01:09:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-18 08:32:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/333de443832823c9ea65f6713cfcb70357f9cd96', 'message': 'update constraint for oslo.db to new release 8.4.1\n\nmeta: version: 8.4.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: zhangbailin <zhangbailin@inspur.com>\nmeta: release:Commit: zhangbailin <zhangbailin@inspur.com>\nmeta: release:Change-Id: I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I53ddd8e3a4c943577e183527348ffaaf123a4027\n'}]",0,804965,333de443832823c9ea65f6713cfcb70357f9cd96,14,3,1,11131,,,0,"update constraint for oslo.db to new release 8.4.1

meta: version: 8.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: zhangbailin <zhangbailin@inspur.com>
meta: release:Commit: zhangbailin <zhangbailin@inspur.com>
meta: release:Change-Id: I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I53ddd8e3a4c943577e183527348ffaaf123a4027
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/804965/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,333de443832823c9ea65f6713cfcb70357f9cd96,new-release,oslo.db===8.4.1,oslo.db===8.4.0,1,1
openstack%2Fpython-cyborgclient~master~Ib5e4843c12e616b3b272529f78a83342acab6148,openstack/python-cyborgclient,master,Ib5e4843c12e616b3b272529f78a83342acab6148,Fix author-email in setup.cfg,ABANDONED,2019-01-24 02:18:48.000000000,2021-08-19 01:01:20.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 02:18:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/8f40b3042d20599f5759620fb5d4ab584f48dafe', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: Ib5e4843c12e616b3b272529f78a83342acab6148\n'}]",0,632858,8f40b3042d20599f5759620fb5d4ab584f48dafe,8,4,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: Ib5e4843c12e616b3b272529f78a83342acab6148
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/58/632858/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8f40b3042d20599f5759620fb5d4ab584f48dafe,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstacksdk~master~Ieb44681df75e763d7d8ac51972f47141f649f213,openstack/openstacksdk,master,Ieb44681df75e763d7d8ac51972f47141f649f213,Replace deprecated inspect.getargspec,ABANDONED,2021-08-13 08:46:22.000000000,2021-08-19 01:01:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-13 08:46:22.000000000', 'files': ['openstack/cloud/_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e49c07cc2dd4eba0d9251489b44d21a985104445', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Ieb44681df75e763d7d8ac51972f47141f649f213\n'}]",0,804501,e49c07cc2dd4eba0d9251489b44d21a985104445,4,2,1,32291,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ieb44681df75e763d7d8ac51972f47141f649f213
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/804501/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_utils.py', 'tox.ini']",2,e49c07cc2dd4eba0d9251489b44d21a985104445,,minversion = 3.18.0allowlist_externals = findallowlist_externals =,minversion = 3.9.0whitelist_externals = findwhitelist_externals =,4,4
openstack%2Fpython-cyborgclient~master~I4bb4bb9ef3e24e06443ec4ac120219ebc74809e5,openstack/python-cyborgclient,master,I4bb4bb9ef3e24e06443ec4ac120219ebc74809e5,Switch to Ussuri jobs,ABANDONED,2019-10-22 05:49:36.000000000,2021-08-19 00:59:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-22 05:49:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/1de6ec4d874462ae535a628e226faa117313fca6', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I4bb4bb9ef3e24e06443ec4ac120219ebc74809e5\n'}]",0,689940,1de6ec4d874462ae535a628e226faa117313fca6,5,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I4bb4bb9ef3e24e06443ec4ac120219ebc74809e5
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/40/689940/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1de6ec4d874462ae535a628e226faa117313fca6,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fneutron~master~I886a360b838c78b0596c042fb5650bc73848af31,openstack/neutron,master,I886a360b838c78b0596c042fb5650bc73848af31,use payloads for FLOATING_IP,MERGED,2021-07-22 15:46:19.000000000,2021-08-19 00:36:36.000000000,2021-08-12 11:18:50.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 15:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49fd085b51f4b00c8d8b7dd22fd981ce15a9b376', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 2, 'created': '2021-07-22 15:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2080f79fc7a87822aeedf69bdefc4f266a9a752f', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 3, 'created': '2021-07-25 08:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fc908957ebad22771e30df4fe9ad2a059449bfa', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 4, 'created': '2021-07-26 12:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa98afdeca35f6fabbbbd70f5cfc0f0c9f6dba2a', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 5, 'created': '2021-08-03 14:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c671204afd4f04b44f9b412b576df743a57a4567', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 6, 'created': '2021-08-04 07:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/674415ad28b0c2c7d873034c71c8abd794618493', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 7, 'created': '2021-08-05 07:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdcd0370dc90b91c9b2e77d4060f72efacabd4f1', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 8, 'created': '2021-08-09 14:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdf7904be462ade4eced58b21396e2e72640df98', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}, {'number': 9, 'created': '2021-08-10 15:33:56.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57cfc57da694da40eaeb6c825c5e4548d7d6d9bc', 'message': 'use payloads for FLOATING_IP\n\nThis patch switches over to callback payloads for\nFLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events\n\nChange-Id: I886a360b838c78b0596c042fb5650bc73848af31\n'}]",10,801874,57cfc57da694da40eaeb6c825c5e4548d7d6d9bc,110,5,9,32667,,,0,"use payloads for FLOATING_IP

This patch switches over to callback payloads for
FLOATING_IP PRECOMMIT_CREATE and PRECOMMIT_UPDATE events

Change-Id: I886a360b838c78b0596c042fb5650bc73848af31
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/801874/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/services/portforwarding/pf_plugin.py']",4,49fd085b51f4b00c8d8b7dd22fd981ce15a9b376,fip_event," @registry.receives(resources.FLOATING_IP, [events.PRECOMMIT_UPDATE, events.PRECOMMIT_DELETE]) def _check_floatingip_request(self, resource, event, trigger, payload): floatingip = payload.latest_state fip_db = payload.desired_state if not floatingip.get('port_id'): floatingip_id = floatingip.get('port').get('device_id')"," @registry.receives(resources.FLOATING_IP, [events.PRECOMMIT_DELETE]) def _check_floatingip_request_precommit_delete( self, resource, event, trigger, payload): # TODO(isabek): refactor back into 1 method when FIP code is moved # to event payloads return self._check_floatingip_request(resource, event, trigger, payload.context, port=payload.latest_state) @registry.receives(resources.FLOATING_IP, [events.PRECOMMIT_UPDATE]) def _check_floatingip_request(self, resource, event, trigger, context, **kwargs): fip_db = kwargs.get('floatingip_db') if not kwargs['floatingip']['floatingip'].get('port_id'): floatingip_id = kwargs.get('port').get('device_id')",41,37
openstack%2Fnova-specs~master~Ifb3a14607faaebd2e63468e332089e4f1881e0a2,openstack/nova-specs,master,Ifb3a14607faaebd2e63468e332089e4f1881e0a2,Add attachmentId to responses of the os-volume_attachments API,MERGED,2021-06-04 12:45:31.000000000,2021-08-18 23:48:14.000000000,2021-07-01 10:29:39.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 12:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/219fc11a7835b7b541b9d3200b00330437b12a46', 'message': 'Add attachmentId to responses of the os-volume_attachments API\n\nA simple spec adding the id of Cinder volume attachments associated with\na given block device mapping record within Nova to the responses from\nthe os-volume_attachments API.\n\nChange-Id: Ifb3a14607faaebd2e63468e332089e4f1881e0a2\n'}, {'number': 2, 'created': '2021-06-04 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c0a6a8bb7f42086b3c5cf2d65e597deda2ec6acc', 'message': 'Add attachmentId to responses of the os-volume_attachments API\n\nA simple spec adding the id of Cinder volume attachments associated with\na given block device mapping record within Nova to the responses from\nthe os-volume_attachments API.\n\nChange-Id: Ifb3a14607faaebd2e63468e332089e4f1881e0a2\n'}, {'number': 3, 'created': '2021-06-07 15:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/89825aa34c0476f8d7629b90673f4f58d929500d', 'message': 'Add attachmentId to responses of the os-volume_attachments API\n\nA simple spec adding the id of Cinder volume attachments associated with\na given block device mapping record within Nova to the responses from\nthe os-volume_attachments API.\n\nChange-Id: Ifb3a14607faaebd2e63468e332089e4f1881e0a2\n'}, {'number': 4, 'created': '2021-06-09 09:49:41.000000000', 'files': ['specs/xena/approved/add-attachmentId-to-responses-of-the-os-volume_attachments-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/76c33047428ccb3d7573b22fffd93e609efa653c', 'message': 'Add attachmentId to responses of the os-volume_attachments API\n\nA simple spec adding the id of Cinder volume attachments associated with\na given block device mapping record within Nova to the responses from\nthe os-volume_attachments API.\n\nChange-Id: Ifb3a14607faaebd2e63468e332089e4f1881e0a2\n'}]",8,794799,76c33047428ccb3d7573b22fffd93e609efa653c,26,4,4,10135,,,0,"Add attachmentId to responses of the os-volume_attachments API

A simple spec adding the id of Cinder volume attachments associated with
a given block device mapping record within Nova to the responses from
the os-volume_attachments API.

Change-Id: Ifb3a14607faaebd2e63468e332089e4f1881e0a2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/99/794799/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/add-attachmentId-to-responses-of-the-os-volume_attachments-api.rst'],1,219fc11a7835b7b541b9d3200b00330437b12a46,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Add attachmentId to responses of the os-volume_attachments API ============================================================== https://blueprints.launchpad.net/nova/+spec/example This spec aims to outline the use case for adding volume attachment ids to the responses of Nova's `os-volume_attachments APIs`__. .. __: https://docs.openstack.org/api-ref/compute/?expanded=#servers-with-volume-attachments-servers-os-volume-attachments Problem description =================== When using the Cinder volume attachments API to attach a volume to an instance Nova will record the id of the Cinder volume attachment within the block device mapping table. However this is not exposed at present through Nova's os-volume_attachments APIs and is only visible through Cinders attachments API or direct queries to Nova's database. For example, using the `v2.79 mircoversion`__ GETs against the API provide the following responses: .. __: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-train * GET ``/servers/{server_id}/os-volume_attachments`` .. code-block:: json { ""volumeAttachments"": [ { ""delete_on_termination"": false, ""device"": ""/dev/sdc"", ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": null, ""volumeId"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"" }, { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"" } ] } * GET ``/servers/{server_id}/os-volume_attachments/{volume_id}`` .. code-block:: json { ""volumeAttachment"": { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""2aad99d3-7aa4-41e9-b4e6-3f960b115d68"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"" } } .. note:: The ``id`` returned above responses is the id of Nova's block device mapping record and not that of the volume attachment in Cinder. This renders the API useless in most volume attach troubleshooting scenarios, for example when attempting to ensure that Nova has an existing and correctly updated volume attachment recorded. Use Cases --------- As an operator or user I want to be able to confirm the id of the Cinder volume attachment associated with a given block device mapping record within Nova. Proposed change =============== Introduce a new microversion that will display the volume attachment id of a given block device mapping record in the response of ``GET /servers/{server_id}/os-volume_attachments`` or ``GET /servers/{server_id}/os-volume_attachments/{volume_id}``. Alternatives ------------ We could provide this information to operators via a ``nova-manage`` command however that would require DB access and wouldn't be available to users. Data model impact ----------------- None, ``attachment_id`` is already stored for each block device mapping record. REST API impact --------------- In a new microversion, expose ``attachmentId`` in the following responses: * GET ``/servers/{server_id}/os-volume_attachments`` .. code-block:: json { ""volumeAttachments"": [ { ""delete_on_termination"": false, ""device"": ""/dev/sdc"", ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": null, ""volumeId"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""attachmentId: ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf"" }, { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""attachmentId: ""810511b1-ab87-4f42-9033-199543376ddb"" } ] } * GET ``/servers/{server_id}/os-volume_attachments/{volume_id}`` .. code-block:: json { ""volumeAttachment"": { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""2aad99d3-7aa4-41e9-b4e6-3f960b115d68"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""attachmentId"": ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf"" } } Security impact --------------- None, operators and users have access to the underlying attachment details via the Cinder attachments API, all we are exposing here is the mapping of the volume attachment to the block device mapping record within Nova. Notifications impact -------------------- None Other end user impact --------------------- The ``nova volume-attachments $SERVER`` and ``openstack server volume list $SERVER`` commands will be extended to expose the ``attachment_id`` when provided with a high enough microversion. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- Dependencies ============ None Testing ======= API schema, functional and tempest integration tests will be written. Documentation Impact ==================== The API reference, microversion history, openstackclient and novaclient docs will be updated. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,242,0
openstack%2Fnova~master~I89ac90d2ea8bc268940869dbbc90352bfad5c0de,openstack/nova,master,I89ac90d2ea8bc268940869dbbc90352bfad5c0de,Block servers with vGPU and device profile in heal_allocations,MERGED,2021-08-05 13:53:32.000000000,2021-08-18 23:36:34.000000000,2021-08-18 14:43:06.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 13:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0f00a9b377491854881e9f7a9e6149b737be60', 'message': 'Block servers wit vGPU and device profile in heal_allocations\n\nNested allocations are only partially supported in nova-manage placement\nheal_allocations CLI. This patch documents the missing support and\nblocks healing instances with VGPU or Cyborg device profile request in\nthe embedded flavor. Blocking is needed as if --forced is used with such\ninstances then the tool could recreate an allocation ignoring some of\nthese resources.\n\nChange-Id: I89ac90d2ea8bc268940869dbbc90352bfad5c0de\nRelated-Bug: bug/1939020\n'}, {'number': 2, 'created': '2021-08-06 14:00:22.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/exception.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/admin/troubleshooting/orphaned-allocations.rst', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59c2262ca58460921b6ca7ee2bb74841f2f7dc0b', 'message': 'Block servers with vGPU and device profile in heal_allocations\n\nNested allocations are only partially supported in nova-manage placement\nheal_allocations CLI. This patch documents the missing support and\nblocks healing instances with VGPU or Cyborg device profile request in\nthe embedded flavor. Blocking is needed as if --forced is used with such\ninstances then the tool could recreate an allocation ignoring some of\nthese resources.\n\nChange-Id: I89ac90d2ea8bc268940869dbbc90352bfad5c0de\nRelated-Bug: bug/1939020\n'}]",0,803603,59c2262ca58460921b6ca7ee2bb74841f2f7dc0b,26,3,2,9708,,,0,"Block servers with vGPU and device profile in heal_allocations

Nested allocations are only partially supported in nova-manage placement
heal_allocations CLI. This patch documents the missing support and
blocks healing instances with VGPU or Cyborg device profile request in
the embedded flavor. Blocking is needed as if --forced is used with such
instances then the tool could recreate an allocation ignoring some of
these resources.

Change-Id: I89ac90d2ea8bc268940869dbbc90352bfad5c0de
Related-Bug: bug/1939020
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/803603/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/exception.py', 'doc/source/admin/troubleshooting/orphaned-allocations.rst', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py']",5,ed0f00a9b377491854881e9f7a9e6149b737be60,bug/1939020," @staticmethod def ensure_instance_has_no_vgpu_request(instance): if instance.flavor.extra_specs.get(""resources:VGPU""): raise exception.HealvGPUAllocationNotSupported( instance_uuid=instance.uuid) @staticmethod def ensure_instance_has_no_cyborg_device_profile_request(instance): if instance.flavor.extra_specs.get(""accel:device_profile""): raise exception.HealDeviceProfileAllocationNotSupported( instance_uuid=instance.uuid) self.ensure_instance_has_no_vgpu_request(instance) self.ensure_instance_has_no_cyborg_device_profile_request(instance) :param output: function that takes a single message for verbose output * 8: Cannot heal instance with vGPU or Cyborg resource request except ( exception.HealvGPUAllocationNotSupported, exception.HealDeviceProfileAllocationNotSupported, ) as e: print(e.format_message()) return 8", :param outout: function that takes a single message for verbose output,101,3
openstack%2Ftempest~master~I6b4617bd1db542e0e207fb7b3b2143852d4610c1,openstack/tempest,master,I6b4617bd1db542e0e207fb7b3b2143852d4610c1,Add cinder v3 availability_zone_client,ABANDONED,2016-12-01 07:58:29.000000000,2021-08-18 23:10:47.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 12017}, {'_account_id': 21187}, {'_account_id': 22696}]","[{'number': 1, 'created': '2016-12-01 07:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3568231f70d5de85166ffca76fc12086c041088b', 'message': 'Add cinder v3 availability_zone_client\n\nCreate a library for availability_zone_client\nAdd unit-test for availability_zone_client\n\nChange-Id: I6b4617bd1db542e0e207fb7b3b2143852d4610c1\n'}, {'number': 2, 'created': '2016-12-01 08:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/90cbcaf7572660c6e81ad09c401bb9f3fa0ea92b', 'message': 'Add cinder v3 availability_zone_client\n\nCreate a library for availability_zone_client\nAdd unit-test for availability_zone_client\n\nChange-Id: I6b4617bd1db542e0e207fb7b3b2143852d4610c1\n'}, {'number': 3, 'created': '2016-12-01 18:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/11fa2eeb5d189d1edfe94d7e3aca57fd0833f085', 'message': 'Add cinder v3 availability_zone_client\n\nCreate a library for availability_zone_client\nAdd a unit-test for availability_zone_client\n\nChange-Id: I6b4617bd1db542e0e207fb7b3b2143852d4610c1\n'}, {'number': 4, 'created': '2016-12-11 08:24:39.000000000', 'files': ['tempest/clients.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'releasenotes/notes/new-volume-v3-availability-zone-client-0be8faefdc15dbf3.yaml', 'tempest/tests/lib/services/volume/v3/test_availability_zone_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/05db5c624ebc43dc53180b17fe783406bab97993', 'message': 'Add cinder v3 availability_zone_client\n\nCreate a library for availability_zone_client\nAdd a unit-test for availability_zone_client\n\nChange-Id: I6b4617bd1db542e0e207fb7b3b2143852d4610c1\n'}]",0,405156,05db5c624ebc43dc53180b17fe783406bab97993,37,14,4,11075,,,0,"Add cinder v3 availability_zone_client

Create a library for availability_zone_client
Add a unit-test for availability_zone_client

Change-Id: I6b4617bd1db542e0e207fb7b3b2143852d4610c1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/405156/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/clients.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'releasenotes/notes/new-volume-v3-availability-zone-client-0be8faefdc15dbf3.yaml', 'tempest/tests/lib/services/volume/v3/test_availability_zone_client.py']",5,3568231f70d5de85166ffca76fc12086c041088b,cinder_v3_availability_zone_client,"# Copyright 2016 Red Hat. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.volume.v3 import availability_zone_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base class TestAvailabilityZoneV3Test(base.BaseServiceTest): FAKE_AVAILABILITY_ZONE_INFO = { ""availabilityZoneInfo"": [ {""zoneState"": {""available"": ""true""}, ""zoneName"": ""nova""} ] } def setUp(self): super(TestAvailabilityZoneV3Test, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.client = availability_zone_client.AvailabilityZoneClient( fake_auth, 'volume', 'regionOne') def _test_list_availability_zone(self, bytes_body=False): self.check_service_client_function( self.client.list_availability_zones, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_AVAILABILITY_ZONE_INFO, bytes_body) def test_list__availability_zone_body(self): self._test_list_availability_zone() def test_list__availability_zone_bytes_body(self): self._test_list_availability_zone(bytes_body=True) ",,81,1
openstack%2Fcinder~master~I1641ccbbaaac4ee0745071c847f0829235616e04,openstack/cinder,master,I1641ccbbaaac4ee0745071c847f0829235616e04,mypy: create_volume flows,MERGED,2021-03-16 17:22:06.000000000,2021-08-18 22:31:25.000000000,2021-08-18 22:29:35.000000000,"[{'_account_id': 5314}, {'_account_id': 18511}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-16 17:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/798c6fbdc8adb03e02f69cb34c710745cbaf6d62', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 2, 'created': '2021-03-23 12:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59c82ef3941ea9487e7b2db7c130296a06f62a03', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 3, 'created': '2021-04-07 13:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3edd364d0ce4c0be01b1644812841b96436145af', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 4, 'created': '2021-05-10 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9d396c37e4073485e33fed936d7049651e52df1', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 5, 'created': '2021-05-10 18:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c40d92dbd7233b092142b63860548980defe2f1', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 6, 'created': '2021-06-16 13:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/418391fb9649b5a3eade2d15556000e51111c2d2', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 7, 'created': '2021-06-23 15:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/159c5a417bf614226432604fbd5ecad7f6923c37', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 8, 'created': '2021-06-30 20:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72c9ef8b8b7ca544b9398f0044edc684cbda1c64', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 9, 'created': '2021-07-09 13:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47b523097d38d050f8712c0150a5bb9ea3d41dcd', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 10, 'created': '2021-07-09 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/914750a55dceebaf1ec6c750f8a616d031ee922f', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 11, 'created': '2021-07-15 17:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99157cfcd9208b52a961ef545603e538b81ab4f9', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 12, 'created': '2021-08-09 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a509b0a8ccb76e933fbba4adf4e3a4a815bd7c8e', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 13, 'created': '2021-08-09 15:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/960b4f59438554fb29cb7cf4661eaf895525236e', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}, {'number': 14, 'created': '2021-08-10 14:27:34.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/flow_utils.py', 'cinder/volume/flows/common.py', 'cinder/volume/volume_types.py', 'mypy-files.txt', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b10f71e42957f55f613130c545b37ab740109bba', 'message': 'mypy: create_volume flows\n\nChange-Id: I1641ccbbaaac4ee0745071c847f0829235616e04\n'}]",10,780933,b10f71e42957f55f613130c545b37ab740109bba,309,6,14,4523,,,0,"mypy: create_volume flows

Change-Id: I1641ccbbaaac4ee0745071c847f0829235616e04
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/780933/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/flow_utils.py', 'cinder/volume/flows/common.py', 'cinder/volume/volume_types.py', 'cinder/exception.py', 'mypy-files.txt', 'cinder/utils.py']",9,798c6fbdc8adb03e02f69cb34c710745cbaf6d62,mypy,def check_exclusive_options(**kwargs: ty.Optional[dict]) -> None:,def check_exclusive_options(**kwargs: dict) -> None:,223,80
openstack%2Fcinder~master~Icb78771a8466cec25a0aab358c1e1ed3195db925,openstack/cinder,master,Icb78771a8466cec25a0aab358c1e1ed3195db925,Doc: IBM Storages user documentation update,MERGED,2021-08-09 10:58:49.000000000,2021-08-18 22:29:47.000000000,2021-08-18 22:29:47.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 10:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88109879e63048a7390b2b588e48f271a001b895', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 2, 'created': '2021-08-10 04:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6cee1c21a969eb36371675c1db46aff446a5378', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 3, 'created': '2021-08-13 05:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cefda3bd33dc87e5e11a7fbe46ab61a2d829012', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 4, 'created': '2021-08-13 05:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/757e0c630e19771390dbb2f43310b409cf6aa3ad', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 5, 'created': '2021-08-13 06:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e43d2ecf2e8db4ed0963a99039c75c337ac34cf', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 6, 'created': '2021-08-16 05:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20d99d188b20bfc8eee795744c8945f6cb375557', 'message': 'Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n'}, {'number': 7, 'created': '2021-08-16 18:31:01.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3753aa1b69faf162bff47d419817c44e961afe9a', 'message': ""Doc: IBM Storages user documentation update\n\nMinor update to Spectrum Virtualize Family user documentation.\nUpdated new IBM storage names in support matrix.\nAlso marks the following capabilities as 'complete' for the Storwize driver:\n-thin provisioning\n-storage assisted volume migration\n\nChange-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925\n""}]",4,803901,3753aa1b69faf162bff47d419817c44e961afe9a,78,3,7,32036,,,0,"Doc: IBM Storages user documentation update

Minor update to Spectrum Virtualize Family user documentation.
Updated new IBM storage names in support matrix.
Also marks the following capabilities as 'complete' for the Storwize driver:
-thin provisioning
-storage assisted volume migration

Change-Id: Icb78771a8466cec25a0aab358c1e1ed3195db925
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/803901/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst']",2,88109879e63048a7390b2b588e48f271a001b895,user_doc_change,"family members built with IBM Spectrum Virtualize (including FlashSystem 5x00, 7200, 9100, 9200, 9200R), and IBM Spectrum Virtualize for Public Cloud. For specific product publications, see IBM Documentation.","family members built with IBM Spectrum Virtualize (FlashSystem 5010, 5030, 5100, 7200, 9100, 9200, 9200R), and IBM Spectrum Virtualize for Public Cloud.",10,8
openstack%2Fdevstack~stable%2Fpike~I4b78aceff43c78c80ce32f84d332b576b420c91c,openstack/devstack,stable/pike,I4b78aceff43c78c80ce32f84d332b576b420c91c,[stable-only] Use pike-eol for horizon,MERGED,2021-08-18 15:43:57.000000000,2021-08-18 22:29:30.000000000,2021-08-18 22:29:30.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-18 15:43:57.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf1000397d83323079285d20f6606d7ea056bc53', 'message': ""[stable-only] Use pike-eol for horizon\n\nHorizon's stable/pike transitioned to End of Life and its stable/pike\nbranch was deleted. This fix uses the pike-eol tag to be able to check\nout horizon's latest state from pike.\n\nChange-Id: I4b78aceff43c78c80ce32f84d332b576b420c91c\n""}]",0,805047,bf1000397d83323079285d20f6606d7ea056bc53,7,3,1,17685,,,0,"[stable-only] Use pike-eol for horizon

Horizon's stable/pike transitioned to End of Life and its stable/pike
branch was deleted. This fix uses the pike-eol tag to be able to check
out horizon's latest state from pike.

Change-Id: I4b78aceff43c78c80ce32f84d332b576b420c91c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/805047/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,bf1000397d83323079285d20f6606d7ea056bc53,use-pike-eol-tag,HORIZON_BRANCH=${HORIZON_BRANCH:-refs/tags/pike-eol},HORIZON_BRANCH=${HORIZON_BRANCH:-stable/pike},1,1
openstack%2Fcloudkitty-tempest-plugin~master~Ifa518bcfbb42030faa847d7d808d25c51ec3b69c,openstack/cloudkitty-tempest-plugin,master,Ifa518bcfbb42030faa847d7d808d25c51ec3b69c,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:41:06.000000000,2021-08-18 22:05:32.000000000,2021-08-18 22:05:32.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-04-20 02:41:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/94121d48956dbe544bfe6bad906ed42012352611', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ifa518bcfbb42030faa847d7d808d25c51ec3b69c\n""}]",0,787039,94121d48956dbe544bfe6bad906ed42012352611,8,3,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ifa518bcfbb42030faa847d7d808d25c51ec3b69c
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/39/787039/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,94121d48956dbe544bfe6bad906ed42012352611,,"envlist = py3,pypy,pep8","envlist = py36,py37,pypy,pep8",1,1
openstack%2Fcloudkitty~master~Id917b883da6010f028a40be7acbe4e3a772f9408,openstack/cloudkitty,master,Id917b883da6010f028a40be7acbe4e3a772f9408,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:40:03.000000000,2021-08-18 22:01:26.000000000,2021-08-18 21:59:58.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-04-20 02:40:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e438a2bd6ada5c575f6cdb033c0593d155197c83', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Id917b883da6010f028a40be7acbe4e3a772f9408\n""}]",0,787037,e438a2bd6ada5c575f6cdb033c0593d155197c83,12,3,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Id917b883da6010f028a40be7acbe4e3a772f9408
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/37/787037/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e438a2bd6ada5c575f6cdb033c0593d155197c83,,"envlist = py3,pep8","envlist = py36,py38,pep8",1,1
openstack%2Fswift~master~I6cb8e9950b142b8a12cf24252f35193562f662fc,openstack/swift,master,I6cb8e9950b142b8a12cf24252f35193562f662fc,ring: Allow 32-bit (or even 8-bit) device IDs,NEW,2020-11-06 21:17:15.000000000,2021-08-18 21:37:12.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-06 21:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cc1b80d1b137972ca32fedb5071485994352901', 'message': 'ring: Allow 32-bit (or even 8-bit) device IDs\n\nChange-Id: I6cb8e9950b142b8a12cf24252f35193562f662fc\n'}, {'number': 2, 'created': '2020-12-03 00:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb37d3fd0db4b62bc163d438586d13150d516135', 'message': 'ring: Allow 32-bit (or even 8-bit) device IDs\n\nChange-Id: I6cb8e9950b142b8a12cf24252f35193562f662fc\n'}, {'number': 3, 'created': '2021-03-25 16:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b18f51f7747f401e5fbecaee43afa758cb843ab', 'message': 'ring: Allow 32-bit (or even 8-bit) device IDs\n\nChange-Id: I6cb8e9950b142b8a12cf24252f35193562f662fc\n'}, {'number': 4, 'created': '2021-06-29 17:53:16.000000000', 'files': ['swift/common/ring/builder.py', 'swift/common/ring/composite_builder.py', 'test/unit/common/ring/test_builder.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f99479b428fdba7905bba8d81a96b92b088e5cef', 'message': 'ring: Allow 32-bit (or even 8-bit) device IDs\n\nChange-Id: I6cb8e9950b142b8a12cf24252f35193562f662fc\n'}]",22,761794,f99479b428fdba7905bba8d81a96b92b088e5cef,18,5,4,15343,,,0,"ring: Allow 32-bit (or even 8-bit) device IDs

Change-Id: I6cb8e9950b142b8a12cf24252f35193562f662fc
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/761794/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/unit/common/ring/test_builder.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'swift/common/ring/ring.py']",5,1cc1b80d1b137972ca32fedb5071485994352901,,"from swift.common.ring.utils import tiers_for_dev, BYTES_TO_TYPE_CODE next_part_power=None, version=None, dev_id_bytes=2): self.dev_id_bytes = int(dev_id_bytes) ring_dict['dev_id_bytes'] = int(ring_dict.get('dev_id_bytes', 2)) type_code = BYTES_TO_TYPE_CODE[ring_dict['dev_id_bytes']] for x in range(ring_dict['replica_count']): part2dev = array.array(type_code, gz_file.read( ring_dict['dev_id_bytes'] * partition_count)) ring_data.get('version'), ring_data.get('dev_id_bytes', 2)) 'byteorder': sys.byteorder, 'dev_id_bytes': ring['dev_id_bytes']} 'version': self.version, 'dev_id_bytes': self.dev_id_bytes}","from swift.common.ring.utils import tiers_for_dev next_part_power=None, version=None): for x in range(ring_dict['replica_count']): part2dev = array.array('H', gz_file.read(2 * partition_count)) ring_data.get('version')) 'byteorder': sys.byteorder} 'version': self.version}",204,26
openstack%2Fpython-blazarclient~master~If6fa3f2f861d5eb6787743edcc6333e5aacef7d0,openstack/python-blazarclient,master,If6fa3f2f861d5eb6787743edcc6333e5aacef7d0,Migrate from testr to stestr,MERGED,2021-06-24 12:23:52.000000000,2021-08-18 21:11:09.000000000,2021-08-18 21:07:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-24 12:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/b9198f19f3aa46bb3dbc4be084a8d0482e098b4d', 'message': 'Migrate from testr to stestr\n\nChange-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0\n'}, {'number': 2, 'created': '2021-06-24 12:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/334a257ab9a99e83309159c3713b7395b16f05e1', 'message': 'Migrate from testr to stestr\n\nChange-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0\n'}, {'number': 3, 'created': '2021-06-29 17:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/41dc9cec6f3b1aa1808fbfd97516ada3c8958980', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nChange-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0\n'}, {'number': 4, 'created': '2021-07-01 10:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/8963342132494b47c231259c1495cd1c132dce68', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nChange-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0\n'}, {'number': 5, 'created': '2021-07-01 10:43:05.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/27c426a76fd9ea0169ed9026a9562a230f646269', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nChange-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0\n'}]",7,797888,27c426a76fd9ea0169ed9026a9562a230f646269,19,4,5,33379,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore, test-requirements.txt and lower-constraints.txt
  files accordingly
* Use py3 as the default runtime for tox and 3.18.0 as the
  minversion for tox
* Add a new job, openstack-cover-jobs, to run the coverage in Zuul

Change-Id: If6fa3f2f861d5eb6787743edcc6333e5aacef7d0
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/88/797888/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,b9198f19f3aa46bb3dbc4be084a8d0482e098b4d,,[DEFAULT] test_path=./blazarclient/tests/ top_dir=./ ,,8,13
openstack%2Fpython-blazarclient~master~Ifd2d0ef580c4f7bd04b03a9fe37c5b0efd4352c7,openstack/python-blazarclient,master,Ifd2d0ef580c4f7bd04b03a9fe37c5b0efd4352c7,Reword release note to use style of other notes,ABANDONED,2019-06-20 15:43:52.000000000,2021-08-18 21:06:21.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-20 15:43:52.000000000', 'files': ['releasenotes/notes/bug-1777548-6b5c770abc6ac360.yaml'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/d238205f3acacb6d89313dd5250d0c6a7084d89b', 'message': 'Reword release note to use style of other notes\n\nThis patch also updates the link to keystoneauth1 to use opendev.org and\npoint to a specific tag (I picked 3.4.0 which is our lower constraint),\nso the link remains valid even if http.py is renamed or deleted in\nfuture versions.\n\nChange-Id: Ifd2d0ef580c4f7bd04b03a9fe37c5b0efd4352c7\n'}]",0,666618,d238205f3acacb6d89313dd5250d0c6a7084d89b,4,3,1,15197,,,0,"Reword release note to use style of other notes

This patch also updates the link to keystoneauth1 to use opendev.org and
point to a specific tag (I picked 3.4.0 which is our lower constraint),
so the link remains valid even if http.py is renamed or deleted in
future versions.

Change-Id: Ifd2d0ef580c4f7bd04b03a9fe37c5b0efd4352c7
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/18/666618/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1777548-6b5c770abc6ac360.yaml'],1,d238205f3acacb6d89313dd5250d0c6a7084d89b,reword-release-note," The Blazar CLI client now displays error messages generated in the Blazar service, rather than `messages created in keystoneauth`_ with poor information. For more details, see `bug 1777548`_. .. _messages created in keystoneauth: https://opendev.org/openstack/keystoneauth/src/tag/3.4.0/keystoneauth1/exceptions/http.py .. _bug 1777548: https://bugs.launchpad.net/blazar/+bug/1777548"," When the blazar CLI client got an error code from the blazar server, it didn't display error messages created in the blazar server. Instead, it displayed `messages created in keystoneauth`_ with poor information. See the `bug report`_ for example. It was fixed to display original error messages which include useful information. .. _messages created in keystoneauth: https://github.com/openstack/keystoneauth/blob/master/keystoneauth1/exceptions/http.py .. _bug report: https://bugs.launchpad.net/blazar/+bug/1777548",5,8
openstack%2Fpython-blazarclient~master~I44baa8e3d079d0c83a541e075073835cdd8c8bf9,openstack/python-blazarclient,master,I44baa8e3d079d0c83a541e075073835cdd8c8bf9,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 08:47:26.000000000,2021-08-18 21:05:08.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 08:47:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/30458ec8382415cda4a29070f0988d5aa4ab2740', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I44baa8e3d079d0c83a541e075073835cdd8c8bf9\n'}]",0,787167,30458ec8382415cda4a29070f0988d5aa4ab2740,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I44baa8e3d079d0c83a541e075073835cdd8c8bf9
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/67/787167/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30458ec8382415cda4a29070f0988d5aa4ab2740,,"envlist = py3,pep8","envlist = py36,py38,pep8",1,1
openstack%2Fpython-blazarclient~master~I0e1742cbea251240a7e9308d61b229e1be26e25a,openstack/python-blazarclient,master,I0e1742cbea251240a7e9308d61b229e1be26e25a,Switch to stestr,ABANDONED,2018-07-10 07:04:55.000000000,2021-08-18 21:02:44.000000000,,"[{'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-10 07:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/465c447bf5948327328e835ade150993014bc10f', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I0e1742cbea251240a7e9308d61b229e1be26e25a\n""}, {'number': 2, 'created': '2018-07-10 09:30:59.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/7da307f052504a434fa1b24039c8c03420f679cd', 'message': 'Switch to stestr\n\nAccording to the Python Testing Interface session at the last OpenStack\nSummit [1], all projects should migrate to stestr.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I0e1742cbea251240a7e9308d61b229e1be26e25a\n'}]",0,581224,7da307f052504a434fa1b24039c8c03420f679cd,8,3,2,25903,,,0,"Switch to stestr

According to the Python Testing Interface session at the last OpenStack
Summit [1], all projects should migrate to stestr.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I0e1742cbea251240a7e9308d61b229e1be26e25a
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/24/581224/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,465c447bf5948327328e835ade150993014bc10f,stestr,[DEFAULT] test_path=./blazarclient/tests top_dir=./ ,,14,12
openstack%2Fcinder~master~I32ea4547f005429d237afd1e256b82add7c0534c,openstack/cinder,master,I32ea4547f005429d237afd1e256b82add7c0534c,WIP: Subclass DeprecatedRule for pre-defined fields,ABANDONED,2021-08-12 20:19:35.000000000,2021-08-18 20:46:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-12 20:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/268a0490745e035882f1c8b2c175cf19c3e804d5', 'message': 'WIP: Subclass DeprecatedRule for pre-defined fields\n\nChange-Id: I32ea4547f005429d237afd1e256b82add7c0534c\n'}, {'number': 2, 'created': '2021-08-12 21:14:07.000000000', 'files': ['cinder/policies/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/379c54668dfa0a369643070b876bbad79887994b', 'message': 'WIP: Subclass DeprecatedRule for pre-defined fields\n\nChange-Id: I32ea4547f005429d237afd1e256b82add7c0534c\n'}]",0,804457,379c54668dfa0a369643070b876bbad79887994b,29,1,2,5046,,,0,"WIP: Subclass DeprecatedRule for pre-defined fields

Change-Id: I32ea4547f005429d237afd1e256b82add7c0534c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/804457/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/base.py'],1,268a0490745e035882f1c8b2c175cf19c3e804d5,secure-rbac,"# example, if a CinderDeprecatedRule with check_str=SYSTEM_ADMIN_ONLYclass CinderDeprecatedRule(policy.DeprecatedRule): """"""A DeprecatedRule subclass with pre-defined fields."""""" name: str, check_str: str, *, deprecated_reason: str, deprecated_since: str name, check_str, deprecated_reason=deprecated_reason, deprecated_since=deprecated_since","# example, if a CinderDocumentedRuleDefault with check_str=SYSTEM_ADMIN_ONLYclass CinderDocumentedRuleDefault(policy.DocumentedRuleDefault): """"""A DeprecatedRule class with common fields pre-defined."""""" name, check_str, description, operations, deprecated_rule=None, deprecated_for_removal=None, deprecated_reason=DEPRECATED_REASON, deprecated_since=DEPRECATED_SINCE, scope_types=None, name, check_str, description, operations, deprecated_rule=deprecated_rule, deprecated_for_removal=deprecated_for_removal, deprecated_reason=deprecated_reason, deprecated_since=deprecated_since, scope_types=scope_types",8,15
openstack%2Fdevstack~master~Ib186f2a4f9f3f952524f2b910aeca873c10bd059,openstack/devstack,master,Ib186f2a4f9f3f952524f2b910aeca873c10bd059,Drop the installation of system pkg python3-libvirt on Ubuntu,ABANDONED,2021-08-18 06:37:12.000000000,2021-08-18 19:06:51.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 06:37:12.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7aa3658259068e499c15e50df86aaf753f7a8e63', 'message': 'Drop the installation of system pkg python3-libvirt on Ubuntu\n\nChange-Id: Ib186f2a4f9f3f952524f2b910aeca873c10bd059\n'}]",0,804950,7aa3658259068e499c15e50df86aaf753f7a8e63,5,2,1,13252,,,0,"Drop the installation of system pkg python3-libvirt on Ubuntu

Change-Id: Ib186f2a4f9f3f952524f2b910aeca873c10bd059
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/804950/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,7aa3658259068e499c15e50df86aaf753f7a8e63,no-system-libvirt, install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev, install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt,1,1
openstack%2Fdevstack~master~I3a6ab609be1b2fc45c5e046b5c7c2f10f3003a1c,openstack/devstack,master,I3a6ab609be1b2fc45c5e046b5c7c2f10f3003a1c,Install libvirt-python with pip instead from system pkg,ABANDONED,2021-08-18 06:37:12.000000000,2021-08-18 19:06:35.000000000,,"[{'_account_id': 13252}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-18 06:37:12.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0bdc26abac17d8e345a7e0b101e45a2e07e94eba', 'message': 'Install libvirt-python with pip instead from system pkg\n\nChange-Id: I3a6ab609be1b2fc45c5e046b5c7c2f10f3003a1c\n'}]",0,804951,0bdc26abac17d8e345a7e0b101e45a2e07e94eba,8,4,1,13252,,,0,"Install libvirt-python with pip instead from system pkg

Change-Id: I3a6ab609be1b2fc45c5e046b5c7c2f10f3003a1c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/804951/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,0bdc26abac17d8e345a7e0b101e45a2e07e94eba,no-system-libvirt, pip_install_gr libvirt-python, #pip_install_gr <there-si-no-guestfs-in-pypi>,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I7eaabc91005952aa956456944c46224f08f4c7f8,openstack/tripleo-common,stable/wallaby,I7eaabc91005952aa956456944c46224f08f4c7f8,Remove now useless sudo call for port check,MERGED,2021-08-18 08:53:05.000000000,2021-08-18 18:57:56.000000000,2021-08-18 18:56:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-18 08:53:05.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/69e5827ec6adfb0e436933bc8e03885f6254b098', 'message': 'Remove now useless sudo call for port check\n\nBack then, the ""sudo"" was needed because healthchecks were running as\nroot, using a paunch created systemd unit/timer calling ""podman exec\n--user root"".\n\nNow that we\'re using native healthchecks, we can get rid of the sudo\ncall, since it\'s already using as the intended user.\n\nCloses-Bug: #1940068\n\nChange-Id: I7eaabc91005952aa956456944c46224f08f4c7f8\n(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)\n'}]",0,804863,69e5827ec6adfb0e436933bc8e03885f6254b098,11,7,1,28223,,,0,"Remove now useless sudo call for port check

Back then, the ""sudo"" was needed because healthchecks were running as
root, using a paunch created systemd unit/timer calling ""podman exec
--user root"".

Now that we're using native healthchecks, we can get rid of the sudo
call, since it's already using as the intended user.

Closes-Bug: #1940068

Change-Id: I7eaabc91005952aa956456944c46224f08f4c7f8
(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/804863/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,69e5827ec6adfb0e436933bc8e03885f6254b098,healthcheck/no-sudo-port-stable," match=$(( $match+$(find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))"," puser=$(get_user_from_process $process) match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))",1,2
openstack%2Fglance_store~stable%2Ftrain~I576b787012e73ebaf3274cfd8c31f79894284891,openstack/glance_store,stable/train,I576b787012e73ebaf3274cfd8c31f79894284891,Refactor methods in cinder store,ABANDONED,2020-05-10 19:43:00.000000000,2021-08-18 18:57:36.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-05-10 19:43:00.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d3049a042006d5bb5c598e7f6b09142984ccdb9a', 'message': 'Refactor methods in cinder store\n\nSome of the methods in cinder store are only used by the Store class\nmethods and not used outside.\nIt makes sense to bound them to the class.\nThis refactoring will also help in handling the None imports inside\nthe class configure methods which will be done in a followup.\n\nThis patch also updates cinderclient version from v2(deprecated) to\nv3(current).\n\nChange-Id: I576b787012e73ebaf3274cfd8c31f79894284891\n(cherry picked from commit 4da861ae07106504f89a084ad190e8276847eb3a)\n'}]",0,726649,d3049a042006d5bb5c598e7f6b09142984ccdb9a,6,3,1,8122,,,0,"Refactor methods in cinder store

Some of the methods in cinder store are only used by the Store class
methods and not used outside.
It makes sense to bound them to the class.
This refactoring will also help in handling the None imports inside
the class configure methods which will be done in a followup.

This patch also updates cinderclient version from v2(deprecated) to
v3(current).

Change-Id: I576b787012e73ebaf3274cfd8c31f79894284891
(cherry picked from commit 4da861ae07106504f89a084ad190e8276847eb3a)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/49/726649/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",3,d3049a042006d5bb5c598e7f6b09142984ccdb9a,bug/1870289," cc = self.store.get_cinderclient(self.context) cc = self.store.get_cinderclient(self.context) mock.patch.object(cinder.Store, 'get_root_helper', return_value='sudo'): with self.store.temporary_chown('test'): mock.patch.object(cinder.Store, 'temporary_chown', mock.patch.object(cinder.Store, 'get_root_helper', with mock.patch.object(cinder.Store, 'get_cinderclient') as mock_cc, \ with mock.patch.object(cinder.Store, 'get_cinderclient') as mocked_cc: with mock.patch.object(cinder.Store, 'get_cinderclient') as mocked_cc: with mock.patch.object(cinder.Store, 'get_cinderclient') as mock_cc, \ with mock.patch.object(cinder.Store, 'get_cinderclient') as mocked_cc:"," cc = cinder.get_cinderclient(self.conf, self.context, backend=""cinder1"") cc = cinder.get_cinderclient(self.conf, self.context, backend=""cinder1"") mock.patch.object(cinder, 'get_root_helper', return_value='sudo'): with cinder.temporary_chown('test'): mock.patch.object(cinder, 'temporary_chown', mock.patch.object(cinder, 'get_root_helper', with mock.patch.object(cinder, 'get_cinderclient') as mock_cc, \ with mock.patch.object(cinder, 'get_cinderclient') as mocked_cc: with mock.patch.object(cinder, 'get_cinderclient') as mocked_cc: with mock.patch.object(cinder, 'get_cinderclient') as mock_cc, \ with mock.patch.object(cinder, 'get_cinderclient') as mocked_cc:",123,134
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id65f0eef7249588d6038883f703d8e587826a4ac,openstack/tripleo-heat-templates,stable/wallaby,Id65f0eef7249588d6038883f703d8e587826a4ac,Revert change to use community pacemaker_cluster module,MERGED,2021-08-18 10:53:48.000000000,2021-08-18 18:56:10.000000000,2021-08-18 18:56:10.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-18 10:53:48.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a6d751fa0f0b4eb0975575352a663a162162376', 'message': 'Revert change to use community pacemaker_cluster module\n\nThe community pacemaker_cluster module is not in sync\nwith the real pacemaker_cluster module causing failures.\n\nhttps://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39\nvs\nhttps://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58\n\nThis causes failures in the minor update process.\n\nRelated: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n(cherry picked from commit b0caee4753efd5f5d0f769d73bb8826dc8466de2)\n'}]",0,804993,2a6d751fa0f0b4eb0975575352a663a162162376,10,6,1,10969,,,0,"Revert change to use community pacemaker_cluster module

The community pacemaker_cluster module is not in sync
with the real pacemaker_cluster module causing failures.

https://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39
vs
https://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58

This causes failures in the minor update process.

Related: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7
Closes-Bug: #1938967
Change-Id: Id65f0eef7249588d6038883f703d8e587826a4ac
(cherry picked from commit b0caee4753efd5f5d0f769d73bb8826dc8466de2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/804993/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml']",2,2a6d751fa0f0b4eb0975575352a663a162162376,fix_pacemaker_cluster_args-stable/wallaby, # NOTE: We are intentionally not using the community version of # pacemaker_cluster here due to variances between the two: # https://bugs.launchpad.net/tripleo/+bug/1938967 pacemaker_cluster: state=offline, community.general.pacemaker_cluster: state=offline,16,7
openstack%2Frequirements~master~I06db712b13077ba7773a6df588500398486c3612,openstack/requirements,master,I06db712b13077ba7773a6df588500398486c3612,Updated from generate-constraints,MERGED,2021-08-17 06:28:50.000000000,2021-08-18 18:43:54.000000000,2021-08-18 18:42:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 06:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/56be7132a9e226bf3ede53f5b156e44a1b80a089', 'message': 'Updated from generate-constraints\n\nChange-Id: I06db712b13077ba7773a6df588500398486c3612\n'}, {'number': 2, 'created': '2021-08-18 06:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/66b724f743df9c24b679f51b8e5d6a38c2e0b3b1', 'message': 'Updated from generate-constraints\n\nChange-Id: I06db712b13077ba7773a6df588500398486c3612\n'}, {'number': 3, 'created': '2021-08-18 15:10:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad5b9d5625ae3108d04f9cbeafc75363cbbd039c', 'message': 'Updated from generate-constraints\n\nChange-Id: I06db712b13077ba7773a6df588500398486c3612\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,804823,ad5b9d5625ae3108d04f9cbeafc75363cbbd039c,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I06db712b13077ba7773a6df588500398486c3612
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/804823/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,56be7132a9e226bf3ede53f5b156e44a1b80a089,openstack/requirements/constraints/noclob,moto===2.2.3XStatic-Angular===1.8.2.1google-api-core===1.31.2zeroconf===0.36.0google-auth===1.35.0pkg_resources===0.0.0ujson===4.1.0boto3===1.18.22kubernetes===18.20.0botocore===1.21.22fasteners===0.16.3,moto===2.2.2XStatic-Angular===1.5.8.0google-api-core===1.31.1zeroconf===0.35.1google-auth===1.34.0ujson===4.0.2boto3===1.18.21kubernetes===17.17.0botocore===1.21.21fasteners===0.14.1setuptools===57.4.0,11,11
openstack%2Ftempest~master~I585c34aeefb46f2fe08c64b6240b1b8ccde6017f,openstack/tempest,master,I585c34aeefb46f2fe08c64b6240b1b8ccde6017f,test_network_basic_ops: Add skip if run_validations is False,ABANDONED,2021-06-24 10:11:54.000000000,2021-08-18 18:26:49.000000000,,"[{'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-06-24 10:11:54.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9cd8ab838dde2641caa5bd5333d01a0a8601cab', 'message': 'test_network_basic_ops: Add skip if run_validations is False\n\nRequired as test_network_basic_ops will attempt to ssh into the instance\nto assert various things and would previously ignore the value of\nrun_validations.\n\nChange-Id: I585c34aeefb46f2fe08c64b6240b1b8ccde6017f\n'}]",0,797868,f9cd8ab838dde2641caa5bd5333d01a0a8601cab,6,4,1,10135,,,0,"test_network_basic_ops: Add skip if run_validations is False

Required as test_network_basic_ops will attempt to ssh into the instance
to assert various things and would previously ignore the value of
run_validations.

Change-Id: I585c34aeefb46f2fe08c64b6240b1b8ccde6017f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/797868/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_basic_ops.py'],1,f9cd8ab838dde2641caa5bd5333d01a0a8601cab,," @testtools.skipUnless(CONF.validation.run_validation, 'Instance validation tests are disabled.')",,2,0
openstack%2Ftripleo-heat-templates~master~Ife89262675eefb645e61e6d029b4846f1a33a677,openstack/tripleo-heat-templates,master,Ife89262675eefb645e61e6d029b4846f1a33a677,cinder_api needs etcd certs inside the container,MERGED,2021-08-16 17:04:43.000000000,2021-08-18 18:13:31.000000000,2021-08-18 18:13:31.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 17:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e708dafe6b8d0a9d6e99b6ac1c87845023e62692', 'message': 'WIP cinderapi needs etcd certs\n\nWhen doing A/A we need the etcd certs in the cinder_api container\notherwise we fail with\n[Mon Aug 16 15:28:58.945345 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 416, in send\n[Mon Aug 16 15:28:58.945347 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] self.cert_verify(conn, request.url, verify, cert)\n[Mon Aug 16 15:28:58.945351 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 250, in cert_verify\n[Mon Aug 16 15:28:58.945354 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] ""invalid path: {}"".format(conn.cert_file))\n[Mon Aug 16 15:28:58.945370 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] OSError: Could not find the TLS certificate file, invalid path: /etc/pki/tls/certs/etcd.crt\n\nChange-Id: Ife89262675eefb645e61e6d029b4846f1a33a677\n'}, {'number': 2, 'created': '2021-08-16 17:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37d2d66cc788a6b7823e234baa8792ba7acd6ebe', 'message': 'WIP cinderapi needs etcd certs\n\nWhen doing A/A we need the etcd certs in the cinder_api container\notherwise we fail with\n[Mon Aug 16 15:28:58.945345 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 416, in send\n[Mon Aug 16 15:28:58.945347 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] self.cert_verify(conn, request.url, verify, cert)\n[Mon Aug 16 15:28:58.945351 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 250, in cert_verify\n[Mon Aug 16 15:28:58.945354 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] ""invalid path: {}"".format(conn.cert_file))\n[Mon Aug 16 15:28:58.945370 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] OSError: Could not find the TLS certificate file, invalid path: /etc/pki/tls/certs/etcd.crt\n\nChange-Id: Ife89262675eefb645e61e6d029b4846f1a33a677\n'}, {'number': 3, 'created': '2021-08-17 14:38:57.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72a12aa83317bab601747582aed4c1989cb9db48', 'message': 'cinder_api needs etcd certs inside the container\n\nWhen doing A/A we need the etcd certs in the cinder_api container\notherwise we fail with:\n[Mon Aug 16 15:28:58.945345 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 416, in send\n[Mon Aug 16 15:28:58.945347 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] self.cert_verify(conn, request.url, verify, cert)\n[Mon Aug 16 15:28:58.945351 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 250, in cert_verify\n[Mon Aug 16 15:28:58.945354 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] ""invalid path: {}"".format(conn.cert_file))\n[Mon Aug 16 15:28:58.945370 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] OSError: Could not find the TLS certificate file, invalid path: /etc/pki/tls/certs/etcd.crt\n\nAfter this change I correctly see the certs in the containers:\n[root@ctrl-1-0 ~]# podman exec -it cinder_api sh -c \'ls -lR /etc/pki/tls\' |grep etcd\n-rw-------. 1 cinder cinder 1907 Aug 16 19:47 etcd.crt\n-rw-------. 1 cinder cinder 1708 Aug 16 19:47 etcd.key\n\nAnd am able to create a cinder A/A volume.\n\nWe remove the following two bind mounts:\n- /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro\n- /var/log/containers/cinder:/var/log/cinder:z\n\nBecause they are contained in cinder_common_volumes, which will also\nbind mount the etcd certs appropriately when needed. Since\ncinder_common_volumes also containerd ContainersCommon -> volumes\nwe are not removing any bind mount.\n\nLikely removed by accident via I0e3d5748a50937880a55413b75fe6eca479c9160\n\nCloses-Bug: #1940306\n\nChange-Id: Ife89262675eefb645e61e6d029b4846f1a33a677\n'}]",0,804788,72a12aa83317bab601747582aed4c1989cb9db48,22,5,3,20172,,,0,"cinder_api needs etcd certs inside the container

When doing A/A we need the etcd certs in the cinder_api container
otherwise we fail with:
[Mon Aug 16 15:28:58.945345 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 416, in send
[Mon Aug 16 15:28:58.945347 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] self.cert_verify(conn, request.url, verify, cert)
[Mon Aug 16 15:28:58.945351 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] File ""/usr/lib/python3.6/site-packages/requests/adapters.py"", line 250, in cert_verify
[Mon Aug 16 15:28:58.945354 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] ""invalid path: {}"".format(conn.cert_file))
[Mon Aug 16 15:28:58.945370 2021] [wsgi:error] [pid 12] [remote 172.30.1.1:48082] OSError: Could not find the TLS certificate file, invalid path: /etc/pki/tls/certs/etcd.crt

After this change I correctly see the certs in the containers:
[root@ctrl-1-0 ~]# podman exec -it cinder_api sh -c 'ls -lR /etc/pki/tls' |grep etcd
-rw-------. 1 cinder cinder 1907 Aug 16 19:47 etcd.crt
-rw-------. 1 cinder cinder 1708 Aug 16 19:47 etcd.key

And am able to create a cinder A/A volume.

We remove the following two bind mounts:
- /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro
- /var/log/containers/cinder:/var/log/cinder:z

Because they are contained in cinder_common_volumes, which will also
bind mount the etcd certs appropriately when needed. Since
cinder_common_volumes also containerd ContainersCommon -> volumes
we are not removing any bind mount.

Likely removed by accident via I0e3d5748a50937880a55413b75fe6eca479c9160

Closes-Bug: #1940306

Change-Id: Ife89262675eefb645e61e6d029b4846f1a33a677
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/804788/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,e708dafe6b8d0a9d6e99b6ac1c87845023e62692,tls-etcd," - {get_attr: [CinderCommon, cinder_common_volumes]}"," - {get_attr: [ContainersCommon, volumes]} - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro - /var/log/containers/cinder:/var/log/cinder:z",1,3
openstack%2Fironic~master~I16124d96a94844ef348055e41854a03ee0e4869d,openstack/ironic,master,I16124d96a94844ef348055e41854a03ee0e4869d,DNM: Testing libvirt from pypi,NEW,2021-08-18 13:43:55.000000000,2021-08-18 18:04:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 13:43:55.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0dd76cea950fa1aaa4e19240de696b3adbbc5ece', 'message': 'DNM: Testing libvirt from pypi\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/804951\nChange-Id: I16124d96a94844ef348055e41854a03ee0e4869d\n'}]",0,805023,0dd76cea950fa1aaa4e19240de696b3adbbc5ece,5,1,1,15519,,,0,"DNM: Testing libvirt from pypi

Depends-On: https://review.opendev.org/c/openstack/devstack/+/804951
Change-Id: I16124d96a94844ef348055e41854a03ee0e4869d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/805023/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,0dd76cea950fa1aaa4e19240de696b3adbbc5ece,dnm,# TEST,,1,0
openstack%2Fpuppet-neutron~stable%2Fwallaby~Ie8e668e4660228d0aa9798f894ffa6a7826850ea,openstack/puppet-neutron,stable/wallaby,Ie8e668e4660228d0aa9798f894ffa6a7826850ea,Add  tripleo-undercloud job,MERGED,2021-07-24 10:31:28.000000000,2021-08-18 17:32:14.000000000,2021-08-18 17:32:14.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 10:31:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/febbc382fd7bc2905a1a823b477b7e10c6a54a90', 'message': 'Add  tripleo-undercloud job\n\nTripleO uses ironic + networking-baremetal in undercloud while it does\nnot use ironic in overcloud. This change adds tripleo-undercloud so\nthat code specific to networking-baremetal is tested.\n\nChange-Id: Ie8e668e4660228d0aa9798f894ffa6a7826850ea\n(cherry picked from commit ccf6b4912ebe48d11d3b8d3cb1162a29fae1e026)\n'}]",0,801892,febbc382fd7bc2905a1a823b477b7e10c6a54a90,8,5,1,9816,,,0,"Add  tripleo-undercloud job

TripleO uses ironic + networking-baremetal in undercloud while it does
not use ironic in overcloud. This change adds tripleo-undercloud so
that code specific to networking-baremetal is tested.

Change-Id: Ie8e668e4660228d0aa9798f894ffa6a7826850ea
(cherry picked from commit ccf6b4912ebe48d11d3b8d3cb1162a29fae1e026)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/801892/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,febbc382fd7bc2905a1a823b477b7e10c6a54a90,tripleo-undercloud-stable/wallaby, - tripleo-puppet-undercloud consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider, build_container_images: true,7,1
openstack%2Fheat~stable%2Fwallaby~I0168b380d0e201d9c8f8121b384d25a2412c2129,openstack/heat,stable/wallaby,I0168b380d0e201d9c8f8121b384d25a2412c2129,Detect EL8 platform-python,MERGED,2021-08-18 13:58:49.000000000,2021-08-18 17:03:50.000000000,2021-08-18 16:59:23.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2021-08-18 13:58:49.000000000', 'files': ['heat/cloudinit/loguserdata.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/73150f2207d77f071551c0a41cdeb8e93df699bd', 'message': 'Detect EL8 platform-python\n\nOtherwise, this script fails to run on Enterprise Linux 8 distros.\n\nChange-Id: I0168b380d0e201d9c8f8121b384d25a2412c2129\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 2d692e22f42bc64476ab01ff7e8c4d4717ef3786)\n'}]",0,805003,73150f2207d77f071551c0a41cdeb8e93df699bd,9,3,1,10969,,,0,"Detect EL8 platform-python

Otherwise, this script fails to run on Enterprise Linux 8 distros.

Change-Id: I0168b380d0e201d9c8f8121b384d25a2412c2129
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 2d692e22f42bc64476ab01ff7e8c4d4717ef3786)
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/805003/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/cloudinit/loguserdata.py'],1,73150f2207d77f071551c0a41cdeb8e93df699bd,,"echo ""import pkg_resources"" | python2 2>/dev/null has_py2=$? echo ""import pkg_resources"" | /usr/libexec/platform-python 2>/dev/null has_platform-py=$? elif [ $has_py2 = 0 ]; then interpreter=""python"" elif [ $has_platform-py = 0 ]; then interpreter=""/usr/libexec/platform-python""",,9,0
openstack%2Fceilometer~master~I74d4ab548a6319390100cb0a067c190e20a2e9a2,openstack/ceilometer,master,I74d4ab548a6319390100cb0a067c190e20a2e9a2,Moving Centos8s job to telemetry-tempest-plugin,MERGED,2021-08-12 15:16:46.000000000,2021-08-18 17:03:43.000000000,2021-08-18 16:59:51.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 15:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a91de558b21f9a3c6fcf54efca0e407a2f58b9df', 'message': 'Moving Centos8s job to telemetry-tempest-plugin\n\nChange-Id: I74d4ab548a6319390100cb0a067c190e20a2e9a2\n'}, {'number': 2, 'created': '2021-08-12 16:41:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6bb29c0bd23c9cf5452a7f6818259e73b39ba7c3', 'message': 'Moving Centos8s job to telemetry-tempest-plugin\n\nChange-Id: I74d4ab548a6319390100cb0a067c190e20a2e9a2\nDepends-On: Ic158561b3f4d8ddcc092f4e8da1b3215f976fc98\n'}]",0,804408,6bb29c0bd23c9cf5452a7f6818259e73b39ba7c3,14,3,2,30893,,,0,"Moving Centos8s job to telemetry-tempest-plugin

Change-Id: I74d4ab548a6319390100cb0a067c190e20a2e9a2
Depends-On: Ic158561b3f4d8ddcc092f4e8da1b3215f976fc98
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/08/804408/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a91de558b21f9a3c6fcf54efca0e407a2f58b9df,,,- job: name: telemetry-dsvm-integration-centos-8s nodeset: devstack-single-node-centos-8-stream parent: telemetry-dsvm-integration description: | Functional testing for a Centos 8 stream system - telemetry-dsvm-integration-centos-8s: irrelevant-files: *ceilometer-irrelevant-files - telemetry-dsvm-integration-centos-8s: irrelevant-files: *ceilometer-irrelevant-files,0,11
openstack%2Ftelemetry-tempest-plugin~master~I05713ed77b79e583ad1073ff80ccd7a031e34c26,openstack/telemetry-tempest-plugin,master,I05713ed77b79e583ad1073ff80ccd7a031e34c26,Adding FIPS job definitions for telemetry components,MERGED,2021-08-12 14:54:35.000000000,2021-08-18 16:59:54.000000000,2021-08-18 16:59:54.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 14:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/dacc11591c031a4ad1f3764ada2e4b95d33a1aef', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 2, 'created': '2021-08-12 15:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/75c600c068f4a55cbac3bfe8034086f5fa196f97', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\nDepends-On: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 3, 'created': '2021-08-12 15:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/1d1208b0d9af3c2be66815f1023a344f6e6f9741', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\nDepends-On: If4fdbb473a00fd1506ed036a4438ca931023e137\n'}, {'number': 4, 'created': '2021-08-12 15:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/4d2d85e70312e110fb1adf8d22f3bb386c8c88bd', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\nDepends-On: I74d4ab548a6319390100cb0a067c190e20a2e9a2\n'}, {'number': 5, 'created': '2021-08-12 15:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/37527a1046f3a8d3895e4540fc171f4a651ff93b', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\nDepends-On: I74d4ab548a6319390100cb0a067c190e20a2e9a2\n'}, {'number': 6, 'created': '2021-08-12 16:41:16.000000000', 'files': ['playbooks/enable-fips.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d42dc01a32679757ee40b1ff854363e91ede4a45', 'message': 'Adding FIPS job definitions for telemetry components\n\nChange-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26\nDepends-On: I74d4ab548a6319390100cb0a067c190e20a2e9a2\n'}]",1,804400,d42dc01a32679757ee40b1ff854363e91ede4a45,25,3,6,30893,,,0,"Adding FIPS job definitions for telemetry components

Change-Id: I05713ed77b79e583ad1073ff80ccd7a031e34c26
Depends-On: I74d4ab548a6319390100cb0a067c190e20a2e9a2
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/00/804400/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', '.zuul.yaml']",2,dacc11591c031a4ad1f3764ada2e4b95d33a1aef,add_fips_job,- job: name: telemetry-dsvm-integration-centos-8s nodeset: devstack-single-node-centos-8-stream parent: telemetry-dsvm-integration description: | Telemetry devstack tempest tests job for a Centos 8 stream system - job: name: telemetry-dsvm-integration-centos-8s-fips parent: telemetry-dsvm-integration-centos-8s description: | Telemetry devstack tempest tests job for a FIPS enabled Centos 8 stream system pre-run: playbooks/enable-fips.yaml - telemetry-dsvm-integration-centos-8s - telemetry-dsvm-integration-centos-8s-fips,,19,0
openstack%2Fvirtualbmc~master~I690f5dd9ad9c30df14b0b89df29c42b11534f58c,openstack/virtualbmc,master,I690f5dd9ad9c30df14b0b89df29c42b11534f58c,Test fix Ironic gate by moving libvirt-python away,ABANDONED,2021-08-18 07:55:17.000000000,2021-08-18 16:34:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-18 07:55:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/28ec107370363cfc79ab62bd5d1e2b764b4d4c04', 'message': 'Test fix Ironic gate by moving libvirt-python away\n\nChange-Id: I690f5dd9ad9c30df14b0b89df29c42b11534f58c\n'}]",0,804958,28ec107370363cfc79ab62bd5d1e2b764b4d4c04,6,2,1,30491,,,0,"Test fix Ironic gate by moving libvirt-python away

Change-Id: I690f5dd9ad9c30df14b0b89df29c42b11534f58c
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/58/804958/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,28ec107370363cfc79ab62bd5d1e2b764b4d4c04,fix-ironic-gate, libvirt-python>=6.0.0 # LGPLv2+,,2,1
openstack%2Fcharm-percona-cluster~master~Iedd0532268f0bf533305412105590c5afdd7c0ec,openstack/charm-percona-cluster,master,Iedd0532268f0bf533305412105590c5afdd7c0ec,Don't configure databases to replicate w/out async,MERGED,2021-08-16 23:52:22.000000000,2021-08-18 16:30:04.000000000,2021-08-18 16:30:04.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 23:52:22.000000000', 'files': ['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/fc9b9dbcb9bfa26d37aa8e6afe6540591ddd72e5', 'message': ""Don't configure databases to replicate w/out async\n\nCheck that that the asynchronous replication relations exist prior\nto providing the databases_to_replicate to the templating engine\ncode. Specifying the databases-to-replicate config option is not\nsupposed to apply when the asynchronous relation is not established.\n\nCloses-Bug: #1934680\nChange-Id: Iedd0532268f0bf533305412105590c5afdd7c0ec\n""}]",0,804805,fc9b9dbcb9bfa26d37aa8e6afe6540591ddd72e5,7,3,1,8992,,,0,"Don't configure databases to replicate w/out async

Check that that the asynchronous replication relations exist prior
to providing the databases_to_replicate to the templating engine
code. Specifying the databases-to-replicate config option is not
supposed to apply when the asynchronous relation is not established.

Closes-Bug: #1934680
Change-Id: Iedd0532268f0bf533305412105590c5afdd7c0ec
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/05/804805/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py']",2,fc9b9dbcb9bfa26d37aa8e6afe6540591ddd72e5,bug/1934680,"def has_async_replication(): """"""Returns whether or not an asynchronous replication is available. Asynchronous replication of the database is available when a user has related two percona-cluster applications via one of the mysql-async-replication relations (master or slave). This method will return true if one of those relations exists. :returns: True if an asynchronous replication relation exists, False otherwise. :rtype: bool """""" return is_relation_made('master') or is_relation_made('slave') if config('databases-to-replicate') and has_async_replication():", if config('databases-to-replicate'):,99,1
openstack%2Fopenstack-helm-images~master~I532b08d8946535aa6875f88ba624543f2dc340b8,openstack/openstack-helm-images,master,I532b08d8946535aa6875f88ba624543f2dc340b8,Update ceph version to 15.2.14-1bionic,MERGED,2021-08-18 15:14:21.000000000,2021-08-18 16:00:36.000000000,2021-08-18 15:58:47.000000000,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-08-18 15:14:21.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fcb1e9a2afaaacc5d9881f14dbedebf36b15d68c', 'message': 'Update ceph version to 15.2.14-1bionic\n\nChange-Id: I532b08d8946535aa6875f88ba624543f2dc340b8\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,805044,fcb1e9a2afaaacc5d9881f14dbedebf36b15d68c,8,3,1,8863,,,0,"Update ceph version to 15.2.14-1bionic

Change-Id: I532b08d8946535aa6875f88ba624543f2dc340b8
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/44/805044/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic']",4,fcb1e9a2afaaacc5d9881f14dbedebf36b15d68c,,# Octopus 15.2.14ARG CEPH_RELEASE_TAG=15.2.14-1bionic,# Octopus 15.2.13ARG CEPH_RELEASE_TAG=15.2.13-1bionic,8,8
openstack%2Foctavia~stable%2Fussuri~I55136f570db33cfd22e919019c18e9028a6a9bf7,openstack/octavia,stable/ussuri,I55136f570db33cfd22e919019c18e9028a6a9bf7,Fix race conditions between API and worker DB calls,MERGED,2021-06-28 07:16:10.000000000,2021-08-18 15:58:21.000000000,2021-08-18 15:56:51.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-28 07:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ac4fd076dcb534747d897d198ea91f16c08c8e5', 'message': ""Fix race conditions between API and worker DB calls\n\nThe Octavia API creates new resource in the DB and passes the resource\nand its ID to the worker. The worker then accesses to the resource using\nthe database, but it might try to fetch the element before it's\ncommited by the API.\nThis commit ensures that the resource has been commited to the DB before\nprocessing the request.\n\nStory 2008878\nTask 42423\n\nChange-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7\n(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)\n(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)\n(cherry picked from commit 732e0ad6cbeb1b8bc41110e67caf5c7c10cdf956)\n""}, {'number': 2, 'created': '2021-07-23 20:08:49.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d79c80c39c6953768c267abdba0c38a7374d6e2b', 'message': ""Fix race conditions between API and worker DB calls\n\nThe Octavia API creates new resource in the DB and passes the resource\nand its ID to the worker. The worker then accesses to the resource using\nthe database, but it might try to fetch the element before it's\ncommited by the API.\nThis commit ensures that the resource has been commited to the DB before\nprocessing the request.\n\nStory 2008878\nTask 42423\n\nChange-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7\n(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)\n(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)\n(cherry picked from commit 732e0ad6cbeb1b8bc41110e67caf5c7c10cdf956)\n""}]",0,798257,d79c80c39c6953768c267abdba0c38a7374d6e2b,14,3,2,6469,,,0,"Fix race conditions between API and worker DB calls

The Octavia API creates new resource in the DB and passes the resource
and its ID to the worker. The worker then accesses to the resource using
the database, but it might try to fetch the element before it's
commited by the API.
This commit ensures that the resource has been commited to the DB before
processing the request.

Story 2008878
Task 42423

Change-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7
(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)
(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)
(cherry picked from commit 732e0ad6cbeb1b8bc41110e67caf5c7c10cdf956)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/798257/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,7ac4fd076dcb534747d897d198ea91f16c08c8e5,," db_member = self._member_repo.get(db_apis.get_session(), id=member[constants.MEMBER_ID]) if not db_member: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7member', member[constants.MEMBER_ID]) raise db_exceptions.NoResultFound pool = db_member.pool db_l7policy = self._l7policy_repo.get( db_apis.get_session(), id=l7policy[constants.L7POLICY_ID]) if not db_l7policy: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7policy', l7policy[constants.L7POLICY_ID]) raise db_exceptions.NoResultFound db_listener = db_l7policy.listener db_l7rule = self._l7rule_repo.get(db_apis.get_session(), id=l7rule[constants.L7RULE_ID]) if not db_l7rule: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7rule', l7rule[constants.L7RULE_ID]) raise db_exceptions.NoResultFound db_l7policy = db_l7rule.l7policy"," pool = self._pool_repo.get(db_apis.get_session(), id=member[constants.POOL_ID]) db_listener = self._listener_repo.get( db_apis.get_session(), id=l7policy[constants.LISTENER_ID]) db_l7policy = self._l7policy_repo.get(db_apis.get_session(), id=l7rule[constants.L7POLICY_ID])",29,7
openstack%2Foctavia~stable%2Fvictoria~I55136f570db33cfd22e919019c18e9028a6a9bf7,openstack/octavia,stable/victoria,I55136f570db33cfd22e919019c18e9028a6a9bf7,Fix race conditions between API and worker DB calls,MERGED,2021-06-28 07:15:30.000000000,2021-08-18 15:55:19.000000000,2021-08-18 15:53:47.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-28 07:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/732e0ad6cbeb1b8bc41110e67caf5c7c10cdf956', 'message': ""Fix race conditions between API and worker DB calls\n\nThe Octavia API creates new resource in the DB and passes the resource\nand its ID to the worker. The worker then accesses to the resource using\nthe database, but it might try to fetch the element before it's\ncommited by the API.\nThis commit ensures that the resource has been commited to the DB before\nprocessing the request.\n\nStory 2008878\nTask 42423\n\nChange-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7\n(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)\n(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)\n""}, {'number': 2, 'created': '2021-08-10 08:45:24.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/739be7880c7e081b41289cf89a84d88472e5e310', 'message': ""Fix race conditions between API and worker DB calls\n\nThe Octavia API creates new resource in the DB and passes the resource\nand its ID to the worker. The worker then accesses to the resource using\nthe database, but it might try to fetch the element before it's\ncommited by the API.\nThis commit ensures that the resource has been commited to the DB before\nprocessing the request.\n\nStory 2008878\nTask 42423\n\nChange-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7\n(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)\n(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)\n""}]",0,798256,739be7880c7e081b41289cf89a84d88472e5e310,12,3,2,6469,,,0,"Fix race conditions between API and worker DB calls

The Octavia API creates new resource in the DB and passes the resource
and its ID to the worker. The worker then accesses to the resource using
the database, but it might try to fetch the element before it's
commited by the API.
This commit ensures that the resource has been commited to the DB before
processing the request.

Story 2008878
Task 42423

Change-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7
(cherry picked from commit cd272ae5a948c22e26b0ea678ea452f559e14d62)
(cherry picked from commit bd01b2b0b86444bc1fa4501d90c7285ec3368c21)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/798256/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,732e0ad6cbeb1b8bc41110e67caf5c7c10cdf956,," db_member = self._member_repo.get(db_apis.get_session(), id=member[constants.MEMBER_ID]) if not db_member: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7member', member[constants.MEMBER_ID]) raise db_exceptions.NoResultFound pool = db_member.pool db_l7policy = self._l7policy_repo.get( db_apis.get_session(), id=l7policy[constants.L7POLICY_ID]) if not db_l7policy: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7policy', l7policy[constants.L7POLICY_ID]) raise db_exceptions.NoResultFound db_listener = db_l7policy.listener db_l7rule = self._l7rule_repo.get(db_apis.get_session(), id=l7rule[constants.L7RULE_ID]) if not db_l7rule: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7rule', l7rule[constants.L7RULE_ID]) raise db_exceptions.NoResultFound db_l7policy = db_l7rule.l7policy"," pool = self._pool_repo.get(db_apis.get_session(), id=member[constants.POOL_ID]) db_listener = self._listener_repo.get( db_apis.get_session(), id=l7policy[constants.LISTENER_ID]) db_l7policy = self._l7policy_repo.get(db_apis.get_session(), id=l7rule[constants.L7POLICY_ID])",29,7
openstack%2Frequirements~master~Ic6174bfe7b4c911664631df77cf9b49a895c284d,openstack/requirements,master,Ic6174bfe7b4c911664631df77cf9b49a895c284d,Remove libvirt-python from upper-constraints,ABANDONED,2021-08-17 13:11:40.000000000,2021-08-18 15:44:19.000000000,,"[{'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 13:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c913650efd1bbbf5948a0dd2981a08ff9ccffa3c', 'message': 'Remove libvirt-python from upper-constraints\n\nThe python bindings for libvirt are strictly related to the libvirt\nsystem packages installed in each distribution.\nWhen installing libvirt-python from pip and forcing an installation\nof a version higher from the one already installed by the system\nwill cause the error:\n""ERROR: Cannot uninstall \'libvirt-python\'. It is a distutils installed\nproject and thus we cannot accurately determine which files belong to\nit which would lead to only a partial uninstall.""\nTo avoid this issue we remove libvirt-python from upper-constraints\nleaving entirely to the projects how to handle its version directly\nfrom their requirements.\n\nChange-Id: Ic6174bfe7b4c911664631df77cf9b49a895c284d\n'}, {'number': 2, 'created': '2021-08-17 16:00:28.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2385f6b0786469658b0175a62540c954002b297', 'message': 'Remove libvirt-python from upper-constraints\n\nThe python bindings for libvirt are strictly related to the libvirt\nsystem packages installed in each distribution.\nWhen installing libvirt-python from pip and forcing an installation\nof a version higher from the one already installed by the system\nwill cause the error:\n""ERROR: Cannot uninstall \'libvirt-python\'. It is a distutils installed\nproject and thus we cannot accurately determine which files belong to\nit which would lead to only a partial uninstall.""\nTo avoid this issue we remove libvirt-python from upper-constraints\nleaving entirely to the projects how to handle its version directly\nfrom their requirements.\n\nChange-Id: Ic6174bfe7b4c911664631df77cf9b49a895c284d\n'}]",0,804874,a2385f6b0786469658b0175a62540c954002b297,14,3,2,23851,,,0,"Remove libvirt-python from upper-constraints

The python bindings for libvirt are strictly related to the libvirt
system packages installed in each distribution.
When installing libvirt-python from pip and forcing an installation
of a version higher from the one already installed by the system
will cause the error:
""ERROR: Cannot uninstall 'libvirt-python'. It is a distutils installed
project and thus we cannot accurately determine which files belong to
it which would lead to only a partial uninstall.""
To avoid this issue we remove libvirt-python from upper-constraints
leaving entirely to the projects how to handle its version directly
from their requirements.

Change-Id: Ic6174bfe7b4c911664631df77cf9b49a895c284d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/804874/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c913650efd1bbbf5948a0dd2981a08ff9ccffa3c,remove-libvirt-python,,libvirt-python===7.6.0,0,1
openstack%2Fironic~master~Id33fa41360117c63b88d6327359be0c1a8895439,openstack/ironic,master,Id33fa41360117c63b88d6327359be0c1a8895439,[DNM] test virtualbmc CI fix,ABANDONED,2021-08-18 08:04:08.000000000,2021-08-18 15:43:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 08:04:08.000000000', 'files': ['ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5923fb0c931a5f6b143c8f38fcd8fa69364113b', 'message': '[DNM] test virtualbmc CI fix\n\nDepends-On: https://review.opendev.org/c/openstack/virtualbmc/+/804958\nChange-Id: Id33fa41360117c63b88d6327359be0c1a8895439\n'}]",0,804959,e5923fb0c931a5f6b143c8f38fcd8fa69364113b,6,1,1,23851,,,0,"[DNM] test virtualbmc CI fix

Depends-On: https://review.opendev.org/c/openstack/virtualbmc/+/804958
Change-Id: Id33fa41360117c63b88d6327359be0c1a8895439
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/804959/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,e5923fb0c931a5f6b143c8f38fcd8fa69364113b,test-ci, # DNM THIS IS A TEST ,,3,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3d01c5a19500db9a830c78193f82175b4c1d4361,openstack/python-tripleoclient,stable/wallaby,I3d01c5a19500db9a830c78193f82175b4c1d4361,Workaround py36 encoding pip bug,MERGED,2021-08-18 12:22:04.000000000,2021-08-18 15:26:21.000000000,2021-08-18 15:24:37.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-18 12:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c663a95b5c0996285b81d175a93e809fae1dc62d', 'message': 'Workaround py36 encoding pip bug\n\n* ensures we add LC_ALL with UTF8 if not already set\n* consolidate tox.ini indentation\n* expose only generic py env on envlist\n* sort envvars in tox\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nRelated: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}, {'number': 2, 'created': '2021-08-18 12:23:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b437a87e284bc86ab77336bf074bfc455c5b8825', 'message': 'Workaround py36 encoding pip bug\n\n* ensures we add LC_ALL with UTF8 if not already set\n* consolidate tox.ini indentation\n* expose only generic py env on envlist\n* sort envvars in tox\n\nChange-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361\nRelated: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/\n'}]",0,804998,b437a87e284bc86ab77336bf074bfc455c5b8825,11,4,2,10969,,,0,"Workaround py36 encoding pip bug

* ensures we add LC_ALL with UTF8 if not already set
* consolidate tox.ini indentation
* expose only generic py env on envlist
* sort envvars in tox

Change-Id: I3d01c5a19500db9a830c78193f82175b4c1d4361
Related: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/804890/
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/804998/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c663a95b5c0996285b81d175a93e809fae1dc62d,pip-py36-stable/wallaby,"<<<<<<< HEAD (7f6ac6 Fix 'cell export' no attribute exception)======= minversion = 3.18.0 envlist = pep8,py >>>>>>> CHANGE (377c08 Workaround py36 encoding pip bug) LANG LANGUAGE LC_* HOME={envdir} # https://github.com/pypa/pip/issues/10219#issuecomment-900898020 LC_ALL={env:LC_ALL:en_US.UTF-8} VIRTUAL_ENV={envdir}<<<<<<< HEAD (7f6ac6 Fix 'cell export' no attribute exception)======= -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt >>>>>>> CHANGE (377c08 Workaround py36 encoding pip bug) oslotest {[testenv]deps} HOME={env:HOME:/home/stack} oslo-config-generator --config-file config-generator/undercloud.conf oslo-config-generator --config-file config-generator/standalone.conf oslo-config-generator --config-file config-generator/minion.conf", VIRTUAL_ENV={envdir} LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=C HOME={envdir} oslotest {[testenv]deps} HOME={env:HOME:/home/stack} oslo-config-generator --config-file config-generator/undercloud.conf oslo-config-generator --config-file config-generator/standalone.conf oslo-config-generator --config-file config-generator/minion.conf,24,11
openstack%2Fkolla~stable%2Fwallaby~I670fa84476e35e55cbed2d22e48836ed5e28495f,openstack/kolla,stable/wallaby,I670fa84476e35e55cbed2d22e48836ed5e28495f,Config: allow to set group for user,MERGED,2021-08-17 12:01:06.000000000,2021-08-18 15:26:14.000000000,2021-08-18 15:24:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 12:01:06.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/set-group-for-user-aa9b3eae69d8f6a0.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/69a6809b1e708111d7e27f302a44a1c2515bd5d8', 'message': 'Config: allow to set group for user\n\nAccording to recent IRC discussions is could be useful for haclient.\nPartial-Bug: #1934753\n\nChange-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f\n(cherry picked from commit 65684250175117b47d41e29d1bc3f9116c0084b5)\n'}]",0,804855,69a6809b1e708111d7e27f302a44a1c2515bd5d8,14,4,1,27339,,,0,"Config: allow to set group for user

According to recent IRC discussions is could be useful for haclient.
Partial-Bug: #1934753

Change-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f
(cherry picked from commit 65684250175117b47d41e29d1bc3f9116c0084b5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/804855/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/set-group-for-user-aa9b3eae69d8f6a0.yaml', 'kolla/common/config.py']",4,69a6809b1e708111d7e27f302a44a1c2515bd5d8,bug/1934753-stable/wallaby,"def get_user_opts(uid, gid, group): cfg.StrOpt('group', default=group, help='The group name'), try: group = params['group'] except KeyError: group = name[:-5] yield name, get_user_opts(uid, gid, group)","def get_user_opts(uid, gid): yield name, get_user_opts(uid, gid)",12,3
openstack%2Fpuppet-tripleo~stable%2Fwallaby~If6d8ccefe007b7a8954bf7dc854f0e2052b53876,openstack/puppet-tripleo,stable/wallaby,If6d8ccefe007b7a8954bf7dc854f0e2052b53876,Replace deprecated is_integer,MERGED,2021-08-16 23:42:15.000000000,2021-08-18 15:24:34.000000000,2021-08-18 15:24:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 23:42:15.000000000', 'files': ['manifests/profile/base/swift/add_devices.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1dffdb2c622ead6630556f147eb0b67fb3c1c90c', 'message': 'Replace deprecated is_integer\n\nThe is_integer function is deprecated since 4.13.0[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6e7e69fe203e042b28aacb01301c338d55448c5f\n\nChange-Id: If6d8ccefe007b7a8954bf7dc854f0e2052b53876\n(cherry picked from commit 212f47ca405509431fdfc1afd84111a4a738ba73)\n'}]",0,804729,1dffdb2c622ead6630556f147eb0b67fb3c1c90c,8,3,1,9816,,,0,"Replace deprecated is_integer

The is_integer function is deprecated since 4.13.0[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6e7e69fe203e042b28aacb01301c338d55448c5f

Change-Id: If6d8ccefe007b7a8954bf7dc854f0e2052b53876
(cherry picked from commit 212f47ca405509431fdfc1afd84111a4a738ba73)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/804729/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/swift/add_devices.pp'],1,1dffdb2c622ead6630556f147eb0b67fb3c1c90c,is_integer-stable/wallaby, if $server_num_or_device =~ Stdlib::Compat::Integer {, if (is_integer($server_num_or_device)) {,1,1
openstack%2Felection~master~I982f2093816143e3e7304937a7b85f6830fba3a4,openstack/election,master,I982f2093816143e3e7304937a7b85f6830fba3a4,Wang Hao candidacy for Zaqar PTL (Yoga),MERGED,2021-08-18 02:10:20.000000000,2021-08-18 15:14:21.000000000,2021-08-18 15:12:34.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 02:10:20.000000000', 'files': ['candidates/yoga/Zaqar/sxmatch1986@gmail.com', 'candidates/yoga/Zaqar/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/3fa8497044f9a2ebe2d0ce8a8ad0c8365cc7f71c', 'message': 'Wang Hao candidacy for Zaqar PTL (Yoga)\n\nWang Hao candidacy for Zaqar PTL (Yoga)\n\nChange-Id: I982f2093816143e3e7304937a7b85f6830fba3a4\n'}]",0,804935,3fa8497044f9a2ebe2d0ce8a8ad0c8365cc7f71c,8,3,1,8846,,,0,"Wang Hao candidacy for Zaqar PTL (Yoga)

Wang Hao candidacy for Zaqar PTL (Yoga)

Change-Id: I982f2093816143e3e7304937a7b85f6830fba3a4
",git fetch https://review.opendev.org/openstack/election refs/changes/35/804935/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Zaqar/sxmatch1986@gmail.com', 'candidates/yoga/Zaqar/.placeholder']",2,3fa8497044f9a2ebe2d0ce8a8ad0c8365cc7f71c,Yoga-ptl-candidates,,,22,0
openstack%2Felection~master~If428accbbd0a3847ae2be7cd2fdf9c6e0a17be01,openstack/election,master,If428accbbd0a3847ae2be7cd2fdf9c6e0a17be01,Artem Goncharov candidacy for SDK PTL (Yoga),MERGED,2021-08-18 08:28:52.000000000,2021-08-18 15:11:53.000000000,2021-08-18 15:10:28.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 08:28:52.000000000', 'files': ['candidates/yoga/OpenStackSDK/.placeholder', 'candidates/yoga/OpenStackSDK/artem.goncharov@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/09415bd56f2d4184e76828f33b00e1667060000d', 'message': 'Artem Goncharov candidacy for SDK PTL (Yoga)\n\nChange-Id: If428accbbd0a3847ae2be7cd2fdf9c6e0a17be01\n'}]",0,804964,09415bd56f2d4184e76828f33b00e1667060000d,8,3,1,27900,,,0,"Artem Goncharov candidacy for SDK PTL (Yoga)

Change-Id: If428accbbd0a3847ae2be7cd2fdf9c6e0a17be01
",git fetch https://review.opendev.org/openstack/election refs/changes/64/804964/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/OpenStackSDK/.placeholder', 'candidates/yoga/OpenStackSDK/artem.goncharov@gmail.com']",2,09415bd56f2d4184e76828f33b00e1667060000d,,Hi everybody! I'd like to run again for PTL of OpenStackSDK. Big bunch of preparation work for R1.0 has been implemented. There are few things remaining and we can finally celebrate. Please help me complete this work and drive SDK/CLI further for wider adoption and better usability. Thanks! Artem ,,10,0
openstack%2Fmagnum-tempest-plugin~master~Id741fafc7e1da2d4e180f0745cd4d4b367472f06,openstack/magnum-tempest-plugin,master,Id741fafc7e1da2d4e180f0745cd4d4b367472f06,Extend default glance limit,MERGED,2021-07-27 15:23:12.000000000,2021-08-18 15:03:31.000000000,2021-08-18 15:03:31.000000000,"[{'_account_id': 6484}, {'_account_id': 9816}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-07-27 15:23:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/9b9eacfa515db07874b6489a9ce1785965d684fb', 'message': 'Extend default glance limit\n\nSince [1] is merged, quota in glance is enabled but limit is set to\n1GB by default and this is too small for Magnum jobs using Fedora\nimages.\nThis change extends the limit to fix the issue caused by that low\nlimit.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/788056\nDepends-on: https://review.opendev.org/802413\n\nChange-Id: Id741fafc7e1da2d4e180f0745cd4d4b367472f06\n'}]",0,802539,9b9eacfa515db07874b6489a9ce1785965d684fb,13,5,1,9816,,,0,"Extend default glance limit

Since [1] is merged, quota in glance is enabled but limit is set to
1GB by default and this is too small for Magnum jobs using Fedora
images.
This change extends the limit to fix the issue caused by that low
limit.

[1] https://review.opendev.org/c/openstack/devstack/+/788056
Depends-on: https://review.opendev.org/802413

Change-Id: Id741fafc7e1da2d4e180f0745cd4d4b367472f06
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/39/802539/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9b9eacfa515db07874b6489a9ce1785965d684fb,bug/1938151, devstack_localrc: # NOTE: extend default glance limit from 1GB GLANCE_LIMIT_IMAGE_SIZE_TOTAL: 5000,,3,0
openstack%2Fhorizon~master~Iefa9b6f2d70fe70fb537e9599412113b91df33bc,openstack/horizon,master,Iefa9b6f2d70fe70fb537e9599412113b91df33bc,"Fix ""Action Log"" tab in admin instance detail view",NEW,2021-08-18 11:40:16.000000000,2021-08-18 14:59:04.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-08-18 11:40:16.000000000', 'files': ['openstack_dashboard/dashboards/admin/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/77c2280a939627b3313823e10e67115dc2395eee', 'message': 'Fix ""Action Log"" tab in admin instance detail view\n\nIf you enable angular for \'user_panel\' then ""Action Log""\ntab in admin instance detail view stop working as it requires\nuser_link [1] which doesn\'t exist as you switched to angular based\n\'user_panel\'. So this patch removes the link for user_id field which\nfixes the issue.\n\nCloses-Bug: #1934853\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/dashboards/admin/instances/tables.py#L216\n\nChange-Id: Iefa9b6f2d70fe70fb537e9599412113b91df33bc\n'}]",0,804989,77c2280a939627b3313823e10e67115dc2395eee,6,3,1,29313,,,0,"Fix ""Action Log"" tab in admin instance detail view

If you enable angular for 'user_panel' then ""Action Log""
tab in admin instance detail view stop working as it requires
user_link [1] which doesn't exist as you switched to angular based
'user_panel'. So this patch removes the link for user_id field which
fixes the issue.

Closes-Bug: #1934853
[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/dashboards/admin/instances/tables.py#L216

Change-Id: Iefa9b6f2d70fe70fb537e9599412113b91df33bc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/804989/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/instances/tables.py'],1,77c2280a939627b3313823e10e67115dc2395eee,,class AdminAuditTable(audit_tables.AuditTable):,"from django import urlsdef user_link(datum): return urls.reverse(""horizon:identity:users:detail"", args=(datum.user_id,)) class AdminAuditTable(audit_tables.AuditTable): user_id = tables.Column('user_id', verbose_name=_('User ID'), link=user_link)",0,8
openstack%2Fnova~master~I9ca54d63ebda626f41159b13bbe40549a714f0a1,openstack/nova,master,I9ca54d63ebda626f41159b13bbe40549a714f0a1,Smartnic support - cyborg drive,MERGED,2021-01-19 07:24:05.000000000,2021-08-18 14:50:42.000000000,2021-08-18 14:48:34.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-19 07:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c985a282557ffb480e7e4cab2d54097405b4fd4', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 2, 'created': '2021-01-21 07:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f4032be61b7a6977f3d8cf8af04fb398461e568', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 3, 'created': '2021-01-25 07:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac5d9f8d43e3dbe028ff03443f260a1fb5e4b386', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 4, 'created': '2021-02-23 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/951c57f483a5d891773d1a3c1c3de28a50d25047', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 5, 'created': '2021-02-25 06:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26ce89d64c6574ba8c23859797e0bc797ff1e042', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 6, 'created': '2021-02-25 08:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7119f8cd5ad6729f834f61f3df8920ba03ebb12', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 7, 'created': '2021-02-26 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc871b8d01d38b278303da8bfb9f51c72e42d66c', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 8, 'created': '2021-03-02 07:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a804af92f6c245753a09d674ff6224e6ac17d165', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 9, 'created': '2021-03-02 08:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad649a9c056a4486c0c85fb90dfc571b9e8bf73d', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 10, 'created': '2021-03-04 07:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/848524288778f73c998b2aba81f9b94893c4078c', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 11, 'created': '2021-03-05 04:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fab75e97a8284c8924516b8c6597255682f614c', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 12, 'created': '2021-03-05 07:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d15d5080aa4c01b7b89e9f3dbc302df8d08da68e', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in smartnic port field ""device_profile"",\na cyborg ARQ is created based on the device profile.\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 13, 'created': '2021-03-10 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5175e1ae45cbaa94400494b1a4eeaab3ddf27dce', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 14, 'created': '2021-03-30 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96ccd5c3c97a3ea8f3fdc63e3dd76f6fc53ea27a', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 15, 'created': '2021-05-14 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd74a60661b573df25482f05d18ce9508fcaa9dc', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 16, 'created': '2021-05-20 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed82d61188316b5719186319f30a2dee6b98ca1', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 17, 'created': '2021-05-21 08:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63f014dc27f33bbb08962bf91d1fcab3943af957', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 18, 'created': '2021-06-02 06:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25541cddbcb55aa1dbb10a57e11f726c583082ef', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 19, 'created': '2021-06-08 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d916f540831595d8616657e3edb81f0d726b2ed', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 20, 'created': '2021-06-09 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef3b0197371d7f638bf589e4208d104a5cc3e491', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 21, 'created': '2021-06-11 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b3406abb9b859f7ebaef567f2e3198df5c18c6', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 22, 'created': '2021-06-15 02:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f06722f7e59ef538171ecb28a283d484b2c15353', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 23, 'created': '2021-06-17 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52a63ec926d08c0577a3965fd55bb30ceb146925', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 24, 'created': '2021-06-18 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b062b59effe01cf0c65086b7ccfe8c929817eac', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 25, 'created': '2021-06-21 05:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09bba5e1cc0cd6e0836ee613f929ff98c660eb4a', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 26, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac3f70d0fb695cbce518b7cae2702762dcc2b18', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 27, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83c5fd3c353cd87d865c00f7c21ea869f5240239', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 28, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99beb4bf30943b70082f04cf0ec0f7d9f7a18939', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 29, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797a4a3aba54f1ba3d2f5421ed5d26d0c47da2af', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 30, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fd29d11bdc7afbb296f801cc562ab22d06cafde', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 31, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc556e5b63c6781a4748c300caf27b2a99461f68', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 32, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19fb02cb736710c26fe302a5973b0056ecb1a04', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 33, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc04f8cd0c0bcb52b3288c507c968b412c35c80f', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 34, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/950e9ac2a1eb262ae16d24a736bdaab9ffb642e9', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 35, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac3e3fd98fe398d3ed818aea07355effb1470359', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 36, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1cc8734c9c646937de7f61753488508301bf05a', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 37, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d56d5ab08d0f8f21253a7ecad6fe68a2df05efb', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}, {'number': 38, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/cyborg.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c55d5d59da3543bcc79e8e4aaaed5588defe4c1', 'message': 'Smartnic support - cyborg drive\n\nA device profile keeps in port field ""device_profile"", a cyborg arq\nis created based on the device profile.\n\nFew cyborg interfaces added to support smartnic operations.\n\n    - create_arqs\n      create arqs from device_profile\n\n    - get_arq_device_rp_uuid\n      get arq device provider uuid by arq\n\n    - get_arq_by_uuid\n      retrieve arq by arq uuid\n\nImplements: blueprint sriov-smartnic-support\n\nChange-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1\nCo-Authored-By: Shaohe Feng <shaohe.feng@intel.com>\nCo-Authored-By: Xinran Wang <xin-ran.wang@intel.com>\n'}]",76,771362,9c55d5d59da3543bcc79e8e4aaaed5588defe4c1,281,7,38,7543,,,0,"Smartnic support - cyborg drive

A device profile keeps in port field ""device_profile"", a cyborg arq
is created based on the device profile.

Few cyborg interfaces added to support smartnic operations.

    - create_arqs
      create arqs from device_profile

    - get_arq_device_rp_uuid
      get arq device provider uuid by arq

    - get_arq_by_uuid
      retrieve arq by arq uuid

Implements: blueprint sriov-smartnic-support

Change-Id: I9ca54d63ebda626f41159b13bbe40549a714f0a1
Co-Authored-By: Shaohe Feng <shaohe.feng@intel.com>
Co-Authored-By: Xinran Wang <xin-ran.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/771362/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/cyborg.py']",2,1c985a282557ffb480e7e4cab2d54097405b4fd4,bp/sriov-smartnic-support," def create_arqs_and_match_resource_providers( self, dp_name, rg_rp_map=None): if not rg_rp_map: # arq for port don't have rp map before scehdule to a host return arqs def get_arq_device_rp_uuid(self, arq_uuid, rg_rp_map): """"""Query the ARQ by uuid saved in request_net """""" arq = self.get_arq(arq_uuid) dp_group_id = arq['device_profile_group_id'] requester_id = ( get_device_profile_group_requester_id(dp_group_id)) return rg_rp_map[requester_id][0] def get_arq(self, arq_uuid): """"""Get ARQs by uuid. The format of the returned data structure is as below: {'uuid': $arq_uuid, 'device_profile_name': $dp_name, 'device_profile_group_id': $dp_request_group_index, 'state': 'Bound', 'device_rp_uuid': $resource_provider_uuid, 'hostname': $host_nodename, 'instance_uuid': $instance_uuid, 'attach_handle_info': { # PCI bdf 'bus': '0c', 'device': '0', 'domain': '0000', 'function': '0'}, 'attach_handle_type': 'PCI' # or 'TEST_PCI' for Cyborg fake driver } :raises: AcceleratorRequestOpFailed """""" resp, err_msg = self._call_cyborg(self._client.get, ""/"".join([self.ARQ_URL, arq_uuid])) if err_msg: err_msg = err_msg + _(' ARQ: %s') % arq_uuid raise exception.AcceleratorRequestOpFailed( op=_('get'), msg=err_msg) arq = resp.json() if not arq: err_msg = _(""Cyborg can't find accelerator requests for "" ""'ARQ %s"") % arq_uuid raise exception.AcceleratorRequestOpFailed( op=_('get'), msg=err_msg) return arq "," def create_arqs_and_match_resource_providers(self, dp_name, rg_rp_map):",116,1
openstack%2Ftripleo-ansible~master~Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,openstack/tripleo-ansible,master,Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,tripleo_push_artifacts: ensure destination exists,MERGED,2021-08-17 14:38:03.000000000,2021-08-18 14:39:21.000000000,2021-08-18 14:37:04.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-17 14:38:03.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/83d4795cdf0141af53f8dd6f37b05360eabdbacc', 'message': 'tripleo_push_artifacts: ensure destination exists\n\nBefore transferring a tarball, ensure that the destination\ndirectory exists, like we do for transferring rpms.\n\nCloses-Bug: #1940301\nChange-Id: Ia1e1faaa8389c4b943632820deff8f0a919bcdd8\n'}]",0,804883,83d4795cdf0141af53f8dd6f37b05360eabdbacc,10,6,1,20778,,,0,"tripleo_push_artifacts: ensure destination exists

Before transferring a tarball, ensure that the destination
directory exists, like we do for transferring rpms.

Closes-Bug: #1940301
Change-Id: Ia1e1faaa8389c4b943632820deff8f0a919bcdd8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/804883/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'],1,83d4795cdf0141af53f8dd6f37b05360eabdbacc,bug/1940301," self._run_module( module_name='file', module_args=dict( path=os.path.dirname(package_path), state='directory' ) )",,7,0
openstack%2Fnova~master~I07be8e16381592fc177eeecd4f0d7f2db93eb09d,openstack/nova,master,I07be8e16381592fc177eeecd4f0d7f2db93eb09d,tests: Enable SADeprecationWarning warnings,MERGED,2021-08-16 11:52:21.000000000,2021-08-18 14:35:07.000000000,2021-08-18 14:31:38.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 11:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acf1ec32ec25b98e594a8a1bf13748a0e06c2274', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This doesn't appear to raise any issues, but a future change\nwill enable warnings related to SQLAlchemy 2.0. These require a special\nenvironment option (SQLALCHEMY_WARN_20) to trigger and a lot of work to\nresolve.\n\nChange-Id: I07be8e16381592fc177eeecd4f0d7f2db93eb09d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-17 13:05:38.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20d8554f648f21274af2cccd2ffeb25e074d453a', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This doesn't appear to raise any issues, but a future change\nwill enable warnings related to SQLAlchemy 2.0. These require a special\nenvironment option (SQLALCHEMY_WARN_20) to trigger and a lot of work to\nresolve.\n\nChange-Id: I07be8e16381592fc177eeecd4f0d7f2db93eb09d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,804708,20d8554f648f21274af2cccd2ffeb25e074d453a,19,3,2,15334,,,0,"tests: Enable SADeprecationWarning warnings

Highlight use of deprecated SQLAlchemy APIs to ensure we keep on top of
things. This doesn't appear to raise any issues, but a future change
will enable warnings related to SQLAlchemy 2.0. These require a special
environment option (SQLALCHEMY_WARN_20) to trigger and a lot of work to
resolve.

Change-Id: I07be8e16381592fc177eeecd4f0d7f2db93eb09d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/804708/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,acf1ec32ec25b98e594a8a1bf13748a0e06c2274,sqlalchemy-20," # Enable deprecation warnings to capture upcoming SQLAlchemy changes warnings.filterwarnings( 'error', module='nova', category=sqla_exc.SADeprecationWarning) ",,7,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Fussuri~If9df63b2ef0031c91303d3fcb56474cbf7d648f9,openstack/openstack-ansible-os_horizon,stable/ussuri,If9df63b2ef0031c91303d3fcb56474cbf7d648f9,Fix race condition in compression of static files,MERGED,2021-02-15 13:26:53.000000000,2021-08-18 14:34:07.000000000,2021-08-18 14:32:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-15 13:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/b83780c51348fc39ae0334b81ec404dd4c43167a', 'message': 'Fix race condition in compression of static files\n\nAt present, the collection and compression of static file is\ncarried out asynchronously to speed up execution. If compression\nstarts before collection has completed it can result in incomplete\nresults which cause the Horizon front end to produce 500 errors.\n\nThis patch switches the collection of static files back to a\nsynchronous task before triggering the slower compression as an\nasynchronous task to maintain most of the speed-up benefit.\n\nChange-Id: If9df63b2ef0031c91303d3fcb56474cbf7d648f9\n(cherry picked from commit a26eee05f7b8bafd7aa2985828229b8762701d36)\n'}, {'number': 2, 'created': '2021-04-09 06:26:24.000000000', 'files': ['tasks/main.yml', 'tasks/horizon_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/c1d6fd94cb2e946c7a65afe1cf0820ab7fd8e255', 'message': 'Fix race condition in compression of static files\n\nAt present, the collection and compression of static file is\ncarried out asynchronously to speed up execution. If compression\nstarts before collection has completed it can result in incomplete\nresults which cause the Horizon front end to produce 500 errors.\n\nThis patch switches the collection of static files back to a\nsynchronous task before triggering the slower compression as an\nasynchronous task to maintain most of the speed-up benefit.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/785393\nChange-Id: If9df63b2ef0031c91303d3fcb56474cbf7d648f9\n(cherry picked from commit a26eee05f7b8bafd7aa2985828229b8762701d36)\n'}]",0,775592,c1d6fd94cb2e946c7a65afe1cf0820ab7fd8e255,29,4,2,25023,,,0,"Fix race condition in compression of static files

At present, the collection and compression of static file is
carried out asynchronously to speed up execution. If compression
starts before collection has completed it can result in incomplete
results which cause the Horizon front end to produce 500 errors.

This patch switches the collection of static files back to a
synchronous task before triggering the slower compression as an
asynchronous task to maintain most of the speed-up benefit.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/785393
Change-Id: If9df63b2ef0031c91303d3fcb56474cbf7d648f9
(cherry picked from commit a26eee05f7b8bafd7aa2985828229b8762701d36)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/92/775592/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/horizon_post_install.yml']",2,b83780c51348fc39ae0334b81ec404dd4c43167a,,"- name: Collect static files command: ""{{ horizon_manage }} collectstatic --noinput"" notify: Restart apache2 - name: Compress static files command: ""{{ horizon_manage }} compress --force"" become: yes become_user: ""{{ horizon_system_user_name }}"" changed_when: false","- name: Collect and compress static files command: ""{{ item }}"" with_items: - ""{{ horizon_manage }} collectstatic --noinput"" - ""{{ horizon_manage }} compress --force""",11,9
openstack%2Fnova~master~I1fa2feaee78213ad81f1889ce54888696f58d98c,openstack/nova,master,I1fa2feaee78213ad81f1889ce54888696f58d98c,db: Add initial alembic migration for main DB,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 14:33:39.000000000,2021-08-18 14:27:30.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/923511b4900ec3b58803c6c9f75006df65004fb3', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job.\n\nWe don't need to worry about ordering since alembic will figure this out\nfor us. In fact, the only really divergent thing is the use of the\n'batch_alter_table' context manager which, as discussed in the alembic\ndocs [1], is necessary to work around sqlite's inability to update the\nschema of existing tables.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c9d49d89bdb4459e13394ff678be7a350370450', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job.\n\nWe don't need to worry about ordering since alembic will figure this out\nfor us. In fact, the only really divergent thing is the use of the\n'batch_alter_table' context manager which, as discussed in the alembic\ndocs [1], is necessary to work around sqlite's inability to update the\nschema of existing tables.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f726a2b4a0b29e14b36d9b39d5fa5ce6b6f2f058', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job.\n\nWe don't need to worry about ordering since alembic will figure this out\nfor us. In fact, the only really divergent thing is the use of the\n'batch_alter_table' context manager which, as discussed in the alembic\ndocs [1], is necessary to work around sqlite's inability to update the\nschema of existing tables.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15460dc7e789af6bfe88c40e06b4cb12e39c08d7', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job. The only significant divergences are the removal of\na single reference to the 'migrate_version' table created by\nsqlalchemy-migrate, which obviously won't exist in an alembic-only\nworld, along with some reordering of tables. The latter step is\nnecessary since Alembic is not smart enough to correctly order the\ncreation of tables so that tables that reference (via a foreign key) one\nor more other tables are created after the table(s) they reference.\nSince we now have to create tables using the 'create_table' API as noted\nabove, rather than by creating a 'Table' instance and calling the\nsqlalchemy-migrate-provided 'create' API as we could previously, we must\nreorder our calls. The alternative would be to leave the creation of any\n'ForeignKeyConstraint' until later but that seems no better and would\narguably be harder to read.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ccf0cd369e543f83f6016405977b027852d293', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job. The only significant divergences are the removal of\na single reference to the 'migrate_version' table created by\nsqlalchemy-migrate, which obviously won't exist in an alembic-only\nworld, along with some reordering of tables. The latter step is\nnecessary since Alembic is not smart enough to correctly order the\ncreation of tables so that tables that reference (via a foreign key) one\nor more other tables are created after the table(s) they reference.\nSince we now have to create tables using the 'create_table' API as noted\nabove, rather than by creating a 'Table' instance and calling the\nsqlalchemy-migrate-provided 'create' API as we could previously, we must\nreorder our calls. The alternative would be to leave the creation of any\n'ForeignKeyConstraint' until later but that seems no better and would\narguably be harder to read.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/main/migrations/README.rst', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py', 'nova/db/main/migrations/script.py.mako', 'nova/db/main/alembic.ini', 'nova/db/main/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca9ba88a7a31e6feb906f9c84b47af2aed43c684', 'message': ""db: Add initial alembic migration for main DB\n\nThis wasn't as complicated as feared. We're mostly able to copy-paste\nthe existing sqlalchemy-migrate migration and simply changes the pattern\nof calls from monkey-patched 'create' methods such as:\n\n  agent_builds = Table('agent_builds', meta,\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n  agent_builds.create()\n\nto explicit alembic APIs like:\n\n  op.create_table(\n      'agent_builds',\n      sa.Column('created_at', sa.DateTime),\n      ...\n      mysql_charset='utf8'\n  )\n\nReviewers are encouraged to diff the old migration file,\n'nova/db/main/legacy_migrations/versions/402_train.py' against the new\none, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',\nto ease their job. The only significant divergences are the removal of\na single reference to the 'migrate_version' table created by\nsqlalchemy-migrate, which obviously won't exist in an alembic-only\nworld, along with some reordering of tables. The latter step is\nnecessary since Alembic is not smart enough to correctly order the\ncreation of tables so that tables that reference (via a foreign key) one\nor more other tables are created after the table(s) they reference.\nSince we now have to create tables using the 'create_table' API as noted\nabove, rather than by creating a 'Table' instance and calling the\nsqlalchemy-migrate-provided 'create' API as we could previously, we must\nreorder our calls. The alternative would be to leave the creation of any\n'ForeignKeyConstraint' until later but that seems no better and would\narguably be harder to read.\n\nNote that this isn't yet wired up to anything: users can run it manually\nbut the nova-manage commands we provide are still connected to the\nsqlalchemy-migrate commands. This will change shortly when we add shims\nto handle the conversion.\n\nChange-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,799527,ca9ba88a7a31e6feb906f9c84b47af2aed43c684,74,3,6,15334,,,0,"db: Add initial alembic migration for main DB

This wasn't as complicated as feared. We're mostly able to copy-paste
the existing sqlalchemy-migrate migration and simply changes the pattern
of calls from monkey-patched 'create' methods such as:

  agent_builds = Table('agent_builds', meta,
      sa.Column('created_at', sa.DateTime),
      ...
      mysql_charset='utf8'
  )
  agent_builds.create()

to explicit alembic APIs like:

  op.create_table(
      'agent_builds',
      sa.Column('created_at', sa.DateTime),
      ...
      mysql_charset='utf8'
  )

Reviewers are encouraged to diff the old migration file,
'nova/db/main/legacy_migrations/versions/402_train.py' against the new
one, 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py',
to ease their job. The only significant divergences are the removal of
a single reference to the 'migrate_version' table created by
sqlalchemy-migrate, which obviously won't exist in an alembic-only
world, along with some reordering of tables. The latter step is
necessary since Alembic is not smart enough to correctly order the
creation of tables so that tables that reference (via a foreign key) one
or more other tables are created after the table(s) they reference.
Since we now have to create tables using the 'create_table' API as noted
above, rather than by creating a 'Table' instance and calling the
sqlalchemy-migrate-provided 'create' API as we could previously, we must
reorder our calls. The alternative would be to leave the creation of any
'ForeignKeyConstraint' until later but that seems no better and would
arguably be harder to read.

Note that this isn't yet wired up to anything: users can run it manually
but the nova-manage commands we provide are still connected to the
sqlalchemy-migrate commands. This will change shortly when we add shims
to handle the conversion.

Change-Id: I1fa2feaee78213ad81f1889ce54888696f58d98c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/799527/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/README.rst', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py', 'nova/db/main/migrations/script.py.mako', 'nova/db/main/alembic.ini', 'nova/db/main/migrations/env.py']",6,923511b4900ec3b58803c6c9f75006df65004fb3,bp/remove-sqlalchemy-migrate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from logging.config import fileConfig from alembic import context from sqlalchemy import engine_from_config from sqlalchemy import pool # this is the Alembic Config object, which provides # access to the values within the .ini file in use. config = context.config # Interpret the config file for Python logging. # This line sets up loggers basically. fileConfig(config.config_file_name) # add your model's MetaData object here # for 'autogenerate' support # from myapp import mymodel # target_metadata = mymodel.Base.metadata target_metadata = None def run_migrations_offline(): """"""Run migrations in 'offline' mode. This configures the context with just a URL and not an Engine, though an Engine is acceptable here as well. By skipping the Engine creation we don't even need a DBAPI to be available. Calls to context.execute() here emit the given string to the script output. """""" url = config.get_main_option(""sqlalchemy.url"") context.configure( url=url, target_metadata=target_metadata, literal_binds=True, dialect_opts={""paramstyle"": ""named""}, ) with context.begin_transaction(): context.run_migrations() def run_migrations_online(): """"""Run migrations in 'online' mode. In this scenario we need to create an Engine and associate a connection with the context. """""" connectable = engine_from_config( config.get_section(config.config_ini_section), prefix=""sqlalchemy."", poolclass=pool.NullPool, ) with connectable.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata ) with context.begin_transaction(): context.run_migrations() if context.is_offline_mode(): run_migrations_offline() else: run_migrations_online() ",,1843,4
openstack%2Fnova~master~I4c8eb13f11aa7471c26a5ba326319aef245c9836,openstack/nova,master,I4c8eb13f11aa7471c26a5ba326319aef245c9836,db: Final cleanups,MERGED,2021-07-12 14:36:58.000000000,2021-08-18 14:31:07.000000000,2021-08-18 14:31:07.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 14:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13b94cf47fc2c6462f034797982f48834e4055da', 'message': 'db: Final cleanups\n\nSome things that were missed in previous patches and are thrown together\nhere:\n\n- Add alembic as an explicit dependency (we were getting it transitively\n  from oslo.db)\n- Remove tooling related to the old migrations\n- Fix the tox whitelisting of the flaky MySQL tests\n\nChange-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-14 13:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2680cc930b25a2a0471b418cf8503a3e10d97b7', 'message': 'db: Final cleanups\n\nSome things that were missed in previous patches and are thrown together\nhere:\n\n- Add alembic as an explicit dependency (we were getting it transitively\n  from oslo.db). We also bump the sqlalchemy dependency to the minimum\n  supported by our chosen version of alembic\n- Remove tooling related to the old migrations\n- Fix the tox whitelisting of the flaky MySQL tests\n\nChange-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-22 11:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ee7abca84f72e053e78b2cf7f41b4387a53aeda', 'message': 'db: Final cleanups\n\nSome things that were missed in previous patches and are thrown together\nhere:\n\n- Add alembic as an explicit dependency (we were getting it transitively\n  from oslo.db). We also bump the sqlalchemy dependency to a 1.4.x\n  release, which is the minimum supported by our chosen version of\n  alembic (more on this below)\n- Remove tooling related to the old migrations\n- Fix the tox whitelisting of the flaky MySQL tests\n\nOn the SQLAlchemy front, we opt for 1.4.13. Technically alembic should\nsupport anything from 1.4.0, however, with SQLAlchemy >= 1.4.0, < 1.4.13\nwe see errors like the following in some tests:\n\n  sqlalchemy.exc.InvalidRequestError: Entity namespace for\n  ""count(instance_mappings.id)"" has no property ""queued_for_delete""\n\nThere\'s nothing specific about this in the release notes for 1.4.13 [1]\nbut it definitely fixes things.\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-1.4.13\n\nChange-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-08-09 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad06a5de17bb199389880cdced4e6a9f25ed918d', 'message': 'db: Final cleanups\n\nSome things that were missed in previous patches and are thrown together\nhere:\n\n- Add alembic as an explicit dependency (we were getting it transitively\n  from oslo.db). We also bump the sqlalchemy dependency to a 1.4.x\n  release, which is the minimum supported by our chosen version of\n  alembic (more on this below)\n- Remove tooling related to the old migrations\n- Fix the tox whitelisting of the flaky MySQL tests\n\nOn the SQLAlchemy front, we opt for 1.4.13. Technically alembic should\nsupport anything from 1.4.0, however, with SQLAlchemy >= 1.4.0, < 1.4.13\nwe see errors like the following in some tests:\n\n  sqlalchemy.exc.InvalidRequestError: Entity namespace for\n  ""count(instance_mappings.id)"" has no property ""queued_for_delete""\n\nThere\'s nothing specific about this in the release notes for 1.4.13 [1]\nbut it definitely fixes things.\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-1.4.13\n\nChange-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-17 13:05:38.000000000', 'files': ['requirements.txt', 'tools/db/schema_diff.py', 'lower-constraints.txt', 'tools/generate-schemas', 'tox.ini', 'tools/reserve-migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb728e877adc9ba9a6bc362b1db7893f15f44551', 'message': 'db: Final cleanups\n\nSome things that were missed in previous patches and are thrown together\nhere:\n\n- Add alembic as an explicit dependency (we were getting it transitively\n  from oslo.db). We also bump the sqlalchemy dependency to a 1.4.x\n  release, which is the minimum supported by our chosen version of\n  alembic (more on this below)\n- Remove tooling related to the old migrations\n- Fix the tox whitelisting of the flaky MySQL tests\n\nOn the SQLAlchemy front, we opt for 1.4.13. Technically alembic should\nsupport anything from 1.4.0, however, with SQLAlchemy >= 1.4.0, < 1.4.13\nwe see errors like the following in some tests:\n\n  sqlalchemy.exc.InvalidRequestError: Entity namespace for\n  ""count(instance_mappings.id)"" has no property ""queued_for_delete""\n\nThere\'s nothing specific about this in the release notes for 1.4.13 [1]\nbut it definitely fixes things.\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-1.4.13\n\nChange-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,800484,eb728e877adc9ba9a6bc362b1db7893f15f44551,47,3,5,15334,,,0,"db: Final cleanups

Some things that were missed in previous patches and are thrown together
here:

- Add alembic as an explicit dependency (we were getting it transitively
  from oslo.db). We also bump the sqlalchemy dependency to a 1.4.x
  release, which is the minimum supported by our chosen version of
  alembic (more on this below)
- Remove tooling related to the old migrations
- Fix the tox whitelisting of the flaky MySQL tests

On the SQLAlchemy front, we opt for 1.4.13. Technically alembic should
support anything from 1.4.0, however, with SQLAlchemy >= 1.4.0, < 1.4.13
we see errors like the following in some tests:

  sqlalchemy.exc.InvalidRequestError: Entity namespace for
  ""count(instance_mappings.id)"" has no property ""queued_for_delete""

There's nothing specific about this in the release notes for 1.4.13 [1]
but it definitely fixes things.

[1] https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-1.4.13

Change-Id: I4c8eb13f11aa7471c26a5ba326319aef245c9836
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/800484/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/db/schema_diff.py', 'tools/generate-schemas', 'tox.ini', 'tools/reserve-migrations.py']",5,13b94cf47fc2c6462f034797982f48834e4055da,sqlalchemy-20,,"#!/usr/bin/env python import argparse import glob import os import subprocess BASE = 'nova/db/main/legacy_migrations/versions'.split('/') API_BASE = 'nova/db/api/legacy_migrations/versions'.split('/') STUB = \ """"""# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for backports. # Do not use this number for new work. New work starts after # all the placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass """""" def get_last_migration(base): path = os.path.join(*tuple(base + ['[0-9]*.py'])) migrations = sorted([os.path.split(fn)[-1] for fn in glob.glob(path)]) return int(migrations[-1].split('_')[0]) def reserve_migrations(base, number, git_add): last = get_last_migration(base) for i in range(last + 1, last + number + 1): name = '%03i_placeholder.py' % i path = os.path.join(*tuple(base + [name])) with open(path, 'w') as f: f.write(STUB) print('Created %s' % path) if git_add: subprocess.call('git add %s' % path, shell=True) def main(): parser = argparse.ArgumentParser() parser.add_argument('-n', '--number', default=10, type=int, help='Number of migrations to reserve') parser.add_argument('-g', '--git-add', action='store_const', const=True, default=False, help='Automatically git-add new migrations') parser.add_argument('-a', '--api', action='store_const', const=True, default=False, help='Reserve migrations for the API database') args = parser.parse_args() if args.api: base = API_BASE else: base = BASE reserve_migrations(base, args.number, args.git_add) if __name__ == '__main__': main() ",3,497
openstack%2Fnova~master~I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d,openstack/nova,master,I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d,docs: Add documentation on database migrations,MERGED,2021-07-08 16:14:57.000000000,2021-08-18 14:30:39.000000000,2021-08-18 14:30:39.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9f42319a9372676afd67ee333654cb1b3e7988', 'message': 'docs: Add documentation on database migrations\n\nAlembic does lots of new things. Provide docs for how to use this. We\nalso improve upgrade docs slightly, removing references to ancient\nreviews that are no longer really helpful as well as calling out our N\n-> N+1 constraint.\n\nChange-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1c3a87931ed50370da27498e4b04c4a531251c6', 'message': 'docs: Add documentation on database migrations\n\nAlembic does lots of new things. Provide docs for how to use this. We\nalso improve upgrade docs slightly, removing references to ancient\nreviews that are no longer really helpful as well as calling out our N\n-> N+1 constraint.\n\nChange-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-12 14:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/365ca78a3ec5ad1495583b7741eb86424cc07970', 'message': 'docs: Add documentation on database migrations\n\nAlembic does lots of new things. Provide docs for how to use this. We\nalso improve upgrade docs slightly, removing references to ancient\nreviews that are no longer really helpful as well as calling out our N\n-> N+1 constraint.\n\nChange-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-08-09 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2646707099473ce8618c134d57f76be7b91c0442', 'message': 'docs: Add documentation on database migrations\n\nAlembic does lots of new things. Provide docs for how to use this. We\nalso improve upgrade docs slightly, removing references to ancient\nreviews that are no longer really helpful as well as calling out our N\n-> N+1 constraint.\n\nChange-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-17 13:05:38.000000000', 'files': ['doc/source/admin/upgrades.rst', 'doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/reference/upgrade-checks.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/test/redirect-tests.txt', 'doc/source/reference/database-migrations.rst', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7584ec1a5fd0737cb56eb2901aed667f0e49394', 'message': 'docs: Add documentation on database migrations\n\nAlembic does lots of new things. Provide docs for how to use this. We\nalso improve upgrade docs slightly, removing references to ancient\nreviews that are no longer really helpful as well as calling out our N\n-> N+1 constraint.\n\nChange-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",7,800078,a7584ec1a5fd0737cb56eb2901aed667f0e49394,26,3,5,15334,,,0,"docs: Add documentation on database migrations

Alembic does lots of new things. Provide docs for how to use this. We
also improve upgrade docs slightly, removing references to ancient
reviews that are no longer really helpful as well as calling out our N
-> N+1 constraint.

Change-Id: I3760b82ce3bd71aa0a760d7137d69dfa3f29dc1d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/800078/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/upgrade.rst', 'doc/source/reference/database-migrations.rst']",2,2c9f42319a9372676afd67ee333654cb1b3e7988,sqlalchemy-20,"=================== Database migrations =================== .. note:: This document details how to generate database migrations as part of a new feature or bugfix. For info on how to apply existing database migrations, refer to the documentation for the :program:`nova-manage db sync` and :program:`nova-manage api_db sync` commands in :doc:`/cli/nova-manage`. For info on the general upgrade process for a nova deployment, refer to :doc:`/user/upgrade`. A typical nova deployments consists of an ""API"" database and one or more cell-specific ""main"" databases. Occasionally these databases will require schema or data migrations. Schema migrations ----------------- .. versionchanged:: 24.0.0 (Xena) The database migration engine was changed from sqlalchemy-migrate to alembic. The `alembic`_ database migration tool is used to manage schema migrations in nova. The migration files and related metadata can be found in ``nova/db/api/migrations`` (for the API database) and ``nova/db/main/migrations`` (for the main database(s)). As discussed in :doc:`/user/upgrade`, these can be run by end users using the :program:`nova-manage api_db sync` and :program:`nova-manage db sync` commands, respectively. .. note:: There are also legacy migrations provided in the ``legacy_migrations`` subdirectory for both the API and main databases. These are provided to facilitate upgrades from pre-Xena (24.0.0) deployments and will be removed in a future release. They should not be modified or extended. The best reference for alembic is the `alembic documentation <alembic>`_, but a small example is provided here. You can create the migration either manually or automatically. Manual generation might be necessary for some corner cases such as renamed tables but auto-generation will typically handle your issues. Examples of both are provided below. In both examples, we're going to demonstrate how you could add a new model, ``Foo``, to the main database. .. code-block:: diff diff --git nova/db/main/models.py nova/db/main/models.py index 7eab643e14..8f70bcdaca 100644 --- nova/db/main/models.py +++ nova/db/main/models.py @@ -73,6 +73,16 @@ def MediumText(): sqlalchemy.dialects.mysql.MEDIUMTEXT(), 'mysql') +class Foo(BASE, models.SoftDeleteMixin): + """"""A test-only model."""""" + + __tablename__ = 'foo' + + id = sa.Column(sa.Integer, primary_key=True) + uuid = sa.Column(sa.String(36), nullable=True) + bar = sa.Column(sa.String(255)) + + class Service(BASE, models.SoftDeleteMixin): """"""Represents a running service on a host."""""" (you might not be able to apply the diff above cleanly - this is just a demo). .. rubric:: Auto-generating migration scripts In order for alembic to compare the migrations with the underlying models, it require a database that it can inspect and compare the models against. As such, we first need to create a working database. We'll bypass ``nova-manage`` for this and go straight to the :program:`alembic` CLI. The ``alembic.ini`` file provided in the ``migrations`` directories for both databases is helpfully configured to use an SQLite database by default (``nova.db`` for the main database and ``nova_api.db`` for the API database). Create this database and apply the current schema, as dictated by the current migration scripts: .. code-block:: bash $ tox -e venv -- alembic -c nova/db/main/alembic.ini \ upgrade head Once done, you should notice the new ``nova.db`` file in the root of the repo. Now, let's generate the new revision: .. code-block:: bash $ tox -e venv -- alembic -c nova/db/main/alembic.ini \ revision --autogenerate -m ""Add foo model"" This will create a new file in ``nova/db/main/migrations`` with ``add_foo_model`` in the name including (hopefully!) the necessary changes to add the new ``Foo`` model. You **must** inspect this file once created, since there's a chance you'll be missing imports or something else which will need to be manually corrected. Once you've inspected this file and made any required changes, you can apply the migration and make sure it works: .. code-block:: bash $ tox -e venv -- alembic -c nova/db/main/alembic.ini \ upgrade head .. rubric:: Manually generating migration scripts For trickier migrations or things that alembic doesn't understand, you may need to manually create a migration script. This is very similar to the auto-generation step, with the exception being that you don't need to have a database in place beforehand. As such, you can simply run: .. code-block:: bash $ tox -e venv -- alembic -c nova/db/main/alembic.ini \ revision -m ""Add foo model"" As before, this will create a new file in ``nova/db/main/migrations`` with ``add_foo_model`` in the name. You can simply modify this to make whatever changes are necessary. Once done, you can apply the migration and make sure it works: .. code-block:: bash $ tox -e venv -- alembic -c nova/db/main/alembic.ini \ upgrade head .. _alembic: https://alembic.sqlalchemy.org/en/latest/ Data migrations --------------- TODO. ",,173,47
openstack%2Fnova~master~I18846a5c7557db45bb63b97c7e8be5c4367e4547,openstack/nova,master,I18846a5c7557db45bb63b97c7e8be5c4367e4547,db: Enable auto-generation of migrations,MERGED,2021-07-08 16:14:57.000000000,2021-08-18 14:30:14.000000000,2021-08-18 14:30:14.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307d93c9519366712b32509e758e73f38ffb48bf', 'message': ""db: Enable auto-generation of migrations\n\nLet's take advantage of the features that alembic provides [1]. We use\nthis opportunity to clean up how we do our base model creation and\nremove the downgrade section from the migration script template, since\nwe don't support downgrades.\n\n[1] https://alembic.sqlalchemy.org/en/latest/autogenerate.html\n\nChange-Id: I18846a5c7557db45bb63b97c7e8be5c4367e4547\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f71b9cd435e1b9e51c85f4bd973880a77814071', 'message': ""db: Enable auto-generation of migrations\n\nLet's take advantage of the features that alembic provides [1]. We use\nthis opportunity to clean up how we do our base model creation and\nremove the downgrade section from the migration script template, since\nwe don't support downgrades.\n\n[1] https://alembic.sqlalchemy.org/en/latest/autogenerate.html\n\nChange-Id: I18846a5c7557db45bb63b97c7e8be5c4367e4547\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-12 13:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8a13debf003b6aa10d4d048bfb2197c30c3fa1c', 'message': ""db: Enable auto-generation of migrations\n\nLet's take advantage of the features that alembic provides [1]. We use\nthis opportunity to clean up how we do our base model creation and\nremove the downgrade section from the migration script template, since\nwe don't support downgrades.\n\n[1] https://alembic.sqlalchemy.org/en/latest/autogenerate.html\n\nChange-Id: I18846a5c7557db45bb63b97c7e8be5c4367e4547\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/main/legacy_migrations/versions/402_train.py', 'nova/db/types.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/migrations/script.py.mako', 'nova/tests/unit/objects/test_flavor.py', 'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py', 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py', 'nova/db/main/migrations/script.py.mako', 'nova/db/api/legacy_migrations/versions/067_train.py', 'nova/db/api/models.py', 'nova/tests/unit/db/test_models.py', 'nova/db/main/migrations/env.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ba2c1c55d7d11cca28cac6a4e269009cf8b5032', 'message': ""db: Enable auto-generation of migrations\n\nLet's take advantage of the features that alembic provides [1]. We use\nthis opportunity to clean up how we do our base model creation and\nremove the downgrade section from the migration script template, since\nwe don't support downgrades.\n\n[1] https://alembic.sqlalchemy.org/en/latest/autogenerate.html\n\nChange-Id: I18846a5c7557db45bb63b97c7e8be5c4367e4547\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,800077,1ba2c1c55d7d11cca28cac6a4e269009cf8b5032,32,3,4,15334,,,0,"db: Enable auto-generation of migrations

Let's take advantage of the features that alembic provides [1]. We use
this opportunity to clean up how we do our base model creation and
remove the downgrade section from the migration script template, since
we don't support downgrades.

[1] https://alembic.sqlalchemy.org/en/latest/autogenerate.html

Change-Id: I18846a5c7557db45bb63b97c7e8be5c4367e4547
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/800077/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/script.py.mako', 'nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/models.py', 'nova/db/api/migrations/script.py.mako', 'nova/tests/unit/db/test_models.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/db/main/migrations/env.py', 'nova/db/main/models.py']",8,307d93c9519366712b32509e758e73f38ffb48bf,bp/remove-sqlalchemy-migrate," class _NovaBase(models.TimestampMixin, models.ModelBase):BASE = declarative.declarative_base(cls=_NovaBase) def MediumText(): return sa.Text().with_variant( sqlalchemy.dialects.mysql.MEDIUMTEXT(), 'mysql') class Service(BASE, models.SoftDeleteMixin):class ComputeNode(BASE, models.SoftDeleteMixin):class Certificate(BASE, models.SoftDeleteMixin):class Instance(BASE, models.SoftDeleteMixin):class InstanceInfoCache(BASE, models.SoftDeleteMixin):class InstanceExtra(BASE, models.SoftDeleteMixin):class InstanceTypes(BASE, models.SoftDeleteMixin):class Quota(BASE, models.SoftDeleteMixin):class ProjectUserQuota(BASE, models.SoftDeleteMixin):class QuotaClass(BASE, models.SoftDeleteMixin):class QuotaUsage(BASE, models.SoftDeleteMixin):class Reservation(BASE, models.SoftDeleteMixin):class Snapshot(BASE, models.SoftDeleteMixin):class BlockDeviceMapping(BASE, models.SoftDeleteMixin):class SecurityGroupInstanceAssociation(BASE, models.SoftDeleteMixin):class SecurityGroup(BASE, models.SoftDeleteMixin):class SecurityGroupIngressRule(BASE, models.SoftDeleteMixin):class SecurityGroupIngressDefaultRule(BASE, models.SoftDeleteMixin):class ProviderFirewallRule(BASE, models.SoftDeleteMixin):class KeyPair(BASE, models.SoftDeleteMixin):class Migration(BASE, models.SoftDeleteMixin):class Network(BASE, models.SoftDeleteMixin):class VirtualInterface(BASE, models.SoftDeleteMixin):class FixedIp(BASE, models.SoftDeleteMixin):class FloatingIp(BASE, models.SoftDeleteMixin):class DNSDomain(BASE, models.SoftDeleteMixin):class ConsolePool(BASE, models.SoftDeleteMixin):class Console(BASE, models.SoftDeleteMixin):class InstanceMetadata(BASE, models.SoftDeleteMixin):class InstanceSystemMetadata(BASE, models.SoftDeleteMixin):class InstanceTypeProjects(BASE, models.SoftDeleteMixin):class InstanceTypeExtraSpecs(BASE, models.SoftDeleteMixin):class Cell(BASE, models.SoftDeleteMixin):class AggregateHost(BASE, models.SoftDeleteMixin):class AggregateMetadata(BASE, models.SoftDeleteMixin):class Aggregate(BASE, models.SoftDeleteMixin):class AgentBuild(BASE, models.SoftDeleteMixin):class BandwidthUsage(BASE, models.SoftDeleteMixin):class VolumeUsage(BASE, models.SoftDeleteMixin):class S3Image(BASE, models.SoftDeleteMixin):class VolumeIdMapping(BASE, models.SoftDeleteMixin):class SnapshotIdMapping(BASE, models.SoftDeleteMixin):class InstanceFault(BASE, models.SoftDeleteMixin):class InstanceAction(BASE, models.SoftDeleteMixin):class InstanceActionEvent(BASE, models.SoftDeleteMixin):class InstanceIdMapping(BASE, models.SoftDeleteMixin):class TaskLog(BASE, models.SoftDeleteMixin):class InstanceGroupMember(BASE, models.SoftDeleteMixin):class InstanceGroupPolicy(BASE, models.SoftDeleteMixin):class InstanceGroup(BASE, models.SoftDeleteMixin):class PciDevice(BASE, models.SoftDeleteMixin):class ConsoleAuthToken(BASE):","BASE = declarative.declarative_base() def MediumText(): return sa.Text().with_variant( sqlalchemy.dialects.mysql.MEDIUMTEXT(), 'mysql') class NovaBase(models.TimestampMixin, models.ModelBase): metadata = Noneclass Service(BASE, NovaBase, models.SoftDeleteMixin):class ComputeNode(BASE, NovaBase, models.SoftDeleteMixin):class Certificate(BASE, NovaBase, models.SoftDeleteMixin):class Instance(BASE, NovaBase, models.SoftDeleteMixin):class InstanceInfoCache(BASE, NovaBase, models.SoftDeleteMixin):class InstanceExtra(BASE, NovaBase, models.SoftDeleteMixin):class InstanceTypes(BASE, NovaBase, models.SoftDeleteMixin):class Quota(BASE, NovaBase, models.SoftDeleteMixin):class ProjectUserQuota(BASE, NovaBase, models.SoftDeleteMixin):class QuotaClass(BASE, NovaBase, models.SoftDeleteMixin):class QuotaUsage(BASE, NovaBase, models.SoftDeleteMixin):class Reservation(BASE, NovaBase, models.SoftDeleteMixin):class Snapshot(BASE, NovaBase, models.SoftDeleteMixin):class BlockDeviceMapping(BASE, NovaBase, models.SoftDeleteMixin):class SecurityGroupInstanceAssociation(BASE, NovaBase, models.SoftDeleteMixin):class SecurityGroup(BASE, NovaBase, models.SoftDeleteMixin):class SecurityGroupIngressRule(BASE, NovaBase, models.SoftDeleteMixin):class SecurityGroupIngressDefaultRule(BASE, NovaBase, models.SoftDeleteMixin):class ProviderFirewallRule(BASE, NovaBase, models.SoftDeleteMixin):class KeyPair(BASE, NovaBase, models.SoftDeleteMixin):class Migration(BASE, NovaBase, models.SoftDeleteMixin):class Network(BASE, NovaBase, models.SoftDeleteMixin):class VirtualInterface(BASE, NovaBase, models.SoftDeleteMixin):class FixedIp(BASE, NovaBase, models.SoftDeleteMixin):class FloatingIp(BASE, NovaBase, models.SoftDeleteMixin):class DNSDomain(BASE, NovaBase, models.SoftDeleteMixin):class ConsolePool(BASE, NovaBase, models.SoftDeleteMixin):class Console(BASE, NovaBase, models.SoftDeleteMixin):class InstanceMetadata(BASE, NovaBase, models.SoftDeleteMixin):class InstanceSystemMetadata(BASE, NovaBase, models.SoftDeleteMixin):class InstanceTypeProjects(BASE, NovaBase, models.SoftDeleteMixin):class InstanceTypeExtraSpecs(BASE, NovaBase, models.SoftDeleteMixin):class Cell(BASE, NovaBase, models.SoftDeleteMixin):class AggregateHost(BASE, NovaBase, models.SoftDeleteMixin):class AggregateMetadata(BASE, NovaBase, models.SoftDeleteMixin):class Aggregate(BASE, NovaBase, models.SoftDeleteMixin):class AgentBuild(BASE, NovaBase, models.SoftDeleteMixin):class BandwidthUsage(BASE, NovaBase, models.SoftDeleteMixin):class VolumeUsage(BASE, NovaBase, models.SoftDeleteMixin):class S3Image(BASE, NovaBase, models.SoftDeleteMixin):class VolumeIdMapping(BASE, NovaBase, models.SoftDeleteMixin):class SnapshotIdMapping(BASE, NovaBase, models.SoftDeleteMixin):class InstanceFault(BASE, NovaBase, models.SoftDeleteMixin):class InstanceAction(BASE, NovaBase, models.SoftDeleteMixin):class InstanceActionEvent(BASE, NovaBase, models.SoftDeleteMixin):class InstanceIdMapping(BASE, NovaBase, models.SoftDeleteMixin):class TaskLog(BASE, NovaBase, models.SoftDeleteMixin):class InstanceGroupMember(BASE, NovaBase, models.SoftDeleteMixin):class InstanceGroupPolicy(BASE, NovaBase, models.SoftDeleteMixin):class InstanceGroup(BASE, NovaBase, models.SoftDeleteMixin):class PciDevice(BASE, NovaBase, models.SoftDeleteMixin):class ConsoleAuthToken(BASE, NovaBase):",128,115
openstack%2Fdevstack~stable%2Fqueens~I845f53de2d29ab7642ebb04e8bd0ce6c09ff12e8,openstack/devstack,stable/queens,I845f53de2d29ab7642ebb04e8bd0ce6c09ff12e8,[stable-only] Use queens-eol for horizon,MERGED,2021-08-17 15:52:44.000000000,2021-08-18 14:29:54.000000000,2021-08-18 14:29:54.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 15:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5b3de012c59acbd481f6a2434c33c7a06d39ab39', 'message': ""[stable-only] Use queens-eol for horizon\n\nThis patch is needed as tempest-full-py3 zuul job started to fail on\nstable/queens branch due to the following:\nHorizon's stable/queens transitioned to End of Life and its\nstable/queens branch was deleted. This fix uses the queens-eol tag to\nbe able to check out horizon's latest state from queens.\n\nChange-Id: I845f53de2d29ab7642ebb04e8bd0ce6c09ff12e8\n""}, {'number': 2, 'created': '2021-08-17 18:12:17.000000000', 'files': ['tests/test_refs.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e80f0802e0324fb5b46f549366b947c87269b09e', 'message': ""[stable-only] Use queens-eol for horizon\n\nThis patch is needed as tempest-full-py3 zuul job started to fail on\nstable/queens branch due to the following:\nHorizon's stable/queens transitioned to End of Life and its\nstable/queens branch was deleted. This fix uses the queens-eol tag to\nbe able to check out horizon's latest state from queens.\n\nChange-Id: I845f53de2d29ab7642ebb04e8bd0ce6c09ff12e8\n""}]",0,804889,e80f0802e0324fb5b46f549366b947c87269b09e,10,4,2,17685,,,0,"[stable-only] Use queens-eol for horizon

This patch is needed as tempest-full-py3 zuul job started to fail on
stable/queens branch due to the following:
Horizon's stable/queens transitioned to End of Life and its
stable/queens branch was deleted. This fix uses the queens-eol tag to
be able to check out horizon's latest state from queens.

Change-Id: I845f53de2d29ab7642ebb04e8bd0ce6c09ff12e8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/804889/2 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,5b3de012c59acbd481f6a2434c33c7a06d39ab39,use-queens-eol-tag,"# In cases where the TARGET_BRANCH does not exist anymore, the # $series-eol tag should be used EOL_TAG=refs/tags/queens-eol HORIZON_BRANCH=${HORIZON_BRANCH:-$EOL_TAG}",HORIZON_BRANCH=${HORIZON_BRANCH:-$TARGET_BRANCH},5,1
openstack%2Fnova~master~I850af601f81bd5d2ecc029682ae10d3a07c936ce,openstack/nova,master,I850af601f81bd5d2ecc029682ae10d3a07c936ce,db: Integrate alembic,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 14:29:30.000000000,2021-08-18 14:29:30.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c242a0db43ecd885e004084bffd775cf7fbcaa3d', 'message': ""WIP: db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\nWIP because I need to fix the unit tests, add documentation on alembic\ncoolness (such as auto-generating migrations), and generally tidy things\nup.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9da9559c3f3483b06feff3b922b2744d4e9b8da9', 'message': ""WIP: db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\nWIP because I need to fix the unit tests, add documentation on alembic\ncoolness (such as auto-generating migrations), and generally tidy things\nup.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-06 15:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89492e8dd65cd5cb0f791bd374e36d0d72e71b01', 'message': ""WIP: db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\nWIP because I need to fix the unit tests, add documentation on alembic\ncoolness (such as auto-generating migrations), and generally tidy things\nup.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9232ba89ac38ff38a6a3ae060b493664c24cbd5', 'message': ""WIP: db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\nWIP because I need to fix the unit tests, add documentation on alembic\ncoolness (such as auto-generating migrations), and generally tidy things\nup.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c17615718b42f330a95863bdc6548a1bbbac371', 'message': ""db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e22ae5319a7c1abe94ef1b210f3a8a662b330e48', 'message': ""db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/main/api.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/alembic.ini', 'nova/tests/unit/db/test_migration.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/db/main/test_migrations.py', 'releasenotes/notes/switch-to-alembic-ed5c64f62b6c91a3.yaml', 'nova/db/api/models.py', 'nova/db/main/alembic.ini', 'nova/db/migration.py', 'nova/db/api/migrations/env.py', 'nova/db/main/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/905c9723e9b8398010c57b3609310315a913bef1', 'message': ""db: Integrate alembic\n\nThis looks more complicated than it is, but it's really quite simple.\nEssentially we have to deal with two possible configurations:\n\n- For existing deployments, the DB sync operation should apply any\n  outstanding sqlalchemy-migrate-based migrations, dummy apply the\n  initial alembic migration, and then apply any additional alembic-based\n  migrations requested (or any available, if no version is specified).\n\n- For new deployments, the DB sync operation should apply the initial\n  alembic migration and any additional alembic-based migrations\n  requested (or any available, if no version is specified). No\n  sqlalchemy-migrate-based migrations will ever be applied.\n\nWhile we continue to allow users to request a specific database\nmigration version to upgrade to, we *do not* allow them to request a\nsqlalchemy-migrate-based migration version. There's no good reason to do\nthis - the deployment won't run with an out-of-date DB schema (something\nthat's also true of the alembic migration, fwiw) - and we want to get\npeople off of sqlalchemy-migrate as fast as possible. A change in a\nfuture release can remove the sqlalchemy-migrate-based migrations once\nwe're sure that they'll have upgraded to a release including all of the\nsqlalchemy-migrated-based migrations (so Wallaby).\n\nTests are modified to validate the sanity of these operations. They're\nmostly trivial changes, but we do need to do some funky things to ensure\nthat (a) we don't use logger configuration from 'alembic.ini' that will\nmess with our existing logger configuration and (b) we re-use connection\nobjects as necessary to allow us to run tests against in-memory\ndatabases, where a different connection would actually mean a different\ndatabase. We also can't rely on 'WalkVersionsMixin' from oslo.db since\nthat only supports sqlalchemy-migrate [1]. We instead must re-invent the\nwheel here somewhat.\n\n[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44\n\nChange-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,799530,905c9723e9b8398010c57b3609310315a913bef1,62,3,7,15334,,,0,"db: Integrate alembic

This looks more complicated than it is, but it's really quite simple.
Essentially we have to deal with two possible configurations:

- For existing deployments, the DB sync operation should apply any
  outstanding sqlalchemy-migrate-based migrations, dummy apply the
  initial alembic migration, and then apply any additional alembic-based
  migrations requested (or any available, if no version is specified).

- For new deployments, the DB sync operation should apply the initial
  alembic migration and any additional alembic-based migrations
  requested (or any available, if no version is specified). No
  sqlalchemy-migrate-based migrations will ever be applied.

While we continue to allow users to request a specific database
migration version to upgrade to, we *do not* allow them to request a
sqlalchemy-migrate-based migration version. There's no good reason to do
this - the deployment won't run with an out-of-date DB schema (something
that's also true of the alembic migration, fwiw) - and we want to get
people off of sqlalchemy-migrate as fast as possible. A change in a
future release can remove the sqlalchemy-migrate-based migrations once
we're sure that they'll have upgraded to a release including all of the
sqlalchemy-migrated-based migrations (so Wallaby).

Tests are modified to validate the sanity of these operations. They're
mostly trivial changes, but we do need to do some funky things to ensure
that (a) we don't use logger configuration from 'alembic.ini' that will
mess with our existing logger configuration and (b) we re-use connection
objects as necessary to allow us to run tests against in-memory
databases, where a different connection would actually mean a different
database. We also can't rely on 'WalkVersionsMixin' from oslo.db since
that only supports sqlalchemy-migrate [1]. We instead must re-invent the
wheel here somewhat.

[1] https://github.com/openstack/oslo.db/blob/10.0.0/oslo_db/sqlalchemy/test_migrations.py#L42-L44

Change-Id: I850af601f81bd5d2ecc029682ae10d3a07c936ce
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/799530/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-manage.rst', 'releasenotes/notes/switch-to-alembic-ed5c64f62b6c91a3.yaml', 'nova/db/api/models.py', 'nova/db/migration.py', 'nova/tests/unit/db/test_migration.py', 'nova/db/api/migrations/env.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/main/migrations/env.py']",8,c242a0db43ecd885e004084bffd775cf7fbcaa3d,bp/remove-sqlalchemy-migrate,"# Interpret the config file for Python logging unless we're told not to.if config.attributes.get('configure_logger', True): fileConfig(config.config_file_name) This is modified from the default based on the below, since we want to share an engine when unit testing so in-memory database testing actually works. https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing connectable = config.attributes.get('connection', None) if connectable is None: # only create Engine if we don't have a Connection from the outside connectable = engine_from_config( config.get_section(config.config_ini_section), prefix=""sqlalchemy."", poolclass=pool.NullPool, ) # when connectable is already a Connection object, calling connect() gives # us a *branched connection*.","# Interpret the config file for Python logging.fileConfig(config.config_file_name) connectable = engine_from_config( config.get_section(config.config_ini_section), prefix=""sqlalchemy."", poolclass=pool.NullPool, )",337,172
openstack%2Fnova~master~Ie9d00e25b7e99104155466060a2b6f8a884a5e0a,openstack/nova,master,Ie9d00e25b7e99104155466060a2b6f8a884a5e0a,db: Normalize migrations tests,MERGED,2021-07-06 15:30:58.000000000,2021-08-18 14:29:00.000000000,2021-08-18 14:29:00.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 15:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fcf541280c755edad04e4d0221cbd9ebd832926', 'message': ""db: Normalize migrations tests\n\nWe're going to be extensively reworking these to handle the alembic\nswitchover in a future change. Ahead of this rework, rework things\nsomewhat to simplify things and remove unnecessary noise.\n\nChange-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c851d0ba762ec282982becfe5a44c5bebbee14c', 'message': ""db: Normalize migrations tests\n\nWe're going to be extensively reworking these to handle the alembic\nswitchover in a future change. Ahead of this rework, rework things\nsomewhat to simplify things and remove unnecessary noise.\n\nChange-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b7cbb54ea12ad211b27b9f0828444e9faa5501d', 'message': ""db: Normalize migrations tests\n\nWe're going to be extensively reworking these to handle the alembic\nswitchover in a future change. Ahead of this rework, rework things\nsomewhat to simplify things and remove unnecessary noise.\n\nChange-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abbb809f90870683f968df465e1c7c93ad8fa0b1', 'message': ""db: Normalize migrations tests\n\nWe're going to be extensively reworking these to handle the alembic\nswitchover in a future change. Ahead of this rework, rework things\nsomewhat to simplify things and remove unnecessary noise.\n\nChange-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/307adc5e087d06a3ba4ae09dffb973ba83015049', 'message': ""db: Normalize migrations tests\n\nWe're going to be extensively reworking these to handle the alembic\nswitchover in a future change. Ahead of this rework, rework things\nsomewhat to simplify things and remove unnecessary noise.\n\nChange-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,799684,307adc5e087d06a3ba4ae09dffb973ba83015049,33,3,5,15334,,,0,"db: Normalize migrations tests

We're going to be extensively reworking these to handle the alembic
switchover in a future change. Ahead of this rework, rework things
somewhat to simplify things and remove unnecessary noise.

Change-Id: Ie9d00e25b7e99104155466060a2b6f8a884a5e0a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/799684/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py']",2,5fcf541280c755edad04e4d0221cbd9ebd832926,bp/remove-sqlalchemy-migrate," class NovaModelsMigrationsSync(test_migrations.ModelsMigrationsSync): def setUp(self): super().setUp() migration.db_sync(database='main') return self.engine class TestModelsSyncSQLite( NovaModelsMigrationsSync, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase, ):class TestModelsSyncMySQL( NovaModelsMigrationsSync, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase, ): migration, 'get_engine', return_value=self.engine, total = self.engine.execute( {'database': self.engine.url.database}) noninnodb = self.engine.execute( {'database': self.engine.url.database})class TestModelsSyncPostgreSQL( NovaModelsMigrationsSync, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase, ): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture class NovaMigrationsWalk(test_migrations.WalkVersionsMixin): def setUp(self): super().setUp() self.engine = enginefacade.writer.get_engine() @property def INIT_VERSION(self): return migration.db_initial_version('main') @property def REPOSITORY(self): return repository.Repository( os.path.abspath(os.path.dirname(legacy_migrations.__file__))) @property def migration_api(self): return migration.versioning_api @property def migrate_engine(self): return self.engine def _skippable_migrations(self): special = [ self.INIT_VERSION + 1, ] train_placeholders = list(range(403, 408)) ussuri_placeholders = list(range(408, 413)) victoria_placeholders = list(range(413, 418)) wallaby_placeholders = list(range(418, 423)) return ( special + train_placeholders + ussuri_placeholders + victoria_placeholders + wallaby_placeholders ) def migrate_up(self, version, with_data=False): if with_data: check = getattr(self, ""_check_%03d"" % version, None) if version not in self._skippable_migrations(): self.assertIsNotNone( check, 'DB Migration %i does not have a test' % version) # NOTE(danms): This is a list of migrations where we allow dropping # things. The rules for adding things here are very very specific. # Chances are you don't meet the critera. # Reviewers: DO NOT ALLOW THINGS TO BE ADDED HERE exceptions = [ # The base migration can do whatever it likes self.INIT_VERSION + 1, ] # Reviewers: DO NOT ALLOW THINGS TO BE ADDED HERE if version not in exceptions: banned = ['Table', 'Column'] else: banned = None with nova_fixtures.BannedDBSchemaOperations(banned): super().migrate_up(version, with_data) def test_walk_versions(self): self.walk_versions(snake_walk=False, downgrade=False) class TestMigrationsWalkSQLite( NovaMigrationsWalk, test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase, ): pass class TestMigrationsWalkMySQL( NovaMigrationsWalk, test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase, ): FIXTURE = test_fixtures.MySQLOpportunisticFixture class TestMigrationsWalkPostgreSQL( NovaMigrationsWalk, test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase, ): helpful_msg = ( ""The following migrations have a downgrade "" ""which is not supported:"" ""\n\t%s"" % '\n\t'.join(sorted(includes_downgrade)))","from oslotest import timeout# TODO(sdague): no tests in the nova/tests tree should inherit from # base test classes in another library. This causes all kinds of havoc # in these doing things incorrectly for what we need in subunit # reporting. This is a long unwind, but should be done in the future # and any code needed out of oslo_db should be exported / accessed as # a fixture. class NovaMigrationsCheckers(test_migrations.ModelsMigrationsSync, test_migrations.WalkVersionsMixin): TIMEOUT_SCALING_FACTOR = 4 @property def INIT_VERSION(self): return migration.db_initial_version() @property def REPOSITORY(self): return repository.Repository( os.path.abspath(os.path.dirname(legacy_migrations.__file__))) @property def migration_api(self): return migration.versioning_api @property def migrate_engine(self): return self.engine def setUp(self): # NOTE(sdague): the oslo_db base test case completely # invalidates our logging setup, we actually have to do that # before it is called to keep this from vomitting all over our # test output. self.useFixture(nova_fixtures.StandardLogging()) super(NovaMigrationsCheckers, self).setUp() # The Timeout fixture picks up env.OS_TEST_TIMEOUT, defaulting to 0. self.useFixture(timeout.Timeout( scaling_factor=self.TIMEOUT_SCALING_FACTOR)) migration.db_sync() return self.migrate_engine def _skippable_migrations(self): special = [ self.INIT_VERSION + 1, ] train_placeholders = list(range(403, 408)) ussuri_placeholders = list(range(408, 413)) victoria_placeholders = list(range(413, 418)) wallaby_placeholders = list(range(418, 423)) return (special + train_placeholders + ussuri_placeholders + victoria_placeholders + wallaby_placeholders) def migrate_up(self, version, with_data=False): if with_data: check = getattr(self, ""_check_%03d"" % version, None) if version not in self._skippable_migrations(): self.assertIsNotNone(check, ('DB Migration %i does not have a ' 'test. Please add one!') % version) # NOTE(danms): This is a list of migrations where we allow dropping # things. The rules for adding things here are very very specific. # Chances are you don't meet the critera. # Reviewers: DO NOT ALLOW THINGS TO BE ADDED HERE exceptions = [ # The base migration can do whatever it likes self.INIT_VERSION + 1, ] # Reviewers: DO NOT ALLOW THINGS TO BE ADDED HERE if version not in exceptions: banned = ['Table', 'Column'] else: banned = None with nova_fixtures.BannedDBSchemaOperations(banned): super(NovaMigrationsCheckers, self).migrate_up(version, with_data) def test_walk_versions(self): self.walk_versions(snake_walk=False, downgrade=False) class TestNovaMigrationsSQLite(NovaMigrationsCheckers, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase):class TestNovaMigrationsMySQL(NovaMigrationsCheckers, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase): migration, 'get_engine', return_value=self.migrate_engine, total = self.migrate_engine.execute( {'database': self.migrate_engine.url.database}) noninnodb = self.migrate_engine.execute( {'database': self.migrate_engine.url.database})class TestNovaMigrationsPostgreSQL(NovaMigrationsCheckers, test_fixtures.OpportunisticDBTestMixin, testtools.TestCase): helpful_msg = (""The following migrations have a downgrade "" ""which is not supported:"" ""\n\t%s"" % '\n\t'.join(sorted(includes_downgrade)))",167,141
openstack%2Fnova~master~If78bbd578bbba73fc85446ad55d34d3addd6c4af,openstack/nova,master,If78bbd578bbba73fc85446ad55d34d3addd6c4af,db: Trivial style changes,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 14:28:39.000000000,2021-08-18 14:28:39.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d271be94baf8a4ce01e46f769af4df170a32c52', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0f26e28417bf034a25eb0c7e075107765e0bf16', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-06 15:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b57167153472e1fe3e14156ddaf0fa4451070838', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db32a3fe26bf8fadd0fc8ea5db688641e5051eed', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44c3794bc578ec21639c4d74bec13be797713870', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0072c5fec492f39232d8d6fae1d1cd09f925b63c', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/cmd/manage.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3e113eb31283614e391b46ec596c479add6bbf5', 'message': 'db: Trivial style changes\n\nRewrap some code just to make it a little less fugly to read.\n\nChange-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,799529,c3e113eb31283614e391b46ec596c479add6bbf5,40,3,7,15334,,,0,"db: Trivial style changes

Rewrap some code just to make it a little less fugly to read.

Change-Id: If78bbd578bbba73fc85446ad55d34d3addd6c4af
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/799529/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/manage.py', 'nova/tests/functional/db/api/test_migrations.py']",2,6d271be94baf8a4ce01e46f769af4df170a32c52,bp/remove-sqlalchemy-migrate,"""""""Tests for database migrations. super().setUp() 'build_requests': [ 'vm_state', 'instance_metadata', 'display_name', 'access_ip_v6', 'access_ip_v4', 'key_name', 'locked_by', 'image_ref', 'progress', 'request_spec_id', 'info_cache', 'user_id', 'task_state', 'security_groups', 'config_drive', ], 'resource_providers': ['can_host'], if ( tablename in fkey_whitelist and column_keys == fkey_whitelist[tablename] ): if ( tablename in column_whitelist and column.name in column_whitelist[tablename] ):",""""""" Tests for database migrations. super(NovaAPIModelsSync, self).setUp() 'build_requests': ['vm_state', 'instance_metadata', 'display_name', 'access_ip_v6', 'access_ip_v4', 'key_name', 'locked_by', 'image_ref', 'progress', 'request_spec_id', 'info_cache', 'user_id', 'task_state', 'security_groups', 'config_drive'], 'resource_providers': ['can_host'], if (tablename in fkey_whitelist and column_keys == fkey_whitelist[tablename]): if (tablename in column_whitelist and column.name in column_whitelist[tablename]):",39,26
openstack%2Fnova~master~Ic65ac5cec46ace7bd49243d052deb2a434bb1099,openstack/nova,master,Ic65ac5cec46ace7bd49243d052deb2a434bb1099,db: Add initial alembic migration for API DB,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 14:28:06.000000000,2021-08-18 14:28:06.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/583fdd892e1c423fed96f57c3d73bcb4625d698a', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/693305755cac4235bd44a56911199cf90965b21d', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ab261b1a44bd0ab0225a9543a8e06c54c34c753', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67aad54a518ec69298fcacf64c6a57a2d6902e21', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82bb587a2645a76111ee6979591e43977bacd02f', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/api/migrations/README.rst', 'nova/db/api/alembic.ini', 'nova/db/api/migrations/script.py.mako', 'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py', 'nova/db/api/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/38a022166fc1f9df4a02d3746da7092dd4a6186d', 'message': ""db: Add initial alembic migration for API DB\n\nThe pattern here is the same as the one used for the main database in\nchange I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're\nmostly copy-pasting from the existing schema. Reviewers can easily diff\n'nova/db/api/legacy_migrations/versions/067_train.py' against\n'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in\norder to sanity check the new schema files.\n\nChange-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,799528,38a022166fc1f9df4a02d3746da7092dd4a6186d,39,3,6,15334,,,0,"db: Add initial alembic migration for API DB

The pattern here is the same as the one used for the main database in
change I1fa2feaee78213ad81f1889ce54888696f58d98c. Once again, we're
mostly copy-pasting from the existing schema. Reviewers can easily diff
'nova/db/api/legacy_migrations/versions/067_train.py' against
'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py' in
order to sanity check the new schema files.

Change-Id: Ic65ac5cec46ace7bd49243d052deb2a434bb1099
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/799528/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api/migrations/README.rst', 'nova/db/api/alembic.ini', 'nova/db/api/migrations/script.py.mako', 'nova/db/api/migrations/env.py', 'nova/db/api/migrations/versions/d67eeaabee36_initial_version.py']",5,583fdd892e1c423fed96f57c3d73bcb4625d698a,bp/remove-sqlalchemy-migrate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Initial version Revision ID: d67eeaabee36 Revises: Create Date: 2021-04-13 12:45:35.549607 """""" from alembic import op import sqlalchemy as sa from sqlalchemy import dialects from nova.db.api.models import MediumText from nova.objects import keypair # revision identifiers, used by Alembic. revision = 'd67eeaabee36' down_revision = None branch_labels = None depends_on = None def InetSmall(): return sa.String(length=39).with_variant( dialects.postgresql.INET(), 'postgresql' ) def upgrade(): bind = op.get_bind() op.create_table( 'cell_mappings', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('name', sa.String(length=255)), sa.Column('transport_url', sa.Text()), sa.Column('database_connection', sa.Text()), # NOTE(stephenfin): These were originally added by sqlalchemy-migrate # which did not generate the constraints sa.Column( 'disabled', sa.Boolean(create_constraint=False), default=False), sa.UniqueConstraint('uuid', name='uniq_cell_mappings0uuid'), sa.Index('uuid_idx', 'uuid'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'host_mappings', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('cell_id', sa.Integer, nullable=False), sa.Column('host', sa.String(length=255), nullable=False), sa.UniqueConstraint( 'host', name='uniq_host_mappings0host'), sa.Index('host_idx', 'host'), sa.ForeignKeyConstraint( columns=['cell_id'], refcolumns=['cell_mappings.id']), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'instance_mappings', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('instance_uuid', sa.String(length=36), nullable=False), sa.Column('cell_id', sa.Integer, nullable=True), sa.Column('project_id', sa.String(length=255), nullable=False), # NOTE(stephenfin): These were originally added by sqlalchemy-migrate # which did not generate the constraints sa.Column( 'queued_for_delete', sa.Boolean(create_constraint=False), default=False), sa.Column('user_id', sa.String(length=255), nullable=True), sa.UniqueConstraint( 'instance_uuid', name='uniq_instance_mappings0instance_uuid'), sa.Index('instance_uuid_idx', 'instance_uuid'), sa.Index('project_id_idx', 'project_id'), sa.Index( 'instance_mappings_user_id_project_id_idx', 'user_id', 'project_id'), sa.ForeignKeyConstraint( columns=['cell_id'], refcolumns=['cell_mappings.id']), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'flavors', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('name', sa.String(length=255), nullable=False), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('memory_mb', sa.Integer, nullable=False), sa.Column('vcpus', sa.Integer, nullable=False), sa.Column('swap', sa.Integer, nullable=False), sa.Column('vcpu_weight', sa.Integer), sa.Column('flavorid', sa.String(length=255), nullable=False), sa.Column('rxtx_factor', sa.Float), sa.Column('root_gb', sa.Integer), sa.Column('ephemeral_gb', sa.Integer), sa.Column('disabled', sa.Boolean), sa.Column('is_public', sa.Boolean), sa.Column('description', sa.Text()), sa.UniqueConstraint('flavorid', name='uniq_flavors0flavorid'), sa.UniqueConstraint('name', name='uniq_flavors0name'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'flavor_extra_specs', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('flavor_id', sa.Integer, nullable=False), sa.Column('key', sa.String(length=255), nullable=False), sa.Column('value', sa.String(length=255)), sa.UniqueConstraint( 'flavor_id', 'key', name='uniq_flavor_extra_specs0flavor_id0key'), sa.Index('flavor_extra_specs_flavor_id_key_idx', 'flavor_id', 'key'), sa.ForeignKeyConstraint( columns=['flavor_id'], refcolumns=['flavors.id']), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'flavor_projects', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('flavor_id', sa.Integer, nullable=False), sa.Column('project_id', sa.String(length=255), nullable=False), sa.UniqueConstraint( 'flavor_id', 'project_id', name='uniq_flavor_projects0flavor_id0project_id'), sa.ForeignKeyConstraint( columns=['flavor_id'], refcolumns=['flavors.id']), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'request_specs', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('instance_uuid', sa.String(36), nullable=False), sa.Column('spec', MediumText(), nullable=False), sa.UniqueConstraint( 'instance_uuid', name='uniq_request_specs0instance_uuid'), sa.Index('request_spec_instance_uuid_idx', 'instance_uuid'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'build_requests', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('request_spec_id', sa.Integer, nullable=True), sa.Column('project_id', sa.String(length=255), nullable=False), sa.Column('user_id', sa.String(length=255), nullable=True), sa.Column('display_name', sa.String(length=255)), sa.Column('instance_metadata', sa.Text), sa.Column('progress', sa.Integer), sa.Column('vm_state', sa.String(length=255)), sa.Column('task_state', sa.String(length=255)), sa.Column('image_ref', sa.String(length=255)), sa.Column('access_ip_v4', InetSmall()), sa.Column('access_ip_v6', InetSmall()), sa.Column('info_cache', sa.Text), sa.Column('security_groups', sa.Text, nullable=True), sa.Column('config_drive', sa.Boolean, default=False, nullable=True), sa.Column('key_name', sa.String(length=255)), sa.Column( 'locked_by', sa.Enum('owner', 'admin', name='build_requests0locked_by')), sa.Column('instance_uuid', sa.String(length=36)), sa.Column('instance', MediumText()), sa.Column('block_device_mappings', MediumText()), sa.Column('tags', sa.Text()), sa.UniqueConstraint( 'instance_uuid', name='uniq_build_requests0instance_uuid'), sa.Index('build_requests_project_id_idx', 'project_id'), sa.Index('build_requests_instance_uuid_idx', 'instance_uuid'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'key_pairs', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('name', sa.String(255), nullable=False), sa.Column('user_id', sa.String(255), nullable=False), sa.Column('fingerprint', sa.String(255)), sa.Column('public_key', sa.Text()), sa.Column( 'type', sa.Enum('ssh', 'x509', name='keypair_types'), nullable=False, server_default=keypair.KEYPAIR_TYPE_SSH), sa.UniqueConstraint( 'user_id', 'name', name='uniq_key_pairs0user_id0name'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'projects', sa.Column( 'id', sa.Integer, primary_key=True, nullable=False, autoincrement=True), sa.Column('external_id', sa.String(length=255), nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.UniqueConstraint('external_id', name='uniq_projects0external_id'), mysql_engine='InnoDB', mysql_charset='latin1', ) op.create_table( 'users', sa.Column( 'id', sa.Integer, primary_key=True, nullable=False, autoincrement=True), sa.Column('external_id', sa.String(length=255), nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.UniqueConstraint('external_id', name='uniq_users0external_id'), mysql_engine='InnoDB', mysql_charset='latin1', ) op.create_table( 'resource_classes', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('name', sa.String(length=255), nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.UniqueConstraint('name', name='uniq_resource_classes0name'), mysql_engine='InnoDB', mysql_charset='latin1' ) nameargs = {} if bind.engine.name == 'mysql': nameargs['collation'] = 'utf8_bin' op.create_table( 'resource_providers', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('uuid', sa.String(36), nullable=False), sa.Column('name', sa.Unicode(200, **nameargs), nullable=True), sa.Column('generation', sa.Integer, default=0), sa.Column('can_host', sa.Integer, default=0), sa.Column( 'root_provider_id', sa.Integer, sa.ForeignKey('resource_providers.id')), sa.Column( 'parent_provider_id', sa.Integer, sa.ForeignKey('resource_providers.id')), sa.UniqueConstraint('uuid', name='uniq_resource_providers0uuid'), sa.UniqueConstraint('name', name='uniq_resource_providers0name'), sa.Index('resource_providers_name_idx', 'name'), sa.Index('resource_providers_uuid_idx', 'uuid'), sa.Index( 'resource_providers_root_provider_id_idx', 'root_provider_id'), sa.Index( 'resource_providers_parent_provider_id_idx', 'parent_provider_id'), mysql_engine='InnoDB', mysql_charset='latin1' ) op.create_table( 'inventories', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('resource_provider_id', sa.Integer, nullable=False), sa.Column('resource_class_id', sa.Integer, nullable=False), sa.Column('total', sa.Integer, nullable=False), sa.Column('reserved', sa.Integer, nullable=False), sa.Column('min_unit', sa.Integer, nullable=False), sa.Column('max_unit', sa.Integer, nullable=False), sa.Column('step_size', sa.Integer, nullable=False), sa.Column('allocation_ratio', sa.Float, nullable=False), sa.Index( 'inventories_resource_provider_id_idx', 'resource_provider_id'), sa.Index( 'inventories_resource_provider_resource_class_idx', 'resource_provider_id', 'resource_class_id'), sa.Index( 'inventories_resource_class_id_idx', 'resource_class_id'), sa.UniqueConstraint( 'resource_provider_id', 'resource_class_id', name='uniq_inventories0resource_provider_resource_class'), mysql_engine='InnoDB', mysql_charset='latin1' ) op.create_table( 'traits', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column( 'id', sa.Integer, primary_key=True, nullable=False, autoincrement=True), sa.Column('name', sa.Unicode(255, **nameargs), nullable=False), sa.UniqueConstraint('name', name='uniq_traits0name'), mysql_engine='InnoDB', mysql_charset='latin1', ) op.create_table( 'allocations', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('resource_provider_id', sa.Integer, nullable=False), sa.Column('consumer_id', sa.String(36), nullable=False), sa.Column('resource_class_id', sa.Integer, nullable=False), sa.Column('used', sa.Integer, nullable=False), sa.Index( 'allocations_resource_provider_class_used_idx', 'resource_provider_id', 'resource_class_id', 'used'), sa.Index( 'allocations_resource_class_id_idx', 'resource_class_id'), sa.Index('allocations_consumer_id_idx', 'consumer_id'), mysql_engine='InnoDB', mysql_charset='latin1' ) op.create_table( 'consumers', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column( 'id', sa.Integer, primary_key=True, nullable=False, autoincrement=True), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('project_id', sa.Integer, nullable=False), sa.Column('user_id', sa.Integer, nullable=False), sa.Column( 'generation', sa.Integer, default=0, server_default=sa.text('0'), nullable=False), sa.Index('consumers_project_id_uuid_idx', 'project_id', 'uuid'), sa.Index( 'consumers_project_id_user_id_uuid_idx', 'project_id', 'user_id', 'uuid'), sa.UniqueConstraint('uuid', name='uniq_consumers0uuid'), mysql_engine='InnoDB', mysql_charset='latin1', ) op.create_table( 'resource_provider_aggregates', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column( 'resource_provider_id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'aggregate_id', sa.Integer, primary_key=True, nullable=False), sa.Index( 'resource_provider_aggregates_aggregate_id_idx', 'aggregate_id'), mysql_engine='InnoDB', mysql_charset='latin1' ) op.create_table( 'resource_provider_traits', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column( 'trait_id', sa.Integer, sa.ForeignKey('traits.id'), primary_key=True, nullable=False), sa.Column( 'resource_provider_id', sa.Integer, primary_key=True, nullable=False), sa.Index( 'resource_provider_traits_resource_provider_trait_idx', 'resource_provider_id', 'trait_id'), sa.ForeignKeyConstraint( columns=['resource_provider_id'], refcolumns=['resource_providers.id']), mysql_engine='InnoDB', mysql_charset='latin1', ) op.create_table( 'placement_aggregates', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('uuid', sa.String(length=36), index=True), sa.UniqueConstraint('uuid', name='uniq_placement_aggregates0uuid'), mysql_engine='InnoDB', mysql_charset='latin1' ) op.create_table( 'aggregates', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('uuid', sa.String(length=36)), sa.Column('name', sa.String(length=255)), sa.Index('aggregate_uuid_idx', 'uuid'), sa.UniqueConstraint('name', name='uniq_aggregate0name'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'aggregate_hosts', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('host', sa.String(length=255)), sa.Column( 'aggregate_id', sa.Integer, sa.ForeignKey('aggregates.id'), nullable=False), sa.UniqueConstraint( 'host', 'aggregate_id', name='uniq_aggregate_hosts0host0aggregate_id'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'aggregate_metadata', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'aggregate_id', sa.Integer, sa.ForeignKey('aggregates.id'), nullable=False), sa.Column('key', sa.String(length=255), nullable=False), sa.Column('value', sa.String(length=255), nullable=False), sa.UniqueConstraint( 'aggregate_id', 'key', name='uniq_aggregate_metadata0aggregate_id0key'), sa.Index('aggregate_metadata_key_idx', 'key'), mysql_engine='InnoDB', mysql_charset='utf8' ) op.create_table( 'instance_groups', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('user_id', sa.String(length=255)), sa.Column('project_id', sa.String(length=255)), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('name', sa.String(length=255)), sa.UniqueConstraint( 'uuid', name='uniq_instance_groups0uuid'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'instance_group_policy', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('policy', sa.String(length=255)), sa.Column( 'group_id', sa.Integer, sa.ForeignKey('instance_groups.id'), nullable=False), sa.Column('rules', sa.Text), sa.Index('instance_group_policy_policy_idx', 'policy'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'instance_group_member', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('instance_uuid', sa.String(length=255)), sa.Column( 'group_id', sa.Integer, sa.ForeignKey('instance_groups.id'), nullable=False), sa.Index('instance_group_member_instance_idx', 'instance_uuid'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quota_classes', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('class_name', sa.String(length=255)), sa.Column('resource', sa.String(length=255)), sa.Column('hard_limit', sa.Integer), sa.Index('quota_classes_class_name_idx', 'class_name'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quota_usages', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('project_id', sa.String(length=255)), sa.Column('resource', sa.String(length=255), nullable=False), sa.Column('in_use', sa.Integer, nullable=False), sa.Column('reserved', sa.Integer, nullable=False), sa.Column('until_refresh', sa.Integer), sa.Column('user_id', sa.String(length=255)), sa.Index('quota_usages_project_id_idx', 'project_id'), sa.Index('quota_usages_user_id_idx', 'user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quotas', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('project_id', sa.String(length=255)), sa.Column('resource', sa.String(length=255), nullable=False), sa.Column('hard_limit', sa.Integer), sa.UniqueConstraint( 'project_id', 'resource', name='uniq_quotas0project_id0resource'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'project_user_quotas', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('user_id', sa.String(length=255), nullable=False), sa.Column('project_id', sa.String(length=255), nullable=False), sa.Column('resource', sa.String(length=255), nullable=False), sa.Column('hard_limit', sa.Integer, nullable=True), sa.UniqueConstraint( 'user_id', 'project_id', 'resource', name='uniq_project_user_quotas0user_id0project_id0resource'), sa.Index( 'project_user_quotas_project_id_idx', 'project_id'), sa.Index( 'project_user_quotas_user_id_idx', 'user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'reservations', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column( 'usage_id', sa.Integer, sa.ForeignKey('quota_usages.id'), nullable=False), sa.Column('project_id', sa.String(length=255)), sa.Column('resource', sa.String(length=255)), sa.Column('delta', sa.Integer, nullable=False), sa.Column('expire', sa.DateTime), sa.Column('user_id', sa.String(length=255)), sa.Index('reservations_project_id_idx', 'project_id'), sa.Index('reservations_uuid_idx', 'uuid'), sa.Index('reservations_expire_idx', 'expire'), sa.Index('reservations_user_id_idx', 'user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) def downgrade(): pass ",,823,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib5a073d5b8209005be8841e355e75047c77bd488,openstack/kolla-ansible,stable/victoria,Ib5a073d5b8209005be8841e355e75047c77bd488,Fix the Tempest image url variable,MERGED,2021-08-17 17:29:47.000000000,2021-08-18 14:26:39.000000000,2021-08-18 14:23:40.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-08-17 17:29:47.000000000', 'files': ['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a887852366f8511dc6b063c8de763f360d379df8', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d6e14f8e475659a6249ff5ae67b23f8435c96792)\n""}]",0,804900,a887852366f8511dc6b063c8de763f360d379df8,11,7,1,14200,,,0,"Fix the Tempest image url variable

Seems very strange the variable of the image url doeesn't have the
correct prefix. This trivial fix will solve the issue.

TrivialFix

Change-Id: Ib5a073d5b8209005be8841e355e75047c77bd488
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d6e14f8e475659a6249ff5ae67b23f8435c96792)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/804900/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml']",2,a887852366f8511dc6b063c8de763f360d379df8,tempest-image-url,"tempest_image_url: ""{{ image_url | default('https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img') }}""","image_url: ""https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img""",2,2
openstack%2Fkolla-ansible~stable%2Fussuri~Ib5a073d5b8209005be8841e355e75047c77bd488,openstack/kolla-ansible,stable/ussuri,Ib5a073d5b8209005be8841e355e75047c77bd488,Fix the Tempest image url variable,MERGED,2021-08-17 17:30:43.000000000,2021-08-18 14:26:02.000000000,2021-08-18 14:23:42.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-08-17 17:30:43.000000000', 'files': ['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97804e484a65c5ce0184d22221959afa320c9ed7', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d6e14f8e475659a6249ff5ae67b23f8435c96792)\n""}]",0,804901,97804e484a65c5ce0184d22221959afa320c9ed7,11,7,1,14200,,,0,"Fix the Tempest image url variable

Seems very strange the variable of the image url doeesn't have the
correct prefix. This trivial fix will solve the issue.

TrivialFix

Change-Id: Ib5a073d5b8209005be8841e355e75047c77bd488
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d6e14f8e475659a6249ff5ae67b23f8435c96792)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/804901/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml']",2,97804e484a65c5ce0184d22221959afa320c9ed7,tempest-image-url,"tempest_image_url: ""{{ image_url | default('https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img') }}""","image_url: ""https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img""",2,2
openstack%2Fsushy-oem-idrac~master~I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535,openstack/sushy-oem-idrac,master,I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535,Update set_virtual_boot_device for no manager,MERGED,2021-05-19 08:45:00.000000000,2021-08-18 14:25:02.000000000,2021-08-18 14:25:02.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-19 08:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/2a4ccc7fca1be8b24682186e8b1745c1e86d8ef1', 'message': 'Update set_virtual_boot_device in case of empty manager\n\nChange-Id: I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535\n'}, {'number': 2, 'created': '2021-06-15 12:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/986b49c35d3f901851403bd4cfc36915a035167b', 'message': 'Update set_virtual_boot_device for no manager\n\nChange-Id: I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535\n'}, {'number': 3, 'created': '2021-08-05 14:16:41.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/ee7611faa209eccabe80efa520fef8e96e0e8d1c', 'message': 'Update set_virtual_boot_device for no manager\n\nChange-Id: I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535\n'}]",2,792087,ee7611faa209eccabe80efa520fef8e96e0e8d1c,13,3,3,27909,,,0,"Update set_virtual_boot_device for no manager

Change-Id: I4ba566fe4c20f7e12ff2eccda22bb1dd49d43535
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/87/792087/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",2,2a4ccc7fca1be8b24682186e8b1745c1e86d8ef1,oem-manager-refactor," :param manager: Manager of OEM extension. Optional. :param system: System of OEM extension. Optional. manager.identity if manager else self._parent_resource.identity, 'Disabled' if persistent else 'Enabled')"," manager.identity, 'Disabled' if persistent else 'Enabled')",14,1
openstack%2Fsushy-oem-idrac~master~I5559300443da4bea157f65f4dc14c885c9edd598,openstack/sushy-oem-idrac,master,I5559300443da4bea157f65f4dc14c885c9edd598,Expose manager constants,MERGED,2021-05-21 08:55:44.000000000,2021-08-18 14:25:00.000000000,2021-08-18 14:25:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-21 08:55:44.000000000', 'files': ['sushy_oem_idrac/__init__.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/bbaca56bda79924f30a7d0772fbb713c228155c5', 'message': 'Expose manager constants\n\nChange-Id: I5559300443da4bea157f65f4dc14c885c9edd598\n'}]",0,792544,bbaca56bda79924f30a7d0772fbb713c228155c5,7,3,1,27909,,,0,"Expose manager constants

Change-Id: I5559300443da4bea157f65f4dc14c885c9edd598
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/44/792544/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_oem_idrac/__init__.py'],1,bbaca56bda79924f30a7d0772fbb713c228155c5,constants,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sushy_oem_idrac.resources.manager.constants import * # noqa ",,15,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I6a2514080c9a0569be11511745dda77c11e717b9,openstack/tripleo-heat-templates,stable/ussuri,I6a2514080c9a0569be11511745dda77c11e717b9,DNM: Test scenario004,ABANDONED,2021-07-12 12:20:46.000000000,2021-08-18 14:24:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 12:20:46.000000000', 'files': ['deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24b2cfaff22036543245fd87522dca09b5003901', 'message': 'DNM: Test scenario004\n\nChange-Id: I6a2514080c9a0569be11511745dda77c11e717b9\n'}]",0,800460,24b2cfaff22036543245fd87522dca09b5003901,4,2,1,9816,,,0,"DNM: Test scenario004

Change-Id: I6a2514080c9a0569be11511745dda77c11e717b9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/800460/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-api-container-puppet.yaml'],1,24b2cfaff22036543245fd87522dca09b5003901,,,,0,1
openstack%2Fglance~master~I563e00b1ac970760189b0a38697fcb0a7ac0ce62,openstack/glance,master,I563e00b1ac970760189b0a38697fcb0a7ac0ce62,setup.cfg: Use underscore instead of dash,ABANDONED,2021-07-24 13:13:57.000000000,2021-08-18 14:24:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-24 13:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2931d2abc446c1880211fc023da53f50b8b9ea5a', 'message': ""setup.cfg: Use _ instead of -\n\n... to avoid the following deprecation warning.\n\nUserWarning: Usage of dash-separated 'python-r_quires' will not be\nsupported in future versions. Please use the underscore name\n'python_r_quires' instead\n\nChange-Id: I563e00b1ac970760189b0a38697fcb0a7ac0ce62\n""}, {'number': 2, 'created': '2021-07-24 13:14:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/4eff30bd4a66dba82075243a568e3d03ae65c215', 'message': ""setup.cfg: Use underscore instead of dash\n\n... to avoid the following deprecation warning.\n\nUserWarning: Usage of dash-separated 'python-r_quires' will not be\nsupported in future versions. Please use the underscore name\n'python_r_quires' instead\n\nChange-Id: I563e00b1ac970760189b0a38697fcb0a7ac0ce62\n""}]",0,802147,4eff30bd4a66dba82075243a568e3d03ae65c215,5,1,2,9816,,,0,"setup.cfg: Use underscore instead of dash

... to avoid the following deprecation warning.

UserWarning: Usage of dash-separated 'python-r_quires' will not be
supported in future versions. Please use the underscore name
'python_r_quires' instead

Change-Id: I563e00b1ac970760189b0a38697fcb0a7ac0ce62
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/802147/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2931d2abc446c1880211fc023da53f50b8b9ea5a,setup.cfg,python_r_quires = >=3.6,python-r_quires = >=3.6,1,1
openstack%2Fsushy-oem-idrac~master~I21524bef52e32eb56c105bb57c8f846503a401f4,openstack/sushy-oem-idrac,master,I21524bef52e32eb56c105bb57c8f846503a401f4,Fix IncludeInExport allowed value validation,MERGED,2021-07-12 15:04:07.000000000,2021-08-18 14:22:42.000000000,2021-08-18 14:22:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-12 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/e54b44410e05d8cbfb7ea4bf8691450c86fdf06b', 'message': 'Fix IncludeInExport allowed value validation\n\nNewer iDRAC firmware has changed how it reports\nIncludeInExport@Redfish.AllowableValues, no longer including\ncomma separated option. Although iDRAC violates AllowableValues\nvalidation logic, need to work around this.\n\nChange-Id: I21524bef52e32eb56c105bb57c8f846503a401f4\n'}, {'number': 2, 'created': '2021-08-11 14:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/db0b8843e436b8187aa3ad404dc197a3ba4d5735', 'message': 'Fix IncludeInExport allowed value validation\n\nNewer iDRAC firmware has changed how it reports\nIncludeInExport@Redfish.AllowableValues, no longer including\ncomma separated option. Although iDRAC violates AllowableValues\nvalidation logic, need to work around this.\n\nChange-Id: I21524bef52e32eb56c105bb57c8f846503a401f4\n'}, {'number': 3, 'created': '2021-08-17 13:57:49.000000000', 'files': ['sushy_oem_idrac/tests/unit/json_samples/manager.json', 'sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/40f966c007cebe98225f0e61e2ebf5da43ae4cdd', 'message': 'Fix IncludeInExport allowed value validation\n\nNewer iDRAC firmware has changed how it reports\nIncludeInExport@Redfish.AllowableValues, no longer including\ncomma separated option. Although iDRAC violates AllowableValues\nvalidation logic, need to work around this.\n\nChange-Id: I21524bef52e32eb56c105bb57c8f846503a401f4\n'}]",8,800496,40f966c007cebe98225f0e61e2ebf5da43ae4cdd,15,3,3,27909,,,0,"Fix IncludeInExport allowed value validation

Newer iDRAC firmware has changed how it reports
IncludeInExport@Redfish.AllowableValues, no longer including
comma separated option. Although iDRAC violates AllowableValues
validation logic, need to work around this.

Change-Id: I21524bef52e32eb56c105bb57c8f846503a401f4
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/96/800496/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/json_samples/manager.json', 'sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",3,e54b44410e05d8cbfb7ea4bf8691450c86fdf06b,export-read-only," # Check if value contains comma and validate each item separately # Older iDRACs used to include comma separated option in # AllowableValues but got removed in newer versions violating # AllowableValues validation logic. include_in_export_rev =\ mgr_maps.INCLUDE_EXPORT_VALUE_MAP_REV.get(include_in_export) all_items_valid = False if include_in_export_rev is not None: items = include_in_export_rev.split(',') all_items_valid = True if len(items) > 1: for item in items: if (mgr_maps.INCLUDE_EXPORT_VALUE_MAP[item] not in allowed_include_in_export): all_items_valid = False break if not all_items_valid: raise sushy.exceptions.InvalidParameterValueError( parameter='include_in_export', value=include_in_export, valid_values=allowed_include_in_export)"," raise sushy.exceptions.InvalidParameterValueError( parameter='include_in_export', value=include_in_export, valid_values=allowed_include_in_export)",41,9
openstack%2Fopenstack-tempest-skiplist~master~I9ed10ac2b6521ef9b727898a7f04be1e1505850b,openstack/openstack-tempest-skiplist,master,I9ed10ac2b6521ef9b727898a7f04be1e1505850b,Skip consistent jobs in puppet-octavia-tripleo-standalone,ABANDONED,2021-04-20 15:41:59.000000000,2021-08-18 14:18:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 15:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/83c6a6a4c95a36637c89a06c9f9cb0e0ede318c4', 'message': 'Skip consistent jobs in puppet-octavia-tripleo-standalone\n\nThis change ensures that we skip the same test in standalone job with\nOctavia for tripleo repos and puppet-octavia.\n\nChange-Id: I9ed10ac2b6521ef9b727898a7f04be1e1505850b\n'}, {'number': 2, 'created': '2021-07-11 03:55:07.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c83b71a8f88721223ca921e7fa59d3d00a04d4d1', 'message': 'Skip consistent jobs in puppet-octavia-tripleo-standalone\n\nThis change ensures that we skip the same test in standalone job with\nOctavia for tripleo repos and puppet-octavia.\n\nChange-Id: I9ed10ac2b6521ef9b727898a7f04be1e1505850b\n'}]",0,787224,c83b71a8f88721223ca921e7fa59d3d00a04d4d1,11,3,2,9816,,,0,"Skip consistent jobs in puppet-octavia-tripleo-standalone

This change ensures that we skip the same test in standalone job with
Octavia for tripleo repos and puppet-octavia.

Change-Id: I9ed10ac2b6521ef9b727898a7f04be1e1505850b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/24/787224/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,83c6a6a4c95a36637c89a06c9f9cb0e0ede318c4,, - puppet-octavia-tripleo-standalone,,1,0
openstack%2Fpuppet-openstack-integration~master~Iaa3657bc0ccc9ac88fdcbcf4ed398f1b595c3c38,openstack/puppet-openstack-integration,master,Iaa3657bc0ccc9ac88fdcbcf4ed398f1b595c3c38,DNM: Check puppet module installation,ABANDONED,2021-06-01 12:31:50.000000000,2021-08-18 14:17:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 12:31:50.000000000', 'files': ['install_modules_unit.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6f6c3d4dba33ed0af075307da2b6683cc06158e8', 'message': 'DNM: Check puppet module installation\n\nChange-Id: Iaa3657bc0ccc9ac88fdcbcf4ed398f1b595c3c38\n'}]",0,793960,6f6c3d4dba33ed0af075307da2b6683cc06158e8,3,1,1,9816,,,0,"DNM: Check puppet module installation

Change-Id: Iaa3657bc0ccc9ac88fdcbcf4ed398f1b595c3c38
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/60/793960/1 && git format-patch -1 --stdout FETCH_HEAD,['install_modules_unit.sh'],1,6f6c3d4dba33ed0af075307da2b6683cc06158e8,dnm,print_header 'Debugging' pwd find . find ./spec/fixtures/modules print_header 'Debugging' ,,6,0
openstack%2Fpython-neutronclient~master~I19f2474a851eea7cdcc4563a52eec7ee98dac34c,openstack/python-neutronclient,master,I19f2474a851eea7cdcc4563a52eec7ee98dac34c,DNM: Test functional tests,ABANDONED,2021-07-20 14:35:00.000000000,2021-08-18 14:17:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-20 14:35:00.000000000', 'files': ['neutronclient/tests/unit/test_cli20.py', '.dnm'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/35ec21ca60ba1fdd8a32c9eacb6cb3df185ca85b', 'message': 'DNM: Test functional tests\n\nChange-Id: I19f2474a851eea7cdcc4563a52eec7ee98dac34c\n'}]",0,801496,35ec21ca60ba1fdd8a32c9eacb6cb3df185ca85b,3,1,1,9816,,,0,"DNM: Test functional tests

Change-Id: I19f2474a851eea7cdcc4563a52eec7ee98dac34c
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/96/801496/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_cli20.py', '.dnm']",2,35ec21ca60ba1fdd8a32c9eacb6cb3df185ca85b,dnm,,,1,0
openstack%2Fkeystone~master~I5f7581fcccc244666850e070b28e569ee4eed651,openstack/keystone,master,I5f7581fcccc244666850e070b28e569ee4eed651,DNM: Testing functional tests for bug 1938120,ABANDONED,2021-07-27 04:32:32.000000000,2021-08-18 14:17:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-27 04:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/65dfebfcfcbaaff09bde9ebf54dd780c308cdc8e', 'message': 'DNM: Testing functional tests\n\nChange-Id: I5f7581fcccc244666850e070b28e569ee4eed651\n'}, {'number': 2, 'created': '2021-07-27 05:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6cef3f2a203bc900a7f99856eec96351ab89de91', 'message': 'DNM: Testing functional tests\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/802425\nChange-Id: I5f7581fcccc244666850e070b28e569ee4eed651\n'}, {'number': 3, 'created': '2021-07-27 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5036f290008609ef30a7285afdace6ee022268e6', 'message': 'DNM: Testing functional tests\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780417/\nChange-Id: I5f7581fcccc244666850e070b28e569ee4eed651\n'}, {'number': 4, 'created': '2021-07-29 03:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2fc3f1eb51d946cc0181f4b8e7a2a1e746c91b5', 'message': 'DNM: Testing functional tests\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/780417\nChange-Id: I5f7581fcccc244666850e070b28e569ee4eed651\n'}, {'number': 5, 'created': '2021-07-30 08:48:29.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/keystone/commit/475b2ab74820775cf2ec17061bf940bb390fce48', 'message': 'DNM: Testing functional tests for bug 1938120\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/802997\nChange-Id: I5f7581fcccc244666850e070b28e569ee4eed651\n'}]",0,802423,475b2ab74820775cf2ec17061bf940bb390fce48,18,1,5,9816,,,0,"DNM: Testing functional tests for bug 1938120

Depends-on: https://review.opendev.org/c/openstack/devstack/+/802997
Change-Id: I5f7581fcccc244666850e070b28e569ee4eed651
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/802423/5 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,65dfebfcfcbaaff09bde9ebf54dd780c308cdc8e,dnm,,,0,0
openstack%2Foctavia~master~I8fd50b3dac8b3c211101e9257a18b3376f314a91,openstack/octavia,master,I8fd50b3dac8b3c211101e9257a18b3376f314a91,DNM: Checking gate,ABANDONED,2021-08-04 08:11:46.000000000,2021-08-18 14:17:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-04 08:11:46.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5c4a7eaf643308f70a437e86675806ac389915d3', 'message': 'DNM: Checking gate\n\nChange-Id: I8fd50b3dac8b3c211101e9257a18b3376f314a91\n'}]",0,803426,5c4a7eaf643308f70a437e86675806ac389915d3,3,1,1,9816,,,0,"DNM: Checking gate

Change-Id: I8fd50b3dac8b3c211101e9257a18b3376f314a91
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/803426/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,5c4a7eaf643308f70a437e86675806ac389915d3,dnm,,,0,0
openstack%2Fpuppet-cinder~master~Ib622c1a04e3e40db4f37fc6bbc57ee91d7f9dd88,openstack/puppet-cinder,master,Ib622c1a04e3e40db4f37fc6bbc57ee91d7f9dd88,Restore support for enable_v2_api,ABANDONED,2021-07-07 08:18:38.000000000,2021-08-18 14:16:36.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 08:18:38.000000000', 'files': ['releasenotes/notes/restore-enable_v2_api-2c8ec9cb0f152b1f.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a04f8ad5c0d014bd208449bb372fc5039a8163de', 'message': 'Restore support for enable_v2_api\n\nThe enable_v2_api parameter was deprecated a while ago but the default\ndefined in cinder is still `True` which means v2 api is still enabled\nin cinder-api.\n\nThis change re-introduces the enable_v2_api parameter so that users\ncan set enable_v2_api=False to disable v2 api support in cinder-api.\n\nChange-Id: Ib622c1a04e3e40db4f37fc6bbc57ee91d7f9dd88\n'}]",1,799753,a04f8ad5c0d014bd208449bb372fc5039a8163de,10,3,1,9816,,,0,"Restore support for enable_v2_api

The enable_v2_api parameter was deprecated a while ago but the default
defined in cinder is still `True` which means v2 api is still enabled
in cinder-api.

This change re-introduces the enable_v2_api parameter so that users
can set enable_v2_api=False to disable v2 api support in cinder-api.

Change-Id: Ib622c1a04e3e40db4f37fc6bbc57ee91d7f9dd88
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/53/799753/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/restore-enable_v2_api-2c8ec9cb0f152b1f.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp']",3,a04f8ad5c0d014bd208449bb372fc5039a8163de,,"# [*enable_v2_api*] # (Optional) Whether to enable the v2 API (true/false). # Defaults to $::os_service_default. # $enable_v2_api = $::os_service_default, # API versions cinder_config { 'DEFAULT/enable_v2_api': value => $enable_v2_api;", # V3 APIs cinder_config {,33,5
openstack%2Fnova~master~Ie5a0b91065819f018a5d170b734295552fbeaadd,openstack/nova,master,Ie5a0b91065819f018a5d170b734295552fbeaadd,Handle if placement in down during interface attach,NEW,2021-08-07 10:37:01.000000000,2021-08-18 14:16:16.000000000,,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 10:37:01.000000000', 'files': ['nova/api/openstack/compute/attach_interfaces.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cffecd0d7a77889e6493127ab55790f44076eb54', 'message': ""Handle if placement in down during interface attach\n\nWe don't have much to do but at least we can raise a proper exception\nfrom the compute that informs the caller what failed.\n\nChange-Id: Ie5a0b91065819f018a5d170b734295552fbeaadd\nClosed-Bug: #1939193\n""}]",7,803822,cffecd0d7a77889e6493127ab55790f44076eb54,16,5,1,9708,,,0,"Handle if placement in down during interface attach

We don't have much to do but at least we can raise a proper exception
from the compute that informs the caller what failed.

Change-Id: Ie5a0b91065819f018a5d170b734295552fbeaadd
Closed-Bug: #1939193
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/803822/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/attach_interfaces.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",3,cffecd0d7a77889e6493127ab55790f44076eb54,bug/1939193," self.assertEqual(503, ex.response.status_code) self.assertIn('Unable to communicate with the Placement API', str(ex))"," # This is bug 1939193 self.assertEqual(500, ex.response.status_code) # self.assertEqual(503, ex.response.status_code) # self.assertIn( # 'Unable to communicate with the Placement API', str(ex))",13,6
openstack%2Fpuppet-tripleo~master~I75e66021c4e23b820559a1166dd547741b23df66,openstack/puppet-tripleo,master,I75e66021c4e23b820559a1166dd547741b23df66,Add Puppet OpenStack modules to requirements,ABANDONED,2021-08-07 07:14:55.000000000,2021-08-18 14:14:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 07:14:55.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/675b428f3df8f8af69ee5fa1ce6bcf1ce2c9325c', 'message': 'Add Puppet OpenStack modules to requirements\n\nChange-Id: I75e66021c4e23b820559a1166dd547741b23df66\n'}]",0,803815,675b428f3df8f8af69ee5fa1ce6bcf1ce2c9325c,5,2,1,9816,,,0,"Add Puppet OpenStack modules to requirements

Change-Id: I75e66021c4e23b820559a1166dd547741b23df66
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/803815/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,675b428f3df8f8af69ee5fa1ce6bcf1ce2c9325c,requirements," { ""name"": ""openstack/aodh"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/barbican"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/ceilometer"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/cinder"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/designate"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/glance"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/gnocchi"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/heat"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/horizon"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/ironic"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/keystone"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/manila"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/neutron"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/nova"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/octavia"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/oslo"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/ovn"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/placement"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/qdr"", ""version_requirement"": "">=8.0.0 <9.0.0"" }, { ""name"": ""openstack/swift"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/vswitch"", ""version_requirement"": "">=19.0.0 <20.0.0"" }, { ""name"": ""openstack/zaqar"", ""version_requirement"": "">=19.0.0 <20.0.0"" }"," { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=17.0.0 <18.0.0"" }",23,1
openstack%2Fnova~master~Ib3c8ed876791cda96486d43384f7aec0c487fd2f,openstack/nova,master,Ib3c8ed876791cda96486d43384f7aec0c487fd2f,db: Avoid use of ALTER in initial migration,MERGED,2021-07-08 16:14:57.000000000,2021-08-18 14:09:42.000000000,2021-08-18 14:07:25.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/692d35bd48be1e65247af945f1aef4762875a6cf', 'message': 'db: Avoid use of ALTER in initial migration\n\nWe have a class of bugs in our current database schema that were\nintroduced by now-squashed migrations, whereby we applied a new\nconstraint to a column but forgot to apply the same change to the column\nin the shadow table. Currently, we preserve the behavior of these bugs\nthrough use of the \'ALTER\' statement. This results in more complex SQL\nfor the initial migration, however, more importantly, the ALTER\nstatement is not actually supported by SQLite and the underlying\nmigration engine must instead mimic behavior by creating a new table\nwith the updated schema and a temporary name, copy across all data from\nthe old table to the new table, delete the old table and rename the new\ntable.\n\nWhile sqlalchemy-migrate handled this transparently for us, therefore\nallowing us to mostly ignore the issue, alembic makes this lack of\nsupport in SQLite explicit by insisting on the \'batch_alter_table\'\ncontext manager [1] wrapping any ALTER statements. This is context\nmanager is ""a little tricky"" (zzzeek\'s words, not mine) and is therefore\nbest avoided. Fortunately, this is easily done through the addition of a\ncouple of checks within the \'_create_shadow_tables\' helper that simply\nmodify the affected columns before creating the table.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: Ib3c8ed876791cda96486d43384f7aec0c487fd2f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/036f79aaba0886c5dfa724e3213b8adf26471c43', 'message': 'db: Avoid use of ALTER in initial migration\n\nWe have a class of bugs in our current database schema that were\nintroduced by now-squashed migrations, whereby we applied a new\nconstraint to a column but forgot to apply the same change to the column\nin the shadow table. Currently, we preserve the behavior of these bugs\nthrough use of the \'ALTER\' statement. This results in more complex SQL\nfor the initial migration, however, more importantly, the ALTER\nstatement is not actually supported by SQLite and the underlying\nmigration engine must instead mimic behavior by creating a new table\nwith the updated schema and a temporary name, copy across all data from\nthe old table to the new table, delete the old table and rename the new\ntable.\n\nWhile sqlalchemy-migrate handled this transparently for us, therefore\nallowing us to mostly ignore the issue, alembic makes this lack of\nsupport in SQLite explicit by insisting on the \'batch_alter_table\'\ncontext manager [1] wrapping any ALTER statements. This is context\nmanager is ""a little tricky"" (zzzeek\'s words, not mine) and is therefore\nbest avoided. Fortunately, this is easily done through the addition of a\ncouple of checks within the \'_create_shadow_tables\' helper that simply\nmodify the affected columns before creating the table.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: Ib3c8ed876791cda96486d43384f7aec0c487fd2f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/main/legacy_migrations/versions/402_train.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21c5ced0ba3219d396b354f5fdca629950c63e0c', 'message': 'db: Avoid use of ALTER in initial migration\n\nWe have a class of bugs in our current database schema that were\nintroduced by now-squashed migrations, whereby we applied a new\nconstraint to a column but forgot to apply the same change to the column\nin the shadow table. Currently, we preserve the behavior of these bugs\nthrough use of the \'ALTER\' statement. This results in more complex SQL\nfor the initial migration, however, more importantly, the ALTER\nstatement is not actually supported by SQLite and the underlying\nmigration engine must instead mimic behavior by creating a new table\nwith the updated schema and a temporary name, copy across all data from\nthe old table to the new table, delete the old table and rename the new\ntable.\n\nWhile sqlalchemy-migrate handled this transparently for us, therefore\nallowing us to mostly ignore the issue, alembic makes this lack of\nsupport in SQLite explicit by insisting on the \'batch_alter_table\'\ncontext manager [1] wrapping any ALTER statements. This is context\nmanager is ""a little tricky"" (zzzeek\'s words, not mine) and is therefore\nbest avoided. Fortunately, this is easily done through the addition of a\ncouple of checks within the \'_create_shadow_tables\' helper that simply\nmodify the affected columns before creating the table.\n\n[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table\n\nChange-Id: Ib3c8ed876791cda96486d43384f7aec0c487fd2f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,800076,21c5ced0ba3219d396b354f5fdca629950c63e0c,27,3,3,15334,,,0,"db: Avoid use of ALTER in initial migration

We have a class of bugs in our current database schema that were
introduced by now-squashed migrations, whereby we applied a new
constraint to a column but forgot to apply the same change to the column
in the shadow table. Currently, we preserve the behavior of these bugs
through use of the 'ALTER' statement. This results in more complex SQL
for the initial migration, however, more importantly, the ALTER
statement is not actually supported by SQLite and the underlying
migration engine must instead mimic behavior by creating a new table
with the updated schema and a temporary name, copy across all data from
the old table to the new table, delete the old table and rename the new
table.

While sqlalchemy-migrate handled this transparently for us, therefore
allowing us to mostly ignore the issue, alembic makes this lack of
support in SQLite explicit by insisting on the 'batch_alter_table'
context manager [1] wrapping any ALTER statements. This is context
manager is ""a little tricky"" (zzzeek's words, not mine) and is therefore
best avoided. Fortunately, this is easily done through the addition of a
couple of checks within the '_create_shadow_tables' helper that simply
modify the affected columns before creating the table.

[1] https://alembic.sqlalchemy.org/en/latest/ops.html#alembic.operations.Operations.batch_alter_table

Change-Id: Ib3c8ed876791cda96486d43384f7aec0c487fd2f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/800076/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/main/legacy_migrations/versions/402_train.py'],1,692d35bd48be1e65247af945f1aef4762875a6cf,bp/remove-sqlalchemy-migrate," # NOTE(boris-42): BigInteger is not supported by sqlite, so after # copy it will have NullType. The other types that are used in Nova # are supported by sqlite # TODO(stephenfin): Fix these various bugs in a follow-up # 244_increase_user_id_length_volume_usage_cache; this # alteration should apply to shadow tables also if table_name == 'volume_usage_cache' and column.name == 'user_id': # nullable should be True column_copy = sa.Column('user_id', sa.String(36)) # 247_nullable_mismatch; these alterations should apply to shadow # tables also if table_name == 'quota_usages' and column.name == 'resources': # nullable should be False column_copy = sa.Column('resource', sa.String(length=255)) if table_name == 'pci_devices': if column.name == 'deleted': # nullable should be True column_copy = sa.Column( 'deleted', sa.Integer, default=0, nullable=False, ) if column.name == 'product_id': # nullable should be False column_copy = sa.Column('product_id', sa.String(4)) if column.name == 'vendor_id': # nullable should be False column_copy = sa.Column('vendor_id', sa.String(4)) if column.name == 'dev_type': # nullable should be False column_copy = sa.Column('dev_type', sa.String(8)) # 280_add_nullable_false_to_keypairs_name; this should apply to the # shadow table also if table_name == 'key_pairs' and column.name == 'name': # nullable should be False column_copy = sa.Column('name', sa.String(length=255)) # TODO(stephenfin): Fix these various bugs in a follow-up # 252_add_instance_extra_table; we don't create indexes for shadow tables # in general and these should be removed table = sa.Table('shadow_instance_extra', meta, autoload=True) idx = sa.Index('shadow_instance_extra_idx', table.c.instance_uuid) idx.create(migrate_engine) # 373_migration_uuid; we should't create indexes for shadow tables table = sa.Table('shadow_migrations', meta, autoload=True) idx = sa.Index('shadow_migrations_uuid', table.c.uuid, unique=True) idx.create(migrate_engine) sa.Column('name', sa.String(length=255), nullable=False), sa.Column('deleted', sa.Integer, default=0, nullable=True), sa.Column('product_id', sa.String(4), nullable=False), sa.Column('vendor_id', sa.String(4), nullable=False), sa.Column('dev_type', sa.String(8), nullable=False), sa.Column('resource', sa.String(length=255), nullable=False), sa.Column('user_id', sa.String(length=64)),"," # NOTE(boris-42): BigInteger is not supported by sqlite, so # after copy it will have NullType, other # types that are used in Nova are supported by # sqlite. sa.Column('name', sa.String(length=255)), sa.Column('deleted', sa.Integer, default=0, nullable=False), sa.Column('product_id', sa.String(4)), sa.Column('vendor_id', sa.String(4)), sa.Column('dev_type', sa.String(8)), sa.Column('resource', sa.String(length=255)), sa.Column('user_id', sa.String(length=36)), # created first (to preserve ordering for schema diffs) # 244_increase_user_id_length_volume_usage_cache; this alternation should # apply to shadow tables also table = sa.Table('volume_usage_cache', meta, autoload=True) table.c.user_id.alter(type=sa.String(64)) # 247_nullable_mismatch; these alterations should apply to shadow tables # also table = sa.Table('quota_usages', meta, autoload=True) table.c.resource.alter(nullable=False) table = sa.Table('pci_devices', meta, autoload=True) table.c.deleted.alter(nullable=True) table.c.product_id.alter(nullable=False) table.c.vendor_id.alter(nullable=False) table.c.dev_type.alter(nullable=False) # 252_add_instance_extra_table; we don't create indexes for shadow tables # in general and these should be removed table = sa.Table('shadow_instance_extra', meta, autoload=True) idx = sa.Index('shadow_instance_extra_idx', table.c.instance_uuid) idx.create(migrate_engine) # 280_add_nullable_false_to_keypairs_name; this should apply to the shadow # table also # Note: Since we are altering name field, this constraint on name needs to # first be dropped before we can alter name. We then re-create the same # constraint. UniqueConstraint( 'user_id', 'name', 'deleted', table=key_pairs, name='uniq_key_pairs0user_id0name0deleted' ).drop() key_pairs.c.name.alter(nullable=False) UniqueConstraint( 'user_id', 'name', 'deleted', table=key_pairs, name='uniq_key_pairs0user_id0name0deleted', ).create() # 373_migration_uuid; we should't create indexes for shadow tables table = sa.Table('shadow_migrations', meta, autoload=True) idx = sa.Index('shadow_migrations_uuid', table.c.uuid, unique=True) idx.create(migrate_engine)",68,59
openstack%2Fcyborg~stable%2Fvictoria~If503b922b0271581a05f5ff4016b9a00b908f2e4,openstack/cyborg,stable/victoria,If503b922b0271581a05f5ff4016b9a00b908f2e4,Resolve mysql conflict message,MERGED,2021-08-17 12:56:39.000000000,2021-08-18 14:06:36.000000000,2021-08-18 14:05:16.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-17 12:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5a5a9656426db1e3107fcb53597e246993ca5e17', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)\n'}, {'number': 2, 'created': '2021-08-18 12:36:53.000000000', 'files': ['cyborg/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/72295ecc0ab43b05e3bf42a01ba80b4923a9bfc8', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)\n(cherry picked from commit ae38e4e9a9378b51d5f611c8b398635ed13bd1b5)\n'}]",1,804857,72295ecc0ab43b05e3bf42a01ba80b4923a9bfc8,20,4,2,23950,,,0,"Resolve mysql conflict message

Mysql duplicate key error message changed, so resolve it as reference link:
https://review.opendev.org/c/openstack/oslo.db/+/792124

Closes-Bug: #1939970
Change-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4
(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)
(cherry picked from commit ae38e4e9a9378b51d5f611c8b398635ed13bd1b5)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/57/804857/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,5a5a9656426db1e3107fcb53597e246993ca5e17,bug/1939970," # mysql duplicate key error changed as reference link below: # https://review.opendev.org/c/openstack/oslo.db/+/792124 LOG.info('Duplicate columns are: ', e.columns) columns = [column.split('0')[1] if 'uniq_' in column else column for column in e.columns] if 'name' in columns:", if 'name' in e.columns:,6,1
openstack%2Fbarbican-tempest-plugin~master~Icf5a52925244dfe7d98ba9cfba549fce67be44db,openstack/barbican-tempest-plugin,master,Icf5a52925244dfe7d98ba9cfba549fce67be44db,Add secure-rbac test for Secrets across projects,MERGED,2021-04-07 21:29:33.000000000,2021-08-18 13:39:52.000000000,2021-08-18 13:39:52.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 33774}]","[{'number': 1, 'created': '2021-04-07 21:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cd35cc28cd08c8fbacf8999a0283bce9d14ad230', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 2, 'created': '2021-04-12 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/89cdbf6cc85ba21547896a23efdd3bdc57d18ace', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 3, 'created': '2021-04-13 12:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/9d2bb264ff31ac6bf7848b02c31a5a09278a8caa', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 4, 'created': '2021-07-28 20:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/04a0717e34ad75ea52c6b652fd194cce574bd145', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 5, 'created': '2021-07-28 20:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/faf73174f6311fc06ccdcb8e14de22063249eed3', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 6, 'created': '2021-08-05 21:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7ef2ec923c84536acde0e9f1416489877208ad07', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nThis patch also changes the Reader, Member, and Admin test suite\ninheritance to remove code duplication.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 7, 'created': '2021-08-11 15:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a63ff37a33fd5d5cf0fd8ce34035e3b5a72cbfe1', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nThis patch also changes the Reader, Member, and Admin test suite\ninheritance to remove code duplication.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}, {'number': 8, 'created': '2021-08-17 18:16:36.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/087f89dd16c2fbafaa0aab8e5e2cff09489d40ed', 'message': 'Add secure-rbac test for Secrets across projects\n\nThis patch adds rbac tests to the Secrets resource to test access\nacross different projects.\n\nThis patch also changes the Reader, Member, and Admin test suite\ninheritance to remove code duplication.\n\nChange-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db\n'}]",6,785282,087f89dd16c2fbafaa0aab8e5e2cff09489d40ed,30,8,8,7973,,,0,"Add secure-rbac test for Secrets across projects

This patch adds rbac tests to the Secrets resource to test access
across different projects.

This patch also changes the Reader, Member, and Admin test suite
inheritance to remove code duplication.

Change-Id: Icf5a52925244dfe7d98ba9cfba549fce67be44db
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/82/785282/8 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py']",2,cd35cc28cd08c8fbacf8999a0283bce9d14ad230,secure-rbac,"class BarbicanV1RbacSecrets: @abc.abstractmethod def test_get_other_secret(self): """"""Test get_secrets policy Testing: GET /v1/secrets/{secret_id} This test must check: * whether the person can get secret metadata for a secret that belongs to a different project """""" raise NotImplementedError @abc.abstractmethod def test_get_other_secret_payload(self): """"""Test get_secrets policy Testing: GET /v1/secrets/{secret_id}/payload This test must check: * whether the persona can get secret payload for a secret that belongs to a different project """""" raise NotImplementedError @abc.abstractmethod def test_put_other_secret_payload(self): """"""Test put_secret policy. Testing: PUT /v1/secrets/{secret_id} This test must check: * whether the persona can PUT the secret payload in a 2-step create when the first step is done by a member of a different project. """""" raise NotImplementedError @abc.abstractmethod def test_delete_other_secret(self): """"""Test delete_secret policy. Testing: DELETE /v1/secrets/{secret_id} This test must check: * whether the persona can delete a secret that belongs to a different project """""" raise NotImplementedError def test_get_other_secret(self): other_secret_id = self.create_other_project_secret( 'get_other_secret', payload='Muy secreto!') self.do_request('get_secret_metadata', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_get_other_secret_payload(self): other_secret_id = self.create_other_project_secret( 'get_other_payload', payload='Más secreto!') self.do_request('get_secret_payload', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_put_other_secret_payload(self): other_secret_id = self.create_other_project_secret('put_other_payload') self.do_request('put_secret_payload', expected_status=exceptions.Forbidden, secret_id=other_secret_id, payload='Shhhh... secret!') def test_delete_other_secret(self): other_secret_id = self.create_other_project_secret( 'get_other_payload', payload='loremipsumloremipsum') self.do_request('delete_secret', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_get_other_secret(self): other_secret_id = self.create_other_project_secret('get_other_secret') self.do_request('get_secret_metadata', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_get_other_secret_payload(self): other_secret_id = self.create_other_project_secret('get_other_payload') self.do_request('get_secret_payload', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_put_other_secret_payload(self): other_secret_id = self.create_other_project_secret('put_other_payload') self.do_request('put_secret_payload', expected_status=exceptions.Forbidden, secret_id=other_secret_id, payload='Shhhh... secret!') def test_delete_other_secret(self): other_secret_id = self.create_other_project_secret( 'get_other_payload', payload='loremipsumloremipsum') self.do_request('delete_secret', expected_status=exceptions.Forbidden, secret_id=other_secret_id) def test_get_other_secret(self): pass def test_get_other_secret_payload(self): pass def test_put_other_secret_payload(self): pass def test_delete_other_secret(self): pass def test_get_other_secret(self): pass def test_get_other_secret_payload(self): pass def test_put_other_secret_payload(self): pass def test_delete_other_secret(self): pass def test_get_other_secret(self): pass def test_get_other_secret_payload(self): pass def test_put_other_secret_payload(self): pass def test_delete_other_secret(self): pass",class BarbicanV1RbacSecrets(metaclass=abc.ABCMeta):,167,6
openstack%2Fbarbican-tempest-plugin~master~Id9be832a0f255410bd955d94c32001fec500f32f,openstack/barbican-tempest-plugin,master,Id9be832a0f255410bd955d94c32001fec500f32f,Refactor secret cleanup,MERGED,2021-07-22 22:36:56.000000000,2021-08-18 13:39:21.000000000,2021-08-18 13:39:21.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 31661}, {'_account_id': 33774}]","[{'number': 1, 'created': '2021-07-22 22:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/73297b790e811c184ceb5559c2646b4c577b290c', 'message': 'Refactor secret cleanup\n\nThis patch is the first in a refactor of the cleanup logic in our\ntests.\n\nThis patch adds a new `cleanup()` method to the SecretClient that\nattempts to delete all the secrets it creates.\n\nMoving the responsibility of tracking which secrets to clean up down\nto the client allows us more flexibility when cleaning up the resources.\ne.g.  it should be fairly easy to clean up secrets across multiple projects\nby just calling the new `cleanup()` method on each client used.\n\nThis patch will also allow us to get rid of the overloaded `do_request()`\nmethod that is currently used as a proxy to the client to be able to track\nentities.\n\nThe change also makes the test code more explicit and easier to read.\n\nChange-Id: Id9be832a0f255410bd955d94c32001fec500f32f\n'}, {'number': 2, 'created': '2021-08-11 15:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/82d3b1896f506fedaade03495d8e5e032899f83a', 'message': 'Refactor secret cleanup\n\nThis patch is the first in a refactor of the cleanup logic in our\ntests.\n\nThis patch adds a new `cleanup()` method to the SecretClient that\nattempts to delete all the secrets it creates.\n\nMoving the responsibility of tracking which secrets to clean up down\nto the client allows us more flexibility when cleaning up the resources.\ne.g.  it should be fairly easy to clean up secrets across multiple projects\nby just calling the new `cleanup()` method on each client used.\n\nThis patch will also allow us to get rid of the overloaded `do_request()`\nmethod that is currently used as a proxy to the client to be able to track\nentities.\n\nThe change also makes the test code more explicit and easier to read.\n\nChange-Id: Id9be832a0f255410bd955d94c32001fec500f32f\n'}, {'number': 3, 'created': '2021-08-17 18:14:45.000000000', 'files': ['barbican_tempest_plugin/services/key_manager/json/base.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/62baff3fccf0a04b4c1c152163477633fa23da81', 'message': 'Refactor secret cleanup\n\nThis patch is the first in a refactor of the cleanup logic in our\ntests.\n\nThis patch adds a new `cleanup()` method to the SecretClient that\nattempts to delete all the secrets it creates.\n\nMoving the responsibility of tracking which secrets to clean up down\nto the client allows us more flexibility when cleaning up the resources.\ne.g.  it should be fairly easy to clean up secrets across multiple projects\nby just calling the new `cleanup()` method on each client used.\n\nThis patch will also allow us to get rid of the overloaded `do_request()`\nmethod that is currently used as a proxy to the client to be able to track\nentities.\n\nThe change also makes the test code more explicit and easier to read.\n\nChange-Id: Id9be832a0f255410bd955d94c32001fec500f32f\n'}]",8,801928,62baff3fccf0a04b4c1c152163477633fa23da81,17,8,3,7973,,,0,"Refactor secret cleanup

This patch is the first in a refactor of the cleanup logic in our
tests.

This patch adds a new `cleanup()` method to the SecretClient that
attempts to delete all the secrets it creates.

Moving the responsibility of tracking which secrets to clean up down
to the client allows us more flexibility when cleaning up the resources.
e.g.  it should be fairly easy to clean up secrets across multiple projects
by just calling the new `cleanup()` method on each client used.

This patch will also allow us to get rid of the overloaded `do_request()`
method that is currently used as a proxy to the client to be able to track
entities.

The change also makes the test code more explicit and easier to read.

Change-Id: Id9be832a0f255410bd955d94c32001fec500f32f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/28/801928/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/services/key_manager/json/base.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py']",4,73297b790e811c184ceb5559c2646b4c577b290c,secrets-cleanup," self.client.create_secret(name='test_create_secret') self.client.create_secret( resp = self.client.list_secrets(name='test_list_secrets') resp = self.client.list_secrets(name='test_list_secrets_2') resp = self.client.list_secrets() uuid = self.client.ref_to_uuid(sec['secret_ref']) self.client.delete_secret(uuid) uuid = self.client.ref_to_uuid(sec['secret_ref']) resp = self.client.get_secret_metadata(uuid) self.assertEqual(uuid, self.client.ref_to_uuid(resp['secret_ref'])) uuid = self.client.ref_to_uuid(sec['secret_ref']) payload = self.client.get_secret_payload(uuid) uuid = self.client.ref_to_uuid(sec['secret_ref']) self.client.put_secret_payload(uuid, key) payload = self.client.get_secret_payload(uuid) self.assertRaises(exceptions.Forbidden, self.client.create_secret) self.assertRaises( exceptions.Forbidden, self.client.create_secret, self.assertRaises( exceptions.Forbidden, self.client.list_secrets, self.assertRaises( exceptions.Forbidden, self.client.list_secrets, self.assertRaises(exceptions.Forbidden, self.client.list_secrets) self.assertRaises( exceptions.Forbidden, self.client.delete_secret, self.assertRaises( exceptions.Forbidden, self.client.get_secret_metadata, self.assertRaises( exceptions.Forbidden, self.client.get_secret_payload, self.assertRaises( exceptions.Forbidden, self.client.put_secret_payload,"," self.do_request('create_secret', expected_status=201, cleanup='secret', name='test_create_secret') self.do_request( 'create_secret', expected_status=201, cleanup=""secret"", resp = self.do_request('list_secrets', name='test_list_secrets') resp = self.do_request('list_secrets', name='test_list_secrets_2') resp = self.do_request('list_secrets') uuid = self.ref_to_uuid(sec['secret_ref']) self.do_request('delete_secret', secret_id=uuid) self.delete_cleanup('secret', uuid) uuid = self.ref_to_uuid(sec['secret_ref']) resp = self.do_request('get_secret_metadata', secret_id=uuid) self.assertEqual(uuid, self.ref_to_uuid(resp['secret_ref'])) uuid = self.ref_to_uuid(sec['secret_ref']) payload = self.do_request('get_secret_payload', secret_id=uuid) uuid = self.ref_to_uuid(sec['secret_ref']) self.do_request('put_secret_payload', secret_id=uuid, payload=key) payload = self.do_request('get_secret_payload', secret_id=uuid) self.do_request( 'create_secret', expected_status=exceptions.Forbidden, cleanup='secret') self.do_request( 'create_secret', expected_status=exceptions.Forbidden, cleanup=""secret"", self.do_request( 'list_secrets', expected_status=exceptions.Forbidden, self.do_request( 'list_secrets', expected_status=exceptions.Forbidden, self.do_request( 'list_secrets', expected_status=exceptions.Forbidden ) self.do_request( 'delete_secret', expected_status=exceptions.Forbidden, self.do_request( 'get_secret_metadata', expected_status=exceptions.Forbidden, self.do_request( 'get_secret_payload', expected_status=exceptions.Forbidden, self.do_request( 'put_secret_payload', expected_status=exceptions.Forbidden,",71,49
openstack%2Ftripleo-operator-ansible~master~I61643093bd62843bcf034f7154af0d197e8663fe,openstack/tripleo-operator-ansible,master,I61643093bd62843bcf034f7154af0d197e8663fe,Add tripleo_overcloud_deploy_skip_nodes_and_networks,MERGED,2021-08-18 06:47:11.000000000,2021-08-18 13:35:13.000000000,2021-08-18 13:35:13.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-18 06:47:11.000000000', 'files': ['roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/37612c527cb05328f5459f3bab50341a74cf3496', 'message': 'Add tripleo_overcloud_deploy_skip_nodes_and_networks\n\nThis parameter allows to toggle the --skip-nodes-and-networks parameter\nfor the deploy command.\n\nThis option is needed when you pre-provision nodes and networks before\nactually deploying.\n\nSee https://review.opendev.org/c/openstack/tripleo-docs/+/804893 for\nmore details.\n\nChange-Id: I61643093bd62843bcf034f7154af0d197e8663fe\n'}]",0,804954,37612c527cb05328f5459f3bab50341a74cf3496,11,6,1,28223,,,0,"Add tripleo_overcloud_deploy_skip_nodes_and_networks

This parameter allows to toggle the --skip-nodes-and-networks parameter
for the deploy command.

This option is needed when you pre-provision nodes and networks before
actually deploying.

See https://review.opendev.org/c/openstack/tripleo-docs/+/804893 for
more details.

Change-Id: I61643093bd62843bcf034f7154af0d197e8663fe
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/54/804954/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml']",4,37612c527cb05328f5459f3bab50341a74cf3496,overcloud_deploy/skip-nodes-and-networks," - name: Check parameter ""tripleo_overcloud_deploy_skip_nodes_and_networks"" include_role: name: ""tripleo_overcloud_deploy"" vars: tripleo_overcloud_deploy_stack: tripleo_overcloud_deploy_templates: tripleo_overcloud_deploy_timeout_arg: tripleo_overcloud_deploy_skip_nodes_and_networks: true - name: Assert ""tripleo_overcloud_deploy_skip_nodes_and_networks"" assert: that: - tripleo_overcloud_deploy_output == ""overcloud deploy --skip-nodes-and-networks"" ",,17,0
openstack%2Ftripleo-heat-templates~master~I6403449c458609ca4874e5485d8a3326fcc9d87e,openstack/tripleo-heat-templates,master,I6403449c458609ca4874e5485d8a3326fcc9d87e,Change tests to run on ansible-core 2.11,MERGED,2021-08-05 15:21:14.000000000,2021-08-18 13:35:10.000000000,2021-08-18 13:35:10.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-05 15:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33143f796310457b8eb86b2ec2e065c2c9714c0a', 'message': 'Change tests to run on ansible-core 2.11\n\nChange-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e\n'}, {'number': 2, 'created': '2021-08-08 09:12:53.000000000', 'files': ['test-ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bec1ffeeb847f48a09388c1da96b19abef1389b0', 'message': 'Change tests to run on ansible-core 2.11\n\nChange-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e\n'}]",0,803625,bec1ffeeb847f48a09388c1da96b19abef1389b0,21,6,2,10969,,,0,"Change tests to run on ansible-core 2.11

Change-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/803625/2 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-requirements.txt'],1,33143f796310457b8eb86b2ec2e065c2c9714c0a,2.11,ansible-core<2.12 # GPL,ansible>=2.8.6 # GPL,1,1
openstack%2Ftripleo-heat-templates~master~Ica334496bd364f7def3b0b8aa5d3be5d6c61435d,openstack/tripleo-heat-templates,master,Ica334496bd364f7def3b0b8aa5d3be5d6c61435d,DNM/DNR Test patch,ABANDONED,2021-02-03 08:00:08.000000000,2021-08-18 13:31:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-03 08:00:08.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c132e3fa71b617522de445716bf8e7e83a79b855', 'message': 'DNM/DNR Test patch\n\nDepends-On: I66d663971f087d019139b033c032a8e05f71a57a\nChange-Id: Ica334496bd364f7def3b0b8aa5d3be5d6c61435d\n'}]",0,773846,c132e3fa71b617522de445716bf8e7e83a79b855,13,2,1,20172,,,0,"DNM/DNR Test patch

Depends-On: I66d663971f087d019139b033c032a8e05f71a57a
Change-Id: Ica334496bd364f7def3b0b8aa5d3be5d6c61435d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/773846/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,c132e3fa71b617522de445716bf8e7e83a79b855,test-ovn-patch, OpenStack containerized Ovn Controller agent. 123test, OpenStack containerized Ovn Controller agent.,1,1
openstack%2Fpuppet-openstack-integration~master~Icbfd3e436aa91d8cf7edccbb716844b6b39a0362,openstack/puppet-openstack-integration,master,Icbfd3e436aa91d8cf7edccbb716844b6b39a0362,Bump Puppet 7 version to 7.8,MERGED,2021-08-11 14:34:17.000000000,2021-08-18 13:30:58.000000000,2021-08-18 13:30:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 14:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/249649e9b51b5c8bb48fef372abbd7952b13381e', 'message': 'Bump Puppet 7 version to 7.8\n\n... because 7.8 is currently available in RDO Xena testing.\n\nChange-Id: Icbfd3e436aa91d8cf7edccbb716844b6b39a0362\n'}, {'number': 2, 'created': '2021-08-11 14:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/40341145c97a1696002ee034e2b45746783b46d7', 'message': 'Bump Puppet 7 version to 7.8\n\n... because 7.8 is currently available in RDO Xena testing.\n\nChange-Id: Icbfd3e436aa91d8cf7edccbb716844b6b39a0362\n'}, {'number': 3, 'created': '2021-08-11 14:38:20.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/litmus.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/df35864382721e30a8dc12700f9c7452097c0069', 'message': 'Bump Puppet 7 version to 7.8\n\n... because 7.8 is currently available in RDO Xena testing.\n\nChange-Id: Icbfd3e436aa91d8cf7edccbb716844b6b39a0362\n'}]",24,804250,df35864382721e30a8dc12700f9c7452097c0069,11,3,3,9816,,,0,"Bump Puppet 7 version to 7.8

... because 7.8 is currently available in RDO Xena testing.

Change-Id: Icbfd3e436aa91d8cf7edccbb716844b6b39a0362
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/50/804250/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/litmus.yaml', 'zuul.d/layout.yaml']",2,249649e9b51b5c8bb48fef372abbd7952b13381e,, - puppet-openstack-libraries-puppet-unit-7.8-centos-8-stream - puppet-openstack-libraries-puppet-unit-7.8-ubuntu-focal - puppet-openstack-libraries-litmus-7.8-centos-8-stream - puppet-openstack-libraries-litmus-7.8-ubuntu-focal - puppet-openstack-libraries-puppet-unit-7.8-centos-8-stream - puppet-openstack-libraries-litmus-7.8-centos-8-stream, - puppet-openstack-libraries-puppet-unit-7.5-centos-8-stream - puppet-openstack-libraries-puppet-unit-7.5-ubuntu-focal - puppet-openstack-libraries-litmus-7.5-centos-8-stream - puppet-openstack-libraries-litmus-7.5-ubuntu-focal - puppet-openstack-libraries-puppet-unit-7.5-centos-8-stream - puppet-openstack-libraries-litmus-7.5-centos-8-stream,17,17
openstack%2Fpuppet-openstack-integration~master~I8af191ce951efa82d00df77013ef8fce321369d1,openstack/puppet-openstack-integration,master,I8af191ce951efa82d00df77013ef8fce321369d1,Run CentOS jobs with Puppet 7 only,MERGED,2021-08-11 14:34:17.000000000,2021-08-18 13:30:56.000000000,2021-08-18 13:30:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 14:34:17.000000000', 'files': ['zuul.d/litmus.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d45f560d8ed1125f3b81b4afdb71114117c94667', 'message': ""Run CentOS jobs with Puppet 7 only\n\nThe jobs with Puppet 7 has been stable and looks ready. Since Puppet 7\nis already available since RDO wallaby let's use Puppet 7 as main\nruntime in CentOS jobs.\n\nChange-Id: I8af191ce951efa82d00df77013ef8fce321369d1\n""}]",0,804249,d45f560d8ed1125f3b81b4afdb71114117c94667,9,3,1,9816,,,0,"Run CentOS jobs with Puppet 7 only

The jobs with Puppet 7 has been stable and looks ready. Since Puppet 7
is already available since RDO wallaby let's use Puppet 7 as main
runtime in CentOS jobs.

Change-Id: I8af191ce951efa82d00df77013ef8fce321369d1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/49/804249/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/litmus.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml']",3,d45f560d8ed1125f3b81b4afdb71114117c94667,, - puppet-openstack-libraries-puppet-unit-7.5-centos-8-stream - puppet-openstack-libraries-litmus-7.5-centos-8-stream - puppet-openstack-integration-7-scenario001-tempest-centos-8-stream - puppet-openstack-integration-7-scenario002-tempest-centos-8-stream - puppet-openstack-integration-7-scenario003-tempest-centos-8-stream - puppet-openstack-integration-7-scenario004-tempest-centos-8-stream - puppet-openstack-integration-7-scenario001-tempest-centos-8-stream - puppet-openstack-integration-7-scenario002-tempest-centos-8-stream - puppet-openstack-integration-7-scenario003-tempest-centos-8-stream - puppet-openstack-integration-7-scenario004-tempest-centos-8-stream, - puppet-openstack-libraries-puppet-unit-6.21-centos-8-stream - puppet-openstack-libraries-litmus-6.21-centos-8-stream - puppet-openstack-libraries-puppet-unit-6.21-centos-8-stream - puppet-openstack-libraries-litmus-6.21-centos-8-stream - puppet-openstack-integration-6-scenario000-tempest-centos-8-stream - puppet-openstack-integration-6-scenario001-tempest-centos-8-stream - puppet-openstack-integration-6-scenario002-tempest-centos-8-stream - puppet-openstack-integration-6-scenario003-tempest-centos-8-stream - puppet-openstack-integration-6-scenario004-tempest-centos-8-stream - puppet-openstack-integration-6-scenario001-tempest-centos-8-stream - puppet-openstack-integration-6-scenario002-tempest-centos-8-stream - puppet-openstack-integration-6-scenario003-tempest-centos-8-stream - puppet-openstack-integration-6-scenario004-tempest-centos-8-stream - puppet-openstack-integration-6-scenario001-tempest-centos-8-stream - puppet-openstack-integration-6-scenario001-tempest-centos-8-stream - puppet-openstack-integration-6-scenario002-tempest-centos-8-stream - puppet-openstack-integration-6-scenario002-tempest-centos-8-stream - puppet-openstack-integration-6-scenario003-tempest-centos-8-stream - puppet-openstack-integration-6-scenario003-tempest-centos-8-stream - puppet-openstack-integration-6-scenario004-tempest-centos-8-stream - puppet-openstack-integration-6-scenario004-tempest-centos-8-stream,11,64
openstack%2Fpuppet-openstack-integration~master~I7742120758057b5a00f1d093f355fda3791f4e02,openstack/puppet-openstack-integration,master,I7742120758057b5a00f1d093f355fda3791f4e02,Ubuntu: Use utf8mb3 charset in MySQL,MERGED,2021-08-12 08:49:28.000000000,2021-08-18 13:30:55.000000000,2021-08-18 13:30:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 08:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d2e1a252897d4d633f90819bf96575e208198303', 'message': 'Ubuntu: Enforce utf8mb3 charset in MySQL\n\nWe are observing the failure in Ubuntu integration job caused by\nbroken idempotency. It seems current mysql/mariadb in Ubuntu replaces\nutf8 with uft8mb3 automatically and this behavior results in unexpected\nchange in second run.\nThis change ensures that we use utf8mb3 in Ubuntu to avoid such\nmismatch caused by internal translation.\n\nCloses-Bug: #1929073\nChange-Id: I7742120758057b5a00f1d093f355fda3791f4e02\n'}, {'number': 2, 'created': '2021-08-12 08:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3dc726130ab773327f31b61db86efa14ba984517', 'message': 'Ubuntu: Use utf8mb3 charset in MySQL\n\nWe are observing the failure in Ubuntu integration job caused by\nbroken idempotency. It seems current mysql/mariadb in Ubuntu replaces\nutf8 with uft8mb3 automatically and this behavior results in unexpected\nchange in second run.\n\nThis change ensures that we use utf8mb3 in Ubuntu to avoid such\nmismatch caused by internal translation. Note this change is intended\nto be a quick gate fix and the charset would be updated to utf8mb4\nlater.\n\nCloses-Bug: #1929073\nChange-Id: I7742120758057b5a00f1d093f355fda3791f4e02\n'}, {'number': 3, 'created': '2021-08-12 10:29:08.000000000', 'files': ['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/085d3569021441810c1dff7c8f4396003c690805', 'message': 'Ubuntu: Use utf8mb3 charset in MySQL\n\nWe are observing the failure in Ubuntu integration job caused by\nbroken idempotency. It seems current mysql/mariadb in Ubuntu replaces\nutf8 with uft8mb3 automatically and this behavior results in unexpected\nchange in second run.\n\nThis change ensures that we use utf8mb3 in Ubuntu to avoid such\nmismatch caused by internal translation. Note this change is intended\nto be a quick gate fix and the charset would be updated to utf8mb4\nlater.\n\nCloses-Bug: #1929073\nChange-Id: I7742120758057b5a00f1d093f355fda3791f4e02\n'}]",0,804365,085d3569021441810c1dff7c8f4396003c690805,11,3,3,9816,,,0,"Ubuntu: Use utf8mb3 charset in MySQL

We are observing the failure in Ubuntu integration job caused by
broken idempotency. It seems current mysql/mariadb in Ubuntu replaces
utf8 with uft8mb3 automatically and this behavior results in unexpected
change in second run.

This change ensures that we use utf8mb3 in Ubuntu to avoid such
mismatch caused by internal translation. Note this change is intended
to be a quick gate fix and the charset would be updated to utf8mb4
later.

Closes-Bug: #1929073
Change-Id: I7742120758057b5a00f1d093f355fda3791f4e02
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/65/804365/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/params.pp']",22,d2e1a252897d4d633f90819bf96575e208198303,bug/1929073, $mysql_charset = 'utf8' if $::operatingsystem == 'Debian' { $mysql_charset = 'utf8' } else { # TODO(tkajinam): This is to fix the gate quickly. We should revisit # this later. utf8mb4 would be the preferred option $mysql_charset = 'utf8mb3' },,31,0
openstack%2Fpuppet-ovn~master~I66d663971f087d019139b033c032a8e05f71a57a,openstack/puppet-ovn,master,I66d663971f087d019139b033c032a8e05f71a57a,Support multiple ovn bridge mappings with the same nic,ABANDONED,2021-02-02 15:47:23.000000000,2021-08-18 13:20:44.000000000,,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-02 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/d914b8b633446348e5c60b058245eb11e13adf14', 'message': 'WIP Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in with NeutronBridgeMappings: [""provider1:br-ex"",\n""provider2:br-ex""] puppet will fail with duplicate declaration errors\naround the exec because it is using only the nic \'br-ex\' as the resource\nname. We fix this by passing both the network and the bridge to the\nname. The command is idempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nWIP: as I need to test it in a couple more scenarios\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}, {'number': 2, 'created': '2021-02-02 19:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/4d205c924e5958ca8462b9dc9d400170420b0265', 'message': 'Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the\npuppet ovn::controller::ovn_bridge_mappings hiera parameter, it\nwill fail with duplicate declaration errors around the exec because it\nis using only the nic \'br-ex\' as the resource name. We fix this by\npassing both the network and the bridge to the name. The command is\nidempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nTested this as follows:\n1) Deployed a train env with this patch with a composable control plane\n with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:\n\n[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",\n\n2) Deployed a master env with this patch with\n[""provider1:br-ex"", ""provider2:br-ex""] and obtained:\n\n[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",\n\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}, {'number': 3, 'created': '2021-02-03 07:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ab5516e3082f0508f05e2352b53127fcb34a462a', 'message': 'Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the\npuppet ovn::controller::ovn_bridge_mappings hiera parameter, it\nwill fail with duplicate declaration errors around the exec because it\nis using only the nic \'br-ex\' as the resource name. We fix this by\npassing both the network and the bridge to the name. The command is\nidempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nTested this as follows:\n1) Deployed a train env with this patch with a composable control plane\n with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:\n\n[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",\n\n2) Deployed a master env with this patch with\n[""provider1:br-ex"", ""provider2:br-ex""] and obtained:\n\n[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",\n\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}, {'number': 4, 'created': '2021-02-03 11:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/bf05a001cc86c70c8b47455540d5a881c687d34f', 'message': 'Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the\npuppet ovn::controller::ovn_bridge_mappings hiera parameter, it\nwill fail with duplicate declaration errors around the exec because it\nis using only the nic \'br-ex\' as the resource name. We fix this by\npassing both the network and the bridge to the name. The command is\nidempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nTested this as follows:\n1) Deployed a train env with this patch with a composable control plane\n with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:\n\n[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",\n\n2) Deployed a master env with this patch with\n[""provider1:br-ex"", ""provider2:br-ex""] and obtained:\n\n[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",\n\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}, {'number': 5, 'created': '2021-02-03 12:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/9ae588ef69b2b77da704aeef8d4d5c9ddb760905', 'message': 'Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the\npuppet ovn::controller::ovn_bridge_mappings hiera parameter, it\nwill fail with duplicate declaration errors around the exec because it\nis using only the nic \'br-ex\' as the resource name. We fix this by\npassing both the network and the bridge to the name. The command is\nidempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nTested this as follows:\n1) Deployed a train env with this patch with a composable control plane\n with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:\n\n[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",\n\n2) Deployed a master env with this patch with\n[""provider1:br-ex"", ""provider2:br-ex""] and obtained:\n\n[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",\n\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}, {'number': 6, 'created': '2021-02-15 08:41:16.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'manifests/controller/bridge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/1388d9eae38333bfdf998f2aa14be13f237705ad', 'message': 'Support multiple ovn bridge mappings with the same nic\n\nCurrently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the\npuppet ovn::controller::ovn_bridge_mappings hiera parameter, it\nwill fail with duplicate declaration errors around the exec because it\nis using only the nic \'br-ex\' as the resource name. We fix this by\npassing both the network and the bridge to the name. The command is\nidempotent so no harm is done.\n\nThe other place is the ovn::controller::bridge define which will complain\nabout duplicate declarations. We fix this by just passing the bridge\nname directly to the ovn::controller::bridge define and we use\nensure_resource() when creating those definitions to avoid duplicates\n\nTested this as follows:\n1) Deployed a train env with this patch with a composable control plane\n with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:\n\n[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",\n\n2) Deployed a master env with this patch with\n[""provider1:br-ex"", ""provider2:br-ex""] and obtained:\n\n[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e \'ovn-bridge-mappings=.*?, \'\novn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",\n\nChange-Id: I66d663971f087d019139b033c032a8e05f71a57a\n'}]",4,773713,1388d9eae38333bfdf998f2aa14be13f237705ad,27,8,6,20172,,,0,"Support multiple ovn bridge mappings with the same nic

Currently if you pass in [""provider1:br-ex"", ""provider2:br-ex""] via the
puppet ovn::controller::ovn_bridge_mappings hiera parameter, it
will fail with duplicate declaration errors around the exec because it
is using only the nic 'br-ex' as the resource name. We fix this by
passing both the network and the bridge to the name. The command is
idempotent so no harm is done.

The other place is the ovn::controller::bridge define which will complain
about duplicate declarations. We fix this by just passing the bridge
name directly to the ovn::controller::bridge define and we use
ensure_resource() when creating those definitions to avoid duplicates

Tested this as follows:
1) Deployed a train env with this patch with a composable control plane
 with [""datacentre:br-ex"", ""tenant:br-isolated""] and obtained:

[root@controller-0 ~]# ovs-vsctl list open . |grep -o -P -e 'ovn-bridge-mappings=.*?, '
ovn-bridge-mappings=""datacentre:br-ex,tenant:br-isolated"",

2) Deployed a master env with this patch with
[""provider1:br-ex"", ""provider2:br-ex""] and obtained:

[root@ctrl-1-0 ~]# ovs-vsctl list open . |grep -o -P -e 'ovn-bridge-mappings=.*?, '
ovn-bridge-mappings=""provider1:br-ex,provider2:br-ex"",

Change-Id: I66d663971f087d019139b033c032a8e05f71a57a
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/13/773713/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/controller.pp', 'manifests/controller/bridge.pp']",2,d914b8b633446348e5c60b058245eb11e13adf14,fix-multiple-brex,"# $name is OVN bridge-name. So if the mapping is in the format # network-name:bridge-name, we need to pass 'bridge-name' only $bridge = $name","# $name is OVN bridge mapping in the format network-name:bridge-name $map_split = split($name, ':') $bridge = $map_split[1]",13,4
openstack%2Fopenstack-ansible-galera_server~master~Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,openstack/openstack-ansible-galera_server,master,Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,"Partial Revert ""Bump MariaDB version to 10.5.9""",MERGED,2021-08-11 17:54:28.000000000,2021-08-18 13:17:41.000000000,2021-08-18 13:16:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-11 17:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8149ab3701aeec2fc7b71cbe3aa2d0d8ed5197dc', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 use to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}, {'number': 2, 'created': '2021-08-11 17:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3a5100795bb827190c4ab584129f9ea4a3ee6134', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}, {'number': 3, 'created': '2021-08-11 19:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/38504c44d70399252b6e4734d3973f5f31b29017', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}, {'number': 4, 'created': '2021-08-12 04:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/444e50fe6a1c9164153f2b87e5e7e908a3b2705c', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}, {'number': 5, 'created': '2021-08-12 07:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/29d162384b965d4031c5c2907eb8c0c5be1d6b3b', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}, {'number': 6, 'created': '2021-08-12 09:58:24.000000000', 'files': ['handlers/main.yml', 'handlers/galera_upgrade_hook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/f240cc916f2104ea6836437672e347a95b8014ab', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n'}]",1,804289,f240cc916f2104ea6836437672e347a95b8014ab,22,3,6,25023,,,0,"Partial Revert ""Bump MariaDB version to 10.5.9""

This revert removes the workarounds needed for 10.5.9 due to
root user losing ability to grant privs.

This reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.

Change-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/89/804289/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'handlers/main.yml', 'defaults/main.yml', 'handlers/galera_upgrade_hook.yml']",4,8149ab3701aeec2fc7b71cbe3aa2d0d8ed5197dc,,,"--- # Copyright 2021, City Network International AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Start mysql_safe instance command: mariadbd-safe --skip-grant-tables --skip-networking async: 300 poll: 0 - name: Get current root permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: select Priv from mysql.global_priv where User = 'root' and Host = 'localhost' retries: 10 delay: 2 register: maria_root_priv until: maria_root_priv is success - name: Fixing root access permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: UPDATE mysql.global_priv SET Priv = %(priv)s where User = 'root' and Host = 'localhost' named_args: priv: ""{{ maria_root_priv['query_result'][0][0]['Priv'] | replace('274877906943', '549755813887') | string }}"" when: ""'549755813887' not in maria_root_priv['query_result'][0][0]['Priv']"" - name: Stop mysql_safe command: mysql -e shutdown ",1,56
openstack%2Ftripleo-heat-templates~master~I7f3e6b48376dd773ac039191d8a194d5cff54060,openstack/tripleo-heat-templates,master,I7f3e6b48376dd773ac039191d8a194d5cff54060,Use throttle mechanism for frr container start,ABANDONED,2021-04-23 12:35:36.000000000,2021-08-18 13:15:58.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 12:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e2d1c2d8350cce8910eb8aa05ac35a161fbd23c', 'message': 'WIP DNR/DNM Try throttle mechanism for frr container start\n\nChange-Id: I7f3e6b48376dd773ac039191d8a194d5cff54060\n'}, {'number': 2, 'created': '2021-08-02 07:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3909d78d2186abf7036df6faf07666c4fd5ecc2e', 'message': 'WIP DNR/DNM Try throttle mechanism for frr container start\n\nChange-Id: I7f3e6b48376dd773ac039191d8a194d5cff54060\n'}, {'number': 3, 'created': '2021-08-18 09:01:28.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8dad3c336b98ec8c4d286927cd0c7e372050f94', 'message': 'Use throttle mechanism for frr container start\n\nWhen configuring frr across the overcloud we want to enforce\na throttle of one so that frr is configured serially across the\novercloud. Explanation and testing is contained in the Depends-On\nreview.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/787723\n\nChange-Id: I7f3e6b48376dd773ac039191d8a194d5cff54060\n'}]",1,787724,d8dad3c336b98ec8c4d286927cd0c7e372050f94,13,4,3,20172,,,0,"Use throttle mechanism for frr container start

When configuring frr across the overcloud we want to enforce
a throttle of one so that frr is configured serially across the
overcloud. Explanation and testing is contained in the Depends-On
review.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/787723

Change-Id: I7f3e6b48376dd773ac039191d8a194d5cff54060
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/787724/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,3e2d1c2d8350cce8910eb8aa05ac35a161fbd23c,test, tripleo_container_manage_throttle: 1,,1,0
openstack%2Ftripleo-ansible~master~Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a,openstack/tripleo-ansible,master,Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a,Introduce throttle mechanism for tripleo_container_manage,ABANDONED,2021-04-23 12:34:05.000000000,2021-08-18 13:15:46.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 12:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a335636e5a13779d89f6a75c27977e5969774dd', 'message': 'WIP DNR/DNM Introduct throttle mechanism for container start\n\nChange-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a\n'}, {'number': 2, 'created': '2021-08-02 07:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65473b6c86a1c3d249598f5f1e043a3933b7b8c3', 'message': 'WIP DNR/DNM Introduct throttle mechanism for container start\n\nChange-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a\n'}, {'number': 3, 'created': '2021-08-02 15:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0607a2089c89082241d3683ad1a223485c988fab', 'message': 'WIP DNR/DNM Introduct throttle mechanism for container start\n\nChange-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a\n'}, {'number': 4, 'created': '2021-08-06 16:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcc95cf83e50d1ba9dc1beda89045fcee375599a', 'message': 'WIP DNR/DNM Introduct throttle mechanism for container start\n\nChange-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a\n'}, {'number': 5, 'created': '2021-08-18 08:59:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14cb4c7215fc396d9163788b4044bd0fa7050fe0', 'message': 'Introduce throttle mechanism for tripleo_container_manage\n\nThe use case here comes from BGP, but can apply to other services\nas well:\nIf an operator does a change to the frr.conf and launches a redeploy\nto push those changes out to the overcloud, we do *not* want\nthat they are applied everywhere at the same time as that would\nvery likely create a full network partition (especially if\nFRR is buggy and its graceful restart misbehaves).\n\nSo we introduce a throttle parameter for the tripleo_container_manage\nrole which is set to 0 (aka no throttle) by default.\n\nTested this by using it in frr and observed that the container\nstart task (and the others) was done serially across the overcloud:\n---\n- hosts: overcloud\n  become: true\n  tasks:\n  - name: Start FRR\n    include_role:\n      name: tripleo_container_manage\n    vars:\n      tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0""\n      tripleo_container_manage_config_id: ""frr""\n      tripleo_container_manage_config_patterns: ""frr.json""\n      tripleo_container_manage_clean_orphans: false\n      tripleo_container_manage_throttle: 1\n\nWith    throttle: real    0m35.262s\nWithout throttle: real    0m24.582s\n\nChange-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a\n'}]",1,787723,14cb4c7215fc396d9163788b4044bd0fa7050fe0,24,4,5,20172,,,0,"Introduce throttle mechanism for tripleo_container_manage

The use case here comes from BGP, but can apply to other services
as well:
If an operator does a change to the frr.conf and launches a redeploy
to push those changes out to the overcloud, we do *not* want
that they are applied everywhere at the same time as that would
very likely create a full network partition (especially if
FRR is buggy and its graceful restart misbehaves).

So we introduce a throttle parameter for the tripleo_container_manage
role which is set to 0 (aka no throttle) by default.

Tested this by using it in frr and observed that the container
start task (and the others) was done serially across the overcloud:
---
- hosts: overcloud
  become: true
  tasks:
  - name: Start FRR
    include_role:
      name: tripleo_container_manage
    vars:
      tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0""
      tripleo_container_manage_config_id: ""frr""
      tripleo_container_manage_config_patterns: ""frr.json""
      tripleo_container_manage_clean_orphans: false
      tripleo_container_manage_throttle: 1

With    throttle: real    0m35.262s
Without throttle: real    0m24.582s

Change-Id: Ic17ffcf5f9f2f4444a277f2ef9a1c8522436075a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/787723/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml']",2,3a335636e5a13779d89f6a75c27977e5969774dd,test,"# Allow to throttle the container_manage Async container create/run task across nodes # if needed. Defaults to ""do not throttle"" tripleo_container_manage_throttle: 0",,4,0
openstack%2Felection~master~I53c91c3254f1bbc997e1cc60142787f93adfb7db,openstack/election,master,I53c91c3254f1bbc997e1cc60142787f93adfb7db,Brin Zhang candidacy for Cyborg PTL (Yoga),MERGED,2021-08-18 00:15:50.000000000,2021-08-18 13:13:25.000000000,2021-08-18 13:10:37.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 30491}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-18 00:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/2a4c42607944c4092e2daf8e2a996a0ef43dad39', 'message': 'Brin Zhang candidacy for Cyborg PTL (Yoga)\n\nChange-Id: I53c91c3254f1bbc997e1cc60142787f93adfb7db\n'}, {'number': 2, 'created': '2021-08-18 00:16:36.000000000', 'files': ['candidates/yoga/Cyborg/zhangbailin@inspur.com'], 'web_link': 'https://opendev.org/openstack/election/commit/93ceaedb5467fee79ae10e01fb9012d4bfdbb3d5', 'message': 'Brin Zhang candidacy for Cyborg PTL (Yoga)\n\nChange-Id: I53c91c3254f1bbc997e1cc60142787f93adfb7db\n'}]",0,804930,93ceaedb5467fee79ae10e01fb9012d4bfdbb3d5,12,9,2,26458,,,0,"Brin Zhang candidacy for Cyborg PTL (Yoga)

Change-Id: I53c91c3254f1bbc997e1cc60142787f93adfb7db
",git fetch https://review.opendev.org/openstack/election refs/changes/30/804930/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Cyborg/zhangbailin@inspur.com'],1,2a4c42607944c4092e2daf8e2a996a0ef43dad39,,"I would like to serve as the Cyborg PTL in the Yoga cycle. I was going to attempt to enumerate some sort of grand vision for Cyborg and our priorities for the next cycle. As I thought about it, though, I realized these remain largely the same as they always have been: provide a reliable, scalable, and efficient hardware-accelerated device management platform. In the past, we have added support for GPU, FPGA, NVMe SSD, and will add support for AEP, SPDK and other devices in the future. In order to increase the ability to interact with the VM, we completed the feature of nova-cyborg interaction in Ussuri release. The exact details of how we do that may vary somewhat from cycle to cycle, and I was completed the support of nova rebuild/evacuate server and shelve/unshelve in the last two releases, which greatly improved the convenience of user operations. The log management project (Venus) team and I have completed the integration of Venus to Cyborg. We can use Venus to quickly retrieve Cyborg logs, shorten the problem location time, etc., so as to improve the efficiency of the Cyborg project. In the future, I will have in-depth exchanges with the Venus development team to continue to enhance this feature. I'll do what I can to help, both directly (by improving Cyborg) and indirectly (by, for example, fixing broken gate jobs and flaky tests). Thanks & Best Regards, Brin Zhang (brinzhang) ",,26,0
openstack%2Felection~master~Ic533f11f1b947e6a56f3f658cb9b7dd15797943b,openstack/election,master,Ic533f11f1b947e6a56f3f658cb9b7dd15797943b,Adding Sylvain Bauza candidacy for Nova Yoga PTL,MERGED,2021-08-18 06:32:37.000000000,2021-08-18 13:12:16.000000000,2021-08-18 13:10:36.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 06:32:37.000000000', 'files': ['candidates/yoga/Nova/sbauza@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/9ea4d530380dd764691fa85391269e3574e67270', 'message': 'Adding Sylvain Bauza candidacy for Nova Yoga PTL\n\nChange-Id: Ic533f11f1b947e6a56f3f658cb9b7dd15797943b\n'}]",0,804949,9ea4d530380dd764691fa85391269e3574e67270,8,3,1,7166,,,0,"Adding Sylvain Bauza candidacy for Nova Yoga PTL

Change-Id: Ic533f11f1b947e6a56f3f658cb9b7dd15797943b
",git fetch https://review.opendev.org/openstack/election refs/changes/49/804949/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Nova/sbauza@redhat.com'],1,9ea4d530380dd764691fa85391269e3574e67270,bauzas_nova_ptl_yoga,"Hello Nova (and Placement) fellows, That's been some time I started to work on OpenStack and Nova in particular (I leave you guessing it [1]) but I feel this is time for me to run for the Nova PTL election and ask you to accept me for this hot seat (which is not a Yoga mat). First and foremost, I'd like to thank gibi for the hard work he did on the previous cycles, especially during this (hopefully) transient situation we currently face which challenges us in terms of teamwork. Running our team gatherings virtually twice is awfully exhausting and I also thank you all for supporting this situation. Hopefully our next PTG will be the last virtual one but who knows. I personally feel Nova now entered a period of quiet but productive pace. We accepted a solid amount of blueprints over the past cycles but we also delivered a decent ratio of them. That said, many challenges occur as of now which as a PTL I have the intention to continue to stress on and engage discussions between us how to solve them : - CI stability : We recently faced a couple of bugs that prevented us to merge code and I have the feeling that some of them are intertwined. I'd like us to identify all the stressing bits so we could prioritize any kind of tech debt fix that would help to gain better stability and not treat them as just standard bugs that we only look after our feature delivery duties. - Upgrades : I'm very happy to say we solved the long-running problem of version-to-next upgrades which are now painless. We have a couple of tools for helping operators to gain confidence before upgrades and we also have CI jobs that prove their stability. That said, I personally feel we now have another dimension of upgrades we barely scratched to define and I would like us to think about them. Placement reshapes and fast-forward-upgrades are for example two new features that Nova supports but I'd like us to take a second and identify all the improvements we could make for those (and prioritize efforts accordingly) - Contributors diversity : I don't think there is any surprise if I say that our Nova community is smaller than before. I don't think it's a problem and as I already said, we're productive. No, the concern that I have is that I'd love to have a way to help contributors that are maybe not having time to develop on Nova as a primary day-to-day job. We started to discuss on ways to define review priorities and I would like to pursue this direction by wondering what and how we could do for those contributors. Either way, I truly respect the ideal of Open Design. Whatever Nova becomes or evolves in the future, every single contributor is part of it and my role will be to make sure we have a consensus. Thanks, -Sylvain [1] 0x7DD ",,53,0
openstack%2Fpython-tripleoclient~master~I386314b051b3a5e5dff1fb81c5d5a13f63bba909,openstack/python-tripleoclient,master,I386314b051b3a5e5dff1fb81c5d5a13f63bba909,add py39 tox to python-tripleoclient,ABANDONED,2021-08-17 17:01:08.000000000,2021-08-18 13:12:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-17 17:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a062e732873f355d79a198bac116edb1f3fe1f9', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 2, 'created': '2021-08-17 17:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2686c22c7266d558ccfaf6bdbed07facb3de8802', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 3, 'created': '2021-08-17 17:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c05965b88e64e54fd12b0601dcb305d976b4ae0', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 4, 'created': '2021-08-17 17:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9bf68c32ea485c4bb745e4720d30669cae70de0', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 5, 'created': '2021-08-17 17:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/20fb9a7c060634e47b4da0ec05a18d1471c5bf23', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 6, 'created': '2021-08-17 17:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6834b374475d244e247f401683f948efe72f2130', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 7, 'created': '2021-08-17 17:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7dcd1aa523107aa62f5880999f2ca55b534eefe4', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 8, 'created': '2021-08-17 18:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee6253c9b5a501c101f6aa193b8f103123ee6707', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 9, 'created': '2021-08-18 02:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5a976827091601e0264c8cba971584913f637303', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662\n\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}, {'number': 10, 'created': '2021-08-18 02:13:01.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8fe33d91af63ba3d47ed178cbb1bdc9629562a6a', 'message': ""add py39 tox to python-tripleoclient\n\nlet's give it a whirl\nhttps://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662\n\nRelated-Bug: #1940313\nChange-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909\n""}]",2,804897,8fe33d91af63ba3d47ed178cbb1bdc9629562a6a,33,6,10,9592,,,0,"add py39 tox to python-tripleoclient

let's give it a whirl
https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L662

Related-Bug: #1940313
Change-Id: I386314b051b3a5e5dff1fb81c5d5a13f63bba909
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/804897/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,4a062e732873f355d79a198bac116edb1f3fe1f9,,"envlist = pep8,py37,py39","envlist = pep8,py37",2,1
openstack%2Fcinder~master~I5a2914d77b85e4249774f6e366b93d8b997ea50f,openstack/cinder,master,I5a2914d77b85e4249774f6e366b93d8b997ea50f,[SVF]:Fix create volume on drp,MERGED,2021-04-20 06:51:21.000000000,2021-08-18 13:11:59.000000000,2021-08-17 19:40:55.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 06:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff402df67948eee78c48e1f221540fa491b42f0f', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes the issue by reading the data reduction\npool details correctly during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}, {'number': 2, 'created': '2021-08-03 17:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/942cd7b733d19172d0e53e5cfb460fb156b93456', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes the issue by reading the data reduction\npool details correctly during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}, {'number': 3, 'created': '2021-08-11 10:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6e6936c137aebaf50a621a59af27cfec9296cc6', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes a bug caused by a case sensitive string\ncomparison that caused the code to incorrectly identify\nwhether DRP was enabled in a pool during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}, {'number': 4, 'created': '2021-08-11 13:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08a695e02a70b347ef32a0c8fff1a92825896aff', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes a bug caused by a case sensitive string\ncomparison that caused the code to incorrectly identify\nwhether DRP was enabled in a pool during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}, {'number': 5, 'created': '2021-08-16 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e34a22e581084bcad82f5b6e521b46358ebc0fcd', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes a bug caused by a case sensitive string\ncomparison that caused the code to incorrectly identify\nwhether DRP was enabled in a pool during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}, {'number': 6, 'created': '2021-08-17 15:37:36.000000000', 'files': ['releasenotes/notes/bug-1924568-ibm-svf-fix_drp_vol_create_issue-d1b75c4befb0e993.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/70a07ee7a2fda6c129903a21431fa2d499f4160d', 'message': '[SVF]:Fix create volume on drp\n\n[Spectrum Virtualize Family] While creating volumes on\ndata reduction pool, incorrect options were picked.\n\nThis patch fixes a bug caused by a case sensitive string\ncomparison that caused the code to incorrectly identify\nwhether DRP was enabled in a pool during intialization.\n\nCloses-Bug: #1924568\nChange-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f\n'}]",11,787115,70a07ee7a2fda6c129903a21431fa2d499f4160d,197,4,6,32036,,,0,"[SVF]:Fix create volume on drp

[Spectrum Virtualize Family] While creating volumes on
data reduction pool, incorrect options were picked.

This patch fixes a bug caused by a case sensitive string
comparison that caused the code to incorrectly identify
whether DRP was enabled in a pool during intialization.

Closes-Bug: #1924568
Change-Id: I5a2914d77b85e4249774f6e366b93d8b997ea50f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/787115/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,ff402df67948eee78c48e1f221540fa491b42f0f,bug/1924568, if pool_data.get('data_reduction').lower() == 'yes': elif pool_data.get('data_reduction').lower() == 'no':, if pool_data.get('data_reduction') == 'Yes': elif pool_data.get('data_reduction') == 'No':,2,2
openstack%2Felection~master~I5ad6dbfe82df98a4414bfe58705bd8233a5e5839,openstack/election,master,I5ad6dbfe82df98a4414bfe58705bd8233a5e5839,Adding Lajos Katona candidacy for Neutron Yoga PTL,MERGED,2021-08-18 08:51:46.000000000,2021-08-18 13:09:16.000000000,2021-08-18 13:07:39.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 08:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/5538c0243a84a0c31343a5dc43a667a0fea6a45b', 'message': 'Adding Lajos Katona candidacy for Neutron Yoga PTL\n\nChange-Id: I5ad6dbfe82df98a4414bfe58705bd8233a5e5839\n'}, {'number': 2, 'created': '2021-08-18 09:44:15.000000000', 'files': ['candidates/yoga/Neutron/katonalala@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/eeae2ca0c396b2bc17c18d0fbc22fc1386e3f129', 'message': 'Adding Lajos Katona candidacy for Neutron Yoga PTL\n\nChange-Id: I5ad6dbfe82df98a4414bfe58705bd8233a5e5839\n'}]",0,804967,eeae2ca0c396b2bc17c18d0fbc22fc1386e3f129,10,3,2,8313,,,0,"Adding Lajos Katona candidacy for Neutron Yoga PTL

Change-Id: I5ad6dbfe82df98a4414bfe58705bd8233a5e5839
",git fetch https://review.opendev.org/openstack/election refs/changes/67/804967/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Neutron/katonalala@gmail.com'],1,5538c0243a84a0c31343a5dc43a667a0fea6a45b,yoga-ptl-candidates,"Hello Openstack Community,i I write to submit my candidacy for the Neutron PTL position during the Yoga cycle. I have worked with Openstack since Grizzly in downstream projects, and as a fulltime upstream developer from Rocky. I mostly focused on Neutron, but worked with testing, CI and even added some networking features to Horizon. I work for Ericsson, who brings in interesting TelCo needs and experiences, like trunks or bandwidth aware scheduling. In Ericsson I worked not only as developer, but as team lead and team coach, that gave me opportunity to view things from different perspectives and help teams to solve issues together. I tried to keep Neutron stadium projects alive and maintained, actively participated in Neutron meetings and in activities like the scheduled bug deputy weeks. In the last cycles the Neutron community was stable, and worked together as a real team, and was the best experience of my professional life to work with them and learn every day new things. As I see the team was able to create a kind of gravitation that encouraged developers from around the world to report their bugs, propose their fixes and new ideas to networking projects. My priorities as PTL are the following: * Keep Neutron's stadium ecosystem alive and healthy. In Xena we moved tap-as-a-service back to stadium, and there's even new features arriving to make some of them work with OVN. Continue this effort to keep Neutron as a natural API and code base for many projects. * The team has strong tradition to focus on CI with dedicated weekly meeting, eyes on jobs' results and increasing test coverage. Continue these efforts to make Neutron CI more stable and capable of giving fast and reliable feedback to developers. * In the last cycles OVN became one of Neutron's in-tree backends, and now it is used as default backend in Openstack CI. There's a continuous effort to remove the gaps between ML2/OVS and OVN (see: https://docs.openstack.org/neutron/latest/ovn/gaps.html), some of these already have owner (like QoS Minimum Bandwidth allocation with Placement, or BGP), this effort should be continued. * Neutron team is quite healthy, but I want to onboard developers from other companies to keep the influx of people and ideas. * In the last cycles the performance improvements were always on the written or unconscious TODO list of the team (like enginefacade-switch, or this cycle's efforts from Oleg and other Huawei developers). Like CI, performance improvements and monitoring should be a continuous effort. * Continue the ongoing implementation for feautres like new QoS rules (pps limit and minimum pps), and new l3 related features. Thank you for your time and consideration. Lajos Katona (lajoskatona) ",,58,0
openstack%2Felection~master~I23e3fec86e80552cf8bff93fb58adaae82411cf6,openstack/election,master,I23e3fec86e80552cf8bff93fb58adaae82411cf6,Michal Nasiadka candidacy for Kolla PTL (Yoga),MERGED,2021-08-18 09:40:05.000000000,2021-08-18 13:06:11.000000000,2021-08-18 13:02:47.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 09:40:05.000000000', 'files': ['candidates/yoga/Kolla/mnasiadka@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/0074d85311299120eddcc3b54fffb956549c3694', 'message': 'Michal Nasiadka candidacy for Kolla PTL (Yoga)\n\nChange-Id: I23e3fec86e80552cf8bff93fb58adaae82411cf6\n'}]",0,804975,0074d85311299120eddcc3b54fffb956549c3694,8,3,1,22629,,,0,"Michal Nasiadka candidacy for Kolla PTL (Yoga)

Change-Id: I23e3fec86e80552cf8bff93fb58adaae82411cf6
",git fetch https://review.opendev.org/openstack/election refs/changes/75/804975/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Kolla/mnasiadka@gmail.com'],1,0074d85311299120eddcc3b54fffb956549c3694,,"I’d like to nominate myself to serve as the Kolla PTL for Yoga cycle. I’ve been a Kolla/Kolla-Ansible user and developer since 2015/2016. Initially I started out as a user while working at IBM, and started my first small contributions in Ocata. I became a core while working in Nokia (Feb/Mar 2019) - and continued working on Kolla (and Kayobe) when I moved to StackHPC 2 years ago. I was lucky enough to change companies - but my upstream OpenStack interest remained the same. First and foremost - I’d like to thank Mark for the work he did on previous cycles, especially by bringing users together in the Kolla club, improving Kolla-Ansible’s performance and introducing Kayobe to the Kolla family. As a PTL I’d like to continue focus on: * User experience - documentation, work on eliminating user pain points, Kolla Klub-like activities * CI stability and improvements * Helping new contributors ",,15,0
openstack%2Felection~master~I95229b5b416b45a84cf99001d3002ef5fea2d37f,openstack/election,master,I95229b5b416b45a84cf99001d3002ef5fea2d37f,Add Lucian Petrut candidacy for Winstackers,MERGED,2021-08-18 10:27:49.000000000,2021-08-18 13:04:38.000000000,2021-08-18 13:02:45.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 10:27:49.000000000', 'files': ['candidates/yoga/Winstackers/lpetrut@cloudbasesolutions.com'], 'web_link': 'https://opendev.org/openstack/election/commit/710e161a8f332376c3afe91e7a5dc8d762497dad', 'message': 'Add Lucian Petrut candidacy for Winstackers\n\nChange-Id: I95229b5b416b45a84cf99001d3002ef5fea2d37f\n'}]",0,804981,710e161a8f332376c3afe91e7a5dc8d762497dad,8,3,1,8543,,,0,"Add Lucian Petrut candidacy for Winstackers

Change-Id: I95229b5b416b45a84cf99001d3002ef5fea2d37f
",git fetch https://review.opendev.org/openstack/election refs/changes/81/804981/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Winstackers/lpetrut@cloudbasesolutions.com'],1,710e161a8f332376c3afe91e7a5dc8d762497dad,,"Hi, I'd like to announce my candidacy, continuing as Winstackers PTL for the upcoming Yoga cycle. I've been working on OpenStack for quite some time now, focusing on Windows integration. I'm really happy with what we managed to achieve so far, making OpenStack a viable option for Windows deployments and vice versa, making Hyper-V a good KVM alternative, especially for Windows workloads. As with other OpenStack teams, stability has been the main focus over the past few releases and I think we managed to take big steps in this direction, especially when it comes to Microsoft Failover Cluster and S2D support. We also kept in touch with the OpenStack community, conforming to project wide goals (e.g. handling Python 3 deprecation in the early stages), fixing bugs and picking up features in a timely manner. Thank you for your consideration, Lucian Petrut ",,21,0
openstack%2Fpython-cyborgclient~master~I1e07528e9b551ff192ee707d1988a8c07bf349a0,openstack/python-cyborgclient,master,I1e07528e9b551ff192ee707d1988a8c07bf349a0,Hide the traceback when deleting a non-existent ARQ,MERGED,2021-07-23 11:07:43.000000000,2021-08-18 13:04:07.000000000,2021-08-18 13:02:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-07-23 11:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/dc47e1b965e2adbd740b772b93298490d076ce7c', 'message': ""Hide the traceback when deleting a non-existent ARQ\n\nThis patch catches the 'ResourceNotFound' exception and adds\n some unittests.\n\nCloses-Bug: #1937251\nChange-Id: I1e07528e9b551ff192ee707d1988a8c07bf349a0\n""}, {'number': 2, 'created': '2021-07-26 04:55:14.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py', 'cyborgclient/osc/v2/accelerator_request.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/9d5bdc5f170f7469f73cf6a0cea3000a2f2abea9', 'message': ""Hide the traceback when deleting a non-existent ARQ\n\nThis patch catches the 'ResourceNotFound' exception and adds\n some unittests.\n\nCloses-Bug: #1937251\nChange-Id: I1e07528e9b551ff192ee707d1988a8c07bf349a0\n""}]",2,802004,9d5bdc5f170f7469f73cf6a0cea3000a2f2abea9,13,4,2,23950,,,0,"Hide the traceback when deleting a non-existent ARQ

This patch catches the 'ResourceNotFound' exception and adds
 some unittests.

Closes-Bug: #1937251
Change-Id: I1e07528e9b551ff192ee707d1988a8c07bf349a0
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/04/802004/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py', 'cyborgclient/osc/v2/accelerator_request.py']",2,dc47e1b965e2adbd740b772b93298490d076ce7c,bug_1937251," except sdk_exc.ResourceNotFound: failures.append(_(""No accelerator_request with UUID %s "" ""exists."") % uuid)",,26,0
openstack%2Fpuppet-watcher~master~I9dcae930cf8a0fd5e381e32af63f310f1e6a2c57,openstack/puppet-watcher,master,I9dcae930cf8a0fd5e381e32af63f310f1e6a2c57,Use cinder v3 api by default,MERGED,2021-08-17 07:06:40.000000000,2021-08-18 13:02:22.000000000,2021-08-18 13:00:30.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 07:06:40.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/use-cinderv3-812bc19403fc73c2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/56f2e8b220dcc106cd9df07ec587021638eafbb0', 'message': ""Use cinder v3 api by default\n\ncinder v2 was deprecated long ago and with [1]\nit's removed.\n\n[1] https://review.opendev.org/c/openstack/python-cinderclient/+/791834\n\nChange-Id: I9dcae930cf8a0fd5e381e32af63f310f1e6a2c57\n""}]",0,804825,56f2e8b220dcc106cd9df07ec587021638eafbb0,8,4,1,13861,,,0,"Use cinder v3 api by default

cinder v2 was deprecated long ago and with [1]
it's removed.

[1] https://review.opendev.org/c/openstack/python-cinderclient/+/791834

Change-Id: I9dcae930cf8a0fd5e381e32af63f310f1e6a2c57
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/25/804825/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/use-cinderv3-812bc19403fc73c2.yaml']",2,56f2e8b220dcc106cd9df07ec587021638eafbb0,volumev2-removal,--- fixes: - | Default value of the ``watcher::cinder_client_api_version`` has been updated from ``2`` to ``3`` to use cinder v3 API instead of removed v2. ,,7,2
openstack%2Fnova~master~Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c,openstack/nova,master,Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c,db: Post reshuffle cleanup,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 12:59:26.000000000,2021-08-18 12:55:25.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3585c5b63f0ab0e5917b6be1e9725b413fc721ff', 'message': ""db: Post reshuffle cleanup\n\nIntroduce a new 'nova.db.api.api' module to hold API database-specific\nhelpers, plus a generic 'nova.db.utils' module to hold code suitable for\nboth main and API databases. This highlights a level of complexity\naround connection management that is present for the main database but\nnot for the API database. This is because we need to handle the\ncomplexity of cells for the former but not the latter.\n\nChange-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d9a5e5cbe0eec2d8c7287961ac3d26b333a354', 'message': ""db: Post reshuffle cleanup\n\nIntroduce a new 'nova.db.api.api' module to hold API database-specific\nhelpers, plus a generic 'nova.db.utils' module to hold code suitable for\nboth main and API databases. This highlights a level of complexity\naround connection management that is present for the main database but\nnot for the API database. This is because we need to handle the\ncomplexity of cells for the former but not the latter.\n\nChange-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-06 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53262f19193dce8ef67465507d247cf1a56ffbaf', 'message': ""db: Post reshuffle cleanup\n\nIntroduce a new 'nova.db.api.api' module to hold API database-specific\nhelpers, plus a generic 'nova.db.utils' module to hold code suitable for\nboth main and API databases. This highlights a level of complexity\naround connection management that is present for the main database but\nnot for the API database. This is because we need to handle the\ncomplexity of cells for the former but not the latter.\n\nChange-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69423dd8f02dd9789a18d9fb29131ec48b4d8b9', 'message': ""db: Post reshuffle cleanup\n\nIntroduce a new 'nova.db.api.api' module to hold API database-specific\nhelpers, plus a generic 'nova.db.utils' module to hold code suitable for\nboth main and API databases. This highlights a level of complexity\naround connection management that is present for the main database but\nnot for the API database. This is because we need to handle the\ncomplexity of cells for the former but not the latter.\n\nChange-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/main/api.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/objects/keypair.py', 'nova/tests/unit/db/test_migration.py', 'nova/objects/host_mapping.py', 'nova/objects/build_request.py', 'nova/tests/fixtures/nova.py', 'nova/db/utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/objects/quotas.py', 'nova/objects/flavor.py', 'nova/tests/unit/db/api/__init__.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/db/api/api.py', 'nova/tests/unit/db/api/test_api.py', 'nova/cmd/status.py', 'nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/db/test_utils.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/objects/request_spec.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance_group.py', 'nova/db/migration.py', 'nova/quota.py', 'nova/config.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43b253cd60bd68bce108969d6b3adc0565b8f95e', 'message': ""db: Post reshuffle cleanup\n\nIntroduce a new 'nova.db.api.api' module to hold API database-specific\nhelpers, plus a generic 'nova.db.utils' module to hold code suitable for\nboth main and API databases. This highlights a level of complexity\naround connection management that is present for the main database but\nnot for the API database. This is because we need to handle the\ncomplexity of cells for the former but not the latter.\n\nChange-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,799526,43b253cd60bd68bce108969d6b3adc0565b8f95e,36,3,5,15334,,,0,"db: Post reshuffle cleanup

Introduce a new 'nova.db.api.api' module to hold API database-specific
helpers, plus a generic 'nova.db.utils' module to hold code suitable for
both main and API databases. This highlights a level of complexity
around connection management that is present for the main database but
not for the API database. This is because we need to handle the
complexity of cells for the former but not the latter.

Change-Id: Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/799526/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/objects/keypair.py', 'nova/tests/unit/db/test_migration.py', 'nova/objects/host_mapping.py', 'nova/objects/build_request.py', 'nova/tests/fixtures/nova.py', 'nova/db/utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/objects/quotas.py', 'nova/objects/flavor.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/db/api/api.py', 'nova/tests/unit/db/api/test_api.py', 'nova/cmd/status.py', 'nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/db/test_utils.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/objects/request_spec.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance_group.py', 'nova/db/migration.py', 'nova/quota.py', 'nova/config.py', 'nova/objects/aggregate.py']",31,3585c5b63f0ab0e5917b6be1e9725b413fc721ff,bp/remove-sqlalchemy-migrate,from nova.db.api import api as api_db_api@api_db_api.context_manager.reader@api_db_api.context_manager.reader with api_db_api.context_manager.writer.using(context): with api_db_api.context_manager.writer.using(context): with api_db_api.context_manager.writer.using(context):@api_db_api.context_manager.writer@api_db_api.context_manager.writer@api_db_api.context_manager.writer@api_db_api.context_manager.writer@api_db_api.context_manager.reader@api_db_api.context_manager.reader@api_db_api.context_manager.reader@api_db_api.context_manager.reader,from nova.db.main import api as db_api@db_api.api_context_manager.reader@db_api.api_context_manager.reader with db_api.api_context_manager.writer.using(context): with db_api.api_context_manager.writer.using(context): with db_api.api_context_manager.writer.using(context):@db_api.api_context_manager.writer@db_api.api_context_manager.writer@db_api.api_context_manager.writer@db_api.api_context_manager.writer@db_api.api_context_manager.reader@db_api.api_context_manager.reader@db_api.api_context_manager.reader@db_api.api_context_manager.reader,622,482
openstack%2Fnova~master~Iad2e4da4546b80a016e477577d23accb2606a6e4,openstack/nova,master,Iad2e4da4546b80a016e477577d23accb2606a6e4,"db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'",MERGED,2021-07-05 16:25:44.000000000,2021-08-18 12:57:38.000000000,2021-08-18 12:54:44.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f6387ee7c93c40eeded7a83951509dfe8d87aa8', 'message': ""db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'\n\nMerge these, removing an unnecessary layer of abstraction, and place\nthem in the new 'nova.db.main' directory. The resulting change is huge,\nbut it's mainly the result of 's/sqlalchemy import api/main import api/'\nand 's/nova.db.api/nova.db.main.api/' with some necessary cleanup. We\nalso need to rework how we do the blocking of API calls since we no\nlonger have a 'DBAPI' object that we can monkey patch as we were doing\nbefore. This is now done via a global variable that is set by the 'main'\nfunction of 'nova.cmd.compute'.\n\nThe main impact of this change is that it's no longer possible to set\n'[database] use_db_reconnect' and have all APIs automatically wrapped in\na DB retry. Seeing as this behavior is experimental, isn't applied to\nany of the API DB methods (which don't use oslo.db's 'DBAPI' helper),\nand is used explicitly in what would appear to be the critical cases\n(via the explicit 'oslo_db.api.wrap_db_retry' decorator), this doesn't\nseem like a huge loss.\n\nChange-Id: Iad2e4da4546b80a016e477577d23accb2606a6e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0e4f6a5f758277f9f1cdf124c6e5d970d73b8d9', 'message': ""db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'\n\nMerge these, removing an unnecessary layer of abstraction, and place\nthem in the new 'nova.db.main' directory. The resulting change is huge,\nbut it's mainly the result of 's/sqlalchemy import api/main import api/'\nand 's/nova.db.api/nova.db.main.api/' with some necessary cleanup. We\nalso need to rework how we do the blocking of API calls since we no\nlonger have a 'DBAPI' object that we can monkey patch as we were doing\nbefore. This is now done via a global variable that is set by the 'main'\nfunction of 'nova.cmd.compute'.\n\nThe main impact of this change is that it's no longer possible to set\n'[database] use_db_reconnect' and have all APIs automatically wrapped in\na DB retry. Seeing as this behavior is experimental, isn't applied to\nany of the API DB methods (which don't use oslo.db's 'DBAPI' helper),\nand is used explicitly in what would appear to be the critical cases\n(via the explicit 'oslo_db.api.wrap_db_retry' decorator), this doesn't\nseem like a huge loss.\n\nChange-Id: Iad2e4da4546b80a016e477577d23accb2606a6e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96dd2c309ccbae7be8f892579f5960635de07b33', 'message': ""db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'\n\nMerge these, removing an unnecessary layer of abstraction, and place\nthem in the new 'nova.db.main' directory. The resulting change is huge,\nbut it's mainly the result of 's/sqlalchemy import api/main import api/'\nand 's/nova.db.api/nova.db.main.api/' with some necessary cleanup. We\nalso need to rework how we do the blocking of API calls since we no\nlonger have a 'DBAPI' object that we can monkey patch as we were doing\nbefore. This is now done via a global variable that is set by the 'main'\nfunction of 'nova.cmd.compute'.\n\nThe main impact of this change is that it's no longer possible to set\n'[database] use_db_reconnect' and have all APIs automatically wrapped in\na DB retry. Seeing as this behavior is experimental, isn't applied to\nany of the API DB methods (which don't use oslo.db's 'DBAPI' helper),\nand is used explicitly in what would appear to be the critical cases\n(via the explicit 'oslo_db.api.wrap_db_retry' decorator), this doesn't\nseem like a huge loss.\n\nChange-Id: Iad2e4da4546b80a016e477577d23accb2606a6e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/objects/console_auth_token.py', 'nova/tests/unit/test_availability_zones.py', 'nova/objects/instance_fault.py', 'nova/objects/keypair.py', 'nova/tests/unit/db/test_migration.py', 'nova/tests/functional/regressions/test_bug_1825034.py', 'nova/tests/unit/compute/test_api.py', 'nova/objects/build_request.py', 'nova/objects/compute_node.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/policy.py', 'nova/objects/quotas.py', 'nova/context.py', 'releasenotes/notes/drop-database-use_db_reconnect-opt-7e0062d3da76032a.yaml', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/cmd/test_compute.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/functional/db/test_quotas.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/hacking/checks.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/objects/instance_group.py', 'nova/db/migration.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/compute/migration_list.py', 'nova/config.py', 'nova/objects/security_group.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/fake_network.py', 'nova/tests/unit/policies/test_server_tags.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/db/main/api.py', 'nova/objects/service.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/flavors.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/unit/test_test_utils.py', 'nova/cmd/common.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/conf/database.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/objects/task_log.py', 'nova/tests/functional/db/test_aggregate_model.py', 'nova/objects/host_mapping.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/objects/virt_device_metadata.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/objects/instance_pci_requests.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/cmd/status.py', 'nova/tests/functional/db/test_flavor.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/instance_numa.py', 'nova/tests/functional/db/test_instance.py', 'nova/virt/driver.py', 'nova/db/__init__.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/objects/instance_info_cache.py', 'nova/objects/pci_device.py', 'nova/objects/request_spec.py', 'nova/db/main/__init__.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/functional/db/test_quota_model.py', 'nova/objects/resource.py', 'nova/manager.py', 'nova/tests/unit/test_quota.py', 'nova/quota.py', 'nova/cmd/compute.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/pci/test_manager.py', 'nova/objects/block_device.py', 'nova/tests/unit/api/openstack/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_shelve.py', 'etc/nova/nova-config-generator.conf', 'nova/tests/unit/utils.py', 'tools/generate-schemas', 'nova/tests/unit/compute/test_instance_list.py', 'nova/objects/trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/ec2.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/vcpu_model.py', 'nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/functional/db/test_keypair.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/objects/migration.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/objects/tag.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/notification_sample_tests/test_service.py', 'nova/objects/migration_context.py', 'nova/objects/bandwidth_usage.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/test.py', 'nova/tests/functional/compute/test_instance_list.py', 'nova/tests/functional/db/test_flavor_model.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/flavor.py', 'nova/tests/functional/db/test_compute_node.py', 'nova/db/api.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/db/main/models.py', 'nova/compute/instance_list.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/fake_server_actions.py', 'nova/tests/functional/db/test_security_group.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/objects/instance_action.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/objects/volume_usage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/db/test_models.py', 'nova/objects/aggregate.py', 'nova/tests/unit/db/main/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/100b9dc62c0ec9f7b38739837c06646122c818d5', 'message': ""db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'\n\nMerge these, removing an unnecessary layer of abstraction, and place\nthem in the new 'nova.db.main' directory. The resulting change is huge,\nbut it's mainly the result of 's/sqlalchemy import api/main import api/'\nand 's/nova.db.api/nova.db.main.api/' with some necessary cleanup. We\nalso need to rework how we do the blocking of API calls since we no\nlonger have a 'DBAPI' object that we can monkey patch as we were doing\nbefore. This is now done via a global variable that is set by the 'main'\nfunction of 'nova.cmd.compute'.\n\nThe main impact of this change is that it's no longer possible to set\n'[database] use_db_reconnect' and have all APIs automatically wrapped in\na DB retry. Seeing as this behavior is experimental, isn't applied to\nany of the API DB methods (which don't use oslo.db's 'DBAPI' helper),\nand is used explicitly in what would appear to be the critical cases\n(via the explicit 'oslo_db.api.wrap_db_retry' decorator), this doesn't\nseem like a huge loss.\n\nChange-Id: Iad2e4da4546b80a016e477577d23accb2606a6e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,799524,100b9dc62c0ec9f7b38739837c06646122c818d5,45,3,4,15334,,,0,"db: Unify 'nova.db.api', 'nova.db.sqlalchemy.api'

Merge these, removing an unnecessary layer of abstraction, and place
them in the new 'nova.db.main' directory. The resulting change is huge,
but it's mainly the result of 's/sqlalchemy import api/main import api/'
and 's/nova.db.api/nova.db.main.api/' with some necessary cleanup. We
also need to rework how we do the blocking of API calls since we no
longer have a 'DBAPI' object that we can monkey patch as we were doing
before. This is now done via a global variable that is set by the 'main'
function of 'nova.cmd.compute'.

The main impact of this change is that it's no longer possible to set
'[database] use_db_reconnect' and have all APIs automatically wrapped in
a DB retry. Seeing as this behavior is experimental, isn't applied to
any of the API DB methods (which don't use oslo.db's 'DBAPI' helper),
and is used explicitly in what would appear to be the critical cases
(via the explicit 'oslo_db.api.wrap_db_retry' decorator), this doesn't
seem like a huge loss.

Change-Id: Iad2e4da4546b80a016e477577d23accb2606a6e4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/799524/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/objects/console_auth_token.py', 'nova/tests/unit/test_availability_zones.py', 'nova/objects/instance_fault.py', 'nova/objects/keypair.py', 'nova/tests/unit/db/test_migration.py', 'nova/tests/functional/regressions/test_bug_1825034.py', 'nova/tests/unit/compute/test_api.py', 'nova/objects/build_request.py', 'nova/objects/compute_node.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/policy.py', 'nova/objects/quotas.py', 'nova/context.py', 'releasenotes/notes/drop-database-use_db_reconnect-opt-7e0062d3da76032a.yaml', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/cmd/test_compute.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/functional/db/test_quotas.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/hacking/checks.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/objects/instance_group.py', 'nova/db/migration.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/compute/migration_list.py', 'nova/config.py', 'nova/objects/security_group.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/fake_network.py', 'nova/tests/unit/policies/test_server_tags.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/db/main/api.py', 'nova/objects/service.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/flavors.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/unit/test_test_utils.py', 'nova/cmd/common.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/conf/database.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/objects/task_log.py', 'nova/tests/functional/db/test_aggregate_model.py', 'nova/objects/host_mapping.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/objects/virt_device_metadata.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/objects/instance_pci_requests.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/cmd/status.py', 'nova/tests/functional/db/test_flavor.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/instance_numa.py', 'nova/tests/functional/db/test_instance.py', 'nova/virt/driver.py', 'nova/db/__init__.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/objects/instance_info_cache.py', 'nova/objects/pci_device.py', 'nova/objects/request_spec.py', 'nova/db/main/__init__.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/functional/db/test_quota_model.py', 'nova/objects/resource.py', 'nova/manager.py', 'nova/tests/unit/test_quota.py', 'nova/quota.py', 'nova/cmd/compute.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/pci/test_manager.py', 'nova/objects/block_device.py', 'nova/tests/unit/api/openstack/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/utils.py', 'tools/generate-schemas', 'nova/tests/unit/compute/test_instance_list.py', 'nova/objects/trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/ec2.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/vcpu_model.py', 'nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/functional/db/test_keypair.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/objects/migration.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/objects/tag.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/notification_sample_tests/test_service.py', 'nova/objects/migration_context.py', 'nova/objects/bandwidth_usage.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/test.py', 'nova/tests/functional/compute/test_instance_list.py', 'nova/tests/functional/db/test_flavor_model.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/flavor.py', 'nova/tests/functional/db/test_compute_node.py', 'nova/db/api.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/db/main/models.py', 'nova/compute/instance_list.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/fake_server_actions.py', 'nova/tests/functional/db/test_security_group.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/objects/instance_action.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/objects/volume_usage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/db/test_models.py', 'nova/objects/aggregate.py', 'nova/tests/unit/db/main/__init__.py']",163,9f6387ee7c93c40eeded7a83951509dfe8d87aa8,bp/remove-sqlalchemy-migrate,,,790,2229
openstack%2Fnova~master~I138670fe36b07546db5518f78c657197780c5040,openstack/nova,master,I138670fe36b07546db5518f78c657197780c5040,db: Move remaining 'nova.db.sqlalchemy' modules,MERGED,2021-07-05 16:25:44.000000000,2021-08-18 12:55:12.000000000,2021-08-18 12:55:12.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/324e203796b14ec0283e34ea1d17652e116ff37c', 'message': ""db: Move remaining 'nova.db.sqlalchemy' modules\n\nThe two remaining modules, 'api_models' and 'api_migrations', are\nmoved to the new 'nova.db.api' module.\n\nChange-Id: I138670fe36b07546db5518f78c657197780c5040\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d327ba7ac5a6facdbd99da33a24d531e89b77fad', 'message': ""db: Move remaining 'nova.db.sqlalchemy' modules\n\nThe two remaining modules, 'api_models' and 'api_migrations', are\nmoved to the new 'nova.db.api' module.\n\nChange-Id: I138670fe36b07546db5518f78c657197780c5040\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-09 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/242107c6634eb1e69ec49e5f8cd31b52029ea7c4', 'message': ""db: Move remaining 'nova.db.sqlalchemy' modules\n\nThe two remaining modules, 'api_models' and 'api_migrations', are\nmoved to the new 'nova.db.api' module.\n\nChange-Id: I138670fe36b07546db5518f78c657197780c5040\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/db/api/legacy_migrations/versions/069_placeholder.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/api/legacy_migrations/migrate.cfg', 'nova/db/api/legacy_migrations/versions/085_placeholder.py', 'nova/db/api/legacy_migrations/versions/078_placeholder.py', 'nova/objects/keypair.py', 'nova/db/api/legacy_migrations/versions/__init__.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/db/api/legacy_migrations/versions/082_placeholder.py', 'nova/objects/build_request.py', 'nova/db/api/legacy_migrations/versions/073_placeholder.py', 'nova/objects/quotas.py', 'nova/db/api/legacy_migrations/versions/075_placeholder.py', 'nova/db/api/legacy_migrations/README', 'nova/db/api/legacy_migrations/versions/074_placeholder.py', 'nova/db/api/legacy_migrations/versions/087_placeholder.py', 'doc/source/user/upgrade.rst', 'nova/db/api/legacy_migrations/versions/076_placeholder.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance_group.py', 'nova/db/api/legacy_migrations/versions/067_train.py', 'nova/db/migration.py', 'nova/db/api/legacy_migrations/versions/080_placeholder.py', 'nova/db/api/legacy_migrations/versions/081_placeholder.py', 'nova/db/api/legacy_migrations/versions/077_placeholder.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/db/api/legacy_migrations/__init__.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/__init__.py', 'nova/db/api/legacy_migrations/versions/072_placeholder.py', 'nova/tests/functional/db/test_aggregate_model.py', 'nova/objects/host_mapping.py', 'nova/db/api/legacy_migrations/versions/068_placeholder.py', 'nova/db/sqlalchemy/__init__.py', 'nova/tests/functional/db/test_flavor_model.py', 'nova/objects/flavor.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/api/legacy_migrations/versions/086_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/__init__.py', 'nova/db/api/legacy_migrations/versions/083_placeholder.py', 'nova/tests/functional/db/test_flavor.py', 'nova/db/api/legacy_migrations/manage.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/db/api/legacy_migrations/versions/070_placeholder.py', 'nova/objects/request_spec.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/functional/db/test_quota_model.py', 'nova/db/api/legacy_migrations/versions/079_placeholder.py', 'nova/db/api/models.py', 'nova/quota.py', 'nova/tests/unit/db/test_models.py', 'nova/db/api/legacy_migrations/versions/084_placeholder.py', 'nova/objects/aggregate.py', 'tools/reserve-migrations.py', 'nova/db/api/legacy_migrations/versions/071_placeholder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf8b5fc7d05e0a66031a03e50e8f6bb76a921046', 'message': ""db: Move remaining 'nova.db.sqlalchemy' modules\n\nThe two remaining modules, 'api_models' and 'api_migrations', are\nmoved to the new 'nova.db.api' module.\n\nChange-Id: I138670fe36b07546db5518f78c657197780c5040\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,799525,bf8b5fc7d05e0a66031a03e50e8f6bb76a921046,33,3,4,15334,,,0,"db: Move remaining 'nova.db.sqlalchemy' modules

The two remaining modules, 'api_models' and 'api_migrations', are
moved to the new 'nova.db.api' module.

Change-Id: I138670fe36b07546db5518f78c657197780c5040
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/799525/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api/legacy_migrations/versions/069_placeholder.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/api/legacy_migrations/migrate.cfg', 'nova/db/api/legacy_migrations/versions/085_placeholder.py', 'nova/db/api/legacy_migrations/versions/078_placeholder.py', 'nova/objects/keypair.py', 'nova/db/api/legacy_migrations/versions/__init__.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/db/api/legacy_migrations/versions/082_placeholder.py', 'nova/objects/build_request.py', 'nova/db/api/legacy_migrations/versions/073_placeholder.py', 'nova/objects/quotas.py', 'nova/db/api/legacy_migrations/versions/075_placeholder.py', 'nova/db/api/legacy_migrations/README', 'nova/db/api/legacy_migrations/versions/074_placeholder.py', 'nova/db/api/legacy_migrations/versions/087_placeholder.py', 'doc/source/user/upgrade.rst', 'nova/db/api/legacy_migrations/versions/076_placeholder.py', 'nova/objects/cell_mapping.py', 'nova/objects/instance_group.py', 'nova/db/api/legacy_migrations/versions/067_train.py', 'nova/db/migration.py', 'nova/db/api/legacy_migrations/versions/080_placeholder.py', 'nova/db/api/legacy_migrations/versions/081_placeholder.py', 'nova/db/api/legacy_migrations/versions/077_placeholder.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/db/api/legacy_migrations/__init__.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/__init__.py', 'nova/db/api/legacy_migrations/versions/072_placeholder.py', 'nova/tests/functional/db/test_aggregate_model.py', 'nova/objects/host_mapping.py', 'nova/db/api/legacy_migrations/versions/068_placeholder.py', 'nova/db/sqlalchemy/__init__.py', 'nova/tests/functional/db/test_flavor_model.py', 'nova/objects/flavor.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/api/legacy_migrations/versions/086_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/__init__.py', 'nova/db/api/legacy_migrations/versions/083_placeholder.py', 'nova/tests/functional/db/test_flavor.py', 'nova/db/api/legacy_migrations/manage.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/db/api/legacy_migrations/versions/070_placeholder.py', 'nova/objects/request_spec.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/functional/db/test_quota_model.py', 'nova/db/api/legacy_migrations/versions/079_placeholder.py', 'nova/db/api/models.py', 'nova/quota.py', 'nova/tests/unit/db/test_models.py', 'nova/db/api/legacy_migrations/versions/084_placeholder.py', 'nova/objects/aggregate.py', 'tools/reserve-migrations.py', 'nova/db/api/legacy_migrations/versions/071_placeholder.py']",55,324e203796b14ec0283e34ea1d17652e116ff37c,bp/remove-sqlalchemy-migrate,,,33,37
openstack%2Fnova~master~Ie7e4ccaf32f7222b8e305a38b48de7980744a98f,openstack/nova,master,Ie7e4ccaf32f7222b8e305a38b48de7980744a98f,db: Exclude the 'use_db_reconnect' option,MERGED,2021-08-06 15:56:54.000000000,2021-08-18 12:54:59.000000000,2021-08-18 12:54:59.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 15:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f23bddc93283c705cbebba5e508d5bd477795f5', 'message': ""db: Exclude the 'use_db_reconnect' option\n\nBuild on changes I714dce969088e17caaa1daddc881ebca6834e0f1, which\nmodified how we registered options for both the main and API databases,\nand Iad2e4da4546b80a016e477577d23accb2606a6e4, which removed support for\nexperimental database reconnects, and start ignoring the\n'use_db_reconnect' option. This means the option will no longer appear\nin our documentation and won't be recognised by any of the validation\ntooling if present in a nova.conf file.\n\nNo tests are present because I'm not entirely sure how to test the\nthing. You can validate it manually though by attempting to set the\noption in a test and watch things blow up like so:\n\n  oslo_config.cfg.NoSuchOptError: no such option use_db_reconnect in\n  group [database]\n\nA second unnecessary 'deepcopy()' is removed. This was missed in change\nI714dce969088e17caaa1daddc881ebca6834e0f1.\n\nChange-Id: Ie7e4ccaf32f7222b8e305a38b48de7980744a98f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aec2ca94686f016c343cc4b97c2e310bb135fd27', 'message': ""db: Exclude the 'use_db_reconnect' option\n\nBuild on changes I714dce969088e17caaa1daddc881ebca6834e0f1, which\nmodified how we registered options for both the main and API databases,\nand Iad2e4da4546b80a016e477577d23accb2606a6e4, which removed support for\nexperimental database reconnects, and start ignoring the\n'use_db_reconnect' option. This means the option will no longer appear\nin our documentation and won't be recognised by any of the validation\ntooling if present in a nova.conf file.\n\nNo tests are present because I'm not entirely sure how to test the\nthing. You can validate it manually though by attempting to set the\noption in a test and watch things blow up like so:\n\n  oslo_config.cfg.NoSuchOptError: no such option use_db_reconnect in\n  group [database]\n\nA second unnecessary 'deepcopy()' is removed. This was missed in change\nI714dce969088e17caaa1daddc881ebca6834e0f1.\n\nChange-Id: Ie7e4ccaf32f7222b8e305a38b48de7980744a98f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,803778,aec2ca94686f016c343cc4b97c2e310bb135fd27,20,3,2,15334,,,0,"db: Exclude the 'use_db_reconnect' option

Build on changes I714dce969088e17caaa1daddc881ebca6834e0f1, which
modified how we registered options for both the main and API databases,
and Iad2e4da4546b80a016e477577d23accb2606a6e4, which removed support for
experimental database reconnects, and start ignoring the
'use_db_reconnect' option. This means the option will no longer appear
in our documentation and won't be recognised by any of the validation
tooling if present in a nova.conf file.

No tests are present because I'm not entirely sure how to test the
thing. You can validate it manually though by attempting to set the
option in a test and watch things blow up like so:

  oslo_config.cfg.NoSuchOptError: no such option use_db_reconnect in
  group [database]

A second unnecessary 'deepcopy()' is removed. This was missed in change
I714dce969088e17caaa1daddc881ebca6834e0f1.

Change-Id: Ie7e4ccaf32f7222b8e305a38b48de7980744a98f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/803778/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/database.py'],1,9f23bddc93283c705cbebba5e508d5bd477795f5,bp/remove-sqlalchemy-migrate,"# We don't support the experimental use of database reconnect on connection # lost, so remove the config option that would suggest we do main_db_opts = [opt for opt in main_db_opts if opt.name != 'use_db_reconnect'] api_db_opts = [opt for opt in main_db_opts if opt.name != 'use_db_reconnect'] conf.register_opts(main_db_opts, group=main_db_group) conf.register_opts(api_db_opts, group=api_db_group)"," conf.register_opts(copy.deepcopy(main_db_opts), group=main_db_group) conf.register_opts(copy.deepcopy(api_db_opts), group=api_db_group)",7,2
openstack%2Fvalidations-common~master~I015e4bb69b26c4c036740a55351d24e9f059bfef,openstack/validations-common,master,I015e4bb69b26c4c036740a55351d24e9f059bfef,DNM,ABANDONED,2021-07-28 12:32:40.000000000,2021-08-18 12:45:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 12:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fd7d55c5e0329a1fee685786e5488d7bb21da360', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/802693\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I015e4bb69b26c4c036740a55351d24e9f059bfef\n'}, {'number': 2, 'created': '2021-07-28 13:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/137122b3a774f28f8e886e1078d29134103da979', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/802693\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I015e4bb69b26c4c036740a55351d24e9f059bfef\n'}, {'number': 3, 'created': '2021-07-28 13:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/22ac691ff3b4efb5b9ae366d10660cb9b60485ad', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/802693\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I015e4bb69b26c4c036740a55351d24e9f059bfef\n'}, {'number': 4, 'created': '2021-07-28 13:43:42.000000000', 'files': ['validations_common/library/warn.py', 'validations_common/__init__.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fd1c0d0d476698dc1c7d049d64d277118a37fd76', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/802693\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I015e4bb69b26c4c036740a55351d24e9f059bfef\n'}]",0,802694,fd1c0d0d476698dc1c7d049d64d277118a37fd76,8,1,4,32926,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/802693
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I015e4bb69b26c4c036740a55351d24e9f059bfef
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/94/802694/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/__init__.py'],1,fd7d55c5e0329a1fee685786e5488d7bb21da360,test,TESTCHANGE DNM,,1,1
openstack%2Ftripleo-validations~stable%2Fussuri~Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8,openstack/tripleo-validations,stable/ussuri,Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8,DNM,ABANDONED,2021-07-28 07:25:02.000000000,2021-08-18 12:44:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 07:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/850d7bd5d2c257d587c716de69651f8924bf094a', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8\n'}, {'number': 2, 'created': '2021-07-28 07:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bbf1bf086a2bab72063d6befb2ce99cfcceb476d', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8\n'}, {'number': 3, 'created': '2021-08-02 11:21:06.000000000', 'files': ['tests/prepare-test-host.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8d9bf24ef8eaf539d65ba5c0009aa2fc413afc5', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8\n'}]",4,802662,b8d9bf24ef8eaf539d65ba5c0009aa2fc413afc5,11,1,3,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia22cd9b114c3a6358f809b27fcf23434eecc2ce8
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/62/802662/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/prepare-test-host.yml'],1,850d7bd5d2c257d587c716de69651f8924bf094a,test,#DNM THIS IS A TEST,,1,0
openstack%2Fvalidations-libs~master~I5f1484f878a44500fcd782bf82b64ca18427e206,openstack/validations-libs,master,I5f1484f878a44500fcd782bf82b64ca18427e206,DNM,ABANDONED,2021-08-02 05:54:57.000000000,2021-08-18 12:44:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-02 05:54:57.000000000', 'files': ['validations_libs/__init__.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e7e7eba8615d132515d9c379fd6516e713cd18d4', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/803002/\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5f1484f878a44500fcd782bf82b64ca18427e206\n'}]",0,803140,e7e7eba8615d132515d9c379fd6516e713cd18d4,11,1,1,32926,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/803002/
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5f1484f878a44500fcd782bf82b64ca18427e206
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/40/803140/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/__init__.py'],1,e7e7eba8615d132515d9c379fd6516e713cd18d4,test,"""""""DNM TEST PATCH """""" ",,2,0
openstack%2Fvalidations-common~master~I5ae059ae023fe5197f8dfa5ebb0a21d41db31e2b,openstack/validations-common,master,I5ae059ae023fe5197f8dfa5ebb0a21d41db31e2b,DNM,ABANDONED,2021-08-06 06:40:35.000000000,2021-08-18 12:44:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 06:40:35.000000000', 'files': ['roles/validations/tasks/run.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/be3cf7e1258f504bb306ef3f2a5d912eaf37cc4f', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5ae059ae023fe5197f8dfa5ebb0a21d41db31e2b\n'}]",0,803698,be3cf7e1258f504bb306ef3f2a5d912eaf37cc4f,3,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5ae059ae023fe5197f8dfa5ebb0a21d41db31e2b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/98/803698/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/tasks/run.yaml'],1,be3cf7e1258f504bb306ef3f2a5d912eaf37cc4f,negativeresults," slurp: src: ""validation_{{ name.key }}_positive.log"" jsondata: ""{{ result['content'] | from_json }}"" slurp: src: ""validation_{{ name.key }}_negative.log"" jsondata: ""{{ result['content'] | b64decode | from_json }}"""," shell: cmd: ""cat validation_{{ name.key }}_positive.log"" executable: /bin/bash jsondata: ""{{ result.stdout | from_json }}"" shell: cmd: ""cat validation_{{ name.key }}_negative.log"" executable: /bin/bash jsondata: ""{{ result.stdout | from_json }}""",6,8
openstack%2Fvalidations-libs~master~Id1c8c893b43185101281cf3a1f902f0f89dfd5e9,openstack/validations-libs,master,Id1c8c893b43185101281cf3a1f902f0f89dfd5e9,DNM,ABANDONED,2021-08-18 07:54:00.000000000,2021-08-18 12:44:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 07:54:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9f94736131389b89e02c9d1cf8efc08631f67f59', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1c8c893b43185101281cf3a1f902f0f89dfd5e9\n'}]",0,804957,9f94736131389b89e02c9d1cf8efc08631f67f59,3,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id1c8c893b43185101281cf3a1f902f0f89dfd5e9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/57/804957/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9f94736131389b89e02c9d1cf8efc08631f67f59,encodingfix, LC_ALL=en_US.UTF-8, LC_ALL=C,1,1
openstack%2Fopenstack-zuul-jobs~master~I7059f2b1cf2539cde28f979631530f3e99a6f8c9,openstack/openstack-zuul-jobs,master,I7059f2b1cf2539cde28f979631530f3e99a6f8c9,DNM,ABANDONED,2021-08-18 08:16:41.000000000,2021-08-18 12:44:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 08:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fc41b8e9b9dc292e626589f265f3342fe7417b7c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7059f2b1cf2539cde28f979631530f3e99a6f8c9\n'}, {'number': 2, 'created': '2021-08-18 08:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7cbbaf2d06b2a5243ef7d5a898f5892e2031f1ac', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7059f2b1cf2539cde28f979631530f3e99a6f8c9\n'}, {'number': 3, 'created': '2021-08-18 08:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/051b0384672843a876a6badf5ef573250c55cbaf', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7059f2b1cf2539cde28f979631530f3e99a6f8c9\n'}, {'number': 4, 'created': '2021-08-18 09:06:58.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8d8fd0a3bba8d81dd181ab40bd93be8bb7b0d3ed', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7059f2b1cf2539cde28f979631530f3e99a6f8c9\n'}]",0,804962,8d8fd0a3bba8d81dd181ab40bd93be8bb7b0d3ed,8,1,4,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7059f2b1cf2539cde28f979631530f3e99a6f8c9
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/62/804962/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,fc41b8e9b9dc292e626589f265f3342fe7417b7c,, tox_environment: LC_ALL: en_US.UTF-8,,2,1
openstack%2Fkolla~stable%2Fwallaby~I4a79815f4e19d82fa77341672cd26d2282800f6a,openstack/kolla,stable/wallaby,I4a79815f4e19d82fa77341672cd26d2282800f6a,base/deb: bump 'system' groups limit beyond Kolla ones,MERGED,2021-08-17 12:01:40.000000000,2021-08-18 12:42:22.000000000,2021-08-18 12:40:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-17 12:01:40.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7b9d3855df90db76f0418378bdb9c69053b5eb9', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\nPartial-Bug: #1934753\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n(cherry picked from commit 20d8b83ecb99669caf501cd54a38eaa8ffebb0bd)\n""}]",0,804856,b7b9d3855df90db76f0418378bdb9c69053b5eb9,9,3,1,27339,,,0,"base/deb: bump 'system' groups limit beyond Kolla ones

Pacemaker complains that group 'haclient' already exists
during installation and is not 'system group'. So let bump
range for 'system' groups to make it happier.

Our images do not have normal groups so it should not affect.
Partial-Bug: #1934753

Change-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a
(cherry picked from commit 20d8b83ecb99669caf501cd54a38eaa8ffebb0bd)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/804856/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,b7b9d3855df90db76f0418378bdb9c69053b5eb9,bug/1934753-stable/wallaby,# - enlarge 'system users' range so 'haproxy' package will not complain # see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=939470 # - enlarge 'system groups' range so 'hacluster' user added in # https://review.opendev.org/c/openstack/kolla/+/802671 # can be in 'haclient' group with same high uid && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g \ -e s/LAST_SYSTEM_GID=999/LAST_SYSTEM_GID=59999/g /etc/adduser.conf,# enlarge 'system users' range so 'haproxy' package will not complain # see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=939470 && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g /etc/adduser.conf,7,3
openstack%2Freleases~master~I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d,openstack/releases,master,I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d,oslo.db 8.4.1,MERGED,2021-08-18 03:11:15.000000000,2021-08-18 12:31:54.000000000,2021-08-18 08:13:37.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-18 03:11:15.000000000', 'files': ['deliverables/victoria/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d67f3868d1ba6bab1343b0e3b557005c30d7a4f', 'message': 'oslo.db 8.4.1\n\nThis adds compatibility for recent versions of MySQL 8.x.\n\nChange-Id: I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d\n'}]",0,804940,9d67f3868d1ba6bab1343b0e3b557005c30d7a4f,10,4,1,26458,,,0,"oslo.db 8.4.1

This adds compatibility for recent versions of MySQL 8.x.

Change-Id: I1abe1109d2cf2cd2658324b06c7d6384c6f0d60d
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/804940/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.db.yaml'],1,9d67f3868d1ba6bab1343b0e3b557005c30d7a4f,oslo.db, - version: 8.4.1 projects: - repo: openstack/oslo.db hash: 81e55722dc83744c7cc5fc6a062248843519db69,,4,0
openstack%2Fpuppet-tripleo~master~I0e391676d0cabf43d3df701ef8427170c94da8b4,openstack/puppet-tripleo,master,I0e391676d0cabf43d3df701ef8427170c94da8b4,Enforce firewall rules creation ordering for pcsd,ABANDONED,2020-02-10 09:14:55.000000000,2021-08-18 12:31:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 09:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f59b4f2ed929d839082ffa8b06508a72fb9666a3', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 2, 'created': '2020-04-16 12:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/066641b46f73377e0eccd7d37e040bbcb668ac60', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 3, 'created': '2020-05-01 14:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a273da94bcd49dc917a5481710209c164f165bc7', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 4, 'created': '2020-07-20 06:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1d3286a2aa5320ed880d16ca1911ff590876f2d9', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 5, 'created': '2020-07-20 12:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/71119d3853e3953588c592a770d7bada0e0e8df4', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 6, 'created': '2021-08-18 08:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e58c6fa1244b409208f1e93ac7aa32e21cfdf62f', 'message': 'WIP Enforce firewall rules creation ordering for pcsd\n\nStill investigating... but it seems to me that currently\nnothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n'}, {'number': 7, 'created': '2021-08-18 09:38:12.000000000', 'files': ['manifests/profile/base/pacemaker_remote.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f784205cbced2cccdcd59acd75d79d1272193096', 'message': ""Enforce firewall rules creation ordering for pcsd\n\nNothing guarantees us that we open up cluster traffic\nbefore we actually start waiting for quorum. So if the\novercloud-image starts off with some rules blocking cluster\ntraffic we might well open them up too late and so we timeout\nwaiting for a quorum to be established but that will\nnever happen due to iptables rules.\n\nLet's make sure and explicity that we open the firewall rules\nbefore pcsd (rhel8) and pacemaker_remote (rhel7) are started.\n\nTested on Newton and confirmed the rules opened before the service:\n[root@compute-0 ~]# journalctl |grep puppet-user > /tmp/p\n[root@compute-0 ~]# grep -ir -e 'systemctl enable pacemaker_remote' -e 'Firewall.*130 pacemaker_remote.*created'   /tmp/p\nAug 18 09:03:49 compute-0.redhat.local puppet-user[22806]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[pacemaker_remote]/Tripleo::Firewall::Rule[130 pacemaker_remote tcp]/Firewall[130 pacemaker_remote tcp ipv4]/ensure) created\nAug 18 09:03:49 compute-0.redhat.local puppet-user[22806]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[pacemaker_remote]/Tripleo::Firewall::Rule[130 pacemaker_remote tcp]/Firewall[130 pacemaker_remote tcp ipv6]/ensure) created\nAug 18 09:03:51 compute-0.redhat.local puppet-user[22806]: Executing: '/usr/bin/systemctl enable pacemaker_remote'\n\nChange-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4\n""}]",0,706763,f784205cbced2cccdcd59acd75d79d1272193096,19,2,7,20172,,,0,"Enforce firewall rules creation ordering for pcsd

Nothing guarantees us that we open up cluster traffic
before we actually start waiting for quorum. So if the
overcloud-image starts off with some rules blocking cluster
traffic we might well open them up too late and so we timeout
waiting for a quorum to be established but that will
never happen due to iptables rules.

Let's make sure and explicity that we open the firewall rules
before pcsd (rhel8) and pacemaker_remote (rhel7) are started.

Tested on Newton and confirmed the rules opened before the service:
[root@compute-0 ~]# journalctl |grep puppet-user > /tmp/p
[root@compute-0 ~]# grep -ir -e 'systemctl enable pacemaker_remote' -e 'Firewall.*130 pacemaker_remote.*created'   /tmp/p
Aug 18 09:03:49 compute-0.redhat.local puppet-user[22806]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[pacemaker_remote]/Tripleo::Firewall::Rule[130 pacemaker_remote tcp]/Firewall[130 pacemaker_remote tcp ipv4]/ensure) created
Aug 18 09:03:49 compute-0.redhat.local puppet-user[22806]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[pacemaker_remote]/Tripleo::Firewall::Rule[130 pacemaker_remote tcp]/Firewall[130 pacemaker_remote tcp ipv6]/ensure) created
Aug 18 09:03:51 compute-0.redhat.local puppet-user[22806]: Executing: '/usr/bin/systemctl enable pacemaker_remote'

Change-Id: I0e391676d0cabf43d3df701ef8427170c94da8b4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/706763/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,f59b4f2ed929d839082ffa8b06508a72fb9666a3,fw," # (bandini) We need this to make sure that rules opening up the cluster (amongst # other things kick in *before* pcsd is set up, otherwise we risk doing it too late # and the cluster will never form Firewall<|tag == 'tripleo-firewall-rule'|> -> Service<|tag == 'pcsd-cluster-service'|> ",,6,0
openstack%2Ftripleo-common~master~Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7,openstack/tripleo-common,master,Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7,WIP/DNM Remove pacemaker and pcs from inside the HA containers,ABANDONED,2021-04-03 20:53:14.000000000,2021-08-18 12:16:40.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-03 20:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d05d3229ef4853eff23acc0535ea901e5635a34d', 'message': 'WIP/DNM Remove pacemaker and pcs from inside the HA containers\n\nChange-Id: Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7\n'}, {'number': 2, 'created': '2021-07-31 14:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f798dc58462c6e72c065714adeffaffa604d31c5', 'message': 'WIP/DNM Remove pacemaker and pcs from inside the HA containers\n\nChange-Id: Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7\n'}, {'number': 3, 'created': '2021-07-31 17:51:25.000000000', 'files': ['container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/ovn-base/ovn-northd/ovn-northd.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/manila-base/manila-share/manila-share.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04ee26306c2729bbe59ccdf54b372c89d5fc2aac', 'message': 'WIP/DNM Remove pacemaker and pcs from inside the HA containers\n\nChange-Id: Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7\n'}]",0,784697,04ee26306c2729bbe59ccdf54b372c89d5fc2aac,11,3,3,20172,,,0,"WIP/DNM Remove pacemaker and pcs from inside the HA containers

Change-Id: Ib8bb5cf360b64ac2f1adba080ba1a78159b81af7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/784697/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/ovn-base/ovn-northd/ovn-northd.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/os/manila-base/manila-share/manila-share.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml']",8,d05d3229ef4853eff23acc0535ea901e5635a34d,nopcs,, - pacemaker - pcs,0,16
openstack%2Foctavia~stable%2Fvictoria~I5ed6288b2776bd7f1c9b67e9cfd9a8f05b1196be,openstack/octavia,stable/victoria,I5ed6288b2776bd7f1c9b67e9cfd9a8f05b1196be,Add amphora_id in store params for failover_amphora,MERGED,2021-06-29 08:53:40.000000000,2021-08-18 12:14:15.000000000,2021-08-18 12:12:37.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 08:53:40.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee7b262199840bca7f08a111ea535392396bb416', 'message': ""Add amphora_id in store params for failover_amphora\n\nSeveral tasks require amphora_id parameter to be passed in\nget_amphora_for_lb_failover_subflow.\nExecution passed results in error:\n\ntaskflow.exceptions.NotFound: Mapped argument 'amphora_id' <=\n'amphora_id' was not produced by any accessible provider\n(1 possible providers were scanned).\n\nAlso fix getting ID parameter from amphora dict in\nAmphoraIndexListenersReload and add missing retries for create_*\nresources in v2 worker.\n\nChange-Id: I5ed6288b2776bd7f1c9b67e9cfd9a8f05b1196be\n(cherry picked from commit 1a154839c2dfb5a9c89963b27a96f0adef1038ee)\n""}]",0,798569,ee7b262199840bca7f08a111ea535392396bb416,12,3,1,29244,,,0,"Add amphora_id in store params for failover_amphora

Several tasks require amphora_id parameter to be passed in
get_amphora_for_lb_failover_subflow.
Execution passed results in error:

taskflow.exceptions.NotFound: Mapped argument 'amphora_id' <=
'amphora_id' was not produced by any accessible provider
(1 possible providers were scanned).

Also fix getting ID parameter from amphora dict in
AmphoraIndexListenersReload and add missing retries for create_*
resources in v2 worker.

Change-Id: I5ed6288b2776bd7f1c9b67e9cfd9a8f05b1196be
(cherry picked from commit 1a154839c2dfb5a9c89963b27a96f0adef1038ee)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/798569/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py']",4,ee7b262199840bca7f08a111ea535392396bb416,," _session_mock, amphora_mock[constants.ID], status=constants.ERROR)"," _session_mock, amphora_mock.id, status=constants.ERROR)",43,10
openstack%2Ftripleo-heat-templates~master~Ie4353303e54b9b1da33ecd07655527573582ee12,openstack/tripleo-heat-templates,master,Ie4353303e54b9b1da33ecd07655527573582ee12,DNM test notificationdriver with multiple backends in CI,ABANDONED,2019-11-13 09:09:24.000000000,2021-08-18 12:06:44.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18b91c30da24b4c9191b8f6af922d70a1c477c06', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 2, 'created': '2019-11-14 07:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7218bf4c9e737627a56ec62b0aa97fafff5a8650', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 3, 'created': '2020-05-01 14:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf46f751b4fc6f8ed9f3b10acc0d69d3b2d66e97', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 4, 'created': '2020-07-04 07:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0764ca199f078b01bc3a92aa847e41e1368aee6d', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 5, 'created': '2020-11-22 16:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7326f2c9ecabad0832bc9a410e3a6d8279aabdf7', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 6, 'created': '2020-12-14 09:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3a500b5d10decadaf43bbdb11d9456386ee3c39', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nDepends-On: https://review.opendev.org/#/c/693336/\nDepends-On: https://review.opendev.org/#/c/693338/\nDepends-On: https://review.opendev.org/#/c/693339/\nDepends-On: https://review.opendev.org/#/c/693340/\nDepends-On: https://review.opendev.org/#/c/693341/\nDepends-On: https://review.opendev.org/#/c/693342/\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}, {'number': 7, 'created': '2021-08-18 08:36:38.000000000', 'files': ['ci/environments/multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52826a28ca02690348da2edf6af63085eececa40', 'message': 'DNM test notificationdriver with multiple backends in CI\n\nTest noop,log\n\nChange-Id: Ie4353303e54b9b1da33ecd07655527573582ee12\n'}]",0,694016,52826a28ca02690348da2edf6af63085eececa40,29,3,7,20172,,,0,"DNM test notificationdriver with multiple backends in CI

Test noop,log

Change-Id: Ie4353303e54b9b1da33ecd07655527573582ee12
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/694016/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/multinode-containers.yaml'],1,18b91c30da24b4c9191b8f6af922d70a1c477c06,notif," NotificationDriver: 'noop,log'", NotificationDriver: 'noop',1,1
openstack%2Fpuppet-tripleo~master~I239fef4e749e12482fa7f601ad37e4d8c8f0846e,openstack/puppet-tripleo,master,I239fef4e749e12482fa7f601ad37e4d8c8f0846e,WIP/DNM Enable stonith always,ABANDONED,2021-04-11 20:28:27.000000000,2021-08-18 12:04:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-11 20:28:27.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c8ebbda908cf8b2e7778a3e5083734ff2eee1b8b', 'message': 'WIP/DNM Enable stonith always\n\nChange-Id: I239fef4e749e12482fa7f601ad37e4d8c8f0846e\n'}]",0,785804,c8ebbda908cf8b2e7778a3e5083734ff2eee1b8b,4,2,1,20172,,,0,"WIP/DNM Enable stonith always

Change-Id: I239fef4e749e12482fa7f601ad37e4d8c8f0846e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/785804/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,c8ebbda908cf8b2e7778a3e5083734ff2eee1b8b,enable-stonith," $enable_fencing = str2bool(hiera('enable_fencing', false))"," $enable_fencing = str2bool(hiera('enable_fencing', false)) and $step >= 5",1,1
openstack%2Fpuppet-pacemaker~master~I93826dd112a9bc78b8ec6609ed67fbfb73e9c2e6,openstack/puppet-pacemaker,master,I93826dd112a9bc78b8ec6609ed67fbfb73e9c2e6,WIP Fix stonith tests,ABANDONED,2021-03-25 07:39:31.000000000,2021-08-18 12:04:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 07:39:31.000000000', 'files': ['spec/unit/puppet/provider/pcmk_common_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d4fb12a358f3ce4346f47d51de7d755112169483', 'message': 'WIP Fix stonith tests\n\nCloses-Bug: #1921118\n\nChange-Id: I93826dd112a9bc78b8ec6609ed67fbfb73e9c2e6\n'}]",0,782908,d4fb12a358f3ce4346f47d51de7d755112169483,3,1,1,20172,,,0,"WIP Fix stonith tests

Closes-Bug: #1921118

Change-Id: I93826dd112a9bc78b8ec6609ed67fbfb73e9c2e6
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/08/782908/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/puppet/provider/pcmk_common_spec.rb'],1,d4fb12a358f3ce4346f47d51de7d755112169483,fix-stonith-unit-tests," expect(pcs_offline('stonith update stonith-fence_ipmilan-stonith-fence-1 passwd=renVamyep3!', 'cib-noop.xml')).to eq """" expect(pcs_offline('stonith update stonith-fence_ipmilan-stonith-fence-1 passwd=NewPassword', 'cib-resource.xml')).to eq """""," expect(pcs_offline('resource update stonith-fence_ipmilan-stonith-fence-1 passwd=renVamyep3!', 'cib-noop.xml')).to eq """" expect(pcs_offline('resource update stonith-fence_ipmilan-stonith-fence-1 passwd=NewPassword', 'cib-resource.xml')).to eq """"",2,2
openstack%2Fpuppet-heat~master~I30cc61449fed5b0e3dd99da11df9485ea6ab898c,openstack/puppet-heat,master,I30cc61449fed5b0e3dd99da11df9485ea6ab898c,WIP Switch heat_config ini management to ruby backend,ABANDONED,2019-11-07 11:20:17.000000000,2021-08-18 12:03:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 11:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/8510adc7e839ec8b9a0063260f5499ca074af626', 'message': ""WIP Switch heat_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I30cc61449fed5b0e3dd99da11df9485ea6ab898c\nRelated-Bug: #1851629\n""}, {'number': 2, 'created': '2020-05-01 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/fcccc63b06ded2218c0da802ff8f88f6208f6bf8', 'message': ""WIP Switch heat_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I30cc61449fed5b0e3dd99da11df9485ea6ab898c\nRelated-Bug: #1851629\n""}, {'number': 3, 'created': '2020-07-04 07:32:29.000000000', 'files': ['lib/puppet/provider/heat_config/ini_setting.rb', 'lib/puppet/type/heat_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ca6f9e2e4a570f9c5bd0c7e53223d4675418cddf', 'message': ""WIP Switch heat_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I30cc61449fed5b0e3dd99da11df9485ea6ab898c\nRelated-Bug: #1851629\n""}]",0,693339,ca6f9e2e4a570f9c5bd0c7e53223d4675418cddf,8,2,3,20172,,,0,"WIP Switch heat_config ini management to ruby backend

This is done so that we can correctly specify multiple notification
drivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872
we want to be able to specify multiple drivers for oslo messaging
notification by passing a list.

Let's switch the ini management backend to the ruby backend so we can
correctly have multiple driver= lines.

NB: WIP as I need to do another round of tests (initial tests were fine)

Change-Id: I30cc61449fed5b0e3dd99da11df9485ea6ab898c
Related-Bug: #1851629
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/39/693339/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/heat_config/ini_setting.rb', 'lib/puppet/type/heat_config.rb']",2,8510adc7e839ec8b9a0063260f5499ca074af626,notif," newproperty(:value, :array_matching => :all) do def insync?(is) return true if @should.empty? return false unless is.is_a? Array return false unless is.length == @should.length # we don't care about the order of items in array, hence # it is necessary to override insync return ( is & @should == is or is & @should.map(&:to_s) == is ) end", newproperty(:value) do,13,2
openstack%2Fpuppet-aodh~master~I8261397bfee8d7e48c2d857485a9504620c65c35,openstack/puppet-aodh,master,I8261397bfee8d7e48c2d857485a9504620c65c35,WIP Switch aodh_config ini management to ruby backend,ABANDONED,2019-11-07 11:27:19.000000000,2021-08-18 12:03:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-07 11:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f80d4e762a0ee31a7454ab851f505a69a9ef04de', 'message': ""WIP Switch aodh_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I8261397bfee8d7e48c2d857485a9504620c65c35\nRelated-Bug: #1851629\n""}, {'number': 2, 'created': '2020-05-01 14:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/58fe1479adaa1e5f192ef19a1b127a9f92b67f45', 'message': ""WIP Switch aodh_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I8261397bfee8d7e48c2d857485a9504620c65c35\nRelated-Bug: #1851629\n""}, {'number': 3, 'created': '2020-07-04 07:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/7b7aa112517f4c7a8a42cea6da16af751f747554', 'message': ""WIP Switch aodh_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I8261397bfee8d7e48c2d857485a9504620c65c35\nRelated-Bug: #1851629\n""}, {'number': 4, 'created': '2020-11-22 16:26:51.000000000', 'files': ['lib/puppet/type/aodh_config.rb', 'lib/puppet/provider/aodh_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/acd0e4cf4b0d65b24853190aa723b51913bf5f30', 'message': ""WIP Switch aodh_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I8261397bfee8d7e48c2d857485a9504620c65c35\nRelated-Bug: #1851629\n""}]",0,693342,acd0e4cf4b0d65b24853190aa723b51913bf5f30,9,1,4,20172,,,0,"WIP Switch aodh_config ini management to ruby backend

This is done so that we can correctly specify multiple notification
drivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872
we want to be able to specify multiple drivers for oslo messaging
notification by passing a list.

Let's switch the ini management backend to the ruby backend so we can
correctly have multiple driver= lines.

NB: WIP as I need to do another round of tests (initial tests were fine)

Change-Id: I8261397bfee8d7e48c2d857485a9504620c65c35
Related-Bug: #1851629
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/42/693342/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/aodh_config.rb', 'lib/puppet/provider/aodh_config/ini_setting.rb']",2,f80d4e762a0ee31a7454ab851f505a69a9ef04de,notif, :parent => Puppet::Type.type(:openstack_config).provider(:ruby), :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting),13,2
openstack%2Fpuppet-keystone~master~I52ffca775913a447af2a8d3520ac2f0ac840255f,openstack/puppet-keystone,master,I52ffca775913a447af2a8d3520ac2f0ac840255f,WIP Switch keystone_config ini management to ruby backend,ABANDONED,2019-11-07 11:16:15.000000000,2021-08-18 12:03:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 11:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/efd35a85d8c94a0316488c6fe9ed658122539c6c', 'message': ""WIP Switch keystone_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f\nRelated-Bug: #1851629\n""}, {'number': 2, 'created': '2020-05-01 14:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ad844f7b22f3251e034956b234aad8fb933908db', 'message': ""WIP Switch keystone_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f\nRelated-Bug: #1851629\n""}, {'number': 3, 'created': '2020-07-04 07:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4a571c3ca3a62c1d81074b47c1cc6663ea452bd6', 'message': ""WIP Switch keystone_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f\nRelated-Bug: #1851629\n""}, {'number': 4, 'created': '2020-11-22 16:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9813f906e263a72902a60867eaebbb5e0bd61c66', 'message': ""WIP Switch keystone_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f\nRelated-Bug: #1851629\n""}, {'number': 5, 'created': '2020-11-22 16:14:11.000000000', 'files': ['lib/puppet/provider/keystone_config/ini_setting.rb', 'lib/puppet_x/keystone_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e5dd4d4205380627267781d4b67032f7295bcf7b', 'message': ""WIP Switch keystone_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f\nRelated-Bug: #1851629\n""}]",0,693338,e5dd4d4205380627267781d4b67032f7295bcf7b,11,2,5,20172,,,0,"WIP Switch keystone_config ini management to ruby backend

This is done so that we can correctly specify multiple notification
drivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872
we want to be able to specify multiple drivers for oslo messaging
notification by passing a list.

Let's switch the ini management backend to the ruby backend so we can
correctly have multiple driver= lines.

NB: WIP as I need to do another round of tests (initial tests were fine)

Change-Id: I52ffca775913a447af2a8d3520ac2f0ac840255f
Related-Bug: #1851629
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/38/693338/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone_config/ini_setting.rb', 'lib/puppet_x/keystone_config/ini_setting.rb']",2,efd35a85d8c94a0316488c6fe9ed658122539c6c,notif," newproperty(:value, :array_matching => :all) do def insync?(is) return true if @should.empty? return false unless is.is_a? Array return false unless is.length == @should.length # we don't care about the order of items in array, hence # it is necessary to override insync return ( is & @should == is or is & @should.map(&:to_s) == is ) end", newproperty(:value) do,13,2
openstack%2Fpuppet-cinder~master~I9843f9820c4e21d4fb6d5b3ed5736585c4aab138,openstack/puppet-cinder,master,I9843f9820c4e21d4fb6d5b3ed5736585c4aab138,WIP Switch cinder_config ini management to ruby backend,ABANDONED,2019-11-07 11:25:23.000000000,2021-08-18 12:03:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 11:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4824d1d96c3ba067c655e55ddb3d61401c1aabc3', 'message': ""WIP Switch cinder_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I9843f9820c4e21d4fb6d5b3ed5736585c4aab138\nRelated-Bug: #1851629\n""}, {'number': 2, 'created': '2020-05-01 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bda1a8cfb2e738eecffcbd6a3f3fec8e6f56375b', 'message': ""WIP Switch cinder_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I9843f9820c4e21d4fb6d5b3ed5736585c4aab138\nRelated-Bug: #1851629\n""}, {'number': 3, 'created': '2020-07-04 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/525c975157d924527d674d20496c2ed82a11be2a', 'message': ""WIP Switch cinder_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I9843f9820c4e21d4fb6d5b3ed5736585c4aab138\nRelated-Bug: #1851629\n""}, {'number': 4, 'created': '2020-11-22 16:15:50.000000000', 'files': ['lib/puppet/provider/cinder_config/ini_setting.rb', 'lib/puppet/type/cinder_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e4f6b8bd98a3dbd192bb4f4a10301c43efa5f220', 'message': ""WIP Switch cinder_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I9843f9820c4e21d4fb6d5b3ed5736585c4aab138\nRelated-Bug: #1851629\n""}]",0,693341,e4f6b8bd98a3dbd192bb4f4a10301c43efa5f220,10,2,4,20172,,,0,"WIP Switch cinder_config ini management to ruby backend

This is done so that we can correctly specify multiple notification
drivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872
we want to be able to specify multiple drivers for oslo messaging
notification by passing a list.

Let's switch the ini management backend to the ruby backend so we can
correctly have multiple driver= lines.

NB: WIP as I need to do another round of tests (initial tests were fine)

Change-Id: I9843f9820c4e21d4fb6d5b3ed5736585c4aab138
Related-Bug: #1851629
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/41/693341/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/cinder_config/ini_setting.rb', 'lib/puppet/type/cinder_config.rb']",2,4824d1d96c3ba067c655e55ddb3d61401c1aabc3,notif," newproperty(:value, :array_matching => :all) do def insync?(is) return true if @should.empty? return false unless is.is_a? Array return false unless is.length == @should.length # we don't care about the order of items in array, hence # it is necessary to override insync return ( is & @should == is or is & @should.map(&:to_s) == is ) end", newproperty(:value) do,13,2
openstack%2Fpuppet-openstack-cookiecutter~master~I6411644ff0346d5b5b14c99f9768137f7b32337d,openstack/puppet-openstack-cookiecutter,master,I6411644ff0346d5b5b14c99f9768137f7b32337d,Drop Fedora support,MERGED,2021-08-16 10:14:13.000000000,2021-08-18 11:51:34.000000000,2021-08-18 11:51:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 10:14:13.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/773172e936712cb764f6709b249ebd8386f01b77', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I6411644ff0346d5b5b14c99f9768137f7b32337d\n""}]",0,804691,773172e936712cb764f6709b249ebd8386f01b77,7,3,1,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I6411644ff0346d5b5b14c99f9768137f7b32337d
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/91/804691/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/metadata.json'],1,773172e936712cb764f6709b249ebd8386f01b77,drop-fedora,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""28"" ] }, {",0,6
openstack%2Ftripleo-heat-templates~master~Ie42b68cc43954fe3e2417b45059999611965cac1,openstack/tripleo-heat-templates,master,Ie42b68cc43954fe3e2417b45059999611965cac1,WIP Pass --hostname when enrolling to FreeIPA,ABANDONED,2020-02-12 15:37:09.000000000,2021-08-18 11:21:52.000000000,,"[{'_account_id': 9914}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 15:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/900da5fd7f3cf07434d952af775ca2314eef6947', 'message': ""WIP Pass --hostname when enrolling to FreeIPA\n\nIn deployment/nova/novajoin-container-puppet.yaml we call the following to enroll in freeipa:\n- name: Enroll to FreeIPA\n  command: ipa-client-install -U --password={{ ipa_otp }}\n  args:\n    creates: /etc/ipa/default.conf\n  when: ipa_otp != ''\n\nNow in our documentation for the undercloud\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_undercloud.html\nwe state that we need to add the following line to /etc/hosts:\n127.0.0.1 myhost.mydomain myhost\n\nThis will break enrollment in case /etc/hosts has a line like '127.0.0.1\nlocalhost.localdomain localhost' *before* the myhost.. one. That is\nbecause ipa-client-install by default will call python's socket fqdn()\nto determine the hostname to send to freeipa and that can potentially\nsend localhost.localdomain to the freeipa server and the enrollment will\nfail with:\n\n  Invalid hostname, 'localhost.localdomain' must not be used.\n  The ipa-client-install command failed. See /var/log/ipaclient-install.log for more information\n\nSince it seems to me that we tried to work around this at least in\ninfrared (see https://review.gerrithub.io/c/redhat-openstack/infrared/+/480005) which\nshuffled around the lines in /etc/hosts, I think we can make this more\nrobust by enrolling with the proper fqdn which we know about.\n\nCloses-Bug: #1862970\nWIP as I need to test it\n\nChange-Id: Ie42b68cc43954fe3e2417b45059999611965cac1\n""}, {'number': 2, 'created': '2020-02-14 07:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8ef75cb623c3b16ba2e5bee89a9ed99d02e9593', 'message': ""WIP Pass --hostname when enrolling to FreeIPA\n\nIn deployment/nova/novajoin-container-puppet.yaml we call the following to enroll in freeipa:\n- name: Enroll to FreeIPA\n  command: ipa-client-install -U --password={{ ipa_otp }}\n  args:\n    creates: /etc/ipa/default.conf\n  when: ipa_otp != ''\n\nNow in our documentation for the undercloud\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_undercloud.html\nwe state that we need to add the following line to /etc/hosts:\n127.0.0.1 myhost.mydomain myhost\n\nThis will break enrollment in case /etc/hosts has a line like '127.0.0.1\nlocalhost.localdomain localhost' *before* the myhost.. one. That is\nbecause ipa-client-install by default will call python's socket fqdn()\nto determine the hostname to send to freeipa and that can potentially\nsend localhost.localdomain to the freeipa server and the enrollment will\nfail with:\n\n  Invalid hostname, 'localhost.localdomain' must not be used.\n  The ipa-client-install command failed. See /var/log/ipaclient-install.log for more information\n\nSince it seems to me that we tried to work around this at least in\ninfrared (see https://review.gerrithub.io/c/redhat-openstack/infrared/+/480005) which\nshuffled around the lines in /etc/hosts, I think we can make this more\nrobust by enrolling with the proper fqdn which we know about.\n\nCloses-Bug: #1862970\nWIP as I need to test it\n\nChange-Id: Ie42b68cc43954fe3e2417b45059999611965cac1\n""}, {'number': 3, 'created': '2020-04-16 12:52:42.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/237bb6d10b0ec7c6acd6de5a5a5ead0f4eb788b6', 'message': ""WIP Pass --hostname when enrolling to FreeIPA\n\nIn deployment/nova/novajoin-container-puppet.yaml we call the following to enroll in freeipa:\n- name: Enroll to FreeIPA\n  command: ipa-client-install -U --password={{ ipa_otp }}\n  args:\n    creates: /etc/ipa/default.conf\n  when: ipa_otp != ''\n\nNow in our documentation for the undercloud\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_undercloud.html\nwe state that we need to add the following line to /etc/hosts:\n127.0.0.1 myhost.mydomain myhost\n\nThis will break enrollment in case /etc/hosts has a line like '127.0.0.1\nlocalhost.localdomain localhost' *before* the myhost.. one. That is\nbecause ipa-client-install by default will call python's socket fqdn()\nto determine the hostname to send to freeipa and that can potentially\nsend localhost.localdomain to the freeipa server and the enrollment will\nfail with:\n\n  Invalid hostname, 'localhost.localdomain' must not be used.\n  The ipa-client-install command failed. See /var/log/ipaclient-install.log for more information\n\nSince it seems to me that we tried to work around this at least in\ninfrared (see https://review.gerrithub.io/c/redhat-openstack/infrared/+/480005) which\nshuffled around the lines in /etc/hosts, I think we can make this more\nrobust by enrolling with the proper fqdn which we know about.\n\nCloses-Bug: #1862970\nWIP as I need to test it\n\nChange-Id: Ie42b68cc43954fe3e2417b45059999611965cac1\n""}]",0,707411,237bb6d10b0ec7c6acd6de5a5a5ead0f4eb788b6,13,4,3,20172,,,0,"WIP Pass --hostname when enrolling to FreeIPA

In deployment/nova/novajoin-container-puppet.yaml we call the following to enroll in freeipa:
- name: Enroll to FreeIPA
  command: ipa-client-install -U --password={{ ipa_otp }}
  args:
    creates: /etc/ipa/default.conf
  when: ipa_otp != ''

Now in our documentation for the undercloud
https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_undercloud.html
we state that we need to add the following line to /etc/hosts:
127.0.0.1 myhost.mydomain myhost

This will break enrollment in case /etc/hosts has a line like '127.0.0.1
localhost.localdomain localhost' *before* the myhost.. one. That is
because ipa-client-install by default will call python's socket fqdn()
to determine the hostname to send to freeipa and that can potentially
send localhost.localdomain to the freeipa server and the enrollment will
fail with:

  Invalid hostname, 'localhost.localdomain' must not be used.
  The ipa-client-install command failed. See /var/log/ipaclient-install.log for more information

Since it seems to me that we tried to work around this at least in
infrared (see https://review.gerrithub.io/c/redhat-openstack/infrared/+/480005) which
shuffled around the lines in /etc/hosts, I think we can make this more
robust by enrolling with the proper fqdn which we know about.

Closes-Bug: #1862970
WIP as I need to test it

Change-Id: Ie42b68cc43954fe3e2417b45059999611965cac1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/707411/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,900da5fd7f3cf07434d952af775ca2314eef6947,freeipa_robust, command: ipa-client-install -U --password={{ ipa_otp }} --hostname={{ ansible_fqdn }}, command: ipa-client-install -U --password={{ ipa_otp }},1,1
openstack%2Fpuppet-pacemaker~master~I17f1f95b9517168fad9dcffa26a98964e6072c4e,openstack/puppet-pacemaker,master,I17f1f95b9517168fad9dcffa26a98964e6072c4e,WIP Generate spec tests for autogenerated stonith devices,ABANDONED,2017-09-22 16:18:48.000000000,2021-08-18 11:21:41.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-22 16:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/fefa82ff7880b31490e19200be86ad40607b0850', 'message': 'WIP Generate spec tests for autogenerated stonith devices\n\nHad to leave fence_ironic out as it was not actually generated\nautomatically?\n\nChange-Id: I17f1f95b9517168fad9dcffa26a98964e6072c4e\n'}, {'number': 2, 'created': '2020-05-01 18:39:31.000000000', 'files': ['spec/defines/pacemaker_stonith_fence_ilo_spec.rb', 'spec/defines/pacemaker_stonith_fence_kdump_spec.rb', 'spec/defines/pacemaker_stonith_fence_rhevm_spec.rb', 'spec/defines/pacemaker_stonith_fence_rsb_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo2_spec.rb', 'spec/defines/pacemaker_stonith_fence_intelmodular_spec.rb', 'agent_generator/generate_rspecs.sh', 'spec/defines/pacemaker_stonith_fence_ibmblade_spec.rb', 'Rakefile', 'spec/defines/pacemaker_stonith_fence_hpblade_spec.rb', 'spec/defines/pacemaker_stonith_fence_bladecenter_spec.rb', 'spec/defines/pacemaker_stonith_fence_apc_spec.rb', 'spec/defines/pacemaker_stonith_fence_imm_spec.rb', 'spec/defines/pacemaker_stonith_fence_ifmib_spec.rb', 'spec/defines/pacemaker_stonith_fence_idrac_spec.rb', 'spec/defines/pacemaker_stonith_fence_eps_spec.rb', 'spec/defines/pacemaker_stonith_fence_vmware_soap_spec.rb', 'spec/defines/pacemaker_stonith_fence_brocade_spec.rb', 'spec/defines/pacemaker_stonith_fence_eaton_snmp_spec.rb', 'spec/defines/pacemaker_stonith_fence_apc_snmp_spec.rb', 'spec/defines/pacemaker_stonith_fence_scsi_spec.rb', 'spec/defines/pacemaker_stonith_fence_wti_spec.rb', 'spec/defines/pacemaker_stonith_fence_cisco_ucs_spec.rb', 'spec/defines/pacemaker_stonith_fence_drac5_spec.rb', 'spec/defines/pacemaker_stonith_fence_virt_spec.rb', 'spec/defines/pacemaker_stonith_fence_ipdu_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo3_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo_mp_spec.rb', 'spec/defines/pacemaker_stonith_fence_cisco_mds_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo4_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d91f5335b44b7c28b1aa8d7ceb661d40cc4bfb49', 'message': 'WIP Generate spec tests for autogenerated stonith devices\n\nHad to leave fence_ironic out as it was not actually generated\nautomatically?\n\nChange-Id: I17f1f95b9517168fad9dcffa26a98964e6072c4e\n'}]",0,506710,d91f5335b44b7c28b1aa8d7ceb661d40cc4bfb49,7,3,2,20172,,,0,"WIP Generate spec tests for autogenerated stonith devices

Had to leave fence_ironic out as it was not actually generated
automatically?

Change-Id: I17f1f95b9517168fad9dcffa26a98964e6072c4e
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/10/506710/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/pacemaker_stonith_fence_ilo_spec.rb', 'spec/defines/pacemaker_stonith_fence_kdump_spec.rb', 'spec/defines/pacemaker_stonith_fence_rhevm_spec.rb', 'spec/defines/pacemaker_stonith_fence_rsb_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo2_spec.rb', 'spec/defines/pacemaker_stonith_fence_intelmodular_spec.rb', 'agent_generator/generate_rspecs.sh', 'spec/defines/pacemaker_stonith_fence_ibmblade_spec.rb', 'Rakefile', 'spec/defines/pacemaker_stonith_fence_hpblade_spec.rb', 'spec/defines/pacemaker_stonith_fence_bladecenter_spec.rb', 'spec/defines/pacemaker_stonith_fence_apc_spec.rb', 'spec/defines/pacemaker_stonith_fence_imm_spec.rb', 'spec/defines/pacemaker_stonith_fence_ifmib_spec.rb', 'spec/defines/pacemaker_stonith_fence_idrac_spec.rb', 'spec/defines/pacemaker_stonith_fence_eps_spec.rb', 'spec/defines/pacemaker_stonith_fence_vmware_soap_spec.rb', 'spec/defines/pacemaker_stonith_fence_brocade_spec.rb', 'spec/defines/pacemaker_stonith_fence_eaton_snmp_spec.rb', 'spec/defines/pacemaker_stonith_fence_apc_snmp_spec.rb', 'spec/defines/pacemaker_stonith_fence_scsi_spec.rb', 'spec/defines/pacemaker_stonith_fence_wti_spec.rb', 'spec/defines/pacemaker_stonith_fence_cisco_ucs_spec.rb', 'spec/defines/pacemaker_stonith_fence_drac5_spec.rb', 'spec/defines/pacemaker_stonith_fence_virt_spec.rb', 'spec/defines/pacemaker_stonith_fence_ipdu_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo3_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo_mp_spec.rb', 'spec/defines/pacemaker_stonith_fence_cisco_mds_spec.rb', 'spec/defines/pacemaker_stonith_fence_ilo4_spec.rb']",30,fefa82ff7880b31490e19200be86ad40607b0850,rspec-generator,"# WARNING: Rspec generated by ""rake generate_stonith"", manual changes will # be lost. # require 'spec_helper' describe 'pacemaker::stonith::fence_ilo4', type: :define do let(:title) { 'test' } let(:pre_condition) { [ 'class pacemaker::corosync {}', 'class { ""pacemaker::corosync"" : }' ] } shared_examples_for 'pacemaker::stonith::fence_ilo4' do let(:stonith_name) { ""stonith-fence_ilo4-#{title}"" } context 'with defaults' do it { is_expected.to contain_package('fence-agents-ipmilan') is_expected.to contain_pcmk_stonith(""stonith-fence_ilo4-#{title}"").with( :ensure => 'present', :pcmk_host_list => ""$(/usr/sbin/crm_node -n)"", :stonith_type => 'fence_ilo4', ) } end context 'with ensure absent' do let(:params) { { :ensure => 'absent' } } it { is_expected.to contain_pcmk_stonith(""stonith-fence_ilo4-#{title}"").with( :ensure => 'absent', :pcmk_host_list => ""$(/usr/sbin/crm_node -n)"", :stonith_type => 'fence_ilo4', ) is_expected.to_not contain_package('fence-agents-ipmilan') } end context 'with params' do let(:params) { { :auth => 'auth', :ipaddr => 'ipaddr', :passwd => 'passwd', :passwd_script => 'passwd_script', :lanplus => 'lanplus', :login => 'login', :action => 'action', :timeout => 'timeout', :cipher => 'cipher', :method => 'method', :power_wait => 'power_wait', :delay => 'delay', :privlvl => 'privlvl', :verbose => 'verbose', :pcmk_host_list => 'pcmk_host_list', :tries => 1, :try_sleep => 5, } } it { is_expected.to contain_package('fence-agents-ipmilan') is_expected.to contain_pcmk_stonith(""stonith-fence_ilo4-#{title}"").with( :ensure => 'present', :pcmk_host_list => 'pcmk_host_list', :stonith_type => 'fence_ilo4', :pcs_param_string => ""auth=\""auth\"" ipaddr=\""ipaddr\"" passwd=\""passwd\"" passwd_script=\""passwd_script\"" lanplus=\""lanplus\"" login=\""login\"" action=\""action\"" timeout=\""timeout\"" cipher=\""cipher\"" method=\""method\"" power_wait=\""power_wait\"" delay=\""delay\"" privlvl=\""privlvl\"" verbose=\""verbose\"" op monitor interval=60s"", :tries => 1, :try_sleep => 5, ) } end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'pacemaker::stonith::fence_ilo4' end end end ",,2676,0
openstack%2Fpuppet-pacemaker~master~Ia62b5c5884f5dd6728f1518505ff635d8c30f20a,openstack/puppet-pacemaker,master,Ia62b5c5884f5dd6728f1518505ff635d8c30f20a,WIP Introduce an rspec generator for fence agents,ABANDONED,2017-09-22 16:18:48.000000000,2021-08-18 11:21:33.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-22 16:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/e86718c077d5140a32999582be18fd0d4c7c80bc', 'message': ""WIP Introduce an rspec generator for fence agents\n\nMost fence manifests are generated automatically\nfrom fence agents metadata. Let's add a generator to\nautomatically create some spec tests for these\nfencing agents. This commit only introduces\nthe generator and replaces the existing spec test\nfor fence_ipmilan that was written manually with\nthe automated one, via:\n\n./agent_generator/rspec_generator.rb agent_generator/src_xml/fence_ipmilan.xml \\\n  fence_ipmilan fence-agents-ipmilan > spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb\n\nChange-Id: Ia62b5c5884f5dd6728f1518505ff635d8c30f20a\n""}, {'number': 2, 'created': '2020-05-01 18:39:09.000000000', 'files': ['agent_generator/rspec_generator.rb', 'agent_generator/agent_generator.rb', 'spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb', 'agent_generator/fencing_metadata_parser.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ba5f76aa09004812e470c43342532ca5b26b0480', 'message': ""WIP Introduce an rspec generator for fence agents\n\nMost fence manifests are generated automatically\nfrom fence agents metadata. Let's add a generator to\nautomatically create some spec tests for these\nfencing agents. This commit only introduces\nthe generator and replaces the existing spec test\nfor fence_ipmilan that was written manually with\nthe automated one, via:\n\n./agent_generator/rspec_generator.rb agent_generator/src_xml/fence_ipmilan.xml \\\n  fence_ipmilan fence-agents-ipmilan > spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb\n\nChange-Id: Ia62b5c5884f5dd6728f1518505ff635d8c30f20a\n""}]",0,506709,ba5f76aa09004812e470c43342532ca5b26b0480,8,4,2,20172,,,0,"WIP Introduce an rspec generator for fence agents

Most fence manifests are generated automatically
from fence agents metadata. Let's add a generator to
automatically create some spec tests for these
fencing agents. This commit only introduces
the generator and replaces the existing spec test
for fence_ipmilan that was written manually with
the automated one, via:

./agent_generator/rspec_generator.rb agent_generator/src_xml/fence_ipmilan.xml \
  fence_ipmilan fence-agents-ipmilan > spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb

Change-Id: Ia62b5c5884f5dd6728f1518505ff635d8c30f20a
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/09/506709/2 && git format-patch -1 --stdout FETCH_HEAD,"['agent_generator/rspec_generator.rb', 'agent_generator/agent_generator.rb', 'spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb', 'agent_generator/fencing_metadata_parser.rb']",4,e86718c077d5140a32999582be18fd0d4c7c80bc,rspec-generator,"require 'rexml/document' class FencingMetadataParser def initialize(filename, agentName, packageName) @agentName = agentName @packageName = packageName file = File.new(filename) @doc = REXML::Document.new file @params = [] @params_max_len = 14 # pcmk_host_list end def getPackageName @packageName end def getAgentName @agentName end def getParameters ## result have to be array as order should be preserved return @params unless @params.empty? @doc.elements.each('resource-agent/parameters/parameter') { |p| param = {} param['name'] = REXML::XPath.match(p, 'string(./@name)')[0] @params_max_len = param['name'].length if param['name'].length > @params_max_len param['type'] = REXML::XPath.match(p, 'string(./content/@type)')[0] ## if 'default' is list then we can not enter it as parameter !! ## this is problem only for 'cmd_prompt' param['default'] = REXML::XPath.match(p, 'string(./content/@default)')[0] param['description'] = REXML::XPath.match(p, 'string(./shortdesc)')[0] ## remove parameters that are not usable during automatic execution @params.push(param) unless %w(help version).include?(param['name']) } @params end def getMaxLen @params_max_len end end ",,334,58
openstack%2Ftripleo-heat-templates~master~Ibfac97b4cf94d09aa6093e74647df19964bd1483,openstack/tripleo-heat-templates,master,Ibfac97b4cf94d09aa6093e74647df19964bd1483,Enable ConfigDebug in CI,ABANDONED,2020-05-18 16:26:43.000000000,2021-08-18 11:17:07.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-18 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2b2338bc06d17f60b2862179eef2e3667a458b6', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 2, 'created': '2020-05-19 17:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df43bd1f4573a7c576e37164548488bea57ae4f8', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 3, 'created': '2020-05-19 20:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21c51ee648c05fe618bfffc90d5342376fcbc3cb', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 4, 'created': '2020-05-20 10:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5eed7bef2dda176c18063070b48fcf9580d52a41', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nDepends-On: https://review.opendev.org/#/c/729561\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 5, 'created': '2020-05-20 10:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91960715fa1ed051a1892546319095ed8ffe26a3', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nDepends-On: https://review.opendev.org/#/c/729561\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 6, 'created': '2020-05-20 13:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57231834b41ed6cbb923d57c80b3111a3e2425c2', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nDepends-On: https://review.opendev.org/#/c/729238\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}, {'number': 7, 'created': '2020-05-21 04:53:34.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario007-standalone.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/670bcb0a8f4f876d98a8fe3281ee3729ba92bf3c', 'message': 'Enable ConfigDebug in CI\n\nWe want debug in all our tripleo_container_manage commands, so we need\nto set ConfigDebug to true, so that ENABLE_DEBUG will be set to true\nand so we can pass that down to tripleo_container_manage_debug\n(like we are doing via docker_puppet_debug and DockerPuppetDebug\nalready.\n\nDepends-On: https://review.opendev.org/#/c/729238\nChange-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483\n'}]",0,728946,670bcb0a8f4f876d98a8fe3281ee3729ba92bf3c,34,9,7,20172,,,0,"Enable ConfigDebug in CI

We want debug in all our tripleo_container_manage commands, so we need
to set ConfigDebug to true, so that ENABLE_DEBUG will be set to true
and so we can pass that down to tripleo_container_manage_debug
(like we are doing via docker_puppet_debug and DockerPuppetDebug
already.

Depends-On: https://review.opendev.org/#/c/729238
Change-Id: Ibfac97b4cf94d09aa6093e74647df19964bd1483
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/728946/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario007-standalone.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml']",14,d2b2338bc06d17f60b2862179eef2e3667a458b6,configdebug, ConfigDebug: True,,14,0
openstack%2Ftripleo-quickstart~master~I8527c81204fa49943f348f57974256472a185090,openstack/tripleo-quickstart,master,I8527c81204fa49943f348f57974256472a185090,Install tripleo.repos collection,MERGED,2021-07-22 12:30:09.000000000,2021-08-18 11:16:03.000000000,2021-08-18 01:55:16.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-22 12:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ab881bd07e5c16abd77803c5711b5a626b363e4f', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 2, 'created': '2021-07-22 13:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dbb28768b0839d5ec4917e3c0e3e2d3d97fb89b1', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 3, 'created': '2021-07-22 14:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e701728eb12608fdf498e3d312848c8704fcc235', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 4, 'created': '2021-07-22 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7ce98ba9bea7cc2113c17ee159fafc1ee065e96', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 5, 'created': '2021-07-22 15:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bad8659c8ac43ca3762a6939c08c22a7c2f8179b', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 6, 'created': '2021-07-22 16:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d548fe1b9e674679830ace08cf58d1d4885ed219', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 7, 'created': '2021-07-22 16:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ced485c6790a9cc755533d1d03d5c24b1fa718df', 'message': 'WIP: Make use of tripleo.repo.get_hash in repo-setup role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/801621\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 8, 'created': '2021-07-23 08:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/04c705b6bb8a8d88ac2c2ff2185933ab45ae7a5d', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 9, 'created': '2021-08-09 15:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a396296ca44f52904debcb8f9c648fa56cd4849d', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 10, 'created': '2021-08-09 15:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5c709ee5d7a4e05b3d125010270f89e597a80639', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 11, 'created': '2021-08-09 17:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f26a07ccc03ecde23dfc511352735e246ed36a95', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 12, 'created': '2021-08-10 08:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/293f330a4f35f8b445761d0828ef5f8029107e1a', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 13, 'created': '2021-08-11 09:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ca33e6cbb371919adf494d170b9c23e5a1cbef6', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 14, 'created': '2021-08-11 10:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8d9440f6784873a146f854f0ea75b9c87ccfe764', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 15, 'created': '2021-08-11 16:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e6798d462311d1ae480a35024847e2fe080f1d69', 'message': 'Make use of tripleo.repo.get_hash in repo-setup role\n\nChange-Id: I8527c81204fa49943f348f57974256472a185090\nStory: TRIPLEOCI-559\n'}, {'number': 16, 'created': '2021-08-12 12:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3a4d7f1cb86adb2cba7dccce8110e84bce269098', 'message': 'Install tripleo.repos collection\n\nStory: TRIPLEOCI-559\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/804221\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}, {'number': 17, 'created': '2021-08-12 13:16:31.000000000', 'files': ['install-deps.sh', 'ansible.cfg', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7692ff63a2225c9b82a3cae7e385ca1f552bb9e2', 'message': 'Install tripleo.repos collection\n\nStory: TRIPLEOCI-559\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/804221\nChange-Id: I8527c81204fa49943f348f57974256472a185090\n'}]",7,801776,7692ff63a2225c9b82a3cae7e385ca1f552bb9e2,89,4,17,24162,,,0,"Install tripleo.repos collection

Story: TRIPLEOCI-559
Depends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/804221
Change-Id: I8527c81204fa49943f348f57974256472a185090
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/76/801776/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/tasks/tripleo-get-hash-set-fact.yml', 'install-deps.sh', 'roles/repo-setup/tasks/get-dlrn-hash-newest.yml', 'roles/repo-setup/tasks/set_fact_nodepool_rdo_proxy.yml', 'roles/repo-setup/tasks/get-dlrn-hash.yml']",5,ab881bd07e5c16abd77803c5711b5a626b363e4f,tripleo-get-hash,"- include_tasks: tripleo-get-hash-set-fact.yml vars: search_tag: ""{{ dlrn_hash_tag }}"" fact_name: ""dlrn_hash"" when: dlrn_hash_tag in known_hash_tags","# full_hash_result is used to help find the # correctly tagged containers and images # components for OSP will be built on OSP-16, 17 # TO-DO - when: - dlrn_hash_tag in known_hash_tags - ansible_distribution_major_version is version(8, '<') block: - name: Get DLRN hash - passed tag - non-component shell: | set -euo pipefail dlrn_base={{ dlrn_baseurl }} if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY:-https://trunk.rdoproject.org} dlrn_base=${dlrn_base/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} fi curl -s --fail --show-error ${dlrn_base}/{{ dlrn_hash_tag }}/delorean.repo \ | grep baseurl | grep -Eo {{ expected_commit_distro_hash_regex | quote }} register: full_hash_result retries: 5 - name: Set fact for dlrn_hash set_fact: dlrn_hash: ""{{ full_hash_result.stdout }}"" cacheable: true # when running a component job, the containers and images # come from a promoted current-tripleo pin. Therefore the md5 # of the known hash_tag (e..g. current tripleo) is the cricital hash to know. # components for OSP will be built on OSP-16, 17 # TO-DO - when: - dlrn_hash_tag in known_hash_tags - ansible_distribution_major_version is version(8, '>=') block: - block: - name: Get DLRN hash - passed tag - component-based - not use mirror url shell: | set -euo pipefail curl -s --fail --show-error {{ dlrn_baseurl }}/{{ dlrn_hash_tag }}/delorean.repo.md5 register: full_hash_result retries: 5 rescue: - name: Get DLRN hash - passed tag - component-based - use mirror url shell: | set -euo pipefail dlrn_base={{ dlrn_baseurl }} if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY:-https://trunk.rdoproject.org} dlrn_base=${dlrn_base/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} fi curl -s --fail --show-error ${dlrn_base}/{{ dlrn_hash_tag }}/delorean.repo.md5 register: full_hash_result retries: 5 - name: Set fact for dlrn_hash set_fact: dlrn_hash: ""{{ full_hash_result.stdout }}"" cacheable: true",58,117
openstack%2Ftripleo-docs~master~I5f8451d99d8e55070e975b971b6890aad47f2947,openstack/tripleo-docs,master,I5f8451d99d8e55070e975b971b6890aad47f2947,WIP Fix image build command,ABANDONED,2021-01-18 21:40:23.000000000,2021-08-18 11:14:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-18 21:40:23.000000000', 'files': ['deploy-guide/source/deployment/build_single_image.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/224fcaf098cc570210847f5546d34de78447e4cc', 'message': 'WIP Fix image build command\n\nChange-Id: I5f8451d99d8e55070e975b971b6890aad47f2947\n'}]",0,771274,224fcaf098cc570210847f5546d34de78447e4cc,3,1,1,20172,,,0,"WIP Fix image build command

Change-Id: I5f8451d99d8e55070e975b971b6890aad47f2947
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/74/771274/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/build_single_image.rst'],1,224fcaf098cc570210847f5546d34de78447e4cc,fix-buildcommand,The ``openstack overcloud image build`` command builds all the images needed for an overcloud deploy.,"The ``openstack overcloud image build --all`` command builds all the images needed for an overcloud deploy. However, you may need to rebuild a single one of them. Use the following commands if you want to do it:: openstack overcloud image build --type {agent-ramdisk|deploy-ramdisk|fedora-user|overcloud-full}",2,5
openstack%2Fmetalsmith~master~I9c7bff59c195480ce6bd11dfdab7601bbdcba9e2,openstack/metalsmith,master,I9c7bff59c195480ce6bd11dfdab7601bbdcba9e2,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:03:13.000000000,2021-08-18 11:03:38.000000000,2021-08-18 11:02:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:03:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/606c88b5fbf11ae4a2856ec699ef244d55c34aaa', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I9c7bff59c195480ce6bd11dfdab7601bbdcba9e2\n""}]",0,799573,606c88b5fbf11ae4a2856ec699ef244d55c34aaa,9,2,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I9c7bff59c195480ce6bd11dfdab7601bbdcba9e2
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/73/799573/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,606c88b5fbf11ae4a2856ec699ef244d55c34aaa,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.2.1whitelist_externals = make,2,2
openstack%2Fironic-lib~master~Ib4340aacba21cadef655998b1729dc6b18e173a8,openstack/ironic-lib,master,Ib4340aacba21cadef655998b1729dc6b18e173a8,Increase version of hacking and pycodestyle,MERGED,2021-07-29 14:20:16.000000000,2021-08-18 11:01:45.000000000,2021-08-18 11:00:16.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 14:20:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/54a176a085909dfe161af7060c50633317778e90', 'message': 'Increase version of hacking and pycodestyle\n\nChange-Id: Ib4340aacba21cadef655998b1729dc6b18e173a8\n'}]",0,802896,54a176a085909dfe161af7060c50633317778e90,10,3,1,23851,,,0,"Increase version of hacking and pycodestyle

Change-Id: Ib4340aacba21cadef655998b1729dc6b18e173a8
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/96/802896/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,54a176a085909dfe161af7060c50633317778e90,increase-hacking-pycodestyle," hacking>=4.1.0,<5.0.0 # Apache-2.0 pycodestyle>=2.0.0,<3.0.0 # MIT"," hacking>=3.1.0,<4.0.0 # Apache-2.0 pycodestyle>=2.0.0,<2.7.0 # MIT",2,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7adcf5ed310903ed8f5064fbbb6af6b42f280936,openstack/python-tripleoclient,stable/train,I7adcf5ed310903ed8f5064fbbb6af6b42f280936,TRAIN-ONLY Fix overcloud support report for T,MERGED,2021-08-11 00:44:17.000000000,2021-08-18 10:23:23.000000000,2021-08-18 10:22:12.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32114}]","[{'number': 1, 'created': '2021-08-11 00:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/01c5ccbba7c16c0fc501ee6e71e8f717d756210b', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 2, 'created': '2021-08-11 00:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4be6f3d93d7eb416c87b3ec2dcfd2541ff9aa2f', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 3, 'created': '2021-08-11 01:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cad539148c2cfeac48f0e57dfa75d0765be0eee8', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 4, 'created': '2021-08-11 02:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d6c5cf9bc3faa89983233e3d5ea4aa8fad4bc15d', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 5, 'created': '2021-08-11 02:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1866117478913c9ebe96661cf12187b65a75723b', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 6, 'created': '2021-08-11 03:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff614adeb364e66b91f8068cc37935c09c811860', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 7, 'created': '2021-08-11 06:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e0016d82f6ef971e92508a4b81a615a2b65aed6', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 8, 'created': '2021-08-11 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/89f7731b8aad63d93d6c1e6415eb5670e40979f6', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 9, 'created': '2021-08-11 13:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6eb85ce0ff60292971da5abcf411e0ac4165c0e9', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 10, 'created': '2021-08-11 14:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fae7dba443ea207a33ef70abff94e36622da7df3', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 11, 'created': '2021-08-11 15:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c12b9018cc1e784efb1f5878083b90864c03b8de', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 12, 'created': '2021-08-11 15:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1eeb33cd999411659492dee6e6b0b613a2586b0', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}, {'number': 13, 'created': '2021-08-11 15:30:24.000000000', 'files': ['tripleoclient/tests/v1/overcloud_support/test_overcloud_support.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/v1/overcloud_support.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58caa75f026a33a0bb1231483b846193ad13c3b1', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\novercloud support report collect relies on\nos-collect-config running on the overcloud nodes.\nSince this isn't the case in Train, we need to\nchange how we manage this process. This change will\nbackport pieces from Ussuri and use Ansible rather\nthan Mistral.\n\nCloses-Bug: #1939461\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181\nChange-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936\n""}]",2,804182,58caa75f026a33a0bb1231483b846193ad13c3b1,28,6,13,30073,,,0,"TRAIN-ONLY Fix overcloud support report for T

overcloud support report collect relies on
os-collect-config running on the overcloud nodes.
Since this isn't the case in Train, we need to
change how we manage this process. This change will
backport pieces from Ussuri and use Ansible rather
than Mistral.

Closes-Bug: #1939461
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/804181
Change-Id: I7adcf5ed310903ed8f5064fbbb6af6b42f280936
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/804182/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_support.py'],1,01c5ccbba7c16c0fc501ee6e71e8f717d756210b,fix_support_report_collect,"import osfrom tripleoclient import constants from tripleoclient import utils help=_('Server name, group name, or partial name' ' to match. For example ""Controller"" will' ' match all controllers for an' ' environment.')) parser.add_argument('--stack', help=_(""Stack name to use for log collection.""), default='overcloud') # Deprecated in U parser.add_argument('-c', '--container', dest='container', help=_('This option no-longer has any effect.')) parser.add_argument('-o', '--output', dest='destination', default='/var/lib/tripleo/support', help=_('Output directory for the report')) # Deprecated in U parser.add_argument('--skip-container-delete', dest='skip_delete', default=False, help=_('This option no-longer has any effect.'), action='store_true') # Deprecated in U parser.add_argument('-t', '--timeout', dest='timeout', type=int, default=None, help=_('This option no-longer has any effect.')) # Deprecated in U parser.add_argument('-n', '--concurrency', dest='concurrency', type=int, default=None, help=_('This option no-longer has any effect.')) # Deprecated in U parser.add_argument('--collect-only', dest='collect_only', help=_('This option no-longer has any effect.'), default=False, action='store_true') # Deprecated in U parser.add_argument('--download-only', dest='download_only', help=_('This option no-longer has any effect.'), default=False, action='store_true') parser.add_argument('-i', '--inventory', dest='inventory_file', default='/home/stack/tripleo-ansible-inventory.yaml') inventory = parsed_args.inventory_file # If the user passes a relative path, we need to handle that: if not os.path.isabs(inventory): inventory = os.path.join(os.getcwd(), parsed_args.inventory_file) # Since the default inventory is in /var/lib/mistral. We don't # easily have access to that. Easiest option is to have the user # create a static inventory. This isn't necessary after Train. if not os.path.isfile(inventory): self.log.warning( ""Inventory not present at: {inventory}. You can generate "" ""the inventory file using: \n"" ""tripleo-ansible-inventory "" ""--stack {stack} --static-yaml-inventory {inventory}"".format( inventory=inventory, stack=parsed_args.stack, ) ) exit() extra_vars = { 'server_name': parsed_args.server_name, 'sos_destination': parsed_args.destination, } with utils.TempDirs() as tmp: playbook = '/usr/share/ansible/tripleo-playbooks/cli-support-collect-logs.yaml' utils.run_ansible_playbook( logger=self.log, ansible_config='/etc/ansible/ansible.cfg', playbook=playbook, inventory=inventory, python_interpreter='/usr/bin/python3', workdir=tmp, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars )","from tripleoclient.workflows import support help=_('Nova server_name or partial name to match.' ' For example ""controller"" will match all ' 'controllers for an environment.')) parser.add_argument('-c', '--container', dest='container', default='overcloud_support', help=_('Swift Container to store logs to')) parser.add_argument('-o', '--output', dest='destination', default='support_logs', help=_('Output directory for the report')) parser.add_argument('--skip-container-delete', dest='skip_delete', default=False, help=_('Do not delete the container after the ' 'files have been downloaded. Ignored ' 'if --collect-only or --download-only ' 'is provided.'), action='store_true') parser.add_argument('-t', '--timeout', dest='timeout', type=int, help=_('Maximum time to wait for the log ' 'collection and container deletion ' 'workflows to finish.')) parser.add_argument('-n', '--concurrency', dest='concurrency', type=int, default=None, help=_('Number of parallel log collection and ' 'object deletion tasks to run.')) group = parser.add_mutually_exclusive_group(required=False) group.add_argument('--collect-only', dest='collect_only', help=_('Skip log downloads, only collect logs and ' 'put in the container'), default=False, action='store_true') group.add_argument('--download-only', dest='download_only', help=_('Skip generation, only download from ' 'the provided container'), default=False, action='store_true') clients = self.app.client_manager container = parsed_args.container server_name = parsed_args.server_name destination = parsed_args.destination timeout = parsed_args.timeout concurrency = parsed_args.concurrency if not server_name: raise Exception(_('Please specify the server_name option.')) if not parsed_args.download_only: print(_('Starting log collection... (This may take a while)')) try: support.fetch_logs(clients, container, server_name, timeout=timeout, concurrency=concurrency) except Exception as err: self.log.error('Unable to fetch logs, {}'.format(err)) raise err if not parsed_args.collect_only: try: support.download_files(clients, container, destination) except Exception as err: self.log.error('Unable to download files, {}'.format(err)) raise err if not parsed_args.collect_only and not parsed_args.download_only and \ not parsed_args.skip_delete: print(_('Deleting container') + ' {}...'.format(container)) try: support.delete_container(clients, container, timeout=timeout, concurrency=concurrency) except Exception as err: self.log.error('Unable to delete container, {}'.format(err)) raise err",90,67
openstack%2Fopenstack-ansible~master~I8e699b82fb6ebef3373ee92a103f404009c784bc,openstack/openstack-ansible,master,I8e699b82fb6ebef3373ee92a103f404009c784bc,skip -W on sphinx-build for translation.,MERGED,2021-08-05 17:48:09.000000000,2021-08-18 10:22:42.000000000,2021-08-18 10:20:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-05 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85b0ac7ef0e9ef75582691fb9b998c44cdd39e8c', 'message': 'skip -W on sphinx-build for translation.\n\nChange-Id: I8e699b82fb6ebef3373ee92a103f404009c784bc\n'}, {'number': 2, 'created': '2021-08-18 08:43:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9e535931a771d2c577caa949cbc3d459ecf9d4c7', 'message': 'skip -W on sphinx-build for translation.\n\nChange-Id: I8e699b82fb6ebef3373ee92a103f404009c784bc\n'}]",0,803635,9e535931a771d2c577caa949cbc3d459ecf9d4c7,12,3,2,13095,,,0,"skip -W on sphinx-build for translation.

Change-Id: I8e699b82fb6ebef3373ee92a103f404009c784bc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/803635/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,85b0ac7ef0e9ef75582691fb9b998c44cdd39e8c,,setenv = SPHINX_WARNINGS_TRANS=1 ,,3,0
openstack%2Fneutron~master~I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,openstack/neutron,master,I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,Add missing options to generated neutron.conf,MERGED,2021-08-14 14:31:37.000000000,2021-08-18 10:20:42.000000000,2021-08-18 10:18:38.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96c57e795391b66e29e67e4c299398c3a0fc6c64', 'message': 'Add options for the healthcheck middleware\n\nChange 133200014ba4aabfda6c516dda2e42e7638c3e4d enabled the healthcheck\nmiddleware in api pipeline but parameters of the middleware are not\nincluded in auto-generated neutron.conf .\n\nThis change adds the missing oslo.config.opts endpoint so that\nthe available parameters are picked up by oslo-config-generator.\n\nChange-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7\n'}, {'number': 2, 'created': '2021-08-16 00:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6474a4eb76de5fc35924d3b9ae756d4f3a0ec4a', 'message': 'Add options for the healthcheck middleware\n\nChange 133200014ba4aabfda6c516dda2e42e7638c3e4d enabled the healthcheck\nmiddleware in api pipeline but parameters of the middleware are not\nincluded in auto-generated neutron.conf .\n\nThis change adds the missing oslo.config.opts endpoint so that\nthe available parameters are picked up by oslo-config-generator.\n\nCloses-Bug: #1940009\nChange-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7\n'}, {'number': 3, 'created': '2021-08-16 08:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21349bcf69e8d5f3b0c2f87df12c6b804c54987a', 'message': 'Add missing options to neutron.conf auto-generated\n\nThis change adds missing oslo.config.opts endpoints to the config file\nto generated neutron.conf, so that the following options are included\nin the neutron.conf generated by the oslo-config-generator command.\n\n1) Some options of the oslo.service library, related to periodic tasks\n   and base service implementation\n\n2) Options of the oslo.reports library\n\n3) Options of the healthcheck middleware from oslo.middleware\n\nCloses-Bug: #1940009\nChange-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7\n'}, {'number': 4, 'created': '2021-08-16 08:46:18.000000000', 'files': ['etc/oslo-config-generator/neutron.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c75df16e5021e28aaa9961ed0977f30fa278a1dc', 'message': 'Add missing options to generated neutron.conf\n\nThis change adds missing oslo.config.opts endpoints to the config file\nto generated neutron.conf, so that the following options are included\nin the neutron.conf generated by the oslo-config-generator command.\n\n1) Some options of the oslo.service library, related to periodic tasks\n   and base service implementation\n\n2) Options of the oslo.reports library\n\n3) Options of the healthcheck middleware from oslo.middleware\n\nCloses-Bug: #1940009\nChange-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7\n'}]",1,804571,c75df16e5021e28aaa9961ed0977f30fa278a1dc,35,4,4,9816,,,0,"Add missing options to generated neutron.conf

This change adds missing oslo.config.opts endpoints to the config file
to generated neutron.conf, so that the following options are included
in the neutron.conf generated by the oslo-config-generator command.

1) Some options of the oslo.service library, related to periodic tasks
   and base service implementation

2) Options of the oslo.reports library

3) Options of the healthcheck middleware from oslo.middleware

Closes-Bug: #1940009
Change-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/804571/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/neutron.conf'],1,96c57e795391b66e29e67e4c299398c3a0fc6c64,bug/1940009,namespace = oslo.middleware.healthcheck,,1,0
openstack%2Fnova~master~Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5,openstack/nova,master,Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5,Nova supports password encrypted VNC,ABANDONED,2018-12-04 14:20:13.000000000,2021-08-18 10:02:52.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25946}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28889}, {'_account_id': 29963}, {'_account_id': 31412}, {'_account_id': 32015}]","[{'number': 1, 'created': '2018-12-04 14:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d9f7a1525ae45f905afbf5a18b165c9c9f34a83', 'message': 'Add rfb.VNC support for novncproxy\n\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 2, 'created': '2018-12-06 12:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6aba206f5a0b8a169785554548d12671fa1cdd59', 'message': 'Add rfb.VNC support for novncproxy\n\nAs part of bp/nova-support-webvnc-with-password-anthentication,\nworks as follows are done to ensure novncproxy can support rfb.VNC:\n(1) providing novncproxy `vnc` option in auth schemes list by\nextending `nova.conf.vnc` and `nova.console.rfb.auths`;\n(2) adapt the security type negotiation in `nova.console.security\nproxy.rfb` to provide compatibility for rfc.VNC;\n\nNote that, why item (2) works needed:\nIn current version, novncproxy tells tenant sock to use hardcoded\n`vnc.AuthType.NONE` when serving as mediator between client and vnc\nserver. However, noVNC client provides native support for `vnc.Auth\nType.VNC` with password security handshake handle, and thus, a rfb.\nVNC auth scheme is implemented with no-ops `security_handshake`\nleaving noVNC/websockify to do the stuff.\n\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 3, 'created': '2019-05-17 05:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3301d662d546ba6afe8aa2d46041a963fdeaa6bf', 'message': 'Add rfb.VNC support for novncproxy\n\nAs part of bp/nova-support-webvnc-with-password-anthentication,\nworks as follows are done to ensure novncproxy can support rfb.VNC:\n(1) providing novncproxy `vnc` option in auth schemes list by\nextending `nova.conf.vnc` and `nova.console.rfb.auths`;\n(2) adapt the security type negotiation in `nova.console.security\nproxy.rfb` to provide compatibility for rfc.VNC;\n\nNote that, why item (2) works needed:\nIn current version, novncproxy tells tenant sock to use hardcoded\n`vnc.AuthType.NONE` when serving as mediator between client and vnc\nserver. However, noVNC client provides native support for `vnc.Auth\nType.VNC` with password security handshake handle, and thus, a rfb.\nVNC auth scheme is implemented with no-ops `security_handshake`\nleaving noVNC/websockify to do the stuff.\n\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 4, 'created': '2020-03-30 10:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a97e4474a2570204357abac8e6c3baabf2647ce0', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 5, 'created': '2020-03-30 10:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2a3a9fb6d91889e7806da346d260aa6832ae6ab', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 6, 'created': '2020-04-02 03:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797b6976108bf3cb168d49cfde3897b19ebf1628', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 7, 'created': '2020-04-05 03:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/009f89b0dfc3eb8540b749b655533bd7ebc13535', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 8, 'created': '2020-04-05 04:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef0bae083710e753b771eb9a31f89ab326385257', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 9, 'created': '2020-04-05 10:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e3e3e6ec536f2801ccd7d608855c09de00c115b', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 10, 'created': '2020-04-07 07:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23cf436cc0ef9e715587ff81d06d41aceaf11f68', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 11, 'created': '2020-04-07 09:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8353b5787b1c6f2f533d48cb58574b789951eb20', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 12, 'created': '2020-04-09 07:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f851d869b6c3d059e671b1207c8ddc6dd9faa13', 'message': 'WIP: nova supports password encrypted VNC\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 13, 'created': '2020-09-17 07:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65c3df02431556991bbfb006aade9f14b534894c', 'message': 'WIP: nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 14, 'created': '2020-11-25 11:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e047f0788e92a7b699830440115471a8f37aebf7', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 15, 'created': '2020-11-27 07:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee847b8c333592108626bd6ccd2c0e70e8ba1ce4', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 16, 'created': '2020-11-30 08:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffd35f9b724aa579f273f3e31e27becc7130f3c3', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 17, 'created': '2020-12-01 09:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b864443ab56264064e226c05be62b39dc8aea1', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 18, 'created': '2020-12-02 06:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8feb5b3c7f849afe1edf9cfc6f1264129816b750', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 19, 'created': '2020-12-03 05:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a4ee85bc54abff21fb54b52892a0e585bb1fe71', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 20, 'created': '2020-12-03 08:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d9ffcc3c42a499788451b76bc05fb59153e8f71', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 21, 'created': '2020-12-10 07:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09bafcb225deb3b260aa02e4f6efcd6fe4794823', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 22, 'created': '2020-12-10 08:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0042d43b6eef9647845d3a26f7ca75ca2a94a39d', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 23, 'created': '2020-12-10 08:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6e5dd72da65d64b02c50034d207aca2ea6a941b', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 24, 'created': '2021-01-08 08:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fad057a32c55e3ac7d97454faa5160428cc98455', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 25, 'created': '2021-01-08 09:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43628b25be66a295455efc4413f69d71b5ce1bd3', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 26, 'created': '2021-01-12 08:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efa8a8ba20217978254888bf927e4b97d2cf3fc0', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 27, 'created': '2021-01-18 13:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/125b691458e01ea42b025a01957c7680f4b46407', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 28, 'created': '2021-01-19 01:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7162739628ac7b4a947188392d1fe04253d25816', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 29, 'created': '2021-02-02 12:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c99e28fc62d07dd8e3f6a7a24c9b39cacf725d7', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 30, 'created': '2021-02-05 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82c35946f7b5fcb22997ada929bac4a3918b53bd', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 31, 'created': '2021-02-19 09:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d515de6f7da43cf15dbad24c40bd5317e60d73ff', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 32, 'created': '2021-02-20 09:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e32152a5596d4c9b63a4653ec879ac0fa2e2531c', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 33, 'created': '2021-02-23 09:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f850c8dd5d013a0e5504e7ca15e62fd4ace29676', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 34, 'created': '2021-02-24 00:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/306d564f01539a00c41076a4d610b9d145744912', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 35, 'created': '2021-02-25 09:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79772492ada148f1f93d66169388d96b8af8d9e5', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 36, 'created': '2021-02-25 10:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74fc085d8cf1df9bf55010fa3b48d63d91456ee3', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}, {'number': 37, 'created': '2021-03-02 02:03:00.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/openstack/compute/remote_consoles.py', 'nova/objects/service.py', 'nova/api/openstack/compute/schemas/remote_consoles.py', 'nova/conf/vnc.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-remote-consoles/v2.89/create-vnc-console-req.json', 'nova/console/rfb/authvnc.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/compute/test_api.py', 'nova/virt/libvirt/driver.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/compute/vm_states.py', 'nova/api/validation/parameter_types.py', 'nova/tests/unit/console/rfb/test_auth.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/compute/manager.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/v2.89/create-vnc-console-resp.json.tpl', 'nova/compute/api.py', 'nova/tests/unit/console/rfb/test_authvnc.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/virt/fake.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/v2.89/create-vnc-console-req.json.tpl', 'releasenotes/notes/nova-support-webvnc-with-password-anthentication-a1e64b3a4ce1bff6.yaml', 'nova/console/securityproxy/rfb.py', 'nova/tests/unit/console/securityproxy/test_rfb.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'api-ref/source/servers-remote-consoles.inc', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/exception.py', 'nova/console/rfb/auths.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'doc/api_samples/os-remote-consoles/v2.89/create-vnc-console-resp.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/768347b0b0ecd6fd9f695b57f6132c11d8a7976d', 'message': 'Nova supports password encrypted VNC\n\nToday one user can simply kick/steal another user session from an\ninstance just by connecting to it. This patch aims at providing a safer\nremote console with password authentication, it would solve above issue\n(once it implements spice support).\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\nChange-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5\n'}]",199,622336,768347b0b0ecd6fd9f695b57f6132c11d8a7976d,326,24,37,28889,,,0,"Nova supports password encrypted VNC

Today one user can simply kick/steal another user session from an
instance just by connecting to it. This patch aims at providing a safer
remote console with password authentication, it would solve above issue
(once it implements spice support).

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>
Co-Authored-By: Wenping Song <songwenping@inspur.com>

Blueprint: nova-support-webvnc-with-password-anthentication
Change-Id: Ib6193bffc2922af1f79842cb2ea01b85c2e2b3c5
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/622336/34 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/securityproxy/rfb.py', 'nova/conf/vnc.py', 'nova/console/rfb/auths.py', 'nova/console/rfb/authvnc.py']",4,9d9f7a1525ae45f905afbf5a18b165c9c9f34a83,bp/nova-support-webvnc-with-password-anthentication,"# Copyright (c) 2014-2016 Red Hat, Inc # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.console.rfb import auth class RFBAuthSchemeVNC(auth.RFBAuthScheme): def security_type(self): return auth.AuthType.VNC def security_handshake(self, compute_sock): return compute_sock ",,43,9
openstack%2Fmasakari~master~Ied91aeacbe4200f3b9846052bd13bd0d069dcac6,openstack/masakari,master,Ied91aeacbe4200f3b9846052bd13bd0d069dcac6,[DNM] Test gate fix,ABANDONED,2021-08-17 18:56:59.000000000,2021-08-18 09:59:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-17 18:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/79498cb7d77f97c03d216cc431d8f131ef3759d6', 'message': '[DNM] Test gate fix\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\nChange-Id: Ied91aeacbe4200f3b9846052bd13bd0d069dcac6\n'}, {'number': 2, 'created': '2021-08-18 07:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/291dcf28ed8f289be21c95339fd8d3335355144b', 'message': '[DNM] Test gate fix\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/804951\nChange-Id: Ied91aeacbe4200f3b9846052bd13bd0d069dcac6\n'}, {'number': 3, 'created': '2021-08-18 08:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f7e546f0a5fa1652ef66bd37dfced3cef6ce9e45', 'message': '[DNM] Test gate fix\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/804950\nChange-Id: Ied91aeacbe4200f3b9846052bd13bd0d069dcac6\n'}, {'number': 4, 'created': '2021-08-18 09:05:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/296ca004d1d38748ff3df493384ce0d4a02942b4', 'message': '[DNM] Test gate fix\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\nChange-Id: Ied91aeacbe4200f3b9846052bd13bd0d069dcac6\n'}]",0,804914,296ca004d1d38748ff3df493384ce0d4a02942b4,11,1,4,30491,,,0,"[DNM] Test gate fix

Depends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913
Change-Id: Ied91aeacbe4200f3b9846052bd13bd0d069dcac6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/14/804914/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79498cb7d77f97c03d216cc431d8f131ef3759d6,dnm-test, testme: testme,,1,0
openstack%2Fcharm-rabbitmq-server~master~I2d573e8942e840e0e5376f1537a2a3373fea3db8,openstack/charm-rabbitmq-server,master,I2d573e8942e840e0e5376f1537a2a3373fea3db8,Improve parsing of cron schedule,MERGED,2021-08-17 18:29:38.000000000,2021-08-18 09:58:30.000000000,2021-08-18 09:58:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-17 18:29:38.000000000', 'files': ['unit_tests/test_nrpe_checks.py', 'files/check_rabbitmq_queues.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/45ded8b0f90c184a5dca819822e5fdfbb92c702a', 'message': ""Improve parsing of cron schedule\n\nImproving the parsing of the cron schedule for /etc/cron/rabbitmq-stats.\nThe code makes assumptions that the user in the cron entry will be the\nroot user, which is generally safe as that's what the charm applied.\nHowever, the parsing is brittle in that it depends on the 'root' string\nin the entry. This changes the code so that the cron timer spec is\nstripped out based on the column entries in the file.\n\nChange-Id: I2d573e8942e840e0e5376f1537a2a3373fea3db8\nFixes-Bug: #1939702\n""}]",0,804911,45ded8b0f90c184a5dca819822e5fdfbb92c702a,8,4,1,8992,,,0,"Improve parsing of cron schedule

Improving the parsing of the cron schedule for /etc/cron/rabbitmq-stats.
The code makes assumptions that the user in the cron entry will be the
root user, which is generally safe as that's what the charm applied.
However, the parsing is brittle in that it depends on the 'root' string
in the entry. This changes the code so that the cron timer spec is
stripped out based on the column entries in the file.

Change-Id: I2d573e8942e840e0e5376f1537a2a3373fea3db8
Fixes-Bug: #1939702
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/11/804911/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nrpe_checks.py', 'files/check_rabbitmq_queues.py']",2,45ded8b0f90c184a5dca819822e5fdfbb92c702a,bug/1939702," """"""Returns the cron schedule from the stats CRONJOB spec file. :return: a string containing the cron schedule :rtype: str """""" # TODO(wolsen) in general, the layout of this code makes a lot of # assumptions about the files that are written, etc and is somewhat # brittle for anything not specifically laid out by the charm. This # should be revisited in the future. # The first 5 columns make up the cron spec, but the output of this # function should be a string. Split the line on whitespace and reform # the spec string from the necessary columns # See LP#1939702 cron_spec = ' '.join(cronjob.split()[:5]) return cron_spec"," return cronjob.split(""root"")[0].strip()",16,2
openstack%2Fnova~master~I9bad79353cc901be06308f3c20389a179ccca6b6,openstack/nova,master,I9bad79353cc901be06308f3c20389a179ccca6b6,Add functional reproducer for bug-1939193,NEW,2021-08-07 10:37:01.000000000,2021-08-18 09:54:53.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 10:37:01.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c31a137443f64e549c8ee9dcba8754eb66848c4', 'message': 'Add functional reproducer for bug-1939193\n\nChange-Id: I9bad79353cc901be06308f3c20389a179ccca6b6\nRelated-Bug: #1939193\n'}]",0,803821,5c31a137443f64e549c8ee9dcba8754eb66848c4,6,2,1,9708,,,0,"Add functional reproducer for bug-1939193

Change-Id: I9bad79353cc901be06308f3c20389a179ccca6b6
Related-Bug: #1939193
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/803821/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,5c31a137443f64e549c8ee9dcba8754eb66848c4,bug/1939193,"from keystoneauth1 import exceptions as ks_exc def test_interface_attach_with_resource_request_placement_down(self): server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') ovs_port = self.neutron.port_with_resource_request post = { 'interfaceAttachment': { 'port_id': ovs_port['id'] }} # simulate that placement is down with mock.patch( 'nova.scheduler.client.report.SchedulerReportClient.get', side_effect=ks_exc.ConnectFailure() ): ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) # This is bug 1939193 self.assertEqual(500, ex.response.status_code) # self.assertEqual(503, ex.response.status_code) # self.assertIn( # 'Unable to communicate with the Placement API', str(ex)) ",,27,0
openstack%2Fskyline-console~master~I27b8bd0f5ef3f1c3327a21429c7676c6f387291c,openstack/skyline-console,master,I27b8bd0f5ef3f1c3327a21429c7676c6f387291c,[Animbus]fix: Fix disk volume when create instance by snap,ABANDONED,2021-08-18 09:25:05.000000000,2021-08-18 09:33:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-18 09:25:05.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9c35ff54bb6f67da870243910db003fc5d31ffc3', 'message': '[Animbus]fix: Fix disk volume when create instance by snap\n\nFix disk volume when create instance by snap\n\nIssue: 97268\nChange-Id: I27b8bd0f5ef3f1c3327a21429c7676c6f387291c\n'}]",0,804973,9c35ff54bb6f67da870243910db003fc5d31ffc3,3,2,1,33689,,,0,"[Animbus]fix: Fix disk volume when create instance by snap

Fix disk volume when create instance by snap

Issue: 97268
Change-Id: I27b8bd0f5ef3f1c3327a21429c7676c6f387291c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/73/804973/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",3,9c35ff54bb6f67da870243910db003fc5d31ffc3,patch-dev," autoRelease, expiredTime, instanceSnapshotDisk, if ( sourceValue === 'image' || (sourceValue === 'instanceSnapshot' && instanceSnapshotDisk === null) ) { rootVolume.volume_size = size; rootVolume.volume_type = type; rootVolume.delete_on_termination = deleteType === 1; }"," volume_size: size, volume_type: type, delete_on_termination: deleteType === 1,",118,9
openstack%2Fproject-config~master~I0da07a7d7677c03714b310600f2dc5c70a589e81,openstack/project-config,master,I0da07a7d7677c03714b310600f2dc5c70a589e81,bring tricircle under x namespaces,ABANDONED,2021-08-18 09:00:49.000000000,2021-08-18 09:32:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 09:00:49.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2c307277ea3b6491d790a8519b63bea54610afa1', 'message': 'bring tricircle under x namespaces\n\nChange-Id: I0da07a7d7677c03714b310600f2dc5c70a589e81\n'}]",0,804969,2c307277ea3b6491d790a8519b63bea54610afa1,3,1,1,28071,,,0,"bring tricircle under x namespaces

Change-Id: I0da07a7d7677c03714b310600f2dc5c70a589e81
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/804969/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",3,2c307277ea3b6491d790a8519b63bea54610afa1,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricirclce-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Fproject-config~master~If86d04177d912df1ec7d5eb781de3c2320618089,openstack/project-config,master,If86d04177d912df1ec7d5eb781de3c2320618089,bring tricircle under x namespace,ABANDONED,2021-08-16 09:39:50.000000000,2021-08-18 09:32:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-16 09:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1895df117abfcf969e4a4d584baec6df51e193bc', 'message': 'bring tricircle under x namespace\n\nChange-Id: If86d04177d912df1ec7d5eb781de3c2320618089\n'}, {'number': 2, 'created': '2021-08-16 10:01:57.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c967dcc5d07c5bc73bb889ee9157332779edbf9e', 'message': 'bring tricircle under x namespace\n\nChange-Id: If86d04177d912df1ec7d5eb781de3c2320618089\n'}]",3,804669,c967dcc5d07c5bc73bb889ee9157332779edbf9e,6,1,2,28071,,,0,"bring tricircle under x namespace

Change-Id: If86d04177d912df1ec7d5eb781de3c2320618089
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/804669/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",4,1895df117abfcf969e4a4d584baec6df51e193bc,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,26,0
openstack%2Fproject-config~master~Ie517cce09aecd221c12780c41f747b89411405f6,openstack/project-config,master,Ie517cce09aecd221c12780c41f747b89411405f6,bring tricircle under x namespaces,ABANDONED,2021-08-18 09:04:06.000000000,2021-08-18 09:32:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 09:04:06.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fcfc9291b4a7324cd4809bb57d96777377ee9732', 'message': 'bring tricircle under x namespaces\n\nChange-Id: Ie517cce09aecd221c12780c41f747b89411405f6\n'}]",0,804970,fcfc9291b4a7324cd4809bb57d96777377ee9732,3,1,1,28071,,,0,"bring tricircle under x namespaces

Change-Id: Ie517cce09aecd221c12780c41f747b89411405f6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/804970/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,fcfc9291b4a7324cd4809bb57d96777377ee9732,, - x/tricircle, - x/tricirlce,1,1
openstack%2Fproject-config~master~I0ae3ae657a5613809be86518178dcc5ba91d8393,openstack/project-config,master,I0ae3ae657a5613809be86518178dcc5ba91d8393,bring tricircle under x namespaces,ABANDONED,2021-08-18 09:20:52.000000000,2021-08-18 09:32:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 09:20:52.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e20c46aaaa554f6b499753ad19fb53d10485453', 'message': 'bring tricircle under x namespaces\n\nChange-Id: I0ae3ae657a5613809be86518178dcc5ba91d8393\n'}]",0,804972,5e20c46aaaa554f6b499753ad19fb53d10485453,3,1,1,28071,,,0,"bring tricircle under x namespaces

Change-Id: I0ae3ae657a5613809be86518178dcc5ba91d8393
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/804972/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",3,5e20c46aaaa554f6b499753ad19fb53d10485453,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Fneutron~stable%2Fwallaby~I28a4a5fef20d5049f4887d43006947b434de3d78,openstack/neutron,stable/wallaby,I28a4a5fef20d5049f4887d43006947b434de3d78,ovn: Don't fail db-sync if port binding changes,MERGED,2021-08-16 15:51:40.000000000,2021-08-18 09:09:42.000000000,2021-08-18 09:07:20.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 15:51:40.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/069faf570a5d75064520f3f42f53545be8998cd2', 'message': ""ovn: Don't fail db-sync if port binding changes\n\nDuring migration from OVS to OVN it can happen that gateway ports are\nscheduled to a different gateway chassis when Neutron is running. This\npatch doesn't fail in such case. The migration procedure runs the db\nsync twice in a row so it should be good to not perform any action when\nthis happens and let the next migration handle that.\n\nChange-Id: I28a4a5fef20d5049f4887d43006947b434de3d78\nCloses-Bug: #1939704\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 9e0c075bf169ed6f3d768cf23be6f47aeae0f98e)\n""}]",0,804723,069faf570a5d75064520f3f42f53545be8998cd2,10,3,1,8655,,,0,"ovn: Don't fail db-sync if port binding changes

During migration from OVS to OVN it can happen that gateway ports are
scheduled to a different gateway chassis when Neutron is running. This
patch doesn't fail in such case. The migration procedure runs the db
sync twice in a row so it should be good to not perform any action when
this happens and let the next migration handle that.

Change-Id: I28a4a5fef20d5049f4887d43006947b434de3d78
Closes-Bug: #1939704
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 9e0c075bf169ed6f3d768cf23be6f47aeae0f98e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/804723/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py']",2,069faf570a5d75064520f3f42f53545be8998cd2,bug/1939704-stable/wallaby,"from unittest import mock from neutron_lib import exceptions def test_db_migration_with_pb_not_found(self): vif_details_list = [ {pb.CAP_PORT_FILTER: ""true"", pb.OVS_HYBRID_PLUG: ""true"", pb.VIF_DETAILS_BRIDGE_NAME: ""foo"", pb.VIF_DETAILS_CONNECTIVITY: ""l2""}, {pb.CAP_PORT_FILTER: ""true"", pb.VIF_DETAILS_BRIDGE_NAME: ""foo""}, {""foo"": ""bar""}, {}, ] self._create_ml2_ovs_test_resources(vif_details_list) with mock.patch.object( port_obj.PortBinding, 'update', side_effect=exceptions.ObjectNotFound(id='foo')): with mock.patch.object(trunk_obj.Trunk, 'get_objects', return_value=[]): db_migration.migrate_neutron_database_to_ovn( self.mech_driver._plugin) self._validate_resources_after_migration(vif_details_list)",,33,1
openstack%2Ftripleo-common~stable%2Fvictoria~I7eaabc91005952aa956456944c46224f08f4c7f8,openstack/tripleo-common,stable/victoria,I7eaabc91005952aa956456944c46224f08f4c7f8,Remove now useless sudo call for port check,ABANDONED,2021-08-18 08:53:24.000000000,2021-08-18 09:08:37.000000000,,[],"[{'number': 1, 'created': '2021-08-18 08:53:24.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66f1dc40e96a1c5158070c57e5456b2455cce5e0', 'message': 'Remove now useless sudo call for port check\n\nBack then, the ""sudo"" was needed because healthchecks were running as\nroot, using a paunch created systemd unit/timer calling ""podman exec\n--user root"".\n\nNow that we\'re using native healthchecks, we can get rid of the sudo\ncall, since it\'s already using as the intended user.\n\nCloses-Bug: #1940068\n\nChange-Id: I7eaabc91005952aa956456944c46224f08f4c7f8\n(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)\n'}]",0,804864,66f1dc40e96a1c5158070c57e5456b2455cce5e0,4,0,1,28223,,,0,"Remove now useless sudo call for port check

Back then, the ""sudo"" was needed because healthchecks were running as
root, using a paunch created systemd unit/timer calling ""podman exec
--user root"".

Now that we're using native healthchecks, we can get rid of the sudo
call, since it's already using as the intended user.

Closes-Bug: #1940068

Change-Id: I7eaabc91005952aa956456944c46224f08f4c7f8
(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/804864/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,66f1dc40e96a1c5158070c57e5456b2455cce5e0,healthcheck/no-sudo-port-stable," match=$(( $match+$(find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))"," puser=$(get_user_from_process $process) match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))",1,2
openstack%2Ftripleo-common~stable%2Fussuri~I7eaabc91005952aa956456944c46224f08f4c7f8,openstack/tripleo-common,stable/ussuri,I7eaabc91005952aa956456944c46224f08f4c7f8,Remove now useless sudo call for port check,ABANDONED,2021-08-18 08:53:55.000000000,2021-08-18 09:08:28.000000000,,[],"[{'number': 1, 'created': '2021-08-18 08:53:55.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e76a97b84b65c5d31f00bb17a582593a3cfd9944', 'message': 'Remove now useless sudo call for port check\n\nBack then, the ""sudo"" was needed because healthchecks were running as\nroot, using a paunch created systemd unit/timer calling ""podman exec\n--user root"".\n\nNow that we\'re using native healthchecks, we can get rid of the sudo\ncall, since it\'s already using as the intended user.\n\nCloses-Bug: #1940068\n\nChange-Id: I7eaabc91005952aa956456944c46224f08f4c7f8\n(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)\n'}]",0,804865,e76a97b84b65c5d31f00bb17a582593a3cfd9944,4,0,1,28223,,,0,"Remove now useless sudo call for port check

Back then, the ""sudo"" was needed because healthchecks were running as
root, using a paunch created systemd unit/timer calling ""podman exec
--user root"".

Now that we're using native healthchecks, we can get rid of the sudo
call, since it's already using as the intended user.

Closes-Bug: #1940068

Change-Id: I7eaabc91005952aa956456944c46224f08f4c7f8
(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/65/804865/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,e76a97b84b65c5d31f00bb17a582593a3cfd9944,healthcheck/no-sudo-port-stable," match=$(( $match+$(find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))"," puser=$(get_user_from_process $process) match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))",1,2
openstack%2Ftripleo-common~stable%2Ftrain~I7eaabc91005952aa956456944c46224f08f4c7f8,openstack/tripleo-common,stable/train,I7eaabc91005952aa956456944c46224f08f4c7f8,Remove now useless sudo call for port check,ABANDONED,2021-08-18 08:54:05.000000000,2021-08-18 09:08:19.000000000,,[],"[{'number': 1, 'created': '2021-08-18 08:54:05.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71a693150fbd9a06b8e5b0dae7f36737b0bf93a7', 'message': 'Remove now useless sudo call for port check\n\nBack then, the ""sudo"" was needed because healthchecks were running as\nroot, using a paunch created systemd unit/timer calling ""podman exec\n--user root"".\n\nNow that we\'re using native healthchecks, we can get rid of the sudo\ncall, since it\'s already using as the intended user.\n\nCloses-Bug: #1940068\n\nChange-Id: I7eaabc91005952aa956456944c46224f08f4c7f8\n(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)\n'}]",0,804866,71a693150fbd9a06b8e5b0dae7f36737b0bf93a7,4,0,1,28223,,,0,"Remove now useless sudo call for port check

Back then, the ""sudo"" was needed because healthchecks were running as
root, using a paunch created systemd unit/timer calling ""podman exec
--user root"".

Now that we're using native healthchecks, we can get rid of the sudo
call, since it's already using as the intended user.

Closes-Bug: #1940068

Change-Id: I7eaabc91005952aa956456944c46224f08f4c7f8
(cherry picked from commit 36a7a4d093470ffe5d970cc288da292714b48f2a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/804866/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,71a693150fbd9a06b8e5b0dae7f36737b0bf93a7,healthcheck/no-sudo-port-stable," match=$(( $match+$(find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))"," puser=$(get_user_from_process $process) match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))",1,2
openstack%2Fzaqar~master~I29d901a8fa96acf55dc53f826a501a3109c0c7af,openstack/zaqar,master,I29d901a8fa96acf55dc53f826a501a3109c0c7af,Replace deprecated arguments of RequestContext,MERGED,2021-07-22 13:36:22.000000000,2021-08-18 09:07:07.000000000,2021-08-18 09:05:33.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 13:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0e6f282f1f46148e6194fddca4195bd1e9e0b733', 'message': 'Replace deprecated arguments of oslo_context.RequestContext\n\nThe following two arguments of oslo_context.RequestContext are\ndeprecated since oslo.context 2.18.\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nChange-Id: I29d901a8fa96acf55dc53f826a501a3109c0c7af\n'}, {'number': 2, 'created': '2021-07-22 13:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/684ac84eb17222db66a118feeb906c1cdbcc9f12', 'message': 'Replace deprecated arguments of oslo_context.RequestContext\n\nThe following two arguments of oslo_context.RequestContext are\ndeprecated since oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nChange-Id: I29d901a8fa96acf55dc53f826a501a3109c0c7af\n'}, {'number': 3, 'created': '2021-07-22 13:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/19f15afaab3483b48fb64165b85ffc2b609c6fce', 'message': 'Replace deprecated arguments of RequestContext\n\nThe following two arguments of the RequestContext class are deprecated\nsince oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nChange-Id: I29d901a8fa96acf55dc53f826a501a3109c0c7af\n'}, {'number': 4, 'created': '2021-07-22 15:26:26.000000000', 'files': ['zaqar/context.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/676207f838ee63036e01b6b4a96a5294117d27e9', 'message': 'Replace deprecated arguments of RequestContext\n\nThe following arguments of the RequestContext class are deprecated\nsince oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nChange-Id: I29d901a8fa96acf55dc53f826a501a3109c0c7af\n'}]",1,801856,676207f838ee63036e01b6b4a96a5294117d27e9,15,2,4,9816,,,0,"Replace deprecated arguments of RequestContext

The following arguments of the RequestContext class are deprecated
since oslo.context 2.18[1].
 user          : renamed to user_id
 tenant        : renamed to project_id
 domain        : renamed to domain_id
 user_domain   : renamed to user_domain_id
 project_domain: renamed to project_domain_id

Change-Id: I29d901a8fa96acf55dc53f826a501a3109c0c7af
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/56/801856/4 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/context.py'],1,0e6f282f1f46148e6194fddca4195bd1e9e0b733,context-attr," user_id=user_id, project_id=project_id, domain_id=domain_id, user_domain_id=user_domain_id, project_domain_id=project_domain_id,"," user=user_id, tenant=project_id, domain=domain_id, user_domain=user_domain_id, project_domain=project_domain_id,",5,5
openstack%2Fneutron-lib~master~Ifff34a655170df4836dbcb2ff19effca644654bc,openstack/neutron-lib,master,Ifff34a655170df4836dbcb2ff19effca644654bc,extension for adding bfd monitors to extraroutes,MERGED,2021-03-05 09:04:39.000000000,2021-08-18 08:58:42.000000000,2021-08-18 08:56:41.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/790a3ceb1b955ec7df33bff30b4568f63d969a5f', 'message': 'WIP: extension for adding bfd monitors to extraroutes\n\nTODO:\n* api-ref\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 2, 'created': '2021-03-22 10:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/532b9d21e9df4f9e5a169d4826a017e9474fd74b', 'message': 'WIP: extension for adding bfd monitors to extraroutes\n\nTODO:\n* api-ref\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 3, 'created': '2021-04-14 15:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f7c145e578de92f5b5e86ffb730c261880a6b700', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 4, 'created': '2021-05-11 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/03a291c2f7705776234482efc4a4ec29711adb60', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 5, 'created': '2021-05-12 06:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/adf76777a52e2c5268da4151872bfe639c8ce226', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 6, 'created': '2021-05-21 12:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7403fa9a5e80a8c95eed62fc1ff0ee996ebd9f35', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 7, 'created': '2021-06-24 13:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6d3e56b36aeb26db00e35c3049edc8214d3c74ed', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 8, 'created': '2021-07-15 13:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1f2341a6bbed38c6ffd367213493219f17975e26', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 9, 'created': '2021-07-27 09:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/37d03b0884b772d2a39802d1eb0964164f072a7e', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 10, 'created': '2021-07-30 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/604c544336c1348cb270677de8231e7ccb8d42d6', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 11, 'created': '2021-08-05 16:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/df872f5bcdbe1c76147f4de9179202501fab64f2', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 12, 'created': '2021-08-09 14:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e8a7a36149f6df0ae600f650cceef27e8f5b2ec1', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 13, 'created': '2021-08-17 11:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/063b8e1d4adddd673ebf889c686d0877402a4844', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 14, 'created': '2021-08-17 11:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/30e5902cfd14d21f21b534604d8ff359ae251236', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 15, 'created': '2021-08-17 14:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f183ebebba9048ec8550c2ac062ff3601ad0dd6a', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 16, 'created': '2021-08-17 16:45:51.000000000', 'files': ['api-ref/source/v2/samples/routers/routers-list-response.json', 'neutron_lib/tests/unit/api/validators/test_validators.py', 'api-ref/source/v2/samples/routers/router-add-extraroutes-response.json', 'releasenotes/notes/bfd_monitor_for_extraroutes-ea889414ec8de401.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/routers/router-update-request.json', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/routers/router-show-response.json', 'neutron_lib/api/validators/__init__.py', 'neutron_lib/tests/unit/api/definitions/test_bfd_for_extraroutes.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/routers/router-add-extraroutes-request.json', 'api-ref/source/v2/samples/routers/router-update-response.json', 'neutron_lib/api/definitions/bfd_for_extraroutes.py', 'api-ref/source/v2/routers.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/eb2c8a3c977a561abbf64a18248fda5169feee51', 'message': 'extension for adding bfd monitors to extraroutes\n\nChange-Id: Ifff34a655170df4836dbcb2ff19effca644654bc\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}]",24,778859,eb2c8a3c977a561abbf64a18248fda5169feee51,50,5,16,8313,,,0,"extension for adding bfd monitors to extraroutes

Change-Id: Ifff34a655170df4836dbcb2ff19effca644654bc
Related-Bug: #1907089
See-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/59/778859/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators/__init__.py', 'neutron_lib/tests/unit/api/definitions/test_bfd_for_extraroutes.py', 'releasenotes/notes/bfd_monitor_for_extraroutes-ea889414ec8de401.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/bfd_for_extraroutes.py']",5,790a3ceb1b955ec7df33bff30b4568f63d969a5f,bug/1907089,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters from neutron_lib.api.definitions import extraroute from neutron_lib.api.definitions import l3 from neutron_lib import constants ALIAS = 'bfd-for-extraroutes' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = 'BFD monitors for extraroutes' DESCRIPTION = ('Provides the possibility to associate a bfd_monitor to' 'extra_routes') UPDATED_TIMESTAMP = '2021-02-17T00:00:00+00:00' RESOURCE_NAME = l3.ROUTER COLLECTION_NAME = l3.ROUTERS ROUTES = 'routes' RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { ROUTES: { 'allow_post': False, 'allow_put': True, 'validate': {'type:hostroutes': ['destination', 'nexthop', 'bfd_monitor_id']}, 'convert_to': converters.convert_none_to_empty_list, 'is_visible': True, 'default': constants.ATTR_NOT_SPECIFIED}, } } SUB_RESOURCE_ATTRIBUTE_MAP = None ACTION_MAP = {} REQUIRED_EXTENSIONS = [l3.ALIAS, extraroute.ALIAS] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,77,2
openstack%2Fmistral~stable%2Fqueens~I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,openstack/mistral,stable/queens,I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,Mask sensitive data when logging action results,ABANDONED,2020-06-10 13:14:07.000000000,2021-08-18 08:54:22.000000000,,"[{'_account_id': 3153}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-10 13:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5c38ccf169104c396bc4f0870dbc48b36d2a4baa', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n(cherry picked from commit 4d3ef8887fb765c9edd36f62cc66904aff4c1b0e)\n'}, {'number': 2, 'created': '2020-06-17 08:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f409dcf484a58f2cdd5ae6988a32d42f888d2296', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n(cherry picked from commit 4d3ef8887fb765c9edd36f62cc66904aff4c1b0e)\n'}, {'number': 3, 'created': '2020-07-02 17:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e181f52e826df7b79681f077417b137a977c0174', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n(cherry picked from commit 4d3ef8887fb765c9edd36f62cc66904aff4c1b0e)\n'}, {'number': 4, 'created': '2020-07-29 11:47:24.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/47736a6d566c173e36ec908c389df2c95350b6d6', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n(cherry picked from commit 4d3ef8887fb765c9edd36f62cc66904aff4c1b0e)\n'}]",0,734830,47736a6d566c173e36ec908c389df2c95350b6d6,20,8,4,28223,,,0,"Mask sensitive data when logging action results

When passwords or other sensible data is returned by a Action, they can
be logged by Mistral. This change uses the password masking
functionality used in mistral-lib and privided by oslo-utils.

This function uses the standard cut_repr method in mistral-lib, which
also means the output is more standardised.

Related-Bug: #1850843
Change-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe
(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)
(cherry picked from commit 4d3ef8887fb765c9edd36f62cc66904aff4c1b0e)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/30/734830/3 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/actions.py'],1,5c38ccf169104c396bc4f0870dbc48b36d2a4baa,bug/1850843-stable/queens, result.cut_repr())," def _result_msg(): if state == states.ERROR: return ""error = %s"" % utils.cut(result.error) return ""result = %s"" % utils.cut(result.data) _result_msg())",1,7
openstack%2Fcharm-rabbitmq-server~master~Ife8afbfa2f7ddec713b875f2938b3bd7aca952c4,openstack/charm-rabbitmq-server,master,Ife8afbfa2f7ddec713b875f2938b3bd7aca952c4,Add Hirsute to the test gate,MERGED,2021-08-16 13:18:20.000000000,2021-08-18 08:48:49.000000000,2021-08-18 08:48:49.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:18:20.000000000', 'files': ['tests/tests.yaml', 'osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/19a1f3d828f49f8d09d2f9c46285aac84f13cd46', 'message': 'Add Hirsute to the test gate\n\nChange-Id: Ife8afbfa2f7ddec713b875f2938b3bd7aca952c4\n'}]",0,804738,19a1f3d828f49f8d09d2f9c46285aac84f13cd46,7,3,1,31289,,,0,"Add Hirsute to the test gate

Change-Id: Ife8afbfa2f7ddec713b875f2938b3bd7aca952c4
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/38/804738/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml']",2,19a1f3d828f49f8d09d2f9c46285aac84f13cd46,hirsute, - rabbit-hirsute- job: name: rabbit-hirsute parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: hirsute-wallaby,,8,1
openstack%2Fsushy-oem-idrac~stable%2Fwallaby~I492a201e9ae2be6a8b9284ca50f21698d9593526,openstack/sushy-oem-idrac,stable/wallaby,I492a201e9ae2be6a8b9284ca50f21698d9593526,Fix missing Target@Redfish.AllowableValues,MERGED,2021-08-10 13:35:35.000000000,2021-08-18 08:46:41.000000000,2021-08-18 08:46:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-10 13:35:35.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/b53d2dad9f80265095824572d1f382c0c1faadbd', 'message': 'Fix missing Target@Redfish.AllowableValues\n\nChange-Id: I492a201e9ae2be6a8b9284ca50f21698d9593526\n(cherry picked from commit 81fcf99ee5c07b0404d3167a8a8ca9b62f87086e)\n'}]",0,804024,b53d2dad9f80265095824572d1f382c0c1faadbd,6,3,1,27909,,,0,"Fix missing Target@Redfish.AllowableValues

Change-Id: I492a201e9ae2be6a8b9284ca50f21698d9593526
(cherry picked from commit 81fcf99ee5c07b0404d3167a8a8ca9b62f87086e)
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/24/804024/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",2,b53d2dad9f80265095824572d1f382c0c1faadbd,export-read-only-stable/wallaby," if not allowed_values: LOG.warning('Could not figure out the allowed values for the ' 'target of export system configuration at %s', self.path) return set(mgr_maps.EXPORT_CONFIG_VALUE_MAP_REV) ",,23,0
openstack%2Ftripleo-ansible~master~I5943d7b00634c3d733e3e38b4ed247ccac253e27,openstack/tripleo-ansible,master,I5943d7b00634c3d733e3e38b4ed247ccac253e27,Allow watch_frr options to be set and support frr-8.0,MERGED,2021-08-10 16:22:11.000000000,2021-08-18 08:33:10.000000000,2021-08-18 08:33:10.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 16:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb165bf7298bf08b8eb0142645ac5829c33924fb', 'message': 'WIP DNM frr-8.0 support\n\nChange-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27\n'}, {'number': 2, 'created': '2021-08-17 11:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc0f736527bbdfd19891951e341a44cafbc6010a', 'message': ""Allow watch_frr options to be set and support frr-8.0\n\nfrr-8.0 does not need any watchfrr options set.\nLet's still allow some customizability in case we'll need to\ntweak them one day.\n\nChange-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27\n""}, {'number': 3, 'created': '2021-08-17 14:47:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f13b51fa0e0d690020287601b46bd2e6198c2982', 'message': ""Allow watch_frr options to be set and support frr-8.0\n\nfrr-8.0 does not need any watchfrr options set.\nLet's still allow some customizability in case we'll need to\ntweak them one day.\n\nTested on a BGP deployment.\n\nChange-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27\n""}]",0,804111,f13b51fa0e0d690020287601b46bd2e6198c2982,17,5,3,20172,,,0,"Allow watch_frr options to be set and support frr-8.0

frr-8.0 does not need any watchfrr options set.
Let's still allow some customizability in case we'll need to
tweak them one day.

Tested on a BGP deployment.

Change-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/804111/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2'],1,fb165bf7298bf08b8eb0142645ac5829c33924fb,frr-8.0,"#watchfrr_options=""-r '/usr/lib/frr/frr restart %s' -s '/usr/lib/frr/frr start %s' -k '/usr/lib/frr/frr stop %s'""","watchfrr_options=""-r '/usr/lib/frr/frr restart %s' -s '/usr/lib/frr/frr start %s' -k '/usr/lib/frr/frr stop %s'""",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0d662a6f5a5ee2dbe3fd111e3592ededb2b22b44,openstack/tripleo-heat-templates,stable/train,I0d662a6f5a5ee2dbe3fd111e3592ededb2b22b44,wip mount /var/lib/rabbitmq in init bundles,ABANDONED,2020-09-23 07:52:06.000000000,2021-08-18 08:24:10.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-23 07:52:06.000000000', 'files': ['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dd8043952647a638f98f33720b3be8597ee3274', 'message': 'wip mount /var/lib/rabbitmq in init bundles\n\nChange-Id: I0d662a6f5a5ee2dbe3fd111e3592ededb2b22b44\n'}]",0,753538,6dd8043952647a638f98f33720b3be8597ee3274,5,3,1,20172,,,0,"wip mount /var/lib/rabbitmq in init bundles

Change-Id: I0d662a6f5a5ee2dbe3fd111e3592ededb2b22b44
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/753538/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,6dd8043952647a638f98f33720b3be8597ee3274,, - - /var/lib/rabbitmq:/var/lib/rabbitmq,,3,0
openstack%2Fcyborg~master~I72c6ac4fc88e3eb9fb510c739b2bb69207971bd7,openstack/cyborg,master,I72c6ac4fc88e3eb9fb510c739b2bb69207971bd7,DNM: test tempest,ABANDONED,2021-08-11 05:46:13.000000000,2021-08-18 08:05:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-11 05:46:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5b0e3ba42dd1dfe57d94b4f61dbfdd3ed61298ad', 'message': 'DNM: test tempest\n\nChange-Id: I72c6ac4fc88e3eb9fb510c739b2bb69207971bd7\n'}]",0,804198,5b0e3ba42dd1dfe57d94b4f61dbfdd3ed61298ad,3,1,1,31412,,,0,"DNM: test tempest

Change-Id: I72c6ac4fc88e3eb9fb510c739b2bb69207971bd7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/98/804198/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5b0e3ba42dd1dfe57d94b4f61dbfdd3ed61298ad,,oslo.db>=4.44.0 # Apache-2.0,oslo.db>=10.0.0 # Apache-2.0,1,1
openstack%2Fneutron~master~I08227fac7001d526ae6ffdaa9a1e32fd0817a472,openstack/neutron,master,I08227fac7001d526ae6ffdaa9a1e32fd0817a472,Supports Pagination and Sorting for agent List,ABANDONED,2020-07-30 11:05:33.000000000,2021-08-18 07:59:51.000000000,,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}, {'_account_id': 31916}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-07-30 11:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b04ebf63c06a5b51016427753b34ee9e9b47122', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\n'}, {'number': 2, 'created': '2020-07-30 11:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0bcb6b85bbbf2e01693558bd25d357b2a6b0b9e', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 3, 'created': '2020-08-18 10:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebadea452856780efaae557ed8d04c220d676216', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 4, 'created': '2020-08-18 10:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/348bc77fb8ec30319d0b088c84b05a33056c7a49', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 5, 'created': '2020-08-18 10:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d06c119721cb840529aad43c08f4e2143339a5a5', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 6, 'created': '2020-09-30 12:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af4d001d980230caffb7f62a5aea1b0c199b0e2f', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 7, 'created': '2020-10-01 08:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0892c1ed851b6f7c1da5b699d22638a2f6d5c0', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 8, 'created': '2021-04-30 15:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/364385a92fcf4f317a096063593e5ade591b4288', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 9, 'created': '2021-05-01 22:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc0eea8f1f79916a705129dc0d3bf812c9c2bb31', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n(cherry picked from commit e57bf4095f0cb447609ec713c5619834d787a38e)\n'}, {'number': 10, 'created': '2021-05-05 17:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8deae33690890a6612fa64516d91a7336c3d9b77', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}, {'number': 11, 'created': '2021-05-07 15:00:12.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/extensions/agent.py', 'neutron/extensions/agent_sort_key.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ec5dda234d1cc0856c6c527789ae7d75b88ec2b', 'message': 'Supports Pagination and Sorting for agent List\n\nNeutron-lib patch defined with new  API extension to support ""sort_key""\nargument and fix was merged.\n\nChange-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472\nCloses-Bug: #1877254\n'}]",22,743953,4ec5dda234d1cc0856c6c527789ae7d75b88ec2b,154,14,11,31916,,,0,"Supports Pagination and Sorting for agent List

Neutron-lib patch defined with new  API extension to support ""sort_key""
argument and fix was merged.

Change-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472
Closes-Bug: #1877254
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/743953/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/extensions/agent.py', 'neutron/extensions/agent_sort_key.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,9b04ebf63c06a5b51016427753b34ee9e9b47122,bug/1877254-patch7,"def get_agents(self, context, filters=None, fields=None, _driver=None, **kwargs):","def get_agents(self, context, filters=None, fields=None, _driver=None):",32,4
openstack%2Fneutron-lib~master~Ia70485ed7713436dd6433ed39ae721500dbed7dd,openstack/neutron-lib,master,Ia70485ed7713436dd6433ed39ae721500dbed7dd,"Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""",MERGED,2021-08-17 16:42:55.000000000,2021-08-18 07:58:56.000000000,2021-08-18 07:57:35.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 16:42:55.000000000', 'files': ['neutron_lib/api/definitions/l3_ext_gw_mode.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c6f576e66b577b9929f080f1ffd83cd3783794a4', 'message': 'Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""\n\nThat API definition will be used during the policy check to create the\nneeded rule for each internal GW info element, specifically with the\nexternal network fixed IPs. Only the owner of the external network or\nthe administrator can create fixed IPs on the external network.\n\nChange-Id: Ia70485ed7713436dd6433ed39ae721500dbed7dd\nCloses-Bug: #1940224\n'}]",0,804894,c6f576e66b577b9929f080f1ffd83cd3783794a4,11,4,1,16688,,,0,"Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""

That API definition will be used during the policy check to create the
needed rule for each internal GW info element, specifically with the
external network fixed IPs. Only the owner of the external network or
the administrator can create fixed IPs on the external network.

Change-Id: Ia70485ed7713436dd6433ed39ae721500dbed7dd
Closes-Bug: #1940224
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/94/804894/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/l3_ext_gw_mode.py'],1,c6f576e66b577b9929f080f1ffd83cd3783794a4,bug/1940224,"from neutron_lib.api import converters 'validate': { 'type:dict_or_nodata': { 'network_id': {'type:uuid': None, 'required': True}, 'enable_snat': {'type:boolean': None, 'required': False, 'convert_to': converters.convert_to_boolean}, 'external_fixed_ips': { 'type:fixed_ips': None, 'required': False } } }"," 'validate': {'type:external_gw_info': None},",13,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,openstack/python-tripleoclient,stable/ussuri,I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,WIP Retry the start_workflow a few times,ABANDONED,2021-04-27 06:34:19.000000000,2021-08-18 07:06:14.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 06:34:19.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a21f053594f57bb314eaab0a061f6dba0148eaff', 'message': 'WIP Retry the start_workflow a few times\n\nI had a converge run (post minor-update) fail with the following\ntraceback:\n\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request\n...\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create(\'/executions\', data)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, \'POST\', **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge\n2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1\n\nThe above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection\nrefused for a short moment. This happened when we tried to create the workflow execution.\n\nIn the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")\nlet\'s try and add some resilience when we create the workflow execution and not only when we monitor it.\n\nChange-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3\n'}]",1,788144,a21f053594f57bb314eaab0a061f6dba0148eaff,4,2,1,20172,,,0,"WIP Retry the start_workflow a few times

I had a converge run (post minor-update) fail with the following
traceback:

2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request
...
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create('/executions', data)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, 'POST', **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge
2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1

The above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection
refused for a short moment. This happened when we tried to create the workflow execution.

In the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")
let's try and add some resilience when we create the workflow execution and not only when we monitor it.

Change-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/788144/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,a21f053594f57bb314eaab0a061f6dba0148eaff,,from tenacity import retry@retry(stop=stop_after_attempt(3)),,2,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,openstack/python-tripleoclient,stable/victoria,I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,WIP Retry the start_workflow a few times,ABANDONED,2021-04-27 06:32:46.000000000,2021-08-18 07:06:09.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 06:32:46.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f897a60459840494a69208f5ce57d107057b55f6', 'message': 'WIP Retry the start_workflow a few times\n\nI had a converge run (post minor-update) fail with the following\ntraceback:\n\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request\n...\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create(\'/executions\', data)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, \'POST\', **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge\n2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1\n\nThe above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection\nrefused for a short moment. This happened when we tried to create the workflow execution.\n\nIn the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")\nlet\'s try and add some resilience when we create the workflow execution and not only when we monitor it.\n\nChange-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3\n'}]",1,788165,f897a60459840494a69208f5ce57d107057b55f6,4,2,1,20172,,,0,"WIP Retry the start_workflow a few times

I had a converge run (post minor-update) fail with the following
traceback:

2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request
...
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create('/executions', data)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, 'POST', **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge
2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1

The above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection
refused for a short moment. This happened when we tried to create the workflow execution.

In the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")
let's try and add some resilience when we create the workflow execution and not only when we monitor it.

Change-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/788165/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,f897a60459840494a69208f5ce57d107057b55f6,,from tenacity import retry@retry(stop=stop_after_attempt(3)),,2,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,openstack/python-tripleoclient,stable/train,I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3,WIP Retry the start_workflow a few times,ABANDONED,2021-04-27 06:37:46.000000000,2021-08-18 07:06:05.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 06:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a0ef8a086d0aa0034f74cc12b371c95299b6623', 'message': 'WIP Retry the start_workflow a few times\n\nI had a converge run (post minor-update) fail with the following\ntraceback:\n\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request\n...\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create(\'/executions\', data)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, \'POST\', **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge\n2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1\n\nThe above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection\nrefused for a short moment. This happened when we tried to create the workflow execution.\n\nIn the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")\nlet\'s try and add some resilience when we create the workflow execution and not only when we monitor it.\n\nChange-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3\n'}, {'number': 2, 'created': '2021-04-27 07:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/989fbd663a44accbcbe4689834c78ce91681c4c2', 'message': 'WIP Retry the start_workflow a few times\n\nI had a converge run (post minor-update) fail with the following\ntraceback:\n\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request\n...\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create(\'/executions\', data)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, \'POST\', **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge\n2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1\n\nThe above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection\nrefused for a short moment. This happened when we tried to create the workflow execution.\n\nIn the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")\nlet\'s try and add some resilience when we create the workflow execution and not only when we monitor it.\n\nChange-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3\n'}, {'number': 3, 'created': '2021-04-27 08:33:38.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43d45db26af12e696131d370e1057722303fe1f7', 'message': 'WIP Retry the start_workflow a few times\n\nI had a converge run (post minor-update) fail with the following\ntraceback:\n\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request\n...\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create(\'/executions\', data)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, \'POST\', **kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge\n2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: (\'Connection aborted.\', BrokenPipeError(32, \'Broken pipe\'))\n2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1\n\nThe above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection\nrefused for a short moment. This happened when we tried to create the workflow execution.\n\nIn the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")\nlet\'s try and add some resilience when we create the workflow execution and not only when we monitor it.\n\nChange-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3\n'}]",1,788167,43d45db26af12e696131d370e1057722303fe1f7,7,2,3,20172,,,0,"WIP Retry the start_workflow a few times

I had a converge run (post minor-update) fail with the following
traceback:

2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge [-] Exception occured while running the command: keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge Traceback (most recent call last):
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 600, in urlopen
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     chunked=chunked)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 354, in _make_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     conn.request(method, url, **httplib_request_kw)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib64/python3.6/http/client.py"", line 1269, in request
...
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 204, in get_hosts_and_enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     enable_ssh_timeout, enable_ssh_port_timeout)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/deployment.py"", line 290, in enable_ssh_admin
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/base.py"", line 40, in start_workflow
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     workflow_input=workflow_input
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/v2/executions.py"", line 61, in create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self._create('/executions', data)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/base.py"", line 144, in _create
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = self.http_client.post(url, data, headers)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 54, in decorator
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = func(self, *args, **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/mistralclient/api/httpclient.py"", line 120, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.session.post(self.base_url + url, data=body, **options)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1124, in post
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     return self.request(url, 'POST', **kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 906, in request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     resp = send(**kwargs)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge   File ""/usr/lib/python3.6/site-packages/keystoneauth1/session.py"", line 1013, in _send_request
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge     raise exceptions.ConnectFailure(msg)
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.334 316196 ERROR tripleoclient.v1.overcloud_update.UpdateConverge
2021-04-27 02:27:38.345 316196 ERROR openstack [-] Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe')): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions: ('Connection aborted.', BrokenPipeError(32, 'Broken pipe'))
2021-04-27 02:27:38.346 316196 INFO osc_lib.shell [-] END return value: 1

The above means that port 13989, which haproxy redirects to port 8989 (mistral-server api), had a diccup and mistral-api returned connection
refused for a short moment. This happened when we tried to create the workflow execution.

In the same vein as Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2 (""Make workflow monitoring more resilient"")
let's try and add some resilience when we create the workflow execution and not only when we monitor it.

Change-Id: I588bf89ec7cc44f7ba7c96fe9ce55bbbc2b956d3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/788167/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,7a0ef8a086d0aa0034f74cc12b371c95299b6623,train-workflow,from tenacity import retry@retry(stop=stop_after_attempt(3)),,2,0
openstack%2Fpython-heatclient~master~I95535adeb45363500b3ed9729bb61cb4308d23b9,openstack/python-heatclient,master,I95535adeb45363500b3ed9729bb61cb4308d23b9,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-06 12:19:27.000000000,2021-08-18 07:03:28.000000000,2021-08-18 07:01:47.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-06 12:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/7dc6d0e2b52e26eb145d2292dbdb2cd8ac9d1087', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I95535adeb45363500b3ed9729bb61cb4308d23b9\n""}, {'number': 2, 'created': '2021-07-06 12:24:45.000000000', 'files': ['heatclient/common/hook_utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b4383147fec4cf3667d3c9c2d79e088780a1498c', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I95535adeb45363500b3ed9729bb61cb4308d23b9\n""}]",0,799656,b4383147fec4cf3667d3c9c2d79e088780a1498c,11,5,2,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: I95535adeb45363500b3ed9729bb61cb4308d23b9
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/56/799656/2 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/common/hook_utils.py'],1,7dc6d0e2b52e26eb145d2292dbdb2cd8ac9d1087,fnmatch,import fnmatch,from oslo_utils import fnmatch ,1,2
openstack%2Ftripleo-docs~master~I488a1285c9616d016aa4a65fa67b333875100b66,openstack/tripleo-docs,master,I488a1285c9616d016aa4a65fa67b333875100b66,Document ``--skip-nodes-and-networks``,MERGED,2021-08-17 16:41:18.000000000,2021-08-18 06:58:31.000000000,2021-08-18 06:56:20.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-17 16:41:18.000000000', 'files': ['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/features/custom_networks.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2bae5e3aaad9b7967a56b07a0aa778c5f582156a', 'message': 'Document ``--skip-nodes-and-networks``\n\nWhen not using the *all-in-one* aproach, i.e manually\nprovisioning networks, virtual IPs and baremetal nodes\nusing the individual commands. The ``--skip-nodes-and-networks``\nargument should be used with the ``overcloud deploy``\ncommand so that the steps are not redundantly repeated\nsince the ``overcloud deploy`` command defaults to the\n*all-in-one* approach.\n\nChange-Id: I488a1285c9616d016aa4a65fa67b333875100b66\n'}]",0,804893,2bae5e3aaad9b7967a56b07a0aa778c5f582156a,8,3,1,24245,,,0,"Document ``--skip-nodes-and-networks``

When not using the *all-in-one* aproach, i.e manually
provisioning networks, virtual IPs and baremetal nodes
using the individual commands. The ``--skip-nodes-and-networks``
argument should be used with the ``overcloud deploy``
command so that the steps are not redundantly repeated
since the ``overcloud deploy`` command defaults to the
*all-in-one* approach.

Change-Id: I488a1285c9616d016aa4a65fa67b333875100b66
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/93/804893/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/features/custom_networks.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst']",4,2bae5e3aaad9b7967a56b07a0aa778c5f582156a,network-data-v2, --skip-nodes-and-networks \ -e ~/templates/vips-deployed-environment.yaml \,,33,3
openstack%2Ftripleo-ansible~master~Ib4bc27ee60ef22815b0c63d8885e397406909129,openstack/tripleo-ansible,master,Ib4bc27ee60ef22815b0c63d8885e397406909129,Remove specific resource_registry,ABANDONED,2021-08-17 13:55:35.000000000,2021-08-18 06:38:18.000000000,,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-17 13:55:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e4359abf5fe4eab634fce773e2350ed970da864', 'message': 'Remove specific resource_registry\n\nFollowing I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b, it seems the\ninjected resources are hitting the Protected Resource filter, leading to\na failed OC deployment.\n\nChange-Id: Ib4bc27ee60ef22815b0c63d8885e397406909129\n'}]",0,804879,0e4359abf5fe4eab634fce773e2350ed970da864,9,6,1,28223,,,0,"Remove specific resource_registry

Following I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b, it seems the
injected resources are hitting the Protected Resource filter, leading to
a failed OC deployment.

Change-Id: Ib4bc27ee60ef22815b0c63d8885e397406909129
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/804879/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py']",2,0e4359abf5fe4eab634fce773e2350ed970da864,networkv2/protected-resources,,"REGISTRY_KEY_TPL = 'OS::TripleO::Network::Ports::{net_name}VipPort' PORT_PATH_TPL = 'network/ports/deployed_vip_{net_name_lower}.yaml' resource_reg = env['resource_registry'] = {} resource_reg[REGISTRY_KEY_TPL.format( net_name=low_up_map[net_name_lower])] = os.path.join( templates, PORT_PATH_TPL.format(net_name_lower=net_name_lower)) ",0,12
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I086d5155968e964a330e3f0045bc4880a0a62a19,openstack/tripleo-heat-templates,stable/train,I086d5155968e964a330e3f0045bc4880a0a62a19,DNM CI test ovn-dbs-cluster-ansible THT service,ABANDONED,2021-08-16 11:20:09.000000000,2021-08-18 06:05:53.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 11:20:09.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0b8a445ff91038dbdd5097da946b8af2253b619', 'message': 'DNM CI test ovn-dbs-cluster-ansible THT service\n\nConflicts:\n\tci/environments/multinode-containers.yaml\n\tenvironments/standalone/standalone-tripleo.yaml\n\tovercloud-resource-registry-puppet.j2.yaml\n\tsample-env-generator/standalone.yaml\n\nChange-Id: I086d5155968e964a330e3f0045bc4880a0a62a19\n'}]",0,804704,f0b8a445ff91038dbdd5097da946b8af2253b619,4,3,1,20172,,,0,"DNM CI test ovn-dbs-cluster-ansible THT service

Conflicts:
	ci/environments/multinode-containers.yaml
	environments/standalone/standalone-tripleo.yaml
	overcloud-resource-registry-puppet.j2.yaml
	sample-env-generator/standalone.yaml

Change-Id: I086d5155968e964a330e3f0045bc4880a0a62a19
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/804704/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",8,f0b8a445ff91038dbdd5097da946b8af2253b619,wip-stable-train, OS::TripleO::Services::OVNDBs: ../../deployment/ovn/ovn-dbs-cluster-ansible.yaml, OS::TripleO::Services::OVNDBs: ../../deployment/ovn/ovn-dbs-pacemaker-puppet.yaml,8,7
openstack%2Ftripleo-heat-templates~master~I1aea34df54d6689051ed07ccf24cee2f1089ab44,openstack/tripleo-heat-templates,master,I1aea34df54d6689051ed07ccf24cee2f1089ab44,DNM WIP Test a puppet-pcmk change,ABANDONED,2021-08-12 08:59:13.000000000,2021-08-18 06:05:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-12 08:59:13.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fee6f92a4a86440e6b43251e77a0184cb4db2b7a', 'message': 'DNM WIP Test a puppet-pcmk change\n\nWill abandon once CI completed\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/804363\n\nChange-Id: I1aea34df54d6689051ed07ccf24cee2f1089ab44\n'}]",0,804366,fee6f92a4a86440e6b43251e77a0184cb4db2b7a,10,2,1,20172,,,0,"DNM WIP Test a puppet-pcmk change

Will abandon once CI completed

Depends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/804363

Change-Id: I1aea34df54d6689051ed07ccf24cee2f1089ab44
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/804366/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,fee6f92a4a86440e6b43251e77a0184cb4db2b7a,dnm-test-pcmk, corosync_token_timeout: 10666, corosync_token_timeout: 10000,1,1
openstack%2Ftripleo-heat-templates~master~Ie67b85b239e3088c71106b1c7b6fdd133758657b,openstack/tripleo-heat-templates,master,Ie67b85b239e3088c71106b1c7b6fdd133758657b,Updated dervice_pci script to handle pci address formats while generating nova i/f whitelist,ABANDONED,2021-08-10 10:02:12.000000000,2021-08-18 05:32:38.000000000,,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 33688}]","[{'number': 1, 'created': '2021-08-10 10:02:12.000000000', 'files': ['tripleo_heat_templates/tests/test_tht_derivce_pci.py', 'deployment/neutron/derive_pci_passthrough_whitelist.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7247f1ba9735751269bd22582244c9cc8b82bedc', 'message': 'Updated dervice_pci script to handle pci address formats\nwhile generating nova i/f whitelist\n\nAdded test cases for the same\n\nUpdates for review comments (and added more UT cases)\n\nAdded product_id/vendor_id/pci_addr combination and UT tests for same\n\nFixed issues in corner cases + added more tests\nChange-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1\n\nChange-Id: Ie67b85b239e3088c71106b1c7b6fdd133758657b\n'}]",0,804059,7247f1ba9735751269bd22582244c9cc8b82bedc,5,6,1,33688,,,0,"Updated dervice_pci script to handle pci address formats
while generating nova i/f whitelist

Added test cases for the same

Updates for review comments (and added more UT cases)

Added product_id/vendor_id/pci_addr combination and UT tests for same

Fixed issues in corner cases + added more tests
Change-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1

Change-Id: Ie67b85b239e3088c71106b1c7b6fdd133758657b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/804059/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_heat_templates/tests/test_tht_derivce_pci.py', 'deployment/neutron/derive_pci_passthrough_whitelist.py', 'tox.ini']",3,7247f1ba9735751269bd22582244c9cc8b82bedc,nicpart_pciaddr_fix, pip install -q bindep fixtures {toxinidir}/tripleo_heat_templates/tests/test_tht_ansible_syntax.py {toxinidir}/tripleo_heat_templates/tests/test_tht_derivce_pci.py, pip install -q bindep {toxinidir}/tripleo_heat_templates/tests/test_tht_ansible_syntax.py,991,45
openstack%2Fcharm-cinder~master~I3183f807181e0bcf1655c3dbab5106e9c61910ac,openstack/charm-cinder,master,I3183f807181e0bcf1655c3dbab5106e9c61910ac,Dropping explicit unicode literal,ABANDONED,2021-07-06 09:39:39.000000000,2021-08-18 05:04:47.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-06 09:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4fa26a97a4895d1116b86f103cd530d5fc87cfcb', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I3183f807181e0bcf1655c3dbab5106e9c61910ac\n'}, {'number': 2, 'created': '2021-07-07 03:48:52.000000000', 'files': ['charmhelpers/core/unitdata.py', 'unit_tests/test_cinder_contexts.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/66c765985e86d3e1417d572ab12f553ca35d049e', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I3183f807181e0bcf1655c3dbab5106e9c61910ac\n'}]",9,799613,66c765985e86d3e1417d572ab12f553ca35d049e,10,5,2,30615,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: I3183f807181e0bcf1655c3dbab5106e9c61910ac
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/13/799613/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'unit_tests/test_cinder_contexts.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",3,4fa26a97a4895d1116b86f103cd530d5fc87cfcb,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",61,61
openstack%2Fcharm-cinder-purestorage~master~I9b84a078e93a0988081724df6947bc60ed1ddffd,openstack/charm-cinder-purestorage,master,I9b84a078e93a0988081724df6947bc60ed1ddffd,Stop configuring install_command in tox.,ABANDONED,2021-06-29 09:36:09.000000000,2021-08-18 05:04:42.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-29 09:36:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/32b4efe6753e477e191ad1f0976c3e43d0264b45', 'message': 'Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I9b84a078e93a0988081724df6947bc60ed1ddffd\n'}]",0,798622,32b4efe6753e477e191ad1f0976c3e43d0264b45,11,5,1,30615,,,0,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I9b84a078e93a0988081724df6947bc60ed1ddffd
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/22/798622/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,32b4efe6753e477e191ad1f0976c3e43d0264b45,,,install_command = pip install {opts} {packages},0,2
openstack%2Fcharm-cinder-backup~master~I032f3541613986d2dee8d665be9f7ac7e3c90d52,openstack/charm-cinder-backup,master,I032f3541613986d2dee8d665be9f7ac7e3c90d52,Change whitelist to allowlist in tox,ABANDONED,2021-06-29 09:52:54.000000000,2021-08-18 05:04:38.000000000,,"[{'_account_id': 5314}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-29 09:52:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/c4093b9c060806868fdb527425342f5a0058b9cb', 'message': ""Change whitelist to allowlist in tox\n\nThis patch replace tox's whitelist_externals by allowlist_externals\nand Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I032f3541613986d2dee8d665be9f7ac7e3c90d52\n""}]",0,798629,c4093b9c060806868fdb527425342f5a0058b9cb,6,5,1,30615,,,0,"Change whitelist to allowlist in tox

This patch replace tox's whitelist_externals by allowlist_externals
and Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I032f3541613986d2dee8d665be9f7ac7e3c90d52
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/29/798629/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c4093b9c060806868fdb527425342f5a0058b9cb,,allowlist_externals = juju,install_command = pip install {opts} {packages}whitelist_externals = juju,1,3
openstack%2Fcharm-cinder-backup~master~Idbb9b3afa63165c1340429161e127e1ff58c66cf,openstack/charm-cinder-backup,master,Idbb9b3afa63165c1340429161e127e1ff58c66cf,Dropping explicit unicode literal,ABANDONED,2021-07-06 07:54:59.000000000,2021-08-18 05:04:36.000000000,,"[{'_account_id': 5314}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-06 07:54:59.000000000', 'files': ['hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/60176cde10b9d280a7ce8f36499f96003711dcd6', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: Idbb9b3afa63165c1340429161e127e1ff58c66cf\n'}]",0,799567,60176cde10b9d280a7ce8f36499f96003711dcd6,6,5,1,30615,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: Idbb9b3afa63165c1340429161e127e1ff58c66cf
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/67/799567/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",2,60176cde10b9d280a7ce8f36499f96003711dcd6,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",34,34
openstack%2Fpython-brick-cinderclient-ext~master~Id5b0ca10ad94bc5644e36b3fe7d1758a0476bdc1,openstack/python-brick-cinderclient-ext,master,Id5b0ca10ad94bc5644e36b3fe7d1758a0476bdc1,Move python-brick-cinderclient-ext to new hacking 4.0.0,ABANDONED,2021-06-29 09:13:03.000000000,2021-08-18 05:04:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-29 09:13:03.000000000', 'files': ['brick_cinderclient_ext/tests/unit/test_brick_utils.py', 'brick_cinderclient_ext/tests/unit/test_brick_client.py'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/6699aa650e0bbe3e4be437b77de84e401eafa719', 'message': 'Move python-brick-cinderclient-ext to new hacking 4.0.0\n\nChange-Id: Id5b0ca10ad94bc5644e36b3fe7d1758a0476bdc1\n'}]",0,798618,6699aa650e0bbe3e4be437b77de84e401eafa719,5,1,1,30615,,,0,"Move python-brick-cinderclient-ext to new hacking 4.0.0

Change-Id: Id5b0ca10ad94bc5644e36b3fe7d1758a0476bdc1
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/18/798618/1 && git format-patch -1 --stdout FETCH_HEAD,"['brick_cinderclient_ext/tests/unit/test_brick_utils.py', 'brick_cinderclient_ext/tests/unit/test_brick_client.py']",2,6699aa650e0bbe3e4be437b77de84e401eafa719,, self.assertIn(brick_client._use_legacy_attach) self.assertIn(brick_client._use_legacy_attach) self.assertIn(brick_client._use_legacy_attach), self.assertTrue(brick_client._use_legacy_attach) self.assertTrue(brick_client._use_legacy_attach) self.assertTrue(brick_client._use_legacy_attach),4,4
openstack%2Ftripleo-quickstart-extras~master~I5681fe386a85643365847e27ff4a803ba43a633a,openstack/tripleo-quickstart-extras,master,I5681fe386a85643365847e27ff4a803ba43a633a,Fix GH PRs build with Ansible install,MERGED,2021-08-16 20:55:53.000000000,2021-08-18 04:58:20.000000000,2021-08-18 01:55:17.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 20:55:53.000000000', 'files': ['roles/build-test-packages/tasks/github-pr.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d5032c944c580d96f0055d63895a5a073d801df9', 'message': ""Fix GH PRs build with Ansible install\n\nAfter I4f9f3f13346761d3dec35844234cb6ae03ad4107 was merged the\nbuild fails because we don't have ansible installed. It was\ninstalled before in undercloud-setup role later.\nInstall ansible as a dependency for GH PRs building of collections.\nChange-Id: I5681fe386a85643365847e27ff4a803ba43a633a\n""}]",0,804801,d5032c944c580d96f0055d63895a5a073d801df9,14,7,1,10969,,,0,"Fix GH PRs build with Ansible install

After I4f9f3f13346761d3dec35844234cb6ae03ad4107 was merged the
build fails because we don't have ansible installed. It was
installed before in undercloud-setup role later.
Install ansible as a dependency for GH PRs building of collections.
Change-Id: I5681fe386a85643365847e27ff4a803ba43a633a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/01/804801/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/github-pr.yml'],1,d5032c944c580d96f0055d63895a5a073d801df9,, - ansible,,1,0
openstack%2Fpuppet-ironic~stable%2Fwallaby~I9256025888f5d326e34f13a087c9fdee23f97598,openstack/puppet-ironic,stable/wallaby,I9256025888f5d326e34f13a087c9fdee23f97598,Fix the wrong function name,MERGED,2021-08-12 14:57:35.000000000,2021-08-18 04:36:55.000000000,2021-08-18 04:36:55.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-12 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/bb6211158bce7d33bdfbd82e105ce6a18801c40f', 'message': ""Fix the wrong function used for warning message\n\nwarn() doesn't exist and we should use warning().\n\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit c8e00eec9b9ab26eb54169438ad1f238727fd069)\n""}, {'number': 2, 'created': '2021-08-12 15:00:54.000000000', 'files': ['manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/57e0c4639709126325fb2bf27d1647131cff90e4', 'message': ""Fix the wrong function name\n\nwarn() doesn't exist and we should use warning().\n\nCloses-Bug: #1939709\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)\n""}]",0,804403,57e0c4639709126325fb2bf27d1647131cff90e4,13,4,2,9816,,,0,"Fix the wrong function name

warn() doesn't exist and we should use warning().

Closes-Bug: #1939709
Change-Id: I9256025888f5d326e34f13a087c9fdee23f97598
(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/03/804403/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,bb6211158bce7d33bdfbd82e105ce6a18801c40f,bug/1939709, warning('ironic::inspector::ironic_url is now deprecated and has no effect. \, warn('ironic::inspector::ironic_url is now deprecated and has no effect. \,1,1
openstack%2Fpuppet-ironic~stable%2Fvictoria~I9256025888f5d326e34f13a087c9fdee23f97598,openstack/puppet-ironic,stable/victoria,I9256025888f5d326e34f13a087c9fdee23f97598,Fix the wrong function name,MERGED,2021-08-12 14:56:59.000000000,2021-08-18 04:36:54.000000000,2021-08-18 04:36:54.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 14:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0ee780f0ba226ecd0dd2a149ed1cf20f377bb5b4', 'message': ""Fix the wrong function used for warning message\n\nwarn() doesn't exist and we should use warning().\n\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit c8e00eec9b9ab26eb54169438ad1f238727fd069)\n""}, {'number': 2, 'created': '2021-08-12 14:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5e97be539fe5f66c43eccd5aedb3e9e355562e04', 'message': ""Fix the wrong function used for warning message\n\nwarn() doesn't exist and we should use warning().\n\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit c8e00eec9b9ab26eb54169438ad1f238727fd069)\n(cherry picked from commit bb6211158bce7d33bdfbd82e105ce6a18801c40f)\n""}, {'number': 3, 'created': '2021-08-12 15:01:22.000000000', 'files': ['manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/832740e9e4f0a78970a8bc54f7632e0460c62a65', 'message': ""Fix the wrong function name\n\nwarn() doesn't exist and we should use warning().\n\nCloses-Bug: #1939709\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)\n(cherry picked from commit 57e0c4639709126325fb2bf27d1647131cff90e4)\n""}]",0,804402,832740e9e4f0a78970a8bc54f7632e0460c62a65,13,3,3,9816,,,0,"Fix the wrong function name

warn() doesn't exist and we should use warning().

Closes-Bug: #1939709
Change-Id: I9256025888f5d326e34f13a087c9fdee23f97598
(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)
(cherry picked from commit 57e0c4639709126325fb2bf27d1647131cff90e4)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/02/804402/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,0ee780f0ba226ecd0dd2a149ed1cf20f377bb5b4,bug/1939709, warning('ironic::inspector::ironic_url is now deprecated and has no effect. \, warn('ironic::inspector::ironic_url is now deprecated and has no effect. \,1,1
openstack%2Fpuppet-ironic~stable%2Fussuri~I9256025888f5d326e34f13a087c9fdee23f97598,openstack/puppet-ironic,stable/ussuri,I9256025888f5d326e34f13a087c9fdee23f97598,Fix the wrong function name,MERGED,2021-08-12 15:02:08.000000000,2021-08-18 04:08:42.000000000,2021-08-18 04:08:42.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-12 15:02:08.000000000', 'files': ['manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/386258b56988d8d0a1e09fe5201bdf82aea72b76', 'message': ""Fix the wrong function name\n\nwarn() doesn't exist and we should use warning().\n\nCloses-Bug: #1939709\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)\n(cherry picked from commit 57e0c4639709126325fb2bf27d1647131cff90e4)\n(cherry picked from commit 832740e9e4f0a78970a8bc54f7632e0460c62a65)\n""}]",0,804404,386258b56988d8d0a1e09fe5201bdf82aea72b76,12,4,1,9816,,,0,"Fix the wrong function name

warn() doesn't exist and we should use warning().

Closes-Bug: #1939709
Change-Id: I9256025888f5d326e34f13a087c9fdee23f97598
(cherry picked from commit cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c)
(cherry picked from commit 57e0c4639709126325fb2bf27d1647131cff90e4)
(cherry picked from commit 832740e9e4f0a78970a8bc54f7632e0460c62a65)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/04/804404/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,386258b56988d8d0a1e09fe5201bdf82aea72b76,bug/1939709, warning('ironic::inspector::ironic_url is now deprecated and has no effect. \, warn('ironic::inspector::ironic_url is now deprecated and has no effect. \,1,1
openstack%2Fpuppet-ironic~master~I9256025888f5d326e34f13a087c9fdee23f97598,openstack/puppet-ironic,master,I9256025888f5d326e34f13a087c9fdee23f97598,Fix the wrong function name,MERGED,2021-08-12 14:55:30.000000000,2021-08-18 03:38:18.000000000,2021-08-18 03:38:18.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 14:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2e2b7e5d4e2ad8b7feeadcc5ecd514ddfcdea3a5', 'message': ""Fix the wrong method name\n\nwarn() doesn't exist and we should use warning().\n\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n""}, {'number': 2, 'created': '2021-08-12 14:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c8e00eec9b9ab26eb54169438ad1f238727fd069', 'message': ""Fix the wrong function used for warning message\n\nwarn() doesn't exist and we should use warning().\n\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n""}, {'number': 3, 'created': '2021-08-12 14:59:56.000000000', 'files': ['manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c', 'message': ""Fix the wrong function name\n\nwarn() doesn't exist and we should use warning().\n\nCloses-Bug: #1939709\nChange-Id: I9256025888f5d326e34f13a087c9fdee23f97598\n""}]",0,804401,cc96b3afa9bd904944c7e4b2eb8a6762fdb7f93c,14,3,3,9816,,,0,"Fix the wrong function name

warn() doesn't exist and we should use warning().

Closes-Bug: #1939709
Change-Id: I9256025888f5d326e34f13a087c9fdee23f97598
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/01/804401/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,2e2b7e5d4e2ad8b7feeadcc5ecd514ddfcdea3a5,bug/1939709, warning('ironic::inspector::ironic_url is now deprecated and has no effect. \, warn('ironic::inspector::ironic_url is now deprecated and has no effect. \,1,1
openstack%2Fzaqar~master~I88a05dfd99fbca043f25b5ddce7663467699e69b,openstack/zaqar,master,I88a05dfd99fbca043f25b5ddce7663467699e69b,Stop to use the __future__ module.,MERGED,2020-06-02 19:08:25.000000000,2021-08-18 02:49:19.000000000,2021-08-18 02:48:04.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 19:08:25.000000000', 'files': ['zaqar/tests/functional/wsgi/v1/test_messages.py', 'zaqar/tests/functional/wsgi/v1_1/test_messages.py', 'zaqar/bench/conductor.py', 'zaqar/bench/producer.py', 'zaqar/bench/consumer.py', 'zaqar/common/cli.py', 'zaqar/bench/observer.py', 'zaqar/storage/mongodb/utils.py', 'zaqar/storage/sqlalchemy/migration/alembic_migrations/env.py', 'zaqar/tests/functional/wsgi/v2/test_subscriptions.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/dfc684a24cfe13b8d446b21aff3507cb6c964db1', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I88a05dfd99fbca043f25b5ddce7663467699e69b\n""}]",0,732979,dfc684a24cfe13b8d446b21aff3507cb6c964db1,10,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I88a05dfd99fbca043f25b5ddce7663467699e69b
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/79/732979/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/tests/functional/wsgi/v1/test_messages.py', 'zaqar/tests/functional/wsgi/v1_1/test_messages.py', 'zaqar/bench/conductor.py', 'zaqar/bench/consumer.py', 'zaqar/bench/producer.py', 'zaqar/common/cli.py', 'zaqar/bench/observer.py', 'zaqar/storage/mongodb/utils.py', 'zaqar/storage/sqlalchemy/migration/alembic_migrations/env.py', 'zaqar/tests/functional/wsgi/v2/test_subscriptions.py']",10,dfc684a24cfe13b8d446b21aff3507cb6c964db1,drop_future_imports,,from __future__ import division ,0,23
openstack%2Fpython-tripleoclient~master~Iaceb323166e0495ad5a84d7af64dc91c646a2e26,openstack/python-tripleoclient,master,Iaceb323166e0495ad5a84d7af64dc91c646a2e26,remove py36 tox from python-tripleoclient,ABANDONED,2021-08-17 16:53:18.000000000,2021-08-18 02:12:38.000000000,,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 16:53:18.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f0e26be113895b3cee15faa946217608fd440fc', 'message': 'remove py36 tox from python-tripleoclient\n\npy37 is in place and we should add py39\nfor master anyway.\n\nRelated-Bug: #1940313\nChange-Id: Iaceb323166e0495ad5a84d7af64dc91c646a2e26\n'}]",0,804895,6f0e26be113895b3cee15faa946217608fd440fc,7,3,1,9592,,,0,"remove py36 tox from python-tripleoclient

py37 is in place and we should add py39
for master anyway.

Related-Bug: #1940313
Change-Id: Iaceb323166e0495ad5a84d7af64dc91c646a2e26
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/804895/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,6f0e26be113895b3cee15faa946217608fd440fc,,"envlist = pep8,py37","envlist = pep8,py37,py36",1,2
openstack%2Fswift~master~Ied0e3cf606f8462220e1922973abaccc6050791d,openstack/swift,master,Ied0e3cf606f8462220e1922973abaccc6050791d,DNM: Add MultiprocessInternalClient,NEW,2021-08-05 02:31:47.000000000,2021-08-18 01:57:23.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 02:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5461ef5805f910add1d7ebab1dc8403e9acb1abf', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds:\n   * more error handling\n   * support for streaming\n   * support for allow_modify_pipeline=False\n   * tests\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}, {'number': 2, 'created': '2021-08-13 19:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a840b75dd47cd5f3ceb005a004751315625e9475', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds tests.\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}, {'number': 3, 'created': '2021-08-13 20:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/038bac6f0cf52ba1dc7d17f9c942ce3a9bcc083a', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds tests.\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}, {'number': 4, 'created': '2021-08-16 22:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d135d0516aecdcd2607cf19f5031593ee5a5060f', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds tests.\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}, {'number': 5, 'created': '2021-08-16 22:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f47701e6be4f22c5c740a376e657c97c0dd5a64a', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds tests.\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}, {'number': 6, 'created': '2021-08-18 00:09:04.000000000', 'files': ['swift/container/sync.py', 'etc/internal-client.conf-sample', 'swift/common/multiprocess_internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/942892db6a1e4626ac0993d2cd1a561e7926caf8', 'message': 'DNM: Add MultiprocessInternalClient\n\nNeeds tests.\n\nChange-Id: Ied0e3cf606f8462220e1922973abaccc6050791d\n'}]",3,803536,942892db6a1e4626ac0993d2cd1a561e7926caf8,16,2,6,15343,,,0,"DNM: Add MultiprocessInternalClient

Needs tests.

Change-Id: Ied0e3cf606f8462220e1922973abaccc6050791d
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/803536/6 && git format-patch -1 --stdout FETCH_HEAD,"['etc/internal-client.conf-sample', 'swift/common/internal_client.py']",2,5461ef5805f910add1d7ebab1dc8403e9acb1abf,,"import atexit import distutils.spawnimport os import signalimport subprocessfrom swift.common.bufferedhttp import http_connect_rawfrom swift.common.swob import Request, bytes_to_wsgi, Responsefrom swift.common.wsgi import loadapp, pipeline_property, \ appconfig, ConfigFileError, NOTIFY_FD_ENV_KEYclass MultiprocessInternalClient(InternalClient): def __init__(self, conf_path, user_agent, request_tries, allow_modify_pipeline=False, use_replication_network=False): # This will call loadapp, but we're not going to use the result # (just like in run_wsgi) super(MultiprocessInternalClient, self).__init__( conf_path, user_agent, request_tries, allow_modify_pipeline, use_replication_network) conf = appconfig(conf_path, name='proxy-server') if conf.get('bind_ip') not in ('127.0.0.1', '::1'): raise ConfigFileError( 'multiprocess internal-client must be bound to localhost') if not conf.get('bind_port'): raise ConfigFileError('multiprocess internal-client requires a ' '(non-default) bind_port') self.bind_ip = conf['bind_ip'] self.bind_port = conf['bind_port'] read_fd, write_fd = os.pipe() if hasattr(os, 'set_inheritable'): # See https://www.python.org/dev/peps/pep-0446/ os.set_inheritable(write_fd, True) self.proxy = subprocess.Popen( [ distutils.spawn.find_executable('swift-proxy-server'), conf_path, ], env={NOTIFY_FD_ENV_KEY: str(write_fd)}, close_fds=False) # Well this seems not-ideal... os.close(write_fd) # wait for server to start if not os.read(read_fd, 30): raise RuntimeError('Failed to start internal-client proxy; ' 'the pipe just *died*') try: os.close(read_fd) except Exception: pass atexit.register(self.close) def close(self): if self.proxy.poll() is None: self.proxy.send_signal(signal.SIGTERM) def make_request( self, method, path, headers, acceptable_statuses, body_file=None, params=None): headers = dict(headers) headers['user-agent'] = self.user_agent # TODO: avoid gatekeeper, so we can pass x-backend-* headers headers.setdefault('x-backend-allow-reserved-names', 'true') if self.use_replication_network: headers.setdefault(USE_REPLICATION_NETWORK_HEADER, 'true') for attempt in range(self.request_tries): conn = http_connect_raw( self.bind_ip, self.bind_port, method, path, headers, params) if body_file: conn.send(body_file) # TODO: non-HTTP error handling response = conn.getresponse() # shim http_client.Response to swob.Response resp = Response( status=response.status, body=response.read(), # TODO: streaming headers=response.getheaders()) if resp.status_int in acceptable_statuses or \ resp.status_int // 100 in acceptable_statuses: return resp elif not is_server_error(resp.status_int): # No sense retrying when we expect the same result break # sleep only between tries, not after each one if attempt < self.request_tries - 1: if resp: # for non 2XX requests it's safe and useful to drain # the response body so we log the correct status code if resp.status_int // 100 != 2: drain_and_close(resp) else: # Just close; the 499 is appropriate close_if_possible(resp.app_iter) sleep(2 ** (attempt + 1)) msg = 'Unexpected response: %s' % resp.status_int raise UnexpectedResponse(msg, resp) ","from swift.common.swob import Request, bytes_to_wsgifrom swift.common.wsgi import loadapp, pipeline_property",111,2
openstack%2Ftripleo-ansible~master~I8ffb19862e8574885ac609f5285e35e0e05ab1c8,openstack/tripleo-ansible,master,I8ffb19862e8574885ac609f5285e35e0e05ab1c8,Remove deny list check from cli-enable-ssh-admin.yaml,MERGED,2021-08-05 14:46:21.000000000,2021-08-18 01:55:19.000000000,2021-08-18 01:55:19.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-05 14:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56c496b7d3161cc94f9fac3ebc71e679f8badcf1', 'message': 'Remove deny list check from cli-enable-ssh-admin.yaml\n\nThe check for denied hosts in cli-enable-ssh-admin.yaml is removed\nbecause it is redundant. The hosts are already removed before the\nplaybook is called by tripleoclient.utils.get_overcloud_hosts.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I8ffb19862e8574885ac609f5285e35e0e05ab1c8\n'}, {'number': 2, 'created': '2021-08-06 12:30:47.000000000', 'files': ['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0191174a801986dc4535e759eddca194a8846f0', 'message': 'Remove deny list check from cli-enable-ssh-admin.yaml\n\nThe check for denied hosts in cli-enable-ssh-admin.yaml is removed\nbecause it is redundant. The hosts are already removed before the\nplaybook is called by tripleoclient.utils.get_overcloud_hosts.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I8ffb19862e8574885ac609f5285e35e0e05ab1c8\n'}]",0,803611,f0191174a801986dc4535e759eddca194a8846f0,17,7,2,7144,,,0,"Remove deny list check from cli-enable-ssh-admin.yaml

The check for denied hosts in cli-enable-ssh-admin.yaml is removed
because it is redundant. The hosts are already removed before the
playbook is called by tripleoclient.utils.get_overcloud_hosts.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I8ffb19862e8574885ac609f5285e35e0e05ab1c8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/803611/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'],1,56c496b7d3161cc94f9fac3ebc71e679f8badcf1,stack-only,," BlacklistedIpAddresses: [] - name: Cloud name block when: - tripleo_cloud_name is defined block: - name: Run blacklist IP check shell: >- openstack stack output show {{ tripleo_cloud_name }} BlacklistedIpAddresses -f yaml register: blacklist_cmd changed_when: false async: 1000 poll: 0 - name: Block on async blacklist check async_status: jid: ""{{ blacklist_cmd.ansible_job_id }}"" register: blacklist_cmd_job_result until: blacklist_cmd_job_result.finished retries: 30 - name: Set BlacklistedIpAddresses fact set_fact: BlacklistedIpAddresses: ""{{ (blacklist_cmd_job_result.stdout | from_yaml)['output_value'] }}"" ",0,24
openstack%2Ftripleo-common~master~I7eaabc91005952aa956456944c46224f08f4c7f8,openstack/tripleo-common,master,I7eaabc91005952aa956456944c46224f08f4c7f8,Remove now useless sudo call for port check,MERGED,2021-08-17 09:53:26.000000000,2021-08-18 01:47:04.000000000,2021-08-18 01:45:48.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-17 09:53:26.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/36a7a4d093470ffe5d970cc288da292714b48f2a', 'message': 'Remove now useless sudo call for port check\n\nBack then, the ""sudo"" was needed because healthchecks were running as\nroot, using a paunch created systemd unit/timer calling ""podman exec\n--user root"".\n\nNow that we\'re using native healthchecks, we can get rid of the sudo\ncall, since it\'s already using as the intended user.\n\nCloses-Bug: #1940068\n\nChange-Id: I7eaabc91005952aa956456944c46224f08f4c7f8\n'}]",0,804838,36a7a4d093470ffe5d970cc288da292714b48f2a,14,10,1,28223,,,0,"Remove now useless sudo call for port check

Back then, the ""sudo"" was needed because healthchecks were running as
root, using a paunch created systemd unit/timer calling ""podman exec
--user root"".

Now that we're using native healthchecks, we can get rid of the sudo
call, since it's already using as the intended user.

Closes-Bug: #1940068

Change-Id: I7eaabc91005952aa956456944c46224f08f4c7f8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/804838/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,36a7a4d093470ffe5d970cc288da292714b48f2a,healthcheck/no-sudo-port," match=$(( $match+$(find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))"," puser=$(get_user_from_process $process) match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") ))",1,2
openstack%2Fopenstack-helm-infra~master~Ia7cc61cf1df6690f25408b7aa8797e51d1c516ff,openstack/openstack-helm-infra,master,Ia7cc61cf1df6690f25408b7aa8797e51d1c516ff,Fix ceph-provisioner rbd-healer error,MERGED,2021-08-17 03:41:09.000000000,2021-08-17 23:08:15.000000000,2021-08-17 23:06:50.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-17 03:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4fbc46051856cb14fad7d09573a5f1624466c749', 'message': 'Fix ceph-provisioner rbd-healer error\n\nThis patchset fixes the following error which was recently introduced\nby changing the cephcsi image version to v3.4.0:\n\nE0816 18:37:30.966684   62307 rbd_healer.go:131] list volumeAttachments failed, err: volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope\nE0816 18:37:30.966758   62307 driver.go:208] healer had failures, err volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope\n\nChange-Id: Ia7cc61cf1df6690f25408b7aa8797e51d1c516ff\n'}, {'number': 2, 'created': '2021-08-17 19:25:14.000000000', 'files': ['releasenotes/notes/ceph-provisioners.yaml', 'ceph-provisioners/Chart.yaml', 'ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa174c00db0d4469d779b7266c5a4f0d2060ebbf', 'message': 'Fix ceph-provisioner rbd-healer error\n\nThis patchset fixes the following error which was recently introduced\nby changing the cephcsi image version to v3.4.0:\n\nE0816 18:37:30.966684   62307 rbd_healer.go:131] list volumeAttachments failed, err: volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope\nE0816 18:37:30.966758   62307 driver.go:208] healer had failures, err volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope\n\nChange-Id: Ia7cc61cf1df6690f25408b7aa8797e51d1c516ff\n'}]",0,804810,fa174c00db0d4469d779b7266c5a4f0d2060ebbf,13,7,2,22636,,,0,"Fix ceph-provisioner rbd-healer error

This patchset fixes the following error which was recently introduced
by changing the cephcsi image version to v3.4.0:

E0816 18:37:30.966684   62307 rbd_healer.go:131] list volumeAttachments failed, err: volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope
E0816 18:37:30.966758   62307 driver.go:208] healer had failures, err volumeattachments.storage.k8s.io is forbidden: User ""system:serviceaccount:ceph:clcp-ucp-ceph-provisioners-ceph-rbd-csi-nodeplugin"" cannot list resource ""volumeattachments"" in API group ""storage.k8s.io"" at the cluster scope

Change-Id: Ia7cc61cf1df6690f25408b7aa8797e51d1c516ff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/804810/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml'],1,4fbc46051856cb14fad7d09573a5f1624466c749,," verbs: [""get"", ""watch"", ""list""] - apiGroups: [""storage.k8s.io""] resources: [""volumeattachments""] verbs: [""get"", ""watch"", ""list""]"," verbs: [""get""]",4,1
openstack%2Fmetalsmith~master~Id6f2dd16b05090c0409cdab9d77d15eb8ce87ca9,openstack/metalsmith,master,Id6f2dd16b05090c0409cdab9d77d15eb8ce87ca9,Use importlib instead of imp,MERGED,2021-08-16 23:17:46.000000000,2021-08-17 22:27:16.000000000,2021-08-17 22:25:23.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 23:17:46.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d9c167d070de1e97aad13b019c09ec3c7e24997a', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nChange-Id: Id6f2dd16b05090c0409cdab9d77d15eb8ce87ca9\n'}]",0,804803,d9c167d070de1e97aad13b019c09ec3c7e24997a,8,3,1,9816,,,0,"Use importlib instead of imp

... because the imp module is deprecated since Python 3.4 .

Change-Id: Id6f2dd16b05090c0409cdab9d77d15eb8ce87ca9
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/03/804803/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ansible-autodoc.py'],1,d9c167d070de1e97aad13b019c09ec3c7e24997a,importlib,"import importlib spec = importlib.util.spec_from_file_location('__ansible_module__', filename) module = importlib.util.module_from_spec(spec) spec.loader.exec_module(module) return module","import imp return imp.load_source('__ansible_module__', filename)",6,2
openstack%2Fdevstack~master~I09f513d08212bc80a3a86a750b29b1c6625d2f89,openstack/devstack,master,I09f513d08212bc80a3a86a750b29b1c6625d2f89,Add enforce_scope setting support for Glance,MERGED,2021-03-05 14:33:41.000000000,2021-08-17 21:58:47.000000000,2021-07-20 16:42:45.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-05 14:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e23a1d92da2406e322df0f92ba5033ce59aab5f3', 'message': 'Add enforce_scope setting support for Glance\n\nGlance started moving to new RBAC and glance-tempest-plugin\nand Tempest need to set few configuration to enable the\nscope checks on glance side and so does on Temepst side to tell\nglance is ready with scope checks so that test can be run with\nscoped token.\n\nChange-Id: I09f513d08212bc80a3a86a750b29b1c6625d2f89\n'}, {'number': 2, 'created': '2021-03-05 15:41:12.000000000', 'files': ['lib/glance', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8c93049220bd3551b53513426c5a7bfdb7bac1d9', 'message': 'Add enforce_scope setting support for Glance\n\nGlance started moving to new RBAC and glance-tempest-plugin\nand Tempest need to set few configuration to enable the\nscope checks on glance side and so does on Temepst side to tell\nglance is ready with scope checks so that test can be run with\nscoped token.\n\nChange-Id: I09f513d08212bc80a3a86a750b29b1c6625d2f89\n'}]",0,778945,8c93049220bd3551b53513426c5a7bfdb7bac1d9,16,3,2,8556,,,0,"Add enforce_scope setting support for Glance

Glance started moving to new RBAC and glance-tempest-plugin
and Tempest need to set few configuration to enable the
scope checks on glance side and so does on Temepst side to tell
glance is ready with scope checks so that test can be run with
scoped token.

Change-Id: I09f513d08212bc80a3a86a750b29b1c6625d2f89
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/778945/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/glance', 'lib/tempest']",2,e23a1d92da2406e322df0f92ba5033ce59aab5f3,secure-rbac," # ``enforce_scope`` # If services enable the enforce_scope for their policy # we need to enable the same on Tempest side so that # test can be run with scoped token. iniset $TEMPEST_CONFIG enforce_scope glance ""$GLANCE_ENFORCE_SCOPE"" ",,18,0
openstack%2Fglance~master~I5b9459dfc3060ea40272d13f21ae87ff4ade64c5,openstack/glance,master,I5b9459dfc3060ea40272d13f21ae87ff4ade64c5,Load options from the castellan library,MERGED,2021-08-16 13:55:57.000000000,2021-08-17 21:54:48.000000000,2021-08-17 21:53:13.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:55:57.000000000', 'files': ['etc/oslo-config-generator/glance-api.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/33f2875ce0a56b1582e5676f14c188f7fc695261', 'message': 'Load options from the castellan library\n\nCurrently Glance relies on the castellan library for encryption, but\nthe option for the library have been missing from glance-api.conf .\nThis change ensures options from the castellan library are rendered\ninto glance-api.conf by the oslo-config-generator command.\n\nCloses-Bug: #1940090\nChange-Id: I5b9459dfc3060ea40272d13f21ae87ff4ade64c5\n'}]",0,804754,33f2875ce0a56b1582e5676f14c188f7fc695261,9,3,1,9816,,,0,"Load options from the castellan library

Currently Glance relies on the castellan library for encryption, but
the option for the library have been missing from glance-api.conf .
This change ensures options from the castellan library are rendered
into glance-api.conf by the oslo-config-generator command.

Closes-Bug: #1940090
Change-Id: I5b9459dfc3060ea40272d13f21ae87ff4ade64c5
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/804754/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/glance-api.conf'],1,33f2875ce0a56b1582e5676f14c188f7fc695261,bug/1940090,namespace = castellan.config,,1,0
openstack%2Fcinder~stable%2Fwallaby~Ib08a0561aa404a7aee41b23ec5d30f9f52096687,openstack/cinder,stable/wallaby,Ib08a0561aa404a7aee41b23ec5d30f9f52096687,[Pure Storage] Resolve missing provider_id issue (PowerVC),MERGED,2021-08-12 14:38:56.000000000,2021-08-17 21:54:46.000000000,2021-08-17 21:53:10.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-08-12 14:38:56.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_storage_fix_clone_provider_id_powervc.yaml-e794f05b0cd90f45.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/13e55d8ffc2d3b77925c950880acc36faf884178', 'message': '[Pure Storage] Resolve missing provider_id issue (PowerVC)\n\nIn PowerVC, cloning of multiple volumes fails due to the\nprovider_id not being populated correctly for a volume.\n\nChange-Id: Ib08a0561aa404a7aee41b23ec5d30f9f52096687\nCloses-Bug: #1938579\n(cherry picked from commit f67eae51f93ea05e9cd8f956e5aef2b3bf84d7db)\n'}]",0,804345,13e55d8ffc2d3b77925c950880acc36faf884178,28,7,1,13425,,,0,"[Pure Storage] Resolve missing provider_id issue (PowerVC)

In PowerVC, cloning of multiple volumes fails due to the
provider_id not being populated correctly for a volume.

Change-Id: Ib08a0561aa404a7aee41b23ec5d30f9f52096687
Closes-Bug: #1938579
(cherry picked from commit f67eae51f93ea05e9cd8f956e5aef2b3bf84d7db)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/804345/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_storage_fix_clone_provider_id_powervc.yaml-e794f05b0cd90f45.yaml']",2,13e55d8ffc2d3b77925c950880acc36faf884178,bug/1938579-stable/wallaby,--- fixes: - | Pure Storage FlashArray driver `bug #1938579 <https://bugs.launchpad.net/cinder/+bug/1938579>`_: Fixes issue when cloning multiple volumes in PowerVC deployments. ,,7,0
openstack%2Ftripleo-quickstart-extras~master~I2861d0b66379667ebb0ca9156fdfdaa946b73964,openstack/tripleo-quickstart-extras,master,I2861d0b66379667ebb0ca9156fdfdaa946b73964,tqe content-provider pull latest ceph,ABANDONED,2021-08-17 21:10:01.000000000,2021-08-17 21:18:36.000000000,,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}]","[{'number': 1, 'created': '2021-08-17 21:10:01.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ee6bb8a22474f9e0aefaeec3fa9fcd8bd804e0f7', 'message': 'tqe content-provider pull latest ceph\n\nhttps://github.com/openstack/tripleo-common/commit/ace4a4b6c8fd88c5d1e8b2a312a1222aae15ec70\n\nCloses-Bug: #1940329\nChange-Id: I2861d0b66379667ebb0ca9156fdfdaa946b73964\n'}]",0,804920,ee6bb8a22474f9e0aefaeec3fa9fcd8bd804e0f7,7,4,1,9592,,,0,"tqe content-provider pull latest ceph

https://github.com/openstack/tripleo-common/commit/ace4a4b6c8fd88c5d1e8b2a312a1222aae15ec70

Closes-Bug: #1940329
Change-Id: I2861d0b66379667ebb0ca9156fdfdaa946b73964
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/20/804920/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,ee6bb8a22474f9e0aefaeec3fa9fcd8bd804e0f7,, v6.0.4-stable-6.0-pacific-centos-8-x86_64, v6.0.0-stable-6.0-pacific-centos-8-x86_64,1,1
openstack%2Fcinder~stable%2Fwallaby~I220b5e3b01d115262a8b1dd45758f0531aea0edf,openstack/cinder,stable/wallaby,I220b5e3b01d115262a8b1dd45758f0531aea0edf,[rbd] Fix create encrypted volume from snapshot,MERGED,2021-08-02 12:32:39.000000000,2021-08-17 20:50:49.000000000,2021-08-17 20:48:58.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-02 12:32:39.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1922408-create-encryption-volume-from-snapshot-skip-resize-bb5d77c5e912b5c1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/165122557d4976ae902ac6156d151214fec037ae', 'message': ""[rbd] Fix create encrypted volume from snapshot\n\nUsually the source volume would be the same size or smaller\nthan the destination volume and they must share the same\nvolume-type. In particular, when the destination volume is\nsame size as the source volume, creating an encrypted volume\nfrom a snapshot of an encrypted volume truncates the data in\nthe new volume.\n\nIn order to fix this the RBD workflow would be something\nlike this:\nA source luks volume would be 1026M, we write some data\nand create a snap from it. We like to create a new luks\nvolume from a snapshot so the create_volume_from_snapshot()\nmethod performs a RBD clone first and then a resize if needed.\n\nIn addition the _clone() method creates a clone\n(copy-on-write child) of the parent snapshot. Object size\nwill be identical to that of the parent image unless specified\n(we don't in cinder) so size will be the same as the parent\nsnapshot.\n\nIf the desired size of the destination luks volume is 1G the\ncreate_volume_from_snapshot() won't perform any resize and\nwill be 1026M as the parent. This solves bug #1922408 because\nwe don't force it to resize and because of that we don't\ntruncate the data anymore.\n\nThe second case scenario is when we would like to increase\nthe size of the destination volume. As far as I can tell this\nwon't face the encryption header problem but we still need to\ncalculate the difference size to provide the size that the\nuser is expecting.\n\nThat's why the fix proposed calculate the new_size based on:\nsize difference = desired size - size of source volume\nnew size = current size + size difference\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n(cherry picked from commit cf1c5252965e731d77af503529ca42e269c305c6)\n""}]",0,803181,165122557d4976ae902ac6156d151214fec037ae,22,7,1,20813,,,0,"[rbd] Fix create encrypted volume from snapshot

Usually the source volume would be the same size or smaller
than the destination volume and they must share the same
volume-type. In particular, when the destination volume is
same size as the source volume, creating an encrypted volume
from a snapshot of an encrypted volume truncates the data in
the new volume.

In order to fix this the RBD workflow would be something
like this:
A source luks volume would be 1026M, we write some data
and create a snap from it. We like to create a new luks
volume from a snapshot so the create_volume_from_snapshot()
method performs a RBD clone first and then a resize if needed.

In addition the _clone() method creates a clone
(copy-on-write child) of the parent snapshot. Object size
will be identical to that of the parent image unless specified
(we don't in cinder) so size will be the same as the parent
snapshot.

If the desired size of the destination luks volume is 1G the
create_volume_from_snapshot() won't perform any resize and
will be 1026M as the parent. This solves bug #1922408 because
we don't force it to resize and because of that we don't
truncate the data anymore.

The second case scenario is when we would like to increase
the size of the destination volume. As far as I can tell this
won't face the encryption header problem but we still need to
calculate the difference size to provide the size that the
user is expecting.

That's why the fix proposed calculate the new_size based on:
size difference = desired size - size of source volume
new size = current size + size difference

Closes-Bug: #1922408
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>
Change-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf
(cherry picked from commit cf1c5252965e731d77af503529ca42e269c305c6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/803181/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1922408-create-encryption-volume-from-snapshot-skip-resize-bb5d77c5e912b5c1.yaml']",3,165122557d4976ae902ac6156d151214fec037ae,rbd-encrypt-issues-stable/wallaby,--- fixes: - | RBD driver `Bug #1922408 <https://bugs.launchpad.net/cinder/+bug/1922408>`_: Fixed create encrypted volume from encrypted snapshot. ,,104,7
openstack%2Ftripleo-ansible~master~Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,openstack/tripleo-ansible,master,Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,tripleo_push_artifacts: fix argument parsing,MERGED,2021-08-17 13:25:22.000000000,2021-08-17 20:26:27.000000000,2021-08-17 20:25:00.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-17 13:25:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1946d5b00850d6309aecf2884a540c20776a099b', 'message': 'tripleo_push_artifacts: fix argument parsing\n\nFix a logic inversion during argument checking which\ncauses push_artifacts to fail if only one argument is passed\nto the module.\n\nCloses-Bug: #1940294\nChange-Id: Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257\n'}]",0,804876,1946d5b00850d6309aecf2884a540c20776a099b,9,5,1,20778,,,0,"tripleo_push_artifacts: fix argument parsing

Fix a logic inversion during argument checking which
causes push_artifacts to fail if only one argument is passed
to the module.

Closes-Bug: #1940294
Change-Id: Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/804876/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'],1,1946d5b00850d6309aecf2884a540c20776a099b,bug/1940294, if not local_artifacts and not download_artifacts:, if not local_artifacts or not download_artifacts:,1,1
openstack%2Frequirements~stable%2Fwallaby~Ia0c060cfed34dc51af96d12f57e34f09e31a0c5d,openstack/requirements,stable/wallaby,Ia0c060cfed34dc51af96d12f57e34f09e31a0c5d,update constraint for oslo.db to new release 8.5.1,MERGED,2021-08-17 13:49:32.000000000,2021-08-17 19:29:52.000000000,2021-08-17 19:29:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 13:49:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3018b1f729be36cfb96d5cd71c9505bf32100e9', 'message': 'update constraint for oslo.db to new release 8.5.1\n\nmeta: version: 8.5.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I333a89a2990861b75ee28539839c7134a3f809ab\nmeta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia0c060cfed34dc51af96d12f57e34f09e31a0c5d\n'}]",0,804877,c3018b1f729be36cfb96d5cd71c9505bf32100e9,7,2,1,11131,,,0,"update constraint for oslo.db to new release 8.5.1

meta: version: 8.5.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I333a89a2990861b75ee28539839c7134a3f809ab
meta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ia0c060cfed34dc51af96d12f57e34f09e31a0c5d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/804877/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c3018b1f729be36cfb96d5cd71c9505bf32100e9,new-release,oslo.db===8.5.1,oslo.db===8.5.0,1,1
openstack%2Fcharm-keystone~stable%2F21.04~Ia6a4f8211acdaecc0547ccc2c4a8bdf54d6ad072,openstack/charm-keystone,stable/21.04,Ia6a4f8211acdaecc0547ccc2c4a8bdf54d6ad072,Sync release-tools,MERGED,2021-08-16 16:54:41.000000000,2021-08-17 19:29:24.000000000,2021-08-17 19:29:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-16 16:54:41.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/244f6235bc7a45bd861b496a902e4a44486c4ccc', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Ia6a4f8211acdaecc0547ccc2c4a8bdf54d6ad072\n(cherry picked from commit 78e6d2aea2d5ad8bf717c20c6db8b8a2f596505f)\n'}]",0,804786,244f6235bc7a45bd861b496a902e4a44486c4ccc,10,6,1,8992,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Ia6a4f8211acdaecc0547ccc2c4a8bdf54d6ad072
(cherry picked from commit 78e6d2aea2d5ad8bf717c20c6db8b8a2f596505f)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/86/804786/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,244f6235bc7a45bd861b496a902e4a44486c4ccc,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Ftripleo-ansible~stable%2Ftrain~If8f27a1388b4b4718ba3c23eaca7ff2546713f4f,openstack/tripleo-ansible,stable/train,If8f27a1388b4b4718ba3c23eaca7ff2546713f4f,TRAIN-ONLY Fix overcloud support report for T,MERGED,2021-08-11 00:43:48.000000000,2021-08-17 19:20:32.000000000,2021-08-17 19:20:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32114}]","[{'number': 1, 'created': '2021-08-11 00:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18255054bf153baf20db752099f553866e0fdccf', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\nWe use Mistral for this in Queens. But in Train,\nwe can't do the same thing. This change will backport\nthe Ansible playbook used in Ussuri.\n\nChange-Id: If8f27a1388b4b4718ba3c23eaca7ff2546713f4f\n""}, {'number': 2, 'created': '2021-08-11 05:18:23.000000000', 'files': ['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5114bfe72b01d0229b2c916b792e55c5597e92c', 'message': ""TRAIN-ONLY Fix overcloud support report for T\n\nWe use Mistral for this in Queens. But in Train,\nwe can't do the same thing. This change will backport\nthe Ansible playbook used in Ussuri.\n\nChange-Id: If8f27a1388b4b4718ba3c23eaca7ff2546713f4f\n""}]",0,804181,e5114bfe72b01d0229b2c916b792e55c5597e92c,14,7,2,30073,,,0,"TRAIN-ONLY Fix overcloud support report for T

We use Mistral for this in Queens. But in Train,
we can't do the same thing. This change will backport
the Ansible playbook used in Ussuri.

Change-Id: If8f27a1388b4b4718ba3c23eaca7ff2546713f4f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/804181/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'],1,18255054bf153baf20db752099f553866e0fdccf,fix_support_report_collect,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Playbook sos-report log collection connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: sos_options: - boot - cluster - hardware - kernel - memory - nfs - openstack - packagemanager - performance - services - storage - system - webserver - virt tasks: - name: No server_name defined fail: msg: >- The server_name option was undefined. when: - server_name is undefined - name: No sos destination defined fail: msg: >- The sos_destination option was undefined. when: - sos_destination is undefined - name: Create the support directory become: true file: path: ""{{ sos_destination }}"" state: directory mode: '0755' - name: Set local connection user facts set_fact: ansible_home: ""{{ lookup('env', 'HOME') }}"" ansible_user: ""{{ lookup('env', 'USER') }}"" run_once: true when: - (tripleo_target_host is defined) | ternary('ssh', 'local') == 'local' - name: Add ssh-servers add_host: hostname: ""{{ item }}"" groups: tripleo_queues ansible_ssh_private_key_file: ""{{ ansible_home }}/.ssh/id_rsa_tripleo"" sos_destination: ""{{ sos_destination }}"" sos_options: ""{{ sos_options | join(',') }}"" archive_file: ""/var/tmp/sos-report-{{ item }}-{{ lookup('pipe','date +%Y%m%d%H%M%S') }}.tgz"" changed_when: false loop: '{{ (server_name == ""all"") | ternary( groups[""all""], (server_name in groups) | ternary( groups[server_name], (server_name in groups[""all""]) | ternary( [server_name], (groups[""all""] | select(""match"", server_name ~ "".*"") | list) ) ) ) }}' - name: Run Log collection hosts: tripleo_queues user: tripleo-admin gather_facts: false strategy: free become: true handlers: - name: Remove tmp directory file: path: ""{{ tempfile_1.path }}"" state: absent - name: Remove archive file: path: ""{{ archive_file }}"" state: absent tasks: - name: Ensure sos is installed package: name: sos - name: Create temporary directory tempfile: state: directory suffix: build register: tempfile_1 notify: - Remove tmp directory - name: Run sos-report command: >- /usr/sbin/sosreport --batch -p {{ sos_options }} --tmp-dir {{ tempfile_1.path }} - name: Compress sos-report directory archive: path: ""{{ tempfile_1.path }}"" dest: ""{{ archive_file }}"" - name: Retrieve the sos report fetch: src: ""{{ archive_file }}"" dest: ""/tmp/"" flat: true - name: Move archive into place command: >- mv /tmp/{{ archive_file | basename }} {{ sos_destination }}/ become: true connection: local - name: Archive notice debug: msg: ""Log collection archive: {{ archive_file }}, stored here: {{ sos_destination }}"" ",,143,0
openstack%2Foctavia-tempest-plugin~master~I24976e93e9ea8f7f50c9da014c2627965512893c,openstack/octavia-tempest-plugin,master,I24976e93e9ea8f7f50c9da014c2627965512893c,Fix two-node job configuration,MERGED,2021-02-03 13:34:37.000000000,2021-08-17 19:11:26.000000000,2021-08-17 19:06:57.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-03 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20c02d230de70dbc9b44050edf3bb27b78671a1d', 'message': 'DNM WIP Trying to fix two-node job\n\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 2, 'created': '2021-02-03 16:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e52f8ba64543c5febd837ac63cf164df61ed025b', 'message': ""Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn't have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n""}, {'number': 3, 'created': '2021-02-08 08:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1962fe269d8619655e3e9ce104491b62be99b167', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\n\nThe ""zuul_copy_output"" option under host-vars overrides base\n""zuul_copy_output"". This means only barely a handful of log files are\ncopied. Fix this by using ""host_copy_output"" option to combine both log\nfile lists.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 4, 'created': '2021-02-08 10:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/64e86b2f7d0ccbd8d128d3a7497d074b145c5e65', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\n\nThe ""zuul_copy_output"" option under host-vars overrides base\n""zuul_copy_output"". This means only barely a handful of log files are\ncopied. Fix this by using ""host_copy_output"" option to combine both log\nfile lists.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 5, 'created': '2021-02-08 17:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2e7f93f4636a47045f94ec9f8dd36a4c411ceae7', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\n\nThe ""zuul_copy_output"" option under host-vars overrides base\n""zuul_copy_output"". This means only barely a handful of log files are\ncopied. Fix this by using ""host_copy_output"" option to combine both log\nfile lists.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 6, 'created': '2021-02-08 20:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c258beec84dd23b2b8d0e4a99d8d3f1aa3d5e62b', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\n\nThe ""zuul_copy_output"" option under host-vars overrides base\n""zuul_copy_output"". This means only barely a handful of log files are\ncopied. Fix this by using ""host_copy_output"" option to combine both log\nfile lists.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 7, 'created': '2021-02-09 06:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/357e9ce595f571d7e85284f054bec44b4781ccc9', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\n\nThe ""zuul_copy_output"" option under host-vars overrides base\n""zuul_copy_output"". This means only barely a handful of log files are\ncopied. Fix this by using ""host_copy_output"" option to combine both log\nfile lists.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 8, 'created': '2021-02-09 07:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e4391f89e635ed93799b2583fa0f7b3e184fcb7d', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 9, 'created': '2021-02-09 08:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7e72b4db3ec195c77bff8d0d740b6085cfc0b977', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 10, 'created': '2021-02-09 12:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3356ebca5591c5ebe8d54d81cba065fac88fedf9', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 11, 'created': '2021-02-17 21:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/21c581091ec997f516ca15f2e5b95ed4d8f82e5c', 'message': 'WIP Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 12, 'created': '2021-02-18 06:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cb71efdfec129260e3385feb641519360dcae121', 'message': 'WIP Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 13, 'created': '2021-02-18 08:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f5ccc17d5a306c3b607ea9b74184be9bbf610f3c', 'message': 'WIP Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 14, 'created': '2021-02-18 13:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e0017c8b182693d5b1f6f675e381b127c243e920', 'message': 'WIP Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 15, 'created': '2021-02-19 15:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5f572c7c899261d5a4c15744cfb90c59581697ab', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 16, 'created': '2021-03-19 10:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c97b0dc51ece45387678aca4beee1f0d846e6f50', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nDepends-On: https://review.opendev.org/774596\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 17, 'created': '2021-06-18 10:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/13e2d8f3c643d87e1822d3089bfa5f4d6d74335c', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 18, 'created': '2021-06-19 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/df0d49045001722de56de1bf39c57b048fd3c63b', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 19, 'created': '2021-06-19 12:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a09a79ec3b6277fbf2d39d4d6e6786f0207bd863', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 20, 'created': '2021-06-21 15:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/89ea3bdc3090262a27b702629345bc1e1e89c835', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 21, 'created': '2021-06-23 06:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/814a048e629691416adf660e534b8cef4dd02653', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 22, 'created': '2021-06-30 07:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/047b763b3e365303158c1f152de6838920a50569', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 23, 'created': '2021-06-30 08:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/637beb67c266f78e0390c962d9b02da6c8b7b414', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 24, 'created': '2021-06-30 09:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ad5e7b7e2660c8c018931e60b226441a5cf40af1', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 25, 'created': '2021-06-30 11:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c3d4a034d9e0529cd6ee8f23dea1fad02d94b74d', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 26, 'created': '2021-07-05 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/99e41e95842b867a772302ee64d0c89b534fb7ed', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}, {'number': 27, 'created': '2021-07-20 05:18:51.000000000', 'files': ['playbooks/prepare-ovn-multinode.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5cf1f61fbffeb901955f10469babce0b9905a093', 'message': 'Fix two-node job configuration\n\nTwo-node job was failing because devstack tried to compile the\ntest_server.go file on controller2.\ncontroller2 doesn\'t have tempest installed, but octavia-tempest-plugin\nwas installed. The compilation step was failing and is not necessary\nthere.\n\nFix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides\nwere not applied.\nFix the ""zuul_copy_output"" section.\n\nMove to ML2/OVN backend.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\nChange-Id: I24976e93e9ea8f7f50c9da014c2627965512893c\n'}]",0,773888,5cf1f61fbffeb901955f10469babce0b9905a093,93,6,27,29244,,,0,"Fix two-node job configuration

Two-node job was failing because devstack tried to compile the
test_server.go file on controller2.
controller2 doesn't have tempest installed, but octavia-tempest-plugin
was installed. The compilation step was failing and is not necessary
there.

Fix octavia-v2-act-stdby-dsvm-scenario-two-node definition, overrides
were not applied.
Fix the ""zuul_copy_output"" section.

Move to ML2/OVN backend.

Co-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>
Change-Id: I24976e93e9ea8f7f50c9da014c2627965512893c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/88/773888/21 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,20c02d230de70dbc9b44050edf3bb27b78671a1d,two-node,, octavia-tempest-plugin: https://opendev.org/openstack/octavia-tempest-plugin.git tempest_plugins: - octavia-tempest-plugin,40,44
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~I775af9673e8fdbc70b439d92b355bbc00cd27432,openstack/networking-bgpvpn,stable/train,I775af9673e8fdbc70b439d92b355bbc00cd27432,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:49:22.000000000,2021-08-17 18:23:46.000000000,2021-08-17 18:19:17.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-06-15 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/141dfdf791af41518e24f94af4ab09488ada4759', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I775af9673e8fdbc70b439d92b355bbc00cd27432\n'}, {'number': 2, 'created': '2021-06-23 09:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/149fe36271f95a2f941a99265cf216d38f03af65', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I775af9673e8fdbc70b439d92b355bbc00cd27432\n'}, {'number': 3, 'created': '2021-08-17 08:04:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e6a596b2f084a207109718797dfe8a96cb2dcfa9', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I775af9673e8fdbc70b439d92b355bbc00cd27432\n'}]",0,796476,e6a596b2f084a207109718797dfe8a96cb2dcfa9,20,6,3,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I775af9673e8fdbc70b439d92b355bbc00cd27432
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/76/796476/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,141dfdf791af41518e24f94af4ab09488ada4759,clean-non-voting-jobs," # TripleO jobs that deploy networking-bgpvpn. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario004-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario004-standalone: voting: false"," # TripleO jobs that deploy networking-bgpvpn. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario004-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario004-standalone: voting: false",9,9
openstack%2Ftelemetry-tempest-plugin~master~Iaefaa06b37deb5ecf2108c027ac7db98130c8c98,openstack/telemetry-tempest-plugin,master,Iaefaa06b37deb5ecf2108c027ac7db98130c8c98,Make telemetry-dsvm-integration patches vote again,MERGED,2021-08-12 09:54:59.000000000,2021-08-17 18:16:06.000000000,2021-08-17 18:16:06.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/9ae372d380a95943017ed9d9937860c4cf3666bf', 'message': 'Make telemetry-dsvm-integration patches vote again\n\nThe failing part of the integration test was disabled until\nwe figured out what exactly fails and why. In the mean time,\nwe can take advantage of the rest of the integration tests.\n\nChange-Id: Iaefaa06b37deb5ecf2108c027ac7db98130c8c98\n'}, {'number': 2, 'created': '2021-08-16 16:16:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/aade82540e97c56cbea7ed613d7828d21eaa5a28', 'message': 'Make telemetry-dsvm-integration patches vote again\n\nThe failing part of the integration test was disabled until\nwe figured out what exactly fails and why. In the mean time,\nwe can take advantage of the rest of the integration tests.\n\nChange-Id: Iaefaa06b37deb5ecf2108c027ac7db98130c8c98\n'}]",0,804373,aade82540e97c56cbea7ed613d7828d21eaa5a28,12,2,2,4264,,,0,"Make telemetry-dsvm-integration patches vote again

The failing part of the integration test was disabled until
we figured out what exactly fails and why. In the mean time,
we can take advantage of the rest of the integration tests.

Change-Id: Iaefaa06b37deb5ecf2108c027ac7db98130c8c98
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/73/804373/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9ae372d380a95943017ed9d9937860c4cf3666bf,voting,, voting: false voting: false,0,2
openstack%2Ftempest~master~I006fdf233b0af20625e41beb2a4c63109fcdcb17,openstack/tempest,master,I006fdf233b0af20625e41beb2a4c63109fcdcb17,Fixes test_user_update_own_password test cleanup problem (New password cannnot be identical to a previous password),MERGED,2021-08-09 06:44:54.000000000,2021-08-17 17:33:43.000000000,2021-08-17 17:32:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2021-08-09 06:44:54.000000000', 'files': ['tempest/api/identity/v3/test_users.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba62b11a21a0e3ed99414341f624278d2af96def', 'message': ""Fixes test_user_update_own_password test cleanup problem (New password cannnot be identical to a previous password)\n\nThis test's cleanup method needs to have security compliance feature enabled to take effect. Because it uses constant which is valid only if it's enabled.\n\nThat's why this test has to be skipped unless Security compliance is available.\n\nCloses-Bug: 1934249\nChange-Id: I006fdf233b0af20625e41beb2a4c63109fcdcb17\n""}]",2,803877,ba62b11a21a0e3ed99414341f624278d2af96def,9,4,1,33732,,,0,"Fixes test_user_update_own_password test cleanup problem (New password cannnot be identical to a previous password)

This test's cleanup method needs to have security compliance feature enabled to take effect. Because it uses constant which is valid only if it's enabled.

That's why this test has to be skipped unless Security compliance is available.

Closes-Bug: 1934249
Change-Id: I006fdf233b0af20625e41beb2a4c63109fcdcb17
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/803877/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/v3/test_users.py'],1,ba62b11a21a0e3ed99414341f624278d2af96def,fix/test_user_update_own_password," @testtools.skipUnless(CONF.identity_feature_enabled.security_compliance, 'Security compliance not available.')",,2,0
openstack%2Fnova~stable%2Fwallaby~I3d1b21ba6eb3f5eb728693197c24b4b315eef821,openstack/nova,stable/wallaby,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,MERGED,2021-06-14 11:00:10.000000000,2021-08-17 17:27:28.000000000,2021-08-17 16:38:09.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:00:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n'}]",0,796258,9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93,29,4,1,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/796258/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93,bug/1905701," # assert that no attempt to remove the secret is made when # destroy_secrets=False drvr._host.find_secret.reset_mock() drvr._host.delete_secret.reset_mock() drvr._disconnect_volume( self.context, connection_info, instance, encryption=encryption, destroy_secrets=False ) drvr._host.delete_secret.assert_not_called() @mock.patch('nova.virt.libvirt.host.Host.delete_secret') @mock.patch('nova.virt.libvirt.host.Host.find_secret', new=mock.Mock()) def test_detach_encryptor_skip_secret_removal(self, mock_delete_secret): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=False ) # Assert that no attempt is made to delete the volume secert mock_delete_secret.assert_not_called() drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=True ) # Assert that volume secert is deleted mock_delete_secret.assert_called_once_with('volume', uuids.volume_id) network_info, None, False, destroy_secrets=True) network_info, None, False, destroy_secrets=True) block_device_info=block_device_info, destroy_secrets=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain', new=mock.Mock()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vpmems', new=mock.Mock(return_value=None)) def test_cleanup_destroy_secrets(self, mock_disconnect_volume): block_device_info = { 'block_device_mapping': [ { 'connection_info': mock.sentinel.connection_info } ] } instance = objects.Instance(self.context, **self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) # Pass destroy_vifs=False and destroy_disks=False as we only care about # asserting the behaviour of destroy_secrets in this test. drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, destroy_secrets=False ) drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, ) # Assert that disconnect_volume is called with destroy_secrets=False # and destroy_secrets=True by default mock_disconnect_volume.assert_has_calls([ mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=False ), mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=True ) ]) "," network_info, None, False) network_info, None, False) block_device_info=block_device_info)",124,11
openstack%2Fopenstack-ansible~master~I8017a01853e8f8950e6e8c7c2337e384af8d7689,openstack/openstack-ansible,master,I8017a01853e8f8950e6e8c7c2337e384af8d7689,Add shallow_since to parallel git clone,MERGED,2021-07-24 11:23:55.000000000,2021-08-17 17:27:05.000000000,2021-08-17 17:25:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-24 11:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d7662dbc0bf54bc3b16e4d47ecb64c020b8f216', 'message': ""Add shallow_since to parallel git clone\n\nshallow_since controls from which date history repo will be shallowed.\nIt has prescedence over depth, so when shallow_since is set for the repo\ndepth won't be used. This is handy\nfor some repos, like ceph-ansible, that\nmerge a lot of changes in bunches, which results in bootstrap issues.\n\nLater, shallow_since will be managed with osa CLI and bump will\nupdate this date for the repos in a-r-r.\n\nChange-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689\n""}, {'number': 2, 'created': '2021-07-24 11:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d8aea78c59c1cd62769c1ac26499e236361bcf2', 'message': ""Add shallow_since to parallel git clone\n\nshallow_since controls from which date history repo will be shallowed.\nIt has prescedence over depth, so when shallow_since is set for the repo\ndepth won't be used. This is handy\nfor some repos, like ceph-ansible, that\nmerge a lot of changes in bunches, which results in bootstrap issues.\n\nLater, shallow_since will be managed with osa CLI and bump will\nupdate this date for the repos in a-r-r.\n\nChange-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689\n""}, {'number': 3, 'created': '2021-08-12 19:30:24.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'playbooks/library/git_requirements.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed035fb275f8a296bfe29918931cbde2ff6da438', 'message': ""Add shallow_since to parallel git clone\n\nshallow_since controls from which date history repo will be shallowed.\nIt has prescedence over depth, so when shallow_since is set for the repo\ndepth won't be used. This is handy\nfor some repos, like ceph-ansible, that\nmerge a lot of changes in bunches, which results in bootstrap issues.\n\nLater, shallow_since will be managed with osa CLI and bump will\nupdate this date for the repos in a-r-r.\n\nChange-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689\n""}]",0,802145,ed035fb275f8a296bfe29918931cbde2ff6da438,14,4,3,28619,,,0,"Add shallow_since to parallel git clone

shallow_since controls from which date history repo will be shallowed.
It has prescedence over depth, so when shallow_since is set for the repo
depth won't be used. This is handy
for some repos, like ceph-ansible, that
merge a lot of changes in bunches, which results in bootstrap issues.

Later, shallow_since will be managed with osa CLI and bump will
update this date for the repos in a-r-r.

Change-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/802145/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/library/git_requirements.py', 'scripts/get-ansible-role-requirements.yml']",2,9d7662dbc0bf54bc3b16e4d47ecb64c020b8f216,," default_depth: ""{{ role_clone_default_depth }}"" depth: ""{{ item.depth | default(role_clone_default_depth| default(omit)) }}"" role_clone_default_depth: 20"," default_depth: 20 depth: ""{{ item.depth | default('20') }}""",47,18
openstack%2Fneutron~master~I024eab6885ccdd78002cdd32d41ed64e5a706fc8,openstack/neutron,master,I024eab6885ccdd78002cdd32d41ed64e5a706fc8,"Revert ""Config option to enable OVN IDL on other workers""",ABANDONED,2021-08-09 16:04:04.000000000,2021-08-17 17:23:16.000000000,,"[{'_account_id': 5756}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 31976}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-09 16:04:04.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'releasenotes/notes/config-additional-workers-with-ovn-idl-022a2fb4bcf724ec.yaml', 'setup.cfg', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11f491005c39903e14a874fd1ab36a15af2ee94', 'message': 'Revert ""Config option to enable OVN IDL on other workers""\n\nThis reverts commit 66ac943b6435901c163c3050ad41dfcaf36ac11d.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: I024eab6885ccdd78002cdd32d41ed64e5a706fc8\n'}]",0,803951,a11f491005c39903e14a874fd1ab36a15af2ee94,8,7,1,11082,,,0,"Revert ""Config option to enable OVN IDL on other workers""

This reverts commit 66ac943b6435901c163c3050ad41dfcaf36ac11d.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/

Change-Id: I024eab6885ccdd78002cdd32d41ed64e5a706fc8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/803951/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'releasenotes/notes/config-additional-workers-with-ovn-idl-022a2fb4bcf724ec.yaml', 'setup.cfg', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,a11f491005c39903e14a874fd1ab36a15af2ee94,bug/1927977," return worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker)","from neutron_lib.utils import runtime # By default only API and maintenace workers need to initialize # the OVN IDL connections if worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker): return True # Configuration may allow other worker types to use IDL connections. # Look for a match in additional_worker_classes_with_ovn_idl, # gracefully skipping unknown classes in the config list. for worker_type in ovn_conf.additional_worker_classes_with_ovn_idl(): try: additional_class = runtime.load_class_by_alias_or_classname( 'neutron.worker_classes', worker_type) if worker_class == additional_class: return True except ImportError: # ignore unknown additional worker class pass return False",2,95
openstack%2Fopenstack-ansible-galera_server~master~I084f63d071394022b4b2dd6ad1433e4036adc978,openstack/openstack-ansible-galera_server,master,I084f63d071394022b4b2dd6ad1433e4036adc978,Update galera to 10.5.12,MERGED,2021-08-11 17:41:24.000000000,2021-08-17 17:11:40.000000000,2021-08-17 17:10:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-11 17:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/2c3808a3762c73c1bcc57c95ccf346e0f21adc46', 'message': 'Update galera to 10.9.12\n\nChange-Id: I084f63d071394022b4b2dd6ad1433e4036adc978\n'}, {'number': 2, 'created': '2021-08-11 17:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/de582805cca8a4f61dfd66172fa2fcbcebffd1d7', 'message': 'Update galera to 10.5.12\n\nChange-Id: I084f63d071394022b4b2dd6ad1433e4036adc978\n'}, {'number': 3, 'created': '2021-08-12 09:58:16.000000000', 'files': ['vars/debian-11.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/2ad823eafd55bfbbe049a52b8ed410d22cf8e085', 'message': 'Update galera to 10.5.12\n\nAlso remove vars/debian-11.yml so that bullseye takes packages from the official mariadb repo\nrather than using the distro provided package.\n\nChange-Id: I084f63d071394022b4b2dd6ad1433e4036adc978\n'}]",0,804284,2ad823eafd55bfbbe049a52b8ed410d22cf8e085,16,3,3,25023,,,0,"Update galera to 10.5.12

Also remove vars/debian-11.yml so that bullseye takes packages from the official mariadb repo
rather than using the distro provided package.

Change-Id: I084f63d071394022b4b2dd6ad1433e4036adc978
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/84/804284/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2c3808a3762c73c1bcc57c95ccf346e0f21adc46,,galera_minor_version: 12,galera_minor_version: 9,1,1
openstack%2Fneutron~master~Ie818ffbb1a291faa80501157b46ff6671d5c26ba,openstack/neutron,master,Ie818ffbb1a291faa80501157b46ff6671d5c26ba,Use payloads for ROUTER AFTER_ callbacks,MERGED,2021-07-30 11:16:14.000000000,2021-08-17 17:05:25.000000000,2021-08-10 09:20:37.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 11:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1189370cb362039256fff37d30dbea9a5befcbf', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 2, 'created': '2021-07-31 09:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a90e207614858b67ba2955a9207992e75f069c4', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 3, 'created': '2021-08-02 10:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/079d4db46e2f40eae7db67df40568577bbc4ba54', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 4, 'created': '2021-08-02 14:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83ca7743e0e23f5015bcc8140364174760ac246c', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 5, 'created': '2021-08-03 07:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ae67ad2d2a92ce9e5933b2a7d3dfde4391c69cf', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 6, 'created': '2021-08-04 07:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a424849beb6f9758a25bd7d6977ad3ca0bb5bf3f', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 7, 'created': '2021-08-05 07:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32b0038f69d045629635e6dfa6e55cf04e44752a', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}, {'number': 8, 'created': '2021-08-09 14:13:28.000000000', 'files': ['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/agent/l3/agent.py', 'neutron/db/l3_hamode_db.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef83719da26bffbe981c540dddad928bbe9b402f', 'message': 'Use payloads for ROUTER AFTER_ callbacks\n\nThis patch switches over to callback payloads for ROUTER\nAFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.\n\nChange-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba\n'}]",24,803003,ef83719da26bffbe981c540dddad928bbe9b402f,81,5,8,32667,,,0,"Use payloads for ROUTER AFTER_ callbacks

This patch switches over to callback payloads for ROUTER
AFTER_CREATE, AFTER_UPDATE and AFTER_DELETE events.

Change-Id: Ie818ffbb1a291faa80501157b46ff6671d5c26ba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/803003/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/db/l3_hamode_db.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/agent/linux/pd.py']",8,e1189370cb362039256fff37d30dbea9a5befcbf,router_after,"def remove_router(resource, event, l3_agent, payload): router_id = payload.resource_iddef update_router(resource, event, l3_agent, payload): updated_router = payload.latest_state","def remove_router(resource, event, l3_agent, **kwargs): router_id = kwargs['router'].router_iddef update_router(resource, event, l3_agent, **kwargs): updated_router = kwargs['router']",99,45
openstack%2Fneutron-lib~master~I295d8004efd563a5044631ec504d4eb9ae1be55d,openstack/neutron-lib,master,I295d8004efd563a5044631ec504d4eb9ae1be55d,Move packet_rate_limit type to neutron-lib,MERGED,2021-08-12 10:40:14.000000000,2021-08-17 17:03:07.000000000,2021-08-17 17:01:10.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 10:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cb209a112e13e0a8de9605173bac816e08e5a11e', 'message': 'Move packet_rate_limit type to neutron-lib\n\nThis is the TODO work of:\nneutron/services/qos/constants.py\n\nRelated-bug: #1912460\nChange-Id: I295d8004efd563a5044631ec504d4eb9ae1be55d\n'}, {'number': 2, 'created': '2021-08-13 01:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0c259e0d8fff12ad492d49e1b47da4bb55416b11', 'message': 'Move packet_rate_limit type to neutron-lib\n\nThese are the TODO works of:\nneutron/services/qos/constants.py\nneutron/extensions/qos_pps_rule.py\n\nRelated-bug: #1912460\nChange-Id: I295d8004efd563a5044631ec504d4eb9ae1be55d\n'}, {'number': 3, 'created': '2021-08-17 05:57:45.000000000', 'files': ['neutron_lib/api/definitions/qos_pps_rule.py', 'neutron_lib/services/qos/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8ca7087ed978e412c4b31e543f3c31b824fbb779', 'message': 'Move packet_rate_limit type to neutron-lib\n\nThese are the TODO works of:\nneutron/services/qos/constants.py\nneutron/extensions/qos_pps_rule.py\n\nRelated-bug: #1912460\nChange-Id: I295d8004efd563a5044631ec504d4eb9ae1be55d\n'}]",0,804378,8ca7087ed978e412c4b31e543f3c31b824fbb779,23,4,3,9531,,,0,"Move packet_rate_limit type to neutron-lib

These are the TODO works of:
neutron/services/qos/constants.py
neutron/extensions/qos_pps_rule.py

Related-bug: #1912460
Change-Id: I295d8004efd563a5044631ec504d4eb9ae1be55d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/78/804378/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/services/qos/constants.py'],1,cb209a112e13e0a8de9605173bac816e08e5a11e,packet_rate_limit,"RULE_TYPE_PACKET_RATE_LIMIT = 'packet_rate_limit' RULE_TYPE_PACKET_RATE_LIMIT,",,2,0
openstack%2Fnetworking-bagpipe~stable%2Ftrain~Icec5d9be8d78408ad1c758573041225777e86d48,openstack/networking-bagpipe,stable/train,Icec5d9be8d78408ad1c758573041225777e86d48,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:51:31.000000000,2021-08-17 16:48:26.000000000,2021-08-17 16:44:32.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 13:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/abbed1cda8e38859a1ebedc2ebd119b684593f20', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Icec5d9be8d78408ad1c758573041225777e86d48\n'}, {'number': 2, 'created': '2021-06-17 08:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f66d6cf79b2ac24c3f4e384189d42e750acb89dd', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Icec5d9be8d78408ad1c758573041225777e86d48\n'}, {'number': 3, 'created': '2021-06-22 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/323d5c99fb99050c4147c8e4564e9404bcbd1bca', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Icec5d9be8d78408ad1c758573041225777e86d48\n'}, {'number': 4, 'created': '2021-06-22 09:31:01.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/65c389168b3414975844b3461f53a75aa4817c38', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Icec5d9be8d78408ad1c758573041225777e86d48\n'}]",2,796477,65c389168b3414975844b3461f53a75aa4817c38,23,7,4,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Icec5d9be8d78408ad1c758573041225777e86d48
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/77/796477/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,abbed1cda8e38859a1ebedc2ebd119b684593f20,clean-non-voting-jobs, experimental: jobs: - legacy-networking-bagpipe-dsvm-fullstack: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc voting: false, - legacy-networking-bagpipe-dsvm-fullstack: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc voting: false,8,6
openstack%2Fmasakari~master~Iff2350a0173dfeec825fa076888782b5dcaa6e63,openstack/masakari,master,Iff2350a0173dfeec825fa076888782b5dcaa6e63,Update the constraints url,ABANDONED,2019-09-20 09:22:49.000000000,2021-08-17 16:47:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-20 09:22:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/506bb65f27fb00ebf7fffadfe5135929506b983b', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iff2350a0173dfeec825fa076888782b5dcaa6e63\n'}]",0,683333,506bb65f27fb00ebf7fffadfe5135929506b983b,5,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iff2350a0173dfeec825fa076888782b5dcaa6e63
",git fetch https://review.opendev.org/openstack/masakari refs/changes/33/683333/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,506bb65f27fb00ebf7fffadfe5135929506b983b,constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftempest~master~I7a5bf8b1404dbf96955b2eb96fb1a5552760a114,openstack/tempest,master,I7a5bf8b1404dbf96955b2eb96fb1a5552760a114,Fix test_fix_argument_yes by closing temp files,MERGED,2021-08-17 10:02:11.000000000,2021-08-17 16:40:02.000000000,2021-08-17 16:38:13.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 10:02:11.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e74445bac9e2499551839e735edc04d75e77d4c5', 'message': ""Fix test_fix_argument_yes by closing temp files\n\nThe test was randomly failing which could be caused by a race\ncondition - the temporary files which are created during the\ntest weren't closed properly which could result in a situation\nwhen they are not yet created but the test is trying to load\nthem.\n\nCloses-Bug: #1918316\nChange-Id: I7a5bf8b1404dbf96955b2eb96fb1a5552760a114\n""}]",0,804839,e74445bac9e2499551839e735edc04d75e77d4c5,7,2,1,22873,,,0,"Fix test_fix_argument_yes by closing temp files

The test was randomly failing which could be caused by a race
condition - the temporary files which are created during the
test weren't closed properly which could result in a situation
when they are not yet created but the test is trying to load
them.

Closes-Bug: #1918316
Change-Id: I7a5bf8b1404dbf96955b2eb96fb1a5552760a114
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/804839/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,e74445bac9e2499551839e735edc04d75e77d4c5,," init_file = open(directory + ""/__init__.py"", ""w"") init_file.close() fake_file.close()"," with open(directory + ""/__init__.py"", ""w""): pass",3,2
openstack%2Foslo.db~master~I8acdb54d168afa1a7eac270ad6165faa287311ec,openstack/oslo.db,master,I8acdb54d168afa1a7eac270ad6165faa287311ec,Don't use plain string SQL statements,MERGED,2021-07-27 17:30:19.000000000,2021-08-17 16:23:18.000000000,2021-08-17 16:20:06.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7e1b702b1be91c10deda21bf7d1e4a295e39212b', 'message': ""Don't use plain string SQL statements\n\nResolve the following RemovedIn20Warning warning:\n\n  Using plain strings to indicate SQL statements without using the\n  text() construct is  deprecated and will be removed in version 2.0.\n  Ensure plain SQL statements are passed using the text() construct.\n\nChange-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/51d2f39956d562cb5a900b8cb7336f526fb811fa', 'message': ""Don't use plain string SQL statements\n\nResolve the following RemovedIn20Warning warning:\n\n  Using plain strings to indicate SQL statements without using the\n  text() construct is  deprecated and will be removed in version 2.0.\n  Ensure plain SQL statements are passed using the text() construct.\n\nChange-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/eb9ebd26c7618edc94f2f3f8a2997e8d41e92b5b', 'message': ""Don't use plain string SQL statements\n\nResolve the following RemovedIn20Warning warning:\n\n  Using plain strings to indicate SQL statements without using the\n  text() construct is  deprecated and will be removed in version 2.0.\n  Ensure plain SQL statements are passed using the text() construct.\n\nChange-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c1f0f7e62a05272d788a3e339b8a722014218cb1', 'message': ""Don't use plain string SQL statements\n\nResolve the following RemovedIn20Warning warning:\n\n  Using plain strings to indicate SQL statements without using the\n  text() construct is  deprecated and will be removed in version 2.0.\n  Ensure plain SQL statements are passed using the text() construct.\n\nChange-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8e7454c240aaed0d85bb3208f0ad0771c6b70c96', 'message': ""Don't use plain string SQL statements\n\nResolve the following RemovedIn20Warning warning:\n\n  Using plain strings to indicate SQL statements without using the\n  text() construct is  deprecated and will be removed in version 2.0.\n  Ensure plain SQL statements are passed using the text() construct.\n\nChange-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,802578,8e7454c240aaed0d85bb3208f0ad0771c6b70c96,20,3,5,15334,,,0,"Don't use plain string SQL statements

Resolve the following RemovedIn20Warning warning:

  Using plain strings to indicate SQL statements without using the
  text() construct is  deprecated and will be removed in version 2.0.
  Ensure plain SQL statements are passed using the text() construct.

Change-Id: I8acdb54d168afa1a7eac270ad6165faa287311ec
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/78/802578/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",2,7e1b702b1be91c10deda21bf7d1e4a295e39212b,sqlalchemy-20,," message=r'Using plain strings to indicate SQL statements .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",5,10
openstack%2Fpython-dracclient~master~I540c73978ad858649456d892796bf1e4c2e3e19e,openstack/python-dracclient,master,I540c73978ad858649456d892796bf1e4c2e3e19e,setup.cfg: Replace dashes with underscores,MERGED,2021-08-10 15:11:30.000000000,2021-08-17 16:22:10.000000000,2021-08-17 16:22:10.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-10 15:11:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/15bbf6422fe69e55617bb5e8c0663376347ddd79', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I540c73978ad858649456d892796bf1e4c2e3e19e\n""}]",0,804100,15bbf6422fe69e55617bb5e8c0663376347ddd79,7,3,1,31616,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I540c73978ad858649456d892796bf1e4c2e3e19e
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/00/804100/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,15bbf6422fe69e55617bb5e8c0663376347ddd79,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://launchpad.net/python-dracclient,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://launchpad.net/python-dracclient,3,3
openstack%2Foslo.db~master~Ie039851005c6038591e0e1f6426922ca5b0dcb9a,openstack/oslo.db,master,Ie039851005c6038591e0e1f6426922ca5b0dcb9a,Replace use of Table.autoload parameter,MERGED,2021-07-27 17:30:19.000000000,2021-08-17 16:22:04.000000000,2021-08-17 16:20:05.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9c1cf836a936d45b63a287a7731c98d2826ae1a2', 'message': 'Replace use of Table.autoload parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b2a4158d6294f328019ffc058f826bbc48f6a438', 'message': 'Replace use of Table.autoload parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bb86d01a209131b2c40fb0e6ce2a148a143fd819', 'message': 'Replace use of Table.autoload parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0d2b79db3ed30657272cf17ae3115eb7f1a46ae8', 'message': 'Replace use of Table.autoload parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6a013c606b023b0ba7f3cb1bcc094d9adc1710f3', 'message': 'Replace use of Table.autoload parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802577,6a013c606b023b0ba7f3cb1bcc094d9adc1710f3,20,3,5,15334,,,0,"Replace use of Table.autoload parameter

Resolve the following RemovedIn20Warning warning:

  The autoload parameter is deprecated and will be removed in version
  2.0.  Please use the autoload_with parameter, passing an engine or
  connection.

Change-Id: Ie039851005c6038591e0e1f6426922ca5b0dcb9a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/77/802577/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py']",2,9c1cf836a936d45b63a287a7731c98d2826ae1a2,sqlalchemy-20,," message=r'The autoload parameter is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",1,6
openstack%2Fmagnum~master~Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888,openstack/magnum,master,Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888,Very-WIP: Drop hyperkube,NEW,2020-08-26 09:01:24.000000000,2021-08-17 16:13:00.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-26 09:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6af1a5593ae300bd517f05b645b767f9086280dd', 'message': 'Very-WIP: Drop hyperkube\n\nYou can deploy a v1.19.0-rc.4 cluster.\nUpgrade command needs work.\nDrop kube_image_digest?\none label per k8s component?\n\nChange-Id: Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-10-28 10:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9be75a667005ad8dd2ba13d4585a76d068c27c80', 'message': 'Very-WIP: Drop hyperkube\n\nTODO:\nAdd a new label for the tarball url\nFix upgrade\n\nChange-Id: Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2020-10-30 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1efdddc875acf76b9b9e67742a3c84559270644e', 'message': 'Very-WIP: Drop hyperkube\n\nTODO:\nFix upgrade\n\nChange-Id: Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2021-08-17 15:32:35.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/28056b09c2219e54eb07ed36cab25bbe93cd3562', 'message': 'Very-WIP: Drop hyperkube\n\nTODO:\nFix upgrade\n\nChange-Id: Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",8,748141,28056b09c2219e54eb07ed36cab25bbe93cd3562,34,5,4,20498,,,0,"Very-WIP: Drop hyperkube

TODO:
Fix upgrade

Change-Id: Ib4ba494acb8eb02f7d2bc15ecdb222d6782db888
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/41/748141/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",10,6af1a5593ae300bd517f05b645b767f9086280dd,drop-hyperkube,"if [ ""$(echo $USE_PODMAN | tr '[:upper:]' '[:lower:]')"" == ""true"" && -n ""${KUBE_IMAGE_DIGEST}"" ]; then","if [ ""$(echo $USE_PODMAN | tr '[:upper:]' '[:lower:]')"" == ""true"" ]; then",49,92
openstack%2Foslo.db~master~I50064d16de6e1951b2282fcf9548a0ff2cd0fe55,openstack/oslo.db,master,I50064d16de6e1951b2282fcf9548a0ff2cd0fe55,Replace use of update.whereclause parameter,MERGED,2021-07-27 17:30:19.000000000,2021-08-17 16:02:20.000000000,2021-08-17 15:59:24.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e835d627a7915d17df2870f1820bbc67cdcf3a99', 'message': 'Replace use of update.whereclause parameter\n\nResolve the following RemovedIn20Warning:\n\n  The update.whereclause parameter will be removed in SQLAlchemy 2.0.\n  Please refer to the Update.where() method.\n\nChange-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9f4651e92a6680a12fb4633bf5e0d8545be705f0', 'message': 'Replace use of update.whereclause parameter\n\nResolve the following RemovedIn20Warning:\n\n  The update.whereclause parameter will be removed in SQLAlchemy 2.0.\n  Please refer to the Update.where() method.\n\nChange-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bfc63ca625c972ed22720c28f75b4f17a5e1d88d', 'message': 'Replace use of update.whereclause parameter\n\nResolve the following RemovedIn20Warning:\n\n  The update.whereclause parameter will be removed in SQLAlchemy 2.0.\n  Please refer to the Update.where() method.\n\nChange-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e4070e3f0ba65fb187ddb1e162521d029952350b', 'message': 'Replace use of update.whereclause parameter\n\nResolve the following RemovedIn20Warning:\n\n  The update.whereclause parameter will be removed in SQLAlchemy 2.0.\n  Please refer to the Update.where() method.\n\nChange-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/update_match.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d2f101cdfee0fd4e98c02d1ac8034f83c51ae82c', 'message': 'Replace use of update.whereclause parameter\n\nResolve the following RemovedIn20Warning:\n\n  The update.whereclause parameter will be removed in SQLAlchemy 2.0.\n  Please refer to the Update.where() method.\n\nChange-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802576,d2f101cdfee0fd4e98c02d1ac8034f83c51ae82c,20,3,5,15334,,,0,"Replace use of update.whereclause parameter

Resolve the following RemovedIn20Warning:

  The update.whereclause parameter will be removed in SQLAlchemy 2.0.
  Please refer to the Update.where() method.

Change-Id: I50064d16de6e1951b2282fcf9548a0ff2cd0fe55
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/76/802576/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/update_match.py', 'oslo_db/tests/fixtures.py']",2,e835d627a7915d17df2870f1820bbc67cdcf3a99,sqlalchemy-20,," message=r'The update.whereclause parameter will be removed .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",3,6
openstack%2Foslo.db~master~I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3,openstack/oslo.db,master,I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3,Update import of declarative_base(),MERGED,2021-07-27 17:30:19.000000000,2021-08-17 16:00:50.000000000,2021-08-17 15:59:23.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/46b3c841b6d08f1122486c70440f4e3e8e495531', 'message': 'Update import of declarative_base()\n\nResolve the following MovedIn20Warning:\n\n  The ``declarative_base()`` function is now available as\n  sqlalchemy.orm.declarative_base()\n\nChange-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/60b7e4c0e1c13f980429127c874238d7d168889e', 'message': 'Update import of declarative_base()\n\nResolve the following MovedIn20Warning:\n\n  The ``declarative_base()`` function is now available as\n  sqlalchemy.orm.declarative_base()\n\nChange-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/371d2a83908794c3d6ebc924d329109bb729213a', 'message': 'Update import of declarative_base()\n\nResolve the following MovedIn20Warning:\n\n  The ``declarative_base()`` function is now available as\n  sqlalchemy.orm.declarative_base()\n\nChange-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6fd3c0a4cd87b138bd821d70c1821928c4eebf5a', 'message': 'Update import of declarative_base()\n\nResolve the following MovedIn20Warning:\n\n  The ``declarative_base()`` function is now available as\n  sqlalchemy.orm.declarative_base()\n\nChange-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_types.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_async_eventlet.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/test_models.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0816efca7b56032b10155bdf03daec3900b4ccd7', 'message': 'Update import of declarative_base()\n\nResolve the following MovedIn20Warning:\n\n  The ``declarative_base()`` function is now available as\n  sqlalchemy.orm.declarative_base()\n\nChange-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,802575,0816efca7b56032b10155bdf03daec3900b4ccd7,25,3,5,15334,,,0,"Update import of declarative_base()

Resolve the following MovedIn20Warning:

  The ``declarative_base()`` function is now available as
  sqlalchemy.orm.declarative_base()

Change-Id: I5fd707c62d0bfad6e54150c4a3b87aadadbeedb3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/75/802575/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_types.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_async_eventlet.py', 'oslo_db/tests/sqlalchemy/test_models.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",9,46b3c841b6d08f1122486c70440f4e3e8e495531,sqlalchemy-20,," warnings.filterwarnings( 'once', message=r'The ``declarative_base\(\)`` function is now .*', category=sqla_exc.SADeprecationWarning) ",11,17
openstack%2Fneutron-lib~master~Ia93894051c565c006749fb70950d6e67fcd82cad,openstack/neutron-lib,master,Ia93894051c565c006749fb70950d6e67fcd82cad,BFD api def,MERGED,2021-02-12 17:04:32.000000000,2021-08-17 15:46:50.000000000,2021-08-17 15:45:20.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33273}]","[{'number': 1, 'created': '2021-02-12 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/34a0c9751392376e548d55820c6e3d3245a7ee25', 'message': 'WIP: BFD api def\n\nTODO:\n* api_ref\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 2, 'created': '2021-02-16 06:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/774e99c553dcc1ccda23ce60c258551b6fc90040', 'message': 'WIP: BFD api def\n\nTODO:\n* api_ref\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 3, 'created': '2021-03-05 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6032272a4675d1ddeb1ab2225fbde717c8a47828', 'message': 'WIP: BFD api def\n\nTODO:\n* api_ref\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 4, 'created': '2021-03-18 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/908b35981e090e1f6ed40676d4a54aeebedfafa2', 'message': 'WIP: BFD api def\n\nTODO:\n* api_ref\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 5, 'created': '2021-04-14 13:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f4cdb7335cce16ff4b6e6574116bef7831e2fdaa', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 6, 'created': '2021-05-21 12:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7448b2617a44a67cb6880f305d201c8241e52b74', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 7, 'created': '2021-05-28 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a72b3b6e6d8b9d759a67aaa03b00410127795e1a', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 8, 'created': '2021-06-24 13:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/14a70ea37e75ad109e44856033b81345c47671c8', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 9, 'created': '2021-07-15 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3726a0606f68efabfbb5ce215d5aee1b398135b0', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 10, 'created': '2021-07-26 15:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ea86afe599df2bcac0e838a7601227ba52f5c7d3', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 11, 'created': '2021-07-26 15:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bfb79405768361ead866e417af4869172d1d84fe', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 12, 'created': '2021-07-30 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f4a489d9c48598f712cd43c23ff35b040c5efb10', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 13, 'created': '2021-08-09 14:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9b4b802ff3e25d278e9ecdb1951dc63aea2733ef', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 14, 'created': '2021-08-10 12:26:51.000000000', 'files': ['neutron_lib/api/definitions/bfd_monitor.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-response.json', 'api-ref/source/v2/bfd_monitors.inc', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/bfd/bfd_monitor_session_status-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-list-response.json', 'releasenotes/notes/bfd_monitor_api_extension-910f5842783e040a.yaml', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-request.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-request.json', 'neutron_lib/tests/unit/api/definitions/test_bfd.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-show-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor_association-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f8c5b72cc84fb982d990f127d8957071e430e577', 'message': 'BFD api def\n\nChange-Id: Ia93894051c565c006749fb70950d6e67fcd82cad\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}]",57,775420,f8c5b72cc84fb982d990f127d8957071e430e577,51,5,14,8313,,,0,"BFD api def

Change-Id: Ia93894051c565c006749fb70950d6e67fcd82cad
Related-Bug: #1907089
See-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/20/775420/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/bfd_monitor.py', 'releasenotes/notes/bfd_monitor_api_extension-910f5842783e040a.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_bfd.py']",5,34a0c9751392376e548d55820c6e3d3245a7ee25,bug/1907089,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import bfd_monitor from neutron_lib.tests.unit.api.definitions import base class BFDDefinitionTestCase(base.DefinitionBaseTestCase): extension_module = bfd_monitor extension_resources = (bfd_monitor.BFD_MONITORS,) ",,150,1
openstack%2Fironic-prometheus-exporter~master~I53c027b72d560ce5f4f38368ee75d464d333835b,openstack/ironic-prometheus-exporter,master,I53c027b72d560ce5f4f38368ee75d464d333835b,Add lower-constraints job to current development branch,MERGED,2021-08-09 09:41:25.000000000,2021-08-17 15:39:01.000000000,2021-08-17 15:35:32.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 09:41:25.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1492c4eff642571b5d0261c9c73e4d86cba0f539', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: I53c027b72d560ce5f4f38368ee75d464d333835b\n'}]",0,803893,1492c4eff642571b5d0261c9c73e4d86cba0f539,14,3,1,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: I53c027b72d560ce5f4f38368ee75d464d333835b
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/93/803893/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,1492c4eff642571b5d0261c9c73e4d86cba0f539,lower-constraints-revamp,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,19,3
openstack%2Fironic-specs~master~I4c2efaeb92cedcbfb7059b0cfa0e7cb3096050a8,openstack/ironic-specs,master,I4c2efaeb92cedcbfb7059b0cfa0e7cb3096050a8,Adds PCI device inspection to ironic,ABANDONED,2017-06-20 04:59:29.000000000,2021-08-17 15:06:55.000000000,,"[{'_account_id': 3}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 19853}]","[{'number': 1, 'created': '2017-06-20 04:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a0f4458105f09977ee1fd9b9df7a788601562436', 'message': 'Adds PCI device inspection to ironic\n\nRelated-bug: 1681320\n\nChange-Id: I4c2efaeb92cedcbfb7059b0cfa0e7cb3096050a8\n'}, {'number': 2, 'created': '2017-06-23 00:11:55.000000000', 'files': ['specs/not-implemented/add-pci-devices-inspection-to-ironic.rst', 'specs/approved/add-pci-devices-inspection-to-ironic.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/827d638b3b57c8d09d69ad66859ad053a6735df1', 'message': 'Adds PCI device inspection to ironic\n\nRelated-bug: 1681320\n\nChange-Id: I4c2efaeb92cedcbfb7059b0cfa0e7cb3096050a8\n'}]",21,475648,827d638b3b57c8d09d69ad66859ad053a6735df1,9,4,2,11297,,,0,"Adds PCI device inspection to ironic

Related-bug: 1681320

Change-Id: I4c2efaeb92cedcbfb7059b0cfa0e7cb3096050a8
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/48/475648/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/add-pci-devices-inspection-to-ironic.rst', 'specs/approved/add-pci-devices-inspection-to-ironic.rst']",2,a0f4458105f09977ee1fd9b9df7a788601562436,bug/1681320,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Add PCI devices inspection to **ironic** ======================================== https://bugs.launchpad.net/ironic/+bug/1681320 This proposal is to add PCI devices to **ironic** capabilities will help in enhanced scheduling of the baremetal. Problem description =================== Currently **ironic** can not discover count of specific PCI devices. **Ironic-inspector** has the implemnetation for such PCI devices discovery.[1] The out-of-band inspection lacks the PCI device inspection. Proposed change =============== The solution implemented by **ironic-inspector** in [1] shall reside in ironic. The steps to be performed in **ironic** are: * Add a new section in ironic.conf as 'pci' * Add pci_alias example in ironic.conf under [pci] as given in [2]. * Inspection (refers for both inband and out-of-band inspection) returns the count of pci devices based on the pci_alias given in ironic.conf file. * **ironic** adds the pci_devices count to the capailities. Since **ironic-inspector** already has the same solution, the **ironic-inspector** can write the `pci_alias` from ironic.conf to the ironic-inspector.conf when inspector is invoked from ironic. Alternatives ------------ There is no other alternative for out-of-band inspection to get this data, while inband inspection already has the feature. Data model impact ----------------- None. State Machine Impact -------------------- None. REST API impact --------------- None. Client (CLI) impact ------------------- None. ""ironic"" CLI ~~~~~~~~~~~~ None. ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None. RPC API impact -------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Ramdisk impact -------------- None. Security impact --------------- None. Other end user impact --------------------- * This will require a change in **ironic-inspector** to use `pci_alias` from the ironic.conf when inband inspection is invoked via **ironic**. * It requires the out-of-band inspection to implement the pci device inspection based on [1]. Example: **proliantutils** need to implement the pci devices inspection based on alias. Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- * This will introduce a new section in ironic.conf as `[pci]`. * An example for config variable `pci_alias` under `[pci]` needs to be added. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: agarwalnisha1980@gmail.com Work Items ---------- * Add a new section to ironic.conf as `[pci]` and an example for `pci_alias` under it. * Add a routine to validate the `pci_alias`. * The out-of-band/inband inspection need to pass the value of `pci_alias` to their libraries(inspectors). * Add the returned data to capabilities. Dependencies ============ None. Testing ======= * This will be tested locally to ensure inspection returns the expected output. * The tempest cases will be added to test the feature. Upgrades and Backwards Compatibility ==================================== None. Documentation Impact ==================== The feature will be fully documented. References ========== [1] https://github.com/openstack/ironic-inspector-specs/blob/master/specs/generic-pci-resource.rst [2] https://github.com/openstack/ironic-inspector/blob/7fff708b2cdd61938fe1ea41303a8b71cebdba02/example.conf#L705-L714 ",,175,0
openstack%2Ftripleo-common~master~I50a683aaa7062f7f33d6de45758844c8523da7f2,openstack/tripleo-common,master,I50a683aaa7062f7f33d6de45758844c8523da7f2,Bump Ceph container daemons to v6.0.4,MERGED,2021-06-21 05:21:22.000000000,2021-08-17 15:04:38.000000000,2021-08-17 15:02:37.000000000,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 14270}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-21 05:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/305cd6847105f186a9a414805ed489d7f94fe9b0', 'message': 'Bump Ceph containers to v6.0.3 -stable\n\nThe stable Ceph containers v6.0.3 are now released.\nThis change aligns the new tag with the latest released stable\ncontent.\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}, {'number': 2, 'created': '2021-07-09 13:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2260b071736c058d321bfa6de40a84ee61a76aff', 'message': 'Bump Ceph containers to v16.2.5\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent.\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}, {'number': 3, 'created': '2021-07-29 07:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c16357bc39f72330d7b7152609c94ee99f08da1', 'message': 'Bump Ceph containers to v16.2.5\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent.\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}, {'number': 4, 'created': '2021-08-03 18:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f907b2ede80f70637526928992c120158d8d0d6', 'message': 'Bump Ceph containers to v16.2.5\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent.\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}, {'number': 5, 'created': '2021-08-03 18:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1416b2c4e7e051ea29efe32d33f7783e2706bac0', 'message': 'Bump Ceph container daemons to v6.0.4\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.4 for the daemon images).\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}, {'number': 6, 'created': '2021-08-03 18:12:20.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13614295b286fd5d5a2e2cde22455c743710391e', 'message': 'Bump Ceph container daemons to v6.0.4\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.4 for the daemon images).\n\nChange-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2\n'}]",2,797226,13614295b286fd5d5a2e2cde22455c743710391e,39,8,6,25402,,,0,"Bump Ceph container daemons to v6.0.4

The stable Ceph containers v16.2.5 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.4 for the daemon images).

Change-Id: I50a683aaa7062f7f33d6de45758844c8523da7f2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/797226/5 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,305cd6847105f186a9a414805ed489d7f94fe9b0,cephadm_container_promotion,- imagename: quay.ceph.io/ceph-ci/daemon:v6.0.3-stable-6.0-pacific-centos-8-x86_64,- imagename: quay.ceph.io/ceph-ci/daemon:v6.0.0-stable-6.0-pacific-centos-8-x86_64,2,2
openstack%2Fironic-specs~master~I57c820ceb9f28e4af37a4aca220c1097427cbc4e,openstack/ironic-specs,master,I57c820ceb9f28e4af37a4aca220c1097427cbc4e,Deprecate continue_node_clean() RPC API method,ABANDONED,2017-08-11 10:58:38.000000000,2021-08-17 15:04:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7711}, {'_account_id': 11655}, {'_account_id': 12356}]","[{'number': 1, 'created': '2017-08-11 10:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2c84e93f68bd91fdecbb8a79af732d9098515920', 'message': 'Deprecate continue_node_clean() RPC API method\n\nThis spec propose to deprecate ""continue_node_clean"" RPC API\ncast method and use instead new deploy interface method.\n\nChange-Id: I57c820ceb9f28e4af37a4aca220c1097427cbc4e\nRelated-bug: #1688489\n'}, {'number': 2, 'created': '2017-08-29 12:15:12.000000000', 'files': ['specs/approved/deprecate-continue-clean.rst', 'specs/not-implemented/deprecate-continue-clean.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ece1c1df86c2131eba5dc8826cd44d4f4df06d71', 'message': 'Deprecate continue_node_clean() RPC API method\n\nThis spec propose to deprecate ""continue_node_clean"" RPC API\ncast method and use instead new deploy interface method.\n\nChange-Id: I57c820ceb9f28e4af37a4aca220c1097427cbc4e\nRelated-bug: #1688489\n'}]",9,492948,ece1c1df86c2131eba5dc8826cd44d4f4df06d71,8,4,2,7711,,,0,"Deprecate continue_node_clean() RPC API method

This spec propose to deprecate ""continue_node_clean"" RPC API
cast method and use instead new deploy interface method.

Change-Id: I57c820ceb9f28e4af37a4aca220c1097427cbc4e
Related-bug: #1688489
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/48/492948/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/deprecate-continue-clean.rst', 'specs/not-implemented/deprecate-continue-clean.rst']",2,2c84e93f68bd91fdecbb8a79af732d9098515920,bug/1688489,../approved/deprecate-continue-clean.rst,,185,0
openstack%2Fironic-specs~master~I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1,openstack/ironic-specs,master,I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1,Bare metal node N+1 redundancy,ABANDONED,2015-12-18 08:23:13.000000000,2021-08-17 15:03:11.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 13719}, {'_account_id': 14937}, {'_account_id': 16066}]","[{'number': 1, 'created': '2015-12-18 08:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/56fadbd3066aea091a52f336e5923d78f07aa78b', 'message': 'Bare metal node N+1 redundancy\n\nThis proposes high availability/reliability feature to support Bare\nMetal Node N+1 Redundancy based on `[RFE] Add volume connection\ninformation into ironic db` and `[RFE] Enhance Power Interface\nfor Soft Power Off and Inject NMI`.\n\nPartial-Bug: #1526234\nRelated-Bug: #1526231\nRelated-Bug: #1526226\n\nChange-Id: I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1\n'}, {'number': 2, 'created': '2016-01-13 05:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5a32f878cbc4e0b6a6ad2b23bbd98316bd39dfba', 'message': 'Bare metal node N+1 redundancy\n\nThis proposes high availability/reliability feature to support Bare\nMetal Node N+1 Redundancy based on `[RFE] Add volume connection\ninformation into ironic db` and `[RFE] Enhance Power Interface\nfor Soft Power Off and Inject NMI`.\n\nPartial-Bug: #1526234\nRelated-Bug: #1526231\nRelated-Bug: #1526226\n\nChange-Id: I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1\n'}, {'number': 3, 'created': '2016-08-05 00:33:51.000000000', 'files': ['specs/approved/bare-metal-node-n+1-redundancy.rst', 'specs/not-implemented/bare-metal-node-n+1-redundancy.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/26c1263ce50fbeddfed854971be5f3076983fdfa', 'message': 'Bare metal node N+1 redundancy\n\nThis proposes high availability/reliability feature to support Bare\nMetal Node N+1 Redundancy based on `[RFE] Add volume connection\ninformation into ironic db` and `[RFE] Enhance Power Interface\nfor Soft Power Off and Inject NMI`.\n\nPartial-Bug: #1526234\nRelated-Bug: #1526231\nRelated-Bug: #1526226\n\nChange-Id: I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1\n'}]",32,259320,26c1263ce50fbeddfed854971be5f3076983fdfa,15,9,3,13719,,,0,"Bare metal node N+1 redundancy

This proposes high availability/reliability feature to support Bare
Metal Node N+1 Redundancy based on `[RFE] Add volume connection
information into ironic db` and `[RFE] Enhance Power Interface
for Soft Power Off and Inject NMI`.

Partial-Bug: #1526234
Related-Bug: #1526231
Related-Bug: #1526226

Change-Id: I3776dd497e6b1d8cf4f7e59f8663d9d787c8d1f1
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/20/259320/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/bare-metal-node-n+1-redundancy.rst'],1,56fadbd3066aea091a52f336e5923d78f07aa78b,bug/1526234,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================== Bare metal node N+1 redundancy ============================== https://bugs.launchpad.net/ironic/+bug/1526234 This proposes high availability/reliability feature to support Bare Metal Node N+1 Redundancy based on `[RFE] Add volume connection information into ironic db` [1] and `[RFE] Enhance Power Interface for Soft Power Off and Inject NMI` [2]. Problem description =================== When a bare metal node is failed due to hardware problem or is likely to be failed due to a sign of hardware failure, this function allows to switch over the node safely to another bare metal node in short time if the failed node is booted from a share file system such as FC, FCoE, iSCSI, NFS and etc. Proposed change =============== Ironic CLI and API are enhanced to support Ironic CLI new sub-command `node-switchover`. `ironic node-switchover <source node> [<destination node>]` The work flow of the `node switchover` sub-command is as follows: #. if the `source node` is not capable to boot from a Cinder volume, then return an error (HTTP 400). #. if the optional parameter `destination node` is specified, check if the `source node` and `destination node` are identical bare metal hardware. If the result is not identical, then return an error (HTTP 400) #. if the optional parameter `destination node` is NOT specified, search bare metal nodes in ``enroll state`` or ``manageable state`` and pick up an identical bare metal hardware with the `source node`. If the result is `not found`, then return an error (HTTP 400) #. shutdown the `source node` by `soft power off` if the node supports, otherwise by `power off`. And then change the state of `source node` to ``maintenance mode``. #. move all of node information including ``volume_connectors`` and ``volume_targets`` from `source node` to `destination node`. #. boot the `destination node`. Alternatives ------------ None Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- Add REST API end point to trigger the switching over of the node asynchronously. * PUT /v1/nodes/(node_ident)/switchover:: {""target_node"": uuid_or_name} Request parameters * node_ident (uuid_or_name) – UUID or logical name of a source node. * target_node (uuid_or_name) – Optional. UUID or logical name of a destination node. Normal response codes 202 Accepted Error response codes * 400 Bad Request if source node doesn't support boot from Cinder volume or suitable destination node is found. * 406 Not Acceptable if the API version specified is not supported * 409 Conflict if the src node is locked Client (CLI) impact ------------------- Add `node-switchover` sub-command to trigger the switching over of the node asynchronously. * ironic node-switchover <src id> [--destination <dst id>]:: * <src id> - Name or UUID of the source node * --destination <id> - Optional. Name or UUID of the destination node RPC API impact -------------- None Driver API impact ----------------- Driver must support `[RFE] Add volume connection information into ironic db` [1]. Nova driver impact ------------------ Nova driver is enhanced to support `nova evacuate` for Ironic server instance. Nova driver enhancement is specified in Nova spec [3]. Security impact --------------- None Other end user impact --------------------- End user who doesn't administrator privilege must use `nova evacuate` [3] instead of `ironic switchover`. Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- Deployer has to maintain the number of spare bare metal hardware according to estimated failure rate. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Naohiro Tamura (naohirot) Other contributors: None Work Items ---------- * implement Ironic REST API endpoint which is described in the section ``REST API impact``. * implement Ironic CLI sub-command which is described in the section ``Client (CLI) impact``. Dependencies ============ This proposed function depends on the other specs [1] and [2]. Testing ======= * Unit Tests. * Third Party CI Tests Upgrades and Backwards Compatibility ==================================== None. Documentation Impact ==================== * The deployer doc needs to be updated. (CLI and REST API reference manuals are generated automatically from source code) References ========== [1] `[RFE] Add volume connection information into ironic db <https://bugs.launchpad.net/ironic/+bug/1526231>`_ [2] `[RFE] Enhance Power Interface for Soft Power Off and Inject NMI <https://bugs.launchpad.net/ironic/+bug/1526226>`_ [3] [TBD] nova driver enhancement for `nova evacuate` to support Ironic server instance. ",,205,0
openstack%2Fironic-specs~master~I32ba191071fda2426e00e6fee1f04c7ff40c7e69,openstack/ironic-specs,master,I32ba191071fda2426e00e6fee1f04c7ff40c7e69,IPA telemetry,ABANDONED,2017-08-10 22:09:57.000000000,2021-08-17 15:02:32.000000000,,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 18653}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-08-10 22:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8d610acf80eed0c02c5730d1a4f7b7f1d95a8f08', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 2, 'created': '2017-08-11 13:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2b52a963db886d71fc747164c5dc4db6e81f292d', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 3, 'created': '2017-08-14 14:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/45032f900f43a0d71037f497392b3a137506e239', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 4, 'created': '2017-08-15 16:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5c877fde5615a6f2bd22c312c139d50be769c95f', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 5, 'created': '2017-08-15 17:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c90d9c9e8d89365665f0360ee17e70ba6d789a13', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 6, 'created': '2017-08-21 17:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c788ec5f7e04dc6670ed1b450dc9383295133b87', 'message': ""IPA live logs spec\n\nIPA spec to convey the information on the invoked\ntool's progress all the way down to the Operator.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n""}, {'number': 7, 'created': '2017-09-04 16:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6eb8498e6f28a03ce1eddf6530508dae90b7e20e', 'message': 'IPA to report node activity\n\nThis spec is to make IPA conveying basic information on\nthe spawned processes and operating system activity to the\noperator within the existing CLI/web-UI.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n'}, {'number': 8, 'created': '2017-09-05 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ee2d47ec777c35f337d306bb8570f12f20fe93d0', 'message': 'IPA to report node activity\n\nThis spec is to make IPA conveying basic information on\nthe spawned processes and operating system activity to the\noperator within the existing CLI/web-UI.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n'}, {'number': 9, 'created': '2017-09-27 17:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a7f19f32ca0ad2b3a49647afdc9220eee2df3b52', 'message': 'IPA to report node activity\n\nThis spec is to make IPA conveying basic information on\nthe spawned processes and operating system activity to the\noperator within the existing CLI/web-UI.\n\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\nRelated-bug: #1709983\n'}, {'number': 10, 'created': '2018-08-08 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/df19043ecaf7cf40dd8846655e3c33e6984ec3ce', 'message': 'IPA to report node activity\n\nMake IPA conveying basic information on the running processes\nand general ramdisk system health to the operator.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 11, 'created': '2018-08-24 22:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5179b05a4186128940f43e99291c22a6e887ec32', 'message': 'IPA telemetry\n\nThe spec proposing making IPA periodically reporting basic metrics\non running processes and operating system itself, them store this\ninformation in conductor DB for operator to consume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 12, 'created': '2018-08-27 14:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0fee77baeaabfa77509627655646a8057005d23b', 'message': 'IPA telemetry\n\nThe spec proposing making IPA periodically reporting basic metrics\non running processes and operating system itself, them store this\ninformation in conductor DB for operator to consume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 13, 'created': '2018-08-27 15:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/532c79d6435bd88425c87a1f4645cdd4d577ea14', 'message': 'IPA telemetry\n\nThe spec proposing making IPA periodically reporting basic metrics\non running processes and operating system itself, them store this\ninformation in conductor DB for operator to consume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 14, 'created': '2018-08-28 12:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0f3613102c14d3f9d43cadc5a265e01a4d97e4be', 'message': 'IPA telemetry\n\nProposes making IPA periodically reporting basic metrics\non running processes and ramdisk operating system itself,\nthen store this information in ironic DB for operator to\nconsume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 15, 'created': '2018-08-31 09:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0cdbaf8b1d0c9cc692092772d0af454c9f9c8912', 'message': 'IPA telemetry\n\nProposes making IPA periodically reporting basic metrics\non running processes and ramdisk operating system itself,\nthen store this information in ironic DB for operator to\nconsume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 16, 'created': '2018-09-03 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/245e22c48145ae441d36115bdacf6de4a7a2f3b4', 'message': 'IPA telemetry\n\nProposes making IPA periodically reporting basic metrics\non running processes and ramdisk operating system itself,\nthen store this information in ironic DB for operator to\nconsume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 17, 'created': '2018-09-03 11:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e7a3a0e78609f342a8ba2aec2080a4c76e1ea522', 'message': 'IPA telemetry\n\nProposes making IPA periodically reporting basic metrics\non running processes and ramdisk operating system itself,\nthen store this information in ironic DB for operator to\nconsume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}, {'number': 18, 'created': '2018-09-11 21:30:39.000000000', 'files': ['specs/approved/ipa-telemetry.rst', 'specs/not-implemented/ipa-telemetry.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/86f3e868b1e20152096de5f5050f97ce3ca2dc83', 'message': 'IPA telemetry\n\nProposes making IPA periodically reporting basic metrics\non running processes and ramdisk operating system itself,\nthen store this information in ironic DB for operator to\nconsume.\n\nStory: 1709983\nChange-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69\n'}]",240,492702,86f3e868b1e20152096de5f5050f97ce3ca2dc83,84,11,18,26340,,,0,"IPA telemetry

Proposes making IPA periodically reporting basic metrics
on running processes and ramdisk operating system itself,
then store this information in ironic DB for operator to
consume.

Story: 1709983
Change-Id: I32ba191071fda2426e00e6fee1f04c7ff40c7e69
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/02/492702/16 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/ipa_live_logs.rst', 'specs/not-implemented/ipa_live_logs.rst']",2,8d610acf80eed0c02c5730d1a4f7b7f1d95a8f08,ipa-telemetry,../approved/ipa_live_logs.rst,,270,0
openstack%2Fkolla-ansible~master~I69869be87856b3fe9cb76a3214703f61af67ee22,openstack/kolla-ansible,master,I69869be87856b3fe9cb76a3214703f61af67ee22,Add SAML 2 federation support,NEW,2021-08-13 13:31:42.000000000,2021-08-17 14:25:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32398}]","[{'number': 1, 'created': '2021-08-13 13:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/877506bbdaaf0b4f15354caa46141661bbb1366a', 'message': 'Add SAML 2 federation support\n\nAdds support for configuring keystone with mod_mellon\nto support SAML 2 IdPs. This is an extension of the\nexisting OpenID support and uses a lot of the same\nmechanisms.\n\nThis also renames the oidc attribute mapping variables\nto make them generic, as all identity providers will\nuse the same mechanism for registering mappings.\n\nChange-Id: I69869be87856b3fe9cb76a3214703f61af67ee22\n'}, {'number': 2, 'created': '2021-08-13 13:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4879fa8d0863a75881cbc9bc01d1fbcdadc17a6', 'message': 'Add SAML 2 federation support\n\nAdds support for configuring keystone with mod_mellon\nto support SAML 2 IdPs. This is an extension of the\nexisting OpenID support and uses a lot of the same\nmechanisms.\n\nThis also renames the oidc attribute mapping variables\nto make them generic, as all identity providers will\nuse the same mechanism for registering mappings.\n\nChange-Id: I69869be87856b3fe9cb76a3214703f61af67ee22\n'}, {'number': 3, 'created': '2021-08-16 09:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/063ba07f54f57a27e27e0b80c14681cc00016477', 'message': 'Add SAML 2 federation support\n\nAdds support for configuring Keystone with mod_mellon\nto support SAML 2 IdPs. This is an extension of the\nexisting OpenID support and uses a lot of the same\nmechanisms.\n\nThis also renames the oidc attribute mapping variables\nto make them generic, as all identity providers will\nuse the same mechanism for registering mappings.\n\nChange-Id: I69869be87856b3fe9cb76a3214703f61af67ee22\n'}, {'number': 4, 'created': '2021-08-16 09:54:49.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config-federation-oidc.yml', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'doc/source/reference/shared-services/keystone-guide.rst', 'ansible/roles/keystone/tasks/config-federation-saml2.yml', 'releasenotes/notes/add-keystone-saml2-support-2e9ab94ffab09283.yaml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/tasks/config-federation.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/459ed07da207a3fe836ac9b6e75b34c764789325', 'message': 'Add SAML 2 federation support\n\nAdds support for configuring Keystone with mod_mellon\nto support SAML 2 IdPs. This is an extension of the\nexisting OpenID support and uses a lot of the same\nmechanisms.\n\nThis also renames the oidc attribute mapping variables\nto make them generic, as all identity providers will\nuse the same mechanism for registering mappings.\n\nChange-Id: I69869be87856b3fe9cb76a3214703f61af67ee22\n'}]",7,804524,459ed07da207a3fe836ac9b6e75b34c764789325,13,4,4,33694,,,0,"Add SAML 2 federation support

Adds support for configuring Keystone with mod_mellon
to support SAML 2 IdPs. This is an extension of the
existing OpenID support and uses a lot of the same
mechanisms.

This also renames the oidc attribute mapping variables
to make them generic, as all identity providers will
use the same mechanism for registering mappings.

Change-Id: I69869be87856b3fe9cb76a3214703f61af67ee22
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/804524/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config-federation-oidc.yml', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'doc/source/reference/shared-services/keystone-guide.rst', 'ansible/roles/keystone/tasks/config-federation-saml2.yml', 'releasenotes/notes/add-keystone-saml2-support-2e9ab94ffab09283.yaml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/tasks/config-federation.yml']",12,877506bbdaaf0b4f15354caa46141661bbb1366a,,"--- - name: Remove attribute mapping folder become: true vars: keystone: ""{{ keystone_services['keystone'] }}"" file: state: absent path: ""{{ keystone_host_federation_attribute_mappings_folder }}"" when: - inventory_hostname in groups[keystone.group] - name: Create attribute mapping folder vars: keystone: ""{{ keystone_services['keystone'] }}"" file: dest: ""{{ keystone_host_federation_attribute_mappings_folder }}"" state: ""directory"" mode: ""0770"" become: true when: - inventory_hostname in groups[keystone.group] - name: Copying OpenStack Identity Providers attribute mappings vars: keystone: ""{{ keystone_services['keystone'] }}"" become: true copy: src: ""{{ item.file }}"" dest: ""{{ keystone_host_federation_attribute_mappings_folder }}/{{ item.file | basename }}"" mode: ""0660"" with_items: ""{{ keystone_identity_mappings }}"" when: - inventory_hostname in groups[keystone.group] ",,283,29
openstack%2Fossa~master~I91b44e7fab3209170efd8dc594cb1b442ee48c2d,openstack/ossa,master,I91b44e7fab3209170efd8dc594cb1b442ee48c2d,Add OSSA-2021-004 (CVE-2021-38598),MERGED,2021-08-10 16:42:16.000000000,2021-08-17 14:15:58.000000000,2021-08-17 14:14:21.000000000,"[{'_account_id': 5263}, {'_account_id': 16688}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 16:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/46cc1e6c3c73420b33fab4f0bba690d78c2f6c01', 'message': 'Add OSSA-2021-004 (TBD)\n\nChange-Id: I91b44e7fab3209170efd8dc594cb1b442ee48c2d\nCloses-Bug: #1938670\n'}, {'number': 2, 'created': '2021-08-11 02:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/e722ba8f4d57ecd4636545b0ecaac1cc887b9a57', 'message': 'Add OSSA-2021-004 (TBD)\n\nChange-Id: I91b44e7fab3209170efd8dc594cb1b442ee48c2d\nCloses-Bug: #1938670\n'}, {'number': 3, 'created': '2021-08-12 14:55:58.000000000', 'files': ['ossa/OSSA-2021-004.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/5bfba3e739b9988206a51fc564a05cc32b23a791', 'message': 'Add OSSA-2021-004 (CVE-2021-38598)\n\nChange-Id: I91b44e7fab3209170efd8dc594cb1b442ee48c2d\nCloses-Bug: #1938670\n'}]",6,804116,5bfba3e739b9988206a51fc564a05cc32b23a791,17,4,3,5263,,,0,"Add OSSA-2021-004 (CVE-2021-38598)

Change-Id: I91b44e7fab3209170efd8dc594cb1b442ee48c2d
Closes-Bug: #1938670
",git fetch https://review.opendev.org/openstack/ossa refs/changes/16/804116/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-004.yaml'],1,46cc1e6c3c73420b33fab4f0bba690d78c2f6c01,bug/1938670,"date: 2021-08-17 id: OSSA-2021-004 title: Linuxbridge ARP filter bypass on Netfilter platforms description: > Jake Yip with Nectar reported a vulnerability in Neutron's linuxbridge driver on newer Netfilter-based platforms (the successor to IPTables). By sending carefully crafted packets, anyone in control of a server instance connected to the virtual switch can impersonate the hardware addresses of other systems on the network, resulting in denial of service or in some cases possibly interception of traffic intended for other destinations. Only deployments using the linuxbridge driver with ebtables-nft are affected. affected-products: - product: Neutron version: '<16.4.1, >=17.0.0 <17.1.3, ==18.0.0' vulnerabilities: - cve-id: TBD reporters: - name: Jake Yip affiliation: Nectar reported: - TBD issues: links: - https://launchpad.net/bugs/1938670 reviews: xena: - https://review.opendev.org/785177 wallaby: - https://review.opendev.org/785917 victoria: - https://review.opendev.org/804056 ussuri: - https://review.opendev.org/804057 train: - https://review.opendev.org/804058 notes: - The stable/train branch is under extended maintenance and will receive no new point releases, but a patch for it is provided as a courtesy. ",,51,0
openstack%2Ftripleo-specs~master~I58bceea4920958e6009bb7193f7946217b0d1d2c,openstack/tripleo-specs,master,I58bceea4920958e6009bb7193f7946217b0d1d2c,Moving TripleO repos to independent release model,MERGED,2021-07-20 16:18:35.000000000,2021-08-17 14:14:53.000000000,2021-08-17 14:13:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11604}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-20 16:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/fd2b2a1913ab19599491f863324e549acd3cf4bb', 'message': 'WIP Moving TripleO repos to independent release model\n\nChange-Id: I58bceea4920958e6009bb7193f7946217b0d1d2c\n'}, {'number': 2, 'created': '2021-07-21 16:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1baad2c142ca35403e6e4c844d26ba74c6d24e52', 'message': 'Moving TripleO repos to independent release model\n\nAs discussed in [1] this lays out the proposal to move tripleo\nrepos to independent release. Tried to address the points raised\nin the discussion.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/thread.html#22959\n\nChange-Id: I58bceea4920958e6009bb7193f7946217b0d1d2c\n'}, {'number': 3, 'created': '2021-07-28 16:37:41.000000000', 'files': ['specs/xena/tripleo-independent-release.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/58e9043fd25e016de55f6b7313389895a90067a3', 'message': 'Moving TripleO repos to independent release model\n\nAs discussed in [1] this lays out the proposal to move tripleo\nrepos to independent release. Tried to address the points raised\nin the discussion.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/thread.html#22959\n\nChange-Id: I58bceea4920958e6009bb7193f7946217b0d1d2c\n'}]",16,801512,58e9043fd25e016de55f6b7313389895a90067a3,33,15,3,8449,,,0,"Moving TripleO repos to independent release model

As discussed in [1] this lays out the proposal to move tripleo
repos to independent release. Tried to address the points raised
in the discussion.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/thread.html#22959

Change-Id: I58bceea4920958e6009bb7193f7946217b0d1d2c
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/12/801512/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/tripleo-independent-release.rst'],1,fd2b2a1913ab19599491f863324e549acd3cf4bb,I58bceea4920958e6009bb7193f7946217b0d1d2c," .. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Moving TripleO repos to independent release model ================================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo This spec proposes that we move all tripleo repos to the independent release model. The proposal was first raised during tripleo irc meetings [1]_ and then also on the openstack-discuss mailing list [2]_. Problem Description =================== The TripleO repos [3]_ mostly follow the cycle-with-intermediary release model, for example tripleo-heat-templates at [4]_. Mostly because some of those repos are already following the independent release model, for example tripleo-upgrade at [5]_. A description of the different release models can be found at [6]_. By following the cycle-with-intermediary release model, TripleO is bound to produce a release for each OpenStack development cycle and a corresponding stable/branch in the tripleo repos. However as we have seen this causes an ongoing maintenance burden; consider that currently TripleO is supporting 5 active branches - Train, Ussuri, Victoria, Wallaby and Xena (current master). In fact until very recently that list contained 7 branches, including Stein and Queens (currently moving to End Of Life [7]_). This creates an ongoing maintenance and resource burden to backport changes, implement and maintain upstream CI and ensure compatibility with the rest of OpenStack for a given branch through our 3rd party CI and the tripleo-ci component and integration promotion pipelines [8]_. Finally, changes in the underlying OS between branches means that for some we are maintaining two ""types"" of CI job; for stable/train we have to support both Centos 7 and Centos 8. With the coming stable/xena, we would likely have to support Centos-Stream-8 as well as Centos-Stream-9 in the event that Stream-9 is not fully availably by the xena release. Proposed Change =============== Overview -------- The proposal is for all TripleO repos that are currently using the cycle-with-intermediary release model to switch to independent. This will allow us to choose to skip a particular release and more importantly skip the creation of the given stable/branch on those repos. This would allow the TripleO community to focus our resources on those branches that are most 'important' to us, namely the 'FFU branches'. That is, the branches that are part of the TripleO Fast Forward Upgrade chain (currently these are Train -> Wallaby -> Z?). For example it is highly likely that we would not create a Xena branch. Developers will be freed from having to backport changes across stable/branches and this will have a dramatic effect on our upstream CI resource consumption and maintenance burden. Alternatives ------------ We can continue to create all the stable/branches and use the same release model we currently have. This would mean we would continue to have an increased maintenance burden and would have to address that with increased resources. Security Impact --------------- None Upgrade Impact -------------- For upgrades it would mean that TripleO would no longer directly support all OpenStack stable branches. So if we decide not to create stable/xena for example then you cannot upgrade from wallaby to xena using TripleO. In some respects this would more closely match the reality of the situation where our focus with respect to upgrade is mostly on ensuring the Fast Forward Upgrade (e.g. train to wallaby) and less so on ensuring the point to point upgrade between branches. Other End User Impact --------------------- TripleO would no longer be able to deploy all versions of OpenStack. One idea that was brough forth in the discussions around this topic thus far, is that we can attempt to address this by designating a range of git tags as compatible with a particular OpenStack stable branch. For example if TripleO doesn't create a stable/xena, but during the xena cycle makes releases for the various Tripleo repos then *those* releases will be compatible for deploying OpenStack stable/xena. We can maintain and publicise a set of compatible tags for each of the affected repos (e.g., tripleo-heat-templates versions 15.0.0 to 15.999.999 are compatible with OpenStack stable/xena). Performance Impact ------------------ None Other Deployer Impact --------------------- None Developer Impact ---------------- Will have less stable/branches to backport fixes to. Implementation ============== Assignee(s) ----------- Wesley Hayutin <weshay@redhat.com> Marios Andreou <marios@redhat.com> Work Items ---------- Besides posting the review against the releases repo [9]_ we will need to update documentation to reflect and inform about this change. Dependencies ============ None Testing ======= None Documentation Impact ==================== Yes we will at least need to add some section to the docs to explain this. We may also add some landing page to show the currently 'active' or supported TripleO branches. References ========== .. [1] `Tripleo IRC meeting logs 25 May 2021 <https://meetings.opendev.org/meetings/tripleo/2021/tripleo.2021-05-25-14.00.html>`_ .. [2] `openstack-discuss thread '[tripleo] Changing TripleO's release model' <http://lists.openstack.org/pipermail/openstack-discuss/2021-June/thread.html#22959>`_ .. [3] `TripleO section in governance projects.yaml <https://opendev.org/openstack/governance/src/commit/8dcac06d702ccff89b19c73b0c1d5ae7620b9a7b/reference/projects.yaml#L3044-L3177>`_ .. [4] `tripleo-heat-templates wallaby release file <https://opendev.org/openstack/releases/src/commit/e1b3fa10962cefad3220ae41e1c81a0ae0fd0fd5/deliverables/wallaby/tripleo-heat-templates.yaml#L3>`_ .. [5] `tripleo-upgrade independent release file <https://opendev.org/openstack/releases/src/commit/e1b3fa10962cefad3220ae41e1c81a0ae0fd0fd5/deliverables/_independent/tripleo-upgrade.yaml>`_ .. [6] `OpenStack project release models <https://releases.openstack.org/reference/release_models.html>`_ .. [7] `openstack-discuss [TripleO] moving stable/stein and stable/queens to End of Life <http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023409.html>`_ .. [8] `TripleO Docs - TripleO CI Promotions <https://docs.openstack.org/tripleo-docs/latest/ci/stages-overview.html>`_ .. [9] `opendev.org openstack/releases git repo <https://opendev.org/openstack/releases/>`_ ",,165,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib5a073d5b8209005be8841e355e75047c77bd488,openstack/kolla-ansible,stable/wallaby,Ib5a073d5b8209005be8841e355e75047c77bd488,Fix the Tempest image url variable,MERGED,2021-08-17 11:48:57.000000000,2021-08-17 14:14:52.000000000,2021-08-17 14:10:44.000000000,"[{'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-08-17 11:48:57.000000000', 'files': ['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6e14f8e475659a6249ff5ae67b23f8435c96792', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,804847,d6e14f8e475659a6249ff5ae67b23f8435c96792,12,6,1,14200,,,0,"Fix the Tempest image url variable

Seems very strange the variable of the image url doeesn't have the
correct prefix. This trivial fix will solve the issue.

TrivialFix

Change-Id: Ib5a073d5b8209005be8841e355e75047c77bd488
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/804847/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml']",2,d6e14f8e475659a6249ff5ae67b23f8435c96792,tempest-image-url,"tempest_image_url: ""{{ image_url | default('https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img') }}""","image_url: ""https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img""",2,2
openstack%2Fkayobe~stable%2Fvictoria~Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,openstack/kayobe,stable/victoria,Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,dnf: add metalink argument to custom dnf repository,MERGED,2021-08-17 08:26:07.000000000,2021-08-17 14:06:47.000000000,2021-08-17 14:05:08.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-17 08:26:07.000000000', 'files': ['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/761665ffa127dabc8fe7cb7afc229ed2d0b951ee', 'message': ""dnf: add metalink argument to custom dnf repository\n\nAs per [1] mandatory configuration option is either baseurl, mirrorlist\nor metalink.\n\nEPEL repos use metalink and it's impossible to configure them via DNF\ncustom repos functionality right now.\n\n[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink\n\nChange-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f\n(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)\n""}]",0,804853,761665ffa127dabc8fe7cb7afc229ed2d0b951ee,9,3,1,14826,,,0,"dnf: add metalink argument to custom dnf repository

As per [1] mandatory configuration option is either baseurl, mirrorlist
or metalink.

EPEL repos use metalink and it's impossible to configure them via DNF
custom repos functionality right now.

[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink

Change-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f
(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/804853/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml']",2,761665ffa127dabc8fe7cb7afc229ed2d0b951ee,dnf-metalink-stable/victoria," baseurl: ""{{ item.value.baseurl | default(omit)}}"" metalink: ""{{ item.value.metalink | default(omit)}}"""," baseurl: ""{{ item.value.baseurl }}""",7,1
openstack%2Ftripleo-heat-templates~master~I8ff3d76c59f4c24e6180681ce2bbc89b168b64bd,openstack/tripleo-heat-templates,master,I8ff3d76c59f4c24e6180681ce2bbc89b168b64bd,Allow overriding environment variables of horizon container,ABANDONED,2020-12-14 01:15:32.000000000,2021-08-17 14:02:36.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-14 01:15:32.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon-environment-overrides-0c01e6ecb2429b5b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9afc6fb899f6bce1a26dc3dce3afa5108ae9d890', 'message': ""Allow overriding environment variables of horizon container\n\nCurrently we use environment variables to determine enable dashboars,\nbut these variables are statically defined and can't be overridden.\n\nThis change introduces a new parameter to override the variables so\nthat specific dashboards can be enabled or disabled explicitly\naccording to the services enabled.\n\nChange-Id: I8ff3d76c59f4c24e6180681ce2bbc89b168b64bd\n""}]",0,766871,9afc6fb899f6bce1a26dc3dce3afa5108ae9d890,5,3,1,9816,,,0,"Allow overriding environment variables of horizon container

Currently we use environment variables to determine enable dashboars,
but these variables are statically defined and can't be overridden.

This change introduces a new parameter to override the variables so
that specific dashboards can be enabled or disabled explicitly
according to the services enabled.

Change-Id: I8ff3d76c59f4c24e6180681ce2bbc89b168b64bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/766871/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon-environment-overrides-0c01e6ecb2429b5b.yaml']",2,9afc6fb899f6bce1a26dc3dce3afa5108ae9d890,,--- features: - | The new ``HorizonEnvironmentOverrides`` parameter has been added to override the environment variables of the horizon container. This parameter can be used to enable/disable specific horizon dashboards. ,,37,24
openstack%2Fpuppet-neutron~master~Ie5b65b5ae35be8e65f1a0db2f4ac798c113f24cd,openstack/puppet-neutron,master,Ie5b65b5ae35be8e65f1a0db2f4ac798c113f24cd,DNM: debugging unit test failures,ABANDONED,2021-03-25 15:28:27.000000000,2021-08-17 14:02:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 15:28:27.000000000', 'files': ['manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f8f1f77f02daf340c2adfb84834be6135406e587', 'message': 'DNM: debugging unit test failures\n\nChange-Id: Ie5b65b5ae35be8e65f1a0db2f4ac798c113f24cd\n'}]",0,783035,f8f1f77f02daf340c2adfb84834be6135406e587,3,1,1,9816,,,0,"DNM: debugging unit test failures

Change-Id: Ie5b65b5ae35be8e65f1a0db2f4ac798c113f24cd
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/35/783035/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ovs/opendaylight.pp'],1,f8f1f77f02daf340c2adfb84834be6135406e587,dnm, $cert_data = 'dummy' #$cert_data = convert_cert_to_string($tls_cert_file), $cert_data = convert_cert_to_string($tls_cert_file),2,1
openstack%2Fpuppet-pacemaker~master~Ic72a0e4f8275f214b143b132689c238a48d8e4a6,openstack/puppet-pacemaker,master,Ic72a0e4f8275f214b143b132689c238a48d8e4a6,DNM: Test gate,ABANDONED,2021-03-24 11:20:57.000000000,2021-08-17 14:02:01.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 11:20:57.000000000', 'files': ['spec/.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/baf3e9453a63dc9555721dcbb940bce51a50bc59', 'message': 'DNM: Test gate\n\nChange-Id: Ic72a0e4f8275f214b143b132689c238a48d8e4a6\n'}]",0,782694,baf3e9453a63dc9555721dcbb940bce51a50bc59,3,2,1,9816,,,0,"DNM: Test gate

Change-Id: Ic72a0e4f8275f214b143b132689c238a48d8e4a6
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/94/782694/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/.dnm'],1,baf3e9453a63dc9555721dcbb940bce51a50bc59,,,,0,0
openstack%2Fpuppet-openstack-integration~master~Ia8f742bff9e67fe5b38f9ba02778d8e3b8a7dbf2,openstack/puppet-openstack-integration,master,Ia8f742bff9e67fe5b38f9ba02778d8e3b8a7dbf2,Enable http backend in Glance,ABANDONED,2020-12-15 11:59:14.000000000,2021-08-17 14:01:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-15 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/569eb697e61a6009d997603f980e75cff066beb9', 'message': 'Enable http backend in Glance\n\nDepends-on: https://review.opendev.org/#/c/763392/\nChange-Id: Ia8f742bff9e67fe5b38f9ba02778d8e3b8a7dbf2\n'}, {'number': 2, 'created': '2020-12-15 13:05:18.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/be0a028454e17354f0da6ea2f74bbd793ccb2120', 'message': 'Enable http backend in Glance\n\nDepends-on: https://review.opendev.org/#/c/763392\nChange-Id: Ia8f742bff9e67fe5b38f9ba02778d8e3b8a7dbf2\n'}]",0,767120,be0a028454e17354f0da6ea2f74bbd793ccb2120,5,1,2,9816,,,0,"Enable http backend in Glance

Depends-on: https://review.opendev.org/#/c/763392
Change-Id: Ia8f742bff9e67fe5b38f9ba02778d8e3b8a7dbf2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/767120/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,569eb697e61a6009d997603f980e75cff066beb9,glance-multistore," glance::backend::multistore::http { 'http': } enabled_backends = [""${default_backend}:${backend}"", 'http']"," enabled_backends = [""${default_backend}:${backend}""]",2,1
openstack%2Fpuppet-keystone~master~I78c35f92370ca5a7cd213d9b82308366c8de0446,openstack/puppet-keystone,master,I78c35f92370ca5a7cd213d9b82308366c8de0446,DNM: Make sure OIDCMemCacheServers is not set by default,ABANDONED,2020-10-29 15:01:56.000000000,2021-08-17 14:00:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-29 15:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e81f9a140adec094f99b90bf694696f46adb6da4', 'message': 'DNM: Make sure OIDCMemCacheServers is not set by default\n\nChange-Id: I78c35f92370ca5a7cd213d9b82308366c8de0446\n'}, {'number': 2, 'created': '2020-11-20 14:47:48.000000000', 'files': ['spec/classes/keystone_federation_openidc_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/756e38aa1943a2626818349c9651e8e25125eadb', 'message': 'DNM: Make sure OIDCMemCacheServers is not set by default\n\nChange-Id: I78c35f92370ca5a7cd213d9b82308366c8de0446\n'}]",0,760383,756e38aa1943a2626818349c9651e8e25125eadb,4,1,2,9816,,,0,"DNM: Make sure OIDCMemCacheServers is not set by default

Change-Id: I78c35f92370ca5a7cd213d9b82308366c8de0446
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/83/760383/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_federation_openidc_spec.rb'],1,e81f9a140adec094f99b90bf694696f46adb6da4,openidc.pp_UPDATE, it 'should not contain memcache servers' do expect(content).to_not match('^OIDCMemCacheServers') end,,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie81ca5056777d2e3e56602000fc5d681b2abab85,openstack/tripleo-heat-templates,stable/train,Ie81ca5056777d2e3e56602000fc5d681b2abab85,Do no log output for async puppet tasks,ABANDONED,2020-05-30 01:17:08.000000000,2021-08-17 13:59:58.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-30 01:17:08.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49fdcf78676a752db043b28c5b68f190144566ae', 'message': ""Do no log output for async puppet tasks\n\nCurrently we don't disable log in wait task for wait tasks, we have\nall outputs of puppet execution shown when async task is finished.\nThis causes huge length of line shown because all of the output are\ncompressed into one line by ansible.\nWe already have the subsequent task to show stdout/stderr output, thus\nthis outputs are not useful but just annoying.\n\nChange-Id: Ie81ca5056777d2e3e56602000fc5d681b2abab85\n""}]",0,731873,49fdcf78676a752db043b28c5b68f190144566ae,5,3,1,9816,,,0,"Do no log output for async puppet tasks

Currently we don't disable log in wait task for wait tasks, we have
all outputs of puppet execution shown when async task is finished.
This causes huge length of line shown because all of the output are
compressed into one line by ansible.
We already have the subsequent task to show stdout/stderr output, thus
this outputs are not useful but just annoying.

Change-Id: Ie81ca5056777d2e3e56602000fc5d681b2abab85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/731873/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,49fdcf78676a752db043b28c5b68f190144566ae,async-nolog-stable/train, no_log: true,,1,0
openstack%2Fpuppet-openstack-integration~master~I74ce259b9b3debb40dabb72eb1ab23f1080d5c36,openstack/puppet-openstack-integration,master,I74ce259b9b3debb40dabb72eb1ab23f1080d5c36,WIP: Add basic manifest to set up Octavia,ABANDONED,2020-10-26 23:45:56.000000000,2021-08-17 13:59:41.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-26 23:45:56.000000000', 'files': ['manifests/octavia.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/18df12568e03c34f87d2bfb39bd3bff49b0a566d', 'message': 'WIP: Add basic manifest to set up Octavia\n\nChange-Id: I74ce259b9b3debb40dabb72eb1ab23f1080d5c36\n'}]",0,759776,18df12568e03c34f87d2bfb39bd3bff49b0a566d,4,2,1,9816,,,0,"WIP: Add basic manifest to set up Octavia

Change-Id: I74ce259b9b3debb40dabb72eb1ab23f1080d5c36
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/76/759776/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/octavia.pp'],1,18df12568e03c34f87d2bfb39bd3bff49b0a566d,octavia,"# Configure the Octavia service # class openstack_integration::octavia { include openstack_integration::config include openstack_integration::params openstack_integration::mq_user { 'octavia': password => 'an_even_bigger_secret', before => Anchor['octavia::service::begin'], } class { 'octavia::db::mysql': password => 'octavia', } class { 'octavia::logging': debug => true, } class { 'octavia::db::mysql': password => 'a_big_secret', } class { 'octavia::keystone::auth': password => 'a_big_secret', } # Octavia is not packaged on Ubuntu platform. if $::osfamily == 'RedHat' { class { 'octavia::db': database_connection => 'mysql+pymysql://octavia:a_big_secret@127.0.0.1/octavia?charset=utf8', } class { 'octavia::logging': debug => true, } class { 'octavia': default_transport_url => os_transport_url({ 'transport' => 'rabbit', 'host' => $::openstack_integration::config::host, 'port' => $::openstack_integration::config::rabbit_port, 'username' => 'designate', 'password' => 'an_even_bigger_secret', }), rabbit_use_ssl => $::openstack_integration::config::ssl, } class { 'octavia::keystone::authtoken': password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, www_authenticate_uri => $::openstack_integration::config::keystone_auth_uri, memcached_servers => $::openstack_integration::config::memcached_servers, } class { 'octavia::api': sync_db => true, } class { 'octavia::controller': amp_flavor_id => '65', } class { 'octavia::worker': } class { 'octavia::health_manager': heartbeat_key => 'abcdefghijkl', } class { 'octavia::housekeeping': } # We create Nova flavor on the same node where Nova runs Keystone_user_role <||>-> Nova_flavor<||> Keystone_user <||>-> Nova_flavor<||> Keystone_endpoint <||>-> Nova_flavor<||> } } ",,77,0
openstack%2Fpuppet-aodh~master~I4529c579c572959de5e78426e86be37131283834,openstack/puppet-aodh,master,I4529c579c572959de5e78426e86be37131283834,WIP: Replace params by hieradata,ABANDONED,2020-10-03 13:06:26.000000000,2021-08-17 13:59:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-03 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c870669fa23e29df665c191b151a4cc38c0f589f', 'message': 'WIP: Replace params by hieradata\n\nChange-Id: I4529c579c572959de5e78426e86be37131283834\n'}, {'number': 2, 'created': '2020-10-03 13:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d84a9a6812e3d4047068138b6b2013677e7b154a', 'message': 'WIP: Replace params by hieradata\n\nChange-Id: I4529c579c572959de5e78426e86be37131283834\n'}, {'number': 3, 'created': '2020-10-03 13:53:26.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'manifests/quota.pp', 'hiera.yaml', 'spec/classes/aodh_wsgi_apache_spec.rb', 'spec/classes/aodh_listener_spec.rb', 'spec/classes/aodh_client_spec.rb', 'data/os/redhat.yaml', 'data/common.yaml', 'manifests/wsgi/apache.pp', 'data/os/debian.yaml', 'manifests/notifier.pp', 'manifests/params.pp', 'manifests/client.pp', 'manifests/listener.pp', 'spec/classes/aodh_evaluator_spec.rb', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp', 'manifests/policy.pp', 'spec/classes/aodh_notifier_spec.rb', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/6dd93eb1b1130f3c11dc6fb4a64cbd6878875654', 'message': 'WIP: Replace params by hieradata\n\nChange-Id: I4529c579c572959de5e78426e86be37131283834\n'}]",0,755930,6dd93eb1b1130f3c11dc6fb4a64cbd6878875654,7,1,3,9816,,,0,"WIP: Replace params by hieradata

Change-Id: I4529c579c572959de5e78426e86be37131283834
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/30/755930/1 && git format-patch -1 --stdout FETCH_HEAD,"['data/os/redhat.yaml', 'data/common.yaml', 'manifests/wsgi/apache.pp', 'data/os/debian.yaml', 'hiera.yaml', 'manifests/params.pp', 'manifests/expirer.pp']",7,c870669fa23e29df665c191b151a4cc38c0f589f,no-params,"# [*command*] # (optional) Command to delete expired alarms. # $command, command => ""${sleep}${command}"","," command => ""${sleep}${aodh::params::expirer_command}"",",24,24
openstack%2Fpuppet-nova~master~I35b964d96e6a558f1a10daa2391a398db60ea800,openstack/puppet-nova,master,I35b964d96e6a558f1a10daa2391a398db60ea800,Allow for a more permissible regex,MERGED,2021-08-09 09:37:48.000000000,2021-08-17 13:32:50.000000000,2021-08-17 13:32:50.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 09:37:48.000000000', 'files': ['lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7111aa75f98b9038824d2a47e36dfd6d5043c80e', 'message': ""Allow for a more permissible regex\n\nSome openstack installations use characters that are not in \\w, the\nold regex, now moved to string2hash was more permissible, and\nthere's probably no reason the regex in pythondict2hash can't be\njust as permissible.\n\nChange-Id: I35b964d96e6a558f1a10daa2391a398db60ea800\n""}]",0,803891,7111aa75f98b9038824d2a47e36dfd6d5043c80e,11,3,1,25600,,,0,"Allow for a more permissible regex

Some openstack installations use characters that are not in \w, the
old regex, now moved to string2hash was more permissible, and
there's probably no reason the regex in pythondict2hash can't be
just as permissible.

Change-Id: I35b964d96e6a558f1a10daa2391a398db60ea800
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/803891/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_aggregate/openstack.rb'],1,7111aa75f98b9038824d2a47e36dfd6d5043c80e,," return JSON.parse(input.gsub(/u'([^']*)'/, '""\1""').gsub(/'/, '""'))"," return JSON.parse(input.gsub(/u'(\w*)'/, '""\1""').gsub(/'/, '""'))",1,1
openstack%2Freleases~master~I333a89a2990861b75ee28539839c7134a3f809ab,openstack/releases,master,I333a89a2990861b75ee28539839c7134a3f809ab,oslo.db 8.5.1,MERGED,2021-08-17 11:08:11.000000000,2021-08-17 13:29:12.000000000,2021-08-17 13:29:12.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-17 11:08:11.000000000', 'files': ['deliverables/wallaby/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5cccb4f2608b4ee2484bc6d9f1c83f767a93e13', 'message': 'oslo.db 8.5.1\n\nThis adds compatibility for recent versions of MySQL 8.x.\n\nChange-Id: I333a89a2990861b75ee28539839c7134a3f809ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,804844,f5cccb4f2608b4ee2484bc6d9f1c83f767a93e13,9,4,1,15334,,,0,"oslo.db 8.5.1

This adds compatibility for recent versions of MySQL 8.x.

Change-Id: I333a89a2990861b75ee28539839c7134a3f809ab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/804844/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/oslo.db.yaml'],1,f5cccb4f2608b4ee2484bc6d9f1c83f767a93e13,oslo.db, - version: 8.5.1 projects: - repo: openstack/oslo.db hash: 3b452de5d2651d74732ea4548b03e37ffb8018f8,,4,0
openstack%2Ftripleo-heat-templates~master~I1367fadb75d864dab39481500fdaa1173701cb42,openstack/tripleo-heat-templates,master,I1367fadb75d864dab39481500fdaa1173701cb42,cinder_api: Export /var/log/httpd on the host,MERGED,2021-08-16 16:46:20.000000000,2021-08-17 13:26:59.000000000,2021-08-17 13:26:59.000000000,"[{'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 16:46:20.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c73ecb196c11d508d3d9a96930cef68cc3c06dd8', 'message': 'cinder_api: Export /var/log/httpd on the host\n\n/var/log/httpd/cinder_wsgi_*.log inside the container are\nnot exported on the host:\n\nThis is because it only bind mounts the cinder logs and not the httpd\nfolder:\n\n  { ""Type"": ""bind"", ""Source"": ""/var/log/containers/cinder"", ""Destination"": ""/var/log/cinder"", ""Driver"": """", ""Mode"": """", ""Options"": [ ""rbind"" ], ""RW"": true, ""Propagation"": ""rprivate"" },\n\nLet\'s do the same as cinder_api_cron which does export them\n\nCloses-Bug: #1940127\nChange-Id: I1367fadb75d864dab39481500fdaa1173701cb42\n'}]",0,804783,c73ecb196c11d508d3d9a96930cef68cc3c06dd8,13,4,1,20172,,,0,"cinder_api: Export /var/log/httpd on the host

/var/log/httpd/cinder_wsgi_*.log inside the container are
not exported on the host:

This is because it only bind mounts the cinder logs and not the httpd
folder:

  { ""Type"": ""bind"", ""Source"": ""/var/log/containers/cinder"", ""Destination"": ""/var/log/cinder"", ""Driver"": """", ""Mode"": """", ""Options"": [ ""rbind"" ], ""RW"": true, ""Propagation"": ""rprivate"" },

Let's do the same as cinder_api_cron which does export them

Closes-Bug: #1940127
Change-Id: I1367fadb75d864dab39481500fdaa1173701cb42
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/804783/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,c73ecb196c11d508d3d9a96930cef68cc3c06dd8,, - /var/log/containers/httpd/cinder-api:/var/log/httpd:z,,1,0
openstack%2Fpython-dracclient~master~I0de17288315d3d6358f627e28a920fb2f3aac10c,openstack/python-dracclient,master,I0de17288315d3d6358f627e28a920fb2f3aac10c,Use TOX_CONSTRAINTS_FILE,MERGED,2021-08-10 14:50:34.000000000,2021-08-17 13:07:23.000000000,2021-08-17 13:07:23.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-10 14:50:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/a26ea3f5ddf031a2952156f28537e9adc538ab52', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I0de17288315d3d6358f627e28a920fb2f3aac10c\n'}]",0,804095,a26ea3f5ddf031a2952156f28537e9adc538ab52,7,3,1,31616,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I0de17288315d3d6358f627e28a920fb2f3aac10c
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/95/804095/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a26ea3f5ddf031a2952156f28537e9adc538ab52,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpuppet-cloudkitty~master~I0b07655a1ed4b0fd305fa58f338335871db66e3f,openstack/puppet-cloudkitty,master,I0b07655a1ed4b0fd305fa58f338335871db66e3f,Add region_name and interface for gnocchi collector,MERGED,2021-08-03 00:08:50.000000000,2021-08-17 13:05:45.000000000,2021-08-17 13:04:24.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 00:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/1464a6898a5da1ff5c97e47fcc48a7855c995943', 'message': 'Add region_name for gnocchi collector\n\nChange-Id: I0b07655a1ed4b0fd305fa58f338335871db66e3f\n'}, {'number': 2, 'created': '2021-08-17 04:45:00.000000000', 'files': ['releasenotes/notes/add_gnocchi_collector_region_name-0a47ed143c39ad1d.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/64badc2d55f7318cbf1651d1a76b67642fe8f6d7', 'message': 'Add region_name and interface for gnocchi collector\n\nChange-Id: I0b07655a1ed4b0fd305fa58f338335871db66e3f\n'}]",5,803296,64badc2d55f7318cbf1651d1a76b67642fe8f6d7,14,3,2,26721,,,0,"Add region_name and interface for gnocchi collector

Change-Id: I0b07655a1ed4b0fd305fa58f338335871db66e3f
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/96/803296/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_gnocchi_collector_region_name-0a47ed143c39ad1d.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp']",3,1464a6898a5da1ff5c97e47fcc48a7855c995943,umaster,"# [*region_name*] # (optional) Region name for gnocchi collector # Default to $::os_service_default # $region_name = $::os_service_default, 'collector_gnocchi/auth_section': value => $auth_section; 'collector_gnocchi/region_name': value => $region_name;", 'collector_gnocchi/auth_section': value => $auth_section,14,2
openstack%2Fkayobe~stable%2Fussuri~Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,openstack/kayobe,stable/ussuri,Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,dnf: add metalink argument to custom dnf repository,MERGED,2021-08-17 08:26:15.000000000,2021-08-17 12:44:26.000000000,2021-08-17 12:42:56.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-17 08:26:15.000000000', 'files': ['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4445e3eb167232c595fd19cab6cc4e16e0f1ce8', 'message': ""dnf: add metalink argument to custom dnf repository\n\nAs per [1] mandatory configuration option is either baseurl, mirrorlist\nor metalink.\n\nEPEL repos use metalink and it's impossible to configure them via DNF\ncustom repos functionality right now.\n\n[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink\n\nChange-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f\n(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)\n""}]",0,804854,d4445e3eb167232c595fd19cab6cc4e16e0f1ce8,10,4,1,14826,,,0,"dnf: add metalink argument to custom dnf repository

As per [1] mandatory configuration option is either baseurl, mirrorlist
or metalink.

EPEL repos use metalink and it's impossible to configure them via DNF
custom repos functionality right now.

[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink

Change-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f
(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/804854/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml']",2,d4445e3eb167232c595fd19cab6cc4e16e0f1ce8,dnf-metalink-stable/ussuri," baseurl: ""{{ item.value.baseurl | default(omit)}}"" metalink: ""{{ item.value.metalink | default(omit)}}"""," baseurl: ""{{ item.value.baseurl }}""",7,1
openstack%2Fneutron-lib~master~Idbfa3998930374b8de1e65d586ab54f85707c713,openstack/neutron-lib,master,Idbfa3998930374b8de1e65d586ab54f85707c713,Add port-resource-request-groups shim API ext,MERGED,2021-08-09 12:03:33.000000000,2021-08-17 12:29:00.000000000,2021-08-17 12:27:19.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 12:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/55635c04d7f99079e6c0de006c2f5d4154756ecc', 'message': 'Add port-resource-request-groups shim API ext\n\nAdd a new shim API extension definition called\nport-resource-request-groups. This extension indicates that\nNeutron supports the new format of resource_request, that allows\nto request multiple groups of resources and traits from the same RP\nsubtree.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Idbfa3998930374b8de1e65d586ab54f85707c713\n'}, {'number': 2, 'created': '2021-08-11 10:20:17.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/ports/port-resource-request-new-format.json', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/port-resource-request-groups-d4a01b55d5fe5fa1.yaml', 'api-ref/source/v2/ports.inc', 'neutron_lib/api/definitions/port_resource_request_groups.py', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'neutron_lib/tests/unit/api/definitions/test_port_resource_request_groups.py', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1d64353340f68ced2499787999d5f8e87092652a', 'message': 'Add port-resource-request-groups shim API ext\n\nAdd a new shim API extension definition called\nport-resource-request-groups. This extension indicates that\nNeutron supports the new format of resource_request, that allows\nto request multiple groups of resources and traits from the same RP\nsubtree.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Idbfa3998930374b8de1e65d586ab54f85707c713\n'}]",8,803905,1d64353340f68ced2499787999d5f8e87092652a,19,6,2,33652,,,0,"Add port-resource-request-groups shim API ext

Add a new shim API extension definition called
port-resource-request-groups. This extension indicates that
Neutron supports the new format of resource_request, that allows
to request multiple groups of resources and traits from the same RP
subtree.

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Idbfa3998930374b8de1e65d586ab54f85707c713
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/05/803905/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/port-resource-request-groups-d4a01b55d5fe5fa1.yaml', 'neutron_lib/api/definitions/port_resource_request_groups.py', 'neutron_lib/tests/unit/api/definitions/test_port_resource_request_groups.py']",4,55635c04d7f99079e6c0de006c2f5d4154756ecc,bp/qos-minimum-guaranteed-packet-rate,"# Copyright (c) 2021 Ericsson Software Technology # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import (port_resource_request_groups as apidef) from neutron_lib.tests.unit.api.definitions import base class PortResourceRequestGroupsDefinitionTestCase( base.DefinitionBaseTestCase): extension_module = apidef ",,57,0
openstack%2Fmasakari-monitors~master~I2abc2afa6ae207c64186ab34b51a13c174cbf235,openstack/masakari-monitors,master,I2abc2afa6ae207c64186ab34b51a13c174cbf235,[doc] Add config reference guide,MERGED,2021-05-03 11:32:20.000000000,2021-08-17 12:16:49.000000000,2021-08-17 12:15:29.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-03 11:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9913ce576981a0f4de39c12e39c153dd3a6b486c', 'message': ""[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin it's documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n""}, {'number': 2, 'created': '2021-08-16 08:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/1e32539bb9f9e5322df40c0c43410ff755c0a68e', 'message': ""[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin it's documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n""}, {'number': 3, 'created': '2021-08-17 07:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a34bae380964c4c7f7ada74d5036d64b23f58fde', 'message': ""[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin it's documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n""}, {'number': 4, 'created': '2021-08-17 07:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7b1fd3050dcd86b4524a6b69a098aea63e967b36', 'message': ""[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin it's documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n""}, {'number': 5, 'created': '2021-08-17 07:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/b05eeb396f1c4cd25b776e2103e059390b4e0759', 'message': '[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin its documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n'}, {'number': 6, 'created': '2021-08-17 08:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f94b17f828f7f3144a4e330044fea4815b8828fd', 'message': '[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin its documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n'}, {'number': 7, 'created': '2021-08-17 09:37:05.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/conf.rst', '.gitignore', 'doc/source/reference/conf-file.rst', 'doc/source/_static/.gitkeep', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5299d5fab4203e70f3a7527c48e47b28807c817d', 'message': '[doc] Add config reference guide\n\nMasakari monitors are missing available configuration options\nin its documentation which makes hard to configure them for users.\n\nThis patch adds automaticually generated reference about\navailable configuration options with their descriptions and defaults.\n\nChange-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235\n'}]",8,789248,5299d5fab4203e70f3a7527c48e47b28807c817d,38,3,7,28619,,,0,"[doc] Add config reference guide

Masakari monitors are missing available configuration options
in its documentation which makes hard to configure them for users.

This patch adds automaticually generated reference about
available configuration options with their descriptions and defaults.

Change-Id: I2abc2afa6ae207c64186ab34b51a13c174cbf235
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/48/789248/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/reference/conf.rst', 'doc/source/reference/conf-file.rst', 'doc/source/conf.py', 'doc/source/_static/masakarimonitors.conf.sample']",5,9913ce576981a0f4de39c12e39c153dd3a6b486c,add-docs,"[DEFAULT] # # From masakarimonitors.conf # # Explicitly specify the temporary working directory. (string value) #tempdir = <None> # # Determine if monkey patching should be applied. # # Related options: # # * ``monkey_patch_modules``: This must have values set for this option to # have # any effect # (boolean value) #monkey_patch = false # # List of modules/decorators to monkey patch. # # This option allows you to patch a decorator for all functions in specified # modules. # # Related options: # # * ``monkey_patch``: This must be set to ``True`` for this option to # have any effect # (list value) #monkey_patch_modules = # # Hostname, FQDN or IP address of this host. Must be valid within AMQP key. # # Possible values: # # * String with hostname, FQDN or IP address. Default is hostname of this host. # (string value) # Deprecated group/name - [DEFAULT]/host #hostname = dmitriy-XPS-13-9380 # Full class name for the Manager for instancemonitor. (string value) #instancemonitor_manager = masakarimonitors.instancemonitor.instance.InstancemonitorManager # Full class name for introspectiveinstancemonitor. (string value) #introspectiveinstancemonitor_manager = masakarimonitors.introspectiveinstancemonitor.instance.IntrospectiveInstanceMonitorManager # Full class name for the Manager for processmonitor. (string value) #processmonitor_manager = masakarimonitors.processmonitor.process.ProcessmonitorManager # Full class name for the Manager for hostmonitor. (string value) #hostmonitor_manager = masakarimonitors.hostmonitor.host.HostmonitorManager # # From oslo.log # # If set to true, the logging level will be set to DEBUG instead of the default # INFO level. (boolean value) # Note: This option can be changed without restarting. #debug = false # The name of a logging configuration file. This file is appended to any # existing logging configuration files. For details about logging configuration # files, see the Python logging module documentation. Note that when logging # configuration files are used then all logging configuration is set in the # configuration file and other logging configuration options are ignored (for # example, log-date-format). (string value) # Note: This option can be changed without restarting. # Deprecated group/name - [DEFAULT]/log_config #log_config_append = <None> # Defines the format string for %%(asctime)s in log records. Default: # %(default)s . This option is ignored if log_config_append is set. (string # value) #log_date_format = %Y-%m-%d %H:%M:%S # (Optional) Name of log file to send logging output to. If no default is set, # logging will go to stderr as defined by use_stderr. This option is ignored if # log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logfile #log_file = <None> # (Optional) The base directory used for relative log_file paths. This option # is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logdir #log_dir = <None> # Uses logging handler designed to watch file system. When log file is moved or # removed this handler will open a new log file with specified path # instantaneously. It makes sense only if log_file option is specified and Linux # platform is used. This option is ignored if log_config_append is set. (boolean # value) #watch_log_file = false # Use syslog for logging. Existing syslog format is DEPRECATED and will be # changed later to honor RFC5424. This option is ignored if log_config_append is # set. (boolean value) #use_syslog = false # Enable journald for logging. If running in a systemd environment you may wish # to enable journal support. Doing so will use the journal native protocol which # includes structured metadata in addition to log messages.This option is # ignored if log_config_append is set. (boolean value) #use_journal = false # Syslog facility to receive log lines. This option is ignored if # log_config_append is set. (string value) #syslog_log_facility = LOG_USER # Use JSON formatting for logging. This option is ignored if log_config_append # is set. (boolean value) #use_json = false # Log output to standard error. This option is ignored if log_config_append is # set. (boolean value) #use_stderr = false # Log output to Windows Event Log. (boolean value) #use_eventlog = false # The amount of time before the log files are rotated. This option is ignored # unless log_rotation_type is setto ""interval"". (integer value) #log_rotate_interval = 1 # Rotation interval type. The time of the last file change (or the time when the # service was started) is used when scheduling the next rotation. (string value) # Possible values: # Seconds - <No description provided> # Minutes - <No description provided> # Hours - <No description provided> # Days - <No description provided> # Weekday - <No description provided> # Midnight - <No description provided> #log_rotate_interval_type = days # Maximum number of rotated log files. (integer value) #max_logfile_count = 30 # Log file maximum size in MB. This option is ignored if ""log_rotation_type"" is # not set to ""size"". (integer value) #max_logfile_size_mb = 200 # Log rotation type. (string value) # Possible values: # interval - Rotate logs at predefined time intervals. # size - Rotate logs once they reach a predefined size. # none - Do not rotate log files. #log_rotation_type = none # Format string to use for log messages with context. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages when context is undefined. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Additional data to append to log message when logging level for the message is # DEBUG. Used by oslo_log.formatters.ContextFormatter (string value) #logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s # Defines the format string for %(user_identity)s that is used in # logging_context_format_string. Used by oslo_log.formatters.ContextFormatter # (string value) #logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s # List of package logging levels in logger=LEVEL pairs. This option is ignored # if log_config_append is set. (list value) #default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,oslo_policy=INFO,dogpile.core.dogpile=INFO # Enables or disables publication of error events. (boolean value) #publish_errors = false # The format for an instance that is passed with the log message. (string value) #instance_format = ""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log message. (string # value) #instance_uuid_format = ""[instance: %(uuid)s] "" # Interval, number of seconds, of log rate limiting. (integer value) #rate_limit_interval = 0 # Maximum number of logged messages per rate_limit_interval. (integer value) #rate_limit_burst = 0 # Log level name used by rate limiting: CRITICAL, ERROR, INFO, WARNING, DEBUG or # empty string. Logs with level greater or equal to rate_limit_except_level are # not filtered. An empty string means that all levels are filtered. (string # value) #rate_limit_except_level = CRITICAL # Enables or disables fatal status of deprecations. (boolean value) #fatal_deprecations = false [api] # # Configuration options for sending notifications. # # From masakarimonitors.conf # # Region name. (string value) #region = RegionOne # Masakari API Version. (string value) #api_version = v1 # Interface of endpoint. (string value) #api_interface = public # Authentication URL (string value) #auth_url = <None> # Scope for system operations (string value) #system_scope = <None> # Domain ID to scope to (string value) #domain_id = <None> # Domain name to scope to (string value) #domain_name = <None> # Project ID to scope to (string value) # Deprecated group/name - [api]/tenant_id #project_id = <None> # Project name to scope to (string value) # Deprecated group/name - [api]/tenant_name #project_name = <None> # Domain ID containing project (string value) #project_domain_id = <None> # Domain name containing project (string value) #project_domain_name = <None> # Trust ID (string value) #trust_id = <None> # Optional domain ID to use with v3 and v2 parameters. It will be used for both # the user and project domain in v3 and ignored in v2 authentication. (string # value) #default_domain_id = <None> # Optional domain name to use with v3 API and v2 parameters. It will be used for # both the user and project domain in v3 and ignored in v2 authentication. # (string value) #default_domain_name = <None> # User id (string value) #user_id = <None> # Username (string value) # Deprecated group/name - [api]/user_name #username = <None> # User's domain id (string value) #user_domain_id = <None> # User's domain name (string value) #user_domain_name = <None> # User's password (string value) #password = <None> [callback] # # From masakarimonitors.conf # # Number of retries when the notification processing is error. (integer value) #retry_max = 12 # Trial interval of time of the notification processing is error(in seconds). # (integer value) #retry_interval = 10 [cors] # # From oslo.middleware # # Indicate whether this resource may be shared with the domain received in the # requests ""origin"" header. Format: ""<protocol>://<host>[:<port>]"", no trailing # slash. Example: https://horizon.example.com (list value) #allowed_origin = <None> # Indicate that the actual request can include user credentials (boolean value) #allow_credentials = true # Indicate which headers are safe to expose to the API. Defaults to HTTP Simple # Headers. (list value) #expose_headers = # Maximum cache age of CORS preflight requests. (integer value) #max_age = 3600 # Indicate which methods can be used during the actual request. (list value) #allow_methods = OPTIONS,GET,HEAD,POST,PUT,DELETE,TRACE,PATCH # Indicate which header field names may be used during the actual request. (list # value) #allow_headers = [healthcheck] # # From oslo.middleware # # DEPRECATED: The path to respond to healtcheck requests on. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #path = /healthcheck # Show more detailed information as part of the response. Security note: # Enabling this option may expose sensitive details about the service being # monitored. Be sure to verify that it will not violate your security policies. # (boolean value) #detailed = false # Additional backends that can perform health checks and report that information # back as part of a request. (list value) #backends = # Check the presence of a file to determine if an application is running on a # port. Used by DisableByFileHealthcheck plugin. (string value) #disable_by_file_path = <None> # Check the presence of a file based on a port to determine if an application is # running on a port. Expects a ""port:path"" list of strings. Used by # DisableByFilesPortsHealthcheck plugin. (list value) #disable_by_file_paths = [host] # # From masakarimonitors.conf # # Driver that hostmonitor uses for monitoring hosts. (string value) #monitoring_driver = default # Monitoring interval(in seconds) of node status. (integer value) #monitoring_interval = 60 # # Monitoring probes to collect before making the decision to send Masakari # notification about the node status. If and only if ``monitoring_samples`` # consecutive reports have the same status, will the Masakari notification # be sent. # (integer value) #monitoring_samples = 1 # Number of retries for send a notification in processmonitor. (integer value) #api_retry_max = 12 # Trial interval of time of the notification processing is error(in seconds). # (integer value) #api_retry_interval = 10 # # Do not check whether the host is completely down. # # Possible values: # # * True: Do not check whether the host is completely down. # * False: Do check whether the host is completely down. # # If ipmi RA is not set in pacemaker, this value should be set True. # (boolean value) #disable_ipmi_check = false # Only monitor pacemaker-remotes, ignore the status of full cluster members. # (boolean value) #restrict_to_remotes = false # Timeout value(in seconds) of the ipmitool command. (integer value) #ipmi_timeout = 5 # Number of ipmitool command retries. (integer value) #ipmi_retry_max = 3 # Retry interval(in seconds) of the ipmitool command. (integer value) #ipmi_retry_interval = 10 # Standby time(in seconds) until activate STONITH. (integer value) #stonith_wait = 30 # Timeout value(in seconds) of the tcpdump command when monitors the corosync # communication. (integer value) #tcpdump_timeout = 5 # # The name of interface that corosync is using for mutual communication # between hosts. # If there are multiple interfaces, specify them in comma-separated # like 'enp0s3,enp0s8'. # The number of interfaces you specify must be equal to the number of # corosync_multicast_ports values and must be in correct order with relevant # ports in corosync_multicast_ports. # (string value) #corosync_multicast_interfaces = <None> # # The port numbers that corosync is using for mutual communication # between hosts. # If there are multiple port numbers, specify them in comma-separated # like '5405,5406'. # The number of port numbers you specify must be equal to the number of # corosync_multicast_interfaces values and must be in correct order with # relevant interfaces in corosync_multicast_interfaces. # (string value) #corosync_multicast_ports = <None> # # Using this option, one can avoid systemd checks that would establish whether # this hostmonitor is running alongside Corosync and Pacemaker (the ``cluster`` # stack) or Pacemaker Remote (the ``remote`` stack). # # The default (``autodetect``) ensures backward compatibility and means systemd # is used to check the stack. # (string value) # Possible values: # autodetect - <No description provided> # cluster - <No description provided> # remote - <No description provided> #pacemaker_node_type = autodetect [introspectiveinstancemonitor] # # From masakarimonitors.conf # # # Guest monitoring interval of VM status (in seconds). # * The value should not be too low as there should not be false negative # * for reporting QEMU_GUEST_AGENT failures # * VM needs time to do powering-off. # * guest_monitoring_interval should be greater than # * the time to SHUTDOWN VM gracefully. # * e.g. | 565da9ba-3c0c-4087-83ca | iim1 | ACTIVE | powering-off | Running # (integer value) #guest_monitoring_interval = 10 # Guest monitoring timeout (in seconds). (integer value) #guest_monitoring_timeout = 2 # Failure threshold before sending notification. (integer value) #guest_monitoring_failure_threshold = 3 # # * The file path of qemu guest agent sock. # * Please use Python raw string notation as regular expressions. # e.g. r'/var/lib/libvirt/qemu/org\.qemu\.guest_agent\..*\.instance-.*\.sock' # (string value) #qemu_guest_agent_sock_path = /var/lib/libvirt/qemu/org\.qemu\.guest_agent\..*\.instance-.*\.sock [libvirt] # # From masakarimonitors.conf # # Override the default libvirt URI. (string value) #connection_uri = qemu:///system [oslo_middleware] # # From oslo.middleware # # The maximum body size for each request, in bytes. (integer value) # Deprecated group/name - [DEFAULT]/osapi_max_request_body_size # Deprecated group/name - [DEFAULT]/max_request_body_size #max_request_body_size = 114688 # DEPRECATED: The HTTP Header that will be used to determine what the original # request protocol scheme was, even if it was hidden by a SSL termination proxy. # (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #secure_proxy_ssl_header = X-Forwarded-Proto # Whether the application is behind a proxy or not. This determines if the # middleware should parse the headers or not. (boolean value) #enable_proxy_headers_parsing = false [process] # # From masakarimonitors.conf # # Interval in seconds for checking a process. (integer value) #check_interval = 5 # Number of retries when the failure of restarting a process. (integer value) #restart_retries = 3 # Interval in seconds for restarting a process. (integer value) #restart_interval = 5 # Number of retries for send a notification in processmonitor. (integer value) #api_retry_max = 12 # Interval between re-sending a notification in processmonitor(in seconds). # (integer value) #api_retry_interval = 10 # The file path of process list. (string value) #process_list_path = /etc/masakarimonitors/process_list.yaml ",,581,0
openstack%2Ftripleo-repos~master~I6e26310c9b67fe42f65ca6ee3d55f88cf59275f8,openstack/tripleo-repos,master,I6e26310c9b67fe42f65ca6ee3d55f88cf59275f8,Add connection and status code check for tripleo get hash,MERGED,2021-08-12 13:40:35.000000000,2021-08-17 12:16:02.000000000,2021-08-17 12:16:02.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-12 13:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/595685ffb609a7903242a441dffa815a7620ba0e', 'message': 'Add connection and status code check for tripleo get hash\n\nAdds check that the response from delorean is 200 OK otherwise\nraises appropriate exception. Also tries to deal with connection\nerror. Added test cases to cover the new functionality.\n\nChange-Id: I6e26310c9b67fe42f65ca6ee3d55f88cf59275f8\n'}, {'number': 2, 'created': '2021-08-17 09:36:06.000000000', 'files': ['tests/unit/get_hash/test_tripleo_get_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/041c6d5a645f403227bdf191cfb583c5fa8bc6c9', 'message': 'Add connection and status code check for tripleo get hash\n\nAdds check that the response from delorean is 200 OK otherwise\nerror. Added test case to cover the new functionality.\n\nAlso removes the unnecessary gzip.decompress introduced by the\nparent patch at [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/804221/5#message-86528e2d861606e0516fa3f54cea64e2391f80e2\n\nChange-Id: I6e26310c9b67fe42f65ca6ee3d55f88cf59275f8\n'}]",2,804385,041c6d5a645f403227bdf191cfb583c5fa8bc6c9,13,5,2,8449,,,0,"Add connection and status code check for tripleo get hash

Adds check that the response from delorean is 200 OK otherwise
error. Added test case to cover the new functionality.

Also removes the unnecessary gzip.decompress introduced by the
parent patch at [1]

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/804221/5#message-86528e2d861606e0516fa3f54cea64e2391f80e2

Change-Id: I6e26310c9b67fe42f65ca6ee3d55f88cf59275f8
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/85/804385/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/get_hash/test_tripleo_get_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/exceptions.py']",3,595685ffb609a7903242a441dffa815a7620ba0e,tripleo-get-hash," class TripleOHashDLRNConnectionError(Base): """"""Cannot connect to the dlrn server. This is seen if it is not possoble to connect to the delorean server with a ConnectionError """""" def __init__(self, error_msg): super(TripleOHashDLRNConnectionError, self).__init__(error_msg) class TripleOHashInvalidDLRNResponse(Base): """"""Invalid response received from the DLRN server. This is seen if the delorean server replies with a status code other than 200 OK for a query to commit.yaml or delorean.repo.md5. """""" def __init__(self, error_msg): super(TripleOHashInvalidDLRNResponse, self).__init__(error_msg)",,100,4
openstack%2Fcyborg~stable%2Fwallaby~If503b922b0271581a05f5ff4016b9a00b908f2e4,openstack/cyborg,stable/wallaby,If503b922b0271581a05f5ff4016b9a00b908f2e4,Resolve mysql conflict message,MERGED,2021-08-16 08:42:20.000000000,2021-08-17 12:15:46.000000000,2021-08-17 12:14:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-16 08:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dacb33fc6ed988e06f63cdb30f97c33f82f1b3be', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n'}, {'number': 2, 'created': '2021-08-17 08:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6082d91a0ecded4cde98027a708311cc773af971', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)\n'}, {'number': 3, 'created': '2021-08-17 09:57:45.000000000', 'files': ['cyborg/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ae38e4e9a9378b51d5f611c8b398635ed13bd1b5', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)\n'}]",0,804446,ae38e4e9a9378b51d5f611c8b398635ed13bd1b5,18,4,3,31412,,,0,"Resolve mysql conflict message

Mysql duplicate key error message changed, so resolve it as reference link:
https://review.opendev.org/c/openstack/oslo.db/+/792124

Closes-Bug: #1939970
Change-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4
(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/46/804446/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,dacb33fc6ed988e06f63cdb30f97c33f82f1b3be,bug/1939970," # mysql duplicate key error changed as reference link below: # https://review.opendev.org/c/openstack/oslo.db/+/792124 LOG.info('Duplicate columns are: ', e.columns) columns = [column.split('0')[1] if 'uniq_' in column else column for column in e.columns] if 'name' in columns:", if 'name' in e.columns:,6,1
openstack%2Fkayobe~stable%2Fwallaby~Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,openstack/kayobe,stable/wallaby,Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f,dnf: add metalink argument to custom dnf repository,MERGED,2021-08-17 08:25:58.000000000,2021-08-17 12:15:04.000000000,2021-08-17 12:13:44.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-17 08:25:58.000000000', 'files': ['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e14231c8eb4c25f12608b21f16c59c7c0a8874a2', 'message': ""dnf: add metalink argument to custom dnf repository\n\nAs per [1] mandatory configuration option is either baseurl, mirrorlist\nor metalink.\n\nEPEL repos use metalink and it's impossible to configure them via DNF\ncustom repos functionality right now.\n\n[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink\n\nChange-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f\n(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)\n""}]",0,804852,e14231c8eb4c25f12608b21f16c59c7c0a8874a2,8,3,1,14826,,,0,"dnf: add metalink argument to custom dnf repository

As per [1] mandatory configuration option is either baseurl, mirrorlist
or metalink.

EPEL repos use metalink and it's impossible to configure them via DNF
custom repos functionality right now.

[1]: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#parameter-metalink

Change-Id: Ib267b648f011a7efa6440b6adf9ea8b9b5a0931f
(cherry picked from commit a48cc2498859f5949d304266d32ce3e620ad7f36)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/804852/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-repository-metalink-26afa7c9f7026539.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml']",2,e14231c8eb4c25f12608b21f16c59c7c0a8874a2,dnf-metalink-stable/wallaby," baseurl: ""{{ item.value.baseurl | default(omit)}}"" metalink: ""{{ item.value.metalink | default(omit)}}"""," baseurl: ""{{ item.value.baseurl }}""",7,1
openstack%2Foslo.db~master~I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc,openstack/oslo.db,master,I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc,Replace use of update.values parameter,MERGED,2021-07-27 17:30:19.000000000,2021-08-17 12:08:08.000000000,2021-08-17 12:06:42.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fc158694924f756b96dc40a9b9b61ddfe814cedc', 'message': 'Replace use of update.values parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The update.values parameter will be removed in SQLAlchemy 2.0.  Please\n  refer to the Update.values() method.\n\nChange-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e1b5eea02558a9f4717315f4cde2fca319eb0575', 'message': 'Replace use of update.values parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The update.values parameter will be removed in SQLAlchemy 2.0.  Please\n  refer to the Update.values() method.\n\nChange-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e1b4ccaf7db37be123fd38ffbcacaede17b8e272', 'message': 'Replace use of update.values parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The update.values parameter will be removed in SQLAlchemy 2.0.  Please\n  refer to the Update.values() method.\n\nChange-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/045cfc14917a071f897a0d116264107da8c85905', 'message': 'Replace use of update.values parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The update.values parameter will be removed in SQLAlchemy 2.0.  Please\n  refer to the Update.values() method.\n\nChange-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/update_match.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/38c2effbf4a04158a7a79833099f168f5cfa5048', 'message': 'Replace use of update.values parameter\n\nResolve the following RemovedIn20Warning warning:\n\n  The update.values parameter will be removed in SQLAlchemy 2.0.  Please\n  refer to the Update.values() method.\n\nChange-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802574,38c2effbf4a04158a7a79833099f168f5cfa5048,28,3,5,15334,,,0,"Replace use of update.values parameter

Resolve the following RemovedIn20Warning warning:

  The update.values parameter will be removed in SQLAlchemy 2.0.  Please
  refer to the Update.values() method.

Change-Id: I426605aa8f4332fd0b7d9f6fa0e97d7e02c7cbdc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/74/802574/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/update_match.py', 'oslo_db/sqlalchemy/orm.py', 'oslo_db/tests/fixtures.py']",3,fc158694924f756b96dc40a9b9b61ddfe814cedc,sqlalchemy-20,," message=r'The update.values parameter will be removed .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",10,12
openstack%2Fkolla~master~I670fa84476e35e55cbed2d22e48836ed5e28495f,openstack/kolla,master,I670fa84476e35e55cbed2d22e48836ed5e28495f,Config: allow to set group for user,MERGED,2021-07-28 07:27:59.000000000,2021-08-17 12:01:59.000000000,2021-08-17 10:28:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-28 07:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c23d295c36d99f058a425be9591ae8c97fcf2ad', 'message': '[WIP] config: allow to set group for user\n\nAccording to recent IRC discussions is could be useful for haclient.\n\nChange-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f\n'}, {'number': 2, 'created': '2021-07-28 11:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/498347dc9608f3ac8dc77452e27303b098cb7454', 'message': '[WIP] config: allow to set group for user\n\nAccording to recent IRC discussions is could be useful for haclient.\n\nChange-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f\n'}, {'number': 3, 'created': '2021-07-29 10:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/55ea6d2d7e22404879796681e32415bf102d8e9d', 'message': 'Config: allow to set group for user\n\nAccording to recent IRC discussions is could be useful for haclient.\n\nChange-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f\n'}, {'number': 4, 'created': '2021-08-05 14:50:55.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/set-group-for-user-aa9b3eae69d8f6a0.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/65684250175117b47d41e29d1bc3f9116c0084b5', 'message': 'Config: allow to set group for user\n\nAccording to recent IRC discussions is could be useful for haclient.\nPartial-Bug: #1934753\n\nChange-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f\n'}]",4,802663,65684250175117b47d41e29d1bc3f9116c0084b5,41,7,4,24072,,,0,"Config: allow to set group for user

According to recent IRC discussions is could be useful for haclient.
Partial-Bug: #1934753

Change-Id: I670fa84476e35e55cbed2d22e48836ed5e28495f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/802663/3 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,9c23d295c36d99f058a425be9591ae8c97fcf2ad,bug/1934753," 'group': 'test1',def get_user_opts(uid, gid, group): cfg.StrOpt('group', default=group, help='The group name'), try: group = params['group'] except KeyError: group = name[:-5] yield name, get_user_opts(uid, gid, group)","def get_user_opts(uid, gid): yield name, get_user_opts(uid, gid)",10,3
openstack%2Fpuppet-tripleo~master~I4e6d583ba597b75a67f0261a2f6885601e07edbb,openstack/puppet-tripleo,master,I4e6d583ba597b75a67f0261a2f6885601e07edbb,Allow find to be called via rootwrap,ABANDONED,2021-08-16 11:13:03.000000000,2021-08-17 11:54:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-16 11:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/20c6af47d3c5a4141abce4ce72dc5a8260c50084', 'message': 'Allow find to be called via rootwrap\n\nCreate a precise regex that matches the target find\ncommands executed by healthchecks for nova and cinder containers\n\nPartial-bug: #1940068\n\nChange-Id: I4e6d583ba597b75a67f0261a2f6885601e07edbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-08-16 11:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ed6a00f9ceadb9cb62b875de4a2ea26e4e74147b', 'message': 'Allow find to be called via rootwrap\n\nCreate a precise regex that matches the target find\ncommands executed by healthchecks for nova and cinder containers\n\nPartial-bug: #1940068\n\nChange-Id: I4e6d583ba597b75a67f0261a2f6885601e07edbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-08-17 07:43:35.000000000', 'files': ['manifests/profile/base/nova.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb', 'files/cinder/find.filters', 'spec/classes/tripleo_profile_base_cinder_spec.rb', 'files/nova/find.filters', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/73783b510ca2bd75615cca0215b2a702f96663e0', 'message': 'Allow find to be called via rootwrap\n\nCreate a precise regex that matches the target find\ncommands executed by healthchecks for nova and cinder containers\n\nPartial-bug: #1940068\n\nChange-Id: I4e6d583ba597b75a67f0261a2f6885601e07edbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,804702,73783b510ca2bd75615cca0215b2a702f96663e0,9,3,3,6926,,,0,"Allow find to be called via rootwrap

Create a precise regex that matches the target find
commands executed by healthchecks for nova and cinder containers

Partial-bug: #1940068

Change-Id: I4e6d583ba597b75a67f0261a2f6885601e07edbb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/804702/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova.pp', 'spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'spec/classes/tripleo_profile_base_nova_spec.rb', 'files/nova/files.filters', 'files/cinder/files.filters', 'spec/classes/tripleo_profile_base_cinder_spec.rb', 'manifests/profile/base/cinder.pp']",7,20c6af47d3c5a4141abce4ce72dc5a8260c50084,bug/1851791," if (!defined(File['/etc/cinder/rootwrap.d'])) { file { '/etc/cinder/rootwrap.d' : ensure => 'directory' } -> file { '/etc/cinder/rootwrap.d/find.filters' : source => 'puppet:///modules/tripleo/cinder/find.filters', } }",,28,0
openstack%2Ftripleo-common~master~I3900ce4d88116ee72713086dbc1b20d8b91fa45f,openstack/tripleo-common,master,I3900ce4d88116ee72713086dbc1b20d8b91fa45f,Use rootwrap facility for nova/cinder healthchecks,ABANDONED,2021-08-16 11:37:07.000000000,2021-08-17 11:54:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-16 11:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0cdd004b28a64a7b872a0bfbc42d2dda04dc634', 'message': 'Use rootwrap facility for nova/cinder healthchecks\n\nWhenever there is ROOTWRAP specified for a service, attempt\nto find its open sockets via its container-contained rootwrap\nfilter config.\n\nChange-Id: I3900ce4d88116ee72713086dbc1b20d8b91fa45f\nCloses-bug: #1940068\nDepends-On: https://review.opendev.org/804702\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-08-16 11:38:51.000000000', 'files': ['healthcheck/nova-ironic', 'healthcheck/cinder-volume', 'healthcheck/nova-compute', 'healthcheck/nova-conductor', 'healthcheck/common.sh', 'healthcheck/cinder-scheduler', 'healthcheck/cinder-backup', 'healthcheck/nova-scheduler'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/34998b573a49a84b02311a02cbd42486ae371eae', 'message': 'Use rootwrap facility for nova/cinder healthchecks\n\nWhenever there is ROOTWRAP specified for a service, attempt\nto find its open sockets via its container-contained rootwrap\nfilter config.\n\nChange-Id: I3900ce4d88116ee72713086dbc1b20d8b91fa45f\nCloses-bug: #1940068\nDepends-On: https://review.opendev.org/804702\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",4,804706,34998b573a49a84b02311a02cbd42486ae371eae,14,3,2,6926,,,0,"Use rootwrap facility for nova/cinder healthchecks

Whenever there is ROOTWRAP specified for a service, attempt
to find its open sockets via its container-contained rootwrap
filter config.

Change-Id: I3900ce4d88116ee72713086dbc1b20d8b91fa45f
Closes-bug: #1940068
Depends-On: https://review.opendev.org/804702
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/804706/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/nova-ironic', 'healthcheck/cinder-volume', 'healthcheck/nova-compute', 'healthcheck/nova-conductor', 'healthcheck/common.sh', 'healthcheck/cinder-scheduler', 'healthcheck/cinder-backup', 'healthcheck/nova-scheduler']",8,a0cdd004b28a64a7b872a0bfbc42d2dda04dc634,find_rootwrap,export ROOTWRAP=${ROOTWRAP:-nova},,16,1
openstack%2Fkolla-ansible~master~Ib5a073d5b8209005be8841e355e75047c77bd488,openstack/kolla-ansible,master,Ib5a073d5b8209005be8841e355e75047c77bd488,Fix the Tempest image url variable,ABANDONED,2021-03-12 21:03:31.000000000,2021-08-17 11:51:02.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-03-12 21:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df6ec5e12137b7096dc3c0b43f65e721797dd715', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\n""}, {'number': 2, 'created': '2021-03-15 20:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/545af64a6b60cf5406764ddcb0fda14294fbb05f', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2021-03-30 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e6083fe0fd96c742b1c0f5d52e722379aa73e25', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2021-03-30 16:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d18e457e19e6472770b139c5bba2b1593c56e2d', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2021-03-30 16:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42164828daefcca542a97b43dd4aff489e37d8c7', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2021-03-30 16:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/097d80d1bf3c33813573f936e8ac843efbe3c40f', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2021-03-30 16:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f16a012f9d42bf23b1d25b7884a483140309b60e', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2021-05-11 16:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12c248bb6e59c88effbd45226a7fdf62355a4af4', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 9, 'created': '2021-05-11 16:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c0c101e56dc9cf73ad0abd2fa82008178a423cd', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 10, 'created': '2021-05-24 21:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/737d0963696df27ea4b29ddca223d8e25344a956', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 11, 'created': '2021-05-26 07:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b27890c48806f1c87bd812445eafe3177bf54d65', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 12, 'created': '2021-05-28 12:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c5ea0d5bc612040ab25a2bbb0ba5232e9c4a380', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 13, 'created': '2021-06-30 20:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f675ce21659a9ba9923fa80e4dc6bbd43e6dcbd2', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 14, 'created': '2021-07-05 15:44:48.000000000', 'files': ['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe995b73c890cefd541f57413758d936e8e6320c', 'message': ""Fix the Tempest image url variable\n\nSeems very strange the variable of the image url doeesn't have the\ncorrect prefix. This trivial fix will solve the issue.\n\nTrivialFix\n\nChange-Id: Ib5a073d5b8209005be8841e355e75047c77bd488\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",5,780328,fe995b73c890cefd541f57413758d936e8e6320c,64,8,14,14200,,,0,"Fix the Tempest image url variable

Seems very strange the variable of the image url doeesn't have the
correct prefix. This trivial fix will solve the issue.

TrivialFix

Change-Id: Ib5a073d5b8209005be8841e355e75047c77bd488
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/780328/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/defaults/main.yml']",2,df6ec5e12137b7096dc3c0b43f65e721797dd715,tempest-image-url,"tempest_image_url: ""https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img""","image_url: ""https://github.com/cirros-dev/cirros/releases/download/0.5.1/cirros-0.5.1-x86_64-disk.img""",2,2
openstack%2Fnova~stable%2Fwallaby~I856268b371f7ba712b02189db3c927cd762a4dc3,openstack/nova,stable/wallaby,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,MERGED,2021-06-14 11:00:10.000000000,2021-08-17 11:12:28.000000000,2021-08-17 11:10:52.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-14 11:00:10.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ba67184d3801fdca4a33aa744a3471bcd21de2', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n'}]",0,796257,f2ba67184d3801fdca4a33aa744a3471bcd21de2,13,5,1,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/796257/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",6,f2ba67184d3801fdca4a33aa744a3471bcd21de2,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",23,11
openstack%2Ftripleo-heat-templates~master~Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,openstack/tripleo-heat-templates,master,Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,Support both frr 7.x and frr-8.0 concurrently,MERGED,2021-08-10 16:20:44.000000000,2021-08-17 11:08:56.000000000,2021-08-17 11:08:56.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 16:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e688c60c636faf97b4e3769c87a67e6287ee75a', 'message': 'WIP DNM frr-8.0 support tests\n\nChange-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59\n'}, {'number': 2, 'created': '2021-08-12 17:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da919860adcc9d4f1fa1914859f5b86f482d7e64', 'message': ""Support both frr 7.x and frr-8.0 concurrently\n\nfrr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.\nfrr 8.x rpms use /usr/libexec/frr/frrinit.sh\n\nLet's support both for the time being.\n\nTested on a tripleo master environment with frr 8.x rpms.\n\nChange-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59\n""}, {'number': 3, 'created': '2021-08-13 06:13:20.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4bdaea3dc93092353ef7d21a17bed72d42ad840', 'message': ""Support both frr 7.x and frr-8.0 concurrently\n\nfrr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.\nfrr 8.x rpms use /usr/libexec/frr/frrinit.sh\n\nLet's support both for the time being.\n\nTested on a tripleo master environment with frr 8.x rpms.\n\nChange-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59\n""}]",0,804110,c4bdaea3dc93092353ef7d21a17bed72d42ad840,17,4,3,20172,,,0,"Support both frr 7.x and frr-8.0 concurrently

frr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.
frr 8.x rpms use /usr/libexec/frr/frrinit.sh

Let's support both for the time being.

Tested on a tripleo master environment with frr 8.x rpms.

Change-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/804110/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,5e688c60c636faf97b4e3769c87a67e6287ee75a,frr-8.0, command: bash -c $* -- eval /usr/lib/frr/frrinit.sh start && exec /bin/sleep infinity, command: bash -c $* -- eval /usr/lib/frr/frr start && exec /bin/sleep infinity,1,1
openstack%2Ftripleo-heat-templates~master~I781db8142015d713d9e99114aed42667418bf23b,openstack/tripleo-heat-templates,master,I781db8142015d713d9e99114aed42667418bf23b,nova_libvirt_init_secret Give a proper error if ceph is not configured properly,MERGED,2021-08-13 16:15:05.000000000,2021-08-17 11:04:36.000000000,2021-08-17 11:04:36.000000000,"[{'_account_id': 6926}, {'_account_id': 17216}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-13 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2434a74d9d8aca8e49b56089b910180758dc0ff6', 'message': ""WIP nova_libvirt_init_secret Give a proper error if ceph is not configured properly\n\nBefore:\n2021-08-13T12: 42:07.472193117+00:00 stdout F ------------------------------------------------\n2021-08-13T12: 42:07.472193117+00:00 stdout F Initializing virsh secrets for: ceph:openstack\n2021-08-13T12: 42:07.481397478+00:00 stdout F --------\n2021-08-13T12: 42:07.481397478+00:00 stdout F Initializing the virsh secret for 'ceph' cluster () 'openstack' client\n2021-08-13T12: 42:07.484466828+00:00 stdout F Creating /etc/nova/ceph-secret.xml\n2021-08-13T12: 42:07.493435343+00:00 stderr F Usage: grep [OPTION]... PATTERN [FILE]...\n2021-08-13T12: 42:07.493435343+00:00 stderr F Try 'grep --help' for more information.\n2021-08-13T12: 42:07.591038798+00:00 stdout F Secret 5e23cf03-81b0-4e02-b678-7c5363fbf0e2 created\n2021-08-13T12: 42:07.591038798+00:00 stdout F\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: failed to get secret '--base64'\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: uuidstr in virSecretLookupByUUIDString must be a valid UUID\n2021-08-13T12: 42:07.674021136+00:00 stdout F\nChange-Id: I781db8142015d713d9e99114aed42667418bf23b\n""}, {'number': 2, 'created': '2021-08-14 07:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29cdfe629d8982f3fa9b077fadc195e365017c18', 'message': ""WIP nova_libvirt_init_secret Give a proper error if ceph is not configured properly\n\nBefore:\n2021-08-13T12: 42:07.472193117+00:00 stdout F ------------------------------------------------\n2021-08-13T12: 42:07.472193117+00:00 stdout F Initializing virsh secrets for: ceph:openstack\n2021-08-13T12: 42:07.481397478+00:00 stdout F --------\n2021-08-13T12: 42:07.481397478+00:00 stdout F Initializing the virsh secret for 'ceph' cluster () 'openstack' client\n2021-08-13T12: 42:07.484466828+00:00 stdout F Creating /etc/nova/ceph-secret.xml\n2021-08-13T12: 42:07.493435343+00:00 stderr F Usage: grep [OPTION]... PATTERN [FILE]...\n2021-08-13T12: 42:07.493435343+00:00 stderr F Try 'grep --help' for more information.\n2021-08-13T12: 42:07.591038798+00:00 stdout F Secret 5e23cf03-81b0-4e02-b678-7c5363fbf0e2 created\n2021-08-13T12: 42:07.591038798+00:00 stdout F\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: failed to get secret '--base64'\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: uuidstr in virSecretLookupByUUIDString must be a valid UUID\n2021-08-13T12: 42:07.674021136+00:00 stdout F\nChange-Id: I781db8142015d713d9e99114aed42667418bf23b\n""}, {'number': 3, 'created': '2021-08-14 13:18:34.000000000', 'files': ['container_config_scripts/nova_libvirt_init_secret.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61f67eff1046fba283c7993c10d1f37870679c18', 'message': ""nova_libvirt_init_secret Give a proper error if ceph is not configured properly\n\nLet's make the error a little more clearer when ceph failed to be\nconfigured properly.\n\nBefore:\n2021-08-13T12: 42:07.472193117+00:00 stdout F ------------------------------------------------\n2021-08-13T12: 42:07.472193117+00:00 stdout F Initializing virsh secrets for: ceph:openstack\n2021-08-13T12: 42:07.481397478+00:00 stdout F --------\n2021-08-13T12: 42:07.481397478+00:00 stdout F Initializing the virsh secret for 'ceph' cluster () 'openstack' client\n2021-08-13T12: 42:07.484466828+00:00 stdout F Creating /etc/nova/ceph-secret.xml\n2021-08-13T12: 42:07.493435343+00:00 stderr F Usage: grep [OPTION]... PATTERN [FILE]...\n2021-08-13T12: 42:07.493435343+00:00 stderr F Try 'grep --help' for more information.\n2021-08-13T12: 42:07.591038798+00:00 stdout F Secret 5e23cf03-81b0-4e02-b678-7c5363fbf0e2 created\n2021-08-13T12: 42:07.591038798+00:00 stdout F\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: failed to get secret '--base64'\n2021-08-13T12: 42:07.671036635+00:00 stderr F error: uuidstr in virSecretLookupByUUIDString must be a valid UUID\n2021-08-13T12: 42:07.674021136+00:00 stdout F\n\nAfter:\n2021-08-14T13:10:20.866443451+00:00 stdout F Initializing virsh secrets for: ceph:openstack\n2021-08-14T13:10:20.880988730+00:00 stdout F Error: /etc/ceph/ceph.conf contained an empty fsid definition\n2021-08-14T13:10:20.880988730+00:00 stdout F Check your ceph configuration\n\nChange-Id: I781db8142015d713d9e99114aed42667418bf23b\n""}]",0,804538,61f67eff1046fba283c7993c10d1f37870679c18,17,5,3,20172,,,0,"nova_libvirt_init_secret Give a proper error if ceph is not configured properly

Let's make the error a little more clearer when ceph failed to be
configured properly.

Before:
2021-08-13T12: 42:07.472193117+00:00 stdout F ------------------------------------------------
2021-08-13T12: 42:07.472193117+00:00 stdout F Initializing virsh secrets for: ceph:openstack
2021-08-13T12: 42:07.481397478+00:00 stdout F --------
2021-08-13T12: 42:07.481397478+00:00 stdout F Initializing the virsh secret for 'ceph' cluster () 'openstack' client
2021-08-13T12: 42:07.484466828+00:00 stdout F Creating /etc/nova/ceph-secret.xml
2021-08-13T12: 42:07.493435343+00:00 stderr F Usage: grep [OPTION]... PATTERN [FILE]...
2021-08-13T12: 42:07.493435343+00:00 stderr F Try 'grep --help' for more information.
2021-08-13T12: 42:07.591038798+00:00 stdout F Secret 5e23cf03-81b0-4e02-b678-7c5363fbf0e2 created
2021-08-13T12: 42:07.591038798+00:00 stdout F
2021-08-13T12: 42:07.671036635+00:00 stderr F error: failed to get secret '--base64'
2021-08-13T12: 42:07.671036635+00:00 stderr F error: uuidstr in virSecretLookupByUUIDString must be a valid UUID
2021-08-13T12: 42:07.674021136+00:00 stdout F

After:
2021-08-14T13:10:20.866443451+00:00 stdout F Initializing virsh secrets for: ceph:openstack
2021-08-14T13:10:20.880988730+00:00 stdout F Error: /etc/ceph/ceph.conf contained an empty fsid definition
2021-08-14T13:10:20.880988730+00:00 stdout F Check your ceph configuration

Change-Id: I781db8142015d713d9e99114aed42667418bf23b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/804538/2 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/nova_libvirt_init_secret.sh'],1,2434a74d9d8aca8e49b56089b910180758dc0ff6,ceph-nova-err-msg," if [ ! -f /etc/ceph/${CLUSTER}.conf ]; then echo ""Error: /etc/ceph/${CLUSTER}.conf was not found"" echo ""Path to nova_libvirt_init_secret was ${CEPH_INFO}"" exit 1 fi",,5,0
openstack%2Ftripleo-ansible~master~If3856fc96e808b13d83a650ccf44e15bfd21fa67,openstack/tripleo-ansible,master,If3856fc96e808b13d83a650ccf44e15bfd21fa67,Set cephfs-nfs container PidsLimit to unlimited,MERGED,2021-08-12 14:18:53.000000000,2021-08-17 11:04:34.000000000,2021-08-17 11:04:34.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-12 14:18:53.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2521c1d84e686d42a854b99b48c9c75cdd595e4f', 'message': 'Set cephfs-nfs container PidsLimit to unlimited\n\nBy default, the ceph-nfs container has a default\nPidsLimit set to 4096 threads. This is constraining,\nsince each exported share spins ~15 threads.\n\nFollowed same approach as ceph-ansible [0] for consistency,\nand removed the limit altogether.\n\n[0] https://github.com/ceph/ceph-ansible/pull/6789/commits/aac0ba591a197640067077b32e6a45bfbf5dfdd7\n\nCloses-Bug: #1939701\nChange-Id: If3856fc96e808b13d83a650ccf44e15bfd21fa67\n'}]",0,804390,2521c1d84e686d42a854b99b48c9c75cdd595e4f,13,6,1,6413,,,0,"Set cephfs-nfs container PidsLimit to unlimited

By default, the ceph-nfs container has a default
PidsLimit set to 4096 threads. This is constraining,
since each exported share spins ~15 threads.

Followed same approach as ceph-ansible [0] for consistency,
and removed the limit altogether.

[0] https://github.com/ceph/ceph-ansible/pull/6789/commits/aac0ba591a197640067077b32e6a45bfbf5dfdd7

Closes-Bug: #1939701
Change-Id: If3856fc96e808b13d83a650ccf44e15bfd21fa67
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/804390/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2'],1,2521c1d84e686d42a854b99b48c9c75cdd595e4f,bug/1939701, --pids-limit={{ 0 if container_cli == 'podman' else -1 }} \,,1,0
openstack%2Fhorizon~master~Ie3f61294a08fb81a7fc06996322aec88065cacf9,openstack/horizon,master,Ie3f61294a08fb81a7fc06996322aec88065cacf9,Add Number.tofixed to avoid infinite decimal,ABANDONED,2018-11-29 09:40:54.000000000,2021-08-17 10:36:37.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27471}, {'_account_id': 29075}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-11-29 09:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f91828ce7b3a87d13cc6280dcf0fc6954d08bf0e', 'message': 'Add Number.tofixed to avoid infinite decimal\n\nChange-Id: Ie3f61294a08fb81a7fc06996322aec88065cacf9\n'}, {'number': 2, 'created': '2018-12-10 10:46:29.000000000', 'files': ['openstack_dashboard/contrib/developer/static/dashboard/developer/profiler/profiler.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c1691fa5db2289f382be0eca4121076aedc7bfa', 'message': 'Add Number.tofixed to avoid infinite decimal\n\n\n\nvar duration = Number((data.info.finished - data.info.started) * 100.0 / full_duration).toFixed(2)\n\neg: when data.info.finished = 1.2, data.info.started = 1.1, the result\nis not 0.1 but 0.09999999... Besides, when the full_duration can not \ndivisible, the result would be a infinite decimal and it could take up\na lot of memory space.\nto avoid this question, it need Number..tofixed or Math.round, however,\nthe result is used to compared with 0.5, so I git review this bug. \n\nChange-Id: Ie3f61294a08fb81a7fc06996322aec88065cacf9\n'}]",2,620856,9c1691fa5db2289f382be0eca4121076aedc7bfa,17,7,2,29075,,,0,"Add Number.tofixed to avoid infinite decimal



var duration = Number((data.info.finished - data.info.started) * 100.0 / full_duration).toFixed(2)

eg: when data.info.finished = 1.2, data.info.started = 1.1, the result
is not 0.1 but 0.09999999... Besides, when the full_duration can not 
divisible, the result would be a infinite decimal and it could take up
a lot of memory space.
to avoid this question, it need Number..tofixed or Math.round, however,
the result is used to compared with 0.5, so I git review this bug. 

Change-Id: Ie3f61294a08fb81a7fc06996322aec88065cacf9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/620856/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/contrib/developer/static/dashboard/developer/profiler/profiler.controller.js'],1,f91828ce7b3a87d13cc6280dcf0fc6954d08bf0e,, var duration = Number((data.info.finished - data.info.started) * 100.0 / full_duration).toFixed(2);, var duration = (data.info.finished - data.info.started) * 100.0 / full_duration;,1,1
openstack%2Fhorizon~master~Ic2d1a435a823bc4190dc2221092c8597081d173b,openstack/horizon,master,Ic2d1a435a823bc4190dc2221092c8597081d173b,Add Math.round to avoid infinite decimal,ABANDONED,2018-11-30 00:56:26.000000000,2021-08-17 10:36:16.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-11-30 00:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8e5228c1cd3893781bbf5cbc42eaa0c804baad1', 'message': 'Add Math.round to avoid infinite decimal\n\nChange-Id: Ic2d1a435a823bc4190dc2221092c8597081d173b\n'}, {'number': 2, 'created': '2018-12-10 10:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1e1ecc1faee5a5eb79e69a9a2dd9f2553cefd9db', 'message': 'Add Math.round to avoid infinite decimal\n\n\nwhen the quota_limit can not divisible, the result would be a infinite\ndecimal and it could take up a lot of memory space.\nto avoid this question, it need Math.round, so I git review this bug.\n\n\nChange-Id: Ic2d1a435a823bc4190dc2221092c8597081d173b\n'}, {'number': 3, 'created': '2018-12-10 10:48:51.000000000', 'files': ['openstack_dashboard/contrib/developer/static/dashboard/developer/profiler/profiler.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eca88203c8a8f13b919ef15a9259b668a99e7337', 'message': 'Add Math.round to avoid infinite decimal\n\n\nwhen the full_duration can not divisible, the result would be a infinite\ndecimal and it could take up a lot of memory space.\nto avoid this question, it need Math.round, so I git review this bug.\n\n\nChange-Id: Ic2d1a435a823bc4190dc2221092c8597081d173b\n'}]",1,621048,eca88203c8a8f13b919ef15a9259b668a99e7337,10,4,3,29075,,,0,"Add Math.round to avoid infinite decimal


when the full_duration can not divisible, the result would be a infinite
decimal and it could take up a lot of memory space.
to avoid this question, it need Math.round, so I git review this bug.


Change-Id: Ic2d1a435a823bc4190dc2221092c8597081d173b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/621048/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/contrib/developer/static/dashboard/developer/profiler/profiler.controller.js'],1,a8e5228c1cd3893781bbf5cbc42eaa0c804baad1,, return Math.round(data.info.started * 100.0 / full_duration);, return data.info.started * 100.0 / full_duration;,1,1
openstack%2Fhorizon~master~I5a8f2f0df1d716aaa1210f31a334b81a1e12605b,openstack/horizon,master,I5a8f2f0df1d716aaa1210f31a334b81a1e12605b,Initial Network Topology AngularJS port base.,ABANDONED,2018-06-06 15:15:49.000000000,2021-08-17 10:35:18.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 26546}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-06-06 15:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dcb6146b782042dd4e542db90840f069095395d4', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 2, 'created': '2018-06-08 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f3ba48c43770e258cb072d7cc5ada1b960214ddf', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 3, 'created': '2018-06-08 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0828a73dbd5797a072a3e29157fcab6d88ad6f0d', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 4, 'created': '2018-06-08 12:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dfa051816714e9738de5bdb58a7dbf14c828a6fe', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 5, 'created': '2018-06-11 06:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/204b2418f73b53d4055367d2b8c64fee0f88a323', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 6, 'created': '2018-06-11 06:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f10571d17812cf8f329cf064e71f7f64fb137064', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}, {'number': 7, 'created': '2018-06-11 06:13:35.000000000', 'files': ['openstack_dashboard/dashboards/project/network_topology/templates/network_topology/angular/_graph_view.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/popup/topology-balloon.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/svg-element.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-flat.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.module.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/topology-buttons.component.js', 'openstack_dashboard/dashboards/project/network_topology/urls.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-net.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/popup/topology-balloon.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-device.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/svg-element.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.module.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-net.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-flat.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-instance.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.html', 'openstack_dashboard/settings.py', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-graph.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-port.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/panel.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-device.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-instance.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-graph.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-port.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/topology-buttons.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dfbef059baa3a6f880d0a7cd3bf4c1fe2500113d', 'message': ""Initial Network Topology AngularJS port base.\n\nTakes the existing Network Topology (both flat and graph)\nand copies it into an AngularJS panel implementation. This\ncommit is meant as a first in a series of changes the\nend goal of which is a full reimplementation of topology\nin AngularJS.\n\nMost of the Topology code was copied wholesale, which\nmeans any extant issues from the non-angular version\nare mostly still present and will be fixed at a later\ntime.\n\nOne major change was the reimplementation of pop-up\nballoons as (very rudimentary) AngularJS components\nto resolve issues with colliding templating systems -\nthe Hogan template compilation has been replaced by the\nAngular system.\n\nThe ng panel itself was implemented to match the reference\nImages panel implementation. A new ANGULAR_FEATURES\nvariable, 'topology_panel', has been added to settings.py to\nenable and disable the new feature.\n\nChange-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b\nImplements: blueprint angular-network-topology\n""}]",2,572803,dfbef059baa3a6f880d0a7cd3bf4c1fe2500113d,19,4,7,26546,,,0,"Initial Network Topology AngularJS port base.

Takes the existing Network Topology (both flat and graph)
and copies it into an AngularJS panel implementation. This
commit is meant as a first in a series of changes the
end goal of which is a full reimplementation of topology
in AngularJS.

Most of the Topology code was copied wholesale, which
means any extant issues from the non-angular version
are mostly still present and will be fixed at a later
time.

One major change was the reimplementation of pop-up
balloons as (very rudimentary) AngularJS components
to resolve issues with colliding templating systems -
the Hogan template compilation has been replaced by the
Angular system.

The ng panel itself was implemented to match the reference
Images panel implementation. A new ANGULAR_FEATURES
variable, 'topology_panel', has been added to settings.py to
enable and disable the new feature.

Change-Id: I5a8f2f0df1d716aaa1210f31a334b81a1e12605b
Implements: blueprint angular-network-topology
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/572803/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/network_topology/templates/network_topology/angular/_graph_view.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/popup/topology-balloon.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/svg-element.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-flat.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.module.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/topology-buttons.component.js', 'openstack_dashboard/dashboards/project/network_topology/urls.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-net.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/popup/topology-balloon.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-device.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/svg-element.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.module.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-net.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-flat.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-instance.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology.html', 'openstack_dashboard/settings.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-graph.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-port.component.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/panel.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-device.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-instance.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/network-topology-graph.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/components/balloon-port.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/network_topology/topology-buttons.html']",26,dcb6146b782042dd4e542db90840f069095395d4,bp/angular-network-topology,"<!-- Todo: this is where the requested pluggable buttons would come in --> <div class=""topologyNavi""> <div class=""launchButtons pull-right""> <a href=""javascript:void(0);"" ng-controller=""LaunchInstanceModalController as modal"" ng-click=""modal.openLaunchInstanceWizard($ctrl.params)"" id=""instances__action_launch-ng"" ng-class=""{ 'btn': true, 'btn-default': true, 'btn-launch': true, 'disabled': false }""> <span class=""fa fa-cloud-upload""></span> Launch Instance </a> <a href=""/project/network_topology/createnetwork"" id=""networks__action_create"" class=""btn btn-default btn-sm ajax-modal"" target=""_self"" > <span class=""fa fa-plus""></span> Create Network </a> <a href=""/project/network_topology/createrouter"" id=""Routers__action_create"" class=""btn btn-default btn-sm ajax-modal"" target=""_self"" > <span class=""fa fa-plus""></span> Create Router </a> </div> </div> <br> ",,2695,23
openstack%2Fhorizon~master~Iad8a34af3637c13ae46854ebe36bc477baf020a8,openstack/horizon,master,Iad8a34af3637c13ae46854ebe36bc477baf020a8,expand memoized for more advanced caching,ABANDONED,2018-10-09 01:32:02.000000000,2021-08-17 10:34:44.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6484}, {'_account_id': 8648}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-10-09 01:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d9fa4f2d8e0423bffe86ca2d58e6ea2de81fe240', 'message': 'rework memoized as a LRU cache\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys. The max_size of the LRU cache and\nwhether weakrefs are used is now configurable with the memoized\ndecorator definition.\n\nThis will allow us to turn off weakrefs for functions that should\nideally be cached as long as possible, and use the weakrefs to clear\nitems quickly (such as along with a request) when appropriate.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 2, 'created': '2018-10-09 02:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ee92a89ce8b5551c9b3f8904bc405a4563b9878', 'message': 'rework memoized as a LRU cache\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys. The max_size of the LRU cache and\nwhether weakrefs are used is now configurable with the memoized\ndecorator definition.\n\nThis will allow us to turn off weakrefs for functions that should\nideally be cached as long as possible, and use the weakrefs to clear\nitems quickly (such as along with a request) when appropriate.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 3, 'created': '2018-10-09 03:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/06c9d07e13fcd097113a16ef38b30b6103000148', 'message': 'rework memoized as a LRU cache\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys. The max_size of the LRU cache and\nwhether weakrefs are used is now configurable with the memoized\ndecorator definition.\n\nThis will allow us to turn off weakrefs for functions that should\nideally be cached as long as possible, and use the weakrefs to clear\nitems quickly (such as along with a request) when appropriate.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 4, 'created': '2018-10-10 04:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd952863aa7fcb32dac03b6a8a96bfe140bda953', 'message': 'rework memoized as a LRU cache with expiry\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys, with an optional expiry on cached values.\n\nThe max_size of the LRU cache and expiry_time are configurable,\nwith the decorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 5, 'created': '2018-10-10 04:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/49f13f9624bbb0186b3619011448b733254f7308', 'message': 'rework memoized as a LRU cache with expiry\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys, with an optional expiry on cached values.\n\nThe max_size of the LRU cache and expiry_time are configurable,\nwith the decorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 6, 'created': '2018-10-23 23:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/946d4edb15bc82d3d4a9de6423142c95ea947a9e', 'message': 'rework memoized as a LRU cache with expiry\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys, with an optional expiry on cached values.\n\nThe max_size of the LRU cache and expiry_time are configurable,\nwith the decorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 7, 'created': '2018-11-01 02:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7edc80c33f69579c158c29bff6c2b21852a4eaf1', 'message': 'rework memoized as a LRU cache with expiry\n\nmemoized now operates as a LRU cache that additionally uses\nweakrefs to clear keys, with an optional expiry on cached values.\n\nThe max_size of the LRU cache and expiry_time are configurable,\nwith the decorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 8, 'created': '2018-11-02 02:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e75201b607b57335f428f7e0d5adde357274a24', 'message': 'expand memoized for more advanced caching\n\nmemoized now allows value invalidation with an optional expiry\non cached values. The expiry_time is configurable with the\ndecorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nUpdated some API calls to use these new features.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 9, 'created': '2018-11-02 03:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ae1ddfa72614342a09e4b877333de9c7a5c9e45', 'message': 'expand memoized for more advanced caching\n\nmemoized now allows value invalidation with an optional expiry\non cached values. The expiry_time is configurable with the\ndecorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nUpdated some API calls to use these new features.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 10, 'created': '2018-11-02 03:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e29b8c55f731dd30f2d9f2863c6bf7cc6d4ab62d', 'message': 'expand memoized for more advanced caching\n\nmemoized now allows value invalidation with an optional expiry\non cached values. The expiry_time is configurable with the\ndecorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nUpdated some API calls to use these new features.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}, {'number': 11, 'created': '2018-11-02 05:38:40.000000000', 'files': ['horizon/test/unit/utils/test_memoized.py', 'horizon/utils/memoized.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9872840d433dead811bc7239253e608a44bcc2fc', 'message': 'expand memoized for more advanced caching\n\nmemoized now allows value invalidation with an optional expiry\non cached values. The expiry_time is configurable with the\ndecorator definition.\n\nWe can now also override the get key function with a custom one\nfor specific per project or other conditional caching.\n\nUpdated some API calls to use these new features.\n\nChange-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8\n'}]",22,608801,9872840d433dead811bc7239253e608a44bcc2fc,37,7,11,10420,,,0,"expand memoized for more advanced caching

memoized now allows value invalidation with an optional expiry
on cached values. The expiry_time is configurable with the
decorator definition.

We can now also override the get key function with a custom one
for specific per project or other conditional caching.

Updated some API calls to use these new features.

Change-Id: Iad8a34af3637c13ae46854ebe36bc477baf020a8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/608801/10 && git format-patch -1 --stdout FETCH_HEAD,['horizon/utils/memoized.py'],1,d9fa4f2d8e0423bffe86ca2d58e6ea2de81fe240,605024,"def memoized(max_size=100, use_weakref=True): It operates as a LRU cache and keeps up to the max_size value of cached items, always clearing oldest items first. The cache uses weak references by default to the passed arguments, so it doesn't keep them alive in memory forever. This can be disabled so that only the LRU nature of the cache handles the number of cached items. def memoized_inner(func): # The dictionary in which all the data will be cached. This is a # separate instance for every decorated function, and it's stored in a # closure of the wrapped function. cache = collections.OrderedDict() locks = collections.defaultdict(threading.Lock) @functools.wraps(func) def wrapped(*args, **kwargs): if use_weakref: # We need to have defined key early, to be able to use it in # the remove() function, but we calculate the actual value of # the key later on, because we need the remove() function for # that. key = None def remove(ref): """"""A callback to remove outdated items from cache."""""" try: # The key here is from closure, and is calculated later del cache[key] del locks[key] except KeyError: # Some other weak reference might have already removed # that key -- in that case we don't need to do anything pass key = _get_key(args, kwargs, remove) else: key = (args, kwargs) try: with locks[key]: try: # We want cache hit to be as fast as possible, and # don't really care much about the speed of a cache # miss, because it will only happen once and likely # calls some external API, database, or some other slow # thing. That's why the hit is in straightforward code, # and the miss is in an exception. # We also want to pop the key and reset it to make sure # the position it has in the order updates. value = cache[key] = cache.pop(key) except KeyError: value = cache[key] = func(*args, **kwargs) except TypeError: # The calculated key may be unhashable when an unhashable # object, such as a list, is passed as one of the arguments. In # that case, we can't cache anything and simply always call the # decorated function. warnings.warn( ""The key of %s %s is not hashable and cannot be memoized: "" ""%r\n"" % (func.__module__, func.__name__, key), UnhashableKeyWarning, 2) value = func(*args, **kwargs) while len(cache) > max_size: cache.popitem(last=False) return value return wrapped return memoized_inner","def memoized(func): The cache uses weak references to the passed arguments, so it doesn't keep them alive in memory forever. # The dictionary in which all the data will be cached. This is a separate # instance for every decorated function, and it's stored in a closure of # the wrapped function. cache = {} locks = collections.defaultdict(threading.Lock) @functools.wraps(func) def wrapped(*args, **kwargs): # We need to have defined key early, to be able to use it in the # remove() function, but we calculate the actual value of the key # later on, because we need the remove() function for that. key = None def remove(ref): """"""A callback to remove outdated items from cache."""""" try: # The key here is from closure, and is calculated later. del cache[key] del locks[key] except KeyError: # Some other weak reference might have already removed that # key -- in that case we don't need to do anything. pass key = _get_key(args, kwargs, remove) try: with locks[key]: try: # We want cache hit to be as fast as possible, and don't # really care much about the speed of a cache miss, because # it will only happen once and likely calls some external # API, database, or some other slow thing. That's why the # hit is in straightforward code, and the miss is in an # exception. value = cache[key] except KeyError: value = cache[key] = func(*args, **kwargs) except TypeError: # The calculated key may be unhashable when an unhashable # object, such as a list, is passed as one of the arguments. In # that case, we can't cache anything and simply always call the # decorated function. warnings.warn( ""The key of %s %s is not hashable and cannot be memoized: %r\n"" % (func.__module__, func.__name__, key), UnhashableKeyWarning, 2) value = func(*args, **kwargs) return value return wrapped",67,48
openstack%2Fhorizon~master~I3fa51d35975a46f7277423d54d9b1a7ac2a71647,openstack/horizon,master,I3fa51d35975a46f7277423d54d9b1a7ac2a71647,integration tests - added chrome browser support,ABANDONED,2018-07-17 03:25:30.000000000,2021-08-17 10:34:31.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11885}, {'_account_id': 17172}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28293}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-07-17 03:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/17e479237a2425af7a667325aa87990e95acdfa0', 'message': 'integration tests - added chrome browser support\n\n* all tests can run on chrome headless\n* skipped test_credentials for chrome browser as sh file download is not supported\n\nChange-Id: I3fa51d35975a46f7277423d54d9b1a7ac2a71647\n'}, {'number': 2, 'created': '2018-07-17 03:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6adf4ae5f08e7a2888d83a90b32b44514ad6d338', 'message': 'integration tests - added chrome browser support\n\n* all tests can run on chrome headless\n* skipped test_credentials for chrome browser as sh file download is not supported\n\nChange-Id: I3fa51d35975a46f7277423d54d9b1a7ac2a71647\n'}, {'number': 3, 'created': '2019-02-23 08:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/83306a75fa931509307e6235b5874d3bea484d44', 'message': 'integration tests - added chrome browser support\n\n* all tests can run on chrome headless\n* skipped test_credentials for chrome browser as sh file download is not supported\n\nChange-Id: I3fa51d35975a46f7277423d54d9b1a7ac2a71647\n'}, {'number': 4, 'created': '2019-02-23 08:33:02.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', 'horizon/test/chromedriver.py', 'openstack_dashboard/test/integration_tests/helpers.py', 'horizon/test/webdriver.py', 'tox.ini', 'openstack_dashboard/test/integration_tests/decorators.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac0348f9a54e5d2c18f1fbff94e88d02eb9f6cf6', 'message': 'integration tests - added chrome browser support\n\n* all tests can run on chrome headless\n* skipped test_credentials for chrome browser as sh file download is not supported\n\nChange-Id: I3fa51d35975a46f7277423d54d9b1a7ac2a71647\n'}]",10,583093,ac0348f9a54e5d2c18f1fbff94e88d02eb9f6cf6,24,12,4,28293,,,0,"integration tests - added chrome browser support

* all tests can run on chrome headless
* skipped test_credentials for chrome browser as sh file download is not supported

Change-Id: I3fa51d35975a46f7277423d54d9b1a7ac2a71647
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/583093/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', 'horizon/test/chromedriver.py', 'openstack_dashboard/test/integration_tests/helpers.py', 'horizon/test/webdriver.py', 'tox.ini', 'openstack_dashboard/test/integration_tests/decorators.py']",7,17e479237a2425af7a667325aa87990e95acdfa0,bp/improve-horizon-testing,"def skip_if(actual_value, required_value, message=None): """"""Decorator for skipping tests satisfying condition Usage: from openstack_dashboard.test.integration_tests.tests import decorators class TestDashboardHelp(helpers.TestCase): @decorators.skip_if(os.environ.get('CHROME_HEADLESS'), 1, ""chrome browser does not support this test"" def test_dashboard_help_redirection(self): . . . """""" def actual_decoration(obj): skip_method = _get_skip_method(obj) if actual_value == required_value: obj = skip_method(obj, message) return obj return actual_decoration ",,72,2
openstack%2Fhorizon~master~Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819,openstack/horizon,master,Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819,Remove nested ul.dropdown in user-menu,ABANDONED,2016-11-08 22:09:47.000000000,2021-08-17 10:33:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9155}, {'_account_id': 11778}, {'_account_id': 12826}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2016-11-08 22:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/560b75dfe08bcc7da226743023fdd86eae57f8c0', 'message': '[WIP] Remove nested ul.dropdowns in context-selection menu\n\nAllow cycle through dropdown items using down/up arrow keys\n\nChange-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819\nPartial-Bug: 1639958\n'}, {'number': 2, 'created': '2016-11-08 22:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2af3ea304339089f3cc4cf4600b6a84e9e94ce98', 'message': '[WIP] Remove nested ul.dropdowns in context-selection menu\n\nAllow cycle through dropdown items using down/up arrow keys\n\nChange-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819\nPartial-Bug: 1639958\n'}, {'number': 3, 'created': '2016-11-11 17:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0eeba91e7304b67c887e440975e76c5b923b47a4', 'message': 'Remove nested ul.dropdowns in context-selection menu\n\nAllow cycle through dropdown items using down/up arrow keys\n\nChange-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819\nPartial-Bug: 1639958\n'}, {'number': 4, 'created': '2016-11-22 22:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e14b93647318b1c02437a66b55258e4072cd643b', 'message': 'Remove nested ul.dropdown in user-menu\n\nAllow cycle through dropdown items using down/up arrow keys\n\nChange-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819\nPartial-Bug: 1639958\n'}, {'number': 5, 'created': '2018-08-13 19:51:00.000000000', 'files': ['openstack_dashboard/templates/header/_theme_list.html', 'openstack_dashboard/templates/header/_user_menu.html', 'openstack_dashboard/static/dashboard/scss/components/_selection_menu.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6eda97db48cb6342c5db2b22c4988e8586b44fa', 'message': 'Remove nested ul.dropdown in user-menu\n\nAllow cycle through dropdown items using down/up arrow keys\n\nChange-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819\nPartial-Bug: 1639958\n'}]",0,395216,f6eda97db48cb6342c5db2b22c4988e8586b44fa,20,7,5,9155,,,0,"Remove nested ul.dropdown in user-menu

Allow cycle through dropdown items using down/up arrow keys

Change-Id: Iddcf7866b1dc6d32ee193bcd161a89ef1a2c0819
Partial-Bug: 1639958
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/395216/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/templates/context_selection/_region_list.html', 'openstack_dashboard/templates/context_selection/_project_list.html', 'openstack_dashboard/templates/context_selection/_domain_list.html', 'openstack_dashboard/templates/header/_context_selection.html']",4,560b75dfe08bcc7da226743023fdd86eae57f8c0,bug/1639958, {% show_domain_list %} {% show_region_list %}, <li> {% show_domain_list %} </li> <li> </li> <li> {% show_region_list %} </li>,35,48
openstack%2Fhorizon~master~I1f44903b9d499dc418804ed41ea03848d8a98fbe,openstack/horizon,master,I1f44903b9d499dc418804ed41ea03848d8a98fbe,Add status update for image after creation operation,ABANDONED,2018-10-31 10:24:25.000000000,2021-08-17 10:33:29.000000000,,"[{'_account_id': 6763}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-10-31 10:24:25.000000000', 'files': ['horizon/static/framework/widgets/table/hz-resource-table.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/842d004c3f8499261af2ee4c2216dbb10d69887c', 'message': ""Add status update for image after creation operation\n\nFor now, after image created from horizon, horizon won't update the\nstatus of this image. So I add the function to pull the status of this\nimage from the backend server until the status is not in transition.\n\nChange-Id: I1f44903b9d499dc418804ed41ea03848d8a98fbe\nCloses-Bug: #1645858\n""}]",1,614459,842d004c3f8499261af2ee4c2216dbb10d69887c,7,4,1,22078,,,0,"Add status update for image after creation operation

For now, after image created from horizon, horizon won't update the
status of this image. So I add the function to pull the status of this
image from the backend server until the status is not in transition.

Change-Id: I1f44903b9d499dc418804ed41ea03848d8a98fbe
Closes-Bug: #1645858
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/614459/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/framework/widgets/table/hz-resource-table.controller.js'],1,842d004c3f8499261af2ee4c2216dbb10d69887c,bug/1645858," '$timeout', $timeout, .then(onLoad).then(updateStatus); } } function updateStatus(response) { for (var i in response) { if (itemInTransitionFunction(response[i])) { $timeout(listResources, 4000); break; } } } return ctrl.itemsSrc;", .then(onLoad); } } ,13,1
openstack%2Fkolla~master~I4a79815f4e19d82fa77341672cd26d2282800f6a,openstack/kolla,master,I4a79815f4e19d82fa77341672cd26d2282800f6a,base/deb: bump 'system' groups limit beyond Kolla ones,MERGED,2021-07-28 09:50:52.000000000,2021-08-17 10:30:49.000000000,2021-08-17 10:28:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-07-28 09:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dfca21e3fe0c204f9ab8b6f8eb981fcb1a61e5a6', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists during installation\nand is not 'system group'. So let bump range for 'system' groups to make\nit happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 2, 'created': '2021-07-28 11:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d3e67617b117f95a9a09c4a26df04b1cd04cb6a', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists during installation\nand is not 'system group'. So let bump range for 'system' groups to make\nit happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 3, 'created': '2021-07-28 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ddbe5256b2613c73d87d3943fc2997076b20928', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists during installation\nand is not 'system group'. So let bump range for 'system' groups to make\nit happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 4, 'created': '2021-07-29 10:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af52dc84c7e69d3eaa8cd727f3aa36256e3fafaa', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists during installation\nand is not 'system group'. So let bump range for 'system' groups to make\nit happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 5, 'created': '2021-07-29 10:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5c9bbdf95f568d96bbe5c7b2b083c7f010c54f4', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 6, 'created': '2021-08-05 12:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9387e83ddb11c81ac0a3678fbfa089f3c09ee25d', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 7, 'created': '2021-08-05 13:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6513efd6e467027a9b9516f9098674500bd8708', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 8, 'created': '2021-08-05 13:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0eaa8d1cd2b6a3f6052c01a140d1886e14471785', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}, {'number': 9, 'created': '2021-08-05 14:50:55.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/20d8b83ecb99669caf501cd54a38eaa8ffebb0bd', 'message': ""base/deb: bump 'system' groups limit beyond Kolla ones\n\nPacemaker complains that group 'haclient' already exists\nduring installation and is not 'system group'. So let bump\nrange for 'system' groups to make it happier.\n\nOur images do not have normal groups so it should not affect.\nPartial-Bug: #1934753\n\nChange-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a\n""}]",1,802676,20d8b83ecb99669caf501cd54a38eaa8ffebb0bd,37,6,9,27339,,,0,"base/deb: bump 'system' groups limit beyond Kolla ones

Pacemaker complains that group 'haclient' already exists
during installation and is not 'system group'. So let bump
range for 'system' groups to make it happier.

Our images do not have normal groups so it should not affect.
Partial-Bug: #1934753

Change-Id: I4a79815f4e19d82fa77341672cd26d2282800f6a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/76/802676/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,dfca21e3fe0c204f9ab8b6f8eb981fcb1a61e5a6,bug/1934753, && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g \ -e s/LAST_SYSTEM_GID=999/LAST_SYSTEM_GID=59999/g /etc/adduser.conf, && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g /etc/adduser.conf,2,1
openstack%2Fpython-openstackclient~master~I10bc2fedbf0e867a990227962b2b6e60f5681f69,openstack/python-openstackclient,master,I10bc2fedbf0e867a990227962b2b6e60f5681f69,"Show ""Forced Down"" compute service status with --long",MERGED,2021-08-12 22:09:11.000000000,2021-08-17 10:16:52.000000000,2021-08-17 10:15:27.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 22:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b4188eda3a03c291b9934fae798cc8a3246cbd05', 'message': 'Show ""Forced Down"" compute service status with --long\n\nCurrently, the unified client does not have the ability to show the\n""Forced Down"" field of a GET /os-services response in microversion 2.11\neven though the legacy client can.\n\nThis adds a ""Forced Down"" column to the \'openstack compute service list\n--long\' command output when microversion 2.11 is used.\n\nStory: 2009115\nTask: 43011\n\nChange-Id: I10bc2fedbf0e867a990227962b2b6e60f5681f69\n'}, {'number': 2, 'created': '2021-08-17 01:34:13.000000000', 'files': ['openstackclient/compute/v2/service.py', 'releasenotes/notes/compute-service-list-forced-down-2b16d1cb44f71a08.yaml', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/12c93c6d5ff420f6a4a8833d33bad6ee7222e2f7', 'message': 'Show ""Forced Down"" compute service status with --long\n\nCurrently, the unified client does not have the ability to show the\n""Forced Down"" field of a GET /os-services response in microversion 2.11\neven though the legacy client can.\n\nThis adds a ""Forced Down"" column to the \'openstack compute service list\n--long\' command output when microversion 2.11 is used.\n\nStory: 2009115\nTask: 43011\n\nChange-Id: I10bc2fedbf0e867a990227962b2b6e60f5681f69\n'}]",1,804465,12c93c6d5ff420f6a4a8833d33bad6ee7222e2f7,11,3,2,4690,,,0,"Show ""Forced Down"" compute service status with --long

Currently, the unified client does not have the ability to show the
""Forced Down"" field of a GET /os-services response in microversion 2.11
even though the legacy client can.

This adds a ""Forced Down"" column to the 'openstack compute service list
--long' command output when microversion 2.11 is used.

Story: 2009115
Task: 43011

Change-Id: I10bc2fedbf0e867a990227962b2b6e60f5681f69
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/65/804465/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/service.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_service.py']",3,b4188eda3a03c291b9934fae798cc8a3246cbd05,story/2009115," def test_service_list_with_long_option_2_11(self): arglist = [ '--host', self.service.host, '--service', self.service.binary, '--long' ] verifylist = [ ('host', self.service.host), ('service', self.service.binary), ('long', True) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.11') # In base command class Lister in cliff, abstract method take_action() # returns a tuple containing the column names and an iterable # containing the data to be listed. columns, data = self.cmd.take_action(parsed_args) self.service_mock.list.assert_called_with( self.service.host, self.service.binary, ) # In 2.11 there is also a forced_down column. columns_long = self.columns_long + ('Forced Down',) data_long = [self.data_long[0] + (self.service.forced_down,)] self.assertEqual(columns_long, columns) self.assertEqual(data_long, list(data)) ",,38,0
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I22b2b466e47a3b4d96931d754a4de7544f0ada5d,openstack/kayobe-config-dev,stable/wallaby,I22b2b466e47a3b4d96931d754a4de7544f0ada5d,Support reading Kayobe environment name from file,MERGED,2021-08-12 07:56:49.000000000,2021-08-17 10:07:33.000000000,2021-08-17 10:07:33.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 07:56:49.000000000', 'files': ['kayobe-env'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/8ed513eec891af86c7aff1be0abb16eaa14dddc5', 'message': 'Support reading Kayobe environment name from file\n\nIf using separate branches for each environment, it can be useful to\nread the environment name from a file committed to each branch. Or, if\nsharing the same branch for all environments, it can be useful to set\nthe default environment to one with lower impact, e.g. dev or staging.\n\nIf no --environment option is specified and a .environment file exists\nat the root of the directory, use its content as KAYOBE_ENVIRONMENT.\n\nChange-Id: I22b2b466e47a3b4d96931d754a4de7544f0ada5d\n(cherry picked from commit 2af2c3a3b5387c577801b165ecd749fe782fddb9)\n(cherry picked from commit df9ae7089959adc35935cd8b33a71ec60d94d209)\n'}]",0,804333,8ed513eec891af86c7aff1be0abb16eaa14dddc5,15,3,1,14826,,,0,"Support reading Kayobe environment name from file

If using separate branches for each environment, it can be useful to
read the environment name from a file committed to each branch. Or, if
sharing the same branch for all environments, it can be useful to set
the default environment to one with lower impact, e.g. dev or staging.

If no --environment option is specified and a .environment file exists
at the root of the directory, use its content as KAYOBE_ENVIRONMENT.

Change-Id: I22b2b466e47a3b4d96931d754a4de7544f0ada5d
(cherry picked from commit 2af2c3a3b5387c577801b165ecd749fe782fddb9)
(cherry picked from commit df9ae7089959adc35935cd8b33a71ec60d94d209)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/33/804333/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe-env'],1,8ed513eec891af86c7aff1be0abb16eaa14dddc5,,"function check_and_export_env { # Look for existing Kayobe environments if [ -d ""${KAYOBE_CONFIG_PATH}/environments"" ]; then if [ -d ""${KAYOBE_CONFIG_PATH}/environments/${kayobe_env}"" ]; then export KAYOBE_ENVIRONMENT=""${kayobe_env}"" echo ""Using Kayobe environment ${KAYOBE_ENVIRONMENT}"" return 0 else echo ""Unable to find Kayobe environment ${kayobe_env} in ${KAYOBE_CONFIG_PATH}/environments"" return 1 fi else echo ""Cannot find environments folder in ${KAYOBE_CONFIG_PATH}"" return 1 fi } check_and_export_env return $? fi if [[ -f ""$KAYOBE_CONFIG_ROOT/.environment"" ]]; then kayobe_env=$(cat ""$KAYOBE_CONFIG_ROOT/.environment"") check_and_export_env"," # Look for existing Kayobe environments if [ -d ""${KAYOBE_CONFIG_PATH}/environments"" ]; then if [ -d ""${KAYOBE_CONFIG_PATH}/environments/${kayobe_env}"" ]; then export KAYOBE_ENVIRONMENT=""${kayobe_env}"" echo ""Using Kayobe environment ${KAYOBE_ENVIRONMENT}"" return 0 else echo ""Unable to find Kayobe environment ${kayobe_env} in ${KAYOBE_CONFIG_PATH}/environments"" return 1 fi else echo ""Cannot find environments folder in ${KAYOBE_CONFIG_PATH}"" return 1 fi",24,14
openstack%2Fkolla-ansible~master~Ie5e7a9cc9396c643a2839df1ec5a145a305e236b,openstack/kolla-ansible,master,Ie5e7a9cc9396c643a2839df1ec5a145a305e236b,WIP: Add support for keystone auth_mellon config,ABANDONED,2020-10-01 10:24:14.000000000,2021-08-17 10:05:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-10-01 10:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a81671dc4e964f37ad0694bf9ddd9657169b2140', 'message': 'WIP: Add support for keystone auth_mellon config\n\nChange-Id: Ie5e7a9cc9396c643a2839df1ec5a145a305e236b\n'}, {'number': 2, 'created': '2020-10-06 17:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51b7497a3f8d42442e29182e35772245b62a53f9', 'message': 'WIP: Add support for keystone auth_mellon config\n\nChange-Id: Ie5e7a9cc9396c643a2839df1ec5a145a305e236b\n'}, {'number': 3, 'created': '2020-10-07 07:55:01.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cba5d9851084bba219eb57cefab872374bf2d3cb', 'message': 'WIP: Add support for keystone auth_mellon config\n\nChange-Id: Ie5e7a9cc9396c643a2839df1ec5a145a305e236b\n'}]",0,755475,cba5d9851084bba219eb57cefab872374bf2d3cb,11,2,3,22629,,,0,"WIP: Add support for keystone auth_mellon config

Change-Id: Ie5e7a9cc9396c643a2839df1ec5a145a305e236b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/755475/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml']",3,a81671dc4e964f37ad0694bf9ddd9657169b2140,keystone_wsgi_mellon,"- name: Check if Keystone mod_mellon config is supplied stat: path: ""{{ node_custom_config }}/keystone/mellon"" delegate_to: localhost run_once: True register: keystone_mellon_directory - name: Create Keystone domain-specific config directory vars: keystone: ""{{ keystone_services.keystone }}"" file: dest: ""{{ node_config_directory }}/keystone/mellon/"" state: ""directory"" mode: ""0770"" become: true when: - inventory_hostname in groups[keystone.group] - keystone.enabled | bool - keystone_mellon_directory.stat.exists - name: Get file list in mellon folder find: path: ""{{ node_custom_config }}/keystone/mellon"" recurse: no file_type: file delegate_to: localhost register: keystone_mellon when: keystone_mellon_directory.stat.exists - name: Copying Keystone mod_mellon specific settings vars: keystone: ""{{ keystone_services.keystone }}"" template: src: ""{{ item.path }}"" dest: ""{{ node_config_directory }}/keystone/domains/"" mode: ""0660"" become: true register: keystone_domains when: - inventory_hostname in groups[keystone.group] - keystone.enabled | bool - keystone_mellon_directory.stat.exists with_items: ""{{ keystone_mellon.files|default([]) }}"" notify: - Restart keystone container ",,74,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I59bfe69dbb5f3d525ac6f6d655577d24036328c0,openstack/tripleo-heat-templates,stable/train,I59bfe69dbb5f3d525ac6f6d655577d24036328c0,OVN DBs clustering,MERGED,2021-07-21 19:53:00.000000000,2021-08-17 09:54:24.000000000,2021-08-17 09:52:58.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 19:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0180e46a0e7b73c5587b6f42cdeb3c5dd8cd5091', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}, {'number': 2, 'created': '2021-07-21 20:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7007bf7353281811183636f41db3f7077c38950', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}, {'number': 3, 'created': '2021-07-22 07:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2c4325a82925eb6a5190f2317d9c01d235a59fd', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n- Set tripleo_container_manage_systemd_order: false (I believe it was a\n  mistake to start with)\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}, {'number': 4, 'created': '2021-07-22 09:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fea292755de66d8a9c6aa53bc2b0804ade9f88a5', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n- Set tripleo_container_manage_systemd_order: false (I believe it was a\n  mistake to start with)\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}, {'number': 5, 'created': '2021-07-27 07:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/517293c026babbdc5aa7c72e98196bdd8a6cde83', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n- Set tripleo_container_manage_systemd_order: false (I believe it was a\n  mistake to start with)\n- Include I50cf3b7d79d8cd139ae514438e147df73901a366 (fix typo in northd)\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}, {'number': 6, 'created': '2021-08-16 11:15:48.000000000', 'files': ['releasenotes/notes/add-ovn-dbs-cluster-support-6193cba5be432865.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2494eea763cb6cae3e6fc0e3029447cce74d2476', 'message': ""OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nNB: Some changes for this train backport are needed:\n- firewall_rules\n- go back to the old way of doing TLS (i.e. no system-roles.certificate)\n- template version back to rocky\n- Add 'DefaultPasswords:' parameter\n- Set tripleo_container_manage_systemd_order: false (I believe it was a\n  mistake to start with)\n- Include I50cf3b7d79d8cd139ae514438e147df73901a366 (fix typo in northd)\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n""}]",0,801656,2494eea763cb6cae3e6fc0e3029447cce74d2476,25,5,6,20172,,,0,"OVN DBs clustering

We introduce support for running both the NB and SB OVN databases in
clustered mode. This OVN DBs clustered mode is based on OVNs own
clustering protocol and does not rely on pacemaker.

Clustering the two OVN databases increases reliability. The cluster
works in active-active mode and has the potential to be more
resilient and performant.

See
https://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model
for more information.

Co-Authored-By: Michele Baldessari <michele@acksyn.org>

NB: Some changes for this train backport are needed:
- firewall_rules
- go back to the old way of doing TLS (i.e. no system-roles.certificate)
- template version back to rocky
- Add 'DefaultPasswords:' parameter
- Set tripleo_container_manage_systemd_order: false (I believe it was a
  mistake to start with)
- Include I50cf3b7d79d8cd139ae514438e147df73901a366 (fix typo in northd)

Related-Bug: #1931133
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/801654
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/796149

Change-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0
(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/801656/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ovn-dbs-cluster-support-6193cba5be432865.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml']",2,0180e46a0e7b73c5587b6f42cdeb3c5dd8cd5091,wip-stable-train,"heat_template_version: rocky description: > OpenStack containerized OVN DBs service in cluster mode parameters: ContainerOvnNbDbImage: description: image type: string ContainerOvnSbDbImage: description: image type: string ContainerOvnNorthdImage: description: image type: string EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json OVNNorthboundServerPort: description: Port of the OVN Northbound DB server type: number default: 6641 OVNSouthboundServerPort: description: Port of the OVN Southbound DB server type: number default: 6642 OVNNorthboundClusterPort: description: Cluster port of the OVN Northbound DB server type: number default: 6643 OVNSouthboundClusterPort: description: Cluster port of the OVN Southbound DB server type: number default: 6644 EnableInternalTLS: type: boolean default: false InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. OvnDBSCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service conditions: key_size_override_unset: {equals: [{get_param: OvnDBSCertificateKeySize}, '']} internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} resources: ContainersCommon: type: ../containers-common.yaml OVNDbsBase: type: ./ovn-dbs-container-puppet.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} OVNNorthboundServerPort: {get_param: OVNNorthboundServerPort} OVNSouthboundServerPort: {get_param: OVNSouthboundServerPort} outputs: role_data: description: Role data for the OVN multi-active cluster role. value: service_name: ovn_dbs config_settings: map_merge: - get_attr: [OVNDbsBase, role_data, config_settings] - tripleo::ovn_dbs::firewall_rules: '121 OVN DB server and cluster ports': proto: 'tcp' dport: - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} - {get_param: OVNNorthboundClusterPort} - {get_param: OVNSouthboundClusterPort} - if: - internal_tls_enabled - generate_service_certificates: true ovn_dbs_certificate_specs: service_certificate: '/etc/pki/tls/certs/ovn_dbs.crt' service_key: '/etc/pki/tls/private/ovn_dbs.key' hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} principal: str_replace: template: ""ovn_dbs/%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: OvnDBSCertificateKeySize} - {} kolla_config: /var/lib/kolla/config_files/ovn_cluster_north_db_server.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/local/bin/start-nb-db-server ${OVN_NB_DB_OPTS} config_files: &ovn_dbs_kolla_config_files - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true permissions: &ovn_dbs_kolla_permissions - path: /var/log/openvswitch owner: root:root recurse: true - path: /var/log/ovn owner: root:root recurse: true /var/lib/kolla/config_files/ovn_cluster_south_db_server.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/local/bin/start-sb-db-server ${OVN_SB_DB_OPTS} config_files: *ovn_dbs_kolla_config_files permissions: *ovn_dbs_kolla_permissions /var/lib/kolla/config_files/ovn_cluster_northd.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/bin/ovn-northd ${ovn_cluster_northd_OPTS} config_files: *ovn_dbs_kolla_config_files permissions: *ovn_dbs_kolla_permissions docker_config: step_0: ovn_cluster_north_db_server: start_order: 0 image: {get_param: ContainerOvnNbDbImage} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ovn_cluster_south_db_server: start_order: 0 image: {get_param: ContainerOvnSbDbImage} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_south_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ovn_cluster_northd: start_order: 2 image: {get_param: ContainerOvnNorthdImage} net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_northd.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS global_config_settings: ovn_db_clustered: true metadata_settings: if: - internal_tls_enabled - - service: ovn_dbs network: {get_param: [ServiceNetMap, OvnDbsNetwork]} type: node - null host_prep_tasks: - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" loop: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } deploy_steps_tasks: - name: Prepare OVN cluster when: step|int == 1 block: - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}} - name: Configure OVN DBs and northd include_role: name: tripleo_ovn_cluster vars: tripleo_ovn_cluster_dbs_protocol: ""{{ enable_internal_tls | ternary('ssl', 'tcp', 'tcp') }}"" tripleo_ovn_cluster_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_cluster_nb_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_cluster_sb_db_port: {get_param: OVNSouthboundServerPort} tripleo_ovn_cluster_nb_local_port: {get_param: OVNNorthboundClusterPort} tripleo_ovn_cluster_nb_remote_port: {get_param: OVNNorthboundClusterPort} tripleo_ovn_cluster_sb_local_port: {get_param: OVNSouthboundClusterPort} tripleo_ovn_cluster_sb_remote_port: {get_param: OVNSouthboundClusterPort} - name: Start OVN DBs and northd containers (bootstrap node) when: - step|int == 3 - is_ovn_dbs_bootstrap_node | bool block: &ovn_dbs_start_containers - name: Start OVN container include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""{{ ovn_container }}"" tripleo_container_manage_config_patterns: ""{{ ovn_container }}.json"" tripleo_container_manage_systemd_order: true loop: - ovn_cluster_north_db_server - ovn_cluster_south_db_server - ovn_cluster_northd loop_control: loop_var: ovn_container - name: Set connection # FIXME workaround until RHBZ #1952038 is fixed become: yes shell: | podman exec ovn_cluster_north_db_server bash -c ""ovn-nbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_nb_db_port }}"" podman exec ovn_cluster_south_db_server bash -c ""ovn-sbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_sb_db_port }}"" when: - enable_internal_tls | bool - is_ovn_dbs_bootstrap_node | bool vars: tripleo_ovn_cluster_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_cluster_nb_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_cluster_sb_db_port: {get_param: OVNSouthboundServerPort} - name: Start OVN DBs and northd containers (non-bootstrap nodes) when: - step|int == 4 - not is_ovn_dbs_bootstrap_node | bool block: *ovn_dbs_start_containers update_tasks: [] upgrade_tasks: [] ",,339,0
openstack%2Fneutron-lib~master~I159be06e3e43d5f61b0956ea00124410103c54f1,openstack/neutron-lib,master,I159be06e3e43d5f61b0956ea00124410103c54f1,Fix url display in bpg_speaker,MERGED,2021-08-17 03:52:15.000000000,2021-08-17 09:51:15.000000000,2021-08-17 09:49:45.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 03:52:15.000000000', 'files': ['api-ref/source/v2/bgp_speaker.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7e2d0edd9b751fbda0dafdd84cbb2d3fc8ef09ac', 'message': 'Fix url display in bpg_speaker\n\nReplace <> with {} to fix url display in bpg_speaker.\n\nChange-Id: I159be06e3e43d5f61b0956ea00124410103c54f1\n'}]",0,804812,7e2d0edd9b751fbda0dafdd84cbb2d3fc8ef09ac,9,3,1,28706,,,0,"Fix url display in bpg_speaker

Replace <> with {} to fix url display in bpg_speaker.

Change-Id: I159be06e3e43d5f61b0956ea00124410103c54f1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/12/804812/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/bgp_speaker.inc'],1,7e2d0edd9b751fbda0dafdd84cbb2d3fc8ef09ac,docs,.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/add-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/remove-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/add_gateway_network.. rest_method:: PUT /v2.0/bgp-speakers/{bgp-speaker-id}/remove_gateway_network.. rest_method:: GET /v2.0/bgp-speakers/{bgp-speaker-id}/get_advertised_routes.. rest_method:: GET /v2.0/bgp-speakers/{bgp-speaker-id}/bgp-dragents,.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/add-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/remove-bgp-peer.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/add_gateway_network.. rest_method:: PUT /v2.0/bgp-speakers/<bgp-speaker-id>/remove_gateway_network.. rest_method:: GET /v2.0/bgp-speakers/<bgp-speaker-id>/get_advertised_routes.. rest_method:: GET /v2.0/bgp-speakers/<bgp-speaker-id>/bgp-dragents,6,6
openstack%2Ftripleo-repos~master~I86495c7da8584d5811f32178bbd985cf5f864323,openstack/tripleo-repos,master,I86495c7da8584d5811f32178bbd985cf5f864323,Fix tripleo.repos.get_hash module,MERGED,2021-08-11 10:08:31.000000000,2021-08-17 09:21:59.000000000,2021-08-17 09:21:59.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-11 10:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2edc90e3921ad77f067be1dff6823c716b1ff54c', 'message': 'Fix tripleo.repos.get_hash module\n\n- fixes import typo that prevented module_utils from importing\n- avoids reading config.yaml as ansiballz does not include data files\n- ensure module works (tox -e packaging)\n\nChange-Id: I86495c7da8584d5811f32178bbd985cf5f864323\n'}, {'number': 2, 'created': '2021-08-12 08:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/4a09ec37bcea4e5ff1ebc0d15e3e9e87c4f348dd', 'message': 'Fix tripleo.repos.get_hash module\n\n- fixes import typo that prevented module_utils from importing\n- avoids reading config.yaml as ansiballz does not include data files\n- ensure module works (tox -e packaging)\n- replace use of requests library inside ansible module\n\nChange-Id: I86495c7da8584d5811f32178bbd985cf5f864323\n'}, {'number': 3, 'created': '2021-08-12 09:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/02974d52f7ea2f26b391006af6819ec63b054c9a', 'message': 'Fix tripleo.repos.get_hash module\n\n- fixes import typo that prevented module_utils from importing\n- avoids reading config.yaml as ansiballz does not include data files\n- ensure module works (tox -e packaging)\n- replace use of requests library inside ansible module\n\nChange-Id: I86495c7da8584d5811f32178bbd985cf5f864323\n'}, {'number': 4, 'created': '2021-08-12 09:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5e8a7e403ce191a55f3ae4880e4d947cebecb5c8', 'message': 'Fix tripleo.repos.get_hash module\n\n- fixes import typo that prevented module_utils from importing\n- avoids reading config.yaml as ansiballz does not include data files\n- ensure module works (tox -e packaging)\n- replace use of requests library inside ansible module\n\nChange-Id: I86495c7da8584d5811f32178bbd985cf5f864323\n'}, {'number': 5, 'created': '2021-08-16 14:20:58.000000000', 'files': ['galaxy.yml', 'tests/unit/get_hash/test_tripleo_get_hash.py', 'tests/unit/get_hash/test_tripleo_get_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'test-requirements.txt', 'plugins/module_utils/tripleo_repos/get_hash/constants.py', 'tests/sanity/requirements.txt', 'plugins/modules/get_hash.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c31394e58c39cdcaa4537b9d839e17a1ce6b4c3f', 'message': 'Fix tripleo.repos.get_hash module\n\n- fixes import typo that prevented module_utils from importing\n- avoids reading config.yaml as ansiballz does not include data files\n- ensure module works (tox -e packaging)\n- replace use of requests library inside ansible module\n\nChange-Id: I86495c7da8584d5811f32178bbd985cf5f864323\n'}]",32,804221,c31394e58c39cdcaa4537b9d839e17a1ce6b4c3f,33,5,5,24162,,,0,"Fix tripleo.repos.get_hash module

- fixes import typo that prevented module_utils from importing
- avoids reading config.yaml as ansiballz does not include data files
- ensure module works (tox -e packaging)
- replace use of requests library inside ansible module

Change-Id: I86495c7da8584d5811f32178bbd985cf5f864323
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/21/804221/4 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'plugins/module_utils/tripleo_repos/get_hash/constants.py', 'plugins/modules/get_hash.py', 'tox.ini']",5,2edc90e3921ad77f067be1dff6823c716b1ff54c,tripleo-get-hash," ansible localhost -m tripleo.repos.get_hash -a ""release=master os_version=centos8""",,54,13
openstack%2Fnova~master~I2fac7f919e9ddd6b0925d3e5d04e61b2ba1b8c82,openstack/nova,master,I2fac7f919e9ddd6b0925d3e5d04e61b2ba1b8c82,utils: Remove periods from instance hostnames,MERGED,2020-11-27 17:42:02.000000000,2021-08-17 09:12:55.000000000,2021-01-24 05:40:31.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-27 17:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9488a7ee3c81b87a3fb18c68fc6a25f2a15ef0c2', 'message': ""utils: Sanitize purely numeric TLD in hostnames\n\nWhen creating an instance, nova sanitizes the 'instance.name' attribute,\nusing the 'nova.utils.truncate_hostname' function, and stores this as\nthe 'instance.hostname' attribute. If neutron has the DNS extension\nenabled then this attribute will be reported as the 'dns_name' value\nwhen attaching ports [1].\n\nNova's sanitization of hostnames is good, but while it allows for FQDN,\nit does not validate the TLD in these scenarios. This can be\nproblematic for instances with common names such as 'ubuntu18.04' or\n'test.a', which aren't valid since TLDs must start with an alpha\ncharacter and must be greater than 1 character long, respectively. We\ndon't want to remove support for FQDN, at least not without providing an\nalternative way to support this, but we also don't want errors failing\nto spawn with errors like so:\n\n  RescheduledException: Build of instance foo was re-scheduled:\n  Invalid input for dns_name.\n  Reason: 'test-ubuntu-20.04' not a valid PQDN or FQDN.\n  Reason: TLD '04' must not be all numeric.\n\nThis will only affect users with DNS integration supported, so we don't\nwant to start outright rejecting these requests for everyone else. We\nalso don't want to wait for such late failures, nor do we want to behave\ndifferently depending on whether this feature is enable (since that\nshould be transparent to users). Instead, we continue down the vein of\nsanitization and replace periods with hyphens where not doing so would\nresult in invalid TLDs. For example:\n\n  test-ubuntu-20.04  ->  Server-6c10508e-30d7-11eb-adc1-0242ac120002\n  test.ubuntu.20.04  ->  Server-61b03c6c-30d7-11eb-adc1-0242ac120002\n  test.ubuntu.20.04  ->  Server-c2a447b9-a60e-435c-a450-cc8249102270\n  test-ubuntu.fossa  ->  test-ubuntu.fossa\n\n(where the UUIDs correspond to the UUID of the instance)\n\nThis is possibly going to lead to some odd behavior, but that's an\ninherent flaw with sanitization and already the case when we have\ninstances whose names are made up of non-alphanumeric characters. The\nlong-term solution to this is probably to expose a hostname attribute\nfor creating servers, which we can validate properly. That would allow\nus to avoid all this crazy stuff, however, it would require an API\nmicroversion and changes to peoples workflows. This is therefore\ndetermined to be a suitable measure for now.\n\n[1] https://docs.openstack.org/neutron/victoria/admin/config-dns-int.html\n\nChange-Id: I2fac7f919e9ddd6b0925d3e5d04e61b2ba1b8c82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1581977\n""}, {'number': 2, 'created': '2021-01-14 11:33:39.000000000', 'files': ['releasenotes/notes/bug-1581977-310e5f218ccb1d16.yaml', 'nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9046f0fff4be424eda25401a3f9b8752964de775', 'message': ""utils: Remove periods from instance hostnames\n\nWhen creating an instance, nova sanitizes the 'instance.name' attribute,\nusing the 'nova.utils.sanitize_hostname' function, and stores this as\nthe 'instance.hostname' attribute. If neutron has the DNS extension\nenabled then this attribute will be reported as the 'dns_name' value\nwhen attaching ports [1].\n\nNova does not currently remove or replace periods in the name as part of\nthis sanitization. This results in the hostname being identified as a\n(FQDN) fully qualified domain name, with all the constraints placed on\nFQDNs [2]. This can be problematic for instances with common names such\nas 'ubuntu18.04' or 'test.a', which aren't valid since TLDs must start\nwith an alpha character and must be greater than 1 character long,\nrespectively. Attempting to boot instances with such names can result in\nfailures like the below when DNS integration is enabled in neutron:\n\n  RescheduledException: Build of instance foo was re-scheduled:\n  Invalid input for dns_name.\n  Reason: 'test-ubuntu-20.04' not a valid PQDN or FQDN.\n  Reason: TLD '04' must not be all numeric.\n\nStart replacing these periods with hyphens. This is a change in behavior\nand may affect users who are relying on this inadvertent support for\ninstance names as FQDNs when using cloud-init, however, a quick poll on\nopenstack-discuss [3] suggests the people that are using FQDN-like\ninstance names are setting hostnames in the guest explicitly and not\nrelying on the information provided via the nova metadata service,\nmeaning this will not affect them.\n\n[1] https://docs.openstack.org/neutron/victoria/admin/config-dns-int.html\n[2] https://stackoverflow.com/a/53875771/613428\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/019113.html\n\nChange-Id: I2fac7f919e9ddd6b0925d3e5d04e61b2ba1b8c82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1581977\n""}]",13,764482,9046f0fff4be424eda25401a3f9b8752964de775,64,6,2,15334,,,0,"utils: Remove periods from instance hostnames

When creating an instance, nova sanitizes the 'instance.name' attribute,
using the 'nova.utils.sanitize_hostname' function, and stores this as
the 'instance.hostname' attribute. If neutron has the DNS extension
enabled then this attribute will be reported as the 'dns_name' value
when attaching ports [1].

Nova does not currently remove or replace periods in the name as part of
this sanitization. This results in the hostname being identified as a
(FQDN) fully qualified domain name, with all the constraints placed on
FQDNs [2]. This can be problematic for instances with common names such
as 'ubuntu18.04' or 'test.a', which aren't valid since TLDs must start
with an alpha character and must be greater than 1 character long,
respectively. Attempting to boot instances with such names can result in
failures like the below when DNS integration is enabled in neutron:

  RescheduledException: Build of instance foo was re-scheduled:
  Invalid input for dns_name.
  Reason: 'test-ubuntu-20.04' not a valid PQDN or FQDN.
  Reason: TLD '04' must not be all numeric.

Start replacing these periods with hyphens. This is a change in behavior
and may affect users who are relying on this inadvertent support for
instance names as FQDNs when using cloud-init, however, a quick poll on
openstack-discuss [3] suggests the people that are using FQDN-like
instance names are setting hostnames in the guest explicitly and not
relying on the information provided via the nova metadata service,
meaning this will not affect them.

[1] https://docs.openstack.org/neutron/victoria/admin/config-dns-int.html
[2] https://stackoverflow.com/a/53875771/613428
[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/019113.html

Change-Id: I2fac7f919e9ddd6b0925d3e5d04e61b2ba1b8c82
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1581977
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/764482/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/utils.py']",2,9488a7ee3c81b87a3fb18c68fc6a25f2a15ef0c2,bug/1581977," LOG.warning( ""Hostname '%(hostname)s' is longer than 63; truncated "" ""to '%(truncated_name)s'"", {'hostname': name, 'truncated_name': name[:63]}) # Determine if the hostname is a valid FQDN yet. If not, fallback to the # default name if re.match('[0-9].*', hostname.split('.')[-1]): LOG.warning( ""Hostname '%s' is not a valid FQDN; will fallback to default"", hostname) hostname = '' hostname = truncate_hostname(default_name)"," LOG.warning(""Hostname %(hostname)s is longer than 63, "" ""truncate it to %(truncated_name)s"", {'hostname': name, 'truncated_name': name[:63]}) return truncate_hostname(default_name)",19,4
openstack%2Fkolla-ansible~master~Icceb4bfe4dd4b57ecc2f2ccedc65993b7aec0c67,openstack/kolla-ansible,master,Icceb4bfe4dd4b57ecc2f2ccedc65993b7aec0c67,Add Adjutant service,NEW,2021-08-16 17:06:13.000000000,2021-08-17 08:56:41.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 17:06:13.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/adjutant/tasks/bootstrap.yml', 'ansible/roles/adjutant/tasks/upgrade.yml', 'ansible/roles/adjutant/tasks/bootstrap_service.yml', 'ansible/roles/adjutant/tasks/check-containers.yml', 'ansible/roles/common/templates/cron-logrotate-adjutant.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/adjutant/meta/main.yml', 'ansible/site.yml', 'ansible/roles/adjutant/templates/wsgi-adjutant.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/adjutant/tasks/pull.yml', 'ansible/roles/adjutant/templates/adjutant-api.json.j2', 'ansible/roles/adjutant/tasks/deploy-containers.yml', 'ansible/roles/adjutant/tasks/loadbalancer.yml', 'ansible/roles/horizon/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/adjutant/tasks/deploy.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/adjutant/handlers/main.yml', 'ansible/roles/adjutant/templates/adjutant.yml.j2', 'ansible/roles/adjutant/tasks/copy-certs.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/adjutant/tasks/check.yml', 'ansible/roles/adjutant/defaults/main.yml', 'ansible/roles/adjutant/tasks/external_ceph.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/adjutant/tasks/main.yml', 'ansible/roles/adjutant/tasks/reconfigure.yml', 'ansible/roles/adjutant/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'ansible/roles/adjutant/tasks/clone.yml', 'ansible/roles/adjutant/tasks/config.yml', 'ansible/roles/adjutant/tasks/stop.yml', 'tests/templates/inventory.j2', 'ansible/roles/adjutant/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c579836e1eccfb4b25cca4fac57f1a0c12761bc9', 'message': 'Add Adjutant service\n\nChange-Id: Icceb4bfe4dd4b57ecc2f2ccedc65993b7aec0c67'}]",0,804789,c579836e1eccfb4b25cca4fac57f1a0c12761bc9,5,2,1,33014,,,0,"Add Adjutant service

Change-Id: Icceb4bfe4dd4b57ecc2f2ccedc65993b7aec0c67",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/804789/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/adjutant/tasks/bootstrap.yml', 'ansible/roles/adjutant/tasks/upgrade.yml', 'ansible/roles/adjutant/tasks/bootstrap_service.yml', 'ansible/roles/adjutant/tasks/check-containers.yml', 'ansible/roles/common/templates/cron-logrotate-adjutant.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/adjutant/meta/main.yml', 'ansible/site.yml', 'ansible/roles/adjutant/templates/wsgi-adjutant.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/adjutant/tasks/pull.yml', 'ansible/roles/adjutant/templates/adjutant-api.json.j2', 'ansible/roles/adjutant/tasks/deploy-containers.yml', 'ansible/roles/adjutant/tasks/loadbalancer.yml', 'ansible/roles/horizon/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/adjutant/tasks/deploy.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/adjutant/handlers/main.yml', 'ansible/roles/adjutant/templates/adjutant.yml.j2', 'ansible/roles/adjutant/tasks/copy-certs.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/adjutant/tasks/check.yml', 'ansible/roles/adjutant/defaults/main.yml', 'ansible/roles/adjutant/tasks/external_ceph.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/adjutant/tasks/main.yml', 'ansible/roles/adjutant/tasks/reconfigure.yml', 'ansible/roles/adjutant/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'ansible/roles/adjutant/tasks/clone.yml', 'ansible/roles/adjutant/tasks/config.yml', 'ansible/roles/adjutant/tasks/stop.yml', 'tests/templates/inventory.j2', 'ansible/roles/adjutant/tasks/register.yml']",39,c579836e1eccfb4b25cca4fac57f1a0c12761bc9,adjutant,"--- - import_role: name: service-ks-register vars: service_ks_register_auth: ""{{ openstack_adjutant_auth }}"" service_ks_register_services: ""{{ adjutant_ks_services }}"" service_ks_register_users: ""{{ adjutant_ks_users }}"" tags: always",,1358,4
openstack%2Fnetworking-odl~master~Iebd7ddbfc68a06b316c775283a73aec9bd2fb760,openstack/networking-odl,master,Iebd7ddbfc68a06b316c775283a73aec9bd2fb760,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 07:26:22.000000000,2021-08-17 08:18:42.000000000,2021-08-17 08:17:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 07:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7a5b9442b46401eaa7d9fd65596999869136a5cf', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iebd7ddbfc68a06b316c775283a73aec9bd2fb760\n""}, {'number': 2, 'created': '2021-08-17 01:59:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/78c5c64c2be172b2cabcd28700838b1648a665c7', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iebd7ddbfc68a06b316c775283a73aec9bd2fb760\n""}]",0,793725,78c5c64c2be172b2cabcd28700838b1648a665c7,18,5,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iebd7ddbfc68a06b316c775283a73aec9bd2fb760
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/793725/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7a5b9442b46401eaa7d9fd65596999869136a5cf,update-min-tox,minversion = 3.18.0allowlist_externals = bashallowlist_externals =allowlist_externals = rmallowlist_externals =allowlist_externals = bashallowlist_externals = bashallowlist_externals = mkdir,minversion = 3.1.1whitelist_externals = bashwhitelist_externals =whitelist_externals = rmwhitelist_externals =whitelist_externals = bashwhitelist_externals = bashwhitelist_externals = mkdir,8,8
openstack%2Fos-ken~master~I41611ad410e35c99193a995f1006d2e284e88c08,openstack/os-ken,master,I41611ad410e35c99193a995f1006d2e284e88c08,Changed minversion in tox to 3.18.0,MERGED,2021-08-11 11:40:16.000000000,2021-08-17 08:13:25.000000000,2021-08-17 08:11:42.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-08-11 11:40:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/9a31f457db650766001b3d88c8154a84e12d24c4', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I41611ad410e35c99193a995f1006d2e284e88c08\n""}]",0,804228,9a31f457db650766001b3d88c8154a84e12d24c4,9,4,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I41611ad410e35c99193a995f1006d2e284e88c08
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/28/804228/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a31f457db650766001b3d88c8154a84e12d24c4,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fswift~master~Ieab6238030e8c264ee90186012be6e9da937b42e,openstack/swift,master,Ieab6238030e8c264ee90186012be6e9da937b42e,container GET: return 503 if policy index mismatches,MERGED,2021-08-16 10:33:01.000000000,2021-08-17 08:08:57.000000000,2021-08-16 23:04:25.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fb6a1acfc249ee56ae4a37cfdb1af4ffd5ebfc42', 'message': 'container GET: return 503 if policy index mismatches\n\nReturn a 503 to the original container listing request if a GET from a\nshard returns objects from a different policy than requested (e.g. due\nto the shard container server not being upgraded).\n\nChange-Id: Ieab6238030e8c264ee90186012be6e9da937b42e\n'}, {'number': 2, 'created': '2021-08-16 10:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20459d9877bec42982895fcf403ac22a2731a1ac', 'message': 'container GET: return 503 if policy index mismatches\n\nReturn a 503 to the original container listing request if a GET from a\nshard returns objects from a different policy than requested (e.g. due\nto the shard container server not being upgraded).\n\nChange-Id: Ieab6238030e8c264ee90186012be6e9da937b42e\n'}, {'number': 3, 'created': '2021-08-16 10:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/777288d224c31c6f4f2e219006818cd7bfe20e02', 'message': 'container GET: return 503 if policy index mismatches\n\nReturn a 503 to the original container listing request if a GET from a\nshard returns objects from a different policy than requested (e.g. due\nto the shard container server not being upgraded).\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: Ieab6238030e8c264ee90186012be6e9da937b42e\n'}, {'number': 4, 'created': '2021-08-16 12:50:54.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2992f14176ca31918a02cbf5f52fe2a2852750db', 'message': 'container GET: return 503 if policy index mismatches\n\nReturn a 503 to the original container listing request if a GET from a\nshard returns objects from a different policy than requested (e.g. due\nto the shard container server not being upgraded).\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: Ieab6238030e8c264ee90186012be6e9da937b42e\n'}]",5,804695,2992f14176ca31918a02cbf5f52fe2a2852750db,15,3,4,7847,,,0,"container GET: return 503 if policy index mismatches

Return a 503 to the original container listing request if a GET from a
shard returns objects from a different policy than requested (e.g. due
to the shard container server not being upgraded).

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Change-Id: Ieab6238030e8c264ee90186012be6e9da937b42e
",git fetch https://review.opendev.org/openstack/swift refs/changes/95/804695/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py']",2,fb6a1acfc249ee56ae4a37cfdb1af4ffd5ebfc42,container-server-return-specified-api-objs," shard_policy = shard_resp.headers.get( 'X-Backend-Record-Storage-Policy-Index', shard_resp.headers[policy_key] ) if shard_policy != req.headers[policy_key]: self.app.logger.error( 'Aborting listing from shards due to bad shard policy ' 'index: %s (expected %s)', shard_policy, req.headers[policy_key]) return HTTPServiceUnavailable(request=req)",,75,2
openstack%2Fos-ken~master~I4f993be5dd4a5f48396c4be152da5b61ea92392f,openstack/os-ken,master,I4f993be5dd4a5f48396c4be152da5b61ea92392f,Enhance os-ken to support Nicira PacketIn2,MERGED,2021-06-11 08:39:12.000000000,2021-08-17 08:04:01.000000000,2021-08-17 08:01:47.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-11 08:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f246ae66d5cda8889c9f4d45ed4001fd119a0b63', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 2, 'created': '2021-06-15 01:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/4e0663d0b8d1b08018183cdb1b09dd47cf7aca33', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 3, 'created': '2021-06-15 02:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7eb8ab2cc064918a1eb8c776ecf192a190351b64', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 4, 'created': '2021-06-15 09:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/fdc45a9175283d3e5142f1a0cbb7cf652115b3c1', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 5, 'created': '2021-06-16 03:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/6a10f515e01a1761a512894c1cbc3b040b73d7db', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 6, 'created': '2021-06-16 07:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/3a5e3a0bff2902afed48490dab345f2ce3bd218d', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 7, 'created': '2021-06-16 07:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1cab31718726c446db8ca642a97f159dbe7af6a0', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}, {'number': 8, 'created': '2021-06-16 08:51:52.000000000', 'files': ['os_ken/ofproto/ofproto_v1_5_parser.py', 'os_ken/ofproto/nicira_ext.py', 'os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py', 'os_ken/ofproto/ofproto_v1_4_parser.py', 'os_ken/ofproto/ofproto_v1_4.py', 'os_ken/ofproto/ofproto_v1_5.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/bf25f07861a93c1cfc1592e181baebc8a161b2aa', 'message': ""Enhance os-ken to support Nicira PacketIn2\n\nneutron ovs agent has to handle advanced packet_in\nwith custom userdata which is necessary to openflow-based\nfloating IP implementation, but current os-ken doesn't\nhave such infrastructure.\n\nThis story is to enhance os-ken in order that neutron ovs\nagent can act as an advanced SDN controller to handle\nadvanced packet_in.\n\nStory: #2008964\nTask: #42600\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f\n""}]",21,795963,bf25f07861a93c1cfc1592e181baebc8a161b2aa,33,5,8,30454,,,0,"Enhance os-ken to support Nicira PacketIn2

neutron ovs agent has to handle advanced packet_in
with custom userdata which is necessary to openflow-based
floating IP implementation, but current os-ken doesn't
have such infrastructure.

This story is to enhance os-ken in order that neutron ovs
agent can act as an advanced SDN controller to handle
advanced packet_in.

Story: #2008964
Task: #42600
Related-Bug: #1931953

Signed-off-by: Yi Yang <yangyi01@inspur.com>

Change-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/63/795963/8 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/ofproto/ofproto_v1_3.py']",2,f246ae66d5cda8889c9f4d45ed4001fd119a0b63,bug/1931953,"# nx_packet_in2_prop_type NXPINT_PACKET = 0 NXPINT_FULL_LEN = 1 NXPINT_BUFFER_ID = 2 NXPINT_TABLE_ID = 3 NXPINT_COOKIE = 4 NXPINT_REASON = 5 NXPINT_METADATA = 6 NXPINT_USERDATA = 7 NXPINT_CONTINUATION = 8 # enum nxt_exp_type NXT_ET_SET_PACKET_IN_FORMAT = 16 NXT_ET_PACKET_IN2 = 30 #Nicira extension: set_packet_in_format NXT_SET_PACKET_IN_FORMAT_PACK_STR = '!I' NXT_SET_PACKET_IN_FORMAT_SIZE = 4 # Support for matching/setting xreg0-7 oxm_fields.PacketRegs('xreg0', 0, type_desc.Int8), oxm_fields.PacketRegs('xreg1', 1, type_desc.Int8), oxm_fields.PacketRegs('xreg2', 2, type_desc.Int8), oxm_fields.PacketRegs('xreg3', 3, type_desc.Int8), oxm_fields.PacketRegs('xreg4', 4, type_desc.Int8), oxm_fields.PacketRegs('xreg5', 5, type_desc.Int8), oxm_fields.PacketRegs('xreg6', 6, type_desc.Int8), oxm_fields.PacketRegs('xreg7', 7, type_desc.Int8),",,265,0
openstack%2Fopenstack-ansible-os_neutron~master~If2b1bd005b9ef22d06c2df613921ad323d8ab855,openstack/openstack-ansible-os_neutron,master,If2b1bd005b9ef22d06c2df613921ad323d8ab855,Rename ovn focal test,ABANDONED,2021-03-15 13:21:28.000000000,2021-08-17 07:33:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-15 13:21:28.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4e7bdf684afff7d01c4e9afdf1870d6bf4d1cd37', 'message': 'Rename ovn focal test\n\nRemove redundant number from the test name\n\nChange-Id: If2b1bd005b9ef22d06c2df613921ad323d8ab855\n'}]",2,780579,4e7bdf684afff7d01c4e9afdf1870d6bf4d1cd37,3,1,1,28619,,,0,"Rename ovn focal test

Remove redundant number from the test name

Change-Id: If2b1bd005b9ef22d06c2df613921ad323d8ab855
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/79/780579/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,4e7bdf684afff7d01c4e9afdf1870d6bf4d1cd37,, name: openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal name: openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal, name: openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal2 name: openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal2,6,6
openstack%2Freleases~master~I0b2c42b92d5d2d3767e49f40c426a430f767c46f,openstack/releases,master,I0b2c42b92d5d2d3767e49f40c426a430f767c46f,Remove devstack-gate feature list related task,MERGED,2021-08-06 15:40:27.000000000,2021-08-17 07:18:32.000000000,2021-08-17 07:18:32.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-06 15:40:27.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/d1799176ab814a73d78c7d847885ddff9c0a257a', 'message': 'Remove devstack-gate feature list related task\n\ndevstack-gate project was deprecated [1] so there is no need to update\nthe feature list anymore.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023180.html\n\nChange-Id: I0b2c42b92d5d2d3767e49f40c426a430f767c46f\n'}]",0,803774,d1799176ab814a73d78c7d847885ddff9c0a257a,8,4,1,17685,,,0,"Remove devstack-gate feature list related task

devstack-gate project was deprecated [1] so there is no need to update
the feature list anymore.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023180.html

Change-Id: I0b2c42b92d5d2d3767e49f40c426a430f767c46f
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/803774/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,d1799176ab814a73d78c7d847885ddff9c0a257a,,,"#. Update the feature list and allowed stable branch names in devstack-gate for the new stable branch. For example, https://review.opendev.org/715272/ ",0,4
openstack%2Fmasakari~stable%2Fwallaby~Ie4687f4bfde4c29ba2805c3a6214267e3f1705e4,openstack/masakari,stable/wallaby,Ie4687f4bfde4c29ba2805c3a6214267e3f1705e4,[wallaby-only] [devstack] Fix path to dashboard policy,MERGED,2021-08-07 10:00:49.000000000,2021-08-17 06:53:03.000000000,2021-08-17 06:51:07.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-07 10:00:49.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/2115e51ca326c93e4a8283e304954e3eb2c269ad', 'message': '[wallaby-only] [devstack] Fix path to dashboard policy\n\nIn Wallaby, we merged the deprecation of JSON policy file and\nmoved to YAML by default.\nHowever, dashboard has only really followed in Xena, leaving\nthe devstack plugin masakari dashboard policy symlink broken.\nThis patch fixes that.\n\nNote we cannot easily move the dashboard policy file in Wallaby\nwithout breaking existing (production) deployments, hence why\ndoing this instead of backporting.\n\nChange-Id: Ie4687f4bfde4c29ba2805c3a6214267e3f1705e4\n'}]",0,803820,2115e51ca326c93e4a8283e304954e3eb2c269ad,8,3,1,30491,,,0,"[wallaby-only] [devstack] Fix path to dashboard policy

In Wallaby, we merged the deprecation of JSON policy file and
moved to YAML by default.
However, dashboard has only really followed in Xena, leaving
the devstack plugin masakari dashboard policy symlink broken.
This patch fixes that.

Note we cannot easily move the dashboard policy file in Wallaby
without breaking existing (production) deployments, hence why
doing this instead of backporting.

Change-Id: Ie4687f4bfde4c29ba2805c3a6214267e3f1705e4
",git fetch https://review.opendev.org/openstack/masakari refs/changes/20/803820/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2115e51ca326c93e4a8283e304954e3eb2c269ad,devstack-plugin-dashboard-policy-path, ln -fs $MASAKARI_DASHBOARD_DIR/masakaridashboard/conf/masakari_policy.json \ sudo rm -f $DEST/horizon/openstack_dashboard/conf/masakari_policy.json, ln -fs $MASAKARI_DASHBOARD_DIR/masakaridashboard/conf/masakari_policy.yaml \ sudo rm -f $DEST/horizon/openstack_dashboard/conf/masakari_policy.yaml,2,2
openstack%2Fmasakari-monitors~master~I4b035925b212236e5a31cd3752d08d281501c26d,openstack/masakari-monitors,master,I4b035925b212236e5a31cd3752d08d281501c26d,Remove conditionals for an ancient openstacksdk,MERGED,2021-07-28 19:41:46.000000000,2021-08-17 06:43:39.000000000,2021-08-17 06:41:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 19:41:46.000000000', 'files': ['masakarimonitors/ha/masakari.py', 'masakarimonitors/tests/unit/ha/test_masakari.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/fe4e09408ca57b55925dd4469c18518bcb0251cc', 'message': 'Remove conditionals for an ancient openstacksdk\n\nChange-Id: I4b035925b212236e5a31cd3752d08d281501c26d\n'}]",0,802800,fe4e09408ca57b55925dd4469c18518bcb0251cc,10,3,1,30491,,,0,"Remove conditionals for an ancient openstacksdk

Change-Id: I4b035925b212236e5a31cd3752d08d281501c26d
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/00/802800/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/ha/masakari.py', 'masakarimonitors/tests/unit/ha/test_masakari.py']",2,fe4e09408ca57b55925dd4469c18518bcb0251cc,trivialfix-todo-status-code, response = FakeResponse(status_code=409) status_ex = exceptions.HttpException(response=response) response = FakeResponse(status_code=500) status_ex = exceptions.HttpException(response=response)," # TODO(samP): Remove attribute check and else case if # openstacksdk is bumped up from '>=0.9.19' to '>=0.10.0' # in global-requirements. if hasattr(exceptions.HttpException(), 'status_code'): response = FakeResponse(status_code=409) status_ex = exceptions.HttpException(response=response) else: status_ex = exceptions.HttpException(http_status=409) # TODO(samP): Remove attribute check and else case if # openstacksdk is bumped up from '>=0.9.19' to '>=0.10.0' # in global-requirements. if hasattr(exceptions.HttpException(), 'status_code'): response = FakeResponse(status_code=500) status_ex = exceptions.HttpException(response=response) else: status_ex = exceptions.HttpException(http_status=500)",5,26
openstack%2Fmasakari~master~I6b145387233f05fdee776fc2633277a39fd887ce,openstack/masakari,master,I6b145387233f05fdee776fc2633277a39fd887ce,masakari should evaluate host status when host fails,ABANDONED,2021-06-27 09:47:22.000000000,2021-08-17 06:28:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 31268}]","[{'number': 1, 'created': '2021-06-27 09:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/66a505c0971eb340055f971e088c6725fb0a6e92', 'message': ' masakari should evaluate host status when host fails\n\nMasakari can evaluate host status and determine whether can use force_down api. For example, if host occurs crash or is powered off, masakari can force_down api.In all, engine shoud have right to decide.\n\nIn order to achieve above, masakari should can get ipmi info、management ip, business ip and storage ip of hosts. Ipmi info can stored in masakari-monitors notification payload; Ips should stored in file or db.\n\nCloses-Bug: #1928793\nChange-Id: I6b145387233f05fdee776fc2633277a39fd887ce\n'}, {'number': 2, 'created': '2021-06-27 11:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/77200a6125c0755f4f1586033d6a6f0d39cae14c', 'message': ' masakari should evaluate host status when host fails\n\nMasakari can evaluate host status and determine whether can use force_down api. For example, if host occurs crash or is powered off, masakari can force_down api.In all, engine shoud have right to decide.\n\nIn order to achieve above, masakari should can get ipmi info、management ip, business ip and storage ip of hosts. Ipmi info can stored in masakari-monitors notification payload; Ips should stored in file or db.\n\nCloses-Bug: #1928793\nChange-Id: I6b145387233f05fdee776fc2633277a39fd887ce\n'}, {'number': 3, 'created': '2021-06-27 12:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ee864380fa92dee36590cc400040cb1fd03f6242', 'message': ' masakari should evaluate host status when host fails\n\nMasakari can evaluate host status and determine whether can use force_down api. For example, if host occurs crash or is powered off, masakari can force_down api.In all, engine shoud have right to decide.\n\nIn order to achieve above, masakari should can get ipmi info、management ip, business ip and storage ip of hosts. Ipmi info can stored in masakari-monitors notification payload; Ips should stored in file or db.\n\nCloses-Bug: #1928793\nChange-Id: I6b145387233f05fdee776fc2633277a39fd887ce\n'}, {'number': 4, 'created': '2021-06-27 14:04:52.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/manager.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/engine/evaluate.py', 'masakari/tests/unit/engine/test_evaluate.py', 'masakari/conf/service.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/engine/drivers/taskflow/driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'etc/masakari/compute_hosts_evaluation_file', 'masakari/compute/nova.py', 'masakari/tests/unit/engine/drivers/taskflow/test_taskflow_driver.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/27135a1a51ed1ebba2e345d2118a3d204d6592ff', 'message': ' masakari should evaluate host status when host fails\n\nMasakari can evaluate host status and determine whether can use force_down api. For example, if host occurs crash or is powered off, masakari can force_down api.In all, engine shoud have right to decide.\n\nIn order to achieve above, masakari should can get ipmi info、management ip, business ip and storage ip of hosts. Ipmi info can stored in masakari-monitors notification payload; Ips should stored in file or db.\n\nCloses-Bug: #1928793\nChange-Id: I6b145387233f05fdee776fc2633277a39fd887ce\n'}]",180,798210,27135a1a51ed1ebba2e345d2118a3d204d6592ff,11,3,4,32722,,,0," masakari should evaluate host status when host fails

Masakari can evaluate host status and determine whether can use force_down api. For example, if host occurs crash or is powered off, masakari can force_down api.In all, engine shoud have right to decide.

In order to achieve above, masakari should can get ipmi info、management ip, business ip and storage ip of hosts. Ipmi info can stored in masakari-monitors notification payload; Ips should stored in file or db.

Closes-Bug: #1928793
Change-Id: I6b145387233f05fdee776fc2633277a39fd887ce
",git fetch https://review.opendev.org/openstack/masakari refs/changes/10/798210/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/manager.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/engine/evaluate.py', 'masakari/tests/unit/engine/test_evaluate.py', 'masakari/conf/service.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/engine/drivers/taskflow/driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'etc/masakari/compute_hosts_evaluation_file', 'masakari/compute/nova.py', 'masakari/tests/unit/engine/drivers/taskflow/test_taskflow_driver.py']",12,66a505c0971eb340055f971e088c6725fb0a6e92,," 'host-1', 'host-2'], force_down=True) 'host-1', 'host-2'], force_down=True) 'host-1', 'host-2'], force_down=True) 'host-1', 'host-2'], force_down=True) reserved_host_list=['host-1', 'host-2'], force_down=True) reserved_host_list=['host-1', 'host-2'], force_down=True) reserved_host_list=['host-1', 'host-2'], force_down=True) reserved_host_list=['host-1', 'host-2'], force_down=True) uuidsentinel.fake_notification, force_down=True)"," 'host-1', 'host-2']) 'host-1', 'host-2']) 'host-1', 'host-2']) 'host-1', 'host-2']) reserved_host_list=['host-1', 'host-2']) reserved_host_list=['host-1', 'host-2']) reserved_host_list=['host-1', 'host-2']) reserved_host_list=['host-1', 'host-2']) uuidsentinel.fake_notification)",661,51
openstack%2Fcyborg~stable%2Fvictoria~Ic21f9bc64038073a2e97dc906e09ef4bab042047,openstack/cyborg,stable/victoria,Ic21f9bc64038073a2e97dc906e09ef4bab042047,Resolve mysql conflict message,ABANDONED,2021-08-13 09:14:22.000000000,2021-08-17 06:16:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-13 09:14:22.000000000', 'files': ['cyborg/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/19559a4f552ee14a263ae5ca9e7d04e2947efee4', 'message': 'Resolve mysql conflict message\n\nChange-Id: Ic21f9bc64038073a2e97dc906e09ef4bab042047\n'}]",0,804506,19559a4f552ee14a263ae5ca9e7d04e2947efee4,8,4,1,31412,,,0,"Resolve mysql conflict message

Change-Id: Ic21f9bc64038073a2e97dc906e09ef4bab042047
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/06/804506/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,19559a4f552ee14a263ae5ca9e7d04e2947efee4,," # mysql duplicate key error changed as reference link below: # https://review.opendev.org/c/openstack/oslo.db/+/792124 LOG.info('Duplicate columns are: ', e.columns) columns = [column.split('0')[1] if 'uniq_' in column else column for column in e.columns] if 'name' in columns:", if 'name' in e.columns:,6,1
openstack%2Fpuppet-oslo~master~I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5,openstack/puppet-oslo,master,I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5,Add support for oslo.reports library options,NEW,2021-08-16 23:32:32.000000000,2021-08-17 05:45:42.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 23:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/ef925e382ae505a22b2ad3c41d4c626603a5c812', 'message': 'Add support for oslo_reports library options\n\nThis change adds support for options of the olso_reports library, which\nis used in several components to generate Guru Meditation Reports(GMR).\n\nChange-Id: I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5\n'}, {'number': 2, 'created': '2021-08-16 23:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/6441ca051057ab057aff713c2345dd0456a4a9b4', 'message': 'Add support for oslo.reports library options\n\nThis change adds support for options of the olso.reports library, which\nis used in several components to generate Guru Meditation Reports(GMR).\n\nChange-Id: I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5\n'}, {'number': 3, 'created': '2021-08-17 02:09:11.000000000', 'files': ['manifests/reports.pp', 'releasenotes/notes/oslo_reports-12002edb359451c8.yaml', 'spec/defines/oslo_reports_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/25be81f99d8c6777a55b2cfd20eb59fd6278a72e', 'message': 'Add support for oslo.reports library options\n\nThis change adds support for options of the olso.reports library, which\nis used in several components to generate Guru Meditation Reports(GMR).\n\nChange-Id: I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5\n'}]",0,804804,25be81f99d8c6777a55b2cfd20eb59fd6278a72e,6,2,3,9816,,,0,"Add support for oslo.reports library options

This change adds support for options of the olso.reports library, which
is used in several components to generate Guru Meditation Reports(GMR).

Change-Id: I2db5a2639ea98ed983a9d07e6cef1f493c6ae6b5
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/04/804804/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/reports.pp', 'releasenotes/notes/oslo_reports-12002edb359451c8.yaml', 'spec/defines/oslo_reports_spec.rb']",3,ef925e382ae505a22b2ad3c41d4c626603a5c812,oslo_reports,"require 'spec_helper' describe 'oslo::reports' do let (:title) { 'keystone_config' } shared_examples 'oslo::reports' do context 'with default parameters' do let :params do {} end it 'configure reports default params' do is_expected.to contain_keystone_config('oslo_reports/log_dir').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_reports/file_event_handler').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_reports/file_event_handler_interval').with_value('<SERVICE DEFAULT>') end end context 'with parameters overridden' do let :params do { :log_dir => '/var/log/keystone', :file_event_handler => '/var/tmp/keystone/reports', :file_event_handler_interval => 1, } end it 'configure oslo_reports params' do is_expected.to contain_keystone_config('oslo_reports/log_dir').with_value('/var/log/keystone') is_expected.to contain_keystone_config('oslo_reports/file_event_handler').with_value('/var/tmp/keystone/reports') is_expected.to contain_keystone_config('oslo_reports/file_event_handler_interval').with_value(1) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end include_examples 'oslo::reports' end end end ",,91,0
openstack%2Fcharm-neutron-gateway~master~I220748339160984ce9b271c0ca9b7789acacba86,openstack/charm-neutron-gateway,master,I220748339160984ce9b271c0ca9b7789acacba86,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 16:58:46.000000000,2021-08-17 05:36:50.000000000,2021-08-17 05:36:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-06 16:58:46.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/db7c249581eea2724800284cb2c1925cfef9cae4', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: I220748339160984ce9b271c0ca9b7789acacba86\n""}]",0,803789,db7c249581eea2724800284cb2c1925cfef9cae4,10,3,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: I220748339160984ce9b271c0ca9b7789acacba86
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/89/803789/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,db7c249581eea2724800284cb2c1925cfef9cae4,juju-config-not-set, juju config neutron-gateway instance-mtu=1400, juju set neutron-gateway instance-mtu=1400,1,1
openstack%2Fpuppet-neutron~master~I0921a1d7012a76b9e6523715ea569f2476426d6a,openstack/puppet-neutron,master,I0921a1d7012a76b9e6523715ea569f2476426d6a,Get rid of deprecated is_array method,MERGED,2021-08-11 14:10:10.000000000,2021-08-17 04:09:05.000000000,2021-08-17 04:09:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 14:10:10.000000000', 'files': ['spec/classes/neutron_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a60669b6e46e4f00570a0c39bf3dfd286e28f5a3', 'message': 'Get rid of deprecated is_array method\n\n... and update the logic to handle neutron::service_plugins to follow\nexisting implementations to handle ListOpt. The updated logic allows\nusing a flat string which is useful when only one item is used. Also,\nit is enforced the actual parameter is removed from conf file when\nthe puppet parameter is set to $::os_service_default.\n\nCloses-Bug: #1939088\nChange-Id: I0921a1d7012a76b9e6523715ea569f2476426d6a\n'}]",0,804244,a60669b6e46e4f00570a0c39bf3dfd286e28f5a3,17,3,1,9816,,,0,"Get rid of deprecated is_array method

... and update the logic to handle neutron::service_plugins to follow
existing implementations to handle ListOpt. The updated logic allows
using a flat string which is useful when only one item is used. Also,
it is enforced the actual parameter is removed from conf file when
the puppet parameter is set to $::os_service_default.

Closes-Bug: #1939088
Change-Id: I0921a1d7012a76b9e6523715ea569f2476426d6a
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/44/804244/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_init_spec.rb', 'manifests/init.pp']",2,a60669b6e46e4f00570a0c39bf3dfd286e28f5a3,bug/1939088," neutron_config { 'DEFAULT/service_plugins': value => join(any2array($service_plugins), ',')"," if ! is_service_default ($service_plugins) and ($service_plugins) { if is_array($service_plugins) { neutron_config { 'DEFAULT/service_plugins': value => join($service_plugins, ',') } } else { fail('service_plugins should be an array.') }",5,8
openstack%2Ftripleo-ci~master~I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76,openstack/tripleo-ci,master,I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76,Removed unused db and wal,MERGED,2021-01-28 15:53:05.000000000,2021-08-17 03:13:50.000000000,2021-08-17 03:13:50.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 31896}]","[{'number': 1, 'created': '2021-01-28 15:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a5f36d1a9f2b05eaa8f06755b80f14688635def', 'message': ""WIP/DNM - Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However\ndue to [1] we can't specify db and wal using a path.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\n[1] https://tracker.ceph.com/issues/46558\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n""}, {'number': 2, 'created': '2021-08-06 08:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37a1a91736a64cb3f914ed3197b1d66ddab4595e', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 3, 'created': '2021-08-06 09:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c395f504029180d5b8ca018476ef3a221e61f29c', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 4, 'created': '2021-08-06 12:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02efee2784ea83379b92df0a5191dec5500e8a39', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 5, 'created': '2021-08-06 12:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ef52241001e21356f3ca63ad85ec9f429cc975a', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 6, 'created': '2021-08-06 17:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23198809c8cbc75f478484b5611f87092011e12f', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 7, 'created': '2021-08-09 10:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/487fe743ea0bc167a89ac48342e7dad7fb08941d', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 8, 'created': '2021-08-10 14:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfa6d5aec0bbb3fae00c93e0a99ec7991a8c0698', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}, {'number': 9, 'created': '2021-08-11 14:42:53.000000000', 'files': ['roles/ceph-loop-device/tasks/main.yml', 'roles/ceph-loop-device/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbff292028e118c1cfe6245c01db5aa5349ae2a4', 'message': 'Removed unused db and wal\n\nCeph cluster is now provisioned by cephadm using a spec\nwhere disks and logical volumes can be defined. However,\ncephadm takes care about defining the disk layout if\nnothing is specified.\nThe purpose of the patch is to remove the unused logical\nvolumes and keep the one needed to build the osd in CI.\n\nDepends-On: I116a0e9d7fadca525c1e8f5328df77235379c09c\nChange-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\n'}]",7,772896,bbff292028e118c1cfe6245c01db5aa5349ae2a4,58,8,9,25402,,,0,"Removed unused db and wal

Ceph cluster is now provisioned by cephadm using a spec
where disks and logical volumes can be defined. However,
cephadm takes care about defining the disk layout if
nothing is specified.
The purpose of the patch is to remove the unused logical
volumes and keep the one needed to build the osd in CI.

Depends-On: I116a0e9d7fadca525c1e8f5328df77235379c09c
Change-Id: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/772896/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph-loop-device/tasks/main.yml', 'roles/ceph-loop-device/defaults/main.yml']",2,7a5f36d1a9f2b05eaa8f06755b80f14688635def,cephadm_container_promotion,,ceph_logical_volume_wal: ceph_lv_wal ceph_logical_volume_db: ceph_lv_db,1,5
openstack%2Fcyborg~master~If503b922b0271581a05f5ff4016b9a00b908f2e4,openstack/cyborg,master,If503b922b0271581a05f5ff4016b9a00b908f2e4,Resolve mysql conflict message,MERGED,2021-08-13 02:27:29.000000000,2021-08-17 02:53:56.000000000,2021-08-17 02:52:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-13 02:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1c9b16ace5b2eecc8f066875d1098c2e6ad6a7bb', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n'}, {'number': 2, 'created': '2021-08-16 09:22:28.000000000', 'files': ['cyborg/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b4f0fd69410dea38810be10a08984db29c699523', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n'}]",1,804469,b4f0fd69410dea38810be10a08984db29c699523,12,4,2,31412,,,0,"Resolve mysql conflict message

Mysql duplicate key error message changed, so resolve it as reference link:
https://review.opendev.org/c/openstack/oslo.db/+/792124

Closes-Bug: #1939970
Change-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/69/804469/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,1c9b16ace5b2eecc8f066875d1098c2e6ad6a7bb,bug/1939970," # mysql duplicate key error changed as reference link below: # https://review.opendev.org/c/openstack/oslo.db/+/792124 LOG.info('Duplicate columns are: ', e.columns) columns = [column.split('0')[1] if 'uniq_' in column else column for column in e.columns] if 'name' in columns:", if 'name' in e.columns:,6,1
openstack%2Ftrove~master~I0140da9d9bea575d947fd48004088a258d95b5a9,openstack/trove,master,I0140da9d9bea575d947fd48004088a258d95b5a9,Doc: Upgrade trove guest agent,MERGED,2021-08-17 01:56:58.000000000,2021-08-17 02:33:38.000000000,2021-08-17 02:32:17.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 01:56:58.000000000', 'files': ['doc/source/admin/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/c3a8930eb152072ab71ccc6033862b3ec45f5e4f', 'message': 'Doc: Upgrade trove guest agent\n\nChange-Id: I0140da9d9bea575d947fd48004088a258d95b5a9\n'}]",0,804809,c3a8930eb152072ab71ccc6033862b3ec45f5e4f,7,2,1,6732,,,0,"Doc: Upgrade trove guest agent

Change-Id: I0140da9d9bea575d947fd48004088a258d95b5a9
",git fetch https://review.opendev.org/openstack/trove refs/changes/09/804809/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrade.rst'],1,c3a8930eb152072ab71ccc6033862b3ec45f5e4f,doc-rebuild-instance,"Skip this section if you are using Trove Victoria or newer version. The steps below only applied to the cloud with Trove Ussuri. .. note:: The latest version of python-troveclient to communicate with Trove Ussuri is 3.3.1. Some CLI parameters are changed since Victoria release. In this example, we create a new db instance and use this instance for upgrade testing. .. code-block:: console $ openstack database instance create test \ $flavorid \ --size 1 \ --nic net-id=$netid \ --datastore mysql --datastore-version 5.7 \ --databases testdb --users user:password \ --is-public $ openstack database instance list +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ | ID | Name | Datastore | Datastore Version | Status | Addresses | Flavor ID | Size | Region | +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | test | mysql | 5.7 | HEALTHY | 10.111.0.27, 172.30.5.107 | 55d9c9ac-b136-4dcf-9a1d-ecb7077697f9 | 1 | RegionOne | +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ In order to test upgrade, we insert some data to the database: .. code-block:: console $ ip=172.30.5.107 $ mysql -u user -ppassword -h $ip testdb CREATE TABLE Persons (PersonID int, LastName varchar(255), FirstName varchar(255), Address varchar(255), City varchar(255)); insert into Persons VALUES (1, 'Kong', 'Lingxian', '150 Willis Street', 'Wellington'); Now we create a backup for the instance: .. code-block:: console $ dbid=adae9a37-2c14-4dcb-9abd-66b8c3d5808b $ openstack database backup create $dbid backup-01 $ openstack database backup list +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ | ID | Instance ID | Name | Status | Parent ID | Updated | +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ | 5c21437f-02b3-43e0-8108-99a3497d68ad | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | backup-01 | COMPLETED | None | 2020-08-13T10:30:09 | +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ $ openstack database backup show 5c21437f-02b3-43e0-8108-99a3497d68ad +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ | Field | Value | +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ | created | 2020-08-13T10:30:02 | | datastore | mysql | | datastore_version | 5.7 | | datastore_version_id | 8008a4ca-9124-40ea-a24b-13d53fc9b355 | | description | None | | id | 5c21437f-02b3-43e0-8108-99a3497d68ad | | instance_id | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | | locationRef | http://10.0.19.85:8080/v1/AUTH_7e42f87f5d504da9a70cf781a98e0179/database_backups/5c21437f-02b3-43e0-8108-99a3497d68ad.xbstream.gz | | name | backup-01 | | parent_id | None | | size | 0.12 | | status | COMPLETED | | updated | 2020-08-13T10:30:09 | +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ $ openstack object list database_backups +--------------------------------------------------+ | Name | +--------------------------------------------------+ | 5c21437f-02b3-43e0-8108-99a3497d68ad.xbstream.gz | +--------------------------------------------------+#. Update the existing datastore version using the new guest image. --file ${imagefile-path} \ If the datastore version is already configured with image tag, e.g. we use ``trove`` here, you don't need to do anything, trove can pick up the new image automatically for creating new instances. Otherwise, you need to either config image ID for the datastore version or update the datastore version to use image tag. Update image ID of the datastore version: .. code-block:: console $ openstack datastore version set <datastore-version-id> --image $imageid Or, to use image tag for the datastore version: .. code-block:: console $ openstack datastore version set <datastore-version-id> --image-tags trove* Upgrade from Ussuri.* Upgrade from Victoria or newer release. From Victoria release, trove provides API to rebuild the existing instances using the new guest image, the IP address and configurations won't change after instance rebuild. The rebuild API is only available to cloud administrators by default. .. caution:: During rebuild, the existing database connections will be dropped, the cloud users must be notified. .. code-block:: console $ openstack database instance rebuild $dbid $imageid Once the instance is back to HEALTHY, you can verify the data using the same database connection string as before.","* If you are using Trove Ussuri. .. note:: The latest version of python-troveclient to communicate with Trove Ussuri is 3.3.1. Some CLI parameters are changed since Victoria release. In this example, we create a new db instance and use the instance for upgrade testing. .. code-block:: console $ openstack database instance create test \ $flavorid \ --size 1 \ --nic net-id=$netid \ --datastore mysql --datastore-version 5.7 \ --databases testdb --users user:password \ --is-public $ openstack database instance list +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ | ID | Name | Datastore | Datastore Version | Status | Addresses | Flavor ID | Size | Region | +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | test | mysql | 5.7 | HEALTHY | 10.111.0.27, 172.30.5.107 | 55d9c9ac-b136-4dcf-9a1d-ecb7077697f9 | 1 | RegionOne | +--------------------------------------+------+-----------+-------------------+---------+---------------------------+--------------------------------------+------+-----------+ In order to test upgrade, we insert some data to the database: .. code-block:: console $ ip=172.30.5.107 $ mysql -u user -ppassword -h $ip testdb CREATE TABLE Persons (PersonID int, LastName varchar(255), FirstName varchar(255), Address varchar(255), City varchar(255)); insert into Persons VALUES (1, 'Kong', 'Lingxian', '150 Willis Street', 'Wellington'); Now we create a backup for the instance: .. code-block:: console $ dbid=adae9a37-2c14-4dcb-9abd-66b8c3d5808b $ openstack database backup create $dbid backup-01 $ openstack database backup list +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ | ID | Instance ID | Name | Status | Parent ID | Updated | +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ | 5c21437f-02b3-43e0-8108-99a3497d68ad | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | backup-01 | COMPLETED | None | 2020-08-13T10:30:09 | +--------------------------------------+--------------------------------------+-----------+-----------+-----------+---------------------+ $ openstack database backup show 5c21437f-02b3-43e0-8108-99a3497d68ad +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ | Field | Value | +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ | created | 2020-08-13T10:30:02 | | datastore | mysql | | datastore_version | 5.7 | | datastore_version_id | 8008a4ca-9124-40ea-a24b-13d53fc9b355 | | description | None | | id | 5c21437f-02b3-43e0-8108-99a3497d68ad | | instance_id | adae9a37-2c14-4dcb-9abd-66b8c3d5808b | | locationRef | http://10.0.19.85:8080/v1/AUTH_7e42f87f5d504da9a70cf781a98e0179/database_backups/5c21437f-02b3-43e0-8108-99a3497d68ad.xbstream.gz | | name | backup-01 | | parent_id | None | | size | 0.12 | | status | COMPLETED | | updated | 2020-08-13T10:30:09 | +----------------------+-----------------------------------------------------------------------------------------------------------------------------------+ $ openstack object list database_backups +--------------------------------------------------+ | Name | +--------------------------------------------------+ | 5c21437f-02b3-43e0-8108-99a3497d68ad.xbstream.gz | +--------------------------------------------------+ * If you are using Trove Victoria or newer version. TBD.#. Register new datastore version using the new guest image. --file ${image-path} \ $ trove-manage datastore_version_update mysql 5.7.29 mysql $imageid """" 1 $ trove-manage db_load_datastore_config_parameters mysql 5.7.29 $stackdir/trove/trove/templates/mysql/validation-rules.json* If you are upgrading from Ussuri.* If you are upgrading from Victoria or newer release. TBD. ",93,71
openstack%2Fmagnum~master~I5ba34141e51186304c09d8a37250cbf88fa7b8dd,openstack/magnum,master,I5ba34141e51186304c09d8a37250cbf88fa7b8dd,Dep's should be restricted by upper-constraints,ABANDONED,2020-11-19 09:38:59.000000000,2021-08-17 02:02:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-19 09:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/257cd8b08740536587f1d10fa8c434b4f3822294', 'message': ""Dep's should be restricted by upper-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's upper-constraints.txt\n\nChange-Id: I5ba34141e51186304c09d8a37250cbf88fa7b8dd\n""}, {'number': 2, 'created': '2020-11-30 07:11:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/06095f121d76dff30ac259f84a7ec5b8690234cb', 'message': ""Dep's should be restricted by upper-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's upper-constraints.txt\n\nChange-Id: I5ba34141e51186304c09d8a37250cbf88fa7b8dd\n""}]",0,763328,06095f121d76dff30ac259f84a7ec5b8690234cb,11,2,2,32291,,,0,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: I5ba34141e51186304c09d8a37250cbf88fa7b8dd
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/763328/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,257cd8b08740536587f1d10fa8c434b4f3822294,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Foctavia~master~I9a581030b900e457338373e6f4a11778f4653caf,openstack/octavia,master,I9a581030b900e457338373e6f4a11778f4653caf,Remove install unnecessary packages,ABANDONED,2020-09-14 06:19:50.000000000,2021-08-17 02:02:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-14 06:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bcc0538d51e541d3316e4fa1c11f5ba55e50fcac', 'message': 'Remove install unnecessary packages\n\nThe docs and releasenotes requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I9a581030b900e457338373e6f4a11778f4653caf\n'}, {'number': 2, 'created': '2020-09-14 10:07:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d8b088f196bc65f7447dcd205226b8e554d1cec3', 'message': 'Remove install unnecessary packages\n\nThe docs and releasenotes requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I9a581030b900e457338373e6f4a11778f4653caf\n'}]",0,751650,d8b088f196bc65f7447dcd205226b8e554d1cec3,7,2,2,32291,,,0,"Remove install unnecessary packages

The docs and releasenotes requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I9a581030b900e457338373e6f4a11778f4653caf
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/751650/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bcc0538d51e541d3316e4fa1c11f5ba55e50fcac,,, -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,4
openstack%2Fdesignate~master~I66fde644d86f8ad61e9df1fd98311e0c3dc9994c,openstack/designate,master,I66fde644d86f8ad61e9df1fd98311e0c3dc9994c,remove unicode from code,ABANDONED,2021-03-01 09:50:27.000000000,2021-08-17 02:01:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 09:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a2c0edd2daab8d40c21285bff2e5d164b371f760', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.\n\nChange-Id: I66fde644d86f8ad61e9df1fd98311e0c3dc9994c\n""}, {'number': 2, 'created': '2021-03-02 01:00:48.000000000', 'files': ['designate/tests/__init__.py', 'designate/tests/test_storage/__init__.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/resources/templates/dnsmasq-zone.jinja2', 'designate/tests/test_notification_handler/test_nova.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'doc/source/conf.py', 'designate/tests/test_central/test_service.py', 'designate/network_api/fake.py', 'designate/tests/test_storage/test_sqlalchemy.py', 'api-ref/source/conf.py', 'designate/tests/unit/objects/test_yaml_adapters.py', 'designate/objects/adapters/base.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7441d5c4540f67276f4bb3b728442a021d8ef8fd', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.\n\nChange-Id: I66fde644d86f8ad61e9df1fd98311e0c3dc9994c\n""}]",0,777962,7441d5c4540f67276f4bb3b728442a021d8ef8fd,5,1,2,32291,,,0,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: I66fde644d86f8ad61e9df1fd98311e0c3dc9994c
",git fetch https://review.opendev.org/openstack/designate refs/changes/62/777962/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/tests/test_storage/__init__.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/resources/templates/dnsmasq-zone.jinja2', 'designate/tests/test_notification_handler/test_nova.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'doc/source/conf.py', 'designate/tests/test_central/test_service.py', 'designate/network_api/fake.py', 'designate/tests/test_storage/test_sqlalchemy.py', 'api-ref/source/conf.py', 'designate/tests/unit/objects/test_yaml_adapters.py', 'designate/objects/adapters/base.py', 'releasenotes/source/conf.py']",14,a2c0edd2daab8d40c21285bff2e5d164b371f760,,"project = 'Designate Release Notes' copyright = '2015, Designate Developers' ('index', 'DesignateReleaseNotes.tex', 'Designate Release Notes ' 'Documentation', 'Designate Developers', 'manual'), ('index', 'designatereleasenotes', 'Designate Release Notes ' 'Documentation', ['Designate Developers'], 1) ('index', 'DesignateReleaseNotes', 'Designate Release Notes ' 'Documentation', 'Designate Developers', 'DesignateReleaseNotes',","project = u'Designate Release Notes' copyright = u'2015, Designate Developers' ('index', 'DesignateReleaseNotes.tex', u'Designate Release Notes ' u'Documentation', u'Designate Developers', 'manual'), ('index', 'designatereleasenotes', u'Designate Release Notes ' u'Documentation', [u'Designate Developers'], 1) ('index', 'DesignateReleaseNotes', u'Designate Release Notes ' u'Documentation', u'Designate Developers', 'DesignateReleaseNotes',",111,111
openstack%2Fosprofiler~master~I0222b6bd52be1cd46b9df89ee8da9cd0ebbe691b,openstack/osprofiler,master,I0222b6bd52be1cd46b9df89ee8da9cd0ebbe691b,Remove lower-constraints remnants,ABANDONED,2021-02-20 01:35:56.000000000,2021-08-17 02:00:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-20 01:35:56.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/11b1d05191655ddd2609bec827301d4c4cf7e8fa', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change: Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04\n\nChange-Id: I0222b6bd52be1cd46b9df89ee8da9cd0ebbe691b\n'}]",0,776770,11b1d05191655ddd2609bec827301d4c4cf7e8fa,7,1,1,32291,,,0,"Remove lower-constraints remnants

These were missed in change: Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04

Change-Id: I0222b6bd52be1cd46b9df89ee8da9cd0ebbe691b
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/70/776770/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,11b1d05191655ddd2609bec827301d4c4cf7e8fa,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,27
openstack%2Ftripleo-ansible~master~Ia8712a253d73609c121dd69243a3b222c6748e6d,openstack/tripleo-ansible,master,Ia8712a253d73609c121dd69243a3b222c6748e6d,Action module for bulk host prep,MERGED,2021-07-06 19:09:03.000000000,2021-08-17 01:26:46.000000000,2021-08-17 01:25:18.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-06 19:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e40eb2bd592e1ed185d1c9f1bc2a8eb2531fe8aa', 'message': '[WIP] Action module for bulk host prep\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 2, 'created': '2021-07-06 20:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55b49c1ad798f071ca8a9af061500d0f2babe206', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 3, 'created': '2021-07-06 21:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da11adc8a10a30b90f47ef9e7597f015b9641f45', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 4, 'created': '2021-07-06 22:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e93a2f099f612ea5a2a21d6661c7d4f1cf376fde', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 5, 'created': '2021-07-07 15:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02461a51911344d60a1fe93f572267d393bea255', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 6, 'created': '2021-07-07 17:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa016cfc1f6e4be1de8d3f466a10528429366b2c', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 7, 'created': '2021-07-07 18:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/434820c7a0a1a8e5d498cfdf26e3a9f07a643c29', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 8, 'created': '2021-07-07 18:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26b62f18da5297d7a44755ff7e8f24061e1470cb', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 9, 'created': '2021-07-07 18:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c399ab2d73257b675209041aba33914f8a39079e', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 10, 'created': '2021-07-07 19:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a29cfb0814af55b6780ec17907247eba12f2c714', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 11, 'created': '2021-07-07 19:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f674e0be33e98f7f7cf4b8cfb6fcf1f479fa9b7', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 12, 'created': '2021-07-08 13:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5fd3ef2d7cb07eec9b74b1812ffc9cbddd25b87e', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 13, 'created': '2021-07-08 17:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb2a57f2621045409cbad51b2161ff8cb9c0b8dc', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 14, 'created': '2021-07-26 20:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a86c04699d6f361255716a24e63b8c231fdfebe', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 15, 'created': '2021-07-27 17:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f6bf7990fd1fe9a1b15458678bb49e3a462c0e0', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 16, 'created': '2021-07-27 18:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6750cf2071c50b5756cacf4e89da9242a4e5f9b7', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 17, 'created': '2021-07-27 18:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f288d80657638cf7c1c803a58fd5eb196ef5031', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 18, 'created': '2021-07-27 18:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e059f7aca5fb3464bb88b9334ece4ef39f7b326', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 19, 'created': '2021-07-27 19:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee2f6b1adf0f7b573d2715c419676a32fbb530f7', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}, {'number': 20, 'created': '2021-07-28 15:12:30.000000000', 'files': ['doc/source/modules/action-tripleo_host_prep.rst', 'tripleo_ansible/ansible_plugins/action/tripleo_host_prep.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6991db3a1d9a9e51437e7be689e011d35edb233b', 'message': 'Action module for bulk host prep\n\nIn order to reduce the overall tasks that we perform, we can batch up\nmuch of the host prep actions into an action plugin to execute them much\nmore efficiently than the standalone tasks.  This change creates a\ntripleo_host_prep action plugin that runs through data provided via\nhost_prep_data.  The plugin creates groups, then users, then\ndirectories, then files, then applies seboolean and finally applies\nsefcontext.\n\nChange-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d\n'}]",13,799712,6991db3a1d9a9e51437e7be689e011d35edb233b,67,8,20,14985,,,0,"Action module for bulk host prep

In order to reduce the overall tasks that we perform, we can batch up
much of the host prep actions into an action plugin to execute them much
more efficiently than the standalone tasks.  This change creates a
tripleo_host_prep action plugin that runs through data provided via
host_prep_data.  The plugin creates groups, then users, then
directories, then files, then applies seboolean and finally applies
sefcontext.

Change-Id: Ia8712a253d73609c121dd69243a3b222c6748e6d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/799712/17 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_host_prep.py'],1,e40eb2bd592e1ed185d1c9f1bc2a8eb2531fe8aa,host-prep-files,"#!/usr/bin/env python3 # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type import yaml from ansible.errors import AnsibleActionFail from ansible.plugins.action import ActionBase from ansible.utils.display import Display DISPLAY = Display() ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: tripleo_host_prep author: - Alex Schultz <aschultz@redhat.com> version_added: '2.9' short_description: Apply host prep data to a sost notes: [] description: - This module processes a complex hash provided to it that expresses users, groups, files, directories and some selinux related options that should applied to the host. options: host_prep_data: description: - Dictionary containing users, groups, files, directories, etc to apply required: True type: dict debug: description: - Whether or not debug is enabled. default: False required: False type: bool """""" EXAMPLES = """""" - name: Apply host prep tripleo_host_prep: host_prep_data: service_a: files: ""/var/tmp/foo/bar"": content: | data mode: ""0644"" directories: ""/var/tmp/foo"": mode: ""0700"" """""" RETURN = """""" """""" class ActionModule(ActionBase): """"""Tripleo host prep module """""" _VALID_ARGS = yaml.safe_load(DOCUMENTATION)['options'] class PrepTaskFailure(Exception): """"""exception to stop processing"""""" def _get_args(self): missing = [] args = {} for option, vals in self._VALID_ARGS.items(): if 'default' not in vals: if self._task.args.get(option, None) is None: missing.append(option) continue args[option] = self._task.args.get(option) else: args[option] = self._task.args.get(option, vals['default']) if missing: raise AnsibleActionFail('Missing required parameters: {}'.format( ', '.join(missing))) return args def _get_data_type(self, data_type): return [svc[1].get(data_type) for svc in self.host_prep_data.items()] def _handle_result(self, result): if result.get('changed', False): self.changed = True if result.get('failed', False): self.fail_result = result raise self.PrepTaskFailure() def apply_groups(self, task_vars): data_groups = self._get_data_type('groups') for group_data in data_groups: for group in group_data.keys(): # create group args = group_data[group] args['name'] = group group_result = self._execute_module( module_name='group', module_args=args, task_vars=task_vars ) self._handle_result(group_result) def apply_users(self, task_vars): data_users = self._get_data_type('users') for user_data in data_users: for user in user_data.keys(): # create user args = user_data[user] args['name'] = user user_result = self._execute_module( module_name='user', module_args=args, task_vars=task_vars ) self._handle_result(user_result) def apply_dirs(self, task_vars): data_dirs = self._get_data_type('directories') for dir_data in data_dirs: for dirname in dir_data.keys(): # create dir args = dir_data[dirname] args['path'] = dirname dir_result = self._execute_module( module_name='file', module_args=args, task_vars=task_vars ) self._handle_result(dir_result) def apply_files(self, task_vars): data_files = self._get_data_type('files') for file_data in data_files: for filename in file_data.keys(): # create file args = file_data[filename] args['dest'] = filename file_result = self._execute_module( module_name='copy', module_args=args, task_vars=task_vars ) self._handle_result(file_result) def apply_seboolean(self, task_vars): data_sebools = self._get_data_type('seboolean') for sebool_data in data_sebools: for sebool in sebool_data.keys(): # mnage seboolean args = sebool_data[sebool] args['name'] = sebool sebool_result = self._execute_module( module_name='ansible.posix.seboolean', module_args=args, task_vars=task_vars ) self._handle_result(sebool_result) def apply_sefcontext(self, task_vars): data_sefctxs = self._get_data_type('sefcontext') for sefctx_data in data_sefctxs: for sefctx in sefctx_data.keys(): # mnage sefctxean args = sefctx_data[sefctx] args['target'] = sefctx sefctx_result = self._execute_module( module_name='community.general.sefcontext', module_args=dict(), task_vars=task_vars ) self._handle_result(sefctx_result) def run(self, tmp=None, task_vars=None): self._supports_check_mode = True self.changed = False if task_vars is None: task_vars = dict() result = super(ActionModule, self).run(tmp, task_vars) del tmp # parse args args = self._get_args() self.fail_result = None self.host_prep_data = args['host_prep_data'] self.debug = args['debug'] try: self.apply_groups(task_vars) self.apply_users(task_vars) self.apply_dirs(task_vars) self.apply_files(task_vars) self.apply_seboolean(task_vars) self.apply_sefcontext(task_vars) except self.PrepTaskFailure: return self.fail_result result['changed'] = self.changed return result ",,225,0
openstack%2Fkeystoneauth~master~I7ba0d837a5eca6767a2050a3ae9b9587178b65a3,openstack/keystoneauth,master,I7ba0d837a5eca6767a2050a3ae9b9587178b65a3,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-05 02:45:33.000000000,2021-08-17 00:56:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-05 02:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/dded929963c1c685440d10fcade6832c6e12e2c9', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I7ba0d837a5eca6767a2050a3ae9b9587178b65a3\n'}, {'number': 2, 'created': '2021-05-05 02:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e5df7943d016a1875152c6fa8c847312117bfea6', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7ba0d837a5eca6767a2050a3ae9b9587178b65a3\n""}, {'number': 3, 'created': '2021-08-13 09:09:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b2cd5ea8c0a3f1eb9454d31cc7f222de305af7cd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead aaa\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7ba0d837a5eca6767a2050a3ae9b9587178b65a3\n""}]",0,789699,b2cd5ea8c0a3f1eb9454d31cc7f222de305af7cd,6,1,3,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead aaa

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7ba0d837a5eca6767a2050a3ae9b9587178b65a3
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/99/789699/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dded929963c1c685440d10fcade6832c6e12e2c9,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/keystoneauth/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/keystoneauth/latest/ python-requires = >=3.6,4,4
openstack%2Fswift~master~If7d39ac0dfbe991d835b76eb79ae978fc2fd3520,openstack/swift,master,If7d39ac0dfbe991d835b76eb79ae978fc2fd3520,Add a project scope read-only role to keystoneauth,MERGED,2021-07-24 02:34:53.000000000,2021-08-16 23:43:40.000000000,2021-08-16 23:42:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 02:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9867e4b4089b027a13e66bcbaa053f403d30b90d', 'message': 'DNM: Add a project scope read-only role to keystoneauth\n\nThis is a stake in the ground patch for more of the\n""Consistent and Secure Default Policies"".\nWe already have system scope personas, but they\nare asking for project scope now.\nAt least we don\'t have domain scope.\n\nTODO: tests\nChange-Id: If7d39ac0dfbe991d835b76eb79ae978fc2fd3520\n'}, {'number': 2, 'created': '2021-08-02 19:52:16.000000000', 'files': ['test/unit/common/middleware/test_keystoneauth.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/keystoneauth.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6198284839374faed6df884bc9246d72075a6b56', 'message': 'Add a project scope read-only role to keystoneauth\n\nThis patch continues work for more of the ""Consistent and\nSecure Default Policies"". We already have system scope\npersonas implemented, but the architecture people are asking\nfor project scope now. At least we don\'t need domain scope.\n\nChange-Id: If7d39ac0dfbe991d835b76eb79ae978fc2fd3520\n'}]",3,802138,6198284839374faed6df884bc9246d72075a6b56,16,2,2,597,,,0,"Add a project scope read-only role to keystoneauth

This patch continues work for more of the ""Consistent and
Secure Default Policies"". We already have system scope
personas implemented, but the architecture people are asking
for project scope now. At least we don't need domain scope.

Change-Id: If7d39ac0dfbe991d835b76eb79ae978fc2fd3520
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/802138/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/proxy-server.conf-sample', 'swift/common/middleware/keystoneauth.py']",2,9867e4b4089b027a13e66bcbaa053f403d30b90d,rbac/project_reader," service_roles=[], project_reader_roles=[])) # Give unconditional access to a user with the reseller_admin role. # Being in system_reader_roles is almost as good as reseller_admin. # The project_reader_roles is almost as good as operator_roles. But # it does not work with service tokens and does not get 'swift_owner'. # And, it only serves GET requests, obviously. project_reader_roles = self.account_rules[account_prefix][ 'project_reader_roles'] have_reader_role = set(project_reader_roles).intersection( set(user_roles)) if have_reader_role: if req.method in ('GET', 'HEAD'): msg = 'User %s with role(s) %s has project reader authorizing' self.logger.debug(msg, tenant_id, ','.join(project_reader_roles)) return ", service_roles=[])) # Give unconditional access to a user with the reseller_admin # role. # The system_reader_role is almost as good as reseller_admin.,23,4
openstack%2Fswift~master~I026b699fc5f0fba619cf524093632d67ca38d32f,openstack/swift,master,I026b699fc5f0fba619cf524093632d67ca38d32f,container-server: return objects of a given policy,MERGED,2021-08-04 07:21:46.000000000,2021-08-16 23:02:50.000000000,2021-08-16 23:01:05.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 07:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d257c8998192afb393c72889f6349cc1581951b', 'message': ""conatiner-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards and\nthere can be a tail before a roots storage policy index is migrated to\nit's shards. Especially in the case of a delete and creating the new\ncontainer again with a new policy.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe roots policy to the shards. And the shards are happy to take them.\nBut when it comes to GETs, the root forwards the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) becuase\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker. This header isn't\nadded between the Proxy -> Container servers by default.\n\nThis patch adds the root containers policy as this header to the proxy\ncontainer controllers `_get_from_shards` method which is used to build up\nthe GET response for a shard container.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 2, 'created': '2021-08-05 03:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9852ac9263a98403a8667e5b74ca842ed0943977', 'message': ""conatiner-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards and\nthere can be a tail before a roots storage policy index is migrated to\nit's shards. Especially in the case of a delete and creating the new\ncontainer again with a new policy.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe roots policy to the shards. And the shards are happy to take them.\nBut when it comes to GETs, the root forwards the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) becuase\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker. This header isn't\nadded between the Proxy -> Container servers by default.\n\nThis patch adds the root containers policy as this header to the proxy\ncontainer controllers `_get_from_shards` method which is used to build up\nthe GET response for a shard container.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 3, 'created': '2021-08-05 04:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b54844b0bb1beca29b85bc5c666df018b49198cb', 'message': ""conatiner-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards and\nthere can be a tail before a roots storage policy index is migrated to\nit's shards. Especially in the case of a delete and creating the new\ncontainer again with a new policy.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe roots policy to the shards. And the shards are happy to take them.\nBut when it comes to GETs, the root forwards the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) becuase\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker. This header isn't\nadded between the Proxy -> Container servers by default.\n\nThis patch adds the root containers policy as this header to the proxy\ncontainer controllers `_get_from_shards` method which is used to build up\nthe GET response for a shard container.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 4, 'created': '2021-08-06 00:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/57242c1ab314791a1df7a2d7ff4e3ed411aef5b3', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards the\nshards hold the object metadata for the root container, so are really an\nextension of the root.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe roots policy, to the shards. And the shards are happy to take them.\nBut when it comes to GETs, the root redirects the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) because\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root containers policy as this header to the proxy\ncontainer controllers `_get_from_shards` method which is used by the proxy\nto redirect a GET to a root to it's shards.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 5, 'created': '2021-08-06 10:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e13e3fd0321f13bca2dd0be5bef5c917cb65e7e', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards the\nshards hold the object metadata for the root container, so are really an\nextension of the root.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe root's policy, to the shards. And the shards are happy to take them,\neven if the shard's policy is different to the root's.\nBut when it comes to GETs, the root redirects the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) because\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root containers policy as this header in the proxy\ncontainer controllers `_get_from_shards` method which is used by the proxy\nto redirect a GET to a root to it's shards.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 6, 'created': '2021-08-09 05:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63c6933f5d938bea47c365407ab7cea0b015b033', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards the\nshards hold the object metadata for the root container, so are really an\nextension of the root.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe root's policy, to the shards. And the shards are happy to take them,\neven if the shard's policy is different to the root's.\nBut when it comes to GETs, the root redirects the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) because\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root containers policy as this header in the proxy\ncontainer controllers `_get_from_shards` method which is used by the proxy\nto redirect a GET to a root to it's shards.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 7, 'created': '2021-08-12 01:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f519176ed2bad028cb272203886ae2c758cef93', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and it's shards the\nshards hold the object metadata for the root container, so are really an\nextension of the root.\nWhen we PUT objects in to a root container, it'll redirect them, with\nthe root's policy, to the shards. And the shards are happy to take them,\neven if the shard's policy is different to the root's.\nBut when it comes to GETs, the root redirects the GET onto it's shards\nwhom currently wont respond with objects (which they probably took) because\nthey are of a different policy. When getting objects from the container\nserver, the policy used is always the brokers policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root containers policy as this header in the proxy\ncontainer controllers `_get_from_shards` method which is used by the proxy\nto redirect a GET to a root to it's shards.\n\nFurther, a new header has been added, if the container resp contains an\n`X-Backend-Record-Type: object` header, then it means the response if a\nresponse with objects in it. In this case this patch also adds a\n`X-Backend-Record-Storage-Policy-Index  header so the spi of the given\nobjects is known, as X-Backend-Storage-Policy-Index in the response\n_always_ represents the spi of the container itself.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 8, 'created': '2021-08-12 12:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/91e1f3047bd616db61a75e8947bc26b7365a3552', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and its shards: the\nshards hold the object metadata for the root container, so are really\nan extension of the root.  When we PUT objects in to a root container,\nit'll redirect them, with the root's policy, to the shards. And the\nshards are happy to take them, even if the shard's policy is different\nto the root's.  But when it comes to GETs, the root redirects the GET\nonto it's shards whom currently wont respond with objects (which they\nprobably took) because they are of a different policy. Currently, when\ngetting objects from the container server, the policy used is always\nthe broker's policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root container's policy as this header in the\nproxy container controller's `_get_from_shards` method which is used\nby the proxy to redirect a GET to a root to its shards.\n\nFurther, a new backend response header has been added. If the\ncontainer response contains an `X-Backend-Record-Type: object` header,\nthen it means the response is a response with objects in it. In this\ncase this patch also adds a `X-Backend-Record-Storage-Policy-Index`\nheader so the policy index of the given objects is known, as\nX-Backend-Storage-Policy-Index in the response _always_ represents the\npolicy index of the container itself.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 9, 'created': '2021-08-16 10:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89945a6ae9929eeae91946f212751e6482e52565', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and its shards: the\nshards hold the object metadata for the root container, so are really\nan extension of the root.  When we PUT objects in to a root container,\nit'll redirect them, with the root's policy, to the shards. And the\nshards are happy to take them, even if the shard's policy is different\nto the root's.  But when it comes to GETs, the root redirects the GET\nonto it's shards whom currently wont respond with objects (which they\nprobably took) because they are of a different policy. Currently, when\ngetting objects from the container server, the policy used is always\nthe broker's policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root container's policy as this header in the\nproxy container controller's `_get_from_shards` method which is used\nby the proxy to redirect a GET to a root to its shards.\n\nFurther, a new backend response header has been added. If the\ncontainer response contains an `X-Backend-Record-Type: object` header,\nthen it means the response is a response with objects in it. In this\ncase this patch also adds a `X-Backend-Record-Storage-Policy-Index`\nheader so the policy index of the given objects is known, as\nX-Backend-Storage-Policy-Index in the response _always_ represents the\npolicy index of the container itself.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}, {'number': 10, 'created': '2021-08-16 10:57:06.000000000', 'files': ['swift/container/server.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/56510ab3c31070a1b8720a33d26c8a220e6ce5c9', 'message': ""container-server: return objects of a given policy\n\nThere is a tight coupling between a root container and its shards: the\nshards hold the object metadata for the root container, so are really\nan extension of the root.  When we PUT objects in to a root container,\nit'll redirect them, with the root's policy, to the shards. And the\nshards are happy to take them, even if the shard's policy is different\nto the root's.  But when it comes to GETs, the root redirects the GET\nonto it's shards whom currently wont respond with objects (which they\nprobably took) because they are of a different policy. Currently, when\ngetting objects from the container server, the policy used is always\nthe broker's policy.\n\nThis patch corrects this behaviour by allowing the ability to override\nthe policy index to use. If the request to the container server\ncontains an 'X-Backend-Storage-Policy-Index' header it'll be used\ninstead of the policy index stored in the broker.\n\nThis patch adds the root container's policy as this header in the\nproxy container controller's `_get_from_shards` method which is used\nby the proxy to redirect a GET to a root to its shards.\n\nFurther, a new backend response header has been added. If the\ncontainer response contains an `X-Backend-Record-Type: object` header,\nthen it means the response is a response with objects in it. In this\ncase this patch also adds a `X-Backend-Record-Storage-Policy-Index`\nheader so the policy index of the given objects is known, as\nX-Backend-Storage-Policy-Index in the response _always_ represents the\npolicy index of the container itself.\n\nOn a plus side this new container policy API allows us a way to check\ncontainers for object listing is other policies. So might come in handy\nfor OPs/SREs.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I026b699fc5f0fba619cf524093632d67ca38d32f\n""}]",55,803423,56510ab3c31070a1b8720a33d26c8a220e6ce5c9,50,4,10,7233,,,0,"container-server: return objects of a given policy

There is a tight coupling between a root container and its shards: the
shards hold the object metadata for the root container, so are really
an extension of the root.  When we PUT objects in to a root container,
it'll redirect them, with the root's policy, to the shards. And the
shards are happy to take them, even if the shard's policy is different
to the root's.  But when it comes to GETs, the root redirects the GET
onto it's shards whom currently wont respond with objects (which they
probably took) because they are of a different policy. Currently, when
getting objects from the container server, the policy used is always
the broker's policy.

This patch corrects this behaviour by allowing the ability to override
the policy index to use. If the request to the container server
contains an 'X-Backend-Storage-Policy-Index' header it'll be used
instead of the policy index stored in the broker.

This patch adds the root container's policy as this header in the
proxy container controller's `_get_from_shards` method which is used
by the proxy to redirect a GET to a root to its shards.

Further, a new backend response header has been added. If the
container response contains an `X-Backend-Record-Type: object` header,
then it means the response is a response with objects in it. In this
case this patch also adds a `X-Backend-Record-Storage-Policy-Index`
header so the policy index of the given objects is known, as
X-Backend-Storage-Policy-Index in the response _always_ represents the
policy index of the container itself.

On a plus side this new container policy API allows us a way to check
containers for object listing is other policies. So might come in handy
for OPs/SREs.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I026b699fc5f0fba619cf524093632d67ca38d32f
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/803423/10 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/probe/test_sharder.py', 'swift/proxy/controllers/container.py']",3,8d257c8998192afb393c72889f6349cc1581951b,container-server-return-specified-api-objs, if resp.headers.get('X-Backend-Storage-Policy-Index'): headers['X-Backend-Storage-Policy-Index'] = \ resp.headers['X-Backend-Storage-Policy-Index'],,22,6
openstack%2Frequirements~master~If92460af241fb8025c3ccf7aef82033fc13f6d1e,openstack/requirements,master,If92460af241fb8025c3ccf7aef82033fc13f6d1e,Updated from generate-constraints,MERGED,2021-08-14 06:27:13.000000000,2021-08-16 23:02:29.000000000,2021-08-16 23:01:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 06:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2ce7a0d5066f6d92526484886de36cc26f1e9a61', 'message': 'Updated from generate-constraints\n\nChange-Id: If92460af241fb8025c3ccf7aef82033fc13f6d1e\n'}, {'number': 2, 'created': '2021-08-16 06:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ba4ca79e85f379054df5b409f14e8cec9130014', 'message': 'Updated from generate-constraints\n\nChange-Id: If92460af241fb8025c3ccf7aef82033fc13f6d1e\n'}, {'number': 3, 'created': '2021-08-16 14:03:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e490b2ae60a8bf6b3e7526fed5e0811c56d0073', 'message': 'Updated from generate-constraints\n\nChange-Id: If92460af241fb8025c3ccf7aef82033fc13f6d1e\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,804551,9e490b2ae60a8bf6b3e7526fed5e0811c56d0073,20,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: If92460af241fb8025c3ccf7aef82033fc13f6d1e
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/804551/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2ce7a0d5066f6d92526484886de36cc26f1e9a61,openstack/requirements/constraints/noclob,XStatic-Angular===1.8.2.1zeroconf===0.35.0pkg_resources===0.0.0importlib-metadata===4.6.4boto3===1.18.21botocore===1.21.21fasteners===0.16.3,XStatic-Angular===1.5.8.0zeroconf===0.34.3importlib-metadata===4.6.3boto3===1.18.20botocore===1.21.20fasteners===0.14.1setuptools===57.4.0,7,7
openstack%2Fcharm-neutron-gateway~master~I4f5482425c91b5ad556c384abba7c27137c1948f,openstack/charm-neutron-gateway,master,I4f5482425c91b5ad556c384abba7c27137c1948f,Make fw driver configurable,MERGED,2021-07-20 13:57:59.000000000,2021-08-16 23:01:11.000000000,2021-08-16 23:01:11.000000000,"[{'_account_id': 8992}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 13:57:59.000000000', 'files': ['templates/queens/openvswitch_agent.ini', 'hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/3de85d46c19f23ebb0d6cff1c3ab841236fadea0', 'message': 'Make fw driver configurable\n\nThe neutron-gateway uses the firewall driver just as other nodes\ndo when running neutron-openvswitch-agent. It is currently\nhardcoded to the deprecated iptables_hybrid driver. This patch\nallows the driver to be changed to openvswitch same as with the\nneutron-openvswitch driver with a firewall-driver config option\nthat defaults to iptables_hybrid so as to maintain backwards\ncompatibility.\n\nChange-Id: I4f5482425c91b5ad556c384abba7c27137c1948f\n'}]",0,801471,3de85d46c19f23ebb0d6cff1c3ab841236fadea0,10,4,1,6737,,,0,"Make fw driver configurable

The neutron-gateway uses the firewall driver just as other nodes
do when running neutron-openvswitch-agent. It is currently
hardcoded to the deprecated iptables_hybrid driver. This patch
allows the driver to be changed to openvswitch same as with the
neutron-openvswitch driver with a firewall-driver config option
that defaults to iptables_hybrid so as to maintain backwards
compatibility.

Change-Id: I4f5482425c91b5ad556c384abba7c27137c1948f
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/71/801471/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/openvswitch_agent.ini', 'hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'config.yaml']",4,3de85d46c19f23ebb0d6cff1c3ab841236fadea0,make-fw-driver-configurable, firewall-driver: type: string default: description: | Firewall driver to use to support use of security groups with instances; valid values include iptables_hybrid (default) and openvswitch. This config option is ignored for < Queens.,,30,1
openstack%2Ftripleo-common~stable%2Fvictoria~I4dea9a3915d21de5c81cc25b32c227cfdb26b55d,openstack/tripleo-common,stable/victoria,I4dea9a3915d21de5c81cc25b32c227cfdb26b55d,Replace upgrades template when providers run again,MERGED,2021-08-15 23:01:27.000000000,2021-08-16 22:48:33.000000000,2021-08-16 22:44:18.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-15 23:01:27.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99465a3cc06217d3358937f7329568645c88e07a', 'message': 'Replace upgrades template when providers run again\n\nThe upgrades template was commented out to get\na change through that fixed failing content providers.\n\nThis template can be added back when the two\nrelevant release content provider jobs are\npassing again.\n\nChange-Id: I4dea9a3915d21de5c81cc25b32c227cfdb26b55d\n'}]",0,804592,99465a3cc06217d3358937f7329568645c88e07a,14,6,1,9976,,,0,"Replace upgrades template when providers run again

The upgrades template was commented out to get
a change through that fixed failing content providers.

This template can be added back when the two
relevant release content provider jobs are
passing again.

Change-Id: I4dea9a3915d21de5c81cc25b32c227cfdb26b55d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/804592/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,99465a3cc06217d3358937f7329568645c88e07a,replace-upgrades-victoria, - tripleo-upgrades-victoria-pipeline, #- tripleo-upgrades-victoria-pipeline,1,1
openstack%2Fpuppet-tripleo~master~I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07,openstack/puppet-tripleo,master,I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07,Replace deprecated ip functions,MERGED,2021-08-07 19:00:08.000000000,2021-08-16 22:44:20.000000000,2021-08-16 22:44:20.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-07 19:00:08.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'spec/functions/is_ip_addresses_spec.rb', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/pacemaker/clustercheck.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/base/heat.pp', 'manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'lib/puppet/functions/is_ip_addresses.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e9d96dcec322bc58f3d3d261311f89e708a9522b', 'message': 'Replace deprecated ip functions\n\nThe ip functions in puppetlabs-stdlib are deprecated since 4.13.0[1]\nand should be replaced.\n\nAlso, this change removes the is_ip_addresses method, because now\nthe method is used only with the String variables and can be replaced.\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955\n\nChange-Id: I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07\n'}]",0,803854,e9d96dcec322bc58f3d3d261311f89e708a9522b,16,4,1,9816,,,0,"Replace deprecated ip functions

The ip functions in puppetlabs-stdlib are deprecated since 4.13.0[1]
and should be replaced.

Also, this change removes the is_ip_addresses method, because now
the method is used only with the String variables and can be replaced.

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955

Change-Id: I28f1a718e2d24d5de6cbe40e1b1a68b1072f3f07
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/803854/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'spec/functions/is_ip_addresses_spec.rb', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/pacemaker/clustercheck.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/base/heat.pp', 'manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'lib/puppet/functions/is_ip_addresses.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp']",27,e9d96dcec322bc58f3d3d261311f89e708a9522b,ip_functions, if $memcached_hosts_real[0] =~ Stdlib::Compat::Ipv6 {, if is_ipv6_address($memcached_hosts_real[0]) {,29,70
openstack%2Fpython-tripleoclient~master~Ied4d19af27d1e23327046857c0a849896badff52,openstack/python-tripleoclient,master,Ied4d19af27d1e23327046857c0a849896badff52,Fix --setup-only with ephemeral Heat,ABANDONED,2021-05-11 22:10:59.000000000,2021-08-16 21:42:39.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-11 22:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62dbded2e4f94f62eced63229ff8927a09e052b3', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-12 11:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82723152c873ce91503dafcc4e34fcc298a909d5', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-13 12:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce8a95d2ca6d4023af9f9718c7fb3e13265aa2ec', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-05-14 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7aec4cad9e5c9cd0620ee429a9149c0860df9a3f', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-05-14 22:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a6c5ce3503f13c7d8865f9a42e582e48989957b', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2021-05-15 00:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ccd22065576ecb81557f20ec7ea1e630dc8d60b', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2021-05-17 19:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d9a0e206058224ea9208f41e2fde634c6b607813', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2021-05-17 22:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c54dfc8dfa25abd37d187bccb4544384c9f9a30', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2021-05-18 11:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3ae4e48560050c779c9e5e48a3203231e23aaa24', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 10, 'created': '2021-05-18 13:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f1df369c041588b06afacb03acab9a92707c2f2', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 11, 'created': '2021-05-18 20:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e551eb8e32d8041050434ec9c366ecefa513e2ce', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 12, 'created': '2021-05-19 00:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9134b53a2a62dd67b3998bb8124977683a9a16da', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 13, 'created': '2021-05-19 15:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d50524c0c919fe9fd03b75347f274f0f65dcb9d', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 14, 'created': '2021-05-20 11:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fbe2581c7a61ed0ef06c3b708c344f38c2d60e0', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 15, 'created': '2021-05-21 16:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aba52587d4de1c617b10c071a831204ce3a9b8ca', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 16, 'created': '2021-05-21 16:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ed188c31d392dca106aef6663b2e9c02ceebd77', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 17, 'created': '2021-05-27 15:20:25.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0de0b22247764dbe23b18243fd97202cd5eae7e8', 'message': 'Fix --setup-only with ephemeral Heat\n\nCommit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke\n--setup-only because the parameters for the container images were no\nlonger set when Heat was launched. This commit moves the ephemeral Heat\nlaunch code to be after the paramters are defined.\n\nChange-Id: Ied4d19af27d1e23327046857c0a849896badff52\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",6,790856,0de0b22247764dbe23b18243fd97202cd5eae7e8,60,8,17,7144,,,0,"Fix --setup-only with ephemeral Heat

Commit e36e9562e3e03e078efd545ae55af175ec978cab inadvertently broke
--setup-only because the parameters for the container images were no
longer set when Heat was launched. This commit moves the ephemeral Heat
launch code to be after the paramters are defined.

Change-Id: Ied4d19af27d1e23327046857c0a849896badff52
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/790856/13 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,62dbded2e4f94f62eced63229ff8927a09e052b3,setup-only," if parsed_args.heat_type != 'installed': self.setup_ephemeral_heat( parsed_args, env.get('parameter_defaults')) if parsed_args.setup_only or parsed_args.config_download_only: return self.deploy_tripleo_heat_templates( stack, parsed_args, new_tht_root, user_tht_root, created_env_files) self.log.info(""Removing ephemeral heat pod."")"," if parsed_args.heat_type != 'installed': self.setup_ephemeral_heat( parsed_args, env.get('parameter_defaults')) if not (parsed_args.config_download_only or parsed_args.setup_only): self.deploy_tripleo_heat_templates( stack, parsed_args, new_tht_root, user_tht_root, created_env_files)",13,12
openstack%2Fopenstack-helm-infra~master~I83750731150ff9a276f59e3c1288129581fceba5,openstack/openstack-helm-infra,master,I83750731150ff9a276f59e3c1288129581fceba5,Update RabbitMQ probes,MERGED,2021-08-13 23:12:39.000000000,2021-08-16 21:42:30.000000000,2021-08-16 21:41:13.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-08-13 23:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0bde6c43df3e4b9704e1df1f76a6542f6c155d70', 'message': 'Update RabbitMQ probes\n\nThe current health check that is used for readiness and liveness\nprobes is considered intrusive and is prompt to produce false\npositives[0]. The command is also deprecated and will be removed\nin future version.  Updating the probes based on current\nrecommenation from community[1].\n\nRef:\n[0] https://www.rabbitmq.com/monitoring.html#deprecations\n[1] https://www.rabbitmq.com/monitoring.html#health-checks\n\nChange-Id: I83750731150ff9a276f59e3c1288129581fceba5\n'}, {'number': 2, 'created': '2021-08-13 23:14:31.000000000', 'files': ['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl', 'rabbitmq/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a76480c003dc6c1a522fba1c70278bad04930c2', 'message': 'Update RabbitMQ probes\n\nThe current health check that is used for readiness and liveness\nprobes is considered intrusive and is prompt to produce false\npositives[0]. The command is also deprecated and will be removed\nin future version.  Updating the probes based on current\nrecommenation from community[1].\n\nRef:\n[0] https://www.rabbitmq.com/monitoring.html#deprecations\n[1] https://www.rabbitmq.com/monitoring.html#health-checks\n\nChange-Id: I83750731150ff9a276f59e3c1288129581fceba5\n'}]",0,804550,3a76480c003dc6c1a522fba1c70278bad04930c2,10,4,2,18250,,,0,"Update RabbitMQ probes

The current health check that is used for readiness and liveness
probes is considered intrusive and is prompt to produce false
positives[0]. The command is also deprecated and will be removed
in future version.  Updating the probes based on current
recommenation from community[1].

Ref:
[0] https://www.rabbitmq.com/monitoring.html#deprecations
[1] https://www.rabbitmq.com/monitoring.html#health-checks

Change-Id: I83750731150ff9a276f59e3c1288129581fceba5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/804550/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl']",2,0bde6c43df3e4b9704e1df1f76a6542f6c155d70,update-probes, exec rabbitmq-diagnostics ping, exec rabbitmqctl node_health_check,2,3
openstack%2Fpython-tripleoclient~master~I0d542ea0c6c3c41ffcadc5d8aa95349d23cc716b,openstack/python-tripleoclient,master,I0d542ea0c6c3c41ffcadc5d8aa95349d23cc716b,Set max_template_size for ephemeral Heat,ABANDONED,2021-07-13 00:22:57.000000000,2021-08-16 21:42:27.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 00:22:57.000000000', 'files': ['templates/ephemeral-heat/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9ad04e55533f3fc94681109bd89085d55e48047', 'message': 'Set max_template_size for ephemeral Heat\n\nSet max_template_size to twice the default.\n\nChange-Id: I0d542ea0c6c3c41ffcadc5d8aa95349d23cc716b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,800574,e9ad04e55533f3fc94681109bd89085d55e48047,7,3,1,7144,,,0,"Set max_template_size for ephemeral Heat

Set max_template_size to twice the default.

Change-Id: I0d542ea0c6c3c41ffcadc5d8aa95349d23cc716b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/800574/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ephemeral-heat/heat.conf.j2'],1,e9ad04e55533f3fc94681109bd89085d55e48047,,max_template_size = 1048576,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I5baa697ae351d10e53f7cf70641fe0eecede507f,openstack/tripleo-ansible,stable/train,I5baa697ae351d10e53f7cf70641fe0eecede507f,Add tripleo_ovn_cluster role,MERGED,2021-07-21 19:37:18.000000000,2021-08-16 21:27:11.000000000,2021-08-16 21:23:52.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 19:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee7887ffde6ed9aeed8ccbb88213051d81d7c89b', 'message': ""Add tripleo_ovn_cluster role\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVN's own\nclustering protocol and does not rely on pacemaker.\n\nTHT service: https://review.opendev.org/775444\n\nConflicts:\n  zuul.d/molecule.yaml\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: I5baa697ae351d10e53f7cf70641fe0eecede507f\n""}, {'number': 2, 'created': '2021-08-01 13:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7136aacca8c1b326f6264ad3b7836df1317e3fa', 'message': ""Add tripleo_ovn_cluster role\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVN's own\nclustering protocol and does not rely on pacemaker.\n\nTHT service: https://review.opendev.org/775444\n\nConflicts:\n  zuul.d/molecule.yaml\n\nChanges from master:\n  Added molecule/default/playbook.yml\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: I5baa697ae351d10e53f7cf70641fe0eecede507f\n""}, {'number': 3, 'created': '2021-08-16 11:15:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo_ovn_cluster.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ovn_cluster/defaults/main.yml', 'releasenotes/notes/add-tripleo_ovn_cluster-role-f70990a8282d722e.yaml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2', 'tripleo_ansible/roles/tripleo_ovn_cluster/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/tasks/restart.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/670509e53e994dbcd874386ba96d852aa5263564', 'message': ""Add tripleo_ovn_cluster role\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVN's own\nclustering protocol and does not rely on pacemaker.\n\nTHT service: https://review.opendev.org/775444\n\nConflicts:\n  zuul.d/molecule.yaml\n\nChanges from master:\n  Added molecule/default/playbook.yml\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: I5baa697ae351d10e53f7cf70641fe0eecede507f\n""}]",0,801654,670509e53e994dbcd874386ba96d852aa5263564,18,5,3,20172,,,0,"Add tripleo_ovn_cluster role

We introduce support for running both the NB and SB OVN databases in
clustered mode. This OVN DBs clustered mode is based on OVN's own
clustering protocol and does not rely on pacemaker.

THT service: https://review.opendev.org/775444

Conflicts:
  zuul.d/molecule.yaml

Changes from master:
  Added molecule/default/playbook.yml

Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Change-Id: I5baa697ae351d10e53f7cf70641fe0eecede507f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/801654/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo_ovn_cluster.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ovn_cluster/defaults/main.yml', 'releasenotes/notes/add-tripleo_ovn_cluster-role-f70990a8282d722e.yaml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2', 'tripleo_ansible/roles/tripleo_ovn_cluster/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/tasks/restart.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/converge.yml']",12,ee7887ffde6ed9aeed8ccbb88213051d81d7c89b,stable-train-wip,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all roles: - role: ""tripleo_ovn_cluster"" ",,369,0
openstack%2Fpuppet-pacemaker~stable%2F1.1.x~I1dc3a72a51a4f816bb79986e845798d869223ffe,openstack/puppet-pacemaker,stable/1.1.x,I1dc3a72a51a4f816bb79986e845798d869223ffe,Fix up cluster_setup_extras usage,MERGED,2021-08-15 18:15:07.000000000,2021-08-16 21:23:55.000000000,2021-08-16 21:23:55.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 30126}]","[{'number': 1, 'created': '2021-08-15 18:15:07.000000000', 'files': ['manifests/corosync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/a225e9934f0b00a72de725bfa1059453f90adbac', 'message': 'Fix up cluster_setup_extras usage\n\nThis pairs with https://review.opendev.org/c/openstack/puppet-tripleo/+/739933.\n\nStarting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster setup changed completely\nin an incompatible way and in fact are ignored by puppet-pacemaker.\n\nThis review makes sure ${cluster_setup_extras_real} is taken into account when the cluster\nis set up via pcs 0.10, addressing LP#1886789.\n\nRelated-Bug: #1886789\nChange-Id: I1dc3a72a51a4f816bb79986e845798d869223ffe\n'}]",0,804443,a225e9934f0b00a72de725bfa1059453f90adbac,7,4,1,20172,,,0,"Fix up cluster_setup_extras usage

This pairs with https://review.opendev.org/c/openstack/puppet-tripleo/+/739933.

Starting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster setup changed completely
in an incompatible way and in fact are ignored by puppet-pacemaker.

This review makes sure ${cluster_setup_extras_real} is taken into account when the cluster
is set up via pcs 0.10, addressing LP#1886789.

Related-Bug: #1886789
Change-Id: I1dc3a72a51a4f816bb79986e845798d869223ffe
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/43/804443/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/corosync.pp'],1,a225e9934f0b00a72de725bfa1059453f90adbac,," $cluster_setup_cmd = ""${::pacemaker::pcs_bin} cluster setup ${cluster_name} ${cluster_members_rrp_real} ${cluster_setup_extras_real}"""," $cluster_setup_cmd = ""${::pacemaker::pcs_bin} cluster setup ${cluster_name} ${cluster_members_rrp_real}""",1,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I483484c58ab703f3a4dcede636d733e23b051f63,openstack/puppet-tripleo,stable/train,I483484c58ab703f3a4dcede636d733e23b051f63,Allow tuning of Galera gcache size,MERGED,2021-08-11 05:44:23.000000000,2021-08-16 21:23:54.000000000,2021-08-16 21:23:54.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-11 05:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0cfd9a7fd431c1533409aee5b4a8fd7e907683de', 'message': 'Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allow a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n(cherry picked from commit feed67dcc45eb3da818cc2ceac8cb3682a2b6364)\n'}, {'number': 2, 'created': '2021-08-11 05:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/716057438667f19979c2f70c3a90917d37cc61d5', 'message': 'Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allow a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n(cherry picked from commit feed67dcc45eb3da818cc2ceac8cb3682a2b6364)\n'}, {'number': 3, 'created': '2021-08-16 13:09:17.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5e85d8445da6d94b750b7e24f882ffaf48d271b', 'message': 'Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allow a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nCloses-Bug: #1939540\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n(cherry picked from commit feed67dcc45eb3da818cc2ceac8cb3682a2b6364)\n(cherry picked from commit 1ce9d8855db0e282a4a0c47e9afdee3f7a102c39)\n(cherry picked from commit 165dcb2de05958c68e7e3ed46cd87b72c4f546fc)\n(cherry picked from commit 14d6f9ae31cfa067a6c75bf28d47ca3e052c29e1)\n'}]",0,804155,a5e85d8445da6d94b750b7e24f882ffaf48d271b,15,4,3,30126,,,0,"Allow tuning of Galera gcache size

Appropriate gcache.size values allow a cluster node to perform IST
instead of SST if the writes occurred during its downtime do not exceed
the size of the cache itself.
This is especially beneficial during maintenance windows.

Closes-Bug: #1939540

Change-Id: I483484c58ab703f3a4dcede636d733e23b051f63
(cherry picked from commit feed67dcc45eb3da818cc2ceac8cb3682a2b6364)
(cherry picked from commit 1ce9d8855db0e282a4a0c47e9afdee3f7a102c39)
(cherry picked from commit 165dcb2de05958c68e7e3ed46cd87b72c4f546fc)
(cherry picked from commit 14d6f9ae31cfa067a6c75bf28d47ca3e052c29e1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/804155/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,0cfd9a7fd431c1533409aee5b4a8fd7e907683de,train-gcache,"<<<<<<< HEAD (7f0678 Merge ""Create SSL certificates from sslProfiles"" into stable) ======= # # [*gcache_size*] # (optional) Controls the gcache size. # Defaults to undef # >>>>>>> CHANGE (feed67 Allow tuning of Galera gcache size) $gcache_size = undef, if $gcache_size { $gcache_options = ""gcache.size=${gcache_size};"" } else { $gcache_options = '' } $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}"""," $wsrep_provider_options = ""gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}""",17,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I116a0e9d7fadca525c1e8f5328df77235379c09c,openstack/tripleo-heat-templates,stable/train,I116a0e9d7fadca525c1e8f5328df77235379c09c,Configure Ceph to not use separte db/wal LVs,MERGED,2021-08-08 10:11:29.000000000,2021-08-16 21:23:48.000000000,2021-08-16 21:23:48.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-08 10:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c39bd44556f2485e82b4bdedcc2318ed0c6b1f8', 'message': 'DNM - Testing TRIPLEO CI CHANGE\n\nDepends-On: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\nChange-Id: I116a0e9d7fadca525c1e8f5328df77235379c09c\n(cherry picked from commit 11d7b8ad499faa5c231fbda15da4e680bd4894e5)\n'}, {'number': 2, 'created': '2021-08-10 14:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/801f69c4c503794e66295b5b8d390d0c67a6ceec', 'message': 'Configure Ceph to not use separte db/wal LVs\n\nDepends-On: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\nChange-Id: I116a0e9d7fadca525c1e8f5328df77235379c09c\n'}, {'number': 3, 'created': '2021-08-10 14:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00ee722b4174a421ebebc6634f72964bdac20924', 'message': 'Configure Ceph to not use separte db/wal LVs\n\nDepends-On: I26ae3b3a1ea9ce99d7855d6484bd42fef9360e76\nChange-Id: I116a0e9d7fadca525c1e8f5328df77235379c09c\n(cherry picked from commit 11d7b8ad499faa5c231fbda15da4e680bd4894e5)\n'}, {'number': 4, 'created': '2021-08-11 14:41:56.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12139b5b42424d700c464fda070958f2bf30fb41', 'message': 'Configure Ceph to not use separte db/wal LVs\n\nDepends-On: Ie71b88ef7305c600a63a4765a719890aab337907\nChange-Id: I116a0e9d7fadca525c1e8f5328df77235379c09c\n(cherry picked from commit 11d7b8ad499faa5c231fbda15da4e680bd4894e5)\n'}]",0,803861,12139b5b42424d700c464fda070958f2bf30fb41,29,7,4,25402,,,0,"Configure Ceph to not use separte db/wal LVs

Depends-On: Ie71b88ef7305c600a63a4765a719890aab337907
Change-Id: I116a0e9d7fadca525c1e8f5328df77235379c09c
(cherry picked from commit 11d7b8ad499faa5c231fbda15da4e680bd4894e5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/803861/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,1c39bd44556f2485e82b4bdedcc2318ed0c6b1f8,, Ceph base service. Shared by all Ceph services. - TESTING TRIPLEO_CI, Ceph base service. Shared by all Ceph services.,1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fvictoria~I85b5666fabfd17d4731bfa085a2e89a17b184b3a,openstack/openstack-ansible-os_tempest,stable/victoria,I85b5666fabfd17d4731bfa085a2e89a17b184b3a,Use new openstack.cloud collection names,MERGED,2021-02-18 12:48:22.000000000,2021-08-16 20:47:51.000000000,2021-08-16 20:46:29.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-18 12:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ae6a3ae8d610b33ca4258e7425c89f2713cfbf34', 'message': 'Use new openstack.cloud collection names\n\nos_ prefixed module names are deprecated for a while and will be removed\nCurrent usage generates a warning for users.\n\nChange-Id: I85b5666fabfd17d4731bfa085a2e89a17b184b3a\n(cherry picked from commit 4a2f3e33511ab34d703ef60e9eac15b974e1994e)\n'}, {'number': 2, 'created': '2021-08-16 06:56:42.000000000', 'files': ['tasks/tempest_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9610ccd18de02721db83fe5f741251743be42ecd', 'message': 'Use new openstack.cloud collection names\n\nos_ prefixed module names are deprecated for a while and will be removed\nCurrent usage generates a warning for users.\n\nChange-Id: I85b5666fabfd17d4731bfa085a2e89a17b184b3a\n(cherry picked from commit 4a2f3e33511ab34d703ef60e9eac15b974e1994e)\n'}]",0,776438,9610ccd18de02721db83fe5f741251743be42ecd,30,5,2,28619,,,0,"Use new openstack.cloud collection names

os_ prefixed module names are deprecated for a while and will be removed
Current usage generates a warning for users.

Change-Id: I85b5666fabfd17d4731bfa085a2e89a17b184b3a
(cherry picked from commit 4a2f3e33511ab34d703ef60e9eac15b974e1994e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/38/776438/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_resources.yml'],1,ae6a3ae8d610b33ca4258e7425c89f2713cfbf34,, openstack.cloud.image: openstack.cloud.project: openstack.cloud.identity_user: openstack.cloud.identity_role: openstack.cloud.role_assignment: openstack.cloud.network: openstack.cloud.network: openstack.cloud.subnet: openstack.cloud.subnet: openstack.cloud.router: openstack.cloud.compute_flavor: openstack.cloud.project_info:, openstack.cloud.os_image: openstack.cloud.os_project: openstack.cloud.os_user: openstack.cloud.os_keystone_role: openstack.cloud.os_user_role: openstack.cloud.os_network: openstack.cloud.os_network: openstack.cloud.os_subnet: openstack.cloud.os_subnet: openstack.cloud.os_router: openstack.cloud.os_nova_flavor: openstack.cloud.os_project_info:,12,12
openstack%2Fcharm-nova-cloud-controller~master~I790c35a9c1c385275d8fd0008a592507c008f533,openstack/charm-nova-cloud-controller,master,I790c35a9c1c385275d8fd0008a592507c008f533,Update both cells,ABANDONED,2020-06-15 15:11:32.000000000,2021-08-16 20:09:01.000000000,,"[{'_account_id': 2424}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 15:11:32.000000000', 'files': ['hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/916da6729623de50b11dd714e0affa08223b3985', 'message': 'Update both cells\n\nIn case the shared-db relation changes after a Nova API password\nupdate, both cells should be updated so they use the correct (new)\npassword. Updating only `cell1` is not sufficient as some commands,\ne.g. `openstack usage list`, will access cell0 information as well.\n\nChange-Id: I790c35a9c1c385275d8fd0008a592507c008f533\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,735611,916da6729623de50b11dd714e0affa08223b3985,5,4,1,19298,,,0,"Update both cells

In case the shared-db relation changes after a Nova API password
update, both cells should be updated so they use the correct (new)
password. Updating only `cell1` is not sufficient as some commands,
e.g. `openstack usage list`, will access cell0 information as well.

Change-Id: I790c35a9c1c385275d8fd0008a592507c008f533
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/11/735611/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_utils.py'],1,916da6729623de50b11dd714e0affa08223b3985,cell_update," '''Update the cell0 and cell1 database properties hookenv.log('Updating cell0 properties', level=hookenv.INFO) cell_uuid = get_cell_uuid('cell0') cmd = ['nova-manage', 'cell_v2', 'delete_cell', '--cell_uuid', cell_uuid] try: subprocess.check_output(cmd) except subprocess.CalledProcessError as e: hookenv.log('Cell0 delete_cell failed\n{}'.format(e.output), level=hookenv.ERROR) raise cmd = ['nova-manage', 'cell_v2', 'map_cell0'] try: subprocess.check_output(cmd) except subprocess.CalledProcessError as e: hookenv.log('Cell0 map_cell0 failed\n{}'.format(e.output), level=hookenv.ERROR) raise hookenv.log('cell0 was successfully updated', level=hookenv.INFO) cell_uuid = get_cell_uuid('cell1') cmd = ['nova-manage', 'cell_v2', 'update_cell', '--cell_uuid', cell_uuid]"," '''Update the cell1 database properties cell1_uuid = get_cell_uuid('cell1') cmd = ['nova-manage', 'cell_v2', 'update_cell', '--cell_uuid', cell1_uuid]",23,3
openstack%2Fpuppet-neutron~master~I569fa71e84582b8deb1b45dee6b619d511692b36,openstack/puppet-neutron,master,I569fa71e84582b8deb1b45dee6b619d511692b36,Add support for logging service plugin configuration,MERGED,2021-08-11 10:01:27.000000000,2021-08-16 19:52:45.000000000,2021-08-16 19:51:22.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9b0ba8f610e001fdae5e54d5ef3cf4a18aad37a8', 'message': ""Add support for logging service plugin configuration\n\nThis patch adds possibility to configure logging's service plugin\nin Neutron.\nSee [1] for details.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I569fa71e84582b8deb1b45dee6b619d511692b36\n""}, {'number': 2, 'created': '2021-08-11 10:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6568bb85e5d00b9b76eaf5863af3bb80ac558068', 'message': ""Add support for logging service plugin configuration\n\nThis patch adds possibility to configure logging's service plugin\nin Neutron.\nSee [1] for details.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I569fa71e84582b8deb1b45dee6b619d511692b36\n""}, {'number': 3, 'created': '2021-08-11 10:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/36b24dd8f44216265b10ef0b6bf44c34e5abc0cf', 'message': ""Add support for logging service plugin configuration\n\nThis patch adds possibility to configure logging's service plugin\nin Neutron.\nSee [1] for details.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I569fa71e84582b8deb1b45dee6b619d511692b36\n""}, {'number': 4, 'created': '2021-08-11 11:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cf48eafd66af5d71923055a33e8815c12b8785f2', 'message': ""Add support for logging service plugin configuration\n\nThis patch adds possibility to configure logging's service plugin\nin Neutron.\nSee [1] for details.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I569fa71e84582b8deb1b45dee6b619d511692b36\n""}, {'number': 5, 'created': '2021-08-11 11:38:21.000000000', 'files': ['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb', 'releasenotes/notes/logging-service-plugin-params-c765f0d55b0b7d92.yaml', 'spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/61f4fc966bc23a10433d2dc9597427e322ffdbb6', 'message': ""Add support for logging service plugin configuration\n\nThis patch adds possibility to configure logging's service plugin\nin Neutron.\nSee [1] for details.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I569fa71e84582b8deb1b45dee6b619d511692b36\n""}]",10,804220,61f4fc966bc23a10433d2dc9597427e322ffdbb6,41,7,5,11975,,,0,"Add support for logging service plugin configuration

This patch adds possibility to configure logging's service plugin
in Neutron.
See [1] for details.

[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html

Change-Id: I569fa71e84582b8deb1b45dee6b619d511692b36
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/20/804220/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/l3.pp', 'manifests/agents/ml2/ovs.pp', 'manifests/server.pp', 'manifests/plugins/ml2/ovn.pp']",4,9b0ba8f610e001fdae5e54d5ef3cf4a18aad37a8,log-extension,"# [*logging_rate_limit*] # (Optional) Maximum packets logging per second. # Used by logging service plugin. # Defaults to 100. Minimum possible value is 100. # # [*logging_burst_limit*] # (Optional) Maximum number of packets per rate_limit. # Used by logging service plugin. # Defaults to 25. Minimum possible value is 25. # # [*logging_local_output_log_base*] # (Optional) Output logfile path on agent side, default syslog file. # Used by logging service plugin. # Defaults to undef. # $ovn_nb_connection = $::os_service_default, $ovn_sb_connection = $::os_service_default, $ovn_nb_private_key = $::os_service_default, $ovn_nb_certificate = $::os_service_default, $ovn_nb_ca_cert = $::os_service_default, $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, $package_ensure = 'present', $ovsdb_connection_timeout = $::os_service_default, $neutron_sync_mode = $::os_service_default, $ovn_metadata_enabled = $::os_service_default, $dvr_enabled = $::os_service_default, $dns_servers = $::os_service_default, $vhostuser_socket_dir = $::os_service_default, $ovn_emit_need_to_frag = $::os_service_default, $logging_rate_limit = 100, $logging_burst_limit = 25, $logging_local_output_log_base = undef, $ovn_l3_mode = undef, $vif_type = undef, 'network_log/rate_limit' : value => $logging_rate_limit; 'network_log/burst_limit' : value => $logging_burst_limit; } if $logging_local_output_log_base { neutron_plugin_ml2 { 'network_log/local_output_log_base': value => $logging_local_output_log_base; }"," $ovn_nb_connection = $::os_service_default, $ovn_sb_connection = $::os_service_default, $ovn_nb_private_key = $::os_service_default, $ovn_nb_certificate = $::os_service_default, $ovn_nb_ca_cert = $::os_service_default, $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, $package_ensure = 'present', $ovsdb_connection_timeout = $::os_service_default, $neutron_sync_mode = $::os_service_default, $ovn_metadata_enabled = $::os_service_default, $dvr_enabled = $::os_service_default, $dns_servers = $::os_service_default, $vhostuser_socket_dir = $::os_service_default, $ovn_emit_need_to_frag = $::os_service_default, $ovn_l3_mode = undef, $vif_type = undef,",99,18
openstack%2Fcharm-neutron-openvswitch~master~I06119b4bdc76059dc28a78f80cedd00b8a05f7f8,openstack/charm-neutron-openvswitch,master,I06119b4bdc76059dc28a78f80cedd00b8a05f7f8,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:28:38.000000000,2021-08-16 19:41:09.000000000,2021-08-16 14:27:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-06 17:28:38.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1d1c9dec20d4116f7ce88b2b8994ec1d93d74b1c', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: I06119b4bdc76059dc28a78f80cedd00b8a05f7f8\n""}]",0,803793,1d1c9dec20d4116f7ce88b2b8994ec1d93d74b1c,9,3,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: I06119b4bdc76059dc28a78f80cedd00b8a05f7f8
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/93/803793/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,1d1c9dec20d4116f7ce88b2b8994ec1d93d74b1c,juju-config-not-set, juju config neutron-openvswitch-insecure disable-security-groups=True prevent-arp-spoofing=False, juju set neutron-openvswitch-insecure disable-security-groups=True prevent-arp-spoofing=False,1,1
openstack%2Fcharm-openstack-dashboard~master~I4fe101f6f0bce153637e27ba442cf7cdc872a5fb,openstack/charm-openstack-dashboard,master,I4fe101f6f0bce153637e27ba442cf7cdc872a5fb,Replace references to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:14:52.000000000,2021-08-16 19:34:44.000000000,2021-08-16 14:30:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-06 17:14:52.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/44ddcbb7189402ea64bbd59665ca735a3f5e3b62', 'message': ""Replace references to 'juju set' with 'juju config'.\n\nChange-Id: I4fe101f6f0bce153637e27ba442cf7cdc872a5fb\n""}]",0,803792,44ddcbb7189402ea64bbd59665ca735a3f5e3b62,9,3,1,30028,,,0,"Replace references to 'juju set' with 'juju config'.

Change-Id: I4fe101f6f0bce153637e27ba442cf7cdc872a5fb
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/92/803792/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,44ddcbb7189402ea64bbd59665ca735a3f5e3b62,juju-config-not-set," juju config openstack-dashboard ssl_key=""$(base64 my.key)"" \"," juju set openstack-dashboard ssl_key=""$(base64 my.key)"" \",2,2
openstack%2Fcharm-swift-proxy~master~I906f43b8222baabc2f95a3076ef7329a136102d1,openstack/charm-swift-proxy,master,I906f43b8222baabc2f95a3076ef7329a136102d1,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:32:05.000000000,2021-08-16 19:21:06.000000000,2021-08-16 14:28:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-06 17:32:05.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/82d8f3693c87eb6935edab803d946d88a5a19cdd', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: I906f43b8222baabc2f95a3076ef7329a136102d1\n""}]",0,803795,82d8f3693c87eb6935edab803d946d88a5a19cdd,9,3,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: I906f43b8222baabc2f95a3076ef7329a136102d1
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/95/803795/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,82d8f3693c87eb6935edab803d946d88a5a19cdd,juju-config-not-set," juju config swift-proxy ssl_cert=""$(cat cert | base64)"" \ ssl_key=""$(cat key | base64)"""," juju set swift-proxy ssl_cert=""$(cat cert | base64)"" \ ssl_key=""$(cat key | base64)""",2,2
openstack%2Fmanila~stable%2Fvictoria~I3e6170f8def53aabd4bc5858fa297061e2873477,openstack/manila,stable/victoria,I3e6170f8def53aabd4bc5858fa297061e2873477,TrivialFix: Fix the filter name in config helper,MERGED,2021-07-02 19:08:23.000000000,2021-08-16 19:14:57.000000000,2021-08-16 19:13:35.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-07-02 19:08:23.000000000', 'files': ['manila/share/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/28f6e02dae665e3ec5750f8bed8c6f32d1d1d17d', 'message': 'TrivialFix: Fix the filter name in config helper\n\nThe config `use_scheduler_creating_share_from_snapshot` has the\nhelp message with wrong name of the scheduler filter that the user must\nenable with the option. The filter name is `CreateFromSnapshotFilter`,\ninstead of `CreateShareFromSnapshot`.\n\nChange-Id: I3e6170f8def53aabd4bc5858fa297061e2873477\n(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)\n(cherry picked from commit f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a)\n'}]",0,799250,28f6e02dae665e3ec5750f8bed8c6f32d1d1d17d,14,5,1,16643,,,0,"TrivialFix: Fix the filter name in config helper

The config `use_scheduler_creating_share_from_snapshot` has the
help message with wrong name of the scheduler filter that the user must
enable with the option. The filter name is `CreateFromSnapshotFilter`,
instead of `CreateShareFromSnapshot`.

Change-Id: I3e6170f8def53aabd4bc5858fa297061e2873477
(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)
(cherry picked from commit f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/799250/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/api.py'],1,28f6e02dae665e3ec5750f8bed8c6f32d1d1d17d,, 'CreateFromSnapshotFilter is enabled and to have hosts ', 'CreateShareFromSnapshot is enabled and to have hosts ',1,1
openstack%2Fmanila~stable%2Fvictoria~I5cf9788dcafebdf88426617d2824f4be42dbb412,openstack/manila,stable/victoria,I5cf9788dcafebdf88426617d2824f4be42dbb412,"Filter shares by share type ""extra_specs""",MERGED,2021-07-07 21:01:07.000000000,2021-08-16 19:07:16.000000000,2021-08-16 19:05:31.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 32493}]","[{'number': 1, 'created': '2021-07-07 21:01:07.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/21d5b1b209e6f45b9e689223c4d310dd4ed49b01', 'message': 'Filter shares by share type ""extra_specs""\n\nThis change fixes the query being used to filter share\ntypes. We were using an ""or"" clause instead of an ""and"" clause,\nand that was causing all the extra specs to be shown instead of\nthe ones that the user specified. With this fix, manila users will\nbe able to filter shares by share type extra_specs accurately.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)\n(cherry picked from commit 59a0c147df9e9255b3199fbb6846311f0fe8cef1)\n'}]",0,799915,21d5b1b209e6f45b9e689223c4d310dd4ed49b01,12,5,1,16643,,,0,"Filter shares by share type ""extra_specs""

This change fixes the query being used to filter share
types. We were using an ""or"" clause instead of an ""and"" clause,
and that was causing all the extra specs to be shown instead of
the ones that the user specified. With this fix, manila users will
be able to filter shares by share type extra_specs accurately.

Closes-Bug: #1929121

Change-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412
(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)
(cherry picked from commit 59a0c147df9e9255b3199fbb6846311f0fe8cef1)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/799915/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml']",2,21d5b1b209e6f45b9e689223c4d310dd4ed49b01,bug/1929121,"--- fixes: - | Filtering shares by share-type ""extra_specs"" as key=value now returns the expected output. ",,8,2
openstack%2Fceilometer~stable%2Fvictoria~I369a95cf30e91738d10ad2e5a3d5f6988bdd76cb,openstack/ceilometer,stable/victoria,I369a95cf30e91738d10ad2e5a3d5f6988bdd76cb,Do not install libvirt python bindings from pip,MERGED,2021-08-16 13:43:43.000000000,2021-08-16 18:56:29.000000000,2021-08-16 18:54:54.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:43:43.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4bb024138de392f9fa55bac320003be611ba3d2c', 'message': 'Do not install libvirt python bindings from pip\n\nSince [1] was merged, devstack no longer installs libvirt python\nbindings from pip but use distro packages. This change removes\nthe logic to install the python bindings using pip to follow that\nchange in devstack, otherwise installation fails because of conflict\nbetween packages available in pip and one installed by distro packages.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/798514\n\nConflicts:\n\tdevstack/plugin.sh\n\nResolved conflicts caused by f57a51e43ca7a8903763cc24b1c510fa50a16b2c\nwhich is not backported to stable branches.\n\nCloses-Bug: #1939990\nRelated-Bug: #1933096\nChange-Id: I369a95cf30e91738d10ad2e5a3d5f6988bdd76cb\n(cherry picked from commit 9366bc8f18a07695aa1af9217307b0a55376a331)\n(cherry picked from commit 1b97560c97d8b06ca5568b909ae69eb07d0415fc)\n'}]",0,804722,4bb024138de392f9fa55bac320003be611ba3d2c,9,2,1,9816,,,0,"Do not install libvirt python bindings from pip

Since [1] was merged, devstack no longer installs libvirt python
bindings from pip but use distro packages. This change removes
the logic to install the python bindings using pip to follow that
change in devstack, otherwise installation fails because of conflict
between packages available in pip and one installed by distro packages.

[1] https://review.opendev.org/c/openstack/devstack/+/798514

Conflicts:
	devstack/plugin.sh

Resolved conflicts caused by f57a51e43ca7a8903763cc24b1c510fa50a16b2c
which is not backported to stable branches.

Closes-Bug: #1939990
Related-Bug: #1933096
Change-Id: I369a95cf30e91738d10ad2e5a3d5f6988bdd76cb
(cherry picked from commit 9366bc8f18a07695aa1af9217307b0a55376a331)
(cherry picked from commit 1b97560c97d8b06ca5568b909ae69eb07d0415fc)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/22/804722/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4bb024138de392f9fa55bac320003be611ba3d2c,bug/1939990, # NOTE(tkajinam): pythonN-libvirt is installed using distro # packages in devstack," if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then pip_install_gr libvirt-python fi",2,3
openstack%2Ftripleo-common~stable%2Fwallaby~I8508e7609858cd3511ba659f3bb8ab02eeb476f2,openstack/tripleo-common,stable/wallaby,I8508e7609858cd3511ba659f3bb8ab02eeb476f2,Replace upgrades template when providers run again,MERGED,2021-08-15 22:58:03.000000000,2021-08-16 18:47:03.000000000,2021-08-16 18:42:01.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-15 22:58:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4ae46be51b0f321349071407a32e3d4936a4f82', 'message': 'Replace upgrades template when providers run again\n\nThe upgrades template was commented out to get\na change through that fixed failing content providers.\n\nThis template can be added back when the two\nrelevant release content provider jobs are\npassing again.\n\nChange-Id: I8508e7609858cd3511ba659f3bb8ab02eeb476f2\n'}]",0,804591,d4ae46be51b0f321349071407a32e3d4936a4f82,9,6,1,9976,,,0,"Replace upgrades template when providers run again

The upgrades template was commented out to get
a change through that fixed failing content providers.

This template can be added back when the two
relevant release content provider jobs are
passing again.

Change-Id: I8508e7609858cd3511ba659f3bb8ab02eeb476f2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/804591/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d4ae46be51b0f321349071407a32e3d4936a4f82,replace-upgrades-wallaby, - tripleo-upgrades-wallaby-pipeline, # - tripleo-upgrades-wallaby-pipeline,1,1
openstack%2Fcharm-neutron-api~master~Id63e4f21c36299588364eb6de7806c8c753318ef,openstack/charm-neutron-api,master,Id63e4f21c36299588364eb6de7806c8c753318ef,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:30:10.000000000,2021-08-16 18:46:41.000000000,2021-08-16 14:32:25.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-06 17:30:10.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/3f0855a8d3d1ff8482f3385fcb9d3e4015b17c51', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: Id63e4f21c36299588364eb6de7806c8c753318ef\n""}]",0,803794,3f0855a8d3d1ff8482f3385fcb9d3e4015b17c51,9,3,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: Id63e4f21c36299588364eb6de7806c8c753318ef
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/94/803794/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3f0855a8d3d1ff8482f3385fcb9d3e4015b17c51,juju-config-not-set, juju config neutron-api vip=<VIP FOR ACCESS>, juju set neutron-api vip=<VIP FOR ACCESS>,1,1
openstack%2Ftripleo-heat-templates~master~I6c100f9f0d57806388489806f0493cc78525de20,openstack/tripleo-heat-templates,master,I6c100f9f0d57806388489806f0493cc78525de20,Fix missing ssh key in scenario010 job,MERGED,2021-08-16 12:11:42.000000000,2021-08-16 18:42:05.000000000,2021-08-16 18:42:05.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-16 12:11:42.000000000', 'files': ['ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad942efe79dd175d2e2b4122ca68a99f05fa79cd', 'message': ""Fix missing ssh key in scenario010 job\n\nA recent commit in THT introduced basic support for Octavia ssh key\ngeneration in tripleo-ansible, and it modified the scenario010 job\nparameters in order to use this new method. But as the related\ntripleo-ansible commit\n(https://review.opendev.org/c/openstack/tripleo-ansible/+/783824) hasn't\nbeen merged yet, job is broken. This commit restores the previous\nparameter which uses the current user's ssh key.\n\nChange-Id: I6c100f9f0d57806388489806f0493cc78525de20\n""}]",0,804732,ad942efe79dd175d2e2b4122ca68a99f05fa79cd,11,7,1,29244,,,0,"Fix missing ssh key in scenario010 job

A recent commit in THT introduced basic support for Octavia ssh key
generation in tripleo-ansible, and it modified the scenario010 job
parameters in order to use this new method. But as the related
tripleo-ansible commit
(https://review.opendev.org/c/openstack/tripleo-ansible/+/783824) hasn't
been merged yet, job is broken. This commit restores the previous
parameter which uses the current user's ssh key.

Change-Id: I6c100f9f0d57806388489806f0493cc78525de20
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/804732/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-standalone.yaml'],1,ad942efe79dd175d2e2b4122ca68a99f05fa79cd,, OctaviaAmphoraSshKeyFile: /home/zuul/.ssh/id_rsa.pub,,1,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I2fe738249018e25e79fd726bc931be6b7bd91934,openstack/kolla-ansible,stable/wallaby,I2fe738249018e25e79fd726bc931be6b7bd91934,Validate if running CentOS OS is CentOS Stream,MERGED,2021-08-16 10:40:12.000000000,2021-08-16 18:34:31.000000000,2021-08-16 18:32:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-16 10:40:12.000000000', 'files': ['ansible/roles/prechecks/tasks/host_os_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25d560f741cb701516dc42402ce70c9ded048fcf', 'message': 'Validate if running CentOS OS is CentOS Stream\n\nChange-Id: I2fe738249018e25e79fd726bc931be6b7bd91934\n(cherry picked from commit d56dc34034384e5543698e980b71d911729770df)\n'}]",0,804712,25d560f741cb701516dc42402ce70c9ded048fcf,14,3,1,30491,,,0,"Validate if running CentOS OS is CentOS Stream

Change-Id: I2fe738249018e25e79fd726bc931be6b7bd91934
(cherry picked from commit d56dc34034384e5543698e980b71d911729770df)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/804712/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/host_os_checks.yml'],1,25d560f741cb701516dc42402ce70c9ded048fcf,," - name: Checking if CentOS is Stream become: true command: grep -q Stream /etc/os-release register: stream_status changed_when: false when: - ansible_facts.distribution == 'CentOS' - name: Fail if not running on CentOS Stream fail: msg: CentOS Linux is not supported, you need to run CentOS Stream. when: - ansible_facts.distribution == 'CentOS' - stream_status.rc != 0",,15,0
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I604c2ae6c47ef16fdc98e0598cad820e49e2ff26,openstack/kayobe-config-dev,stable/wallaby,I604c2ae6c47ef16fdc98e0598cad820e49e2ff26,Support specifying a Kayobe environment to use,MERGED,2021-08-12 07:56:27.000000000,2021-08-16 18:15:32.000000000,2021-08-16 18:15:32.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 07:56:27.000000000', 'files': ['kayobe-env'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/2a323c88653c50e7087c30e4410b8b3b770df2e1', 'message': 'Support specifying a Kayobe environment to use\n\nThis also includes a cherry-pick of\nI9a44578196086ec24de80b992fed385826778feb, Stop accessing unbound\nvariables.\n\nThe kayobe-env script would try accessing $1 which is an unbound\nvariable if no argument is passed. This fails when `set -u` is set.\n\nAlso refactor usage output into a function. As a side effect, a missing\nargument to --environment now causes the script to properly exit with an\nerror.\n\nChange-Id: I604c2ae6c47ef16fdc98e0598cad820e49e2ff26\nStory: 2002009\nTask: 41577\n(cherry picked from commit 75b6402f8b0d4e39c40a1d11091ca760d8b99dee)\n(cherry picked from commit f1d98a93941013e5fda5489de1629cc5e282fd07)\n'}]",0,804332,2a323c88653c50e7087c30e4410b8b3b770df2e1,11,3,1,14826,,,0,"Support specifying a Kayobe environment to use

This also includes a cherry-pick of
I9a44578196086ec24de80b992fed385826778feb, Stop accessing unbound
variables.

The kayobe-env script would try accessing $1 which is an unbound
variable if no argument is passed. This fails when `set -u` is set.

Also refactor usage output into a function. As a side effect, a missing
argument to --environment now causes the script to properly exit with an
error.

Change-Id: I604c2ae6c47ef16fdc98e0598cad820e49e2ff26
Story: 2002009
Task: 41577
(cherry picked from commit 75b6402f8b0d4e39c40a1d11091ca760d8b99dee)
(cherry picked from commit f1d98a93941013e5fda5489de1629cc5e282fd07)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/32/804332/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe-env'],1,2a323c88653c50e7087c30e4410b8b3b770df2e1,," function usage { echo ""usage: ${BASH_SOURCE[0]:-${(%):-%x}} [--environment <env-name>]"" return 1 } if [ ""$#"" -ge 1 ]; then if [ ""$1"" = ""--environment"" -a ""$#"" -eq 2 ]; then kayobe_env=""$2"" # Look for existing Kayobe environments if [ -d ""${KAYOBE_CONFIG_PATH}/environments"" ]; then if [ -d ""${KAYOBE_CONFIG_PATH}/environments/${kayobe_env}"" ]; then export KAYOBE_ENVIRONMENT=""${kayobe_env}"" echo ""Using Kayobe environment ${KAYOBE_ENVIRONMENT}"" return 0 else echo ""Unable to find Kayobe environment ${kayobe_env} in ${KAYOBE_CONFIG_PATH}/environments"" return 1 fi else echo ""Cannot find environments folder in ${KAYOBE_CONFIG_PATH}"" return 1 fi else usage fi fi",,27,0
openstack%2Ftripleo-ansible~master~Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,openstack/tripleo-ansible,master,Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,tripleo_frr: set default version and profile,MERGED,2021-08-05 09:34:36.000000000,2021-08-16 18:03:21.000000000,2021-08-16 18:03:21.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-05 09:34:36.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/913da0e1e0a279d987ee343a56a87e68d230c12d', 'message': 'tripleo_frr: set default version and profile\n\nPin FRR version and profile to known, tested values.\n\nFor more detailed information, please refer to\nhttps://docs.frrouting.org/en/latest/basic.html#configuration-versioning-profiles-and-upgrade-behavior\n\nChange-Id: Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc\n'}]",0,803546,913da0e1e0a279d987ee343a56a87e68d230c12d,10,5,1,6469,,,0,"tripleo_frr: set default version and profile

Pin FRR version and profile to known, tested values.

For more detailed information, please refer to
https://docs.frrouting.org/en/latest/basic.html#configuration-versioning-profiles-and-upgrade-behavior

Change-Id: Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/803546/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,913da0e1e0a279d987ee343a56a87e68d230c12d,bgpsupport,frr version {{ tripleo_frr_version }} frr defaults {{ tripleo_frr_defaults }},,4,0
openstack%2Fneutron~master~Ib4af80e18fac52b9f68f26c84a215415e63c2822,openstack/neutron,master,Ib4af80e18fac52b9f68f26c84a215415e63c2822,Remove ``ConfDriver`` code,MERGED,2021-05-12 13:29:42.000000000,2021-08-16 17:38:44.000000000,2021-08-16 17:36:13.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-12 13:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0db56c58148db3f17f2dbe47a6feb3e2f2cca7e0', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 2, 'created': '2021-05-12 13:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cd051ffd85a4ec47be794fae3e991986747d156', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 3, 'created': '2021-05-13 07:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4b46192c6c0a53544363c1f50bd8555195ea34e', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 4, 'created': '2021-05-18 11:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08a2bd231ebbaa382f2ec90fafb4e94a8e581254', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 5, 'created': '2021-05-24 08:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a015419819345c7a2b0d163b452f5e914967b1a', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 6, 'created': '2021-05-24 15:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1718bdd895864f79211d5a65842bef3d010a5645', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 7, 'created': '2021-05-24 17:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01864b1c7d814a5ae99089b40e1b60b3a94345da', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 8, 'created': '2021-06-04 09:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/150045300fa2308cb0e1d896a1abaf674ac56e62', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 9, 'created': '2021-06-11 09:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f27de2ccd89673bc0ca5b3dc13b83a3c416ebd07', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 10, 'created': '2021-06-11 15:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc9221b83a180d6501e420369fc56a1ca22df4c7', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 11, 'created': '2021-06-11 15:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3835b6ddf8a59cb37068c56f9d485495b0935ad6', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 12, 'created': '2021-06-14 16:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5039ab179e69d644ef92a0980973beb2c92d8654', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 13, 'created': '2021-06-14 20:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfe83e555a8879b5690bdbfa0f7e212f3bbd092b', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 14, 'created': '2021-06-16 13:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33a4090c568ea1403acdc71adc6841e5587970fa', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 15, 'created': '2021-06-16 17:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/288713649afc4503560854dfa41bf7d8a22f3e6d', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 16, 'created': '2021-06-17 16:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/190c2ece5908c8d25e0127bf65f0848f10f7d21c', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 17, 'created': '2021-07-16 08:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cc964ca7faef373f935b1708c763fcd688500aa', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 18, 'created': '2021-07-16 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d61b838361346d11bd6e5a43d666a1d83f1e93f9', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 19, 'created': '2021-07-16 14:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9d03430e0d63c062d9932fadb3bdaf6202e98c6', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 20, 'created': '2021-07-16 15:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34ba505fef7a2e44ef5683aba5484860fe815453', 'message': '[WIP] Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 21, 'created': '2021-07-19 15:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd4eb99a3d7d3c01e7350168401e0b66e270e54a', 'message': '[WIP] Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 22, 'created': '2021-07-19 15:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4b08681a628ce6900d17bec36708ba012fd5710', 'message': '[WIP] Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 23, 'created': '2021-07-22 20:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1d1bd548bf471e40904ab706d6c01b948124201', 'message': '[WIP] Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 24, 'created': '2021-07-26 09:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9b802db3c667c878ec65c66a302f17f0e3cac55', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\n``NullQuotaDriver`` is created for testing although it could be used\nin production if no quota enforcement is needed. However, because\nthe Quota engine is not plugable (is an extension always loaded), it\ncould be interesting to make it plugable as any other plugin.\n\nThis patch also creates a Quota engine driver API class that should be\nused in any Quota engine driver. Currently it is used in the three\nin-tree drivers implemented: ``NullQuotaDriver``, ``DbQuotaDriver``\nand ``DbQuotaNoLockDriver``.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}, {'number': 25, 'created': '2021-07-26 15:00:49.000000000', 'files': ['doc/source/admin/ops-quotas.rst', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/api/v2/test_base.py', 'neutron/tests/unit/extensions/base.py', 'neutron/api/v2/base.py', 'neutron/tests/unit/extensions/test_providernet.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/conf/quota.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/db/quota/driver.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/tests/unit/extensions/test_vlantransparent.py', 'neutron/quota/__init__.py', 'neutron/db/quota/api.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/tests/unit/extensions/test_quotasv2.py', 'doc/source/contributor/internals/quota.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad31c58d60142cffcdea86d0257dc10277b53ff0', 'message': 'Remove ``ConfDriver`` code\n\nThe quota driver ``ConfDriver`` was deprecated in Liberty release.\n\n``NullQuotaDriver`` is created for testing although it could be used\nin production if no quota enforcement is needed. However, because\nthe Quota engine is not plugable (is an extension always loaded), it\ncould be interesting to make it plugable as any other plugin.\n\nThis patch also creates a Quota engine driver API class that should be\nused in any Quota engine driver. Currently it is used in the three\nin-tree drivers implemented: ``NullQuotaDriver``, ``DbQuotaDriver``\nand ``DbQuotaNoLockDriver``.\n\nChange-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822\nCloses-Bug: #1928211\n'}]",54,790999,ad31c58d60142cffcdea86d0257dc10277b53ff0,127,7,25,16688,,,0,"Remove ``ConfDriver`` code

The quota driver ``ConfDriver`` was deprecated in Liberty release.

``NullQuotaDriver`` is created for testing although it could be used
in production if no quota enforcement is needed. However, because
the Quota engine is not plugable (is an extension always loaded), it
could be interesting to make it plugable as any other plugin.

This patch also creates a Quota engine driver API class that should be
used in any Quota engine driver. Currently it is used in the three
in-tree drivers implemented: ``NullQuotaDriver``, ``DbQuotaDriver``
and ``DbQuotaNoLockDriver``.

Change-Id: Ib4af80e18fac52b9f68f26c84a215415e63c2822
Closes-Bug: #1928211
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/790999/24 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ops-quotas.rst', 'neutron/quota/__init__.py', 'neutron/conf/quota.py', 'neutron/tests/unit/extensions/test_quotasv2.py', 'doc/source/contributor/internals/quota.rst']",5,0db56c58148db3f17f2dbe47a6feb3e2f2cca7e0,bug/1928211," The ``DbQuotaNoLockDriver`` is the default quota driver, defined in the configuration option ``quota_driver``."," * neutron.quota.ConfDriver The latter driver is however deprecated. The ``DbQuotaNoLockDriver`` is the default quota driver, defined in the configuration option ``quota_driver``.",4,129
openstack%2Fpuppet-ceilometer~master~Id2a7ebaf57b97083b8cc9eb32a8ecefcee39672f,openstack/puppet-ceilometer,master,Id2a7ebaf57b97083b8cc9eb32a8ecefcee39672f,Deprecate the ceilometer::policy class,MERGED,2021-08-14 15:27:06.000000000,2021-08-16 17:34:36.000000000,2021-08-16 17:33:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 15:27:06.000000000', 'files': ['spec/classes/ceilometer_policy_spec.rb', 'releasenotes/notes/deprecate-policy-9c3c69c2f79777f8.yaml', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/7021e05beba1807f26f993d1ee01b8209ffb8feb', 'message': 'Deprecate the ceilometer::policy class\n\nCeilometer removed its API service a long ago and no longer uses policy\nrules. This change deprecates the invalid class to manage oslo.policy\nsettings.\n\nChange-Id: Id2a7ebaf57b97083b8cc9eb32a8ecefcee39672f\n'}]",0,804576,7021e05beba1807f26f993d1ee01b8209ffb8feb,8,3,1,9816,,,0,"Deprecate the ceilometer::policy class

Ceilometer removed its API service a long ago and no longer uses policy
rules. This change deprecates the invalid class to manage oslo.policy
settings.

Change-Id: Id2a7ebaf57b97083b8cc9eb32a8ecefcee39672f
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/76/804576/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_policy_spec.rb', 'releasenotes/notes/deprecate-policy-9c3c69c2f79777f8.yaml', 'manifests/policy.pp']",3,7021e05beba1807f26f993d1ee01b8209ffb8feb,policy,# DEPRECATED !! warning('The ceilometer::policy class is deprecated and has no effect')," validate_legacy(Hash, 'validate_hash', $policies) Openstacklib::Policy::Base { file_path => $policy_path, file_user => 'root', file_group => $::ceilometer::params::group, } create_resources('openstacklib::policy::base', $policies) oslo::policy { 'ceilometer_config': policy_file => $policy_path }",6,53
openstack%2Fnova~stable%2Ftrain~I3d1b21ba6eb3f5eb728693197c24b4b315eef821,openstack/nova,stable/train,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,NEW,2021-06-17 18:19:07.000000000,2021-08-16 17:16:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/780f5e8b3df203795b73d7fb6d4c5092f596399e', 'message': ""libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nNOTE(lyarwood): Conflict as I41b7c1653c6a887ee4b08e588c5d422409aebfba\nisn't present on stable/train.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)\n(cherry picked from commit 7a69f9800b97606cd05068d3ad4fc6d0061a7a55)\n""}]",0,796939,780f5e8b3df203795b73d7fb6d4c5092f596399e,5,1,1,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

NOTE(lyarwood): Conflict as I41b7c1653c6a887ee4b08e588c5d422409aebfba
isn't present on stable/train.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)
(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)
(cherry picked from commit 7a69f9800b97606cd05068d3ad4fc6d0061a7a55)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/796939/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,780f5e8b3df203795b73d7fb6d4c5092f596399e,bug/1905701," # assert that no attempt to remove the secret is made when # destroy_secrets=False drvr._host.find_secret.reset_mock() drvr._host.delete_secret.reset_mock() drvr._disconnect_volume( self.context, connection_info, instance, encryption=encryption, destroy_secrets=False ) drvr._host.delete_secret.assert_not_called() @mock.patch('nova.virt.libvirt.host.Host.delete_secret') @mock.patch('nova.virt.libvirt.host.Host.find_secret', new=mock.Mock()) def test_detach_encryptor_skip_secret_removal(self, mock_delete_secret): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=False ) # Assert that no attempt is made to delete the volume secert mock_delete_secret.assert_not_called() drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=True ) # Assert that volume secert is deleted mock_delete_secret.assert_called_once_with('volume', uuids.volume_id) network_info, None, False, destroy_secrets=True) network_info, None, False, destroy_secrets=True) block_device_info=block_device_info, destroy_secrets=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain', new=mock.Mock()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vpmems', new=mock.Mock(return_value=None)) def test_cleanup_destroy_secrets(self, mock_disconnect_volume): block_device_info = { 'block_device_mapping': [ { 'connection_info': mock.sentinel.connection_info } ] } instance = objects.Instance(self.context, **self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) # Pass destroy_vifs=False and destroy_disks=False as we only care about # asserting the behaviour of destroy_secrets in this test. drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, destroy_secrets=False ) drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, ) # Assert that disconnect_volume is called with destroy_secrets=False # and destroy_secrets=True by default mock_disconnect_volume.assert_has_calls([ mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=False ), mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=True ) ]) "," network_info, None, False) network_info, None, False) block_device_info=block_device_info)",124,11
openstack%2Fnova~stable%2Ftrain~I856268b371f7ba712b02189db3c927cd762a4dc3,openstack/nova,stable/train,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,NEW,2021-06-17 18:19:07.000000000,2021-08-16 17:16:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2944675d63a796de8c60efdddfe55dfb4912451e', 'message': ""virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nNOTE(lyarwood): Conflict as Ia5892e1d2cb7c7685e104466f83df7bb00b168c0\nisn't present on stable/train.\n\nConflicts:\n  nova/virt/fake.py\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)\n(cherry picked from commit 94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b)\n""}]",0,796935,2944675d63a796de8c60efdddfe55dfb4912451e,5,1,1,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

NOTE(lyarwood): Conflict as Ia5892e1d2cb7c7685e104466f83df7bb00b168c0
isn't present on stable/train.

Conflicts:
  nova/virt/fake.py

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)
(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)
(cherry picked from commit 94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/796935/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",7,2944675d63a796de8c60efdddfe55dfb4912451e,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",26,13
openstack%2Fnova~stable%2Fussuri~I856268b371f7ba712b02189db3c927cd762a4dc3,openstack/nova,stable/ussuri,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,NEW,2021-06-14 11:05:17.000000000,2021-08-16 17:15:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-14 11:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47ccb6ff108cc391a57f3ec95d639135fee7a8a5', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n(cherry picked from commit 813bee5a9df762a08c393b269b9b0d32096183d8)\n'}, {'number': 2, 'created': '2021-06-17 16:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196973dfc8b0576ea1e62a9dcfdd1fd28ba7d686', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nNOTE(lyarwood): The xenapi driver cleanup and destroy methods are also\nextended to take the destroy_secrets kwarg. This driver was later\nremoved during Victoria thus the <= stable/ussuri specific change.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n(cherry picked from commit 813bee5a9df762a08c393b269b9b0d32096183d8)\n'}, {'number': 3, 'created': '2021-06-17 17:20:03.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nNOTE(lyarwood): The xenapi driver cleanup and destroy methods are also\nextended to take the destroy_secrets kwarg. This driver was later\nremoved during Victoria thus the <= stable/ussuri specific change.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)\n'}]",0,796262,94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b,10,1,3,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

NOTE(lyarwood): The xenapi driver cleanup and destroy methods are also
extended to take the destroy_secrets kwarg. This driver was later
removed during Victoria thus the <= stable/ussuri specific change.

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)
(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/796262/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",6,47ccb6ff108cc391a57f3ec95d639135fee7a8a5,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",23,11
openstack%2Fnova~stable%2Fussuri~I3d1b21ba6eb3f5eb728693197c24b4b315eef821,openstack/nova,stable/ussuri,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,NEW,2021-06-14 11:05:17.000000000,2021-08-16 17:15:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-14 11:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f82e1d7d45071622a0717ad4a139612cf0bc2027', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n(cherry picked from commit ecb3965deb06030529b57f45c222546bf765a7e9)\n'}, {'number': 2, 'created': '2021-06-17 17:20:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a69f9800b97606cd05068d3ad4fc6d0061a7a55', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)\n'}]",0,796264,7a69f9800b97606cd05068d3ad4fc6d0061a7a55,9,1,2,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)
(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/796264/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f82e1d7d45071622a0717ad4a139612cf0bc2027,bug/1905701," # assert that no attempt to remove the secret is made when # destroy_secrets=False drvr._host.find_secret.reset_mock() drvr._host.delete_secret.reset_mock() drvr._disconnect_volume( self.context, connection_info, instance, encryption=encryption, destroy_secrets=False ) drvr._host.delete_secret.assert_not_called() @mock.patch('nova.virt.libvirt.host.Host.delete_secret') @mock.patch('nova.virt.libvirt.host.Host.find_secret', new=mock.Mock()) def test_detach_encryptor_skip_secret_removal(self, mock_delete_secret): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=False ) # Assert that no attempt is made to delete the volume secert mock_delete_secret.assert_not_called() drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=True ) # Assert that volume secert is deleted mock_delete_secret.assert_called_once_with('volume', uuids.volume_id) network_info, None, False, destroy_secrets=True) network_info, None, False, destroy_secrets=True) block_device_info=block_device_info, destroy_secrets=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain', new=mock.Mock()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vpmems', new=mock.Mock(return_value=None)) def test_cleanup_destroy_secrets(self, mock_disconnect_volume): block_device_info = { 'block_device_mapping': [ { 'connection_info': mock.sentinel.connection_info } ] } instance = objects.Instance(self.context, **self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) # Pass destroy_vifs=False and destroy_disks=False as we only care about # asserting the behaviour of destroy_secrets in this test. drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, destroy_secrets=False ) drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, ) # Assert that disconnect_volume is called with destroy_secrets=False # and destroy_secrets=True by default mock_disconnect_volume.assert_has_calls([ mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=False ), mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=True ) ]) "," network_info, None, False) network_info, None, False) block_device_info=block_device_info)",124,11
openstack%2Fansible-collections-openstack~master~I3697f7b0ccd115ff1859658417d51e1643e10be8,openstack/ansible-collections-openstack,master,I3697f7b0ccd115ff1859658417d51e1643e10be8,Remove tests directory from ansible-tests,MERGED,2021-08-16 13:06:46.000000000,2021-08-16 17:14:23.000000000,2021-08-16 17:14:23.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-16 13:06:46.000000000', 'files': ['tools/run-ansible-sanity.sh'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ae4e7f3c0607ccf2725b25a6d7d321eb3c32e6be', 'message': ""Remove tests directory from ansible-tests\n\nBecause we don't include tests in collection tar.\nChange-Id: I3697f7b0ccd115ff1859658417d51e1643e10be8\n""}]",0,804736,ae4e7f3c0607ccf2725b25a6d7d321eb3c32e6be,7,3,1,10969,,,0,"Remove tests directory from ansible-tests

Because we don't include tests in collection tar.
Change-Id: I3697f7b0ccd115ff1859658417d51e1643e10be8
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/804736/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/run-ansible-sanity.sh'],1,ae4e7f3c0607ccf2725b25a6d7d321eb3c32e6be,mck, plugins/ docs/ meta/ scripts/, plugins/ docs/ meta/ scripts/ tests/,1,1
openstack%2Fansible-collections-openstack~master~Ib6b73e810b972997b8de2b4a9eb8e07e246823d5,openstack/ansible-collections-openstack,master,Ib6b73e810b972997b8de2b4a9eb8e07e246823d5,Add support check mode for all info modules,MERGED,2021-08-16 10:24:43.000000000,2021-08-16 17:14:21.000000000,2021-08-16 17:14:21.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-16 10:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b701e1fa110cfa5de44412fb2636e87674e62da9', 'message': ""Add support check mode for all info modules\n\nAs it's required by new ansible-test rules.\nSee https://github.com/ansible-collections/overview/issues/45#issuecomment-893543025\nChange-Id: Ib6b73e810b972997b8de2b4a9eb8e07e246823d5\n""}, {'number': 2, 'created': '2021-08-16 12:56:52.000000000', 'files': ['plugins/modules/floating_ip_info.py', 'plugins/modules/image_info.py', 'plugins/modules/volume_info.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/server_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/networks_info.py', 'plugins/modules/keypair_info.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/routers_info.py', 'plugins/modules/port_info.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/security_group_info.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/dns_zone_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2d554d1e22c7a65597a1562c4e5815856a31856d', 'message': ""Add support check mode for all info modules\n\nAs it's required by new ansible-test rules.\nSee https://github.com/ansible-collections/overview/issues/45#issuecomment-893543025\nChange-Id: Ib6b73e810b972997b8de2b4a9eb8e07e246823d5\n""}]",0,804692,2d554d1e22c7a65597a1562c4e5815856a31856d,10,4,2,10969,,,0,"Add support check mode for all info modules

As it's required by new ansible-test rules.
See https://github.com/ansible-collections/overview/issues/45#issuecomment-893543025
Change-Id: Ib6b73e810b972997b8de2b4a9eb8e07e246823d5
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/92/804692/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/floating_ip_info.py', 'plugins/modules/image_info.py', 'plugins/modules/volume_info.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/server_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/networks_info.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/routers_info.py', 'plugins/modules/port_info.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/security_group_info.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/dns_zone_info.py']",18,b701e1fa110cfa5de44412fb2636e87674e62da9,mck, module_kwargs = dict( supports_check_mode=True ),,49,3
