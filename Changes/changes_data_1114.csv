id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fdevstack-gate~master~I78ebf6432e9ea680cdb8bf103967cf9ed6c1b401,openstack/devstack-gate,master,I78ebf6432e9ea680cdb8bf103967cf9ed6c1b401,Make it possible to not remove stack sudo,MERGED,2015-08-13 18:48:45.000000000,2015-08-17 19:52:42.000000000,2015-08-17 19:52:41.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-08-13 18:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/841b2a1cda58e899d63f7ebfbddd5d3f544b7508', 'message': 'Make it possible to not remove stack sudo\n\nIn cases where we are using devstack plugins to test services against\ndevstack that are not openstack services we may want to allow those\nservices to have sudo access. Prior to this change this was not possible\nas d-g always removed the stack users sudo rights.\n\nAdd a flag that continues to disable sudo by default but allows for it\nto be disabled when it makes sense.\n\nChange-Id: I78ebf6432e9ea680cdb8bf103967cf9ed6c1b401\n'}, {'number': 2, 'created': '2015-08-13 18:55:25.000000000', 'files': ['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3ad06311fdf4c5e8d2cbcefe7c2ea6a6934cca00', 'message': 'Make it possible to not remove stack sudo\n\nIn cases where we are using devstack plugins to test services against\ndevstack that are not openstack services we may want to allow those\nservices to have sudo access. Prior to this change this was not possible\nas d-g always removed the stack users sudo rights.\n\nAdd a flag that continues to disable sudo by default but allows for\nstack user sudo access when appropriate.\n\nChange-Id: I78ebf6432e9ea680cdb8bf103967cf9ed6c1b401\n'}]",0,212698,3ad06311fdf4c5e8d2cbcefe7c2ea6a6934cca00,9,3,2,4146,,,0,"Make it possible to not remove stack sudo

In cases where we are using devstack plugins to test services against
devstack that are not openstack services we may want to allow those
services to have sudo access. Prior to this change this was not possible
as d-g always removed the stack users sudo rights.

Add a flag that continues to disable sudo by default but allows for
stack user sudo access when appropriate.

Change-Id: I78ebf6432e9ea680cdb8bf103967cf9ed6c1b401
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/98/212698/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh']",2,841b2a1cda58e899d63f7ebfbddd5d3f544b7508,configurable-sudo-removal,# Set to 1 to remove the stack users blanket sudo permissions forcing # openstack services running as the stack user to rely on rootwrap rulesets # instead of raw sudo. Do this to ensure rootwrap works. This is the default. export DEVSTACK_GATE_REMOVE_STACK_SUDO=${DEVSTACK_GATE_REMOVE_STACK_SUDO:-1} ,,10,3
openstack%2Fnova~master~I43a301fbbe1c9892cf1fb48de166603dd0f79d30,openstack/nova,master,I43a301fbbe1c9892cf1fb48de166603dd0f79d30,Added missed '-' to the rest_api_version_history.rst,MERGED,2015-08-05 07:42:09.000000000,2015-08-17 19:52:09.000000000,2015-08-17 19:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7604}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 15888}]","[{'number': 1, 'created': '2015-08-05 07:42:09.000000000', 'files': ['nova/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf91d9f0c7768ad8d142046ebaf87f5a8e63c710', 'message': ""Added missed '-' to the rest_api_version_history.rst\n\nTrivialFix\nDocImpact\n\nChange-Id: I43a301fbbe1c9892cf1fb48de166603dd0f79d30\n""}]",0,209384,bf91d9f0c7768ad8d142046ebaf87f5a8e63c710,19,14,1,9569,,,0,"Added missed '-' to the rest_api_version_history.rst

TrivialFix
DocImpact

Change-Id: I43a301fbbe1c9892cf1fb48de166603dd0f79d30
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/209384/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/rest_api_version_history.rst'],1,bf91d9f0c7768ad8d142046ebaf87f5a8e63c710,v2_10,----,---,1,1
openstack%2Fceilometer~master~Ic4b87c05d16dba765f601ca346b198eda7c91bea,openstack/ceilometer,master,Ic4b87c05d16dba765f601ca346b198eda7c91bea,Avoid from storing samples with empty or not numerical volumes,MERGED,2015-08-13 16:00:44.000000000,2015-08-17 19:51:44.000000000,2015-08-17 19:51:43.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6924}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 10987}, {'_account_id': 11224}, {'_account_id': 11564}, {'_account_id': 15843}]","[{'number': 1, 'created': '2015-08-13 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1d95c0e85e97967f0609727d814a6409968552e0', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea\n""}, {'number': 2, 'created': '2015-08-14 13:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b2f891c7ae61eb72ef9a666f21529b0c605aa8ed', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea""}, {'number': 3, 'created': '2015-08-14 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/238e9a79c5e9d475679b5b987b851618ba14a71a', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea""}, {'number': 4, 'created': '2015-08-14 15:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9d1bc4adea8e8dc0e5aa780defe733ba1680c302', 'message': ""[WIP]Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea""}, {'number': 5, 'created': '2015-08-17 13:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f29918473ed87ce6715d0a7f2d28061a9193166a', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea\n""}, {'number': 6, 'created': '2015-08-17 15:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1c118572525b00cbce28b74afc69e02e3eb0ff6e', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea\n""}, {'number': 7, 'created': '2015-08-17 15:44:49.000000000', 'files': ['ceilometer/pipeline.py', 'ceilometer/tests/pipeline_base.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/804de4ef2f26e1892dc2580fe16897b14741a13a', 'message': ""Avoid from storing samples with empty or not numerical volumes\n\nIn some cases Ceilometer receives notifications with 'counter_volume' equal\nNone, for ex. from glance when empty image was created. This patch adds check\nto avoid storing samples with None or not numerical volumes.\n\nCloses-Bug: #1484117\nChange-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea\n""}]",3,212610,804de4ef2f26e1892dc2580fe16897b14741a13a,36,10,7,10987,,,0,"Avoid from storing samples with empty or not numerical volumes

In some cases Ceilometer receives notifications with 'counter_volume' equal
None, for ex. from glance when empty image was created. This patch adds check
to avoid storing samples with None or not numerical volumes.

Closes-Bug: #1484117
Change-Id: Ic4b87c05d16dba765f601ca346b198eda7c91bea
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/10/212610/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/dispatcher/test_db.py', 'ceilometer/dispatcher/database.py']",2,1d95c0e85e97967f0609727d814a6409968552e0,bug/1484117,"import six # NOTE(idegtiarov) we need to avoid storing samples with None or # not numerical values of 'counter_volume'. volume = meter.get('counter_volume') if not volume or not isinstance(volume, (six.integer_types, float)): LOG.warning(_LW( 'metering data %(counter_name)s for %(resource_id)s ' '@ %(timestamp)s has no volume or its value ' 'is not a number (volume: %(counter_volume)s)') % ({'counter_name': meter['counter_name'], 'resource_id': meter['resource_id'], 'timestamp': meter.get('timestamp', 'NO TIMESTAMP'), 'counter_volume': volume})) continue 'counter_volume': volume})", 'counter_volume': meter['counter_volume']}),41,1
openstack%2Fkolla~master~I2b55affe35104c6baab8804e5452fc7a49bae170,openstack/kolla,master,I2b55affe35104c6baab8804e5452fc7a49bae170,Make cinder build from source,MERGED,2015-08-16 17:19:12.000000000,2015-08-17 19:46:49.000000000,2015-08-17 19:46:47.000000000,"[{'_account_id': 3}, {'_account_id': 10419}, {'_account_id': 13039}]","[{'number': 1, 'created': '2015-08-16 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9b17d6c36025f7a11e85b7c306cd515fd0240b5', 'message': ""Make cinder build from source\n\nEither the reference wasn't copied properly, or it changed recently\nwith Ryan's work.\n\nChange-Id: I2b55affe35104c6baab8804e5452fc7a49bae170\nPartially-Implements: blueprint gate-source-builds\n""}, {'number': 2, 'created': '2015-08-16 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3e9170cce1b245e4ed9bded62511feb696c620d5', 'message': ""Make cinder build from source\n\nEither the reference wasn't copied properly, or it changed recently\nwith Ryan's work.\n\nChange-Id: I2b55affe35104c6baab8804e5452fc7a49bae170\nPartially-Implements: blueprint gate-source-builds\n""}, {'number': 3, 'created': '2015-08-16 20:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/665b72d61068f591d7d1aee6ea67341063850d9a', 'message': ""Make cinder build from source\n\nEither the reference wasn't copied properly, or it changed recently\nwith Ryan's work.\n\nChange-Id: I2b55affe35104c6baab8804e5452fc7a49bae170\nPartially-Implements: blueprint gate-source-builds\n""}, {'number': 4, 'created': '2015-08-16 23:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0290da6cb600e6ef193126c0c113ba8efc8ff99e', 'message': ""Make cinder build from source\n\nEither the reference wasn't copied properly, or it changed recently\nwith Ryan's work.\n\nChange-Id: I2b55affe35104c6baab8804e5452fc7a49bae170\nPartially-Implements: blueprint gate-source-builds\n""}, {'number': 5, 'created': '2015-08-17 17:06:15.000000000', 'files': ['docker_templates/cinder/cinder-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a765e6a7082b3e058ab1a63618147024ea0a4ed5', 'message': ""Make cinder build from source\n\nEither the reference wasn't copied properly, or it changed recently\nwith Ryan's work.\n\nChange-Id: I2b55affe35104c6baab8804e5452fc7a49bae170\nPartially-Implements: blueprint gate-source-builds\n""}]",0,213524,a765e6a7082b3e058ab1a63618147024ea0a4ed5,14,3,5,2834,,,0,"Make cinder build from source

Either the reference wasn't copied properly, or it changed recently
with Ryan's work.

Change-Id: I2b55affe35104c6baab8804e5452fc7a49bae170
Partially-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/213524/3 && git format-patch -1 --stdout FETCH_HEAD,['docker_templates/cinder/cinder-base/Dockerfile.j2'],1,d9b17d6c36025f7a11e85b7c306cd515fd0240b5,bp/gate-source-builds,, && cp /etc/cinder/cinder.conf.sample /etc/cinder/cinder.conf \,0,1
openstack%2Fkolla~master~Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851,openstack/kolla,master,Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851,Make heat build from source in the templates,MERGED,2015-08-16 17:19:12.000000000,2015-08-17 19:45:00.000000000,2015-08-17 19:45:00.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 3098}]","[{'number': 1, 'created': '2015-08-16 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3bd6505a9f43a34dfc6ec330a680bf179b3d8d27', 'message': ""Make heat build from source in the templates\n\nThere was an error during docker-templates for heat.  I think\nI copied keystone's example rather then looking at our from\nsource reference.\n\nChange-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851\nblueprint: blueprint docker-templates\n""}, {'number': 2, 'created': '2015-08-16 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c94032f6dd94639e8280debaf17f3f8248eaeeb', 'message': ""Make heat build from source in the templates\n\nThere was an error during docker-templates for heat.  I think\nI copied keystone's example rather then looking at our from\nsource reference.\n\nChange-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851\nPartially Implements: blueprint docker-templates\n""}, {'number': 3, 'created': '2015-08-16 20:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84473ee1cb4ae28c26d9aa680e2f11a949cde3de', 'message': ""Make heat build from source in the templates\n\nThere was an error during docker-templates for heat.  I think\nI copied keystone's example rather then looking at our from\nsource reference.\n\nChange-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851\nPartially Implements: blueprint docker-templates\n""}, {'number': 4, 'created': '2015-08-16 23:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6076e30a91afdc9a9b38c0e3d891f870f46a6be6', 'message': ""Make heat build from source in the templates\n\nThere was an error during docker-templates for heat.  I think\nI copied keystone's example rather then looking at our from\nsource reference.\n\nChange-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851\nPartially Implements: blueprint docker-templates\n""}, {'number': 5, 'created': '2015-08-17 17:06:15.000000000', 'files': ['docker_templates/heat/heat-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/033d437bf945e5e4f910c83d620ab1392d5b6739', 'message': ""Make heat build from source in the templates\n\nThere was an error during docker-templates for heat.  I think\nI copied keystone's example rather then looking at our from\nsource reference.\n\nChange-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851\nPartially Implements: blueprint docker-templates\n""}]",0,213523,033d437bf945e5e4f910c83d620ab1392d5b6739,14,3,5,2834,,,0,"Make heat build from source in the templates

There was an error during docker-templates for heat.  I think
I copied keystone's example rather then looking at our from
source reference.

Change-Id: Id073ce0b0d9e72acb3b752f49a2b8cfcd5d51851
Partially Implements: blueprint docker-templates
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/213523/1 && git format-patch -1 --stdout FETCH_HEAD,['docker_templates/heat/heat-base/Dockerfile.j2'],1,3bd6505a9f43a34dfc6ec330a680bf179b3d8d27,bp/gate-source-builds, && mkdir /etc/heat /var/log/heat \ && cp -r /heat/etc/heat/* /etc/heat/ \ && rm -rf /root/.cache, && mkdir /etc/heat /var/www/cgi-bin/heat \ && cp -r /heat/etc/* /etc/heat/ \ && cp -a httpd/heat.py /var/www/cgi-bin/heat/admin \ && cp -a httpd/heat.py /var/www/cgi-bin/heat/main,3,4
openstack%2Fkolla~master~Icb4519cf4881390f6958324eb14fb0009fca336e,openstack/kolla,master,Icb4519cf4881390f6958324eb14fb0009fca336e,Make gnocchi-base build from source,MERGED,2015-08-16 17:19:12.000000000,2015-08-17 19:44:52.000000000,2015-08-17 19:44:51.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 10419}]","[{'number': 1, 'created': '2015-08-16 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25141da89237e4844bf45ede7953930a02ee5728', 'message': 'Make gnocchi-base build from source\n\ngnocchi-base requires the gcc c++ compiler to build panda, whatever\nthat is.\n\nChange-Id: Icb4519cf4881390f6958324eb14fb0009fca336e\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 2, 'created': '2015-08-16 20:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3b39f61109c8b1221916129bd34b9bf1bb013254', 'message': 'Make gnocchi-base build from source\n\ngnocchi-base requires the gcc c++ compiler to build panda, whatever\nthat is.\n\nChange-Id: Icb4519cf4881390f6958324eb14fb0009fca336e\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 3, 'created': '2015-08-16 23:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75d92b00ad44c795b0f8492e93defed23f1f5ea6', 'message': 'Make gnocchi-base build from source\n\ngnocchi-base requires the gcc c++ compiler to build panda, whatever\nthat is.\n\nChange-Id: Icb4519cf4881390f6958324eb14fb0009fca336e\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 4, 'created': '2015-08-17 17:06:15.000000000', 'files': ['docker/centos/source/base/Dockerfile', 'docker_templates/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/91026e78bf8bd6a50d5b7828e441ac108dcb8941', 'message': 'Make gnocchi-base build from source\n\ngnocchi-base requires the gcc c++ compiler to build panda, whatever\nthat is.\n\nChange-Id: Icb4519cf4881390f6958324eb14fb0009fca336e\nParitally-Implements: blueprint gate-source-builds\n'}]",0,213522,91026e78bf8bd6a50d5b7828e441ac108dcb8941,13,3,4,2834,,,0,"Make gnocchi-base build from source

gnocchi-base requires the gcc c++ compiler to build panda, whatever
that is.

Change-Id: Icb4519cf4881390f6958324eb14fb0009fca336e
Paritally-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/213522/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/centos/source/base/Dockerfile', 'docker_templates/base/Dockerfile.j2']",2,25141da89237e4844bf45ede7953930a02ee5728,bp/gate-source-builds, gcc-c++ \ gcc-c++ \,,3,0
openstack%2Fkolla~master~I9675c2619b95c0ae6a467ffbf964c4b17ae4b791,openstack/kolla,master,I9675c2619b95c0ae6a467ffbf964c4b17ae4b791,Fix gate source building,MERGED,2015-08-15 22:54:55.000000000,2015-08-17 19:44:49.000000000,2015-08-17 19:44:48.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 10419}, {'_account_id': 13039}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-15 22:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1acab4ec65917bb1de2675ec58f508ff1036daf', 'message': 'WIP: Fix gate source building backtrace\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\n'}, {'number': 2, 'created': '2015-08-16 05:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1277f88fa89c5863d965587cacb2f2e528ca9fc8', 'message': 'Fix gate source building backtrace\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: gate-source-builds\n'}, {'number': 3, 'created': '2015-08-16 05:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8778f9473f611f23484f07dc3960ce3ba7ad2264', 'message': 'Fix gate source building backtrace\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 4, 'created': '2015-08-16 06:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/373ba86fc549ba8094966b43fced891b9ed7b0b1', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 5, 'created': '2015-08-16 07:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ecd873ce691645219c62ae0c4e12ea4c43142bf0', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 6, 'created': '2015-08-16 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e499e0f847f810d72179719995516c1fc5032457', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 7, 'created': '2015-08-16 19:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/62b58e68be7c6c3d8db54fad7882f9c536bed4d6', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 8, 'created': '2015-08-16 19:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/72ba8d436a69605f16f71dce2ac58d1e741fa772', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 9, 'created': '2015-08-16 20:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b427e7ec6ca1e975eaf99e10fe34fe38313e2376', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 10, 'created': '2015-08-16 20:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fef8d2b80cbed8d39ba57681e9acca4d3c6ef02', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 11, 'created': '2015-08-16 20:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba2d1a5cd2004a97baf8b68d5d2c14fffcac20a7', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 12, 'created': '2015-08-16 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da527ec24458efd004f1e62d8477915000a2eafc', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 13, 'created': '2015-08-16 20:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/40a894d7d50eb444b8ac7c9dcdd10163639c5eb7', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 14, 'created': '2015-08-16 20:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e4749e5aa6cc372ce2baf4024f1d919f060af8ab', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 15, 'created': '2015-08-16 20:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79559c506a0c4dabfde09a356b59a01980c8a429', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 16, 'created': '2015-08-16 20:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c3a1c7b8eec4ff9f28b58b6c08c355dc307274d7', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 17, 'created': '2015-08-16 20:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd6e8b117fe2ea0232119988567c69bb4d4c867a', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 18, 'created': '2015-08-16 23:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fb9f557a0c24bda634e6267f96541d82aa4be961', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 19, 'created': '2015-08-17 17:06:16.000000000', 'files': ['tools/build.py', 'build.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/971d83645dd1224398887a3933dc060e2d08755f', 'message': 'Fix gate source building\n\nFix a backtrace.  Also add the default master locations for\nthe various tarballs.\n\nChange-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791\nParitally-Implements: blueprint gate-source-builds\n'}]",5,213472,971d83645dd1224398887a3933dc060e2d08755f,37,6,19,2834,,,0,"Fix gate source building

Fix a backtrace.  Also add the default master locations for
the various tarballs.

Change-Id: I9675c2619b95c0ae6a467ffbf964c4b17ae4b791
Paritally-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/72/213472/17 && git format-patch -1 --stdout FETCH_HEAD,['tools/build.py'],1,a1acab4ec65917bb1de2675ec58f508ff1036daf,bp/gate-source-builds, if 'type' in source and source['type'] == 'url':, if source['type'] == 'url':,1,1
openstack%2Fmonasca-ceilometer~master~I482d4466ae106e5292d12a768e8acd4a240f4049,openstack/monasca-ceilometer,master,I482d4466ae106e5292d12a768e8acd4a240f4049,Adds support to Mon publisher to archive on error,MERGED,2015-08-13 01:05:35.000000000,2015-08-17 19:40:55.000000000,2015-08-17 19:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 7052}, {'_account_id': 7565}, {'_account_id': 12637}, {'_account_id': 13560}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-08-13 01:05:35.000000000', 'files': ['ceilosca/ceilometer/tests/publisher/test_monasca_publisher.py', 'ceilosca/ceilometer/publisher/monclient.py'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/5d5dd50ecc38def35bf49063aaf7b873aceb4e01', 'message': 'Adds support to Mon publisher to archive on error\n\nWhen publishing metrics to Monasca-api fails, the\nfailed metrics need to be handled in some manner,\notherwise risk data loss.\n\nCurrently, Ceilometer notification agent does not\nsupport requeuing of samples on publisher error.\n\nThis patch adds the ability to enable metrics\narchival (via conf) using FilePublisher in Ceilometer.\nThis ability is switched off by default.\n\nChange-Id: I482d4466ae106e5292d12a768e8acd4a240f4049\n'}]",0,212233,5d5dd50ecc38def35bf49063aaf7b873aceb4e01,9,6,1,13560,,,0,"Adds support to Mon publisher to archive on error

When publishing metrics to Monasca-api fails, the
failed metrics need to be handled in some manner,
otherwise risk data loss.

Currently, Ceilometer notification agent does not
support requeuing of samples on publisher error.

This patch adds the ability to enable metrics
archival (via conf) using FilePublisher in Ceilometer.
This ability is switched off by default.

Change-Id: I482d4466ae106e5292d12a768e8acd4a240f4049
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/33/212233/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilosca/ceilometer/tests/publisher/test_monasca_publisher.py', 'ceilosca/ceilometer/publisher/monclient.py']",2,5d5dd50ecc38def35bf49063aaf7b873aceb4e01,,"import os cfg.BoolOpt('archive_on_failure', default=False, help='When turned on, archives metrics in file system when' 'publish to Monasca fails or metric publish maxes out' 'retry attempts.'), cfg.StrOpt('archive_path', default='mon_pub_failures.txt', help='File of metrics that failed to publish to ' 'Monasca. These include metrics that failed to ' 'publish on first attempt and failed metrics that' if cfg.CONF.monasca.archive_on_failure: archive_path = cfg.CONF.monasca.archive_path if not os.path.exists(archive_path): archive_path = cfg.CONF.find_file(archive_path) self.archive_handler = publisher.get_publisher('file://' + str(archive_path)) if hasattr(self, 'archive_handler'): self.archive_handler.publish_samples(None, metrics) except Exception: if hasattr(self, 'archive_handler'): self.archive_handler.publish_samples(None, metrics) if hasattr(self, 'archive_handler'): self.archive_handler.publish_samples( None, [self.retry_queue[ctr]])"," cfg.StrOpt('failure_report_path', default='monclient_failures.txt', help='File report of samples that failed to publish to' ' Monasca. These include samples that failed to ' 'publish on first attempt and failed samples that' # TODO(flush metric to file) pass except Exception: # TODO(flush metric to file) pass # TODO(persist maxed-out metrics to file) def flush_to_file(self): # TODO(persist maxed-out metrics to file) pass ",51,14
openstack%2Fgrenade~master~I0be425764cd640ada4f00300167df77fd870214e,openstack/grenade,master,I0be425764cd640ada4f00300167df77fd870214e,Make ssh commands stateless,MERGED,2015-05-13 14:16:50.000000000,2015-08-17 19:40:44.000000000,2015-08-17 19:40:42.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5196}, {'_account_id': 7634}]","[{'number': 1, 'created': '2015-05-13 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/e64ea1ba1f91f8a2b276a7d40ce22b84c2e4d2e8', 'message': 'Make ssh commands stateless\n\nThis makes our ssh-into-test-instances commands completely stateless. That\nmeans they accept any key automatically (which we already did) and not\nwrite them out to the known_hosts file of the user running grenade. Without\nthis, multiple runs of grenade (or existing host keys for the IPs we use)\nwill conflict and cause us to fail when validating things over ssh because\nof the key mismatches.\n\nChange-Id: I0be425764cd640ada4f00300167df77fd870214e\n'}, {'number': 2, 'created': '2015-05-13 15:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/532c49c23f8c90d59ad89b8503fdcc3b3474acd4', 'message': 'Make ssh commands stateless\n\nThis makes our ssh-into-test-instances commands completely stateless. That\nmeans they accept any key automatically (which we already did) and not\nwrite them out to the known_hosts file of the user running grenade. Without\nthis, multiple runs of grenade (or existing host keys for the IPs we use)\nwill conflict and cause us to fail when validating things over ssh because\nof the key mismatches.\n\nChange-Id: I0be425764cd640ada4f00300167df77fd870214e\n'}, {'number': 3, 'created': '2015-05-13 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/2bf72118d07bfd2f67bb2b4062f342b772e74a10', 'message': 'Make ssh commands stateless\n\nThis makes our ssh-into-test-instances commands completely stateless. That\nmeans they accept any key automatically (which we already did) and not\nwrite them out to the known_hosts file of the user running grenade. Without\nthis, multiple runs of grenade (or existing host keys for the IPs we use)\nwill conflict and cause us to fail when validating things over ssh because\nof the key mismatches.\n\nChange-Id: I0be425764cd640ada4f00300167df77fd870214e\n'}, {'number': 4, 'created': '2015-08-06 18:14:09.000000000', 'files': ['functions', 'projects/70_cinder/resources.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/eb1cd4c5e6740eb15231c23b7cc907d9c897d965', 'message': 'Make ssh commands stateless\n\nThis makes our ssh-into-test-instances commands completely stateless. That\nmeans they accept any key automatically (which we already did) and not\nwrite them out to the known_hosts file of the user running grenade. Without\nthis, multiple runs of grenade (or existing host keys for the IPs we use)\nwill conflict and cause us to fail when validating things over ssh because\nof the key mismatches.\n\nChange-Id: I0be425764cd640ada4f00300167df77fd870214e\n'}]",0,182689,eb1cd4c5e6740eb15231c23b7cc907d9c897d965,15,6,4,4393,,,0,"Make ssh commands stateless

This makes our ssh-into-test-instances commands completely stateless. That
means they accept any key automatically (which we already did) and not
write them out to the known_hosts file of the user running grenade. Without
this, multiple runs of grenade (or existing host keys for the IPs we use)
will conflict and cause us to fail when validating things over ssh because
of the key mismatches.

Change-Id: I0be425764cd640ada4f00300167df77fd870214e
",git fetch https://review.opendev.org/openstack/grenade refs/changes/89/182689/4 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'projects/70_cinder/resources.sh']",2,e64ea1ba1f91f8a2b276a7d40ce22b84c2e4d2e8,force-ssh, fssh -i $CINDER_KEY_FILE cirros@$ip \ timeout 30 fssh -i $CINDER_KEY_FILE cirros@$server_ip \ local state=$(fssh -i $CINDER_KEY_FILE cirros@$server_ip \," ssh -o ""StrictHostKeyChecking no"" -i $CINDER_KEY_FILE cirros@$ip \ timeout 30 ssh -o ""StrictHostKeyChecking no"" -i $CINDER_KEY_FILE cirros@$server_ip \ local state=$(ssh -o ""StrictHostKeyChecking no"" -i $CINDER_KEY_FILE cirros@$server_ip \",7,3
openstack%2Fdevstack~master~Idca49eb996d2b7ff3779ec27ed672a2da7852590,openstack/devstack,master,Idca49eb996d2b7ff3779ec27ed672a2da7852590,Add header guard to functions/functions-common,MERGED,2015-06-30 01:06:19.000000000,2015-08-17 19:38:07.000000000,2015-08-17 19:38:05.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 10385}, {'_account_id': 11647}]","[{'number': 1, 'created': '2015-06-30 01:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/de64e49da9b1f1838102ce614a013bc57d6dd986', 'message': 'Add header guard to functions/functions-common\n\nTo avoid sourcing this twice and getting globals mixed up,\nparticularly when using multiple plugins, add a ""header guard"" that\nensures we only source it once.\n\nIn general I don\'t think functions/functions-common have been written\nor considered to be idempotent.  I don\'t think going down that path is\ngoing to be a long-term solution as it\'s easy to break.\n\nChange-Id: Idca49eb996d2b7ff3779ec27ed672a2da7852590\nCloses-Bug: #1469178\n'}, {'number': 2, 'created': '2015-06-30 01:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2f6d5eb3ceb68f5d90c7934aea058436a686bc0d', 'message': 'Add header guard to functions/functions-common\n\nTo avoid sourcing this twice and getting globals mixed up,\nparticularly when using multiple plugins, add a ""header guard"" that\nensures we only source it once.\n\nIn general I don\'t think functions/functions-common have been written\nor considered to be idempotent.  I don\'t think going down that path is\ngoing to be a long-term solution as it\'s easy to break.\n\nChange-Id: Idca49eb996d2b7ff3779ec27ed672a2da7852590\nCloses-Bug: #1469178\n'}, {'number': 3, 'created': '2015-06-30 03:50:40.000000000', 'files': ['functions', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ffb4541452a95ae964c562c89e31c49e39dbaa7', 'message': 'Add header guard to functions/functions-common\n\nTo avoid sourcing this twice and getting globals mixed up,\nparticularly when using multiple plugins, add a ""header guard"" that\nensures we only source it once.\n\nIn general I don\'t think functions/functions-common have been written\nor considered to be idempotent.  I don\'t think going down that path is\ngoing to be a long-term solution as it\'s easy to break.\n\nChange-Id: Idca49eb996d2b7ff3779ec27ed672a2da7852590\nCloses-Bug: #1469178\n'}]",0,196921,4ffb4541452a95ae964c562c89e31c49e39dbaa7,17,7,3,7118,,,0,"Add header guard to functions/functions-common

To avoid sourcing this twice and getting globals mixed up,
particularly when using multiple plugins, add a ""header guard"" that
ensures we only source it once.

In general I don't think functions/functions-common have been written
or considered to be idempotent.  I don't think going down that path is
going to be a long-term solution as it's easy to break.

Change-Id: Idca49eb996d2b7ff3779ec27ed672a2da7852590
Closes-Bug: #1469178
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/196921/2 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'functions-common']",2,de64e49da9b1f1838102ce614a013bc57d6dd986,bug/1469178,"# ensure we don't re-source this in the same environment [[ -z ""$_DEVSTACK_FUNCTIONS_COMMON"" ]] || return declare -rx _DEVSTACK_FUNCTIONS_COMMON=1 ",,8,0
openstack%2Fswift~master~Ida76ab4b331a51b71e57650702acc136e66ba4b2,openstack/swift,master,Ida76ab4b331a51b71e57650702acc136e66ba4b2,Fix some minor typos,MERGED,2015-08-14 23:49:42.000000000,2015-08-17 19:36:38.000000000,2015-08-17 19:36:36.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 8890}, {'_account_id': 9100}, {'_account_id': 13052}]","[{'number': 1, 'created': '2015-08-14 23:49:42.000000000', 'files': ['test/probe/test_reconstructor_revert.py', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/proxy/controllers/obj.py', 'test/probe/test_reconstructor_durable.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fa35e38c9f83f704eb087f80157cbe33b23b9db2', 'message': 'Fix some minor typos\n\nFixed some typos in function name and comments.\n\nChange-Id: Ida76ab4b331a51b71e57650702acc136e66ba4b2\n'}]",0,213378,fa35e38c9f83f704eb087f80157cbe33b23b9db2,10,6,1,8889,,,0,"Fix some minor typos

Fixed some typos in function name and comments.

Change-Id: Ida76ab4b331a51b71e57650702acc136e66ba4b2
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/213378/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_reconstructor_revert.py', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/proxy/controllers/obj.py', 'test/probe/test_reconstructor_durable.py']",5,fa35e38c9f83f704eb087f80157cbe33b23b9db2,fix-typo, # fire up reconstructor to propagate the .durable, # fire up reconstructor to propogate the .durable,6,6
openstack%2Fnova~master~I8505cb71de2cf9d771fa1fe9eddce3d39158e74f,openstack/nova,master,I8505cb71de2cf9d771fa1fe9eddce3d39158e74f,libvirt: enable virtio-net multiqueue,MERGED,2014-10-16 05:10:21.000000000,2015-08-17 19:34:59.000000000,2015-08-06 11:04:15.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 6463}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16897}, {'_account_id': 17106}]","[{'number': 1, 'created': '2014-10-16 05:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa9f3267031a8b2ac1b545a71e2ad195a6b71c0', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nLibvirt driver will set the number of queues equal to the number of guest VCPUs\n\nTo control this feature, the following should be set in the flavour extra specs:\n\nhw:vif_multiqueue_enabled=true|disabled\n\nThis setting can be overriden by the image metadata property if the feature\nis enabled in the extra specs:\n\nhw_vif_mutliqueue_enabled=true|false\n\nDocImpact\nImplements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 2, 'created': '2014-10-16 11:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56bc98d08bf0509809acfc583f451a9138e60931', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nLibvirt driver will set the number of queues equal to the number of guest VCPUs\n\nTo control this feature, the following should be set in the flavour extra specs:\n\nhw:vif_multiqueue_enabled=true|disabled\n\nThis setting can be overriden by the image metadata property if the feature\nis enabled in the extra specs:\n\nhw_vif_mutliqueue_enabled=true|false\n\nDocImpact\nImplements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 3, 'created': '2015-05-11 22:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa12c3de5cf4c97e4cb41aa7f3f274dbfffaca82', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nBy default, Libvirt driver will set the number of queues equal to the number of\nguest VCPUs. However, the user may reuqest a different number per each virtual\ninterface via the API.\n\nTo control this feature, the following should be set in the flavour extra specs:\n\nhw:vif_multiqueue_enabled=true|disabled\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 4, 'created': '2015-06-30 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34cab8f94530103d8744e4c68c6fa7fbc542e537', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 5, 'created': '2015-06-30 14:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dbe999e528aed08711b7a2201aa536b91384424', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 6, 'created': '2015-07-15 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb66caf19d8c271e834909823c4758f4e687acd8', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 7, 'created': '2015-07-15 18:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/372f7002c5d0dce928450121725a017163accc70', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 8, 'created': '2015-07-21 18:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd6aeb603a300663520b08020172015d22abcb0', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 9, 'created': '2015-07-27 20:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21d1a9c10a8cf8733963b6c6ac2c47dcc98c4481', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 10, 'created': '2015-07-28 14:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47e7ca52c1ace1deec8808e3a51fc283150197fb', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 11, 'created': '2015-07-30 16:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50208c8170f1a828d1daaa05b63e218ac3098bdb', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}, {'number': 12, 'created': '2015-08-06 05:28:46.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a09674220a071e51fdca7911b52c0027c01ff64', 'message': 'libvirt: enable virtio-net multiqueue\n\nAdd supoort to enable the virtio-net multiqueue feature for guest\ninstances.\n\nWith virtio-net multiqueue enabled network performance can be scaled\naccross number of vCPUs, by transfering the packets through multiple virtqueue\npairs at a time.\n\nWhen the feature is enabled, the Libvirt driver will set the number of queues\nequal to the number of guest VCPUs.\n\nTo enable this feature, the following should be set in the Glace image\nproperties:\n\n    hw_vif_multiqueue_enabled=true\n\nDocImpact\nPartially Implements blueprint libvirt-virtio-net-multiqueue\n\nChange-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f\n'}]",36,128829,9a09674220a071e51fdca7911b52c0027c01ff64,144,24,12,8802,,,0,"libvirt: enable virtio-net multiqueue

Add supoort to enable the virtio-net multiqueue feature for guest
instances.

With virtio-net multiqueue enabled network performance can be scaled
accross number of vCPUs, by transfering the packets through multiple virtqueue
pairs at a time.

When the feature is enabled, the Libvirt driver will set the number of queues
equal to the number of guest VCPUs.

To enable this feature, the following should be set in the Glace image
properties:

    hw_vif_multiqueue_enabled=true

DocImpact
Partially Implements blueprint libvirt-virtio-net-multiqueue

Change-Id: I8505cb71de2cf9d771fa1fe9eddce3d39158e74f
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/128829/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_vif.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/designer.py', 'nova/tests/virt/libvirt/test_driver.py']",4,aaa9f3267031a8b2ac1b545a71e2ad195a6b71c0,bp/libvirt-virtio-net-multiqueue, inst['extra_specs'] = {} fake_flavor.extra_specs = {},,58,2
openstack%2Fmagnum~master~I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d,openstack/magnum,master,I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d,Add X509KeyPair controller and conductor.,MERGED,2015-07-23 00:53:03.000000000,2015-08-17 19:25:21.000000000,2015-08-17 19:25:19.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 11650}, {'_account_id': 12053}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-07-23 00:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a375e35943d2bf7bd38191ed5e79667935c3ec0', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 2, 'created': '2015-07-24 05:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0238f58666b7bbe3bf076cf7bdbd0f18c555a054', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 3, 'created': '2015-07-27 02:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef973ef495da7c82c23a47dc47946783cc06f849', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 4, 'created': '2015-07-27 04:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/edaf4fe125d633ee54cb496794a15b0badac7eba', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 5, 'created': '2015-07-27 07:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/36c69c1f7267fa9d5ba3eef04d74cfc6b83d1df8', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 6, 'created': '2015-07-29 06:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8470666882eae1eb974ab70e5775a1d174b61ad7', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 7, 'created': '2015-07-29 08:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c7aeed12fb62043421ae79e2e74080703694ea1c', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 8, 'created': '2015-07-31 02:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc051c8171b385101cef8e16076b4ba2e41fe932', 'message': 'Add Cert controller and conductor.\n\nThis patch adds Cert controller and conductor to handle all\ncert related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 9, 'created': '2015-07-31 04:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2ef046cbc7d27b46f01b7763d3484c483d400ae8', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 10, 'created': '2015-08-03 02:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef4fd0c258944d829e98aa8673d6af7019d8cdbf', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 11, 'created': '2015-08-03 05:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8be5a5c84b11e78ebd4c95bbd06aa950000b8fb7', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 12, 'created': '2015-08-03 06:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/84f86c27687e754c05e62e8fda522f10fefc8992', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 13, 'created': '2015-08-07 09:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4ec3238aa9758c9e933fc5d2c0bf37d71504c5a2', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 14, 'created': '2015-08-10 03:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fcc87d59048ef724b03b48876dc71273b1803b99', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 15, 'created': '2015-08-10 11:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/02117852ae0044d3bd26112e9dc18bef0a2a33c2', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 16, 'created': '2015-08-15 16:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6d87aca6551b4e73af99a2eba34f1fc870ab37f3', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}, {'number': 17, 'created': '2015-08-17 08:57:02.000000000', 'files': ['magnum/conductor/api.py', 'magnum/tests/unit/conductor/test_rpcapi.py', 'magnum/api/controllers/v1/x509keypair.py', 'magnum/tests/unit/conductor/handlers/test_x509keypair_conductor.py', 'magnum/conductor/handlers/x509keypair_conductor.py', 'magnum/tests/unit/api/utils.py', 'magnum/tests/unit/api/controllers/v1/test_x509keypair.py', 'magnum/api/controllers/v1/__init__.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/cmd/conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4eb9425185bafbf7afc854cfe7cfec5d48050ba7', 'message': 'Add X509KeyPair controller and conductor.\n\nThis patch adds X509KeyPair controller and conductor to handle all\nx509keypair related operation and also add test for it.\n\nChange-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d\nPartially-Implements: bp secure-kubernetes\n'}]",10,204798,4eb9425185bafbf7afc854cfe7cfec5d48050ba7,51,9,17,10206,,,0,"Add X509KeyPair controller and conductor.

This patch adds X509KeyPair controller and conductor to handle all
x509keypair related operation and also add test for it.

Change-Id: I5773fcd5bdf8a30fd195714e3e0fdc9d1b0c962d
Partially-Implements: bp secure-kubernetes
",git fetch https://review.opendev.org/openstack/magnum refs/changes/98/204798/8 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/cert.py', 'magnum/conductor/api.py', 'magnum/tests/unit/api/controllers/v1/test_cert.py', 'magnum/conductor/handlers/cert_conductor.py', 'magnum/tests/unit/conductor/test_rpcapi.py', 'magnum/tests/unit/api/utils.py', 'magnum/api/controllers/v1/__init__.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/tests/unit/conductor/handlers/test_cert_conductor.py', 'magnum/cmd/conductor.py']",10,7a375e35943d2bf7bd38191ed5e79667935c3ec0,bp/secure-kubernetes,"from magnum.conductor.handlers import cert_conductor cert_conductor.Handler(),",,672,1
openstack%2Fcastellan~master~Ie3a57ba8b145bc5a0f4432e5a3dc2ae22d98ac45,openstack/castellan,master,Ie3a57ba8b145bc5a0f4432e5a3dc2ae22d98ac45,Add GenericKeyManager (example) implementation of CertManager,ABANDONED,2015-08-13 18:59:23.000000000,2015-08-17 19:23:08.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-13 18:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7dc0048ee541269bb5d3d4a841ec6cf6b1d79a16', 'message': 'Example implementation for a GENERIC CertManager\n\nThis is very rough and quick, has no tests, and may have bugs -- but it\nis only intended to be an example of how simple it would be for\nliterally any HSM to support the CertManager interface. This is not\ninteded to merge as-is.\n\nChange-Id: Ie3a57ba8b145bc5a0f4432e5a3dc2ae22d98ac45\n'}, {'number': 2, 'created': '2015-08-13 20:19:22.000000000', 'files': ['castellan/cert_manager/__init__.py', 'castellan/cert_manager/generic_cert_manager.py', 'castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/17bd4d46c5bf9fe1e203fe6c3d2345dacd7fa891', 'message': 'Add GenericKeyManager (example) implementation of CertManager\n\nThis is very rough and quick, has no tests, and may have bugs -- but it\nis only intended to be an example of how simple it would be for\nliterally any HSM to support the CertManager interface. This is not\ninteded to merge as-is.\n\nChange-Id: Ie3a57ba8b145bc5a0f4432e5a3dc2ae22d98ac45'}]",0,212701,17bd4d46c5bf9fe1e203fe6c3d2345dacd7fa891,5,1,2,10273,,,0,"Add GenericKeyManager (example) implementation of CertManager

This is very rough and quick, has no tests, and may have bugs -- but it
is only intended to be an example of how simple it would be for
literally any HSM to support the CertManager interface. This is not
inteded to merge as-is.

Change-Id: Ie3a57ba8b145bc5a0f4432e5a3dc2ae22d98ac45",git fetch https://review.opendev.org/openstack/castellan refs/changes/01/212701/2 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/cert_manager/__init__.py', 'castellan/cert_manager/generic_cert_manager.py', 'castellan/key_manager/barbican_key_manager.py']",3,7dc0048ee541269bb5d3d4a841ec6cf6b1d79a16,castellan-certs, # TODO(rm_work) For this example this needs to return arbitrary data # This will need to be properly fixed for any real implementation secret_data = None if secret_data: return secret_data,,104,2
openstack%2Fcastellan~master~Ifa650fdbf25df357f19ecae2d4383b754f9b3f15,openstack/castellan,master,Ifa650fdbf25df357f19ecae2d4383b754f9b3f15,Add Barbican implementation of CertManager,ABANDONED,2015-08-11 23:29:51.000000000,2015-08-17 19:22:58.000000000,,"[{'_account_id': 3}, {'_account_id': 7789}, {'_account_id': 10273}]","[{'number': 1, 'created': '2015-08-11 23:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/9f22437a15177a7d096fceb4d43b644635bef4a9', 'message': 'Add barbican implementation of CertManager\n\nChange-Id: Ifa650fdbf25df357f19ecae2d4383b754f9b3f15\n'}, {'number': 2, 'created': '2015-08-12 23:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/8f915a69febd10e466fef17298de9e5710045fca', 'message': 'Add barbican implementation of CertManager\n\nChange-Id: Ifa650fdbf25df357f19ecae2d4383b754f9b3f15\n'}, {'number': 3, 'created': '2015-08-13 18:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/fa19412146094e8ffb8ead556512f5efbb5f7fec', 'message': 'Add barbican implementation of CertManager\n\nChange-Id: Ifa650fdbf25df357f19ecae2d4383b754f9b3f15\n'}, {'number': 4, 'created': '2015-08-13 20:19:43.000000000', 'files': ['castellan/tests/unit/cert_manager/test_barbican_cert_manager.py', 'castellan/cert_manager/barbican_cert_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/0e121416f4910e47bdfadfa20686b9b02a201f5b', 'message': 'Add Barbican implementation of CertManager\n\nChange-Id: Ifa650fdbf25df357f19ecae2d4383b754f9b3f15'}]",5,211780,0e121416f4910e47bdfadfa20686b9b02a201f5b,13,3,4,10273,,,0,"Add Barbican implementation of CertManager

Change-Id: Ifa650fdbf25df357f19ecae2d4383b754f9b3f15",git fetch https://review.opendev.org/openstack/castellan refs/changes/80/211780/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/unit/cert_manager/test_barbican_cert_manager.py', 'castellan/cert_manager/barbican_cert_manager.py']",2,9f22437a15177a7d096fceb4d43b644635bef4a9,castellan-certs,"# Copyright (c) 2014-2015 Rackspace US, Inc # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Cert manager implementation for Barbican """""" from oslo_log import log as logging from oslo_utils import excutils from castellan.cert_manager import cert_manager from castellan.common import barbican as barbican_common from castellan.common.objects import certificate_bundle from castellan.common.objects import passphrase from castellan.common.objects import private_key as private_key_obj from castellan.common.objects import x_509 from castellan.openstack.common import _i18n as u LOG = logging.getLogger(__name__) class BarbicanCertManager(cert_manager.CertManager): """"""Certificate Manager that wraps the Barbican client API."""""" def __init__(self): self._barbican_auth = barbican_common.BarbicanAuth() def store(self, context, certificate, private_key, intermediates=None, private_key_passphrase=None, expiration=None, name='TLS Certificate Bundle'): """"""Stores a certificate in the certificate manager. :param certificate: PEM encoded TLS certificate :param private_key: private key for the supplied certificate :param intermediates: ordered and concatenated intermediate certs :param private_key_passphrase: optional passphrase for the supplied key :param expiration: the expiration time of the cert in ISO 8601 format :param name: a friendly name for the cert :returns: the container_ref of the stored cert :raises Exception: if certificate storage fails """""" connection = self._barbican_auth.get_barbican_client(context) LOG.info( u._LI(""Storing certificate container '%s' in Barbican.""), name ) certificate_secret = None private_key_secret = None intermediates_secret = None pkp_secret = None try: certificate_secret = connection.secrets.create( payload=certificate, expiration=expiration, name=""Certificate"" ) private_key_secret = connection.secrets.create( payload=private_key, expiration=expiration, name=""Private Key"" ) certificate_container = connection.containers.create_certificate( name=name, certificate=certificate_secret, private_key=private_key_secret ) if intermediates: if type(intermediates) == list: intermediates = ""\n"".join(intermediates) intermediates_secret = connection.secrets.create( payload=intermediates, expiration=expiration, name=""Intermediates"" ) certificate_container.intermediates = intermediates_secret if private_key_passphrase: pkp_secret = connection.secrets.create( payload=private_key_passphrase, expiration=expiration, name=""Private Key Passphrase"" ) certificate_container.private_key_passphrase = pkp_secret certificate_container.store() return certificate_container.container_ref except Exception as e: for i in [certificate_secret, private_key_secret, intermediates_secret, pkp_secret]: if i and i.secret_ref: old_ref = i.secret_ref try: i.delete() LOG.info( u._LI(""Deleted secret %(name)s (%(ref)s) during"" "" rollback.""), {""name"": i.name, ""ref"": old_ref} ) except Exception: LOG.warning( u._LW(""Failed to delete %(name)s (%(ref)s) during"" "" rollback. This might not be a problem.""), {""name"": i.name, ""ref"": old_ref} ) with excutils.save_and_reraise_exception(): LOG.error( u._LE(""Error storing certificate data: %s""), e ) def get(self, context, cert_ref, register=False, service_name=None, resource_ref=None): """"""Retrieves the specified cert and optionally registers as a consumer. :param cert_ref: the UUID of the cert to retrieve :param register: Read Certificate data without registering :param service_name: Friendly name for the consuming service :param resource_ref: Full HATEOAS reference to the consuming resource :return: CertificateBundle representation of the certificate data :raises Exception: if certificate retrieval fails """""" connection = self._barbican_auth.get_barbican_client(context) LOG.info( u._LI(""Loading certificate container %s from Barbican.""), cert_ref ) try: if not register: cert_container = connection.containers.get( container_ref=cert_ref ) else: cert_container = connection.containers.register_consumer( container_ref=cert_ref, name=service_name, url=resource_ref ) return certificate_bundle.CertificateBundle( certificate=x_509.X509( data=cert_container.certificate.payload ), private_key=private_key_obj.PrivateKey( algorithm=cert_container.private_key.algorithm, bit_length=cert_container.private_key.bit_length, key=cert_container.private_key.payload ), intermediates=[ x_509.X509(intermediate) for intermediate in barbican_common.split_x509s( cert_container.intermediates.payload ) ], private_key_passphrase=passphrase.Passphrase( passphrase=cert_container.private_key_passphrase.payload ), name=cert_container.name ) except Exception as e: with excutils.save_and_reraise_exception(): LOG.error( u._LE(""Error getting %(ref)s: %(error)s""), {""ref"": cert_ref, ""error"": e} ) def delete(self, context, cert_ref, resource_ref=None, service_name=None, really_delete=False): """"""Deregister as a consumer for the specified cert. :param cert_ref: the UUID of the cert to retrieve :param resource_ref: Full HATEOAS reference to the consuming resource :param service_name: Friendly name for the consuming service :raises Exception: if deregistration fails """""" if really_delete: self._actually_delete_cert(context, cert_ref) else: connection = self._barbican_auth.get_barbican_client(context) LOG.info( u._LI(""Deregistering as a consumer of %s in Barbican.""), cert_ref ) try: connection.containers.remove_consumer( container_ref=cert_ref, name=service_name, url=resource_ref ) except Exception as e: with excutils.save_and_reraise_exception(): LOG.error( u._LE(""Error deregistering as a consumer of %(ref)s: "" ""%(error)s""), {""ref"": cert_ref, ""error"": e} ) def _actually_delete_cert(self, context, cert_ref): """"""Deletes the specified cert. Very dangerous. Do not recommend. :param cert_ref: the UUID of the cert to delete :raises Exception: if certificate deletion fails """""" connection = self._barbican_auth.get_barbican_client(context) LOG.info( u._LI( ""Recursively deleting certificate container %s from Barbican."" ), cert_ref ) try: certificate_container = connection.containers.get(cert_ref) certificate_container.certificate.delete() if certificate_container.intermediates: certificate_container.intermediates.delete() if certificate_container.private_key_passphrase: certificate_container.private_key_passphrase.delete() certificate_container.private_key.delete() certificate_container.delete() except Exception as e: with excutils.save_and_reraise_exception(): LOG.error( u._LE(""Error recursively deleting container %(ref)s: "" ""%(error)s""), {""ref"": cert_ref, ""error"": e} ) ",,517,0
openstack%2Fcastellan~master~I6971735681cb31bb66fc8d52d2f46fdfca8abebe,openstack/castellan,master,I6971735681cb31bb66fc8d52d2f46fdfca8abebe,Copy octavia.certmgr to Castellan,ABANDONED,2015-02-16 17:53:35.000000000,2015-08-17 19:22:41.000000000,,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7789}, {'_account_id': 8623}, {'_account_id': 10273}, {'_account_id': 10670}, {'_account_id': 10873}, {'_account_id': 16046}]","[{'number': 1, 'created': '2015-02-16 17:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/f8e6be10bf479283e522de7b77485caccbc887a5', 'message': 'Copy octavia.certmgr to Castellan\n\nChange-Id: I6971735681cb31bb66fc8d52d2f46fdfca8abebe\n'}, {'number': 2, 'created': '2015-08-11 23:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/d2829e7c6c8df4e47e56e2d761647eec8e6d4b6d', 'message': 'Copy octavia.certmgr to Castellan\n\nChange-Id: I6971735681cb31bb66fc8d52d2f46fdfca8abebe\n'}, {'number': 3, 'created': '2015-08-12 23:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/963f810bfcbb23f9da9cff9a2483b8139383e773', 'message': 'Copy octavia.certmgr to Castellan\n\nChange-Id: I6971735681cb31bb66fc8d52d2f46fdfca8abebe\n'}, {'number': 4, 'created': '2015-08-13 18:33:18.000000000', 'files': ['castellan/common/objects/certificate_bundle.py', 'castellan/cert_manager/not_implemented_cert_manager.py', 'castellan/tests/unit/cert_manager/fake.py', 'castellan/cert_manager/__init__.py', 'castellan/tests/unit/cert_manager/mock_cert_manager.py', 'castellan/options.py', 'castellan/tests/unit/cert_manager/test_not_implemented_cert_manager.py', 'castellan/cert_manager/cert_manager.py', 'castellan/tests/unit/cert_manager/test_mock_cert_manager.py', 'castellan/tests/unit/cert_manager/__init__.py', 'castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'castellan/common/barbican.py', 'castellan/tests/unit/cert_manager/test_cert_manager.py', 'castellan/key_manager/barbican_key_manager.py', 'castellan/tests/unit/test_options.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/8028036ef7ac648e748360640da6b4081fa10480', 'message': 'Copy octavia.certmgr to Castellan\n\nChange-Id: I6971735681cb31bb66fc8d52d2f46fdfca8abebe\n'}]",12,156307,8028036ef7ac648e748360640da6b4081fa10480,22,8,4,10273,,,0,"Copy octavia.certmgr to Castellan

Change-Id: I6971735681cb31bb66fc8d52d2f46fdfca8abebe
",git fetch https://review.opendev.org/openstack/castellan refs/changes/07/156307/4 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/certmgr/test_cert_mgr.py', 'castellan/certmgr/__init__.py', 'castellan/certmgr/cert.py', 'castellan/certmgr/cert_mgr.py', 'castellan/tests/certmgr/mock_cert.py', 'castellan/tests/certmgr/fake.py', 'castellan/tests/certmgr/test_mock_cert_mgr.py', 'castellan/certmgr/not_implemented_cert_mgr.py', 'castellan/tests/certmgr/__init__.py', 'castellan/tests/certmgr/mock_cert_mgr.py', 'castellan/tests/certmgr/test_not_implemented_cert_mgr.py']",11,f8e6be10bf479283e522de7b77485caccbc887a5,castellan-certs,"# Copyright (c) 2015 The Johns Hopkins University/Applied Physics Laboratory # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Test cases for the not implemented cert manager. """""" from castellan.certmgr import not_implemented_cert_mgr from castellan.tests.certmgr import test_cert_mgr class NotImplementedCertManagerTestCase(test_cert_mgr.CertManagerTestCase): def _create_cert_manager(self): return not_implemented_cert_mgr.NotImplementedCertManager() def setUp(self): super(NotImplementedCertManagerTestCase, self).setUp() def test_store_cert(self): self.assertRaises(NotImplementedError, self.cert_mgr.store_cert, None, None, None) def test_get_cert(self): self.assertRaises(NotImplementedError, self.cert_mgr.get_cert, None, None) def test_delete_cert(self): self.assertRaises(NotImplementedError, self.cert_mgr.delete_cert, None, None) ",,482,0
openstack%2Fcastellan~master~Ibacc1913dad259a8d4c06945db4c330887c2d185,openstack/castellan,master,Ibacc1913dad259a8d4c06945db4c330887c2d185,Officially add Certificate Management to scope,ABANDONED,2015-02-17 15:31:23.000000000,2015-08-17 19:22:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6437}, {'_account_id': 6951}, {'_account_id': 7262}, {'_account_id': 7764}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 10873}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12403}, {'_account_id': 15226}]","[{'number': 1, 'created': '2015-02-17 15:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/b36b241cd7b2515a26afc3d194c3240ebc9147cc', 'message': 'Officially add Certificate Management to scope\n\nChange-Id: Ibacc1913dad259a8d4c06945db4c330887c2d185\n'}, {'number': 2, 'created': '2015-08-11 23:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/34fbb8389ae2ac97fad0107132d00639a23728bf', 'message': 'Officially add Certificate Management to scope\n\nChange-Id: Ibacc1913dad259a8d4c06945db4c330887c2d185\n'}, {'number': 3, 'created': '2015-08-12 23:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/79116c347f3bf7888f8eee9e8bb6199a73c012fa', 'message': 'Officially add Certificate Management to scope\n\nChange-Id: Ibacc1913dad259a8d4c06945db4c330887c2d185\n'}, {'number': 4, 'created': '2015-08-13 18:16:17.000000000', 'files': ['README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/castellan/commit/e57afc2c0cd7f034945a378648be3c95cabfb9f3', 'message': 'Officially add Certificate Management to scope\n\nChange-Id: Ibacc1913dad259a8d4c06945db4c330887c2d185\n'}]",0,156623,e57afc2c0cd7f034945a378648be3c95cabfb9f3,38,16,4,10273,,,0,"Officially add Certificate Management to scope

Change-Id: Ibacc1913dad259a8d4c06945db4c330887c2d185
",git fetch https://review.opendev.org/openstack/castellan refs/changes/23/156623/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'setup.cfg']",2,b36b241cd7b2515a26afc3d194c3240ebc9147cc,castellan-certs,summary = Generic Key and Certificate Manager interface for OpenStack,summary = Generic Key Manager interface for OpenStack,2,2
openstack%2Fnova~master~I8735281bbdd9300793a887d0db7ce28bb6483a3e,openstack/nova,master,I8735281bbdd9300793a887d0db7ce28bb6483a3e,Fix the 2.10 formatting in the REST API version history doc,ABANDONED,2015-08-11 16:26:49.000000000,2015-08-17 19:21:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11803}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-08-11 16:26:49.000000000', 'files': ['nova/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b6a9afe99089e48830c7894b4943d47aa1620f2', 'message': 'Fix the 2.10 formatting in the REST API version history doc\n\nFix the underline so the 2.10 version section is formatted properly.\n\nChange-Id: I8735281bbdd9300793a887d0db7ce28bb6483a3e\n'}]",0,211656,2b6a9afe99089e48830c7894b4943d47aa1620f2,15,12,1,6873,,,0,"Fix the 2.10 formatting in the REST API version history doc

Fix the underline so the 2.10 version section is formatted properly.

Change-Id: I8735281bbdd9300793a887d0db7ce28bb6483a3e
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/211656/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/rest_api_version_history.rst'],1,2b6a9afe99089e48830c7894b4943d47aa1620f2,fix-rest-api-history-210,----,---,1,1
openstack%2Fkolla~master~Ie5559eef2ed7996d214212061a90a5bdeed3c189,openstack/kolla,master,Ie5559eef2ed7996d214212061a90a5bdeed3c189,Add Dockerfile template for keepalived,MERGED,2015-08-16 04:19:44.000000000,2015-08-17 19:16:50.000000000,2015-08-17 19:16:49.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 13039}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-16 04:19:44.000000000', 'files': ['docker_templates/keepalived/config-external.sh', 'docker_templates/keepalived/Dockerfile.j2', 'docker_templates/keepalived/start.sh', 'docker_templates/keepalived/check_alive.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2466dc60e155bb9cf5148eebee56dca5ed061fc', 'message': 'Add Dockerfile template for keepalived\n\nChange-Id: Ie5559eef2ed7996d214212061a90a5bdeed3c189\nPartially-Implements: blueprint dockerfile-template\n'}]",3,213479,c2466dc60e155bb9cf5148eebee56dca5ed061fc,11,4,1,14119,,,0,"Add Dockerfile template for keepalived

Change-Id: Ie5559eef2ed7996d214212061a90a5bdeed3c189
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/213479/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/keepalived/config-external.sh', 'docker_templates/keepalived/Dockerfile.j2', 'docker_templates/keepalived/start.sh', 'docker_templates/keepalived/check_alive.sh']",4,c2466dc60e155bb9cf5148eebee56dca5ed061fc,bp/dockerfile-template,../../docker/common/keepalived/check_alive.sh,,25,0
openstack%2Fcinder~master~I38f520cace67ddcaf067787683ac47f50a6c0b3f,openstack/cinder,master,I38f520cace67ddcaf067787683ac47f50a6c0b3f,VMware: Deprecate vCenter version less than 5.1,MERGED,2015-07-30 07:24:43.000000000,2015-08-17 18:52:13.000000000,2015-08-17 02:40:40.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15882}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-07-30 07:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4cd6079e5b477500f0abbfebc8595fd443a8c4f', 'message': 'VMware: Deprecate vCenter version less than 5.1\n\nLog a warning if the vCenter server version is less than 5.1.\nThe plan is to enforce the version in M release.\n\nDocImpact\nRunning Cinder with a VMware vCenter version less than 5.1 is\ndeprecated. The minimum required version of vCenter server will\nbe raised to 5.1 in the 2016.1 release.\n\nChange-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f\n'}, {'number': 2, 'created': '2015-07-30 07:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59197124b2f8f114a0e39ec9daaa57be370cb137', 'message': 'VMware: Deprecate vCenter version less than 5.1\n\nLog a warning if the vCenter server version is less than 5.1.\nThe plan is to enforce the version in M release.\n\nDocImpact\nRunning Cinder with a VMware vCenter version less than 5.1 is\ndeprecated. The minimum required version of vCenter server will\nbe raised to 5.1 in the 2016.1 release.\n\nChange-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f\n'}, {'number': 3, 'created': '2015-07-30 07:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1122a1a169151abc32e1200ff19bd652e2ba7173', 'message': 'VMware: Deprecate vCenter version less than 5.1\n\nLog a warning if the vCenter server version is less than 5.1.\nThe plan is to enforce the version in M release.\n\nDocImpact\nRunning Cinder with a VMware vCenter version less than 5.1 is\ndeprecated. The minimum required version of vCenter server will\nbe raised to 5.1 in the 2016.1 release.\n\nChange-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f\n'}, {'number': 4, 'created': '2015-08-14 09:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f5498b17a183086848456a3b8311d5edca752c1', 'message': 'VMware: Deprecate vCenter version less than 5.1\n\nLog a warning if the vCenter server version is less than 5.1.\nThe plan is to enforce the version in M release.\n\nDocImpact\nRunning Cinder with a VMware vCenter version less than 5.1 is\ndeprecated. The minimum required version of vCenter server will\nbe raised to 5.1 in the 8.0.0 release.\n\nChange-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f\n'}, {'number': 5, 'created': '2015-08-14 11:08:33.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/unit/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05d71803a08d58820f456e1a5954066f48dfa5eb', 'message': 'VMware: Deprecate vCenter version less than 5.1\n\nLog a warning if the vCenter server version is less than 5.1.\nThe plan is to enforce the version in M release.\n\nDocImpact\nRunning Cinder with a VMware vCenter version less than 5.1 is\ndeprecated. The minimum required version of vCenter server will\nbe raised to 5.1 in the 8.0.0 release.\n\nChange-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f\n'}]",4,207321,05d71803a08d58820f456e1a5954066f48dfa5eb,101,45,5,9171,,,0,"VMware: Deprecate vCenter version less than 5.1

Log a warning if the vCenter server version is less than 5.1.
The plan is to enforce the version in M release.

DocImpact
Running Cinder with a VMware vCenter version less than 5.1 is
deprecated. The minimum required version of vCenter server will
be raised to 5.1 in the 8.0.0 release.

Change-Id: I38f520cace67ddcaf067787683ac47f50a6c0b3f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/207321/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/unit/test_vmware_vmdk.py']",2,a4cd6079e5b477500f0abbfebc8595fd443a8c4f,deprecate_vc," @mock.patch('cinder.volume.drivers.vmware.vmdk.LOG') def test_validate_vcenter_version(self, log): vc_version = ver.LooseVersion('5.5') self._driver._validate_vcenter_version(vc_version) self.assertFalse(log.warning.called) @mock.patch('cinder.volume.drivers.vmware.vmdk.LOG') def test_validate_vcenter_version_with_min_supported_version(self, log): vc_version = self._driver.MIN_SUPPORTED_VC_VERSION self._driver._validate_vcenter_version(vc_version) self.assertFalse(log.warning.called) @mock.patch('cinder.volume.drivers.vmware.vmdk.LOG') def test_validate_vcenter_version_with_less_than_min_supported_version( self, log): vc_version = ver.LooseVersion('5.0') self._driver._validate_vcenter_version(vc_version) self.assertTrue(log.warning.called) @mock.patch('cinder.volume.drivers.vmware.vmdk.VMwareVcVmdkDriver.' '_validate_vcenter_version') vops_cls, validate_vc_version): vc_version = ver.LooseVersion('5.0') get_vc_version.return_value = vc_version validate_vc_version.assert_called_once_with(vc_version) @mock.patch('cinder.volume.drivers.vmware.vmdk.VMwareVcVmdkDriver.' '_validate_vcenter_version') get_pbm_wsdl_location, validate_vc_version): validate_vc_version.assert_called_once_with(vc_version) @mock.patch('cinder.volume.drivers.vmware.vmdk.VMwareVcVmdkDriver.' '_validate_vcenter_version') vops_cls, validate_vc_version): validate_vc_version.assert_called_once_with(vc_version)", vops_cls): get_vc_version.return_value = ver.LooseVersion('5.0') get_pbm_wsdl_location): vops_cls):,50,5
openstack%2Frally~master~I69d2c9f479d3a41944a211970c674923b4e7933a,openstack/rally,master,I69d2c9f479d3a41944a211970c674923b4e7933a,OpenStackProvider: Refresh IPs before looking for access IP,MERGED,2015-07-22 03:22:21.000000000,2015-08-17 18:50:24.000000000,2015-08-17 18:50:21.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 10475}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-07-22 03:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/25ba44259dbd7800b367fff2ef981257335c0135', 'message': 'OpenStackProvider: Refresh IPs before looking for access IP\n\nChange I525280f016cf71f2650df19fc602d84e7281ad7b chooses the server IP\nmore carefully.  This change refreshes the known server addresses before\nlooking for available IPs, removing a potential race during VM creation\nthat could result in ""no addresses found"".\n\nChange-Id: I69d2c9f479d3a41944a211970c674923b4e7933a\n'}, {'number': 2, 'created': '2015-08-13 00:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7cc9a463f7efb6a5e4471b8b3059c9a5c771c82d', 'message': 'OpenStackProvider: Refresh IPs before looking for access IP\n\nChange I525280f016cf71f2650df19fc602d84e7281ad7b chooses the server IP\nmore carefully.  This change refreshes the known server addresses before\nlooking for available IPs, removing a potential race during VM creation\nthat could result in ""no addresses found"".\n\nChange-Id: I69d2c9f479d3a41944a211970c674923b4e7933a\n'}, {'number': 3, 'created': '2015-08-17 03:37:49.000000000', 'files': ['rally/deployment/serverprovider/providers/openstack.py', 'tests/unit/deployment/serverprovider/providers/test_openstack.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/09fa2dd8b4d2a77463735c4f18ac4a7fd45177f1', 'message': 'OpenStackProvider: Refresh IPs before looking for access IP\n\nChange I525280f016cf71f2650df19fc602d84e7281ad7b chooses the server IP\nmore carefully.  This change refreshes the known server addresses before\nlooking for available IPs, removing a potential race during VM creation\nthat could result in ""no addresses found"".\n\nChange-Id: I69d2c9f479d3a41944a211970c674923b4e7933a\n'}]",0,204360,09fa2dd8b4d2a77463735c4f18ac4a7fd45177f1,17,5,3,11279,,,0,"OpenStackProvider: Refresh IPs before looking for access IP

Change I525280f016cf71f2650df19fc602d84e7281ad7b chooses the server IP
more carefully.  This change refreshes the known server addresses before
looking for available IPs, removing a potential race during VM creation
that could result in ""no addresses found"".

Change-Id: I69d2c9f479d3a41944a211970c674923b4e7933a
",git fetch https://review.opendev.org/openstack/rally refs/changes/60/204360/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally/deployment/serverprovider/providers/openstack.py', 'tests/unit/deployment/serverprovider/providers/test_openstack.py']",2,25ba44259dbd7800b367fff2ef981257335c0135,openstack-region," mock_utils.wait_for = lambda x, **kw: x",,7,5
openstack%2Fsahara~master~I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0,openstack/sahara,master,I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0,Support manila shares as binary store,MERGED,2015-07-22 16:39:04.000000000,2015-08-17 18:49:53.000000000,2015-08-17 18:49:52.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-07-22 16:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1626f64898a87e8acfd5ae72a29373a42b02ab15', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for oozie jobs\nusing a share manually mounted as /mnt/manila on\nthe cluster nodes.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 2, 'created': '2015-07-22 16:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/09f882e0456852ccba9a22e60a0f4730abd31bdd', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for oozie jobs\nusing a share manually mounted as /mnt/manila on\nthe cluster nodes.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 3, 'created': '2015-07-23 14:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6aa586b9bc0d44e37443ff29d41a332fc375e16b', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for oozie jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 4, 'created': '2015-07-23 14:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1ecd9704c8b112e940903537af7fe95600071e0c', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for oozie jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 5, 'created': '2015-07-23 20:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3bd5b05e6523e4cd4e2bd19b1e47ed99615618bf', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for Oozie\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 6, 'created': '2015-07-23 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/55bae644c1ecd5586943aa99d853ac2cd5b6e147', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for Oozie\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 7, 'created': '2015-07-24 13:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c9e5a6f7c463dd2851adf4a9e72e9604c80d9c2f', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for Oozie\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 8, 'created': '2015-07-24 19:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/920e503178e3cbe84b8f8017e132b6d526f867df', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  Still a WIP, but will work for Oozie\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 9, 'created': '2015-07-24 19:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b698dad424ab7192970156aca29c82c8ff35b1ad', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 10, 'created': '2015-07-24 20:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c7b44c8eeac0191a28217fd4734848781df9cda1', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 11, 'created': '2015-07-27 12:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e790000688c7bfcfb442f8821dfd54a48c5c8768', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 12, 'created': '2015-07-27 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/81381f8c35f2b38c1ccb1b9b058490b3852142ca', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 13, 'created': '2015-07-27 13:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b3ecb07ad23d2f6011f87044ba81ad5726b43e93', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 14, 'created': '2015-07-27 15:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a0bb05d5a00614836a9866c9e85517c1dc8e8df9', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 15, 'created': '2015-07-27 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/37465d062863737791ab601e2c35c498cd890b87', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 16, 'created': '2015-07-27 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3030df288b5edc10232e3d0c6bc5d2404f48c766', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 17, 'created': '2015-07-28 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5522525e722eff7eef7d643fdf58cca15cdccbe5', 'message': 'Support manila shares as binary store\n\nInitial set of changes to minimally support manila shares\nas a binary store.  It should work for Oozie, Storm,\nand Spark jobs.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 18, 'created': '2015-07-28 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dda5d8a96c86b6582160462e93ccfbb07b0c259d', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 19, 'created': '2015-07-28 16:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/088ef168d419c4aff55a54e7e9e94b9a70968ce8', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 20, 'created': '2015-07-28 17:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6eec79e6d9c8956a3b4df63c56a9d2ab3cb0ab40', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 21, 'created': '2015-07-28 18:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/505ef5166a7178f0e18ac267a0a1868efac2f11f', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 22, 'created': '2015-07-28 20:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5276ffaf7b0caafdb134353b689e71ac8bf71ad1', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 23, 'created': '2015-07-29 14:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f045c7d6c8f402c628a39b5365d6a96932be4936', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 24, 'created': '2015-07-29 15:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d5ebbbe78345996d2816f69d87bbec5c609a0152', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 25, 'created': '2015-08-03 14:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a663a1cdeea48a0f764fd7763f56f68312f8e026', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 26, 'created': '2015-08-04 18:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/669fd1307d79352ce7245c438b738d8bd8e6e0f2', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 27, 'created': '2015-08-05 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7d725b0905f68b4f92534121d8a79a04681ccc02', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 28, 'created': '2015-08-05 13:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3c85b0b51d22ccb4b5d3c3730fe702edebcce1d1', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 29, 'created': '2015-08-05 18:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/797e151b81ec141d647903837e16c05e65f56b4c', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in a manila share.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 30, 'created': '2015-08-05 18:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c56993fde927e425fd385e10688e7f8fe9841c28', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in manila shares.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}, {'number': 31, 'created': '2015-08-11 13:47:15.000000000', 'files': ['sahara/service/edp/spark/engine.py', 'sahara/tests/unit/service/edp/spark/base.py', 'sahara/service/edp/binary_retrievers/manila_share.py', 'sahara/service/edp/oozie/engine.py', 'sahara/utils/api_validator.py', 'sahara/service/edp/storm/engine.py', 'sahara/tests/unit/service/edp/storm/test_storm.py', 'sahara/tests/unit/service/edp/binary_retrievers/test_dispatch.py', 'sahara/plugins/spark/config_helper.py', 'sahara/service/edp/binary_retrievers/dispatch.py', 'sahara/utils/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/6761a01b098631c1726df6f6bdd87c5b82b9503f', 'message': 'Support manila shares as binary store\n\nChanges to support manila shares as a binary store.\nOozie, Spark and Storm jobs can now run with job\nbinaries stored in manila shares.\n\nChange-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0\nImplements: bp manila-as-binary-store\n'}]",44,204690,6761a01b098631c1726df6f6bdd87c5b82b9503f,132,12,31,8090,,,0,"Support manila shares as binary store

Changes to support manila shares as a binary store.
Oozie, Spark and Storm jobs can now run with job
binaries stored in manila shares.

Change-Id: I2f5fbe3d36ef4b87e5cadd337854e95ed95ebaa0
Implements: bp manila-as-binary-store
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/204690/20 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/service/edp/binary_retrievers/manila_share.py', 'sahara/service/edp/oozie/engine.py', 'sahara/utils/api_validator.py', 'sahara/swift/utils.py', 'sahara/service/edp/binary_retrievers/dispatch.py']",5,1626f64898a87e8acfd5ae72a29373a42b02ab15,bp/manila-as-a-data-source,from sahara.service.edp.binary_retrievers import manila_share as manila if url.startswith(su.MANILA_PREFIX): res = manila.get_file_info(job_binary) ,,50,2
openstack%2Fglance~master~I2736d1ad1bb4f309cac92157a1ce6bdbe72fcbf8,openstack/glance,master,I2736d1ad1bb4f309cac92157a1ce6bdbe72fcbf8,Fix error message's format in image_member,MERGED,2015-07-29 08:28:34.000000000,2015-08-17 18:49:49.000000000,2015-08-17 18:49:47.000000000,"[{'_account_id': 3}, {'_account_id': 7575}, {'_account_id': 8158}, {'_account_id': 8871}, {'_account_id': 9303}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 15054}, {'_account_id': 16658}, {'_account_id': 17116}]","[{'number': 1, 'created': '2015-07-29 08:28:34.000000000', 'files': ['glance/api/v2/image_members.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e9c1a7e99c19809939168c6ffb63433339bcdcd5', 'message': ""Fix error message's format in image_member\n\nThe message's format should use '%', not ','\n\nChange-Id: I2736d1ad1bb4f309cac92157a1ce6bdbe72fcbf8\nCloses-bug:#1479257\n""}]",0,206933,e9c1a7e99c19809939168c6ffb63433339bcdcd5,22,10,1,15054,,,0,"Fix error message's format in image_member

The message's format should use '%', not ','

Change-Id: I2736d1ad1bb4f309cac92157a1ce6bdbe72fcbf8
Closes-bug:#1479257
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/206933/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/image_members.py'],1,e9c1a7e99c19809939168c6ffb63433339bcdcd5,bug/1479257," ""%(inner_msg)s"") % {""image_id"": image.image_id, ""inner_msg"": e.msg}) ""%(i_id)s."") % {""m_id"": member_id, ""i_id"": image.image_id})"," ""%(inner_msg)s""), {""image_id"": image.image_id, ""inner_msg"": e.msg}) ""%(i_id)s.""), {""m_id"": member_id, ""i_id"": image.image_id})",4,4
openstack%2Fhorizon~master~I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2,openstack/horizon,master,I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2,Horizon Context Selection should be to the right,MERGED,2015-08-13 17:55:07.000000000,2015-08-17 18:49:18.000000000,2015-08-17 18:49:16.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6162}, {'_account_id': 6610}, {'_account_id': 6650}, {'_account_id': 6914}, {'_account_id': 7665}, {'_account_id': 8040}, {'_account_id': 8648}, {'_account_id': 9317}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 11098}, {'_account_id': 11778}, {'_account_id': 12826}, {'_account_id': 13785}, {'_account_id': 14124}, {'_account_id': 16628}]","[{'number': 1, 'created': '2015-08-13 17:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8c1b67ae2690dafad005068c85b5c76c33b251d5', 'message': ""Horizon Context Selection should be to the right\n\nAn unintended result of a recent refactor left the context picker css\nwithout any love. The refactor of the topbar needs to have style\nparity to its previous incantation.\n\nIt was noted that the design for the current context selection is not\na good pattern to follow for responsive design.  The menu grows\nhorizontally, which will make it difficult to see on smaller screens\nas well as when it is displayed in the now responsive topbar.  The\noriginal design still applies to larger screens, but now on smaller\nscreens, the menu will fall back to a vertically growing responsive\nmenu.\n\nThe nav-header color has been changed, because it was also the same\ncolor as the 'disabled' nav item state, which was confusing.\n\nChange-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2\ncloses-bug: #1483910\npartially implements bp: bootstrap-html-standards\n""}, {'number': 2, 'created': '2015-08-13 19:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a56af25545a8a328193a40dc60a76ebed0a444a1', 'message': ""Horizon Context Selection should be to the right\n\nAn unintended result of a recent refactor left the context picker css\nwithout any love. The refactor of the topbar needs to have style\nparity to its previous incantation.\n\nIt was noted that the design for the current context selection is not\na good pattern to follow for responsive design.  The menu grows\nhorizontally, which will make it difficult to see on smaller screens\nas well as when it is displayed in the now responsive topbar.  The\noriginal design still applies to larger screens, but now on smaller\nscreens, the menu will fall back to a vertically growing responsive\nmenu.\n\nThe nav-header color has been changed, because it was also the same\ncolor as the 'disabled' nav item state, which was confusing.\n\nChange-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2\ncloses-bug: #1483910\npartially implements bp: bootstrap-html-standards\n""}, {'number': 3, 'created': '2015-08-13 19:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aef3b1e7226af37e86123f90dee31952460f8beb', 'message': ""Horizon Context Selection should be to the right\n\nAn unintended result of a recent refactor left the context picker css\nwithout any love. The refactor of the topbar needs to have style\nparity to its previous incantation.\n\nIt was noted that the design for the current context selection is not\na good pattern to follow for responsive design.  The menu grows\nhorizontally, which will make it difficult to see on smaller screens\nas well as when it is displayed in the now responsive topbar.  The\noriginal design still applies to larger screens, but now on smaller\nscreens, the menu will fall back to a vertically growing responsive\nmenu.\n\nThe nav-header color has been changed, because it was also the same\ncolor as the 'disabled' nav item state, which was confusing.\n\nRefactoring of the some of the context_selection.py code was required\nin order to support wrapping the menu's in <li>s without needing to\nchange their corresponding HTML files.  Since the files can be used\nas templatetag templates outside of _header.html, it was best to\nkeep them as stand alone <ul> lists.\n\nChange-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2\ncloses-bug: #1483910\npartially implements bp: bootstrap-html-standards\n""}, {'number': 4, 'created': '2015-08-13 19:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c43689cc7e49ab9343e44f47e0d64bd14052a32a', 'message': ""Horizon Context Selection should be to the right\n\nAn unintended result of a recent refactor left the context picker css\nwithout any love. The refactor of the topbar needs to have style\nparity to its previous incantation.\n\nIt was noted that the design for the current context selection is not\na good pattern to follow for responsive design.  The menu grows\nhorizontally, which will make it difficult to see on smaller screens\nas well as when it is displayed in the now responsive topbar.  The\noriginal design still applies to larger screens, but now on smaller\nscreens, the menu will fall back to a vertically growing responsive\nmenu.\n\nThe nav-header color has been changed, because it was also the same\ncolor as the 'disabled' nav item state, which was confusing.\n\nRefactoring of the some of the context_selection.py code was required\nin order to support wrapping the menus in <li> tagss without needing\nto change their corresponding HTML files.  Since the files can be\nused as templatetag templates outside of _header.html, it was best to\nkeep them as stand alone <ul> lists.\n\nChange-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2\ncloses-bug: #1483910\npartially implements bp: bootstrap-html-standards\n""}, {'number': 5, 'created': '2015-08-14 17:49:01.000000000', 'files': ['openstack_dashboard/themes/default/horizon/_styles.scss', 'openstack_dashboard/templatetags/context_selection.py', 'openstack_dashboard/templates/context_selection/_region_list.html', 'openstack_dashboard/static/dashboard/scss/components/_context_selection.scss', 'openstack_dashboard/templates/context_selection/_project_list.html', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/themes/default/bootstrap/_variables.scss', 'openstack_dashboard/templates/context_selection/_domain_list.html', 'openstack_dashboard/themes/default/horizon/components/_context_selection.scss', 'openstack_dashboard/static/dashboard/scss/_variables.scss', 'openstack_dashboard/templates/_header.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/97939292eb991a1b3345046edcb7fbac6d7dab81', 'message': ""Horizon Context Selection should be to the right\n\nAn unintended result of a recent refactor left the context picker css\nwithout any love. The refactor of the topbar needs to have style\nparity to its previous incantation.\n\nIt was noted that the design for the current context selection is not\na good pattern to follow for responsive design.  The menu grows\nhorizontally, which will make it difficult to see on smaller screens\nas well as when it is displayed in the now responsive topbar.  The\noriginal design still applies to larger screens, but now on smaller\nscreens, the menu will fall back to a vertically growing responsive\nmenu.\n\nThe nav-header color has been changed, because it was also the same\ncolor as the 'disabled' nav item state, which was confusing.\n\nRefactoring of the some of the context_selection.py code was required\nin order to support wrapping the menus in <li> tagss without needing\nto change their corresponding HTML files.  Since the files can be\nused as templatetag templates outside of _header.html, it was best to\nkeep them as stand alone <ul> lists.\n\nChange-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2\ncloses-bug: #1483910\npartially implements bp: bootstrap-html-standards\n""}]",7,212682,97939292eb991a1b3345046edcb7fbac6d7dab81,21,23,5,11778,,,0,"Horizon Context Selection should be to the right

An unintended result of a recent refactor left the context picker css
without any love. The refactor of the topbar needs to have style
parity to its previous incantation.

It was noted that the design for the current context selection is not
a good pattern to follow for responsive design.  The menu grows
horizontally, which will make it difficult to see on smaller screens
as well as when it is displayed in the now responsive topbar.  The
original design still applies to larger screens, but now on smaller
screens, the menu will fall back to a vertically growing responsive
menu.

The nav-header color has been changed, because it was also the same
color as the 'disabled' nav item state, which was confusing.

Refactoring of the some of the context_selection.py code was required
in order to support wrapping the menus in <li> tagss without needing
to change their corresponding HTML files.  Since the files can be
used as templatetag templates outside of _header.html, it was best to
keep them as stand alone <ul> lists.

Change-Id: I6e7c7b6fed08d215bcf83941da1bf90b40cd17b2
closes-bug: #1483910
partially implements bp: bootstrap-html-standards
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/212682/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/themes/default/horizon/_styles.scss', 'openstack_dashboard/templates/context_selection/_region_list.html', 'openstack_dashboard/static/dashboard/scss/components/_context_selection.scss', 'openstack_dashboard/templates/context_selection/_project_list.html', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/themes/default/bootstrap/_variables.scss', 'openstack_dashboard/templates/context_selection/_domain_list.html', 'openstack_dashboard/themes/default/horizon/components/_context_selection.scss', 'openstack_dashboard/static/dashboard/scss/_variables.scss', 'openstack_dashboard/templates/_header.html']",10,8c1b67ae2690dafad005068c85b5c76c33b251d5,bug/1483910," <li class=""dropdown""> <ul class=""dropdown-menu context-selection""> {% if domain_supported %} <li> {% show_domain_list %} </li> {% endif %} <li> {% show_project_list %} </li> {% if multi_region %} <li> {% show_region_list %} </li> {% endif %} </ul>"," <li class=""dropdown context-selection""> {% show_domain_list %} {% show_project_list %} {% show_region_list %}",122,10
openstack%2Fglance~master~Ief9dc3329d7df07e1da32bb5ccc557096f73624f,openstack/glance,master,Ief9dc3329d7df07e1da32bb5ccc557096f73624f,Fix image owner can't be changed issue in v2,MERGED,2015-02-10 22:44:33.000000000,2015-08-17 18:48:58.000000000,2015-08-17 18:48:55.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 7012}, {'_account_id': 7575}, {'_account_id': 8151}, {'_account_id': 8158}, {'_account_id': 9096}, {'_account_id': 9303}, {'_account_id': 9751}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 11428}, {'_account_id': 12299}, {'_account_id': 13747}, {'_account_id': 15054}, {'_account_id': 16658}]","[{'number': 1, 'created': '2015-02-10 22:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ef1ffa026db13dc8d178bce16ffaddc21d9ee793', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, at least by admin user.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}, {'number': 2, 'created': '2015-04-13 22:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7059f0f6197a44c119db4e34f3925ca965e8bdff', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, at least by admin user.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}, {'number': 3, 'created': '2015-04-14 01:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3df64a281124fa5087c1bc89c9a4de3b1bc4c2e9', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, at least by admin user.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}, {'number': 4, 'created': '2015-04-15 23:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f3b28508a155d3e821d77024cfd7a83454312b55', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, at least by admin user.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}, {'number': 5, 'created': '2015-06-22 03:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/118c158a0cf98ea20e1a2bce5c034ebac88f4ded', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, and only by admin user. This patch\nfixes the issue and add some test cases for that.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}, {'number': 6, 'created': '2015-08-17 14:02:31.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/46666826c98915499e15572125798dcff3f69314', 'message': ""Fix image owner can't be changed issue in v2\n\nIt is incompatible with v1 for owner change in v2. Image owner\nshould be able to be changed, and only by admin user. This patch\nfixes the issue and add some test cases for that.\n\nCloses-Bug: #1420008\n\nChange-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f\n""}]",9,154695,46666826c98915499e15572125798dcff3f69314,54,21,6,6484,,,0,"Fix image owner can't be changed issue in v2

It is incompatible with v1 for owner change in v2. Image owner
should be able to be changed, and only by admin user. This patch
fixes the issue and add some test cases for that.

Closes-Bug: #1420008

Change-Id: Ief9dc3329d7df07e1da32bb5ccc557096f73624f
",git fetch https://review.opendev.org/openstack/glance refs/changes/95/154695/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,ef1ffa026db13dc8d178bce16ffaddc21d9ee793,bug/1420008,," 'owner': TENANT1,",1,3
openstack%2Fneutron~master~I289241803a78d7487761db00312cfe3e3242ea1a,openstack/neutron,master,I289241803a78d7487761db00312cfe3e3242ea1a,"[WIP] Revert ""Skip FwaaS test that is failing due to race condition""",ABANDONED,2015-08-14 20:10:16.000000000,2015-08-17 18:44:52.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14010}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-14 20:10:16.000000000', 'files': ['neutron/tests/api/test_fwaas_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fb349f519319251d2f85c406db7ff668ca79447', 'message': '[WIP] Revert ""Skip FwaaS test that is failing due to race condition""\n\nThis commit will be used to track the progress of fixing the race\ncondition\n\nThis reverts commit 764e716cd658dfa9b4cbb07be6bbbeff99e21eaf.\n\nChange-Id: I289241803a78d7487761db00312cfe3e3242ea1a\n'}]",0,213326,4fb349f519319251d2f85c406db7ff668ca79447,20,18,1,4656,,,0,"[WIP] Revert ""Skip FwaaS test that is failing due to race condition""

This commit will be used to track the progress of fixing the race
condition

This reverts commit 764e716cd658dfa9b4cbb07be6bbbeff99e21eaf.

Change-Id: I289241803a78d7487761db00312cfe3e3242ea1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/213326/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/api/test_fwaas_extensions.py'],1,4fb349f519319251d2f85c406db7ff668ca79447,fwaas_race_fix,, self.skipTest('Bug #1483875'),0,1
openstack%2Fmagnum~master~I51a3f12126acc9ba564a8ace6a73852945ed9d5b,openstack/magnum,master,I51a3f12126acc9ba564a8ace6a73852945ed9d5b,Provides correct master IP address for kube-proxy,MERGED,2015-08-14 23:43:02.000000000,2015-08-17 18:43:51.000000000,2015-08-17 18:43:51.000000000,"[{'_account_id': 3}, {'_account_id': 6836}, {'_account_id': 7494}, {'_account_id': 9591}, {'_account_id': 10206}, {'_account_id': 10263}, {'_account_id': 11650}, {'_account_id': 12053}]","[{'number': 1, 'created': '2015-08-14 23:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2ad9687871cd06551e2702a3609cfbab46b68485', 'message': 'Fixes Master IP address for kube-proxy\n\nPreviously, kube-proxy was using 127.0.0.1 to communicate with\nthe k8s master. Since kube-proxy runs on nodes, this address\nis insufficient and causes kube-proxy to not work with the\nfollowing error:\n\nUnable to load services: \\\nGet http://127.0.0.1:8080/api/v1beta3/services: \\\ndial tcp 127.0.0.1:8080: connection refused\n\nFixes bug 1485143\n\nChange-Id: I51a3f12126acc9ba564a8ace6a73852945ed9d5b\n'}, {'number': 2, 'created': '2015-08-16 22:54:00.000000000', 'files': ['magnum/templates/heat-kubernetes/fragments/configure-kubernetes-minion.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3db4cc83dfe5ac9d730879a20c9f8a824053b8b4', 'message': 'Provides correct master IP address for kube-proxy\n\nPreviously, KUBE_MASTER was not being set in a config file\nread by the kube-proxy service. This change adds the KUBE_MASTER\nconfiguration parameter to /etc/kubernetes/config.\n\nCloses-Bug: #1485143\n\nChange-Id: I51a3f12126acc9ba564a8ace6a73852945ed9d5b\n'}]",3,213377,3db4cc83dfe5ac9d730879a20c9f8a824053b8b4,17,8,2,6836,,,0,"Provides correct master IP address for kube-proxy

Previously, KUBE_MASTER was not being set in a config file
read by the kube-proxy service. This change adds the KUBE_MASTER
configuration parameter to /etc/kubernetes/config.

Closes-Bug: #1485143

Change-Id: I51a3f12126acc9ba564a8ace6a73852945ed9d5b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/77/213377/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/templates/heat-kubernetes/fragments/configure-kubernetes-minion.sh'],1,2ad9687871cd06551e2702a3609cfbab46b68485,bug_1485143,"/^KUBE_MASTER=/ s|=.*|=""--master=http://'""$KUBE_MASTER_IP""':8080""|",,1,0
openstack%2Fastara-neutron~master~I627bb0b878d4c6fccca1a7abad242df41ed29698,openstack/astara-neutron,master,I627bb0b878d4c6fccca1a7abad242df41ed29698,Drop unused Neutron extensions,MERGED,2015-08-04 21:51:51.000000000,2015-08-17 18:38:25.000000000,2015-08-17 18:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 6923}]","[{'number': 1, 'created': '2015-08-04 21:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara-neutron/commit/4d5c46da1ec5c34d6eae2f3f3b97c30b66185dcd', 'message': 'Drop unused Neutron extensions\n\nThese extensions are unmaintained and have accumulated siginifcant\nbitrot.  Neutron upstream has changed how extensions work and now\nthese unused things are starting to cause problems.  Remove them until\nwe can rebase them on the current Neutron code and repair them.\n\nChange-Id: I627bb0b878d4c6fccca1a7abad242df41ed29698\nCloses-bug: #1481463\n'}, {'number': 2, 'created': '2015-08-04 22:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara-neutron/commit/7e3c2252b7dcaa2fede95f63bc92b03c1c8fb92c', 'message': 'Drop unused Neutron extensions\n\nThese extensions are unmaintained and have accumulated siginifcant\nbitrot.  Neutron upstream has changed how extensions work and now\nthese unused things are starting to cause problems.  Remove them until\nwe can rebase them on the current Neutron code and repair them.\n\nChange-Id: I627bb0b878d4c6fccca1a7abad242df41ed29698\nCloses-bug: #1481463\n'}, {'number': 3, 'created': '2015-08-06 22:55:51.000000000', 'files': ['akanda/neutron/extensions/addressentry.py', 'akanda/neutron/extensions/portforward.py', 'akanda/neutron/extensions/addressgroup.py', 'akanda/neutron/extensions/filterrule.py', 'akanda/neutron/db/__init__.py', 'akanda/neutron/db/models_v2.py', 'akanda/neutron/extensions/_authzbase.py', 'akanda/neutron/extensions/routerstatus.py', 'akanda/neutron/extensions/portalias.py'], 'web_link': 'https://opendev.org/openstack/astara-neutron/commit/7b03eb97d3473f8277e08ddadded71ac18b5fe96', 'message': 'Drop unused Neutron extensions\n\nThese extensions are unmaintained and have accumulated siginifcant\nbitrot.  Neutron upstream has changed how extensions work and now\nthese unused things are starting to cause problems.  Remove them until\nwe can rebase them on the current Neutron code and repair them.\n\nChange-Id: I627bb0b878d4c6fccca1a7abad242df41ed29698\nCloses-bug: #1481463\n'}]",0,209267,7b03eb97d3473f8277e08ddadded71ac18b5fe96,10,3,3,1420,,,0,"Drop unused Neutron extensions

These extensions are unmaintained and have accumulated siginifcant
bitrot.  Neutron upstream has changed how extensions work and now
these unused things are starting to cause problems.  Remove them until
we can rebase them on the current Neutron code and repair them.

Change-Id: I627bb0b878d4c6fccca1a7abad242df41ed29698
Closes-bug: #1481463
",git fetch https://review.opendev.org/openstack/astara-neutron refs/changes/67/209267/3 && git format-patch -1 --stdout FETCH_HEAD,"['akanda/neutron/extensions/addressentry.py', 'akanda/neutron/extensions/portforward.py', 'akanda/neutron/extensions/addressgroup.py', 'akanda/neutron/extensions/filterrule.py', 'akanda/neutron/extensions/portalias.py']",5,4d5c46da1ec5c34d6eae2f3f3b97c30b66185dcd,209267,,"# Copyright 2014 DreamHost, LLC # # Author: DreamHost, LLC # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.api import extensions from neutron.api.v2 import attributes from neutron.common import exceptions from akanda.neutron.db import models_v2 from akanda.neutron.extensions import _authzbase class PortaliasResource(_authzbase.ResourceDelegate): """"""This resource was created merely to satisfy Horizon's need to store alias names for ports. It is recommended to refactor this to perhaps just an alias resource that can contain aliases for multiple entities """""" model = models_v2.PortAlias resource_name = 'portalias' collection_name = 'portaliases' ATTRIBUTE_MAP = { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:regex': attributes.UUID_PATTERN}, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'default': '', 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'required_by_policy': True, 'is_visible': True}, 'protocol': {'allow_post': True, 'allow_put': True, 'required_by_policy': True, 'is_visible': True}, 'port': {'allow_post': True, 'allow_put': True, 'required_by_policy': True, 'is_visible': True}, } def make_dict(self, portalias): """""" Convert a portalias model object to a dictionary. """""" res = {'id': portalias['id'], 'name': portalias['name'], 'protocol': portalias['protocol'], 'port': portalias['port'], 'tenant_id': portalias['tenant_id']} return res def before_delete(self, resource): if resource.port == 0: # FIXME(dhellmann): This will apply if the user creates # any of their own aliases with a zero port. raise exceptions.PolicyNotAuthorized( action='modification of system port aliases.' ) return super(PortaliasResource, self).before_delete(resource) def update(self, context, resource, resource_dict): if resource.port == 0: # FIXME(dhellmann): This will apply if the user creates # any of their own aliases with a zero port. raise exceptions.PolicyNotAuthorized( action='deletion of system port aliases.' ) return super(PortaliasResource, self).update(context, resource, resource_dict, ) def create(self, context, tenant_id, body): if body.get('port') == 0: # FIXME(dhellmann): This will apply if the user creates # any of their own aliases with a zero port. raise exceptions.PolicyNotAuthorized( action='creation of wildcard port aliases' ) return super(PortaliasResource, self).create(context, tenant_id, body ) _authzbase.register_quota('portalias', 'quota_portalias') class Portalias(object): """""" """""" def get_name(self): return ""portalias"" def get_alias(self): return ""dhportalias"" def get_description(self): return ""A portalias extension"" def get_namespace(self): return 'http://docs.dreamcompute.com/api/ext/v1.0' def get_updated(self): return ""2012-08-02T16:00:00-05:00"" def get_resources(self): return [extensions.ResourceExtension( 'dhportalias', _authzbase.create_extension(PortaliasResource()))] # _authzbase.ResourceController(PortAliasResource()))] def get_actions(self): return [] def get_request_extensions(self): return [] ",0,716
openstack%2Fbarbican~master~I2f4c4e2c8429a2201ac1eaf39d6520833deb7017,openstack/barbican,master,I2f4c4e2c8429a2201ac1eaf39d6520833deb7017,"Use ""key-manager"" instead of ""keymanagement""",MERGED,2015-08-17 00:31:58.000000000,2015-08-17 18:34:28.000000000,2015-08-17 18:34:27.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 7789}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-08-17 00:31:58.000000000', 'files': ['barbican/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a1de1d2a2e731f9d9b45979efd12f95b89319f0d', 'message': 'Use ""key-manager"" instead of ""keymanagement""\n\nFor consistency we\'re converging Barbican service name to use ""Key\nManager"" everywhere.\n\nSee:\n\nhttps://review.openstack.org/#/c/206198/\n\nThis patch updates the media type used in the root resource.\n\nChange-Id: I2f4c4e2c8429a2201ac1eaf39d6520833deb7017\n'}]",0,213567,a1de1d2a2e731f9d9b45979efd12f95b89319f0d,10,6,1,7973,,,0,"Use ""key-manager"" instead of ""keymanagement""

For consistency we're converging Barbican service name to use ""Key
Manager"" everywhere.

See:

https://review.openstack.org/#/c/206198/

This patch updates the media type used in the root resource.

Change-Id: I2f4c4e2c8429a2201ac1eaf39d6520833deb7017
",git fetch https://review.opendev.org/openstack/barbican refs/changes/67/213567/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/versions.py'],1,a1de1d2a2e731f9d9b45979efd12f95b89319f0d,,MEDIA_TYPE_JSON = 'application/vnd.openstack.key-manager-%s+json',MEDIA_TYPE_JSON = 'application/vnd.openstack.keymanagement-%s+json',1,1
openstack%2Fbarbican~master~I4ff640c7bd412b9946797d2da7be04fe78678c63,openstack/barbican,master,I4ff640c7bd412b9946797d2da7be04fe78678c63,Ensure a http 405 is returned on container(s) PUT,MERGED,2015-08-15 03:06:25.000000000,2015-08-17 18:33:05.000000000,2015-08-17 18:33:04.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 11970}, {'_account_id': 13510}]","[{'number': 1, 'created': '2015-08-15 03:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b976a4929ed7356fd2d9a76443858ab8880851dd', 'message': ""Ensure a http 405 is returned on container(s) PUT\n\nAdded the @utils.allow_all_content_types decorator to the index function\non the Containers controller to ensure that we pass control to that function\nrather than have pecan determine that some content type(s) aren't what\nit expects.\n\nWithout this fix, pecan looks at the content type (normally application/json)\nand returns an http 406 rather than the more appropriate http 405.\n\nCloses-Bug #1485157\n\nChange-Id: I4ff640c7bd412b9946797d2da7be04fe78678c63\n""}, {'number': 2, 'created': '2015-08-16 16:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/975cb718c82d7148f5ee4da4234e9c47ec8fb74a', 'message': ""Ensure a http 405 is returned on container(s) PUT\n\nAdded the @utils.allow_all_content_types decorator to the index function\non the Containers controller to ensure that we pass control to that function\nrather than have pecan determine that some content type(s) aren't what\nit expects.\n\nWithout this fix, pecan looks at the content type (normally application/json)\nand returns an http 406 rather than the more appropriate http 405.\n\nCloses-Bug #1485157\n\nChange-Id: I4ff640c7bd412b9946797d2da7be04fe78678c63\n""}, {'number': 3, 'created': '2015-08-16 19:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/78657520f1f0e59981fd5723c2607ea9504c9918', 'message': 'Ensure a http 405 is returned on container(s) PUT\n\nAdded the template=\'json\' option to the pecan expose decorator on the index\nfunction on the Containers controller to ensure that we pass control to that\nfunction rather than have pecan determine that some content type(s) aren\'t what\nit expects.\n\nWithout this fix, pecan looks at the content type (we set as application/json)\nand since its not ""text/html"" pecan returns an http 406 rather than passing\ncontrol on to the index function which sets the more appropriate http 405.\n\nCloses-Bug #1485157\n\nChange-Id: I4ff640c7bd412b9946797d2da7be04fe78678c63\n'}, {'number': 4, 'created': '2015-08-16 19:56:19.000000000', 'files': ['functionaltests/api/v1/functional/test_containers_rbac.py', 'barbican/api/controllers/containers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/663a2362bbe56912e9f7f0451fcb9a37e8c387e8', 'message': 'Ensure a http 405 is returned on container(s) PUT\n\nAdded the template=\'json\' option to the pecan expose decorator on\nthe index function on the Containers controller to ensure that we\npass control to that function rather than have pecan determine\nthat some content type(s) aren\'t what it expects.\n\nWithout this fix, pecan looks at the content type (we set as\napplication/json) and since its not ""text/html"" pecan returns an\nhttp 406 rather than passing control on to the index function which\nsets the more appropriate http 405.\n\nCloses-Bug #1485157\n\nChange-Id: I4ff640c7bd412b9946797d2da7be04fe78678c63\n'}]",6,213402,663a2362bbe56912e9f7f0451fcb9a37e8c387e8,17,11,4,9234,,,0,"Ensure a http 405 is returned on container(s) PUT

Added the template='json' option to the pecan expose decorator on
the index function on the Containers controller to ensure that we
pass control to that function rather than have pecan determine
that some content type(s) aren't what it expects.

Without this fix, pecan looks at the content type (we set as
application/json) and since its not ""text/html"" pecan returns an
http 406 rather than passing control on to the index function which
sets the more appropriate http 405.

Closes-Bug #1485157

Change-Id: I4ff640c7bd412b9946797d2da7be04fe78678c63
",git fetch https://review.opendev.org/openstack/barbican refs/changes/02/213402/4 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/api/v1/functional/test_containers_rbac.py', 'barbican/api/controllers/containers.py']",2,b976a4929ed7356fd2d9a76443858ab8880851dd,bug/1485157, @utils.allow_all_content_types @utils.allow_all_content_types,,6,4
openstack%2Fcliff~master~Ia22ccc42d71a4c9d7085303939dae9948ba52418,openstack/cliff,master,Ia22ccc42d71a4c9d7085303939dae9948ba52418,Improve help messages,MERGED,2015-08-07 14:31:10.000000000,2015-08-17 18:30:46.000000000,2015-08-17 18:30:43.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 7634}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-08-07 14:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/1a9f195b8c6d8327fad9c17c4b6dcd01d0df7c29', 'message': 'Improve help messages\n\nHelp messages are in normally fully sentences starting with a capital\nletter.\nSome of the help messages follow this but not all. Adjust all so\nthat help messages look consistent.\n\nChange-Id: Ia22ccc42d71a4c9d7085303939dae9948ba52418\n'}, {'number': 2, 'created': '2015-08-07 14:50:08.000000000', 'files': ['cliff/app.py', 'cliff/tests/test_app.py', 'doc/source/interactive_mode.rst'], 'web_link': 'https://opendev.org/openstack/cliff/commit/784f6d6d3d804c72249caf35189f613bca6236a1', 'message': 'Improve help messages\n\nHelp messages are in normally fully sentences starting with a capital\nletter, some of the help messages follow this but not all. Adjust all so\nthat help messages look consistent.\n\nAlso, improve wording of --help text.\n\nChange-Id: Ia22ccc42d71a4c9d7085303939dae9948ba52418\n'}]",5,210470,784f6d6d3d804c72249caf35189f613bca6236a1,12,5,2,6547,,,0,"Improve help messages

Help messages are in normally fully sentences starting with a capital
letter, some of the help messages follow this but not all. Adjust all so
that help messages look consistent.

Also, improve wording of --help text.

Change-Id: Ia22ccc42d71a4c9d7085303939dae9948ba52418
",git fetch https://review.opendev.org/openstack/cliff refs/changes/70/210470/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/app.py', 'cliff/tests/test_app.py', 'doc/source/interactive_mode.rst']",3,1a9f195b8c6d8327fad9c17c4b6dcd01d0df7c29,update-help," -h, --help Show this help message and exit."," -h, --help show this help message and exit",7,7
openstack%2Fbarbican~master~I594ab430a0ff111b9fc4d433d07ab55f39eccec4,openstack/barbican,master,I594ab430a0ff111b9fc4d433d07ab55f39eccec4,Removal of bin/barbican.sh and deprecated bin/barbican-all,ABANDONED,2015-07-14 21:17:36.000000000,2015-08-17 18:30:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 9234}, {'_account_id': 11561}]","[{'number': 1, 'created': '2015-07-14 21:17:36.000000000', 'files': ['bin/barbican.sh', 'doc/source/setup/dev.rst', 'rpmbuild/SPECS/barbican.spec', 'doc/source/contribute/dataflow.rst', 'doc/source/setup/keystone.rst', 'bin/barbican-all'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ead40bb9f68ea3149882564cbb848d1315f3fd66', 'message': 'Removal of bin/barbican.sh and deprecated bin/barbican-all\n\nRemoved bin/barbican.sh and bin/barbican-all\nUpdated documentation with instructions to install via pip\nUpdated documentation to use bin/barbican-api for startup\n\nChange-Id: I594ab430a0ff111b9fc4d433d07ab55f39eccec4\ncloses-bug: #1472427\n'}]",0,201782,ead40bb9f68ea3149882564cbb848d1315f3fd66,8,5,1,15993,,,0,"Removal of bin/barbican.sh and deprecated bin/barbican-all

Removed bin/barbican.sh and bin/barbican-all
Updated documentation with instructions to install via pip
Updated documentation to use bin/barbican-api for startup

Change-Id: I594ab430a0ff111b9fc4d433d07ab55f39eccec4
closes-bug: #1472427
",git fetch https://review.opendev.org/openstack/barbican refs/changes/82/201782/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/barbican.sh', 'doc/source/setup/dev.rst', 'doc/source/contribute/dataflow.rst', 'rpmbuild/SPECS/barbican.spec', 'doc/source/setup/keystone.rst', 'bin/barbican-all']",6,ead40bb9f68ea3149882564cbb848d1315f3fd66,bug/1472427,,"#!/bin/bash ##### # WARNING: This script is deprecated now. Please use the barbican.sh script instead. ##### # barbican-api - Script run Cloudkeep's Barbican API app. PKG=barbican # For local development, set VENV_PYTHON equal to the path to your virtual environment's site-packages location VENV=${VENV:-.venv} VENV_HOME=${VENV_HOME:-$PWD} VENV_PYTHON=$VENV_HOME/$VENV/lib/python2.7/site-packages PKG_DIR=/etc/$PKG CONF_FILE=$PKG_DIR/barbican.conf POLICY_FILE=$PKG_DIR/policy.json SIGNING_DIR=$PKG_DIR/cache/ OPTS='--daemonize /var/log/barbican/uwsgi.log' # Configure for a local deployment environment: if [ ! -f $CONF_FILE ]; then echo 'Running locally...' PKG_DIR=$PWD/etc/$PKG CONF_FILE=./etc/$PKG/barbican.conf PYTHONPATH=$VENV_PYTHON:$PYTHONPATH OPTS='-H '$VENV_HOME/$VENV' --stats :9314' # Copy conf file to home directory so oslo.config can find it LOCAL_CONF_FILE=~/barbican.conf if [ ! -f $LOCAL_CONF_FILE ]; then cp ./etc/$PKG/barbican.conf ~ fi fi # TODO: This is breaking deployment...need to analyze. #if [ ! -f $POLICY_FILE ]; #then # LOCAL_POLICY_FILE=./etc/$PKG/policy.json # mkdir -p $PKG_DIR # sudo cp $LOCAL_POLICY_FILE POLICY_FILE #fi # #if [ ! -f $SIGNING_DIR ]; #then # echo ""making ""$SIGNING_DIR # sudo mkdir -p $SIGNING_DIR #fi echo 'Running Barbican uWSGI Emperor '$PKG_DIR/vassals echo 'Executing uwsgi with these options: '$PKG_DIR/vassals' '$OPTS uwsgi --master --emperor $PKG_DIR/vassals $OPTS ",11,195
openstack%2Fkolla~master~I170e9884ad179f0e3f6e5aba28074abbb7d5ed97,openstack/kolla,master,I170e9884ad179f0e3f6e5aba28074abbb7d5ed97,Fix heat docker templates,MERGED,2015-08-16 21:55:42.000000000,2015-08-17 18:16:17.000000000,2015-08-17 18:16:16.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 3098}]","[{'number': 1, 'created': '2015-08-16 21:55:42.000000000', 'files': ['docker_templates/heat/heat-api-cfn/Dockerfile.j2', 'docker_templates/heat/heat-api/Dockerfile.j2', 'docker_templates/heat/heat-engine/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/649a2a3c9e147b835053d4a186e159092762477d', 'message': 'Fix heat docker templates\n\nHeat docker templates were not pointing to correct base\n\nChange-Id: I170e9884ad179f0e3f6e5aba28074abbb7d5ed97\nPartially-Implements: blueprint docker-templates\n'}]",0,213547,649a2a3c9e147b835053d4a186e159092762477d,7,3,1,2834,,,0,"Fix heat docker templates

Heat docker templates were not pointing to correct base

Change-Id: I170e9884ad179f0e3f6e5aba28074abbb7d5ed97
Partially-Implements: blueprint docker-templates
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/213547/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/heat/heat-api-cfn/Dockerfile.j2', 'docker_templates/heat/heat-api/Dockerfile.j2', 'docker_templates/heat/heat-engine/Dockerfile.j2']",3,649a2a3c9e147b835053d4a186e159092762477d,bp/docker-templates,FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-heat-base:{{ tag }},FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }},3,3
openstack%2Fheat~master~I51a8b42358efc25422cf0b384b3a08ab5fa4910f,openstack/heat,master,I51a8b42358efc25422cf0b384b3a08ab5fa4910f,Don't update instances that will be removed,ABANDONED,2015-06-09 15:38:33.000000000,2015-08-17 18:15:23.000000000,,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7385}, {'_account_id': 9751}, {'_account_id': 12363}, {'_account_id': 16203}]","[{'number': 1, 'created': '2015-06-09 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/939cd701d197f9343d074d8de37bdd25ceae44fe', 'message': ""Don't update instances that will be removed\n\nChange-Id: I51a8b42358efc25422cf0b384b3a08ab5fa4910f\n""}, {'number': 2, 'created': '2015-06-10 08:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/951f5e3d204de44f595b5f41072bdfce0fdb8f9d', 'message': ""Don't update instances that will be removed\n\nNow handle_update in instance_group has such logic:\nupdating the instances and then resizing group to desired\nnumber of resources. In the case of reducing the number of\nresources we make update for resources that will be deleted\nat resize. So first do resize to such size that satisfy\nboth desired capacity after whole update and effct_capacity\n(some resources can be added during rolling_update\nto satisfy min_in_service parameter).\n\nChange-Id: I51a8b42358efc25422cf0b384b3a08ab5fa4910f\n""}, {'number': 3, 'created': '2015-06-10 09:33:54.000000000', 'files': ['heat/engine/resources/openstack/heat/instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d7ea5b50358459d3eec1ede941a25f878a218d9f', 'message': ""Don't update instances that will be removed\n\nNow handle_update in instance_group has such logic:\nupdating the instances and then resizing group to desired\nnumber of resources. In the case of reducing the number of\nresources we make update for resources that will be deleted\nat resize. So first do resize to such size that satisfy\nboth desired capacity after whole update and effct_capacity\n(some resources can be added during rolling_update\nto satisfy min_in_service parameter).\n\nChange-Id: I51a8b42358efc25422cf0b384b3a08ab5fa4910f\n""}]",6,189778,d7ea5b50358459d3eec1ede941a25f878a218d9f,15,7,3,12363,,,0,"Don't update instances that will be removed

Now handle_update in instance_group has such logic:
updating the instances and then resizing group to desired
number of resources. In the case of reducing the number of
resources we make update for resources that will be deleted
at resize. So first do resize to such size that satisfy
both desired capacity after whole update and effct_capacity
(some resources can be added during rolling_update
to satisfy min_in_service parameter).

Change-Id: I51a8b42358efc25422cf0b384b3a08ab5fa4910f
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/189778/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/instance_group.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py']",2,939cd701d197f9343d074d8de37bdd25ceae44fe,pre_update," self._pre_update(policy[self.MIN_IN_SERVICE], policy[self.MAX_BATCH_SIZE])",,21,0
openstack%2Fkolla~master~I740f1ccc5763b683a39957304a7cce3f43f2c588,openstack/kolla,master,I740f1ccc5763b683a39957304a7cce3f43f2c588,Add Dockerfile template for designate,MERGED,2015-08-17 13:18:10.000000000,2015-08-17 18:14:50.000000000,2015-08-17 18:14:49.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10419}]","[{'number': 1, 'created': '2015-08-17 13:18:10.000000000', 'files': ['docker_templates/designate/designate-backend-bind9/Dockerfile.j2', 'docker_templates/designate/designate-api/Dockerfile.j2', 'docker_templates/designate/designate-poolmanager/Dockerfile.j2', 'docker_templates/designate/designate-mdns/config-external.sh', 'docker_templates/designate/designate-poolmanager/start.sh', 'docker_templates/designate/designate-central/config-external.sh', 'docker_templates/designate/designate-mdns/start.sh', 'docker_templates/designate/designate-sink/config-external.sh', 'docker_templates/designate/designate-backend-bind9/start.sh', 'docker_templates/designate/designate-mdns/Dockerfile.j2', 'docker_templates/designate/designate-central/Dockerfile.j2', 'docker_templates/designate/designate-poolmanager/config-external.sh', 'docker_templates/designate/designate-backend-bind9/config-external.sh', 'docker_templates/designate/designate-sink/start.sh', 'docker_templates/designate/designate-base/Dockerfile.j2', 'docker_templates/designate/designate-central/start.sh', 'docker_templates/designate/designate-api/start.sh', 'docker_templates/designate/designate-sink/Dockerfile.j2', 'docker_templates/designate/designate-api/config-external.sh', 'docker_templates/designate/designate-backend-bind9-data/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/491823b93b08a60dc3a3798bda6666081c03a508', 'message': 'Add Dockerfile template for designate\n\nChange-Id: I740f1ccc5763b683a39957304a7cce3f43f2c588\nPartially-Implements: blueprint dockerfile-template\n'}]",0,213703,491823b93b08a60dc3a3798bda6666081c03a508,7,3,1,16620,,,0,"Add Dockerfile template for designate

Change-Id: I740f1ccc5763b683a39957304a7cce3f43f2c588
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/213703/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/designate/designate-backend-bind9/Dockerfile.j2', 'docker_templates/designate/designate-api/Dockerfile.j2', 'docker_templates/designate/designate-poolmanager/Dockerfile.j2', 'docker_templates/designate/designate-mdns/config-external.sh', 'docker_templates/designate/designate-poolmanager/start.sh', 'docker_templates/designate/designate-central/config-external.sh', 'docker_templates/designate/designate-mdns/start.sh', 'docker_templates/designate/designate-sink/config-external.sh', 'docker_templates/designate/designate-backend-bind9/start.sh', 'docker_templates/designate/designate-mdns/Dockerfile.j2', 'docker_templates/designate/designate-central/Dockerfile.j2', 'docker_templates/designate/designate-poolmanager/config-external.sh', 'docker_templates/designate/designate-backend-bind9/config-external.sh', 'docker_templates/designate/designate-sink/start.sh', 'docker_templates/designate/designate-base/Dockerfile.j2', 'docker_templates/designate/designate-central/start.sh', 'docker_templates/designate/designate-api/start.sh', 'docker_templates/designate/designate-sink/Dockerfile.j2', 'docker_templates/designate/designate-api/config-external.sh', 'docker_templates/designate/designate-backend-bind9-data/Dockerfile.j2']",20,491823b93b08a60dc3a3798bda6666081c03a508,bp/dockerfile-template,"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }} MAINTAINER Kolla Project (https://launchpad.net.kolla) VOLUME [ ""/var/named"" ] CMD [ ""/bin/true"" ] ",,162,0
openstack%2Fcliff~master~I5411706ad78b25f5ca3d9223ed37214bcbfe2de4,openstack/cliff,master,I5411706ad78b25f5ca3d9223ed37214bcbfe2de4,Updated from global requirements,MERGED,2015-08-10 01:05:17.000000000,2015-08-17 18:13:02.000000000,2015-08-17 18:13:00.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-08-10 01:05:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cliff/commit/faf935a648d0ee666c0fc62f5bf3e71ac42c910c', 'message': 'Updated from global requirements\n\nChange-Id: I5411706ad78b25f5ca3d9223ed37214bcbfe2de4\n'}]",0,210884,faf935a648d0ee666c0fc62f5bf3e71ac42c910c,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I5411706ad78b25f5ca3d9223ed37214bcbfe2de4
",git fetch https://review.opendev.org/openstack/cliff refs/changes/84/210884/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,faf935a648d0ee666c0fc62f5bf3e71ac42c910c,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Fmanila~master~Ib1b3fef9340a8932e8a0a7aacf6dc92ad7a32ab7,openstack/manila,master,Ib1b3fef9340a8932e8a0a7aacf6dc92ad7a32ab7,Fix sample config file generation,MERGED,2015-08-17 11:27:23.000000000,2015-08-17 18:11:56.000000000,2015-08-17 18:11:55.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 13144}, {'_account_id': 14232}, {'_account_id': 16657}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-08-17 11:27:23.000000000', 'files': ['setup.cfg', 'manila/opts.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c679056ee7cccc458ddf2317d817727f570256a', 'message': 'Fix sample config file generation\n\nThere\'s a import missing and oslo-config-generator expects\n""oslo.config.opts"" as namespace to search for configuration options.\n\nChange-Id: Ib1b3fef9340a8932e8a0a7aacf6dc92ad7a32ab7\nCloses-bug: #1485526\n'}]",0,213678,9c679056ee7cccc458ddf2317d817727f570256a,20,9,1,7102,,,0,"Fix sample config file generation

There's a import missing and oslo-config-generator expects
""oslo.config.opts"" as namespace to search for configuration options.

Change-Id: Ib1b3fef9340a8932e8a0a7aacf6dc92ad7a32ab7
Closes-bug: #1485526
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/213678/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'manila/opts.py']",2,9c679056ee7cccc458ddf2317d817727f570256a,bug/1485526,import manila.scheduler.weights.pool,,2,1
openstack%2Foslo.concurrency~master~I2daadd969383aaf49ad87876ba108dd80dd56f08,openstack/oslo.concurrency,master,I2daadd969383aaf49ad87876ba108dd80dd56f08,Use oslo_utils reflection to get 'f' callable name,MERGED,2015-08-09 00:04:21.000000000,2015-08-17 18:10:42.000000000,2015-08-17 18:10:41.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 2472}]","[{'number': 1, 'created': '2015-08-09 00:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/7b7126d5a6dbe6fe6bb4be7f05590446e29444b4', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nChange-Id: I2daadd969383aaf49ad87876ba108dd80dd56f08\n""}, {'number': 2, 'created': '2015-08-09 00:07:41.000000000', 'files': ['oslo_concurrency/lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/3aaa63986cdfe537986e74a9178a57d5783fd140', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nUsing the utility function gets a better name.\n\nFor example:\n\n$ python\n\n>>> from oslo_utils import reflection\n>>> class A(object):\n...   def m(self):\n...     pass\n... \n>>> z = A()\n>>> reflection.get_callable_name(z.m)\n'__main__.A.m'\n\nVersus:\n\n>>> z.m.__name__\n'm'\n\nChange-Id: I2daadd969383aaf49ad87876ba108dd80dd56f08\n""}]",0,210771,3aaa63986cdfe537986e74a9178a57d5783fd140,8,3,2,1297,,,0,"Use oslo_utils reflection to get 'f' callable name

Using the utility function gets a better name.

For example:

$ python

>>> from oslo_utils import reflection
>>> class A(object):
...   def m(self):
...     pass
... 
>>> z = A()
>>> reflection.get_callable_name(z.m)
'__main__.A.m'

Versus:

>>> z.m.__name__
'm'

Change-Id: I2daadd969383aaf49ad87876ba108dd80dd56f08
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/71/210771/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/lockutils.py'],1,7b7126d5a6dbe6fe6bb4be7f05590446e29444b4,,"from oslo_utils import reflection {'name': name, 'function': reflection.get_callable_name(f), {'name': name, 'function': reflection.get_callable_name(f),"," {'name': name, 'function': f.__name__, {'name': name, 'function': f.__name__,",5,2
openstack%2Fpbr~master~I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3,openstack/pbr,master,I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3,Expose a 'rpm_version' extra command,MERGED,2015-06-26 19:07:45.000000000,2015-08-17 18:08:20.000000000,2015-08-17 18:08:18.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1297}, {'_account_id': 1926}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 9076}, {'_account_id': 9453}, {'_account_id': 12612}]","[{'number': 1, 'created': '2015-06-26 19:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b24fa9f5cedda37dc5aa5ff98f2949a8572128b9', 'message': ""Expose a 'rpm_version' extra command\n\nChange-Id: I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3\n""}, {'number': 2, 'created': '2015-07-02 04:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a1c682c138da172210421d5efd22df29fb17c39b', 'message': ""Expose a 'rpm_version' extra command\n\nIntended usage, getting a rpm *compatible* version number from pbr\nfrom a pbr using python package. Typically this will then get\nput into a rpm spec file (what is used to build an rpm) and used to \nbuild an rpm using `rpmbuild` (the thing used to translate rpm spec\nfiles into rpms).\n\nFor example: this allows https://github.com/stackforge/anvil (which\nI am the primary maintainer of and godaddy, cray, and y! are users\nof) to get out of the whacky and/or flakey rpm version number\ncalculation/conversion process (which previously just worked\naround by saying only use tags).\n\nChange-Id: I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3\n""}, {'number': 3, 'created': '2015-07-02 04:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/9f04ddb8110f25c7f424376461e3a9d974fbf095', 'message': ""Expose a 'rpm_version' extra command\n\nIntended usage, getting a rpm *compatible* version number from pbr\nfrom a pbr using python package. Typically this will then get\nput into a rpm spec file (what is used to build an rpm) and used to\nbuild an rpm using `rpmbuild` (the thing used to translate rpm spec\nfiles into rpms).\n\nFor example: this allows https://github.com/stackforge/anvil (which\nI am the primary maintainer of and godaddy, cray, and y! are users\nof) to get out of the whacky and/or flakey rpm version number\ncalculation/conversion process (which previously just worked\naround by saying only use tags).\n\nChange-Id: I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3\n""}, {'number': 4, 'created': '2015-07-02 04:52:14.000000000', 'files': ['pbr/packaging.py', 'pbr/tests/test_commands.py', 'pbr/hooks/commands.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/826380603382e4aa2d1eb57649da91dd3ba4e0a5', 'message': ""Expose a 'rpm_version' extra command\n\nIntended usage, getting a rpm *compatible* version number from pbr\nfrom a pbr using python package. Typically this will then get\nput into a rpm spec file (what is used to build an rpm) and used to\nbuild an rpm using `rpmbuild` (the thing used to translate rpm spec\nfiles into rpms).\n\nFor example: this allows [1][2] (which I am the primary maintainer of\nand godaddy, cray, and y! are users of) to get out of the whacky\nand/or flakey rpm version number calculation/conversion process (which\npreviously just worked around by saying only use tags).\n\n[1] https://github.com/stackforge/anvil\n[2] https://anvil.readthedocs.org/en/latest/topics/summary.html\n\nChange-Id: I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3\n""}]",0,196191,826380603382e4aa2d1eb57649da91dd3ba4e0a5,20,11,4,1297,,,0,"Expose a 'rpm_version' extra command

Intended usage, getting a rpm *compatible* version number from pbr
from a pbr using python package. Typically this will then get
put into a rpm spec file (what is used to build an rpm) and used to
build an rpm using `rpmbuild` (the thing used to translate rpm spec
files into rpms).

For example: this allows [1][2] (which I am the primary maintainer of
and godaddy, cray, and y! are users of) to get out of the whacky
and/or flakey rpm version number calculation/conversion process (which
previously just worked around by saying only use tags).

[1] https://github.com/stackforge/anvil
[2] https://anvil.readthedocs.org/en/latest/topics/summary.html

Change-Id: I26cd1d6e8aef69d52e8a4f36bd264c690e712ba3
",git fetch https://review.opendev.org/openstack/pbr refs/changes/91/196191/3 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'pbr/hooks/commands.py']",2,b24fa9f5cedda37dc5aa5ff98f2949a8572128b9,expose-rpm-compat-version-command, self.add_command('pbr.packaging.LocalRPMVersion'),,22,0
openstack%2Foslo.messaging~master~Id8375baa2a5d0051210f6e750b34845643de80d0,openstack/oslo.messaging,master,Id8375baa2a5d0051210f6e750b34845643de80d0,Updated from global requirements,MERGED,2015-08-10 01:09:36.000000000,2015-08-17 18:05:27.000000000,2015-08-17 18:05:24.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-08-10 01:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7c8931b93c361797546b2dee243f984d986c98a1', 'message': 'Updated from global requirements\n\nChange-Id: Id8375baa2a5d0051210f6e750b34845643de80d0\n'}, {'number': 2, 'created': '2015-08-13 02:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2da7269b8e5c11e9cf88fdef64859dfd652a2ccd', 'message': 'Updated from global requirements\n\nChange-Id: Id8375baa2a5d0051210f6e750b34845643de80d0\n'}, {'number': 3, 'created': '2015-08-13 20:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f15b447787f981df78b56d383b507591d7f9735b', 'message': 'Updated from global requirements\n\nChange-Id: Id8375baa2a5d0051210f6e750b34845643de80d0\n'}, {'number': 4, 'created': '2015-08-14 09:21:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0dae71dcfe867b079d75b8988ea80f22fe18d063', 'message': 'Updated from global requirements\n\nChange-Id: Id8375baa2a5d0051210f6e750b34845643de80d0\n'}]",0,210909,0dae71dcfe867b079d75b8988ea80f22fe18d063,17,3,4,11131,,,0,"Updated from global requirements

Change-Id: Id8375baa2a5d0051210f6e750b34845643de80d0
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/09/210909/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7c8931b93c361797546b2dee243f984d986c98a1,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslo.policy~master~I208b08ae00e0337b594ece0f2b335d4de9f7392b,openstack/oslo.policy,master,I208b08ae00e0337b594ece0f2b335d4de9f7392b,Have the enforcer have its own file cache,MERGED,2015-08-05 20:04:26.000000000,2015-08-17 17:59:31.000000000,2015-08-17 17:59:30.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1297}, {'_account_id': 1941}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 9459}]","[{'number': 1, 'created': '2015-08-05 20:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d6cbe1a096c73f2128756f50d97e73a93cf0c499', 'message': ""Have the enforcer have its own file cache\n\nInstead of having a library have a global (and not garbage\ncollectable) file cache that is only used by enforcers and\nno other code have the file cache be per-enforcer so that it\ncan be garbage collected when the enforcer dies.\n\nThis also removes one more usage of global state with instance\nspecific state, which makes things easier to test and easier\nto isolate problems in (the less things that can be 'touched\nat a distance' the better).\n\nChange-Id: I208b08ae00e0337b594ece0f2b335d4de9f7392b\n""}, {'number': 2, 'created': '2015-08-05 20:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5c1b72bb2fbd817d125771276b685ef7f1ac9c51', 'message': ""Have the enforcer have its own file cache\n\nInstead of having a library have a global (and not garbage\ncollectable) file cache that is only used by enforcers and\nno other code have the file cache be per-enforcer so that it\ncan be garbage collected when the enforcer drops from the\nscope its used in.\n\nThis also removes one more usage of global state with instance\nspecific state, which makes things easier to test and easier\nto isolate problems in (the less things that can be 'touched\nat a distance' the better).\n\nChange-Id: I208b08ae00e0337b594ece0f2b335d4de9f7392b\n""}, {'number': 3, 'created': '2015-08-06 21:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/74a92758e65fb2a321070eca95ce6a6717ddb4b8', 'message': ""Have the enforcer have its own file cache\n\nInstead of having a library have a global (and not garbage\ncollectable) file cache that is only used by enforcers and\nno other code have the file cache be per-enforcer so that it\ncan be garbage collected when the enforcer drops from the\nscope its used in.\n\nThis also removes one more usage of global state with instance\nspecific state, which makes things easier to test and easier\nto isolate problems in (the less things that can be 'touched\nat a distance' the better).\n\nChange-Id: I208b08ae00e0337b594ece0f2b335d4de9f7392b\n""}, {'number': 4, 'created': '2015-08-07 02:48:34.000000000', 'files': ['oslo_policy/_cache_handler.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/7ee4f409e171f28f92c86013b433effb9404ed37', 'message': ""Have the enforcer have its own file cache\n\nInstead of having a library have a global (and not garbage\ncollectable) file cache that is only used by enforcers and\nno other code have the file cache be per-enforcer so that it\ncan be garbage collected when the enforcer drops from the\nscope its used in.\n\nThis also removes one more usage of global state with instance\nspecific state, which makes things easier to test and easier\nto isolate problems in (the less things that can be 'touched\nat a distance' the better).\n\nChange-Id: I208b08ae00e0337b594ece0f2b335d4de9f7392b\n""}]",4,209656,7ee4f409e171f28f92c86013b433effb9404ed37,21,7,4,1297,,,0,"Have the enforcer have its own file cache

Instead of having a library have a global (and not garbage
collectable) file cache that is only used by enforcers and
no other code have the file cache be per-enforcer so that it
can be garbage collected when the enforcer drops from the
scope its used in.

This also removes one more usage of global state with instance
specific state, which makes things easier to test and easier
to isolate problems in (the less things that can be 'touched
at a distance' the better).

Change-Id: I208b08ae00e0337b594ece0f2b335d4de9f7392b
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/56/209656/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/_cache_handler.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",3,d6cbe1a096c73f2128756f50d97e73a93cf0c499,209656," _cache_handler.delete_cached_file.assert_called_once_with(mock.ANY, filename)", _cache_handler.delete_cached_file.assert_called_once_with(filename),19,13
openstack%2Fdesignate~master~Ifc079ec89b7190532c90e1edb0e70f8d3da0018e,openstack/designate,master,Ifc079ec89b7190532c90e1edb0e70f8d3da0018e,Export Zones,MERGED,2015-08-11 18:00:20.000000000,2015-08-17 17:55:20.000000000,2015-08-17 17:55:18.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-08-11 18:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9f35baec54c0177ebb495958813329c4bb7e2c83', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}, {'number': 2, 'created': '2015-08-11 18:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8f14fe2c963a0defcb223d65081f6200982146d7', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}, {'number': 3, 'created': '2015-08-11 18:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39db43df1e05d9ee1ad305a4a836351556b21ba7', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}, {'number': 4, 'created': '2015-08-11 18:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4c5742359ab3757c0608c776e5f45d8f7dcdf8e2', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}, {'number': 5, 'created': '2015-08-11 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/51537bcd3d2b9a7fd64863b6373df637da31b527', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}, {'number': 6, 'created': '2015-08-11 21:08:22.000000000', 'files': ['designate/resources/templates/export-zone.jinja2', 'designate/central/rpcapi.py', 'designate/central/service.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/api/admin/controllers/extensions/export.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/cc037770227351c714d9584fc3db9732ecdb99e0', 'message': 'Export Zones\n\nModified export zones to improve time.\nInitially took 6 minutes 30 seconds to export a zone with 30,000\nrecordsets. Now takes 2-4 seconds. To export a zone with 100,000\nrecordsets, it now takes approximately 7-16 seconds.\n\nMySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)\nhttp://goo.gl/CEZ3pT\n\nWIP\n\nChange-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e\n'}]",5,211695,cc037770227351c714d9584fc3db9732ecdb99e0,17,4,6,16561,,,0,"Export Zones

Modified export zones to improve time.
Initially took 6 minutes 30 seconds to export a zone with 30,000
recordsets. Now takes 2-4 seconds. To export a zone with 100,000
recordsets, it now takes approximately 7-16 seconds.

MySQL Dump with 2 big zones (30,000 recordsets and 100,000 recordsets)
http://goo.gl/CEZ3pT

WIP

Change-Id: Ifc079ec89b7190532c90e1edb0e70f8d3da0018e
",git fetch https://review.opendev.org/openstack/designate refs/changes/95/211695/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/resources/templates/export-zone.jinja2', 'designate/central/rpcapi.py', 'designate/central/service.py', 'designate/api/admin/controllers/extensions/export.py']",4,9f35baec54c0177ebb495958813329c4bb7e2c83,export_zone," recordsets = self.central_api.export_zone(context, zone_id) return recordsets"," servers = self.central_api.get_domain_servers(context, zone_id) domain = self.central_api.get_domain(context, zone_id) criterion = {'domain_id': zone_id} recordsets = self.central_api.find_recordsets(context, criterion) records = [] for recordset in recordsets: criterion = { 'domain_id': domain['id'], 'recordset_id': recordset['id'] } raw_records = self.central_api.find_records(context, criterion) for record in raw_records: records.append({ 'name': recordset['name'], 'type': recordset['type'], 'ttl': recordset['ttl'], 'data': record['data'], }) return utils.render_template('bind9-zone.jinja2', servers=servers, domain=domain, records=records)",29,30
openstack%2Foslo.cache~master~Ica10101254a3daf13c4e5acc813bd02ca32d472e,openstack/oslo.cache,master,Ica10101254a3daf13c4e5acc813bd02ca32d472e,flake8 - remove unused rules and fix imports,MERGED,2015-08-08 02:12:36.000000000,2015-08-17 17:50:59.000000000,2015-08-17 17:50:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2903}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/74bd9eec2b812b77c8d628595c070a654f47136b', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Ica10101254a3daf13c4e5acc813bd02ca32d472e\n'}, {'number': 2, 'created': '2015-08-08 11:37:12.000000000', 'files': ['oslo_cache/backends/mongo.py', 'oslo_cache/core.py', 'oslo_cache/_memcache_pool.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f692dece4d7c101be891badc6c1aee4e8101e8b0', 'message': 'flake8 - remove unused rules and fix imports\n\nChange-Id: Ica10101254a3daf13c4e5acc813bd02ca32d472e'}]",0,210658,f692dece4d7c101be891badc6c1aee4e8101e8b0,11,4,2,5638,,,0,"flake8 - remove unused rules and fix imports

Change-Id: Ica10101254a3daf13c4e5acc813bd02ca32d472e",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/58/210658/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/backends/mongo.py', 'oslo_cache/core.py', 'oslo_cache/_memcache_pool.py', 'tox.ini']",4,74bd9eec2b812b77c8d628595c070a654f47136b,,ignore = H405,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125,H301,H405",8,7
openstack%2Foslo.messaging~master~Ia16bea3520dd2206bf490432864a741ca0d918cb,openstack/oslo.messaging,master,Ia16bea3520dd2206bf490432864a741ca0d918cb,Replace 'M' with 'Mitaka',MERGED,2015-08-13 16:38:09.000000000,2015-08-17 17:49:56.000000000,2015-08-17 17:49:54.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6601}, {'_account_id': 7491}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-08-13 16:38:09.000000000', 'files': ['oslo_messaging/_drivers/impl_qpid.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/amqp.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d0c107bbbc58e2ef650851d768e914ece10b2a69', 'message': ""Replace 'M' with 'Mitaka'\n\nThere were three instances of 'M' being used for the 'Mitaka' release.\n\nChange-Id: Ia16bea3520dd2206bf490432864a741ca0d918cb\n""}]",1,212643,d0c107bbbc58e2ef650851d768e914ece10b2a69,18,5,1,14760,,,0,"Replace 'M' with 'Mitaka'

There were three instances of 'M' being used for the 'Mitaka' release.

Change-Id: Ia16bea3520dd2206bf490432864a741ca0d918cb
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/43/212643/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_qpid.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/amqp.py']",3,d0c107bbbc58e2ef650851d768e914ece10b2a69,, 'this option will be removed in the Mitaka release.'), 'this option will be removed in M release.'),4,4
openstack%2Ffuel-main~master~Ie82fe58a01a03012752cb41553f53642eec88128,openstack/fuel-main,master,Ie82fe58a01a03012752cb41553f53642eec88128,htop and tmux added for 7.0,MERGED,2015-08-11 11:28:05.000000000,2015-08-17 17:48:00.000000000,2015-08-17 17:47:59.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8777}, {'_account_id': 8971}, {'_account_id': 12817}, {'_account_id': 13895}]","[{'number': 1, 'created': '2015-08-11 11:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/08341450e36036fda6eb576e09d79bc295759bb9', 'message': 'htop and tmux added for 7.0\n\nChange-Id: Ie82fe58a01a03012752cb41553f53642eec88128\nRelated-Bug: #1472609\n'}, {'number': 2, 'created': '2015-08-17 12:23:00.000000000', 'files': ['requirements-rpm.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b42b0c1c8ba593ac99450bdc47d4d4b296c24bad', 'message': 'htop and tmux added for 7.0\n\nChange-Id: Ie82fe58a01a03012752cb41553f53642eec88128\nRelated-Bug: #1472609\n'}]",0,211514,b42b0c1c8ba593ac99450bdc47d4d4b296c24bad,17,6,2,13895,,,0,"htop and tmux added for 7.0

Change-Id: Ie82fe58a01a03012752cb41553f53642eec88128
Related-Bug: #1472609
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/14/211514/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements-rpm.txt'],1,08341450e36036fda6eb576e09d79bc295759bb9,,htoptmux,,2,0
openstack%2Fkeystone~stable%2Fkilo~I7f28cfe014b1053699116635020432c0f9ca2e87,openstack/keystone,stable/kilo,I7f28cfe014b1053699116635020432c0f9ca2e87,Use correct LOG translation indicator for errors,ABANDONED,2015-08-13 15:42:05.000000000,2015-08-17 17:20:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 8866}]","[{'number': 1, 'created': '2015-08-13 15:42:05.000000000', 'files': ['keystone/token/providers/fernet/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e0712463b8b6b88183c502de3579c3f401dbbf75', 'message': 'Use correct LOG translation indicator for errors\n\nThere was one place where we did not do use the _LE() indicator.\n\nChange-Id: I7f28cfe014b1053699116635020432c0f9ca2e87\nPartial-Bug: 1435693\n(cherry picked from commit 20fbbb4eaf9d5523d4345cac6c3d6af752da3932)\n'}]",0,212599,e0712463b8b6b88183c502de3579c3f401dbbf75,9,5,1,4,,,0,"Use correct LOG translation indicator for errors

There was one place where we did not do use the _LE() indicator.

Change-Id: I7f28cfe014b1053699116635020432c0f9ca2e87
Partial-Bug: 1435693
(cherry picked from commit 20fbbb4eaf9d5523d4345cac6c3d6af752da3932)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/99/212599/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/token/providers/fernet/utils.py'],1,e0712463b8b6b88183c502de3579c3f401dbbf75,bug/1435693," msg = _LE('Unable to convert Keystone user or group ID. Error: %s') LOG.error(msg, e)"," msg = ('Unable to convert Keystone user or group ID. Error: %s', e) LOG.error(msg)",2,2
openstack%2Fkeystone~stable%2Fkilo~I01cf0e048cad024662046386f913204068cd8050,openstack/keystone,stable/kilo,I01cf0e048cad024662046386f913204068cd8050,Use correct LOG translation indicator for warnings,ABANDONED,2015-08-13 15:39:38.000000000,2015-08-17 17:20:50.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 8866}]","[{'number': 1, 'created': '2015-08-13 15:39:38.000000000', 'files': ['keystone/identity/core.py', 'keystone/common/openssl.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b8dd424b27ba17c27769cc6fcb80904b9669f688', 'message': 'Use correct LOG translation indicator for warnings\n\nThere were a few places where we did not do use the _LW() indicator.\n\nChange-Id: I01cf0e048cad024662046386f913204068cd8050\nPartial-Bug: 1435693\n(cherry picked from commit a9183a27f70c5b371d21f26d5881ec37e1598faa)\n'}]",0,212596,b8dd424b27ba17c27769cc6fcb80904b9669f688,7,5,1,4,,,0,"Use correct LOG translation indicator for warnings

There were a few places where we did not do use the _LW() indicator.

Change-Id: I01cf0e048cad024662046386f913204068cd8050
Partial-Bug: 1435693
(cherry picked from commit a9183a27f70c5b371d21f26d5881ec37e1598faa)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/212596/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/core.py', 'keystone/common/openssl.py']",2,b8dd424b27ba17c27769cc6fcb80904b9669f688,bug/1435693,"from keystone.i18n import _LI, _LE, _LW LOG.warn(_LW('Failed to invoke ``openssl version``, ' 'assuming is v1.0 or newer'))","from keystone.i18n import _LI, _LE LOG.warn('Failed to invoke ``openssl version``, ' 'assuming is v1.0 or newer')",7,7
openstack%2Frally~master~Id0134f7a1087bf62886b889b8a84f1cc5abeeeac,openstack/rally,master,Id0134f7a1087bf62886b889b8a84f1cc5abeeeac,OpenStackProvider: Purge disabled code that reads arbitrary files,MERGED,2015-06-22 01:44:45.000000000,2015-08-17 17:16:13.000000000,2015-08-17 17:16:06.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 8491}, {'_account_id': 9545}, {'_account_id': 9601}, {'_account_id': 11279}, {'_account_id': 12395}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-06-22 01:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6f84c54b7df7aafd608fac42b19ae9ce78ccf8b9', 'message': 'OpenStack: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 2, 'created': '2015-07-16 06:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0425b18f1c40644ab2342a2a157155d867c77446', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 3, 'created': '2015-07-16 09:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fc650e8266377df1959e02625d8d0568f6d0f46f', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 4, 'created': '2015-07-20 04:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/af7865c77eb58a0c4ae760dee9ac1242c622936e', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 5, 'created': '2015-07-20 04:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8e883e547a014f68fd34ed89f9ce3ab88885d254', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 6, 'created': '2015-07-22 03:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/27d7b25435ef275b027cc5848bf5d01f690574ba', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 7, 'created': '2015-08-13 00:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b3bcd1899137f707ff152b9b3a805013b2c6f3a6', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nSince security bugs that allow reading arbitrary files from OpenStack\nservers are all the rage these days, this change removes the vestigial\nuserdata_file code to prevent anyone being tempted to ""fix"" this feature\nand allow reads from arbitrary server-side paths in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nCloses-Bug: #1484309\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}, {'number': 8, 'created': '2015-08-17 03:37:49.000000000', 'files': ['rally/deployment/serverprovider/providers/openstack.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/1542adae562e85076a2c83628cf45fe07d02517b', 'message': 'OpenStackProvider: Purge disabled code that reads arbitrary files\n\nThere is some half-existing code in the OpenStack serverprovider for a\n""userdata_file"" option that reads userdata from a file path.  Currently\nthis feature doesn\'t work because:\n\nA) The config schema rejects the userdata_file property.\n\nB) There\'s a bug where the file contents are only passed to the first\n   server created (should use a string rather than a file handle in the\n   loop below).\n\nThis change removes the vestigial userdata_file code to prevent anyone\nbeing tempted to ""fix"" this feature and allowing reading of arbitrary\nserver-side files in some distant future.\n\nIf/when this feature is desired, it needs to be clear that the\nuserdata_file contents will be read on the client side of some\nhypothetical client/server split (ie: in the CLI).\n\nCloses-Bug: #1484309\nChange-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac\n'}]",7,193917,1542adae562e85076a2c83628cf45fe07d02517b,38,10,8,11279,,,0,"OpenStackProvider: Purge disabled code that reads arbitrary files

There is some half-existing code in the OpenStack serverprovider for a
""userdata_file"" option that reads userdata from a file path.  Currently
this feature doesn't work because:

A) The config schema rejects the userdata_file property.

B) There's a bug where the file contents are only passed to the first
   server created (should use a string rather than a file handle in the
   loop below).

This change removes the vestigial userdata_file code to prevent anyone
being tempted to ""fix"" this feature and allowing reading of arbitrary
server-side files in some distant future.

If/when this feature is desired, it needs to be clear that the
userdata_file contents will be read on the client side of some
hypothetical client/server split (ie: in the CLI).

Closes-Bug: #1484309
Change-Id: Id0134f7a1087bf62886b889b8a84f1cc5abeeeac
",git fetch https://review.opendev.org/openstack/rally refs/changes/17/193917/4 && git format-patch -1 --stdout FETCH_HEAD,['rally/deploy/serverprovider/providers/openstack.py'],1,6f84c54b7df7aafd608fac42b19ae9ce78ccf8b9,openstack-region,," if userdata is not None: return userdata userdata = self.config[""image""].get(""userdata_file"", None) if userdata is not None: userdata = open(userdata, ""r"")",0,5
openstack%2Fopenstack-manuals~master~I30999b468c1155e423d70fb7cd7d6161ac97aab9,openstack/openstack-manuals,master,I30999b468c1155e423d70fb7cd7d6161ac97aab9,[install-guide] Start translation,MERGED,2015-08-16 17:33:44.000000000,2015-08-17 17:08:48.000000000,2015-08-17 10:48:28.000000000,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 14947}]","[{'number': 1, 'created': '2015-08-16 17:33:44.000000000', 'files': ['doc-tools-check-languages.conf', 'doc/install-guide-rst/source/locale/install-guide-rst.pot'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7aa90d37ece652e86917180fa8db254c17329021', 'message': '[install-guide] Start translation\n\nCreate an empty RST file, our scripts will add content to it.\nEnable translation via the config file.\n\nChange-Id: I30999b468c1155e423d70fb7cd7d6161ac97aab9\nImplements: blueprint installguide-liberty\n'}]",0,213527,7aa90d37ece652e86917180fa8db254c17329021,9,5,1,6547,,,0,"[install-guide] Start translation

Create an empty RST file, our scripts will add content to it.
Enable translation via the config file.

Change-Id: I30999b468c1155e423d70fb7cd7d6161ac97aab9
Implements: blueprint installguide-liberty
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/27/213527/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc-tools-check-languages.conf', 'doc/install-guide-rst/source/locale/install-guide-rst.pot']",2,7aa90d37ece652e86917180fa8db254c17329021,bp/installguide-liberty,,,3,2
openstack%2Fcinder~master~Ibf1ac8955238a27c82b32e1aa728f1efacd71273,openstack/cinder,master,Ibf1ac8955238a27c82b32e1aa728f1efacd71273,VNX driver needs extra params for create cg from src,MERGED,2015-08-07 10:48:18.000000000,2015-08-17 17:07:44.000000000,2015-08-14 11:02:16.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 9988}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15882}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16883}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17492}]","[{'number': 1, 'created': '2015-08-07 10:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4c04d51f5e281047eac328984ab9e0968cd69e5', 'message': 'VNX driver needs additional params create_consistencygroup_from_src\n\nThe cinder manager is passing 2 additonal parameters (source_cg and\nsource_vols) to create_consistencygroup_from_src of driver. VNX\ndriver needs to add these 2 parameters.\n\nChange-Id: Ibf1ac8955238a27c82b32e1aa728f1efacd71273\nCloses-Bug: #1482571\n'}, {'number': 2, 'created': '2015-08-10 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f2ce54970c30f12e6418c0236a804420a47120d', 'message': 'VNX driver needs extra params for create cg from src\n\nThe cinder manager is passing 2 additional parameters (source_cg and\nsource_vols) to create_consistencygroup_from_src of driver. VNX\ndriver needs to add these 2 parameters.\n\nChange-Id: Ibf1ac8955238a27c82b32e1aa728f1efacd71273\nCloses-Bug: #1482571\n'}, {'number': 3, 'created': '2015-08-11 07:40:20.000000000', 'files': ['cinder/tests/unit/test_emc_vnxdirect.py', 'cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dba4844ba59e929808b9b2b03627ba69d5c059e5', 'message': 'VNX driver needs extra params for create cg from src\n\nThe cinder manager is passing 2 additional parameters (source_cg and\nsource_vols) to create_consistencygroup_from_src of driver. VNX\ndriver needs to add these 2 parameters.\n\nChange-Id: Ibf1ac8955238a27c82b32e1aa728f1efacd71273\nCloses-Bug: #1482571\n'}]",4,210319,dba4844ba59e929808b9b2b03627ba69d5c059e5,121,43,3,9988,,,0,"VNX driver needs extra params for create cg from src

The cinder manager is passing 2 additional parameters (source_cg and
source_vols) to create_consistencygroup_from_src of driver. VNX
driver needs to add these 2 parameters.

Change-Id: Ibf1ac8955238a27c82b32e1aa728f1efacd71273
Closes-Bug: #1482571
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/210319/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py']",2,d4c04d51f5e281047eac328984ab9e0968cd69e5,bug/1482571," cgsnapshot=None, snapshots=None, source_cg=None, source_vols=None):"," cgsnapshot=None, snapshots=None):",4,2
openstack%2Fmanila~master~Ib7dd3303e3974298439b6ac543b9df628b69e6ae,openstack/manila,master,Ib7dd3303e3974298439b6ac543b9df628b69e6ae,Allow Tempest to skip snapshot tests,MERGED,2015-08-10 09:54:43.000000000,2015-08-17 17:03:23.000000000,2015-08-17 16:58:34.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 7872}, {'_account_id': 8056}, {'_account_id': 9366}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 11811}, {'_account_id': 11865}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14232}, {'_account_id': 14428}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-08-10 09:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4cbf57081a9a9fe44a4e32084e87a3d4b1dba6cd', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last nidcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 2, 'created': '2015-08-10 10:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/214c5f187501e28c683a4a890428d897e552c11b', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 3, 'created': '2015-08-10 11:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/35b6707f69fa28a90988123cc12b42ad5ed41572', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 4, 'created': '2015-08-10 11:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/74635c8aec249d1903fb2182ef586779953023f5', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 5, 'created': '2015-08-10 14:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e03770c7fb1fc4fa68764558ab8a4341401b1577', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 6, 'created': '2015-08-10 15:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c43afb3658b06d11f278fd4a115d80dc4428332d', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 7, 'created': '2015-08-10 16:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/18e31ebfe3061a097dff923af4ce09758bae2e3c', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 8, 'created': '2015-08-11 10:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de1bc92c1d1355fefcf0b96ef97c08181a2dfbd5', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}, {'number': 9, 'created': '2015-08-12 08:49:28.000000000', 'files': ['contrib/tempest/tempest/api/share/admin/test_admin_actions_negative.py', 'contrib/tempest/tempest/api/share/test_shares_negative.py', 'contrib/tempest/tempest/api/share/test_rules_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions.py', 'contrib/tempest/tempest/api/share/test_shares.py', 'contrib/tempest/tempest/api/share/admin/test_shares_actions.py', 'contrib/tempest/tempest/config_share.py', 'contrib/tempest/tempest/api/share/test_shares_actions.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7b244b33b793977a762d0a5082bc0c7428c495f4', 'message': 'Allow Tempest to skip snapshot tests\n\nOn last midcycle meetup was decided to make snapshots optional feature.\nSo, at first step, add possibility to skip all functional tests that\nuse snapshots.\n\nPartially implements bp snapshots-optional\n\nChange-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae\n'}]",0,211075,7b244b33b793977a762d0a5082bc0c7428c495f4,48,16,9,8851,,,0,"Allow Tempest to skip snapshot tests

On last midcycle meetup was decided to make snapshots optional feature.
So, at first step, add possibility to skip all functional tests that
use snapshots.

Partially implements bp snapshots-optional

Change-Id: Ib7dd3303e3974298439b6ac543b9df628b69e6ae
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/211075/9 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/api/share/admin/test_admin_actions_negative.py', 'contrib/tempest/tempest/api/share/test_shares_negative.py', 'contrib/tempest/tempest/api/share/test_rules_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions.py', 'contrib/tempest/tempest/api/share/test_shares.py', 'contrib/tempest/tempest/api/share/admin/test_shares_actions.py', 'contrib/tempest/tempest/config_share.py', 'contrib/tempest/tempest/api/share/test_shares_actions.py']",8,4cbf57081a9a9fe44a4e32084e87a3d4b1dba6cd,bp/snapshots-optional," cls.shares = [] cls.shares.append(cls.create_share( )) if CONF.share.run_snapshot_tests: # create snapshot cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") cls.snap_desc = data_utils.rand_name( ""tempest-snapshot-description"") cls.snap = cls.create_snapshot_wait_for_active( cls.share[""id""], cls.snap_name, cls.snap_desc) # create second share from snapshot for purposes of sorting and # snapshot filtering cls.share_name2 = data_utils.rand_name(""tempest-share-name"") cls.share_desc2 = data_utils.rand_name(""tempest-share-description"") cls.metadata2 = { 'foo_key_share_2': 'foo_value_share_2', 'bar_key_share_2': 'foo_value_share_2', } cls.shares.append(cls.create_share( name=cls.share_name2, description=cls.share_desc2, size=cls.share_size, metadata=cls.metadata2, snapshot_id=cls.snap['id'], )) share = self.shares_client.get_share(self.shares[0]['id']) for share_id in self.shares: for share_id in self.shares: if CONF.share.run_snapshot_tests: self.assertFalse(self.shares[1]['id'] in [s['id'] for s in shares]) base_share = self.shares_client.get_share(self.shares[0]['id']) base_share = self.shares_client.get_share(self.shares[0]['id']) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") share = self.shares_client.get_share(self.shares[0][""id""]) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") self.assertEqual(self.shares[0][""id""], get[""share_id""], msg) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") filters = { 'limit': l, 'offset': o, 'share_id': self.shares[0]['id'], } params={'limit': '1', 'offset': '0', 'share_id': self.shares[0]['id']}) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") if CONF.share.run_snapshot_tests: # create snapshot cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") cls.snap_desc = data_utils.rand_name( ""tempest-snapshot-description"") cls.snap = cls.create_snapshot_wait_for_active( cls.share[""id""], cls.snap_name, cls.snap_desc) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."")"," cls.share = cls.create_share( ) # create snapshot cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") cls.snap_desc = data_utils.rand_name(""tempest-snapshot-description"") cls.snap = cls.create_snapshot_wait_for_active( cls.share[""id""], cls.snap_name, cls.snap_desc) # create second share from snapshot for purposes of sorting and # snapshot filtering cls.share_name2 = data_utils.rand_name(""tempest-share-name"") cls.share_desc2 = data_utils.rand_name(""tempest-share-description"") cls.metadata2 = { 'foo_key_share_2': 'foo_value_share_2', 'bar_key_share_2': 'foo_value_share_2', } cls.share2 = cls.create_share( name=cls.share_name2, description=cls.share_desc2, size=cls.share_size, metadata=cls.metadata2, snapshot_id=cls.snap['id'], ) share = self.shares_client.get_share(self.share['id']) for share_id in [self.share[""id""], self.share2[""id""]]: for share_id in [self.share[""id""], self.share2[""id""]]: self.assertFalse(self.share2['id'] in [s['id'] for s in shares]) base_share = self.shares_client.get_share(self.share['id']) base_share = self.shares_client.get_share(self.share['id']) share = self.shares_client.get_share(self.share[""id""]) self.assertEqual(self.share[""id""], get[""share_id""], msg) filters = {'limit': l, 'offset': o, 'share_id': self.share['id']} params={'limit': '1', 'offset': '0', 'share_id': self.share['id']}) # create snapshot cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") cls.snap_desc = data_utils.rand_name(""tempest-snapshot-description"") cls.snap = cls.create_snapshot_wait_for_active( cls.share[""id""], cls.snap_name, cls.snap_desc)",154,71
openstack%2Fdjango_openstack_auth~master~I5b1dd1e5c19bb13b5c060c384f4c5f0825632fde,openstack/django_openstack_auth,master,I5b1dd1e5c19bb13b5c060c384f4c5f0825632fde,"Added WEBROOT to websso origin url Correct websso origin url in case of dashboard not on / but on different WEBROOT. The general case is when dashboard answers at http://{HOST_IP}/dashboard, in this case the origin url must be http://{HOST_IP}/dashboard/auth/websso and not http://{HOST_IP}/auth/websso.",ABANDONED,2015-08-17 12:51:27.000000000,2015-08-17 16:57:18.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-08-17 12:51:27.000000000', 'files': ['openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/0c3f02023f844b972cbf0ecdb35c70cdcf436927', 'message': 'Added WEBROOT to websso origin url\nCorrect websso origin url in case of dashboard not on / but on different WEBROOT.\nThe general case is when dashboard answers at http://{HOST_IP}/dashboard, in this case the origin url must be http://{HOST_IP}/dashboard/auth/websso and not http://{HOST_IP}/auth/websso.\n\nChange-Id: I5b1dd1e5c19bb13b5c060c384f4c5f0825632fde\n'}]",0,213696,0c3f02023f844b972cbf0ecdb35c70cdcf436927,5,3,1,17906,,,0,"Added WEBROOT to websso origin url
Correct websso origin url in case of dashboard not on / but on different WEBROOT.
The general case is when dashboard answers at http://{HOST_IP}/dashboard, in this case the origin url must be http://{HOST_IP}/dashboard/auth/websso and not http://{HOST_IP}/auth/websso.

Change-Id: I5b1dd1e5c19bb13b5c060c384f4c5f0825632fde
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/96/213696/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/views.py'],1,0c3f02023f844b972cbf0ecdb35c70cdcf436927,websso," origin = utils.build_absolute_uri(request, '%sauth/websso/' % settings.WEBROOT)"," origin = utils.build_absolute_uri(request, '/auth/websso/')",1,1
openstack%2Fnova~master~Ibdcb870aff1a59948136f1f9c3e30390e7f081b0,openstack/nova,master,Ibdcb870aff1a59948136f1f9c3e30390e7f081b0,Fix deleting instance with incorrectly attached volume,ABANDONED,2015-07-21 19:59:15.000000000,2015-08-17 16:56:43.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 12408}, {'_account_id': 14288}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-07-21 19:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72d9bab8864d3455b32d82a4a8bc5599363c793d', 'message': ""Fix deleting instance with attached volume\n\nIf you failed to boot an instance from volume or with attached volume\nby any external reason then you will fail to delete it because cinder\ndoesn't have this volume attached while nova thinks that volume is\nattached.\n\nWe can fix it by taking into account InvalidInput exception we get\nfrom cinder.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 2, 'created': '2015-07-23 15:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4c37f77832f7ae8bec8cb974d474100d690cc9c', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external reason then you will fail to delete it because cinder doesn't have this volume attached while nova thinks that it is.\n\nWe can fix it by taking into account InvalidInput exception we get from\ncinder in such cases. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 3, 'created': '2015-07-23 15:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/607dd139bfad379d39c22d873df9188d746e0957', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account InvalidInput exception we get from\ncinder in such cases. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 4, 'created': '2015-08-03 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35aea9d2bd7686d0dd4a648404dad6f518ee7988', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account InvalidInput exception we get from\ncinder in such cases. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 5, 'created': '2015-08-03 08:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2a3fe1ae5fc310300064ba1b15a427f7884f7e', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account InvalidInput exception, we get\nfrom cinder in such cases, that comes along with 'Invalid volume'\nerror message. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 6, 'created': '2015-08-03 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/161033c00d1b10313a1c611e85e82176d652f631', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account InvalidInput exception, we get\nfrom cinder in such cases, that comes along with 'Invalid volume'\nerror message. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 7, 'created': '2015-08-11 15:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0831ffa09f6bdb3f095840bbd5a5337785769a5e', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account DetachVolumeFailedNoAttachments\nexception, we get from cinderclient in such cases, that comes from\ncinder InvalidInput exception anong with 'Detach volume failed, because\nthere are currently no active attachments' error message. This message\nif parsed and DetachVolumeFailedNoAttachments is thrown. The necessary\ncinderclient change id is I9aebe01ad4548e169a32995bf40722fcab0c26b0.\nWe already ignore the DiskNotFound, VolumeNotFound and cinder\nEndpointNotFound and ClientException exceptions during instance delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 8, 'created': '2015-08-11 16:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b2e22ed16506c61958216902193ea79fb3bbb28', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account DetachVolumeFailedNoAttachments\nexception, we get from cinderclient in such cases, that comes from\ncinder InvalidInput exception anong with 'Detach volume failed, because\nthere are currently no active attachments' error message. This message\nif parsed and DetachVolumeFailedNoAttachments is thrown. The necessary\ncinderclient change id is I9aebe01ad4548e169a32995bf40722fcab0c26b0.\nWe already ignore the DiskNotFound, VolumeNotFound and cinder\nEndpointNotFound and ClientException exceptions during instance delete.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 9, 'created': '2015-08-11 16:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd3ac041a9af22c6bab10d7666eb8bfd8d2d3e7f', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account DetachVolumeFailedNoAttachments\nexception, we get from cinderclient in such cases, that comes from\ncinder InvalidInput exception anong with 'Detach volume failed, because\nthere are currently no active attachments' error message. This message\nif parsed and DetachVolumeFailedNoAttachments is thrown. The necessary\ncinderclient change id is I9aebe01ad4548e169a32995bf40722fcab0c26b0.\nWe already ignore the DiskNotFound, VolumeNotFound and cinder\nEndpointNotFound and ClientException exceptions during instance delete.\n\nDepends-On: I9aebe01ad4548e169a32995bf40722fcab0c26b0\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}, {'number': 10, 'created': '2015-08-11 19:44:57.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/exception.py', 'nova/volume/cinder.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35089c41d953c6f84513e37dc53ce0ad50a4bb38', 'message': ""Fix deleting instance with incorrectly attached volume\n\nIf you failed to boot an instance with attached volume by any external\nreason then you will fail to delete it because cinder doesn't have this\nvolume attached while nova thinks that it is.\n\nWe can fix it by taking into account newly added NoActiveAttachments\nexception that is thrown when we get InvalidInput exception\nfrom cinder, that comes along with specific 'Invalid volume: Detach\nvolume failed, because there are currently no active attachments'\nerror message. We already ignore the DiskNotFound and VolumeNotFound\ncases during delete, thus this is just a new case.\n\nThere is a change pending I9aebe01ad4548e169a32995bf40722fcab0c26b0\nwith a long term fix.\n\nChange-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0\nCloses-bug: 1476806\n""}]",27,204231,35089c41d953c6f84513e37dc53ce0ad50a4bb38,84,17,10,12408,,,0,"Fix deleting instance with incorrectly attached volume

If you failed to boot an instance with attached volume by any external
reason then you will fail to delete it because cinder doesn't have this
volume attached while nova thinks that it is.

We can fix it by taking into account newly added NoActiveAttachments
exception that is thrown when we get InvalidInput exception
from cinder, that comes along with specific 'Invalid volume: Detach
volume failed, because there are currently no active attachments'
error message. We already ignore the DiskNotFound and VolumeNotFound
cases during delete, thus this is just a new case.

There is a change pending I9aebe01ad4548e169a32995bf40722fcab0c26b0
with a long term fix.

Change-Id: Ibdcb870aff1a59948136f1f9c3e30390e7f081b0
Closes-bug: 1476806
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/204231/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,72d9bab8864d3455b32d82a4a8bc5599363c793d,bug/1476806," except exception.InvalidInput as exc: LOG.debug('Ignoring InvalidInput: %s', exc, instance=instance)",,3,0
openstack%2Fcinder~master~I83949ca51668834ecbce52e90527cf06f95bd001,openstack/cinder,master,I83949ca51668834ecbce52e90527cf06f95bd001,GPFS volume encryption-at-rest support,MERGED,2015-06-25 10:37:54.000000000,2015-08-17 16:56:28.000000000,2015-08-14 20:02:12.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2861}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 7689}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9067}, {'_account_id': 9204}, {'_account_id': 9207}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12285}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14650}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16258}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17405}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-06-25 10:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3cae72c30d46acbb78aa4758950ee875d7dfd9ba', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 2, 'created': '2015-06-29 10:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/907cae46ee92327e85c71e550ab0238a9835b462', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 3, 'created': '2015-07-07 09:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0b9bd604b6715ef1a5898c878eaa278a3d26027', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 4, 'created': '2015-08-04 18:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ba466fdc30a9693caf90db5f5b7614b4d77c6d2', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 5, 'created': '2015-08-04 18:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29fdedcc4c9422620c5a1d194ee28cafed0195a0', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 6, 'created': '2015-08-05 03:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89ed6ed8f22e54dfb42cf3883883bae6000326e3', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 7, 'created': '2015-08-05 08:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a85a54cb7dcd66f813c4ea5915e677a6ed4c008', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}, {'number': 8, 'created': '2015-08-13 10:44:14.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/45b9bf616158588360d5bab34360e94a734a72fd', 'message': 'GPFS volume encryption-at-rest support\n\nThis patch extends the capability of gpfs driver to support volume encryption\nat rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).\n\nThis includes:\n1. Verification of configured gpfs backend to support encryption at rest.\n2. Driver exposes gpfs_encryption_rest capability via volume type convention.\n\nUsage - Cloud admin creates a volume type ""encrypted"" with extra-specs\n  gpfs_encryption_rest=True\nEvery volume created using type ""encrypted"", the volumes will be encrypted\nat rest.\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces\nencrypted backend support.\n\nChange-Id: I83949ca51668834ecbce52e90527cf06f95bd001\nImplements: blueprint gpfs-volume-encryption-rest\n'}]",19,195507,45b9bf616158588360d5bab34360e94a734a72fd,264,61,8,9204,,,0,"GPFS volume encryption-at-rest support

This patch extends the capability of gpfs driver to support volume encryption
at rest using GPFS Native Encryption feature (https://ibm.biz/BdXPBm).

This includes:
1. Verification of configured gpfs backend to support encryption at rest.
2. Driver exposes gpfs_encryption_rest capability via volume type convention.

Usage - Cloud admin creates a volume type ""encrypted"" with extra-specs
  gpfs_encryption_rest=True
Every volume created using type ""encrypted"", the volumes will be encrypted
at rest.

DocImpact

Needs an update in gpfs driver documentation, as this patch introduces
encrypted backend support.

Change-Id: I83949ca51668834ecbce52e90527cf06f95bd001
Implements: blueprint gpfs-volume-encryption-rest
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/195507/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/test_gpfs.py']",2,3cae72c30d46acbb78aa4758950ee875d7dfd9ba,bp/gpfs-volume-encryption-rest," self.driver._encryption_state = 'yes' @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_encryption_status') @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') mock_verify_gpfs_pool, mock_get_gpfs_fs_rel_lev, mock_verify_encryption_state): mock_get_gpfs_fs_rel_lev.return_value = 1405 mock_verify_encryption_state.return_value = 'Yes' self.driver.do_setup(ctxt) @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_pool') @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_filesystem_from_path') @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_id') @mock.patch('cinder.utils.execute') def test_do_setup_no_encryption(self, mock_exec, mock_get_gpfs_cluster_id, mock_get_filesystem_from_path, mock_verify_gpfs_pool, mock_get_gpfs_fs_rel_lev): ctxt = self.context mock_get_gpfs_cluster_id.return_value = self.driver._cluster_id mock_get_filesystem_from_path.return_value = '/dev/gpfs' mock_verify_gpfs_pool.return_value = True mock_get_gpfs_fs_rel_lev.return_value = 1403 @mock.patch('cinder.utils.execute') def test_get_gpfs_encryption_status_true(self, mock_exec): mock_exec.return_value = ('mmlsfs::HEADER:version:reserved:reserved:' 'deviceName:fieldName:data:remarks:\n' 'mmlsfs::0:1:::gpfs:encryption:Yes:', '') self.assertEqual(self.driver._get_gpfs_encryption_status(), 'Yes') @mock.patch('cinder.utils.execute') def test_get_gpfs_encryption_status_false(self, mock_exec): mock_exec.return_value = ('mmlsfs::HEADER:version:reserved:reserved:' 'deviceName:fieldName:data:remarks:\n' 'mmlsfs::0:1:::gpfs:encryption:No:', '') self.assertEqual(self.driver._get_gpfs_encryption_status(), 'No') @mock.patch('cinder.utils.execute') def test_get_gpfs_encryption_status_fail(self, mock_exec): mock_exec.side_effect = ( processutils.ProcessExecutionError(stdout='test', stderr='test')) self.assertRaises(exception.VolumeBackendAPIException, self.driver._get_gpfs_encryption_status) ", mock_verify_gpfs_pool):,84,2
openstack%2Fkeystone~master~I1966d89a5f9b3c4c5ef5d9ad6709fc06cbe0c1f7,openstack/keystone,master,I1966d89a5f9b3c4c5ef5d9ad6709fc06cbe0c1f7,EndpointFilter driver doesnt inherit its interface,MERGED,2015-08-14 21:05:37.000000000,2015-08-17 16:50:42.000000000,2015-08-17 16:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7725}]","[{'number': 1, 'created': '2015-08-14 21:05:37.000000000', 'files': ['keystone/contrib/endpoint_filter/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b2d86fd3360db6ff2c7b135137291d78c76bb03', 'message': ""EndpointFilter driver doesnt inherit its interface\n\nAdded 'endpoint_filter.Driver' as super class of the sql driver implementation\n\nChange-Id: I1966d89a5f9b3c4c5ef5d9ad6709fc06cbe0c1f7\nCloses-Bug: #1485116\n""}]",0,213342,5b2d86fd3360db6ff2c7b135137291d78c76bb03,7,3,1,11215,,,0,"EndpointFilter driver doesnt inherit its interface

Added 'endpoint_filter.Driver' as super class of the sql driver implementation

Change-Id: I1966d89a5f9b3c4c5ef5d9ad6709fc06cbe0c1f7
Closes-Bug: #1485116
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/213342/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/contrib/endpoint_filter/backends/sql.py'],1,5b2d86fd3360db6ff2c7b135137291d78c76bb03,bug/1485116,from keystone.contrib import endpoint_filterclass EndpointFilter(endpoint_filter.Driver):,class EndpointFilter(object):,2,1
openstack%2Fhorizon~master~Ib2b5592d8e01084fcfd91c6d7912fc91766585d2,openstack/horizon,master,Ib2b5592d8e01084fcfd91c6d7912fc91766585d2,Fixed translation in python modal templates,MERGED,2015-08-13 22:36:46.000000000,2015-08-17 16:50:30.000000000,2015-08-17 16:50:29.000000000,"[{'_account_id': 3}, {'_account_id': 6162}, {'_account_id': 9981}, {'_account_id': 12826}, {'_account_id': 16769}]","[{'number': 1, 'created': '2015-08-13 22:36:46.000000000', 'files': ['babel-django.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/28394578c3df861e1b69df829909159846b92d16', 'message': 'Fixed translation in python modal templates\n\nIn several dialogs there is untranslatable text. These dialogs were\ntranslatable in kilo. The path added in the configuration was not adequate.\n\nChange-Id: Ib2b5592d8e01084fcfd91c6d7912fc91766585d2\nCloses-Bug: #1481045\n'}]",0,212823,28394578c3df861e1b69df829909159846b92d16,12,5,1,9576,,,0,"Fixed translation in python modal templates

In several dialogs there is untranslatable text. These dialogs were
translatable in kilo. The path added in the configuration was not adequate.

Change-Id: Ib2b5592d8e01084fcfd91c6d7912fc91766585d2
Closes-Bug: #1481045
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/212823/1 && git format-patch -1 --stdout FETCH_HEAD,['babel-django.cfg'],1,28394578c3df861e1b69df829909159846b92d16,bug/babel-django,[django: **/templates/**.html],[django: templates/**.html],1,1
openstack%2Fmanila~master~I407a12a0cd44f37a62bd500251049c50a097f2c4,openstack/manila,master,I407a12a0cd44f37a62bd500251049c50a097f2c4,Support extend_share in NetApp cDOT drivers,MERGED,2015-08-14 20:30:06.000000000,2015-08-17 16:36:10.000000000,2015-08-17 16:31:29.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11865}, {'_account_id': 13144}, {'_account_id': 14232}, {'_account_id': 14428}, {'_account_id': 15100}, {'_account_id': 16657}, {'_account_id': 17623}, {'_account_id': 17780}]","[{'number': 1, 'created': '2015-08-14 20:30:06.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_driver_interfaces.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_single_svm.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/385c062c9029d23a71fef8c35fc10d458d1025f6', 'message': 'Support extend_share in NetApp cDOT drivers\n\nNow that extend_share is in Manila core, we can support the new API in\nthe NetApp cDOT drivers.  As this patch adds methods to the driver shim\nlayer, also add a unit test to ensure the shims remain in sync for each\ncDOT driver.\n\nImplements: blueprint extend-share-in-netapp-cdot-drivers\nChange-Id: I407a12a0cd44f37a62bd500251049c50a097f2c4\n'}]",5,213332,385c062c9029d23a71fef8c35fc10d458d1025f6,26,13,1,11865,,,0,"Support extend_share in NetApp cDOT drivers

Now that extend_share is in Manila core, we can support the new API in
the NetApp cDOT drivers.  As this patch adds methods to the driver shim
layer, also add a unit test to ensure the shims remain in sync for each
cDOT driver.

Implements: blueprint extend-share-in-netapp-cdot-drivers
Change-Id: I407a12a0cd44f37a62bd500251049c50a097f2c4
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/213332/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_driver_interfaces.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_single_svm.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py']",8,385c062c9029d23a71fef8c35fc10d458d1025f6,bp/extend-share-in-netapp-cdot-drivers,"VOLUME_MODIFY_ITER_RESPONSE = etree.XML("""""" <results status=""passed""> <failure-list /> <num-failed>0</num-failed> <num-succeeded>1</num-succeeded> <success-list> <volume-modify-iter-info> <volume-key> <volume-attributes> <volume-id-attributes> <name>%(volume)s</name> <owning-vserver-name>%(vserver)s</owning-vserver-name> </volume-id-attributes> </volume-attributes> </volume-key> </volume-modify-iter-info> </success-list> </results> """""" % {'volume': SHARE_NAME, 'vserver': VSERVER_NAME}) VOLUME_MODIFY_ITER_ERROR_RESPONSE = etree.XML("""""" <results status=""passed""> <failure-list> <volume-modify-iter-info> <error-code>160</error-code> <error-message>Unable to set volume attribute ""size""</error-message> <volume-key> <volume-attributes> <volume-id-attributes> <name>%(volume)s</name> <owning-vserver-name>%(vserver)s</owning-vserver-name> </volume-id-attributes> </volume-attributes> </volume-key> </volume-modify-iter-info> </failure-list> <num-failed>1</num-failed> <num-succeeded>0</num-succeeded> </results> """""" % {'volume': SHARE_NAME, 'vserver': VSERVER_NAME}) ",,206,0
openstack%2Ffuel-library~master~I5ade31e5b30259cec76471ef932254e8e45cac22,openstack/fuel-library,master,I5ade31e5b30259cec76471ef932254e8e45cac22,Configure keystone v3 for nova,MERGED,2015-08-04 12:08:09.000000000,2015-08-17 16:34:47.000000000,2015-08-13 13:45:28.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 16518}, {'_account_id': 16771}]","[{'number': 1, 'created': '2015-08-04 12:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/989edcb2ec0937c520a5a5ec056ca757f74ecd59', 'message': ""Don't use nova v3 API by default\n\nWe don't use nova v3 API at all, so let's disable it.\n\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22\nCloses-Bug: #1481296\n""}, {'number': 2, 'created': '2015-08-04 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8777a85c47e13d7fff04fd0481f12dbff657a7d5', 'message': ""Don't use nova v3 API by default\n\nWe don't use nova v3 API at all, so let's disable it.\n\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22\nCloses-Bug: #1481296\n""}, {'number': 3, 'created': '2015-08-05 10:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cda78d78935c421743ecc464d231cc43409a5217', 'message': ""Don't use nova v3 API by default\n\nWe don't use nova v3 API at all, so let's disable it.\n\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22\nCloses-Bug: #1481296\n""}, {'number': 4, 'created': '2015-08-06 10:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/05830bb61d022fd29bf2b02b7370b92f64fe23a4', 'message': ""Don't use nova v3 API by default\n\nWe don't use nova v3 API at all, so let's disable it.\n\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22\nCloses-Bug: #1481296\n""}, {'number': 5, 'created': '2015-08-06 11:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8081095ea192b76740f7d605d41dfcc4346b9fb6', 'message': 'Configure keystone v3 for nova\n\nIdentity API v3 was added to kilo. This patch changes\nv3 endpoints from http://127.0.0.1:8774/v3 to actual proto://IP:Port/v3\nschema.\n\nCo-Authored-By: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22\nCloses-Bug: #1481296\n'}, {'number': 6, 'created': '2015-08-13 10:59:11.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/openstack-controller/keystone.pp', 'tests/noop/spec/hosts/openstack-controller/keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cd9c04c75c15b2bace7809fe219786b553e7fe88', 'message': 'Configure keystone v3 for nova\n\nIdentity API v3 was added to kilo. This patch changes\nv3 endpoints from http://127.0.0.1:8774/v3 to actual proto://IP:Port/v3\nschema.\n\nCo-Authored-By: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n\nRelated-Bug: #1479320\nCloses-Bug: #1481296\n\nChange-Id: I5ade31e5b30259cec76471ef932254e8e45cac22'}]",3,209020,cd9c04c75c15b2bace7809fe219786b553e7fe88,99,20,6,11827,,,0,"Configure keystone v3 for nova

Identity API v3 was added to kilo. This patch changes
v3 endpoints from http://127.0.0.1:8774/v3 to actual proto://IP:Port/v3
schema.

Co-Authored-By: Sergii Golovatiuk <sgolovatiuk@mirantis.com>

Related-Bug: #1479320
Closes-Bug: #1481296

Change-Id: I5ade31e5b30259cec76471ef932254e8e45cac22",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/20/209020/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/openstack-controller/keystone.pp'],1,989edcb2ec0937c520a5a5ec056ca757f74ecd59,bug/1481296," configure_endpoint_v3 => false,",,1,0
openstack%2Fpuppet-neutron~master~I8e661708f65b35b73d9154b78467d76ed41eda53,openstack/puppet-neutron,master,I8e661708f65b35b73d9154b78467d76ed41eda53,N1KV VEM module doesn't ensure uplink ports are up,ABANDONED,2015-07-29 21:11:11.000000000,2015-08-17 16:33:59.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 12749}, {'_account_id': 13660}]","[{'number': 1, 'created': '2015-07-29 21:11:11.000000000', 'files': ['spec/classes/neutron_agents_n1kv_vem_spec.rb', 'manifests/agents/n1kv_vem.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c0271d3ce63026eb2db3d107c8195026f8bd0e13', 'message': ""N1KV VEM module doesn't ensure uplink ports are up\n\nAdd code to ensure VEM uplink ports are brought up and brought up on boot.\nThere can be anywhere from 0 to 8 uplink ports configured, so there are 8\nsections added to configure these ports. Duplicated the code as some\nversions of puppet don't seem to support iteration.\n\nChange-Id: I8e661708f65b35b73d9154b78467d76ed41eda53\nCloses-Bug: 1479520\n""}]",1,207219,c0271d3ce63026eb2db3d107c8195026f8bd0e13,5,4,1,11757,,,0,"N1KV VEM module doesn't ensure uplink ports are up

Add code to ensure VEM uplink ports are brought up and brought up on boot.
There can be anywhere from 0 to 8 uplink ports configured, so there are 8
sections added to configure these ports. Duplicated the code as some
versions of puppet don't seem to support iteration.

Change-Id: I8e661708f65b35b73d9154b78467d76ed41eda53
Closes-Bug: 1479520
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/207219/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_n1kv_vem_spec.rb', 'manifests/agents/n1kv_vem.pp']",2,c0271d3ce63026eb2db3d107c8195026f8bd0e13,bug/1479520," #Ifup any configured uplink ports (max of 8) $ul_ports = keys($uplink_profile) if $ul_ports[0] { augeas { 'Augeas_modify_ifcfg-uplink1': name => $ul_ports[0], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[0]}"", changes => [ 'set ONBOOT yes', ], } exec { 'Ifup_uplink1': command => ""ifup ${ul_ports[0]}"", } } if $ul_ports[1] { augeas { 'Augeas_modify_ifcfg-uplink2': name => $ul_ports[1], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[1]}"", changes => [ 'set ONBOOT yes', ], } exec { 'Ifup_uplink2': command => ""ifup ${ul_ports[1]}"", } } if $ul_ports[2] { augeas { 'Augeas_modify_ifcfg-uplink3': name => $ul_ports[2], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[2]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink3': command => ""ifup ${ul_ports[2]}"", } } if $ul_ports[3] { augeas { 'Augeas_modify_ifcfg-uplink4': name => $ul_ports[3], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[3]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink4': command => ""ifup ${ul_ports[3]}"", } } if $ul_ports[4] { augeas { 'Augeas_modify_ifcfg-uplink5': name => $ul_ports[4], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[4]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink5': command => ""ifup ${ul_ports[4]}"", } } if $ul_ports[5] { augeas { 'Augeas_modify_ifcfg-uplink6': name => $ul_ports[5], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[5]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink6': command => ""ifup ${ul_ports[5]}"", } } if $ul_ports[6] { augeas { 'Augeas_modify_ifcfg-uplink7': name => $ul_ports[6], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[6]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink7': command => ""ifup ${ul_ports[6]}"", } } if $ul_ports[7] { augeas { 'Augeas_modify_ifcfg-uplink8': name => $ul_ports[7], context => ""/files/etc/sysconfig/network-scripts/ifcfg-${ul_ports[7]}"", changes => [ 'set ONBOOT yes', ], notify => Service['Service_network'], } exec { 'Ifup_uplink8': command => ""ifup ${ul_ports[7]}"", } } ",,128,0
openstack%2Fcloudkitty~master~Ib634f695e1fda543d42f3ade3deb04dae93d8fc6,openstack/cloudkitty,master,Ib634f695e1fda543d42f3ade3deb04dae93d8fc6,Use six.text_type() in exceptions,MERGED,2015-08-06 14:18:29.000000000,2015-08-17 16:26:51.000000000,2015-08-17 16:26:49.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-08-06 14:18:29.000000000', 'files': ['cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/rating/hash/controllers/group.py', 'cloudkitty/rating/hash/controllers/threshold.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b943624b943c03375bb608d140befd022ee419ff', 'message': 'Use six.text_type() in exceptions\n\nstr() and unicode() cannot be used on an exception\n\nChange-Id: Ib634f695e1fda543d42f3ade3deb04dae93d8fc6\n'}]",0,209952,b943624b943c03375bb608d140befd022ee419ff,6,2,1,15701,,,0,"Use six.text_type() in exceptions

str() and unicode() cannot be used on an exception

Change-Id: Ib634f695e1fda543d42f3ade3deb04dae93d8fc6
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/52/209952/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/rating/hash/controllers/group.py', 'cloudkitty/rating/hash/controllers/threshold.py']",6,b943624b943c03375bb608d140befd022ee419ff,fix_N325,"import six pecan.abort(404, six.text_type(e)) pecan.abort(400, six.text_type(e)) pecan.abort(409, six.text_type(e)) pecan.abort(400, six.text_type(e)) pecan.abort(400, six.text_type(e))"," pecan.abort(404, str(e)) pecan.abort(400, str(e)) pecan.abort(409, str(e)) pecan.abort(400, str(e)) pecan.abort(400, str(e))",25,20
openstack%2Fneutron~feature%2Fqos~If21a0979a3760e374b9beb36aac8b2f4b90a02c9,openstack/neutron,feature/qos,If21a0979a3760e374b9beb36aac8b2f4b90a02c9,Add EnvironmentDescription objects to fullstack,ABANDONED,2015-08-09 14:19:13.000000000,2015-08-17 16:26:36.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7244}, {'_account_id': 8655}, {'_account_id': 9168}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 14010}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 16788}]","[{'number': 1, 'created': '2015-08-09 14:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea680300e5fe8eeab140ed222f6875905a8b4f3f', 'message': 'Add EnvironmentDescription objects to fullstack\n\nThe EnvironmentDescription class describes an entire fullstack\nenvironment (as opposed to the currently implemented host-only\ndescriptions). This will allow future patches to signify that a test\nshould set up an environment that supports tunneling, l2pop, QoS and\nmore.\n\nChange-Id: If21a0979a3760e374b9beb36aac8b2f4b90a02c9\n'}, {'number': 2, 'created': '2015-08-13 16:15:27.000000000', 'files': ['neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/41ebd34c1b64c392ab7dfd3394805589c2b6ed89', 'message': 'Add EnvironmentDescription objects to fullstack\n\nThe EnvironmentDescription class describes an entire fullstack\nenvironment (as opposed to the currently implemented host-only\ndescriptions). This will allow future patches to signify that a test\nshould set up an environment that supports tunneling, l2pop, QoS and\nmore.\n\nChange-Id: If21a0979a3760e374b9beb36aac8b2f4b90a02c9\n'}]",0,210831,41ebd34c1b64c392ab7dfd3394805589c2b6ed89,23,15,2,12444,,,0,"Add EnvironmentDescription objects to fullstack

The EnvironmentDescription class describes an entire fullstack
environment (as opposed to the currently implemented host-only
descriptions). This will allow future patches to signify that a test
should set up an environment that supports tunneling, l2pop, QoS and
more.

Change-Id: If21a0979a3760e374b9beb36aac8b2f4b90a02c9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/210831/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py']",4,ea680300e5fe8eeab140ed222f6875905a8b4f3f,neutron-qos," def setUp(self): super(TestConnectivitySameNetwork, self).setUp( environment.EnvironmentDescription(), environment.HostDescription(l3_agent=False)]))"," def __init__(self, *args, **kwargs): super(TestConnectivitySameNetwork, self).__init__( environment.HostDescription(l3_agent=False)]), *args, **kwargs)",33,23
openstack%2Fneutron~feature%2Fqos~Id673cc75ac2b18c1a9c8add781859a723ae7175a,openstack/neutron,feature/qos,Id673cc75ac2b18c1a9c8add781859a723ae7175a,"Add a fullstack fake VM, basic connectivity test",ABANDONED,2015-08-09 13:25:17.000000000,2015-08-17 16:26:27.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14571}, {'_account_id': 15296}]","[{'number': 1, 'created': '2015-08-09 13:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5503f734f2d9c8577c27c0f72c5f2f1ba0541ad5', 'message': ""Add a fullstack fake VM, basic connectivity test\n\n* Full stack tests fake VMs are represented via a namespace,\n  MAC, IP address and default gateway. They're plugged to an OVS\n  bridge via an OVS internal port. As opposed to the current\n  fake machine class used in functional testing, this new fake\n  machine also creates a Neutron port via the API and sets the\n  IP and MAC according to it. It also sets additional attributes\n  on the OVS port to allow the OVS agent to do its magic.\n* The functional fake machine and the full stack fake machine\n  should continue to share commonalities.\n* The fullstack fake machine currently takes the IP address\n  from the port and statically assigns it to the namespace\n  device. Later when I'll add support for the DHCP agent\n  in full stack testing this assignment will look for the dhcp\n  attribute of the subnet and either assign the IP address\n  via 'ip' or call a dhcp client.\n* The fullstack fake machine currently uses the existing\n  PortFixture, so it plugs directly to br-int. In order to\n  support security groups\n* Added a basic L2 connectivity test between two such machines\n  on the same Neutron network, with 3 different environments\n  (VLANs, tunnels without l2pop and tunnels with l2pop). Since\n  basic L2 connectivity is covered I switched the L3 HA test\n  to run only with tunnels.\n\nChange-Id: Id673cc75ac2b18c1a9c8add781859a723ae7175a\n""}, {'number': 2, 'created': '2015-08-13 16:15:27.000000000', 'files': ['neutron/tests/common/machine_fixtures.py', 'doc/source/devref/fullstack_testing.rst', 'neutron/tests/functional/agent/linux/test_ovsdb_monitor.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adfbae403ccc0fff5be171e6636834f3bf2d3793', 'message': ""Add a fullstack fake VM, basic connectivity test\n\n* Full stack tests fake VMs are represented via a namespace,\n  MAC, IP address and default gateway. They're plugged to an OVS\n  bridge via an OVS internal port. As opposed to the current\n  fake machine class used in functional testing, this new fake\n  machine also creates a Neutron port via the API and sets the\n  IP and MAC according to it. It also sets additional attributes\n  on the OVS port to allow the OVS agent to do its magic.\n* The functional fake machine and the full stack fake machine\n  should continue to share commonalities.\n* The fullstack fake machine currently takes the IP address\n  from the port and statically assigns it to the namespace\n  device. Later when I'll add support for the DHCP agent\n  in full stack testing this assignment will look for the dhcp\n  attribute of the subnet and either assign the IP address\n  via 'ip' or call a dhcp client.\n* The fullstack fake machine currently uses the existing\n  PortFixture, so it plugs directly to br-int. In order to\n  support security groups\n* Added a basic L2 connectivity test between two such machines\n  on the same Neutron network, with 3 different environments\n  (VLANs, tunnels without l2pop and tunnels with l2pop). Since\n  basic L2 connectivity is covered I switched the L3 HA test\n  to run only with tunnels.\n\nChange-Id: Id673cc75ac2b18c1a9c8add781859a723ae7175a\n""}]",1,210826,adfbae403ccc0fff5be171e6636834f3bf2d3793,26,14,2,12444,,,0,"Add a fullstack fake VM, basic connectivity test

* Full stack tests fake VMs are represented via a namespace,
  MAC, IP address and default gateway. They're plugged to an OVS
  bridge via an OVS internal port. As opposed to the current
  fake machine class used in functional testing, this new fake
  machine also creates a Neutron port via the API and sets the
  IP and MAC according to it. It also sets additional attributes
  on the OVS port to allow the OVS agent to do its magic.
* The functional fake machine and the full stack fake machine
  should continue to share commonalities.
* The fullstack fake machine currently takes the IP address
  from the port and statically assigns it to the namespace
  device. Later when I'll add support for the DHCP agent
  in full stack testing this assignment will look for the dhcp
  attribute of the subnet and either assign the IP address
  via 'ip' or call a dhcp client.
* The fullstack fake machine currently uses the existing
  PortFixture, so it plugs directly to br-int. In order to
  support security groups
* Added a basic L2 connectivity test between two such machines
  on the same Neutron network, with 3 different environments
  (VLANs, tunnels without l2pop and tunnels with l2pop). Since
  basic L2 connectivity is covered I switched the L3 HA test
  to run only with tunnels.

Change-Id: Id673cc75ac2b18c1a9c8add781859a723ae7175a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/210826/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/common/machine_fixtures.py', 'doc/source/devref/fullstack_testing.rst', 'neutron/tests/functional/agent/linux/test_ovsdb_monitor.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_connectivity.py']",6,5503f734f2d9c8577c27c0f72c5f2f1ba0541ad5,neutron-qos,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_utils import uuidutils from neutron.tests.common import machine_fixtures from neutron.tests.fullstack import base from neutron.tests.fullstack.resources import environment class TestConnectivitySameNetwork(base.BaseFullStackTestCase): def __init__(self, *args, **kwargs): super(TestConnectivitySameNetwork, self).__init__( environment.Environment( [environment.HostDescription(l3_agent=False), environment.HostDescription(l3_agent=False)]), *args, **kwargs) def test_connectivity(self): tenant_uuid = uuidutils.generate_uuid() network = self.client.create_network( body={'network': {'name': 'network-test', 'tenant_id': tenant_uuid}}) self.addCleanup(self.client.delete_network, network['network']['id']) subnet = self.client.create_subnet( body={'subnet': {'name': 'subnet-test', 'tenant_id': tenant_uuid, 'network_id': network['network']['id'], 'cidr': '20.0.0.0/24', 'gateway_ip': '20.0.0.1', 'ip_version': 4, 'enable_dhcp': True}}) self.addCleanup(self.client.delete_subnet, subnet['subnet']['id']) vms = [ self.useFixture( machine_fixtures.FakeFullstackMachine( self.environment.hosts[i], network['network']['id'], tenant_uuid, self.client)) for i in range(2)] for vm in vms: vm.block_until_boot() vms[0].assert_ping(vms[1].ip) ",,156,32
openstack%2Fneutron~feature%2Fqos~Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42,openstack/neutron,feature/qos,Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42,Add QoS fullstack test,ABANDONED,2015-07-16 10:39:56.000000000,2015-08-17 16:20:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 12444}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 16788}]","[{'number': 1, 'created': '2015-07-16 10:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33da8ed97ef4006db95980891af814d82856a973', 'message': '[WIP] Add Qos fullstack test\n\nThis is just to show environment and simple policy creation with\nattaching to port test. The test itself cannot be functional without\nfollowing patches. Also plugin side and agent side are not connected\nyet.\n\nDepends on following Change Ids:\n - If7460516a3b3e3ccb91f2e7becfe7335ff809bda\n - I2ce6d232744f48ba7fc0f824a7db32e3655bc2aa\n - Ie64de9f35bd6ab7cbad494061613ecf5e0ccd806\n\nChange-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42\n'}, {'number': 2, 'created': '2015-08-09 13:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abfa2332c89c63e6996c8aff2e5d8f6460279916', 'message': '[WIP] Add QoS fullstack test\n\nChange-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42\n'}, {'number': 3, 'created': '2015-08-09 14:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fcbe8c454c0b6661113b07c0c6a9bf0ada8a0a6', 'message': '[WIP] Add QoS fullstack test\n\nChange-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42\n'}, {'number': 4, 'created': '2015-08-10 12:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34ef0aabb0a1d14ff00ea8dcb5c3bb1cbac173af', 'message': 'Add QoS fullstack test\n\nThe scenario is simply ""create a fake machine, attach a policy, make\nsure the policy is applied on the OVS level"".\n\nChange-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42\n'}, {'number': 5, 'created': '2015-08-13 16:15:27.000000000', 'files': ['neutron/tests/common/machine_fixtures.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4be4c343cc46ab6da78122fd8299806d5f5a23fe', 'message': ""Add QoS fullstack test\n\nHere will be described what this patch implements. I don't remember it\nnow.\n\nPartially-Implements: blueprint ml2-qos\nChange-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42\n""}]",46,202492,4be4c343cc46ab6da78122fd8299806d5f5a23fe,65,22,5,8655,,,0,"Add QoS fullstack test

Here will be described what this patch implements. I don't remember it
now.

Partially-Implements: blueprint ml2-qos
Change-Id: Iebe9b3e9d612d3533381a8cf4d0b9c587f8fda42
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/202492/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/process.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/test_l3_agent.py']",5,33da8ed97ef4006db95980891af814d82856a973,neutron-qos," host_attributes = [ environment.HostEnvironmentAttributes(l3_agent=True)] env = environment.Environment( host_attributes, service_plugins='router') super(TestLegacyL3Agent, self).__init__(env, *args, **kwargs) host_attributes = [ environment.HostEnvironmentAttributes(l3_agent=True), environment.HostEnvironmentAttributes(l3_agent=True)] env = environment.Environment( host_attributes, service_plugins='router') super(TestHAL3Agent, self).__init__(env, *args, **kwargs)"," super(TestLegacyL3Agent, self).__init__( environment.Environment( [environment.HostEnvironmentAttributes(l3_agent=True)]), *args, **kwargs) super(TestHAL3Agent, self).__init__( environment.Environment( [environment.HostEnvironmentAttributes(l3_agent=True), environment.HostEnvironmentAttributes(l3_agent=True)]), *args, **kwargs)",100,32
openstack%2Fpython-novaclient~master~I8d599b712b17dcfc0be940a61c537d2dfe1b715b,openstack/python-novaclient,master,I8d599b712b17dcfc0be940a61c537d2dfe1b715b,Copy cli arguments in api_versions.wraps decorator,MERGED,2015-08-07 18:16:12.000000000,2015-08-17 16:19:00.000000000,2015-08-17 16:18:58.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 9545}]","[{'number': 1, 'created': '2015-08-07 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/aa078577706a8f7cabea8c323551023d78a83ec2', 'message': 'Copy cli arguments in api_versions.wraps decorator\n\nnovaclient.api_versions.wraps decorator can be used in shell. Most of shell\nfunction has cli arguments which are added via another decorator.\nCurrently, to keep this cli arguments, novaclient.api_versions.wraps\ndecorator should be used in the top of decorators. Something like:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something(cs, args):\n        pass\n\nThis patch adds ability to put api_versions.wraps decorator everywhere:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something_1(cs, args):\n        pass\n\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    @api_versions.wraps(""123.456"")\n    def do_something_2(cs, args):\n        pass\n\nChange-Id: I8d599b712b17dcfc0be940a61c537d2dfe1b715b\n'}, {'number': 2, 'created': '2015-08-07 21:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9a71c3c2094ab607882bb3ef1992f443179b6a55', 'message': 'Copy cli arguments in api_versions.wraps decorator\n\nnovaclient.api_versions.wraps decorator can be used in shell. Most of shell\nfunction has cli arguments which are added via another decorator.\nCurrently, to keep this cli arguments, novaclient.api_versions.wraps\ndecorator should be used in the top of decorators. Something like:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something(cs, args):\n        pass\n\nThis patch adds ability to put api_versions.wraps decorator everywhere:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something_1(cs, args):\n        pass\n\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    @api_versions.wraps(""123.456"")\n    def do_something_2(cs, args):\n        pass\n\nChange-Id: I8d599b712b17dcfc0be940a61c537d2dfe1b715b\n'}, {'number': 3, 'created': '2015-08-11 11:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/98a85e16a9a10e57f10ff028a4f80e4a6ff655a9', 'message': 'Copy cli arguments in api_versions.wraps decorator\n\nnovaclient.api_versions.wraps decorator can be used in shell. Most of shell\nfunction has cli arguments which are added via another decorator.\nCurrently, to keep this cli arguments, novaclient.api_versions.wraps\ndecorator should be used in the top of decorators. Something like:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something(cs, args):\n        pass\n\nThis patch adds ability to put api_versions.wraps decorator everywhere:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something_1(cs, args):\n        pass\n\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    @api_versions.wraps(""123.456"")\n    def do_something_2(cs, args):\n        pass\n\nRelated to bp api-microversion-support\n\nChange-Id: I8d599b712b17dcfc0be940a61c537d2dfe1b715b\n'}, {'number': 4, 'created': '2015-08-11 11:40:20.000000000', 'files': ['novaclient/tests/unit/test_api_versions.py', 'novaclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a570b60d674d6bbdf90f26440e68771f22b704db', 'message': 'Copy cli arguments in api_versions.wraps decorator\n\nnovaclient.api_versions.wraps decorator can be used in shell. Most of shell\nfunction has cli arguments which are added via another decorator.\nCurrently, to keep this cli arguments, novaclient.api_versions.wraps\ndecorator should be used in the top of decorators. Something like:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something(cs, args):\n        pass\n\nThis patch adds ability to put api_versions.wraps decorator everywhere:\n\n    @api_versions.wraps(""123.456"")\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    def do_something_1(cs, args):\n        pass\n\n    @cliutils.arg(""name"", help=""Name of the something"")\n    @cliutils.arg(""action"", help=""Some action"")\n    @api_versions.wraps(""123.456"")\n    def do_something_2(cs, args):\n        pass\n\nRelated to bp api-microversion-support\n\nChange-Id: I8d599b712b17dcfc0be940a61c537d2dfe1b715b\n'}]",2,210563,a570b60d674d6bbdf90f26440e68771f22b704db,16,5,4,9545,,,0,"Copy cli arguments in api_versions.wraps decorator

novaclient.api_versions.wraps decorator can be used in shell. Most of shell
function has cli arguments which are added via another decorator.
Currently, to keep this cli arguments, novaclient.api_versions.wraps
decorator should be used in the top of decorators. Something like:

    @api_versions.wraps(""123.456"")
    @cliutils.arg(""name"", help=""Name of the something"")
    @cliutils.arg(""action"", help=""Some action"")
    def do_something(cs, args):
        pass

This patch adds ability to put api_versions.wraps decorator everywhere:

    @api_versions.wraps(""123.456"")
    @cliutils.arg(""name"", help=""Name of the something"")
    @cliutils.arg(""action"", help=""Some action"")
    def do_something_1(cs, args):
        pass

    @cliutils.arg(""name"", help=""Name of the something"")
    @cliutils.arg(""action"", help=""Some action"")
    @api_versions.wraps(""123.456"")
    def do_something_2(cs, args):
        pass

Related to bp api-microversion-support

Change-Id: I8d599b712b17dcfc0be940a61c537d2dfe1b715b
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/63/210563/3 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/api_versions.py'],1,aa078577706a8f7cabea8c323551023d78a83ec2,bp/api-microversion-support,"from novaclient.openstack.common import cliutils method = max(methods, key=lambda f: f.start_version) if hasattr(method, 'arguments'): for _args, _kwargs in method.arguments: cliutils.add_arg(method.func, *_args, **_kwargs) return method.func(obj, *args, **kwargs)"," else: return max(methods, key=lambda f: f.start_version).func( obj, *args, **kwargs)",7,3
openstack%2Fmanila~stable%2Fkilo~Id3f8dc21f16ba1d0793984a2419f9b54044d9e36,openstack/manila,stable/kilo,Id3f8dc21f16ba1d0793984a2419f9b54044d9e36,Updated from global requirements,MERGED,2015-08-11 15:24:28.000000000,2015-08-17 16:15:39.000000000,2015-08-17 16:15:37.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 10621}, {'_account_id': 13144}, {'_account_id': 14232}, {'_account_id': 14428}, {'_account_id': 15100}, {'_account_id': 16657}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-08-11 15:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6b0e8ce7789898bf029983fdd28172ec01e42e8a', 'message': 'Updated from global requirements\n\nChange-Id: Id3f8dc21f16ba1d0793984a2419f9b54044d9e36\n'}, {'number': 2, 'created': '2015-08-14 18:22:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/fd700bcce237440b96784e2de6a5f8cb551aee4e', 'message': 'Updated from global requirements\n\nChange-Id: Id3f8dc21f16ba1d0793984a2419f9b54044d9e36\n'}]",0,211624,fd700bcce237440b96784e2de6a5f8cb551aee4e,25,11,2,11131,,,0,"Updated from global requirements

Change-Id: Id3f8dc21f16ba1d0793984a2419f9b54044d9e36
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/211624/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b0e8ce7789898bf029983fdd28172ec01e42e8a,openstack/requirements,"python-neutronclient<2.5.0,>=2.4.0","python-neutronclient<2.5.0,>=2.3.11",1,1
openstack%2Fsahara-image-elements~master~I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b,openstack/sahara-image-elements,master,I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b,Added ability to specify exact package versions for MapR,MERGED,2015-07-15 12:44:55.000000000,2015-08-17 16:08:38.000000000,2015-08-17 16:08:36.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 12320}, {'_account_id': 12693}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-07-15 12:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/feafa0959c576a1826b2d7195f4a0dca63926400', 'message': 'Added ability to specify exact package versions\n\nChange-Id: I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b\nImplements: bp/mapr-versions\n'}, {'number': 2, 'created': '2015-07-15 12:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c06bb8df195154f9b7f4ce2a68ee4f50ccbf4628', 'message': 'Added ability to specify exact package versions\n\nChange-Id: I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b\nImplements: blueprint mapr-versions\n'}, {'number': 3, 'created': '2015-07-29 11:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/f8d00d4e7a51002644f410f541331fcbf6bf4e8b', 'message': 'Added ability to specify exact package versions for MapR\n\nList of improvements:\n1. Ecosystem repo is downloaded from repo instead of giant tar archive\n2. Mapping of MapR packages moved from python script to separate json file\n3. Versions of packages to keep are specified exactly instead of ""several last versions""\n4. Versions of packages to keep are specified in separate json files for each MapR version\n5. Code for repo creating moved to separate script\n6. curl and tar invocations merged together\n7. Resources aren\'t copied to image\n8. Removed unreachable code\n9. Hive 0.12 was removed from remote repo so now it\'s removed from package list\n\nChange-Id: I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b\nImplements: blueprint mapr-versions\n'}, {'number': 4, 'created': '2015-08-13 09:09:01.000000000', 'files': ['elements/hadoop-mapr/resources/versions.py', 'elements/hadoop-mapr/resources/spec_3.1.1.json', 'elements/hadoop-mapr/resources/spec_4.0.2.json', 'elements/hadoop-mapr/resources/packages.json', 'elements/hadoop-mapr/install.d/40-mapr-dependencies', 'elements/hadoop-mapr/install.d/42-versions', 'elements/hadoop-mapr/install.d/41-scala', 'elements/hadoop-mapr/resources/package_utils.sh', 'elements/hadoop-mapr/install.d/44-mapr-eco-repository', 'elements/hadoop-mapr/install.d/versions.py', 'elements/hadoop-mapr/install.d/43-mapr-core-repository', 'elements/hadoop-mapr/resources/spec_4.0.1.json'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c34c1aa69fd76080e84e04dbe2be00821d998c21', 'message': 'Added ability to specify exact package versions for MapR\n\nList of improvements:\n1. Ecosystem repo is downloaded from repo instead of giant tar archive\n2. Mapping of MapR packages moved from python script to separate json file\n3. Versions of packages to keep are specified exactly instead of ""several last versions""\n4. Versions of packages to keep are specified in separate json files for each MapR version\n5. Code for repo creating moved to separate script\n6. curl and tar invocations merged together\n7. Resources aren\'t copied to image\n8. Removed unreachable code\n9. Hive 0.12 was removed from remote repo so now it\'s removed from package list\n\nChange-Id: I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b\nImplements: blueprint mapr-versions\n'}]",9,202090,c34c1aa69fd76080e84e04dbe2be00821d998c21,46,10,4,12693,,,0,"Added ability to specify exact package versions for MapR

List of improvements:
1. Ecosystem repo is downloaded from repo instead of giant tar archive
2. Mapping of MapR packages moved from python script to separate json file
3. Versions of packages to keep are specified exactly instead of ""several last versions""
4. Versions of packages to keep are specified in separate json files for each MapR version
5. Code for repo creating moved to separate script
6. curl and tar invocations merged together
7. Resources aren't copied to image
8. Removed unreachable code
9. Hive 0.12 was removed from remote repo so now it's removed from package list

Change-Id: I93ad9be3b02d5a2f6f0e4c13303ecce7ba32c84b
Implements: blueprint mapr-versions
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/90/202090/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/hadoop-mapr/install.d/44-mapr-eco-repository', 'elements/hadoop-mapr/install.d/versions.py', 'elements/hadoop-mapr/resources/versions.py', 'elements/hadoop-mapr/resources/spec_3.1.1.json', 'elements/hadoop-mapr/resources/spec_4.0.2.json', 'elements/hadoop-mapr/install.d/43-mapr-core-repository', 'elements/hadoop-mapr/resources/packages.json', 'elements/hadoop-mapr/install.d/42-versions', 'elements/hadoop-mapr/resources/spec_4.0.1.json']",9,feafa0959c576a1826b2d7195f4a0dca63926400,bp/mapr-versions,"{ ""drill"": [ ""0.7.0"" ], ""flume"": [ ""1.5.0"" ], ""hbase"": [ ""0.94.24"", ""0.98.7"" ], ""hive"": [ ""0.12"", ""0.13"" ], ""httpfs"": [ ""1.0"" ], ""hue"": [ ""3.6.0"" ], ""impala"": [ ""1.2.3"" ], ""mahout"": [ ""0.9"" ], ""oozie"": [ ""4.0.1"" ], ""pig"": [ ""0.13"" ], ""spark"": [ ""1.1.0"" ], ""sqoop"": [ ""2.0.0"" ] } ",,307,131
openstack%2Fapi-sig~master~I0c32aa407def04c8a81868ed8a682cb7888ff1ff,openstack/api-sig,master,I0c32aa407def04c8a81868ed8a682cb7888ff1ff,Add reviewers to an API WG review,MERGED,2015-06-19 23:16:51.000000000,2015-08-17 16:06:15.000000000,2015-08-17 16:06:13.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 1112}, {'_account_id': 10670}, {'_account_id': 12321}]","[{'number': 1, 'created': '2015-06-19 23:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/32dca4ceca7a2ab2d3826c2f8f96f2b7f9d21c01', 'message': 'Add reviewers to an API WG review\n\nTo make it easier to engage the liaisons, we have a tool that will\nadd all current liaisons to an API WG review.\n\nChange-Id: I0c32aa407def04c8a81868ed8a682cb7888ff1ff\n'}, {'number': 2, 'created': '2015-07-06 17:08:20.000000000', 'files': ['tools/add-reviewers.py', 'doc/source/index.rst', 'doc/source/liaisons.json', 'doc/source/liaisons.rst'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/9e83fc0c10af7dbe2dae675fa6d8a32b3ee1c745', 'message': 'Add reviewers to an API WG review\n\nTo make it easier to engage the liaisons, we have a tool that will\nadd all current liaisons to an API WG review.\n\nChange-Id: I0c32aa407def04c8a81868ed8a682cb7888ff1ff\n'}]",8,193753,9e83fc0c10af7dbe2dae675fa6d8a32b3ee1c745,16,6,2,1112,,,0,"Add reviewers to an API WG review

To make it easier to engage the liaisons, we have a tool that will
add all current liaisons to an API WG review.

Change-Id: I0c32aa407def04c8a81868ed8a682cb7888ff1ff
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/53/193753/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/add-reviewers.py', 'doc/source/index.rst', 'doc/source/liaisons.json', 'doc/source/liaisons.rst']",4,32dca4ceca7a2ab2d3826c2f8f96f2b7f9d21c01,add-reviewers,"Cross-Project Liaisons ====================== Description ----------- The API Working Group seeks API subject matter experts for each project to communicate plans for API updates, review API guidelines with their project's view in mind, and review the API Working Group guidelines as they are drafted. The Cross-Project Liaison (CPL) should be familiar with the project's REST API design and future planning for changes to it. * The liaison should be the PTL or whomever they delegate to be their representative * The liaison is the first line of contact for the API Working Group team members * The liaison may further delegate work to other subject matter experts * The liaison should be aware of and engaged in the API Working Group `Communication channels <https://wiki.openstack.org/wiki/API_Working_Group#Communication>`_ * The Nova team has been very explicit about how they will liaise with the API Working Group, see the `Responsibilities of Liaisons <https://wiki.openstack.org/wiki/Nova/APIWGLiaisons>`_ Tooling ------- To make it easier to engage the liaisons, we have a tool that will add all current liaisons to an API WG review. You can run the tool like so from the base dir of the api-wg repository. :: $ python3 tools/add-reviewers.py my-gerrit-username 183599 Added 21 reviewers to 183599 To get help use ``--help``. :: $ python3 tools/add-reviewers.py --help Liaisons -------- .. literalinclude:: liaisons.json :language: json ",,249,0
openstack%2Fopenstack-ansible~kilo~Icc081fe83712ce883baa88f99db60c52dcc4c1ae,openstack/openstack-ansible,kilo,Icc081fe83712ce883baa88f99db60c52dcc4c1ae,Add iptables rule to neutron agents containers,MERGED,2015-08-15 14:25:11.000000000,2015-08-17 16:00:54.000000000,2015-08-17 16:00:53.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 12000}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-08-15 14:25:11.000000000', 'files': ['scripts/bootstrap-aio.sh', 'scripts/run-playbooks.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7d7494f1aaf20bff3dba9203b906b55e0bf0102', 'message': 'Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n(cherry picked from commit d879994e13e788123e2db1368b985d0e5fe9cb1b)\n'}]",0,213442,e7d7494f1aaf20bff3dba9203b906b55e0bf0102,10,5,1,6816,,,0,"Add iptables rule to neutron agents containers

When running in an AIO environment, we need to drop an iptables rule to
ensure that communication between instances and the neutron metadata
service works.

Change-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae
Closes-Bug: #1483603
(cherry picked from commit d879994e13e788123e2db1368b985d0e5fe9cb1b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/213442/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-aio.sh', 'scripts/run-playbooks.sh']",2,e7d7494f1aaf20bff3dba9203b906b55e0bf0102,,"ADD_NEUTRON_AGENT_CHECKSUM_RULE=${BOOTSTRAP_AIO:-""no""} # When running in an AIO, we need to drop the following iptables rule in any neutron_agent containers # to that ensure instances can communicate with the neutron metadata service. # This is necessary because in an AIO environment there are no physical interfaces involved in # instance -> metadata requests, and this results in the checksums being incorrect. if [ ""${ADD_NEUTRON_AGENT_CHECKSUM_RULE}"" == ""yes"" ]; then mkdir -p ""${COMMAND_LOGS}/add_neutron_agent_checksum_rule"" ansible neutron_agent -m command \ -a '/sbin/iptables -t mangle -A POSTROUTING -p tcp --sport 80 -j CHECKSUM --checksum-fill' \ -t ""${COMMAND_LOGS}/add_neutron_agent_checksum_rule"" \ &> ${COMMAND_LOGS}/add_neutron_agent_checksum_rule.log ansible neutron_agent -m shell \ -a 'DEBIAN_FRONTEND=noninteractive apt-get install iptables-persistent' \ -t ""${COMMAND_LOGS}/add_neutron_agent_checksum_rule"" \ &> ${COMMAND_LOGS}/add_neutron_agent_checksum_rule.log fi",,18,0
openstack%2Fapi-site~master~I3e4fcb752529bb933a7fc8b9ba32627fe2429fca,openstack/api-site,master,I3e4fcb752529bb933a7fc8b9ba32627fe2429fca,The size_min parameter is incorrectly duplicated,MERGED,2015-08-12 21:38:51.000000000,2015-08-17 15:55:20.000000000,2015-08-17 15:55:18.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 2448}]","[{'number': 1, 'created': '2015-08-12 21:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/c9c71e56f9aef3ba1333be88b6b65071c4f3947d', 'message': 'The size_min parameter is incorrectly duplicated\n\nAlso fixed inconsistent query parameters descriptions\nMissing code response for list image details\nMissing list images method\n\nChange-Id: I3e4fcb752529bb933a7fc8b9ba32627fe2429fca\n'}, {'number': 2, 'created': '2015-08-12 21:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/d4c5da8bd13c0e526c6cc954736cd0ade6c353ec', 'message': 'The size_min parameter is incorrectly duplicated\n\nAlso fixed inconsistent query parameters descriptions\nMissing code response for list image details\nMissing list images method\n\nCloses-bug: #1483258\n\nChange-Id: I3e4fcb752529bb933a7fc8b9ba32627fe2429fca\n'}, {'number': 3, 'created': '2015-08-12 21:41:42.000000000', 'files': ['api-ref/src/wadls/image-api/src/v1/os-image-1.0.wadl', 'api-ref/src/docbkx/ch_images-v1.xml', 'api-ref/src/wadls/image-api/src/v1/common.ent'], 'web_link': 'https://opendev.org/openstack/api-site/commit/4974ab02af3509fb327efffe9ac0f9f5bc945c0f', 'message': 'The size_min parameter is incorrectly duplicated\n\nAlso fixed inconsistent query parameters descriptions\nMissing code response for list image details\nMissing list images method\n\nCloses-bug: #1483458\n\nChange-Id: I3e4fcb752529bb933a7fc8b9ba32627fe2429fca\n'}]",0,212196,4974ab02af3509fb327efffe9ac0f9f5bc945c0f,9,3,3,2448,,,0,"The size_min parameter is incorrectly duplicated

Also fixed inconsistent query parameters descriptions
Missing code response for list image details
Missing list images method

Closes-bug: #1483458

Change-Id: I3e4fcb752529bb933a7fc8b9ba32627fe2429fca
",git fetch https://review.opendev.org/openstack/api-site refs/changes/96/212196/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/image-api/src/v1/os-image-1.0.wadl', 'api-ref/src/docbkx/ch_images-v1.xml', 'api-ref/src/wadls/image-api/src/v1/common.ent']",3,c9c71e56f9aef3ba1333be88b6b65071c4f3947d,bug/1483458,"<!-- A collection of common faults, these are pretty much expected in every request. --> <!ENTITY commonFaults ' <response xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:imageapiFault""/> <representation mediaType=""application/json""/> </response> <response status=""400"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badRequest""/> <representation mediaType=""application/json""/> </response> <response status=""401"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:unauthorized""/> <representation mediaType=""application/json""/> </response> <response status=""403"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:forbidden""/> <representation mediaType=""application/json""/> </response> <response status=""405"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badMethod""/> <representation mediaType=""application/json""/> </response> <response status=""413"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:overLimit""/> <representation mediaType=""application/json""/> </response> <response status=""503"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:serviceUnavailable""/> <representation mediaType=""application/json""/> </response> '> <!-- Faults on GET --> <!ENTITY getFaults ' <response status=""404"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:itemNotFound""/> <representation mediaType=""application/json""/> </response> '> <!-- Faults on POST/PUT --> <!ENTITY postPutFaults ' <response status=""415"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badMediaType""/> <representation mediaType=""application/json""/> </response> '> <!ENTITY listImagesQueryParameters ' <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""name"" style=""query"" required=""false"" type=""xsd:string""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified image name, in string format. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""container_format"" style=""query"" required=""false"" type=""imageapi:ImageStatus""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified container format, such as <code>ovf</code>, <code>bare</code>, <code>aki</code>, <code>ari</code>, or <code>ami</code>. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""disk_format"" style=""query"" required=""false"" type=""imageapi:UUID""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified disk format. A valid value is <code>aki</code>, <code>ari</code>, <code>ami</code>, <code>raw</code>, <code>iso</code>, <code>vhd</code>, <code>vdi</code>, <code>qcow2</code>, or <code>vmdk</code>. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""status"" style=""query"" required=""false"" type=""xsd:int""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified status. A valid value is <code>queued</code>, <code>saving</code>, <code>active</code>, <code>killed</code>, <code>deleted</code>, or <code>pending_delete</code>. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""size_min"" style=""query"" required=""false"" type=""xsd:string"" default=""ALL""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified minimum image size, in bytes. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""size_max"" style=""query"" required=""false"" type=""xsd:string"" default=""ALL""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list by a specified maximum image size, in bytes. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""changes-since"" style=""query"" required=""false"" type=""xsd:dateTime"" default=""ALL""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para> Filters the image list to those images that have changed since a specified time stamp value. </para> </wadl:doc> </param>'>"," <!-- A collection of common faults, these are pretty much expected in every request. --> <!ENTITY commonFaults ' <response xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:imageapiFault""/> <representation mediaType=""application/json""/> </response> <response status=""400"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badRequest""/> <representation mediaType=""application/json""/> </response> <response status=""401"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:unauthorized""/> <representation mediaType=""application/json""/> </response> <response status=""403"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:forbidden""/> <representation mediaType=""application/json""/> </response> <response status=""405"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badMethod""/> <representation mediaType=""application/json""/> </response> <response status=""413"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:overLimit""/> <representation mediaType=""application/json""/> </response> <response status=""503"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:serviceUnavailable""/> <representation mediaType=""application/json""/> </response> '> <!-- Faults on GET --> <!ENTITY getFaults ' <response status=""404"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:itemNotFound""/> <representation mediaType=""application/json""/> </response> '> <!-- Faults on POST/PUT --> <!ENTITY postPutFaults ' <response status=""415"" xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""imageapi:badMediaType""/> <representation mediaType=""application/json""/> </response> '>",225,250
openstack%2Fbarbican~master~I061ae6827cae9a43601f05425082a397267f6087,openstack/barbican,master,I061ae6827cae9a43601f05425082a397267f6087,Replace python-ldap with ldap3 library,MERGED,2015-08-11 21:46:37.000000000,2015-08-17 15:48:27.000000000,2015-08-17 15:48:25.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7764}, {'_account_id': 7789}, {'_account_id': 8623}, {'_account_id': 11561}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-08-11 21:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ea77d03b8642f56f5efd3f91c3f86bf04df2c6d6', 'message': 'Replace python-ldap with ldap3 library\n\nThe python-ldap library is being preplaced by ldap3 in other\nOpenStack projects.  It helps us get ready for Python3.  This\ncommit makes this change, and fixes some associated unit tests.\n\nChange-Id: I061ae6827cae9a43601f05425082a397267f6087\nPartially-Implements: blueprint barbican-py3\n'}, {'number': 2, 'created': '2015-08-11 23:12:49.000000000', 'files': ['requirements.txt', 'barbican/tests/tasks/test_certificate_resources.py', 'barbican/common/validators.py', 'barbican/tasks/certificate_resources.py', 'barbican/tests/common/test_validators.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/af4fbb95d7ac6331caceab424fa6f63f8e2774dd', 'message': 'Replace python-ldap with ldap3 library\n\nThe python-ldap library is being preplaced by ldap3 in other\nOpenStack projects.  It helps us get ready for Python3.  This\ncommit makes this change, and fixes some associated unit tests.\n\nChange-Id: I061ae6827cae9a43601f05425082a397267f6087\nPartially-Implements: blueprint barbican-py3\n'}]",0,211759,af4fbb95d7ac6331caceab424fa6f63f8e2774dd,14,9,2,11561,,,0,"Replace python-ldap with ldap3 library

The python-ldap library is being preplaced by ldap3 in other
OpenStack projects.  It helps us get ready for Python3.  This
commit makes this change, and fixes some associated unit tests.

Change-Id: I061ae6827cae9a43601f05425082a397267f6087
Partially-Implements: blueprint barbican-py3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/59/211759/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'barbican/tests/tasks/test_certificate_resources.py', 'barbican/common/validators.py', 'barbican/tasks/certificate_resources.py', 'barbican/tests/common/test_validators.py']",5,ea77d03b8642f56f5efd3f91c3f86bf04df2c6d6,bp/barbican-py3," def test_should_pass_with_one_cn_in_dn(self): self.meta['subject_dn'] = ""CN=example1"" def test_should_pass_with_two_cn_in_dn(self): self.meta['subject_dn'] = ""CN=example1,CN=example2"" def test_should_raise_with_blank_dn(self): self.meta['subject_dn'] = """" self.assertRaises(excep.InvalidSubjectDN, self.validator.validate, self.order_req) "," def test_should_pass_with_two_cn_in_dn(self): self.meta['subject_dn'] = ""CN=example1 CN=example2"" def test_should_pass_with_blank_dn(self): self.meta['subject_dn'] = """"",18,12
openstack%2Ffuel-docs~master~I0a05ad12901ee7a817001a7d06d36b10e966c88d,openstack/fuel-docs,master,I0a05ad12901ee7a817001a7d06d36b10e966c88d,7.0 rollback,MERGED,2015-08-11 10:50:06.000000000,2015-08-17 15:47:08.000000000,2015-08-17 15:44:31.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9448}, {'_account_id': 10488}, {'_account_id': 12847}, {'_account_id': 13695}, {'_account_id': 14342}, {'_account_id': 14864}, {'_account_id': 16771}]","[{'number': 1, 'created': '2015-08-11 10:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/94e38025e932304c5d3c2e503b2500a0d8550b5b', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 2, 'created': '2015-08-11 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1e6656c16e283cc3a4b1d725a84ae745b3c20020', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 3, 'created': '2015-08-14 08:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/f5bd51de04bdd3343af649106f4ff8717c1e935d', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 4, 'created': '2015-08-14 10:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/8410a4abbef1425f9309f792b1d8bd23009cfe09', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 5, 'created': '2015-08-17 11:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/f00da6872250cbcbd27e554dbce3584e13311b90', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 6, 'created': '2015-08-17 13:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/485835fe3918547a5f3631910a920b7ef83fd584', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}, {'number': 7, 'created': '2015-08-17 15:28:40.000000000', 'files': ['pages/user-guide/rollback-ug.rst', 'contents/contents-user.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/17cbc6d0596fd44e66e29dec0deff4026e866d81', 'message': '7.0 rollback\n\nAdd instructions on how to do node rollback\nintroduced in 7.0\n\nChange-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d\n'}]",29,211497,17cbc6d0596fd44e66e29dec0deff4026e866d81,69,9,7,14342,,,0,"7.0 rollback

Add instructions on how to do node rollback
introduced in 7.0

Change-Id: I0a05ad12901ee7a817001a7d06d36b10e966c88d
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/97/211497/6 && git format-patch -1 --stdout FETCH_HEAD,['contents/contents-user.rst'],1,94e38025e932304c5d3c2e503b2500a0d8550b5b,Rollback,.. include:: /pages/user-guide/rollback-ug.rst .. include:: /pages/user-guide/vmware-integration-notes.rst,.. include:: /pages/user-guide/vmware-integration-notes.rst,2,1
openstack%2Fcinder~stable%2Fjuno~If746625cfe658c3528525dc7f4bf869f1c9704dc,openstack/cinder,stable/juno,If746625cfe658c3528525dc7f4bf869f1c9704dc,Add deactivate step to extend_lv,ABANDONED,2015-08-06 15:32:51.000000000,2015-08-17 15:43:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 7350}, {'_account_id': 9751}, {'_account_id': 12608}, {'_account_id': 12778}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14259}, {'_account_id': 14797}]","[{'number': 1, 'created': '2015-08-06 15:32:51.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/657d2010a097a32c273174a0813c591c4de7a8ea', 'message': ""Add deactivate step to extend_lv\n\nExtending a linear LVM volume that has a snapshot requires\nthat the LV be deactivated explicitly prior to extending.\n\nThis adds a deactivate_lv method and calls it prior to\nissuing the extend call. If auto_activation_volume_list\nis not defined lvm.conf, then volumes will be reactivated\nautomatically after the extend.  If auto_activation_volume_list\nis defined, then volumes that should be automatically\nreactivated should be added to the auto_activation_volume_list\nor they won't be activated automatically.\nNOTE: This doesn't apply to thin provisioned LVs as they don't\nrequire the deactivation step.\n\nDocImpact: When a user extends LVM Volumes with a snapshot, the\nvolumes will be deactivated.  Their re-activation is automatic,\nunless auto_activation_volume_list is defined in lvm.conf.\nSee lvm.conf for more info.  Thin provisioned LVM Volumes\nwill not be deactivated as they don't require it.\n\nConflicts:\n        cinder/tests/brick/test_brick_lvm.py\n        cinder/tests/unit/test_srb.py\n\nCo-Authored-By: John Griffith <john.griffith8@gmail.com>\nChange-Id: If746625cfe658c3528525dc7f4bf869f1c9704dc\nCloses-Bug: #1470558\n(cherry picked from commit 314611f79afa6fe79f3d5022c814772048669bb0)\n""}]",0,209993,657d2010a097a32c273174a0813c591c4de7a8ea,12,11,1,7350,,,0,"Add deactivate step to extend_lv

Extending a linear LVM volume that has a snapshot requires
that the LV be deactivated explicitly prior to extending.

This adds a deactivate_lv method and calls it prior to
issuing the extend call. If auto_activation_volume_list
is not defined lvm.conf, then volumes will be reactivated
automatically after the extend.  If auto_activation_volume_list
is defined, then volumes that should be automatically
reactivated should be added to the auto_activation_volume_list
or they won't be activated automatically.
NOTE: This doesn't apply to thin provisioned LVs as they don't
require the deactivation step.

DocImpact: When a user extends LVM Volumes with a snapshot, the
volumes will be deactivated.  Their re-activation is automatic,
unless auto_activation_volume_list is defined in lvm.conf.
See lvm.conf for more info.  Thin provisioned LVM Volumes
will not be deactivated as they don't require it.

Conflicts:
        cinder/tests/brick/test_brick_lvm.py
        cinder/tests/unit/test_srb.py

Co-Authored-By: John Griffith <john.griffith8@gmail.com>
Change-Id: If746625cfe658c3528525dc7f4bf869f1c9704dc
Closes-Bug: #1470558
(cherry picked from commit 314611f79afa6fe79f3d5022c814772048669bb0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/209993/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/brick/test_brick_lvm.py']",2,657d2010a097a32c273174a0813c591c4de7a8ea,bug/1470558,"import mock from mox3 import mox from oslo_concurrency import processutils elif 'lvcreate, -n, ' in cmd_string: pass elif 'lvextend, -L, ' in cmd_string: pass def test_lv_extend(self): self.vg.deactivate_lv = mock.MagicMock() # Extend lv with snapshot and make sure deactivate called self.vg.create_volume(""test"", ""1G"") self.vg.extend_volume(""test"", ""2G"") self.vg.deactivate_lv.assert_called_once_with('test') self.vg.deactivate_lv.reset_mock() # Extend lv without snapshot so deactivate should not be called self.vg.create_volume(""test"", ""1G"") self.vg.vg_name = ""test-volumes"" self.vg.extend_volume(""test"", ""2G"") self.assertFalse(self.vg.deactivate_lv.called)",,43,1
openstack%2Fpython-novaclient~master~I814bedf45980fb90002b2d253c8b38ff0d289f82,openstack/python-novaclient,master,I814bedf45980fb90002b2d253c8b38ff0d289f82,Change docstring of api_versions.discover_version,MERGED,2015-08-10 14:07:32.000000000,2015-08-17 15:41:16.000000000,2015-08-17 15:41:12.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 15701}]","[{'number': 1, 'created': '2015-08-10 14:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2e8fa29aefde82c146101aeed6bcfc3757622f51', 'message': 'Change docstring of api_versions.discover_version\n\nChange-Id: I814bedf45980fb90002b2d253c8b38ff0d289f82\n'}, {'number': 2, 'created': '2015-08-11 10:08:16.000000000', 'files': ['novaclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9f19f9a2852d5a4adaf0c70ea91a5028eb34f766', 'message': 'Change docstring of api_versions.discover_version\n\nChange-Id: I814bedf45980fb90002b2d253c8b38ff0d289f82\n'}]",2,211177,9f19f9a2852d5a4adaf0c70ea91a5028eb34f766,13,8,2,9545,,,0,"Change docstring of api_versions.discover_version

Change-Id: I814bedf45980fb90002b2d253c8b38ff0d289f82
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/77/211177/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/api_versions.py'],1,2e8fa29aefde82c146101aeed6bcfc3757622f51,doc," """"""Checks requested_version and returns the most recent version between API and client. :param requested_version: requested version represented by APIVersion obj"," """"""Returns latest version supported by both API and client.",3,1
openstack%2Fos-client-config~master~I079c7c61b2637ded73542876cb1378a0731f8631,openstack/os-client-config,master,I079c7c61b2637ded73542876cb1378a0731f8631,"Revert ""Revert ""Use the correct auth_plugin for token authentication""""",MERGED,2015-08-13 09:14:01.000000000,2015-08-17 15:37:48.000000000,2015-08-17 15:37:47.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 3099}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-08-13 09:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/626165f313aa32d1823a8fa401852dee8845abf7', 'message': 'Revert ""Revert ""Use the correct auth_plugin for token authentication""""\n\nThis reverts commit 0e3117cb01d201f403be72cbb1218b9eec69a541.\n\nChange-Id: I079c7c61b2637ded73542876cb1378a0731f8631\n'}, {'number': 2, 'created': '2015-08-14 23:42:25.000000000', 'files': ['os_client_config/config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/e29ed75a4b72ed25c7791dab8a66f3a3c86f962a', 'message': 'Revert ""Revert ""Use the correct auth_plugin for token authentication""""\n\nName the auth type needed for using an admin token ""admin_token"". This\nhack can be removed with keystoneclient and/or keystoneauth make a\nrelease with the admin_token entrypoint defined.\n\nNaming it admin_token further reduces the conflict with OSC, which\nshould make the patch to work around OSC having different arguments\nunnecessary.\n\nThis reverts commit 0e3117cb01d201f403be72cbb1218b9eec69a541.\n\nChange-Id: I079c7c61b2637ded73542876cb1378a0731f8631\n'}]",0,212428,e29ed75a4b72ed25c7791dab8a66f3a3c86f962a,13,5,2,2,,,0,"Revert ""Revert ""Use the correct auth_plugin for token authentication""""

Name the auth type needed for using an admin token ""admin_token"". This
hack can be removed with keystoneclient and/or keystoneauth make a
release with the admin_token entrypoint defined.

Naming it admin_token further reduces the conflict with OSC, which
should make the patch to work around OSC having different arguments
unnecessary.

This reverts commit 0e3117cb01d201f403be72cbb1218b9eec69a541.

Change-Id: I079c7c61b2637ded73542876cb1378a0731f8631
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/28/212428/2 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/config.py'],1,626165f313aa32d1823a8fa401852dee8845abf7,auth-token-rename, if config['auth_type'] == 'token_endpoint': auth_plugin = ksc_auth.token_endpoint.Token else: auth_plugin = ksc_auth.get_plugin_class(config['auth_type']) plugin_options = auth_plugin.get_options(), plugin_options = ksc_auth.get_plugin_class( config['auth_type']).get_options(),6,2
openstack%2Foslo.messaging~master~I9dce272246b89f3ec63aefcf11d385fd2d21da6e,openstack/oslo.messaging,master,I9dce272246b89f3ec63aefcf11d385fd2d21da6e,Log warning instead of raising RuntimeError,MERGED,2015-08-16 21:39:18.000000000,2015-08-17 15:20:18.000000000,2015-08-17 15:20:17.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 7491}, {'_account_id': 7787}]","[{'number': 1, 'created': '2015-08-16 21:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e65a196ef28aebc1f74d1260d5951e25492a8919', 'message': 'Log warning instead of raising RuntimeError\n\nChanges introduced in:\nI0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n\nare causing Neutron to fail as summarized by Doug in:\nhttp://markmail.org/message/2xlclp7gqnqpkted\n\nSo we should log warnings instead and make sure we\nfind which projects are affected (using logstash) and\nfix them. Once we do that, then we can switch this\nback to raise RuntimeError(s)\n\nChange-Id: I9dce272246b89f3ec63aefcf11d385fd2d21da6e\n'}, {'number': 2, 'created': '2015-08-17 02:24:13.000000000', 'files': ['oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/02a2e6d380db01098a57e2e4d1269d28caba47dd', 'message': 'Log warning instead of raising RuntimeError\n\nChanges introduced in:\nI0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n\nare causing Neutron to fail as summarized by Doug in:\nhttp://markmail.org/message/2xlclp7gqnqpkted\n\nSo we should log warnings instead and make sure we\nfind which projects are affected (using logstash) and\nfix them. Once we do that, then we can switch this\nback to raise RuntimeError(s)\n\nChange-Id: I9dce272246b89f3ec63aefcf11d385fd2d21da6e\n'}]",0,213542,02a2e6d380db01098a57e2e4d1269d28caba47dd,15,4,2,5638,,,0,"Log warning instead of raising RuntimeError

Changes introduced in:
I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038

are causing Neutron to fail as summarized by Doug in:
http://markmail.org/message/2xlclp7gqnqpkted

So we should log warnings instead and make sure we
find which projects are affected (using logstash) and
fix them. Once we do that, then we can switch this
back to raise RuntimeError(s)

Change-Id: I9dce272246b89f3ec63aefcf11d385fd2d21da6e
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/42/213542/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/server.py'],1,e65a196ef28aebc1f74d1260d5951e25492a8919,,"import logging from oslo_messaging._i18n import _LWLOG = logging.getLogger(__name__) # NOTE(dims): Need to change this to raise RuntimeError after # verifying/fixing other openstack projects (like Neutron) # work ok with this change LOG.warn(_LW(""start/stop/wait must be called in the "" ""same thread"")) # NOTE(dims): Need to change this to raise RuntimeError after # verifying/fixing other openstack projects (like Neutron) # work ok with this change LOG.warn(_(""wait() should be called after stop() as it "" ""waits for existing messages to finish "" ""processing""))"," raise RuntimeError(_(""start/stop/wait must be called in the "" ""same thread"")) raise RuntimeError(_(""wait() should be called after stop() as it "" ""waits for existing messages to finish "" ""processing""))",16,5
openstack%2Fkolla~master~I8e43285f620df4ea74ee78e637cd3eadc9adf5fd,openstack/kolla,master,I8e43285f620df4ea74ee78e637cd3eadc9adf5fd,Fix openvswitch template,MERGED,2015-08-16 07:10:11.000000000,2015-08-17 15:00:45.000000000,2015-08-17 15:00:42.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}]","[{'number': 1, 'created': '2015-08-16 07:10:11.000000000', 'files': ['docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba07ec46bb8a96174ab4190c4d59214657cf52e7', 'message': 'Fix openvswitch template\n\nChange-Id: I8e43285f620df4ea74ee78e637cd3eadc9adf5fd\nPartially-Implements: blueprint dockerfile-template\n'}]",0,213488,ba07ec46bb8a96174ab4190c4d59214657cf52e7,9,3,1,14119,,,0,"Fix openvswitch template

Change-Id: I8e43285f620df4ea74ee78e637cd3eadc9adf5fd
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/213488/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2']",2,ba07ec46bb8a96174ab4190c4d59214657cf52e7,bp/dockerfile-template,FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-ovs-base:{{ tag }},"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }}# TODO (rbergero): When ovs support is added for ubuntu/debian, this # conditional should be removed. {% if base_distro in ['ubuntu', 'debian'] %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% endif %} ",2,22
openstack%2Ffuel-main~master~I787cf7d81a4df7dec0e5d6c9d74d092d2db95293,openstack/fuel-main,master,I787cf7d81a4df7dec0e5d6c9d74d092d2db95293,Use the dynamically generated ssh key in Ubuntu based bootstrap image,MERGED,2015-08-03 16:27:28.000000000,2015-08-17 14:59:23.000000000,2015-08-17 14:59:23.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 3009}, {'_account_id': 7195}, {'_account_id': 8777}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 10288}, {'_account_id': 12817}, {'_account_id': 13194}]","[{'number': 1, 'created': '2015-08-03 16:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8e9028bade736c190b4e6c445ff553e81c8b0a57', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 2, 'created': '2015-08-03 18:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/38b1dd8fb550ca67d4bfdefea70f363ab1c0f9bd', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 3, 'created': '2015-08-04 07:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/4fb3caa2919329797b1c60b878eef2999eccd1db', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 4, 'created': '2015-08-04 11:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/cd5a863de7d270e4ac53bbc8fef766aad697630e', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 5, 'created': '2015-08-06 09:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6f26d698ff64b84830f405aff25dce7e8e0b529a', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 6, 'created': '2015-08-12 09:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6efde37f5ec8b148e17dba244078b6952717c6bc', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}, {'number': 7, 'created': '2015-08-13 11:21:24.000000000', 'files': ['fuel-bootstrap-image-builder/share/fuel-bootstrap-image/ubuntu/files/root/.ssh/authorized_keys', 'fuel-bootstrap-image-builder/bin/fuel-bootstrap-image', 'iso/bootstrap_admin_node.docker.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/dbe723c2613621cfdc069ff38e004af92ae736fa', 'message': 'Use the dynamically generated ssh key in Ubuntu based bootstrap image\n\nPartial-Bug: #1427468\n\nChange-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293\n'}]",26,208552,dbe723c2613621cfdc069ff38e004af92ae736fa,43,10,7,13194,,,0,"Use the dynamically generated ssh key in Ubuntu based bootstrap image

Partial-Bug: #1427468

Change-Id: I787cf7d81a4df7dec0e5d6c9d74d092d2db95293
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/52/208552/4 && git format-patch -1 --stdout FETCH_HEAD,['iso/bootstrap_admin_node.docker.sh'],1,8e9028bade736c190b4e6c445ff553e81c8b0a57,bug/1427468,"# XXX: ssh keys which should be included into the bootstrap image are # generated during containers deployment. However cobbler checkfs for # a kernel and initramfs when creating a profile, which poses chicken # and egg problem. Fortunately cobbler is pretty happy with empty files # so it's easy to break the loop. make_ubuntu_bootstrap_stub () { local bootstrap_dir='/var/www/nailgun/bootstrap/ubuntu' mkdir -p $bootstrap_dir for item in kernel initramfs.img; do touch ""$bootstrap_dir/$item"" done } # Actually build the bootstrap image build_ubuntu_bootstrap () { local ret=1 local max_attempts=3 local config='/etc/fuel-bootstrap-image.conf' local log='/var/log/fuel-bootstrap-image-build.log' if ! grep -qE '^BOOTSTRAP_SSH_KEYS' $config; then cat >> $config <<-EOF BOOTSTRAP_SSH_KEYS=/root/.ssh/id_rsa.pub EOF for n in `seq 1 $max_attempts`; do echo ""Bulding bootstrap image, attempt $n"" >&2 if fuel-bootstrap-image >>""$log"" 2>>&1; then ret=0 break fi done return $ret } make_ubuntu_bootstrap_stub bootstrap_img_failed='' if ! build_ubuntu_bootstrap; then bootstrap_img_failed='yes' fi ","# Need to build bootstrap image early enough so cobbler can create # the `bootstrap' profile bootstrap_img_failed='yes' bootstrap_img_max_attempts=3 for n in `seq 1 $bootstrap_img_max_attempts`; do echo ""Bulding bootstrap image, attempt $n"" >&2 if fuel-bootstrap-image 2>>/var/log/fuel-bootstrap-image-build.log; then bootstrap_img_failed='' breakdone",39,10
openstack%2Fdragonflow~master~I22bc828ec190d05d2cb6731bd9be06a4edd5654c,openstack/dragonflow,master,I22bc828ec190d05d2cb6731bd9be06a4edd5654c,Load maximum unique key identifier from DB,MERGED,2015-08-17 14:20:11.000000000,2015-08-17 14:57:34.000000000,2015-08-17 14:57:34.000000000,"[{'_account_id': 3}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-17 14:20:11.000000000', 'files': ['dragonflow/neutron/plugin.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/312b6bbdab3d463385e3cc6ce524b8bc845519e6', 'message': 'Load maximum unique key identifier from DB\n\nWhen plugin starts, query the db for all logical ports\nand find the highest unique key that was allocated.\nSet the global id to be this maximum and next allocation\nwill use it\n\nChange-Id: I22bc828ec190d05d2cb6731bd9be06a4edd5654c\nCloses-Bug: #1485501\n'}]",0,213730,312b6bbdab3d463385e3cc6ce524b8bc845519e6,7,2,1,11343,,,0,"Load maximum unique key identifier from DB

When plugin starts, query the db for all logical ports
and find the highest unique key that was allocated.
Set the global id to be this maximum and next allocation
will use it

Change-Id: I22bc828ec190d05d2cb6731bd9be06a4edd5654c
Closes-Bug: #1485501
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/30/213730/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/neutron/plugin.py'],1,312b6bbdab3d463385e3cc6ce524b8bc845519e6,fix_binding," self.global_id = self._find_current_global_id() def _find_current_global_id(self): # TODO(gsagie) This method finds the biggest allocated id in the DB # and continue to allocate starting from it, we still need to handle # the case of wrap up in the id's max_id = 0 for port in self.nb_api.get_all_logical_ports(): if port.get_tunnel_key() > max_id: max_id = port.get_tunnel_key() return max_id ", self.global_id = 0,11,1
openstack%2Foslo.middleware~master~Ic6cb7fe9c87151bb0c318d060fd88bb2e1977404,openstack/oslo.middleware,master,Ic6cb7fe9c87151bb0c318d060fd88bb2e1977404,Do not dump HealthcheckResult class source,MERGED,2015-08-17 11:43:14.000000000,2015-08-17 14:52:51.000000000,2015-08-17 14:52:50.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-08-17 11:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/cbb61ae1063896512a41717804955e0b56ceb006', 'message': ""Do not dump HealthcheckResult class source\n\nIf verbose is true, the class definition is printed just\nbefore being built. We don't really need to print this into\nour logs.\n\nCloses-Bug: #1482744\nChange-Id: Ic6cb7fe9c87151bb0c318d060fd88bb2e1977404\n""}, {'number': 2, 'created': '2015-08-17 12:37:25.000000000', 'files': ['oslo_middleware/healthcheck/pluginbase.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/e458a3f3f4ce136ad4ceac9f5951ae1750c55022', 'message': ""Do not dump HealthcheckResult class source\n\nIf verbose is true, the class definition is printed just\nbefore being built. We don't really need to print this into\nour logs, so we should drop the verbose parameter (as it\ndefaults to False anyway).\n\nCloses-Bug: #1482744\nChange-Id: Ic6cb7fe9c87151bb0c318d060fd88bb2e1977404\n""}]",1,213680,e458a3f3f4ce136ad4ceac9f5951ae1750c55022,9,3,2,5638,,,0,"Do not dump HealthcheckResult class source

If verbose is true, the class definition is printed just
before being built. We don't really need to print this into
our logs, so we should drop the verbose parameter (as it
defaults to False anyway).

Closes-Bug: #1482744
Change-Id: Ic6cb7fe9c87151bb0c318d060fd88bb2e1977404
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/80/213680/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_middleware/healthcheck/pluginbase.py'],1,cbb61ae1063896512a41717804955e0b56ceb006,bug/1482744," 'HealthcheckResult', ['available', 'reason'], verbose=False)"," 'HealthcheckResult', ['available', 'reason'], verbose=True)",1,1
openstack%2Fnova-powervm~master~Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34,openstack/nova-powervm,master,Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34,Return CPU frequency as int vs. float,MERGED,2015-08-16 16:44:48.000000000,2015-08-17 14:47:13.000000000,2015-08-17 14:47:13.000000000,"[{'_account_id': 3}, {'_account_id': 7664}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 12994}, {'_account_id': 13289}]","[{'number': 1, 'created': '2015-08-16 16:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/baca01bc4238eaaf5c01a6e4eb95c8f438dd379e', 'message': 'Return CPU frequency as int vs. float\n\nThe general expectation is that CPU frequency is returned as an int\nvs. a floating type (e.g., see libvirt). This change covers that as\nwell as a very minor performance improvement to cache the frequency\nso that we are not performing command IO every time the stats are\nretrieved (which is quite often).\n\nChange-Id: Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34\nCloses-Bug: 1485341\n'}, {'number': 2, 'created': '2015-08-17 12:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ad6423f2f8089657efef93cb9ddd101b2fbea3d0', 'message': ""Return CPU frequency as int vs. float\n\nThe general expectation is that CPU frequency is returned as an int\nvs. a floating type (e.g., see libvirt) for the driver's host CPU\nstats. This patch covers that as well as a simple test case assert.\n\nChange-Id: Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34\nCloses-Bug: 1485341\n""}, {'number': 3, 'created': '2015-08-17 12:46:27.000000000', 'files': ['nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/virt/powervm/host.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/94bfbe53b62892740a8e5d088ea928745ccebcf2', 'message': ""Return CPU frequency as int vs. float\n\nThe general expectation is that CPU frequency is returned as an int\nvs. a floating type (e.g., see libvirt) for the driver's host CPU\nstats. This patch covers that as well as a simple test case assert.\n\nChange-Id: Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34\nCloses-Bug: 1485341\n""}]",5,213520,94bfbe53b62892740a8e5d088ea928745ccebcf2,14,6,3,7664,,,0,"Return CPU frequency as int vs. float

The general expectation is that CPU frequency is returned as an int
vs. a floating type (e.g., see libvirt) for the driver's host CPU
stats. This patch covers that as well as a simple test case assert.

Change-Id: Icd47e82c07fc2e9bf8973a7ee3c46886a3021c34
Closes-Bug: 1485341
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/20/213520/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/virt/powervm/host.py']",2,baca01bc4238eaaf5c01a6e4eb95c8f438dd379e,bug/1485341,"# Copyright 2014, 2015 IBM Corp. self.cpu_freq = None def _get_cpu_freq(self): if self.cpu_freq is None: # The output will be similar to '4116.000000MHz' on a POWER system. cmd = ['/usr/bin/awk', '/clock/ {print $3; exit}', '/proc/cpuinfo'] freq = float(subprocess.check_output(cmd).rstrip(""MHz\n"")) self.cpu_freq = int(freq) return self.cpu_freq","# Copyright 2014 IBM Corp. @staticmethod def _get_cpu_freq(): # The output will be similar to '4116.000000MHz' on a POWER system. cmd = ['/usr/bin/awk', '/clock/ {print $3; exit}', '/proc/cpuinfo'] return float(subprocess.check_output(cmd).rstrip(""MHz\n""))",14,10
openstack%2Fkolla~master~Ie500f9b8640129e464075e4bebd628cf4a4d7f86,openstack/kolla,master,Ie500f9b8640129e464075e4bebd628cf4a4d7f86,Add Dockerfile template for swift,MERGED,2015-08-17 11:16:24.000000000,2015-08-17 14:47:10.000000000,2015-08-17 14:47:06.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}]","[{'number': 1, 'created': '2015-08-17 11:16:24.000000000', 'files': ['docker_templates/swift/swift-object-replicator/Dockerfile.j2', 'docker_templates/swift/swift-container-server/config-external.sh', 'docker_templates/swift/swift-account-server/config-external.sh', 'docker_templates/swift/swift-object-server/config-external.sh', 'docker_templates/swift/swift-object-expirer/config-external.sh', 'docker_templates/swift/swift-object-server/Dockerfile.j2', 'docker_templates/swift/swift-base/config-swift.sh', 'docker_templates/swift/swift-base/Dockerfile.j2', 'docker_templates/swift/swift-object-replicator/config-external.sh', 'docker_templates/swift/swift-object-expirer/Dockerfile.j2', 'docker_templates/swift/swift-container-server/Dockerfile.j2', 'docker_templates/swift/swift-object-auditor/config-external.sh', 'docker_templates/swift/swift-base/build-swift-ring.py', 'docker_templates/swift/swift-object-server/start.sh', 'docker_templates/swift/swift-object-updater/start.sh', 'docker_templates/swift/swift-object-auditor/Dockerfile.j2', 'docker_templates/swift/swift-object-expirer/start.sh', 'docker_templates/swift/swift-account-server/Dockerfile.j2', 'docker_templates/swift/swift-account-server/start.sh', 'docker_templates/swift/swift-object-base/config-swift-object.sh', 'docker_templates/swift/swift-object-auditor/start.sh', 'docker_templates/swift/swift-object-base/Dockerfile.j2', 'docker_templates/swift/swift-proxy-server/config-external.sh', 'docker_templates/swift/swift-object-replicator/start.sh', 'docker_templates/swift/swift-object-updater/config-external.sh', 'docker_templates/swift/swift-object-updater/Dockerfile.j2', 'docker_templates/swift/swift-proxy-server/start.sh', 'docker_templates/swift/swift-proxy-server/Dockerfile.j2', 'docker_templates/swift/swift-container-server/start.sh', 'docker_templates/swift/swift-data/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a1c94c33f84f123ea892aea27e35bc2abf622a9', 'message': 'Add Dockerfile template for swift\n\nChange-Id: Ie500f9b8640129e464075e4bebd628cf4a4d7f86\nPartially-Implements: blueprint dockerfile-template\n'}]",0,213669,0a1c94c33f84f123ea892aea27e35bc2abf622a9,7,3,1,16620,,,0,"Add Dockerfile template for swift

Change-Id: Ie500f9b8640129e464075e4bebd628cf4a4d7f86
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/213669/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/swift/swift-object-replicator/Dockerfile.j2', 'docker_templates/swift/swift-container-server/config-external.sh', 'docker_templates/swift/swift-account-server/config-external.sh', 'docker_templates/swift/swift-object-server/config-external.sh', 'docker_templates/swift/swift-object-expirer/config-external.sh', 'docker_templates/swift/swift-object-server/Dockerfile.j2', 'docker_templates/swift/swift-base/config-swift.sh', 'docker_templates/swift/swift-base/Dockerfile.j2', 'docker_templates/swift/swift-object-replicator/config-external.sh', 'docker_templates/swift/swift-object-expirer/Dockerfile.j2', 'docker_templates/swift/swift-container-server/Dockerfile.j2', 'docker_templates/swift/swift-object-auditor/config-external.sh', 'docker_templates/swift/swift-base/build-swift-ring.py', 'docker_templates/swift/swift-object-server/start.sh', 'docker_templates/swift/swift-object-updater/start.sh', 'docker_templates/swift/swift-object-auditor/Dockerfile.j2', 'docker_templates/swift/swift-object-expirer/start.sh', 'docker_templates/swift/swift-account-server/Dockerfile.j2', 'docker_templates/swift/swift-account-server/start.sh', 'docker_templates/swift/swift-object-base/config-swift-object.sh', 'docker_templates/swift/swift-object-auditor/start.sh', 'docker_templates/swift/swift-object-base/Dockerfile.j2', 'docker_templates/swift/swift-proxy-server/config-external.sh', 'docker_templates/swift/swift-object-replicator/start.sh', 'docker_templates/swift/swift-object-updater/config-external.sh', 'docker_templates/swift/swift-object-updater/Dockerfile.j2', 'docker_templates/swift/swift-proxy-server/start.sh', 'docker_templates/swift/swift-proxy-server/Dockerfile.j2', 'docker_templates/swift/swift-container-server/start.sh', 'docker_templates/swift/swift-data/Dockerfile.j2']",30,0a1c94c33f84f123ea892aea27e35bc2abf622a9,bp/dockerfile-template,"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }} MAINTAINER Kolla Project (https://launchpad.net.kolla) # NOTE(pbourke): This is emulating the Swift ""all-in-one"" setups where there are 3 disks/partitions # on which to mirror data. This is extremely inefficient and is really only to prove everything # works in an AIO setup. For production deploys the Ansible provisioned setup should be used. VOLUME [ ""/srv/node/sdb1"" ] VOLUME [ ""/srv/node/sdb2"" ] VOLUME [ ""/srv/node/sdb3"" ] # Command needed to start the data container. # Note: data containers do not need to be persistent. CMD [""/bin/true""] ",,172,0
openstack%2Fdragonflow~master~If0deca45657226e135e55210dbabe4b5a158aea1,openstack/dragonflow,master,If0deca45657226e135e55210dbabe4b5a158aea1,Delete DHCP port from DB on network delete,MERGED,2015-08-17 14:01:22.000000000,2015-08-17 14:47:06.000000000,2015-08-17 14:47:05.000000000,"[{'_account_id': 3}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-17 14:01:22.000000000', 'files': ['dragonflow/neutron/plugin.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6f515e9a520a196c09c91ba64e9becb0f5ce5340', 'message': 'Delete DHCP port from DB on network delete\n\nDHCP port deletion is not sent to the Neutron plugin upon\ndeletion of network.\nthis fix find the relevant network ports and delets them in the\nDB.\n\nChange-Id: If0deca45657226e135e55210dbabe4b5a158aea1\n'}]",0,213717,6f515e9a520a196c09c91ba64e9becb0f5ce5340,6,2,1,11343,,,0,"Delete DHCP port from DB on network delete

DHCP port deletion is not sent to the Neutron plugin upon
deletion of network.
this fix find the relevant network ports and delets them in the
DB.

Change-Id: If0deca45657226e135e55210dbabe4b5a158aea1
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/17/213717/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/neutron/plugin.py'],1,6f515e9a520a196c09c91ba64e9becb0f5ce5340,fix_binding, # TODO(gsagie) this patch is used to remove DHCP port # remove when we implement distributed DHCP service and dont use # q-dhcp for port in self.nb_api.get_all_logical_ports(): if port.get_network_id() == utils.ovn_name(network_id): self.nb_api.delete_lport(port.get_id()),,6,0
openstack%2Fironic~master~Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b,openstack/ironic,master,Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b,Update cached images based on update time,MERGED,2015-06-24 09:57:21.000000000,2015-08-17 14:45:06.000000000,2015-08-17 14:45:04.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 9315}, {'_account_id': 9751}, {'_account_id': 11655}, {'_account_id': 12081}, {'_account_id': 12356}, {'_account_id': 13997}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-06-24 09:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b79a7bfb8eaa133d4e06efdab261a3219a5f9cf7', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this cahnge it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 2, 'created': '2015-06-24 11:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f289857deda3ab8dd7fc06c072cbbe9fa1f93a45', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this cahnge it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 3, 'created': '2015-06-24 21:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f812d35a2cdee4bb8fa13e0dfd85c665d80fc508', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this cahnge it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 4, 'created': '2015-06-24 21:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff6520f77b03858c4145ce561377c84d9c1a5b80', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 5, 'created': '2015-06-25 13:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c6b2649a8ae5e831fd1c1e96a150a6fa9ef2910', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 6, 'created': '2015-06-25 13:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/309c76d45979908920f36de0de3c7734cba8c3a2', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 7, 'created': '2015-06-25 15:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/27ac3f4660de1e886c7f7e3cc262b830a0506c69', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 8, 'created': '2015-06-25 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aeccd13c07dec1ef9c22267f89e39bf888b83647', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 9, 'created': '2015-06-25 18:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dceb4310060efd185afbeffe1db838b49f5f4044', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the FS where image cache is located), ironic\nwon't be able to determine that the image was updated and will not\nupdate the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For FS it can accomplished with\nstandard OS means, and for HTTP(S) images 'Last-Modified' HTTP header\ncan be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 10, 'created': '2015-07-01 17:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/265d18c5d861dc504fed0b3e3238b4c70185ae7c', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on FS available locally (except\nfor the case when it is the file system where image cache is located),\nironic won't be able to determine that the image was updated and will\nnot update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 11, 'created': '2015-07-02 14:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3a60398e9e14987ffbc7ba744ec5d955f7b44bc', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 12, 'created': '2015-08-11 10:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75ff4fa727d8bb8b45ab713513e2d767a9d608de', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 13, 'created': '2015-08-11 11:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aef17c51a89762f5bcce0012e319918c490a2de9', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 14, 'created': '2015-08-11 16:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f79e0cbd2221186b0a96c711e5a7a457ba505993', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 15, 'created': '2015-08-12 09:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14c1ba8ccb6300030a42929954cf709fa3a86389', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}, {'number': 16, 'created': '2015-08-13 11:58:52.000000000', 'files': ['ironic/tests/test_utils.py', 'ironic/drivers/modules/image_cache.py', 'requirements.txt', 'ironic/tests/drivers/test_image_cache.py', 'doc/source/deploy/install-guide.rst', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/test_glance_service.py', 'ironic/common/image_service.py', 'ironic/common/utils.py', 'ironic/tests/test_image_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/19165ceba62c2f443385a2f92321b4ddf482cfa6', 'message': ""Update cached images based on update time\n\nCurrently, if non-glance image is used in ironic, and contents of this\nimage are updated on HTTP(S) server or on file system available\nlocally (except for the case when it is the file system where image\ncache is located), ironic won't be able to determine that the image\nwas updated and will not update the cache.\n\nIn this change it is proposed to use last modification date to\ndetermine if an image is up to date. For file system it can be\naccomplished with standard operating system means, and for HTTP(S)\nimages 'Last-Modified' HTTP header can be used.\n\nCloses-bug: #1459328\nChange-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b\n""}]",104,195017,19165ceba62c2f443385a2f92321b4ddf482cfa6,98,10,16,12356,,,0,"Update cached images based on update time

Currently, if non-glance image is used in ironic, and contents of this
image are updated on HTTP(S) server or on file system available
locally (except for the case when it is the file system where image
cache is located), ironic won't be able to determine that the image
was updated and will not update the cache.

In this change it is proposed to use last modification date to
determine if an image is up to date. For file system it can be
accomplished with standard operating system means, and for HTTP(S)
images 'Last-Modified' HTTP header can be used.

Closes-bug: #1459328
Change-Id: Ia3e6b6072fdf7a4bfffdc3fbaf31103605c7ff5b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/195017/15 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_cache.py', 'ironic/tests/drivers/test_image_cache.py', 'ironic/common/image_service.py', 'ironic/common/utils.py', 'ironic/tests/test_image_service.py']",5,b79a7bfb8eaa133d4e06efdab261a3219a5f9cf7,bug/1459328," mtime = 'Tue, 15 Nov 2014 08:12:31 GMT' head_mock.return_value.headers = { 'Content-Length': 100, 'Last-Modified': mtime } self.assertEqual({'size': 100, 'updated_at': mtime, 'properties': {}}, result) @mock.patch.object(os.path, 'getmtime', return_value=1431087909.1641912, autospec=True) self.assertEqual({'size': 42, 'updated_at': 1431087909.1641912, 'properties': {}}, result)"," self.assertEqual({'size': 1, 'properties': {}}, result) self.assertEqual({'size': 42, 'properties': {}}, result)",80,13
openstack%2Fglance~stable%2Fkilo~I7a3f450e788919a70f4cf2f1e511dafa2e040dce,openstack/glance,stable/kilo,I7a3f450e788919a70f4cf2f1e511dafa2e040dce,Updated from global requirements,MERGED,2015-08-14 16:31:24.000000000,2015-08-17 14:44:57.000000000,2015-08-17 14:44:56.000000000,"[{'_account_id': 3}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-08-14 16:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eb868b7ea7cf830b77b58c7e4206c30862f0b9bc', 'message': 'Updated from global requirements\n\nChange-Id: I7a3f450e788919a70f4cf2f1e511dafa2e040dce\n'}, {'number': 2, 'created': '2015-08-14 18:20:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/53fc470eb3713fc4455e53fd9de136940318a707', 'message': 'Updated from global requirements\n\nChange-Id: I7a3f450e788919a70f4cf2f1e511dafa2e040dce\n'}]",0,213233,53fc470eb3713fc4455e53fd9de136940318a707,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I7a3f450e788919a70f4cf2f1e511dafa2e040dce
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/213233/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,eb868b7ea7cf830b77b58c7e4206c30862f0b9bc,openstack/requirements,"mox3<0.8.0,>=0.7.0",mox3>=0.7.0,1,1
openstack%2Fglance~master~Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a,openstack/glance,master,Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a,Updated from global requirements,MERGED,2015-08-08 03:06:40.000000000,2015-08-17 14:44:53.000000000,2015-08-17 14:44:48.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 14676}, {'_account_id': 16658}]","[{'number': 1, 'created': '2015-08-08 03:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4dd294a523bf21b8d193aca336b7713559a2a3a2', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 2, 'created': '2015-08-09 05:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd484f934dd82419a9d45d59c1d0ff759b31034c', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 3, 'created': '2015-08-10 01:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2272eca11a3d97bca79e58fb33284156d50ff922', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 4, 'created': '2015-08-11 22:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aa82100c4e1e2ecfce7cf664d0607caed7cc0bd0', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 5, 'created': '2015-08-12 23:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b60e6e10a525e32d2d20c5070a35bdda04e466ad', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 6, 'created': '2015-08-13 02:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0d177edae1e12e3f4536a49383fa23070a04fa6', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 7, 'created': '2015-08-13 20:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d589e62eb1e6b21bb9b9c3638f5ea82422efc5d3', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 8, 'created': '2015-08-14 08:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/43ae0d4b52700e9ed456a0b54f06a6c9a686fc5c', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 9, 'created': '2015-08-14 09:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/daaa3c05bdc6eeab0ec8f3868ba18a745c2d7a95', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}, {'number': 10, 'created': '2015-08-15 17:09:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/42a942538488081c4df057fb3b196d57a3e6c142', 'message': 'Updated from global requirements\n\nChange-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a\n'}]",0,210677,42a942538488081c4df057fb3b196d57a3e6c142,28,5,10,11131,,,0,"Updated from global requirements

Change-Id: Ib6d6630bfba3ec9e3080dec0e9552c2bed9b728a
",git fetch https://review.opendev.org/openstack/glance refs/changes/77/210677/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4dd294a523bf21b8d193aca336b7713559a2a3a2,openstack/requirements,oslosphinx>=2.5.0 # Apache-2.0,oslosphinx>=2.5.0 # Apache-2.0,1,1
openstack%2Fglance~master~I5ed9f64e07c5624f816088113ff67cb03cc8e3f2,openstack/glance,master,I5ed9f64e07c5624f816088113ff67cb03cc8e3f2,return request_id in case of 500 error,MERGED,2015-08-11 07:06:41.000000000,2015-08-17 14:36:25.000000000,2015-08-17 14:36:23.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 7634}, {'_account_id': 11759}, {'_account_id': 12000}, {'_account_id': 14676}, {'_account_id': 16658}]","[{'number': 1, 'created': '2015-08-11 07:06:41.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f660846f7ad5da350f1eec9622538cba4ab25827', 'message': ""return request_id in case of 500 error\n\nRequest-id is not getting returned if glance throws 500 error\nbecause context middleware 'process_response' method is not\ngetting called.\n\nCatching generic exception in wsgi Resource class, and returning\n'webob.exc.HTTPInternalServerError' object as response.\nContext middleware adds request-id header to this response object.\n\nCloses-Bug: #1480196\n\nChange-Id: I5ed9f64e07c5624f816088113ff67cb03cc8e3f2\n""}]",0,211447,f660846f7ad5da350f1eec9622538cba4ab25827,11,9,1,8300,,,0,"return request_id in case of 500 error

Request-id is not getting returned if glance throws 500 error
because context middleware 'process_response' method is not
getting called.

Catching generic exception in wsgi Resource class, and returning
'webob.exc.HTTPInternalServerError' object as response.
Context middleware adds request-id header to this response object.

Closes-Bug: #1480196

Change-Id: I5ed9f64e07c5624f816088113ff67cb03cc8e3f2
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/211447/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_wsgi.py', 'glance/common/wsgi.py']",2,f660846f7ad5da350f1eec9622538cba4ab25827,return_req_id_500_err," except Exception as e: LOG.exception(_LE(""Caught error: %s""), six.text_type(e)) response = webob.exc.HTTPInternalServerError() return response",,23,0
openstack%2Fglance~master~I1743a539703c964277b0e8da203ee46bc8014fb5,openstack/glance,master,I1743a539703c964277b0e8da203ee46bc8014fb5,Don't use slashes for long lines - use parentheses instead,MERGED,2014-11-20 14:46:11.000000000,2015-08-17 14:35:15.000000000,2015-08-17 14:35:14.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 7012}, {'_account_id': 7575}, {'_account_id': 7665}, {'_account_id': 8158}, {'_account_id': 9096}, {'_account_id': 10383}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12395}, {'_account_id': 13161}]","[{'number': 1, 'created': '2014-11-20 14:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/38ae7eee7ae254b0ddad1b6395d82834262b688a', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nhttps://github.com/openstack/glance/blob/master/glance/api/v2/schemas.py#L38\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 2, 'created': '2014-11-20 15:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bfb29888ab5e2c9d7005ab286aaec6b5857f8278', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 3, 'created': '2014-11-21 14:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c46c398c8df1f87b8384c3d8e1cea0ff899bdddc', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 4, 'created': '2014-11-28 10:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c194893974d28eadf67fadca1296988b3c47e27e', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 5, 'created': '2014-11-28 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb0699c8936e941b2490801cbde9c033f98d2b5f', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 6, 'created': '2014-11-29 07:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c422bba7ed1d0c1952550c05411a3b0f71116eb1', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nExample:\nself.metadef_namespace_collection_schema = \\\nmetadef_namespaces.get_collection_schema()\nTransformats to:\nself.metadef_namespace_collection_schema = (\nmetadef_namespaces.get_collection_schema())\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 7, 'created': '2015-04-15 11:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1bcfbcae4aae6eb567e8784969da14bb2d08130d', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 8, 'created': '2015-06-10 07:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9068913b2aa2e5ac92be15989206d944f49909f7', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 9, 'created': '2015-08-07 12:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01ac1a4f785945c1e4da62e8e7a412c3a5391310', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 10, 'created': '2015-08-10 08:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a1611c17265705103267680d0d120b0722fc45b', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 11, 'created': '2015-08-12 10:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00fd8fe113ca6f424c8f93722bfc9f1cc0c3ae9c', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}, {'number': 12, 'created': '2015-08-16 07:21:13.000000000', 'files': ['glance/tests/functional/db/base_artifacts.py', 'glance/db/simple/api.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/db/sqlalchemy/metadef_api/resource_type_association.py', 'glance/tests/stubs.py', 'glance/db/sqlalchemy/api.py', 'glance/api/v3/artifacts.py', 'glance/common/artifacts/serialization.py', 'glance/tests/functional/db/base_metadef.py', 'glance/db/sqlalchemy/metadef_api/resource_type.py', 'glance/tests/unit/test_db_metadef.py', 'glance/db/sqlalchemy/metadef_api/property.py', 'glance/tests/unit/v1/test_upload_utils.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/db/sqlalchemy/metadata.py', 'glance/registry/client/v1/client.py', 'glance/common/artifacts/definitions.py', 'glance/api/v2/images.py', 'glance/db/sqlalchemy/metadef_api/object.py', 'glance/tests/functional/v2/test_metadef_objects.py', 'glance/db/sqlalchemy/artifacts.py', 'glance/api/v2/schemas.py', 'glance/tests/unit/test_scrubber.py', 'glance/db/sqlalchemy/metadef_api/namespace.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2008c55f2621d3608c38d9e270f84173c15e270c', 'message': ""Don't use slashes for long lines - use parentheses instead\n\nAccording to the OpenStack Style Guidelines [1] it is prefered to wrap\nlong lines in parentheses and not a backslash for line continuation. As\nwe are following those guidelines in our project - this patch replaces\nbackslash with parentheses for line continuation.\n\n_[1] http://docs.openstack.org/developer/hacking/#general\n\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>\n\nChange-Id: I1743a539703c964277b0e8da203ee46bc8014fb5\nCloses-bug: 1394605\n""}]",19,136012,2008c55f2621d3608c38d9e270f84173c15e270c,60,13,12,12395,,,0,"Don't use slashes for long lines - use parentheses instead

According to the OpenStack Style Guidelines [1] it is prefered to wrap
long lines in parentheses and not a backslash for line continuation. As
we are following those guidelines in our project - this patch replaces
backslash with parentheses for line continuation.

_[1] http://docs.openstack.org/developer/hacking/#general

Co-Authored-By: Roman Vasilets <rvasilets@mirantis.com>
Co-Authored-By: Kamil Rykowski <kamil.rykowski@intel.com>

Change-Id: I1743a539703c964277b0e8da203ee46bc8014fb5
Closes-bug: 1394605
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/136012/12 && git format-patch -1 --stdout FETCH_HEAD,"['glance/db/sqlalchemy/metadata.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/api/v2/schemas.py', 'glance/tests/unit/test_scrubber.py']",4,38ae7eee7ae254b0ddad1b6395d82834262b688a,bug/1394605, _mock_get_images_detailed.side_effect = ( make_get_images_detailed(image_pager)) _mock_get_images_detailed.side_effect = ( make_get_images_detailed(image_pager)), _mock_get_images_detailed.side_effect = \ make_get_images_detailed(image_pager) _mock_get_images_detailed.side_effect = \ make_get_images_detailed(image_pager),18,18
openstack%2Faodh~master~Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0,openstack/aodh,master,Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0,Exclude event type from targets of alarm evaluator,MERGED,2015-07-13 01:30:57.000000000,2015-08-17 14:27:45.000000000,2015-08-17 14:27:44.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 6469}, {'_account_id': 6924}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-07-13 01:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/a87a42a586ec03b72a467dc0f28c659670758317', 'message': ""Exclude event type from targets of alarm evaluator\n\nThe new evaluator service will be added to handle 'event' type alarms\nonly. Existing evaluator have to exclude those 'event' type alarms\nfrom thier targets which will be evaluated periodically.\n\nChange-Id: Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0\nImplements: blueprint event-alarm-evaluator\n""}, {'number': 2, 'created': '2015-08-07 13:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/98f525cd87d69d3a27e85e891b11dc0ed0bca67e', 'message': ""Exclude event type from targets of alarm evaluator\n\nThe new evaluator service will be added to handle 'event' type alarms\nonly. Existing evaluator have to exclude those 'event' type alarms\nfrom thier targets which will be evaluated periodically.\n\nChange-Id: Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0\nImplements: blueprint event-alarm-evaluator\n""}, {'number': 3, 'created': '2015-08-12 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/e43dbb1e79905e09fc9ffbedc19b8117d55b9c94', 'message': ""Exclude event type from targets of alarm evaluator\n\nThe new evaluator service will be added to handle 'event' type alarms\nonly. Existing evaluator have to exclude those 'event' type alarms\nfrom their targets which will be evaluated periodically.\n\nChange-Id: Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0\nImplements: blueprint event-alarm-evaluator\n""}, {'number': 4, 'created': '2015-08-17 13:17:03.000000000', 'files': ['aodh/evaluator/__init__.py', 'aodh/tests/test_evaluator.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/1cc7087af12c4fa66396a6642725014bdfa48d56', 'message': ""Exclude event type from targets of alarm evaluator\n\nThe new evaluator service will be added to handle 'event' type alarms\nonly. Existing evaluator have to exclude those 'event' type alarms\nfrom their targets which will be evaluated periodically.\n\nChange-Id: Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0\nImplements: blueprint event-alarm-evaluator\n""}]",4,200969,1cc7087af12c4fa66396a6642725014bdfa48d56,25,7,4,1894,,,0,"Exclude event type from targets of alarm evaluator

The new evaluator service will be added to handle 'event' type alarms
only. Existing evaluator have to exclude those 'event' type alarms
from their targets which will be evaluated periodically.

Change-Id: Ia501771ee8d3dcd424c7e415d8aeb3d41a8e8de0
Implements: blueprint event-alarm-evaluator
",git fetch https://review.opendev.org/openstack/aodh refs/changes/69/200969/3 && git format-patch -1 --stdout FETCH_HEAD,['aodh/alarm/service.py'],1,a87a42a586ec03b72a467dc0f28c659670758317,bp/event-alarm-evaluator," enabled = {'field': 'enabled', 'value': True} not_event = {'field': 'type', 'op': 'ne', 'value': 'event'} all_alarms = self._client.alarms.list(q=[enabled, not_event])"," all_alarms = self._client.alarms.list(q=[{'field': 'enabled', 'value': True}])",3,2
openstack%2Fsahara~master~I3a3bb09d121a574edac6973a24e65365805d5263,openstack/sahara,master,I3a3bb09d121a574edac6973a24e65365805d5263,Add scenario gate testing placeholders,MERGED,2015-08-16 21:53:20.000000000,2015-08-17 14:24:21.000000000,2015-08-17 13:57:44.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-08-16 21:53:20.000000000', 'files': ['tools/gate/scenario/post_test_hook.sh', 'tools/gate/scenario/pre_test_hook.sh', 'tools/gate/scenario/README.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b46a56a69d546af107709d54f12507c082a1f741', 'message': 'Add scenario gate testing placeholders\n\nRelated CR: I51854bd25e2b69704448829af4dcbd42b93fcf85\n\nChange-Id: I3a3bb09d121a574edac6973a24e65365805d5263\n'}]",0,213544,b46a56a69d546af107709d54f12507c082a1f741,11,5,1,6786,,,0,"Add scenario gate testing placeholders

Related CR: I51854bd25e2b69704448829af4dcbd42b93fcf85

Change-Id: I3a3bb09d121a574edac6973a24e65365805d5263
",git fetch https://review.opendev.org/openstack/sahara refs/changes/44/213544/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/scenario/post_test_hook.sh', 'tools/gate/scenario/pre_test_hook.sh', 'tools/gate/scenario/README.rst']",3,b46a56a69d546af107709d54f12507c082a1f741,sahara-scenario-gate,======================================== Scripts and conf for scenario tests gate ======================================== ,,3,0
openstack%2Fproject-config~master~Iafd27e9edf8865e462d4e33a2514afc8c466e290,openstack/project-config,master,Iafd27e9edf8865e462d4e33a2514afc8c466e290,jenkins/copy_puppet_logs.sh: prepare apache_config dir,MERGED,2015-08-17 12:12:06.000000000,2015-08-17 14:18:00.000000000,2015-08-17 14:17:59.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-08-17 12:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb58c6deecae1bc7c676cfb44656617bb7883fcb', 'message': 'jenkins/copy_puppet_logs.sh: create apache logs dir before copy\n\nBefore copying the apache logs in logs directory, we need to create it\nso the job will fail.\n\nChange-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290\n'}, {'number': 2, 'created': '2015-08-17 12:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/56470d3552d591a58341d7d13ac836f0f40a06d3', 'message': 'jenkins/copy_puppet_logs.sh: create apache logs dir before copy\n\nBefore copying the apache logs in logs directory, we need to create it\nso the job will fail.\nAlso for YUM system-based, fix apache config dir.\n\nChange-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290\n'}, {'number': 3, 'created': '2015-08-17 13:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/75ec480054a85b06de9083c310902e2ea13b1d50', 'message': 'jenkins/copy_puppet_logs.sh: prepare destination apache logs\n\nBefore copying the logs from /var/logs, we need to create the destination repository that will host apache logs in the workspace.\nThis patch aims to do that and will unblock Puppet CI since it was trying to copy logs in a directory that did not exist yet.\n\nChange-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290'}, {'number': 4, 'created': '2015-08-17 13:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/43b7335cdb2f6cd8a612fce41cc4c8e0ab65420f', 'message': 'jenkins/copy_puppet_logs.sh: prepare destination apache logs\n\nBefore copying the logs from /var/log, we need to create the destination repository that will host apache logs in the workspace.\nThis patch aims to do that and will unblock Puppet CI since it was trying to copy logs in a directory that did not exist yet.\n\nChange-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290'}, {'number': 5, 'created': '2015-08-17 13:57:27.000000000', 'files': ['jenkins/scripts/copy_puppet_logs.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e30670c1b2fc5e37139a7e33bf120e0d6f673d22', 'message': 'jenkins/copy_puppet_logs.sh: prepare apache_config dir\n\nThis patch aims to manage apache_config directory before copying\napache configuration from /etc.\nOtherwise, the job will fail since apache_config dir does not\nexist.\n\nChange-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290'}]",0,213688,e30670c1b2fc5e37139a7e33bf120e0d6f673d22,14,5,5,3153,,,0,"jenkins/copy_puppet_logs.sh: prepare apache_config dir

This patch aims to manage apache_config directory before copying
apache configuration from /etc.
Otherwise, the job will fail since apache_config dir does not
exist.

Change-Id: Iafd27e9edf8865e462d4e33a2514afc8c466e290",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/213688/5 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/copy_puppet_logs.sh'],1,eb58c6deecae1bc7c676cfb44656617bb7883fcb,puppet/logs, mkdir $LOG_DIR/apache_config mkdir $LOG_DIR/apache_config,,2,0
openstack%2Fpuppet-designate~master~I0c94ab8c4ad19d3f8464b5e1762a4ec716dbecf2,openstack/puppet-designate,master,I0c94ab8c4ad19d3f8464b5e1762a4ec716dbecf2,acceptance: enable debug & verbosity for OpenStack logs,MERGED,2015-08-16 13:50:42.000000000,2015-08-17 14:17:09.000000000,2015-08-17 14:17:07.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-08-16 13:50:42.000000000', 'files': ['spec/acceptance/basic_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d71e2bfc8f58ff7d218000d5ef427450018f9d28', 'message': 'acceptance: enable debug & verbosity for OpenStack logs\n\nEnable debug & verbose when possible for OpenStack services logs, so we can read a maximum\nof informations in Jenkins jobs logs and easily debug our eventual failures.\n\nChange-Id: I0c94ab8c4ad19d3f8464b5e1762a4ec716dbecf2\n'}]",0,213506,d71e2bfc8f58ff7d218000d5ef427450018f9d28,7,3,1,3153,,,0,"acceptance: enable debug & verbosity for OpenStack logs

Enable debug & verbose when possible for OpenStack services logs, so we can read a maximum
of informations in Jenkins jobs logs and easily debug our eventual failures.

Change-Id: I0c94ab8c4ad19d3f8464b5e1762a4ec716dbecf2
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/06/213506/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_designate_spec.rb'],1,d71e2bfc8f58ff7d218000d5ef427450018f9d28,puppet/acceptance_logs," debug => true, verbose => true,",,2,0
openstack%2Fpuppet-cinder~master~I1ebec6e0b1e0cea4548eabf54c82eee9c240873c,openstack/puppet-cinder,master,I1ebec6e0b1e0cea4548eabf54c82eee9c240873c,acceptance: enable debug & verbosity for OpenStack logs,MERGED,2015-08-16 13:50:30.000000000,2015-08-17 14:16:20.000000000,2015-08-17 14:16:19.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-08-16 13:50:30.000000000', 'files': ['spec/acceptance/basic_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2895cf14b6b9175c88f0592dfc27c76b4e7a0acb', 'message': 'acceptance: enable debug & verbosity for OpenStack logs\n\nEnable debug & verbose when possible for OpenStack services logs, so we can read a maximum\nof informations in Jenkins jobs logs and easily debug our eventual failures.\n\nChange-Id: I1ebec6e0b1e0cea4548eabf54c82eee9c240873c\n'}]",0,213505,2895cf14b6b9175c88f0592dfc27c76b4e7a0acb,8,3,1,3153,,,0,"acceptance: enable debug & verbosity for OpenStack logs

Enable debug & verbose when possible for OpenStack services logs, so we can read a maximum
of informations in Jenkins jobs logs and easily debug our eventual failures.

Change-Id: I1ebec6e0b1e0cea4548eabf54c82eee9c240873c
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/05/213505/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_cinder_spec.rb'],1,2895cf14b6b9175c88f0592dfc27c76b4e7a0acb,puppet/acceptance_logs," debug => true, verbose => true,",,2,0
openstack%2Fpuppet-heat~master~I5bdb2f9d9083efdfff9fa43f45371a90a75e38b7,openstack/puppet-heat,master,I5bdb2f9d9083efdfff9fa43f45371a90a75e38b7,acceptance: enable debug & verbosity for OpenStack logs,MERGED,2015-08-16 13:51:02.000000000,2015-08-17 14:15:29.000000000,2015-08-17 14:15:27.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-08-16 13:51:02.000000000', 'files': ['spec/acceptance/basic_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/2ed33d3166158bd4cfe3af32d93a72f2c5d1a3ac', 'message': 'acceptance: enable debug & verbosity for OpenStack logs\n\nEnable debug & verbose when possible for OpenStack services logs, so we can read a maximum\nof informations in Jenkins jobs logs and easily debug our eventual failures.\n\nChange-Id: I5bdb2f9d9083efdfff9fa43f45371a90a75e38b7\n'}]",0,213507,2ed33d3166158bd4cfe3af32d93a72f2c5d1a3ac,8,3,1,3153,,,0,"acceptance: enable debug & verbosity for OpenStack logs

Enable debug & verbose when possible for OpenStack services logs, so we can read a maximum
of informations in Jenkins jobs logs and easily debug our eventual failures.

Change-Id: I5bdb2f9d9083efdfff9fa43f45371a90a75e38b7
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/07/213507/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_heat_spec.rb'],1,2ed33d3166158bd4cfe3af32d93a72f2c5d1a3ac,puppet/acceptance_logs," debug => true, verbose => true,",,2,0
openstack%2Fnova-specs~master~I1d6784249ff5c99d1a370d046d9078bb250e0974,openstack/nova-specs,master,I1d6784249ff5c99d1a370d046d9078bb250e0974,Add a Distinct Exception for Exceeding Max Retries,MERGED,2015-06-22 15:58:09.000000000,2015-08-17 14:13:33.000000000,2015-06-23 10:27:51.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 2271}, {'_account_id': 8688}]","[{'number': 1, 'created': '2015-06-22 15:58:09.000000000', 'files': ['specs/liberty/approved/add_exceeded_max_retries_exception.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b63ba06eb1898668952929a813752ebcb898f574', 'message': 'Add a Distinct Exception for Exceeding Max Retries\n\nThere are two separate and very different situations which raise a\nNoValidHost exception when attempting to spawn a new VM, which is\nconfusing for operators who need to determine why a VM failed to spawn.\nThis proposes to add a new exception class that will make the two\nfailure modes more obvious to the operators.\n\nBlueprint: no-valid-host-reporting\n\nChange-Id: I1d6784249ff5c99d1a370d046d9078bb250e0974\n'}]",1,194204,b63ba06eb1898668952929a813752ebcb898f574,9,5,1,1063,,,0,"Add a Distinct Exception for Exceeding Max Retries

There are two separate and very different situations which raise a
NoValidHost exception when attempting to spawn a new VM, which is
confusing for operators who need to determine why a VM failed to spawn.
This proposes to add a new exception class that will make the two
failure modes more obvious to the operators.

Blueprint: no-valid-host-reporting

Change-Id: I1d6784249ff5c99d1a370d046d9078bb250e0974
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/04/194204/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/add_exceeded_max_retries_exception.rst'],1,b63ba06eb1898668952929a813752ebcb898f574,bp/no-valid-host-reporting,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== Add a Distinct Exception for Exceeding Max Retries ================================================== https://blueprints.launchpad.net/nova/+spec/no-valid-host-reporting There are two separate and very different situations which raise a NoValidHost exception when attempting to spawn a new VM, which is confusing for operators who need to determine why a VM failed to spawn. This proposes to add a new exception class that will make the two failure modes more obvious to the operators. Problem description =================== Currently, a NoValidHost exception is raised in two separate cases: * when the scheduler filters cannot find a host that meets the requirements of the request * when the maximum number of retries is exceeded when attempting to create the VM Operators can have a difficult time distinguishing between the two situations when attempting to learn why a VM failed to spawn. Use Cases ---------- As an operator I want a less confusing way of determining why a VM failed to spawn. The current practice of having a NoValidHost exception raised for very different failure reasons is not as helpful as separate exception types raised for the different modes. Project Priority ----------------- This is part of the scheduler improvement effort, which has been identified as a priority for Liberty. Proposed change =============== A new exception class named `MaxRetriesExceeded` will be defined, and all places where NoValidHost is currently raised that are not due to all hosts being filtered out will be changed to raise this new exception. This new exception class will be a subclass of NoValidHost, so that any existing code that is catching NoValidHost exceptions will not break. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: edleafe Work Items ---------- * Define the new exception class * Search through the code for all cases where NoValidHost is raised, and change the exception class raised by those that are the result of exceeding the maximum number of retries to raise this new exception class instead. Dependencies ============ None. Testing ======= Existing tests will be updated to test for the new exception class instead of the old class wherever appropriate. Documentation Impact ==================== None. References ========== None. ",,138,0
openstack%2Fpuppet-nova~master~I62b8510442a747d2f909bdceb0717839c9778e6d,openstack/puppet-nova,master,I62b8510442a747d2f909bdceb0717839c9778e6d,acceptance: enable debug & verbosity for OpenStack logs,MERGED,2015-08-16 13:51:35.000000000,2015-08-17 14:03:02.000000000,2015-08-17 14:03:01.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-08-16 13:51:35.000000000', 'files': ['spec/acceptance/basic_nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/196dce78ad9c416c8e2d0932698fd9c511639ed1', 'message': 'acceptance: enable debug & verbosity for OpenStack logs\n\nEnable debug & verbose when possible for OpenStack services logs, so we can read a maximum\nof informations in Jenkins jobs logs and easily debug our eventual failures.\n\nChange-Id: I62b8510442a747d2f909bdceb0717839c9778e6d\n'}]",0,213511,196dce78ad9c416c8e2d0932698fd9c511639ed1,8,3,1,3153,,,0,"acceptance: enable debug & verbosity for OpenStack logs

Enable debug & verbose when possible for OpenStack services logs, so we can read a maximum
of informations in Jenkins jobs logs and easily debug our eventual failures.

Change-Id: I62b8510442a747d2f909bdceb0717839c9778e6d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/11/213511/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_nova_spec.rb'],1,196dce78ad9c416c8e2d0932698fd9c511639ed1,puppet/acceptance_logs," verbose => true, debug => true,"," verbose => false,",2,1
openstack%2Foslo.db~master~I2d86f266165ad98ded9f0bb9f11abfd8aa2c09ef,openstack/oslo.db,master,I2d86f266165ad98ded9f0bb9f11abfd8aa2c09ef,Fix hacking rules and docs job,MERGED,2015-08-08 02:12:48.000000000,2015-08-17 13:58:08.000000000,2015-08-17 13:58:06.000000000,"[{'_account_id': 3}, {'_account_id': 6601}, {'_account_id': 6849}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-08-08 02:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7d8ca0928a18a50d0ad7b7dda579a06a6a2fbec3', 'message': '[WIP] Fix hacking rules\n\nChange-Id: I2d86f266165ad98ded9f0bb9f11abfd8aa2c09ef\n'}, {'number': 2, 'created': '2015-08-08 11:31:18.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5645b7b93dc0425a69361dc107e5b050376101bd', 'message': 'Fix hacking rules and docs job\n\nChange-Id: I2d86f266165ad98ded9f0bb9f11abfd8aa2c09ef\n'}]",0,210661,5645b7b93dc0425a69361dc107e5b050376101bd,10,4,2,5638,,,0,"Fix hacking rules and docs job

Change-Id: I2d86f266165ad98ded9f0bb9f11abfd8aa2c09ef
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/61/210661/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d8ca0928a18a50d0ad7b7dda579a06a6a2fbec3,,"ignore = E123,E125","# H803 skipped on purpose per list discussion.# TODO(pblaho): enable H305 when hacking is patched # H305 skipped b/c of hacking is confused with oslo.* namespace # see https://bugs.launchpad.net/hacking/+bug/1329363 ignore = E123,E125,H305,H307,H803,H904",1,6
openstack%2Fceilometer~master~I0b222af863d4cdb1af57a73e3f177813ae784d78,openstack/ceilometer,master,I0b222af863d4cdb1af57a73e3f177813ae784d78,"Fixed spelling error, retreive -> retrieve",MERGED,2015-08-17 10:55:13.000000000,2015-08-17 13:57:49.000000000,2015-08-17 13:57:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-08-17 10:55:13.000000000', 'files': ['ceilometer/api/controllers/v2/root.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9aa6f4c8409a4ef88190c92fad9fc009f99c29c9', 'message': 'Fixed spelling error, retreive -> retrieve\n\nChange-Id: I0b222af863d4cdb1af57a73e3f177813ae784d78\n'}]",0,213662,9aa6f4c8409a4ef88190c92fad9fc009f99c29c9,7,3,1,9335,,,0,"Fixed spelling error, retreive -> retrieve

Change-Id: I0b222af863d4cdb1af57a73e3f177813ae784d78
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/213662/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/api/controllers/v2/root.py'],1,9aa6f4c8409a4ef88190c92fad9fc009f99c29c9,," ""the metric endpoint to retrieve data.""))"," ""the metric endpoint to retreive data.""))",1,1
openstack%2Ffuel-main~master~I628505a449763a8eeee1e627cafd6a8d21427860,openstack/fuel-main,master,I628505a449763a8eeee1e627cafd6a8d21427860,add support for new python-daemon API,MERGED,2015-01-14 11:17:16.000000000,2015-08-17 13:55:09.000000000,2015-01-14 17:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 8777}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 12200}, {'_account_id': 13445}, {'_account_id': 14090}, {'_account_id': 14543}]","[{'number': 1, 'created': '2015-01-14 11:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/641fa7923f75e6e9306240c0bdcedfe0db34e402', 'message': 'add support for new python-daemon API\n\nwith saving reverse compatibility\n\nChange-Id: I628505a449763a8eeee1e627cafd6a8d21427860\nFixes-Bug: #1410735\nSigned-off-by: Igor Gnatenko <ignatenko@mirantis.com>\n'}, {'number': 2, 'created': '2015-01-14 11:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6f98801b675b63dccc6a007c72e7e51904b988dd', 'message': 'add support for new python-daemon API\n\nwith saving reverse compatibility\n\nChange-Id: I628505a449763a8eeee1e627cafd6a8d21427860\nCloses-Bug: #1410735\nSigned-off-by: Igor Gnatenko <ignatenko@mirantis.com>\n'}, {'number': 3, 'created': '2015-01-14 11:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b7b0b825f55eb2819a1f14eb6dab046c0de09f71', 'message': 'add support for new python-daemon API\n\nwith saving reverse compatibility\n\nChange-Id: I628505a449763a8eeee1e627cafd6a8d21427860\nCloses-Bug: #1410735\nSigned-off-by: Igor Gnatenko <ignatenko@mirantis.com>\n'}, {'number': 4, 'created': '2015-01-14 15:24:54.000000000', 'files': ['utils/simple_http_daemon.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a765460d3fd69089e3b4d2b3a6b55e28e6fb53eb', 'message': 'add support for new python-daemon API\n\nwith saving reverse compatibility\n\nChange-Id: I628505a449763a8eeee1e627cafd6a8d21427860\nCloses-Bug: #1410735\nSigned-off-by: Igor Gnatenko <ignatenko@mirantis.com>\n'}]",9,147120,a765460d3fd69089e3b4d2b3a6b55e28e6fb53eb,35,10,4,14090,,,0,"add support for new python-daemon API

with saving reverse compatibility

Change-Id: I628505a449763a8eeee1e627cafd6a8d21427860
Closes-Bug: #1410735
Signed-off-by: Igor Gnatenko <ignatenko@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/20/147120/4 && git format-patch -1 --stdout FETCH_HEAD,['utils/simple_http_daemon.py'],1,641fa7923f75e6e9306240c0bdcedfe0db34e402,bug/1410735,try: from lockfile.pidlockfile import PIDLockFile except ImportError: from daemon.pidlockfile import PIDLockFile pidfile=PIDLockFile(self.pid_file),import daemon.pidlockfile pidfile=daemon.pidlockfile.PIDLockFile(self.pid_file),5,2
openstack%2Ftempest~master~Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f,openstack/tempest,master,Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f,Full response for v1 ImageClient methods,MERGED,2015-07-31 20:01:50.000000000,2015-08-17 13:54:55.000000000,2015-08-17 13:54:53.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 7428}, {'_account_id': 8001}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-07-31 20:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dcc500178be1cc98f8f86efb3163a7e2b5a39567', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\n""}, {'number': 2, 'created': '2015-08-01 12:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b4482d3b74f925771e544c41d6ce2245c8f7e719', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 3, 'created': '2015-08-01 14:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/323eef31300c3294270bd13ea20f7311a4ec9db1', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 4, 'created': '2015-08-01 18:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5f15f12c8b2dc0fd96794eba5589c6c0c85222a', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 5, 'created': '2015-08-01 20:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/21885574e7ef49e61bf636792bf6dd51ea2a3747', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 6, 'created': '2015-08-01 22:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/79faec10d3f7d1f11a3fd4874498c30f58caad04', 'message': ""Full response for v1 ImageClient.create_image\n\nProvide the entire response object, not just the image, for the\ntempest v1 glance client's create_image method.\n\nimplements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 7, 'created': '2015-08-05 16:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05a78f1febba536d3f1dc47f8b888ee5b5814f50', 'message': ""Full response for v1 ImageClient methods\n\nProvide the entire response object, not just the images, for the\ntempest v1 glance client's create_image, update_image and list_images\nmethods.\n\npartially implements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 8, 'created': '2015-08-05 17:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20566f4391d0ef74d65fb8df34c48d491fe5ab9f', 'message': ""Full response for v1 ImageClient methods\n\nProvide the entire response object, not just the images, for the\ntempest v1 glance client's create_image, update_image and list_images\nmethods. This is all the work necessary to implement the blueprint\nreferenced below on this client as the remaining methods already\nreturn the full response.\n\npartially implements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 9, 'created': '2015-08-05 19:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef9f2d711b0b100fb17ec2f339de2e5e4c625f78', 'message': ""Full response for v1 ImageClient methods\n\nProvide the entire response object, not just the images, for the\ntempest v1 glance client's create_image, update_image and list_images\nmethods. This is all the work necessary to implement the blueprint\nreferenced below on this client as the remaining methods already\nreturn the full response.\n\npartially implements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}, {'number': 10, 'created': '2015-08-05 22:34:22.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/test_authorization.py', 'tempest/scenario/manager.py', 'tempest/api/image/base.py', 'tempest/api/image/v1/test_images.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/api/telemetry/base.py', 'tempest/services/image/v1/json/image_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/662072592662dc72b51ca5b9de3cf8471e367df0', 'message': ""Full response for v1 ImageClient methods\n\nProvide the entire response object, not just the images, for the\ntempest v1 glance client's create_image, update_image and list_images\nmethods. This is all the work necessary to implement the blueprint\nreferenced below on this client as the remaining methods already\nreturn the full response.\n\npartially implements: blueprint method-return-value-and-move-service-clients-to-lib\nChange-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f\n""}]",5,208045,662072592662dc72b51ca5b9de3cf8471e367df0,34,6,10,8001,,,0,"Full response for v1 ImageClient methods

Provide the entire response object, not just the images, for the
tempest v1 glance client's create_image, update_image and list_images
methods. This is all the work necessary to implement the blueprint
referenced below on this client as the remaining methods already
return the full response.

partially implements: blueprint method-return-value-and-move-service-clients-to-lib
Change-Id: Ia52bfde7cef1420c0c7d94288154fe4b6d54cd5f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/208045/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/test_authorization.py', 'tempest/api/telemetry/test_telemetry_notification_api.py', 'tempest/scenario/manager.py', 'tempest/api/image/base.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/services/image/v1/json/image_client.py']",7,dcc500178be1cc98f8f86efb3163a7e2b5a39567,bp/method-return-value-and-move-service-clients-to-lib," return service_client.ResponseBody(resp, body)"," return service_client.ResponseBody(resp, body['image'])",7,7
openstack%2Fsahara~master~I816ca6b559e3878c97f7d8d5088e0b458a19bd1b,openstack/sahara,master,I816ca6b559e3878c97f7d8d5088e0b458a19bd1b,Support placeholders in args of job for i/o,MERGED,2015-07-27 14:40:56.000000000,2015-08-17 13:54:46.000000000,2015-08-17 13:54:45.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-07-27 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8c0ccaab1a2db9d55f0dad79c89c8ee0f710803b', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 2, 'created': '2015-07-27 14:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4ca950b329ccad957d1216589fbe81099808a529', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 3, 'created': '2015-07-29 12:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1831ca0978ca666e25295263da4efd0106c7cea4', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 4, 'created': '2015-07-29 14:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/becc134b4d1042d180a61cee992203a04983935e', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nRelated blueprint: edp-spark-example-with-swift\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 5, 'created': '2015-07-31 10:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cf61576fc91e3bb6eef7e8050a96e6affa630a8f', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nRelated blueprint: edp-spark-example-with-swift\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 6, 'created': '2015-08-05 09:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/769f6f568d82d3a768ef24dc1264e5f702b54f7e', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 7, 'created': '2015-08-10 09:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ff99b344ecd38b5c35a5d19479a44cdbce532789', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}, {'number': 8, 'created': '2015-08-10 09:48:00.000000000', 'files': ['sahara/tests/scenario/base.py', 'sahara/tests/scenario/clients.py', 'sahara/tests/scenario_unit/test_base.py', 'sahara/tests/scenario_unit/vanilla2_6_0.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d1a2d504507274c8de2e73a01acabae19879dd81', 'message': 'Support placeholders in args of job for i/o\n\nSeveral job types (at least spark) can require having url of input\nor output data in arguments of job execution. The aim of the patch\nis to add support of testing such types of job executions.\nNow you can add {input_datasource} or {output_datasource}\ninto args of template of job execution, and that will be replaced\nwith corresponding urls.\n\nChange-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b\n'}]",8,206094,d1a2d504507274c8de2e73a01acabae19879dd81,47,14,8,12038,,,0,"Support placeholders in args of job for i/o

Several job types (at least spark) can require having url of input
or output data in arguments of job execution. The aim of the patch
is to add support of testing such types of job executions.
Now you can add {input_datasource} or {output_datasource}
into args of template of job execution, and that will be replaced
with corresponding urls.

Change-Id: I816ca6b559e3878c97f7d8d5088e0b458a19bd1b
",git fetch https://review.opendev.org/openstack/sahara refs/changes/94/206094/8 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/scenario/base.py', 'sahara/tests/scenario/clients.py', 'sahara/tests/scenario_unit/test_base.py', 'sahara/tests/scenario_unit/vanilla2_6_0.yaml.mako']",4,8c0ccaab1a2db9d55f0dad79c89c8ee0f710803b,pl, - type: MapReduce configs: mapred.mapper.class: org.apache.oozie.example.SampleMapper mapred.reducer.class: org.apache.oozie.example.SampleReducer additional_libs: - type: database source: etc/edp-examples/edp-java/edp-java.jar input_datasource: type: swift source: etc/edp-examples/edp-pig/top-todoers/data/input output_datasource: type: hdfs destination: /user/hadoop/edp-output args: - {input_datasource} - {output_datasource},,53,0
openstack%2Fsahara~master~I25f906d830b803b65ffcc7443978ea3cfef126da,openstack/sahara,master,I25f906d830b803b65ffcc7443978ea3cfef126da,Add recommendation support to Cloudera plugin,MERGED,2015-06-18 12:22:48.000000000,2015-08-17 13:54:09.000000000,2015-08-17 13:54:08.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-06-18 12:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ccb310e2e1367708864e1567ae6d19eae08ff4d7', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 2, 'created': '2015-06-19 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c52ff15e48e93298b6f28bf4924f21efabc127b2', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 3, 'created': '2015-06-24 08:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4682fb6660f8b8b1c62648759c1c2d42cce3f1e2', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 4, 'created': '2015-06-24 09:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f1a5f974688dabd4cd5b76dd294c9538019bcf3e', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 5, 'created': '2015-07-07 20:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c4ddce23b3b63bee9fa43e4dd6cf6231d66ac800', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 6, 'created': '2015-07-16 11:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/66429e721411864cbac5a710860c8252937fe0d7', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 7, 'created': '2015-07-24 05:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/05842f732e6bd200a2473c3ee96b46885fdca3c2', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 8, 'created': '2015-07-24 05:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cb34307dd451d5fdd7f238dc6ee8a99d2096150d', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 9, 'created': '2015-07-27 10:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/031e51af9dbc6e33cd3fc53b350c14c82db25131', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 10, 'created': '2015-07-27 10:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ca658252c7c568a68eb0716820af33ae66df99a2', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 11, 'created': '2015-07-27 10:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0b0c12d75c204bcdd45c1e3352f3fa92573d17d4', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 12, 'created': '2015-07-30 11:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/737a3c920853fe95f11e5ef9ffeaa82e75e88ebc', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 13, 'created': '2015-08-05 08:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6cd8ba5c709ec87d79d848afb5a0d98b00372a5f', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 14, 'created': '2015-08-06 09:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4b0979831dd6bde6ca4ae22e07ee236548a964bc', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}, {'number': 15, 'created': '2015-08-10 12:11:41.000000000', 'files': ['sahara/tests/unit/plugins/test_provide_recommendations.py', 'sahara/plugins/cdh/v5_3_0/versionhandler.py', 'sahara/plugins/cdh/plugin_utils.py', 'sahara/tests/unit/plugins/cdh/test_plugin_utils.py', 'sahara/plugins/cdh/plugin.py', 'sahara/plugins/cdh/v5/versionhandler.py', 'etc/scenario/sahara-ci/cdh-5.4.0.yaml.mako', 'sahara/plugins/cdh/v5_4_0/versionhandler.py', 'sahara/plugins/recommendations_utils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/aceb9c4a286ea9fe4f666353f0844d2dff4226a2', 'message': 'Add recommendation support to Cloudera plugin\n\nAdded support of recommendations to both versions of Cloudera\nplugin. Also added small refactoring in AutoConfigsProvider.\n\nPartial-Implements blueprint: recommend-configuration\n\nChange-Id: I25f906d830b803b65ffcc7443978ea3cfef126da\n'}]",5,193098,aceb9c4a286ea9fe4f666353f0844d2dff4226a2,102,15,15,12038,,,0,"Add recommendation support to Cloudera plugin

Added support of recommendations to both versions of Cloudera
plugin. Also added small refactoring in AutoConfigsProvider.

Partial-Implements blueprint: recommend-configuration

Change-Id: I25f906d830b803b65ffcc7443978ea3cfef126da
",git fetch https://review.opendev.org/openstack/sahara refs/changes/98/193098/12 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/cdh/plugin_utils.py', 'sahara/plugins/cdh/v5_3_0/versionhandler.py', 'sahara/tests/unit/plugins/cdh/test_plugin_utils.py', 'sahara/plugins/cdh/plugin.py', 'sahara/plugins/cdh/v5/versionhandler.py']",5,ccb310e2e1367708864e1567ae6d19eae08ff4d7,bp/recommend-configuration,"from sahara.plugins.cdh.v5 import plugin_utils as puPU = pu.PluginUtilsV5() def recommend_configs(self, cluster): PU.recommend_configs(cluster, self.get_plugin_configs())",,112,1
openstack%2Fceilometer~master~I26c920a2be68deeaa6ba534eb9d92b2960f78328,openstack/ceilometer,master,I26c920a2be68deeaa6ba534eb9d92b2960f78328,Use min and max on IntOpt option types,MERGED,2015-08-15 18:11:38.000000000,2015-08-17 13:53:03.000000000,2015-08-17 13:53:02.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 8290}, {'_account_id': 10987}, {'_account_id': 15843}]","[{'number': 1, 'created': '2015-08-15 18:11:38.000000000', 'files': ['ceilometer/collector.py', 'ceilometer/compute/virt/vmware/inspector.py', 'ceilometer/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0108a27f942a06caf4f64545efc45cf410593c74', 'message': 'Use min and max on IntOpt option types\n\nLatest version of oslo.config support the ability to set valid\nrange on IntOpt option values.  This path makes use of that feature\nfor a number of options with well known minimum and maximum values.\n\nChange-Id: I26c920a2be68deeaa6ba534eb9d92b2960f78328\n'}]",0,213456,0108a27f942a06caf4f64545efc45cf410593c74,10,6,1,8119,,,0,"Use min and max on IntOpt option types

Latest version of oslo.config support the ability to set valid
range on IntOpt option values.  This path makes use of that feature
for a number of options with well known minimum and maximum values.

Change-Id: I26c920a2be68deeaa6ba534eb9d92b2960f78328
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/56/213456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/collector.py', 'ceilometer/compute/virt/vmware/inspector.py', 'ceilometer/api/__init__.py']",3,0108a27f942a06caf4f64545efc45cf410593c74,use_min_max," min=1, max=65535,",,3,0
openstack%2Fheat-cfntools~master~If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5,openstack/heat-cfntools,master,If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5,Fix unit tests,MERGED,2015-08-05 08:07:17.000000000,2015-08-17 13:50:55.000000000,2015-08-17 13:50:53.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6899}, {'_account_id': 7256}, {'_account_id': 12259}, {'_account_id': 13323}]","[{'number': 1, 'created': '2015-08-05 08:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/f56041d6387d1081ea8781dc76cf9d60a1020e64', 'message': 'Fixup tests that were failing from mock upgrade\n\nChange-Id: If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5\n'}, {'number': 2, 'created': '2015-08-14 07:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/18405fe87f73d7a05c63a8c74816af880b480adc', 'message': 'Fix unit tests\n\nFix failing tests.\n\nCo-Authored-By: Sirushti Murugesan <sirushti.murugesan@hp.com>\nChange-Id: If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5\n'}, {'number': 3, 'created': '2015-08-14 07:07:29.000000000', 'files': ['heat_cfntools/tests/test_cfn_helper.py'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/20049ea85f675a86d44ed823caf23aa8cdafa173', 'message': 'Fix unit tests\n\nFix failing tests.\n\nCo-Authored-By: Sirushti Murugesan <sirushti.murugesan@hp.com>\nChange-Id: If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5\n'}]",4,209393,20049ea85f675a86d44ed823caf23aa8cdafa173,16,6,3,6899,,,0,"Fix unit tests

Fix failing tests.

Co-Authored-By: Sirushti Murugesan <sirushti.murugesan@hp.com>
Change-Id: If44ea49e5d6262f6e6b51dfdfb76754fb7c467d5
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/93/209393/2 && git format-patch -1 --stdout FETCH_HEAD,['heat_cfntools/tests/test_cfn_helper.py'],1,f56041d6387d1081ea8781dc76cf9d60a1020e64,fix-tests, mock_method.assert_called_once_with() mock_method.assert_called_once_with() mock_mkdtemp.assert_called_once_with(), mock_method.assert_run_with_once() mock_method.assert_run_with_once() mock_mkdtemp.assert_run_with() mock_mkdtemp.assert_run_with(),3,4
openstack%2Fdevstack~master~Ib187d188ffa99d696e77eda7b9106ba3b66919d7,openstack/devstack,master,Ib187d188ffa99d696e77eda7b9106ba3b66919d7,Move initializing globals to stackrc,ABANDONED,2015-06-26 13:39:57.000000000,2015-08-17 13:28:34.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-26 13:39:57.000000000', 'files': ['functions-common', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9cf682ff57ca6c177d76dc66004143f761ca200f', 'message': ""Move initializing globals to stackrc\n\nHaving global initialization in functions-common prohibits\nenabling multiple plugins. If a plugin sources functions-common in\nit's plugin.sh the globals will be reinitialized as local variables\nand will orverride global ones and will prevent execution of other plugins.\nMoving initialization to stackrc resolves this issue.\n\nCloses-Bug: #1469178\nChange-Id: Ib187d188ffa99d696e77eda7b9106ba3b66919d7\n""}]",0,196056,9cf682ff57ca6c177d76dc66004143f761ca200f,4,2,1,11647,,,0,"Move initializing globals to stackrc

Having global initialization in functions-common prohibits
enabling multiple plugins. If a plugin sources functions-common in
it's plugin.sh the globals will be reinitialized as local variables
and will orverride global ones and will prevent execution of other plugins.
Moving initialization to stackrc resolves this issue.

Closes-Bug: #1469178
Change-Id: Ib187d188ffa99d696e77eda7b9106ba3b66919d7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/196056/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stackrc']",2,9cf682ff57ca6c177d76dc66004143f761ca200f,bug/1469178,# Global Config Variables declare -A GITREPO declare -A GITBRANCH declare -A GITDIR ,,5,5
openstack%2Fpython-cinderclient~master~I9aebe01ad4548e169a32995bf40722fcab0c26b0,openstack/python-cinderclient,master,I9aebe01ad4548e169a32995bf40722fcab0c26b0,Return a specific exception for detach fails when no attachments,ABANDONED,2015-08-04 16:01:15.000000000,2015-08-17 13:21:36.000000000,,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 7764}, {'_account_id': 12408}]","[{'number': 1, 'created': '2015-08-04 16:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/09e1225409db16ea3a12252f3af10ea376cf8432', 'message': ""Return a specific exception for detach fails when no attachments\n\nNova change Ibdcb870aff1a59948136f1f9c3e30390e7f081b0 is fixing a bug\nwhere boot from volume fails to attach a volume but the instance can't\nbe deleted because detach fails since there are no attachments, so the\ninstance is not deletable via the compute API.\n\nAs part of the nova fix, the InvalidVolume error message returned from\nthe volume API is being parsed to see if nova can safely ignore the\nfailure and continue with deleting the instance. It's preferable that\ncinderclient is raising the specific exception so nova can just handle\nthat without having to parse any error messages coming back from the\nvolume API.\n\nThis change adds the specific exception type checking to cinderclient\nfor this specific 400 error response. It is written in a generic enough\nway that we can build other exception handling in later if needed using\nregex pattern checking since we don't necessarily want a one-to-one\nmapping of the exceptions coming out of cinder to what's checked in the\nclient since that's fairly brittle.\n\nPartial-Bug: #1476806\n\nChange-Id: I9aebe01ad4548e169a32995bf40722fcab0c26b0\n""}, {'number': 2, 'created': '2015-08-04 16:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1dce9b8659dc32acded98eed6da84bff0dc50ce7', 'message': ""Return a specific exception for detach fails when no attachments\n\nNova change Ibdcb870aff1a59948136f1f9c3e30390e7f081b0 is fixing a bug\nwhere boot from volume fails to attach a volume but the instance can't\nbe deleted because detach fails since there are no attachments, so the\ninstance is not deletable via the compute API.\n\nAs part of the nova fix, the InvalidVolume error message returned from\nthe volume API is being parsed to see if nova can safely ignore the\nfailure and continue with deleting the instance. It's preferable that\ncinderclient is raising the specific exception so nova can just handle\nthat without having to parse any error messages coming back from the\nvolume API.\n\nThis change adds the specific exception type checking to cinderclient\nfor this specific 400 error response. It is written in a generic enough\nway that we can build other exception handling in later if needed using\nregex pattern checking since we don't necessarily want a one-to-one\nmapping of the exceptions coming out of cinder to what's checked in the\nclient since that's fairly brittle.\n\nPartial-Bug: #1476806\n\nChange-Id: I9aebe01ad4548e169a32995bf40722fcab0c26b0\n""}, {'number': 3, 'created': '2015-08-04 21:26:07.000000000', 'files': ['cinderclient/exceptions.py', 'cinderclient/tests/unit/test_exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9ae50342739fa996add6193a05b1a9217197e307', 'message': ""Return a specific exception for detach fails when no attachments\n\nNova change Ibdcb870aff1a59948136f1f9c3e30390e7f081b0 is fixing a bug\nwhere boot from volume fails to attach a volume but the instance can't\nbe deleted because detach fails since there are no attachments, so the\ninstance is not deletable via the compute API.\n\nAs part of the nova fix, the InvalidVolume error message returned from\nthe volume API is being parsed to see if nova can safely ignore the\nfailure and continue with deleting the instance. It's preferable that\ncinderclient is raising the specific exception so nova can just handle\nthat without having to parse any error messages coming back from the\nvolume API.\n\nThis change adds the specific exception type checking to cinderclient\nfor this specific 400 error response. It is written in a generic enough\nway that we can build other exception handling in later if needed using\nregex pattern checking since we don't necessarily want a one-to-one\nmapping of the exceptions coming out of cinder to what's checked in the\nclient since that's fairly brittle.\n\nPartial-Bug: #1476806\n\nChange-Id: I9aebe01ad4548e169a32995bf40722fcab0c26b0\n""}]",4,209150,9ae50342739fa996add6193a05b1a9217197e307,13,8,3,6873,,,0,"Return a specific exception for detach fails when no attachments

Nova change Ibdcb870aff1a59948136f1f9c3e30390e7f081b0 is fixing a bug
where boot from volume fails to attach a volume but the instance can't
be deleted because detach fails since there are no attachments, so the
instance is not deletable via the compute API.

As part of the nova fix, the InvalidVolume error message returned from
the volume API is being parsed to see if nova can safely ignore the
failure and continue with deleting the instance. It's preferable that
cinderclient is raising the specific exception so nova can just handle
that without having to parse any error messages coming back from the
volume API.

This change adds the specific exception type checking to cinderclient
for this specific 400 error response. It is written in a generic enough
way that we can build other exception handling in later if needed using
regex pattern checking since we don't necessarily want a one-to-one
mapping of the exceptions coming out of cinder to what's checked in the
client since that's fairly brittle.

Partial-Bug: #1476806

Change-Id: I9aebe01ad4548e169a32995bf40722fcab0c26b0
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/50/209150/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/exceptions.py', 'cinderclient/tests/unit/test_exceptions.py']",2,09e1225409db16ea3a12252f3af10ea376cf8432,bug/1481478,"# Copyright 2015 IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests the cinderclient.exceptions module."""""" import requests from cinderclient import exceptions from cinderclient.tests.unit import utils class ExceptionsTest(utils.TestCase): def test_from_response_detach_failed_no_attachments(self): # Tests that we get DetachVolumeFailedNoAttachments back rather than # the more generic BadRequest. response = requests.Response() response.status_code = 400 body = {'keys': ({ 'message': 'Invalid volume: Detach volume failed, because ' 'there are currently no active attachments.'})} ex = exceptions.from_response(response, body) self.assertIs(exceptions.DetachVolumeFailedNoAttachments, type(ex)) def test_from_response_detach_failed_no_attachment_id(self): # Tests that we get BadRequest back since we don't have a specific # exception mapped. response = requests.Response() response.status_code = 400 body = {'keys': ({ 'message': 'Invalid volume: Detach volume failed: More than one ' 'attachment, but no attachment_id provided.'})} ex = exceptions.from_response(response, body) self.assertIs(exceptions.BadRequest, type(ex)) ",,70,0
openstack%2Fneutron~master~Id5b2b00bdfcb7c81ba05b1905cd781f38e6ebad8,openstack/neutron,master,Id5b2b00bdfcb7c81ba05b1905cd781f38e6ebad8,ml2: _commit_port_binding: Don't use None to mean False,MERGED,2015-08-14 10:17:59.000000000,2015-08-17 13:15:06.000000000,2015-08-17 11:46:11.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 11343}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-14 10:17:59.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/977e7856c0ce81162c13c61a832b6bbef79c3aad', 'message': ""ml2: _commit_port_binding: Don't use None to mean False\n\nThe second return value is a boolean.\n\nChange-Id: Id5b2b00bdfcb7c81ba05b1905cd781f38e6ebad8\n""}]",0,213073,977e7856c0ce81162c13c61a832b6bbef79c3aad,32,23,1,6854,,,0,"ml2: _commit_port_binding: Don't use None to mean False

The second return value is a boolean.

Change-Id: Id5b2b00bdfcb7c81ba05b1905cd781f38e6ebad8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/213073/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,977e7856c0ce81162c13c61a832b6bbef79c3aad,commit-port-binding," return (None, False)"," return (None, None)",1,1
openstack%2Ffuel-qa~master~I58940eefbe107e65d44ed599a34e51733b37ff4c,openstack/fuel-qa,master,I58940eefbe107e65d44ed599a34e51733b37ff4c,Add prepare snapshots for OS upgrade procedure,MERGED,2015-08-11 13:18:06.000000000,2015-08-17 13:13:04.000000000,2015-08-17 13:13:04.000000000,"[{'_account_id': 3}, {'_account_id': 1531}, {'_account_id': 6677}, {'_account_id': 6719}, {'_account_id': 8824}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 13919}, {'_account_id': 17180}]","[{'number': 1, 'created': '2015-08-11 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e5e053211c1545c17b15164ab3616d583964f3f3', 'message': 'Add prepare snapshots for OS upgrade procedure\n\nImplements blueprint: system-tests-for-openstack-upgrades-feature\n\nAdd two tests:\n1) Deploy cluster with HA mode, neutron VLAN,\nceph for all, Ubuntu\n2) Upgrade master node with deployed cluster\n\nChange-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c\n'}, {'number': 2, 'created': '2015-08-11 15:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/124196b82448138bb71b7b10b6880753f69b4629', 'message': 'Add prepare snapshots for OS upgrade procedure\n\nImplements blueprint: system-tests-for-openstack-upgrades-feature\n\nAdd two tests:\n1) Deploy cluster with HA mode, neutron VLAN,\nceph for all, Ubuntu\n2) Upgrade master node with deployed cluster\n\nChange-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c\n'}, {'number': 3, 'created': '2015-08-12 10:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/5a5ee4865d0e4fb051b8b91dacbbf799cd52aa63', 'message': 'Add prepare snapshots for OS upgrade procedure\n\nImplements blueprint: system-tests-for-openstack-upgrades-feature\n\nAdd two tests:\n1) Deploy cluster with HA mode, neutron VLAN,\nceph for all, Ubuntu\n2) Upgrade master node with deployed cluster\n\nChange-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c\n'}, {'number': 4, 'created': '2015-08-14 08:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c87c0becbcdfbeb6f5f25db4b14496b8f725c753', 'message': 'Add prepare snapshots for OS upgrade procedure\n\nImplements blueprint: system-tests-for-openstack-upgrades-feature\n\nAdd two tests:\n1) Deploy cluster with HA mode, neutron VLAN,\nceph for all, Ubuntu\n2) Upgrade master node with deployed cluster\n\nChange-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c\n'}, {'number': 5, 'created': '2015-08-14 12:37:12.000000000', 'files': ['fuelweb_test/tests/test_os_upgrade.py', 'doc/base_tests.rst', 'fuelweb_test/run_tests.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f062cdd5f0c6dc27c6cbed69b3c87ebca0b39d1e', 'message': 'Add prepare snapshots for OS upgrade procedure\n\nImplements blueprint: system-tests-for-openstack-upgrades-feature\n\nAdd two tests:\n1) Deploy cluster with HA mode, neutron VLAN,\nceph for all, Ubuntu\n2) Upgrade master node with deployed cluster\n\nChange-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c\n'}]",3,211571,f062cdd5f0c6dc27c6cbed69b3c87ebca0b39d1e,40,13,5,8824,,,0,"Add prepare snapshots for OS upgrade procedure

Implements blueprint: system-tests-for-openstack-upgrades-feature

Add two tests:
1) Deploy cluster with HA mode, neutron VLAN,
ceph for all, Ubuntu
2) Upgrade master node with deployed cluster

Change-Id: I58940eefbe107e65d44ed599a34e51733b37ff4c
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/71/211571/5 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_os_upgrade.py', 'fuelweb_test/run_tests.py']",2,e5e053211c1545c17b15164ab3616d583964f3f3,bp/system-tests-for-openstack-upgrades-feature, from tests import test_os_upgrade # noqa,,129,0
openstack%2Fcinder~master~I7ed3097ff25e01c3a91c5552c45cde7a1ca7f9b7,openstack/cinder,master,I7ed3097ff25e01c3a91c5552c45cde7a1ca7f9b7,WIP: Locks in manager with Tooz,ABANDONED,2015-07-26 15:25:01.000000000,2015-08-17 13:10:59.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 13628}, {'_account_id': 13900}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16160}, {'_account_id': 16595}, {'_account_id': 17444}]","[{'number': 1, 'created': '2015-07-26 15:25:01.000000000', 'files': ['cinder/volume/manager.py', 'cinder/coordination.py', 'cinder/objects/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c50ef8af1f9865080f5a5f89b9077d3e9ad41986', 'message': ""WIP: Locks in manager with Tooz\n\nThis patch replaces and adds synchronized decorator to some method that\nwas missing it and replaces oslo's synchronized decorator in a couple of\nmethods as well.\n\nFor this lock methods have been added to Cinder Versioned Objects and\nsynchronized decorator has been extended to support multiple locks in\nthe same decorator call and the possibility to use the new Cinder\nVersioned Objects lock methods.\n\nThis is part of a PoC for HA A-A\n\nChange-Id: I7ed3097ff25e01c3a91c5552c45cde7a1ca7f9b7\n""}]",6,205840,c50ef8af1f9865080f5a5f89b9077d3e9ad41986,22,20,1,9535,,,0,"WIP: Locks in manager with Tooz

This patch replaces and adds synchronized decorator to some method that
was missing it and replaces oslo's synchronized decorator in a couple of
methods as well.

For this lock methods have been added to Cinder Versioned Objects and
synchronized decorator has been extended to support multiple locks in
the same decorator call and the possibility to use the new Cinder
Versioned Objects lock methods.

This is part of a PoC for HA A-A

Change-Id: I7ed3097ff25e01c3a91c5552c45cde7a1ca7f9b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/205840/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/coordination.py', 'cinder/objects/base.py']",3,c50ef8af1f9865080f5a5f89b9077d3e9ad41986,ha-aa/dlm-locks,"from cinder import coordinationfrom cinder.i18n import _ @property def lock_name(self): if 'id' not in self.fields: raise NotImplementedError(_('VersionedObject is missing the id')) return self.obj_name() + '-' + self.id def get_lock(self): if not hasattr(self, 'lock'): self.lock = coordination.COORDINATOR.get_lock(self.lock_name) return self.lock ",,163,87
openstack%2Ffuel-stats~master~I632d7c34828bfa3a1d778ca5eb974e0f4b86fdd7,openstack/fuel-stats,master,I632d7c34828bfa3a1d778ca5eb974e0f4b86fdd7,Fixes for UI layout,MERGED,2015-08-07 10:53:40.000000000,2015-08-17 12:59:24.000000000,2015-08-17 12:59:22.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 10959}, {'_account_id': 11110}]","[{'number': 1, 'created': '2015-08-07 10:53:40.000000000', 'files': ['analytics/static/reports.html', 'analytics/static/index.html', 'analytics/static/js/app.js'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/06c0be32928c1c51415b1541cb96a24b9a3b8a71', 'message': 'Fixes for UI layout\n\n    - fixed labels position for Charts\n    - fixed layout for reports\n\nCloses-Bug: #1474920\n\nChange-Id: I632d7c34828bfa3a1d778ca5eb974e0f4b86fdd7\n'}]",0,210323,06c0be32928c1c51415b1541cb96a24b9a3b8a71,9,6,1,9730,,,0,"Fixes for UI layout

    - fixed labels position for Charts
    - fixed layout for reports

Closes-Bug: #1474920

Change-Id: I632d7c34828bfa3a1d778ca5eb974e0f4b86fdd7
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/23/210323/1 && git format-patch -1 --stdout FETCH_HEAD,"['analytics/static/reports.html', 'analytics/static/index.html', 'analytics/static/js/app.js']",3,06c0be32928c1c51415b1541cb96a24b9a3b8a71,bug/1474920," .margin({top: 30, bottom: 60}) .staggerLabels(true) .axisLabelDistance(30) .margin({top: 30, bottom: 60}) .axisLabelDistance(30) .axisLabelDistance(30)", .margin({top: 30}) .axisLabelDistance(50) .margin({top: 30}) .axisLabelDistance(50) .axisLabelDistance(50),28,31
openstack%2Ffuel-library~stable%2F6.0~If464593449110c326054adff21be05b1ca1e2b65,openstack/fuel-library,stable/6.0,If464593449110c326054adff21be05b1ca1e2b65,Set identical 'host' for all nova-compute services,MERGED,2015-08-04 10:15:24.000000000,2015-08-17 12:57:00.000000000,2015-08-17 12:56:59.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11427}, {'_account_id': 14985}, {'_account_id': 16044}]","[{'number': 1, 'created': '2015-08-04 10:15:24.000000000', 'files': ['deployment/puppet/vmware/templates/nova-compute.conf.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2aac478f79ad75970c40c524cfb08fd0e90c1950', 'message': ""Set identical 'host' for all nova-compute services\n\nEvacuate cleanup mechanism destroys all locally running instances on\nnova-compute service startup if instance.host is not equal to host where\nnova-compute is starting ('host' configuration stanza in [DEFAULT]);\nthis situation is desirable for KVM/QEMU hypervisors when nova-compute\nmanages local instances, but it is dangerous when remote hypervisor is\nused (e.g. vCenter); to avoid such behaviour we need to configure same\nvalue for 'host' stanza on all available controller nodes to avoid\ninstances stoppage when nova-compute service is migrated by pacemaker\nfrom one controller to another.\n\nChange-Id: If464593449110c326054adff21be05b1ca1e2b65\nDocImpact: document as known issue for 6.0\nCloses-bug: #1463977\n""}]",0,208958,2aac478f79ad75970c40c524cfb08fd0e90c1950,19,9,1,11427,,,0,"Set identical 'host' for all nova-compute services

Evacuate cleanup mechanism destroys all locally running instances on
nova-compute service startup if instance.host is not equal to host where
nova-compute is starting ('host' configuration stanza in [DEFAULT]);
this situation is desirable for KVM/QEMU hypervisors when nova-compute
manages local instances, but it is dangerous when remote hypervisor is
used (e.g. vCenter); to avoid such behaviour we need to configure same
value for 'host' stanza on all available controller nodes to avoid
instances stoppage when nova-compute service is migrated by pacemaker
from one controller to another.

Change-Id: If464593449110c326054adff21be05b1ca1e2b65
DocImpact: document as known issue for 6.0
Closes-bug: #1463977
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/58/208958/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/vmware/templates/nova-compute.conf.erb'],1,2aac478f79ad75970c40c524cfb08fd0e90c1950,bug/1463977,host=vcenter,,1,0
openstack%2Ffuel-main~master~I544aab43c40d71a6f6e7388e8f4e938f4f7ac38c,openstack/fuel-main,master,I544aab43c40d71a6f6e7388e8f4e938f4f7ac38c,Fix Murano packages for creating partial MOS DEB mirror,ABANDONED,2015-08-14 13:45:42.000000000,2015-08-17 12:52:24.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-08-14 13:45:42.000000000', 'files': ['requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f3c653bd38f65baadef5ac6b40c669de5c5c12b4', 'message': 'Fix Murano packages for creating partial MOS DEB mirror\n\nChange-Id: I544aab43c40d71a6f6e7388e8f4e938f4f7ac38c\n'}]",0,213149,f3c653bd38f65baadef5ac6b40c669de5c5c12b4,9,5,1,10474,,,0,"Fix Murano packages for creating partial MOS DEB mirror

Change-Id: I544aab43c40d71a6f6e7388e8f4e938f4f7ac38c
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/49/213149/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements-deb.txt'],1,f3c653bd38f65baadef5ac6b40c669de5c5c12b4,,murano-apimurano-engine,murano-common,2,1
openstack%2Fneutron~master~Ibc6ff897a1a00665a403981a218100a698eb1c33,openstack/neutron,master,Ibc6ff897a1a00665a403981a218100a698eb1c33,"Replace internal calls of create_{network, subnet, port}",MERGED,2014-10-21 02:42:47.000000000,2015-08-17 12:50:10.000000000,2015-08-17 11:42:56.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 704}, {'_account_id': 2860}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8976}, {'_account_id': 9008}, {'_account_id': 9631}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11114}, {'_account_id': 11682}, {'_account_id': 11757}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 14956}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15482}, {'_account_id': 15752}]","[{'number': 1, 'created': '2014-10-21 02:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cc0e82d4c1c0234fda8920ca94c9286684498ca', 'message': 'internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nall the necessary argument are filled with default value dynamically.\nWhich arguments are necessary depends on resource extension which\ncore plugin supports.\nOn the other hand, internal direct caller of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper function to fix up argument and replace\nthe caller of those methods.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 2, 'created': '2014-10-21 07:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9eccca69d09d197a98993f7036f86c5d52e401a', 'message': 'internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nall the necessary argument are filled with default value dynamically.\nWhich arguments are necessary depends on resource extension which\ncore plugin supports.\nOn the other hand, internal direct caller of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper function to fix up argument and replace\nthe caller of those methods.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 3, 'created': '2014-10-22 03:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04d0f240a3a096f12063d535e80b99ee9c62fdd4', 'message': 'internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nall the necessary argument are filled with default value dynamically.\nWhich arguments are necessary depends on resource extension which\ncore plugin supports.\nOn the other hand, internal direct caller of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper function to fix up argument and replace\nthe caller of those methods.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 4, 'created': '2014-10-22 05:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2722508ed4bc79857c24890c4a5fd9eec8e4aaf3', 'message': 'internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 5, 'created': '2014-10-22 11:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d7b412caa528a996cbaae128cda579653e3d611', 'message': 'internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 6, 'created': '2014-10-28 15:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64a6e66ceaceacd175f70bd390aa3573bc50d68d', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 7, 'created': '2014-10-29 07:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dc8b5b45545d1794ebf14fd633cdc650f512c24', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 8, 'created': '2014-11-18 04:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13a99ef219c9d2b8382fc5c4133126349627932c', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 9, 'created': '2014-11-18 13:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c447c2f02be7892b91912c0d66801754f220337', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 10, 'created': '2015-01-21 01:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a051cc9091cd963628bf29f168e8aae648050c7e', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 11, 'created': '2015-02-18 02:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09d1921ef63f574608a53b385166bb4e8c387a58', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 12, 'created': '2015-02-18 09:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cf55b1397218da28471fbcb3b79db3b112c62ec', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 13, 'created': '2015-03-10 00:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/638a051cca0c3afc283ebc236d3c217f7cd1d6f8', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are two exceptions.\n- Metaplugin: just passes through arguments to underlying plugin. so no\n  need to check it again.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 14, 'created': '2015-03-13 23:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/625d250d9f50355cec09a87503b173f7519723aa', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are an exception.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 15, 'created': '2015-07-01 08:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05b76b3a9c40b956b371138fc976cf1c4091d3d1', 'message': ""internal callers of create_{network, subnet, port} ignore extension\n\nThe calling convention of plugin create_{network, subnet, port} is\nthe necessary default arguments are filled properly.\nWhich arguments are necessary depends on resource extension that\ncore plugin supports.\nOn the other hand, internal direct callers of those methods ignore those\nconventions so that adding extension causes exception like key error\nof argument.\nThis patch introduces helper functions to fix up arguments and replaces\nthe callers of those methods.\n\nThe intention is to replace all the callers, but there are an exception.\n- n1kv plugging driver: passes extra argument n1kv:profile_id which isn't\n  defined in api spec. It's quite plugin specific and I don't know what\n  to be done so that I'll leave it to someone else who are familiar with it\n  with the comment in the code.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n""}, {'number': 16, 'created': '2015-07-02 22:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/126a3c70631c88948370a3f556776cb3766d83a8', 'message': 'Remove internal calls of create_{network, subnet, port}\n\nThe API controller of  create_{network, subnet, port} makes sure\nthe necessary default values for attrs are filled properly\naccording to attr mapping.\n\nOn the other hand, internal direct callers into plugin of those methods\nignore those conventions so that adding extension probably causes\nexceptions like key error of argument.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 17, 'created': '2015-07-13 06:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b2b262cf60a76322a1864b4644e4938928f7b22', 'message': 'Remove internal calls of create_{network, subnet, port}\n\nThe API controller of  create_{network, subnet, port} makes sure\nthe necessary default values for attrs are filled properly\naccording to attr mapping.\n\nOn the other hand, internal direct callers into plugin of those methods\nignore those conventions so that adding extension probably causes\nexceptions like key error of argument.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 18, 'created': '2015-07-14 02:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/100ddffaa891215ce75cdd8b3b905df613792372', 'message': 'Remove internal calls of create_{network, subnet, port}\n\nThe API controller of  create_{network, subnet, port} makes sure\nthe necessary default values for attrs are filled properly\naccording to attr mapping.\n\nOn the other hand, internal direct callers into plugin of those methods\nignore those conventions so that adding extension probably causes\nexceptions like key error of argument.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 19, 'created': '2015-07-15 05:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e284cc2639623bc92043da1d263b617831da68db', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 20, 'created': '2015-07-16 01:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85a8a3105b465a9bf2ccf429e9bdf50fab05251f', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 21, 'created': '2015-07-19 01:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0bb2ceaa9026f636276c62c1f6e5f7c58de569b', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 22, 'created': '2015-07-19 02:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8794702b336773df3faae5ef56c7e6e4152fb18a', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 23, 'created': '2015-08-04 09:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab19e1cba157622b9d3c55c8ed84c51cf6ca61ea', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 24, 'created': '2015-08-05 01:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7156f9bbcbd26a181bc2fd5dda083e5eaed95bde', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 25, 'created': '2015-08-12 01:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88ce59dec83a2f30d4d63db4de3da1af0d3e2cd8', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 26, 'created': '2015-08-13 01:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7243b93bea0b08a86fe707a2b2dd477b762e2f23', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\n                yalei wang <yalei.wang@intel.com>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}, {'number': 27, 'created': '2015-08-14 03:40:36.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/api/v2/base.py', 'neutron/plugins/common/utils.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/api/v2/attributes.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/api/v2/test_attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1457af336b8b4ed72105b9d98a53f95c28c0c1e', 'message': 'Replace internal calls of create_{network, subnet, port}\n\nWhen API controller calls method create_{network, subnet, port),\nit made sure that the necessary default values for attrs are filled properly\naccording to attr mapping.\n\nHowever, internal calls to these methods do not follow the convention,\nwhen extension codes miss these values, exceptions will be thrown.\n\nThis patch introduces helper functions to fix up arguments and replaces\nthe direct callers of those methods.\n\nCo-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>\nCo-Authored-By: yalei wang <yalei.wang@intel.com>\n\nChange-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33\nCloses-Bug: #1383546\n'}]",53,129773,f1457af336b8b4ed72105b9d98a53f95c28c0c1e,664,60,27,333,,,0,"Replace internal calls of create_{network, subnet, port}

When API controller calls method create_{network, subnet, port),
it made sure that the necessary default values for attrs are filled properly
according to attr mapping.

However, internal calls to these methods do not follow the convention,
when extension codes miss these values, exceptions will be thrown.

This patch introduces helper functions to fix up arguments and replaces
the direct callers of those methods.

Co-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net>
Co-Authored-By: yalei wang <yalei.wang@intel.com>

Change-Id: Ibc6ff897a1a00665a403981a218100a698eb1c33
Closes-Bug: #1383546
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/129773/27 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/v2/base.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/plugins/cisco/l3/plugging_drivers/n1kv_trunking_driver.py', 'neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py', 'neutron/db/l3_db.py', 'neutron/plugins/vmware/dhcp_meta/rpc.py', 'neutron/services/loadbalancer/drivers/radware/driver.py', 'neutron/db/loadbalancer/loadbalancer_db.py', 'neutron/services/loadbalancer/drivers/embrane/driver.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/plugins/common/utils.py', 'neutron/plugins/vmware/dhcp_meta/nsx.py', 'neutron/api/v2/attributes.py']",14,9cc0e82d4c1c0234fda8920ca94c9286684498ca,bug/1383546,"import webob.exc def fill_default_value(attr_info, res_dict): for attr, attr_vals in attr_info.iteritems(): if attr_vals['allow_post']: if ('default' not in attr_vals and attr not in res_dict): msg = _(""Failed to parse request. Required "" ""attribute '%s' not specified"") % attr raise webob.exc.HTTPBadRequest(msg) res_dict[attr] = res_dict.get(attr, attr_vals.get('default')) else: if attr in res_dict: msg = _(""Attribute '%s' not allowed in POST"") % attr raise webob.exc.HTTPBadRequest(msg) def convert_value(attr_info, res_dict): for attr, attr_vals in attr_info.iteritems(): if (attr not in res_dict or res_dict[attr] is ATTR_NOT_SPECIFIED): continue # Convert values if necessary if 'convert_to' in attr_vals: res_dict[attr] = attr_vals['convert_to'](res_dict[attr]) # Check that configured values are correct if 'validate' not in attr_vals: continue for rule in attr_vals['validate']: res = validators[rule](res_dict[attr], attr_vals['validate'][rule]) if res: msg_dict = dict(attr=attr, reason=res) msg = _(""Invalid input for %(attr)s. "" ""Reason: %(reason)s."") % msg_dict raise webob.exc.HTTPBadRequest(msg)",,158,122
openstack%2Ffuel-stats~master~I2bcc3b4dc31324d67b8f95eb0a00141aa57bf00c,openstack/fuel-stats,master,I2bcc3b4dc31324d67b8f95eb0a00141aa57bf00c,Fixed paths for UI files,MERGED,2015-08-06 16:31:09.000000000,2015-08-17 12:48:51.000000000,2015-08-17 12:48:50.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 10959}, {'_account_id': 11110}]","[{'number': 1, 'created': '2015-08-06 16:31:09.000000000', 'files': ['analytics/static/reports.html', 'analytics/static/bower.json', 'analytics/static/gulpfile.js', 'analytics/static/js/main.js', 'analytics/static/index.html', 'analytics/static/package.json'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/650e29f03e8800cff895ec8904601278d711b5cd', 'message': 'Fixed paths for UI files\n\nCloses-Bug: #1473336\n\nChange-Id: I2bcc3b4dc31324d67b8f95eb0a00141aa57bf00c\n'}]",0,210016,650e29f03e8800cff895ec8904601278d711b5cd,9,6,1,9730,,,0,"Fixed paths for UI files

Closes-Bug: #1473336

Change-Id: I2bcc3b4dc31324d67b8f95eb0a00141aa57bf00c
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/16/210016/1 && git format-patch -1 --stdout FETCH_HEAD,"['analytics/static/reports.html', 'analytics/static/bower.json', 'analytics/static/gulpfile.js', 'analytics/static/index.html', 'analytics/static/js/main.js', 'analytics/static/package.json']",6,650e29f03e8800cff895ec8904601278d711b5cd,bug/1473336," ""gulp-bower-normalize"": ""~1.0.6"",",,29,18
openstack%2Ffuel-library~master~I2db1fce35d4686e746cc1753ceea5332ab1325cb,openstack/fuel-library,master,I2db1fce35d4686e746cc1753ceea5332ab1325cb,Redirect http horizon to https when https enabled,MERGED,2015-08-13 16:55:17.000000000,2015-08-17 12:46:27.000000000,2015-08-17 12:45:46.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13948}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-08-13 16:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d43abcd8576e3c13124af1ffe535a595b2306aba', 'message': 'Redirect http horizon to https when https enabled\n\nThis change updates the haproxy configuration for horizon to redirect\nhttp traffic to https when https is enabled to ensure that only https is\nused. When ssl is not enabled, the horizon http endpoint is configured\nas a regular horizon endpoint.\n\nChange-Id: I2db1fce35d4686e746cc1753ceea5332ab1325cb\nCloses-Bug: 1484580\n'}, {'number': 2, 'created': '2015-08-14 13:20:31.000000000', 'files': ['tests/noop/spec/hosts/openstack-haproxy/openstack-haproxy-horizon_spec.rb', 'deployment/puppet/openstack/manifests/ha/horizon.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0bda8cccf66aebdabb9515c037b020415eef3fbe', 'message': 'Redirect http horizon to https when https enabled\n\nThis change updates the haproxy configuration for horizon to redirect\nhttp traffic to https when https is enabled to ensure that only https is\nused. When ssl is not enabled, the horizon http endpoint is configured\nas a regular horizon endpoint.\n\nChange-Id: I2db1fce35d4686e746cc1753ceea5332ab1325cb\nCloses-Bug: 1484580\nDocImpact: Horizon via HTTP will only redirect to the HTTPS version if\nSSL is enabled.\n'}]",0,212659,0bda8cccf66aebdabb9515c037b020415eef3fbe,35,10,2,14985,,,0,"Redirect http horizon to https when https enabled

This change updates the haproxy configuration for horizon to redirect
http traffic to https when https is enabled to ensure that only https is
used. When ssl is not enabled, the horizon http endpoint is configured
as a regular horizon endpoint.

Change-Id: I2db1fce35d4686e746cc1753ceea5332ab1325cb
Closes-Bug: 1484580
DocImpact: Horizon via HTTP will only redirect to the HTTPS version if
SSL is enabled.
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/59/212659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/noop/spec/hosts/openstack-haproxy/openstack-haproxy-horizon_spec.rb', 'deployment/puppet/openstack/manifests/ha/horizon.pp']",2,d43abcd8576e3c13124af1ffe535a595b2306aba,bug/1484580," if $use_ssl { # http version of horizon should just redirect to https version openstack::ha::haproxy_service { 'horizon': order => '015', listen_port => 80, server_names => [], ipaddresses => [], haproxy_config_options => { 'redirect' => 'scheme https if !{ ssl_fc }' }, } openstack::ha::haproxy_service { 'horizon-ssl': order => '017', listen_port => 443, balancermember_port => 80, public_ssl => $use_ssl, } else { # http only openstack::ha::haproxy_service { 'horizon': order => '015', listen_port => 80, define_cookies => true, haproxy_config_options => { 'option' => ['forwardfor', 'httpchk', 'httpclose', 'httplog'], 'rspidel' => '^Set-cookie:\ IP=', 'balance' => 'source', 'mode' => 'http', 'cookie' => 'SERVERID insert indirect nocache', 'capture' => 'cookie vgnvisitor= len 32', 'timeout' => ['client 3h', 'server 3h'], }, balancermember_options => 'check inter 2000 fall 3', }"," openstack::ha::haproxy_service { 'horizon': order => '015', listen_port => 80, define_cookies => true, haproxy_config_options => { 'option' => ['forwardfor', 'httpchk', 'httpclose', 'httplog'], 'rspidel' => '^Set-cookie:\ IP=', 'balance' => 'source', 'mode' => 'http', 'cookie' => 'SERVERID insert indirect nocache', 'capture' => 'cookie vgnvisitor= len 32', 'timeout' => ['client 3h', 'server 3h'], }, balancermember_options => 'check inter 2000 fall 3', } if $use_ssl { openstack::ha::haproxy_service { 'horizon-ssl': order => '017', listen_port => 443, balancermember_port => 80, public_ssl => $use_ssl, ",80,23
openstack%2Fdragonflow~master~I67435797e1fbcf484cf19dd811f90122fe206eec,openstack/dragonflow,master,I67435797e1fbcf484cf19dd811f90122fe206eec,Start etcd before Neutron,MERGED,2015-08-17 12:24:22.000000000,2015-08-17 12:45:58.000000000,2015-08-17 12:45:58.000000000,"[{'_account_id': 3}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-17 12:24:22.000000000', 'files': ['dragonflow/neutron/plugin.py', 'devstack/plugin.sh', 'dragonflow/db/drivers/etcd_nb_impl.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2ba064066255c8383778e5de9427b847f1e96d1c', 'message': 'Start etcd before Neutron\n\netcd is needed before Neutron starts, start the server as a process\nbefore devstack runs neutron, this solves the problem of missed\nupdates\n\nChange-Id: I67435797e1fbcf484cf19dd811f90122fe206eec\n'}]",0,213691,2ba064066255c8383778e5de9427b847f1e96d1c,6,2,1,11343,,,0,"Start etcd before Neutron

etcd is needed before Neutron starts, start the server as a process
before devstack runs neutron, this solves the problem of missed
updates

Change-Id: I67435797e1fbcf484cf19dd811f90122fe206eec
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/91/213691/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/neutron/plugin.py', 'devstack/plugin.sh', 'dragonflow/db/drivers/etcd_nb_impl.py']",3,2ba064066255c8383778e5de9427b847f1e96d1c,fix_binding, waitIndex=self.current_key)," waitIndex=self.current_key, timeout=10)",8,8
openstack%2Fneutron-fwaas~master~I28da545e5bf1b173fb49e67fa61b8adcf47c7bae,openstack/neutron-fwaas,master,I28da545e5bf1b173fb49e67fa61b8adcf47c7bae,Testing Functional,ABANDONED,2015-08-17 11:55:17.000000000,2015-08-17 12:36:43.000000000,,"[{'_account_id': 10692}, {'_account_id': 15330}]","[{'number': 1, 'created': '2015-08-17 11:55:17.000000000', 'files': ['neutron_fwaas/db/cisco/cisco_fwaas_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6c88d2455f25f7918a7d718d178fa37efd5b6864', 'message': 'Testing Functional\n\nIts a me, mario, testing functional =D\n\nChange-Id: I28da545e5bf1b173fb49e67fa61b8adcf47c7bae\n'}]",0,213683,6c88d2455f25f7918a7d718d178fa37efd5b6864,5,2,1,16615,,,0,"Testing Functional

Its a me, mario, testing functional =D

Change-Id: I28da545e5bf1b173fb49e67fa61b8adcf47c7bae
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/83/213683/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/cisco/cisco_fwaas_db.py'],1,6c88d2455f25f7918a7d718d178fa37efd5b6864,,# Mario and Luigi,,1,0
openstack%2Fdragonflow~master~Ica799d3edab4af9e9d26181f6717f31a4c34d2ab,openstack/dragonflow,master,Ica799d3edab4af9e9d26181f6717f31a4c34d2ab,Fix port binding_profile extraction in plugin,MERGED,2015-08-17 09:03:03.000000000,2015-08-17 12:35:15.000000000,2015-08-17 12:35:15.000000000,"[{'_account_id': 3}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-17 09:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/40ae2117fe59ca2e6f75f6e57b345d4f2f50ff1e', 'message': 'Fix port binding_profile extraction in plugin\n\nChange-Id: Ica799d3edab4af9e9d26181f6717f31a4c34d2ab\n'}, {'number': 2, 'created': '2015-08-17 11:07:00.000000000', 'files': ['dragonflow/neutron/plugin.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b45fe1d7cc0abd8f355b42780b4a4b6ad54fec6a', 'message': 'Fix port binding_profile extraction in plugin\n\nChange-Id: Ica799d3edab4af9e9d26181f6717f31a4c34d2ab\n'}]",0,213637,b45fe1d7cc0abd8f355b42780b4a4b6ad54fec6a,8,2,2,11343,,,0,"Fix port binding_profile extraction in plugin

Change-Id: Ica799d3edab4af9e9d26181f6717f31a4c34d2ab
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/37/213637/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/neutron/plugin.py', 'dragonflow/db/drivers/etcd_nb_impl.py']",2,40ae2117fe59ca2e6f75f6e57b345d4f2f50ff1e,db_publish_subscribe, else: else: else:, else: # delete else: # delete else: # delete,27,26
openstack%2Fproject-team-guide~master~Id2d6d9bb96f261803acd266b6e21afe8e0c9010d,openstack/project-team-guide,master,Id2d6d9bb96f261803acd266b6e21afe8e0c9010d,Open Development Chapter,MERGED,2015-06-23 09:31:06.000000000,2015-08-17 12:33:57.000000000,2015-08-17 12:33:57.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6159}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-06-23 09:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/8c5052d8f5c08a84fb0f5b12382bd8e83d84cd6a', 'message': 'Open Development Chapter\n\nChange-Id: Id2d6d9bb96f261803acd266b6e21afe8e0c9010d\n'}, {'number': 2, 'created': '2015-07-31 02:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/2a3bf5c0f2df6b652ef826eac7376c9f3d01f6d9', 'message': 'Open Development Chapter\n\nChange-Id: Id2d6d9bb96f261803acd266b6e21afe8e0c9010d\n'}, {'number': 3, 'created': '2015-08-04 19:53:10.000000000', 'files': ['doc/source/open-development.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/9787079aa06a887e5c00fd0775c3fe432e2fa989', 'message': 'Open Development Chapter\n\nChange-Id: Id2d6d9bb96f261803acd266b6e21afe8e0c9010d\n'}]",13,194567,9787079aa06a887e5c00fd0775c3fe432e2fa989,16,4,3,6159,,,0,"Open Development Chapter

Change-Id: Id2d6d9bb96f261803acd266b6e21afe8e0c9010d
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/67/194567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/open-development.rst'],1,8c5052d8f5c08a84fb0f5b12382bd8e83d84cd6a,,"Open Developement is also part of the four tenants that help OpenStack to move forward. Just like Open Community and Open Source, an Open Development allows for engaiging with larger communities and it welcomes a broader group of members. Open Development is the key behind the large developers community and the enormous collaboration model in the project. Project Technical Lead ====================== .. TODO(flaper87): add a link to the elections section Every OpenStack project has a Project Technical Lead (PTL) who's elected at the end of every cycle by the active contributors of the project. The PTL is responsible for taking the management leadership of the project it serves. It's a volunteer position and it does not directly relate to other leadership positions in the Open Source world - i.e BDFL. Projects are driven by their communities and the PTL serves as a tie-breaker when hard decisions need to be make. Core Reviewers ============== A core reviewer is a member of the OpenStack community that has volunteered to dedicate time to reviews for a specific project. To become a core reviewer, the interested person is required to have provided enough reviews to the project in order to demonstrate the understanding of the project structure, goals and policies. Technically speaking, a core reviewer is someone that has +2/-2 powers on the project they are part of. It's possible to be a core reviewer of several projects and it's completely fine - and recommended - to step down at any time if your focus and priorities have changed. Reviews Guidelines ================== Reviewing is a critical step in OpenStack's development workflow. It requires reviewers to understand the project in order to be able to provide great feedback and guarantee better quality for that project. Nonetheless, reviews are also a great place for people to start from, to get into OpenStack and start contributing and to learn the project they are interested in. In order to make the review process easier, OpenStack has developed some guidelines that aim to help reviewers identify ptential issues and that also guides them in the interaction with the contributor. #. One easy first step is to verify that the proposed code complies with the project's guidelines. Many projects have a file called `HACKING.RST` in their repository. This file contains the base guidelines of that project. If the file is not there, then following OpenStack's general guidelines is the recommend thing to do. Note that these project's guidelines inherit from the OpenStack's guidelines anyway. #. Verify that the commit message is also compliant with the following criterias: #. The title is not longer than 50 characters. #. Summary lines should be wrapped at 70 characters. #. Make sure the title and the summary describe correctly what the goal of the patch is. Having a bug or a blueprint referenced is not enough. Sometimes the patches are partially fixes for a bigger problem and it's extremely important to have all that explicitly stated in the commit message. #. Make sure the commit message is correctly flagged. If there API changes then the `APIImpact` flag should be used. If there are security implications then the `SecurityImpact` flag should be used. If there are documentation changes then the `DocImpact` flag should be used. #. Make sure blueprints and bugs are correctly referenced in the commit message: #. Closes-bug: #12345 #. Implements-blueprint: my-blueprint-slug #. Once the commit message has been reviewed, it'll be a good moment to dive into the change itself. While doing this, make sure the following points apply as well: #. Make sure the code is readable and maintainable. #. Make sure the code supports both, python2 and python3. Using six for compatibility is recommended. In general, reviewing code takes a lot of time and effort and it's important for every reviewer to dedicate as much time as needed to each review in order to provide better comments and quality. However, when it comes to style and subjective arguments, it's recommended not to be extremely nitpicky. Finding the right balance and evaluating trade-off is as important as verifying all the above points. Every reviewer has the ability to vote on patches (+1, 0, -1) and only core reviewers have the ability to +2, -2 and approve patches. Each of these votes have an influence on the patch itself and they communicate agreement, disagreement or errors in the patch. Therefore, these votes must be used properly and it's the reviewer's responsibility to do so.",,91,0
openstack%2Fpycadf~master~Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b,openstack/pycadf,master,Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b,Adding barbican specific base resources.,MERGED,2015-08-06 16:49:27.000000000,2015-08-17 12:31:24.000000000,2015-08-17 12:31:23.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 6482}, {'_account_id': 6537}, {'_account_id': 7514}, {'_account_id': 7973}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-08-06 16:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/974548cab1088e248929f33e90e06f10f202ce83', 'message': 'Adding barbican specific base resources.\n\nChange-Id: Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b\nImplements: bp barbican-resource-taxonomy\n'}, {'number': 2, 'created': '2015-08-06 16:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/02a88e1bc2779169845c5a10105cf246eafbb232', 'message': 'Adding barbican specific base resources.\n\nChange-Id: Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b\nImplements: blueprint barbican-resource-taxonomy\n'}, {'number': 3, 'created': '2015-08-14 18:05:21.000000000', 'files': ['pycadf/cadftaxonomy.py'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/b1966b9d1e328f9bcfb98fac1e1186e1f697885a', 'message': 'Adding barbican specific base resources.\n\nAdjusted classification to be without abbreviation and under /security\nas per review comments.\n\nChange-Id: Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b\nImplements: blueprint barbican-resource-taxonomy\n'}]",6,210023,b1966b9d1e328f9bcfb98fac1e1186e1f697885a,20,7,3,1091,,,0,"Adding barbican specific base resources.

Adjusted classification to be without abbreviation and under /security
as per review comments.

Change-Id: Id658b61e5e18f9f66b0fecbbd5a44b3a71def22b
Implements: blueprint barbican-resource-taxonomy
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/23/210023/3 && git format-patch -1 --stdout FETCH_HEAD,['pycadf/cadftaxonomy.py'],1,974548cab1088e248929f33e90e06f10f202ce83,bp/barbican-resource-taxonomy,"SERVICE_KEYMGR = 'service/keymgr'KEYMGR_SECRET = 'data/keymgr/secret' KEYMGR_CONTAINER = 'data/keymgr/container' KEYMGR_ORDER = 'data/keymgr/order' KEYMGR_OTHERS = 'data/keymgr' SERVICE_KEYMGR, KEYMGR_CONTAINER, KEYMGR_ORDER, KEYMGR_SECRET, KEYMGR_OTHERS,",,11,0
openstack%2Fpython-heatclient~master~I8815ccd6db9503a959a5ce7131eeebd1ac233bbb,openstack/python-heatclient,master,I8815ccd6db9503a959a5ce7131eeebd1ac233bbb,Updated Hacking and coverage versions,ABANDONED,2015-08-14 13:55:58.000000000,2015-08-17 12:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 15944}]","[{'number': 1, 'created': '2015-08-14 13:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/7fcef1e87485123c095db9453d9f5f62923c4cca', 'message': 'Updated Hacking and coverage versions\n\nThe latest version for hacking is 9.6 and coverage is 3.7.1 and the\ntest-requirements file has been updated accordingly.\n\nCloses-bug: #1447408\n\nChange-Id: I8815ccd6db9503a959a5ce7131eeebd1ac233bbb\n'}, {'number': 2, 'created': '2015-08-14 16:56:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/885b7d89dbc4ef3bcd28e7ddd416039ac7194d26', 'message': 'Updated Hacking and coverage versions\n\nThe latest version for hacking is 9.6 and coverage is 3.7.1 and the\ntest-requirements file has been updated accordingly.\n\nChange-Id: I8815ccd6db9503a959a5ce7131eeebd1ac233bbb\n'}]",3,213158,885b7d89dbc4ef3bcd28e7ddd416039ac7194d26,9,4,2,15429,,,0,"Updated Hacking and coverage versions

The latest version for hacking is 9.6 and coverage is 3.7.1 and the
test-requirements file has been updated accordingly.

Change-Id: I8815ccd6db9503a959a5ce7131eeebd1ac233bbb
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/58/213158/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7fcef1e87485123c095db9453d9f5f62923c4cca,bug/1447408,"hacking<0.11,>=0.9.6 coverage>=3.7","hacking<0.11,>=0.10.0 coverage>=3.6",2,2
openstack%2Fhorizon~master~Ie6e32a1039644eec0c979b70a852b715fc3630b3,openstack/horizon,master,Ie6e32a1039644eec0c979b70a852b715fc3630b3,Imported Translations from Transifex,MERGED,2015-08-16 06:11:24.000000000,2015-08-17 12:21:05.000000000,2015-08-17 12:21:03.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-08-16 06:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5886ef555d9ad56c3f5958e8ea851fb8bc76bd72', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie6e32a1039644eec0c979b70a852b715fc3630b3\n'}, {'number': 2, 'created': '2015-08-17 06:09:39.000000000', 'files': ['horizon/locale/nl_NL/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po', 'horizon/locale/nl_NL/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f11f4f2dd77c25a62206728febae975f0d59edc8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie6e32a1039644eec0c979b70a852b715fc3630b3\n'}]",0,213485,f11f4f2dd77c25a62206728febae975f0d59edc8,10,3,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ie6e32a1039644eec0c979b70a852b715fc3630b3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/213485/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po'],1,5886ef555d9ad56c3f5958e8ea851fb8bc76bd72,transifex/translations,"""POT-Creation-Date: 2015-08-15 15:07+0000\n"" ""PO-Revision-Date: 2015-08-16 03:05+0000\n""msgid """" ""<li><b>Image (with Create New Volume checked)</b>: This options uses an "" ""image to boot the instance, and creates a new volume to persist instance "" ""data. You can specify volume size and whether to delete the volume on "" ""termination of the instance.</li>"" msgstr """" ""<li><b>Image (com a opo Criar Novo Volume marcada)</ b>: Esta opo usa "" ""uma imagem para iniciar a instncia, e cria um novo volume de persistir "" ""dados da instncia. Voc pode especificar o tamanho do volume e se deseja "" ""excluir o volume no encerramento da instncia.</li>"" ""<li><b>Volume Snapshot</b>: This option uses a volume snapshot to boot the "" ""instance, and creates a new volume to persist instance data. You can choose "" ""to delete the volume on termination of the instance.</li>"" msgstr """" ""<li> <b>Volume Snapshot</ b>: Esta opo usa um instantneo do volume para "" ""inicializar a instncia, e cria um novo volume de persistir dados da "" ""instncia. Voc pode optar por excluir o volume ao trmino da instncia.</li>"" msgid """" ""<li><b>Volume</b>: This option uses a volume that already exists. It does "" ""not create a new volume. You can choose to delete the volume on termination "" ""of the instance. <em>Note: when selecting Volume, you can only launch one "" ""instance.</em></li>"" msgstr """" ""<li><b>Volume</ b>: Esta opo utiliza um volume que j existe. Ele no cria "" ""um novo volume. Voc pode optar por excluir o volume ao trmino da "" ""instncia. <em>Nota: ao selecionar Volume, voc s pode lanar uma instncia."" ""</em></ li>"" msgid """"msgid """" ""An instance name is required and used to help you uniquely identify your "" ""instance in the dashboard."" msgstr """" ""Um nome de instncia  necessrio e usado para ajudar a identificar o seu "" ""exemplo, no painel de instrumentos."" msgid """" ""If you select an availability zone and plan to use the boot from volume "" ""option, make sure that the availability zone you select for the instance is "" ""the same availability zone where your bootable volume resides."" msgstr """" ""Se voc selecionar uma zona de disponibilidade e planeja usar o boot a "" ""partir de opo de volume, certifique-se de que a zona de disponibilidade "" ""que voc selecionar para a instncia  a mesma zona de disponibilidade onde "" ""o seu volume bootavel reside."" msgid """" ""If you want to create an instance that uses ephemeral storage, meaning the "" ""instance data is lost when the instance is deleted, then choose one of the "" ""following boot sources:"" msgstr """" ""Se voc deseja criar uma instncia que utiliza o armazenamento efmero, "" ""significando que os dados da instncia so perdidos quando a instncia  "" ""excluda, ento escolha uma das seguintes fontes de inicializao:"" msgid """" ""If you want to create an instance that uses persistent storage, meaning the "" ""instance data is saved when the instance is deleted, then select one of the "" ""following boot options:"" msgstr """" ""Se voc deseja criar uma instncia que utiliza o armazenamento efmero, "" ""significa que os dados da instncia so perdidos quando a instncia  "" ""excluda, escolha uma das seguintes opes de inicializao:"" msgid """" ""Instance source is the template used to create an instance. You can use a "" ""snapshot of an existing instance, an image, or a volume (if enabled). You "" ""can also choose to use persistent storage by creating a new volume."" msgstr """" ""Fonte da instncia  o modelo usado para criar uma instncia. Voc pode usar "" ""um instantneo de uma instncia existente, uma imagem, ou um volume (se "" ""ativado). Voc tambm pode optar por usar armazenamento persistente atravs "" ""da criao de um novo volume."" msgid """" ""Please provide the initial host name for the instance, the availability zone "" ""where it will be deployed, and the instance count. Increase the Count to "" ""create multiple instances with the same settings."" msgstr """" ""Por favor, fornea o nome do host inicial para a instncia, a zona de "" ""disponibilidade onde ser implantada, e a contagem de instncia. Aumentar a "" ""contagem para criar vrias instncias com as mesmas configuraes."" ""Volumes can only be attached to 1 active instance at a time. Please either "" ""set your instance count to 1 or select a different source type."" msgstr """" ""Volumes s pode ser ligado a uma instncia ativa de cada vez. Por favor, "" ""defina a contagem de instncia at 1 ou selecionar um tipo de fonte "" ""diferente."" msgid """"","""POT-Creation-Date: 2015-08-14 23:41+0000\n"" ""PO-Revision-Date: 2015-08-15 05:20+0000\n""",95,2
openstack%2Ftrove~stable%2Fkilo~I35fbd142a199f5e5f39b7835fee0ac888dc9784b,openstack/trove,stable/kilo,I35fbd142a199f5e5f39b7835fee0ac888dc9784b,Fix unit test mocks for new mock release,MERGED,2015-07-15 09:32:19.000000000,2015-08-17 12:20:12.000000000,2015-08-17 12:20:10.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1955}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9656}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12404}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-07-15 09:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/88aa52d89d2c54abd8ebc169a83be0934360a75e', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methds would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nCloses-Bug: 1473454\n'}, {'number': 2, 'created': '2015-07-15 09:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7a76158a176a539f80beca9ec0c6bd8dcb721007', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methds would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nCloses-Bug: 1473454\n'}, {'number': 3, 'created': '2015-07-15 09:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3e3707df4529f0b236d1ba4c92f7a6ef0dc83c6b', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methods would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nCloses-Bug: 1473454\n'}, {'number': 4, 'created': '2015-08-13 21:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8f2fe0f9fee5f233e9c06ea089dba42c942a1960', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methods would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nCloses-Bug: 1473454\n'}, {'number': 5, 'created': '2015-08-14 02:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/429166d14d4e8c2d116dfdca469e73d5dd68b324', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methods would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nDepends-On: Iac7e27df935f1b2d6bed3cad2106199aae941f31\nCloses-Bug: 1473454\n'}, {'number': 6, 'created': '2015-08-15 00:36:43.000000000', 'files': ['trove/tests/unittests/taskmanager/test_vertica_clusters.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/cluster/test_cluster_controller.py', 'trove/tests/unittests/cluster/test_cluster_vertica_controller.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/cluster/test_vertica_cluster.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3b111f98b7043d2e126ab234e0bf17b59751069d', 'message': 'Fix unit test mocks for new mock release\n\nThe new mock release(1.1.0) broke some of the unit tests which\nwere using incorrect mock methods that do not really exist.\n\nBefore mock 1.1.0 using such incorrectly mocked methods would\nsilently pass -- but after the upgrade these (rightly) cause\nerrors that need to be fixed.\n\nChange-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b\nCloses-Bug: 1473454\n'}]",0,202015,3b111f98b7043d2e126ab234e0bf17b59751069d,34,10,6,5293,,,0,"Fix unit test mocks for new mock release

The new mock release(1.1.0) broke some of the unit tests which
were using incorrect mock methods that do not really exist.

Before mock 1.1.0 using such incorrectly mocked methods would
silently pass -- but after the upgrade these (rightly) cause
errors that need to be fixed.

Change-Id: I35fbd142a199f5e5f39b7835fee0ac888dc9784b
Closes-Bug: 1473454
",git fetch https://review.opendev.org/openstack/trove refs/changes/15/202015/4 && git format-patch -1 --stdout FETCH_HEAD,['trove/tests/unittests/guestagent/test_dbaas.py'],1,88aa52d89d2c54abd8ebc169a83be0934360a75e,bug/1473454," self.assertEqual(1, mock_mkstemp.call_count) self.assertEqual(1, mock_mkstemp.call_count)", mock_mkstemp.assert_called_once() mock_mkstemp.assert_called_once(),2,2
openstack%2Frequirements~master~I1b2d67f717e1050b11d974da69071b127dd864c8,openstack/requirements,master,I1b2d67f717e1050b11d974da69071b127dd864c8,README.rst: generate-constraints requires -r option,MERGED,2015-08-14 11:04:33.000000000,2015-08-17 12:05:57.000000000,2015-08-17 12:05:55.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4190}]","[{'number': 1, 'created': '2015-08-14 11:04:33.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8a9d6511845637945e1fee22cc7399dcfb761b8', 'message': 'README.rst: generate-constraints requires -r option\n\nIt seems the requirements file must be specified when using the\ngenerate-constraints utility.\nThis patch amends the README.rst file to reflect this, as it\ncurrently appears to hint that the -r options default to\nglobal-requirements.txt\n\nChange-Id: I1b2d67f717e1050b11d974da69071b127dd864c8\n'}]",0,213091,d8a9d6511845637945e1fee22cc7399dcfb761b8,6,3,1,261,,,0,"README.rst: generate-constraints requires -r option

It seems the requirements file must be specified when using the
generate-constraints utility.
This patch amends the README.rst file to reflect this, as it
currently appears to hint that the -r options default to
global-requirements.txt

Change-Id: I1b2d67f717e1050b11d974da69071b127dd864c8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/213091/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d8a9d6511845637945e1fee22cc7399dcfb761b8,amend_readme_rst, -b blacklist.txt -r global-requirements.txt > new-constraints.txt -b blacklist.txt -r global-requirements.txt > baseline -b blacklist.txt -r global-requirements.txt > updated, -b blacklist.txt > new-constraints.txt -b blacklist.txt > baseline -b blacklist.txt > updated,3,3
openstack%2Faodh~master~I8ce1481eccfa916cf1fd8921d57ed529d5b5271a,openstack/aodh,master,I8ce1481eccfa916cf1fd8921d57ed529d5b5271a,Storage: add 'exclude' constraint to get_alarms(),MERGED,2015-08-07 13:51:23.000000000,2015-08-17 12:04:34.000000000,2015-08-17 12:04:33.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 6537}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-07 13:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/392d1760ed844aa9d3431e8ca7433a8bd6282a43', 'message': ""Storage: add 'exclude' constraint to get_alarms()\n\nThis patch adds a new parameter 'exclude' to get_alarms() as a constraint\nby which a caller can filter out uninteresting alarms.\n\nChange-Id: I8ce1481eccfa916cf1fd8921d57ed529d5b5271a\nImplements: blueprint event-alarm-evaluator\n""}, {'number': 2, 'created': '2015-08-12 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b044a2ab1f5a9a83ff541b45196aaa42be43b26b', 'message': ""Storage: add 'exclude' constraint to get_alarms()\n\nThis patch adds a new parameter 'exclude' to get_alarms() as a constraint\nby which a caller can filter out uninteresting alarms.\n\nChange-Id: I8ce1481eccfa916cf1fd8921d57ed529d5b5271a\nImplements: blueprint event-alarm-evaluator\n""}, {'number': 3, 'created': '2015-08-13 15:19:39.000000000', 'files': ['aodh/storage/hbase/inmemory.py', 'aodh/storage/impl_hbase.py', 'aodh/storage/pymongo_base.py', 'aodh/storage/impl_log.py', 'aodh/tests/storage/test_storage_scenarios.py', 'aodh/storage/hbase/utils.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/tests/api/v2/test_query.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/c5c6e87aa0811cb186437be289cdf8bbe1d8bfea', 'message': ""Storage: add 'exclude' constraint to get_alarms()\n\nThis patch adds a new parameter 'exclude' to get_alarms() as a constraint\nby which a caller can filter out uninteresting alarms.\n\nChange-Id: I8ce1481eccfa916cf1fd8921d57ed529d5b5271a\nImplements: blueprint event-alarm-evaluator\n""}]",2,210443,c5c6e87aa0811cb186437be289cdf8bbe1d8bfea,18,5,3,1894,,,0,"Storage: add 'exclude' constraint to get_alarms()

This patch adds a new parameter 'exclude' to get_alarms() as a constraint
by which a caller can filter out uninteresting alarms.

Change-Id: I8ce1481eccfa916cf1fd8921d57ed529d5b5271a
Implements: blueprint event-alarm-evaluator
",git fetch https://review.opendev.org/openstack/aodh refs/changes/43/210443/3 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/storage/hbase/inmemory.py', 'aodh/storage/impl_hbase.py', 'aodh/storage/pymongo_base.py', 'aodh/storage/impl_log.py', 'aodh/tests/storage/test_storage_scenarios.py', 'aodh/storage/hbase/utils.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/tests/api/v2/test_query.py']",9,392d1760ed844aa9d3431e8ca7433a8bd6282a43,bp/event-alarm-evaluator," valid_keys = ['alarm_id', 'enabled', 'exclude', 'meter', 'name',"," valid_keys = ['alarm_id', 'enabled', 'meter', 'name',",36,9
openstack%2Faodh~master~I143100500dcdf505827ac64750f94c78bf0299e9,openstack/aodh,master,I143100500dcdf505827ac64750f94c78bf0299e9,Avoid translating debug log,MERGED,2015-08-13 06:32:02.000000000,2015-08-17 12:00:20.000000000,2015-08-17 12:00:19.000000000,"[{'_account_id': 3}, {'_account_id': 1894}, {'_account_id': 6537}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-13 06:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/1f95c17c7d5c4336f7d403e947b5f4350db53ef5', 'message': 'Avoid translating debug log\n\nAccording to the OpenStack translation policy, available at\nhttps://wiki.openstack.org/wiki/LoggingStandards, debug messages\nshould not be translated.\n\nChange-Id: I143100500dcdf505827ac64750f94c78bf0299e9\n'}, {'number': 2, 'created': '2015-08-13 06:39:20.000000000', 'files': ['aodh/storage/hbase/inmemory.py', 'aodh/storage/impl_hbase.py', 'aodh/rpc.py', 'aodh/evaluator/__init__.py', 'aodh/storage/hbase/base.py', 'aodh/evaluator/threshold.py', 'aodh/notifier/__init__.py', 'aodh/hacking/checks.py', 'aodh/evaluator/combination.py', 'aodh/evaluator/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/279ca44a4368b8e9d599f35e6a4aa995bb86e5fc', 'message': 'Avoid translating debug log\n\nAccording to the OpenStack translation policy, available at\nhttps://wiki.openstack.org/wiki/LoggingStandards, debug messages\nshould not be translated.\n\nChange-Id: I143100500dcdf505827ac64750f94c78bf0299e9\n'}]",0,212370,279ca44a4368b8e9d599f35e6a4aa995bb86e5fc,12,5,2,8290,,,0,"Avoid translating debug log

According to the OpenStack translation policy, available at
https://wiki.openstack.org/wiki/LoggingStandards, debug messages
should not be translated.

Change-Id: I143100500dcdf505827ac64750f94c78bf0299e9
",git fetch https://review.opendev.org/openstack/aodh refs/changes/70/212370/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/storage/hbase/inmemory.py', 'aodh/storage/impl_hbase.py', 'aodh/rpc.py', 'aodh/evaluator/__init__.py', 'aodh/evaluator/threshold.py', 'aodh/storage/hbase/base.py', 'aodh/notifier/__init__.py', 'aodh/evaluator/combination.py', 'aodh/hacking/checks.py', 'aodh/evaluator/gnocchi.py']",10,1f95c17c7d5c4336f7d403e947b5f4350db53ef5,no-translate-debug," LOG.debug('stats query %s', req['url'])", LOG.debug(_('stats query %s') % req['url']),46,30
openstack%2Fdragonflow~master~I9aeeb54094b9c4c89567f209c954794a63fefcb5,openstack/dragonflow,master,I9aeeb54094b9c4c89567f209c954794a63fefcb5,Change local.conf example to reflect etcd,MERGED,2015-08-17 07:30:11.000000000,2015-08-17 11:47:30.000000000,2015-08-17 11:47:30.000000000,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-17 07:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/43291087f1112882ca06e6938fb92154ce0312cf', 'message': 'Change local.conf example to reflect etcd\n\nDragonflow now uses etcd for the default distributed db.\nThis change is required for the devstack plugin to work\n\nChange-Id: I9aeeb54094b9c4c89567f209c954794a63fefcb5\n'}, {'number': 2, 'created': '2015-08-17 11:06:43.000000000', 'files': ['doc/source/single-node-conf/local_controller.conf'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/89c0327cf469b0fcdbd7d9696ebe6c7be68cf99d', 'message': 'Change local.conf example to reflect etcd\n\nDragonflow now uses etcd for the default distributed db.\nThis change is required for the devstack plugin to work\n\nChange-Id: I9aeeb54094b9c4c89567f209c954794a63fefcb5\n'}]",0,213618,89c0327cf469b0fcdbd7d9696ebe6c7be68cf99d,10,3,2,11343,,,0,"Change local.conf example to reflect etcd

Dragonflow now uses etcd for the default distributed db.
This change is required for the devstack plugin to work

Change-Id: I9aeeb54094b9c4c89567f209c954794a63fefcb5
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/18/213618/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/single-node-conf/local_controller.conf'],1,43291087f1112882ca06e6938fb92154ce0312cf,db_publish_subscribe,enable_service df-etcd,enable_service ovn-northd,1,1
openstack%2Fhorizon~stable%2Fkilo~I12fcd8263af81b81f4512a95da6e42b08e2e41ec,openstack/horizon,stable/kilo,I12fcd8263af81b81f4512a95da6e42b08e2e41ec,Port cleanup on failed VM instance launch,MERGED,2015-08-12 18:13:30.000000000,2015-08-17 11:46:35.000000000,2015-08-17 11:46:31.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 7018}, {'_account_id': 7179}, {'_account_id': 8940}, {'_account_id': 10442}, {'_account_id': 11757}, {'_account_id': 12749}, {'_account_id': 12826}, {'_account_id': 13660}]","[{'number': 1, 'created': '2015-08-12 18:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8d22ecfc48e181e1e5395640510fd73e4ea728a', 'message': 'Port cleanup on failed VM instance launch\n\nCurrently if a VM instance launch fails, stale VM ports are left behind\n\nChange-Id: I12fcd8263af81b81f4512a95da6e42b08e2e41ec\nCloses-Bug: 1423453\n(cherry picked from commit 32d55a36f19a8f93492264105ccf6a0c72369847)\n'}, {'number': 2, 'created': '2015-08-13 22:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4c62c189e2098a1a950afadaeeaccdc6cce60f34', 'message': 'Port cleanup on failed VM instance launch\n\nCurrently if a VM instance launch fails, stale VM ports are left behind\n\nChange-Id: I12fcd8263af81b81f4512a95da6e42b08e2e41ec\nCloses-Bug: 1423453\n(cherry picked from commit 32d55a36f19a8f93492264105ccf6a0c72369847)\n'}, {'number': 3, 'created': '2015-08-14 21:38:28.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3becb61cc474a97b9a0b95e8334d372f162a0e53', 'message': 'Port cleanup on failed VM instance launch\n\nCurrently if a VM instance launch fails, stale VM ports are left behind\n\nChange-Id: I12fcd8263af81b81f4512a95da6e42b08e2e41ec\nCloses-Bug: 1423453\n(cherry picked from commit 32d55a36f19a8f93492264105ccf6a0c72369847)\n'}]",1,212131,3becb61cc474a97b9a0b95e8334d372f162a0e53,22,11,3,12749,,,0,"Port cleanup on failed VM instance launch

Currently if a VM instance launch fails, stale VM ports are left behind

Change-Id: I12fcd8263af81b81f4512a95da6e42b08e2e41ec
Closes-Bug: 1423453
(cherry picked from commit 32d55a36f19a8f93492264105ccf6a0c72369847)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/212131/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/instances/tests.py']",2,a8d22ecfc48e181e1e5395640510fd73e4ea728a,port-cleanup," @helpers.update_settings( OPENSTACK_NEUTRON_NETWORK={'profile_support': 'cisco'}) @helpers.create_stubs({api.glance: ('image_list_detailed',), api.neutron: ('network_list', 'profile_list', 'port_create', 'port_delete'), api.nova: ('extension_supported', 'flavor_list', 'keypair_list', 'availability_zone_list', 'server_create',), api.network: ('security_group_list',), cinder: ('volume_list', 'volume_snapshot_list',), quotas: ('tenant_quota_usages',)}) def test_port_cleanup_called_on_failed_vm_launch(self): flavor = self.flavors.first() image = self.images.first() keypair = self.keypairs.first() server = self.servers.first() sec_group = self.security_groups.first() avail_zone = self.availability_zones.first() customization_script = 'user data' quota_usages = self.quota_usages.first() api.nova.extension_supported('BlockDeviceMappingV2Boot', IsA(http.HttpRequest)) \ .AndReturn(True) volumes = [v for v in self.volumes.list() if (v.status == AVAILABLE and v.bootable == 'true')] cinder.volume_list(IsA(http.HttpRequest), search_opts=VOLUME_SEARCH_OPTS) \ .AndReturn(volumes) volumes = [v for v in self.volumes.list() if (v.status == AVAILABLE)] cinder.volume_snapshot_list(IsA(http.HttpRequest), search_opts=SNAPSHOT_SEARCH_OPTS) \ .AndReturn(volumes) api.nova.flavor_list(IgnoreArg()).AndReturn(self.flavors.list()) api.nova.keypair_list(IgnoreArg()).AndReturn(self.keypairs.list()) api.network.security_group_list(IsA(http.HttpRequest)) \ .AndReturn(self.security_groups.list()) api.nova.availability_zone_list(IsA(http.HttpRequest)) \ .AndReturn(self.availability_zones.list()) api.glance.image_list_detailed( IsA(http.HttpRequest), filters={'is_public': True, 'status': 'active'}) \ .AndReturn([self.images.list(), False, False]) api.glance.image_list_detailed( IsA(http.HttpRequest), filters={'property-owner_id': self.tenant.id, 'status': 'active'}) \ .AndReturn([[], False, False]) api.neutron.network_list(IsA(http.HttpRequest), tenant_id=self.tenant.id, shared=False) \ .AndReturn(self.networks.list()[:1]) api.neutron.network_list(IsA(http.HttpRequest), shared=True) \ .AndReturn(self.networks.list()[1:]) policy_profiles = self.policy_profiles.list() policy_profile_id = self.policy_profiles.first().id port = self.ports.first() api.neutron.profile_list( IsA(http.HttpRequest), 'policy').AndReturn(policy_profiles) api.neutron.port_create( IsA(http.HttpRequest), self.networks.first().id, policy_profile_id=policy_profile_id).AndReturn(port) nics = [{""port-id"": port.id}] api.nova.extension_supported('DiskConfig', IsA(http.HttpRequest)) \ .AndReturn(True) api.nova.extension_supported('ConfigDrive', IsA(http.HttpRequest)).AndReturn(True) api.nova.server_create(IsA(http.HttpRequest), server.name, image.id, flavor.id, keypair.name, customization_script, [sec_group.name], block_device_mapping=None, block_device_mapping_v2=None, nics=nics, availability_zone=avail_zone.zoneName, instance_count=IsA(int), admin_pass='password', disk_config='AUTO', config_drive=False) \ .AndRaise(self.exceptions.neutron) api.neutron.port_delete(IsA(http.HttpRequest), port.id) quotas.tenant_quota_usages(IsA(http.HttpRequest)) \ .AndReturn(quota_usages) api.nova.flavor_list(IsA(http.HttpRequest)) \ .AndReturn(self.flavors.list()) self.mox.ReplayAll() form_data = {'flavor': flavor.id, 'source_type': 'image_id', 'source_id': image.id, 'volume_size': '1', 'image_id': image.id, 'availability_zone': avail_zone.zoneName, 'keypair': keypair.name, 'name': server.name, 'script_source': 'raw', 'script_data': customization_script, 'project_id': self.tenants.first().id, 'user_id': self.user.id, 'groups': sec_group.name, 'volume_type': '', 'network': self.networks.first().id, 'count': 1, 'admin_pass': 'password', 'confirm_admin_pass': 'password', 'disk_config': 'AUTO', 'config_drive': False, 'profile': self.policy_profiles.first().id} url = reverse('horizon:project:instances:launch') res = self.client.post(url, form_data) self.assertRedirectsNoFollow(res, INDEX_URL)",,150,2
openstack%2Fcinder~master~Idfc1cd749bfd7aec659ab8e80629cc506cd9797a,openstack/cinder,master,Idfc1cd749bfd7aec659ab8e80629cc506cd9797a,LVM Thin Provisioning auto-detect,MERGED,2014-07-03 19:19:41.000000000,2015-08-17 11:46:09.000000000,2015-08-14 09:19:41.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10115}, {'_account_id': 10271}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13636}, {'_account_id': 13747}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15831}, {'_account_id': 15882}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16258}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2014-07-03 19:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9083fdb383be9056f18a3230caf2779216dd0abc', 'message': 'LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n'}, {'number': 2, 'created': '2015-07-08 22:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2ea358fc526efb5410df689a5eca54634c1f97e', 'message': 'LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n'}, {'number': 3, 'created': '2015-07-08 22:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2edd982230d6bedcd8a3811a789409579df2a2c3', 'message': 'LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n'}, {'number': 4, 'created': '2015-07-09 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/836b364ba79b7d08e0626c120c6e4e5e6cb9d9b2', 'message': ""LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nDocImpact: new value 'auto' for option 'lvm_type'\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n""}, {'number': 5, 'created': '2015-07-13 19:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68044b19a357fb958fbfa77513b88b05a82c7590', 'message': ""LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nDocImpact: new value 'auto' for option 'lvm_type'\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n""}, {'number': 6, 'created': '2015-07-23 13:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da863368500def4554c815ea86181a480d3e1b83', 'message': ""LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nDocImpact: new value 'auto' for option 'lvm_type'\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n""}, {'number': 7, 'created': '2015-07-23 16:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cf18da8c41bde7ca9ad2ccbff8516993020b7dc', 'message': ""LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nDocImpact: new value 'auto' for option 'lvm_type'\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n""}, {'number': 8, 'created': '2015-08-12 14:52:58.000000000', 'files': ['cinder/tests/unit/test_volume.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73746bf94f0433cf96489c3e0c8df226664d395a', 'message': ""LVM Thin Provisioning auto-detect\n\nAdd the ability to set lvm_type=auto, which will\nenable thin provisioning if the system supports it,\nand the configured volume group either:\na) has a pool LV with the expected name or\nb) has no LVs\n\nThis, along with thin-provisioning accounting, will\ngive a path to move toward thin LVM as the default.\n\nDocImpact: new value 'auto' for option 'lvm_type'\n\nPartial-Bug: #1472803\n\nChange-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a\n""}]",17,104653,73746bf94f0433cf96489c3e0c8df226664d395a,228,62,8,4523,,,0,"LVM Thin Provisioning auto-detect

Add the ability to set lvm_type=auto, which will
enable thin provisioning if the system supports it,
and the configured volume group either:
a) has a pool LV with the expected name or
b) has no LVs

This, along with thin-provisioning accounting, will
give a path to move toward thin LVM as the default.

DocImpact: new value 'auto' for option 'lvm_type'

Partial-Bug: #1472803

Change-Id: Idfc1cd749bfd7aec659ab8e80629cc506cd9797a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/104653/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/cinder.conf.sample', 'cinder/volume/drivers/lvm.py']",2,9083fdb383be9056f18a3230caf2779216dd0abc,bug/1472803," help='Type of LVM volumes to deploy; (default, thin, or auto). ' 'Auto defaults to thin if thin is supported.'), pool_name = ""%s-pool"" % self.configuration.volume_group if self.configuration.lvm_type == 'auto': # Default to thin provisioning if it is supported and # the volume group is empty, or contains a thin pool # for us to use. self.vg.update_volume_group_info() self.configuration.lvm_type = 'default' if volutils.supports_thin_provisioning(): if self.vg.get_volume(pool_name) is not None: LOG.info(_('Enabling LVM thin provisioning by default ' 'because a thin pool exists.')) self.configuration.lvm_type = 'thin' elif len(self.vg.get_volumes()) == 0: LOG.info(_('Enabling LVM thin provisioning by default ' 'because no LVs exist.')) self.configuration.lvm_type = 'thin' "," help='Type of LVM volumes to deploy; (default or thin)'), pool_name = ""%s-pool"" % self.configuration.volume_group",24,4
openstack%2Foperations-guide~master~Ic80788235b32c6440150fd9788839cf4edef11c4,openstack/operations-guide,master,Ic80788235b32c6440150fd9788839cf4edef11c4,Updated from openstack-manuals,MERGED,2015-08-17 11:22:44.000000000,2015-08-17 11:42:40.000000000,2015-08-17 11:42:39.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-17 11:22:44.000000000', 'files': ['doc/glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/14ed51419df1f1f1b096774555820f55b275ba25', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ic80788235b32c6440150fd9788839cf4edef11c4\n'}]",0,213674,14ed51419df1f1f1b096774555820f55b275ba25,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ic80788235b32c6440150fd9788839cf4edef11c4
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/74/213674/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/zh_CN.po'],1,14ed51419df1f1f1b096774555820f55b275ba25,openstack/openstack-manuals,"""POT-Creation-Date: 2015-08-16 07:37+0000\n"" ""PO-Revision-Date: 2015-08-17 03:47+0000\n""msgid ""Load-Balancer-as-a-Service (LBaaS)"" msgstr ""Load-Balancer-as-a-Service (LBaaS)"" ","""POT-Creation-Date: 2015-08-06 05:15+0000\n"" ""PO-Revision-Date: 2015-08-05 16:32+0000\n""",5,2
openstack%2Fha-guide~master~I1deccdc061fd1f536ffffcac793186692b299336,openstack/ha-guide,master,I1deccdc061fd1f536ffffcac793186692b299336,Updated from openstack-manuals,MERGED,2015-08-17 11:22:40.000000000,2015-08-17 11:39:44.000000000,2015-08-17 11:39:44.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-17 11:22:40.000000000', 'files': ['doc/glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/ffe3a76f8c9db63dbc7ae7935fa9b718beb7995f', 'message': 'Updated from openstack-manuals\n\nChange-Id: I1deccdc061fd1f536ffffcac793186692b299336\n'}]",0,213673,ffe3a76f8c9db63dbc7ae7935fa9b718beb7995f,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I1deccdc061fd1f536ffffcac793186692b299336
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/73/213673/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/zh_CN.po'],1,ffe3a76f8c9db63dbc7ae7935fa9b718beb7995f,openstack/openstack-manuals,"""POT-Creation-Date: 2015-08-16 07:37+0000\n"" ""PO-Revision-Date: 2015-08-17 03:47+0000\n""msgid ""Load-Balancer-as-a-Service (LBaaS)"" msgstr ""Load-Balancer-as-a-Service (LBaaS)"" ","""POT-Creation-Date: 2015-08-06 05:15+0000\n"" ""PO-Revision-Date: 2015-08-05 16:32+0000\n""",5,2
openstack%2Fcinder~master~Ie903e546074fe118299e8e1acfb9c88c8a10d78c,openstack/cinder,master,Ie903e546074fe118299e8e1acfb9c88c8a10d78c,On Volume list only retrieve needed data from DB,MERGED,2015-08-12 18:02:22.000000000,2015-08-17 11:33:33.000000000,2015-08-14 23:32:29.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12032}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-12 18:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9afbdd910fd5e287410f907dee677cc84508c2ea', 'message': 'On Volume list only retrieve needed data from DB\n\nCurrently when there is no limit set on a volume list query we retrieve\nall volumes and then limit them locally using osapi_max_limit.  Similar\nthing happens when we are using the marker for next pages, we get all\nvolumes from that marker until the last volume and then limit it\nlocally.\n\nWe should be limiting it on the DB side so we only retrieve the data we\nare actually going to return to the API caller.\n\nThis patch always limits the data retrieved from the DB and for the\noffset to keep working as it was before we need to do the offset on the\nDB side as well.\n\nCloses-bug:#1483165\nChange-Id: Ie903e546074fe118299e8e1acfb9c88c8a10d78c\n'}, {'number': 2, 'created': '2015-08-13 15:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33516d9a7b9eaab57f16490e239561b3ee11377d', 'message': 'On Volume list only retrieve needed data from DB\n\nCurrently when there is no limit set on a volume list query we retrieve\nall volumes and then limit them locally using osapi_max_limit.  Similar\nthing happens when we are using the marker for next pages, we get all\nvolumes from that marker until the last volume and then limit it\nlocally.\n\nWe should be limiting it on the DB side so we only retrieve the data we\nare actually going to return to the API caller.\n\nThis patch always limits the data retrieved from the DB and for the\noffset to keep working as it was before we need to do the offset on the\nDB side as well.\n\nFor reference some tests were performed:\n\nOn a deployment with 60,000 volumes, 370,000 volume_metadata items and\n240,000 volume_glance_metadata items in cinder db.  Before the patch\nthis will use nearly 10G memory.  With the patch we will just use about\n500M.\n\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\nCloses-bug:#1483165i\nChange-Id: Ie903e546074fe118299e8e1acfb9c88c8a10d78c\n'}, {'number': 3, 'created': '2015-08-14 08:07:37.000000000', 'files': ['cinder/api/v2/views/volumes.py', 'cinder/tests/unit/api/v1/test_volumes.py', 'cinder/api/common.py', 'cinder/api/v2/volumes.py', 'cinder/db/api.py', 'cinder/common/sqlalchemyutils.py', 'cinder/tests/unit/api/v2/stubs.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/test_common.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28879f9a78020a64992f278edd8692ecbbd4a56c', 'message': 'On Volume list only retrieve needed data from DB\n\nCurrently when there is no limit set on a volume list query we retrieve\nall volumes and then limit them locally using osapi_max_limit.  Similar\nthing happens when we are using the marker for next pages, we get all\nvolumes from that marker until the last volume and then limit it\nlocally.\n\nWe should be limiting it on the DB side so we only retrieve the data we\nare actually going to return to the API caller.\n\nThis patch always limits the data retrieved from the DB and for the\noffset to keep working as it was before we need to do the offset on the\nDB side as well.\n\nFor reference some tests were performed:\n\nOn a deployment with 60,000 volumes, 370,000 volume_metadata items and\n240,000 volume_glance_metadata items in cinder db.  Before the patch\nthis will use nearly 10G memory.  With the patch we will just use about\n500M.\n\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\nCloses-bug:#1483165i\nChange-Id: Ie903e546074fe118299e8e1acfb9c88c8a10d78c\n'}]",9,212126,28879f9a78020a64992f278edd8692ecbbd4a56c,86,37,3,9535,,,0,"On Volume list only retrieve needed data from DB

Currently when there is no limit set on a volume list query we retrieve
all volumes and then limit them locally using osapi_max_limit.  Similar
thing happens when we are using the marker for next pages, we get all
volumes from that marker until the last volume and then limit it
locally.

We should be limiting it on the DB side so we only retrieve the data we
are actually going to return to the API caller.

This patch always limits the data retrieved from the DB and for the
offset to keep working as it was before we need to do the offset on the
DB side as well.

For reference some tests were performed:

On a deployment with 60,000 volumes, 370,000 volume_metadata items and
240,000 volume_glance_metadata items in cinder db.  Before the patch
this will use nearly 10G memory.  With the patch we will just use about
500M.

Co-Authored-By: wangxiyuan <wangxiyuan@huawei.com>
Closes-bug:#1483165i
Change-Id: Ie903e546074fe118299e8e1acfb9c88c8a10d78c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/212126/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/views/volumes.py', 'cinder/tests/unit/api/v1/test_volumes.py', 'cinder/api/common.py', 'cinder/api/v2/volumes.py', 'cinder/common/sqlalchemyutils.py', 'cinder/db/api.py', 'cinder/tests/unit/api/v2/stubs.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/test_common.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/volume/api.py']",11,9afbdd910fd5e287410f907dee677cc84508c2ea,bp/extend-limit-implementations," sort_dirs=None, filters=None, viewable_admin_meta=False, offset=None): filters=filters, offset=offset) filters=filters, offset=offset)"," sort_dirs=None, filters=None, viewable_admin_meta=False): filters=filters) filters=filters)",296,342
openstack%2Fhorizon~master~I88fddf9b18f67af812ae86b539ea28f5e3643a86,openstack/horizon,master,I88fddf9b18f67af812ae86b539ea28f5e3643a86,Create and update project fail when using keystone V3,ABANDONED,2015-07-10 06:38:37.000000000,2015-08-17 11:30:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6162}, {'_account_id': 8040}, {'_account_id': 11098}, {'_account_id': 13325}, {'_account_id': 13785}, {'_account_id': 14151}, {'_account_id': 16249}]","[{'number': 1, 'created': '2015-07-10 06:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/74ea663f2ffff4f635d2088cdfd9b2e2249f374a', 'message': ""Create new project fail when using keystone V3\n\nWhen using keystone V3, creating new project always fails\nwith name of project is already used, although the name isn't\nduplicated. This patch fixes for this issue.\n\nChange-Id: I88fddf9b18f67af812ae86b539ea28f5e3643a86\nCloses-Bug: #1473277\n""}, {'number': 2, 'created': '2015-07-15 04:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eadaaa0c37deeca1fbf4bb58ea7f0b48a636b401', 'message': ""Create new project fail when using keystone V3\n\nWhen using keystone V3, creating new project always fails\nwith name of project is already used, although the name isn't\nduplicated. The name validation should handle by keystone.\nIn horizon, the conflict name error is caught and then displaying\nthe appropriate error message.\n\nChange-Id: I88fddf9b18f67af812ae86b539ea28f5e3643a86\nCloses-Bug: #1473277\nCloses-Bug: #1462011\nCloses-Bug: #1460804\n""}, {'number': 3, 'created': '2015-07-15 06:40:01.000000000', 'files': ['openstack_dashboard/dashboards/identity/projects/tests.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aba81c18f4def2ace7656da4d3288b2429f5f2fd', 'message': ""Create and update project fail when using keystone V3\n\nWhen using keystone V3, creating and update project always fails\nwith name of project is already used, although the name isn't\nduplicated. The name validation should be handled by keystone.\nIn horizon, the conflict name error is caught and then displaying\nthe appropriate error message.\n\nChange-Id: I88fddf9b18f67af812ae86b539ea28f5e3643a86\nCloses-Bug: #1473277\nCloses-Bug: #1462011\nCloses-Bug: #1460804\n""}]",4,200396,aba81c18f4def2ace7656da4d3288b2429f5f2fd,28,11,3,16249,,,0,"Create and update project fail when using keystone V3

When using keystone V3, creating and update project always fails
with name of project is already used, although the name isn't
duplicated. The name validation should be handled by keystone.
In horizon, the conflict name error is caught and then displaying
the appropriate error message.

Change-Id: I88fddf9b18f67af812ae86b539ea28f5e3643a86
Closes-Bug: #1473277
Closes-Bug: #1462011
Closes-Bug: #1460804
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/200396/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/projects/tests.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py']",2,74ea663f2ffff4f635d2088cdfd9b2e2249f374a,horizon1473277," tenant, has_more = api.keystone.tenant_list(", tenant = api.keystone.tenant_list(,2,2
openstack%2Foslo.log~master~I4d9848485d08272900aafde0c75b1661c6dbc7a4,openstack/oslo.log,master,I4d9848485d08272900aafde0c75b1661c6dbc7a4,Update single letter release names to full names,MERGED,2015-08-13 23:18:24.000000000,2015-08-17 11:24:48.000000000,2015-08-17 11:24:46.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7634}, {'_account_id': 9656}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-08-13 23:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d35ed13d3016d9f45ac27e9fe3769f59a71c9874', 'message': ""Fix 'M' release name to 'Mitaka'\n\nArugment help string uses 'M'.  Update it to use 'Mitaka'\n\nChange-Id: I4d9848485d08272900aafde0c75b1661c6dbc7a4\n""}, {'number': 2, 'created': '2015-08-13 23:50:12.000000000', 'files': ['oslo_log/_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7c63c32e33046a62d1b4a9e102532178c387f584', 'message': ""Update single letter release names to full names\n\nArgument help string has 'K' and 'M' for release names.  Update to use\n'Kilo' and 'Mitaka'.\n\nChange-Id: I4d9848485d08272900aafde0c75b1661c6dbc7a4\n""}]",0,212833,7c63c32e33046a62d1b4a9e102532178c387f584,13,5,2,14760,,,0,"Update single letter release names to full names

Argument help string has 'K' and 'M' for release names.  Update to use
'Kilo' and 'Mitaka'.

Change-Id: I4d9848485d08272900aafde0c75b1661c6dbc7a4
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/33/212833/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/_options.py'],1,d35ed13d3016d9f45ac27e9fe3769f59a71c9874,," 'and will be removed in Mitaka, along with this option.'),"," 'and will be removed in M, along with this option.'),",1,1
openstack%2Fopenstack-manuals~master~I24b4be658ddd398e5b6145e040d0fb73ea1002d3,openstack/openstack-manuals,master,I24b4be658ddd398e5b6145e040d0fb73ea1002d3,Imported Translations from Transifex,MERGED,2015-08-17 06:38:58.000000000,2015-08-17 11:19:08.000000000,2015-08-17 11:19:05.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-17 06:38:58.000000000', 'files': ['doc/arch-design/locale/arch-design.pot', 'doc/glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ad9a57903bf32c3c7f95821177b2bfa709db38e8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I24b4be658ddd398e5b6145e040d0fb73ea1002d3\n'}]",0,213614,ad9a57903bf32c3c7f95821177b2bfa709db38e8,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I24b4be658ddd398e5b6145e040d0fb73ea1002d3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/14/213614/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/locale/arch-design.pot', 'doc/glossary/locale/zh_CN.po']",2,ad9a57903bf32c3c7f95821177b2bfa709db38e8,transifex/translations,"""POT-Creation-Date: 2015-08-16 07:37+0000\n"" ""PO-Revision-Date: 2015-08-17 03:47+0000\n""msgid ""Load-Balancer-as-a-Service (LBaaS)"" msgstr ""Load-Balancer-as-a-Service (LBaaS)"" ","""POT-Creation-Date: 2015-08-06 05:15+0000\n"" ""PO-Revision-Date: 2015-08-05 16:32+0000\n""",145,150
openstack%2Fdragonflow~master~I6d0d3eddf5817129dcddfcaec525fa9553512359,openstack/dragonflow,master,I6d0d3eddf5817129dcddfcaec525fa9553512359,Adjust DB to publish subscribe,MERGED,2015-08-13 13:14:40.000000000,2015-08-17 11:12:01.000000000,2015-08-17 11:12:00.000000000,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-13 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2146d83026723c97c24e0b8b07c20a8e1e96504e', 'message': 'Adjust DB to publish subscribe\n\nChange-Id: I6d0d3eddf5817129dcddfcaec525fa9553512359\n'}, {'number': 2, 'created': '2015-08-17 06:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/73ac9c829e9eafc2b597e8d689f9b2680525274b', 'message': 'Adjust DB to publish subscribe\n\nChange-Id: I6d0d3eddf5817129dcddfcaec525fa9553512359\n'}, {'number': 3, 'created': '2015-08-17 09:17:50.000000000', 'files': ['devstack/plugin.sh', 'dragonflow/controller/df_local_controller.py', 'dragonflow/db/api_nb.py', 'dragonflow/db/drivers/etcd_nb_impl.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ab3cb9927e3bd5530078326c8677ec3381d14530', 'message': 'Adjust DB to publish subscribe\n\nChange-Id: I6d0d3eddf5817129dcddfcaec525fa9553512359\n'}]",3,212520,ab3cb9927e3bd5530078326c8677ec3381d14530,12,3,3,11343,,,0,"Adjust DB to publish subscribe

Change-Id: I6d0d3eddf5817129dcddfcaec525fa9553512359
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/20/212520/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'dragonflow/controller/df_local_controller.py', 'dragonflow/db/api_nb.py', 'dragonflow/db/drivers/etcd_nb_impl.py']",4,2146d83026723c97c24e0b8b07c20a8e1e96504e,publish_subscribe," self.current_key = 0 self.controller = None def support_watch(self): return True def watch(self, controller): self.controller = controller while True: self._poll_for_data_changes() # TODO(gsagie) implement this to send the updates to a controller local # queue which will process these updates def _poll_for_data_changes(self): try: entry = self.client.read('/', wait=True, recursive=True, waitIndex=self.current_key) self.controller.vswitch_api.sync() if 'lport' in entry.key: if entry.action == 'set' or entry.action == 'create': lport = EtcdLogicalPort(entry.value) self.controller.logical_port_updated(lport) else: # delete lport_id = entry.key.split('/')[2] self.controller.logical_port_deleted(lport_id) if 'lrouter' in entry.key: if entry.action == 'set' or entry.action == 'create': lrouter = EtcdLogicalRouter(entry.value) self.controller.router_updated(lrouter) else: # delete lrouter_id = entry.key.split('/')[2] self.controller.router_deleted(lrouter_id) if 'chassis' in entry.key: if entry.action == 'set' or entry.action == 'create': chassis = EtcdChassis(entry.value) self.controller.chassis_created(chassis) else: # delete chassis_id = entry.key.split('/')[2] self.controller.chassis_deleted(chassis_id) self.current_key = entry.modifiedIndex + 1 except Exception: pass ",,76,15
openstack%2Fmagnum~master~If1673ce06646142cd153803a100fe9c2c0f01dfa,openstack/magnum,master,If1673ce06646142cd153803a100fe9c2c0f01dfa,Switched to Ubuntu 14.04 LTS (Trusty) base image,MERGED,2015-08-11 21:57:23.000000000,2015-08-17 11:07:42.000000000,2015-08-17 11:07:40.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 7858}, {'_account_id': 8143}, {'_account_id': 9591}, {'_account_id': 10263}, {'_account_id': 11536}, {'_account_id': 11650}, {'_account_id': 12053}]","[{'number': 1, 'created': '2015-08-11 21:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/64c9b4e076e74e0bdaeef6d5314c320e1a39406c', 'message': 'Switched to Ubuntu 14.04 LTS (Trusty) base image\n\nIt looks like loop devices works differently with Vivid and it make sense to use latest LTS release instead.\n\nCloses-Bug: #1483085\nChange-Id: If1673ce06646142cd153803a100fe9c2c0f01dfa\n'}, {'number': 2, 'created': '2015-08-11 22:10:35.000000000', 'files': ['magnum/templates/heat-mesos/Dockerfile'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0906682afdc30791fa067cdf0c1c7fe75fb83c53', 'message': 'Switched to Ubuntu 14.04 LTS (Trusty) base image\n\nIt looks like loop devices works differently with Vivid and it make\nsense to use latest LTS release instead.\n\nCloses-Bug: #1483085\nChange-Id: If1673ce06646142cd153803a100fe9c2c0f01dfa\n'}]",2,211761,0906682afdc30791fa067cdf0c1c7fe75fb83c53,18,11,2,8143,,,0,"Switched to Ubuntu 14.04 LTS (Trusty) base image

It looks like loop devices works differently with Vivid and it make
sense to use latest LTS release instead.

Closes-Bug: #1483085
Change-Id: If1673ce06646142cd153803a100fe9c2c0f01dfa
",git fetch https://review.opendev.org/openstack/magnum refs/changes/61/211761/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/templates/heat-mesos/Dockerfile'],1,64c9b4e076e74e0bdaeef6d5314c320e1a39406c,bug/1483085,FROM ubuntu:trusty,FROM ubuntu:vivid,1,1
openstack%2Fneutron~master~Id548ec4fd72b4131a025bd94f62337350ae60020,openstack/neutron,master,Id548ec4fd72b4131a025bd94f62337350ae60020,DO NOT MERGE: search failing py34 tests,ABANDONED,2015-07-29 14:15:49.000000000,2015-08-17 11:04:17.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 9107}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-07-29 14:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5504a212b44e10d18de35431972021b215db3338', 'message': 'DO NOT MERGE: search failing py34 tests\n\nChange-Id: Id548ec4fd72b4131a025bd94f62337350ae60020\n'}, {'number': 2, 'created': '2015-07-29 14:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/457ec8a519eb36787650f05b483cf562dbd57928', 'message': 'DO NOT MERGE: search failing py34 tests\n\nChange-Id: Id548ec4fd72b4131a025bd94f62337350ae60020\n'}, {'number': 3, 'created': '2015-08-13 10:33:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae41e6c97214a17e7f1106d7b34a8e50619b97db', 'message': 'DO NOT MERGE: search failing py34 tests\n\nChange-Id: Id548ec4fd72b4131a025bd94f62337350ae60020\n'}]",0,207066,ae41e6c97214a17e7f1106d7b34a8e50619b97db,42,17,3,8124,,,0,"DO NOT MERGE: search failing py34 tests

Change-Id: Id548ec4fd72b4131a025bd94f62337350ae60020
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/207066/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5504a212b44e10d18de35431972021b215db3338,207066,,[testenv:py34] commands = python -m testtools.run \ neutron.tests.unit.services.metering.drivers.test_iptables \ neutron.tests.unit.services.metering.agents.test_metering_agent \ neutron.tests.unit.services.l3_router.test_l3_apic \ neutron.tests.unit.services.test_provider_configuration \ neutron.tests.unit.plugins.ml2.drivers.mech_sriov.agent.test_sriov_nic_agent \ neutron.tests.unit.plugins.ml2.drivers.mech_sriov.agent.test_eswitch_manager \ neutron.tests.unit.plugins.ml2.drivers.mech_sriov.agent.common.test_config \ neutron.tests.unit.plugins.ml2.drivers.mech_sriov.agent.test_pci_lib \ neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent.ovs_test_base \ neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent.openflow.ovs_ofctl.test_br_phys \ neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent.openflow.ovs_ofctl.test_br_int \ neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent.openflow.ovs_ofctl.test_br_tun \ neutron.tests.unit.plugins.brocade.test_brocade_db \ neutron.tests.unit.plugins.brocade.test_brocade_vlan \ neutron.tests.unit.plugins.oneconvergence.test_nvsd_agent \ neutron.tests.unit.plugins.oneconvergence.test_plugin_helper \ neutron.tests.unit.plugins.oneconvergence.test_nvsdlib \ neutron.tests.unit.plugins.ibm.test_sdnve_agent \ neutron.tests.unit.plugins.ibm.test_sdnve_api \ neutron.tests.unit.plugins.ml2.test_db \ neutron.tests.unit.plugins.ml2.test_driver_context \ neutron.tests.unit.plugins.ml2.test_port_binding \ neutron.tests.unit.plugins.ml2.test_extension_driver_api \ neutron.tests.unit.plugins.ml2.test_rpc \ neutron.tests.unit.plugins.ml2.drivers.mlnx.test_mech_mlnx \ neutron.tests.unit.plugins.ml2.drivers.openvswitch.mech_driver.test_mech_openvswitch \ neutron.tests.unit.plugins.ml2.drivers.linuxbridge.mech_driver.test_mech_linuxbridge \ neutron.tests.unit.plugins.ml2.drivers.linuxbridge.agent.test_linuxbridge_neutron_agent \ neutron.tests.unit.plugins.ml2.drivers.base_type_tunnel \ neutron.tests.unit.plugins.ml2.drivers.opendaylight.test_driver \ neutron.tests.unit.plugins.ml2.drivers.ext_test \ neutron.tests.unit.plugins.ml2.drivers.mech_sriov.mech_driver.test_mech_sriov_nic_switch \ neutron.tests.unit.plugins.ml2.drivers.mech_fake_agent \ neutron.tests.unit.plugins.ml2.drivers.test_type_vxlan \ neutron.tests.unit.plugins.ml2.drivers.test_type_gre \ neutron.tests.unit.plugins.ml2.drivers.test_helpers \ neutron.tests.unit.plugins.ml2.drivers.arista.test_mechanism_arista \ neutron.tests.unit.plugins.ml2.drivers.test_type_local \ neutron.tests.unit.plugins.ml2.drivers.mechanism_logger \ neutron.tests.unit.plugins.ml2.drivers.cisco.apic.test_apic_sync \ neutron.tests.unit.plugins.ml2.drivers.cisco.apic.base \ neutron.tests.unit.plugins.ml2.drivers.cisco.apic.test_apic_topology \ neutron.tests.unit.plugins.ml2.drivers.test_type_flat \ neutron.tests.unit.plugins.ml2.drivers.test_type_vlan \ neutron.tests.unit.plugins.ml2.drivers.mechanism_test \ neutron.tests.unit.plugins.ml2.drivers.l2pop.rpc_manager.l2population_rpc_base \ neutron.tests.unit.plugins.ml2.extensions.fake_extension \ neutron.tests.unit.plugins.ml2.drivers.l2pop.rpc_manager.test_l2population_rpc \ neutron.tests.unit.plugins.ml2.drivers.l2pop.test_mech_driver \ neutron.tests.unit.plugins.cisco.n1kv.test_n1kv_db \ neutron.tests.unit.plugins.cisco.n1kv.fake_client \ neutron.tests.unit.plugins.cisco.test_network_db \ neutron.tests.unit.scheduler.test_dhcp_agent_scheduler \ neutron.tests.unit.db.test_ipam_backend_mixin \ neutron.tests.unit.db.test_l3_dvr_db \ neutron.tests.unit.db.test_ipam_pluggable_backend \ neutron.tests.unit.db.test_migration \ neutron.tests.unit.db.test_agents_db \ neutron.tests.unit.db.test_dvr_mac_db \ neutron.tests.unit.debug.test_commands \ neutron.tests.unit.tests.test_post_mortem_debug \ neutron.tests.unit.tests.test_base \ neutron.tests.unit.database_stubs \ neutron.tests.unit.dummy_plugin \ neutron.tests.unit.extension_stubs \ neutron.tests.unit.testlib_api \ neutron.tests.unit.api.test_api_common \ neutron.tests.unit.api.rpc.handlers.test_dhcp_rpc \ neutron.tests.unit.api.rpc.handlers.test_securitygroups_rpc \ neutron.tests.unit.api.rpc.handlers.test_dvr_rpc \ neutron.tests.unit.api.rpc.agentnotifiers.test_dhcp_rpc_agent_api \ neutron.tests.unit.agent.metadata.test_driver \ neutron.tests.unit.agent.test_rpc \ neutron.tests.unit.agent.test_securitygroups_rpc \ neutron.tests.unit.agent.l3.test_link_local_allocator \ neutron.tests.unit.agent.l3.test_ha_router \ neutron.tests.unit.agent.l3.test_legacy_router \ neutron.tests.unit.agent.l3.test_router_info \ neutron.tests.unit.agent.l3.test_router_processing_queue \ neutron.tests.unit.agent.l3.test_namespace_manager \ neutron.tests.unit.agent.l3.test_dvr_fip_ns \ neutron.tests.unit.agent.ovsdb.native.test_helpers \ neutron.tests.unit.agent.common.test_config \ neutron.tests.unit.agent.common.test_polling \ neutron.tests.unit.agent.common.test_utils \ neutron.tests.unit.agent.linux.test_ip_lib \ neutron.tests.unit.agent.linux.test_keepalived \ neutron.tests.unit.agent.linux.test_daemon \ neutron.tests.unit.agent.linux.test_ipset_manager \ neutron.tests.unit.agent.linux.test_iptables_firewall \ neutron.tests.unit.agent.linux.test_ebtables_manager \ neutron.tests.unit.agent.linux.test_iptables_firewall \ neutron.tests.unit.agent.linux.test_ebtables_driver \ neutron.tests.unit.agent.linux.test_polling \ neutron.tests.unit.agent.linux.test_ip_lib \ neutron.tests.unit.agent.linux.test_ip_monitor \ neutron.tests.unit.agent.linux.test_iptables_manager \ neutron.tests.unit.agent.linux.test_external_process \ neutron.tests.unit.agent.linux.test_async_process \ neutron.tests.unit.agent.linux.test_ovsdb_monitor \ neutron.tests.unit.agent.linux.test_bridge_lib \ neutron.tests.unit.agent.linux.test_ip_link_support \ neutron.tests.unit.agent.linux.test_interface \ neutron.tests.unit.test_manager \ neutron.tests.unit.test_service \ neutron.tests.unit.test_auth \ neutron.tests.unit.test_policy \ neutron.tests.unit.extensions.v2attributes \ neutron.tests.unit.extensions.test_l3_ext_gw_mode \ neutron.tests.unit.extensions.test_extra_dhcp_opt \ neutron.tests.unit.extensions.extendedattribute \ neutron.tests.unit.extensions.base \ neutron.tests.unit.extensions.foxinsocks \ neutron.tests.unit.extensions.extensionattribute \ neutron.tests.unit.extensions.test_servicetype \ neutron.tests.unit.extensions.test_portsecurity \ neutron.tests.unit.extensions.test_providernet \ neutron.tests.unit.callbacks.test_manager \ neutron.tests.unit.hacking.test_checks \ neutron.tests.unit.common.test_config \ neutron.tests.unit.common.test_rpc \ neutron.tests.unit.common.test_ipv6_utils \ neutron.tests.unit.cmd.test_ovs_cleanup \ neutron.tests.unit.cmd.test_netns_cleanup \ neutron.tests.unit.ipam.drivers.neutrondb_ipam.test_db_api \ neutron.tests.unit.ipam.drivers.neutrondb_ipam.test_driver \ neutron.tests.unit.ipam.test_subnet_alloc \ neutron.tests.unit.ipam.test_utils \ neutron.tests.unit.ipam.test_requests \ neutron.tests.unit.notifiers.test_nova \ neutron.tests.unit.notifiers.test_batch_notifier ,0,134
openstack%2Foperations-guide~master~I0e5134ac8b7e877af2b6ee102ac3083b9c06f461,openstack/operations-guide,master,I0e5134ac8b7e877af2b6ee102ac3083b9c06f461,Imported Translations from Transifex,MERGED,2015-08-17 06:05:32.000000000,2015-08-17 11:04:03.000000000,2015-08-17 10:34:49.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-17 06:05:32.000000000', 'files': ['doc/openstack-ops/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/9602d6ea0a04cacbad1c1d7fca574524ec8f1873', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I0e5134ac8b7e877af2b6ee102ac3083b9c06f461\n'}]",0,213605,9602d6ea0a04cacbad1c1d7fca574524ec8f1873,8,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I0e5134ac8b7e877af2b6ee102ac3083b9c06f461
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/05/213605/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/ja.po'],1,9602d6ea0a04cacbad1c1d7fca574524ec8f1873,transifex/translations,"""POT-Creation-Date: 2015-08-16 07:26+0000\n"" ""PO-Revision-Date: 2015-08-17 01:02+0000\n""msgid """" ""(Optional) If you've logged in to your instance as the root user, you must "" ""create a \""stack\"" user; otherwise you'll run into permission issues. If "" ""you've logged in as a user other than root, you can skip these steps:"" msgstr """" ""()  root stack"" """" ""root "" """" msgid """" ""Also check that all services are functioning. The following set of commands "" ""sources the <code>openrc</code> file, then runs some basic glance, nova, and "" ""keystone commands. If the commands work as expected, you can be confident "" ""that those services are in working condition:"" msgstr """" """" ""<code>openrc</code>  "" ""glanecnovakeystone "" """" ""Compute nodes can fail the same way a cloud controller can fail. A "" ""motherboard failure or some other type of hardware failure can cause an "" ""entire compute node to go offline. When this happens, all instances running "" ""on that compute node will not be available. Just like with a cloud "" ""controller failure, if your infrastructure monitoring does not detect a "" ""failed compute node, your users will notify you because of their lost "" ""instances.<indexterm class=\""singular\""><primary>compute nodes</"" ""primary><secondary>failures</secondary></indexterm><indexterm class="" ""\""singular\""><primary>maintenance/debugging</primary><secondary>compute node "" ""total failures</secondary></indexterm>"" msgstr """" """" """" """" """" """" ""<indexterm "" ""class=\""singular\""><primary>compute nodes</primary><secondary>failures</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>maintenance/"" ""debugging</primary><secondary>compute node total failures</secondary></"" ""indexterm>"" msgid """"msgid """" ""Resource alerting provides notifications when one or more resources are "" ""critically low. While the monitoring thresholds should be tuned to your "" ""specific OpenStack environment, monitoring resource usage is not specific to "" ""OpenStack at allany generic type of alert will work fine.<indexterm class="" ""\""singular\""><primary>monitoring</primary><secondary>resource alerting</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>alerts</"" ""primary><secondary>resource</secondary></indexterm><indexterm class="" ""\""singular\""><primary>resources</primary><secondary>resource alerting</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>logging/"" ""monitoring</primary><secondary>resource alerting</secondary></indexterm>"" msgstr """" ""1 "" "" OpenStack "" "" OpenStack "" ""<indexterm class=\""singular"" ""\""><primary>monitoring</primary><secondary>resource alerting</secondary></"" ""indexterm><indexterm class=\""singular\""><primary>alerts</"" ""primary><secondary>resource</secondary></indexterm><indexterm class="" ""\""singular\""><primary>resources</primary><secondary>resource alerting</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>logging/"" ""monitoring</primary><secondary>resource alerting</secondary></indexterm>"" ""The cloud controller could completely fail if, for example, its motherboard "" ""goes bad. Users will immediately notice the loss of a cloud controller since "" ""it provides core functionality to your cloud environment. If your "" ""infrastructure monitoring does not alert you that your cloud controller has "" ""failed, your users definitely will. Unfortunately, this is a rough "" ""situation. The cloud controller is an integral part of your cloud. If you "" ""have only one controller, you will have many missing services if it goes "" ""down.<indexterm class=\""singular\""><primary>cloud controllers</"" ""primary><secondary>total failure of</secondary></indexterm><indexterm class="" ""\""singular\""><primary>maintenance/debugging</primary><secondary>cloud "" ""controller total failure</secondary></indexterm>"" msgstr """" """" """" """" """" """" "" 1 "" ""<indexterm class=\""singular\""><primary>cloud "" ""controllers</primary><secondary>total failure of</secondary></"" ""indexterm><indexterm class=\""singular\""><primary>maintenance/debugging</"" ""primary><secondary>cloud controller total failure</secondary></indexterm>"" msgid """"msgid """" ""To create a development environment, you can use DevStack. DevStack is "" ""essentially a collection of shell scripts and configuration files that "" ""builds an OpenStack development environment for you. You use it to create "" ""such an environment for developing a new feature.<indexterm class=\""singular"" ""\""><primary>customization</primary><secondary>development environment "" ""creation for</secondary></indexterm><indexterm class=\""singular"" ""\""><primary>development environments, creating</primary></"" ""indexterm><indexterm class=\""singular\""><primary>DevStack</"" ""primary><secondary>development environment creation</secondary></indexterm>"" msgstr """" ""DevStack DevStack "" ""OpenStack "" ""<indexterm "" ""class=\""singular\""><primary>customization</primary><secondary>development "" ""environment creation for</secondary></indexterm><indexterm class=\""singular"" ""\""><primary>development environments, creating</primary></"" ""indexterm><indexterm class=\""singular\""><primary>DevStack</"" ""primary><secondary>development environment creation</secondary></indexterm>"" ","""POT-Creation-Date: 2015-08-15 07:12+0000\n"" ""PO-Revision-Date: 2015-08-16 00:22+0000\n""",113,2
openstack%2Fheat-specs~master~I1b68ea979bb42b45920b2b34b94de22af62dc83d,openstack/heat-specs,master,I1b68ea979bb42b45920b2b34b94de22af62dc83d,Update the gitignore file,ABANDONED,2015-08-16 15:41:52.000000000,2015-08-17 11:02:38.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 12952}]","[{'number': 1, 'created': '2015-08-16 15:41:52.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/6f9ca7595985e45be62b1f0f72ddeda49b6fccee', 'message': 'Update the gitignore file\n\nUpdate the gitignore file to ignore *.swp.\n\nChange-Id: I1b68ea979bb42b45920b2b34b94de22af62dc83d\n'}]",0,213517,6f9ca7595985e45be62b1f0f72ddeda49b6fccee,5,3,1,12952,,,0,"Update the gitignore file

Update the gitignore file to ignore *.swp.

Change-Id: I1b68ea979bb42b45920b2b34b94de22af62dc83d
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/17/213517/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,6f9ca7595985e45be62b1f0f72ddeda49b6fccee,updateignore,*.swp,,1,0
openstack%2Fmagnum~master~I0312b3670a6cc15e8dc60bb4509d429165469259,openstack/magnum,master,I0312b3670a6cc15e8dc60bb4509d429165469259,Sets FLANNEL_ETCD to 127.0.0.1:2379,MERGED,2015-08-14 22:40:47.000000000,2015-08-17 11:02:28.000000000,2015-08-17 11:02:27.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6836}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 9591}, {'_account_id': 10206}, {'_account_id': 10263}, {'_account_id': 11650}, {'_account_id': 12053}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-08-14 22:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/db4d548bb15e813b47dd905c4cb01eb9421b4781', 'message': 'Incorrect Etcd Port for Flannel\n\nPreviously, the Flannel daemon was using port 4001 to communicate\nwith etcd. This caused flanneld not to start. Since other\nservices require flanneld, this caused a domino effect of\nservice failures.\n\nThis commit updated the etcd ports to 2379/2380, but\ndid not update the flanneld configuration file accordingly:\n\nhttps://git.openstack.org/cgit/openstack/magnum/commit/?id=68bfde02ca1aa77b54657cf61dbe60b62f226748\n\nFixes bug 1485122\n\nChange-Id: I0312b3670a6cc15e8dc60bb4509d429165469259\n'}, {'number': 2, 'created': '2015-08-14 22:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c89d4a1bfe1c96c21a49181aea14074e96475199', 'message': 'Incorrect Etcd Port for Flannel\n\nPreviously, the Flannel daemon was using port 4001 to communicate\nwith etcd. This caused flanneld not to start. Since other\nservices require flanneld, this caused a domino effect of\nservice failures.\n\nThis commit updated the etcd ports to 2379/2380, but\ndid not update the flanneld configuration file accordingly:\n\nhttps://git.openstack.org/cgit/openstack/magnum/commit/?id=68bfde02ca1aa77b54657cf61dbe60b62f226748\n\nFixes bug 1485133\n\nChange-Id: I0312b3670a6cc15e8dc60bb4509d429165469259\n'}, {'number': 3, 'created': '2015-08-16 23:36:47.000000000', 'files': ['magnum/templates/heat-kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5bd5a523068373df9e4e8278d4a1d9b774f65711', 'message': 'Sets FLANNEL_ETCD to 127.0.0.1:2379\n\nThis change sets FLANNEL_ETCD to 127.0.0.1:2379 in\n/etc/sysconfig/flanneld\n\nCloses-Bug: #1485133\n\nChange-Id: I0312b3670a6cc15e8dc60bb4509d429165469259\n'}]",9,213364,5bd5a523068373df9e4e8278d4a1d9b774f65711,21,11,3,6836,,,0,"Sets FLANNEL_ETCD to 127.0.0.1:2379

This change sets FLANNEL_ETCD to 127.0.0.1:2379 in
/etc/sysconfig/flanneld

Closes-Bug: #1485133

Change-Id: I0312b3670a6cc15e8dc60bb4509d429165469259
",git fetch https://review.opendev.org/openstack/magnum refs/changes/64/213364/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/templates/heat-kubernetes/fragments/configure-kubernetes-master.sh'],1,db4d548bb15e813b47dd905c4cb01eb9421b4781,bug_1485133,"sed -i ' /^FLANNEL_ETCD=/ s|=.*|=""http://127.0.0.1:2379""| ' /etc/sysconfig/flanneld",,3,0
openstack%2Ftelemetry-specs~master~I36bf9d219c77bb9d43238a665a08874fe6891a35,openstack/telemetry-specs,master,I36bf9d219c77bb9d43238a665a08874fe6891a35,Update the gitignore file,ABANDONED,2015-08-16 15:39:03.000000000,2015-08-17 11:02:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 12952}]","[{'number': 1, 'created': '2015-08-16 15:39:03.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/6e559be136c68cfc6a2843db56055780b25e36b0', 'message': 'Update the gitignore file\n\nUpdate the gitignore file to ignore *.swp.\n\nChange-Id: I36bf9d219c77bb9d43238a665a08874fe6891a35\n'}]",0,213516,6e559be136c68cfc6a2843db56055780b25e36b0,5,3,1,12952,,,0,"Update the gitignore file

Update the gitignore file to ignore *.swp.

Change-Id: I36bf9d219c77bb9d43238a665a08874fe6891a35
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/16/213516/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,6e559be136c68cfc6a2843db56055780b25e36b0,updateignore,.tox *.swp ,.tox,2,1
openstack%2Fcloudkitty~master~Id1429a471b4408561d40501ac1deaeb3aec650a4,openstack/cloudkitty,master,Id1429a471b4408561d40501ac1deaeb3aec650a4,"Replace assertEqual(None, *) with assertIsNone",MERGED,2015-08-15 16:25:41.000000000,2015-08-17 10:53:11.000000000,2015-08-17 10:53:11.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-08-15 16:25:41.000000000', 'files': ['cloudkitty/tests/test_hashmap.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a759177c76a89ced63aa88ebe353511ab8320cb6', 'message': 'Replace assertEqual(None, *) with assertIsNone\n\nassertIsNone improves readability\n\nChange-Id: Id1429a471b4408561d40501ac1deaeb3aec650a4\n'}]",0,213444,a759177c76a89ced63aa88ebe353511ab8320cb6,6,2,1,15701,,,0,"Replace assertEqual(None, *) with assertIsNone

assertIsNone improves readability

Change-Id: Id1429a471b4408561d40501ac1deaeb3aec650a4
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/44/213444/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/tests/test_hashmap.py'],1,a759177c76a89ced63aa88ebe353511ab8320cb6,replace_assert, self.assertIsNone(new_mapping_db.group_id)," self.assertEqual(None, new_mapping_db.group_id)",1,1
openstack%2Ffuel-library~master~I4ac18aa229f13a9283b9bb0b19f1ce36e43954da,openstack/fuel-library,master,I4ac18aa229f13a9283b9bb0b19f1ce36e43954da,nailgun::cobbler: bootstrap: adjust network configuration timeout,MERGED,2015-08-16 16:06:10.000000000,2015-08-17 10:51:25.000000000,2015-08-17 10:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-08-16 16:06:10.000000000', 'files': ['deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/nailgun/examples/cobbler-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/efe317702f911db5d04c9d2430c98ac4df9ff1c6', 'message': 'nailgun::cobbler: bootstrap: adjust network configuration timeout\n\nlive-boot assumes 15 sec is enough to setup the network interface\nHowever some Ethernet cards might take (much) longer to initialize,\nwhich causes a boot failure. To solve the issue set the timeout to\n2 minutes by default, and make it configurable via the\nBOOTSTRAP/ethdevice_timeout knob in astute.yaml\n\nDocImpact: bootstrap configuration item: ethdevice_timeout\nCloses-Bug: #1485188\nChange-Id: I4ac18aa229f13a9283b9bb0b19f1ce36e43954da\n'}]",0,213519,efe317702f911db5d04c9d2430c98ac4df9ff1c6,19,6,1,13194,,,0,"nailgun::cobbler: bootstrap: adjust network configuration timeout

live-boot assumes 15 sec is enough to setup the network interface
However some Ethernet cards might take (much) longer to initialize,
which causes a boot failure. To solve the issue set the timeout to
2 minutes by default, and make it configurable via the
BOOTSTRAP/ethdevice_timeout knob in astute.yaml

DocImpact: bootstrap configuration item: ethdevice_timeout
Closes-Bug: #1485188
Change-Id: I4ac18aa229f13a9283b9bb0b19f1ce36e43954da
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/19/213519/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/nailgun/examples/cobbler-only.pp']",2,efe317702f911db5d04c9d2430c98ac4df9ff1c6,bug/1485188," $bootstrap_ethdevice_timeout = pick($bootstrap_settings['ethdevice_timeout'], '120') bootstrap_ethdevice_timeout => $bootstrap_ethdevice_timeout,",,6,1
openstack%2Fpython-muranoclient~master~Ie50f47eaa0cf07730d537ae17347e13f9a9054a8,openstack/python-muranoclient,master,Ie50f47eaa0cf07730d537ae17347e13f9a9054a8,Add sanity tests for testing actions with environment CLI command,ABANDONED,2015-08-12 10:32:53.000000000,2015-08-17 10:49:24.000000000,,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 13962}, {'_account_id': 14265}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-08-12 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/059c7b9bbb92e5e599b83049380f443b4099e499', 'message': 'Add sanity tests for testing actions with\nenvironment CLI command\n\nChange-Id: Ie50f47eaa0cf07730d537ae17347e13f9a9054a8\n\nChange-Id: Ie50f47eaa0cf07730d537ae17347e13f9a9054a8\n'}, {'number': 2, 'created': '2015-08-12 10:40:39.000000000', 'files': ['muranoclient/tests/functional/simple_read_only/test_murano.py', 'muranoclient/tests/functional/simple_read_only/murano_test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/144d9b1c6cb3239c4ad79e36a26c6d73f6473faf', 'message': 'Add sanity tests for testing actions with\nenvironment CLI command\n\nChange-Id: Ie50f47eaa0cf07730d537ae17347e13f9a9054a8\n'}]",6,211955,144d9b1c6cb3239c4ad79e36a26c6d73f6473faf,10,5,2,17270,,,0,"Add sanity tests for testing actions with
environment CLI command

Change-Id: Ie50f47eaa0cf07730d537ae17347e13f9a9054a8
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/55/211955/2 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/tests/functional/simple_read_only/test_murano.py', 'muranoclient/tests/functional/simple_read_only/murano_test_utils.py']",2,059c7b9bbb92e5e599b83049380f443b4099e499,," def import_package_from_url(self, fqn, *args): """"""Import package from url by FQN"""""" actions = reduce(lambda x, y: x + ' ' + y, args) params = 'http://storage.apps.openstack.org/apps/{0}.zip {1}'\ .format(fqn, actions) pack_list = self.listing('package-import', params=params) package = self.get_object(pack_list, fqn) if package is None: self.fail(""{0} is not imported"".format(fqn)) self.addCleanup(self.delete_murano_object, 'package', package) return package",,200,0
openstack%2Ffuel-docs~stable%2F6.0~Ia73d07b9accf3a98b865ac28ab4a3f2f566c16ae,openstack/fuel-docs,stable/6.0,Ia73d07b9accf3a98b865ac28ab4a3f2f566c16ae,[RN] Change a non-working update link,MERGED,2015-08-13 08:33:14.000000000,2015-08-17 10:41:55.000000000,2015-08-17 10:39:30.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6072}, {'_account_id': 8971}, {'_account_id': 13082}, {'_account_id': 13695}, {'_account_id': 14689}]","[{'number': 1, 'created': '2015-08-13 08:33:14.000000000', 'files': ['pages/release-notes/v6-0/0063-update-the-product.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/9adb8a2746bc9a2c3e94cb1c0c85fea1b6ef153a', 'message': '[RN] Change a non-working update link\n\nThis patch replaces a non-working update link\nfuel-repository.mirantis.com/mirror/fwm/6.0/updates/\nwith a working one.\n\nChange-Id: Ia73d07b9accf3a98b865ac28ab4a3f2f566c16ae\nCloses-Bug: #1484270\n'}]",0,212408,9adb8a2746bc9a2c3e94cb1c0c85fea1b6ef153a,15,7,1,14962,,,0,"[RN] Change a non-working update link

This patch replaces a non-working update link
fuel-repository.mirantis.com/mirror/fwm/6.0/updates/
with a working one.

Change-Id: Ia73d07b9accf3a98b865ac28ab4a3f2f566c16ae
Closes-Bug: #1484270
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/08/212408/1 && git format-patch -1 --stdout FETCH_HEAD,['pages/release-notes/v6-0/0063-update-the-product.rst'],1,9adb8a2746bc9a2c3e94cb1c0c85fea1b6ef153a,, rsync://mirror.fuel-infra.org/fwm/6.0/updates/ /var/www/nailgun/updates/ rsync://mirror.fuel-infra.org/fwm/6.0/updates/ /var/www/nailgun/updates/, rsync://fuel-repository.mirantis.com/mirror/fwm/6.0/updates/ /var/www/nailgun/updates/ rsync://fuel-repository.mirantis.com/mirror/fwm/6.0/updates/ /var/www/nailgun/updates/,2,2
openstack%2Ffuel-docs~master~I80d21455eb8c3085c9f3cd3742949935bc16a9b3,openstack/fuel-docs,master,I80d21455eb8c3085c9f3cd3742949935bc16a9b3,[OpsGuide] S3 API in Ceph RADOS Gateway,MERGED,2015-07-17 07:56:49.000000000,2015-08-17 10:38:58.000000000,2015-08-17 10:36:18.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 13082}, {'_account_id': 13695}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 14947}, {'_account_id': 15488}]","[{'number': 1, 'created': '2015-07-17 07:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/83cdc04cde049b18ebd14ed5514c60ba4af71f7f', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 2, 'created': '2015-07-17 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/5d38c4038fefe1413ce7c99fec6416b5d86f8dc3', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 3, 'created': '2015-07-17 10:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/0925d0b8a7b473148806f574ec16c751a78e941f', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 4, 'created': '2015-07-17 11:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/aa2335a57ed150971a76aa1e08dcba58a3691073', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 5, 'created': '2015-07-17 12:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1f2858351dc41ebcf2b980c8f9b4eef7af15a7d3', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 6, 'created': '2015-07-22 09:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/455fe49f7445337702ff52c17e499161a20d44bd', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 7, 'created': '2015-08-07 15:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/ba2a6dd961e793d51719bee3e5ed83f7145ee34c', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 8, 'created': '2015-08-12 15:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/4e35236a22b3f783f18447fc970c88a00018bd6a', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}, {'number': 9, 'created': '2015-08-13 08:34:07.000000000', 'files': ['pages/operations/6700-ceph.rst', 'pages/release-notes/v6-1/1030-fuel-install.rst', 'pages/operations/ceph/0600-s3api.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/7d7513d288356c8cdad00bec4bc817fb52cd5b67', 'message': ""[OpsGuide] S3 API in Ceph RADOS Gateway\n\nThe article was copied from Ceph team's Wiki\nto the Operations Guide.\n\nChange-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3\nCloses-Bug: #1451781\n""}]",24,202915,7d7513d288356c8cdad00bec4bc817fb52cd5b67,71,8,9,14396,,,0,"[OpsGuide] S3 API in Ceph RADOS Gateway

The article was copied from Ceph team's Wiki
to the Operations Guide.

Change-Id: I80d21455eb8c3085c9f3cd3742949935bc16a9b3
Closes-Bug: #1451781
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/15/202915/9 && git format-patch -1 --stdout FETCH_HEAD,"['pages/operations/6700-ceph.rst', 'pages/operations/ceph/0600-s3api.rst']",2,83cdc04cde049b18ebd14ed5514c60ba4af71f7f,bug/1451781," .. _ceph-s3-api: S3 API in Ceph RADOS Gateway ---------------------------- Introduction ++++++++++++ Ceph RADOS Gateway offers accessing the same objects and containers using many different APIs. The two most important are: OpenStack Object Storage API v1 (aka Swift API) and Amazon S3 (Simple Storage Service). Beside these, radosgw supports several internal interfaces dedicated for logging, replication, and administration. Covering them is not the purpose of this document. Getting started +++++++++++++++ Assumption has been made that you posses a working Ceph cluster and the radosgw is able to access the cluster. In case of using cephx security system, which is the default scenario, both radosgw and cluster must authenticate to each other. Please note this is not related to any user-layer authentication mechanism used in radosgw like Keystone, TempURL, or TempAuth. If radosgw is deployed with Fuel, cephx should work out of the box. In case of manual deployment, `official documentation <http://ceph.com/docs/master/radosgw/config/#create-a-user-and-keyring>`_ will be helpful. To enable or just verify whether S3 has been properly configured, the configuration file used by radosgw (usually :file:`/etc/ceph/ceph.conf`) should be inspected. Please take a look at radosgw's section (usually `client.radosgw.gateway`) and consider following options: * *rgw_enable_apis* - if present, it must contain at least ""s3"" User authentication +++++++++++++++++++ The component providing S3 API implementation inside radosgw actually supports two methods of user authentication: Keystone-based and RADOS-based (internal). Each of them may be separately enabled or disabled with an appropriate configuration option. The first one takes precedence over the second. That is, if both methods are enabled and Keystone authentication fails for any reason (wrong credentials, connectivity problems etc.), the RADOS-based will be treated as fallback. Keystone-based ^^^^^^^^^^^^^^ **Configuration** Keystone authentication for S3 is not enabled by default, even if using Fuel. Please take a look at appropriate section (usually `client.radosgw.gateway`) in radosgw's configuration file and consider following options: .. list-table:: :widths: 42 15 70 20 :header-rows: 1 * - Option name - Default value in rgw - Comment - Present in Fuel-deployed configuration * - rgw_s3_auth_use_keystone - false - must be present and set to true - no * - rgw_keystone_url - empty - must be present and set to point admin interface of Keystone (usually port 35357, *some versions of Fuel wrongly set the port to 5000*). - yes * - rgw_keystone_admin_token - empty - must be present and match the admin token set in Keystone configuration - yes * - rgw_keystone_accepted_roles - Member, admin - should correspond the Keystone schema. Fuel setting seems to be OK - yes **User Management** In case of using Keystone-based authentication, user management is fully delegated to Keystone. You may use :command:`keystone` CLI command to do that. Please be aware that the EC2/S3 `<AccessKeyId>:<secret>` credentials pair do not map well into Keystone (there is no a direct way to specify a tenant), so special compatibility layer has been introduced. Practically, it means you need to tell Keystone about the mapping parameters manually. For example: :: keystone ec2-credentials-create --tenant-id=68a23e70b5854263ab64f2ddc16c2a38 --user-id=2ccdd07ae153484296d308eab10c85dd WARNING: Bypassing authentication using a token & endpoint (authentication credentials are being ignored). +-----------+----------------------------------+ | Property | Value | +-----------+----------------------------------+ | access | 3862b51ecc6a43a78ffca23a05e7c0ad | | secret | a0b4cb375d5a409893b05e36812fb811 | | tenant_id | 68a23e70b5854263ab64f2ddc16c2a38 | | trust_id | | | user_id | 2ccdd07ae153484296d308eab10c85dd | +-----------+----------------------------------+ ``access`` and ``secret`` are the parameters needed to authenticate a client to S3 API. **Performance Impact** Please be aware that Keystone's PKI tokens are not available together with S3 API. Moreover, radosgw doesn't cache Keystone responses while using S3 API. This could lead to authorization service overload. RADOS-based (internal) ^^^^^^^^^^^^^^^^^^^^^^ **Configuration** The RADOS-based authentication mechanism should work out of the box. It is enabled by default in radosgw and Fuel does not change this setting. However, in case of necessity to disable it, the `rgw_s3_auth_use_rados` may be set to `false`. **User Management** User management could be performed with command line utility :command:`radosgw-admin` provided with Ceph. For example, to create a new user the following command should be executed: :: radosgw-admin user create --uid=ant --display-name=""aterekhin"" { ""user_id"": ""ant"", ""display_name"": ""aterekhin"", ""email"": """", ""suspended"": 0, ""max_buckets"": 1000, ""auid"": 0, ""subusers"": [], ""keys"": [ { ""user"": ""ant"", ""access_key"": ""9TEP7FTSYTZF2HZD284A"", ""secret_key"": ""8uNAjUZ+u0CcpbJsQBgpoVgHkm+PU8e3cXvyMclY""}], ""swift_keys"": [], ""caps"": [], ""op_mask"": ""read, write, delete"", ""default_placement"": """", ""placement_tags"": [], ""bucket_quota"": { ""enabled"": false, ""max_size_kb"": -1, ""max_objects"": -1}, ""user_quota"": { ""enabled"": false, ""max_size_kb"": -1, ""max_objects"": -1}, ""temp_url_keys"": []} ``access_key`` and ``secret_key`` are the parameters needed to authenticate a client to S3 API. **Verification** To check whether everything works fine a low-level S3 API client might very useful, especially if it can provide assistance in the matter of generation authentication signature. S3 authentication model requires that the client provides a key identifier (`AccessKeyId`) and `HMAC-based <http://en.wikipedia.org/wiki/Hash-based_message_authentication_code>`_ authentication signature, which is calculated against user key (`secret`) and some HTTP headers present in the request. The well-known solution is `s3curl <https://github.com/rtdp/s3curl>`_ application. However, unpatched versions contain severe bugs (see `LP1446704 <https://bugs.launchpad.net/fuel/+bug/1446704>`_). We fixed them already and sent a pull request to its author. However, until it is not merged, we may recommend trying `this version <https://github.com/rzarzynski/s3curl>`_ of s3curl. ",,132,0
openstack%2Fkolla~master~I67d304b206312f5915085dd99d0201b1df44f7ec,openstack/kolla,master,I67d304b206312f5915085dd99d0201b1df44f7ec,Update readme to match current state,MERGED,2015-08-15 04:34:36.000000000,2015-08-17 10:32:50.000000000,2015-08-17 10:32:49.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10428}, {'_account_id': 13039}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-15 04:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6f967b483c8d0dbd4409e2a26ab82a4e2fc9afcb', 'message': 'Update readme to match current state\n\nKolla has been through alot of change in the Liberty development\ncycle.  Modify the README.md to specify our current direction.\n\nChange-Id: I67d304b206312f5915085dd99d0201b1df44f7ec\n'}, {'number': 2, 'created': '2015-08-15 04:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b40b4626e5c092c536f8eb0dfeb95689c8bd2d15', 'message': 'Update readme to match current state\n\nKolla has been through alot of change in the Liberty development\ncycle.  Modify the README.md to specify our current direction.\n\nChange-Id: I67d304b206312f5915085dd99d0201b1df44f7ec\n'}, {'number': 3, 'created': '2015-08-15 19:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bc320e74dbb67cab8f08bbce564e74912b6850dc', 'message': 'Update readme to match current state\n\nKolla has been through alot of change in the Liberty development\ncycle.  Modify the README.md to specify our current direction.\n\nChange-Id: I67d304b206312f5915085dd99d0201b1df44f7ec\n'}, {'number': 4, 'created': '2015-08-15 22:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e940fd8360eb98e6674c70eaf0e79ddd47a8f119', 'message': 'Update readme to match current state\n\nKolla has been through alot of change in the Liberty development\ncycle.  Modify the README.md to specify our current direction.\n\nChange-Id: I67d304b206312f5915085dd99d0201b1df44f7ec\n'}, {'number': 5, 'created': '2015-08-16 07:36:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ba8e59c4b3fb8e0001142f34db87b380b3353db', 'message': 'Update readme to match current state\n\nKolla has been through alot of change in the Liberty development\ncycle.  Modify the README.md to specify our current direction.\n\nChange-Id: I67d304b206312f5915085dd99d0201b1df44f7ec\n'}]",25,213412,8ba8e59c4b3fb8e0001142f34db87b380b3353db,19,5,5,2834,,,0,"Update readme to match current state

Kolla has been through alot of change in the Liberty development
cycle.  Modify the README.md to specify our current direction.

Change-Id: I67d304b206312f5915085dd99d0201b1df44f7ec
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/213412/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,6f967b483c8d0dbd4409e2a26ab82a4e2fc9afcb,,"The Kolla project is a member of the Openstack [Big Tent Governance][]. Kolla's mission statement is: Kolla provides production-ready containers and deployment tools for operating OpenStack clouds that are scalable, fast, reliable, and upgradable using community best practices. Kolla provides [Docker][] containers and [Ansible][] playbooks to meet Kolla's mission. Kolla is highly opinionated out of the box, but allows for complete customization. This permits operators with little experience to deploy OpenStack quickly and as experience grows modify it's configuration to suit the operator's exact requirements. [Big Tent Governance]: http://governance.openstack.org/reference/projects/index.html[Ansible]: http://ansible.com/Plese get started by reading the [Developer Quickstart][] followed by the [Ansible Deployment Guide][]. [Developer Quickstart]: [https://github.com/stackforge/kolla/blob/master/docs/dev-quickstart.md] [Ansible Deployment guide]: [https://github.com/stackforge/kolla/blob/master/docs/ansible-deployment.md]]The [Docker images][] are built by the Kolla project maintainers. A detailed process for contributing to the images can be found in the [image building guide][]. Images reside in the Docker Hub [Kollaglue repo][]. [image building guide]: https://github.com/stackforge/kolla/blob/master/docs/image-building.mdservices for every tagged relese: * Haproxy * Ceilometer* Keepalived* Mariadb + galera* Neutron (linuxbridge or neutron) * Openvswitch* ansible - Contains Anible playbooks to deploy Kolla in Docker containers. * compose - contains the docker-compose files serving as a compose reference. Note compose support is removed from Kolla. These are for community members which want to use Kolla container content without Ansible. * demos - Contains a few demos to use with Kolla. * devenv - Contains an OpenStack-Heat based development environment. * docker - Contains a normal Dockerfile based set of artifacts for building docker Contains Dockerfile images to be removed when docker_templates is finished. * docs - Contains documentation. * etc - Contains a reference etc directory structure which requires configuration of five configuration variables to achieve a working AIO deployment. * docker_templates - Contains jinja2 templates for the docker build system. * tools - Contains tools for interacting with Kolla. * specs - Contains the Kolla communities key arguments about architectural shifts in the code base. * tests - Contains functional testing tools. * vagrant - Contains a vagrant VirtualBox-based development environment.Check out who's [contributing code][] and [contributing reviews][]]. [contributing code]: http://stackalytics.com/?module=kolla-group&metric=commits [contributing reviews]: http://stackalytics.com/?module=kolla-group&metric=marks ","The Kolla project is part of the OpenStack [TripleO][] effort, focused on deploying OpenStack services using [Docker][] containers. The initial system [spec][] provides additional details of Kolla and the use cases it addresses. [TripleO]: https://wiki.openstack.org/wiki/TripleO[spec]: https://github.com/stackforge/kolla/blob/master/specs/containerize-openstack.rstDeployment on bare metal is a complex topic which is beyond the scope of the project at this time. An environment to simplify the deployment of a single or multi-node Kolla cluster is required for development purposes. As a result, a [Heat template][] has been created for deploying a Kolla cluster to an existing OpenStack cloud. [Heat template]: (https://github.com/stackforge/kolla/blob/master/devenv/README.md)The [Docker images][] are built by the Kolla project maintainers. A detailed process for contributing to the images can be found [here][]. Images reside in the Docker Hub [Kollaglue repo][]. [here]: https://github.com/stackforge/kolla/blob/master/docs/image-building.mdservices:* Mariadb* Neutron* Ceilometer* Zaqar * Magnum * Gnocchi* docker - contains artifacts for use with docker build to build appropriate images * compose - contains the docker-compose files defining the container sets * tools - contains different tools for interacting with Kolla * devenv - A collection of tools and resources for managing a Kolla development environment.Check out who's [contributing][]. [contributing]: https://github.com/stackforge/kolla/graphs/contributors",52,31
openstack%2Ffuel-library~master~Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd,openstack/fuel-library,master,Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd,Fix upstart logs management,MERGED,2015-08-05 13:17:24.000000000,2015-08-17 10:28:59.000000000,2015-08-17 10:28:17.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7227}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-08-05 13:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2b1d3464681a5f37098007932a61f3658487d274', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nCloses-bug: #1469176\n'}, {'number': 2, 'created': '2015-08-05 15:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fcefc5ac7dc4d41f5bacfe1719d766ad6981d0cb', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: WIP\nCloses-bug: #1469176\n'}, {'number': 3, 'created': '2015-08-06 10:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/940e369834f72cf937d6d445b2e4e4f5dec74e9c', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: WIP\nCloses-bug: #1469176\n'}, {'number': 4, 'created': '2015-08-06 16:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/40a21a3ecd5f9fffb939c80471a3d9c24fc615e1', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: WIP\nCloses-bug: #1469176\n'}, {'number': 5, 'created': '2015-08-07 11:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2fdf19bf2a9f8d6f7d1a99fe3f2b8eacb097b97b', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: https://review.openstack.org/#/q/topic:bug/1482564,n,z\nCloses-bug: #1469176\n'}, {'number': 6, 'created': '2015-08-07 18:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d52025e29ba9249be23cee9ca4a5a774a9b932f4', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: https://review.openstack.org/#/q/topic:bug/1482564,n,z\nCloses-bug: #1469176\n'}, {'number': 7, 'created': '2015-08-12 08:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/dfdb43b02c7213382af15094d5144341e81870c7', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: https://review.openstack.org/#/q/topic:bug/1482564,n,z\nCloses-bug: #1469176\n'}, {'number': 8, 'created': '2015-08-12 12:56:39.000000000', 'files': ['deployment/puppet/keystone/manifests/init.pp', 'deployment/puppet/osnailyfacter/modular/heat/heat.pp', 'deployment/puppet/nova/spec/classes/nova_init_spec.rb', 'tests/noop/spec/hosts/ceilometer/compute_spec.rb', 'tests/noop/spec/hosts/keystone/keystone_spec.rb', 'deployment/puppet/cinder/manifests/init.pp', 'tests/noop/spec/hosts/glance/glance_spec.rb', 'deployment/puppet/openstack/manifests/heat.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/osnailyfacter/modular/murano/murano.pp', 'tests/noop/spec/hosts/roles/compute_spec.rb', 'deployment/puppet/osnailyfacter/modular/ceilometer/controller.pp', 'tests/noop/spec/hosts/murano/murano_spec.rb', 'deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/neutron/manifests/init.pp', 'tests/noop/spec/hosts/openstack-network/openstack-network-controller_spec.rb', 'deployment/puppet/openstack/manifests/cinder.pp', 'deployment/puppet/osnailyfacter/modular/openstack-network/openstack-network-compute.pp', 'deployment/puppet/heat/spec/classes/heat_init_spec.rb', 'deployment/puppet/glance/manifests/api.pp', 'deployment/puppet/osnailyfacter/modular/openstack-controller/openstack-controller.pp', 'deployment/puppet/osnailyfacter/modular/openstack-network/openstack-network-controller.pp', 'deployment/puppet/osnailyfacter/modular/ceilometer/compute.pp', 'deployment/puppet/openstack/templates/10-fuel.conf.erb', 'deployment/puppet/ceilometer/manifests/init.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone.pp', 'deployment/puppet/openstack/manifests/compute.pp', 'deployment/puppet/osnailyfacter/modular/roles/compute.pp', 'deployment/puppet/glance/spec/classes/glance_registry_spec.rb', 'tests/noop/spec/hosts/roles/cinder_spec.rb', 'tests/noop/spec/hosts/openstack-cinder/openstack-cinder_spec.rb', 'deployment/puppet/sahara/manifests/init.pp', 'tests/noop/spec/hosts/openstack-controller/openstack-controller_spec.rb', 'deployment/puppet/openstack/manifests/logrotate.pp', 'tests/noop/spec/hosts/ceilometer/controller_spec.rb', 'deployment/puppet/osnailyfacter/modular/sahara/sahara.pp', 'tests/noop/spec/hosts/heat/heat_spec.rb', 'deployment/puppet/keystone/spec/classes/keystone_spec.rb', 'deployment/puppet/sahara/spec/classes/sahara_init_spec.rb', 'deployment/puppet/openstack/manifests/glance.pp', 'deployment/puppet/osnailyfacter/modular/openstack-cinder/openstack-cinder.pp', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/heat/manifests/init.pp', 'tests/noop/spec/hosts/sahara/sahara_spec.rb', 'deployment/puppet/ceilometer/spec/classes/ceilometer_init_spec.rb', 'deployment/puppet/neutron/spec/classes/neutron_init_spec.rb', 'deployment/puppet/nova/manifests/init.pp', 'deployment/puppet/osnailyfacter/modular/roles/cinder.pp', 'deployment/puppet/glance/manifests/registry.pp', 'deployment/puppet/openstack/manifests/keystone.pp', 'tests/noop/spec/hosts/openstack-network/openstack-network-compute_spec.rb', 'deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/osnailyfacter/modular/glance/glance.pp', 'deployment/puppet/cinder/spec/classes/cinder_spec.rb', 'deployment/puppet/glance/spec/classes/glance_api_spec.rb', 'deployment/puppet/openstack/templates/10-fuel-docker.conf.erb', 'deployment/puppet/openstack/manifests/network.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8637d96478cb4f44bd051aa675c98cf165970640', 'message': 'Fix upstart logs management\n\n- disable use_stderr option for all components because upstart adds to logs\n  all output from stderr output of its jobs\n- add upstart logs to common fuel logrotate configuration file\n- add noop tests\n\nChange-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd\nUpstream patches: https://review.openstack.org/#/q/topic:bug/1482564,n,z\nCloses-bug: #1469176\n'}]",0,209513,8637d96478cb4f44bd051aa675c98cf165970640,126,12,8,7604,,,0,"Fix upstart logs management

- disable use_stderr option for all components because upstart adds to logs
  all output from stderr output of its jobs
- add upstart logs to common fuel logrotate configuration file
- add noop tests

Change-Id: Ifefec5e4c8e3438229018edc7c1aaa53a3a779bd
Upstream patches: https://review.openstack.org/#/q/topic:bug/1482564,n,z
Closes-bug: #1469176
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/13/209513/7 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/keystone/manifests/init.pp', 'deployment/puppet/nova/spec/classes/nova_init_spec.rb', 'deployment/puppet/cinder/manifests/init.pp', 'deployment/puppet/openstack/manifests/heat.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/osnailyfacter/modular/murano/murano.pp', 'deployment/puppet/sahara/manifests/init.pp', 'deployment/puppet/osnailyfacter/modular/sahara/sahara.pp', 'deployment/puppet/murano/manifests/init.pp', 'deployment/puppet/keystone/spec/classes/keystone_spec.rb', 'deployment/puppet/neutron/manifests/init.pp', 'deployment/puppet/sahara/spec/classes/sahara_init_spec.rb', 'deployment/puppet/openstack/manifests/glance.pp', 'deployment/puppet/openstack/manifests/cinder.pp', 'deployment/puppet/heat/spec/classes/heat_init_spec.rb', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/heat/manifests/init.pp', 'deployment/puppet/ceilometer/spec/classes/ceilometer_init_spec.rb', 'deployment/puppet/neutron/spec/classes/neutron_init_spec.rb', 'deployment/puppet/nova/manifests/init.pp', 'deployment/puppet/glance/manifests/api.pp', 'deployment/puppet/glance/manifests/registry.pp', 'deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/openstack/templates/10-fuel.conf.erb', 'deployment/puppet/ceilometer/manifests/init.pp', 'deployment/puppet/cinder/spec/classes/cinder_spec.rb', 'deployment/puppet/glance/spec/classes/glance_api_spec.rb', 'deployment/puppet/openstack/manifests/network.pp', 'deployment/puppet/glance/spec/classes/glance_registry_spec.rb']",29,2b1d3464681a5f37098007932a61f3658487d274,bug/1469176," :use_stderr => true, 'use_stderr',",,105,7
openstack%2Ffuel-library~master~I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0,openstack/fuel-library,master,I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0,Increase Heat requests timeouts,MERGED,2015-08-12 13:25:34.000000000,2015-08-17 10:27:44.000000000,2015-08-17 10:27:03.000000000,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 6926}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 15232}]","[{'number': 1, 'created': '2015-08-12 13:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6e6fe5042642be0d8f821df5a9e1c4c73490c43f', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 2, 'created': '2015-08-12 14:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/359e52cd2bbf74ae90e0f16aaa900f63ed12237a', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 3, 'created': '2015-08-12 16:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7d61f4e4d6ec82419bf987585b298f7c79189002', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 4, 'created': '2015-08-13 10:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/79f9fbcfc26c50194232a0c61dcdca5f79508726', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 5, 'created': '2015-08-13 15:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ab426ba6bf023f0e575aac45530e97edc0b77531', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 6, 'created': '2015-08-13 18:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3b70810ff24e2da3e6c1c4c0d7b699aedfb16594', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 7, 'created': '2015-08-14 10:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e48d37309c400c146693aa59aa212914c07d007f', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}, {'number': 8, 'created': '2015-08-14 12:12:35.000000000', 'files': ['tests/noop/spec/hosts/openstack-haproxy/openstack-haproxy-heat_spec.rb', 'deployment/puppet/openstack/manifests/ha/heat.pp', 'tests/noop/spec/hosts/heat/heat_spec.rb', 'deployment/puppet/openstack/manifests/heat.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7ece4296f45e83ed827263d10b908e28024ab752', 'message': 'Increase Heat requests timeouts\n\nDuring creating and using one Heat template for hundreds VMs happens\ntimeout error, because validating and checking templates are needing\nmuch more time in such enviroments.\n\nTimeouts set in agreement with MOS-Scale team.\n\nChange-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0\nCloses-bug: #1475274\nCloses-bug: #1483833\n'}]",0,212023,7ece4296f45e83ed827263d10b908e28024ab752,106,10,8,7745,,,0,"Increase Heat requests timeouts

During creating and using one Heat template for hundreds VMs happens
timeout error, because validating and checking templates are needing
much more time in such enviroments.

Timeouts set in agreement with MOS-Scale team.

Change-Id: I2c599762625e2a1bc6d3c86a6f1bba26c24f16d0
Closes-bug: #1475274
Closes-bug: #1483833
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/23/212023/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/ha/heat.pp', 'deployment/puppet/openstack/manifests/heat.pp']",2,6e6fe5042642be0d8f821df5a9e1c4c73490c43f,(detached, 'DEFAULT/rpc_response_timeout' value => '600';,,3,1
openstack%2Ffuel-main~master~I5e9fdddcf9e1f9d9815e4e60b78b4c39353b46f9,openstack/fuel-main,master,I5e9fdddcf9e1f9d9815e4e60b78b4c39353b46f9,Remove requirements-deb.txt,MERGED,2015-08-14 14:21:02.000000000,2015-08-17 10:24:15.000000000,2015-08-17 10:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8777}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 10474}, {'_account_id': 11827}, {'_account_id': 12817}, {'_account_id': 13194}]","[{'number': 1, 'created': '2015-08-14 14:21:02.000000000', 'files': ['requirements-deb.txt.README', 'requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/df57e91cc566456ff8d93d24eae510449de57713', 'message': 'Remove requirements-deb.txt\n\nIt is not used here any more. The only case when\nwe need this file is when we create partial mirror.\nActual version is available here\nhttps://github.com/stackforge/fuel-mirror/blob/master/config/requirements-deb.txt\n\nChange-Id: I5e9fdddcf9e1f9d9815e4e60b78b4c39353b46f9\n'}]",0,213169,df57e91cc566456ff8d93d24eae510449de57713,11,13,1,3009,,,0,"Remove requirements-deb.txt

It is not used here any more. The only case when
we need this file is when we create partial mirror.
Actual version is available here
https://github.com/stackforge/fuel-mirror/blob/master/config/requirements-deb.txt

Change-Id: I5e9fdddcf9e1f9d9815e4e60b78b4c39353b46f9
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/69/213169/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements-deb.txt.README', 'requirements-deb.txt']",2,df57e91cc566456ff8d93d24eae510449de57713,,,anacron apache2 aptitude atop bc bridge-utils build-essential ceilometer-agent-central ceilometer-agent-compute ceilometer-agent-notification ceilometer-alarm-evaluator ceilometer-alarm-notifier ceilometer-api ceilometer-collector ceilometer-common ceph ceph-deploy ceph-mds cinder-api cinder-backup cinder-scheduler cinder-volume cirros-testvm cirros-testvmware cloud-init conntrackd corosync cpu-checker cpufrequtils curl daemonize debconf-utils debhelper devscripts discover discover-data disktype dkms dnsmasq-base dnsmasq-utils dstat erlang-dev ethtool fence-agents fuel-agent fuel-utils galera git glance-api glance-common glance-registry grub-pc haproxy heat-api heat-api-cfn heat-api-cloudwatch heat-common heat-docker heat-engine hicolor-icon-theme htop ifenslave installation-report intel-microcode iperf iperf3 ipmitool iptables-persistent kdump-tools keystone language-pack-en language-pack-en-base language-pack-gnome-en language-pack-gnome-en-base libapache2-mod-fastcgi libapache2-mod-wsgi libguestfs-tools libnss3-tools libssl0.9.8 linux-firmware linux-firmware-nonfree live-boot live-boot-initramfs-tools lksctp-tools lldpad mc mcelog mcollective mcollective-client mdadm memcached mongodb-clients mongodb-server monit msmtp-mta murano-common murano-dashboard mysql-client mysql-server-wsrep-5.6 nailgun-agent nailgun-mcagents nailgun-net-check neutron-common neutron-dhcp-agent neutron-l3-agent neutron-lbaas-agent neutron-metadata-agent neutron-metering-agent neutron-plugin-bigswitch neutron-plugin-bigswitch-agent neutron-plugin-brocade neutron-plugin-cisco neutron-plugin-ibm neutron-plugin-ibm-agent neutron-plugin-linuxbridge neutron-plugin-linuxbridge-agent neutron-plugin-metaplugin neutron-plugin-metering-agent neutron-plugin-midonet neutron-plugin-ml2 neutron-plugin-mlnx neutron-plugin-mlnx-agent neutron-plugin-nec neutron-plugin-nec-agent neutron-plugin-nicira neutron-plugin-nuage neutron-plugin-oneconvergence neutron-plugin-oneconvergence-agent neutron-plugin-opencontrail neutron-plugin-openvswitch neutron-plugin-openvswitch-agent neutron-plugin-plumgrid neutron-plugin-sriov-agent neutron-plugin-vmware neutron-server neutron-vpn-agent nfs-common nginx nmap nodejs node-less nova-api nova-cert nova-compute-kvm nova-compute-qemu nova-conductor nova-consoleauth nova-consoleproxy nova-network nova-objectstore nova-scheduler novnc ntp ohai openhpid openssh-client openssh-server openstack-dashboard openvswitch-switch os-prober pacemaker pcs percona-toolkit percona-xtrabackup pssh puppet python-carrot python-ceilometer python-ceilometerclient python-ceph python-daemon python-daemonize python-dingus python-ethtool python-feedparser python-gflags python-glance python-gobject python-gobject-2 python-heatclient python-keyring python-keystone python-ldap python-libxml2 python-memcache python-muranoclient python-mysqldb python-netifaces python-neutron python-neutron-fwaas python-neutron-lbaas python-neutron-vpnaas python-nose python-novnc python-openid python-openstack-auth python-openstackclient python-passlib python-pastescript python-pexpect python-pycurl python-pylibmc python-pyudev python-rabbit python-sahara python-saharaclient python-scapy python-scgi python-setuptools-git python-sqlalchemy-ext python-stompy python-swift python-utidylib python-zmq qemu-kvm qemu-utils rabbitmq-server radosgw ruby ruby-cstruct ruby-deep-merge ruby-dev ruby-httpclient ruby-i18n ruby-ipaddress ruby-json ruby-netaddr ruby-openstack ruby-rethtool ruby-stomp sahara-api sahara-common sahara-engine screen sheepdog socat squashfs-tools swift swift-account swift-container swift-object swift-plugin-s3 swift-proxy sysfsutils sysstat tasksel tcptraceroute tmux traceroute ubuntu-minimal ubuntu-standard vgabios vim virt-what vlan xinetd xz-utils zabbix-agent zabbix-frontend-php zabbix-server-mysql zabbix-server-pgsql ,1,261
openstack%2Ffuel-qa~master~Id8882a1ba6c7e5ca52387845b07d436143bd85b7,openstack/fuel-qa,master,Id8882a1ba6c7e5ca52387845b07d436143bd85b7,Add 'NeutronTunHaBase' class to docs,MERGED,2015-08-14 17:21:02.000000000,2015-08-17 10:24:07.000000000,2015-08-17 10:24:06.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 15943}, {'_account_id': 16106}, {'_account_id': 16414}]","[{'number': 1, 'created': '2015-08-14 17:21:02.000000000', 'files': ['doc/base_tests.rst'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/4c5a1665ba4e8a2b70af77c7f9fc8cfcd8676c65', 'message': ""Add 'NeutronTunHaBase' class to docs\n\nChange-Id: Id8882a1ba6c7e5ca52387845b07d436143bd85b7\nCloses-Bug: #1485000\n""}]",0,213259,4c5a1665ba4e8a2b70af77c7f9fc8cfcd8676c65,11,13,1,14708,,,0,"Add 'NeutronTunHaBase' class to docs

Change-Id: Id8882a1ba6c7e5ca52387845b07d436143bd85b7
Closes-Bug: #1485000
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/59/213259/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/base_tests.rst'],1,4c5a1665ba4e8a2b70af77c7f9fc8cfcd8676c65,bug/1485000,Test Neutron VXLAN base ----------------------- .. automodule:: fuelweb_test.tests.test_neutron_tun_base :members: ,,5,0
openstack%2Fsahara~master~I57627464767d6f163f784f1ca41f13815c3da9e8,openstack/sahara,master,I57627464767d6f163f784f1ca41f13815c3da9e8,[DO NOT MERGE] Workaround for mapr,ABANDONED,2015-07-22 10:59:08.000000000,2015-08-17 10:23:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8090}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-07-22 10:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a6669e61f374b91a6519bf56ae131fd99e6b27da', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 2, 'created': '2015-07-22 11:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/af84954621f0910fceb9998dbd3b568e27f3f4b3', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 3, 'created': '2015-07-22 12:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/22619384495122bd7b664951dc573c3d73fb4777', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 4, 'created': '2015-07-22 13:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2e14604c2a5a40438f596cad6772414828adfeae', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 5, 'created': '2015-07-22 14:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/15d2cd39e89b8ebb7eab2d677084d2422ae205b0', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 6, 'created': '2015-07-23 07:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/31dc8eeb46035ab523340e3c19c502bd1dea3f78', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 7, 'created': '2015-07-23 08:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cf663f3b66eaf8b6632149e222ba8ee2d022aaee', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 8, 'created': '2015-07-23 13:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5f2fbfdbf693efce9a5cd7ae52366aca25535d9a', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 9, 'created': '2015-07-23 14:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/461d05d8f9d7e5fc85df7585650fa8510e2a550e', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 10, 'created': '2015-07-23 15:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/48485526c19db79724d665064379971a31541e28', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 11, 'created': '2015-07-23 17:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dc8843d243f50b40ac4647412187e65a441e0ebc', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 12, 'created': '2015-07-27 07:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/45c772535d700401d2d2fc537f2bd083f807a23a', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 13, 'created': '2015-07-27 09:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/07771903e33d45e00de83edc2ae2a358eaa70afe', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 14, 'created': '2015-07-27 11:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/631e0ce289d960442c083486e963f5dedb9d039b', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 15, 'created': '2015-07-27 12:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/250e8814c246003b6988cf885ba2d16549d82183', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 16, 'created': '2015-07-27 14:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0f4a72aa943e95498647797f830712a448f06bf8', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 17, 'created': '2015-07-27 19:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d18296a34eae3149cc8fcdc53aeaab8c6c9bed2c', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 18, 'created': '2015-08-03 08:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/85dfdc731ccab1aaba4369305475d3467aac5e4d', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 19, 'created': '2015-08-04 09:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dfdec5ba3e873466d39b28f2f99c299e5aa48abc', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 20, 'created': '2015-08-05 08:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/552bf45875d241a0b934ca6b941d3f4b47565b09', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 21, 'created': '2015-08-05 11:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f3661faa12690d6006f1be9f6b0480d32eaa8266', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 22, 'created': '2015-08-10 08:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c8d15c702bfa389376b72990a20f5582bc637fee', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}, {'number': 23, 'created': '2015-08-14 21:08:21.000000000', 'files': ['etc/scenario/sahara-ci/hdp-2.0.6.yaml.mako', 'etc/scenario/sahara-ci/hdp-1.3.2.yaml.mako', 'etc/scenario/sahara-ci/fake.yaml.mako', 'etc/scenario/sahara-ci/cdh-5.3.0.yaml.mako', 'etc/scenario/sahara-ci/cdh-5.4.0.yaml.mako', 'etc/scenario/sahara-ci/spark-1.0.0.yaml.mako', 'etc/scenario/sahara-ci/transient.yaml.mako', 'sahara/plugins/mapr/base/base_node_manager.py', 'sahara/plugins/mapr/domain/service.py', 'etc/scenario/sahara-ci/vanilla-1.2.1.yaml.mako', 'etc/scenario/sahara-ci/vanilla-2.6.0.yaml.mako', 'etc/scenario/sahara-ci/spark-1.3.1.yaml.mako', 'sahara/plugins/mapr/services/maprfs/maprfs.py', 'etc/scenario/sahara-ci/mapr-4.0.2.mrv2.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara/commit/7d3948571218c77b6895b81c8a274a9d6e95f63a', 'message': '[DO NOT MERGE] Workaround for mapr\n\nChange-Id: I57627464767d6f163f784f1ca41f13815c3da9e8\n'}]",0,204548,7d3948571218c77b6895b81c8a274a9d6e95f63a,73,4,23,13919,,,0,"[DO NOT MERGE] Workaround for mapr

Change-Id: I57627464767d6f163f784f1ca41f13815c3da9e8
",git fetch https://review.opendev.org/openstack/sahara refs/changes/48/204548/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/mapr/versions/v4_0_2_mrv2/version_handler.py'],1,a6669e61f374b91a6519bf56ae131fd99e6b27da,,," hive.HiveV012(),",0,1
openstack%2Fsahara~master~Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b,openstack/sahara,master,Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b,[NOT MERGE][WIP]Try fix mapr,ABANDONED,2015-07-21 07:22:09.000000000,2015-08-17 10:23:18.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8090}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-07-21 07:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c1c5843dd0ad82c0b80065c0714f8f8d4712c7e2', 'message': '[NOT MERGE][WIP]Try fix mapr\n\nChange-Id: Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b\n'}, {'number': 2, 'created': '2015-07-21 08:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/eddf196aaf90772c267d3b3a1ce72a521b75c758', 'message': '[NOT MERGE][WIP]Try fix mapr\n\nChange-Id: Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b\n'}, {'number': 3, 'created': '2015-07-23 13:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/59c6e6e3df300a956133ba4a438e58c35f5878d5', 'message': '[NOT MERGE][WIP]Try fix mapr\n\nChange-Id: Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b\n'}, {'number': 4, 'created': '2015-08-04 09:24:14.000000000', 'files': ['etc/scenario/sahara-ci/mapr-4.0.2.mrv2.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara/commit/08dd846022b5cb38fb2997ee0cac06429225d9b6', 'message': '[NOT MERGE][WIP]Try fix mapr\n\nChange-Id: Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b\n'}]",0,203950,08dd846022b5cb38fb2997ee0cac06429225d9b6,14,4,4,13919,,,0,"[NOT MERGE][WIP]Try fix mapr

Change-Id: Ieb85f8a7e59d7e0f96268c7b8529d4bb15e8776b
",git fetch https://review.opendev.org/openstack/sahara refs/changes/50/203950/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/scenario/sahara-ci/mapr-4.0.2.mrv2.yaml.mako'],1,c1c5843dd0ad82c0b80065c0714f8f8d4712c7e2,, flavor: ram: 2048 root_disk: 20 swap_disk: 100 flavor: ram: 2048 root_disk: 20 swap_disk: 100, flavor: ${ci_flavor_id} flavor: ${ci_flavor_id},8,2
openstack%2Ffuel-qa~master~Ifff032c923728a5731428605cefcb273538e5640,openstack/fuel-qa,master,Ifff032c923728a5731428605cefcb273538e5640,Run network verification before deployment,MERGED,2015-08-16 10:51:21.000000000,2015-08-17 10:22:25.000000000,2015-08-17 10:22:23.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-08-16 10:51:21.000000000', 'files': ['fuelweb_test/tests/test_neutron_tun.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e3ec5dab673b5e663d1ce700b94e4c8278cd6706', 'message': ""Run network verification before deployment\n\nPerform network verification before environment\ndeployment in 'smoke_neutron' test.\n\nChange-Id: Ifff032c923728a5731428605cefcb273538e5640\nCloses-bug: #1485310\n""}]",0,213499,e3ec5dab673b5e663d1ce700b94e4c8278cd6706,9,11,1,11081,,,0,"Run network verification before deployment

Perform network verification before environment
deployment in 'smoke_neutron' test.

Change-Id: Ifff032c923728a5731428605cefcb273538e5640
Closes-bug: #1485310
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/99/213499/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_neutron_tun.py'],1,e3ec5dab673b5e663d1ce700b94e4c8278cd6706,bug/1485310, 4. Run network verification 5. Deploy the cluster 6. Run network verification 7. Run OSTF self.fuel_web.verify_network(cluster_id), 4. Deploy the cluster 5. Run network verification 6. Run OSTF,5,3
openstack%2Fbarbican~master~Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b,openstack/barbican,master,Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b,Updated from global requirements,MERGED,2015-08-13 02:10:10.000000000,2015-08-17 10:19:17.000000000,2015-08-17 10:18:53.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7973}, {'_account_id': 11561}]","[{'number': 1, 'created': '2015-08-13 02:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/620070014c54932bb9194bba53ce698f541aa1b9', 'message': 'Updated from global requirements\n\nChange-Id: Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b\n'}, {'number': 2, 'created': '2015-08-13 20:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9574138e979770d15b30d21f630675ed19cd1885', 'message': 'Updated from global requirements\n\nChange-Id: Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b\n'}, {'number': 3, 'created': '2015-08-14 09:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/35511e3d0adeacb76f188d399cdb480d13737ef4', 'message': 'Updated from global requirements\n\nChange-Id: Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b\n'}, {'number': 4, 'created': '2015-08-15 20:47:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9c55187e25329bc255b285ffea18e15c8981438c', 'message': 'Updated from global requirements\n\nChange-Id: Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b\n'}]",0,212243,9c55187e25329bc255b285ffea18e15c8981438c,21,6,4,11131,,,0,"Updated from global requirements

Change-Id: Ida47f14ba5341b9f325eae4d62dc32bdfd55db0b
",git fetch https://review.opendev.org/openstack/barbican refs/changes/43/212243/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,620070014c54932bb9194bba53ce698f541aa1b9,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Fhorizon~master~I6b32b7b4bfe79e8febce366257674cd766398b79,openstack/horizon,master,I6b32b7b4bfe79e8febce366257674cd766398b79,Add volume migration support,MERGED,2015-05-29 16:03:58.000000000,2015-08-17 10:18:53.000000000,2015-08-17 10:16:00.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6763}, {'_account_id': 9622}, {'_account_id': 10442}, {'_account_id': 12826}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-05-29 16:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4c8f39ce4beb09e32425c172fdc4f9971325471b', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 2, 'created': '2015-05-31 01:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fb60049bc4258a0652f7830cc4cea408e2a93a24', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 3, 'created': '2015-06-23 08:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ff97edac81c3c8fe29535e2fb372c1826bfa4b0', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 4, 'created': '2015-07-10 03:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d04b5bc7375bc44a44c272cc0758731d45ab005b', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 5, 'created': '2015-07-10 10:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0dfc7b747f85fe60d672f1b9aa40b073e20272f9', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 6, 'created': '2015-07-21 06:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d894cf40ee62d3bbc33a6821909379ace5d89e3', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 7, 'created': '2015-07-30 23:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/57abab33b46579ededf74286e6ab82b218a72f23', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}, {'number': 8, 'created': '2015-08-14 07:31:20.000000000', 'files': ['openstack_dashboard/dashboards/admin/volumes/templates/volumes/volumes/migrate_volume.html', 'openstack_dashboard/dashboards/admin/volumes/volumes/views.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/tables.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/urls.py', 'openstack_dashboard/dashboards/admin/volumes/templates/volumes/volumes/_migrate_volume.html', 'openstack_dashboard/dashboards/admin/volumes/volumes/tests.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1c25d4bab14ce1720610ee962f1da0c853d2ff6c', 'message': 'Add volume migration support\n\nCinder has the ability to migrate a volume, This\nfunctionality should be exposed through Horizon.\n\nImplements blueprint volume-migration\n\nChange-Id: I6b32b7b4bfe79e8febce366257674cd766398b79\n'}]",14,186810,1c25d4bab14ce1720610ee962f1da0c853d2ff6c,36,11,8,6610,,,0,"Add volume migration support

Cinder has the ability to migrate a volume, This
functionality should be exposed through Horizon.

Implements blueprint volume-migration

Change-Id: I6b32b7b4bfe79e8febce366257674cd766398b79
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/186810/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/volumes/templates/volumes/volumes/migrate_volume.html', 'openstack_dashboard/dashboards/admin/volumes/volumes/views.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/tables.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/urls.py', 'openstack_dashboard/dashboards/admin/volumes/templates/volumes/volumes/_migrate_volume.html', 'openstack_dashboard/dashboards/admin/volumes/volumes/tests.py', 'openstack_dashboard/dashboards/admin/volumes/volumes/forms.py']",7,4c8f39ce4beb09e32425c172fdc4f9971325471b,bp/volume-migration,"class MigrateVolume(forms.SelfHandlingForm): name = forms.CharField(label=_(""Volume Name""), required=False, widget=forms.TextInput( attrs={'readonly': 'readonly'})) current_host = forms.CharField(label=_(""Current Host""), required=False, widget=forms.TextInput( attrs={'readonly': 'readonly'})) host = forms.ChoiceField(label=_(""New Host""), help_text=_(""Choose a Host to migrate to."")) force_host_copy = forms.BooleanField(label=_(""Force Host Copy""), initial=False, required=False) def __init__(self, request, *args, **kwargs): super(MigrateVolume, self).__init__(request, *args, **kwargs) initial = kwargs.get('initial', {}) volume_id = initial.get('volume_id') self.fields['volume_id'] = forms.CharField(widget=forms.HiddenInput, initial=volume_id) self.fields['host'].choices = self.populate_host_choices(request, initial) def populate_host_choices(self, request, initial): hosts = initial.get('hosts') current_host = initial.get('current_host') host_list = [(host.name, host.name) for host in hosts if host.name != current_host] if host_list: host_list.insert(0, ("""", _(""Select a new host""))) else: host_list.insert(0, ("""", _(""No other hosts available""))) return sorted(host_list) def handle(self, request, data): try: cinder.volume_migrate(request, data['volume_id'], data['host'], data['force_host_copy']) messages.success( request, _('Successfully sent the request to migrate volume: %s') % data['name']) return True except Exception: redirect = reverse(""horizon:admin:volumes:volumes_tab"") exceptions.handle(request, _(""Failed to migrate volume.""), redirect=redirect) ",,235,1
openstack%2Fsahara~master~I77d76c0f288dc6e1720d702b49d310fadebc3711,openstack/sahara,master,I77d76c0f288dc6e1720d702b49d310fadebc3711,"Rename ""get_job_status"" to ""get_job_info""",ABANDONED,2015-08-17 06:33:43.000000000,2015-08-17 08:48:39.000000000,,[{'_account_id': 7213}],"[{'number': 1, 'created': '2015-08-17 06:33:43.000000000', 'files': ['sahara/service/edp/oozie/engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d0723c0d7cd77ad62d3a7b4e8fdb600aa495712d', 'message': 'Rename ""get_job_status"" to ""get_job_info""\n\nmessage:\nRename ""get_job_status"" to ""get_job_info""\n\nChange-Id: I77d76c0f288dc6e1720d702b49d310fadebc3711\nCloses-Bug: #1468200\n'}]",0,213611,d0723c0d7cd77ad62d3a7b4e8fdb600aa495712d,3,1,1,17203,,,0,"Rename ""get_job_status"" to ""get_job_info""

message:
Rename ""get_job_status"" to ""get_job_info""

Change-Id: I77d76c0f288dc6e1720d702b49d310fadebc3711
Closes-Bug: #1468200
",git fetch https://review.opendev.org/openstack/sahara refs/changes/11/213611/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/edp/oozie/engine.py'],1,d0723c0d7cd77ad62d3a7b4e8fdb600aa495712d,bug/1468200," return client.get_job_info(job_execution) def get_job_info(self, job_execution): if job_execution.oozie_job_id is not None: return self._get_client().get_job_info(job_execution) status = client.get_job_info(job_execution,"," return client.get_job_status(job_execution) def get_job_status(self, job_execution): if job_execution.oozie_job_id is not None: return self._get_client().get_job_status(job_execution) status = client.get_job_status(job_execution,",4,4
openstack%2Ffuel-library~master~I979fa63957d857dc664665a4faa606290b5d66b1,openstack/fuel-library,master,I979fa63957d857dc664665a4faa606290b5d66b1,Use PublicURL as AdminURL endpoint as well,ABANDONED,2015-08-14 10:38:46.000000000,2015-08-17 07:39:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11827}, {'_account_id': 14495}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-08-14 10:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/944ba56c30eccd9662212b1c79da7d0ed2c39250', 'message': 'Use PublicURL as AdminURL endpoint as well\n\nW/o this fix, administrative actions cannot\nbe performed from outside and bound to the\ncloud management network only.\n\nThis is an issue as a user may want to automate\na cloud administration with external scripts. But\nthe management network VIP is currently put in\nall of the admin endpoints and it must never be\nexposed externally as there is too much sensitive\ndata flows inside.\n\nThe solution is to either to introduce a separate\nOpenStack API Admin Network in Fuel, or to use the\nPublicURL as the AdminURL as the default choice.\nThis patch implements the latter one and also allows\nto override both Admin VIP and protocol via hiera.\n\nDocImpact: Reference arch, Ops & Security guides -\nadministrative actions allowed to be executed via\nthe public endpoint using the same protocol as it was\nconfigured for it (http or https).\n\nCloses-bug: #1362641\n\nChange-Id: I979fa63957d857dc664665a4faa606290b5d66b1\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 2, 'created': '2015-08-14 12:18:41.000000000', 'files': ['tests/noop/spec/hosts/glance/keystone_spec.rb', 'tests/noop/spec/hosts/openstack-network/keystone_spec.rb', 'tests/noop/spec/hosts/sahara/keystone_spec.rb', 'tests/noop/spec/hosts/ceilometer/keystone_spec.rb', 'tests/noop/spec/hosts/keystone/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/murano/keystone.pp', 'tests/noop/spec/hosts/murano/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/sahara/keystone.pp', 'tests/noop/spec/hosts/openstack-cinder/keystone_spec.rb', 'tests/noop/spec/hosts/openstack-controller/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/openstack-cinder/keystone.pp', 'deployment/puppet/osnailyfacter/modular/openstack-network/keystone.pp', 'deployment/puppet/osnailyfacter/modular/swift/keystone.pp', 'deployment/puppet/osnailyfacter/modular/ceilometer/keystone.pp', 'tests/noop/spec/hosts/heat/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/heat/keystone.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone_post.rb', 'deployment/puppet/osnailyfacter/modular/openstack-controller/keystone.pp', 'deployment/puppet/osnailyfacter/modular/glance/keystone.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone.pp', 'tests/noop/spec/hosts/swift/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/ceph/radosgw.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7aa37b37d5b874010350ca13cf5714cc40f3a50b', 'message': 'Use PublicURL as AdminURL endpoint as well\n\nW/o this fix, administrative actions cannot\nbe performed from outside and bound to the\ncloud management network only.\n\nThis is an issue as a user may want to automate\na cloud administration with external scripts. But\nthe management network VIP is currently put in\nall of the admin endpoints and it must never be\nexposed externally as there is too much sensitive\ndata flows inside.\n\nThe solution is to either to introduce a separate\nOpenStack API Admin Network in Fuel, or to use the\nPublicURL as the AdminURL as the default choice.\nThis patch implements the latter one and also allows\nto override both Admin VIP and protocol via hiera.\n\nDocImpact: Reference arch, Ops & Security guides -\nadministrative actions allowed to be executed via\nthe public endpoint using the same protocol as it was\nconfigured for it (http or https).\n\nCloses-bug: #1362641\n\nChange-Id: I979fa63957d857dc664665a4faa606290b5d66b1\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",2,213080,7aa37b37d5b874010350ca13cf5714cc40f3a50b,30,9,2,6926,,,0,"Use PublicURL as AdminURL endpoint as well

W/o this fix, administrative actions cannot
be performed from outside and bound to the
cloud management network only.

This is an issue as a user may want to automate
a cloud administration with external scripts. But
the management network VIP is currently put in
all of the admin endpoints and it must never be
exposed externally as there is too much sensitive
data flows inside.

The solution is to either to introduce a separate
OpenStack API Admin Network in Fuel, or to use the
PublicURL as the AdminURL as the default choice.
This patch implements the latter one and also allows
to override both Admin VIP and protocol via hiera.

DocImpact: Reference arch, Ops & Security guides -
administrative actions allowed to be executed via
the public endpoint using the same protocol as it was
configured for it (http or https).

Closes-bug: #1362641

Change-Id: I979fa63957d857dc664665a4faa606290b5d66b1
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/80/213080/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/noop/spec/hosts/glance/keystone_spec.rb', 'tests/noop/spec/hosts/openstack-network/keystone_spec.rb', 'tests/noop/spec/hosts/sahara/keystone_spec.rb', 'tests/noop/spec/hosts/ceilometer/keystone_spec.rb', 'tests/noop/spec/hosts/keystone/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/murano/keystone.pp', 'tests/noop/spec/hosts/murano/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/sahara/keystone.pp', 'tests/noop/spec/hosts/openstack-cinder/keystone_spec.rb', 'tests/noop/spec/hosts/openstack-controller/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/openstack-cinder/keystone.pp', 'deployment/puppet/osnailyfacter/modular/openstack-network/keystone.pp', 'deployment/puppet/osnailyfacter/modular/swift/keystone.pp', 'deployment/puppet/osnailyfacter/modular/ceilometer/keystone.pp', 'tests/noop/spec/hosts/heat/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/heat/keystone.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone_post.rb', 'deployment/puppet/osnailyfacter/modular/openstack-controller/keystone.pp', 'deployment/puppet/osnailyfacter/modular/glance/keystone.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone.pp', 'tests/noop/spec/hosts/swift/keystone_spec.rb', 'deployment/puppet/osnailyfacter/modular/ceph/radosgw.pp']",22,944ba56c30eccd9662212b1c79da7d0ed2c39250,fix1362641,"$admin_vip = hiera('admin_vip', $public_vip) adm_ip => $admin_vip,"," adm_ip => $management_vip,",144,95
openstack%2Fhorizon~stable%2Fkilo~I0beabddfe13c060ef2222a09636738428135040a,openstack/horizon,stable/kilo,I0beabddfe13c060ef2222a09636738428135040a,Change widget attribute to string,MERGED,2015-07-15 10:58:45.000000000,2015-08-17 07:12:12.000000000,2015-08-17 07:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 1955}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 12826}]","[{'number': 1, 'created': '2015-07-15 10:58:45.000000000', 'files': ['horizon/static/horizon/js/horizon.metering.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dbb9c0957a5485a0a86f982c61eeb6b8c44cf3b9', 'message': ""Change widget attribute to string\n\nIn Django 1.8, widget attribute data-date-picker=True will be rendered\nas 'data-date-picker'. This patch will just look for the presence of the\nattribute, ignoring the actual value.\n\nChange-Id: I0beabddfe13c060ef2222a09636738428135040a\nCloses-Bug: #1467935\n(cherry picked from commit f4581dd48a7ffdcdf1b0061951e837c69caf9420)\n""}]",0,202046,dbb9c0957a5485a0a86f982c61eeb6b8c44cf3b9,11,6,1,4264,,,0,"Change widget attribute to string

In Django 1.8, widget attribute data-date-picker=True will be rendered
as 'data-date-picker'. This patch will just look for the presence of the
attribute, ignoring the actual value.

Change-Id: I0beabddfe13c060ef2222a09636738428135040a
Closes-Bug: #1467935
(cherry picked from commit f4581dd48a7ffdcdf1b0061951e837c69caf9420)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/202046/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.metering.js'],1,dbb9c0957a5485a0a86f982c61eeb6b8c44cf3b9,bug/1467935, horizon.datepickers.add('input[data-date-picker]');," horizon.datepickers.add('input[data-date-picker=""True""]');",1,1
openstack%2Frally~master~I7764babaa53db618e90eb15d08353a48f699188d,openstack/rally,master,I7764babaa53db618e90eb15d08353a48f699188d,[Reports] Small simplification in new HTML charts classes,MERGED,2015-08-13 15:07:48.000000000,2015-08-17 06:21:21.000000000,2015-08-17 06:21:01.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-08-13 15:07:48.000000000', 'files': ['rally/task/processing/charts.py', 'tests/unit/task/processing/test_charts.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/cffdf003df7f25fc107968e2b582d89c3756f77f', 'message': '[Reports] Small simplification in new HTML charts classes\n\nThis patch simplifies and unifies render() return value format\nfor some HTML report classes, so format will be changed at\nJavaScript part. That is because there will be another data\ntransformations (like setting of specific bar color) on frontend\nand there is no reason to split this processing between Python\nand JavaScript.\n\nChange-Id: I7764babaa53db618e90eb15d08353a48f699188d\n'}]",0,212572,cffdf003df7f25fc107968e2b582d89c3756f77f,10,5,1,10475,,,0,"[Reports] Small simplification in new HTML charts classes

This patch simplifies and unifies render() return value format
for some HTML report classes, so format will be changed at
JavaScript part. That is because there will be another data
transformations (like setting of specific bar color) on frontend
and there is no reason to split this processing between Python
and JavaScript.

Change-Id: I7764babaa53db618e90eb15d08353a48f699188d
",git fetch https://review.opendev.org/openstack/rally refs/changes/72/212572/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/processing/charts.py', 'tests/unit/task/processing/test_charts.py']",2,cffdf003df7f25fc107968e2b582d89c3756f77f,simplify-charts-classes," self.assertIsInstance(chart, charts.Chart) expected = [(""duration"", [[1, 1.1], [2, 0], [3, 1.3]]), (""idle_duration"", [[1, 2.2], [2, 0], [3, 3.4]]), (""failed_duration"", [[1, 0], [2, 1.6], [3, 0]])] expected = [(""bar"", [[1, 0], [2, 1.2], [3, 1.2]]), (""failed_duration"", [[1, 0], [2, 39.7], [3, 6.8]]), (""foo"", [[1, 1.1], [2, 1.1], [3, 0]])] self.assertIsInstance(chart, charts.Chart) self.assertEqual(expected, sorted(chart.render())) self.assertIsInstance(chart, charts.Chart) expected = [(""bar"", [[1, 1.2], [2, 0], [3, 1.4]]), (""foo"", [[1, 1.1], [2, 1.3], [3, 0]])] self.assertEqual(expected, sorted(chart.render())) self.assertEqual([(""a"", 2.4), (""b"", 5.8)], sorted(chart.render())) self.assertEqual([(""bar"", 4.0), (""foo"", 2.0)], sorted(chart.render()))","class StackedAreaChartTestCase(test.TestCase): class StackedAreaChart(charts.StackedAreaChart): def _map_iteration_values(self, iteration): return iteration[""foo""].items() def test_add_iteration_and_render(self): self.assertRaises(TypeError, charts.StackedAreaChart, {""iterations_count"": 42}) chart = self.StackedAreaChart({""iterations_count"": 42}) self.assertIsInstance(chart, charts.Chart) [chart.add_iteration({""foo"": x}) for x in ({""a"": 1.3, ""b"": 4.3}, {""a"": 2.4, ""b"": 5.4}, {""a"": 3.5, ""b"": 7.7})] self.assertEqual([{""key"": ""a"", ""values"": [[1, 1.3], [2, 2.4], [3, 3.5]]}, {""key"": ""b"", ""values"": [[1, 4.3], [2, 5.4], [3, 7.7]]}], sorted(chart.render(), key=lambda x: x[""key""])) self.assertIsInstance(chart, charts.StackedAreaChart) expected = [ {""key"": ""duration"", ""values"": [[1, 1.1], [2, 0], [3, 1.3]]}, {""key"": ""idle_duration"", ""values"": [[1, 2.2], [2, 0], [3, 3.4]]}, {""key"": ""failed_duration"", ""values"": [[1, 0], [2, 1.6], [3, 0]]}] expected = [ {""key"": ""bar"", ""values"": [[1, 0], [2, 1.2], [3, 1.2]]}, {""key"": ""failed_duration"", ""values"": [[1, 0], [2, 39.7], [3, 6.8]]}, {""key"": ""foo"", ""values"": [[1, 1.1], [2, 1.1], [3, 0]]}] self.assertIsInstance(chart, charts.StackedAreaChart) self.assertEqual(expected, sorted(chart.render(), key=lambda x: x[""key""])) self.assertIsInstance(chart, charts.StackedAreaChart) expected = [{""key"": ""bar"", ""values"": [[1, 1.2], [2, 0], [3, 1.4]]}, {""key"": ""foo"", ""values"": [[1, 1.1], [2, 1.3], [3, 0]]}] self.assertEqual(expected, sorted(chart.render(), key=lambda x: x[""key""])) self.assertEqual([{""key"": ""a"", ""values"": 2.4}, {""key"": ""b"", ""values"": 5.8}], sorted(chart.render(), key=lambda x: x[""key""])) self.assertEqual([{""key"": ""bar"", ""values"": 4.0}, {""key"": ""foo"", ""values"": 2.0}], sorted(chart.render(), key=lambda x: x[""key""]))",19,58
openstack%2Fnetworking-ofagent~stable%2Fkilo~Ib13a9a708ecdcff3e0bdab3bb31ff40fd001f197,openstack/networking-ofagent,stable/kilo,Ib13a9a708ecdcff3e0bdab3bb31ff40fd001f197,Use neutron dependency in reuirements,ABANDONED,2015-08-13 21:28:03.000000000,2015-08-17 06:13:04.000000000,,"[{'_account_id': 3}, {'_account_id': 8344}, {'_account_id': 9656}, {'_account_id': 9681}]","[{'number': 1, 'created': '2015-08-13 21:28:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/888e36ffa8474ef2bc0d904ade1b140c054d3235', 'message': 'Use neutron dependency in reuirements\n\nCurrently, neutron dependency in reuirements works good.\nSo we can use neutron dependency.\n(referred to I5c84854069d556835001151462cb512b7f12ebe1)\n\nChange-Id: Ib13a9a708ecdcff3e0bdab3bb31ff40fd001f197\n'}]",4,212799,888e36ffa8474ef2bc0d904ade1b140c054d3235,6,4,1,8344,,,0,"Use neutron dependency in reuirements

Currently, neutron dependency in reuirements works good.
So we can use neutron dependency.
(referred to I5c84854069d556835001151462cb512b7f12ebe1)

Change-Id: Ib13a9a708ecdcff3e0bdab3bb31ff40fd001f197
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/99/212799/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,888e36ffa8474ef2bc0d904ade1b140c054d3235,kilo/use_neutron_in_requirement,deps = -r{toxinidir}/test-requirements.txt pip install -U -r requirements.txt,deps = -egit+https://git.openstack.org/openstack/neutron@stable/kilo#egg=neutron -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,5,14
openstack%2Fopenstack-manuals~master~I5165344b94e96e86830e8e7c9f2cd57471e6855f,openstack/openstack-manuals,master,I5165344b94e96e86830e8e7c9f2cd57471e6855f,Clean up of section_architecture_storage_focus.xml,MERGED,2015-08-14 05:50:10.000000000,2015-08-17 06:12:28.000000000,2015-08-17 06:10:57.000000000,"[{'_account_id': 3}, {'_account_id': 9188}, {'_account_id': 10497}, {'_account_id': 10897}, {'_account_id': 14396}, {'_account_id': 14962}, {'_account_id': 15497}]","[{'number': 1, 'created': '2015-08-14 05:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5fa17b7ebe3d4ffcb61f9ac04137401c8c1047c0', 'message': 'Clean up of section_architecture_storage_focus.xml\n\nEdits to the Architecture section of Storage Focused chapter\n\nChange-Id: I5165344b94e96e86830e8e7c9f2cd57471e6855f\nImplements: blueprint arch-guide\n'}, {'number': 2, 'created': '2015-08-14 06:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b63ccfb27d8106de3c494bf601cf0859ed59bf92', 'message': 'Clean up of section_architecture_storage_focus.xml\n\nEdits to the Architecture section of Storage Focused chapter\n\nChange-Id: I5165344b94e96e86830e8e7c9f2cd57471e6855f\nImplements: blueprint arch-guide\n'}, {'number': 3, 'created': '2015-08-17 01:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9b5f5fa98fb4a8d6f9a6b5e9c0712caaeaea0b7b', 'message': 'Clean up of section_architecture_storage_focus.xml\n\nEdits to the Architecture section of Storage Focused chapter\n\nChange-Id: I5165344b94e96e86830e8e7c9f2cd57471e6855f\nImplements: blueprint arch-guide\n'}, {'number': 4, 'created': '2015-08-17 04:43:29.000000000', 'files': ['doc/arch-design/storage_focus/section_architecture_storage_focus.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1bf3a012f449842e02cc336828291c9c7da12292', 'message': 'Clean up of section_architecture_storage_focus.xml\n\nEdits to the Architecture section of Storage Focused chapter\n\nChange-Id: I5165344b94e96e86830e8e7c9f2cd57471e6855f\nImplements: blueprint arch-guide\n'}]",10,212990,1bf3a012f449842e02cc336828291c9c7da12292,21,7,4,15497,,,0,"Clean up of section_architecture_storage_focus.xml

Edits to the Architecture section of Storage Focused chapter

Change-Id: I5165344b94e96e86830e8e7c9f2cd57471e6855f
Implements: blueprint arch-guide
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/90/212990/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/arch-design/storage_focus/section_architecture_storage_focus.xml'],1,5fa17b7ebe3d4ffcb61f9ac04137401c8c1047c0,bp/arch-guide," <para>Consider the following factors when selecting storage hardware:</para> <para>Storage-focused OpenStack clouds must address storage intensive workloads. These workloads are not compute intensive, nor are they consistently network intensive. The network may be <para>The selection of storage hardware determines the overall performance and scalability of a storage-focused OpenStack design architecture. Several factors impact the design process, including:</para> </varlistentry> <para>Latency is a key consideration in a storage-focused OpenStack cloud. Using solid-state disks (SSDs) to minimize latency and, to reduce CPU delays caused by waiting for the storage, increases performance. We recommend using RAID controller cards in compute hosts to improve the performance of the underlying disk subsystem.</para> <para>Depending on the storage architecture, determine if a scale-out solution, or a single highly expandable and scalable centralized storage array should be used. If a centralized storage array is the right fit for your requirements, then the array vendor determines the hardware selection. It is possible to build a storage array using commodity hardware with Open Source software, but requires people with expertise to build such a system.</para> storage hardware) of a Storage-focused OpenStack cloud include:</para> For example, if you select centralized storage array, determine how the hypervisors connect to the storage array. Connectivity can affect latency and thus performance. We recommended confirming that the network throughput is optimized for your application <para>Four opposing factors determine the compute (server) hardware selection:</para> <para>The relative cost of the hardware weighted against preferred vendor policies or concerns with support and hardware warranties of non-tier 1 vendors. 2U or 3U enclosure, ""sled servers"", deliver increased density as compared to a typical 1U-2U rack-mounted servers.</para> <para>Other factors that influence server hardware architecture include:</para> host count is to use a quad-socket platform. Taking hardware selection should focus on a ""scale-up"" versus ""scale-out"" solution. The determination of which is the best solution (a smaller number of larger hosts or a larger number of smaller hosts), depends on a combination of factors <para>Factors that influence the software selection for a storage-focused OpenStack architecture design include:</para> <para>Operating system (OS) and hypervisor has a significant impact selection. Ensure the selected operating system and support from both the operating system and hypervisor.</para> <para>Operating system and hypervisor selection affect the following areas:</para> <para>Selecting a commercially supported <para>Ensure the selected OS <para>Ensure the design can accommodate <para>Selecting the OS-hypervisor combination often determine the required features of OpenStack. Certain features are only available with specific OSes or hypervisors. For example, if certain features are not available, you might need to modify the design to meet user requirements.</para> <para>The OS-hypervisor combination should be chosen <para>The OpenStack components you choose can have a significant components that are always present (Compute and Image service, for example), there are other services that may not required to be present. As an example, a certain design may not require the Orchestration module. Omitting Orchestration would not typically have a significant impact on the overall design, however, if the architecture uses a replacement for OpenStack Object Storage for its storage component, this could potentially have significant impacts on the rest of the design.</para> Orchestration to launch instances with Block Storage volumes to perform storage-intensive processing.</para> <para>OpenStack Compute (nova) (including the use of multiple hypervisor drivers)</para> <para>OpenStack Object Storage (swift) (or another object storage solution)</para> <para>OpenStack Networking (neutron) or legacy networking (nova-network)</para> Keepalived, and various routing daemons (like Quagga). The"," <para>There are three areas to consider when selecting storage hardware:</para> <para>Storage-focused OpenStack clouds must reflect that the workloads are storage intensive. These workloads are not compute intensive, nor are they consistently network intensive. The network may be <para>For a storage-focused OpenStack design architecture, the selection of storage hardware determines the overall performance and scalability of the design architecture. Several factors impact the design process:</para> </varlistentry> <varlistentry> <term>Expandability</term> <listitem> <para>Expandability is the overall ability of the solution to grow. A storage solution that expands to 50 PB is more expandable than a solution that only scales to 10 PB.</para> <note> <para>This meter is related to scalability. </para> </note> </listitem> </varlistentry> <para>Latency is a key consideration in a storage-focused OpenStack cloud. Using solid-state disks (SSDs) to minimize latency for instance storage, and to reduce CPU delays caused by waiting for the storage, increases performance. We recommend evaluating the gains from using RAID controller cards in compute hosts to improve the performance of the underlying disk subsystem.</para> <para>The selection of storage architecture determines if a scale-out solution should be used or if a single, highly expandable and scalable centralized storage array would be a better choice. If a centralized storage array is the right fit for the requirements then the array vendor determines the hardware selection. It is possible to build a storage array using commodity hardware with Open Source software, but requires people with expertise to build such a system.</para> storage hardware) of a Storage-focused OpenStack cloud:</para> If selecting centralized storage array, determine how the hypervisors connect to the storage array. Connectivity can affect latency and thus performance. We recommended confirming that the network throughput is optimized based on application <para>Evaluate Compute (server) hardware four opposing dimensions:</para> <para>The relative of the hardware weighted against preferred vendor policies or concerns with support and hardware warranties of non-tier 1 vendors. 2U or 3U enclosure, ""sled servers"", deliver increased density as compared to a typical 1U-2U rack-mounted servers.</para> <para>Other factors strongly influence server hardware architecture. The following is a list of these factors:</para> host count is to use a quad socket platform. Taking hardware selection should focus on a ""scale up"" versus ""scale out"" solution. The determination of which is the best solution, a smaller number of larger hosts or a larger number of smaller hosts, depends on a combination of factors <para>Selecting software for a storage-focused OpenStack architecture design includes three areas:</para> <para>Selecting the OS and hypervisor has a significant impact selection. Ensure that the selected operating system and support from both the OS and hypervisor.</para> <para>OS and hypervisor selection affect the following areas:</para> <para>Selection of a commercially supported <para>Ensure that the selected OS <para>Ensure that the design can accommodate <para>Determine the required features of OpenStack. This often determines the selection of the OS-hypervisor combination. Certain features are only available with specific OSes or hypervisors. For example, if certain features are not available, you might need to modify the design to meet user requirements.</para> <para>Any chosen OS/hypervisor combination should be chosen <para>Which OpenStack components you choose can have a significant components that are always present, Compute and Image service, for example, there are other services that may not need to be present. As an example, a certain design may not require the Orchestration module. Omitting Orchestration would not typically have a significant impact on the overall design, however, if the architecture uses a replacement for OpenStack Object Storage for its storage component, this could potentially have significant impacts on the rest of the design.</para> Orchestration to launch instances with Block Storage volumes to perform storage-intensive processing.</para> <para>OpenStack Compute (nova) (including the use of multiple hypervisor drivers)</para> <para>OpenStack Object Storage (swift) (or another object storage solution)</para> <para>OpenStack Networking (neutron) or legacy networking (nova-network)</para> keepalived, and various routing daemons (like Quagga). The",75,89
openstack%2Fnetworking-ofagent~master~I43f60339e5fbdfb3cb999a674c481510b4eb0cd1,openstack/networking-ofagent,master,I43f60339e5fbdfb3cb999a674c481510b4eb0cd1,Use neutron dependency in requirements,ABANDONED,2015-08-13 00:11:55.000000000,2015-08-17 06:10:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9656}, {'_account_id': 9681}]","[{'number': 1, 'created': '2015-08-13 00:11:55.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/3a301f13809e4a67c14aef08749d9350585b1d25', 'message': 'Use neutron dependency in requirements\n\nCurrently, neutron dependency in requirements file works good.\nSo we can use neutron dependency.\n\nChange-Id: I43f60339e5fbdfb3cb999a674c481510b4eb0cd1\n'}]",2,212225,3a301f13809e4a67c14aef08749d9350585b1d25,5,3,1,8344,,,0,"Use neutron dependency in requirements

Currently, neutron dependency in requirements file works good.
So we can use neutron dependency.

Change-Id: I43f60339e5fbdfb3cb999a674c481510b4eb0cd1
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/25/212225/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,3a301f13809e4a67c14aef08749d9350585b1d25,use_neutron_in_requirement,install_command = pip install -U {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {opts} {packages},2,9
openstack%2Fsecurity-doc~master~Ic88cef336cc6c611295e9085399c9cb3fb297c19,openstack/security-doc,master,Ic88cef336cc6c611295e9085399c9cb3fb297c19,Remove Liberty as documented target,MERGED,2015-08-13 04:31:20.000000000,2015-08-17 05:56:28.000000000,2015-08-17 05:56:15.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 10497}, {'_account_id': 12325}]","[{'number': 1, 'created': '2015-08-13 04:31:20.000000000', 'files': ['security-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d8243201ea4393876fd0699bb3e34121d5fd74a4', 'message': ""Remove Liberty as documented target\n\nLiberty is not yet released, let's not mention it as documentation\ntarget.\n\nChange-Id: Ic88cef336cc6c611295e9085399c9cb3fb297c19\n""}]",0,212310,d8243201ea4393876fd0699bb3e34121d5fd74a4,8,4,1,6547,,,0,"Remove Liberty as documented target

Liberty is not yet released, let's not mention it as documentation
target.

Change-Id: Ic88cef336cc6c611295e9085399c9cb3fb297c19
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/10/212310/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/index.rst'],1,d8243201ea4393876fd0699bb3e34121d5fd74a4,bp/sec-guide-rst,"This guide documents OpenStack Kilo, OpenStack Juno,","This guide documents OpenStack Liberty, OpenStack Kilo, OpenStack Juno,",1,1
openstack%2Fsecurity-doc~master~I417d2b09b7cc863215979888d3f5af9b2d52f026,openstack/security-doc,master,I417d2b09b7cc863215979888d3f5af9b2d52f026,Remove initial warning,MERGED,2015-08-12 05:26:02.000000000,2015-08-17 05:51:56.000000000,2015-08-17 05:51:46.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 979}, {'_account_id': 6547}, {'_account_id': 9162}, {'_account_id': 10281}, {'_account_id': 10497}, {'_account_id': 10670}, {'_account_id': 12325}]","[{'number': 1, 'created': '2015-08-12 05:26:02.000000000', 'files': ['security-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/3fe08427a1d0ffb319a0ad152db40d1c3edd657f', 'message': 'Remove initial warning\n\nThis warning is not needed anymore, it was needed for the conversion\nphase.\n\nImplements: bp sec-guide-rst\nChange-Id: I417d2b09b7cc863215979888d3f5af9b2d52f026\n'}]",0,211847,3fe08427a1d0ffb319a0ad152db40d1c3edd657f,12,9,1,6547,,,0,"Remove initial warning

This warning is not needed anymore, it was needed for the conversion
phase.

Implements: bp sec-guide-rst
Change-Id: I417d2b09b7cc863215979888d3f5af9b2d52f026
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/47/211847/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/index.rst'],1,3fe08427a1d0ffb319a0ad152db40d1c3edd657f,bp/sec-guide-rst,,".. warning:: This guide is a work-in-progress and changing rapidly while we continue to test and enhance the guidance. Please note where there are open ""to do"" items and help where you are able. ",0,4
openstack%2Fdocs-specs~master~I15856f09d582d8c298eafa80e106f3a70be3743b,openstack/docs-specs,master,I15856f09d582d8c298eafa80e106f3a70be3743b,Create seperate OpenStack Labs repository,MERGED,2015-08-05 16:09:02.000000000,2015-08-17 05:39:44.000000000,2015-08-17 05:39:26.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 7007}, {'_account_id': 9162}, {'_account_id': 9178}, {'_account_id': 11109}]","[{'number': 1, 'created': '2015-08-05 16:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/3a1de7e1097d4197a8b8c2327c6f9c716b296c16', 'message': 'Introduces OpenStack Labs new speciality team.\n\nOpenStack Labs is the training-labs under training-guides. Since the\nIcehouse release, labs section is moving faster than the rest of the\ntraining guides and does not really sync with the documentation content\nin there. Thus, giving the scripts a new home will make it easier\nto develop, test and release the scripts.\n\nChange-Id: I15856f09d582d8c298eafa80e106f3a70be3743b\n'}, {'number': 2, 'created': '2015-08-05 18:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/caa1320da9283513d5b1907ccd9db83a31664f71', 'message': 'Introduces OpenStack Labs new speciality team.\n\nOpenStack Labs is the training-labs under training-guides. Since the\nIcehouse release, labs section is moving faster than the rest of the\ntraining guides and does not really sync with the documentation content\nin there. Thus, giving the scripts a new home will make it easier\nto develop, test and release the scripts.\n\nChange-Id: I15856f09d582d8c298eafa80e106f3a70be3743b\n'}, {'number': 3, 'created': '2015-08-06 07:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/f523b8e4031310e57d493b97d2b7921e657b3adc', 'message': 'Introduces OpenStack Labs new speciality team.\n\nOpenStack Labs is the training-labs under training-guides. Since the\nIcehouse release, labs section is moving faster than the rest of the\ntraining guides and does not really sync with the documentation content\nin there. Thus, giving the scripts a new home will make it easier\nto develop, test and release the scripts.\n\nChange-Id: I15856f09d582d8c298eafa80e106f3a70be3743b\n'}, {'number': 4, 'created': '2015-08-06 08:13:13.000000000', 'files': ['specs/liberty/openstacklabs.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/e83a15b26cc09abb04a6d471413141cb73265e93', 'message': 'Create seperate OpenStack Labs repository\n\nOpenStack Labs is the training-labs under training-guides. Since the\nIcehouse release, labs section is moving faster than the rest of the\ntraining guides and does not really sync with the documentation content\nin there. Thus, giving the scripts a new home will make it easier\nto develop, test and release the scripts.\n\nChange-Id: I15856f09d582d8c298eafa80e106f3a70be3743b\n'}]",19,209587,e83a15b26cc09abb04a6d471413141cb73265e93,22,7,4,7007,,,0,"Create seperate OpenStack Labs repository

OpenStack Labs is the training-labs under training-guides. Since the
Icehouse release, labs section is moving faster than the rest of the
training guides and does not really sync with the documentation content
in there. Thus, giving the scripts a new home will make it easier
to develop, test and release the scripts.

Change-Id: I15856f09d582d8c298eafa80e106f3a70be3743b
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/87/209587/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/openstacklabs.rst'],1,3a1de7e1097d4197a8b8c2327c6f9c716b296c16,openstack-labs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================== OpenStack Labs ==================================================== https://blueprints.launchpad.net/openstack-manuals/+spec/openstack-labs The OpenStack Labs speciality team aims to provide automated installation of OpenStack on VirtualBox/KVM. Problem description =================== Deploying OpenStack could be really challenging for beginners. OpenStack Labs would provide a simple automated way to have a multi-node vanilla OpenStack deployment on virtual machines. The following are the unique traits: * Easy to setup and run. * Minimal or no dependencies. * Minimal hardware requirements. * 4GB RAM * i3 processor (or similar quad core processor) * 50GB hard disk space. * Supports multiple platforms. * Linux * Mac * Windows * Closely follows install-guides. Proposed change =============== * Adds OpenStack Labs as a speciality team under Documentation Project. * Creation of new repository. * Migrating labs folder under training-guides to the new repository. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: * dguitarbite Other contributors: * rluethi * sayalilunkad Work Items ---------- * Create openstack-labs repository. * Migrate labs folder from training-guides to the new repository location. * Remove labs specific content from training-guides repository. * Refactor the repository structure to include new architecture for adding python support. Dependencies ============ * T.B.D. Testing ======= * Add bash and python syntax checks. * Create required infra jobs for openstack-labs. References ========== * Discussion can occur using any official medium including IRC in #openstack-doc, the openstack-docs mailing list with [install-guide] in the subject, weekly Installation Guide `specialty team meeting`_, weekly `documentation team meeting`_, and potentially etherpads. .. _`specialty team meeting`: https://wiki.openstack.org/wiki/Documentation/OpenStack-Labs .. _`documentation team meeting`: https://wiki.openstack.org/wiki/Meetings/DocTeamMeeting ",,98,0
openstack%2Fproject-config~master~I51854bd25e2b69704448829af4dcbd42b93fcf85,openstack/project-config,master,I51854bd25e2b69704448829af4dcbd42b93fcf85,Add experimental scenario dsvm jobs for Sahara,MERGED,2015-08-16 21:27:05.000000000,2015-08-17 05:38:27.000000000,2015-08-17 05:37:53.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-08-16 21:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/004b21405a1868b58c0547e8f4575b8aa934e07f', 'message': 'Add experimental scenario dsvm jobs for Sahara\n\nIt will be running bunch of scenario tests for Sahara for all\ncombinations of network and engine to fully test how the\nprovisioning part of Sahara works.\n\nChange-Id: I51854bd25e2b69704448829af4dcbd42b93fcf85\n'}, {'number': 2, 'created': '2015-08-16 21:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f0ead64dcba322ad4997ea44ff2ca226ca4c514', 'message': 'Add experimental scenario dsvm jobs for Sahara\n\nIt will be running bunch of scenario tests for Sahara for all\ncombinations of network and engine to fully test how the\nprovisioning part of Sahara works.\n\nChange-Id: I51854bd25e2b69704448829af4dcbd42b93fcf85\n'}, {'number': 3, 'created': '2015-08-16 22:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ecde400e99a89f36e705d7ebb1786e4eb00fec2', 'message': 'Add experimental scenario dsvm jobs for Sahara\n\nIt will be running bunch of scenario tests for Sahara for all\ncombinations of network and engine to fully test how the\nprovisioning part of Sahara works.\n\nChange-Id: I51854bd25e2b69704448829af4dcbd42b93fcf85\n'}, {'number': 4, 'created': '2015-08-16 22:55:26.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/62bc6c087bb090789e38991c0e7b3fdd38492e9e', 'message': 'Add experimental scenario dsvm jobs for Sahara\n\nIt will be running bunch of scenario tests for Sahara for all\ncombinations of network and engine to fully test how the\nprovisioning part of Sahara works.\n\nHook scripts in Sahara: Ibfd787247bf04b3c75d7341c3fecd6a5c5621e0d\n\nChange-Id: I51854bd25e2b69704448829af4dcbd42b93fcf85'}]",1,213541,62bc6c087bb090789e38991c0e7b3fdd38492e9e,12,3,4,6786,,,0,"Add experimental scenario dsvm jobs for Sahara

It will be running bunch of scenario tests for Sahara for all
combinations of network and engine to fully test how the
provisioning part of Sahara works.

Hook scripts in Sahara: Ibfd787247bf04b3c75d7341c3fecd6a5c5621e0d

Change-Id: I51854bd25e2b69704448829af4dcbd42b93fcf85",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/213541/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/sahara.yaml']",3,004b21405a1868b58c0547e8f4575b8aa934e07f,sahara-scenario-gate," - job-template: name: '{pipeline}-sahara-dsvm-scenario-{network}-{engine}{branch-designator}' node: '{node}' wrappers: - build-timeout: timeout: 130 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TIMEOUT=120 export DEVSTACK_LOCAL_CONFIG=""enable_plugin sahara git://git.openstack.org/openstack/sahara"" export DEVSTACK_GATE_TEMPEST=0 export DEVSTACK_GATE_EXERCISES=0 export DEVSTACK_GATE_INSTALL_TESTONLY=1 export KEEP_LOCALRC=1 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [ ""{network}"" == ""neutron"" ] ; then export DEVSTACK_GATE_NEUTRON=1 fi function pre_test_hook {{ cd /opt/stack/new/sahara/tools/gate/scenario ./pre_test_hook.sh {network} {engine} }} export -f pre_test_hook function post_test_hook {{ cd /opt/stack/new/sahara/tools/gate/scenario ./post_test_hook.sh {network} {engine} }} export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - devstack-logs - console-log",,89,1
openstack%2Fproject-config~master~I843f2ecc1dda6a8353654e18fbf10c87bd162df8,openstack/project-config,master,I843f2ecc1dda6a8353654e18fbf10c87bd162df8,"Revert ""zuul/layout: extend puppet-openstack-integration testing""",MERGED,2015-08-17 02:43:14.000000000,2015-08-17 05:11:52.000000000,2015-08-17 05:11:47.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-08-17 02:43:14.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8af06fb331db5806b225368feb6d6db132b3308d', 'message': 'Revert ""zuul/layout: extend puppet-openstack-integration testing""\n\nQuote from Paul Belanger:\n""Sadly, this gate is not going to work as expected. They expect the local git repo to actually be puppet-keystone, since this is the puppet-openstack-integration module we don\'t ship any acceptance tests.\n(...)""\n\nIt\'s pretty clear we need more work to get this done.\nThis reverts commit 5d6a86e7fbd862aabc7a0b67d1dff7de428520ba.\n\nChange-Id: I843f2ecc1dda6a8353654e18fbf10c87bd162df8\n'}]",0,213582,8af06fb331db5806b225368feb6d6db132b3308d,6,5,1,3153,,,0,"Revert ""zuul/layout: extend puppet-openstack-integration testing""

Quote from Paul Belanger:
""Sadly, this gate is not going to work as expected. They expect the local git repo to actually be puppet-keystone, since this is the puppet-openstack-integration module we don't ship any acceptance tests.
(...)""

It's pretty clear we need more work to get this done.
This reverts commit 5d6a86e7fbd862aabc7a0b67d1dff7de428520ba.

Change-Id: I843f2ecc1dda6a8353654e18fbf10c87bd162df8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/213582/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,8af06fb331db5806b225368feb6d6db132b3308d,puppet/integ,, - gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 gate: - gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7,0,3
openstack%2Fmurano~master~I247200cc611968905470e7eab051e7b371a622b2,openstack/murano,master,I247200cc611968905470e7eab051e7b371a622b2,Fix user can not see public packages,ABANDONED,2015-08-14 13:52:46.000000000,2015-08-17 04:56:54.000000000,,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 17192}]","[{'number': 1, 'created': '2015-08-14 13:52:46.000000000', 'files': ['murano/db/catalog/api.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/664f19316f55fbfa4a8179bfb58de3a253e40e41', 'message': 'Fix user can not see public packages\n\nNow users can only see their own package, actually user should\nbe able to see all public packages.\n\nCloses Bug: #1484947\n\nChange-Id: I247200cc611968905470e7eab051e7b371a622b2\n'}]",1,213156,664f19316f55fbfa4a8179bfb58de3a253e40e41,10,6,1,14107,,,0,"Fix user can not see public packages

Now users can only see their own package, actually user should
be able to see all public packages.

Closes Bug: #1484947

Change-Id: I247200cc611968905470e7eab051e7b371a622b2
",git fetch https://review.opendev.org/openstack/murano refs/changes/56/213156/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/db/catalog/api.py'],1,664f19316f55fbfa4a8179bfb58de3a253e40e41,bug/1484947," query = query.filter(or_( pkg.owner_id == context.tenant, pkg.is_public) )", query = query.filter(pkg.owner_id == context.tenant),3,1
openstack%2Fdjango_openstack_auth~stable%2Fkilo~I2abf8976787d2c9e20c84b6940f9a9da08376e2d,openstack/django_openstack_auth,stable/kilo,I2abf8976787d2c9e20c84b6940f9a9da08376e2d,Updated from global requirements,MERGED,2015-08-14 16:31:18.000000000,2015-08-17 04:49:58.000000000,2015-08-17 04:49:57.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5623}]","[{'number': 1, 'created': '2015-08-14 16:31:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/758122191fb30f1df56cc672f4db01ceeb82a017', 'message': 'Updated from global requirements\n\nChange-Id: I2abf8976787d2c9e20c84b6940f9a9da08376e2d\n'}]",0,213232,758122191fb30f1df56cc672f4db01ceeb82a017,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I2abf8976787d2c9e20c84b6940f9a9da08376e2d
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/32/213232/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,758122191fb30f1df56cc672f4db01ceeb82a017,openstack/requirements,"mox3<0.8.0,>=0.7.0",mox3>=0.7.0,1,1
openstack%2Fneutron~master~I587cd6fb2baa82fd7e452bb8597136efa5b8084e,openstack/neutron,master,I587cd6fb2baa82fd7e452bb8597136efa5b8084e,Add test that checks external tables are not changed,MERGED,2015-08-07 13:59:56.000000000,2015-08-17 04:43:09.000000000,2015-08-14 01:58:50.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-07 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/202c7d8a4cece180eb4b2a50782f274f87fd3fb8', 'message': 'Add test that checks external tables are not changed\n\nAlembic migrations should not change tables which models were moved\nout of Neutron. This change add check for this.\n\nCloses-bug: #1466704\n\nChange-Id: I587cd6fb2baa82fd7e452bb8597136efa5b8084e\n'}, {'number': 2, 'created': '2015-08-07 15:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7e932f5d8aeeff94e19feaeb509ab77c2b98002', 'message': 'Add test that checks external tables are not changed\n\nAlembic migrations should not change tables which models were moved\nout of Neutron. This change add check for this.\n\nCloses-bug: #1466704\n\nChange-Id: I587cd6fb2baa82fd7e452bb8597136efa5b8084e\n'}, {'number': 3, 'created': '2015-08-12 09:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78500cae0215a1ee0edc27e3271fd42fddba8629', 'message': 'Add test that checks external tables are not changed\n\nAlembic migrations should not change tables which models were moved\nout of Neutron. This change add check for this.\n\nCloses-bug: #1466704\n\nChange-Id: I587cd6fb2baa82fd7e452bb8597136efa5b8084e\n'}, {'number': 4, 'created': '2015-08-13 12:35:17.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43f3d7506121084e29d5084ea3da7cbd2e7e7902', 'message': 'Add test that checks external tables are not changed\n\nAlembic migrations should not change tables which models were moved\nout of Neutron. This change add check for this.\n\nAlso this change remove clear_override from db_sync in\n_TestModelsMigrations which is not needed.\n\nCloses-bug: #1466704\n\nChange-Id: I587cd6fb2baa82fd7e452bb8597136efa5b8084e\n'}]",11,210449,43f3d7506121084e29d5084ea3da7cbd2e7e7902,65,22,4,7249,,,0,"Add test that checks external tables are not changed

Alembic migrations should not change tables which models were moved
out of Neutron. This change add check for this.

Also this change remove clear_override from db_sync in
_TestModelsMigrations which is not needed.

Closes-bug: #1466704

Change-Id: I587cd6fb2baa82fd7e452bb8597136efa5b8084e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/210449/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,202c7d8a4cece180eb4b2a50782f274f87fd3fb8,bug/1466704,"import sixfrom sqlalchemy import event # There is no use to run this against both dialects, so add this test just # for MySQL tests def test_external_tables_not_changed(self): def block_external_tables(conn, clauseelement, multiparams, params): if isinstance(clauseelement, sqlalchemy.sql.selectable.Select): return if (isinstance(clauseelement, six.string_types) and any(name in clauseelement for name in external.TABLES)): self.fail(""Migration change external table!"") if hasattr(clauseelement, 'element'): if (clauseelement.element.name in external.TABLES or (hasattr(clauseelement, 'table') and clauseelement.element.table.name in external.TABLES)): self.fail(""Migration change external table!"") engine = self.get_engine() cfg.CONF.set_override('connection', engine.url, group='database') migration.do_alembic_command(self.alembic_config, 'upgrade', 'kilo') event.listen(engine, 'before_execute', block_external_tables) migration.do_alembic_command(self.alembic_config, 'upgrade', 'heads') event.remove(engine, 'before_execute', block_external_tables) cfg.CONF.clear_override('connection', group='database')", pass,30,1
openstack%2Fdragonflow~master~I506adabb2818c9f6d15b7d2362253493544ea946,openstack/dragonflow,master,I506adabb2818c9f6d15b7d2362253493544ea946,Add openvswitch-python to requierments,ABANDONED,2015-08-12 12:55:33.000000000,2015-08-17 04:36:19.000000000,,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-08-12 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/4abab8aefb37a5db4b3a5b1b70ca8c2f6a8cdf0c', 'message': 'Add openvswitch-python to requierments\n\nChange-Id: I506adabb2818c9f6d15b7d2362253493544ea946\n'}, {'number': 2, 'created': '2015-08-12 13:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/486c78a4daad6febbcc3247ec4afb21a2adffaa5', 'message': 'Add openvswitch-python to requierments\n\nChange-Id: I506adabb2818c9f6d15b7d2362253493544ea946\n'}, {'number': 3, 'created': '2015-08-13 05:17:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/270bbc290ce7045d7fdcb17bbca16b1722424d24', 'message': 'Add openvswitch-python to requierments\n\nChange-Id: I506adabb2818c9f6d15b7d2362253493544ea946\n'}]",0,212010,270bbc290ce7045d7fdcb17bbca16b1722424d24,12,3,3,11343,,,0,"Add openvswitch-python to requierments

Change-Id: I506adabb2818c9f6d15b7d2362253493544ea946
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/10/212010/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4abab8aefb37a5db4b3a5b1b70ca8c2f6a8cdf0c,,ovs>=2.4.0.dev0,,1,0
openstack%2Faodh~master~I6ebbcfeddd51d66de436c218819c20e319ccf03e,openstack/aodh,master,I6ebbcfeddd51d66de436c218819c20e319ccf03e,api: move API options to their own api group,MERGED,2015-08-11 16:36:53.000000000,2015-08-17 04:33:50.000000000,2015-08-17 04:33:40.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-11 16:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/d5b8e7d33c6510c8a5893370f3aab1a4ece58948', 'message': ""api: move API options to their own api group\n\nWe already have an 'api' group, let's use it for real.\n\nChange-Id: I6ebbcfeddd51d66de436c218819c20e319ccf03e\n""}, {'number': 2, 'created': '2015-08-11 17:00:27.000000000', 'files': ['aodh/api/app.py', 'aodh/tests/api/v2/test_acl_scenarios.py', 'aodh/tests/test_bin.py', 'aodh/tests/api/test_app.py', 'aodh/opts.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/adaf14ab3f99cea11d04bd3c16cdde124478a29f', 'message': ""api: move API options to their own api group\n\nWe already have an 'api' group, let's use it for real.\n\nChange-Id: I6ebbcfeddd51d66de436c218819c20e319ccf03e\n""}]",0,211660,adaf14ab3f99cea11d04bd3c16cdde124478a29f,19,5,2,1669,,,0,"api: move API options to their own api group

We already have an 'api' group, let's use it for real.

Change-Id: I6ebbcfeddd51d66de436c218819c20e319ccf03e
",git fetch https://review.opendev.org/openstack/aodh refs/changes/60/211660/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/app.py', 'aodh/tests/api/test_app.py', 'aodh/opts.py']",3,d5b8e7d33c6510c8a5893370f3aab1a4ece58948,jd/move-api-config," cfg.StrOpt( 'paste_config', deprecated_name='api_paste_config', deprecated_group='DEFAULT', default=""api_paste.ini"", help=""Configuration file for WSGI definition of API.""), cfg.IntOpt( 'workers', default=1, deprecated_name='api_workers', deprecated_group='DEFAULT', min=1, help='Number of workers for aodh API server.'),"," [ cfg.StrOpt( 'api_paste_config', default=""api_paste.ini"", help=""Configuration file for WSGI definition of API.""), cfg.IntOpt( 'api_workers', default=1, min=1, help='Number of workers for aodh API server.'), ],",15,13
openstack%2Fopenstack-manuals~master~I8061ba8a8230108898c48d0ff8d6431144338c11,openstack/openstack-manuals,master,I8061ba8a8230108898c48d0ff8d6431144338c11,swiftclient.service.SwiftError: 'Account not found',ABANDONED,2015-08-17 00:58:22.000000000,2015-08-17 03:04:57.000000000,,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 17203}]","[{'number': 1, 'created': '2015-08-17 00:58:22.000000000', 'files': ['doc/install-guide/section_swift-controller-node.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c0aaf32cac7f48356e24850e1ec11dbc4515bc05', 'message': ""swiftclient.service.SwiftError: 'Account not found'\n\nmessage:\nChange the pipeline's message.\n\nChange-Id: I8061ba8a8230108898c48d0ff8d6431144338c11\nCloses-Bug: #1485278\n""}]",0,213568,c0aaf32cac7f48356e24850e1ec11dbc4515bc05,5,3,1,17203,,,0,"swiftclient.service.SwiftError: 'Account not found'

message:
Change the pipeline's message.

Change-Id: I8061ba8a8230108898c48d0ff8d6431144338c11
Closes-Bug: #1485278
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/68/213568/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_swift-controller-node.xml'],1,c0aaf32cac7f48356e24850e1ec11dbc4515bc05,bug/1485278,pipeline = catch_errors healthcheck cache authtoken proxy-logging proxy-server</programlisting>,pipeline = catch_errors gatekeeper healthcheck proxy-logging cache container_sync bulk ratelimit authtoken keystoneauth container-quotas account-quotas slo dlo proxy-logging proxy-server</programlisting>,1,1
openstack%2Fglance~master~I7efd43d577db9fb5c0edbc1825a06a04d790cb0b,openstack/glance,master,I7efd43d577db9fb5c0edbc1825a06a04d790cb0b,Add new function 'show' in version.py,ABANDONED,2015-06-29 08:07:15.000000000,2015-08-17 02:47:41.000000000,,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9096}, {'_account_id': 11391}, {'_account_id': 12000}, {'_account_id': 15054}]","[{'number': 1, 'created': '2015-06-29 08:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/df58d30784f6ee0ccbb03456cf039c08fc6eb950', 'message': ""Add new function 'show' in version.py\n\nNow,there is no api to show api version details in v2,and it returns\nunexpected result in v1.This patch add a new function 'show' in\nversion.py,and add specific router in v2.\n\nDocImpact\nImplements: blueprint add-version-show-details\nChange-Id: I7efd43d577db9fb5c0edbc1825a06a04d790cb0b\n""}, {'number': 2, 'created': '2015-06-29 08:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a429858a3ebaadafd74839ab8fcad092939df1e1', 'message': ""Add new function 'show' in version.py\n\nNow,there is no api to show api version details in v2,and it returns\nunexpected result in v1.This patch add a new function 'show' in\nversion.py,and add specific router in v2.\n\nDocImpact\nImplements: blueprint add-version-show-details\nChange-Id: I7efd43d577db9fb5c0edbc1825a06a04d790cb0b\n""}, {'number': 3, 'created': '2015-06-29 09:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8dad01aca9e447c2247ac328e9aebf6db766fdaa', 'message': ""Add new function 'show' in version.py\n\nNow,there is no api to show api version details in v2,and it returns\nunexpected result in v1.This patch add a new function 'show' in\nversion.py,and add specific router in v2.\n\nDocImpact\nImplements: blueprint add-version-show-details\nChange-Id: I7efd43d577db9fb5c0edbc1825a06a04d790cb0b\n""}, {'number': 4, 'created': '2015-07-07 01:21:20.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/v2/router.py', 'glance/api/versions.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ea396a44c18dd9a372d9960b835afe6c8e88ffc3', 'message': ""Add new function 'show' in version.py\n\nNow,there is no api to show api version details in v2,and it returns\nunexpected result in v1.This patch add a new function 'show' in\nversion.py,and add specific router in v2.\n\nApiImpact\nDocImpact\nImplements: blueprint add-version-show-details\nChange-Id: I7efd43d577db9fb5c0edbc1825a06a04d790cb0b\n""}]",4,196575,ea396a44c18dd9a372d9960b835afe6c8e88ffc3,14,6,4,15054,,,0,"Add new function 'show' in version.py

Now,there is no api to show api version details in v2,and it returns
unexpected result in v1.This patch add a new function 'show' in
version.py,and add specific router in v2.

ApiImpact
DocImpact
Implements: blueprint add-version-show-details
Change-Id: I7efd43d577db9fb5c0edbc1825a06a04d790cb0b
",git fetch https://review.opendev.org/openstack/glance refs/changes/75/196575/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/v2/router.py', 'glance/api/versions.py']",3,df58d30784f6ee0ccbb03456cf039c08fc6eb950,bp/add-version-show-details,"VERSIONS_DETAILS = { 1: { ""versions"": [ ""v1.1: SUPPORTED"", ""v1.0: SUPPORTED"" ], ""links"": { ""rel"": ""described by"", ""href"": [ ""http://developer.openstack.org/api-ref-image-v1.html"", ""http://developer.openstack.org/api-ref-guides"" ""/bk-api-ref-image-v1.pdf""] }, ""media-types"": { ""base"": ""application/json"", ""type"": ""application/octet-stream"" } }, 2: { ""versions"": [ ""v2.3: CURRENT"", ""v2.2: SUPPORTED"", ""v2.1: SUPPORTED"", ""v2.0: SUPPORTED"" ], ""links"": { ""rel"": ""described by"", ""href"": [ ""http://developer.openstack.org/api-ref-image-v2.html"", ""http://developer.openstack.org/api-ref-guides"" ""/bk-api-ref-image-v2.pdf""] }, ""media-types"": [ { ""base"": ""application/json"", ""type"": ""application/octet-stream"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.1-json-patch"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.0-json-patch"", } ] }, # TODO(wangxiyuan): Update V3 API details in the future. 3: { ""versions"": [ ""v3.0: EXPERIMENTAL"" ], ""links"": { ""rel"": ""described by"", ""href"": ""None"" }, ""media-types"": [ { ""base"": ""application/json"", ""type"": ""application/octet-stream"", } ] } # If need more api version details, add below. } def show(self, req): """"""Respond to a request for specific version details."""""" details = VERSIONS_DETAILS.get(req.environ['api.version']) response = webob.Response(request=req, content_type='application/json') response.body = jsonutils.dumps(details) return response ",,120,0
openstack%2Fglance-specs~master~Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c,openstack/glance-specs,master,Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c,Add api for show api version details,ABANDONED,2015-06-26 03:04:48.000000000,2015-08-17 02:47:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 12000}, {'_account_id': 15054}]","[{'number': 1, 'created': '2015-06-26 03:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/06d8c50464190a25cea3c7996cb0b6d4e2bf106c', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 2, 'created': '2015-06-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f7b321895b6c2c5bb3ff25c7038d172aef894606', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 3, 'created': '2015-06-26 03:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ae92aacdccee7348e4b332ed6c519bb85fa73393', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 4, 'created': '2015-06-29 07:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1b8cdafae93c928f12b0af021c579b3baccacf19', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 5, 'created': '2015-07-02 01:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1125604fb0dc367a480a3edf996ee6635c0d6c3f', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 6, 'created': '2015-07-02 01:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/de349842dfdd8c7b9661b3522f62bba6f5fadcf3', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}, {'number': 7, 'created': '2015-07-02 01:51:48.000000000', 'files': ['specs/liberty/add-version-show-details.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c0b83df1df825e05c3cba11b2d1656a40ec2e90e', 'message': ""Add api for show api version details\n\nNow,there is no api to show api version details in v2.And in api v1,\nit will return all images'information , not the version details.\n\nBlueprint:\nhttps://blueprints.launchpad.net/glance/+spec/add-version-show-details\n\nChange-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c\n""}]",10,195852,c0b83df1df825e05c3cba11b2d1656a40ec2e90e,24,4,7,15054,,,0,"Add api for show api version details

Now,there is no api to show api version details in v2.And in api v1,
it will return all images'information , not the version details.

Blueprint:
https://blueprints.launchpad.net/glance/+spec/add-version-show-details

Change-Id: Ic27ca0205c19926f1a2d56cc6ba71c41442ae07c
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/52/195852/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/api/v2/add-version-show-details.rst'],1,06d8c50464190a25cea3c7996cb0b6d4e2bf106c,bp/add-version-show-details,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Show version details ========================================== https://blueprints.launchpad.net/glance/+spec/add-version-show-details Now, there is no function to show version details in API v2. Although API v1 contains this function, it gets wrong response. Problem description =================== End User or Deployer maybe want to get more information about API in different versions. But now, it returns ""The resource could not be found"" in API v2. And in API v1, it returns images' information instead. Proposed change =============== We should add a function to return the details information in versions.py, and add a GET request to exec this function in API V2. Then fix the bug in API V1. At last, we can add router in API V3 as well. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Method type and URL: GET / like:http://hostip:9292/v2/ Response codes: - 200 - generic successful response - 401 - unauthenticated client Response body Example: :: GET / { { ""id"": ""v2.3"", ""status"": ""CURRENT"", ""updated"": ""2015-06-28T12:20:21Z"", ""links"": [ { ""rel"": ""describedby"", ""type"": ""text/html"", ""href"": ""http://docs.openstack.org/"", }, ], ""media-types"": [ { ""base"": ""application/xml"", ""type"": ""application/octet-stream"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.1-json-patch"", } { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.0-json-patch"", } ], } { ""id"": ""v2.2"", ""status"": ""SUPPORTED"", ""updated"": ""2015-06-28T12:20:21Z"", ""links"": [ { ""rel"": ""describedby"", ""type"": ""text/html"", ""href"": ""http://docs.openstack.org/"", }, ], ""media-types"": [ { ""base"": ""application/xml"", ""type"": ""application/octet-stream"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.1-json-patch"", } { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.0-json-patch"", } ], } { ""id"": ""v2.1"", ""status"": ""SUPPORTED"", ""updated"": ""2015-06-28T12:20:21Z"", ""links"": [ { ""rel"": ""describedby"", ""type"": ""text/html"", ""href"": ""http://docs.openstack.org/"", }, ], ""media-types"": [ { ""base"": ""application/xml"", ""type"": ""application/octet-stream"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.1-json-patch"", } { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.0-json-patch"", } ], } { ""id"": ""v2.0"", ""status"": ""SUPPORTED"", ""updated"": ""2015-06-28T12:20:21Z"", ""links"": [ { ""rel"": ""describedby"", ""type"": ""text/html"", ""href"": ""http://docs.openstack.org/"", }, ], ""media-types"": [ { ""base"": ""application/xml"", ""type"": ""application/octet-stream"", }, { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.1-json-patch"", } { ""base"": ""application/json"", ""type"": ""application/openstack-images-v2.0-json-patch"", } ], } } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- End user will be able to get version details. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- wangxiyuan Reviewers --------- Work Items ---------- * Add detail information about each API version. * Add a function ""show"" in glance.api.versions:Controller, it returns the version's detail information. * Add a GET request in glance.api.v2.router:API. * Fix the API v1 bug in glance.api.v1.router:API. * Add router in glance.api.v3.router:API. * Write Unit Tests. * Add Tests in Tempest. Dependencies ============ None Testing ======= * Add test_version_show in glance.tests.unit. * Add new function both in tempest.services.image.v1.json.image_client and tempest.services.image.v2.json.image_client. Documentation Impact ==================== Glance API docs will be updated. References ========== None ",,244,0
openstack%2Fhorizon~master~Ic44bf6cd568584cc80e837e49ccec8fa6ce1a1ef,openstack/horizon,master,Ic44bf6cd568584cc80e837e49ccec8fa6ce1a1ef,"Cancel button in ""Create Keypair"" redirect to wrong url",MERGED,2015-08-05 01:54:59.000000000,2015-08-17 02:43:31.000000000,2015-08-17 02:43:01.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 6610}, {'_account_id': 8090}, {'_account_id': 9317}, {'_account_id': 9622}, {'_account_id': 12826}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-08-05 01:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd0c8b04b0d44536f920e6cf72fa5b2de037dd64', 'message': 'Cancel button in ""Create Keypair"" redirect to wrong url\n\nCancel button in ""Create Keypair"" Dialog not reserve to correct\nurl. When right click the ""Create Keypair"" button and open a\nnew page, click the Cancel button will cast error.\n\nChange-Id: Ic44bf6cd568584cc80e837e49ccec8fa6ce1a1ef\nCloses-Bug: #1481544\n'}, {'number': 2, 'created': '2015-08-06 16:16:30.000000000', 'files': ['openstack_dashboard/dashboards/project/access_and_security/keypairs/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4427bc316928767b693c432b3a336373ae497b77', 'message': 'Cancel button in ""Create Keypair"" redirect to wrong url\n\nCancel button in ""Create Keypair"" Dialog not reserve to correct\nurl. When right click the ""Create Keypair"" button and open a\nnew page, click the Cancel button will cast error.\n\nChange-Id: Ic44bf6cd568584cc80e837e49ccec8fa6ce1a1ef\nCloses-Bug: #1481544\n'}]",0,209313,4427bc316928767b693c432b3a336373ae497b77,20,8,2,14151,,,0,"Cancel button in ""Create Keypair"" redirect to wrong url

Cancel button in ""Create Keypair"" Dialog not reserve to correct
url. When right click the ""Create Keypair"" button and open a
new page, click the Cancel button will cast error.

Change-Id: Ic44bf6cd568584cc80e837e49ccec8fa6ce1a1ef
Closes-Bug: #1481544
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/209313/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/access_and_security/keypairs/views.py'],1,dd0c8b04b0d44536f920e6cf72fa5b2de037dd64,bug_1481544," cancel_url = reverse_lazy( ""horizon:project:access_and_security:index"")",,2,0
openstack%2Fproject-config~master~I120463f960918588ea62b507afa9b4acbe508fe3,openstack/project-config,master,I120463f960918588ea62b507afa9b4acbe508fe3,zuul/layout: extend puppet-openstack-integration testing,MERGED,2015-08-14 20:23:48.000000000,2015-08-17 02:43:18.000000000,2015-08-16 12:09:58.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-08-14 20:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3101135edd3f8fbca29355da577d670c76cc24e0', 'message': 'zuul/layout: extend puppet-openstack-integration testing\n\nTo avoid any future issue in puppet-* modules when patching\npuppet-openstack-integration, run\ngate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 job.\n\nNote:\n* puppet-keystone because this is our most popular module and usually\n  gets general changes the first, before other modules.\n* centos7 because dsvm jobs are scheduled & run faster on this plateform.\n\nChange-Id: I120463f960918588ea62b507afa9b4acbe508fe3\n'}, {'number': 2, 'created': '2015-08-14 20:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6700f92b6359d24ff1cb9beaeccfb43d0475940', 'message': 'zuul/layout: extend puppet-openstack-integration testing\n\nTo avoid any future issue in puppet-* modules when patching\npuppet-openstack-integration, run\ngate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 job.\n\nWhy:\nchanges in the integration repo affect the gates of the other modules, so we want to run some jobs from one of those modules as a ""canary"" to try to protect against accidentally breaking the gates of 25 other repos\n\nNote:\n* puppet-keystone because this is our most popular module and usually\n  gets general changes the first, before other modules.\n* centos7 because dsvm jobs are scheduled & run faster on this plateform.\n\nChange-Id: I120463f960918588ea62b507afa9b4acbe508fe3'}, {'number': 3, 'created': '2015-08-14 20:32:59.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5d6a86e7fbd862aabc7a0b67d1dff7de428520ba', 'message': 'zuul/layout: extend puppet-openstack-integration testing\n\nTo avoid any future issue in puppet-* modules when patching\npuppet-openstack-integration, run\ngate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 job.\n\nWhy:\nchanges in the integration repo affect the gates of the other modules,\nso we want to run some jobs from one of those modules as a ""canary""\nto try to protect against accidentally breaking the gates of 25 other\nrepos.\n\nNote:\n* puppet-keystone because this is our most popular module and usually\n  gets general changes the first, before other modules.\n* centos7 because dsvm jobs are scheduled & run faster on this plateform.\n\nChange-Id: I120463f960918588ea62b507afa9b4acbe508fe3'}]",0,213329,5d6a86e7fbd862aabc7a0b67d1dff7de428520ba,14,7,3,3153,,,0,"zuul/layout: extend puppet-openstack-integration testing

To avoid any future issue in puppet-* modules when patching
puppet-openstack-integration, run
gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 job.

Why:
changes in the integration repo affect the gates of the other modules,
so we want to run some jobs from one of those modules as a ""canary""
to try to protect against accidentally breaking the gates of 25 other
repos.

Note:
* puppet-keystone because this is our most popular module and usually
  gets general changes the first, before other modules.
* centos7 because dsvm jobs are scheduled & run faster on this plateform.

Change-Id: I120463f960918588ea62b507afa9b4acbe508fe3",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/213329/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,3101135edd3f8fbca29355da577d670c76cc24e0,puppet/integ, - gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 gate: - gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7,,3,0
openstack%2Fproject-config~master~Ie0bd2b9e8d6f4132f2daf661e8a72ca52b2497d2,openstack/project-config,master,Ie0bd2b9e8d6f4132f2daf661e8a72ca52b2497d2,jenkins/projects: add missing job to puppet-openstack-integration,ABANDONED,2015-08-16 22:57:35.000000000,2015-08-17 02:41:04.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-08-16 22:57:35.000000000', 'files': ['jenkins/jobs/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5c39b850d7c61e800da70362384d5f46053f6c69', 'message': 'jenkins/projects: add missing job to puppet-openstack-integration\n\nIn a previous commit, we extended Zuul layout for\npuppet-openstack-integration testing by adding\ngate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 to check & gate\npipelines.\n\nHowever, jobs were not declared in jenkins/jobs/projects.yaml.\nThis patch aims to fix that.\n\nChange-Id: Ie0bd2b9e8d6f4132f2daf661e8a72ca52b2497d2\n'}]",0,213561,5c39b850d7c61e800da70362384d5f46053f6c69,6,7,1,3153,,,0,"jenkins/projects: add missing job to puppet-openstack-integration

In a previous commit, we extended Zuul layout for
puppet-openstack-integration testing by adding
gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7 to check & gate
pipelines.

However, jobs were not declared in jenkins/jobs/projects.yaml.
This patch aims to fix that.

Change-Id: Ie0bd2b9e8d6f4132f2daf661e8a72ca52b2497d2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/213561/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,5c39b850d7c61e800da70362384d5f46053f6c69,puppet/integ, - gate-puppet-keystone-puppet-beaker-rspec-dsvm-centos7,,1,0
openstack%2Fcinder~master~I15f4ed1c028bc01558a2f5bf39d9fb294afd52bf,openstack/cinder,master,I15f4ed1c028bc01558a2f5bf39d9fb294afd52bf,Remove unused fake objects in vmdk test module,MERGED,2015-08-12 11:14:17.000000000,2015-08-17 02:15:03.000000000,2015-08-14 05:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10485}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}, {'_account_id': 15831}, {'_account_id': 16160}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-12 11:14:17.000000000', 'files': ['cinder/tests/unit/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb1ce414ae629b9e4fdef9d2a96fa1dd2f80f68c', 'message': 'Remove unused fake objects in vmdk test module\n\nPatch to remove unused fake objects in the vmdk unit\ntest module.\n\nChange-Id: I15f4ed1c028bc01558a2f5bf39d9fb294afd52bf\n'}]",0,211967,cb1ce414ae629b9e4fdef9d2a96fa1dd2f80f68c,39,32,1,9171,,,0,"Remove unused fake objects in vmdk test module

Patch to remove unused fake objects in the vmdk unit
test module.

Change-Id: I15f4ed1c028bc01558a2f5bf39d9fb294afd52bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/211967/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_vmware_vmdk.py'],1,cb1ce414ae629b9e4fdef9d2a96fa1dd2f80f68c,refactor_vmdk_tests,,"class FakeTaskInfo(object): def __init__(self, state, result=None): self.state = state self.result = result class FakeError(object): def __init__(self): self.localizedMessage = None self.error = FakeError() class FakeManagedObjectReference(object): def __init__(self, lis=None): self.ManagedObjectReference = lis or [] class FakeDatastoreSummary(object): def __init__(self, freeSpace, capacity, datastore=None, name=None): self.freeSpace = freeSpace self.capacity = capacity self.datastore = datastore self.name = name class FakeSnapshotTree(object): def __init__(self, tree=None, name=None, snapshot=None, childSnapshotList=None): self.rootSnapshotList = tree self.name = name self.snapshot = snapshot self.childSnapshotList = childSnapshotList class FakeElem(object): def __init__(self, prop_set=None): self.propSet = prop_set class FakeProp(object): def __init__(self, name=None, val=None): self.name = name self.val = val class FakeRetrieveResult(object): def __init__(self, objects, token): self.objects = objects self.token = token class FakeObj(object): def __init__(self, obj=None): self.obj = obj ",0,56
openstack%2Ftrove-integration~master~I8ce9ef6f5f2c8661633833653d3fe346af79eaa9,openstack/trove-integration,master,I8ce9ef6f5f2c8661633833653d3fe346af79eaa9,test REDSTACK_SCRIPTS instead of REQUIREMENTS_FILE,ABANDONED,2015-08-17 02:00:49.000000000,2015-08-17 02:02:26.000000000,,[],"[{'number': 1, 'created': '2015-08-17 02:00:49.000000000', 'files': ['scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/302b8ca3b44100206d8cb2548e2efca9e5b77217', 'message': 'test REDSTACK_SCRIPTS instead of REQUIREMENTS_FILE\n\nfedra-guest and ubuntu-guest scripts check REQUIREMENTS_FILE\nexistence. However, REQUIREMENTS_FILE is defined just before\nexistence check. The change makes it check REDSTACK_SCRIPTS\ninstead of REQUIREMENTS_FILE.\n\nCloses-Bug: #1485403\nChange-Id: I8ce9ef6f5f2c8661633833653d3fe346af79eaa9\n'}]",0,213576,302b8ca3b44100206d8cb2548e2efca9e5b77217,2,0,1,12758,,,0,"test REDSTACK_SCRIPTS instead of REQUIREMENTS_FILE

fedra-guest and ubuntu-guest scripts check REQUIREMENTS_FILE
existence. However, REQUIREMENTS_FILE is defined just before
existence check. The change makes it check REDSTACK_SCRIPTS
instead of REQUIREMENTS_FILE.

Closes-Bug: #1485403
Change-Id: I8ce9ef6f5f2c8661633833653d3fe346af79eaa9
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/76/213576/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep']",2,302b8ca3b44100206d8cb2548e2efca9e5b77217,check,"[ -e ${REDSTACK_SCRIPTS} ] || die ""Redstack scripts not found"" REQUIREMENTS_FILE=${REDSTACK_SCRIPTS}/files/requirements/fedora-requirements-${ADD_BRANCH}.txt","REQUIREMENTS_FILE=${REDSTACK_SCRIPTS}/files/requirements/fedora-requirements-${ADD_BRANCH}.txt[ -e ${REQUIREMENTS_FILE} ] || die ""Requirements not found""",6,4
openstack%2Fkeystone~master~I69cc668023329674b065c16cdde63f7a516572d1,openstack/keystone,master,I69cc668023329674b065c16cdde63f7a516572d1,Add is_domain field in Project Table,ABANDONED,2015-02-19 15:56:53.000000000,2015-08-17 01:50:40.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 1941}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7491}, {'_account_id': 7725}, {'_account_id': 8866}, {'_account_id': 8871}, {'_account_id': 8932}, {'_account_id': 8978}, {'_account_id': 9751}, {'_account_id': 10046}, {'_account_id': 11022}, {'_account_id': 13478}, {'_account_id': 15519}, {'_account_id': 16803}]","[{'number': 1, 'created': '2015-02-19 15:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9a2e2f6c018c5a29b0dd6b50f736fca8c04b9f07', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Rodrigo Duarte <rodrigods@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 2, 'created': '2015-02-19 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d0de030adfcb2711d663d2de6f0b41f2622c54c0', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 3, 'created': '2015-02-19 16:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e56c86084d393b9159476aeb139ac6cbcb699e69', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 4, 'created': '2015-02-19 17:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/477ac18a86807a0ab1dfb39d39999a59a9a29caf', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 5, 'created': '2015-02-20 13:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/252bebc64809ad04b1e0046a0053a2024f24eadc', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 6, 'created': '2015-02-20 13:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1a8e6e2b8f0e512ebb35618e41d94b1bc8ab2231', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 7, 'created': '2015-02-20 20:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5074c4112d84369b118532ff559bd95cd98a3aa6', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 8, 'created': '2015-02-20 20:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1d53f1268c3ae2e8eeb3d46b7ab96d59c5d7d83e', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 9, 'created': '2015-02-23 13:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d1e504b05b2bd05602db6cebfc9da72b83818d1', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 10, 'created': '2015-02-23 17:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f4b4626376561fa76c392ec533cf23aa3c5f1a64', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nPrevious patches include:\n  - Do not allow the use of slash in the project name\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 11, 'created': '2015-02-24 12:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/659149ef68e89a7bab4dcae3dec9e229904a5b43', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nPrevious patches include:\n  - Do not allow the use of slash in the project name\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 12, 'created': '2015-02-24 16:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9e523d2e0be14241daa669dc8bcd4db1ad2aa26', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nPrevious patches include:\n  - Do not allow the use of slash in the project name\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 13, 'created': '2015-02-26 20:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4bd84f00d0a3a226afa211a83fa7ac0c70a0a68', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 14, 'created': '2015-02-27 20:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c0bbdf1cdbddf03560c53c8ba798ce5672863fd', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 15, 'created': '2015-03-03 03:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/53c12dee9ee802851ab630ae7194ea90e37c2177', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 16, 'created': '2015-03-03 03:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a8cb751ae13903df4941d39a91accd51d35424e6', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 17, 'created': '2015-03-03 13:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8442d6bf7ef51c727d54b09055a2246f954b41e', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 18, 'created': '2015-03-03 14:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1b2721dd49b6f96d49e5d3ab006f6abf8516e823', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 19, 'created': '2015-03-03 16:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d5df0303aa2a6b490a31c1a97aaa626d9cab397', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 20, 'created': '2015-03-03 22:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b09394cca5ff60ffe848f364a738784ebca2dfeb', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 21, 'created': '2015-03-04 13:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8858d565bdc715f4fdc2d9bd79e0b742a48942a7', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 22, 'created': '2015-03-04 14:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4dc34ac68767355200a167333ff1d52dd04aba2b', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 23, 'created': '2015-03-04 19:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07ef25200ca7b01b218925e4f6eae7e517c76d83', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 24, 'created': '2015-03-05 16:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5638d70fb4210ec8d9ce2aba730eb767a1872726', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 25, 'created': '2015-03-05 19:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/826ecdfbbc976f10ff65d9c0ad19ee9dac3f0fbe', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 26, 'created': '2015-03-06 13:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7fc68d52ebb8ca04bfa2d938bc5dbd46d3c0c9a9', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 27, 'created': '2015-03-07 17:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91fbc60a4d9ab89a52432773ddfcb5a13cc4b5c5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 28, 'created': '2015-03-09 13:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/824ab909da9f8206306fe60d778e8f15d9ec0341', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 29, 'created': '2015-03-09 20:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e8e4a35643437de1b3d2eb4e9381d183bcc2bc7', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 30, 'created': '2015-03-09 20:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b34b116ebddd5da00dddc2c9352975d6cf36a33', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 31, 'created': '2015-03-11 16:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83cf32746b8e72da83b53325392a2f687802d66a', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 32, 'created': '2015-03-12 14:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7f2bfbb15bec9206282974e8c056908acd9a02e7', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 33, 'created': '2015-03-17 12:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d6a74a6ff6d84897dc4035ab6dfd4a5ed48787f3', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 34, 'created': '2015-03-19 20:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed57f4b3c596940be220e6c20d27ff6f30078c9f', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 35, 'created': '2015-03-24 13:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1b5f52112d3e0b3918190faf8150e844624790f5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 36, 'created': '2015-03-26 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9af5c32a31812f59eba4ae0722e978593b3dc9ff', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 37, 'created': '2015-03-27 14:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7432fd4b5893db6f0c978250a60b86ee792236a0', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 38, 'created': '2015-04-02 14:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3545c51671219330758c8c73ab58dc1872914597', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 39, 'created': '2015-04-07 13:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/62b84548e993721ca92767eacdf351d2c692ec4e', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 40, 'created': '2015-04-07 13:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64d3f5ae04aa6a363121c293b3e65c9e559c8d1c', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 41, 'created': '2015-04-07 17:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/263146829971e8c878165f26ac8935c2d7220ac2', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 42, 'created': '2015-04-07 20:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd5e39945d04887093a876333f5230975d2ed953', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 43, 'created': '2015-04-08 14:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/228b4b09dd8388b12b95a3dc1d39f1f57888b09a', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 44, 'created': '2015-04-08 20:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83f7d3279dd6b1410a50f3d8136f7d39788c696f', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 45, 'created': '2015-04-10 18:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/22556453d8d257523d9934b54a728912882d6bee', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 46, 'created': '2015-04-10 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2ce0ba1f6f2a574019ece097e26b24ba34c4d313', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 47, 'created': '2015-04-17 16:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcb92e23c88b74065bf3bcad8d65cebf805fd676', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 48, 'created': '2015-04-24 17:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf9e07c530d72e276b0bafe733f1838f587ba981', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 49, 'created': '2015-04-24 17:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/70ff6110baa4f583eaff4eb325563bb7c935bbfc', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 50, 'created': '2015-04-24 18:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/627d226c7ba304fd4790377681fffa4d9a38eee9', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 51, 'created': '2015-04-27 18:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/84d429ed5742703d4d07c0a6440ef1bcad73615a', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 52, 'created': '2015-04-29 15:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/969e903fb5a9af6f3cd01dc9f5a6ebaecb4759d5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 53, 'created': '2015-04-29 16:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f3574e36b4a84fd692d6b87a2ca890bb6e799c5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 54, 'created': '2015-04-29 17:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4bb82bc3bf56d0057a472df1808ad1ab952d2af5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 55, 'created': '2015-04-29 17:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c567167cf73fd7cfc19c71a58fd345ec0f4d4567', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 56, 'created': '2015-05-04 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2fbdb740d06fd59f5293b613dfa58b38503d978d', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 57, 'created': '2015-05-11 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7127d8cb7bb4635113964ca5badd1fd7350a9639', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 58, 'created': '2015-06-04 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/36d4c1a25d26e8a77a3c1d48ec5aeebd424a5734', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 59, 'created': '2015-06-04 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8506b211547d6474f554a5ffd121461cf7265ae5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nThis patch is part from the Reseller spec. Next patches of the\nseries include:\n  - Change project name constraint (use parent_id instead of domain_id)\n  - Honor domain operations in project table\n  - Migrate domains to project table (and drop domain table)\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 60, 'created': '2015-06-29 18:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d67ab67f9be13b30e8b58501eee8cc8f34ddde7a', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 61, 'created': '2015-06-30 12:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/44fdb5005683ff5d979c91db4c11175092806653', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 62, 'created': '2015-07-02 10:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9cc1f8d52ec202b66910925f84b522d911f53744', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 63, 'created': '2015-07-06 18:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8ee4be9ee583ecf14d14ecfc7fdb1b765bf341d5', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 64, 'created': '2015-07-09 22:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/123abdb87e2c0ae3759175307feac760f7e4915f', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 65, 'created': '2015-07-10 17:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07baf515763c2656db3bebf2468cb4cb5d8c7015', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 66, 'created': '2015-07-10 17:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/247d4d33b4aa1db58bf036f3daf4cbf0653e080a', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 67, 'created': '2015-07-10 19:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/78b25f20d27b02cb0342a1d1d9b9e0403905971f', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 68, 'created': '2015-07-13 14:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07261277681d0b8676a812068161fcb2f31104b0', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 69, 'created': '2015-07-17 18:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/009b696ea4daf07c9c18bba7b14688fe89113e23', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 70, 'created': '2015-07-18 22:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9fa302b041a334f5f764a6c7d015d4e3e69f07e', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nProjects with is_domain=true will have the parent_id=domain_id, while\nprojects with is_domain=false will have the domain_id set to the id of\nthe closest is_domain=True project upwards in its tree.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 71, 'created': '2015-07-20 19:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/60768a134f119d748e0724b216175faf2a2cdeb8', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nProjects with is_domain=true will have the parent_id=domain_id, while\nprojects with is_domain=false will have the domain_id set to the id of\nthe closest is_domain=True project upwards in its tree.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 72, 'created': '2015-07-22 03:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d0be9047e83ad1060cd3291e27ed16ccc69b1425', 'message': 'Add is_domain field in Project Table\n\nField to enable the possibility to have a project with the\ndomain ""feature"".\n\nProjects with is_domain=true will have the parent_id=domain_id, while\nprojects with is_domain=false will have the domain_id set to the id of\nthe closest is_domain=True project upwards in its tree.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 73, 'created': '2015-07-22 18:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/347eb4e58811347ad8a333d01de94432bf6dd864', 'message': 'Add is_domain field in Project Table\n\nMaybe reword to: Provide the underpinnings for allowing a project to act\nas a domain. Subsequent follow-on patches will build on this to provide\nfull domain operations on such projects.\n\nProjects with is_domain=true will have the parent_id=domain_id, while\nprojects with is_domain=false will have the domain_id set to the id of\nthe closest is_domain=True project upwards in its tree.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. We leave the controller code in place that\nrequires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies was merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 74, 'created': '2015-07-22 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0b4c17062bc866a9cc0abf76486577ee6335eb49', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 75, 'created': '2015-07-23 19:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/afe1e15e3e54b34d4491d3b55eda31b747898fce', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 76, 'created': '2015-07-24 17:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/be6d724efd4caf49c1c1108e26656edf740c480c', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 77, 'created': '2015-07-24 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/51e9249ac69d36fd55c3736b49d2d04ff623bb5e', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 78, 'created': '2015-07-24 19:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/691affe249a5f786ec347168f53a5a3244627b9e', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 79, 'created': '2015-07-27 15:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3c1933bcf0b439e063151d4eee9bdbac3dc2cb9', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 80, 'created': '2015-07-29 19:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1e971a81b6c0b3318d83c76856a09502fe1882f4', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 81, 'created': '2015-07-30 00:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f603628f592e4fb329e9301fd8c7d0002b8f98f7', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 82, 'created': '2015-07-30 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/855e40517187d033a0397e47de74a80a7395d0c8', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 83, 'created': '2015-07-30 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fade79bd2f509434c664cdd3e50ec172822b1941', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 84, 'created': '2015-07-31 14:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/459ddb7877d987038feb69c42e0a619e1f524daa', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 85, 'created': '2015-08-01 00:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/62aa416d02da1e053d6102fcc784c86ff1094b42', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 86, 'created': '2015-08-07 18:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/38237185ba1d1b62175c5e6485ff13d0c4aa4386', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 87, 'created': '2015-08-07 19:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/20b823832652266a037c906c06b09fb6c9487b8a', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 88, 'created': '2015-08-07 20:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a0bcdc670f598f5bce65bcf7ef4f7575ce99ed1b', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 89, 'created': '2015-08-07 20:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e0b6554e0951007ffca0b1a1a22adb33484d722', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 90, 'created': '2015-08-08 00:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/043bcd91c4b123d9a416b7f17c3ae46a003b11d2', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a domain.\nSubsequent follow-on patches will build on this to provide full domain\noperations on such projects.\n\nIn this patch we provide manager support for creating a project specifying a\nparent_id but not a domain_id. However, we leave the controller code in place\nthat requires a domain_id. This code will be removed once the follow-on patch\nthat ensures all projects are part of hierarchies is merged:\nhttps://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 91, 'created': '2015-08-11 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/445ad14f36ac842e8dab654cd00b90d7317c51a9', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a\ndomain. Subsequent follow-on patches will build on this to\nprovide full domain operations on such projects.\n\nIn this patch we provide manager support for creating a project\nspecifying a parent_id but not a domain_id. However, in the\ncontroller layer we still normalize the domain_id if no\nparent_id or domain_id were provided. This code will be removed\nonce the follow-on patch that ensures all projects are part of\nhierarchies is merged: https://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 92, 'created': '2015-08-12 02:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/03a47117d47ae0dedea3b0b91ada88df25eee10e', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a\ndomain. Subsequent follow-on patches will build on this to\nprovide full domain operations on such projects.\n\nIn this patch we provide manager support for creating a project\nspecifying a parent_id but not a domain_id. In the\ncontroller layer we still normalize the domain_id if no\nparent_id or domain_id were provided. This code will be removed\nonce the follow-on patch that ensures all projects are part of\nhierarchies is merged: https://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 93, 'created': '2015-08-12 12:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/38f2502910b4341f43f556fde4439149e89dbfb3', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a\ndomain. Subsequent follow-on patches will build on this to\nprovide full domain operations on such projects.\n\nIn this patch we provide manager support for creating a project\nspecifying a parent_id but not a domain_id. In the\ncontroller layer we still normalize the domain_id if no\nparent_id or domain_id were provided. This code will be removed\nonce the follow-on patch that ensures all projects are part of\nhierarchies is merged: https://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 94, 'created': '2015-08-12 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fe07d67f0b17b12c4c0fd85275be345f0c322260', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a\ndomain. Subsequent follow-on patches will build on this to\nprovide full domain operations on such projects.\n\nIn this patch we provide manager support for creating a project\nspecifying a parent_id but not a domain_id. In the\ncontroller layer we still normalize the domain_id if no\nparent_id or domain_id were provided. This code will be removed\nonce the follow-on patch that ensures all projects are part of\nhierarchies is merged: https://review.openstack.org/#/c/143763/\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}, {'number': 95, 'created': '2015-08-13 14:15:51.000000000', 'files': ['keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_validation.py', 'keystone/resource/schema.py', 'keystone/tests/unit/test_v2_controller.py', 'keystone/tests/unit/test_v3.py', 'keystone/resource/core.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/models.py', 'keystone/tests/unit/default_fixtures.py', 'keystone/resource/backends/ldap.py', 'keystone/common/controller.py', 'keystone/resource/backends/sql.py', 'keystone/resource/controllers.py', 'keystone/common/sql/migrate_repo/versions/074_add_is_domain_project.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f5039641af07a4ad906a54b3196a60aa17d7bea', 'message': 'Add is_domain field in Project Table\n\nProvide the underpinnings for allowing a project to act as a\ndomain. Subsequent follow-on patches will build on this to\nprovide full domain operations on such projects.\n\nIn this patch we provide manager support for creating a project\nspecifying a parent_id but not a domain_id. In the\ncontroller layer we still normalize the domain_id if no\nparent_id or domain_id were provided.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\n\nChange-Id: I69cc668023329674b065c16cdde63f7a516572d1\nPartially-Implements: bp reseller\n'}]",277,157427,4f5039641af07a4ad906a54b3196a60aa17d7bea,320,24,95,11022,,,0,"Add is_domain field in Project Table

Provide the underpinnings for allowing a project to act as a
domain. Subsequent follow-on patches will build on this to
provide full domain operations on such projects.

In this patch we provide manager support for creating a project
specifying a parent_id but not a domain_id. In the
controller layer we still normalize the domain_id if no
parent_id or domain_id were provided.

Co-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>
Co-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>

Change-Id: I69cc668023329674b065c16cdde63f7a516572d1
Partially-Implements: bp reseller
",git fetch https://review.opendev.org/openstack/keystone refs/changes/27/157427/81 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/models.py', 'keystone/tests/unit/default_fixtures.py', 'keystone/common/sql/migrate_repo/versions/065_add_is_domain_project.py', 'keystone/resource/schema.py', 'keystone/resource/backends/ldap.py', 'keystone/tests/unit/test_v3.py', 'keystone/resource/backends/sql.py', 'keystone/resource/core.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/test_backend.py', 'keystone/tests/unit/test_sql_upgrade.py']",11,9a2e2f6c018c5a29b0dd6b50f736fca8c04b9f07,bp/reseller," def test_project_is_domain_upgrade(self): self.upgrade(65) self.assertTableColumns('project', ['id', 'name', 'extra', 'description', 'enabled', 'domain_id', 'parent_id', 'is_domain']) def test_project_is_domain_downgrade(self): self.upgrade(65) self.downgrade(64) self.assertTableColumns('project', ['id', 'name', 'extra', 'description', 'enabled', 'domain_id', 'parent_id']) def test_project_is_domain_cleanup(self): # make sure that the is_domain field is dropped in the downgrade self.upgrade(65) session = self.Session() domain = {'id': uuid.uuid4().hex, 'name': uuid.uuid4().hex, 'enabled': True} project = { 'id': uuid.uuid4().hex, 'description': uuid.uuid4().hex, 'domain_id': domain['id'], 'is_domain': True, 'name': uuid.uuid4().hex, 'parent_id': None } self.insert_dict(session, 'domain', domain) self.insert_dict(session, 'project', project) proj_table = sqlalchemy.Table('project', self.metadata, autoload=True) self.assertEqual(1, session.query(proj_table).count()) project = session.query(proj_table)[0] self.assertEqual(True, getattr(project, 'is_domain')) session.close() self.downgrade(64) session = self.Session() self.metadata.clear() proj_table = sqlalchemy.Table('project', self.metadata, autoload=True) self.assertEqual(1, session.query(proj_table).count()) project = session.query(proj_table)[0] self.assertRaises(AttributeError, getattr, project, 'is_domain') ",,299,24
openstack%2Faodh~master~I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62,openstack/aodh,master,I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62,Introduce Guru Meditation Reports into Aodh,ABANDONED,2015-08-13 02:15:28.000000000,2015-08-17 01:12:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 8290}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-13 02:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/acdb599077a01bfa764695b6ecf8d66b17a30f64', 'message': 'Introduce Guru Meditation Reports into Aodh\n\nChange-Id: I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62\n'}, {'number': 2, 'created': '2015-08-13 02:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/db7eb7bbf5bb889e4390eca61111957d1c13f390', 'message': 'Introduce Guru Meditation Reports into Aodh\n\nChange-Id: I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62\n'}, {'number': 3, 'created': '2015-08-13 08:26:21.000000000', 'files': ['aodh/version.py', 'doc/source/index.rst', 'requirements.txt', 'aodh/service.py', 'doc/source/gmr.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/403d6cea60132a3ac751646944bc24cfd4911022', 'message': 'Introduce Guru Meditation Reports into Aodh\n\nChange-Id: I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62\n'}]",2,212263,403d6cea60132a3ac751646944bc24cfd4911022,11,5,3,8290,,,0,"Introduce Guru Meditation Reports into Aodh

Change-Id: I95bd5c1dbb4b4c7c52ab36b2c31d8a0e15869a62
",git fetch https://review.opendev.org/openstack/aodh refs/changes/63/212263/3 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/version.py', 'doc/source/index.rst', 'requirements.txt', 'aodh/service.py', 'doc/source/gmr.rst']",5,acdb599077a01bfa764695b6ecf8d66b17a30f64,support-guru,".. Copyright (c) 2014 OpenStack Foundation Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Guru Meditation Reports ======================= Aodh contains a mechanism whereby developers and system administrators can generate a report about the state of a running Aodh executable. This report is called a *Guru Meditation Report* (*GMR* for short). Generating a GMR ---------------- A *GMR* can be generated by sending the *USR1* signal to any Aodh process with support (see below). The *GMR* will then be outputted standard error for that particular process. For example, suppose that ``aodh-evaluator`` has process id ``8675``, and was run with ``2>/var/log/aodh/aodh-evaluator.log``. Then, ``kill -USR1 8675`` will trigger the Guru Meditation report to be printed to ``/var/log/aodh/aodh-evaluator.log``. Structure of a GMR ------------------ The *GMR* is designed to be extensible; any particular executable may add its own sections. However, the base *GMR* consists of several sections: Package Shows information about the package to which this process belongs, including version information Threads Shows stack traces and thread ids for each of the threads within this process Green Threads Shows stack traces for each of the green threads within this process (green threads don't have thread ids) Configuration Lists all the configuration options currently accessible via the CONF object for the current process Adding Support for GMRs to New Executables ------------------------------------------ Adding support for a *GMR* to a given executable is fairly easy. First import the module (currently residing in oslo-incubator), as well as the Aodh version module: .. code-block:: python from oslo_reports import guru_meditation_report as gmr from aodh import version Then, register any additional sections (optional): .. code-block:: python TextGuruMeditation.register_section('Some Special Section', some_section_generator) Finally (under main), before running the ""main loop"" of the executable (usually ``service.server(server)`` or something similar), register the *GMR* hook: .. code-block:: python TextGuruMeditation.setup_autorun(version) Extending the GMR ----------------- As mentioned above, additional sections can be added to the GMR for a particular executable. For more information, see the inline documentation about oslo.reports: `oslo.reports <http://docs.openstack.org/developer/oslo.reports/>`_ ",,116,0
openstack%2Fkolla~master~Ifdc9d19be172d0fa54edc8b039ea68b46c000528,openstack/kolla,master,Ifdc9d19be172d0fa54edc8b039ea68b46c000528,Bootstrap the heat images properly,ABANDONED,2015-08-02 19:31:03.000000000,2015-08-17 00:58:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10787}, {'_account_id': 14027}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-02 19:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9365d3634eb6831aed04fc94a521b7520b9a8f43', 'message': 'Bootstrap the heat images properly\n\nThis creates the domain users.  It reuquires some work from the\nbootstrap.yml to pass in several environment variables needed by\nthe heat domain setup script.\n\nChange-Id: Ifdc9d19be172d0fa54edc8b039ea68b46c000528\n'}, {'number': 2, 'created': '2015-08-03 14:15:32.000000000', 'files': ['docker/common/heat/heat-api/start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d53d3ad98d6f171e510f4e75a41be08bb93b8824', 'message': 'Bootstrap the heat images properly\n\nThis creates the domain users.  It reuquires some work from the\nbootstrap.yml to pass in several environment variables needed by\nthe heat domain setup script.\n\nChange-Id: Ifdc9d19be172d0fa54edc8b039ea68b46c000528\n'}]",2,208248,d53d3ad98d6f171e510f4e75a41be08bb93b8824,9,5,2,2834,,,0,"Bootstrap the heat images properly

This creates the domain users.  It reuquires some work from the
bootstrap.yml to pass in several environment variables needed by
the heat domain setup script.

Change-Id: Ifdc9d19be172d0fa54edc8b039ea68b46c000528
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/208248/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/common/heat/heat-api/start.sh'],1,9365d3634eb6831aed04fc94a521b7520b9a8f43,bp/ansible-service,"# Bootstrap and exit if KOLLA_BOOTSTRAP variable is set. This catches all cases # of the KOLLA_BOOTSTRAP variable being set, including empty. if [[ ""${!KOLLA_BOOTSTRAP[@]}"" ]]; then su -s /bin/sh -c ""heat-manage db_sync"" heat heat-keystone-setup-domain \ --stack-user-domain-name heat_user_domain \ --stack-domain-admin heat_domain_admin \ --stack-domain-admin-password password openstack role list -f csv | tail -n +2 | awk -F, '{print $2}' | grep heat_stack_user || keystone role-create --name heat_stack_user exit 0 fi ",,13,0
openstack%2Fneutron~stable%2Fkilo~Ifaaba14e6ac350d213426b5e50062c3ee5690272,openstack/neutron,stable/kilo,Ifaaba14e6ac350d213426b5e50062c3ee5690272,DNM just testing,ABANDONED,2015-08-11 18:39:34.000000000,2015-08-17 00:40:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-08-11 18:39:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7dbdc72c564fdf6681d3e24c14e059da8f8f956', 'message': 'DNM just testing\n\nChange-Id: Ifaaba14e6ac350d213426b5e50062c3ee5690272\nDepends-On: I82de97b9ceb29f1554aac253f36e17a132e009e4\n'}]",0,211707,b7dbdc72c564fdf6681d3e24c14e059da8f8f956,14,12,1,5196,,,0,"DNM just testing

Change-Id: Ifaaba14e6ac350d213426b5e50062c3ee5690272
Depends-On: I82de97b9ceb29f1554aac253f36e17a132e009e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/211707/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b7dbdc72c564fdf6681d3e24c14e059da8f8f956,(HEAD,I test ,,2,0
openstack%2Fcinder~master~I8f9d210083010b25833a7b108ae135417c72fd09,openstack/cinder,master,I8f9d210083010b25833a7b108ae135417c72fd09,VMware: Set virtual disk UUID to volume ID,MERGED,2015-07-24 11:05:55.000000000,2015-08-17 00:36:29.000000000,2015-08-14 05:19:28.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 5997}, {'_account_id': 6043}, {'_account_id': 7173}, {'_account_id': 7239}, {'_account_id': 8202}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9297}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12350}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-07-24 11:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/161fbe8a3f95b295477da3f13f60f88c3fce2131', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk backing a cinder volume to volume ID so that end-users can\nidentify the device associated with the volume using /dev/disk/\nby-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 2, 'created': '2015-07-27 07:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dad208da121302ea1f5ff112017471962bc39428', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk backing a cinder volume to volume ID so that end-users can\nidentify the device associated with the volume using /dev/disk/\nby-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 3, 'created': '2015-07-27 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f0c9ee5e7be8b1bcc0b1f6e2a566f82451af7ee', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk backing a cinder volume to volume ID so that end-users can\nidentify the device associated with the volume using /dev/disk/\nby-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 4, 'created': '2015-07-27 11:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/573e00a0538eeed0317cdf169d4f853048dad7aa', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk backing a cinder volume to volume ID so that end-users can\nidentify the device associated with the volume using /dev/disk/\nby-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 5, 'created': '2015-07-29 10:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c06563c4a94586f69ef57cb51146456bb0558004', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk corresponding to a cinder volume to volume ID so that end-\nusers can identify the device associated with the volume using\n/dev/disk/by-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 6, 'created': '2015-08-11 11:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/147f63f2d5183e6e0883dd45c44d5ddd62aa247a', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk corresponding to a cinder volume to volume ID so that end-\nusers can identify the device associated with the volume using\n/dev/disk/by-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 7, 'created': '2015-08-12 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8d6988877014846155cc71041a527a54ab236ee', 'message': 'VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disks as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. This patch sets the UUID of virtual\ndisk corresponding to a cinder volume to volume ID so that end-\nusers can identify the device associated with the volume using\n/dev/disk/by-id symlink.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n'}, {'number': 8, 'created': '2015-08-13 10:29:45.000000000', 'files': ['cinder/tests/unit/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92be3ae71ad2162091f92524a8c3034b85d222ad', 'message': ""VMware: Set virtual disk UUID to volume ID\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in VMware\nESX based Nova instance) use UUID of virtual disk as the SCSI device ID\nwhen disk.EnableUUID is set to True in the virtual machine configuration\nfile. This patch sets the UUID of virtual disk corresponding to a Cinder\nvolume (at the time of volume creation) to volume ID so that end-users\n(of Nova instance) can identify the device corresponding to an attached\nvolume in the guest using /dev/disk/by-id symlink.\n\nFor example, given a Cinder volume with ID = xyz, user can identify the\ndevice corresponding to the volume in instance's guest using the symlink\n/dev/disk/by-id/scsi-xyz provided disk.EnableUUID is set to True in the\ninstance's virtual machine configuration file (in ESX).\n\nNote: If the UUID of the virtual disk corresponding to a volume is unset\nat the time of volume creation, a random UUID will be used.\n\nCloses-Bug: #1475738\nChange-Id: I8f9d210083010b25833a7b108ae135417c72fd09\n""}]",4,205494,92be3ae71ad2162091f92524a8c3034b85d222ad,178,51,8,9171,,,0,"VMware: Set virtual disk UUID to volume ID

The symlinks in /dev/disk/by-id/ (in a Linux guest OS running in VMware
ESX based Nova instance) use UUID of virtual disk as the SCSI device ID
when disk.EnableUUID is set to True in the virtual machine configuration
file. This patch sets the UUID of virtual disk corresponding to a Cinder
volume (at the time of volume creation) to volume ID so that end-users
(of Nova instance) can identify the device corresponding to an attached
volume in the guest using /dev/disk/by-id symlink.

For example, given a Cinder volume with ID = xyz, user can identify the
device corresponding to the volume in instance's guest using the symlink
/dev/disk/by-id/scsi-xyz provided disk.EnableUUID is set to True in the
instance's virtual machine configuration file (in ESX).

Note: If the UUID of the virtual disk corresponding to a volume is unset
at the time of volume creation, a random UUID will be used.

Closes-Bug: #1475738
Change-Id: I8f9d210083010b25833a7b108ae135417c72fd09
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/205494/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/test_vmware_vmdk.py']",4,161fbe8a3f95b295477da3f13f60f88c3fce2131,bug/1475738," adapter_type, path.get_descriptor_ds_file_path(), volume['id']) adapter_type, path.get_descriptor_ds_file_path(), volume['id']) 'id': 'd11a82de-ddaa-448d-b50a-a255a7e61a1e', extra_config, volume['id']) extra_config, volume['id'])"," adapter_type, path.get_descriptor_ds_file_path()) adapter_type, path.get_descriptor_ds_file_path()) extra_config) extra_config)",133,44
openstack%2Fcinder~master~I08a5f1a39def14f164ab3ca08a480310ce0b79ca,openstack/cinder,master,I08a5f1a39def14f164ab3ca08a480310ce0b79ca,VMware: Add volume ID in vCenter's volume config,MERGED,2015-06-23 08:14:12.000000000,2015-08-17 00:24:21.000000000,2015-08-14 05:19:16.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2861}, {'_account_id': 5997}, {'_account_id': 6043}, {'_account_id': 6498}, {'_account_id': 8122}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9297}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12285}, {'_account_id': 12350}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14377}, {'_account_id': 14384}, {'_account_id': 14650}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-06-23 08:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a614ae5d2fe677eb33e51bfdf3d86ceecf640c2', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nImplements: blueprint vmdk-manage\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 2, 'created': '2015-06-24 12:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c16fbbf0ac4ddf678ebc24b75167a63bc68fb092', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nImplements: blueprint vmdk-manage\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 3, 'created': '2015-06-29 11:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c354a29514380d211da59bbf37b3f5d09d674ca7', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 4, 'created': '2015-07-22 13:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b48be51c39f231cd671d59f69f9d20a16815633', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 5, 'created': '2015-07-27 07:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d1582f65302d9484d1a2be334cf0d82b8666137', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 6, 'created': '2015-08-11 10:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e94de68c44258ca39f33d8a9982a5d876755a08', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nPatch to add key 'cinder.volume.id' with value set\nto volume UUID in volume's vCenter config file so\nthat other VMware solutions can uniquely identify\nCinder volumes.\n\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}, {'number': 7, 'created': '2015-08-12 08:13:35.000000000', 'files': ['cinder/tests/unit/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb98bb48f1af590ecdc0f5e064fdad31ef61eec8', 'message': ""VMware: Add volume ID in vCenter's volume config\n\nHP data protector's backup of vCenter inventory is failing\nfor 'in-use' Cinder volumes because the vmdk is attached\nto two VMs (Nova instance and the backing VM corresponding\nto Cinder volume). The solution is to skip the backing VM\nduring data protector's backup.\n\nThis patch adds key 'cinder.volume.id' with value set to\nvolume UUID in volume's vCenter config file so that other\nvCenter solutions can uniquely identify Cinder volumes.\n\nCloses-Bug: #1484012\nChange-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca\n""}]",21,194534,cb98bb48f1af590ecdc0f5e064fdad31ef61eec8,234,61,7,9171,,,0,"VMware: Add volume ID in vCenter's volume config

HP data protector's backup of vCenter inventory is failing
for 'in-use' Cinder volumes because the vmdk is attached
to two VMs (Nova instance and the backing VM corresponding
to Cinder volume). The solution is to skip the backing VM
during data protector's backup.

This patch adds key 'cinder.volume.id' with value set to
volume UUID in volume's vCenter config file so that other
vCenter solutions can uniquely identify Cinder volumes.

Closes-Bug: #1484012
Change-Id: I08a5f1a39def14f164ab3ca08a480310ce0b79ca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/194534/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/test_vmware_vmdk.py']",4,4a614ae5d2fe677eb33e51bfdf3d86ceecf640c2,bug/1484012," vol_id = 'd11a82de-ddaa-448d-b50a-a255a7e61a1e' extra_config = {vmdk.EXTRA_CONFIG_VOLUME_ID_KEY: vol_id} adapter_type, extra_config) volume = {'name': 'vol-1', 'id': 'd11a82de-ddaa-448d-b50a-a255a7e61a1e', 'size': 1} extra_config = {vmdk.EXTRA_CONFIG_VOLUME_ID_KEY: volume['id']} name, 0, disk_type, summary.name, profile_id, extra_config=extra_config) volume = {'name': 'vol-1', 'volume_type_id': None, 'size': 1, 'id': 'd11a82de-ddaa-448d-b50a-a255a7e61a1e'} extra_config = {vmdk.EXTRA_CONFIG_VOLUME_ID_KEY: volume['id']} None, extra_config) 'ide', extra_config) 'lsiLogic', extra_config)"," vol_id = '12345' adapter_type) volume = {'name': 'vol-1', 'id': 1, 'size': 1} name, 0, disk_type, summary.name, profile_id) volume = {'name': 'vol-1', 'volume_type_id': None, 'size': 1} None) 'ide') 'lsiLogic')",113,31
openstack%2Fkolla~master~I0fd38687958475ff350bb02df87cd5d00037e0fd,openstack/kolla,master,I0fd38687958475ff350bb02df87cd5d00037e0fd,Make openvswitch template containers use correct base,ABANDONED,2015-08-16 21:59:24.000000000,2015-08-16 22:56:34.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-16 21:59:24.000000000', 'files': ['docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d165bdf1b658294a93120d0d1f987141441b305', 'message': 'Make openvswitch template containers use correct base\n\nNeeds an ovs- prefix.\n\nChange-Id: I0fd38687958475ff350bb02df87cd5d00037e0fd\nPartially-Implements: blueprint docker-templates\n'}]",0,213557,7d165bdf1b658294a93120d0d1f987141441b305,3,1,1,2834,,,0,"Make openvswitch template containers use correct base

Needs an ovs- prefix.

Change-Id: I0fd38687958475ff350bb02df87cd5d00037e0fd
Partially-Implements: blueprint docker-templates
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/213557/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2']",2,7d165bdf1b658294a93120d0d1f987141441b305,bp/docker-templates,FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-ovs-base:{{ tag }},FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }},2,2
openstack%2Foslo.utils~master~Iad9821dca01839b3d9662a16be68225ce99c432c,openstack/oslo.utils,master,Iad9821dca01839b3d9662a16be68225ce99c432c,Allow access to reflection 'get_members',MERGED,2015-07-17 23:03:12.000000000,2015-08-16 22:45:57.000000000,2015-08-16 22:45:55.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-17 23:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3c3fe5d299324c7e4c9c85c61b73554e9229c08f', 'message': ""Allow access to reflection 'get_members'\n\nThis also adds some basic tests to ensure the get*members\nfunctions continue to work as expected under basic situations.\n\nChange-Id: Iad9821dca01839b3d9662a16be68225ce99c432c\n""}, {'number': 2, 'created': '2015-07-17 23:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/fc0862bf01699892006834c9cc7d66abbeadd9fc', 'message': ""Allow access to reflection 'get_members'\n\nThis also adds some basic tests to ensure the get*members\nfunctions continue to work as expected under basic situations.\n\nChange-Id: Iad9821dca01839b3d9662a16be68225ce99c432c\n""}, {'number': 3, 'created': '2015-08-04 04:18:05.000000000', 'files': ['oslo_utils/reflection.py', 'oslo_utils/tests/test_reflection.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/b7130e0a5ef0b8209a42ad6a1b7004f77fa55689', 'message': ""Allow access to reflection 'get_members'\n\nThis also adds some basic tests to ensure the get*members\nfunctions continue to work as expected under basic situations.\n\nChange-Id: Iad9821dca01839b3d9662a16be68225ce99c432c\n""}]",4,203273,b7130e0a5ef0b8209a42ad6a1b7004f77fa55689,12,4,3,1297,,,0,"Allow access to reflection 'get_members'

This also adds some basic tests to ensure the get*members
functions continue to work as expected under basic situations.

Change-Id: Iad9821dca01839b3d9662a16be68225ce99c432c
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/73/203273/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/reflection.py', 'oslo_utils/tests/test_reflection.py']",2,3c3fe5d299324c7e4c9c85c61b73554e9229c08f,,"class TestObject(object): def _hello(self): pass def hi(self): pass class MemberGetTest(test_base.BaseTestCase): def test_get_members_exclude_hidden(self): obj = TestObject() members = list(reflection.get_members(obj, True)) self.assertEqual(1, len(members)) def test_get_members_no_exclude_hidden(self): obj = TestObject() members = list(reflection.get_members(obj, False)) self.assertGreater(len(members), 1) def test_get_members_names_exclude_hidden(self): obj = TestObject() members = list(reflection.get_member_names(obj, True)) self.assertEqual(1, len(members)) self.assertNotIn(""_hello"", members) self.assertIn(""hi"", members) def test_get_members_names_no_exclude_hidden(self): obj = TestObject() members = list(reflection.get_member_names(obj, False)) self.assertGreater(len(members), 1) self.assertIn(""_hello"", members) self.assertIn(""hi"", members) ",,36,2
openstack%2Fcinder~master~Id7686bc801aaea30c1f7f24209044311656fa4cd,openstack/cinder,master,Id7686bc801aaea30c1f7f24209044311656fa4cd,Add objects.register_all() to cinder-all command,MERGED,2015-08-13 13:14:09.000000000,2015-08-16 22:45:25.000000000,2015-08-14 05:05:46.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 10379}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10674}, {'_account_id': 11600}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12540}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15882}, {'_account_id': 16160}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16814}, {'_account_id': 16862}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17405}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-13 13:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3b83cf723699d8a060825234079802992430fb6', 'message': 'Add objects.register_all() to cinder-all command\n\nIn cmd/all.py registration of objects was missing. This caused running\ncinder-all command to raise exceptions about unknown objects. Following\ncommit fixes this problem.\n\nChange-Id: Id7686bc801aaea30c1f7f24209044311656fa4cd\n'}, {'number': 2, 'created': '2015-08-13 13:29:44.000000000', 'files': ['cinder/cmd/all.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b456e9f5daafe74e454e9112dc616b48122d40b9', 'message': 'Add objects.register_all() to cinder-all command\n\nIn cmd/all.py registration of objects was missing. This caused running\ncinder-all command to raise exceptions about unknown objects. Following\ncommit fixes this problem.\n\nCloses-Bug: 1484533\nChange-Id: Id7686bc801aaea30c1f7f24209044311656fa4cd\n'}]",0,212519,b456e9f5daafe74e454e9112dc616b48122d40b9,43,36,2,11600,,,0,"Add objects.register_all() to cinder-all command

In cmd/all.py registration of objects was missing. This caused running
cinder-all command to raise exceptions about unknown objects. Following
commit fixes this problem.

Closes-Bug: 1484533
Change-Id: Id7686bc801aaea30c1f7f24209044311656fa4cd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/212519/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/all.py'],1,a3b83cf723699d8a060825234079802992430fb6,bug/1484533,from cinder import objects objects.register_all(),,2,0
openstack%2Fneutron~master~I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4,openstack/neutron,master,I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4,Updated from global requirements,MERGED,2015-08-13 20:18:37.000000000,2015-08-16 22:45:06.000000000,2015-08-16 18:43:03.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 5170}, {'_account_id': 6951}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-13 20:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8bd59c376b1e1f0b018a2238cd8fdf2a3d336c9', 'message': 'Updated from global requirements\n\nChange-Id: I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4\n'}, {'number': 2, 'created': '2015-08-14 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67da0e4b6a4674b14e6c768d570f62b8230dfd2f', 'message': 'Updated from global requirements\n\nChange-Id: I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4\n'}, {'number': 3, 'created': '2015-08-14 09:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/594d81fc1476cca108f44ebf3e3f2af3b6339aac', 'message': 'Updated from global requirements\n\nChange-Id: I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4\n'}, {'number': 4, 'created': '2015-08-15 20:50:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aea9c825740fe4b7b2d1ac2ee3b80a6282c5d639', 'message': 'Updated from global requirements\n\nChange-Id: I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4\n'}]",0,212749,aea9c825740fe4b7b2d1ac2ee3b80a6282c5d639,71,22,4,11131,,,0,"Updated from global requirements

Change-Id: I5fc0be8c97c21ef68174ff6b8807e05a5e1f19a4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/212749/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a8bd59c376b1e1f0b018a2238cd8fdf2a3d336c9,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Ftrove~master~I1f127f06225629fb2122eca4b9400d088ccee198,openstack/trove,master,I1f127f06225629fb2122eca4b9400d088ccee198,Updated from global requirements,MERGED,2015-08-13 20:22:54.000000000,2015-08-16 22:41:11.000000000,2015-08-16 22:41:05.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 10215}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-08-13 20:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/39157f666a3021f1ec4d4792b23eb63b96acc8f1', 'message': 'Updated from global requirements\n\nChange-Id: I1f127f06225629fb2122eca4b9400d088ccee198\n'}, {'number': 2, 'created': '2015-08-14 09:23:19.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/42153675a365dfd6838f6f4fa581606c0a005c37', 'message': 'Updated from global requirements\n\nChange-Id: I1f127f06225629fb2122eca4b9400d088ccee198\n'}]",0,212770,42153675a365dfd6838f6f4fa581606c0a005c37,12,5,2,11131,,,0,"Updated from global requirements

Change-Id: I1f127f06225629fb2122eca4b9400d088ccee198
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/212770/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,39157f666a3021f1ec4d4792b23eb63b96acc8f1,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I2ffd21a23552e39bdb220c4aaa0c5e372c52f7ce,openstack/cinder,master,I2ffd21a23552e39bdb220c4aaa0c5e372c52f7ce,Add oslo.vmware into test-requirements,MERGED,2015-08-12 20:35:52.000000000,2015-08-16 22:21:56.000000000,2015-08-13 15:44:27.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14206}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 16160}, {'_account_id': 16258}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17405}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-12 20:35:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/478e8e970e54aaf3a034dc6347605c1b18291d0d', 'message': ""Add oslo.vmware into test-requirements\n\nrun_tests.sh is currently broken due to the commit that made\ninstalling oslo.vmware optional: e67adc385ce6997249fbf70e9402264f758fc6f4\n\nThere are test cases that require oslo.vmware and the change made in the\ncommit for tox doesn't cover the case where run_tests.sh is used.  Without\nincluding oslo.vmware in the test-requirements file there are a number of\ntest cases that fail without the library installed.\n\nThis patch resolves the issue by move oslo.vmware over to the\ntest-requirements file.\n\nChange-Id: I2ffd21a23552e39bdb220c4aaa0c5e372c52f7ce\n""}]",0,212182,478e8e970e54aaf3a034dc6347605c1b18291d0d,36,30,1,7198,,,0,"Add oslo.vmware into test-requirements

run_tests.sh is currently broken due to the commit that made
installing oslo.vmware optional: e67adc385ce6997249fbf70e9402264f758fc6f4

There are test cases that require oslo.vmware and the change made in the
commit for tox doesn't cover the case where run_tests.sh is used.  Without
including oslo.vmware in the test-requirements file there are a number of
test cases that fail without the library installed.

This patch resolves the issue by move oslo.vmware over to the
test-requirements file.

Change-Id: I2ffd21a23552e39bdb220c4aaa0c5e372c52f7ce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/212182/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,478e8e970e54aaf3a034dc6347605c1b18291d0d,,oslo.vmware>=1.16.0 # Apache-2.0,,1,0
openstack%2Foslo.policy~master~I69787bfb1f32534b46672cc1be503c1e38e9f96f,openstack/oslo.policy,master,I69787bfb1f32534b46672cc1be503c1e38e9f96f,Updated from global requirements,MERGED,2015-08-13 02:17:59.000000000,2015-08-16 22:21:49.000000000,2015-08-16 22:21:48.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-08-13 02:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4185dd419a22ab80738895f92f928c7f18bf4209', 'message': 'Updated from global requirements\n\nChange-Id: I69787bfb1f32534b46672cc1be503c1e38e9f96f\n'}, {'number': 2, 'created': '2015-08-13 20:21:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/138089efec6dbbdc65bedf94ad77e1f5e4737c68', 'message': 'Updated from global requirements\n\nChange-Id: I69787bfb1f32534b46672cc1be503c1e38e9f96f\n'}]",0,212270,138089efec6dbbdc65bedf94ad77e1f5e4737c68,15,3,2,11131,,,0,"Updated from global requirements

Change-Id: I69787bfb1f32534b46672cc1be503c1e38e9f96f
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/70/212270/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4185dd419a22ab80738895f92f928c7f18bf4209,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Foslo.log~master~I0f3f4cf0f42fefcb9773a00c1437380b9fd8f21b,openstack/oslo.log,master,I0f3f4cf0f42fefcb9773a00c1437380b9fd8f21b,Provide a way to register versionutils options,MERGED,2015-08-07 15:51:15.000000000,2015-08-16 22:21:17.000000000,2015-08-16 22:21:16.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 5638}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-08-07 15:51:15.000000000', 'files': ['oslo_log/versionutils.py', 'oslo_log/tests/unit/test_versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/54bc7f2c925d7e66818a98b45622c68d15711fe8', 'message': ""Provide a way to register versionutils options\n\nThe versionutils functions will register their options when they're\nfirst called, but this forces applications to call the function in\norder to be able to override the option.\n\nA new function is added to register the options independently of\ncalling the existing functions.\n\nChange-Id: I0f3f4cf0f42fefcb9773a00c1437380b9fd8f21b\nCloses-Bug: 1474069\n""}]",2,210504,54bc7f2c925d7e66818a98b45622c68d15711fe8,10,4,1,6486,,,0,"Provide a way to register versionutils options

The versionutils functions will register their options when they're
first called, but this forces applications to call the function in
order to be able to override the option.

A new function is added to register the options independently of
calling the existing functions.

Change-Id: I0f3f4cf0f42fefcb9773a00c1437380b9fd8f21b
Closes-Bug: 1474069
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/04/210504/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/versionutils.py', 'oslo_log/tests/unit/test_versionutils.py']",2,54bc7f2c925d7e66818a98b45622c68d15711fe8,bug/1474069," @mock.patch.object(versionutils.CONF, 'register_opts') def test_register_options(self, mock_register_opts): # Calling register_options registers the config options. versionutils.register_options() mock_register_opts.assert_called_once_with( versionutils.deprecated_opts)",,20,1
openstack%2Foslo.messaging~feature%2Fzmq~I56634d4b4b9817833044a0d8f15cc6362d599a4f,openstack/oslo.messaging,feature/zmq,I56634d4b4b9817833044a0d8f15cc6362d599a4f,Use pickle instead of jsonutils for serialization,MERGED,2015-08-16 13:38:55.000000000,2015-08-16 21:56:35.000000000,2015-08-16 21:56:34.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-16 13:38:55.000000000', 'files': ['oslo_messaging/_drivers/zmq_driver/zmq_socket.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_pull_consumer.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_dealer_publisher.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_req_publisher.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_incoming_message.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_publisher_base.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fed1f734df42a9a6969628ac7d6a8b4c47f571d8', 'message': 'Use pickle instead of jsonutils for serialization\n\nPickle way of serialization is more preferrable\nbecause sometimes we have non json-serializable object\nin reply (e.g. cinder VolumeAttachment).\n\nChange-Id: I56634d4b4b9817833044a0d8f15cc6362d599a4f\n'}]",0,213503,fed1f734df42a9a6969628ac7d6a8b4c47f571d8,6,2,1,13290,,,0,"Use pickle instead of jsonutils for serialization

Pickle way of serialization is more preferrable
because sometimes we have non json-serializable object
in reply (e.g. cinder VolumeAttachment).

Change-Id: I56634d4b4b9817833044a0d8f15cc6362d599a4f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/03/213503/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/zmq_driver/zmq_socket.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_pull_consumer.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_dealer_publisher.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_req_publisher.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_incoming_message.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_publisher_base.py']",7,fed1f734df42a9a6969628ac7d6a8b4c47f571d8,," socket.send_pyobj(request.context, zmq.SNDMORE) socket.send_pyobj(request.message)"," socket.send_json(request.context, zmq.SNDMORE) socket.send_json(request.message)",18,12
openstack%2Foslo.middleware~master~Ia836ea531b965f562a8afff4b5b197ec35946788,openstack/oslo.middleware,master,Ia836ea531b965f562a8afff4b5b197ec35946788,Updated from global requirements,MERGED,2015-08-10 01:09:38.000000000,2015-08-16 21:54:45.000000000,2015-08-16 21:54:45.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-08-10 01:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/49fc40aeb2e093a1b3d13a9dcc03c9c3abad614b', 'message': 'Updated from global requirements\n\nChange-Id: Ia836ea531b965f562a8afff4b5b197ec35946788\n'}, {'number': 2, 'created': '2015-08-12 23:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/aa59d308db1226bb2b883710c1a3b2b380ee51cd', 'message': 'Updated from global requirements\n\nChange-Id: Ia836ea531b965f562a8afff4b5b197ec35946788\n'}, {'number': 3, 'created': '2015-08-13 02:17:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/728a2f901cafbc49b61c34cccf34fe9352f7bddb', 'message': 'Updated from global requirements\n\nChange-Id: Ia836ea531b965f562a8afff4b5b197ec35946788\n'}]",0,210910,728a2f901cafbc49b61c34cccf34fe9352f7bddb,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: Ia836ea531b965f562a8afff4b5b197ec35946788
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/10/210910/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,49fc40aeb2e093a1b3d13a9dcc03c9c3abad614b,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslo.versionedobjects~master~I30aa22027a9c0b764e0b34b631513b9d42e710ba,openstack/oslo.versionedobjects,master,I30aa22027a9c0b764e0b34b631513b9d42e710ba,Make ObjectListBase a collections.Sequence,MERGED,2015-08-10 17:12:11.000000000,2015-08-16 21:52:24.000000000,2015-08-16 21:52:20.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 5638}, {'_account_id': 8688}, {'_account_id': 11803}]","[{'number': 1, 'created': '2015-08-10 17:12:11.000000000', 'files': ['oslo_versionedobjects/base.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/2bb2ddd221e5bd9e2b8cbe264eae62694b71a42e', 'message': 'Make ObjectListBase a collections.Sequence\n\nThis means we get a number of methods for free and moreover expresses\nour intent more concisely.\n\nChange-Id: I30aa22027a9c0b764e0b34b631513b9d42e710ba\n'}]",0,211268,2bb2ddd221e5bd9e2b8cbe264eae62694b71a42e,11,5,1,8688,,,0,"Make ObjectListBase a collections.Sequence

This means we get a number of methods for free and moreover expresses
our intent more concisely.

Change-Id: I30aa22027a9c0b764e0b34b631513b9d42e710ba
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/68/211268/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/base.py'],1,2bb2ddd221e5bd9e2b8cbe264eae62694b71a42e,,class ObjectListBase(collections.Sequence):,"class ObjectListBase(object): def __iter__(self): """"""List iterator interface."""""" return iter(self.objects) def __contains__(self, value): """"""List membership test."""""" return value in self.objects def count(self, value): """"""List count of value occurrences."""""" return self.objects.count(value) def index(self, value): """"""List index of value."""""" return self.objects.index(value) ",1,17
openstack%2Foslo.utils~master~I5f09ed6c43fe0bcfad4875c146b71a9b558f5df8,openstack/oslo.utils,master,I5f09ed6c43fe0bcfad4875c146b71a9b558f5df8,Updated from global requirements,MERGED,2015-08-13 02:18:09.000000000,2015-08-16 21:49:22.000000000,2015-08-16 21:49:18.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-08-13 02:18:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ffcabf4b45a76449d6ca936dfac16a08d689bf7f', 'message': 'Updated from global requirements\n\nChange-Id: I5f09ed6c43fe0bcfad4875c146b71a9b558f5df8\n'}]",0,212272,ffcabf4b45a76449d6ca936dfac16a08d689bf7f,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I5f09ed6c43fe0bcfad4875c146b71a9b558f5df8
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/72/212272/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ffcabf4b45a76449d6ca936dfac16a08d689bf7f,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Foslo.i18n~stable%2Fkilo~Ie8fcf433430635851aa78060572575a57a41f571,openstack/oslo.i18n,stable/kilo,Ie8fcf433430635851aa78060572575a57a41f571,Updated from global requirements,MERGED,2015-07-13 15:02:13.000000000,2015-08-16 21:43:02.000000000,2015-08-16 21:43:01.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-07-13 15:02:13.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/156ab44894eca90b46ac218e7a00333c7039ee3c', 'message': 'Updated from global requirements\n\nChange-Id: Ie8fcf433430635851aa78060572575a57a41f571\n'}]",0,201185,156ab44894eca90b46ac218e7a00333c7039ee3c,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ie8fcf433430635851aa78060572575a57a41f571
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/85/201185/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,156ab44894eca90b46ac218e7a00333c7039ee3c,openstack/requirements,,#!/usr/bin/env python,5,6
openstack%2Foslo.versionedobjects~master~I1b7eb45335b5edb5f85ea991e96ea0b99f9d11a3,openstack/oslo.versionedobjects,master,I1b7eb45335b5edb5f85ea991e96ea0b99f9d11a3,Make compat of object lists use manifest function,MERGED,2015-08-12 13:45:48.000000000,2015-08-16 21:42:37.000000000,2015-08-16 21:42:36.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 5638}, {'_account_id': 11803}]","[{'number': 1, 'created': '2015-08-12 13:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/673336e7624822ecb8138a047d6a71af7bc53160', 'message': 'Make compat of object lists use manifest function\n\nChange I0c33a34a3cb454d6d35e2092d72ebd41d4c12729 introduced the use of a\nmanifest for improving the backporting of objects. That change switched\nover the compat code for regular objects to use the manifest. It also\nsent the manifest in for lists, but did not switch the function to use\nobj_make_compatible_from_manifest().\n\nChange-Id: I1b7eb45335b5edb5f85ea991e96ea0b99f9d11a3\n'}, {'number': 2, 'created': '2015-08-12 14:12:53.000000000', 'files': ['oslo_versionedobjects/base.py', 'oslo_versionedobjects/tests/test_objects.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/cb898f382e9a22dc9dcbc2de753d37b1b107176d', 'message': 'Make compat of object lists use manifest function\n\nChange I0c33a34a3cb454d6d35e2092d72ebd41d4c12729 introduced the use of a\nmanifest for improving the backporting of objects. That change switched\nover the compat code for regular objects to use the manifest. It also\nsent the manifest in for lists, but did not switch the function to use\nobj_make_compatible_from_manifest().\n\nChange-Id: I1b7eb45335b5edb5f85ea991e96ea0b99f9d11a3\nCloses-Bug: #1484133\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\n'}]",0,212030,cb898f382e9a22dc9dcbc2de753d37b1b107176d,8,4,2,11803,,,0,"Make compat of object lists use manifest function

Change I0c33a34a3cb454d6d35e2092d72ebd41d4c12729 introduced the use of a
manifest for improving the backporting of objects. That change switched
over the compat code for regular objects to use the manifest. It also
sent the manifest in for lists, but did not switch the function to use
obj_make_compatible_from_manifest().

Change-Id: I1b7eb45335b5edb5f85ea991e96ea0b99f9d11a3
Closes-Bug: #1484133
Co-Authored-By: Dan Smith <dansmith@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/30/212030/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/base.py'],1,673336e7624822ecb8138a047d6a71af7bc53160,bug/1484133, element.obj_make_compatible_from_manifest(, element.obj_make_compatible(,1,1
openstack%2Foslo.versionedobjects~master~I332c665e7fae01ae28080f821161b00f1886cc09,openstack/oslo.versionedobjects,master,I332c665e7fae01ae28080f821161b00f1886cc09,Add tests for subobject backporting by manifest,MERGED,2015-08-12 14:12:53.000000000,2015-08-16 21:42:35.000000000,2015-08-16 21:42:35.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11803}]","[{'number': 1, 'created': '2015-08-12 14:12:53.000000000', 'files': ['oslo_versionedobjects/tests/test_objects.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/59f69b486c1bdfe67203dffa76ad1c6d96c3e53f', 'message': ""Add tests for subobject backporting by manifest\n\nCommit b38c8ddb8508ac0eddbed77ab72afc50beb8ae2a introduced backporting\nvia manifest, but didn't include a test to make sure that subobjects were\nalso backported using the manifest. This adds that test.\n\nChange-Id: I332c665e7fae01ae28080f821161b00f1886cc09\n""}]",0,212043,59f69b486c1bdfe67203dffa76ad1c6d96c3e53f,7,3,1,4393,,,0,"Add tests for subobject backporting by manifest

Commit b38c8ddb8508ac0eddbed77ab72afc50beb8ae2a introduced backporting
via manifest, but didn't include a test to make sure that subobjects were
also backported using the manifest. This adds that test.

Change-Id: I332c665e7fae01ae28080f821161b00f1886cc09
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/43/212043/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/tests/test_objects.py'],1,59f69b486c1bdfe67203dffa76ad1c6d96c3e53f,bug/1484133," def test_obj_make_compatible_with_manifest_subobj(self): # Make sure that we call the subobject's ""from_manifest"" method # as well subobj = MyOwnedObject(baz=1) obj = MyObj(rel_object=subobj) obj.obj_relationships = {} manifest = {'MyOwnedObject': '1.2'} primitive = obj.obj_to_primitive()['versioned_object.data'] method = 'obj_make_compatible_from_manifest' with mock.patch.object(subobj, method) as mock_compat: obj.obj_make_compatible_from_manifest(primitive, '1.5', manifest) mock_compat.assert_called_once_with( primitive['rel_object']['versioned_object.data'], '1.2', version_manifest=manifest) ",,15,0
openstack%2Foslo.service~master~I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850,openstack/oslo.service,master,I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850,Use oslo_utils reflection to get 'f' callable name,MERGED,2015-08-09 07:06:26.000000000,2015-08-16 21:40:55.000000000,2015-08-16 21:40:54.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7293}]","[{'number': 1, 'created': '2015-08-09 07:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/81e7f75c37f06f156f036ee77ffbcb4c7bda16b4', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nUsing the utility function gets a better name.\n\nFor example:\n\n$ python\n\n>>> from oslo_utils import reflection\n>>> class A(object):\n...   def m(self):\n...     pass\n...\n>>> z = A()\n>>> reflection.get_callable_name(z.m)\n'__main__.A.m'\n\nVersus:\n\n>>> z.m.__name__\n'm'\n\nChange-Id: I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850\n""}, {'number': 2, 'created': '2015-08-09 07:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/31c89063b6fb289d9afa10ea1faa11ce266e2bc7', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nUsing the utility function gets a better name.\n\nFor example:\n\n$ python\n\n>>> from oslo_utils import reflection\n>>> class A(object):\n...   def m(self):\n...     pass\n...\n>>> z = A()\n>>> reflection.get_callable_name(z.m)\n'__main__.A.m'\n\nVersus:\n\n>>> z.m.__name__\n'm'\n\nChange-Id: I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850\n""}, {'number': 3, 'created': '2015-08-10 04:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/61c9268ecf609e94618088b9f3f876e3435da9dc', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nUsing the utility function gets a better name.\n\nFor example:\n\n$ python\n\n>>> from oslo_utils import reflection\n>>> class A(object):\n...   def m(self):\n...     pass\n...\n>>> z = A()\n>>> reflection.get_callable_name(z.m)\n'__main__.A.m'\n\nVersus:\n\n>>> z.m.__name__\n'm'\n\nChange-Id: I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850\n""}, {'number': 4, 'created': '2015-08-10 21:44:44.000000000', 'files': ['oslo_service/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9f624f7405b0bce0815e6b26c85a7c84af78c31b', 'message': ""Use oslo_utils reflection to get 'f' callable name\n\nUsing the utility function gets a better name.\n\nFor example:\n\n$ python\n\n>>> from oslo_utils import reflection\n>>> class A(object):\n...   def m(self):\n...     pass\n...\n>>> z = A()\n>>> reflection.get_callable_name(z.m)\n'__main__.A.m'\n\nVersus:\n\n>>> z.m.__name__\n'm'\n\nChange-Id: I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850\n""}]",0,210803,9f624f7405b0bce0815e6b26c85a7c84af78c31b,14,3,4,1297,,,0,"Use oslo_utils reflection to get 'f' callable name

Using the utility function gets a better name.

For example:

$ python

>>> from oslo_utils import reflection
>>> class A(object):
...   def m(self):
...     pass
...
>>> z = A()
>>> reflection.get_callable_name(z.m)
'__main__.A.m'

Versus:

>>> z.m.__name__
'm'

Change-Id: I2eb9f49f6d7578d5d4e3a40cbd695e6622f3f850
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/03/210803/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/loopingcall.py'],1,81e7f75c37f06f156f036ee77ffbcb4c7bda16b4,,"from oslo_utils import reflection LOG.debug(""Waiting for function %s to return."", reflection.get_callable_name(f)"," LOG.debug(""Waiting for function %s to return."", f.__name__)",3,1
openstack%2Foslo.service~master~I90a1b422e00a5d2978e74f3798e17d58a58572bc,openstack/oslo.service,master,I90a1b422e00a5d2978e74f3798e17d58a58572bc,"Update ""Signal handling"" section of usage docs",MERGED,2015-08-13 13:11:36.000000000,2015-08-16 21:40:40.000000000,2015-08-16 21:40:36.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 13:11:36.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/0e3c918e88575936b0492af57316e35731daa4a3', 'message': 'Update ""Signal handling"" section of usage docs\n\n* Add SIGINT to the list of handled signals.\n* Add a note that SIGHUP is not supported on Windows.\n\nChange-Id: I90a1b422e00a5d2978e74f3798e17d58a58572bc\nRelated-Bug: #1481607\n'}]",0,212517,0e3c918e88575936b0492af57316e35731daa4a3,6,2,1,7293,,,0,"Update ""Signal handling"" section of usage docs

* Add SIGINT to the list of handled signals.
* Add a note that SIGHUP is not supported on Windows.

Change-Id: I90a1b422e00a5d2978e74f3798e17d58a58572bc
Related-Bug: #1481607
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/17/212517/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,0e3c918e88575936b0492af57316e35731daa4a3,bug/1481607,"oslo_service.service provides handlers for such signals as SIGTERM, SIGINT and SIGHUP.*NOTE:* SIGHUP is not supported on Windows. ",oslo_service.service provides handlers for such signals as SIGTERM and SIGHUP.,3,1
openstack%2Foslo.serialization~master~I7922d813751317627a1e2b36f46cf705e0f523af,openstack/oslo.serialization,master,I7922d813751317627a1e2b36f46cf705e0f523af,Updated from global requirements,MERGED,2015-08-13 20:21:10.000000000,2015-08-16 21:35:54.000000000,2015-08-16 21:35:49.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 20:21:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/ed9a042959d19756e4597ac9e5c0f0b23bdc7b24', 'message': 'Updated from global requirements\n\nChange-Id: I7922d813751317627a1e2b36f46cf705e0f523af\n'}]",0,212754,ed9a042959d19756e4597ac9e5c0f0b23bdc7b24,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7922d813751317627a1e2b36f46cf705e0f523af
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/54/212754/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ed9a042959d19756e4597ac9e5c0f0b23bdc7b24,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Foslo.db~master~I85840c413e6bfc63e2a459b2f4d440683b7f4ebc,openstack/oslo.db,master,I85840c413e6bfc63e2a459b2f4d440683b7f4ebc,Updated from global requirements,MERGED,2015-08-10 01:09:31.000000000,2015-08-16 21:34:58.000000000,2015-08-16 21:34:57.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6849}]","[{'number': 1, 'created': '2015-08-10 01:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5e4f0433bf0e4acea6e0f12064ba3668dcd18fd7', 'message': 'Updated from global requirements\n\nChange-Id: I85840c413e6bfc63e2a459b2f4d440683b7f4ebc\n'}, {'number': 2, 'created': '2015-08-13 02:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/24ae106ea7c85d555f7a731a8ce54ca67c1ed1f2', 'message': 'Updated from global requirements\n\nChange-Id: I85840c413e6bfc63e2a459b2f4d440683b7f4ebc\n'}, {'number': 3, 'created': '2015-08-13 20:20:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b2f960ebd123601821cce7336f0ec7198111ae9e', 'message': 'Updated from global requirements\n\nChange-Id: I85840c413e6bfc63e2a459b2f4d440683b7f4ebc\n'}]",0,210906,b2f960ebd123601821cce7336f0ec7198111ae9e,13,3,3,11131,,,0,"Updated from global requirements

Change-Id: I85840c413e6bfc63e2a459b2f4d440683b7f4ebc
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/06/210906/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5e4f0433bf0e4acea6e0f12064ba3668dcd18fd7,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslo.versionedobjects~master~I4b7dab84448acb5866f37629725d34f28bed9fc6,openstack/oslo.versionedobjects,master,I4b7dab84448acb5866f37629725d34f28bed9fc6,Updated from global requirements,MERGED,2015-08-13 02:18:11.000000000,2015-08-16 21:23:06.000000000,2015-08-16 21:23:05.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 02:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/c9beb4611710ae2a4fc04f798954723ae7438414', 'message': 'Updated from global requirements\n\nChange-Id: I4b7dab84448acb5866f37629725d34f28bed9fc6\n'}, {'number': 2, 'created': '2015-08-13 20:21:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/f145204b467d270472d50b07b17f1e6af13617e0', 'message': 'Updated from global requirements\n\nChange-Id: I4b7dab84448acb5866f37629725d34f28bed9fc6\n'}]",0,212273,f145204b467d270472d50b07b17f1e6af13617e0,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I4b7dab84448acb5866f37629725d34f28bed9fc6
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/73/212273/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c9beb4611710ae2a4fc04f798954723ae7438414,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Foslo.context~master~Icd494f87c63048a57c6265e42ae5910906a36c55,openstack/oslo.context,master,Icd494f87c63048a57c6265e42ae5910906a36c55,Updated from global requirements,MERGED,2015-08-10 01:09:29.000000000,2015-08-16 21:17:24.000000000,2015-08-16 21:17:23.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-10 01:09:29.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/bd83404bdb5b13ff75282040fc146f343172a617', 'message': 'Updated from global requirements\n\nChange-Id: Icd494f87c63048a57c6265e42ae5910906a36c55\n'}]",0,210905,bd83404bdb5b13ff75282040fc146f343172a617,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Icd494f87c63048a57c6265e42ae5910906a36c55
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/05/210905/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bd83404bdb5b13ff75282040fc146f343172a617,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Ftooz~master~I74bf61f0d1311d398f1b1d9961066f623d02b476,openstack/tooz,master,I74bf61f0d1311d398f1b1d9961066f623d02b476,Updated from global requirements,MERGED,2015-08-13 20:22:50.000000000,2015-08-16 21:15:03.000000000,2015-08-16 21:15:02.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 20:22:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tooz/commit/6bfc5b87a056c77c9fd8583a1e86e1c41df16236', 'message': 'Updated from global requirements\n\nChange-Id: I74bf61f0d1311d398f1b1d9961066f623d02b476\n'}]",0,212769,6bfc5b87a056c77c9fd8583a1e86e1c41df16236,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I74bf61f0d1311d398f1b1d9961066f623d02b476
",git fetch https://review.opendev.org/openstack/tooz refs/changes/69/212769/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6bfc5b87a056c77c9fd8583a1e86e1c41df16236,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Foslo.reports~master~Ia00c82b76af3f39e3238223b90444eaa6c8c059b,openstack/oslo.reports,master,Ia00c82b76af3f39e3238223b90444eaa6c8c059b,Updated from global requirements,MERGED,2015-08-10 01:09:40.000000000,2015-08-16 21:14:46.000000000,2015-08-16 21:14:46.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-10 01:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/5a17a563843e0248b14c8936d1f60ecafeb9c933', 'message': 'Updated from global requirements\n\nChange-Id: Ia00c82b76af3f39e3238223b90444eaa6c8c059b\n'}, {'number': 2, 'created': '2015-08-13 02:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/95660184a16d7d5a3ac954151614e7cef83a39b0', 'message': 'Updated from global requirements\n\nChange-Id: Ia00c82b76af3f39e3238223b90444eaa6c8c059b\n'}, {'number': 3, 'created': '2015-08-13 20:21:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/57d6c1e34fdce2661fece3fe6d4f3b8a336dfe48', 'message': 'Updated from global requirements\n\nChange-Id: Ia00c82b76af3f39e3238223b90444eaa6c8c059b\n'}]",0,210911,57d6c1e34fdce2661fece3fe6d4f3b8a336dfe48,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: Ia00c82b76af3f39e3238223b90444eaa6c8c059b
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/11/210911/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5a17a563843e0248b14c8936d1f60ecafeb9c933,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslo.service~master~I69fd29140ba219ec5426360aa30ee8908ce19d5c,openstack/oslo.service,master,I69fd29140ba219ec5426360aa30ee8908ce19d5c,Updated from global requirements,MERGED,2015-08-13 02:18:08.000000000,2015-08-16 21:14:00.000000000,2015-08-16 21:13:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7293}]","[{'number': 1, 'created': '2015-08-13 02:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/11d38ecfed9d9cae3f1f36dbee025d00d6c046d3', 'message': 'Updated from global requirements\n\nChange-Id: I69fd29140ba219ec5426360aa30ee8908ce19d5c\n'}, {'number': 2, 'created': '2015-08-13 20:21:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/4ce26def56b665c574c7c8723d3d3ec8991cf73b', 'message': 'Updated from global requirements\n\nChange-Id: I69fd29140ba219ec5426360aa30ee8908ce19d5c\n'}]",0,212271,4ce26def56b665c574c7c8723d3d3ec8991cf73b,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I69fd29140ba219ec5426360aa30ee8908ce19d5c
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/71/212271/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,11d38ecfed9d9cae3f1f36dbee025d00d6c046d3,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Fneutron-lbaas~master~I651fb3aeac56d7abfca7625e087c97941670e193,openstack/neutron-lbaas,master,I651fb3aeac56d7abfca7625e087c97941670e193,Octavia driver,MERGED,2015-04-15 21:42:05.000000000,2015-08-16 21:12:42.000000000,2015-08-16 21:12:42.000000000,"[{'_account_id': 3}, {'_account_id': 6437}, {'_account_id': 6579}, {'_account_id': 6951}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 9897}, {'_account_id': 10477}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 12412}, {'_account_id': 14556}, {'_account_id': 15226}, {'_account_id': 17419}]","[{'number': 1, 'created': '2015-04-15 21:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/691266b26e122ebe1d5e073e0c88c4abde92465f', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 2, 'created': '2015-04-15 22:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4c31167150740dac6eb208f0e1e2c64425a27bbc', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs many methods yet\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 3, 'created': '2015-04-15 22:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5cb153b850fe04ac2fe5ce9bdf73f3b73aee6e1f', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats/refresh on lb\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 4, 'created': '2015-04-15 22:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7f809da51a00070c47ed498c1e3f23346307bd42', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 5, 'created': '2015-05-06 03:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/159153d8cd78c3a1fa32e3207384014723323b26', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 6, 'created': '2015-05-06 03:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e07d8ac325ad261f15807c61c9fe132dadec1c5a', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 7, 'created': '2015-05-14 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/bf927fcf7479bed339c3b0768eb0114e7e448b0a', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 8, 'created': '2015-05-24 05:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1c591a802c13409605a9f59245660677ffb5367b', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 9, 'created': '2015-05-26 20:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5ddf3f19fdf2054243cb19c84254dc3f7e10ee23', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 10, 'created': '2015-05-26 20:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7c5f03ed538f4c042a0ba1e6afe1edb2d4d9f800', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 11, 'created': '2015-06-05 03:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/6a790bbd769d155df7f038eb17e8b64a79488420', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 12, 'created': '2015-06-24 22:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/8b2239c3c44788c2d674cb3029c428be62bece3e', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 13, 'created': '2015-06-25 13:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7e2ba81bd62ab4eba111462fc6f64807d79d5687', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 14, 'created': '2015-06-25 21:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b43865538d54731aa47f5f020da001557ee3d889', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 15, 'created': '2015-07-07 18:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/15d3c851f26b04d926affad134e522354cccc7e5', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 16, 'created': '2015-07-17 16:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/89b2c27113205e6a47562bbd3b029bfc6c736299', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 17, 'created': '2015-07-31 00:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f61b94a7a94709d4f7c4d50fbc6861230175879d', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 18, 'created': '2015-08-05 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b55b2f165b910c3e40a64507611f159be55d38d2', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 19, 'created': '2015-08-10 22:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/747abda258873d6b712d658aeb0542e1c55bed5e', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 20, 'created': '2015-08-11 05:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fec0535a85945ed43471fd0007487864d4d7e775', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 21, 'created': '2015-08-14 17:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/463dac9cbebf5a977eb7de73cb56c8a996f6162d', 'message': 'WIP - Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs unit test\n- Needs stats method\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n'}, {'number': 22, 'created': '2015-08-14 22:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5608bdd0ec2bc9c4f354ef8aa2b80183bf6518b0', 'message': ""Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs stats method - can be done in a subsequent review\n- Needs to update entity status's based on what octavia says it is, but this\nwill be done in a subsequent review\n\nCo-Authored-By: Doug Wiegley <dougw@a10networks.com>\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\nCo-Authored-By: Trevor Vardeman <trevor.vardeman@rackspace.com>\nCo-Authored-By: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-Authored-By: Banashankar K Veerad <bkalebe@us.ibm.com>\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n""}, {'number': 23, 'created': '2015-08-14 22:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/49d634cff870d2086a6a3bb64e6ae5620d93bfa5', 'message': ""Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs stats method - can be done in a subsequent review\n- Needs to update entity status's based on what octavia says it is, but this\nwill be done in a subsequent review\n\nCo-Authored-By: Doug Wiegley <dougw@a10networks.com>\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\nCo-Authored-By: Trevor Vardeman <trevor.vardeman@rackspace.com>\nCo-Authored-By: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-Authored-By: Banashankar K Veerad <bkalebe@us.ibm.com>\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n""}, {'number': 24, 'created': '2015-08-14 22:41:53.000000000', 'files': ['neutron_lbaas/drivers/driver_mixins.py', 'neutron_lbaas/tests/unit/drivers/octavia/test_octavia_driver.py', 'neutron_lbaas/drivers/driver_base.py', 'neutron_lbaas/drivers/octavia/__init__.py', 'etc/neutron_lbaas.conf', 'neutron_lbaas/drivers/logging_noop/driver.py', 'etc/services_lbaas.conf', 'neutron_lbaas/tests/unit/drivers/octavia/__init__.py', 'neutron_lbaas/drivers/octavia/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0f980425b1507e234839ec2bfa295ad60b068e5b', 'message': ""Octavia driver\n\n- Needs CI, which will likely be via a new infra job\n- Needs stats method - can be done in a subsequent review\n- Needs to update entity status's based on what octavia says it is, but this\nwill be done in a subsequent review\n\nCo-Authored-By: Doug Wiegley <dougw@a10networks.com>\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\nCo-Authored-By: Trevor Vardeman <trevor.vardeman@rackspace.com>\nCo-Authored-By: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-Authored-By: Banashankar K Veerad <bkalebe@us.ibm.com>\n\nChange-Id: I651fb3aeac56d7abfca7625e087c97941670e193\n""}]",25,174114,0f980425b1507e234839ec2bfa295ad60b068e5b,124,19,24,10980,,,0,"Octavia driver

- Needs CI, which will likely be via a new infra job
- Needs stats method - can be done in a subsequent review
- Needs to update entity status's based on what octavia says it is, but this
will be done in a subsequent review

Co-Authored-By: Doug Wiegley <dougw@a10networks.com>
Co-Authored-By: Brandon Logan <brandon.logan@rackspace.com>
Co-Authored-By: Trevor Vardeman <trevor.vardeman@rackspace.com>
Co-Authored-By: Phillip Toohill <phillip.toohill@rackspace.com>
Co-Authored-By: Banashankar K Veerad <bkalebe@us.ibm.com>

Change-Id: I651fb3aeac56d7abfca7625e087c97941670e193
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/14/174114/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/drivers/octavia/__init__.py', 'etc/services_lbaas.conf', 'neutron_lbaas/drivers/octavia/driver.py']",3,691266b26e122ebe1d5e073e0c88c4abde92465f,octavia-driver,"# Copyright 2015, A10 Networks # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json from oslo_config import cfg from oslo_log import log as logging import requests LOG = logging.getLogger(__name__) VERSION = ""1.0.0"" OPTS = [ cfg.StrOpt( 'base_url', default='http://127.0.0.1:9191', help=_('URL of Octavia controller root'), ), ] cfg.CONF.register_opts(OPTS, 'octavia') def OctaviaRequest(object): def __init__(self, base_url): self.base_url = base_url def post(self, url, args): headers = { 'Content-type': 'application/json' } r = requests.post('%s%s' % (self.base_url, url), data=json.dumps(args), headers=headers) return r.json() class OctaviaDriver(driver_base.LoadBalancerBaseDriver): def __init__(self, plugin): super(OctaviaDriver, self).__init__(plugin) self.req = OctaviaRequest(cfg.CONF.octavia.base_url) self.load_balancer = LoadBalancerManager(self) self.listener = ListenerManager(self) self.pool = PoolManager(self) self.member = MemberManager(self) self.health_monitor = HealthMonitorManager(self) LOG.debug(""OctaviaDriver: initialized, version=%s"", VERSION) class LoadBalancerManager(driver_base.BaseLoadBalancerManager): def create(self, context, lb): args = { 'name': lb.name, 'description': lb.description, 'enabled': lb.admin_state_up, 'vip': { 'network_id': lb.vip_subnet_id, 'ip_address': lb.vip_address, 'port_id': lb.vip_port_id, } } self.driver.req.post('/v1/loadbalancers', args) def update(self, context, old_lb, lb): args = { 'name': lb.name, 'description': lb.description, 'enabled': lb.admin_state_up, } self.driver.req.put('/v1/loadbalancers/%s' % lb.id, args) def delete(self, context, lb): self.driver.req.delete('/v1/loadbalancers/%s' % lb.id) def refresh(self, context, lb): pass def stats(self, context, lb): return {} # todo class ListenerManager(driver_base.BaseListenerManager): def create(self, context, listener): pass def update(self, context, old_listener, listener): pass def delete(self, context, listener): pass class PoolManager(driver_base.BasePoolManager): def create(self, context, pool): pass def update(self, context, old_pool, pool): pass def delete(self, context, pool): pass class MemberManager(driver_base.BaseMemberManager): def create(self, context, member): pass def update(self, context, old_member, member): pass def delete(self, context, member): pass class HealthMonitorManager(driver_base.BaseHealthMonitorManager): def create(self, context, hm): pass def update(self, context, old_hm, hm): pass def delete(self, context, hm): pass ",,145,0
openstack%2Foslo.versionedobjects~stable%2Fkilo~I66f5b3b31fb665203db25d9a5d532312d2f176fa,openstack/oslo.versionedobjects,stable/kilo,I66f5b3b31fb665203db25d9a5d532312d2f176fa,Updated from global requirements,MERGED,2015-08-14 18:29:40.000000000,2015-08-16 21:09:17.000000000,2015-08-16 21:09:16.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-14 18:29:40.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/678aac3357e18941ec8041acec09c76b6cc6f20b', 'message': 'Updated from global requirements\n\nChange-Id: I66f5b3b31fb665203db25d9a5d532312d2f176fa\n'}]",0,213296,678aac3357e18941ec8041acec09c76b6cc6f20b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I66f5b3b31fb665203db25d9a5d532312d2f176fa
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/96/213296/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,678aac3357e18941ec8041acec09c76b6cc6f20b,openstack/requirements,"oslo.concurrency<1.9.0,>=1.8.2 # Apache-2.0","oslo.concurrency<1.9.0,>=1.8.0 # Apache-2.0",2,2
openstack%2Ftaskflow~stable%2Fjuno~I4440b3299e5a03652ecedb834992fc75de11b15b,openstack/taskflow,stable/juno,I4440b3299e5a03652ecedb834992fc75de11b15b,Updated from global requirements,MERGED,2015-08-13 21:11:13.000000000,2015-08-16 21:05:19.000000000,2015-08-16 21:05:18.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 21:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4ff4e82f7a055604f1da232f4bd66d60c1fa159d', 'message': 'Updated from global requirements\n\nChange-Id: I4440b3299e5a03652ecedb834992fc75de11b15b\n'}, {'number': 2, 'created': '2015-08-15 20:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/af2963945c215e766c830d5d1889d4045a684ed3', 'message': 'Updated from global requirements\n\nChange-Id: I4440b3299e5a03652ecedb834992fc75de11b15b\n'}]",0,212791,af2963945c215e766c830d5d1889d4045a684ed3,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I4440b3299e5a03652ecedb834992fc75de11b15b
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/91/212791/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.py', 'requirements-py2.txt', 'requirements-py3.txt']",4,4ff4e82f7a055604f1da232f4bd66d60c1fa159d,openstack/requirements,"pbr!=0.7,<1.0,>=0.6six<=1.9.0,>=1.7.0networkx<=1.9.1,>=1.8stevedore<=1.3.0,>=1.0.0 # Apache-2.0jsonschema<3.0.0,>=2.0.0oslo.utils<1.5.0,>=1.4.0 # Apache-2.0 oslo.serialization<=1.2.0,>=1.0.0 # Apache-2.0","pbr>=0.6,!=0.7,<1.0six>=1.7.0networkx>=1.8stevedore>=1.1.0 # Apache-2.0jsonschema>=2.0.0,<3.0.0oslo.utils>=1.1.0 # Apache-2.0 oslo.serialization>=1.0.0 # Apache-2.0",27,28
openstack%2Foslo.vmware~stable%2Fkilo~I5ab727ac9d106bfc8bc20841846c227dccacd7c0,openstack/oslo.vmware,stable/kilo,I5ab727ac9d106bfc8bc20841846c227dccacd7c0,Updated from global requirements,MERGED,2015-08-14 16:36:08.000000000,2015-08-16 21:05:02.000000000,2015-08-16 21:05:01.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-14 16:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f393b40ec10a8f22f0dd4589111a49e23d727b13', 'message': 'Updated from global requirements\n\nChange-Id: I5ab727ac9d106bfc8bc20841846c227dccacd7c0\n'}, {'number': 2, 'created': '2015-08-14 18:29:31.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/c86d5bb304e8838d5cf76b17fcff5ffb10973b46', 'message': 'Updated from global requirements\n\nChange-Id: I5ab727ac9d106bfc8bc20841846c227dccacd7c0\n'}]",0,213235,c86d5bb304e8838d5cf76b17fcff5ffb10973b46,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I5ab727ac9d106bfc8bc20841846c227dccacd7c0
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/35/213235/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f393b40ec10a8f22f0dd4589111a49e23d727b13,openstack/requirements,"mox3<0.8.0,>=0.7.0",mox3>=0.7.0,1,1
openstack%2Fos-brick~master~Ic3fc802d2bd42e4e802e3c186b2eaf253aedf794,openstack/os-brick,master,Ic3fc802d2bd42e4e802e3c186b2eaf253aedf794,Updated from global requirements,MERGED,2015-08-13 20:20:35.000000000,2015-08-16 21:04:49.000000000,2015-08-16 21:04:49.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 14242}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-08-13 20:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/42432e707723730f060260eb533f0050af0aca60', 'message': 'Updated from global requirements\n\nChange-Id: Ic3fc802d2bd42e4e802e3c186b2eaf253aedf794\n'}, {'number': 2, 'created': '2015-08-14 09:20:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/81ec996ebd563551b819a0bc43f48b9297a2c648', 'message': 'Updated from global requirements\n\nChange-Id: Ic3fc802d2bd42e4e802e3c186b2eaf253aedf794\n'}]",0,212752,81ec996ebd563551b819a0bc43f48b9297a2c648,17,8,2,11131,,,0,"Updated from global requirements

Change-Id: Ic3fc802d2bd42e4e802e3c186b2eaf253aedf794
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/52/212752/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,42432e707723730f060260eb533f0050af0aca60,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fnova~stable%2Fkilo~I16b8f59be7906326599f8407529c73fa330034a5,openstack/nova,stable/kilo,I16b8f59be7906326599f8407529c73fa330034a5,Change resource limits of running instances.,ABANDONED,2015-08-12 21:51:28.000000000,2015-08-16 21:04:33.000000000,,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 17891}]","[{'number': 1, 'created': '2015-08-12 21:51:28.000000000', 'files': ['nova/api/openstack/compute/contrib/libvirt_resources.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8b41d23e2a2399a1a3c5b49656a01213d94ce5c', 'message': 'Change resource limits of running instances.\n\nExtension of the servers resource, which allows to change the libvirt\nparameters for disk I/O <weight>, CPU <shares> and the memory soft limit\nat runtime. tc with htb qdiscs can be used to prioritize the network\ntraffic for instances of a host.\n\nChange-Id: I16b8f59be7906326599f8407529c73fa330034a5\n'}]",0,212199,f8b41d23e2a2399a1a3c5b49656a01213d94ce5c,8,5,1,17891,,,0,"Change resource limits of running instances.

Extension of the servers resource, which allows to change the libvirt
parameters for disk I/O <weight>, CPU <shares> and the memory soft limit
at runtime. tc with htb qdiscs can be used to prioritize the network
traffic for instances of a host.

Change-Id: I16b8f59be7906326599f8407529c73fa330034a5
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/212199/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/libvirt_resources.py'],1,f8b41d23e2a2399a1a3c5b49656a01213d94ce5c,resource priorities,"# Copyright 2011 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from xml.dom import minidom from subprocess import check_output, call, Popen import webob import re from sets import Set from libvirt import libvirtError from nova import compute from nova.virt import libvirt from nova.exception import InstanceNotFound from nova.api.openstack import common from nova.api.openstack import extensions from nova.api.openstack import wsgi from oslo_log import log as logging from oslo_config import cfg LOG = logging.getLogger(__name__) CONF = cfg.CONF class LibvirtResourcesController(wsgi.Controller): """"""Controller to reallocate resources of KVM domains with libvirt."""""" def __init__(self, *args, **kwargs): # Register a new configuration option CONF.libvirt.ballooning_ram_ratio. # # Instances will be bootet with: # # <memory unit='KiB'>ballooning_ram_ratio * Flavor.memory_mb</memory> # <currentMemory unit='KiB'>Flavor.memory_mb</memory> # ram_ratio_opt = cfg.IntOpt('ballooning_ram_ratio', default=-1, help='RAM multiplicator for new instances.') # Register htb_rate: # # rate is the maximum throughput for all instances on a host. # htb_rate = cfg.IntOpt('htb_rate', default='80', help='HTB rate') tc_opts_group = cfg.OptGroup(name='tc', title='Traffic Control Options') CONF.register_group(tc_opts_group) libvirt_group = CONF._get_group('libvirt') tc_group = CONF._get_group('tc') CONF.register_opt(ram_ratio_opt, group=libvirt_group) CONF.register_opt(htb_rate, group=tc_group) self.compute_api = compute.API() self.host = libvirt.host.Host('qemu:///system') super(LibvirtResourcesController, self).__init__(*args, **kwargs) @wsgi.action('get-memory-soft-limit') def get_memory_soft_limit(self, req, id, body): """"""Get the current memory soft limit of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) slimit = dom.memoryParameters()['soft_limit'] return {'soft_limit': slimit} @wsgi.action('set-memory-soft-limit') def set_memory_soft_limit(self, req, id, body): """"""Set RAM soft limit of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) slimit = int(body['set-memory-soft-limit']['memory_limit']) res = dom.setMemoryParameters({'soft_limit': int(slimit) * 1024}) print res # libvirt returns 0 if successful return {'success': not res} @wsgi.action('get-current-memory') def get_current_memory(self, req, id, body): """"""Get the currentMemory of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) try: memstats = dom.memoryStats()['actual'] except libvirtError: # domain not booted, current memory 0 memstats = 0 return {'actual': memstats} @wsgi.action('set-current-memory') def set_current_memory(self, req, id, body): """"""Set the currentMemory of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) ram = int(body['set-current-memory']['memory']) try: res = dom.setMemory(ram * 1024) except libvirtError: # libvirtError: invalid argument: cannot set memory higher than max memory res = 1 # libvirt returns 0 if successful return {'success': not res} @wsgi.action('set-cpu-priority') def set_cpu_priority(self, req, id, body): """"""Sets the cpu share priority of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) share = int(body['set-cpu-priority']['share']) params = dom.schedulerParameters() params['cpu_shares'] = share dom.setSchedulerParameters(params) return {'share': dom.schedulerParameters()['cpu_shares']} @wsgi.action('get-cpu-priority') def get_cpu_priority(self, req, id, body): """"""Get the current CPU shares of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) share = dom.schedulerParameters()['cpu_shares'] return {'share': share} @wsgi.action('set-io-priority') def set_io_priority(self, req, id, body): """"""Sets the io weight of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) weight = int(body['set-io-priority']['weight']) params = dom.blkioParameters() params['weight'] = weight dom.setBlkioParameters(params) return {'weight': dom.blkioParameters()['weight']} @wsgi.action('get-io-priority') def get_io_priority(self, req, id, body): """"""Get the current IO weight of an instance."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) weight = dom.blkioParameters()['weight'] return {'weight': weight} @wsgi.action('set-net-priority') def set_net_priority(self, req, id, body): """"""Sets the network priority of an instance. Example for three hosts: tc qdisc add dev eth0 root handle 1: htb tc class add dev eth0 parent 1: classid 1:99 htb rate 80mbit tc class add dev eth0 parent 1:99 classid 1:3 htb rate 15mbit \ ceil 80mbit tc class add dev eth0 parent 1:99 classid 1:2 htb rate 26mbit ceil \ 80mbit tc class add dev eth0 parent 1:99 classid 1:1 htb rate 39mbit \ ceil 80mbit tc filter add dev eth0 parent 1: protocol ip prio 1 \ u32 match ip src 10.0.0.4 flowid 1:3 tc filter add dev eth0 parent 1: protocol ip prio 1 u32 \ match ip src 10.0.0.3 flowid 1:2 tc filter add dev eth0 parent 1: protocol ip prio 1 u32 \ match ip src 10.0.0.2 flowid 1:1 """""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) dom_prio = int(body['set-net-priority']['prio']) domains = self.host.list_instance_domains() ips = [self._find_domain_ip(d).split(""."")[-1] for d in domains] dom_ip = self._find_domain_ip(dom).split(""."")[-1] iface = self._find_bridge_iface() # find the IP of the instance in the filter output; # the flowid is the class name, which is the same as # the network priority of the vm prios = {} filters = check_output(['tc', 'filter', 'list', 'dev', iface]) for ip in ips: m = re.search(r'flowid\s1:(\d+)\s*match\s.*' + ip + '.*/ffffffff\sat', filters) if m: prio = int(m.group(1)) if not dom_ip == ip: # do not add old priority! if not prios.has_key(prio): prios[prio] = Set([]) prios[prio].add(ip) LOG.debug('Current prios: %s', prios) # create new prio hash if not prios.has_key(dom_prio): prios[dom_prio] = Set([]) prios[dom_prio].add(dom_ip) active_prios = len({v for vv in prios.values() for v in vv}) LOG.debug('New prios: %s', prios) LOG.debug('Priorities active for %d domains', active_prios) # reset egress tc qdiscs call(['sudo', 'tc', 'qdisc', 'del', 'dev', iface, 'root']) # add root htb qdisc with CONF.tc.htb_rate # for total host throughput call(['sudo', 'tc', 'qdisc', 'add', 'dev', iface, 'root', 'handle', '1:', 'htb']) # add root class to enable htb borrowing call(['sudo', 'tc', 'class', 'add', 'dev', iface, 'parent', '1:', 'classid', '1:99', 'htb', 'rate', '%dmbit' % CONF.tc.htb_rate]) prio_sum = 0 for prio in prios: prio_sum += prio # create child classes for prio in sorted(prios): classid = '1:%s' % prio call(['sudo', 'tc', 'class', 'add', 'dev', iface, 'parent', '1:99', 'classid', classid, 'htb', 'rate', '%dmbit' % ((CONF.tc.htb_rate * prio) / prio_sum), 'ceil', '%dmbit' % CONF.tc.htb_rate]) for ip in prios[prio]: # add filters call(['sudo', 'tc', 'filter', 'add', 'dev', iface, 'parent', '1:', 'protocol', 'ip', 'prio', '1', 'u32', 'match', 'ip', 'src', ip, 'flowid', classid]) return {'success': True} @wsgi.action('get-net-priority') def get_net_priority(self, req, id, body): """"""Returns the current network priority."""""" ctxt = req.environ['nova.context'] instance = common.get_instance(self.compute_api, ctxt, id) dom = self.host.get_domain(instance) iface = self._find_bridge_iface() ip = self._find_domain_ip(dom).split(""."")[-1] # find the IP of the instance in the filter output; # print the class minor, which is the same as the prio; filters = check_output(['tc', 'filter', 'list', 'dev', iface]) m = m = re.search(r'flowid\s1:(\d+)\s*match\s.*' + ip + '.*/ffffffff\sat', filters) if m: prio = m.group(1) else: prio = -1 return {'prio': prio} @wsgi.action('balloon-driver-enabled') def balloon_driver_enabled(self, req, id, body): """"""Returns true if instance is capable to perform ballooning. A libvirt domain without balloon driver only returns 'actual' and 'rss' memory statistics. Domains capable of ballooning provide more information. """""" ballooning = False memstats = self.get_current_memory(req, id, body) if len(memstats) > 2: ballooning = True return {'ballooning_enabled': ballooning} def _find_bridge_iface(self): """""" Find virtual ethernet interface belonging to the software bridge br100 """""" brctl = check_output(['brctl', 'show']) m = re.search(r'br100\s+.+?\s+(yes|no)\s+(eth\d)', brctl) iface = m.group(2) return iface def _find_domain_ip(self, dom): """""" Find IP address of libvirt domain """""" # find mac address of domain out = dom.XMLDesc() xml_desc = minidom.parseString(out) mac = xml_desc.getElementsByTagName('mac')[0].attributes['address'].value LOG.debug('Mac: %s', mac) # find ip address of domain arp = check_output(['arp', '-an']) m = re.search(r'\((.+)\) at ' + re.escape(mac), arp) if m: return m.group(1) else: # instance not ready; # <incomplete>, mac not found LOG.debug('Instance not ready, mac not found.') return False class Libvirt_resources(extensions.ExtensionDescriptor): """"""Reallocate resources of the KVM instances with libvirt. Resources which can be reallocated: - RAM - CPU - network bandwidth - disk IOs """""" name = ""LibvirtResources"" alias = ""libvirt-resources"" namespace = ""http://docs.openstack.org/compute/ext/libvirt-resources/api/v2"" updated = ""2015-05-08T00:00:00Z"" def get_controller_extensions(self): controller = LibvirtResourcesController() extension = extensions.ControllerExtension(self, 'servers', controller) return [extension] ",,375,0
openstack%2Fkolla~master~I39e5dd51171e5f9c0847c34e0ea7099447217a1d,openstack/kolla,master,I39e5dd51171e5f9c0847c34e0ea7099447217a1d,Use -T 1000 in test_build.py,ABANDONED,2015-08-16 15:52:34.000000000,2015-08-16 20:52:12.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-16 15:52:34.000000000', 'files': ['tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d20983cf600110cd27bea23b0f745d2ce410b5d', 'message': 'Use -T 1000 in test_build.py\n\nThis is a test to see if -T 1000 builds faster  then 25 minutes.  The\ngate machines are 8 core XEON machines, so the extra parallelism may\n(or may not) help.\n\nChange-Id: I39e5dd51171e5f9c0847c34e0ea7099447217a1d\nPartially-Implements: gate-source-builds\n'}]",0,213518,1d20983cf600110cd27bea23b0f745d2ce410b5d,3,1,1,2834,,,0,"Use -T 1000 in test_build.py

This is a test to see if -T 1000 builds faster  then 25 minutes.  The
gate machines are 8 core XEON machines, so the extra parallelism may
(or may not) help.

Change-Id: I39e5dd51171e5f9c0847c34e0ea7099447217a1d
Partially-Implements: gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/213518/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_build.py'],1,1d20983cf600110cd27bea23b0f745d2ce410b5d,," ""--type"", ""binary"", ""-T"", ""1000""]) ""--template"", ""-T"", ""1000""]) ""--type"", ""source"", ""-T"", ""1000""]) ""--template"", ""-T"", ""1000""])"," ""--type"", ""binary""]) ""--template""]) ""--type"", ""source""]) ""--template""])",8,4
openstack%2Fkolla~master~I4c9e51b0157a75265111dbb1d81367496b691cab,openstack/kolla,master,I4c9e51b0157a75265111dbb1d81367496b691cab,DO NOT MERGE,ABANDONED,2015-08-16 17:40:02.000000000,2015-08-16 20:46:53.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-16 17:40:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2d944270db5888c1f97ccd7f134d6c9abb45f42f', 'message': 'DO NOT MERGE\n\nThis is a test of the gate from a recently merged patch\n\nChange-Id: I4c9e51b0157a75265111dbb1d81367496b691cab\n'}]",0,213528,2d944270db5888c1f97ccd7f134d6c9abb45f42f,3,1,1,2834,,,0,"DO NOT MERGE

This is a test of the gate from a recently merged patch

Change-Id: I4c9e51b0157a75265111dbb1d81367496b691cab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/213528/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,2d944270db5888c1f97ccd7f134d6c9abb45f42f,,change,,1,0
openstack%2Foslo-incubator~master~I3c3793fc4c44329f29615d69ec731d3fb6d2bb41,openstack/oslo-incubator,master,I3c3793fc4c44329f29615d69ec731d3fb6d2bb41,Get the team and adding who launchpad links working,MERGED,2015-06-27 02:57:38.000000000,2015-08-16 20:46:07.000000000,2015-08-16 20:46:07.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-27 02:57:38.000000000', 'files': ['tools/new_core.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7f8d0ba9bef27e41a89b7f2b979bde3f23c8bae2', 'message': 'Get the team and adding who launchpad links working\n\nChange-Id: I3c3793fc4c44329f29615d69ec731d3fb6d2bb41\n'}]",0,196331,7f8d0ba9bef27e41a89b7f2b979bde3f23c8bae2,6,2,1,1297,,,0,"Get the team and adding who launchpad links working

Change-Id: I3c3793fc4c44329f29615d69ec731d3fb6d2bb41
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/31/196331/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/new_core.py'],1,7f8d0ba9bef27e41a89b7f2b979bde3f23c8bae2,,"I propose that we add {{FULL_NAME}}[1] to the {{TEAM_CORE}}[2] team.- {{ME}} params['TEAM'] = args.team.strip().lower() contents = parawrap.fill(contents.strip(), width=75) # Put the links on after so they are not affected by the wrapping... links = [ 'https://launchpad.net/~%s' % args.who_launchpad_id, 'https://launchpad.net/%s' % params['TEAM'], ] contents += ""\n\n"" for i, link in enumerate(links, 1): contents += ""[%s] %s\n"" % (i, link) return contents.rstrip() parser.add_argument('--adding-who-launchpad-id', action=""store"", dest=""who_launchpad_id"", required=True, metavar=""<launchpad-id>"")","I propose that we add {{FULL_NAME}} to the {{TEAM_CORE}} team.-- {{ME}} 'LINKS': [], params['TEAM'] = params['TEAM_CORE'].split(""-"")[0].strip().lower() return parawrap.fill(contents.strip(), width=75)",16,7
openstack%2Foslo-incubator~master~I4b14a0c7c0defd25ada667a3b137419241714efd,openstack/oslo-incubator,master,I4b14a0c7c0defd25ada667a3b137419241714efd,Updated from global requirements,MERGED,2015-08-10 01:09:24.000000000,2015-08-16 20:34:42.000000000,2015-08-16 20:34:41.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-10 01:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/6795aed40da2cb71e9d50ea615b4a6bfc6f3b967', 'message': 'Updated from global requirements\n\nChange-Id: I4b14a0c7c0defd25ada667a3b137419241714efd\n'}, {'number': 2, 'created': '2015-08-13 02:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/65065d946e0790bf7d631dd1c401fa0d2c85660c', 'message': 'Updated from global requirements\n\nChange-Id: I4b14a0c7c0defd25ada667a3b137419241714efd\n'}, {'number': 3, 'created': '2015-08-13 20:20:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/055427087a8f8be07ed0643b6e7067e2052ad697', 'message': 'Updated from global requirements\n\nChange-Id: I4b14a0c7c0defd25ada667a3b137419241714efd\n'}]",0,210903,055427087a8f8be07ed0643b6e7067e2052ad697,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: I4b14a0c7c0defd25ada667a3b137419241714efd
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/03/210903/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6795aed40da2cb71e9d50ea615b4a6bfc6f3b967,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslo-incubator~stable%2Fjuno~I85bdfbf678f7491c7bf8800aaa31cd211141df5d,openstack/oslo-incubator,stable/juno,I85bdfbf678f7491c7bf8800aaa31cd211141df5d,Updated from global requirements,MERGED,2015-08-13 21:10:30.000000000,2015-08-16 20:34:36.000000000,2015-08-16 20:34:34.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-13 21:10:30.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/12905f44fb5e99030a22496316ae928e5cb74412', 'message': 'Updated from global requirements\n\nChange-Id: I85bdfbf678f7491c7bf8800aaa31cd211141df5d\n'}]",0,212790,12905f44fb5e99030a22496316ae928e5cb74412,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I85bdfbf678f7491c7bf8800aaa31cd211141df5d
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/90/212790/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,12905f44fb5e99030a22496316ae928e5cb74412,openstack/requirements,"kombu<=3.0.15,>=2.5.0","kombu<=3.0.7,>=2.5.0",2,2
openstack%2Foslosphinx~master~Id53b19b67a2dd99d568141d6d36b0cdb720dcf27,openstack/oslosphinx,master,Id53b19b67a2dd99d568141d6d36b0cdb720dcf27,Updated from global requirements,MERGED,2015-08-10 01:09:50.000000000,2015-08-16 20:34:00.000000000,2015-08-16 20:33:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-10 01:09:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/66f688aedcf3af7a96183f6561d05e539db90eb6', 'message': 'Updated from global requirements\n\nChange-Id: Id53b19b67a2dd99d568141d6d36b0cdb720dcf27\n'}]",0,210915,66f688aedcf3af7a96183f6561d05e539db90eb6,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Id53b19b67a2dd99d568141d6d36b0cdb720dcf27
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/15/210915/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,66f688aedcf3af7a96183f6561d05e539db90eb6,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Foslotest~master~I718890d991fbb7117ec46d4adea9b6cd8c914744,openstack/oslotest,master,I718890d991fbb7117ec46d4adea9b6cd8c914744,Updated from global requirements,MERGED,2015-08-13 09:30:13.000000000,2015-08-16 20:33:19.000000000,2015-08-16 20:33:18.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-08-13 09:30:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/266bccb7b6ddcbff6767484a71a0a7fe3c0072e6', 'message': 'Updated from global requirements\n\nChange-Id: I718890d991fbb7117ec46d4adea9b6cd8c914744\n'}]",0,212432,266bccb7b6ddcbff6767484a71a0a7fe3c0072e6,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I718890d991fbb7117ec46d4adea9b6cd8c914744
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/32/212432/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,266bccb7b6ddcbff6767484a71a0a7fe3c0072e6,openstack/requirements,"os-client-config!=1.6.2,>=1.4.0",os-client-config>=1.4.0,1,1
openstack%2Foslotest~stable%2Fkilo~I158e1219a467636a15c849e15e3cc1141fd4174b,openstack/oslotest,stable/kilo,I158e1219a467636a15c849e15e3cc1141fd4174b,Updated from global requirements,MERGED,2015-08-14 16:36:12.000000000,2015-08-16 20:33:16.000000000,2015-08-16 20:33:15.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-14 16:36:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/cb03bda527d46ee14dd1de052cf6db08d0f1425e', 'message': 'Updated from global requirements\n\nChange-Id: I158e1219a467636a15c849e15e3cc1141fd4174b\n'}]",0,213236,cb03bda527d46ee14dd1de052cf6db08d0f1425e,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I158e1219a467636a15c849e15e3cc1141fd4174b
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/36/213236/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cb03bda527d46ee14dd1de052cf6db08d0f1425e,openstack/requirements,"mox3<0.8.0,>=0.7.0",mox3>=0.7.0,1,1
openstack%2Foslo-incubator~stable%2Fkilo~I6e950fbc3d38137637521c7d76c955f031f899a6,openstack/oslo-incubator,stable/kilo,I6e950fbc3d38137637521c7d76c955f031f899a6,Updated from global requirements,MERGED,2015-07-13 15:02:04.000000000,2015-08-16 20:33:03.000000000,2015-08-16 20:32:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-07-13 15:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/0ea13dad829b9fb9d618aa38b21bb6f7f39be6ac', 'message': 'Updated from global requirements\n\nChange-Id: I6e950fbc3d38137637521c7d76c955f031f899a6\n'}, {'number': 2, 'created': '2015-08-14 16:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/378245abf2a57d63f7d2a896d2b9990c21bebe5c', 'message': 'Updated from global requirements\n\nChange-Id: I6e950fbc3d38137637521c7d76c955f031f899a6\n'}, {'number': 3, 'created': '2015-08-14 18:27:16.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7f074590ff9ea9860327a242d6df45ed41443562', 'message': 'Updated from global requirements\n\nChange-Id: I6e950fbc3d38137637521c7d76c955f031f899a6\n'}]",0,201181,7f074590ff9ea9860327a242d6df45ed41443562,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: I6e950fbc3d38137637521c7d76c955f031f899a6
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/81/201181/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,0ea13dad829b9fb9d618aa38b21bb6f7f39be6ac,openstack/requirements,,#!/usr/bin/env python,18,19
openstack%2Fmox3~master~I5a8693254dfb5756858750ca00268286d2c5ec84,openstack/mox3,master,I5a8693254dfb5756858750ca00268286d2c5ec84,Updated from global requirements,MERGED,2015-08-10 01:06:47.000000000,2015-08-16 20:32:11.000000000,2015-08-16 20:32:10.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-08-10 01:06:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mox3/commit/ef2869b7a3340bf590d3b19eb007beb3e824394b', 'message': 'Updated from global requirements\n\nChange-Id: I5a8693254dfb5756858750ca00268286d2c5ec84\n'}]",0,210896,ef2869b7a3340bf590d3b19eb007beb3e824394b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I5a8693254dfb5756858750ca00268286d2c5ec84
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/96/210896/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ef2869b7a3340bf590d3b19eb007beb3e824394b,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Fkolla~master~If2257ead25b450219b3ac2e9cf90b9653ed9af4a,openstack/kolla,master,If2257ead25b450219b3ac2e9cf90b9653ed9af4a,Force reread of repo for neutron-openvswitch-agent,ABANDONED,2015-08-16 19:10:39.000000000,2015-08-16 19:47:03.000000000,,[],"[{'number': 1, 'created': '2015-08-16 19:10:39.000000000', 'files': ['docker_templates/neutron/neutron-openvswitch-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/69e1090954564f62adfeded1721917fe0a6c0d39', 'message': ""Force reread of repo for neutron-openvswitch-agent\n\nYum doesn't reread repos all the time, so it can't always find\nthe openvswitch package resulting in gate failure.\n\nChange-Id: If2257ead25b450219b3ac2e9cf90b9653ed9af4a\nPartially-Implements: blueprint gate-source-builds\n""}]",0,213534,69e1090954564f62adfeded1721917fe0a6c0d39,2,0,1,2834,,,0,"Force reread of repo for neutron-openvswitch-agent

Yum doesn't reread repos all the time, so it can't always find
the openvswitch package resulting in gate failure.

Change-Id: If2257ead25b450219b3ac2e9cf90b9653ed9af4a
Partially-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/213534/1 && git format-patch -1 --stdout FETCH_HEAD,['docker_templates/neutron/neutron-openvswitch-agent/Dockerfile.j2'],1,69e1090954564f62adfeded1721917fe0a6c0d39,bp/gate-source-builds, # TODO(sdake): Yum doesn't always reread the repo list after installing # new repos resulting in openvswitch not being found && yum clean all \ && yum -y install openvswitch \, #TODO: will be addressed later openvswitch \,4,2
openstack%2Fapp-catalog~master~I560f75446ff17e772f30743c000dceb2d3b286a2,openstack/app-catalog,master,I560f75446ff17e772f30743c000dceb2d3b286a2,WIP,ABANDONED,2015-08-16 18:22:55.000000000,2015-08-16 18:33:29.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-16 18:22:55.000000000', 'files': ['WIP'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/c1e830b504c606f6c5d7ed7bc5ef9ab8f1e1b1a9', 'message': 'WIP\n\nChange-Id: I560f75446ff17e772f30743c000dceb2d3b286a2\n'}]",0,213533,c1e830b504c606f6c5d7ed7bc5ef9ab8f1e1b1a9,3,1,1,15168,,,0,"WIP

Change-Id: I560f75446ff17e772f30743c000dceb2d3b286a2
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/33/213533/1 && git format-patch -1 --stdout FETCH_HEAD,['WIP'],1,c1e830b504c606f6c5d7ed7bc5ef9ab8f1e1b1a9,,,,0,0
openstack%2Fkeystoneauth~master~Ia22ab6513e8592d87f10cfe283ecf26eb458a0f1,openstack/keystoneauth,master,Ia22ab6513e8592d87f10cfe283ecf26eb458a0f1,Expose admin_token plugin,MERGED,2015-08-15 00:04:12.000000000,2015-08-16 17:56:24.000000000,2015-08-16 17:56:23.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-08-15 00:04:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/3633d3634dae0815f326587af008cf33ed18fbc8', 'message': ""Expose admin_token plugin\n\nThere is an important usecase in bootstrapping a cloud where an admin\ntoken needs to be provided. Rigth now this is being accomplished in ways\nthat cause people to argue. Instead of arguing, let's expose this with a\nclear name.\n\nChange-Id: Ia22ab6513e8592d87f10cfe283ecf26eb458a0f1\n""}]",1,213381,3633d3634dae0815f326587af008cf33ed18fbc8,12,3,1,2,,,0,"Expose admin_token plugin

There is an important usecase in bootstrapping a cloud where an admin
token needs to be provided. Rigth now this is being accomplished in ways
that cause people to argue. Instead of arguing, let's expose this with a
clear name.

Change-Id: Ia22ab6513e8592d87f10cfe283ecf26eb458a0f1
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/81/213381/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3633d3634dae0815f326587af008cf33ed18fbc8,auth-token-rename, admin_token = keystoneauth1.loading._plugins.token_endpoint:Token,,1,0
openstack%2Fneutron~master~I4b4527c28d0738890e33b343c9e17941e780bc24,openstack/neutron,master,I4b4527c28d0738890e33b343c9e17941e780bc24,Validate local_ip for OVS tunnel,MERGED,2015-02-09 13:50:45.000000000,2015-08-16 17:53:35.000000000,2015-08-14 10:27:12.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10257}, {'_account_id': 10267}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11682}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14562}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 14619}, {'_account_id': 14956}, {'_account_id': 15296}, {'_account_id': 15443}, {'_account_id': 15444}, {'_account_id': 15752}, {'_account_id': 15894}, {'_account_id': 16242}]","[{'number': 1, 'created': '2015-02-09 13:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/506d85dca9c8284c6ee0e44435b2c1653d87aaad', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\nLinuxbridge agent already has a similar check, so porting the same\nto ovs agent.\n\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\nCloses-bug: #1408603\n'}, {'number': 2, 'created': '2015-02-10 13:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5928eeb73adcff44d8e5fbac8dc60e6f1e64c36b', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\n\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\nCloses-bug: #1408603\n'}, {'number': 3, 'created': '2015-02-11 08:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96f4f97f1b287a71cbb2b0269facf76c4b755e6d', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\n\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\nCloses-bug: #1408603\n'}, {'number': 4, 'created': '2015-02-12 14:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6659c43f807126635d4c653fe1544cdc96b02f3d', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\n\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\nCloses-bug: #1408603\n'}, {'number': 5, 'created': '2015-04-22 15:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/534b3e27df6ac7c910b1d6435ee7fd4e4ec2a02c', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\n\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\nCloses-bug: #1408603\n'}, {'number': 6, 'created': '2015-06-15 13:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c91c2b06325021912232a63096ae91259854008b', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a sanity check to\ncheck that the IP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nCo-Authored-By: Brian Haley <brian.haley@hp.com>\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 7, 'created': '2015-06-18 07:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad3e83670aa0859c90e3690337ead1a6b99ec4eb', 'message': 'Check for valid local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, there should be a check to\ncheck that the IP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 8, 'created': '2015-06-23 08:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5906d0f3ca63116fc9b45e55edceb42949254fb6', 'message': 'validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 9, 'created': '2015-07-02 06:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93b9fd447cb230a14272aeb31b87f07926f429f', 'message': 'Validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 10, 'created': '2015-08-03 06:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b67ac8ddae8d104da00597a9556246bd58164fc', 'message': 'Validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 11, 'created': '2015-08-06 07:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77889890a39f148a052dd2c95c9e0a4c9ee1f26f', 'message': 'Validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 12, 'created': '2015-08-07 07:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9b1ae3c63f1e3f3ead8257eb9186928ef3995b1', 'message': 'Validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}, {'number': 13, 'created': '2015-08-10 06:49:34.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02c80d8e82970922f1f1b1462f8435aed8280a71', 'message': 'Validate local_ip for OVS tunnel\n\nWhen tunneling is enabled in OVS, validate if the\nIP address in local_ip belongs to the host.\n\nCloses-bug: #1408603\nChange-Id: I4b4527c28d0738890e33b343c9e17941e780bc24\n'}]",49,154043,02c80d8e82970922f1f1b1462f8435aed8280a71,318,51,13,10267,,,0,"Validate local_ip for OVS tunnel

When tunneling is enabled in OVS, validate if the
IP address in local_ip belongs to the host.

Closes-bug: #1408603
Change-Id: I4b4527c28d0738890e33b343c9e17941e780bc24
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/154043/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_linux_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",5,506d85dca9c8284c6ee0e44435b2c1653d87aaad,(detached,," def test_get_interface_by_ip(self): with contextlib.nested( mock.patch.object(ip_lib.IPWrapper, 'get_devices'), mock.patch.object(ip_lib.IpAddrCommand, 'list') ) as (get_dev_fn, ip_list_fn): device = mock.Mock() device.name = 'dev_name' get_dev_fn.return_value = [device] ip_list_fn.returnvalue = mock.Mock() self.assertEqual(self.lbm.get_interface_by_ip(LOCAL_IP), 'dev_name') ",28,21
openstack%2Fneutron~stable%2Fkilo~Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e,openstack/neutron,stable/kilo,Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e,Setup reference service providers for API test runs,MERGED,2015-08-14 17:08:09.000000000,2015-08-16 17:46:25.000000000,2015-08-15 20:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15443}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-08-14 17:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/302f4bdbcf64053728318ad5bda7b3ff83b28b15', 'message': 'Setup reference service providers for API test runs\n\nPartial-bug: #1483266\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n(cherry picked from commit 25420bb1bbccb037866872efdf1e5d3458d286a6)\n'}, {'number': 2, 'created': '2015-08-14 18:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2fb4b58738d7c9da7c65b7709483531e937a4b2', 'message': 'Setup reference service providers for API test runs\n\nPartial-bug: #1483266\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305f\n(cherry picked from commit 25420bb1bbccb037866872efdf1e5d3458d286a6)\n'}, {'number': 3, 'created': '2015-08-14 20:25:02.000000000', 'files': ['neutron/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6298a90c45c5737a838ad4c4e332fe0deb8312d6', 'message': 'Setup reference service providers for API test runs\n\nPartial-Bug: #1483266\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n(cherry picked from commit 25420bb1bbccb037866872efdf1e5d3458d286a6)\n'}]",0,213256,6298a90c45c5737a838ad4c4e332fe0deb8312d6,50,16,3,10980,,,0,"Setup reference service providers for API test runs

Partial-Bug: #1483266
Change-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e
(cherry picked from commit 25420bb1bbccb037866872efdf1e5d3458d286a6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/213256/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/gate_hook.sh'],1,302f4bdbcf64053728318ad5bda7b3ff83b28b15,bug/1483266,"GATE_DEST=$BASE/new DEVSTACK_PATH=$GATE_DEST/devstack cat > $DEVSTACK_PATH/local.conf <<EOF [[post-config|/etc/neutron/neutron_lbaas.conf]] [service_providers] service_provider=LOADBALANCER:Haproxy:neutron_lbaas.services.loadbalancer.drivers.haproxy.plugin_driver.HaproxyOnHostPluginDriver:default [[post-config|/etc/neutron/neutron_vpnaas.conf]] [service_providers] service_provider=VPN:openswan:neutron_vpnaas.services.vpn.service_drivers.ipsec.IPsecVPNDriver:default EOF export DEVSTACK_LOCAL_CONFIG+="" enable_plugin neutron-vpnaas git://git.openstack.org/openstack/neutron-vpnaas "" ", GATE_DEST=$BASE/new DEVSTACK_PATH=$GATE_DEST/devstack,19,5
openstack%2Fproject-config~master~I90740912ea8be5e92898a1a321f77397cab18491,openstack/project-config,master,I90740912ea8be5e92898a1a321f77397cab18491,Add voting gate-apps-catalog-npm-run-lint job,MERGED,2015-08-14 16:48:33.000000000,2015-08-16 17:30:46.000000000,2015-08-16 17:30:44.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9788}]","[{'number': 1, 'created': '2015-08-14 16:48:33.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f639bb288651bb0d975351a02e7874c0ff4f4400', 'message': 'Add voting gate-apps-catalog-npm-run-lint job\n\nAdds boting npm-run-lint job to check and ensure js code style in\nstackforge/apps-catalog\n\nTargets blueprint: lint-js-code\n\nChange-Id: I90740912ea8be5e92898a1a321f77397cab18491\n'}]",0,213243,f639bb288651bb0d975351a02e7874c0ff4f4400,8,4,1,15168,,,0,"Add voting gate-apps-catalog-npm-run-lint job

Adds boting npm-run-lint job to check and ensure js code style in
stackforge/apps-catalog

Targets blueprint: lint-js-code

Change-Id: I90740912ea8be5e92898a1a321f77397cab18491
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/213243/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,f639bb288651bb0d975351a02e7874c0ff4f4400,bp/lint-js-code, - gate-apps-catalog-npm-run-lint gate: - gate-apps-catalog-npm-run-lint,,4,0
openstack%2Fproject-config~master~I94fdb4788b580cd444c5204702cd6c378069e954,openstack/project-config,master,I94fdb4788b580cd444c5204702cd6c378069e954,Kolla: Make centos7 container build run on centos7,MERGED,2015-08-14 22:38:17.000000000,2015-08-16 17:29:19.000000000,2015-08-16 17:29:12.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2015-08-14 22:38:17.000000000', 'files': ['jenkins/jobs/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6de89841c40ac40acedf7b5f97253a1589ea3e9c', 'message': 'Kolla: Make centos7 container build run on centos7\n\nThis builds the containers for centos7 on centos7 rather then f21.\n\nChange-Id: I94fdb4788b580cd444c5204702cd6c378069e954\n'}]",0,213363,6de89841c40ac40acedf7b5f97253a1589ea3e9c,8,4,1,2834,,,0,"Kolla: Make centos7 container build run on centos7

This builds the containers for centos7 on centos7 rather then f21.

Change-Id: I94fdb4788b580cd444c5204702cd6c378069e954
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/213363/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,6de89841c40ac40acedf7b5f97253a1589ea3e9c,, node: 'devstack-centos7' node: 'devstack-centos7', node: 'devstack-f21' node: 'devstack-f21',2,2
openstack%2Fkeystone~master~I2ca53599cd81154e245507e4e3758caeaa3f8fa2,openstack/keystone,master,I2ca53599cd81154e245507e4e3758caeaa3f8fa2,Updated from global requirements,MERGED,2015-08-14 09:15:52.000000000,2015-08-16 17:23:54.000000000,2015-08-16 17:23:50.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-08-14 09:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/527b5878fa94ae7908a0ae7349877148224a7808', 'message': 'Updated from global requirements\n\nChange-Id: I2ca53599cd81154e245507e4e3758caeaa3f8fa2\n'}, {'number': 2, 'created': '2015-08-15 20:49:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b64faf11cbc097208ce61f1679b8a29f2db9ee3', 'message': 'Updated from global requirements\n\nChange-Id: I2ca53599cd81154e245507e4e3758caeaa3f8fa2\n'}]",0,213050,5b64faf11cbc097208ce61f1679b8a29f2db9ee3,8,3,2,11131,,,0,"Updated from global requirements

Change-Id: I2ca53599cd81154e245507e4e3758caeaa3f8fa2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/213050/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,527b5878fa94ae7908a0ae7349877148224a7808,openstack/requirements,oslo.service>=0.6.0 # Apache-2.0,oslo.service>=0.1.0 # Apache-2.0,1,1
openstack%2Fkeystone~master~I76139e3198ddf804c96b600e1c6b514f08c20306,openstack/keystone,master,I76139e3198ddf804c96b600e1c6b514f08c20306,Imported Translations from Transifex,MERGED,2015-08-13 06:10:26.000000000,2015-08-16 17:19:01.000000000,2015-08-16 17:18:59.000000000,"[{'_account_id': 3}, {'_account_id': 2903}]","[{'number': 1, 'created': '2015-08-13 06:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0fc4a6fbbe4fccb98f7fc998ceb43a077c0c1a76', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I76139e3198ddf804c96b600e1c6b514f08c20306\n'}, {'number': 2, 'created': '2015-08-14 06:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d88489a49c68c73d93925d15c814ab1c19cc4d2d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I76139e3198ddf804c96b600e1c6b514f08c20306\n'}, {'number': 3, 'created': '2015-08-15 06:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/411691c3a60a41b4ccb28e843105bf7202deee4e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I76139e3198ddf804c96b600e1c6b514f08c20306\n'}, {'number': 4, 'created': '2015-08-16 06:07:12.000000000', 'files': ['keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/keystone.pot', 'keystone/locale/tr_TR/LC_MESSAGES/keystone-log-warning.po', 'keystone/locale/keystone-log-warning.pot'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dfadcfad02218288600c4e8c9bee8dc627626f9f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I76139e3198ddf804c96b600e1c6b514f08c20306\n'}]",0,212359,dfadcfad02218288600c4e8c9bee8dc627626f9f,12,2,4,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I76139e3198ddf804c96b600e1c6b514f08c20306
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/212359/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/keystone.pot', 'keystone/locale/tr_TR/LC_MESSAGES/keystone-log-warning.po', 'keystone/locale/keystone-log-warning.pot']",4,0fc4a6fbbe4fccb98f7fc998ceb43a077c0c1a76,transifex/translations,"""Project-Id-Version: keystone 8.0.0.0b3.dev108\n""""POT-Creation-Date: 2015-08-13 06:10+0000\n""#: keystone/exception.py:48#: keystone/common/controller.py:83 keystone/middleware/core.py:194#: keystone/common/controller.py:755#: keystone/common/controller.py:710#: keystone/common/kvs/core.py:133#: keystone/common/kvs/core.py:402#: keystone/common/ldap/core.py:1024#: keystone/common/ldap/core.py:1219#: keystone/common/ldap/core.py:1330#: keystone/common/ldap/core.py:1663#: keystone/middleware/core.py:204","""Project-Id-Version: keystone 8.0.0.0b3.dev14\n""""POT-Creation-Date: 2015-08-01 06:07+0000\n""#: keystone/exception.py:49#: keystone/assignment/controllers.py:585 #, python-format msgid """" ""Group %(group)s not found for role-assignment - %(target)s with Role: "" ""%(role)s"" msgstr """" #: keystone/common/controller.py:83 keystone/middleware/core.py:195#: keystone/common/controller.py:748#: keystone/common/controller.py:703#: keystone/common/kvs/core.py:134#: keystone/common/kvs/core.py:403#: keystone/common/ldap/core.py:1028#: keystone/common/ldap/core.py:1226#: keystone/common/ldap/core.py:1337#: keystone/common/ldap/core.py:1670#: keystone/middleware/core.py:205",103,88
openstack%2Fcinder~master~If20bca9f375269cf652ef367c1b70eb061f57337,openstack/cinder,master,If20bca9f375269cf652ef367c1b70eb061f57337,Use Requests HTTP library and URL safe names,MERGED,2015-08-13 12:34:17.000000000,2015-08-16 15:07:42.000000000,2015-08-14 01:50:38.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12540}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 16160}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-13 12:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a590f39bd3b5dc76dc00bec1e3a2723c66cb1c6', 'message': 'Use Requests HTTP library and URL safe names\n\nUse Requests HTTP library instead of urllib, and also use URL safe\nresource names to communicate to the DotHill array.\n\nChange-Id: If20bca9f375269cf652ef367c1b70eb061f57337\nCloses-Bug: #1461718\nCo-Authored-By: Lakshman <lakshminarayanat@vedams.com>\n'}, {'number': 2, 'created': '2015-08-13 15:33:41.000000000', 'files': ['cinder/tests/unit/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dothill/dothill_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d76c660977d0b8dc1cc8fe051ae718d58a25728f', 'message': 'Use Requests HTTP library and URL safe names\n\nUse Requests HTTP library instead of urllib, and also use URL safe\nresource names to communicate to the DotHill array.\n\nChange-Id: If20bca9f375269cf652ef367c1b70eb061f57337\nCloses-Bug: #1461718\nCo-Authored-By: Lakshman <lakshminarayanat@vedams.com>\n'}]",0,212506,d76c660977d0b8dc1cc8fe051ae718d58a25728f,53,33,2,16121,,,0,"Use Requests HTTP library and URL safe names

Use Requests HTTP library instead of urllib, and also use URL safe
resource names to communicate to the DotHill array.

Change-Id: If20bca9f375269cf652ef367c1b70eb061f57337
Closes-Bug: #1461718
Co-Authored-By: Lakshman <lakshminarayanat@vedams.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/212506/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dothill/dothill_common.py']",3,9a590f39bd3b5dc76dc00bec1e3a2723c66cb1c6,bug/1461718," We convert the 128(32*4) bits of the uuid into a 24 characters long in some models so we return 19 characters because the _get_{vol,snap}_name functions prepend a character. vol_encoded = base64.urlsafe_b64encode(vol_uuid.get_bytes())"," We convert the 128(32*4) bits of the uuid into a 24character long so we truncate the name later. vol_encoded = base64.b64encode(vol_uuid.bytes) vol_encoded = vol_encoded.replace('=', '') # + is not a valid character for DotHill vol_encoded = vol_encoded.replace('+', '.') # since we use http URLs to send paramters, '/' is not an acceptable # parameter vol_encoded = vol_encoded.replace('/', '_') # NOTE:we limit the size to 20 characters since the array # doesn't support more than that for now. Duplicates should happen very # rarely. # We return 19 chars here because the _get_{vol,snap}_name functions # prepend a character",23,36
openstack%2Faodh~master~I0d29c86fe6d8b2a60c214e0c44534973f7dd25b4,openstack/aodh,master,I0d29c86fe6d8b2a60c214e0c44534973f7dd25b4,service: stop supporting deprecated group for auth option,MERGED,2015-08-11 16:39:51.000000000,2015-08-16 13:43:31.000000000,2015-08-16 13:43:27.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-11 16:39:51.000000000', 'files': ['aodh/service.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4561be1ae3ef072ca80ff2a6b141486750c66852', 'message': 'service: stop supporting deprecated group for auth option\n\nThis was already deprecated back in Ceilometer, so we can remove it from\nthere.\n\nChange-Id: I0d29c86fe6d8b2a60c214e0c44534973f7dd25b4\n'}]",0,211661,4561be1ae3ef072ca80ff2a6b141486750c66852,10,6,1,1669,,,0,"service: stop supporting deprecated group for auth option

This was already deprecated back in Ceilometer, so we can remove it from
there.

Change-Id: I0d29c86fe6d8b2a60c214e0c44534973f7dd25b4
",git fetch https://review.opendev.org/openstack/aodh refs/changes/61/211661/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/service.py'],1,4561be1ae3ef072ca80ff2a6b141486750c66852,jd/remove-deprecated-from-opts,," deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"",",0,6
openstack%2Faodh~master~Ib0f8324b3999df08f422172c20c0212ba0699447,openstack/aodh,master,Ib0f8324b3999df08f422172c20c0212ba0699447,Use generic keystone uri in devstack config,MERGED,2015-08-13 10:04:02.000000000,2015-08-16 13:25:08.000000000,2015-08-16 13:25:04.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 1894}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-13 10:04:02.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/aodh/commit/a36b8ea4d9501ccb5af828b263e13f2f67ba5bcd', 'message': ""Use generic keystone uri in devstack config\n\nOtherwise the threshold evaluator cannot load the ceilometerclient,\nwe get instead:\n\n    Could not load 'threshold': Unable to determine the Keystone\n    version to authenticate with using the given auth_url.\n\nChange-Id: Ib0f8324b3999df08f422172c20c0212ba0699447\n""}]",0,212446,a36b8ea4d9501ccb5af828b263e13f2f67ba5bcd,13,6,1,11564,,,0,"Use generic keystone uri in devstack config

Otherwise the threshold evaluator cannot load the ceilometerclient,
we get instead:

    Could not load 'threshold': Unable to determine the Keystone
    version to authenticate with using the given auth_url.

Change-Id: Ib0f8324b3999df08f422172c20c0212ba0699447
",git fetch https://review.opendev.org/openstack/aodh refs/changes/46/212446/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a36b8ea4d9501ccb5af828b263e13f2f67ba5bcd,cd/keystone-discovery, iniset $AODH_CONF service_credentials os_auth_url $KEYSTONE_SERVICE_URI, iniset $AODH_CONF service_credentials os_auth_url $KEYSTONE_SERVICE_URI/v2.0,1,1
openstack%2Fproject-config~master~I3fb76c136160188e5ea993fcb7a00df9573e6ac5,openstack/project-config,master,I3fb76c136160188e5ea993fcb7a00df9573e6ac5,puppet: enable copy_logs publisher for beaker-rspec-dsvm jobs,MERGED,2015-08-13 23:29:11.000000000,2015-08-16 12:29:35.000000000,2015-08-16 12:29:33.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-08-13 23:29:11.000000000', 'files': ['jenkins/jobs/puppet-module-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/895d9e8f659257def22a1712d81fa1358b665af6', 'message': 'puppet: enable copy_logs publisher for beaker-rspec-dsvm jobs\n\nWe tested the publisher on beaker-rspec-dsvm-upgrade jobs and it now\nworks as expected: we have the basic structure in place and it does not\nmake the job failing.\n\nSo we can move forward and enable the publisher for other beaker jobs\nand finally have the logs in our Puppet CI.\n\nChange-Id: I3fb76c136160188e5ea993fcb7a00df9573e6ac5\n'}]",0,212841,895d9e8f659257def22a1712d81fa1358b665af6,8,4,1,3153,,,0,"puppet: enable copy_logs publisher for beaker-rspec-dsvm jobs

We tested the publisher on beaker-rspec-dsvm-upgrade jobs and it now
works as expected: we have the basic structure in place and it does not
make the job failing.

So we can move forward and enable the publisher for other beaker jobs
and finally have the logs in our Puppet CI.

Change-Id: I3fb76c136160188e5ea993fcb7a00df9573e6ac5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/212841/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/puppet-module-jobs.yaml'],1,895d9e8f659257def22a1712d81fa1358b665af6,puppet/enable_logs, - copy-puppet-logs, - revoke-sudo,1,1
openstack%2Fproject-config~master~Iab44af5f9259dea1d873b1abd1394b9134635666,openstack/project-config,master,Iab44af5f9259dea1d873b1abd1394b9134635666,Add bots to #openstack-gslb for openstack/kosmos,MERGED,2015-08-13 16:56:47.000000000,2015-08-16 12:24:09.000000000,2015-08-16 12:24:05.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-08-13 16:56:47.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d6243207d7b76574a254db47f9ddf3ad1be2646', 'message': 'Add bots to #openstack-gslb for openstack/kosmos\n\nChange-Id: Iab44af5f9259dea1d873b1abd1394b9134635666\nDepends-On: I4643078f8c77936b0f55ad230027679fa9d62f35\n'}]",0,212660,3d6243207d7b76574a254db47f9ddf3ad1be2646,7,3,1,10980,,,0,"Add bots to #openstack-gslb for openstack/kosmos

Change-Id: Iab44af5f9259dea1d873b1abd1394b9134635666
Depends-On: I4643078f8c77936b0f55ad230027679fa9d62f35
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/212660/1 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,3d6243207d7b76574a254db47f9ddf3ad1be2646,kosmos-gslb-bots,openstack-gslb: events: - patchset-created - change-merged - x-vrif-minus-2 projects: - openstack/kosmos branches: - master ,,12,0
openstack%2Fpbr~master~Ib12df23ab25b290dd394f9cb1456b8d5da57306a,openstack/pbr,master,Ib12df23ab25b290dd394f9cb1456b8d5da57306a,Fix retrieval of commit data and most recent tag.,MERGED,2015-06-24 06:29:58.000000000,2015-08-16 12:13:03.000000000,2015-08-16 12:13:02.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 10068}, {'_account_id': 17012}]","[{'number': 1, 'created': '2015-06-24 06:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3f4a1bc075f53029ea8cd3c38b8977b2122ff8b3', 'message': 'Fix retrieval of commit data and most recent tag.\n\ngit._iter_log_online() returns None in some cases for instance\nwhen SKIP_WRITE_GIT_CHANGELOG is set to true. This needs to be\nhandled in packaging._get_revno_and_last_tag().\n\nChange-Id: Ib12df23ab25b290dd394f9cb1456b8d5da57306a\nCloses-Bug: 1467440\n'}, {'number': 2, 'created': '2015-07-01 10:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d6280b9d1f3e57772fc5a65d851017827e8f258c', 'message': 'Fix retrieval of commit data and most recent tag.\n\ngit._iter_log_online() returns None in some cases for instance\nwhen SKIP_WRITE_GIT_CHANGELOG is set to true. This is fixed by\nreturning an empty list in _iter_log_online.\n\nChange-Id: Ib12df23ab25b290dd394f9cb1456b8d5da57306a\nCloses-Bug: 1467440\n'}, {'number': 3, 'created': '2015-08-03 12:45:32.000000000', 'files': ['pbr/packaging.py', 'pbr/tests/test_packaging.py', 'pbr/git.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/c3fc63c64f9db3b98d16fa77a8021b3f5d5b34a4', 'message': 'Fix retrieval of commit data and most recent tag.\n\ngit._iter_log_online() returns None in some cases for instance\nwhen SKIP_WRITE_GIT_CHANGELOG is set to true. This is fixed by\nreturning an empty list in _iter_log_online.\n\nAlso the check if a changelog based on git should be written\nwas moved from git._iter_log_online to git.write_git_changelog\nwhich makes more sense since some functions were calling\ngit._iter_log_online to get the changelog for other reasons than\nwriting it.\n\nAdditionally a unittest was added to check that setting the\nenvironment variable SKIP_WRITE_GIT_CHANGELOG to true does not\nbreak anything when retrieving the git version.\n\nChange-Id: Ib12df23ab25b290dd394f9cb1456b8d5da57306a\nCloses-Bug: 1467440\n'}]",1,194954,c3fc63c64f9db3b98d16fa77a8021b3f5d5b34a4,21,7,3,17012,,,0,"Fix retrieval of commit data and most recent tag.

git._iter_log_online() returns None in some cases for instance
when SKIP_WRITE_GIT_CHANGELOG is set to true. This is fixed by
returning an empty list in _iter_log_online.

Also the check if a changelog based on git should be written
was moved from git._iter_log_online to git.write_git_changelog
which makes more sense since some functions were calling
git._iter_log_online to get the changelog for other reasons than
writing it.

Additionally a unittest was added to check that setting the
environment variable SKIP_WRITE_GIT_CHANGELOG to true does not
break anything when retrieving the git version.

Change-Id: Ib12df23ab25b290dd394f9cb1456b8d5da57306a
Closes-Bug: 1467440
",git fetch https://review.opendev.org/openstack/pbr refs/changes/54/194954/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/packaging.py'],1,3f4a1bc075f53029ea8cd3c38b8977b2122ff8b3,bug/1467440, changelog = changelog if changelog else [],,1,0
openstack%2Fopenstacksdk~master~Ib8ae08922a2022a3c36e5eefb2773ca35ba2bdc1,openstack/openstacksdk,master,Ib8ae08922a2022a3c36e5eefb2773ca35ba2bdc1,Include examples in toctree,MERGED,2015-06-22 17:31:38.000000000,2015-08-16 11:12:13.000000000,2015-06-29 19:43:40.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-22 17:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e479c3cd26a290b0f626de9be08129c5b52423d6', 'message': 'Include examples in toctree\n\nChange-Id: Ib8ae08922a2022a3c36e5eefb2773ca35ba2bdc1\n'}, {'number': 2, 'created': '2015-06-29 18:17:20.000000000', 'files': ['doc/source/users/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fb06817215270d02b5ece9f86a21529364b731b', 'message': 'Include examples in toctree\n\nChange-Id: Ib8ae08922a2022a3c36e5eefb2773ca35ba2bdc1\n'}]",0,194249,9fb06817215270d02b5ece9f86a21529364b731b,11,4,2,8736,,,0,"Include examples in toctree

Change-Id: Ib8ae08922a2022a3c36e5eefb2773ca35ba2bdc1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/194249/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/users/index.rst'],1,e479c3cd26a290b0f626de9be08129c5b52423d6,changelog,It may also be useful to try out some working code examples: .. toctree:: :maxdepth: 1 examples,It may also be useful to try out some working code :doc:`examples <examples>`.,6,1
openstack%2Fopenstacksdk~master~I3a414193d4d3bfb81b19ddbc517f7b3c92c2d5dd,openstack/openstacksdk,master,I3a414193d4d3bfb81b19ddbc517f7b3c92c2d5dd,Change docs links to generic format,MERGED,2015-06-22 17:19:50.000000000,2015-08-16 11:11:52.000000000,2015-06-29 18:29:54.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-22 17:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c2e175593a2fe6cb84ee9b15d12520b90a04514', 'message': ""Change docs links to generic format\n\nThe doc links shouldn't be found to html.\n\nChange-Id: I3a414193d4d3bfb81b19ddbc517f7b3c92c2d5dd\n""}, {'number': 2, 'created': '2015-06-29 16:53:35.000000000', 'files': ['doc/source/index.rst', 'doc/source/users/index.rst', 'doc/source/contributors/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f9b427774dd57ded25289fee9da525ad35add949', 'message': ""Change docs links to generic format\n\nThe doc links shouldn't be found to html.\n\nChange-Id: I3a414193d4d3bfb81b19ddbc517f7b3c92c2d5dd\n""}]",0,194240,f9b427774dd57ded25289fee9da525ad35add949,12,4,2,8736,,,0,"Change docs links to generic format

The doc links shouldn't be found to html.

Change-Id: I3a414193d4d3bfb81b19ddbc517f7b3c92c2d5dd
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/194240/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/users/index.rst', 'doc/source/contributors/index.rst']",3,0c2e175593a2fe6cb84ee9b15d12520b90a04514,changelog,documented in our :doc:`setup <setup>` section.,documented in our `setup <setup.html>`_ section.,5,5
openstack%2Fopenstacksdk~master~I48c00712e3604c256e2c17a949409887beb8dbc1,openstack/openstacksdk,master,I48c00712e3604c256e2c17a949409887beb8dbc1,Add the pbr generated changelog to the docs,MERGED,2015-06-20 19:33:51.000000000,2015-08-16 11:10:53.000000000,2015-06-29 18:12:25.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-20 19:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ef2f742eed32a3eb7b9406565371898f579ed92c', 'message': ""Add the pbr generated changelog to the docs\n\nYou have to run 'python setup.py sdist' to generate the authors\nand changelog file, so I'm not sure how this will work out when\ndocs are pushed to the docs server.\n\nChange-Id: I48c00712e3604c256e2c17a949409887beb8dbc1\n""}, {'number': 2, 'created': '2015-06-20 19:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4fce99427831d187dfcc1c967c0b71de4473ad80', 'message': ""Add the pbr generated changelog to the docs\n\nYou have to run 'python setup.py sdist' to generate the authors\nand changelog file, so I'm not sure how this will work out when\ndocs are pushed to the docs server.\n\nChange-Id: I48c00712e3604c256e2c17a949409887beb8dbc1\n""}, {'number': 3, 'created': '2015-06-22 16:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2211c13f3a767ba60f7321b06cb5671dda95717f', 'message': ""Add the pbr generated changelog to the docs\n\nYou have to run 'python setup.py sdist' to generate the authors\nand changelog file, so I'm not sure how this will work out when\ndocs are pushed to the docs server.\n\nChange-Id: I48c00712e3604c256e2c17a949409887beb8dbc1\n""}, {'number': 4, 'created': '2015-06-29 16:32:57.000000000', 'files': ['doc/source/index.rst', 'doc/source/history.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/579426d4a0bbaa744cf8f62ad4d126797b173f74', 'message': ""Add the pbr generated changelog to the docs\n\nYou have to run 'python setup.py sdist' to generate the authors\nand changelog file, so I'm not sure how this will work out when\ndocs are pushed to the docs server.\n\nChange-Id: I48c00712e3604c256e2c17a949409887beb8dbc1\n""}]",1,193827,579426d4a0bbaa744cf8f62ad4d126797b173f74,20,6,4,8736,,,0,"Add the pbr generated changelog to the docs

You have to run 'python setup.py sdist' to generate the authors
and changelog file, so I'm not sure how this will work out when
docs are pushed to the docs server.

Change-Id: I48c00712e3604c256e2c17a949409887beb8dbc1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/193827/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,ef2f742eed32a3eb7b9406565371898f579ed92c,changelog,There is a `history <history.html>`_ available of releases for the SDK.,,1,0
openstack%2Fproject-config~master~I659d2dd5a56288e8dca59126705d4b342f1345cf,openstack/project-config,master,I659d2dd5a56288e8dca59126705d4b342f1345cf,Do not run rally on stable branches,MERGED,2015-08-15 16:52:55.000000000,2015-08-16 10:24:07.000000000,2015-08-16 10:24:00.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5263}, {'_account_id': 6172}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2015-08-15 16:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a941b273cf03ad32f98ebcd9437c0f3e39de20f', 'message': 'Do not run rally on stable branches\n\nDo not run rally gate on stable branches. There is not a lot of\nbenefit to do so and the rally job for keystone continues to be\nbroken with no eyes on it/fixing it for kilo.\n\nChange-Id: I659d2dd5a56288e8dca59126705d4b342f1345cf\n'}, {'number': 2, 'created': '2015-08-16 01:39:22.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/776f0c40cb2bdb49838fb30f7e26d39fa9be9f99', 'message': 'Do not run rally on stable branches\n\nDo not run rally gate on stable branches. There is not a lot of\nbenefit to do so and the rally job for keystone continues to be\nbroken with no eyes on it/fixing it for kilo.\n\nChange-Id: I659d2dd5a56288e8dca59126705d4b342f1345cf\n'}]",6,213446,776f0c40cb2bdb49838fb30f7e26d39fa9be9f99,17,7,2,2903,,,0,"Do not run rally on stable branches

Do not run rally gate on stable branches. There is not a lot of
benefit to do so and the rally job for keystone continues to be
broken with no eyes on it/fixing it for kilo.

Change-Id: I659d2dd5a56288e8dca59126705d4b342f1345cf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/213446/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,6a941b273cf03ad32f98ebcd9437c0f3e39de20f,, branch: ^(?!stable/.+).*$, branch: ^(?!stable/icehouse).*$,1,1
openstack%2Fneutron~master~I873b88b1fab513d8a4a4ad81a0c2d3161b4cef88,openstack/neutron,master,I873b88b1fab513d8a4a4ad81a0c2d3161b4cef88,Add lieutenants contact for kuryr,MERGED,2015-08-14 12:48:00.000000000,2015-08-16 09:51:20.000000000,2015-08-14 20:01:43.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14352}, {'_account_id': 14571}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-14 12:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1eafcff204faa583ce491ed3052582b25635162', 'message': 'Add lieutenants contact for kuryr\n\nChange-Id: I873b88b1fab513d8a4a4ad81a0c2d3161b4cef88\n'}, {'number': 2, 'created': '2015-08-14 15:16:31.000000000', 'files': ['doc/source/policies/core-reviewers.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50665e131a90e2166634ab165a8a3c385fc742bb', 'message': 'Add lieutenants contact for kuryr\n\nChange-Id: I873b88b1fab513d8a4a4ad81a0c2d3161b4cef88\n'}]",0,213133,50665e131a90e2166634ab165a8a3c385fc742bb,37,21,2,11343,,,0,"Add lieutenants contact for kuryr

Change-Id: I873b88b1fab513d8a4a4ad81a0c2d3161b4cef88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/213133/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/policies/core-reviewers.rst'],1,e1eafcff204faa583ce491ed3052582b25635162,add_kuryr_lieutenants,| kuryr | Antoni Segura Puimedon | apuimedo | | | Gal Sagie | gsagie | +------------------------+---------------------------+----------------------+,,3,0
openstack%2Fcinder~master~I9ae166e30ed2ffdc7c5bd8afd4c31bd8d9698c9a,openstack/cinder,master,I9ae166e30ed2ffdc7c5bd8afd4c31bd8d9698c9a,Fix typos in test_backup_ceph.py,ABANDONED,2015-06-02 23:12:14.000000000,2015-08-16 09:44:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 8119}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}, {'_account_id': 15882}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}]","[{'number': 1, 'created': '2015-06-02 23:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a20879d569bf1bd1f49646c61d3fe0fb80b15361', 'message': 'Fixed typos\n\nChange-Id: I9ae166e30ed2ffdc7c5bd8afd4c31bd8d9698c9a\n'}, {'number': 2, 'created': '2015-08-16 08:29:25.000000000', 'files': ['cinder/tests/unit/test_backup_ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b7453987cb30775fde2cf049ce3369cf49dd54e', 'message': 'Fix typos in test_backup_ceph.py\n\nManageable was misspelled. This corrects the spelling.\n\nChange-Id: I9ae166e30ed2ffdc7c5bd8afd4c31bd8d9698c9a'}]",2,187807,2b7453987cb30775fde2cf049ce3369cf49dd54e,35,25,2,13107,,,0,"Fix typos in test_backup_ceph.py

Manageable was misspelled. This corrects the spelling.

Change-Id: I9ae166e30ed2ffdc7c5bd8afd4c31bd8d9698c9a",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/187807/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_backup_ceph.py'],1,a20879d569bf1bd1f49646c61d3fe0fb80b15361,, # Lower the chunksize to a memory manageable number, # Lower the chunksize to a memory managable number,1,1
openstack%2Fcinder~master~Ie0c6f23caf68080a05a10cc7ad245878a057fb02,openstack/cinder,master,Ie0c6f23caf68080a05a10cc7ad245878a057fb02,"Remove RetypeVD class, fix NFS driver retype",MERGED,2015-07-28 14:29:06.000000000,2015-08-16 09:39:27.000000000,2015-08-15 02:58:51.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10058}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10674}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13636}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15831}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17151}, {'_account_id': 17492}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-07-28 14:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/435b4ddbc6271b279b208fe9f88fedd9ae8b76de', 'message': 'Move retype() to BaseVD\n\nretype() only exists in the deprecated VolumeDriver() class\nand not BaseVD.  This means that drivers inheriting from *VD\nhit attribute errors when trying to call driver.retype().\n\nChange-Id: Ie0c6f23caf68080a05a10cc7ad245878a057fb02\nCloses-Bug: #1478987\nRelated-Bug: #1471807\n'}, {'number': 2, 'created': '2015-08-12 16:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be80b157aee560d0b80fc2e244642f96389f702c', 'message': 'Add retype() to BaseVD\n\nretype() only exists in the deprecated VolumeDriver() class\nand not BaseVD.  This means that drivers inheriting from *VD\nhit attribute errors when trying to call driver.retype().\n\nChange-Id: Ie0c6f23caf68080a05a10cc7ad245878a057fb02\nCloses-Bug: #1478987\nRelated-Bug: #1471807\n'}, {'number': 3, 'created': '2015-08-13 14:30:29.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/__init__.py', 'cinder/tests/unit/test_nfs.py', 'cinder/volume/drivers/san/hp/hp_lefthand_iscsi.py', 'cinder/volume/drivers/ibm/xiv_ds8k.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0eb3014195a3e300e6179296c2cfabfa4e785821', 'message': ""Remove RetypeVD class, fix NFS driver retype\n\nretype() only exists in the deprecated VolumeDriver() class\nand not BaseVD.  This means that drivers inheriting from *VD\nhit attribute errors when trying to call driver.retype().\n\nThe thinking here is that RetypeVD isn't really necessary,\nsince all drivers must implement some version of the retype\nmethod (even if it's a no-op with just a standard return code).\n\nTherefore, just rely on this being in the base driver class(es)\nrather than making it a separate abc class.\n\nCloses-Bug: #1478987\nRelated-Bug: #1471807\n\nChange-Id: Ie0c6f23caf68080a05a10cc7ad245878a057fb02\n""}]",6,206559,0eb3014195a3e300e6179296c2cfabfa4e785821,100,52,3,4523,,,0,"Remove RetypeVD class, fix NFS driver retype

retype() only exists in the deprecated VolumeDriver() class
and not BaseVD.  This means that drivers inheriting from *VD
hit attribute errors when trying to call driver.retype().

The thinking here is that RetypeVD isn't really necessary,
since all drivers must implement some version of the retype
method (even if it's a no-op with just a standard return code).

Therefore, just rely on this being in the base driver class(es)
rather than making it a separate abc class.

Closes-Bug: #1478987
Related-Bug: #1471807

Change-Id: Ie0c6f23caf68080a05a10cc7ad245878a057fb02
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/206559/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/test_nfs.py']",2,435b4ddbc6271b279b208fe9f88fedd9ae8b76de,fix-update_migrated_volume," def test_retype_is_there(self): ""Ensure that driver.retype() is there."""""" drv = nfs.NfsDriver(configuration=self.configuration) v1 = DumbVolume() ret = drv.retype(self.context, v1, mock.sentinel.new_type, mock.sentinel.diff, mock.sentinel.host) self.assertEqual(ret, (False, None))",,17,3
openstack%2Frally~master~I1dcf32505c86302ebdde41aa2d869665b50f0954,openstack/rally,master,I1dcf32505c86302ebdde41aa2d869665b50f0954,Expand script path by os.path.expanduser,MERGED,2015-08-14 11:57:30.000000000,2015-08-16 09:35:37.000000000,2015-08-16 09:35:35.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 9545}, {'_account_id': 10388}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-08-14 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/707bcc0f7e9175a03279268cbdbea9965990c65a', 'message': 'Expand script path by os.path.expanduser\n\nMake if possible to use tilda in script path\n\nChange-Id: I1dcf32505c86302ebdde41aa2d869665b50f0954\n'}, {'number': 2, 'created': '2015-08-14 12:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2647b1d456423cc527642f7f90b722f7207b66da', 'message': 'Expand script path by os.path.expanduser\n\nMake if possible to use tilda in script path\n\nChange-Id: I1dcf32505c86302ebdde41aa2d869665b50f0954\n'}, {'number': 3, 'created': '2015-08-14 12:08:21.000000000', 'files': ['rally-jobs/rally-mos.yaml', 'rally/task/validation.py', 'rally-jobs/nova.yaml', 'rally-jobs/rally-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/4c9095dab0934bc87caad1880d4a07fd84dbe63a', 'message': 'Expand script path by os.path.expanduser\n\nMake if possible to use tilda in script path\n\nChange-Id: I1dcf32505c86302ebdde41aa2d869665b50f0954\n'}]",0,213111,4c9095dab0934bc87caad1880d4a07fd84dbe63a,14,6,3,7369,,,0,"Expand script path by os.path.expanduser

Make if possible to use tilda in script path

Change-Id: I1dcf32505c86302ebdde41aa2d869665b50f0954
",git fetch https://review.opendev.org/openstack/rally refs/changes/11/213111/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/task/validation.py'],1,707bcc0f7e9175a03279268cbdbea9965990c65a,command-expanduser," local_path = command.get(""local_path"") if local_path: command[""local_path""] = os.path.expanduser(local_path) if command.get(""remote_path"") != interpreter: raise ValueError( ""When uploading an interpreter its path should be as well"" "" specified as the `remote_path' string: %r"" % command)"," if (command.get(""local_path"") and command.get(""remote_path"") != interpreter): raise ValueError( ""When uploading an interpreter its path should be as well"" "" specified as the `remote_path' string: %r"" % command)",7,5
openstack%2Fswift~master~If5971a92a2f9e00851253d3335e167d8225fb9cb,openstack/swift,master,If5971a92a2f9e00851253d3335e167d8225fb9cb,Fix warnings of hacking 0.10.2,ABANDONED,2015-07-27 09:22:27.000000000,2015-08-16 09:34:39.000000000,,"[{'_account_id': 3}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-07-27 09:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ec6d0d5487d8eb6d20d46472aa6f37ae7134ce5', 'message': 'Fix warnings of hacking 0.10.2\n\nThis change prepares Swift to upgrade hacking from 0.8.1 to 0.10.2.\n\nChanges:\n\n* Fix indentation of dictionaries\n* Comments must start with ""# "" (the space is required)\n* Replace ""#-*- coding:utf-8 -*-"" header with ""# coding: utf-8""\n\nChange-Id: If5971a92a2f9e00851253d3335e167d8225fb9cb\n'}, {'number': 2, 'created': '2015-07-27 09:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8ea0c5cba2b0be8fc7c67caab0e95c8d152399c4', 'message': 'Fix warnings of hacking 0.10.2\n\nThis change prepares Swift to upgrade hacking from 0.8.1 to 0.10.2.\n\nChanges:\n\n* Fix indentation of dictionaries\n* Comments must start with ""# "" (the space is required)\n* Replace ""#-*- coding:utf-8 -*-"" header with ""# coding: utf-8""\n\nChange-Id: If5971a92a2f9e00851253d3335e167d8225fb9cb\n'}, {'number': 3, 'created': '2015-07-27 12:54:40.000000000', 'files': ['test/unit/cli/test_recon.py', 'swift/account/auditor.py', 'swift/obj/reconstructor.py', 'test/unit/common/middleware/test_quotas.py', 'swift/common/memcached.py', 'test/unit/common/middleware/test_recon.py', 'test/functional/tests.py', 'test/unit/common/ring/test_ring.py', 'test/unit/test_locale/test_locale.py', 'test/unit/account/test_replicator.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/common/http.py', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/recon.py', 'swift/common/direct_client.py', 'test/unit/container/test_sync.py', 'swift/common/manager.py', 'test/unit/common/test_utils.py', 'test/unit/proxy/test_server.py', 'swift/obj/auditor.py', 'test/unit/obj/test_server.py', 'swift/common/middleware/keystoneauth.py', 'test/unit/common/middleware/test_list_endpoints.py', 'test/unit/obj/test_diskfile.py', 'test/functional/swift_test_client.py', 'swift/proxy/server.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/common/utils.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/middleware/x_profile/html_viewer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b394a16332951fd8912da091230c2c8792c84932', 'message': 'Fix warnings of hacking 0.10.2\n\nThis change prepares Swift to upgrade hacking from 0.8.1 to 0.10.2.\n\nChanges:\n\n* Fix indentation of dictionaries\n* Comments must start with ""# "" (the space is required)\n* Replace ""#-*- coding:utf-8 -*-"" header with ""# coding: utf-8""\n\nChange-Id: If5971a92a2f9e00851253d3335e167d8225fb9cb\n'}]",0,205964,b394a16332951fd8912da091230c2c8792c84932,9,2,3,9107,,,0,"Fix warnings of hacking 0.10.2

This change prepares Swift to upgrade hacking from 0.8.1 to 0.10.2.

Changes:

* Fix indentation of dictionaries
* Comments must start with ""# "" (the space is required)
* Replace ""#-*- coding:utf-8 -*-"" header with ""# coding: utf-8""

Change-Id: If5971a92a2f9e00851253d3335e167d8225fb9cb
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/205964/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_recon.py', 'swift/account/auditor.py', 'swift/obj/reconstructor.py', 'test/unit/common/middleware/test_quotas.py', 'swift/common/memcached.py', 'test/unit/common/middleware/test_recon.py', 'test/functional/tests.py', 'test/unit/common/ring/test_ring.py', 'test/unit/test_locale/test_locale.py', 'test/unit/account/test_replicator.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/common/http.py', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/recon.py', 'swift/common/direct_client.py', 'test/unit/container/test_sync.py', 'swift/common/manager.py', 'test/unit/common/test_utils.py', 'test/unit/proxy/test_server.py', 'swift/obj/auditor.py', 'test/unit/obj/test_server.py', 'swift/common/middleware/keystoneauth.py', 'test/unit/common/middleware/test_list_endpoints.py', 'test/unit/obj/test_diskfile.py', 'test/functional/swift_test_client.py', 'swift/proxy/server.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/common/utils.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/middleware/x_profile/html_viewer.py']",32,4ec6d0d5487d8eb6d20d46472aa6f37ae7134ce5,pep8, # plt.gcf().tight_layout(pad=1.2), #plt.gcf().tight_layout(pad=1.2),215,214
openstack%2Frally~master~I388bd1c1af951670c6a1d043cfeb2a6753a085b0,openstack/rally,master,I388bd1c1af951670c6a1d043cfeb2a6753a085b0,Refactoring of scenario plugin base,MERGED,2015-08-13 23:06:42.000000000,2015-08-16 09:27:34.000000000,2015-08-16 09:27:33.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-08-13 23:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ba80d65898289c47ab2b041b78b103fa5b9b4b81', 'message': ""Refactoring of scenario plugin base\n\n* Moved rally.task.scenarios.base -> rally.task.scenario\n\n  - Shorter imports and simpler structure of tree\n  - Unified with other plugin bases\n\n* Add rally.task.atomic module\n\n  - We will use atomic actions in both scenarios and context\n    this is first step of unification\n\n  - Module has only links to method and atomic action context\n    with new names. So we will change all plugins but won't\n    touch atomic actions at this patch (to reduce amount of\n    LOC in this patch)\n\n  - Next step is to move and unify atomic action code for\n    scenarios and contexts\n\n* Rename rally.task.scenario.scenario to rally.task.scenario.configure\n\n  scenario.scenario is unclear and not aligned with other plugin\n  types where configure() method is used for the same purpose\n\n* Add shortcut rally.plugins.openstack.scenario.configure\n\n  so there is no need to import rally.plugins.openstack.scenario\n  and rally.task.scenario modules\n\n* Fix all unit tests & docs\n\nChange-Id: I388bd1c1af951670c6a1d043cfeb2a6753a085b0\n""}, {'number': 2, 'created': '2015-08-14 06:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19ca91aa4e09e540e19453d68e512218e2036475', 'message': ""Refactoring of scenario plugin base\n\n* Moved rally.task.scenarios.base -> rally.task.scenario\n\n  - Shorter imports and simpler structure of tree\n  - Unified with other plugin bases\n\n* Add rally.task.atomic module\n\n  - We will use atomic actions in both scenarios and context\n    this is first step of unification\n\n  - Module has only links to method and atomic action context\n    with new names. So we will change all plugins but won't\n    touch atomic actions at this patch (to reduce amount of\n    LOC in this patch)\n\n  - Next step is to move and unify atomic action code for\n    scenarios and contexts\n\n* Rename rally.task.scenario.scenario to rally.task.scenario.configure\n\n  scenario.scenario is unclear and not aligned with other plugin\n  types where configure() method is used for the same purpose\n\n* Add shortcut rally.plugins.openstack.scenario.configure\n\n  so there is no need to import rally.plugins.openstack.scenario\n  and rally.task.scenario modules\n\n* Fix all unit tests & docs\n\nChange-Id: I388bd1c1af951670c6a1d043cfeb2a6753a085b0\n""}, {'number': 3, 'created': '2015-08-14 15:27:23.000000000', 'files': ['rally/plugins/openstack/scenarios/ceilometer/queries.py', 'rally/plugins/openstack/scenarios/swift/objects.py', 'rally/plugins/openstack/scenarios/fuel/environments.py', 'rally/plugins/common/scenarios/requests/utils.py', 'rally/plugins/openstack/scenarios/manila/shares.py', 'rally/plugins/openstack/scenarios/nova/security_group.py', 'rally/task/scenario.py', 'rally/plugins/openstack/scenarios/heat/utils.py', 'rally/plugins/openstack/scenarios/ceilometer/traits.py', 'rally/task/engine.py', 'tests/unit/task/test_types.py', 'rally/plugins/common/scenarios/dummy/dummy.py', 'rally/plugins/openstack/scenarios/ceilometer/stats.py', 'rally/plugins/openstack/scenarios/murano/environments.py', 'rally/plugins/openstack/scenarios/nova/floating_ips_bulk.py', 'rally/plugins/openstack/scenarios/ceilometer/resources.py', 'rally/task/runner.py', 'rally/plugins/openstack/scenarios/zaqar/basic.py', 'rally/plugins/openstack/scenarios/ceilometer/samples.py', 'rally/plugins/openstack/scenarios/cinder/utils.py', 'tests/unit/task/test_scenario.py', 'rally-jobs/plugins/fake_plugin.py', 'rally/plugins/openstack/scenarios/tempest/tempest.py', 'rally/plugins/openstack/scenarios/designate/utils.py', 'rally/plugins/openstack/scenarios/vm/vmtasks.py', 'rally/plugins/openstack/scenarios/zaqar/utils.py', 'rally/task/types.py', 'tests/unit/task/scenarios/__init__.py', 'rally/plugins/openstack/scenarios/nova/utils.py', 'rally/task/atomic.py', 'rally/plugins/openstack/scenarios/nova/hypervisors.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'rally/plugins/openstack/scenarios/ceilometer/events.py', 'rally/plugins/openstack/scenarios/swift/utils.py', 'rally/plugins/openstack/scenarios/designate/basic.py', 'rally/plugins/openstack/scenarios/mistral/utils.py', 'tests/unit/plugins/openstack/scenarios/authenticate/test_authenticate.py', 'rally/plugins/openstack/scenarios/ec2/servers.py', 'rally/plugins/openstack/scenarios/murano/utils.py', 'rally/plugins/openstack/scenarios/heat/stacks.py', 'rally/plugins/openstack/scenarios/neutron/network.py', 'doc/source/plugins.rst', 'rally/plugins/openstack/scenarios/ec2/utils.py', 'rally/plugins/openstack/context/cinder/volumes.py', 'rally/plugins/openstack/scenarios/quotas/utils.py', 'rally/plugins/openstack/scenarios/nova/keypairs.py', 'tests/unit/task/test_engine.py', 'rally/plugins/openstack/scenarios/keystone/utils.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/scenarios/ceilometer/meters.py', 'rally/plugins/openstack/scenarios/nova/networks.py', 'rally/cli/commands/info.py', 'rally/plugins/openstack/scenarios/quotas/quotas.py', 'rally/plugins/openstack/scenarios/neutron/utils.py', 'tests/unit/doc/test_task_samples.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/scenarios/nova/servers.py', 'rally/plugins/openstack/scenarios/keystone/basic.py', 'rally/plugins/openstack/scenarios/ironic/nodes.py', 'rally/plugins/common/scenarios/requests/http_requests.py', 'tests/functional/extra/fake_dir1/fake_plugin1.py', 'tests/unit/fakes.py', 'tests/unit/test_docstrings.py', 'rally/plugins/openstack/scenarios/glance/images.py', 'rally/plugins/openstack/scenarios/mistral/workbooks.py', 'rally/plugins/openstack/scenarios/vm/utils.py', 'tests/unit/cli/commands/test_info.py', 'rally/plugins/openstack/scenarios/glance/utils.py', 'rally/plugins/openstack/scenarios/manila/utils.py', 'rally/plugins/openstack/scenario.py', 'rally/plugins/openstack/scenarios/ceilometer/alarms.py', 'rally/plugins/openstack/scenarios/sahara/node_group_templates.py', 'rally/plugins/openstack/scenarios/ceilometer/utils.py', 'rally/task/scenarios/__init__.py', 'rally/plugins/openstack/scenarios/fuel/utils.py', 'tests/unit/task/test_runner.py', 'tests/functional/extra/fake_dir2/fake_plugin2.py', 'rally/plugins/openstack/scenarios/ironic/utils.py', 'rally/plugins/openstack/scenarios/authenticate/authenticate.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/e2d52daf12f2bdc5a4793d89d71934663875d8cb', 'message': ""Refactoring of scenario plugin base\n\n* Moved rally.task.scenarios.base -> rally.task.scenario\n\n  - Shorter imports and simpler structure of tree\n  - Unified with other plugin bases\n\n* Add rally.task.atomic module\n\n  - We will use atomic actions in both scenarios and context\n    this is first step of unification\n\n  - Module has only links to method and atomic action context\n    with new names. So we will change all plugins but won't\n    touch atomic actions at this patch (to reduce amount of\n    LOC in this patch)\n\n  - Next step is to move and unify atomic action code for\n    scenarios and contexts\n\n* Rename rally.task.scenario.scenario to rally.task.scenario.configure\n\n  scenario.scenario is unclear and not aligned with other plugin\n  types where configure() method is used for the same purpose\n\n* Add shortcut rally.plugins.openstack.scenario.configure\n\n  so there is no need to import rally.plugins.openstack.scenario\n  and rally.task.scenario modules\n\n* Fix all unit tests & docs\n\nChange-Id: I388bd1c1af951670c6a1d043cfeb2a6753a085b0\n""}]",1,212831,e2d52daf12f2bdc5a4793d89d71934663875d8cb,21,5,3,6172,,,0,"Refactoring of scenario plugin base

* Moved rally.task.scenarios.base -> rally.task.scenario

  - Shorter imports and simpler structure of tree
  - Unified with other plugin bases

* Add rally.task.atomic module

  - We will use atomic actions in both scenarios and context
    this is first step of unification

  - Module has only links to method and atomic action context
    with new names. So we will change all plugins but won't
    touch atomic actions at this patch (to reduce amount of
    LOC in this patch)

  - Next step is to move and unify atomic action code for
    scenarios and contexts

* Rename rally.task.scenario.scenario to rally.task.scenario.configure

  scenario.scenario is unclear and not aligned with other plugin
  types where configure() method is used for the same purpose

* Add shortcut rally.plugins.openstack.scenario.configure

  so there is no need to import rally.plugins.openstack.scenario
  and rally.task.scenario modules

* Fix all unit tests & docs

Change-Id: I388bd1c1af951670c6a1d043cfeb2a6753a085b0
",git fetch https://review.opendev.org/openstack/rally refs/changes/31/212831/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/scenarios/ceilometer/queries.py', 'rally/plugins/openstack/scenarios/swift/objects.py', 'rally/plugins/openstack/scenarios/fuel/environments.py', 'rally/plugins/common/scenarios/requests/utils.py', 'rally/plugins/openstack/scenarios/manila/shares.py', 'rally/plugins/openstack/scenarios/nova/security_group.py', 'rally/task/scenario.py', 'rally/plugins/openstack/scenarios/heat/utils.py', 'rally/plugins/openstack/scenarios/ceilometer/traits.py', 'rally/task/engine.py', 'tests/unit/task/test_types.py', 'rally/plugins/common/scenarios/dummy/dummy.py', 'rally/plugins/openstack/scenarios/ceilometer/stats.py', 'rally/plugins/openstack/scenarios/murano/environments.py', 'rally/plugins/openstack/scenarios/nova/floating_ips_bulk.py', 'rally/plugins/openstack/scenarios/ceilometer/resources.py', 'rally/task/runner.py', 'rally/plugins/openstack/scenarios/zaqar/basic.py', 'rally/plugins/openstack/scenarios/ceilometer/samples.py', 'rally/plugins/openstack/scenarios/cinder/utils.py', 'tests/unit/task/test_scenario.py', 'rally-jobs/plugins/fake_plugin.py', 'rally/plugins/openstack/scenarios/tempest/tempest.py', 'rally/plugins/openstack/scenarios/designate/utils.py', 'rally/plugins/openstack/scenarios/vm/vmtasks.py', 'rally/plugins/openstack/scenarios/zaqar/utils.py', 'rally/task/types.py', 'tests/unit/task/scenarios/__init__.py', 'rally/plugins/openstack/scenarios/nova/utils.py', 'rally/task/atomic.py', 'rally/plugins/openstack/scenarios/nova/hypervisors.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'rally/plugins/openstack/scenarios/ceilometer/events.py', 'rally/plugins/openstack/scenarios/swift/utils.py', 'rally/plugins/openstack/scenarios/designate/basic.py', 'rally/plugins/openstack/scenarios/mistral/utils.py', 'tests/unit/plugins/openstack/scenarios/authenticate/test_authenticate.py', 'rally/plugins/openstack/scenarios/ec2/servers.py', 'rally/plugins/openstack/scenarios/murano/utils.py', 'rally/plugins/openstack/scenarios/heat/stacks.py', 'rally/plugins/openstack/scenarios/neutron/network.py', 'doc/source/plugins.rst', 'rally/plugins/openstack/scenarios/ec2/utils.py', 'rally/plugins/openstack/context/cinder/volumes.py', 'rally/plugins/openstack/scenarios/quotas/utils.py', 'rally/plugins/openstack/scenarios/nova/keypairs.py', 'tests/unit/task/test_engine.py', 'rally/plugins/openstack/scenarios/keystone/utils.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/scenarios/ceilometer/meters.py', 'rally/plugins/openstack/scenarios/nova/networks.py', 'rally/cli/commands/info.py', 'rally/plugins/openstack/scenarios/quotas/quotas.py', 'rally/plugins/openstack/scenarios/neutron/utils.py', 'tests/unit/doc/test_task_samples.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/scenarios/nova/servers.py', 'rally/plugins/openstack/scenarios/keystone/basic.py', 'rally/plugins/openstack/scenarios/ironic/nodes.py', 'rally/plugins/common/scenarios/requests/http_requests.py', 'tests/unit/fakes.py', 'tests/unit/test_docstrings.py', 'rally/plugins/openstack/scenarios/glance/images.py', 'rally/plugins/openstack/scenarios/mistral/workbooks.py', 'rally/plugins/openstack/scenarios/vm/utils.py', 'tests/unit/cli/commands/test_info.py', 'rally/plugins/openstack/scenarios/glance/utils.py', 'rally/plugins/openstack/scenarios/manila/utils.py', 'rally/plugins/openstack/scenario.py', 'rally/plugins/openstack/scenarios/ceilometer/alarms.py', 'rally/plugins/openstack/scenarios/sahara/node_group_templates.py', 'rally/plugins/openstack/scenarios/ceilometer/utils.py', 'rally/task/scenarios/__init__.py', 'rally/plugins/openstack/scenarios/fuel/utils.py', 'tests/unit/task/test_runner.py', 'rally/plugins/openstack/scenarios/ironic/utils.py', 'rally/plugins/openstack/scenarios/authenticate/authenticate.py']",79,ba80d65898289c47ab2b041b78b103fa5b9b4b81,refactor_scenario_base,"from rally.task import atomic @scenario.configure() @scenario.configure() with atomic.ActionTimer(self, ""authenticate.validate_glance""): @scenario.configure() with atomic.ActionTimer(self, ""authenticate.validate_nova""): @scenario.configure() with atomic.ActionTimer(self, ""authenticate.validate_cinder""): @scenario.configure() with atomic.ActionTimer(self, ""authenticate.validate_neutron""): @scenario.configure() with atomic.ActionTimer(self, ""authenticate.validate_heat""):","from rally.task.scenarios import base @base.scenario() @base.scenario() with base.AtomicAction(self, ""authenticate.validate_glance""): @base.scenario() with base.AtomicAction(self, ""authenticate.validate_nova""): @base.scenario() with base.AtomicAction(self, ""authenticate.validate_cinder""): @base.scenario() with base.AtomicAction(self, ""authenticate.validate_neutron""): @base.scenario() with base.AtomicAction(self, ""authenticate.validate_heat""):",678,641
openstack%2Ftrove~stable%2Fkilo~I1e655e4340a029169e7ae7e455bf144e610d595f,openstack/trove,stable/kilo,I1e655e4340a029169e7ae7e455bf144e610d595f,Test Commit -- Do not Merge,ABANDONED,2015-08-15 01:08:44.000000000,2015-08-16 08:59:06.000000000,,"[{'_account_id': 3}, {'_account_id': 5293}]","[{'number': 1, 'created': '2015-08-15 01:08:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/ad9a0148f35c4b9c345c62b29b937ded2b05db40', 'message': 'Test Commit -- Do not Merge\n\nDepends-On: If77836fcd8d6a3884dcafe73593b5152f9494ad9\nChange-Id: I1e655e4340a029169e7ae7e455bf144e610d595f\n'}]",0,213391,ad9a0148f35c4b9c345c62b29b937ded2b05db40,5,2,1,5293,,,0,"Test Commit -- Do not Merge

Depends-On: If77836fcd8d6a3884dcafe73593b5152f9494ad9
Change-Id: I1e655e4340a029169e7ae7e455bf144e610d595f
",git fetch https://review.opendev.org/openstack/trove refs/changes/91/213391/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ad9a0148f35c4b9c345c62b29b937ded2b05db40,,Trove is an awesome Database as a Service for Open Stack.,Trove is Database as a Service for Open Stack.,1,1
openstack%2Ftrove-integration~master~If77836fcd8d6a3884dcafe73593b5152f9494ad9,openstack/trove-integration,master,If77836fcd8d6a3884dcafe73593b5152f9494ad9,Test Commit -- Do not merge.,ABANDONED,2015-08-15 01:04:08.000000000,2015-08-16 08:58:54.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-15 01:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/d1d4b9ab92f3774cdda3f292f274bf4d54c27e3f', 'message': 'Test Commit -- Do not merge.\n\nChange-Id: If77836fcd8d6a3884dcafe73593b5152f9494ad9\n'}, {'number': 2, 'created': '2015-08-15 01:35:05.000000000', 'files': ['scripts/redstack'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/3f73d307b3503a319a131cb1627803f4d8a802a3', 'message': 'Test Commit -- Do not merge.\n\nChange-Id: If77836fcd8d6a3884dcafe73593b5152f9494ad9\n'}]",0,213390,3f73d307b3503a319a131cb1627803f4d8a802a3,5,1,2,5293,,,0,"Test Commit -- Do not merge.

Change-Id: If77836fcd8d6a3884dcafe73593b5152f9494ad9
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/90/213390/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/redstack'],1,d1d4b9ab92f3774cdda3f292f274bf4d54c27e3f,,echo $BRANCH_OVERRIDE echo $OVERRIDE_ZUUL_BRANCH echo $BRANCH_OVERRIDE echo $ZUUL_BRANCH exit 1 ,,9,0
openstack%2Fcinder~master~I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7,openstack/cinder,master,I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7,Send pool free and total capacity metrics to ceilometer,ABANDONED,2015-05-06 08:54:10.000000000,2015-08-16 08:49:47.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 6491}, {'_account_id': 8846}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10068}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15252}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}]","[{'number': 1, 'created': '2015-05-06 08:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f96934a9290a859cd0e4dd1260e69a62a68a219', 'message': 'Send pool free and total capacity metrics to ceilometer\n\nAdd the following new pool capacity metrics to ceilometer.\n1. storage_pool.exists\n2. storage_pool.total\n3. storage_pool.free\n\nThese metrics are already collected periodically by the\ncinder drivers. The proposal is to send these to ceilometer\nnotification agent for alerting and reporting.\nThis allows the openstack admin to monitor pool capacity and\nget alerted in time before the pool gets full, which can cause\na lot of problems especially with thin provisioning and overcommitment.\n\nChange-Id: I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7\n'}, {'number': 2, 'created': '2015-05-14 00:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/716b4e2d86e09a769913e245936f5365eb313bd4', 'message': 'Send pool free and total capacity metrics to ceilometer\n\nAdd the following new pool capacity metrics to ceilometer.\n1. storage_pool.total\n2. storage_pool.free\n\nThese metrics are already collected periodically by the\ncinder drivers. The proposal is to send these to ceilometer\nnotification agent for alerting and reporting.\nThis allows the openstack admin to monitor pool capacity and\nget alerted in time before the pool gets full, which can cause\na lot of problems especially with thin provisioning and overcommitment.\n\nImplements: blueprint pool-capacity-monitoring\n\nChange-Id: I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7\n'}, {'number': 3, 'created': '2015-05-20 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c37f00cb36191f4d6674f6c11f4b23ef45fca3d', 'message': 'Send pool free and total capacity metrics to ceilometer\n\nAdd the following new pool capacity metrics to ceilometer.\n1. storage_pool.total\n2. storage_pool.free\n\nThese metrics are already collected periodically by the\ncinder drivers. The proposal is to send these to ceilometer\nnotification agent for alerting and reporting.\nThis allows the openstack admin to monitor pool capacity and\nget alerted in time before the pool gets full, which can cause\na lot of problems especially with thin provisioning and overcommitment.\n\nImplements: blueprint pool-capacity-monitoring\n\nChange-Id: I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7\n'}, {'number': 4, 'created': '2015-06-01 16:23:51.000000000', 'files': ['cinder/volume/utils.py', 'cinder/volume/manager.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1a4fc4bf7ace0ce224d379eac134caa6b455cf3', 'message': 'Send pool free and total capacity metrics to ceilometer\n\nAdd the following new pool capacity metrics to ceilometer.\n1. storage_pool.total\n2. storage_pool.free\n\nThese metrics are already collected periodically by the\ncinder drivers. The proposal is to send these to ceilometer\nnotification agent for alerting and reporting.\nThis allows the openstack admin to monitor pool capacity and\nget alerted in time before the pool gets full, which can cause\na lot of problems especially with thin provisioning and overcommitment.\n\nImplements: blueprint pool-capacity-monitoring\n\nChange-Id: I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7\n'}]",2,180447,f1a4fc4bf7ace0ce224d379eac134caa6b455cf3,96,39,4,15252,,,0,"Send pool free and total capacity metrics to ceilometer

Add the following new pool capacity metrics to ceilometer.
1. storage_pool.total
2. storage_pool.free

These metrics are already collected periodically by the
cinder drivers. The proposal is to send these to ceilometer
notification agent for alerting and reporting.
This allows the openstack admin to monitor pool capacity and
get alerted in time before the pool gets full, which can cause
a lot of problems especially with thin provisioning and overcommitment.

Implements: blueprint pool-capacity-monitoring

Change-Id: I7cc41db5d5155b91e5d357bf919c1e9d3911c9e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/180447/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/manager.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/test_volume.py']",4,3f96934a9290a859cd0e4dd1260e69a62a68a219,pool-monitoring," self.assertEqual(5, len(fake_notifier.NOTIFICATIONS)) self.assertEqual(5, len(fake_notifier.NOTIFICATIONS)) if len(fake_notifier.NOTIFICATIONS) > 11: self.assertFalse(fake_notifier.NOTIFICATIONS[11]) self.assertEqual(11, len(fake_notifier.NOTIFICATIONS))"," self.assertEqual(4, len(fake_notifier.NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.NOTIFICATIONS)) if len(fake_notifier.NOTIFICATIONS) > 10: self.assertFalse(fake_notifier.NOTIFICATIONS[10]) self.assertEqual(10, len(fake_notifier.NOTIFICATIONS))",58,5
openstack%2Fcinder~master~I23bf403d33f2de865124c323850cfe012a3c39c5,openstack/cinder,master,I23bf403d33f2de865124c323850cfe012a3c39c5,Fix typo in comment message,ABANDONED,2015-06-29 06:47:14.000000000,2015-08-16 08:48:45.000000000,,"[{'_account_id': 3}, {'_account_id': 2861}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12285}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14797}, {'_account_id': 15254}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16897}, {'_account_id': 16941}]","[{'number': 1, 'created': '2015-06-29 06:47:14.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4b01ca57b2c02aa996aa1a2ea672c683862c277', 'message': 'Fix typo in comment message\n\nmemeber -> member\n\nChange-Id: I23bf403d33f2de865124c323850cfe012a3c39c5\nSigned-off-by: Lin Yang <lin.a.yang@intel.com>\n'}]",1,196554,a4b01ca57b2c02aa996aa1a2ea672c683862c277,36,30,1,12597,,,0,"Fix typo in comment message

memeber -> member

Change-Id: I23bf403d33f2de865124c323850cfe012a3c39c5
Signed-off-by: Lin Yang <lin.a.yang@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/196554/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'],1,a4b01ca57b2c02aa996aa1a2ea672c683862c277,typo," { zonename1:[zonemember1, zonemember2,...],"," { zonename1:[zonememeber1,zonemember2,...],",1,1
openstack%2Fcinder~master~I530772168e4bceff19dabd364fefdf5c3b993b63,openstack/cinder,master,I530772168e4bceff19dabd364fefdf5c3b993b63,Implements Cinder Manage/Unmanage APIs in NFS driver,ABANDONED,2014-12-01 17:13:29.000000000,2015-08-16 08:48:11.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 6094}, {'_account_id': 7860}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9186}, {'_account_id': 9190}, {'_account_id': 9751}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14428}, {'_account_id': 14865}]","[{'number': 1, 'created': '2014-12-01 17:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26fda976c40e6e4c1ddbc55986ac32ae92f47ab5', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd suport for the new Cinder Manage and Unmange API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 2, 'created': '2014-12-04 18:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fe7be3315013212d573462f31d96fb8943b118c', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd suport for the new Cinder Manage and Unmange API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 3, 'created': '2014-12-19 16:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cd7818620514c0bcf20a0ceff5f3c81162ebe18', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd suport for the new Cinder Manage and Unmange API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 4, 'created': '2015-01-05 14:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fced454f7f5181b7026a155378a510d0d6622d9', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 5, 'created': '2015-01-05 19:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db36b00dd3e1aada583eb9bd8ed6e6698b12d8b2', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 6, 'created': '2015-01-08 16:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfc02a54b6e746a397ee0222583ab3b063cde208', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 7, 'created': '2015-01-08 20:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f756d2df3aae1690f192019c2f91bb3031f14660', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 8, 'created': '2015-01-14 15:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac81370028dbc180f227569874efae975dee3726', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 9, 'created': '2015-01-16 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2329bdba918ce7b0bc6db322b5b8c248c1192002', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver.\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 10, 'created': '2015-01-21 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a2092d987617a1581b21059219a16216aa43c08', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 11, 'created': '2015-01-30 14:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80eb5deca2ecf172d54d951a8312497ae1600b3c', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 12, 'created': '2015-02-04 14:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce726940618e4db1fd0b20168615c2f29d37d6b1', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 13, 'created': '2015-02-04 22:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4e58fd7332e7b8c2090781fcbffad364252309c', 'message': 'Implement Cinder Manage/Unmanage APIs in NFS driver\n\nAdd support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}, {'number': 14, 'created': '2015-02-06 15:04:57.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/test_utils.py', 'cinder/volume/driver.py', 'cinder/tests/test_netapp_nfs.py', 'cinder/tests/test_nfs.py', 'cinder/volume/drivers/nfs.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f2f95bdf2625447cf7b708f40283db309eb6a88', 'message': 'Implements Cinder Manage/Unmanage APIs in NFS driver\n\nAdds support for the new Cinder Manage and Unmanage API calls to the\nNFS drivers.\n\nImplements: Blueprint nfs-manage-unmanage\n\nChange-Id: I530772168e4bceff19dabd364fefdf5c3b993b63\n'}]",80,138125,5f2f95bdf2625447cf7b708f40283db309eb6a88,207,34,14,6094,,,0,"Implements Cinder Manage/Unmanage APIs in NFS driver

Adds support for the new Cinder Manage and Unmanage API calls to the
NFS drivers.

Implements: Blueprint nfs-manage-unmanage

Change-Id: I530772168e4bceff19dabd364fefdf5c3b993b63
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/138125/13 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/test_utils.py', 'cinder/tests/test_netapp_nfs.py', 'cinder/tests/test_nfs.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/utils.py', 'cinder/tests/volume/drivers/netapp/dataontap/__init__.py', 'cinder/tests/test_volume_utils.py', 'cinder/tests/volume/drivers/netapp/eseries/__init__.py', 'cinder/utils.py', 'cinder/volume/drivers/remotefs.py']",14,26fda976c40e6e4c1ddbc55986ac32ae92f47ab5,bp/nfs-manage-unmanage," def manage_existing(self, volume, existing_vol_ref): """"""Manages an existing volume. The specified Cinder volume is to be taken into Cinder management The driver will verify its existence and then rename it to the new Cinder volume name. It is expected that the existing volume reference is an NFS share point and some [/path]/volume; e.g., 10.10.32.1:/openstack/vol_to_manage or 10.10.32.1:/openstack/some_directory/vol_to_manage :param volume: Cinder volume to manage :param existing_vol_ref: Existing volume to take under management """""" raise NotImplementedError() def manage_existing_get_size(self, volume, existing_vol_ref): """"""Return size of volume to be managed by manage_existing. When calculating the size, round up to the next GB. :param volume: Cinder volume to manage :param existing_vol_ref: Existing volume to take under management """""" raise NotImplementedError() def unmanage(self, volume): """"""Removes the specified volume from Cinder management. Does not delete the underlying backend storage object. A log entry will be made to notify the Admin that the volume is no longer being managed. Should driver specific work be required, the driver should override this method. :param volume: Cinder volume to unmanage """""" raise NotImplementedError() ",,569,10
openstack%2Fcinder~master~Ibd132b57bc71fc65e9df3e35667f1bafe920d683,openstack/cinder,master,Ibd132b57bc71fc65e9df3e35667f1bafe920d683,Don't allow >3-byte Unicode chars in volume names,ABANDONED,2015-06-25 18:13:56.000000000,2015-08-16 08:46:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-06-25 18:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f66ae78238e3bbb9f043ea5cc3075998df4f25bc', 'message': ""Don't allow >4-byte Unicode characters in volume names\n\nMySQL's utf8 schema only supports up to 3-byte characters.\nCreating volumes with larger Unicode characters results in\nerrors at the SQLAlchemy/MySQL layer which result in HTTP 500.\n\nFilter these out before the DB layer and just return an\nerror.\n\nThis method can be reused in other places where this same\nproblem occurs.\n\nCloses-Bug: #1160614\n\nChange-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683\n""}, {'number': 2, 'created': '2015-06-25 20:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4464cdef9af2a2a39b2cf19e47051ee4591892f2', 'message': ""Don't allow >4-byte Unicode chars in volume names\n\nMySQL's utf8 schema only supports up to 3-byte characters.\nCreating volumes with larger Unicode characters results in\nerrors at the SQLAlchemy/MySQL layer which result in HTTP 500.\n\nFilter these out before the DB layer and just return an\nerror.\n\nThis method can be reused in other places where this same\nproblem occurs.\n\nCloses-Bug: #1160614\n\nChange-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683\n""}, {'number': 3, 'created': '2015-06-25 21:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53929191924d214d9944c7bcd59caee540558ea2', 'message': ""Don't allow >3-byte Unicode chars in volume names\n\nMySQL's utf8 schema only supports up to 3-byte characters.\nCreating volumes with larger Unicode characters results in\nerrors at the SQLAlchemy/MySQL layer which result in HTTP 500.\n\nFilter these out before the DB layer and just return an\nerror.\n\nThis method can be reused in other places where this same\nproblem occurs.\n\nCloses-Bug: #1160614\n\nChange-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683\n""}, {'number': 4, 'created': '2015-06-26 14:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a8826e723f13e4df05faf71525127d30b76f53d', 'message': ""Don't allow >4-byte Unicode chars in volume names\n\nMySQL's utf8 schema only supports up to 3-byte characters.\nCreating volumes with larger Unicode characters results in\nerrors at the SQLAlchemy/MySQL layer which result in HTTP 500.\n\nFilter these out before the DB layer and just return an\nerror.\n\nThis method can be reused in other places where this same\nproblem occurs.\n\nCloses-Bug: #1160614\n\nChange-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683\n""}, {'number': 5, 'created': '2015-06-26 14:50:30.000000000', 'files': ['cinder/api/v2/volumes.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a464a300afea3de19e5109a52182be95b444f0e', 'message': ""Don't allow >3-byte Unicode chars in volume names\n\nMySQL's utf8 schema only supports up to 3-byte characters.\nCreating volumes with larger Unicode characters results in\nerrors at the SQLAlchemy/MySQL layer which result in HTTP 500.\n\nFilter these out before the DB layer and just return an\nerror.\n\nThis method can be reused in other places where this same\nproblem occurs.\n\nCloses-Bug: #1160614\n\nChange-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683\n""}]",9,195695,0a464a300afea3de19e5109a52182be95b444f0e,62,23,5,4523,,,0,"Don't allow >3-byte Unicode chars in volume names

MySQL's utf8 schema only supports up to 3-byte characters.
Creating volumes with larger Unicode characters results in
errors at the SQLAlchemy/MySQL layer which result in HTTP 500.

Filter these out before the DB layer and just return an
error.

This method can be reused in other places where this same
problem occurs.

Closes-Bug: #1160614

Change-Id: Ibd132b57bc71fc65e9df3e35667f1bafe920d683
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/195695/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/volumes.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py']",3,f66ae78238e3bbb9f043ea5cc3075998df4f25bc,bug/1160614," def validate_string_for_db(string, name=None): """"""Test whether a string contains hazardous characters. MySQL's 'utf8' support only handles characters of three bytes or less. This detects strings which violate that. :param string: string to test :param name: name of string to use in error message :returns: None :raises: InvalidInput """""" if string is None: return None regex = '.*' + u'[\uffff-\U0010FFFF]' + '.*' if re.search(regex, string): message = _LE('Disallowed Unicode characters in %(name)s.') string = _LE('string') out_msg = message % {'name': name or string} raise exception.InvalidInput(out_msg) return None",,59,0
openstack%2Fcinder~master~If4b34efdaf6ff850f865a92825eb94b5ab8c7751,openstack/cinder,master,If4b34efdaf6ff850f865a92825eb94b5ab8c7751,Just a short example to illustrate,ABANDONED,2015-07-05 15:49:39.000000000,2015-08-16 08:45:48.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16160}]","[{'number': 1, 'created': '2015-07-05 15:49:39.000000000', 'files': ['cinder/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab9dd1ce161ec8ba0b68211abc275de45f959ac3', 'message': ""Just a short example to illustrate\n\nAdding a capabilities reporting feature.\nShouldn't be hard or overly complex, just add some\n*stuff* use init to set it up and store it in\nthe drivers memory.  Provide a method to update\nif/when needed.\n\nObviously this is just an illustration and uses\nthe base driver to set things that are completely\nirrelevant/NA for it, but it's just to try and\nillustrate.\n\nDO NOT MERGE OBVIOUSLY\n\nChange-Id: If4b34efdaf6ff850f865a92825eb94b5ab8c7751\n""}]",1,198554,ab9dd1ce161ec8ba0b68211abc275de45f959ac3,18,15,1,2243,,,0,"Just a short example to illustrate

Adding a capabilities reporting feature.
Shouldn't be hard or overly complex, just add some
*stuff* use init to set it up and store it in
the drivers memory.  Provide a method to update
if/when needed.

Obviously this is just an illustration and uses
the base driver to set things that are completely
irrelevant/NA for it, but it's just to try and
illustrate.

DO NOT MERGE OBVIOUSLY

Change-Id: If4b34efdaf6ff850f865a92825eb94b5ab8c7751
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/198554/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/driver.py'],1,ab9dd1ce161ec8ba0b68211abc275de45f959ac3,example_extraspecs_reporting_code," self.capabilities = self._init_capabilities() def _init_capabilities(self): # NOTE(jdg): There's overlap between the spec # for capabilities/extra specs exposure and # the stuff we already do in stats. No big # deal, just start with what we already have # in stats as the base and go from there capabilities = {} self.get_volume_stats(True) capabilities = self._stats.copy() capabilities['thin_provisioning'] = {'default': False, 'options': {}} # So if a bckend offers multiple choices for compression # (like type or algorithm to use) capabilities['compression'] = {'default': False, 'options': [False, 'squezit', 'LZO']} # Or if it's sane and just simply ""True/False"" capabilities['compression'] = {'default': False, 'options': [True, False]} # Or the crazy persona stuff like this # I have no idea how this fits into OpenStack and virtio but that's # cool capabilities['persona'] = {'default': 'Generic', 'options': ['Generic', 'ONTAP-legacy', 'VMware']} self._capabilities = capabilities def get_capabilities(self, discover=False): return self._capabilities ",,36,0
openstack%2Fcinder~master~I1bbe87f28d0c518a2b5b295f38514354d83670bb,openstack/cinder,master,I1bbe87f28d0c518a2b5b295f38514354d83670bb,Validate volume type extra specs,ABANDONED,2015-03-04 23:42:36.000000000,2015-08-16 08:45:33.000000000,,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10796}, {'_account_id': 11459}, {'_account_id': 11592}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 11941}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-03-04 23:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb2399e066f3a743f357d3d7077d903a941227bd', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nImplements: blueprint volume-type-validation\n'}, {'number': 2, 'created': '2015-03-10 22:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3646a113583625b0d49777914c4323d94149fc5', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 3, 'created': '2015-03-12 19:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fda3a56f1925ea95df9b8312131cddad3ee05b7', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 4, 'created': '2015-03-12 22:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2096bccd0fea27288c761f75eb4a6229d7d13dbf', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 5, 'created': '2015-03-13 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4deaea2f8fd68de04f5b32de23ef131dfa3758ba', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 6, 'created': '2015-03-13 17:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bba7b531acf26516b93c6d2611b021d8479fd043', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 7, 'created': '2015-03-17 19:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/183d47a09cd2263c1caa464e15edfb2745b7d593', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 8, 'created': '2015-03-17 20:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9f73a46415c1a726476a4b182816df379ad4330', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 9, 'created': '2015-03-24 22:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d529a3e088ccb9a8ae9ae138b62360c68e701fba', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 10, 'created': '2015-04-07 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8eee161861083b764a8381f5c6f2655309cb71f', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 11, 'created': '2015-04-23 21:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f57ab4f93c33e30ef5c98327029e95e25d4f9ce3', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 12, 'created': '2015-04-24 18:12:04.000000000', 'files': ['cinder/tests/unit/test_volume_rpcapi.py', 'cinder/volume/manager.py', 'cinder/volume/driver.py', 'cinder/tests/unit/test_volume_types_extra_specs.py', 'cinder/tests/unit/api/contrib/test_types_extra_specs.py', 'cinder/volume/rpcapi.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5df616dd15cc734f52df76b78e9531da3c6a8901', 'message': 'Validate volume type extra specs\n\nThis patch implements a new API to validate the volume type extra spec\nkey/value pairs against the volume backends. This is to provide a\nsimple sanity check for the administrator when setting or updating the\nextra specs.\n\nChange-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb\nPartially-Implements: blueprint volume-type-validation\n'}]",7,161480,5df616dd15cc734f52df76b78e9531da3c6a8901,225,41,12,11592,,,0,"Validate volume type extra specs

This patch implements a new API to validate the volume type extra spec
key/value pairs against the volume backends. This is to provide a
simple sanity check for the administrator when setting or updating the
extra specs.

Change-Id: I1bbe87f28d0c518a2b5b295f38514354d83670bb
Partially-Implements: blueprint volume-type-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/161480/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_volume_rpcapi.py', 'cinder/volume/manager.py', 'cinder/tests/test_volume_types_extra_specs.py', 'cinder/volume/driver.py', 'cinder/volume/rpcapi.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/tests/api/contrib/test_types_extra_specs.py', 'cinder/volume/api.py']",8,eb2399e066f3a743f357d3d7077d903a941227bd,bp/volume-type-extra-specs-validation," def validate_vol_type_extra_specs(self, context, host, extra_specs): return self.volume_rpcapi.validate_vol_type_extra_specs(context, host, extra_specs) ",,142,2
openstack%2Fcinder~master~Iec2dd82f13f2748a8821c2f2251449581809cccd,openstack/cinder,master,Iec2dd82f13f2748a8821c2f2251449581809cccd,Use oslo.config to search for config files,ABANDONED,2015-06-24 03:18:37.000000000,2015-08-16 08:45:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 6672}, {'_account_id': 8726}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10068}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13636}, {'_account_id': 14259}, {'_account_id': 14650}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15825}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16797}, {'_account_id': 16897}, {'_account_id': 16991}]","[{'number': 1, 'created': '2015-06-24 03:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dd615761ca446a21e35dd5bfdecd40e7b29d3c9', 'message': 'Use oslo.config to search for config files\n\nwsgi.Loader class was using utils.find_config function to find the location\nof config files rather than oslo_config CONF.find_file. This patch makes\nwsgi.Loader look for files using the oslo_config method and fallback\nto utils.find_configif it fails.\n\nThe reason to fallback rather than replace the function is because unit\ntest make use of api-paste.ini under CONF.state_path/etc/cinder wich is not\na default location in oslo_config.\n\nChange-Id: Iec2dd82f13f2748a8821c2f2251449581809cccd\nCloses-Bug: #1468157\nSigned-off-by: Alberto Murillo <powerbsd@yahoo.com>\n'}, {'number': 2, 'created': '2015-06-24 15:24:56.000000000', 'files': ['cinder/wsgi.py', 'cinder/tests/unit/integrated/integrated_helpers.py', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/test_service.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98ab85a3899fa4d1c84e55df443f30bb627042b4', 'message': 'Use oslo.config to search for config files\n\nMake wsgi.Loader class use oslo_config CONF.find_file function rather than\nutils.find_config\n\nRemove utils.find_config function and its test cases to avoid code duplication\n\nModify unit tests to look for config files in etc/cinder since this is not a\ndefault location for oslo_config to look for\n\nChange-Id: Iec2dd82f13f2748a8821c2f2251449581809cccd\nCloses-Bug: #1468157\nSigned-off-by: Alberto Murillo <powerbsd@yahoo.com>\n'}]",2,194920,98ab85a3899fa4d1c84e55df443f30bb627042b4,53,32,2,15825,,,0,"Use oslo.config to search for config files

Make wsgi.Loader class use oslo_config CONF.find_file function rather than
utils.find_config

Remove utils.find_config function and its test cases to avoid code duplication

Modify unit tests to look for config files in etc/cinder since this is not a
default location for oslo_config to look for

Change-Id: Iec2dd82f13f2748a8821c2f2251449581809cccd
Closes-Bug: #1468157
Signed-off-by: Alberto Murillo <powerbsd@yahoo.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/194920/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/wsgi.py'],1,7dd615761ca446a21e35dd5bfdecd40e7b29d3c9,bug/1468157, self.config_path = CONF.find_file(config_path) if not self.config_path: self.config_path = utils.find_config(config_path), self.config_path = utils.find_config(config_path),4,1
openstack%2Fswift~master~I590e6bdb3d6401cd7e8182c01fbf8e982448788d,openstack/swift,master,I590e6bdb3d6401cd7e8182c01fbf8e982448788d,Replace deprecated assert_(),ABANDONED,2015-07-27 12:09:58.000000000,2015-08-16 08:43:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-07-27 12:09:58.000000000', 'files': ['test/probe/test_container_merge_policy_index.py', 'test/functional/test_account.py', 'test/functional/tests.py', 'test/functional/test_object.py', 'test/functional/test_container.py', 'test/probe/test_account_failures.py', 'test/probe/test_object_async_update.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e3ae9c784df405357aef53cd75b9ed6e497db67', 'message': 'Replace deprecated assert_()\n\n* Replace assert_(a in b) with assertIn(a, b)\n* Replace assert_(a not in b) with assertNotIn(a, b)\n* Replace assert_(a == b) with assertEqual(a, b)\n* Replace assert_(not cond) with assertFalse(cond)\n* Replace assert_(cond) with assertTrue(cond)\n\nFor assertIn() and assertEqual(): remove also the message when the\nmessage was simply the variable a or a message to display the variables\na and/or b.\n\nunittest.TestCase.assert_() is deprecated since Python 2.7. assertIn()\nand assertEqual() provide better error message on test failure.\n\nThis change prepares also Swift to enable more tests in flake 8\n(tox -e pep8).\n\nChange-Id: I590e6bdb3d6401cd7e8182c01fbf8e982448788d\n'}]",0,206031,7e3ae9c784df405357aef53cd75b9ed6e497db67,7,2,1,9107,,,0,"Replace deprecated assert_()

* Replace assert_(a in b) with assertIn(a, b)
* Replace assert_(a not in b) with assertNotIn(a, b)
* Replace assert_(a == b) with assertEqual(a, b)
* Replace assert_(not cond) with assertFalse(cond)
* Replace assert_(cond) with assertTrue(cond)

For assertIn() and assertEqual(): remove also the message when the
message was simply the variable a or a message to display the variables
a and/or b.

unittest.TestCase.assert_() is deprecated since Python 2.7. assertIn()
and assertEqual() provide better error message on test failure.

This change prepares also Swift to enable more tests in flake 8
(tox -e pep8).

Change-Id: I590e6bdb3d6401cd7e8182c01fbf8e982448788d
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/206031/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_container_merge_policy_index.py', 'test/functional/test_account.py', 'test/functional/test_object.py', 'test/functional/tests.py', 'test/functional/test_container.py', 'test/probe/test_account_failures.py', 'test/probe/test_object_async_update.py', 'test/probe/test_object_expirer.py']",8,7e3ae9c784df405357aef53cd75b9ed6e497db67,pep8," self.assertIn('x-backend-timestamp', metadata) self.assertIn('x-backend-timestamp', metadata) self.assertTrue(Timestamp(metadata['x-backend-timestamp']) > create_timestamp)", self.assert_('x-backend-timestamp' in metadata) self.assert_('x-backend-timestamp' in metadata) self.assert_(Timestamp(metadata['x-backend-timestamp']) > create_timestamp),294,293
openstack%2Fcinder~master~If812db1d5506ce6741a3cbcdfe0fbf5b0994e919,openstack/cinder,master,If812db1d5506ce6741a3cbcdfe0fbf5b0994e919,replace management command from collie to dog,ABANDONED,2015-06-19 05:08:07.000000000,2015-08-16 08:42:21.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10068}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13923}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16676}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}]","[{'number': 1, 'created': '2015-06-19 05:08:07.000000000', 'files': ['cinder/tests/unit/test_sheepdog.py', 'cinder/volume/drivers/sheepdog.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22f052b697caa0ac5ac89373d1b2861936022c15', 'message': ""replace management command from collie to dog\n\n'collie' is the Sheepdog volume management command\nand will be obsoleted.\n\nSo, this patch changes Sheepdog driver of cinder\nto use the new management command 'dog'.\n\nChange-Id: If812db1d5506ce6741a3cbcdfe0fbf5b0994e919\n""}]",0,193408,22f052b697caa0ac5ac89373d1b2861936022c15,46,33,1,13923,,,0,"replace management command from collie to dog

'collie' is the Sheepdog volume management command
and will be obsoleted.

So, this patch changes Sheepdog driver of cinder
to use the new management command 'dog'.

Change-Id: If812db1d5506ce6741a3cbcdfe0fbf5b0994e919
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/193408/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_sheepdog.py', 'cinder/volume/drivers/sheepdog.py']",2,22f052b697caa0ac5ac89373d1b2861936022c15,sheepdog-replace-CLI," (out, _err) = self._execute('dog', 'cluster', 'info') self._try_execute('dog', 'vdi', 'list', '--address', ip, self._try_execute('dog', 'vdi', 'resize', self._try_execute('dog', 'vdi', 'delete', self._try_execute('dog', 'vdi', 'delete', snapshot['volume_name'], stdout, _err = self._execute('dog', 'node', 'info', '-r')"," # NOTE(francois-charlier) Since 0.24 'collie cluster info -r' # gives short output, but for compatibility reason we won't # use it and just check if 'running' is in the output. (out, _err) = self._execute('collie', 'cluster', 'info') self._try_execute('collie', 'vdi', 'list', '--address', ip, self._try_execute('collie', 'vdi', 'resize', self._try_execute('collie', 'vdi', 'delete', self._try_execute('collie', 'vdi', 'delete', snapshot['volume_name'], stdout, _err = self._execute('collie', 'node', 'info', '-r')",7,10
openstack%2Fcinder~master~I451b490d7d30c2bfecb040232f0cccc90c3a0258,openstack/cinder,master,I451b490d7d30c2bfecb040232f0cccc90c3a0258,Removing local file locks from Volume Manager,ABANDONED,2015-02-07 01:45:06.000000000,2015-08-16 08:40:37.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12952}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14271}, {'_account_id': 14969}, {'_account_id': 15374}, {'_account_id': 15831}, {'_account_id': 15961}, {'_account_id': 16160}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-02-07 01:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a98f67780daa666d0b9c089bf8dffbf534a5863', 'message': 'Removing local file locks from Volume Manager\n\nWIP Currently\n\nRemoves local file locks from volume manager.\n\nblueprint remove-volume-manager-locks\nChange-Id: I451b490d7d30c2bfecb040232f0cccc90c3a0258\n'}, {'number': 2, 'created': '2015-05-21 18:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7445a4cd62b616e1c5d76a31ba6e0ee7946de272', 'message': 'Removing local file locks from Volume Manager\n\nWIP Currently\n\nRemoves local file locks from volume manager.\n\nblueprint remove-volume-manager-locks\nChange-Id: I451b490d7d30c2bfecb040232f0cccc90c3a0258\n'}, {'number': 3, 'created': '2015-05-21 21:21:52.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e0b631c517234afeab386486e9c9ba58150d9b3', 'message': 'Removing local file locks from Volume Manager\n\nWIP Currently\n\nRemoves local file locks from volume manager.\n\nblueprint remove-volume-manager-locks\nChange-Id: I451b490d7d30c2bfecb040232f0cccc90c3a0258\n'}]",1,153748,8e0b631c517234afeab386486e9c9ba58150d9b3,62,29,3,11903,,,0,"Removing local file locks from Volume Manager

WIP Currently

Removes local file locks from volume manager.

blueprint remove-volume-manager-locks
Change-Id: I451b490d7d30c2bfecb040232f0cccc90c3a0258
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/153748/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/api.py']",2,7a98f67780daa666d0b9c089bf8dffbf534a5863,bp/remove-volume-manager-locks," if volume['status'] in [""creating"", ""deleting"", ""attaching"", ""detaching""]: msg = _(""Volume is currently busy. Current status: %s"") % volume['status'] raise exception.VolumeIsBusy(message=msg) if volume['status'] in [""creating"", ""deleting"", ""attaching"", ""detaching""]: msg = _(""Volume is currently busy. Current status: %s"") % volume['status'] raise exception.VolumeIsBusy(message=msg) if volume['status'] in [""creating"", ""deleting"", ""attaching"", ""detaching""]: msg = _(""Volume is currently busy. Current status: %s"") % volume['status'] raise exception.VolumeIsBusy(message=msg) if volume['status'] in [""creating"", ""deleting"", ""detaching""]: msg = _(""Volume is currently busy. Current status: %s"") % volume['status'] raise exception.VolumeIsBusy(message=msg) if volume['status'] in [""creating"", ""deleting"", ""attaching""]: msg = _(""Volume is currently busy. Current status: %s"") % volume['status'] raise exception.VolumeIsBusy(message=msg) if snapshot['status'] in [""creating"", ""deleting""]: msg = _(""Snapshot is currently busy. Current status: %s"") % snapshot['status'] raise exception.SnapshotIsBusy(message=msg) ",,28,47
openstack%2Fcinder~master~Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20,openstack/cinder,master,Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20,Add HPLeftHand validate volume type extra spec,ABANDONED,2015-03-17 20:11:06.000000000,2015-08-16 08:40:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8202}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11592}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11973}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-03-17 20:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc204275300e974c497d491b3cc36d08fc8f1524', 'message': 'Add HPLeftHand validate volume type extra spec\n\nThis patch implements a new function in HPLeftHand driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 2, 'created': '2015-03-25 20:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b1630a90bb89c1000ac8a61d280eb921fd8fc9f', 'message': 'Add HPLeftHand validate volume type extra spec\n\nThis patch implements a new function in HPLeftHand driver to validate\nthe volume type extra spec key/value pair.\n\nChange-Id: Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 3, 'created': '2015-04-24 18:12:04.000000000', 'files': ['cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/tests/unit/test_hplefthand.py', 'cinder/volume/drivers/san/hp/hp_lefthand_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9688fc69480e8cafbaec05b3f5dec412833a692b', 'message': 'Add HPLeftHand validate volume type extra spec\n\nThis patch implements a new function in HPLeftHand driver to validate\nthe volume type extra spec key/value pair.\n\nChange-Id: Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20\nPartially-Implements: blueprint volume-type-validation\n'}]",6,165202,9688fc69480e8cafbaec05b3f5dec412833a692b,77,35,3,11592,,,0,"Add HPLeftHand validate volume type extra spec

This patch implements a new function in HPLeftHand driver to validate
the volume type extra spec key/value pair.

Change-Id: Ic9ef70d273f7a87c6d689d5fba65bc5f99b41f20
Partially-Implements: blueprint volume-type-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/165202/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/tests/test_hplefthand.py', 'cinder/volume/drivers/san/hp/hp_lefthand_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py']",4,dc204275300e974c497d491b3cc36d08fc8f1524,bp/volume-type-extra-specs-validation," 1.0.11 - Added support for validate volume type extra spec VERSION = ""1.0.11"" hplh_valid_keys = ['provisioning', 'ao', 'data_pl'] # Valid values for volume type extra specs # The first value in the list is the default value valid_prov_values = ['thin', 'full'] valid_ao_values = ['true', 'false'] valid_data_pl_values = ['r-0', 'r-5', 'r-10-2', 'r-10-3', 'r-10-4', 'r-6'] def validate_vol_type_extra_spec(self, extra_spec): spec_key, spec_value = extra_spec LOG.debug('Validate volume type extra spec: key=%(key)s, value=%(' 'value)s' % {'key': spec_key, 'value': spec_value}) tokens = spec_key.split(':') scope = tokens[0] if scope == 'hplh': key = tokens[1] if key not in self.hplh_valid_keys: msg = _('Invalid hp3lh key: %s') % key return False, msg else: if ((key == 'provisioning' and spec_value.lower() not in self.valid_prov_values) or (key == 'data_pl' and spec_value.lower() not in self.valid_data_pl_values) or (key == 'ao' and spec_value.lower() not in self.valid_ao_values)): msg = _('Invalid value for key: %s') % spec_key return False, msg return True, None"," VERSION = ""1.0.10""",93,3
openstack%2Fcinder~master~Ic284ed2564cdf6277ca71f44ffead966f6427596,openstack/cinder,master,Ic284ed2564cdf6277ca71f44ffead966f6427596,Remove unused/deprecated gettextutils from oslo-incubator,ABANDONED,2015-03-18 19:31:55.000000000,2015-08-16 08:39:26.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 8202}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14271}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-18 19:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adb0610c36b6279ae6ff138ce7f68c72177db62c', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 2, 'created': '2015-03-18 19:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9057a635c246c481e3269ffeac0fc4b1771e303e', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 3, 'created': '2015-03-18 20:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0389fb4ed824cd690bc705188d3db2b109cf9b65', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 4, 'created': '2015-03-18 23:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9526601ae5a81af98ce05b33c8f9df0341e14c24', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 5, 'created': '2015-03-19 16:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7beecc572492a336942bcfa59685cd0fc9e129c', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 6, 'created': '2015-03-19 21:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2eb9c6ddc432b538677625ecfc5cee5ae3e74e47', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}, {'number': 7, 'created': '2015-03-20 17:25:55.000000000', 'files': ['cinder/openstack/common/gettextutils.py', 'cinder/i18n.py', 'openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/cinder/commit/406b4a71e679ebb94fbc06e36f3f14a8e33a4156', 'message': 'Remove unused/deprecated gettextutils from oslo-incubator\n\nGettextutils in oslo-incubator is no longer supported.  With\nthe other changes we have made in oslo-incubator the module is\nno longer used and we should remove it.\n\nThis patch removes the module and cleans up code in cinder/i18n.py\nthat was in place to support modules that were still using\ngettextutils .\n\nChange-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596\n'}]",1,165572,406b4a71e679ebb94fbc06e36f3f14a8e33a4156,109,39,7,7198,,,0,"Remove unused/deprecated gettextutils from oslo-incubator

Gettextutils in oslo-incubator is no longer supported.  With
the other changes we have made in oslo-incubator the module is
no longer used and we should remove it.

This patch removes the module and cleans up code in cinder/i18n.py
that was in place to support modules that were still using
gettextutils .

Change-Id: Ic284ed2564cdf6277ca71f44ffead966f6427596
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/165572/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/openstack/common/gettextutils.py', 'cinder/i18n.py', 'openstack-common.conf']",3,adb0610c36b6279ae6ff138ce7f68c72177db62c,remove-gettextutils,,module=gettextutils,0,500
openstack%2Fcinder~master~Ib55d46d5e33a4af2ba106444cf4ed5aa3bc65788,openstack/cinder,master,Ib55d46d5e33a4af2ba106444cf4ed5aa3bc65788,Share snapshots with a tenant,ABANDONED,2015-05-11 07:52:52.000000000,2015-08-16 08:35:49.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10263}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14969}, {'_account_id': 15254}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-05-11 07:52:52.000000000', 'files': ['cinder/api/v2/router.py', 'cinder/api/v2/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/snapshot_actions.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/041_add_sharedsnapshot.py', 'cinder/api/v2/snapshots.py', 'cinder/api/openstack/wsgi.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da37b453b4940dd668249801be6ee8aeee91faa5', 'message': 'Share snapshots with a tenant\n\nChange-Id: Ib55d46d5e33a4af2ba106444cf4ed5aa3bc65788\n'}]",0,181817,da37b453b4940dd668249801be6ee8aeee91faa5,17,15,1,15254,,,0,"Share snapshots with a tenant

Change-Id: Ib55d46d5e33a4af2ba106444cf4ed5aa3bc65788
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/181817/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/router.py', 'cinder/api/v2/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/snapshot_actions.py', 'cinder/db/api.py', 'cinder/api/v2/snapshots.py', 'cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/041_add_sharedsnapshot.py', 'cinder/api/openstack/wsgi.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py']",11,da37b453b4940dd668249801be6ee8aeee91faa5,pubsnap-copy," def get_snapshot_from_sharedsnapshots(self,context,snapshot_id): snapshot=self.db.snapshot_get_from_sharedsnapshots(context,snapshot_id) return dict(snapshot.iteritems()) def volume_get_if_has_sharedSnapshot(self,context,volume_id): volume=self.db.volume_get_if_has_sharedSnapshot(context,volume_id) return dict(volume.iteritems()) else: if('include_public' in search_opts and 'include_shared' in search_opts): search_opts['include_shared'] = \ strutils.bool_from_string(search_opts['include_shared']) search_opts['include_public'],search_opts['include_shared']) del search_opts['include_shared'] elif('include_public' in search_opts or 'include_shared' in search_opts): if('include_public' in search_opts): search_opts['include_public'] = \ strutils.bool_from_string(search_opts['include_public']) snapshots = \ snapshot_get_all_by_project(context, context.project_id, search_opts['include_public']) del search_opts['include_public'] else: search_opts['include_shared'] = \ strutils.bool_from_string(search_opts['include_shared']) snapshots = \ self.db.\ snapshot_get_all_by_project(context, context.project_id, include_shared=search_opts['include_shared']) del search_opts['include_shared'] else: snapshots = \ self.db.\ snapshot_get_all_by_project(context, context.project_id) def share_snapshot(self,context,snapshot_id,tenant_id): self.db.snapshot_share(context, snapshot_id, tenant_id) "," else: if('include_public' in search_opts): search_opts['include_public']) else: snapshots = \ snapshot_get_all_by_project(context, context.project_id)",266,23
openstack%2Fcinder~master~I36159636cfbfa11c6ebde2260a8e185658c77d76,openstack/cinder,master,I36159636cfbfa11c6ebde2260a8e185658c77d76,Add VSP Midrange Family support to Hitachi driver,ABANDONED,2015-05-22 12:07:18.000000000,2015-08-16 08:35:09.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9174}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11751}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12285}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14259}, {'_account_id': 14428}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15764}, {'_account_id': 15831}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-05-22 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e952d21452b7f5ab9eb5c7b589ffe986f994d010', 'message': 'Add VSP G800/G600/G400/G200/G100 support to Hitachi Block Storage driver\n\nThis patch adds VSP G800/G600/G400/G200/G100 support to\nHitachi Block Storage driver.\n\nImplements: blueprint hitachi-vsp-g800-driver\n\nChange-Id: I36159636cfbfa11c6ebde2260a8e185658c77d76\nSigned-off-by: Seiji Aguchi <seiji.aguchi.tr@hitachi.com>\n'}, {'number': 2, 'created': '2015-06-03 12:25:38.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'cinder/tests/unit/test_hitachi_hbsd_horcm_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebe5151510bd4e90ce3b6e5bcda07440f401652a', 'message': 'Add VSP Midrange Family support to Hitachi driver\n\nThis patch adds VSP Midrange Family, G800/G600/G400/G200/G100,\nsupport to Hitachi Block Storage driver.\n\nImplements: blueprint hitachi-vsp-g800-driver\n\nChange-Id: I36159636cfbfa11c6ebde2260a8e185658c77d76\nSigned-off-by: Seiji Aguchi <seiji.aguchi.tr@hitachi.com>\n'}]",40,184999,ebe5151510bd4e90ce3b6e5bcda07440f401652a,72,36,2,9174,,,0,"Add VSP Midrange Family support to Hitachi driver

This patch adds VSP Midrange Family, G800/G600/G400/G200/G100,
support to Hitachi Block Storage driver.

Implements: blueprint hitachi-vsp-g800-driver

Change-Id: I36159636cfbfa11c6ebde2260a8e185658c77d76
Signed-off-by: Seiji Aguchi <seiji.aguchi.tr@hitachi.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/184999/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'cinder/tests/unit/test_hitachi_hbsd_horcm_iscsi.py']",3,e952d21452b7f5ab9eb5c7b589ffe986f994d010,bp/hitachi-vsp-g800-driver,"# Copyright (C) 2015, Hitachi, Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """""" Self test for Hitachi Block Storage Driver """""" import os import threading import time import mock from oslo_concurrency import lockutils from oslo_concurrency import processutils import six from cinder import db from cinder import exception from cinder import test from cinder import utils from cinder.volume import configuration as conf from cinder.volume import driver from cinder.volume.drivers.hitachi import hbsd_basiclib from cinder.volume.drivers.hitachi import hbsd_horcm from cinder.volume.drivers.hitachi import hbsd_iscsi from cinder.volume import utils as volume_utils START_TIME = 0 SUCCEED = 0 STDOUT = """" STDERR = """" CMD_SUCCEED = (SUCCEED, STDOUT, STDERR) CONFIG_MAP = { 'serial': '492015', 'my_ip': '127.0.0.1', } INST_NUMS = (200, 201) ERR_INST_NUMS = (202, 203) CG_MAP = dict([( 'cg%s' % x, hbsd_horcm.COPY_GROUP % ( CONFIG_MAP['my_ip'], CONFIG_MAP['serial'], INST_NUMS[1], x )) for x in xrange(3) ]) COPY_METHOD_THIN = [{'key': 'copy_method', 'value': 'THIN'}] INVALID_COPY_METHOD = {'copy_method': 'Thin'} # cmd: cat /etc/horcm500.conf CAT_RESULT = r"""""" \\.\CMD-%(serial)s:/dev/sd """""" % CONFIG_MAP # cmd: raidcom get copy_grp GET_COPY_GRP_RESULT = """""" %(cg0)s %(cg0)sP - - None %(cg1)s %(cg1)sP - - None %(cg1)s %(cg1)sS - - None """""" % CG_MAP # cmd: raidcom get command_status GET_COMMAND_STATUS_RESULT = """""" 00d4 - - 0 %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get device_grp -device_grp_name HBSD-127.0.0.14920150C91P GET_DEVICE_GRP_MU1P_RESULT = """""" %(cg1)sP HBSD-ldev-0-2 0 None """""" % CG_MAP # cmd: raidcom get device_grp -device_grp_name HBSD-127.0.0.14920150C91S GET_DEVICE_GRP_MU1S_RESULT = """""" %(cg1)sS HBSD-ldev-0-2 2 None """""" % CG_MAP # cmd: raidcom get dp_pool GET_DP_POOL_RESULT = """""" 030 POLN 0 6006 6006 75 80 1 14860 32 167477 """""" # cmd: raidcom get hba_wwn -port CL0-B-0 GET_HBA_WWN_CL0B0_RESULT = """""" CL0-B 0 HBSD-%(my_ip)s iqn-initiator %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get hba_wwn -port CL1-A-0 GET_HBA_WWN_CL1A0_RESULT = """""" CL1-A 0 HBSD-%(my_ip)s iqn-initiator %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get hba_wwn -port CL6-A-0 GET_HBA_WWN_CL6A0_RESULT = """""" CL6-A 0 HBSD-%(my_ip)s iqn-initiator %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get hba_wwn -port CL7-A-0 GET_HBA_WWN_CL7A0_RESULT = """""" CL7-A 0 HBSD-%(my_ip)s iqn-initiator %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL0-A GET_HOST_GRP_CL0A_RESULT = """""" CL0-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL0-B GET_HOST_GRP_CL0B_RESULT = """""" CL0-B 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL1-A GET_HOST_GRP_CL1A_RESULT = """""" CL1-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL1-A -key opt GET_HOST_GRP_CL1A_KEY_RESULT = """""" CL1-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 CL1-A 1 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL2-A GET_HOST_GRP_CL2A_RESULT = """""" CL2-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 CL2-A 1 HBSD-pair00 iqn.com.hitachi B S %(serial)s L CL2-A 2 iscsi-target iqn.target B S %(serial)s L """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL2-A -key opt GET_HOST_GRP_CL2A_KEY_RESULT = """""" CL2-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 CL2-A 1 HBSD-pair00 iqn.com.hitachi B S %(serial)s L CL2-A 2 iscsi-target iqn.target B S %(serial)s L """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL3-A -key opt GET_HOST_GRP_CL3A_KEY_RESULT = """""" CL3-A 0 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL4-A -key opt GET_HOST_GRP_CL4A_KEY_RESULT = """""" CL4-A 0 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL5-A -key opt GET_HOST_GRP_CL5A_KEY_RESULT = """""" CL5-A 0 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL6-A GET_HOST_GRP_CL6A_RESULT = """""" CL6-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL6-A -key opt GET_HOST_GRP_CL6A_KEY_RESULT = """""" CL6-A 0 HBSD-%(my_ip)s iqn-initiator.target B S %(serial)s L 8 CL6-A 1 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL7-A GET_HOST_GRP_CL7A_RESULT = """""" CL7-A 0 HBSD-%(my_ip)s B S %(serial)s L 8 """""" % CONFIG_MAP # cmd: raidcom get host_grp -port CL8-A -key opt GET_HOST_GRP_CL8A_KEY_RESULT = """""" CL8-A 0 - - - - %(serial)s - """""" % CONFIG_MAP # cmd: raidcom get ldev -ldev_id 0 -cnt 2 GET_LDEV_LDEV0_CNT2_RESULT = """""" LDEV : 0 VOL_TYPE : OPEN-V-CVS LDEV : 1 VOL_TYPE : NOT DEFINED """""" # cmd: raidcom get ldev -ldev_id 0 -cnt 10 GET_LDEV_LDEV0_CNT10_RESULT = """""" LDEV : 9 VOL_TYPE : NOT DEFINED """""" # cmd: raidcom get ldev -ldev_id 0 -cnt 20 GET_LDEV_LDEV0_CNT20_RESULT = """""" LDEV : 19 VOL_TYPE : NOT DEFINED """""" # cmd: raidcom get ldev -ldev_id 0 -cnt 30 GET_LDEV_LDEV0_CNT30_RESULT = """""" LDEV : 29 VOL_TYPE : NOT DEFINED """""" # cmd: raidcom get ldev -ldev_id 1 GET_LDEV_LDEV1_RESULT = """""" LDEV : 1 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CVS : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 2 -cnt 2 GET_LDEV_LDEV2_CNT2_RESULT = """""" LDEV : 2 VOL_TYPE : NOT DEFINED """""" # cmd: raidcom get ldev -ldev_id 3 GET_LDEV_LDEV3_RESULT = """""" LDEV : 3 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CVS : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : """""" # cmd: raidcom get ldev -ldev_id 4 GET_LDEV_LDEV4_RESULT = """""" LDEV : 4 VOL_TYPE : CVS VOL_ATTR : CVS : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 5 GET_LDEV_LDEV5_RESULT = """""" LDEV : 5 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CVS VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 6 GET_LDEV_LDEV6_RESULT = """""" LDEV : 6 VOL_TYPE : OPEN-V-CVS VOL_ATTR : HORC : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 7 GET_LDEV_LDEV7_RESULT = """""" LDEV : 7 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CMD : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 8 GET_LDEV_LDEV8_RESULT = """""" LDEV : 8 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CVS : HDP VOL_Capacity(BLK) : 2097151 NUM_PORT : 0 STS : NML """""" # cmd: raidcom get ldev -ldev_id 9 GET_LDEV_LDEV9_RESULT = """""" LDEV : 9 VOL_TYPE : OPEN-V-CVS VOL_ATTR : CVS : HDP VOL_Capacity(BLK) : 2097152 NUM_PORT : 1 STS : NML """""" # cmd: raidcom get lun -port CL1-A-0 GET_LUN_CL1A0_RESULT = """""" CL1-A 0 L 4 1 4 - None CL1-A 0 L 254 1 5 - None """""" # cmd: raidcom get lun -port CL6-A-0 GET_LUN_CL6A0_RESULT = """""" CL1-A 0 L 5 1 4 - None CL6-A 0 L 254 1 5 - None """""" # cmd: raidcom get port GET_PORT_RESULT = """""" CL0-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL0-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL1-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL1-B ISCSI TAR AUT 01 Y PtoP N 0 None - - CL2-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL2-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL3-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL3-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL4-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL4-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL5-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL5-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL6-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL6-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL7-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL7-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL8-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL8-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL9-A ISCSI TAR AUT 01 Y PtoP Y 0 None - - CL9-B ISCSI TAR AUT 01 Y PtoP Y 0 None - - """""" # cmd: raidcom get port -port CL1-A -opt key GET_PORT_CL1A_KEY_RESULT = """""" TCP_PORT : 3260 IPV4_ADDR : 192.168.0.1 """""" # cmd: raidcom get port -port CL6-A -opt key GET_PORT_CL6A_KEY_RESULT = """""" TCP_PORT : 3260 IPV4_ADDR : 192.168.6.1 """""" # cmd: raidcom get port -port CL7-A -opt key GET_PORT_CL7A_KEY_RESULT = """""" TCP_PORT : 3260 IPV4_ADDR : 192.168.7.1 """""" # cmd: raidcom get snapshot -ldev_id 7 GET_SNAPSHOT_LDEV7_RESULT = """""" HBSD-sanp P-VOL PSUS None 7 3 8 18 100 G--- 53ee291f HBSD-sanp P-VOL PSUS None 7 4 9 18 100 G--- 53ee291f """""" # cmd: raidcom get snapshot -ldev_id 8 GET_SNAPSHOT_LDEV8_RESULT = """""" HBSD-sanp S-VOL SSUS None 8 3 7 18 100 G--- 53ee291f """""" # cmd: raidcom get snapshot -ldev_id 9 GET_SNAPSHOT_LDEV9_RESULT = """""" HBSD-sanp S-VOL SSUS None 9 4 7 18 100 G--- 53ee291f """""" # cmd: pairdisplay -g HBSD-127.0.0.14920150C90 -d HBSD-ldev-3-1 -CLI -ISI201 PAIRDISPLAY_MU0_1_RESULT = """""" %(cg0)s HBSD-ldev-3-1 L CL1-A-1 0 0 0 - 1 P-VOL PAIR - 3 - %(cg0)s HBSD-ldev-3-1 R CL1-A-1 0 0 0 - 3 S-VOL PAIR - 1 - """""" % CG_MAP # cmd: pairdisplay -g HBSD-127.0.0.14920150C91 -d HBSD-ldev-0-2 -CLI -ISI201 PAIRDISPLAY_MU1_2_RESULT = """""" %(cg0)s HBSD-ldev-0-2 L CL1-A-1 0 0 0 - 0 P-VOL PAIR - 0 - %(cg0)s HBSD-ldev-0-2 R CL1-A-1 0 0 0 - 2 S-VOL PAIR - 2 - """""" % CG_MAP # cmd: pairdisplay -g HBSD-127.0.0.14920150C91 -CLI -ISI201 PAIRDISPLAY_MU1_RESULT = """""" %(cg1)s HBSD-ldev-0-2 L CL1-A-0 0 0 0 - 0 P-VOL PSUS - 2 - %(cg1)s HBSD-ldev-0-2 R CL1-A-0 0 0 0 - 2 S-VOL SSUS - 0 - """""" % CG_MAP # cmd: raidqry -h RAIDQRY_RESULT = """""" ver&rev: 01-33-03/06 """""" EXECUTE_TABLE = { ('add', 'hba_iscsi', '-port', 'CL3-A-0', '-hba_iscsi_name', 'iqn-initiator'): (253, STDOUT, STDERR), ('add', 'hba_iscsi', '-port', 'CL4-A-0', '-hba_iscsi_name', 'iqn-initiator'): (hbsd_horcm.EX_CMDRJE, STDOUT, STDERR), ('add', 'hba_iscsi', '-port', 'CL5-A-0', '-hba_iscsi_name', 'iqn-initiator'): (hbsd_horcm.EX_CMDRJE, STDOUT, STDERR), ('add', 'host_grp', '-port', 'CL4-A-0', '-host_grp_name', 'HBSD-' + CONFIG_MAP['my_ip'], '-iscsi_name', 'iqn-initiator.target'): ( hbsd_horcm.EX_CMDRJE, STDOUT, 'SSB=' + hbsd_horcm.HOSTGROUP_INSTALLED), ('add', 'host_grp', '-port', 'CL5-A-0', '-host_grp_name', 'HBSD-' + CONFIG_MAP['my_ip'], '-iscsi_name', 'iqn-initiator.target'): (hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('add', 'host_grp', '-port', 'CL6-A-1', '-host_grp_name', 'HBSD-pair00'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('add', 'ldev', '-pool', '30', '-ldev_id', '1', '-capacity', '256G', '-emulation', 'OPEN-V'): ( hbsd_horcm.EX_CMDRJE, STDOUT, 'SSB=' + hbsd_horcm.INTERCEPT_LDEV_SSB), ('add', 'ldev', '-pool', '30', '-ldev_id', '1', '-capacity', '1024G', '-emulation', 'OPEN-V'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('add', 'lun', '-port', 'CL1-A-0', '-ldev_id', '1', '-lun_id', '0'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('add', 'snapshot', '-ldev_id', '7', '19', '-pool', '31', '-snapshot_name', 'HBSD-snap', '-copy_size', '3'): ( hbsd_horcm.EX_CMDRJE, STDOUT, 'SSB=0x2E11,0x2205'), ('cat', '/etc/horcm500.conf'): (SUCCEED, CAT_RESULT, STDERR), ('delete', 'host_grp', '-port', 'CL3-A-0', 'HBSD-' + CONFIG_MAP['my_ip']): (hbsd_horcm.EX_ENOOBJ, STDOUT, STDERR), ('delete', 'ldev', '-ldev_id', '2'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('delete', 'ldev', '-ldev_id', '3'): ( hbsd_horcm.EX_CMDRJE, STDOUT, 'SSB=' + hbsd_horcm.INVALID_LUN_SSB), ('delete', 'ldev', '-ldev_id', '29'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('delete', 'lun', '-port', 'CL1-A-0', '-ldev_id', '1'): ( hbsd_horcm.EX_CMDRJE, STDOUT, 'SSB=' + hbsd_horcm.HOST_IO_SSB), ('delete', 'lun', '-port', 'CL1-A-0', '-ldev_id', '3'): ( hbsd_horcm.EX_ENOOBJ, STDOUT, STDERR), ('delete', 'lun', '-port', 'CL1-A-0', '-ldev_id', '4'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('delete', 'lun', '-port', 'CL1-A-1', '-ldev_id', '1'): ( hbsd_horcm.EX_ENOOBJ, STDOUT, STDERR), ('delete', 'lun', '-port', 'CL6-A-0', '-ldev_id', '3'): ( hbsd_horcm.EX_ENOOBJ, STDOUT, STDERR), ('delete', 'snapshot', '-ldev_id', '29'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('env', 'HORCMINST=203', 'horcmgr', '-check'): (1, STDOUT, STDERR), ('extend', 'ldev', '-ldev_id', '3', '-capacity', '128G'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('get', 'copy_grp'): (SUCCEED, GET_COPY_GRP_RESULT, STDERR), ('get', 'command_status'): (SUCCEED, GET_COMMAND_STATUS_RESULT, STDERR), ('get', 'device_grp', '-device_grp_name', CG_MAP['cg1'] + 'P'): ( SUCCEED, GET_DEVICE_GRP_MU1P_RESULT, STDERR), ('get', 'device_grp', '-device_grp_name', CG_MAP['cg1'] + 'S'): ( SUCCEED, GET_DEVICE_GRP_MU1S_RESULT, STDERR), ('get', 'dp_pool'): (SUCCEED, GET_DP_POOL_RESULT, STDERR), ('get', 'hba_wwn', '-port', 'CL0-A-0'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('get', 'hba_wwn', '-port', 'CL0-B-0'): ( SUCCEED, GET_HBA_WWN_CL0B0_RESULT, STDERR), ('get', 'hba_wwn', '-port', 'CL1-A-0'): ( SUCCEED, GET_HBA_WWN_CL1A0_RESULT, STDERR), ('get', 'hba_wwn', '-port', 'CL6-A-0'): ( SUCCEED, GET_HBA_WWN_CL6A0_RESULT, STDERR), ('get', 'hba_wwn', '-port', 'CL7-A-0'): ( SUCCEED, GET_HBA_WWN_CL7A0_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL0-A'): ( SUCCEED, GET_HOST_GRP_CL0A_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL0-B'): ( SUCCEED, GET_HOST_GRP_CL0B_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL1-A'): ( SUCCEED, GET_HOST_GRP_CL1A_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL1-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL1A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL2-A'): ( SUCCEED, GET_HOST_GRP_CL2A_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL2-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL2A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL3-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL3A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL4-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL4A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL5-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL5A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL6-A'): ( SUCCEED, GET_HOST_GRP_CL6A_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL6-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL6A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL7-A'): ( SUCCEED, GET_HOST_GRP_CL7A_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL8-A', '-key', 'host_grp'): ( SUCCEED, GET_HOST_GRP_CL8A_KEY_RESULT, STDERR), ('get', 'host_grp', '-port', 'CL9-A'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('get', 'ldev', '-ldev_id', '0', '-cnt', '2'): ( SUCCEED, GET_LDEV_LDEV0_CNT2_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '0', '-cnt', '3'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('get', 'ldev', '-ldev_id', '0', '-cnt', '10'): ( SUCCEED, GET_LDEV_LDEV0_CNT10_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '0', '-cnt', '20'): ( SUCCEED, GET_LDEV_LDEV0_CNT20_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '0', '-cnt', '30'): ( SUCCEED, GET_LDEV_LDEV0_CNT30_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '1'): (SUCCEED, GET_LDEV_LDEV1_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '2', '-check_status', 'NML', '-time', '120'): ( 233, STDOUT, STDERR), ('get', 'ldev', '-ldev_id', '2', '-cnt', '2'): ( SUCCEED, GET_LDEV_LDEV2_CNT2_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '3'): (SUCCEED, GET_LDEV_LDEV3_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '4'): (SUCCEED, GET_LDEV_LDEV4_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '5'): (SUCCEED, GET_LDEV_LDEV5_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '6'): (SUCCEED, GET_LDEV_LDEV6_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '7'): (SUCCEED, GET_LDEV_LDEV7_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '8'): (SUCCEED, GET_LDEV_LDEV8_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '9'): (SUCCEED, GET_LDEV_LDEV9_RESULT, STDERR), ('get', 'ldev', '-ldev_id', '10'): (253, STDOUT, STDERR), ('get', 'lun', '-port', 'CL0-B-0'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('get', 'lun', '-port', 'CL1-A-0'): ( SUCCEED, GET_LUN_CL1A0_RESULT, STDERR), ('get', 'lun', '-port', 'CL6-A-0'): ( SUCCEED, GET_LUN_CL6A0_RESULT, STDERR), ('get', 'port'): (SUCCEED, GET_PORT_RESULT, STDERR), ('get', 'port', '-port', 'CL1-A', '-key', 'opt'): ( SUCCEED, GET_PORT_CL1A_KEY_RESULT, STDERR), ('get', 'port', '-port', 'CL6-A', '-key', 'opt'): ( SUCCEED, GET_PORT_CL6A_KEY_RESULT, STDERR), ('get', 'port', '-port', 'CL7-A', '-key', 'opt'): ( SUCCEED, GET_PORT_CL7A_KEY_RESULT, STDERR), ('get', 'snapshot', '-ldev_id', '7'): ( SUCCEED, GET_SNAPSHOT_LDEV7_RESULT, STDERR), ('get', 'snapshot', '-ldev_id', '8'): ( SUCCEED, GET_SNAPSHOT_LDEV8_RESULT, STDERR), ('get', 'snapshot', '-ldev_id', '9'): ( SUCCEED, GET_SNAPSHOT_LDEV9_RESULT, STDERR), ('horcmshutdown.sh', '203'): (2, STDOUT, STDERR), ('horcmstart.sh', '202'): (2, STDOUT, STDERR), ('modify', 'host_grp', '-port', 'CL8-A', 'HBSD-' + CONFIG_MAP['my_ip'], '-host_mode', 'LINUX', '-host_mode_opt', '83'): ( hbsd_horcm.EX_COMERR, STDOUT, STDERR), ('modify', 'ldev', '-ldev_id', '3', '-status', 'discard_zero_page'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('modify', 'snapshot', '-ldev_id', '29', '-snapshot_data', 'create'): ( hbsd_horcm.EX_CMDIOE, STDOUT, STDERR), ('pairdisplay', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-3-1', '-CLI', '-ISI%s' % INST_NUMS[1]): (SUCCEED, PAIRDISPLAY_MU0_1_RESULT, STDERR), ('pairdisplay', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-0-2', '-CLI', '-ISI%s' % INST_NUMS[1]): (SUCCEED, PAIRDISPLAY_MU1_2_RESULT, STDERR), ('pairdisplay', '-g', CG_MAP['cg1'], '-CLI', '-ISI%s' % INST_NUMS[1]): ( SUCCEED, PAIRDISPLAY_MU1_RESULT, STDERR), ('pairevtwait', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-0-1', '-nowait', '-ISI%s' % INST_NUMS[1]): (hbsd_basiclib.PSUS, STDOUT, STDERR), ('pairevtwait', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-0-1', '-nowaits', '-ISI%s' % INST_NUMS[1]): (hbsd_basiclib.PSUS, STDOUT, STDERR), ('pairevtwait', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-3-1', '-nowait', '-ISI%s' % INST_NUMS[1]): (hbsd_basiclib.PSUS, STDOUT, STDERR), ('pairevtwait', '-g', CG_MAP['cg0'], '-d', 'HBSD-ldev-3-1', '-nowaits', '-ISI%s' % INST_NUMS[1]): (hbsd_horcm.EX_ENAUTH, STDOUT, STDERR), ('pairevtwait', '-g', CG_MAP['cg1'], '-d', 'HBSD-ldev-0-2', '-nowait', '-ISI%s' % INST_NUMS[1]): (hbsd_basiclib.SMPL, STDOUT, STDERR), ('pairevtwait', '-g', CG_MAP['cg1'], '-d', 'HBSD-ldev-0-2', '-nowaits', '-ISI%s' % INST_NUMS[1]): (hbsd_basiclib.SMPL, STDOUT, STDERR), ('raidqry', '-h'): (SUCCEED, RAIDQRY_RESULT, STDERR), ('tee', '/etc/horcm501.conf'): (1, STDOUT, STDERR), ('-login', 'userX', 'paswordX'): (hbsd_horcm.EX_ENAUTH, STDOUT, STDERR), } ERROR_EXECUTE_TABLE = { ('get', 'command_status'): hbsd_horcm.EX_CMDIOE, ('get', 'dp_pool'): hbsd_horcm.EX_CMDIOE, ('get', 'host_grp', '-port', 'CL2-A', '-key', 'host_grp'): hbsd_horcm.EX_CMDIOE, ('get', 'host_grp', '-port', 'CL6-A', '-key', 'host_grp'): hbsd_horcm.EX_CMDIOE, ('raidqry', '-h'): 127, } DEFAULT_CONNECTOR = { 'ip': CONFIG_MAP['my_ip'], 'wwpns': ['aaaaaaaaaaaaaaaa', 'bbbbbbbbbbbbbbbb'], 'initiator': 'iqn-initiator', 'multipath': False, } TEST_VOLUME0 = { 'id': 'test-volume0', 'name': 'test-volume0', 'provider_location': '0', 'size': 128, 'snapshot_id': '0', 'source_volid': '0', 'status': 'available', 'volume_attachment': [], } TEST_VOLUME1 = { 'id': 'test-volume1', 'name': 'test-volume1', 'provider_location': '1', 'size': 128, 'status': 'available', 'volume_attachment': [], } TEST_VOLUME2 = { 'id': 'test-volume2', 'name': 'test-volume2', 'provider_location': None, 'size': 256, 'status': 'creating', 'volume_attachment': [], } TEST_VOLUME3 = { 'id': 'test-volume3', 'name': 'test-volume3', 'provider_location': '3', 'size': 128, 'status': 'available', 'volume_attachment': [], } TEST_VOLUME4 = { 'id': 'test-volume4', 'name': 'test-volume4', 'provider_location': '4', 'size': 128, 'status': 'in-use', 'volume_attachment': [{ 'id': 'fake_id', 'instance_uuid': 'foo', 'attached_host': None, }], 'volume_metadata': [{'key': 'type', 'value': 'V-VOL'}], } TEST_VOLUME5 = { 'id': 'test-volume5', 'name': 'test-volume5', 'provider_location': '3', 'size': 1024, 'status': 'available', 'volume_attachment': [], } TEST_VOLUME6 = { 'id': 'test-volume6', 'name': 'test-volume6', 'provider_location': '1', 'size': 256, 'status': 'available', 'volume_attachment': [], } TEST_VOLUME7 = { 'id': 'test-volume7', 'name': 'test-volume7', 'provider_location': '7', 'size': 128, 'status': 'available', 'volume_attachment': [], 'volume_metadata': [{'key': 'copy_method', 'value': 'THIN'}], } TEST_VOLUME_TABLE = { 'test-volume0': TEST_VOLUME0, 'test-volume1': TEST_VOLUME1, 'test-volume2': TEST_VOLUME2, 'test-volume3': TEST_VOLUME3, 'test-volume4': TEST_VOLUME4, 'test-volume5': TEST_VOLUME5, 'test-volume6': TEST_VOLUME6, 'test-volume7': TEST_VOLUME7, } ACCESS_TABLE = { ('/var/lock/hbsd/raidcom_400', os.W_OK): False, } def _access(*args, **kargs): return ACCESS_TABLE.get(args, True) def _execute(*args, **kargs): cmd = args[1:-3] if args[0] == 'raidcom' else args result = EXECUTE_TABLE.get(cmd, CMD_SUCCEED) if result[0]: raise processutils.ProcessExecutionError( exit_code=result[0], stdout=result[1], stderr=result[2], cmd=' '.join(args)) return result[1:] def _error_execute(*args, **kargs): cmd = args[1:-3] if args[0] == 'raidcom' else args result = _execute(*args, **kargs) ret = ERROR_EXECUTE_TABLE.get(cmd) if ret: raise processutils.ProcessExecutionError( exit_code=ret, stdout=result[0], stderr=result[1], cmd=' '.join(args)) return result def _time(): global START_TIME START_TIME += (hbsd_horcm.EXEC_MAX_WAITTIME / 3) return START_TIME def _brick_get_connector_properties(*args, **kwargs): return DEFAULT_CONNECTOR def _volume_get(context, volume_id): return TEST_VOLUME_TABLE.get(volume_id) def _volume_metadata_get(context, volume_id): return {'fake_key': 'fake_value'} def _snapshot_metadata_get(context, snapshot_id): return {'fake_key': 'fake_value'} def _volume_metadata_update(context, volume_id, metadata, delete): pass def _attach_volume(self, context, volume, properties, remote=False): return {'device': {'path': 'fake_path'}} def _detach_volume(self, context, attach_info, volume, properties, force=False, remote=False): pass def _copy_volume(srcstr, deststr, size_in_m, blocksize, sync=False, execute=utils.execute, ionice=None, throttle=None): pass class FakeLock(object): def __init__(self, *args, **kwargs): pass def __enter__(self): pass def __exit__(self, exc_type, exc_val, exc_tb): pass class HBSDHORCMISCSIDriverTest(test.TestCase): """"""Test HBSDHORCMFCDriver."""""" # The following information is passed on to tests, when creating a volume test_snapshot0 = { 'id': 'test-snapshot0', 'name': 'test-snapshot0', 'provider_location': '0', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume0', 'volume_name': 'test-volume0', 'volume_size': 128, } test_snapshot1 = { 'id': 'test-snapshot1', 'name': 'test-snapshot1', 'provider_location': '1', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume0', 'volume_name': 'test-volume0', 'volume_size': 128, } test_snapshot2 = { 'id': 'test-snapshot2', 'name': 'test-snapshot2', 'provider_location': '2', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME2, 'volume_id': 'test-volume2', 'volume_name': 'test-volume2', 'volume_size': 128, } test_snapshot3 = { 'id': 'test-snapshot3', 'name': 'test-snapshot3', 'provider_location': '3', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume3', 'volume_name': 'test-volume3', 'volume_size': 128, } test_snapshot4 = { 'id': 'test-snapshot4', 'name': 'test-snapshot4', 'provider_location': None, 'size': 128, 'status': 'creating', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume0', 'volume_name': 'test-volume0', 'volume_size': 128, } test_snapshot5 = { 'id': 'test-snapshot5', 'name': 'test-snapshot5', 'provider_location': None, 'size': 128, 'status': 'creating', 'volume': TEST_VOLUME4, 'volume_id': 'test-volume4', 'volume_name': 'test-volume4', 'volume_size': 128, } test_snapshot6 = { 'id': 'test-snapshot6', 'name': 'test-snapshot6', 'provider_location': '6', 'size': 128, 'status': 'error_deleting', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume0', 'volume_name': 'test-volume0', 'volume_size': 128, } test_snapshot7 = { 'id': 'test-snapshot7', 'name': 'test-snapshot7', 'provider_location': '7', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME0, 'volume_id': 'test-volume0', 'volume_name': 'test-volume0', 'volume_size': 128, } test_snapshot9 = { 'id': 'test-snapshot9', 'name': 'test-snapshot9', 'provider_location': '9', 'size': 128, 'status': 'available', 'volume': TEST_VOLUME7, 'volume_id': 'test-volume7', 'volume_name': 'test-volume7', 'volume_size': 128, 'metadata': {'type': 'V-VOL'}, } test_existing_ref = {'ldev': '1', 'serial_number': CONFIG_MAP['serial']} test_existing_none_ldev_ref = { 'ldev': None, 'serial_number': CONFIG_MAP['serial']} test_existing_invalid_ldev_ref = { 'ldev': 'AAA', 'serial_number': CONFIG_MAP['serial']} test_existing_value_error_ref = { 'ldev': 'XX:XX:XX', 'serial_number': CONFIG_MAP['serial']} test_existing_no_ldev_ref = {'serial_number': CONFIG_MAP['serial']} test_existing_none_serial_ref = {'ldev': '1', 'serial_number': None} test_existing_invalid_serial_ref = {'ldev': '1', 'serial_number': '999999'} test_existing_no_serial_ref = {'ldev': '00:00:01'} test_existing_get_ldev_no_stdout_ref = { 'ldev': '2', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_no_nml_ref = { 'ldev': '3', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_no_open_v_ref = { 'ldev': '4', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_no_hdp_ref = { 'ldev': '5', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_pair_ref = { 'ldev': '6', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_permit_ref = { 'ldev': '7', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_invalid_size_ref = { 'ldev': '8', 'serial_number': CONFIG_MAP['serial']} test_existing_get_ldev_num_port_ref = { 'ldev': '9', 'serial_number': CONFIG_MAP['serial']} test_existing_failed_to_get_ldev = { 'ldev': '10', 'serial_number': CONFIG_MAP['serial']} def setUp(self): super(HBSDHORCMISCSIDriverTest, self).setUp() self.configuration = mock.Mock(conf.Configuration) self.stubs.Set(db, 'volume_get', _volume_get) self.stubs.Set(db, 'volume_metadata_get', _volume_metadata_get) self.stubs.Set(db, 'snapshot_metadata_get', _snapshot_metadata_get) self.stubs.Set(db, 'volume_metadata_update', _volume_metadata_update) self.stubs.Set(lockutils, 'InterProcessLock', FakeLock) self.stubs.Set(os, 'access', _access) self.stubs.Set(time, 'time', _time) self.stubs.Set( utils, 'brick_get_connector_properties', _brick_get_connector_properties) self.stubs.Set(processutils, 'execute', _execute) self.addCleanup(self.stubs.UnsetAll) self._setup_config() self._setup_driver() def _setup_config(self): self.configuration.config_group = ""HORCM"" self.configuration.hitachi_pool_id = 30 self.configuration.hitachi_thin_pool_id = None self.configuration.hitachi_target_ports = ""CL1-A"" self.configuration.hitachi_debug_level = 0 self.configuration.hitachi_serial_number = CONFIG_MAP['serial'] self.configuration.hitachi_unit_name = None self.configuration.hitachi_group_request = True self.configuration.hitachi_group_range = None self.configuration.hitachi_ldev_range = ""0-1"" self.configuration.hitachi_default_copy_method = 'FULL' self.configuration.hitachi_copy_check_interval = 1 self.configuration.hitachi_async_copy_check_interval = 1 self.configuration.hitachi_copy_speed = 3 self.configuration.hitachi_horcm_add_conf = False self.configuration.hitachi_horcm_numbers = ','.join( [six.text_type(c) for c in INST_NUMS]) self.configuration.hitachi_horcm_user = ""user"" self.configuration.hitachi_horcm_password = ""pasword"" self.configuration.hitachi_auth_method = ""CHAP"" self.configuration.hitachi_auth_user = ""HBSD-CHAP-user"" self.configuration.hitachi_auth_password = ""HBSD-CHAP-password"" self.configuration.hitachi_add_chap_user = ""False"" def _setup_driver(self): self.driver = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self.driver.do_setup(None) self.driver.check_for_setup_error() self.driver.create_export(None, None) self.driver.ensure_export(None, None) self.driver.remove_export(None, None) # API test cases def test_do_setup(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self._setup_config() self.configuration.hitachi_target_ports = ""CL2-A"" self.configuration.hitachi_horcm_add_conf = True self.configuration.hitachi_auth_method = ""None"" drv.do_setup(None) self.assertEqual( drv._pair_hostgroups, [{'detected': True, 'gid': 1, 'port': 'CL2-A'}]) def test_do_setup_failed_to_create_conf(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) def _fake_exists(path): return True if path == '/etc/horcm500.conf' else False self.stubs.Set(os.path, 'exists', _fake_exists) self._setup_config() self.configuration.hitachi_horcm_numbers = '500,501' self.configuration.hitachi_horcm_add_conf = True self.assertRaises(exception.HBSDError, drv.do_setup, None) def test_do_setup_failed_to_restart_horcm(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self._setup_config() self.configuration.hitachi_horcm_numbers = '200,202' self.assertRaises(exception.HBSDCmdError, drv.do_setup, None) def test_do_setup_failed_to_login(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self._setup_config() self.configuration.hitachi_target_ports = None self.configuration.hitachi_horcm_user = ""userX"" self.configuration.hitachi_horcm_password = ""paswordX"" self.configuration.hitachi_horcm_numbers = '200,203' self.assertRaises(exception.HBSDError, drv.do_setup, None) def test_do_setup_failed_to_get_horcm_version(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self.stubs.Set(utils, 'execute', _error_execute) self._setup_config() self.assertRaises(exception.HBSDCmdError, drv.do_setup, None) def test_do_setup_failed_to_get_pair_host_group(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self.stubs.Set(utils, 'execute', _error_execute) self._setup_config() self.configuration.hitachi_target_ports = ""CL6-A"" self.assertRaises(exception.HBSDCmdError, drv.do_setup, None) def test_do_setup_failed_to_add_pair_host_group(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) self._setup_config() self.configuration.hitachi_target_ports = ""CL6-A,CL7-A"" self.configuration.hitachi_group_range = ""0-1"" self.assertRaises(exception.HBSDError, drv.do_setup, None) def test_do_setup_initiator_iqn_not_found(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) def _fake_brick_get_connector_properties(*args, **kwargs): connector = dict(DEFAULT_CONNECTOR) del connector['initiator'] return connector self.stubs.Set( utils, 'brick_get_connector_properties', _fake_brick_get_connector_properties) self._setup_config() self.assertRaises(exception.HBSDError, drv.do_setup, None) def test_do_setup_invalid_parameter(self): drv = hbsd_iscsi.HBSDISCSIDriver( configuration=self.configuration, db=db) def _do_check(name, value, target=None): result = False if not target: target = name self._setup_config() setattr(self.configuration, name, value) try: drv.do_setup(None) except exception.HBSDError as ex: result = target in six.text_type(ex) self.assertIs(result, True) _do_check('hitachi_unit_name', 'fake_unit_name') _do_check('hitachi_serial_number', None) _do_check('hitachi_pool_id', None) _do_check('hitachi_copy_speed', 16) _do_check('hitachi_default_copy_method', None) _do_check( 'hitachi_default_copy_method', 'THIN', target='hitachi_thin_pool_id') _do_check('hitachi_thin_pool_id', 30) _do_check('hitachi_ldev_range', '0-1-2') _do_check('hitachi_ldev_range', '00:00:00-1') _do_check('hitachi_ldev_range', '0-00:00:01') _do_check('hitachi_ldev_range', 'XX:XX:XX-YY:YY:YY') _do_check('hitachi_ldev_range', '1-0') _do_check( 'hitachi_ldev_range', [0, 1], target='A parameter is invalid') _do_check('hitachi_horcm_numbers', '0,1,2') _do_check('hitachi_horcm_numbers', 'X,Y') _do_check('hitachi_horcm_numbers', '0,0') _do_check('hitachi_horcm_user', None) _do_check('hitachi_auth_method', 'NONE') def test_extend_volume(self): self.driver.extend_volume(TEST_VOLUME0, 256) def test_extend_volume_volume_is_busy(self): self.assertRaises( exception.HBSDError, self.driver.extend_volume, TEST_VOLUME7, 256) def test_extend_volume_failed_to_extend(self): self.assertRaises( exception.HBSDError, self.driver.extend_volume, TEST_VOLUME3, 256) def test_extend_volume_volume_is_vvol(self): self.assertRaises( exception.HBSDError, self.driver.extend_volume, TEST_VOLUME4, 256) def test_get_volume_stats(self): stats = self.driver.get_volume_stats(True) self.assertEqual(stats['vendor_name'], 'Hitachi') def test_get_volume_stats_no_refresh(self): stats = self.driver.get_volume_stats() self.assertEqual(stats, {}) def test_get_volume_stats_not_initialized(self): self.driver.do_setup_status.clear() stats = self.driver.get_volume_stats(True) self.assertEqual(stats, {}) def test_get_volume_stats_pool_no_found(self): self.configuration.hitachi_pool_id = 29 stats = self.driver.get_volume_stats(True) self.assertEqual(stats, {}) def test_get_volume_stats_failed_to_get_dp_pool(self): self.stubs.Set(utils, 'execute', _error_execute) stats = self.driver.get_volume_stats(True) self.assertEqual(stats, {}) def test_create_volume(self): ret = self.driver.create_volume(TEST_VOLUME0) self.assertEqual(ret['provider_location'], '1') def test_create_volume_free_ldev_not_found(self): self.configuration.hitachi_ldev_range = None self.assertRaises( exception.HBSDError, self.driver.create_volume, TEST_VOLUME0) def test_create_volume_invalid_range(self): self.configuration.hitachi_ldev_range = [0, 0] self.assertRaises( exception.HBSDError, self.driver.create_volume, TEST_VOLUME0) def test_create_volume_failed_to_get_ldev(self): self.configuration.hitachi_ldev_range = [0, 2] self.assertRaises( exception.HBSDCmdError, self.driver.create_volume, TEST_VOLUME0) def test_create_volume_ldev_corruption(self): self.assertRaises( exception.HBSDError, self.driver.create_volume, TEST_VOLUME2) def test_create_volume_failed_to_add_ldev(self): self.assertRaises( exception.HBSDError, self.driver.create_volume, TEST_VOLUME5) def test_create_volume_not_completed(self): self.configuration.hitachi_ldev_range = [2, 3] self.assertRaises( exception.HBSDError, self.driver.create_volume, TEST_VOLUME0) def test_delete_volume(self): self.driver.delete_volume(TEST_VOLUME0) def test_delete_volume_ldev_is_none(self): self.driver.delete_volume(TEST_VOLUME2) def test_delete_volume_ldev_not_found(self): self.driver.delete_volume(TEST_VOLUME3) def test_delete_volume_volume_is_used(self): self.stubs.Set(threading, 'RLock', threading.Lock) ldev = self.driver.common.get_ldev(TEST_VOLUME0) self.driver.common.add_volinfo(ldev) self.driver.common.volume_info[ldev]['in_use'].lock.acquire(False) self.assertRaises( exception.VolumeIsBusy, self.driver.delete_volume, TEST_VOLUME0) def test_delete_volume_volume_is_busy(self): self.assertRaises( exception.VolumeIsBusy, self.driver.delete_volume, TEST_VOLUME7) def test_delete_volume_failed_to_delete_ldev(self): self.stubs.Set(utils, 'execute', _error_execute) self.assertRaises( exception.HBSDCmdError, self.driver.delete_volume, TEST_VOLUME0) def test_create_snapshot(self): ret = self.driver.create_snapshot(self.test_snapshot0) self.assertEqual(ret['provider_location'], '1') def test_create_snapshot_vvol(self): self.stubs.Set(hbsd_basiclib, 'PAIR', hbsd_basiclib.PSUS) self.configuration.hitachi_ldev_range = [0, 9] self.configuration.hitachi_thin_pool_id = 31 ret = self.driver.create_snapshot(self.test_snapshot9) self.assertEqual(ret['provider_location'], '9') def test_create_snapshot_error(self): self.assertRaises( exception.HBSDError, self.driver.create_snapshot, self.test_snapshot2) def test_create_snapshot_invalid_soruce(self): self.assertRaises( exception.HBSDError, self.driver.create_snapshot, self.test_snapshot5) def test_delete_snapshot(self): self.stubs.Set(hbsd_basiclib, 'SMPL', hbsd_basiclib.PSUS) self.driver.delete_snapshot(self.test_snapshot9) def test_delete_snapshot_ldev_is_none(self): self.driver.delete_snapshot(self.test_snapshot4) def test_delete_snapshot_ldev_not_found(self): self.driver.delete_snapshot(self.test_snapshot3) def test_delete_snapshot_snapshot_is_used(self): self.stubs.Set(threading, 'RLock', threading.Lock) ldev = self.driver.common.get_ldev(self.test_snapshot0) self.driver.common.add_volinfo(ldev) self.driver.common.volume_info[ldev]['in_use'].lock.acquire(False) self.assertRaises( exception.SnapshotIsBusy, self.driver.delete_snapshot, self.test_snapshot0) def test_delete_snapshot_snapshot_is_busy(self): self.assertRaises( exception.SnapshotIsBusy, self.driver.delete_snapshot, self.test_snapshot7) def test_delete_snapshot_error(self): self.assertRaises( exception.HBSDCmdError, self.driver.delete_snapshot, self.test_snapshot2) def test_create_cloned_volume(self): self.stubs.Set(hbsd_basiclib, 'PAIR', hbsd_basiclib.PSUS) self.configuration.hitachi_ldev_range = [0, 9] self.configuration.hitachi_thin_pool_id = 31 vol = self.driver.create_cloned_volume( dict(TEST_VOLUME0, volume_metadata=COPY_METHOD_THIN), TEST_VOLUME7) self.assertEqual(vol['provider_location'], '9') def test_create_cloned_volume_failed_to_add_snapshot(self): self.configuration.hitachi_ldev_range = [0, 19] self.configuration.hitachi_thin_pool_id = 31 self.assertRaises( exception.HBSDError, self.driver.create_cloned_volume, dict(TEST_VOLUME0, volume_metadata=COPY_METHOD_THIN), TEST_VOLUME7) def test_create_cloned_volume_failed_to_modify_snapshot(self): self.stubs.Set(hbsd_basiclib, 'PAIR', hbsd_basiclib.SMPL) self.stubs.Set(hbsd_basiclib, 'PSUS', hbsd_basiclib.SMPL) self.configuration.hitachi_ldev_range = [0, 29] self.configuration.hitachi_thin_pool_id = 31 self.assertRaises( exception.HBSDError, self.driver.create_cloned_volume, dict(TEST_VOLUME0, volume_metadata=COPY_METHOD_THIN), TEST_VOLUME7) def test_create_cloned_volume_invalid_size(self): self.assertRaises( exception.HBSDError, self.driver.create_cloned_volume, TEST_VOLUME2, TEST_VOLUME7) def test_create_cloned_volume_thin_pool_not_set(self): self.assertRaises( exception.HBSDError, self.driver.create_cloned_volume, dict(TEST_VOLUME0, volume_metadata=COPY_METHOD_THIN), TEST_VOLUME7) def test_create_cloned_volume_invalid_copy_method(self): self.configuration.hitachi_thin_pool_id = 31 self.assertRaises( exception.HBSDError, self.driver.create_cloned_volume, dict(TEST_VOLUME0, volume_metadata=INVALID_COPY_METHOD), TEST_VOLUME7) def test_create_cloned_volume_error(self): self.configuration.hitachi_horcm_user = ""userX"" self.configuration.hitachi_horcm_password = ""paswordX"" self.assertRaises( exception.HBSDCmdError, self.driver.create_cloned_volume, TEST_VOLUME1, TEST_VOLUME3) def test_create_volume_from_snapshot(self): self.stubs.Set(driver.VolumeDriver, '_attach_volume', _attach_volume) self.stubs.Set(driver.VolumeDriver, '_detach_volume', _detach_volume) self.stubs.Set(volume_utils, 'copy_volume', _copy_volume) self.configuration.volume_dd_blocksize = 1024 vol = self.driver.create_volume_from_snapshot( TEST_VOLUME0, self.test_snapshot9) self.assertEqual(vol['provider_location'], '1') def test_create_volume_from_snapshot_error(self): self.assertRaises( exception.HBSDError, self.driver.create_volume_from_snapshot, TEST_VOLUME6, self.test_snapshot1) def test_create_volume_from_snapshot_ldev_is_none(self): self.assertRaises( exception.HBSDError, self.driver.create_volume_from_snapshot, TEST_VOLUME0, self.test_snapshot4) def test_create_volume_from_snapshot_invalid_source(self): self.assertRaises( exception.HBSDError, self.driver.create_volume_from_snapshot, TEST_VOLUME0, self.test_snapshot6) def test_initialize_connection(self): self.configuration.hitachi_target_ports = [""CL1-A"", ""CL6-A""] rc = self.driver.initialize_connection(TEST_VOLUME0, DEFAULT_CONNECTOR) self.assertEqual(rc['driver_volume_type'], 'iscsi') self.assertEqual(rc['data']['target_iqn'], 'iqn-initiator.target') self.assertEqual(rc['data']['target_lun'], 0) def test_initialize_connection_ldev_is_none(self): self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME2, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_add_lun(self): self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME1, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_get_lun(self): self.configuration.hitachi_target_ports = [""CL0-B""] self.assertRaises( exception.HBSDCmdError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_security_off(self): self.configuration.hitachi_target_ports = [""CL1-B""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_get_hba_wwn(self): self.configuration.hitachi_target_ports = [""CL0-A""] self.assertRaises( exception.HBSDCmdError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_get_host_grp(self): self.configuration.hitachi_target_ports = [""CL9-A""] self.assertRaises( exception.HBSDCmdError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_ip_address_not_found(self): self.configuration.hitachi_target_ports = [""CL2-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_free_gid_not_found(self): self.configuration.hitachi_target_ports = [""CL2-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, dict(DEFAULT_CONNECTOR, ip='192.168.0.2')) def test_initialize_connection_invalid_range(self): self.configuration.hitachi_target_ports = [""CL2-A""] self.configuration.hitachi_group_range = [0, 0] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, dict(DEFAULT_CONNECTOR, ip='192.168.0.2')) def test_initialize_connection_failed_to_get_free_gid(self): self.configuration.hitachi_target_ports = [""CL2-A""] self.stubs.Set(utils, 'execute', _error_execute) self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, dict(DEFAULT_CONNECTOR, ip='192.168.0.2')) def test_initialize_connection_iqn_registration_failed(self): self.configuration.hitachi_target_ports = [""CL3-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_host_group_name_corruption(self): self.configuration.hitachi_target_ports = [""CL4-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_add_host_group(self): self.configuration.hitachi_target_ports = [""CL5-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_target_iqn_not_found(self): self.configuration.hitachi_target_ports = [""CL7-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_failed_to_set_reportportal(self): self.configuration.hitachi_target_ports = [""CL8-A""] self.configuration.hitachi_horcm_numbers = ERR_INST_NUMS self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_free_lun_not_found(self): self.stubs.Set(hbsd_horcm, 'MAX_HLUN', -1) self.assertRaises( exception.HBSDNotFound, self.driver.initialize_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_initialize_connection_lun_is_not_the_same(self): self.configuration.hitachi_target_ports = [""CL1-A"", ""CL6-A""] self.assertRaises( exception.HBSDError, self.driver.initialize_connection, TEST_VOLUME4, DEFAULT_CONNECTOR) def test_terminate_connection(self): self.driver.terminate_connection(TEST_VOLUME0, DEFAULT_CONNECTOR) def test_terminate_connection_io_exists(self): self.assertRaises( exception.HBSDError, self.driver.terminate_connection, TEST_VOLUME1, DEFAULT_CONNECTOR) def test_terminate_connection_ldev_is_none(self): self.driver.terminate_connection(TEST_VOLUME2, DEFAULT_CONNECTOR) def test_terminate_connection_ldev_not_found(self): self.configuration.hitachi_target_ports = [""CL1-A"", ""CL6-A""] self.driver.terminate_connection(TEST_VOLUME3, DEFAULT_CONNECTOR) def test_terminate_connection_failed_to_delete_lun(self): self.assertRaises( exception.HBSDCmdError, self.driver.terminate_connection, TEST_VOLUME4, DEFAULT_CONNECTOR) def test_terminate_connection_initiator_iqn_not_found(self): connector = dict(DEFAULT_CONNECTOR) del connector['initiator'] self.assertRaises( exception.HBSDError, self.driver.terminate_connection, TEST_VOLUME0, connector) def test_terminate_connection_host_group_not_found(self): self.configuration.hitachi_target_ports = [""CL2-A""] self.assertRaises( exception.HBSDError, self.driver.terminate_connection, TEST_VOLUME0, DEFAULT_CONNECTOR) def test_copy_volume_to_image(self): context = 'fake_context' image_service = 'fake_image_service' image_meta = 'fake_image_meta' with mock.patch.object( driver.VolumeDriver, 'copy_volume_to_image') as mock_copy_volume_to_image: self.driver.copy_volume_to_image( context, TEST_VOLUME0, image_service, image_meta) mock_copy_volume_to_image.assert_called_with( context, TEST_VOLUME0, image_service, image_meta) def test_copy_volume_to_image_error(self): context = 'fake_context' image_service = 'fake_image_service' image_meta = 'fake_image_meta' self.assertRaises( exception.HBSDError, self.driver.copy_volume_to_image, context, TEST_VOLUME4, image_service, image_meta) def test_manage_existing(self): rc = self.driver.manage_existing(TEST_VOLUME0, self.test_existing_ref) self.assertEqual(1, rc['provider_location']) def test_manage_existing_get_size(self): size = self.driver.manage_existing_get_size( TEST_VOLUME0, self.test_existing_ref) self.assertEqual(1, size) def test_manage_existing_get_size_none_ldev_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_none_ldev_ref) def test_manage_existing_get_size_invalid_ldev_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_invalid_ldev_ref) def test_manage_existing_get_size_value_error_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_value_error_ref) def test_manage_existing_get_size_no_ldev_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_no_ldev_ref) def test_manage_existing_get_size_none_serial_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_none_serial_ref) def test_manage_existing_get_size_invalid_serial_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_invalid_serial_ref) def test_manage_existing_get_size_no_serial_ref(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_no_serial_ref) def test_manage_existing_get_size_get_ldev_no_stdout(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_no_stdout_ref) def test_manage_existing_get_size_get_ldev_no_nml(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_no_nml_ref) def test_manage_existing_get_size_get_ldev_no_open_v(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_no_open_v_ref) def test_manage_existing_get_size_get_ldev_no_hdp(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_no_hdp_ref) def test_manage_existing_get_size_get_ldev_pair(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_pair_ref) def test_manage_existing_get_size_get_ldev_permit(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_permit_ref) def test_manage_existing_get_size_get_ldev_invalid_size(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_invalid_size_ref) def test_manage_existing_get_size_get_ldev_num_port(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_get_ldev_num_port_ref) def test_manage_existing_get_size_failed_to_get_ldev(self): self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, TEST_VOLUME0, self.test_existing_failed_to_get_ldev) def test_unmanage(self): self.driver.unmanage(TEST_VOLUME0) def test_unmanage_ldev_is_none(self): self.driver.unmanage(TEST_VOLUME2) def test_unmanage_busy(self): self.assertRaises( exception.HBSDVolumeIsBusy, self.driver.unmanage, TEST_VOLUME4) def test_unmanage_volume_is_busy(self): self.assertRaises( exception.HBSDVolumeIsBusy, self.driver.unmanage, TEST_VOLUME7) def test_unmanage_volume_is_used(self): self.stubs.Set(threading, 'RLock', threading.Lock) ldev = self.driver.common.get_ldev(TEST_VOLUME0) self.driver.common.add_volinfo(ldev) self.driver.common.volume_info[ldev]['in_use'].lock.acquire(False) self.assertRaises( exception.HBSDVolumeIsBusy, self.driver.unmanage, TEST_VOLUME0) def test_copy_volume_data(self): context = 'fake_context' remote = 'fake_remote' with mock.patch.object( driver.VolumeDriver, 'copy_volume_data') as mock_copy_volume: self.driver.copy_volume_data( context, TEST_VOLUME0, TEST_VOLUME0, remote) mock_copy_volume.assert_called_with( context, TEST_VOLUME0, TEST_VOLUME0, remote) def test_copy_image_to_volume(self): context = 'fake_context' image_service = 'fake_image_service' image_id = 'fake_image_id' self.configuration.hitachi_horcm_numbers = [400, 401] with mock.patch.object( driver.VolumeDriver, 'copy_image_to_volume') as mock_copy_image: self.driver.copy_image_to_volume( context, TEST_VOLUME0, image_service, image_id) mock_copy_image.assert_called_with( context, TEST_VOLUME0, image_service, image_id) def test_restore_backup(self): context = 'fake_context' backup = 'fake_backup' backup_service = 'fake_backup_service' with mock.patch.object( driver.VolumeDriver, 'restore_backup') as mock_restore_backup: self.driver.restore_backup( context, backup, TEST_VOLUME3, backup_service) mock_restore_backup.assert_called_with( context, backup, TEST_VOLUME3, backup_service) ",,1844,6
openstack%2Fcinder~master~I043c49fe96e0df9d46ca692a97dfc221958ef35b,openstack/cinder,master,I043c49fe96e0df9d46ca692a97dfc221958ef35b,Backups: add a force flag,ABANDONED,2015-06-07 18:28:04.000000000,2015-08-16 08:34:44.000000000,,"[{'_account_id': 3}, {'_account_id': 2861}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12160}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-07 18:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1576d4ba52c6d76f2f8e9c234de877f901590ea', 'message': ""Backups: add a force flag\n\nAllow force backups to be taken, on specifying the force flag similar to\ncinder snapshot API's.\n\nImplements: blueprint cinder-live-backup\nDocImpact\nSigned-off-by: Abhishek Lekshmanan <abhishek.lekshmanan@gmail.com>\n\nChange-Id: I043c49fe96e0df9d46ca692a97dfc221958ef35b\n""}, {'number': 2, 'created': '2015-06-08 05:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/038c453653e3e80cb8fc935c239d699fa2efdb9b', 'message': ""Backups: add a force flag\n\nAllow force backups to be taken, on specifying the force flag similar to\ncinder snapshot API's.\n\nImplements: blueprint cinder-live-backup\nDocImpact\nSigned-off-by: Abhishek Lekshmanan <abhishek.lekshmanan@gmail.com>\n\nChange-Id: I043c49fe96e0df9d46ca692a97dfc221958ef35b\n""}, {'number': 3, 'created': '2015-06-09 09:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f7f596e77d6aa9885f4ad98afc32a6b1dbd3425', 'message': ""Backups: add a force flag\n\nAllow force backups to be taken, on specifying the force flag similar to\ncinder snapshot API's.\n\nImplements: blueprint cinder-live-backup\nDocImpact\nSigned-off-by: Abhishek Lekshmanan <abhishek.lekshmanan@gmail.com>\n\nChange-Id: I043c49fe96e0df9d46ca692a97dfc221958ef35b\n""}, {'number': 4, 'created': '2015-06-10 13:36:42.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/api/contrib/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40a98b34af2ccb6cb6b854d685a2ddc5b81a58d0', 'message': ""Backups: add a force flag\n\nAllow force backups to be taken, on specifying the force flag similar to\ncinder snapshot API's.\n\nImplements: blueprint cinder-live-backup\nDocImpact\nSigned-off-by: Abhishek Lekshmanan <abhishek.lekshmanan@gmail.com>\n\nChange-Id: I043c49fe96e0df9d46ca692a97dfc221958ef35b\n""}]",10,189152,40a98b34af2ccb6cb6b854d685a2ddc5b81a58d0,84,30,4,12160,,,0,"Backups: add a force flag

Allow force backups to be taken, on specifying the force flag similar to
cinder snapshot API's.

Implements: blueprint cinder-live-backup
DocImpact
Signed-off-by: Abhishek Lekshmanan <abhishek.lekshmanan@gmail.com>

Change-Id: I043c49fe96e0df9d46ca692a97dfc221958ef35b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/189152/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/api/contrib/backups.py']",3,f1576d4ba52c6d76f2f8e9c234de877f901590ea,bp/cinder-live-backup," force = backup.get('force', False) incremental, force) ", incremental),78,8
openstack%2Fcinder~master~Ic803047c19fdb4d9953f1b75d504a16f7738b47c,openstack/cinder,master,Ic803047c19fdb4d9953f1b75d504a16f7738b47c,Add script to list support matrix,ABANDONED,2015-03-02 13:50:31.000000000,2015-08-16 08:33:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7872}, {'_account_id': 9003}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13900}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 15249}, {'_account_id': 15670}, {'_account_id': 16269}, {'_account_id': 16595}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-03-02 13:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29639cfd434985f6c00a3b97d758594e3ef3d35d', 'message': 'Add script to list support matrix\n\nExtract drivers support matrix out of the newly introduced ABC\nclass structure. This can be used for documentation later on.\n\nChange-Id: Ic803047c19fdb4d9953f1b75d504a16f7738b47c\n'}, {'number': 2, 'created': '2015-03-03 15:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f289d78c324410a769f4191161378658fe3df61', 'message': 'Add script to list support matrix\n\nExtract drivers support matrix out of the newly introduced ABC\nclass structure. This can be used for documentation later on.\n\nChange-Id: Ic803047c19fdb4d9953f1b75d504a16f7738b47c\n'}, {'number': 3, 'created': '2015-03-03 15:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea9e19fb9ce86e155fe3618ce9ee09d206ae9ad3', 'message': 'Add script to list support matrix\n\nExtract drivers support matrix out of the newly introduced ABC\nclass structure. This can be used for documentation later on.\n\nChange-Id: Ic803047c19fdb4d9953f1b75d504a16f7738b47c\n'}, {'number': 4, 'created': '2015-06-09 14:07:58.000000000', 'files': ['tools/support_matrix_gen.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4cd98fcb110dde46e33b19e842127e3457c1f91', 'message': 'Add script to list support matrix\n\nExtract drivers support matrix out of the newly introduced ABC\nclass structure. This can be used for documentation later on.\n\nChange-Id: Ic803047c19fdb4d9953f1b75d504a16f7738b47c\n'}]",9,160346,e4cd98fcb110dde46e33b19e842127e3457c1f91,74,34,4,7872,,,0,"Add script to list support matrix

Extract drivers support matrix out of the newly introduced ABC
class structure. This can be used for documentation later on.

Change-Id: Ic803047c19fdb4d9953f1b75d504a16f7738b47c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/160346/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/support_matrix_gen.py'],1,29639cfd434985f6c00a3b97d758594e3ef3d35d,abc-driver-update,"#!/usr/bin/env python # Copyright (c) 2015 Deutsche Telekom AG # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import pkgutil import cinder.volume.drivers from cinder.volume import driver as drv import inspect import pprint package = cinder.volume.drivers support_matrix = {} not_ported = [] def try_import(modname): try: return __import__(modname, fromlist=""dummy"") except ImportError: print ""Ignore %s"" % modname return False prefix = package.__name__ + '.' for importer, modname, ispkg in pkgutil.walk_packages(path=package.__path__, prefix=prefix, onerror=lambda x: None): driver = try_import(modname) if driver: for name, clazz in inspect.getmembers(driver): if inspect.isclass(clazz): if issubclass(clazz, drv.VolumeDriver): not_ported.append(clazz.__name__) elif issubclass(clazz, drv.BaseVD): support_matrix[clazz.__name__] = clazz.__bases__ print ""Not yet ported drivers: \n%s"" % not_ported print ""Support matrix"" pprint.pprint(support_matrix) ",,49,0
openstack%2Fcinder~stable%2Fjuno~Ic3267d422912f94e966412859e2b8bddeddfb75f,openstack/cinder,stable/juno,Ic3267d422912f94e966412859e2b8bddeddfb75f,Snapshot of bootable volume goes in error state,ABANDONED,2015-02-18 10:37:23.000000000,2015-08-16 08:32:51.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 1420}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9303}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10300}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-02-18 10:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b60807f7fa193b43e099e83c91d8c25adb48f404', 'message': 'Snapshot of bootable volume goes in error state\n\nIf volume is not created from image, no glance\nmetadata would be available for that volume/snapshot\nin volume glance metadata table. So simply catch\nGlanceMetadataNotFound and do nothing.\n\nCloses-Bug: #1413880\nChange-Id: Ic3267d422912f94e966412859e2b8bddeddfb75f\n(cherry picked from commit 8583aaf8542225da5542d4871763617c1378b1e3)\n'}, {'number': 2, 'created': '2015-02-20 05:45:50.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/df399b6b4a09eed715ef61229c27f2dc48ea272c', 'message': 'Snapshot of bootable volume goes in error state\n\nIf volume is not created from image, no glance\nmetadata would be available for that volume/snapshot\nin volume glance metadata table. So simply catch\nGlanceMetadataNotFound and do nothing.\n\nThis is not 1:1 cherry-pick as I have mocked utils.execute\nmethod in my tests due to Jenkins failure for some commands which\nrequires sudo permission.\n\nCloses-Bug: #1413880\nChange-Id: Ic3267d422912f94e966412859e2b8bddeddfb75f\n(cherry picked from commit 8583aaf8542225da5542d4871763617c1378b1e3)\n'}]",2,156936,df399b6b4a09eed715ef61229c27f2dc48ea272c,72,25,2,10300,,,0,"Snapshot of bootable volume goes in error state

If volume is not created from image, no glance
metadata would be available for that volume/snapshot
in volume glance metadata table. So simply catch
GlanceMetadataNotFound and do nothing.

This is not 1:1 cherry-pick as I have mocked utils.execute
method in my tests due to Jenkins failure for some commands which
requires sudo permission.

Closes-Bug: #1413880
Change-Id: Ic3267d422912f94e966412859e2b8bddeddfb75f
(cherry picked from commit 8583aaf8542225da5542d4871763617c1378b1e3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/156936/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py', 'cinder/tests/test_volume.py']",3,b60807f7fa193b43e099e83c91d8c25adb48f404,bug/1413880," def _raise_metadata_copy_failure(self, method, dst_vol_id, **kwargs): # MetadataCopyFailure exception will be raised if DB service is Down # while copying the volume glance metadata with mock.patch.object(db, method) as mock_db: mock_db.side_effect = exception.MetadataCopyFailure( reason=""Because of DB service down."") self.assertRaises(exception.MetadataCopyFailure, self.volume.create_volume, self.context, dst_vol_id, **kwargs) # ensure that status of volume is 'error' vol = db.volume_get(self.context, dst_vol_id) self.assertEqual('error', vol['status']) # cleanup resource db.volume_destroy(self.context, dst_vol_id) def test_create_volume_from_volume_with_glance_volume_metadata_none(self): # create source volume src_vol = tests_utils.create_volume(self.context, **self.volume_params) src_vol_id = src_vol['id'] self.volume.create_volume(self.context, src_vol_id) # set bootable flag of volume to True db.volume_update(self.context, src_vol['id'], {'bootable': True}) # create volume from source volume dst_vol = tests_utils.create_volume(self.context, **self.volume_params) self.volume.create_volume(self.context, dst_vol['id'], source_volid=src_vol_id) self.assertRaises(exception.GlanceMetadataNotFound, db.volume_glance_metadata_copy_from_volume_to_volume, self.context, src_vol_id, dst_vol['id']) # ensure that status of volume is 'available' vol = db.volume_get(self.context, dst_vol['id']) self.assertEqual('available', vol['status']) # cleanup resource db.volume_destroy(self.context, src_vol_id) db.volume_destroy(self.context, dst_vol['id']) def test_create_volume_from_volume_raise_metadata_copy_failure( self): # create source volume src_vol = tests_utils.create_volume(self.context, **self.volume_params) src_vol_id = src_vol['id'] self.volume.create_volume(self.context, src_vol_id) # set bootable flag of volume to True db.volume_update(self.context, src_vol['id'], {'bootable': True}) # create volume from source volume dst_vol = tests_utils.create_volume(self.context, source_volid=src_vol_id, **self.volume_params) self._raise_metadata_copy_failure( 'volume_glance_metadata_copy_from_volume_to_volume', dst_vol['id'], source_volid=src_vol_id) # cleanup resource db.volume_destroy(self.context, src_vol_id) def test_create_volume_from_snapshot_raise_metadata_copy_failure( self): # create source volume src_vol = tests_utils.create_volume(self.context, **self.volume_params) src_vol_id = src_vol['id'] self.volume.create_volume(self.context, src_vol_id) # set bootable flag of volume to True db.volume_update(self.context, src_vol['id'], {'bootable': True}) # create volume from snapshot snapshot_id = self._create_snapshot(src_vol['id'])['id'] self.volume.create_snapshot(self.context, src_vol['id'], snapshot_id) # ensure that status of snapshot is 'available' snapshot_ref = db.snapshot_get(self.context, snapshot_id)['status'] self.assertEqual('available', snapshot_ref) dst_vol = tests_utils.create_volume(self.context, **self.volume_params) self._raise_metadata_copy_failure( 'volume_glance_metadata_copy_to_volume', dst_vol['id'], snapshot_id=snapshot_id) # cleanup resource db.snapshot_destroy(self.context, snapshot_id) db.volume_destroy(self.context, src_vol_id) @mock.patch( 'cinder.volume.driver.VolumeDriver.create_replica_test_volume') def test_create_volume_from_srcreplica_raise_metadata_copy_failure( self, _create_replica_test): _create_replica_test.return_value = None # create source volume src_vol = tests_utils.create_volume(self.context, **self.volume_params) src_vol_id = src_vol['id'] self.volume.create_volume(self.context, src_vol_id) # set bootable flag of volume to True db.volume_update(self.context, src_vol['id'], {'bootable': True}) # create volume from source volume dst_vol = tests_utils.create_volume(self.context, source_volid=src_vol_id, **self.volume_params) self._raise_metadata_copy_failure( 'volume_glance_metadata_copy_from_volume_to_volume', dst_vol['id'], source_volid=src_vol_id) # cleanup resource db.volume_destroy(self.context, src_vol_id) def test_create_volume_from_snapshot_with_glance_volume_metadata_none( self): # create source volume src_vol = tests_utils.create_volume(self.context, **self.volume_params) src_vol_id = src_vol['id'] self.volume.create_volume(self.context, src_vol_id) # set bootable flag of volume to True db.volume_update(self.context, src_vol['id'], {'bootable': True}) volume = db.volume_get(self.context, src_vol_id) # create snapshot of volume snapshot_id = self._create_snapshot(volume['id'])['id'] self.volume.create_snapshot(self.context, volume['id'], snapshot_id) # ensure that status of snapshot is 'available' snapshot_ref = db.snapshot_get(self.context, snapshot_id)['status'] self.assertEqual('available', snapshot_ref) # create volume from snapshot dst_vol = tests_utils.create_volume(self.context, **self.volume_params) self.volume.create_volume(self.context, dst_vol['id'], snapshot_id=snapshot_id) self.assertRaises(exception.GlanceMetadataNotFound, db.volume_glance_metadata_copy_to_volume, self.context, dst_vol['id'], snapshot_id) # ensure that status of volume is 'available' vol = db.volume_get(self.context, dst_vol['id']) self.assertEqual('available', vol['status']) # cleanup resource db.snapshot_destroy(self.context, snapshot_id) db.volume_destroy(self.context, src_vol_id) db.volume_destroy(self.context, dst_vol['id']) @mock.patch( 'cinder.volume.driver.VolumeDriver.create_replica_test_volume') def test_create_volume_from_srcreplica_with_glance_volume_metadata_none( self, _create_replica_test): """"""Test volume can be created from a volume replica."""""" _create_replica_test.return_value = None volume_src = tests_utils.create_volume(self.context, **self.volume_params) self.volume.create_volume(self.context, volume_src['id']) db.volume_update(self.context, volume_src['id'], {'bootable': True}) volume = db.volume_get(self.context, volume_src['id']) volume_dst = tests_utils.create_volume( self.context, source_replicaid=volume['id'], **self.volume_params) self.volume.create_volume(self.context, volume_dst['id'], source_replicaid=volume['id']) self.assertRaises(exception.GlanceMetadataNotFound, db.volume_glance_metadata_copy_from_volume_to_volume, self.context, volume_src['id'], volume_dst['id']) self.assertEqual('available', db.volume_get(self.context, volume_dst['id']).status) self.assertTrue(_create_replica_test.called) # cleanup resource db.volume_destroy(self.context, volume_dst['id']) db.volume_destroy(self.context, volume_src['id']) def test_create_snapshot_from_bootable_volume_with_volume_metadata_none( self): volume = tests_utils.create_volume(self.context, **self.volume_params) volume_id = volume['id'] self.volume.create_volume(self.context, volume_id) # set bootable flag of volume to True db.volume_update(self.context, volume_id, {'bootable': True}) snapshot_id = self._create_snapshot(volume['id'])['id'] self.volume.create_snapshot(self.context, volume['id'], snapshot_id) self.assertRaises(exception.GlanceMetadataNotFound, db.volume_snapshot_glance_metadata_get, self.context, snapshot_id) # ensure that status of snapshot is 'available' snapshot_ref = db.snapshot_get(self.context, snapshot_id)['status'] self.assertEqual('available', snapshot_ref) # cleanup resource db.snapshot_destroy(self.context, snapshot_id) db.volume_destroy(self.context, volume_id) ",,229,0
openstack%2Fcinder~master~Ief7383679e4cc02aa8e41a01451d618b3c8127b4,openstack/cinder,master,Ief7383679e4cc02aa8e41a01451d618b3c8127b4,Add HP3PAR validate volume type extra spec,ABANDONED,2015-03-13 16:20:16.000000000,2015-08-16 08:32:31.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11592}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-03-13 16:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f58ac10cb5e3cdbd5a4c74a4a0389a91a43e87c4', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 2, 'created': '2015-03-13 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44d9753151bfb602b3b43a0f233e10b3cfbe07f3', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 3, 'created': '2015-03-13 19:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6178cd5bda6ff6efe3d98e1754248c82cb508c3', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 4, 'created': '2015-03-17 22:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c16f9bf150b2840c06ca6dc70d049b5448340d01', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 5, 'created': '2015-03-24 22:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6613d35347c9288701a46bf7be236615d45b2b14', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 6, 'created': '2015-04-07 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf4dbbe9310856023bb44304638e4415a278081f', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}, {'number': 7, 'created': '2015-04-27 22:44:24.000000000', 'files': ['cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/tests/unit/test_hp3par.py', 'cinder/volume/drivers/san/hp/hp_3par_iscsi.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7140aae606030a2bd72638ae59caac484403f8b5', 'message': 'Add HP3PAR validate volume type extra spec\n\nThis patch implements a new function in HP3PAR driver to validate the\nvolume type extra spec key/value pair.\n\nChange-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4\nPartially-Implements: blueprint volume-type-validation\n'}]",0,164238,7140aae606030a2bd72638ae59caac484403f8b5,118,31,7,11592,,,0,"Add HP3PAR validate volume type extra spec

This patch implements a new function in HP3PAR driver to validate the
volume type extra spec key/value pair.

Change-Id: Ief7383679e4cc02aa8e41a01451d618b3c8127b4
Partially-Implements: blueprint volume-type-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/164238/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/openstack/common/strutils.py', 'cinder/volume/drivers/san/hp/hp_3par_fc.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/ibm/flashsystem.py', 'openstack-common.conf', 'cinder/tests/test_volume.py', 'cinder/volume/drivers/san/hp/hp_3par_iscsi.py', 'cinder/tests/test_hp3par.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py']",9,f58ac10cb5e3cdbd5a4c74a4a0389a91a43e87c4,bp/volume-type-extra-specs-validation," 2.0.40 - Add validate volume type extra spec function VERSION = ""2.0.40"" def is_valid_cpg(self, cpg_name): try: self.client.getCPG(cpg_name) except hpexceptions.HTTPNotFound: return False return True def is_valid_vvs(self, vvs_name): try: self.client.getVolumeSet(vvs_name) except hpexceptions.HTTPNotFound: return False return True def validate_vol_type_extra_spec(self, extra_spec): LOG.debug(""Validate volume type extra spec\n%s"", pprint.pformat( extra_spec)) spec_key, spec_value = extra_spec tokens = spec_key.split(':') scope = tokens[0] if scope == 'hp3par': key = tokens[1] if key not in self.hp3par_valid_keys: msg = _('Invalid hp3par key: %s') % key return False, msg else: if ((key == 'provisioning' and spec_value not in self.valid_prov_values) or (key == 'persona' and spec_value not in self.valid_persona_values) or (key == 'flash_cache' and not isinstance(spec_value, bool))): msg = _('Invalid value for key: %s') % spec_key return False, msg elif (key in ['cpg', 'snap_cpg'] and not self.is_valid_cpg(spec_value)): msg = _(""CPG (%s) does not exist"") % spec_value return False, msg elif key == 'vvs' and not self.is_valid_vvs(spec_value): msg = _(""VVS (%s) does not exist"") % spec_value return False, msg return True, None "," VERSION = ""2.0.39""",161,323
openstack%2Fcinder~master~Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4,openstack/cinder,master,Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4,SMBFS: Add image caching support,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 08:32:19.000000000,,"[{'_account_id': 3}, {'_account_id': 3185}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9176}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4666eabab4e71c296232c4433bdd30ebf707ccde', 'message': 'SMBFS: Add image caching support\n\nThis patch adds image caching support for the SMBFS volume drivers.\n\nChange-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 2, 'created': '2015-03-06 12:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cf9576213765482d03c52c076f5f3f54ff1ca12', 'message': 'SMBFS: Add image caching support\n\nThis patch adds image caching support for the SMBFS volume drivers.\n\nChange-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 3, 'created': '2015-03-12 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63d73c27bb5d9649b0834b9122cc479adef60470', 'message': 'SMBFS: Add image caching support\n\nThis patch adds image caching support for the SMBFS volume drivers.\n\nChange-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 4, 'created': '2015-03-17 16:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/391f822866ea46f1ebc08f3ba4cdd8ddbf1902ac', 'message': 'SMBFS: Add image caching support\n\nThis patch adds image caching support for the SMBFS volume drivers.\n\nChange-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 5, 'created': '2015-03-18 09:54:01.000000000', 'files': ['cinder/volume/drivers/smbfs.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/windows/test_smbfs.py', 'cinder/tests/test_smbfs.py', 'cinder/volume/drivers/windows/vhdutils.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71fa549a6c2dd68d809db8a170cbcc8d7529b080', 'message': 'SMBFS: Add image caching support\n\nThis patch adds image caching support for the SMBFS volume drivers.\n\nChange-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4\nPartially-implements: blueprint bp/image-caching-support\n'}]",2,161368,71fa549a6c2dd68d809db8a170cbcc8d7529b080,88,29,5,8543,,,0,"SMBFS: Add image caching support

This patch adds image caching support for the SMBFS volume drivers.

Change-Id: Ic0c9f1d75f304a98e28ee4a0294a0d37b04fc9f4
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/161368/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/smbfs.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/windows/test_smbfs.py', 'cinder/tests/test_smbfs.py', 'cinder/volume/drivers/windows/vhdutils.py', 'cinder/volume/drivers/remotefs.py']",6,4666eabab4e71c296232c4433bdd30ebf707ccde,bp/bp," path = self._get_backing_file_full_path(volume, filename) def _get_backing_file_full_path(self, volume, filename): # Note: some drivers using image caching might place the first # image at a different path. return os.path.join(self._local_volume_dir(volume), filename) "," path = os.path.join(self._local_volume_dir(volume), filename)",56,59
openstack%2Fcinder~master~I436e58d7059e0e7f749cb0e8165fa7e3bff2291e,openstack/cinder,master,I436e58d7059e0e7f749cb0e8165fa7e3bff2291e,List quota defaults without passing tenant ID,ABANDONED,2014-12-05 12:21:06.000000000,2015-08-16 08:32:08.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2243}, {'_account_id': 2861}, {'_account_id': 5538}, {'_account_id': 7219}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-12-05 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37ae77423827987b6628a84cab843f183d1079b9', 'message': ""WIP: List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nTODO: add tests\n\nDocImpact: API behavior of GET quota defaults changed.\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 2, 'created': '2014-12-05 12:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dad115469a8e1cc3c74edf94a9cf7e1692b7bfe', 'message': ""WIP: List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nTODO: add tests\n\nDocImpact: API behavior of GET quota defaults changed.\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 3, 'created': '2014-12-08 06:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0a7998b17114841a41f2de5510c68b2479029b0', 'message': ""WIP: List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nTODO: add tests\n\nDocImpact: API behavior of GET quota defaults changed.\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 4, 'created': '2015-01-18 07:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23b769006cd13c7c9cf0132d5798b27e59f8a5b4', 'message': ""WIP: List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nTODO: add tests\n\nDocImpact: API behavior of GET quota defaults changed.\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 5, 'created': '2015-01-18 08:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64e2e5ef0332aea89d1272439c8e87f8d059b289', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 6, 'created': '2015-01-18 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25ca3adfd04900b498fc895fb7f15a2b0ac11f2b', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 7, 'created': '2015-01-20 12:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83a410b6474c645ea7da8a30fcb746b18758b067', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 8, 'created': '2015-01-22 13:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91dc4ae77e2dc5a055f859c8b95d5f6cf990ce87', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 9, 'created': '2015-01-23 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7445057fb5ba1cb59527fa84e298774ee012425f', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}, {'number': 10, 'created': '2015-01-28 10:49:17.000000000', 'files': ['cinder/api/contrib/quotas.py', 'etc/cinder/policy.json', 'cinder/tests/api/contrib/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/56fe0deee75b377c80dfe32afdae387597137e83', 'message': ""List quota defaults without passing tenant ID\n\nTo list default quotas, one had to make a call to\n    /v2/<TID>/os-quota-sets/<TID>/defaults\nwhere TID is the tenant ID. The second instance is redundant. What's worse;\ninstead of second <TID>, even if you pass 'blah', the call will succeed.\n\nSimilar behavior exists currently with cinderclient CLI:\n1. 'cinder quota-defaults' will throw validation error, as tenant-id is a\nrequired parameter\n2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults\n3. 'cinder quota-defaults zz' will pass too.\n\nThe first problem with this is tenant ID is mandatory, even if one is viewing\nhis/her own quotas, a usability nightmare. The second problem is, quota\ndefaults are not really different for each tenant.\n\nIn it's current form, 'quota defaults' mean the default values\nof quotas, which is _same_ for all tenants. The assigned and used quota\nvalues for the current tenant should be viewed using 'quota-show' and\n'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and\n( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes\nsense.\n\nAfter this change, the second <TID> is made not necessary. So the call\n    /v2/<TID>/os-quota-sets/defaults\nwill succeed. Note that the current behavior is not removed for backwards\ncompatibility, but can be removed in a further release.\n\nNext task would be to make suitable change in cinderclient\n\nDocImpact: API behavior of GET quota defaults changed.\nApiImpact: API behavior of GET quota defaults changed.\nBlueprint: quota-api-cli-default-tenant-improvements\n\nChange-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e\nCloses-Bug: #1307486\n""}]",21,139610,56fe0deee75b377c80dfe32afdae387597137e83,100,24,10,5538,,,0,"List quota defaults without passing tenant ID

To list default quotas, one had to make a call to
    /v2/<TID>/os-quota-sets/<TID>/defaults
where TID is the tenant ID. The second instance is redundant. What's worse;
instead of second <TID>, even if you pass 'blah', the call will succeed.

Similar behavior exists currently with cinderclient CLI:
1. 'cinder quota-defaults' will throw validation error, as tenant-id is a
required parameter
2. 'cinder quota-defaults <TID>' will pass, and will list the quota defaults
3. 'cinder quota-defaults zz' will pass too.

The first problem with this is tenant ID is mandatory, even if one is viewing
his/her own quotas, a usability nightmare. The second problem is, quota
defaults are not really different for each tenant.

In it's current form, 'quota defaults' mean the default values
of quotas, which is _same_ for all tenants. The assigned and used quota
values for the current tenant should be viewed using 'quota-show' and
'quota-usage' command ( /v2/<TID>/os-quota-sets/<TID>?usage=False ) and
( /v2/<TID>/os-quota-sets/<TID>?usage=True ). Here, the second TID makes
sense.

After this change, the second <TID> is made not necessary. So the call
    /v2/<TID>/os-quota-sets/defaults
will succeed. Note that the current behavior is not removed for backwards
compatibility, but can be removed in a further release.

Next task would be to make suitable change in cinderclient

DocImpact: API behavior of GET quota defaults changed.
ApiImpact: API behavior of GET quota defaults changed.
Blueprint: quota-api-cli-default-tenant-improvements

Change-Id: I436e58d7059e0e7f749cb0e8165fa7e3bff2291e
Closes-Bug: #1307486
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/139610/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/quotas.py', 'etc/cinder/policy.json']",2,37ae77423827987b6628a84cab843f183d1079b9,bug/1307486," ""volume_extension:quotas:defaults"": """",",,5,2
openstack%2Fcinder~master~I53f243eb05d33c31c52bbc1c6dfef0d6150eb528,openstack/cinder,master,I53f243eb05d33c31c52bbc1c6dfef0d6150eb528,Cinder-manage service list shows happy for uninitialized driver,ABANDONED,2015-05-26 20:21:23.000000000,2015-08-16 08:27:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 13636}, {'_account_id': 13900}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 15374}, {'_account_id': 16160}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-05-26 20:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b108601e5d6d4af809b257df699d89f7891f5f30', 'message': 'Cinder-manage service list shows happy for uninitialized driver\n\nCinder-manage service list shows happy for uninitialized driver. In\ncinder-manage we only check for if the service is up or down before\ncomputing happy or sad response. In fact we should also check whether\na driver is intitialized and then decide whether to display happy or\nsad response.\n\nChange-Id: I53f243eb05d33c31c52bbc1c6dfef0d6150eb528\nCloses-Bug: #1446750\n'}, {'number': 2, 'created': '2015-05-26 21:20:30.000000000', 'files': ['cinder/volume/manager.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71a204d1aadf97d63da4fa0671639b855135d488', 'message': 'Cinder-manage service list shows happy for uninitialized driver\n\nCinder-manage service list shows happy for uninitialized driver. In\ncinder-manage we only check for if the service is up or down before\ncomputing happy or sad response. In fact we should also check whether\na driver is intitialized and then decide whether to display happy or\nsad response.\n\nChange-Id: I53f243eb05d33c31c52bbc1c6dfef0d6150eb528\nCloses-Bug: #1446750\n'}]",5,185730,71a204d1aadf97d63da4fa0671639b855135d488,33,21,2,10263,,,0,"Cinder-manage service list shows happy for uninitialized driver

Cinder-manage service list shows happy for uninitialized driver. In
cinder-manage we only check for if the service is up or down before
computing happy or sad response. In fact we should also check whether
a driver is intitialized and then decide whether to display happy or
sad response.

Change-Id: I53f243eb05d33c31c52bbc1c6dfef0d6150eb528
Closes-Bug: #1446750
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/185730/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/test_volume.py']",3,b108601e5d6d4af809b257df699d89f7891f5f30,bug/1446750, check_status = manager.init_host() self.assertTrue(check_status) check_status = manager.init_host() self.assertTrue(check_status), manager.init_host() manager.init_host(),8,5
openstack%2Fcinder~master~Ia8625c64655631a6d824f38b726ded7237e2eca9,openstack/cinder,master,Ia8625c64655631a6d824f38b726ded7237e2eca9,Add mysql_charset='utf8' to migration scripts 32 and 40,ABANDONED,2015-05-16 16:25:51.000000000,2015-08-16 08:26:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10068}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13636}, {'_account_id': 16269}, {'_account_id': 16383}]","[{'number': 1, 'created': '2015-05-16 16:25:51.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/032_add_volume_type_projects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/040_add_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4b8fe6830506712e1f25e798ba6314341c579bf', 'message': ""Add mysql_charset='utf8' to migration scripts 32 and 40\n\nThe db migration scripts 040_add_volume_attachment.py and\n032_add_volume_type_projects.py currently do not specify a mysql\ncharacter set. This is contrary to other scripts like\n017_add_encryption_information.py. Because they do not, mysql assumes\nthe default of latin1 incorrectly and will fail to create the foreign\nkeys in the create table commands as the current tables in cinder are\nusing utf8. This change adds the line mysql_charset='utf8' so that\nsqlalchemy sends the correct default character set and the table\ncreates.\n\nChange-Id: Ia8625c64655631a6d824f38b726ded7237e2eca9\nCloses-Bug: #1455726\n""}]",0,183814,b4b8fe6830506712e1f25e798ba6314341c579bf,30,19,1,16383,,,0,"Add mysql_charset='utf8' to migration scripts 32 and 40

The db migration scripts 040_add_volume_attachment.py and
032_add_volume_type_projects.py currently do not specify a mysql
character set. This is contrary to other scripts like
017_add_encryption_information.py. Because they do not, mysql assumes
the default of latin1 incorrectly and will fail to create the foreign
keys in the create table commands as the current tables in cinder are
using utf8. This change adds the line mysql_charset='utf8' so that
sqlalchemy sends the correct default character set and the table
creates.

Change-Id: Ia8625c64655631a6d824f38b726ded7237e2eca9
Closes-Bug: #1455726
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/183814/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/032_add_volume_type_projects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/040_add_volume_attachment.py']",2,b4b8fe6830506712e1f25e798ba6314341c579bf,bug/1455726," mysql_engine='InnoDB', mysql_charset='utf8'", mysql_engine='InnoDB',3,1
openstack%2Fcinder~master~I73398dc4810ce24b7c7affa9cc0e7f587355703e,openstack/cinder,master,I73398dc4810ce24b7c7affa9cc0e7f587355703e,DRBD for NOVA.,ABANDONED,2015-02-16 13:33:34.000000000,2015-08-16 08:25:44.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5203}, {'_account_id': 5997}, {'_account_id': 6984}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 14242}, {'_account_id': 14339}, {'_account_id': 14428}]","[{'number': 1, 'created': '2015-02-16 13:33:34.000000000', 'files': ['cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/driver.py', 'cinder/brick/initiator/connector.py', 'cinder/volume/targets/drbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/afaaaedd923042ea41c2766216ed071b08a2dd98', 'message': 'DRBD for NOVA.\n\nSee also the spec at https://review.openstack.org/#/c/134153/;\nNova changes are  at https://review.openstack.org/#/c/149244/.\n\nChange-Id: I73398dc4810ce24b7c7affa9cc0e7f587355703e\n'}]",12,156212,afaaaedd923042ea41c2766216ed071b08a2dd98,25,19,1,10677,,,0,"DRBD for NOVA.

See also the spec at https://review.openstack.org/#/c/134153/;
Nova changes are  at https://review.openstack.org/#/c/149244/.

Change-Id: I73398dc4810ce24b7c7affa9cc0e7f587355703e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/156212/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/driver.py', 'cinder/brick/initiator/connector.py', 'cinder/volume/targets/drbd.py']",4,afaaaedd923042ea41c2766216ed071b08a2dd98,bp/drbd-for-nova,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder.openstack.common import log as logging from cinder.volume.targets import driver LOG = logging.getLogger(__name__) class DRBDAdm(driver.Target): VERSION = '0.1' """"""Target driver for block storage devices, using the DRBD protocol."""""" def __init__(self, *args, **kwargs): super(DRBDAdm, self).__init__(*args, **kwargs) self.volumes_dir = self.configuration.safe_get('volumes_dir') self.protocol = 'DRBD' def initialize_connection(self, volume, connector): LOG.error(""volume %s connector %s"" % (vars(volume), connector)) # connector {'ip': '10.43.8.42', 'host': 'devstack-trusty-2', 'initiator': 'iqn.1993-08.org.debian:01:8355717e1829'} # where is that data from? return { 'driver_volume_type': 'drbd', 'data': { 'res': volume['provider_location'] + volume['provider_auth'], 'dev': 1, # need to parse device string again? duplicated in DRBDConnector.connect_volume()? }, } def create_export(self, context, volume, volume_path): LOG.error(""context %s volume %s path %s"" % (context, volume, volume_path)) pass # needs to use dbus to cause the client to be registered. # use volume driver for that? # or duplicate all the things, like # - get dbus # - config (drbdmanage instance), ... # - connection drop handling (dbus restart) # - another drbdmanage API user? 2 things to change. def ensure_export(self, context, volume, volume_path): pass def remove_export(self, context, volume): pass def terminate_connection(self, volume, connector, **kwargs): pass def validate_connector(self, connector): # TODO: needed for /opt/stack/cinder/cinder/volume/manager.py, in # initialize_connection(), self.driver.validate_connector(connector)? pass ",,234,1
openstack%2Fcinder~master~I7dff66223050d8909456d54f949b6fa5fd004816,openstack/cinder,master,I7dff66223050d8909456d54f949b6fa5fd004816,Make backup-list support all-tenants options,ABANDONED,2015-03-23 08:30:02.000000000,2015-08-16 08:25:14.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8202}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13101}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15556}]","[{'number': 1, 'created': '2015-03-23 08:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a7a2cb58a10f5cb0bc2050e73d99ab5ce01a693', 'message': ""Make backup-list support all-tenants options\n\nWhen admin execute the backup-list command, he is always\ngetting all tenants's backups. This is so only when the\nall-tenants option is used.\n\nChange-Id: I7dff66223050d8909456d54f949b6fa5fd004816\n""}, {'number': 2, 'created': '2015-03-23 08:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87f42b05a4dd8b2c004ad6b2c225bde7b4dc0959', 'message': ""Make backup-list support all-tenants options\n\nWhen admin execute the backup-list command, he is always\ngetting all tenants's backups. This is so only when the\nall-tenants option is used.\n\nClosed-Bug: #1422045\nChange-Id: I7dff66223050d8909456d54f949b6fa5fd004816\n""}, {'number': 3, 'created': '2015-03-24 13:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50ba84d81a3bde76dea7ef42b3b4d06c441660d8', 'message': ""Make backup-list support all-tenants options\n\nWhen admin execute the backup-list command, he is always\ngetting all tenants's backups. This is so only when the\nall-tenants option is used.\n\nClosed-Bug: #1422045\nChange-Id: I7dff66223050d8909456d54f949b6fa5fd004816\n""}, {'number': 4, 'created': '2015-03-26 06:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8377ba6f6635643c7ecdde768192f4ca4b98ef3', 'message': ""Make backup-list support all-tenants options\n\nWhen admin execute the backup-list command, he is always\ngetting all tenants's backups. This is so only when the\nall-tenants option is used.\n\nCloses-Bug: #1422045\nChange-Id: I7dff66223050d8909456d54f949b6fa5fd004816\n""}, {'number': 5, 'created': '2015-03-27 07:16:06.000000000', 'files': ['cinder/backup/api.py', 'cinder/tests/api/contrib/test_backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f69bb40e2ea3ba67bbb58d00ab3fab4aeb96203', 'message': ""Make backup-list support all-tenants options\n\nWhen admin execute the backup-list command, he is always\ngetting all tenants's backups. This is so only when the\nall-tenants option is used.\n\nCloses-Bug: #1422045\nChange-Id: I7dff66223050d8909456d54f949b6fa5fd004816\n""}]",8,166727,9f69bb40e2ea3ba67bbb58d00ab3fab4aeb96203,125,39,5,11676,,,0,"Make backup-list support all-tenants options

When admin execute the backup-list command, he is always
getting all tenants's backups. This is so only when the
all-tenants option is used.

Closes-Bug: #1422045
Change-Id: I7dff66223050d8909456d54f949b6fa5fd004816
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/166727/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/api.py'],1,1a7a2cb58a10f5cb0bc2050e73d99ab5ce01a693,bug/1422045,"import six def _get_all_tenants_value(self, filters): """"""Returns a Boolean for the value of filters['all_tenants']. False is returned if 'all_tenants' is not in the filters dictionary. An InvalidInput exception is thrown for invalid values. """""" b = False if 'all_tenants' in filters: val = six.text_type(filters['all_tenants']).lower() if val in ['true', '1']: b = True elif val in ['false', '0']: b = False else: msg = _('all_tenants param must be 0 or 1') raise exception.InvalidInput(reason=msg) return b allTenants = self._get_all_tenants_value(search_opts) if context.is_admin and allTenants: del search_opts['all_tenants']", if context.is_admin:,25,1
openstack%2Fcinder~master~If88a2db6b99dbc554fc964846b4ce478ab59fb78,openstack/cinder,master,If88a2db6b99dbc554fc964846b4ce478ab59fb78,Adapt volume manager to new driver structure,ABANDONED,2014-12-04 09:30:46.000000000,2015-08-16 08:23:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6094}, {'_account_id': 7872}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14305}, {'_account_id': 14619}, {'_account_id': 14907}, {'_account_id': 15090}, {'_account_id': 15249}, {'_account_id': 15556}, {'_account_id': 15882}]","[{'number': 1, 'created': '2014-12-04 09:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/216688c49516fe4062000036b38adf10ef0eaa61', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions a function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 2, 'created': '2015-02-10 07:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af2802120890d83ac36c9e702eede76e7489c9a0', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 3, 'created': '2015-02-13 08:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72283c35c04653a62148e56eb5b2532e98cf4425', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 4, 'created': '2015-02-16 11:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a338fc60abe66c3617108adace09df1dd1e0f2f', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 5, 'created': '2015-02-16 15:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b34114f187f29c3ac2ba3aa54a786f4b40c76232', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 6, 'created': '2015-02-17 15:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77a45f8cc7c5bae67a6abf72a7e2e4e862ad2aeb', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 7, 'created': '2015-03-02 11:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f35d17d60989d2bc061abe79e6df64c67141192', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 8, 'created': '2015-03-03 17:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/253e376f7664ad9ffdfc53e21f7dbcc1f564c2d2', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}, {'number': 9, 'created': '2015-03-04 07:49:18.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c430ec596ac296051281866f2803ed1ebbbbaa9b', 'message': 'Adapt volume manager to new driver structure\n\nThe driver feature set is now visible to the manager. Instead\nof catching exceptions the function execution can be directly\nstopped if a feature is not implemented by the driver.\n\nIntroducing a function decorator to mark the need for a\nparticular feature set. This mechanism can be enhanced later\non.\n\nChange-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78\nImplements: blueprint abc-volume-drivers\n'}]",11,138999,c430ec596ac296051281866f2803ed1ebbbbaa9b,198,42,9,7872,,,0,"Adapt volume manager to new driver structure

The driver feature set is now visible to the manager. Instead
of catching exceptions the function execution can be directly
stopped if a feature is not implemented by the driver.

Introducing a function decorator to mark the need for a
particular feature set. This mechanism can be enhanced later
on.

Change-Id: If88a2db6b99dbc554fc964846b4ce478ab59fb78
Implements: blueprint abc-volume-drivers
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/138999/7 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,216688c49516fe4062000036b38adf10ef0eaa61,bp/abc-volume-drivers,"from functools import wrapsfrom cinder.volume import driverclass need_feature_set(object): """""" Decorator to flag the demand of a feature set for a function """""" def __init__(self, feature_class, no_error=False): self.feature_class = feature_class self.no_error = no_error def __call__(self, f): @wraps(f) def wrapped_f(fself, *args, **kwargs): if isinstance(fself.driver, self.feature_class): f(fself, *args, **kwargs) elif (self.no_error): LOG.info(""Function call skipped because driver %s"" "" doesn't support feature set %s"" % (fself.driver, self.feature_class.__name__)) return None else: msg = ""Driver %s doesn't support feature set %s"" \ % (fself.driver, self.feature_class.__name__) raise NotImplementedError(msg) return wrapped_f if (not force_host_copy and new_type_id is None and isinstance(self.driver, driver.MigrateVD)): @need_feature_set(driver.ConsistencyGroupVD) @need_feature_set(driver.ConsistencyGroupVD) @need_feature_set(driver.ExtendVD) @need_feature_set(driver.RetypeVD) @need_feature_set(driver.ManageableVD) @need_feature_set(driver.ReplicaVD, no_error=True) @need_feature_set(driver.ConsistencyGroupVD) @need_feature_set(driver.ConsistencyGroupVD) @need_feature_set(driver.ConsistencyGroupVD) @need_feature_set(driver.ConsistencyGroupVD)", if not force_host_copy and new_type_id is None:,39,1
openstack%2Fcinder~master~I6ec70a654025c965e5592875962663198e62de56,openstack/cinder,master,I6ec70a654025c965e5592875962663198e62de56,Add missing qos_specs_id to volume type show,ABANDONED,2015-03-31 03:31:51.000000000,2015-08-16 08:22:11.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4428}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12780}, {'_account_id': 13101}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-31 03:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3caa8911a2bae0ce968ccfe1eda85f508b94121', 'message': 'Add missing qos_specs_id to volume type show\n\nqos_specs_id is not returned for volume type show [1], we should add\nthis to make it convenience to get qos specs associated to the volume\ntype.\n\n[1]: http://developer.openstack.org/api-ref-blockstorage-v2.html\n\nChange-Id: I6ec70a654025c965e5592875962663198e62de56\nCloses-bug: #1438488\n'}, {'number': 2, 'created': '2015-03-31 04:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68146791a603a08386673424d1a7f21b1d4370c6', 'message': 'Add missing qos_specs_id to volume type show\n\nqos_specs_id is not returned for volume type show [1], we should add\nthis to make it convenience to get qos specs associated to the volume\ntype.\n\n[1]: http://developer.openstack.org/api-ref-blockstorage-v2.html\n\nChange-Id: I6ec70a654025c965e5592875962663198e62de56\nCloses-bug: #1438488\n'}, {'number': 3, 'created': '2015-03-31 04:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05438bceb5c76c4442ad360ba6b3d43b86724856', 'message': 'Add missing qos_specs_id to volume type show\n\nqos_specs_id is not returned for volume type show, we should add\nthis to make it convenience to get qos specs associated to the volume\ntype. This patch adds the missing qos_specs_id to v2 volume type show.\n\nChange-Id: I6ec70a654025c965e5592875962663198e62de56\nCloses-bug: #1438488\n'}, {'number': 4, 'created': '2015-04-01 00:36:12.000000000', 'files': ['cinder/api/views/types.py', 'cinder/tests/api/v2/test_types.py', 'cinder/api/v2/types.py', 'cinder/tests/api/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e97d9266efbc631816f3cfeeaf3fe9668f00af83', 'message': 'Add missing qos_specs_id to volume type show\n\nqos_specs_id is not returned for volume type show, we should add\nthis to make it convenience to get qos specs associated to the volume\ntype. This patch adds the missing qos_specs_id to v2 volume type show.\n\nChange-Id: I6ec70a654025c965e5592875962663198e62de56\nCloses-bug: #1438488\n'}]",2,169153,e97d9266efbc631816f3cfeeaf3fe9668f00af83,74,30,4,4428,,,0,"Add missing qos_specs_id to volume type show

qos_specs_id is not returned for volume type show, we should add
this to make it convenience to get qos specs associated to the volume
type. This patch adds the missing qos_specs_id to v2 volume type show.

Change-Id: I6ec70a654025c965e5592875962663198e62de56
Closes-bug: #1438488
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/169153/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v1/types.py', 'cinder/api/views/types.py', 'cinder/tests/api/v2/test_types.py', 'cinder/api/v2/types.py', 'cinder/tests/api/v1/test_types.py']",5,f3caa8911a2bae0ce968ccfe1eda85f508b94121,add-missing-qos_specs_id," qos_specs_id='fake_id', qos_specs_id='fake_id',",,7,0
openstack%2Fcinder~master~I1aaaad5fb713434c47abfd9d33932f06f8f3202b,openstack/cinder,master,I1aaaad5fb713434c47abfd9d33932f06f8f3202b,Attach/detach batch processing in VNX driver,ABANDONED,2015-02-10 06:19:10.000000000,2015-08-16 08:20:45.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 177}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 9924}, {'_account_id': 9988}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-02-10 06:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9244ba046b6e3371fe2c8f4de0eca8a62172a14c', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 2, 'created': '2015-02-10 06:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1837bcb5f89a0d058758fa2630ca0c72d8804f10', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 3, 'created': '2015-02-12 05:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0fbb024c82e603a6de179b2111bd2d831722b595', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 4, 'created': '2015-02-17 03:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21cb7cbb87d706e37c1974d1807210a776adfc47', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 5, 'created': '2015-02-17 05:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b646bc7414eaaa3ecb255b92dd74ab4e4800c5cb', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 6, 'created': '2015-02-18 13:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5aecb59de4d5a50f1a81486a33933c9f23280b3d', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 7, 'created': '2015-02-18 13:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54964ff90c125348ab55cb703e352dfe8823a551', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 8, 'created': '2015-02-19 03:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35ad437aaa4fb482cf311cd5ac8a4645d6c99be1', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 9, 'created': '2015-02-27 02:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/652e5cd08489141f5b699a7fba2bbf39aafc9642', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 10, 'created': '2015-03-09 08:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b2a436c2028f5781285ae581dbd185818bfac0d', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 11, 'created': '2015-03-11 09:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f23e53881fe347748a1a36cecc4ec7cdb48b594a', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 12, 'created': '2015-03-12 07:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce953f0776c3f792a25c5d5a2bc4f2d36227696d', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 13, 'created': '2015-03-13 02:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55796f2cc531c7a2459550319ab273e25d0c0eb1', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 14, 'created': '2015-03-14 03:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb51cc76a28483ba05452d76bd33f38cc73dec8f', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serve them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 15, 'created': '2015-03-16 03:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/999be048b429088f01bb4d14e6a2efbdbb7204d0', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 16, 'created': '2015-03-16 08:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edf6b6fc7b02e66e2acea37d2f1001bac9fb7259', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 17, 'created': '2015-03-19 13:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca2b84bd28325bf2f18f45eb389aacc7ae71348d', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 18, 'created': '2015-04-01 10:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b03c3a4de43e5dfed8c76f930faff063859a0a60', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 19, 'created': '2015-04-07 10:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f92bde3917f68b993f16daeb007f0182ec20e3d2', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 20, 'created': '2015-04-16 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21c6447a0b082a30aeb51299e939284f38d98f0b', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 21, 'created': '2015-04-17 08:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/208837df2a3e407a02b98f42247e3dff227c4083', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}, {'number': 22, 'created': '2015-04-23 08:20:11.000000000', 'files': ['cinder/tests/unit/test_emc_vnxdirect.py', 'cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py', 'cinder/volume/drivers/emc/queueworker.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d4bc9ddbc12258093a0e4e7936938b0f8ca3136', 'message': 'Attach/detach batch processing in VNX driver\n\nThis change aims to improve the performance of VNX driver\nwhen there is plenty of volume attachment/detachment requests\nissued concurrently.\nIn order to reduce the command calls, VNX driver accumulates\nthe attachment/detachment requests and processes add/remove\nLUN to/from storagegroup in batch periodically.\nThis function is disabled in driver by default. An option could\nbe used to define the interval in seconds for the driver to\naccumulate the requests before serving them in batch.\n\nChange-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b\nCloses-Bug: 1420086\n'}]",104,154350,3d4bc9ddbc12258093a0e4e7936938b0f8ca3136,463,49,22,9988,,,0,"Attach/detach batch processing in VNX driver

This change aims to improve the performance of VNX driver
when there is plenty of volume attachment/detachment requests
issued concurrently.
In order to reduce the command calls, VNX driver accumulates
the attachment/detachment requests and processes add/remove
LUN to/from storagegroup in batch periodically.
This function is disabled in driver by default. An option could
be used to define the interval in seconds for the driver to
accumulate the requests before serving them in batch.

Change-Id: I1aaaad5fb713434c47abfd9d33932f06f8f3202b
Closes-Bug: 1420086
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/154350/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_emc_vnxdirect.py', 'cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py', 'cinder/volume/drivers/emc/queueworker.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py']",5,9244ba046b6e3371fe2c8f4de0eca8a62172a14c,bug/1420086,"from cinder.volume.drivers.emc import queueworkerBATCH_CHECK_INTERVAL = 5 cfg.IntOpt('attach_detach_batch_interval', default=-1, help='Interval by seconds for batch processing of volume ' 'attaching and detaching. Setting it to -1 will disable' 'the batch processing. By default, the value is -1'),class AddHluStatus(queueworker.Status): NO_HLU_LEFT = -2 class RemoveHluStatus(queueworker.Status): HLU_NOT_IN_SG = -2 def add_hlus_to_storage_group(self, hlulist, alulist, sg_name): hlusstr = "","".join(map(lambda a: str(a), hlulist)) alusstr = "","".join(map(lambda a: str(a), alulist)) command_add_hlu = ('storagegroup', '-addhlu', '-gname', sg_name, '-hlus', hlusstr, '-alus', alusstr, '-verboseStatus', '-o') out, rc = self.command_execute(*command_add_hlu, poll=False, retry_disable=True) added_alus_pattern = 'LUs Added:\s*([0-9,]*).' searchout = re.search(added_alus_pattern, out) if searchout is not None: added_alus_str = searchout.group(1).strip() if len(added_alus_str) != 0: added_alus = map(lambda item: int(item), added_alus_str.split("","")) else: added_alus = [] else: added_alus = [] added_alus = set(added_alus) not_added_alus = set(alulist) - added_alus return added_alus, not_added_alus def remove_hlus_from_storage_group(self, hlus, sg_name): hlusstr = "","".join(map(lambda a: str(a), hlus)) command_remove_hlu = ('storagegroup', '-removehlu', '-gname', sg_name, '-hlus', hlusstr, '-verboseStatus', '-o') out, rc = self.command_execute(*command_remove_hlu, poll=False, retry_disable=True) removed_alus_pattern = 'LUs Removed:\s*([0-9,]*).' searchout = re.search(removed_alus_pattern, out) if searchout is not None: removed_alus_str = searchout.group(1).strip() if len(removed_alus_str) != 0: removed_hlus = map(lambda item: int(item), removed_alus_str.split("","")) else: removed_hlus = [] else: removed_hlus = [] removed_hlus = set(removed_hlus) not_removed_hlus = set(hlus) - removed_hlus return removed_hlus, not_removed_hlus def get_status_up_ports(self, storage_group_name, poll=True, sgdata=None): """"""Function to get ports whose status are up. sgdata should be the raw output of storagegroup list query """""" if not sgdata: cmd_get_hba = ('storagegroup', '-list', '-gname', storage_group_name) out, rc = self.command_execute(*cmd_get_hba, poll=poll) if rc == 83: LOG.warning(_LW(""Storage Group %s is not found.""), storage_group_name) return [] elif rc != 0: self._raise_cli_error(cmd_get_hba, rc, out) sgdata = out _re_hba_sp_pair = re.compile('((\w\w:){15}(\w\w)\s*' + '(SP\s[A-B]){1}\s*(\d*)\s*\n)') _all_hba_sp_pairs = re.findall(_re_hba_sp_pair, sgdata) sps = [each[3] for each in _all_hba_sp_pairs] portid = [each[4] for each in _all_hba_sp_pairs] cmd_get_port = ('port', '-list', '-sp') out, rc = self.command_execute(*cmd_get_port, poll=poll) if 0 != rc: self._raise_cli_error(cmd_get_port, rc, out) for i, sp in enumerate(sps): wwn = self.get_port_wwn(sp, portid[i], out) if (wwn is not None) and (wwn not in wwns): LOG.debug('Add wwn:%(wwn)s for sg:%(sg)s.', {'wwn': wwn, 'sg': storage_group_name}) wwns.append(wwn) VERSION = '05.01.00' self.attach_detach_batch_interval = ( self.configuration.attach_detach_batch_interval) if self.attach_detach_batch_interval < 0: self.do_initialize_connection = self._do_initialize_connection self.do_terminate_connection = self._do_terminate_connection self.hlu_cache = {} else: self.do_initialize_connection = ( self._do_initialize_connection_in_batch) self.do_terminate_connection = ( self._do_terminate_connection_in_batch) self.addhlu_workers = {} def _prepare_storage_group(self, connector, poll_on_first_query=True): poll=poll_on_first_query) # Storage Group has not existed yet self._client.connect_host_to_storage_group(hostname, hostname) new_registerred = self.auto_register_initiator(connector, sgdata) return sgdata def assure_host_access(self, volume, connector): sgdata = self._prepare_storage_group(connector, poll_on_first_query=False) hostname = connector['host'] volumename = volume['name'] except EMCVnxCLICmdError: connector) (device_number, sg_data) = self.do_initialize_connection(volume, connector) @log_enter_exit def _do_initialize_connection(self, volume, connector): """"""Initializes the connection and returns connection info."""""" @lockutils.synchronized('emc-connection-' + connector['host'] + self.get_array_serial(), def inner_with_lock(): return self.assure_host_access( volume, connector) return inner_with_lock() @log_enter_exit def _do_initialize_connection_in_batch(self, volume, connector): hostname = connector['host'] alu = self.get_lun_id(volume) order = Order(alu, True) worker = self.get_batch_worker(connector) worker.submit(order) while (order.status == AddHluStatus.NEW): LOG.debug(""Add HLU order for volume %s is in "" ""waiting status."" % volume['name']) eventlet.sleep(BATCH_CHECK_INTERVAL) LOG.debug(""An add HLU order for %s is processed."", volume['name']) if order.status == AddHluStatus.OK: return order.hlu, order.payload elif order.status == AddHluStatus.NO_HLU_LEFT: msg = (_LE('Reach limitation set by configuration ' 'option max_luns_per_storage_group. ' 'Operation to add %(vol)s into ' 'Storage Group %(sg)s is rejected.') % {'vol': volume['name'], 'sg': hostname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) elif order.status == AddHluStatus.ABANDON: msg = (_LE(""Didn't add %(vol)s into %(sg)s because there is "" ""new request to remove %(vol)s from %(sg)s."") % {'vol': volume['name'], 'sg': hostname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: msg = (_LE(""Failed to add %(vol)s into %(sg)s."") % {'vol': volume['name'], 'sg': hostname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def terminate_connection(self, volume, connector): fc_itor_tgt_map = self.do_terminate_connection(volume, connector) if self.protocol == 'FC': conn_info = {'driver_volume_type': 'fibre_channel', 'data': {}} if fc_itor_tgt_map: conn_info['data']['initiator_target_map'] = fc_itor_tgt_map return conn_info else: return @log_enter_exit def _do_terminate_connection(self, volume, connector): """"""Disallow connection from connector. Return the initiator target map if the fc zone need to be removed """""" @lockutils.synchronized('emc-connection-' + connector['host'] + self.get_array_serial(), True) def inner_with_lock(): fc_initiator_target_map = None connector) fc_initiator_target_map = itor_tgt_map ""back to storage group %(sg)s""), return fc_initiator_target_map return inner_with_lock() @log_enter_exit def _do_terminate_connection_in_batch(self, volume, connector): """"""Disallow connection from connector in batch. Return the initiator target map if the fc zone need to be removed """""" hostname = connector['host'] alu = self.get_lun_id(volume) worker = self.get_batch_worker(connector) order = Order(alu, False) worker.submit(order) while (order.status == RemoveHluStatus.NEW): LOG.debug(""Remove HLU order for volume %s is in "" ""waiting status."" % volume['name']) eventlet.sleep(BATCH_CHECK_INTERVAL) LOG.debug(""Remove HLU order for %s is processed."", volume['name']) if order.status == RemoveHluStatus.OK: return order.payload elif (order.status == RemoveHluStatus.HLU_NOT_IN_SG): LOG.debug(""Volume %(volname)s is not in storagegroup"" "" %(sgname)s."" % {'volname': volume['name'], 'sgname': hostname}) return order.payload elif order.status == RemoveHluStatus.ABANDON: msg = (_LE(""Didn't remove %(vol)s from %(sg)s because there is "" ""new request to add %(vol)s into %(sg)s."") % {'vol': volume['name'], 'sg': hostname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: msg = (_LE(""Failed to remove %(vol)s from %(sg)s."") % {'vol': volume['name'], 'sg': hostname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def get_batch_worker(self, connector): hostname = connector['host'] @lockutils.synchronized('emc-get-batch-worker' + hostname, 'emc-get-batch-worker', False) def inner_with_lock(): if hostname not in self.addhlu_workers: self.addhlu_workers[hostname] = BatchAttachDetachBatchWorker( self, connector, self.attach_detach_batch_interval) return self.addhlu_workers[hostname] return inner_with_lock() def get_status_up_ports(self, connector, poll=True, sgdata=None): return self._client.get_status_up_ports(connector['host'], poll=poll, sgdata=sgdata) def get_initiator_target_map(self, connector, poll=True, sgdata=None): if not self.zonemanager_lookup_service: # if fc auto zoning is not enalbed return [], {} else: target_wwns = [] itor_tgt_map = {} fc_initiators = connector['wwpns'] fc_targets = self.get_status_up_ports(connector, poll, sgdata) class BatchAttachDetachBatchWorker(queueworker.BatchWorkerBase): """"""This worker processes the Attach Detach orders in batch."""""" def __init__(self, clihelper, connector, sleep_interval=10): super(BatchAttachDetachBatchWorker, self).__init__(sleep_interval) self.cli = clihelper self.connector = connector self.has_add_order = False self.sgdata = None self.is_fc_auto_zone = ( self.cli.protocol == 'FC' and self.cli.zonemanager_lookup_service is not None) self.array_serial = self.cli.get_array_serial() def execute(self, orders): try: self._execute(orders) except Exception as ex: msg = _LE(""Attach/Detach Volume in batch error. %s"") % ex LOG.error(msg) for order in orders: if not order.processed: order.update_status(queueworker.Status.FAILURE, msg=msg) return @log_enter_exit def _execute(self, orders): LOG.debug(""Get %(lens)s orders for %(sg)s"", {'lens': len(orders), 'sg': self.connector['host']}) add_ordermap, remove_ordermap = self._triage_orders(orders) connector = self.connector if add_ordermap: # As long as there is add order we can predict that the # Storagegroup will not be empty after this run self.has_add_order = True sgdata = self.cli._prepare_storage_group(connector) else: # If there there is no add order, then we do not need to ensure the # existance of SG self.has_add_order = False try: sgdata = self.cli._client.get_storage_group(connector['host']) except EMCVnxCLICmdError as ex: with excutils.save_and_reraise_exception( reraise= (ex.kwargs[""rc""] != 83)): if ex.kwargs[""rc""] == 83: LOG.warning(_LW(""Storage Group %s is not found. "" ""terminate_connection() is "" ""unnecessary.""), connector['host']) for alu in remove_ordermap: LOG.debug(""LUN %s is not in the storage "" ""group."", alu) for order in orders: order.update_status( RemoveHluStatus.HLU_NOT_IN_SG, msg='Storage Group is not found') if add_ordermap: self._process_add_orders(add_ordermap, sgdata) if remove_ordermap: representative_remove_order = self._process_remove_orders( remove_ordermap, sgdata) if (self._need_special_handling_when_sg_is_empty() and not add_ordermap): # Predict that if there is add order to be processed # then the storage group will not be empty self._process_when_sg_is_empty(sgdata, connector, representative_remove_order) def _triage_orders(self, orders): """"""Merge the duplucated orders and remove the abandoned orders. :RETURN: (Effective add order map, effective remove order map). These 2 map use alu as the key, and use the corresponding orders list as the value """""" add_ordermap = {} remove_ordermap = {} for order in orders: alu = order.alu if order.is_add_order: if alu in remove_ordermap: LOG.debug(""There is different order type for alu %s, "" ""the orders in old type will be abandon."", alu) for item in remove_ordermap[alu]: item.update_status(queueworker.Status.ABANDON) del remove_ordermap[alu] add_ordermap.setdefault(alu, []).append(order) else: if alu in add_ordermap: LOG.debug(""There is different order type for alu %s, "" ""the orders in old type will be abandon."", alu) for item in add_ordermap[alu]: item.update_status(queueworker.Status.ABANDON) del add_ordermap[alu] remove_ordermap.setdefault(alu, []).append(order) return add_ordermap, remove_ordermap def _process_add_orders(self, ordermap, sgdata): """"""Processes remove orders."""""" addalus = [] addhlus = [] add_ordermap = {} lunmap = sgdata['lunmap'] used_hlus = lunmap.values() candidate_hlus = list(self.cli.filter_available_hlu_set(used_hlus)) random.shuffle(candidate_hlus) for alu in ordermap: orders = ordermap[alu] if alu in lunmap: LOG.debug(""LUN %(alu)s is already in storage group %(sg)s."", {'alu': alu, 'sg': self.connector['host']}) for order in orders: order.update_status(AddHluStatus.OK, hlu=lunmap[alu], payload=sgdata) elif candidate_hlus: addalus.append(alu) hlu = candidate_hlus.pop() addhlus.append(hlu) add_ordermap[alu] = {'orders': orders, 'hlu': hlu} else: # No hlu left for order in orders: order.update_status(AddHluStatus.NO_HLU_LEFT) self._execute_addhlu(addalus, addhlus, add_ordermap, sgdata) def _execute_addhlu(self, alus, hlus, alu_ordermap, sgdata): if len(alus) == 0: LOG.debug(""No add order need to be handled."") return # If special handling when SG is empty is required, # Add alu need to wait for connection lock in case # LUN is added into SG during the SG empty handling (succeed_set, failed_set) = self._add_hlus_to_storagegroup( hlus, alus, self._need_special_handling_when_sg_is_empty()) for alu in succeed_set: map_item = alu_ordermap.pop(alu) for order in map_item['orders']: order.update_status(AddHluStatus.OK, hlu=map_item['hlu'], payload=sgdata) for alu in failed_set: map_item = alu_ordermap.pop(alu) for order in map_item['orders']: if order.tried + 1 >= self.cli.max_retries: # Excced Max Retry, mark status to Failure order.update_status(AddHluStatus.FAILURE) else: order.tried = order.tried + 1 self.submit(order) def _process_remove_orders(self, ordermap, sgdata): """"""Processes remove orders. If fc auto zoning is enabled, the status of one of successfully processed order(remove hlus is executed) will not be updated and it will be returned to the caller directly. :RETURN: Order that is handled without status updates """""" removehlus = [] remove_ordermap = {} lunmap = sgdata['lunmap'] for alu in ordermap: orders = ordermap[alu] if alu not in lunmap: LOG.debug(""LUN %(alu)s is not in the storage group %(sg)s."", {'alu': alu, 'sg': self.connector['host']}) for order in orders: order.update_status(RemoveHluStatus.HLU_NOT_IN_SG) else: hlu = lunmap[alu] removehlus.append(hlu) remove_ordermap[hlu] = {'orders': orders} return self._execute_removehlu(removehlus, remove_ordermap, sgdata) def _execute_removehlu(self, hlus, hlu_ordermap, sgdata): """"""Removes hlus in batch. If fc auto zoning is enabled, the status of one successfully handled order will not be changed and returned directly. """""" if len(hlus) == 0: return (succeed_set, failed_set) = ( self.cli._client.remove_hlus_from_storage_group( hlus, self.connector['host'])) for hlu in failed_set: map_item = hlu_ordermap.pop(hlu) for order in map_item['orders']: if order.tried + 1 >= 2: # Mark status to Failure in retry order.update_status(RemoveHluStatus.FAILURE) else: # Resubmit the order because we are didn't using pool # in hlu removal. The LUN maybe already removed order.tried = order.tried + 1 self.submit(order) if succeed_set: succeed_list = list(succeed_set) representative_order = None if self.is_fc_auto_zone and not self.has_add_order: # We have to add the zoning information in payload of # one order when storage becomes empty, so leave one # order without updating status. onehlu = succeed_list[len(succeed_list) - 1] representative_order = hlu_ordermap[onehlu]['orders'].pop() for hlu in succeed_list: map_item = hlu_ordermap.pop(hlu) for order in map_item['orders']: order.update_status(RemoveHluStatus.OK) return representative_order return None def _process_when_sg_is_empty(self, sgdata, connector, order=None): """"""Removes Storage group and builds zone mapping when necessary. When storage group becomes to be empty, this method will removes storage group if auto remove storage group is enalbed, and builds zone mapping information if FC auto zoning is enalbed. The zone mapping information will be stored in order.payload. """""" host = connector['host'] @lockutils.synchronized('emc-connection-' + host + self.cli.get_array_serial(), 'emc-connection-', True) def inner_with_lock(): try: storage_group = self.cli._client.get_storage_group(host) except EMCVnxCLICmdError as ex: if ex.kwargs[""rc""] == 83: LOG.debug(""Storage Group %s is not found. "", host) if order: order.update_status(RemoveHluStatus.OK) else: LOG.warning(_LW('Error happens on querying Storage group ' '%(sg)s after removing LUN %(alu)s from ' 'it. Please check the status of the ' 'Storage group on VNX.'), {'sg': host, 'alu': order.alu}) if order: order.update_status(RemoveHluStatus.OK) lun_map = storage_group['lunmap'] if lun_map: # SG is not empty, just mask the order as OK if order: order.update_status(RemoveHluStatus.OK) else: if order: # SG is empty, build initiator map for Zoning removal target_wwns, itor_tgt_map = ( self.cli.get_initiator_target_map( connector, False, storage_group['raw_output'])) order.update_status(RemoveHluStatus.OK, payload=itor_tgt_map) if self.cli.destroy_empty_sg: try: LOG.info(_LI('Storage Group %s was empty.'), host) self.cli._client.disconnect_host_from_storage_group( host, host) self.cli._client.delete_storage_group(host) if self.cli.itor_auto_dereg: self.cli._deregister_initiators(connector) except Exception: LOG.warning(_LW('Failed to destroy Storage Group %s.'), host) try: self.cli._client.connect_host_to_storage_group( host, host) except Exception: LOG.warning(_LW('Failed to connect host back to ' 'storage group %s.'), host) inner_with_lock() def submit(self, order): """"""Adds a order into execution queue."""""" order.prepare_submit() super(BatchAttachDetachBatchWorker, self).submit(order) def _need_special_handling_when_sg_is_empty(self): return (self.is_fc_auto_zone or self.cli.destroy_empty_sg) def _add_hlus_to_storagegroup(self, hlus, alus, need_lock=False): hostname = self.connector['host'] if not need_lock: return self.cli._client.add_hlus_to_storage_group( hlus, alus, hostname) else: @lockutils.synchronized('emc-connection-' + hostname + self.array_serial, 'emc-connection-', True) def inner_with_lock(): return self.cli._client.add_hlus_to_storage_group( hlus, alus, hostname) return inner_with_lock() class Order(object): """"""Represents a Batch Attach or Detach Order."""""" TYPE_ADD = 0 TYPE_REMOVE = 1 def __init__(self, alu, is_add): """"""Generates a Batch Order, either Add order Remove order."""""" self.alu = alu self.type = Order.TYPE_ADD if is_add else Order.TYPE_REMOVE self.is_add_order = is_add self.status = RemoveHluStatus.NEW self.tried = 0 self.hlu = None self.msg = '' self.payload = None self.processed = False def update_status(self, newstatus, hlu=None, msg='', payload=None): self.tried += 1 self.processed = True self.msg = msg self.payload = payload self.hlu = hlu # Note: self.status should be the last member variable to be udpated. self.status = newstatus def prepare_submit(self): """"""Prepares the order for resubmission."""""" self.processed = False def __str__(self): return "","".join([""%(key)s: %(value)s"" % {'key': property, 'value': value} for property, value in vars(self).iteritems()])"," """"""Adds a lun into storage group as specified hlu number. Return True if the hlu is as specified, otherwise False. """""" def get_status_up_ports(self, storage_group_name, poll=True): """"""Function to get ports whose status are up."""""" cmd_get_hba = ('storagegroup', '-list', '-gname', storage_group_name) out, rc = self.command_execute(*cmd_get_hba, poll=poll) if 0 == rc: _re_hba_sp_pair = re.compile('((\w\w:){15}(\w\w)\s*' + '(SP\s[A-B]){1}\s*(\d*)\s*\n)') _all_hba_sp_pairs = re.findall(_re_hba_sp_pair, out) sps = [each[3] for each in _all_hba_sp_pairs] portid = [each[4] for each in _all_hba_sp_pairs] cmd_get_port = ('port', '-list', '-sp') out, rc = self.command_execute(*cmd_get_port) if 0 != rc: self._raise_cli_error(cmd_get_port, rc, out) for i, sp in enumerate(sps): wwn = self.get_port_wwn(sp, portid[i], out) if (wwn is not None) and (wwn not in wwns): LOG.debug('Add wwn:%(wwn)s for sg:%(sg)s.', {'wwn': wwn, 'sg': storage_group_name}) wwns.append(wwn) elif 83 == rc: LOG.warning(_LW(""Storage Group %s is not found.""), storage_group_name) else: self._raise_cli_error(cmd_get_hba, rc, out) VERSION = '05.00.00' self.hlu_cache = {} def assure_host_access(self, volume, connector): volumename = volume['name'] poll=False) # Storage Group has not existed yet self._client.connect_host_to_storage_group(hostname, hostname) new_registerred = self.auto_register_initiator(connector, sgdata) except EMCVnxCLICmdError as ex: connector['wwpns'], self.get_status_up_ports(connector)) """"""Initializes the connection and returns connection info."""""" @lockutils.synchronized('emc-connection-' + connector['host'], ""emc-connection-"", True) def do_initialize_connection(): return self.assure_host_access( volume, connector) (device_number, sg_data) = do_initialize_connection() (device_number, sg_data) = do_initialize_connection() def terminate_connection(self, volume, connector): """"""Disallow connection from connector."""""" @lockutils.synchronized('emc-connection-' + connector['host'], def do_terminate_connection(): conn_info = None conn_info = {'driver_volume_type': 'fibre_channel', 'data': {}} connector['wwpns'], self.get_status_up_ports(connector)) conn_info['data']['initiator_target_map'] = itor_tgt_map ""back to storage group %(sg)s.""), return conn_info return do_terminate_connection() def get_status_up_ports(self, connector): return self._client.get_status_up_ports(connector['host']) def get_initiator_target_map(self, fc_initiators, fc_targets): target_wwns = [] itor_tgt_map = {} if self.zonemanager_lookup_service:",1779,71
openstack%2Fcinder~master~I0ee028a86b4e7f905ed774641209aa39de38fe0e,openstack/cinder,master,I0ee028a86b4e7f905ed774641209aa39de38fe0e,Do 'detach' if a timeout happened in the process of attach_volume,ABANDONED,2015-03-24 11:48:53.000000000,2015-08-16 08:20:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 8202}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13167}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14021}, {'_account_id': 14206}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15100}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15556}, {'_account_id': 15764}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-03-24 11:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59297894396754a22bcb9cfe058247d4124735a5', 'message': ""Do 'detach' if a timeout happened in the process of attach_volume\n\nThere are problems are caused by the mismatching DB between BDM and\nvolumes because cinder volume does not rollback the volume's information\nwhen a timoeut happend the rpc call.\n\nThis patch fixes this problem by running the detach to prevent\ninconsistencies in the volume's information when detecting a timeout\nin the cinder volume.\n\nChange-Id: I0ee028a86b4e7f905ed774641209aa39de38fe0e\nCloses-Bug: #1432963\n""}, {'number': 2, 'created': '2015-03-31 07:39:08.000000000', 'files': ['cinder/volume/manager.py', 'cinder/exception.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9043a351f2b5f539da8661a1bfdd3f754dd99d04', 'message': ""Do 'detach' if a timeout happened in the process of attach_volume\n\nThere are problems caused by the mismatching DB between BDM and\nvolumes because cinder volume does not rollback the volume's information\nwhen a timeout happens in the rpc call.\n\nThis patch fixes this problem by running the detach to prevent\ninconsistencies in the volume's information when detecting a timeout\nin the cinder volume.\n\nDocImpact: Adds a new configuration variable(volume_attach_timeout)\n\nChange-Id: I0ee028a86b4e7f905ed774641209aa39de38fe0e\nCloses-Bug: #1432963\n""}]",15,167185,9043a351f2b5f539da8661a1bfdd3f754dd99d04,69,41,2,14021,,,0,"Do 'detach' if a timeout happened in the process of attach_volume

There are problems caused by the mismatching DB between BDM and
volumes because cinder volume does not rollback the volume's information
when a timeout happens in the rpc call.

This patch fixes this problem by running the detach to prevent
inconsistencies in the volume's information when detecting a timeout
in the cinder volume.

DocImpact: Adds a new configuration variable(volume_attach_timeout)

Change-Id: I0ee028a86b4e7f905ed774641209aa39de38fe0e
Closes-Bug: #1432963
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/167185/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/test_volume.py']",2,59297894396754a22bcb9cfe058247d4124735a5,bug/1432963,"import contextlib @mock.patch('oslo_utils.excutils.save_and_reraise_exception') def test_attach_volume_failed_by_timeout(self, mock_save_and_reraise_exception): mount_point = 'dev/vdb' instance_uuid = '12341234-1234-1234-1234-123412341234' volume = tests_utils.create_volume(self.context, **self.volume_params) volume_id = volume['id'] self.volume.create_volume(self.context, volume_id) with contextlib.nested( mock.patch.object(eventlet.timeout.Timeout, '__init__', side_effect=exception.CinderException), mock.patch.object(self.volume, 'detach_volume') ) as (mock_attach_volume, mock_detach_volume): self.volume.attach_volume(self.context, volume_id, instance_uuid, None, mount_point, 'rw') mock_detach_volume.assert_called_once_with(self.context, volume_id) ",,42,11
openstack%2Fcinder~master~I26e159b425f2aec410657c9d27df69d181cfcfe8,openstack/cinder,master,I26e159b425f2aec410657c9d27df69d181cfcfe8,Serialize data passed to scheduler workflow,ABANDONED,2015-02-02 17:28:39.000000000,2015-08-16 08:19:22.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-02-02 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dabf766a966e880cee1c93da610393cf061ce74d', 'message': 'Serialize data passed to scheduler workflow\n\nIn order to allow saving workflow status to the DB we need to make\ndata passed to it serializable. This commit adds serialization of\nRequestContext object and removes unused instance of context from\nfilter_properties.\n\nChange-Id: I26e159b425f2aec410657c9d27df69d181cfcfe8\n'}, {'number': 2, 'created': '2015-02-04 14:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/400615400ecc64984464ada9276bb8ce011f76c6', 'message': 'Serialize data passed to scheduler workflow\n\nIn order to allow saving workflow status to the DB we need to make\ndata passed to it serializable. This commit adds serialization of\nRequestContext object and removes unused instance of context from\nfilter_properties.\n\nChange-Id: I26e159b425f2aec410657c9d27df69d181cfcfe8\n'}, {'number': 3, 'created': '2015-05-15 14:54:52.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/context.py', 'cinder/scheduler/flows/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aff1402ea95c585a497ccf338ec5bcc168f8313e', 'message': 'Serialize data passed to scheduler workflow\n\nIn order to allow saving workflow status to the DB we need to make\ndata passed to it serializable. This commit adds serialization of\nRequestContext object and removes unused instance of context from\nfilter_properties.\n\nChange-Id: I26e159b425f2aec410657c9d27df69d181cfcfe8\n'}]",0,152199,aff1402ea95c585a497ccf338ec5bcc168f8313e,49,25,3,11600,,,0,"Serialize data passed to scheduler workflow

In order to allow saving workflow status to the DB we need to make
data passed to it serializable. This commit adds serialization of
RequestContext object and removes unused instance of context from
filter_properties.

Change-Id: I26e159b425f2aec410657c9d27df69d181cfcfe8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/152199/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/context.py', 'cinder/scheduler/flows/create_volume.py']",3,dabf766a966e880cee1c93da610393cf061ce74d,bp/create-volume-persistence-taskflow-support-scheduler," @flow_utils.unserialize_context @flow_utils.unserialize_context 'context': context.to_dict(),"," 'context': context,",13,5
openstack%2Fcinder~master~Ia7ffec18c455b71262f0e21b918461a8b9aaecd8,openstack/cinder,master,Ia7ffec18c455b71262f0e21b918461a8b9aaecd8,Common changes for TaskFlow's persistence support,ABANDONED,2015-02-02 17:28:39.000000000,2015-08-16 08:19:14.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-02-02 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71d74bf4f7a775be51b5155e105770f5b18a592b', 'message': ""Common changes for TaskFlow's persistence support\n\nThis change adds common requirements for implementations of resumable\nworkflows using TaskFlow's persistence in Cinder services.\n\nImplements: blueprint create-volume-persistence-taskflow-support\nChange-Id: Ia7ffec18c455b71262f0e21b918461a8b9aaecd8\n""}, {'number': 2, 'created': '2015-02-04 14:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d052b9b23360052615344ab5f6b780ce92747d2', 'message': ""Common changes for TaskFlow's persistence support\n\nThis change adds common requirements for implementations of resumable\nworkflows using TaskFlow's persistence in Cinder services.\n\nImplements: blueprint create-volume-persistence-taskflow-support\nChange-Id: Ia7ffec18c455b71262f0e21b918461a8b9aaecd8\n""}, {'number': 3, 'created': '2015-05-15 14:54:52.000000000', 'files': ['cinder/flow_utils.py', 'cinder/common/config.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4694758c11a24314fbd206ca40c8cb9f5a785bc0', 'message': ""Common changes for TaskFlow's persistence support\n\nThis change adds common requirements for implementations of resumable\nworkflows using TaskFlow's persistence in Cinder services.\n\nImplements: blueprint create-volume-persistence-taskflow-support\nChange-Id: Ia7ffec18c455b71262f0e21b918461a8b9aaecd8\n""}]",0,152198,4694758c11a24314fbd206ca40c8cb9f5a785bc0,50,24,3,11600,,,0,"Common changes for TaskFlow's persistence support

This change adds common requirements for implementations of resumable
workflows using TaskFlow's persistence in Cinder services.

Implements: blueprint create-volume-persistence-taskflow-support
Change-Id: Ia7ffec18c455b71262f0e21b918461a8b9aaecd8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/152198/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/flow_utils.py', 'cinder/common/config.py']",2,71d74bf4f7a775be51b5155e105770f5b18a592b,bp/create-volume-persistence-taskflow-support-scheduler," cfg.BoolOpt('resume_workflows', default=None, help='Enable unfinished workflows resumption on services ' 'startup.'), cfg.StrOpt('workflows_sql_connection', default='sqlite:////var/lib/cinder/workflows.sqlite', help='SQL connection to the local DB persisting executed ' 'services workflows.'), cfg.IntOpt('workflows_cleanup_interval', default=3600, help='How often will be workflows DB cleanup executed' '(in seconds).'),",,58,0
openstack%2Fcinder~master~Ie41cd032d2025ab0c72dcbb3b565937de43eea27,openstack/cinder,master,Ie41cd032d2025ab0c72dcbb3b565937de43eea27,WIP: Add persistence to scheduler workflow,ABANDONED,2015-02-02 17:28:39.000000000,2015-08-16 08:18:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-02-02 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07e26d953309645771a2953ffe1c487b11747f0e', 'message': ""WIP: Add persistence to scheduler workflow\n\nThis commit uses TaskFlow's persistence to write workflow status into\nlocal SQLite DB and resumes unfinished workflows on cinder-scheduler\nstartup.\n\nChange-Id: Ie41cd032d2025ab0c72dcbb3b565937de43eea27\nImplements: bp create-volume-persistence-taskflow-support-scheduler\n""}, {'number': 2, 'created': '2015-02-04 14:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/925e925e59e236b2cdecde9bdb0c4080860ee3aa', 'message': ""WIP: Add persistence to scheduler workflow\n\nThis commit uses TaskFlow's persistence to write workflow status into\nlocal SQLite DB and resumes unfinished workflows on cinder-scheduler\nstartup.\n\nChange-Id: Ie41cd032d2025ab0c72dcbb3b565937de43eea27\nImplements: bp create-volume-persistence-taskflow-support-scheduler\n""}, {'number': 3, 'created': '2015-02-04 15:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85dc26c45cb87911f1509476149a9308974115eb', 'message': ""WIP: Add persistence to scheduler workflow\n\nThis commit uses TaskFlow's persistence to write workflow status into\nlocal SQLite DB and resumes unfinished workflows on cinder-scheduler\nstartup.\n\nChange-Id: Ie41cd032d2025ab0c72dcbb3b565937de43eea27\nImplements: bp create-volume-persistence-taskflow-support-scheduler\n""}, {'number': 4, 'created': '2015-05-15 14:54:52.000000000', 'files': ['cinder/scheduler/flows/create_volume.py', 'cinder/scheduler/manager.py', 'cinder/flow_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf10ec84249d5c03a81e68ab4a077f89598f3999', 'message': ""WIP: Add persistence to scheduler workflow\n\nThis commit uses TaskFlow's persistence to write workflow status into\nlocal SQLite DB and resumes unfinished workflows on cinder-scheduler\nstartup.\n\nChange-Id: Ie41cd032d2025ab0c72dcbb3b565937de43eea27\nImplements: bp create-volume-persistence-taskflow-support-scheduler\n""}]",0,152200,cf10ec84249d5c03a81e68ab4a077f89598f3999,50,24,4,11600,,,0,"WIP: Add persistence to scheduler workflow

This commit uses TaskFlow's persistence to write workflow status into
local SQLite DB and resumes unfinished workflows on cinder-scheduler
startup.

Change-Id: Ie41cd032d2025ab0c72dcbb3b565937de43eea27
Implements: bp create-volume-persistence-taskflow-support-scheduler
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/152200/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/flows/create_volume.py', 'cinder/scheduler/manager.py']",2,07e26d953309645771a2953ffe1c487b11747f0e,bp/create-volume-persistence-taskflow-support-scheduler," # Resuming ongoing workflows backend = flow_utils.create_backend(CONF.workflows_sql_connection) flow_name = create_volume.ACTION.replace("":"", ""_"") + ""_scheduler"" fds = flow_utils.get_resumable_flowdetails(self.host, flow_name, backend) for fd in fds: try: flow_engine = create_volume.get_resumed_flow(db, self.driver, self.host, flow_detail=fd) except Exception: LOG.exception(_LE(""Failed to create scheduler "" ""manager volume flow"")) raise exception.CinderException( _(""Failed to create scheduler manager volume flow"")) with flow_utils.DynamicLogListener(flow_engine, logger=LOG): flow_engine.run() self.host,",,54,15
openstack%2Fcinder~master~I961629a929179b485aed42fc9dc77c540bae404f,openstack/cinder,master,I961629a929179b485aed42fc9dc77c540bae404f,Fix Nexenta NFS driver mounts,ABANDONED,2015-01-22 19:53:14.000000000,2015-08-16 08:18:32.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 8296}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 15239}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-01-22 19:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a156382b73c6b6ba46148dbc5d348b7e9d1ec47', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 2, 'created': '2015-01-22 22:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/992b379815df6e8478ede0e5343a83da0dc6dfe8', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 3, 'created': '2015-01-23 14:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1799ff03cc12cf9f795aca9afb79342c9fa5c46b', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 4, 'created': '2015-01-26 21:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8ab446ac249f9637958979180b0c5bffe0411f4', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 5, 'created': '2015-01-26 22:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96f98f5c1756f6ae2f693785212fc907d299dbda', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 6, 'created': '2015-01-28 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2558463d6fda66b2c1112ca6f61650f461b9cb60', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 7, 'created': '2015-01-28 22:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7368d29af98528e3058d14d131e8a0e94e7000a6', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 8, 'created': '2015-01-29 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d28ec25fbbae901f95712d3a1ffc522905443c6', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 9, 'created': '2015-02-03 15:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5677eefafc09af8620fcf68ac1169141e181622', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 10, 'created': '2015-02-05 15:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41294a3242097c0a4980dc1d9ca2a048fe571576', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 11, 'created': '2015-02-13 23:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/240528d64103764b50139aaaf751b56f65612cd3', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 12, 'created': '2015-02-16 16:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6242dc6e29d0b2379147a29b18c67bbf172331f6', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 13, 'created': '2015-03-13 15:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63abd3aaefcbb05d13e0a86ff4340abf25a108dc', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}, {'number': 14, 'created': '2015-03-13 19:30:19.000000000', 'files': ['cinder/volume/drivers/nexenta/nfs.py', 'cinder/tests/test_nexenta.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f2be45411ef6ff03061312b17168fa25383766c', 'message': ""Fix Nexenta NFS driver mounts\n\nSince we create a separate sub-filesystem for every Cinder volume on\nNexenta Storage Appliance that subfilesystem needs to be separately\nmounted on the host. This change also fixes issue with the\n'nexenta_shares_config' configuration property.\n\nChange-Id: I961629a929179b485aed42fc9dc77c540bae404f\n""}]",41,149380,0f2be45411ef6ff03061312b17168fa25383766c,168,33,14,8296,,,0,"Fix Nexenta NFS driver mounts

Since we create a separate sub-filesystem for every Cinder volume on
Nexenta Storage Appliance that subfilesystem needs to be separately
mounted on the host. This change also fixes issue with the
'nexenta_shares_config' configuration property.

Change-Id: I961629a929179b485aed42fc9dc77c540bae404f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/149380/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nexenta/nfs.py'],1,1a156382b73c6b6ba46148dbc5d348b7e9d1ec47,ns-nfs,"import timeimport six shares_config = getattr(self.configuration, self.driver_prefix + '_shares_config') if shares_config is not None: self.configuration.nfs_shares_config = shares_config self._load_shares_config(shares_config) self._mount_subfolders() mnt_path = '%s/%s' % ( self._get_mount_point_for_share(nfs_share), volume['name']) sub_share = '%s/%s' % (nfs_share, volume['name']) self._ensure_share_mounted(sub_share, mnt_path) mnt_path = '%s/%s' % ( self._get_mount_point_for_share(nfs_share), volume['name']) sub_share = '%s/%s' % (nfs_share, volume['name']) self._ensure_share_mounted(sub_share, mnt_path) def _ensure_share_mounted(self, nfs_share, mount_path=None): mnt_flags = [] if self.shares.get(nfs_share) is not None: mnt_flags = self.shares[nfs_share].split() num_attempts = max(1, self.configuration.nfs_mount_attempts) for attempt in range(num_attempts): try: if mount_path is None: self._remotefsclient.mount(nfs_share, mnt_flags) else: self._remotefsclient._do_mount('nfs', nfs_share, mount_path, None, mnt_flags) return except Exception as e: if attempt == (num_attempts - 1): LOG.error(_LE('Mount failure for %(share)s after ' '%(count)d attempts.') % { 'share': nfs_share, 'count': num_attempts}) raise exception.NfsException(e) LOG.debug('Mount attempt %d failed: %s.\nRetrying mount ...' % (attempt, six.text_type(e))) time.sleep(1) def _mount_subfolders(self): ctxt = context.get_admin_context() vol_entries = self.db.volume_get_all(ctxt, None, None, 'created_at', None, filters=None) for vol in vol_entries: nfs_share = vol['provider_location'] if self.shares.has_key(nfs_share): mnt_path = '%s/%s' % ( self._get_mount_point_for_share(nfs_share), vol['name']) sub_share = '%s/%s' % (nfs_share, vol['name']) self._ensure_share_mounted(sub_share, mnt_path) "," self._load_shares_config(getattr(self.configuration, self.driver_prefix + '_shares_config'))",54,3
openstack%2Fcinder~master~Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3,openstack/cinder,master,Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3,Implement making volume snapshots public,ABANDONED,2015-02-26 08:44:20.000000000,2015-08-16 08:18:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5538}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10068}, {'_account_id': 10621}, {'_account_id': 11224}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15254}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-02-26 08:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d397bd20da767fb7c25750ff0bfa05443c420cc3', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their own volume\nout of a public snapshot owned by somebody else. The original snapshot will\nremain intact.\n\nA way to make non-public snapshots public, and vice versa is also made available.\n\nA new parameter is added to 'snapshot list' API, 'include_public', to allow\nlisting of public snapshots with a user's own snapshots. The default behavior\nis to NOT show public snapshots.\n\nBlueprint: public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 2, 'created': '2015-02-27 08:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee0cbe09d4e51666ee9c8148fcbbec449c14d5f4', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their own volume\nout of a public snapshot owned by somebody else. The original snapshot will\nremain intact.\n\nA way to make non-public snapshots public, and vice versa is also made\navailable. A new parameter is added to 'snapshot list' API, 'include_public',\nto allow listing of public snapshots with a user's own snapshots. The default\nbehavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 3, 'created': '2015-02-27 10:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/efede48b19f98b4f696ff393b8fe5ad334bfe23d', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their own volume\nout of a public snapshot owned by somebody else. The original snapshot will\nremain intact.\n\nA way to make non-public snapshots public, and vice versa is also made\navailable. A new parameter is added to 'snapshot list' API, 'include_public',\nto allow listing of public snapshots with a user's own snapshots. The default\nbehavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 4, 'created': '2015-02-27 17:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29e4b9e82cce50f9c650a94e2ba5f7c95f333ac5', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their own volume\nout of a public snapshot owned by somebody else. The original snapshot will\nremain intact.\n\nA way to make non-public snapshots public, and vice versa is also made\navailable. A new parameter is added to 'snapshot list' API, 'include_public',\nto allow listing of public snapshots with a user's own snapshots. The default\nbehavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 5, 'created': '2015-03-02 06:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98ef202a069c989fc6bdcc500c5052ecae6e9fdb', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their\nown volume out of a public snapshot owned by somebody else.\nThe original snapshot will remain intact.\n\nA way to make non-public snapshots public,\nand vice versa is also made available. A new parameter is added\nto 'snapshot list' API, 'include_public',to allow listing of\npublic snapshots with a user's own snapshots.\nThe default behavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 6, 'created': '2015-03-10 12:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d7c2d94352afcd7fbb1a2e35e2572cf27e1701d', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their\nown volume out of a public snapshot owned by somebody else.\nThe original snapshot will remain intact.\nA way to make non-public snapshots public,\nand vice versa is also made available. A new parameter is added\nto 'snapshot list' API, 'include_public',to allow listing of\npublic snapshots with a user's own snapshots.\nThe default behavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}, {'number': 7, 'created': '2015-05-11 07:52:52.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/047_add_is_public_column_to_snapshots.py', 'cinder/db/api.py', 'cinder/tests/unit/api/v2/stubs.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/db/sqlalchemy/api.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/unit/test_migrations.py', 'cinder/objects/snapshot.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/070aba9831a986d65f2085e7614596c6bd3ed23a', 'message': ""Implement making volume snapshots public\n\nThis feature allows making snapshots public, and thus provides\na way of sharing snapshot. A user will be able to create their\nown volume out of a public snapshot owned by somebody else.\nThe original snapshot will remain intact.\nA way to make non-public snapshots public,\nand vice versa is also made available. A new parameter is added\nto 'snapshot list' API, 'include_public',to allow listing of\npublic snapshots with a user's own snapshots.\nThe default behavior is to NOT show public snapshots.\n\nImplements: Blueprint public-snapshot\n\nChange-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3\n""}]",0,159372,070aba9831a986d65f2085e7614596c6bd3ed23a,117,29,7,15254,,,0,"Implement making volume snapshots public

This feature allows making snapshots public, and thus provides
a way of sharing snapshot. A user will be able to create their
own volume out of a public snapshot owned by somebody else.
The original snapshot will remain intact.
A way to make non-public snapshots public,
and vice versa is also made available. A new parameter is added
to 'snapshot list' API, 'include_public',to allow listing of
public snapshots with a user's own snapshots.
The default behavior is to NOT show public snapshots.

Implements: Blueprint public-snapshot

Change-Id: Idfae6abee5b8ea54377ab2d2b1e84e8bb3fb9ed3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/159372/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/v2/stubs.py', 'cinder/db/sqlalchemy/migrate_repo/versions/037_add_is_public_column_to_snapshots.py', 'cinder/db/api.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/api/v2/snapshots.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/api/v2/test_snapshots.py', 'cinder/tests/test_migrations.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py']",10,d397bd20da767fb7c25750ff0bfa05443c420cc3,pubsnap-copy,"from cinder.openstack.common import strutils from cinder.openstack.common import uuidutils if('include_public' in search_opts): search_opts['include_public'] = \ strutils.bool_from_string(search_opts['include_public']) snapshots = \ self.db.\ snapshot_get_all_by_project(context, context.project_id, search_opts['include_public']) del search_opts['include_public'] else: snapshots = \ self.db.\ snapshot_get_all_by_project(context, context.project_id) volume, name, description, is_public, description, force, metadata, cgsnapshot_id, is_public) cgsnapshot_id, is_public): 'metadata': metadata, 'is_public': is_public} volume, name, description, is_public=False, metadata=None, cgsnapshot_id=None): return self._create_snapshot(context, volume, name, description, is_public, description, is_public=False, metadata=None): return self._create_snapshot(context, volume, name, description, is_public,"," snapshots = self.db.snapshot_get_all_by_project( context, context.project_id) volume, name, description, description, force, metadata, cgsnapshot_id) cgsnapshot_id): 'metadata': metadata} volume, name, description, metadata=None, cgsnapshot_id=None): return self._create_snapshot(context, volume, name, description, description, metadata=None): return self._create_snapshot(context, volume, name, description,",223,21
openstack%2Fcinder~stable%2Fjuno~I629d20e815fb7da3df90dfeee76abc1c60daeefe,openstack/cinder,stable/juno,I629d20e815fb7da3df90dfeee76abc1c60daeefe,Fixes the EQL driver CI tests AttributeError,ABANDONED,2015-04-13 16:25:27.000000000,2015-08-16 08:17:27.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7160}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10379}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-04-13 16:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a54f7a2369a9dbe24780fb68bbde4702d9066d22', 'message': ""Fixes the EQL driver CI tests AttributeError\n\nMoved the ssh object back to a 'with' Block to\nfix the AttributeError thrown by the GeneralContextManager\nin the Eqlx CI tests\n\nFixed the unit tests to mock the enter and exit methods\ninstead\n\nChange-Id: I629d20e815fb7da3df90dfeee76abc1c60daeefe\nCloses-Bug: #1417772\n(cherry picked from commit f5f2ccea52e4d96edb5e9d45fa2398215b5cc732)\n""}, {'number': 2, 'created': '2015-04-14 15:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b26e52e6273afc9aa97dd6e49410ae9384b39a6b', 'message': ""Fixes the EQL driver CI tests AttributeError\n\nMoved the ssh object back to a 'with' Block to\nfix the AttributeError thrown by the GeneralContextManager\nin the Eqlx CI tests\n\nFixed the unit tests to mock the enter and exit methods\ninstead\n\nChange-Id: I629d20e815fb7da3df90dfeee76abc1c60daeefe\nCloses-Bug: #1417772\n(cherry picked from commit f5f2ccea52e4d96edb5e9d45fa2398215b5cc732)\n""}, {'number': 3, 'created': '2015-04-14 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3325290adef41579c582e01a99fa12a358a16361', 'message': ""Fixes the EQL driver CI tests AttributeError\n\nMoved the ssh object back to a 'with' Block to\nfix the AttributeError thrown by the GeneralContextManager\nin the Eqlx CI tests\n\nFixed the unit tests to mock the enter and exit methods\ninstead\n\nChange-Id: I629d20e815fb7da3df90dfeee76abc1c60daeefe\nCloses-Bug: #1417772\n(cherry picked from commit f5f2ccea52e4d96edb5e9d45fa2398215b5cc732)\n""}, {'number': 4, 'created': '2015-04-15 12:44:16.000000000', 'files': ['cinder/volume/drivers/eqlx.py', 'cinder/tests/test_eqlx.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfd2b9d21afdaccb24ecdb8a8c275f046735741e', 'message': ""Fixes the EQL driver CI tests AttributeError\n\nMoved the ssh object back to a 'with' Block to\nfix the AttributeError thrown by the GeneralContextManager\nin the Eqlx CI tests\n\nFixed the unit tests to mock the enter and exit methods\ninstead\n\nConflicts:\n\tcinder/volume/drivers/eqlx.py\n\nChange-Id: I629d20e815fb7da3df90dfeee76abc1c60daeefe\nCloses-Bug: #1417772\n(cherry picked from commit f5f2ccea52e4d96edb5e9d45fa2398215b5cc732)\n""}]",1,172988,bfd2b9d21afdaccb24ecdb8a8c275f046735741e,68,23,4,10379,,,0,"Fixes the EQL driver CI tests AttributeError

Moved the ssh object back to a 'with' Block to
fix the AttributeError thrown by the GeneralContextManager
in the Eqlx CI tests

Fixed the unit tests to mock the enter and exit methods
instead

Conflicts:
	cinder/volume/drivers/eqlx.py

Change-Id: I629d20e815fb7da3df90dfeee76abc1c60daeefe
Closes-Bug: #1417772
(cherry picked from commit f5f2ccea52e4d96edb5e9d45fa2398215b5cc732)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/172988/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/eqlx.py', 'cinder/tests/test_eqlx.py']",2,a54f7a2369a9dbe24780fb68bbde4702d9066d22,bug/1417772, ssh = mock.Mock(paramiko.SSHClient) self.driver.sshpool.item().__enter__ = mock.Mock(return_value=ssh) self.driver.sshpool.item().__exit__ = mock.Mock(return_value=False) ssh = mock.Mock(paramiko.SSHClient) self.driver.sshpool.item().__enter__ = mock.Mock(return_value=ssh) self.driver.sshpool.item().__exit__ = mock.Mock(return_value=False)," self.mock_object(sshpool.item(), 'close') self.mock_object(sshpool.item(), 'close')",24,21
openstack%2Fcinder~stable%2Fjuno~I9bda46f9ef63eec436a381da3c96c09ce77c31ef,openstack/cinder,stable/juno,I9bda46f9ef63eec436a381da3c96c09ce77c31ef,Fix the eqlx driver to retry on ssh timeout,ABANDONED,2015-01-29 16:40:58.000000000,2015-08-16 08:17:23.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9751}, {'_account_id': 10379}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14063}, {'_account_id': 14084}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-01-29 16:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b71ecec1be3e2a74404356e103a49688953ee44', 'message': 'Fix the eqlx driver to retry on ssh timeout\n\nWhen the ssh session is timing out, the driver\nshould make attempts to retry based on the value\nin eqlx_cli_max_retries. Instead it was raising\nthe exception and bailing out on a single attempt.\n\nFixed the driver to raise a different exception\nso the ssh sessions can be retried.\n\nAdded unit tests to ensure the max retries\nhappen\n\nAlso fixed the actual attempts made in the message\n\nChange-Id: I9bda46f9ef63eec436a381da3c96c09ce77c31ef\nCloses-Bug: #1412940\n(cherry picked from commit 440beba26d0bc6c27ff837a6772c05a901ec23de)\n'}, {'number': 2, 'created': '2015-01-29 16:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dff86397e3c707dc8ac55b4d578e7a78f39f109', 'message': 'Fix the eqlx driver to retry on ssh timeout\n\nWhen the ssh session is timing out, the driver\nshould make attempts to retry based on the value\nin eqlx_cli_max_retries. Instead it was raising\nthe exception and bailing out on a single attempt.\n\nFixed the driver to raise a different exception\nso the ssh sessions can be retried.\n\nAdded unit tests to ensure the max retries\nhappen\n\nAlso fixed the actual attempts made in the message\n\nThis is back ported/cherry picked patch that was \nalready merged in kilo.\n\n\nChange-Id: I9bda46f9ef63eec436a381da3c96c09ce77c31ef\nCloses-Bug: #1412940\n(cherry picked from commit 440beba26d0bc6c27ff837a6772c05a901ec23de)\n'}, {'number': 3, 'created': '2015-04-13 16:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4fcc6fd37ecb0dc91d280cf9499454e5c1c6e4be', 'message': 'Fix the eqlx driver to retry on ssh timeout\n\nWhen the ssh session is timing out, the driver\nshould make attempts to retry based on the value\nin eqlx_cli_max_retries. Instead it was raising\nthe exception and bailing out on a single attempt.\n\nFixed the driver to raise a different exception\nso the ssh sessions can be retried.\n\nAdded unit tests to ensure the max retries\nhappen\n\nAlso fixed the actual attempts made in the message\n\nChange-Id: I9bda46f9ef63eec436a381da3c96c09ce77c31ef\nCloses-Bug: #1412940\n(cherry picked from commit 440beba26d0bc6c27ff837a6772c05a901ec23de)\n'}, {'number': 4, 'created': '2015-04-15 12:44:16.000000000', 'files': ['cinder/volume/drivers/eqlx.py', 'cinder/tests/test_eqlx.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5849bac53db530cfbee0630691a51cc023898468', 'message': 'Fix the eqlx driver to retry on ssh timeout\n\nWhen the ssh session is timing out, the driver\nshould make attempts to retry based on the value\nin eqlx_cli_max_retries. Instead it was raising\nthe exception and bailing out on a single attempt.\n\nFixed the driver to raise a different exception\nso the ssh sessions can be retried.\n\nAdded unit tests to ensure the max retries\nhappen\n\nAlso fixed the actual attempts made in the message\n\nConflicts:\n\tcinder/tests/test_eqlx.py\n\tcinder/volume/drivers/eqlx.py\n\nLocal modifications:\n- unit test was updated to expect the exact number of attempts as passed\n  in eqlx_cli_max_retries since Juno does not include\n  If9fadda83a855b4bbda6129d3b3a64d296eb2b54\n\nChange-Id: I9bda46f9ef63eec436a381da3c96c09ce77c31ef\nCloses-Bug: #1412940\n(cherry picked from commit 440beba26d0bc6c27ff837a6772c05a901ec23de)\n'}]",1,151303,5849bac53db530cfbee0630691a51cc023898468,81,26,4,10379,,,0,"Fix the eqlx driver to retry on ssh timeout

When the ssh session is timing out, the driver
should make attempts to retry based on the value
in eqlx_cli_max_retries. Instead it was raising
the exception and bailing out on a single attempt.

Fixed the driver to raise a different exception
so the ssh sessions can be retried.

Added unit tests to ensure the max retries
happen

Also fixed the actual attempts made in the message

Conflicts:
	cinder/tests/test_eqlx.py
	cinder/volume/drivers/eqlx.py

Local modifications:
- unit test was updated to expect the exact number of attempts as passed
  in eqlx_cli_max_retries since Juno does not include
  If9fadda83a855b4bbda6129d3b3a64d296eb2b54

Change-Id: I9bda46f9ef63eec436a381da3c96c09ce77c31ef
Closes-Bug: #1412940
(cherry picked from commit 440beba26d0bc6c27ff837a6772c05a901ec23de)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/151303/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/eqlx.py', 'cinder/tests/test_eqlx.py']",2,5b71ecec1be3e2a74404356e103a49688953ee44,bug/1417772,"import randomimport mockfrom cinder import ssh_utilsfrom cinder import utils self.configuration.san_private_key = 'foo' self.configuration.ssh_min_pool_conn = 1 self.configuration.ssh_max_pool_conn = 5 self.configuration.ssh_conn_timeout = 30 def test_ensure_retries(self): num_attempts = random.randint(1, 5) self.driver.configuration.eqlx_cli_max_retries = num_attempts self.mock_object(self.driver, '_ssh_execute', mock.Mock(side_effect=exception. VolumeBackendAPIException(""some error""))) # mocks for calls in _run_ssh self.mock_object(utils, 'check_ssh_injection') self.mock_object(ssh_utils, 'SSHPool') sshpool = ssh_utils.SSHPool(""127.0.0.1"", 22, 10, ""test"", password=""test"", min_size=1, max_size=1) self.mock_object(sshpool.item(), 'close') self.driver.sshpool = mock.Mock(return_value=sshpool) # now call the execute self.assertRaises(exception.VolumeBackendAPIException, self.driver._eql_execute, ""fake command"") self.assertEqual(num_attempts, self.driver._ssh_execute.call_count) def test_ensure_retries_on_channel_timeout(self): num_attempts = random.randint(1, 5) self.driver.configuration.eqlx_cli_max_retries = num_attempts # mocks for calls and objects in _run_ssh self.mock_object(utils, 'check_ssh_injection') self.mock_object(ssh_utils, 'SSHPool') sshpool = ssh_utils.SSHPool(""127.0.0.1"", 22, 10, ""test"", password=""test"", min_size=1, max_size=1) self.mock_object(sshpool.item(), 'close') self.driver.sshpool = mock.Mock(return_value=sshpool) # mocks for _ssh_execute and _get_output self.mock_object(self.driver, '_get_output', mock.Mock(side_effect=exception. VolumeBackendAPIException(""some error""))) # now call the execute self.assertRaises(exception.VolumeBackendAPIException, self.driver._eql_execute, ""fake command"") self.assertEqual(num_attempts, self.driver._get_output.call_count) ",,77,19
openstack%2Fcinder~stable%2Fjuno~Idfd8298401a330bb99ddcd130268fabb6ef9d162,openstack/cinder,stable/juno,Idfd8298401a330bb99ddcd130268fabb6ef9d162,Fix issue with passing lists in filters,ABANDONED,2014-12-29 12:09:21.000000000,2015-08-16 08:17:15.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1420}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 7219}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12780}, {'_account_id': 13059}]","[{'number': 1, 'created': '2014-12-29 12:09:21.000000000', 'files': ['cinder/tests/api/v1/test_volumes.py', 'cinder/api/v2/volumes.py', 'cinder/api/v1/volumes.py', 'cinder/tests/api/v2/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3009d8d976d0dc0e8a126da3dfd964eca18635d7', 'message': 'Fix issue with passing lists in filters\n\nThe Cinder db code already allows searching for a value in a list,\nfor example, id in [\'id1\', \'id2\', \'id3\']. The problem is when we\nget the value at the API it comes as a string (e.g.\n""[\'id1\', \'id2\', \'id3\']"", and therefore the filter fails. This was\nalready fixed for metadata filters, so just apply it to all filters.\n\nWe do a try/except because if it really is a string, then the\nliteral_eval will fail because we don\'t pass double quotes, such as\n""\'string\'"".  The current code therefore will now cover lists and\nfall back to the original behavior for strings.\n\n(cherry picked from commit 4aaf40ba1aab4d7c347b05750d0fe21f8d1bcc68)\n\nCloses-Bug: 1403875\nChange-Id: Idfd8298401a330bb99ddcd130268fabb6ef9d162\n'}]",0,144293,3009d8d976d0dc0e8a126da3dfd964eca18635d7,21,16,1,4355,,,0,"Fix issue with passing lists in filters

The Cinder db code already allows searching for a value in a list,
for example, id in ['id1', 'id2', 'id3']. The problem is when we
get the value at the API it comes as a string (e.g.
""['id1', 'id2', 'id3']"", and therefore the filter fails. This was
already fixed for metadata filters, so just apply it to all filters.

We do a try/except because if it really is a string, then the
literal_eval will fail because we don't pass double quotes, such as
""'string'"".  The current code therefore will now cover lists and
fall back to the original behavior for strings.

(cherry picked from commit 4aaf40ba1aab4d7c347b05750d0fe21f8d1bcc68)

Closes-Bug: 1403875
Change-Id: Idfd8298401a330bb99ddcd130268fabb6ef9d162
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/144293/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/v1/test_volumes.py', 'cinder/api/v2/volumes.py', 'cinder/api/v1/volumes.py', 'cinder/tests/api/v2/test_volumes.py']",4,3009d8d976d0dc0e8a126da3dfd964eca18635d7,bug/1403875,"import mock @mock.patch('cinder.utils.add_visible_admin_metadata') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_string(self, get_all, add_meta): req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'display_name': 'Volume-573108026'} self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_any_call(context, None, None, 'created_at', 'desc', {'display_name': 'Volume-573108026'}, viewable_admin_meta=True) @mock.patch('cinder.utils.add_visible_admin_metadata') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_list(self, get_all, add_meta): req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'id': ""['1', '2', '3']""} self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_any_call(context, None, None, 'created_at', 'desc', {'id': ['1', '2', '3']}, viewable_admin_meta=True) ",,67,4
openstack%2Fcinder~stable%2Fjuno~I990f20fa7b170c31cf1fd0d97c2693370d930a59,openstack/cinder,stable/juno,I990f20fa7b170c31cf1fd0d97c2693370d930a59,Correct the position of the syslog handler,ABANDONED,2014-12-31 03:01:02.000000000,2015-08-16 08:17:10.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1420}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12780}, {'_account_id': 13628}]","[{'number': 1, 'created': '2014-12-31 03:01:02.000000000', 'files': ['cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96b9fcbbe37abb8e1a3035c99b39ba9a4d4bddb5', 'message': 'Correct the position of the syslog handler\n\nCorrect the position of the syslog handler,\nthen the syslog handler can have same settings with\nother handlers.\n\nChange-Id: I990f20fa7b170c31cf1fd0d97c2693370d930a59\nCloses-Bug: #1399088\n'}]",0,144564,96b9fcbbe37abb8e1a3035c99b39ba9a4d4bddb5,13,9,1,6983,,,0,"Correct the position of the syslog handler

Correct the position of the syslog handler,
then the syslog handler can have same settings with
other handlers.

Change-Id: I990f20fa7b170c31cf1fd0d97c2693370d930a59
Closes-Bug: #1399088
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/144564/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/log.py'],1,96b9fcbbe37abb8e1a3035c99b39ba9a4d4bddb5,bug/1399088, if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') , if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ,14,14
openstack%2Fcinder~master~I8529973aeb985c5b2df4febdbd82c3950e200305,openstack/cinder,master,I8529973aeb985c5b2df4febdbd82c3950e200305,Add filtering snapshots by tenant ID,ABANDONED,2015-03-23 04:07:34.000000000,2015-08-16 08:16:49.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-23 04:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e475848fb0100483043dea730ce7744a544ed38', 'message': ""Add filtering snapshots by tenant ID\n\nCinder API supports to list volumes by tenant-id.\nHowever, snapshots doesn't. This commit realizes\nit.\n\nChange-Id: I8529973aeb985c5b2df4febdbd82c3950e200305\nClosed-Bug: #1435110\n""}, {'number': 2, 'created': '2015-03-24 14:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a3ab2e28cacf671a81b6f5150e0ccc9e8c192a0', 'message': ""Add filtering snapshots by tenant ID\n\nCinder API supports to list volumes by tenant-id.\nHowever, snapshots doesn't. This commit realizes\nit.\n\nChange-Id: I8529973aeb985c5b2df4febdbd82c3950e200305\nCloses-Bug: #1435110\n""}, {'number': 3, 'created': '2015-03-25 09:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f8ae3f9d685214c0b8568a2de2b2711b7f6b100', 'message': ""Add filtering snapshots by tenant ID\n\nCinder API supports to list volumes by tenant-id.\nHowever, snapshots doesn't. This commit realizes\nit.\n\nChange-Id: I8529973aeb985c5b2df4febdbd82c3950e200305\nClosed-Bug: #1435110\n""}, {'number': 4, 'created': '2015-03-26 06:38:02.000000000', 'files': ['cinder/tests/api/v1/test_snapshots.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/api/v2/test_snapshots.py', 'cinder/api/v1/snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4265aefb9605f2fe9b27978fcdb7e2645d5ae577', 'message': ""Add filtering snapshots by tenant ID\n\nCinder API supports to list volumes by tenant-id.\nHowever, snapshots doesn't. This commit realizes\nit.\n\nAPI impact:\nA new project_id flag can be passed for the\nsnapshot-list action.\n\nChange-Id: I8529973aeb985c5b2df4febdbd82c3950e200305\nCloses-Bug: #1435110\n""}]",4,166689,4265aefb9605f2fe9b27978fcdb7e2645d5ae577,103,29,4,11676,,,0,"Add filtering snapshots by tenant ID

Cinder API supports to list volumes by tenant-id.
However, snapshots doesn't. This commit realizes
it.

API impact:
A new project_id flag can be passed for the
snapshot-list action.

Change-Id: I8529973aeb985c5b2df4febdbd82c3950e200305
Closes-Bug: #1435110
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/166689/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/snapshots.py', 'cinder/api/v1/snapshots.py']",2,7e475848fb0100483043dea730ce7744a544ed38,bug/1435110," allowed_search_options = ('status', 'volume_id', 'display_name', 'project_id')"," allowed_search_options = ('status', 'volume_id', 'display_name')",3,2
openstack%2Fcinder~master~Ic7ef2934bfa0159e77ab8706bf669011a100f188,openstack/cinder,master,Ic7ef2934bfa0159e77ab8706bf669011a100f188,rbd calls block eventlet threads,ABANDONED,2015-01-08 03:21:48.000000000,2015-08-16 08:15:23.000000000,,"[{'_account_id': 3}, {'_account_id': 1107}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 6880}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 11676}, {'_account_id': 12202}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12612}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14587}]","[{'number': 1, 'created': '2015-01-08 03:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00811e5f5d83ad0411537018de4cfd17497cdf1a', 'message': 'rbd calls block eventlet threads\n\nCall rbd cli via subprocess to offload ceph rbd volume delete. The\ncurrent RBD.remove rbd python binding is a block call and can not be\nmonkey patched by eventlet.\n\nChange-Id: Ic7ef2934bfa0159e77ab8706bf669011a100f188\nClose-Bug: 1401335\n'}, {'number': 2, 'created': '2015-01-08 05:26:13.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98e7982a6b6224d8172c6693ab262a3accb8f632', 'message': 'rbd calls block eventlet threads\n\nCall rbd cli via subprocess to offload ceph rbd volume delete. The\ncurrent RBD.remove rbd python binding is a block call and can not be\nmonkey patched by eventlet.\n\nChange-Id: Ic7ef2934bfa0159e77ab8706bf669011a100f188\nClose-Bug: 1401335\n'}]",7,145678,98e7982a6b6224d8172c6693ab262a3accb8f632,37,16,2,6880,,,0,"rbd calls block eventlet threads

Call rbd cli via subprocess to offload ceph rbd volume delete. The
current RBD.remove rbd python binding is a block call and can not be
monkey patched by eventlet.

Change-Id: Ic7ef2934bfa0159e77ab8706bf669011a100f188
Close-Bug: 1401335
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/145678/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,00811e5f5d83ad0411537018de4cfd17497cdf1a,bug/1401335," # RBD.remove from rbd python binding will be blocked in # the librbd::remove() and cannot be monkey patched by # evenlet. This will block all the rest greenthread from # running in the volume process until returning back from # RBD.remove(). # librados/librbd doesn't work in the forked process. # so running RBD.remove from a child process won't be an # option. # Before ceph community provides an async RBD.remove(), the # only viable option is to execute rbd cli from child process args = ['rbd', '--pool', self.configuration.rbd_pool, 'rm', volume_name] args.extend(self._ceph_args()) try: self._try_execute(*args) except Exception: # Since execute rbd cli directly, there is no clear # definition of return code unless parsing stderr. # The exception here most likely related to the existing # watcher or mapper and less likely to be VolumeNotFound. "," try: self.rbd.RBD().remove(client.ioctx, volume_name) except self.rbd.ImageBusy: except self.rbd.ImageNotFound: msg = (_LI(""RBD volume %s not found, allowing delete "" ""operation to proceed."") % volume_name) LOG.info(msg) return",22,7
openstack%2Fcinder~master~Ib731739e0b6cd2962e5e68389b99b41f4d3e2d0c,openstack/cinder,master,Ib731739e0b6cd2962e5e68389b99b41f4d3e2d0c,Dell EQLX: CHAP config option has no value,ABANDONED,2015-04-29 05:23:09.000000000,2015-08-16 08:14:10.000000000,,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-04-29 05:23:09.000000000', 'files': ['cinder/volume/drivers/eqlx.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0a533199e3ad0e1f94a11a9c570ec1a2f991eac', 'message': ""Dell EQLX: CHAP config option has no value\n\nEQLX driver has update to use use_chap, chap_username and\nchap_password instead of eqlx_use_chap, eqlx_chap_login and\neqlx_chap_password. As a transitional state, the deprecated\nconfig option are still used to registered. However, if\neqlx_use_chap was False(default value), the new config option\nisn't assigned value. This will lead to exception.\n\nCloses-Bug: #1449824\nChange-Id: Ib731739e0b6cd2962e5e68389b99b41f4d3e2d0c\n""}]",6,178509,f0a533199e3ad0e1f94a11a9c570ec1a2f991eac,18,14,1,11676,,,0,"Dell EQLX: CHAP config option has no value

EQLX driver has update to use use_chap, chap_username and
chap_password instead of eqlx_use_chap, eqlx_chap_login and
eqlx_chap_password. As a transitional state, the deprecated
config option are still used to registered. However, if
eqlx_use_chap was False(default value), the new config option
isn't assigned value. This will lead to exception.

Closes-Bug: #1449824
Change-Id: Ib731739e0b6cd2962e5e68389b99b41f4d3e2d0c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/178509/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/eqlx.py'],1,f0a533199e3ad0e1f94a11a9c570ec1a2f991eac,bug/1449824," LOG.warning(_LW( 'Configuration options eqlx_use_chap, ' 'eqlx_chap_login and eqlx_chap_password are deprecated. Use ' 'use_chap_auth, chap_username and chap_password ' 'respectively for the same.')) self.configuration.use_chap_auth = \ self.configuration.eqlx_use_chap self.configuration.chap_username = \ self.configuration.eqlx_chap_login self.configuration.chap_password = \ self.configuration.eqlx_chap_password"," if self.configuration.eqlx_use_chap is True: LOG.warning(_LW( 'Configuration options eqlx_use_chap, ' 'eqlx_chap_login and eqlx_chap_password are deprecated. Use ' 'use_chap_auth, chap_username and chap_password ' 'respectively for the same.')) self.configuration.use_chap_auth = \ self.configuration.eqlx_use_chap self.configuration.chap_username = \ self.configuration.eqlx_chap_login self.configuration.chap_password = \ self.configuration.eqlx_chap_password",11,12
openstack%2Fcinder~master~I251576bcb8da5d5fcdda957b29536ed9bf433363,openstack/cinder,master,I251576bcb8da5d5fcdda957b29536ed9bf433363,Driver get_stats refresh arg is useless,ABANDONED,2015-04-30 01:41:41.000000000,2015-08-16 08:13:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-04-30 01:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fe0f477d52a82c011cd5047323c4665ec934387', 'message': 'Driver get_stats refresh arg is useless\n\nDriver get_stats refresh arg is useless. The fix tries to get rid\nof this argument from manager and then target drivers.\n\nChange-Id: I251576bcb8da5d5fcdda957b29536ed9bf433363\nPartial-Bug: #1423365\n'}, {'number': 2, 'created': '2015-04-30 01:44:01.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b04319a1628a6a6009de971beeca92b81a3c9ff5', 'message': 'Driver get_stats refresh arg is useless\n\nDriver get_stats refresh arg is useless. The fix tries to get rid\nof this argument from manager and then target drivers. Since\nby default manager passes refresh argument as True even though\nthe drivers have conditional refresh it always evaluate to True.\nSo cleaning it up as by default we want it to refresh always.\n\nChange-Id: I251576bcb8da5d5fcdda957b29536ed9bf433363\nPartial-Bug: #1423365\n'}]",0,178896,b04319a1628a6a6009de971beeca92b81a3c9ff5,24,19,2,10263,,,0,"Driver get_stats refresh arg is useless

Driver get_stats refresh arg is useless. The fix tries to get rid
of this argument from manager and then target drivers. Since
by default manager passes refresh argument as True even though
the drivers have conditional refresh it always evaluate to True.
So cleaning it up as by default we want it to refresh always.

Change-Id: I251576bcb8da5d5fcdda957b29536ed9bf433363
Partial-Bug: #1423365
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/178896/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,7fe0f477d52a82c011cd5047323c4665ec934387,bug/1423365, stats = self.driver.get_volume_stats() volume_stats = self.driver.get_volume_stats(), stats = self.driver.get_volume_stats(refresh=True) volume_stats = self.driver.get_volume_stats(refresh=True),2,2
openstack%2Fcinder~master~Ic7dc96c2f039d8a07343757dc19528fdcf2715e0,openstack/cinder,master,Ic7dc96c2f039d8a07343757dc19528fdcf2715e0,Fix interaction between nova volume-update and cinder,ABANDONED,2015-01-26 16:31:43.000000000,2015-08-16 08:09:08.000000000,,"[{'_account_id': 3}, {'_account_id': 25}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-26 16:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c2e278c3693cde4e3409023b2d6a7eeca91482e', 'message': 'Fix interaction between nova volume-update and cinder\n\nIf a non admin user calls the python novaclient function volume-update\nthe the call will fail, and the two volumes passed as parameters will be\nleft in attaching and detaching states.\n\nTo fix this the action os-migrate_volume_completion should not be\nrestricted to admin users.\n\nChange-Id: Ic7dc96c2f039d8a07343757dc19528fdcf2715e0\n'}, {'number': 2, 'created': '2015-01-26 16:33:55.000000000', 'files': ['etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/policy.json', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/contrib/volume_actions.py', 'cinder/tests/api/contrib/test_volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/095ddb2af7d17b8bc10c42da3677c45dad66ed13', 'message': 'Fix interaction between nova volume-update and cinder\n\nIf a non admin user calls the python novaclient function volume-update\nthe the call will fail, and the two volumes passed as parameters will be\nleft in attaching and detaching states.\n\nTo fix this the action os-migrate_volume_completion should not be\nrestricted to admin users.\n\nChange-Id: Ic7dc96c2f039d8a07343757dc19528fdcf2715e0\nCloses-bug: #1413610\n'}]",0,150086,095ddb2af7d17b8bc10c42da3677c45dad66ed13,22,17,2,1773,,,0,"Fix interaction between nova volume-update and cinder

If a non admin user calls the python novaclient function volume-update
the the call will fail, and the two volumes passed as parameters will be
left in attaching and detaching states.

To fix this the action os-migrate_volume_completion should not be
restricted to admin users.

Change-Id: Ic7dc96c2f039d8a07343757dc19528fdcf2715e0
Closes-bug: #1413610
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/150086/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/policy.json', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/contrib/volume_actions.py', 'cinder/tests/api/contrib/test_volume_actions.py']",6,6c2e278c3693cde4e3409023b2d6a7eeca91482e,bug/1413610," def test_migrate_volume_completion(self): def fake_migrate_volume_completion(*args, **kwargs): return '1' body = {'os-migrate_volume_completion': {'new_volume': 'fake_volume'}} req = webob.Request.blank('/v2/fake/volumes/1/action') req.method = ""POST"" req.body = jsonutils.dumps(body) req.headers[""content-type""] = ""application/json"" with mock.patch.object(volume.API, 'migrate_volume_completion', side_effect=fake_migrate_volume_completion): res = req.get_response(fakes.wsgi_app()) self.assertEqual(res.status_int, 200) def test_migrate_volume_completion_no_vol(self): body = {""os-migrate_volume_completion"": {""new_volume"": ""fake"", ""error"": ""false""}} req = webob.Request.blank('/v2/fake/volumes/1/action') req.method = ""POST"" req.body = jsonutils.dumps(body) req.headers[""content-type""] = ""application/json"" with mock.patch.object(volume.API, 'get', side_effect=exception.NotFound('foo')): res = req.get_response(fakes.wsgi_app()) self.assertEqual(res.status_int, 404) def test_migrate_volume_completion_no_newvol(self): body = {""os-migrate_volume_completion"": {""error"": ""false""}} req = webob.Request.blank('/v2/fake/volumes/1/action') req.method = ""POST"" req.body = jsonutils.dumps(body) req.headers[""content-type""] = ""application/json"" res = req.get_response(fakes.wsgi_app()) self.assertEqual(res.status_int, 400) ",,67,37
openstack%2Fcinder~master~I1f3629385d574b0bc779dd06b53a64a4866be70c,openstack/cinder,master,I1f3629385d574b0bc779dd06b53a64a4866be70c,Set attach_status to detached when resetting status to available,ABANDONED,2015-03-10 02:38:01.000000000,2015-08-16 08:08:49.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2861}, {'_account_id': 3031}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 15249}]","[{'number': 1, 'created': '2015-03-10 02:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef01834286b9f1500f179434a4e1c48b2aff8b68', 'message': 'Set attach_status to detached when resetting status to available\n\nWhen setting a volumes state to available via reset-state ensure\nthe attached status is also set to detached.\n\nChange-Id: I1f3629385d574b0bc779dd06b53a64a4866be70c\nCloses-Bug: #1430099\n'}, {'number': 2, 'created': '2015-03-10 05:44:01.000000000', 'files': ['cinder/api/contrib/admin_actions.py', 'cinder/tests/api/contrib/test_admin_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a5d77cd5116d3b4dcb1723d488788723faea400', 'message': 'Set attach_status to detached when resetting status to available\n\nWhen setting a volumes state to available via reset-state ensure\nthe attached status is also set to detached.\n\nChange-Id: I1f3629385d574b0bc779dd06b53a64a4866be70c\nCloses-Bug: #1430099\n'}]",1,162845,1a5d77cd5116d3b4dcb1723d488788723faea400,49,24,2,3031,,,0,"Set attach_status to detached when resetting status to available

When setting a volumes state to available via reset-state ensure
the attached status is also set to detached.

Change-Id: I1f3629385d574b0bc779dd06b53a64a4866be70c
Closes-Bug: #1430099
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/162845/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/admin_actions.py', 'cinder/tests/api/contrib/test_admin_actions.py']",2,ef01834286b9f1500f179434a4e1c48b2aff8b68,bugs/1430099," def test_reset_status_as_available(self): ctx = context.RequestContext('admin', 'fake', True) volume = db.volume_create(ctx, {'status': 'in-use', 'attach_status': 'attached'}) resp = self._issue_volume_reset(ctx, volume, {'status': 'available'}) self.assertEqual(resp.status_int, 202) volume = db.volume_get(ctx, volume['id']) self.assertEqual(volume['status'], 'available') self.assertEqual(volume['attach_status'], 'detached') ",,16,0
openstack%2Fcinder~master~I2b44ced8ad28466c1c7c4c8a89391a854d2366fd,openstack/cinder,master,I2b44ced8ad28466c1c7c4c8a89391a854d2366fd,Add extn to list policy actions for current user,ABANDONED,2014-11-25 07:37:17.000000000,2015-08-16 08:07:22.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 2218}, {'_account_id': 2759}, {'_account_id': 5538}, {'_account_id': 5623}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12779}, {'_account_id': 13636}]","[{'number': 1, 'created': '2014-11-25 07:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/863fe99a6350912a44b77899a215dc5957a2e876', 'message': 'Add extension to list policy rules for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""rules"" : [\n       {\n          ""rule"": ""volume:get_all"",\n          ""authorization"": ""forbidden"",\n       },\n       {\n        ...\n       }\n       ...\n     ]\n  }\n\nNote that it might not be safe to just output the rule for a policy\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well, and that nothing should\nbe assumed about that rule. Maybe in future, we could also parse\nthe default rule from policy.json, and also tell the user if\nhe is \'allowed\' or \'forbidden\' to perform operations not listed\nin policy.json.\n\nWIP. Tests needed.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}, {'number': 2, 'created': '2014-11-25 07:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af56bf14a27c5d838c49f36f4b94da51d152d5cb', 'message': 'Add extension to list policy rules for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""rules"" : [\n       {\n          ""rule"": ""volume:get_all"",\n          ""authorization"": ""forbidden"",\n       },\n       {\n        ...\n       }\n       ...\n     ]\n  }\n\nNote that it might not be safe to just output the rule for a policy\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well, and that nothing should\nbe assumed about that rule. Maybe in future, we could also parse\nthe default rule from policy.json, and also tell the user if\nhe is \'allowed\' or \'forbidden\' to perform operations not listed\nin policy.json.\n\nWIP. Tests needed.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}, {'number': 3, 'created': '2014-11-25 11:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81402235a30b0c1c1a845d7cf3a0da73c6a40f84', 'message': 'Add extension to list policy rules for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""actions"" : [\n       {\n          ""action"": ""volume:get_all"",\n          ""permission"": ""forbidden"",\n       },\n       {\n        ...\n       }\n       ...\n     ],\n   ""default"": ""allowed""\n  }\n\nNote that it might not be safe to just output the rule for a policy\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well, and that nothing should\nbe assumed about that rule. Maybe in future, we could also parse\nthe default rule from policy.json, and also tell the user if\nhe is \'allowed\' or \'forbidden\' to perform operations not listed\nin policy.json.\n\nWIP. Tests needed.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}, {'number': 4, 'created': '2014-11-25 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23990619b8c44fe4d23b14adc271d12089d370b8', 'message': 'Add extn to list policy actions for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""actions"" : [\n       {\n          ""action"": ""volume:get_all"",\n          ""permission"": ""forbidden"",\n       },\n       ...\n     ],\n   ""default"": ""allowed""\n  }\n\nNote that it might not be safe to just output the rule for an action\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well, and that nothing should\nbe assumed about that rule. We need a better way to manage operations\nto make sure they all end up into policy.json without fail.\n\nWIP. Tests needed.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}, {'number': 5, 'created': '2014-11-26 10:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d069aeb3bcfaffeeeedf09d8e5a09855c53a51f5', 'message': 'Add extn to list policy actions for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""actions"" : [\n       {\n          ""action"": ""volume:get_all"",\n          ""permission"": ""forbidden"",\n       },\n       ...\n     ],\n   ""default"": ""allowed""\n  }\n\nNote that it might not be safe to just output the rule for an action\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well, and that nothing should\nbe assumed about that rule. We need a better way to manage operations\nto make sure they all end up into policy.json without fail.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}, {'number': 6, 'created': '2014-11-27 12:56:08.000000000', 'files': ['etc/cinder/policy.json', 'cinder/tests/policy.json', 'cinder/api/contrib/policy_rules.py', 'cinder/policy.py', 'cinder/api/views/policy_rules.py', 'cinder/tests/api/contrib/test_policy_rules.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4101bce814b07aedc86fcb6c1c73d65772beb223', 'message': 'Add extn to list policy actions for current user\n\nThere is no way in Cinder a client can know if he/she is allowed to perform\na particular action. This extension will parse policy.json file, and\nreturn if a particular action is \'allowed\' or \'forbidden\' by the current\nuser. So for example:\n\nGET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions\n\nwill give:\n\n  {""actions"" : [\n       {\n          ""action"": ""volume:get_all"",\n          ""permission"": ""forbidden"",\n       },\n       ...\n     ],\n   ""default"": ""allowed""\n  }\n\nNote that it might not be safe to just output the rule for an action\nin policy.json \'as is\', as it might contain sensitive information,\nlike tenant IDs, that\'s why the output will just say \'allowed\' or\n\'forbidden\'.\n\nIf a rule is not present in the output, then it means that rule\nis not specified in policy.json as well. The value of \'default\'\nshould be used in that case.\n\nWe need a better way to manage actions\nto make sure they all end up into policy.json without fail.\n\nChange-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd\nBlueprint: list-allowed-actions-api\n'}]",6,136980,4101bce814b07aedc86fcb6c1c73d65772beb223,42,14,6,5538,,,0,"Add extn to list policy actions for current user

There is no way in Cinder a client can know if he/she is allowed to perform
a particular action. This extension will parse policy.json file, and
return if a particular action is 'allowed' or 'forbidden' by the current
user. So for example:

GET http://<URL>/v2/<TENANT-ID>/policy-rules/get_actions

will give:

  {""actions"" : [
       {
          ""action"": ""volume:get_all"",
          ""permission"": ""forbidden"",
       },
       ...
     ],
   ""default"": ""allowed""
  }

Note that it might not be safe to just output the rule for an action
in policy.json 'as is', as it might contain sensitive information,
like tenant IDs, that's why the output will just say 'allowed' or
'forbidden'.

If a rule is not present in the output, then it means that rule
is not specified in policy.json as well. The value of 'default'
should be used in that case.

We need a better way to manage actions
to make sure they all end up into policy.json without fail.

Change-Id: I2b44ced8ad28466c1c7c4c8a89391a854d2366fd
Blueprint: list-allowed-actions-api
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/136980/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/extensions.py', 'cinder/api/contrib/policy_rules.py', 'cinder/policy.py', 'cinder/api/views/policy_rules.py']",4,863fe99a6350912a44b77899a215dc5957a2e876,bp/list-allowed-actions-api,"# Copyright 2014 Rushi Agrawal # Copyright 2014 Reliance Jio Infocomm # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder.api import common class ViewBuilder(common.ViewBuilder): """"""Model policy-rules API responses as a Python dictionary."""""" _collection_name = ""policy-rules"" def __init__(self): """"""Initialize view builder."""""" super(ViewBuilder, self).__init__() # def summary(self, request, rule): # """"""Detailed view of a single policy rule."""""" # return { # 'rule': { # 'name': rule.get('name'), # 'authorization': rule.get('authorization') # } # } def rules(self, request, rules): rule_list = [{'rule': k, 'authorization': v} for k, v in rules.items()] rules_dict = dict(rules=rule_list) return rules_dict ",,139,2
openstack%2Fcinder~master~Ieda50ec522e4cab13c5ec1f846629322fae15880,openstack/cinder,master,Ieda50ec522e4cab13c5ec1f846629322fae15880,LVM: Support a volume-group on shared storage,ABANDONED,2014-05-06 22:13:30.000000000,2015-08-16 08:06:59.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4159}, {'_account_id': 4355}, {'_account_id': 5997}, {'_account_id': 8247}, {'_account_id': 8651}, {'_account_id': 9008}, {'_account_id': 9176}, {'_account_id': 9751}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13900}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-05-06 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/024e0905d03510cee1192a3cbf26fc0e3205427e', 'message': 'LVM: Support a volume-gorup on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Nova libvirt LibvirtSharedLvmDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 2, 'created': '2014-06-09 15:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17c9fd81caa9c678d14b0b015dfc4495c443da55', 'message': 'LVM: Support a volume-gorup on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Nova libvirt LibvirtSharedLvmDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 3, 'created': '2014-06-24 22:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/975e4f159e652d0b03b5a9f5fd5f7e615a73045d', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Nova libvirt LibvirtSharedLvmDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 4, 'created': '2014-06-25 14:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e406a968df8d2a19cc65c00969cf6b6c81c33f5', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Nova libvirt LibvirtSharedLvmDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 5, 'created': '2014-08-08 16:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ad37d011d2bb31e9f993f5264370d6d5b23a9cc', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Nova libvirt LibvirtSharedLvmDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 6, 'created': '2014-11-14 00:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b0eb45f95dc99465b4890849d7fef22c6ab46c7', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves throughput for VMs.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 7, 'created': '2014-12-04 21:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90222d0526b58ea73f53904df812cb7b43e20328', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 8, 'created': '2014-12-06 01:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b23adac5cf6d8a7720ae4bfbe4a2f2090ef64ec6', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 9, 'created': '2014-12-09 22:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f25dc9406a6358c457c70bbd0dbe61db6f82926', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 10, 'created': '2014-12-12 21:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99f1744abf8c30f4cda0e0c61a75348b2e46dc33', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 11, 'created': '2014-12-15 19:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0820ad258942017ad30440844130b0775f8d537f', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nDriver cert test\n  * https://bugs.launchpad.net/cinder/+bug/1401337\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 12, 'created': '2014-12-18 14:22:57.000000000', 'files': ['cinder/brick/initiator/connector.py', 'cinder/volume/drivers/sharedlvm.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/60c4365b4a7abe6b2a04d1624cc0eb7ef2f23be8', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nDriver cert test\n  * https://bugs.launchpad.net/cinder/+bug/1401337\n\nChange-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}]",23,92479,60c4365b4a7abe6b2a04d1624cc0eb7ef2f23be8,119,30,12,10115,,,0,"LVM: Support a volume-group on shared storage

This proposal enables LVM driver to support direct data path(I/O path)
from VMs to Storage array using LVM on shared storage instead of using
I/O path which goes through software SCSI target. As a result, the I/O
path can be independent of Cinder Node. By enabling direct I/O path
provides stable I/O path for VMs and improves I/O latency.

*Note: In this feature, both Nova and Cinder pieces are necessary.

 Blueprints:
  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage
  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage

 Spec:
  * nova:   https://review.openstack.org/#/c/127318/
  * cinder: https://review.openstack.org/#/c/129352/

 Gerrit Review:
  * nova:   https://review.openstack.org/#/c/92443/
  * cinder: https://review.openstack.org/#/c/92479/

Driver cert test
  * https://bugs.launchpad.net/cinder/+bug/1401337

Change-Id: Ieda50ec522e4cab13c5ec1f846629322fae15880
Signed-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>
Implements: blueprint lvm-driver-for-shared-storage
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/92479/12 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_utils.py', 'cinder/brick/initiator/connector.py', 'cinder/tests/test_volume.py', 'cinder/volume/drivers/lvm.py']",4,024e0905d03510cee1192a3cbf26fc0e3205427e,bp/s,"class SharedLVMDriver(LVMVolumeDriver, driver.VolumeDriver): """"""Executes commands relating to LVM on muliple attached volume. """""" def __init__(self, *args, **kwargs): super(SharedLVMDriver, self).__init__(*args, **kwargs) self.backend_name =\ self.configuration.safe_get('volume_backend_name') or 'LVM_MATTACH' self.protocol = 'lvm' def ensure_export(self, context, volume): """"""Driver entry point to get the export info for an existing volume."""""" pass def _create_export(self, context, volume, vg=None): """"""Driver entry point to get the export info for a new volume."""""" pass def create_export(self, context, volume): """"""Driver entry point to get the export info for a new volume."""""" pass def remove_export(self, context, volume): """"""Driver entry point to remove an export for a volume."""""" pass def _get_lvm_properties(self, volume): """"""Get lvm configuration The properties are: :volume_id: the id of the volume. :volume_path: the device path to access the logical volume. :access_mode: the volume access mode allow client used. ('rw' or 'ro' currently supported) """""" LOG.debug(_('_get_lvm_properties')) vg = self.configuration.volume_group properties = { 'volume_id': volume['id'], 'volume_path': ""/dev/%s/%s"" % (vg, volume['name']), 'access_mode': 'rw' } return properties def initialize_connection(self, volume, connector): """"""Initializes the connection and returns connection info. The lvm driver returns a driver_volume_type of 'lvm'. The format of the driver data is defined in _get_lvm_properties. Example return value:: { 'driver_volume_type': 'lvm' 'data': { 'volume_id' : '61d14def-18ac-43ff-abdf-67d1d36cf9bf', 'volume_path': '/dev/volume group/volume_id', 'access_mode': 'rw' } } """""" LOG.debug(_('Initialize_connection')) lvm_properties = self._get_lvm_properties(volume) LOG.debug(_(""volume_id: %s"") % lvm_properties['volume_id']) LOG.debug(_(""volume_path: %s"") % lvm_properties['volume_path']) LOG.debug(_(""access_mode: %s"") % lvm_properties['access_mode']) return { 'driver_volume_type': 'lvm', 'data': lvm_properties } def terminate_connection(self, volume, connector, **kwargs): pass def migrate_volume(self, ctxt, volume, host, thin=False, mirror_count=0): """"""Optimize the migration if the destination is on the same server. If the specified host is another back-end on the same server, and the volume is not attached, we can do the migration locally without going through iSCSI. """""" false_ret = (False, None) if volume['status'] != 'available': return false_ret LOG.debug(_(""migrate_volume volume['status']=%s"") % volume['status']) if 'location_info' not in host['capabilities']: return false_ret LOG.debug(_(""migrate_volume host['capabilities']['location_info']=%s"") % host['capabilities']['location_info']) info = host['capabilities']['location_info'] try: (dest_type, dest_hostname, dest_vg, lvm_type, lvm_mirrors) =\ info.split(':') lvm_mirrors = int(lvm_mirrors) except ValueError: return false_ret LOG.debug(_(""migrate_volume dest_type=%(type)s,"" ""dest_hostname=%(host)s, dest_vg=%(vg)s"") % {'type': dest_type, 'host': dest_hostname, 'vg': dest_vg}) if (dest_type != 'LVMVolumeDriver'): return false_ret LOG.debug(_(""migrate_volume dest_vg=%(vg)s,"" ""self.vg.vg_name=%(vg_name)s"") % {'vg': dest_vg, 'vg_name': self.vg.vg_name}) if dest_vg != self.vg.vg_name: vg_list = volutils.get_all_volume_groups() try: (vg for vg in vg_list if vg['name'] == dest_vg).next() except StopIteration: message = (""Destination Volume Group %s does not exist"" % dest_vg) LOG.error(_('%s'), message) return false_ret helper = utils.get_root_helper() dest_vg_ref = lvm.LVM(dest_vg, helper, lvm_type=lvm_type, executor=self._execute) self.remove_export(ctxt, volume) self._create_volume(volume['name'], self._sizestr(volume['size']), lvm_type, lvm_mirrors, dest_vg_ref) volutils.copy_volume(self.local_path(volume), self.local_path(volume, vg=dest_vg), volume['size'], self.configuration.volume_dd_blocksize, execute=self._execute) self._delete_volume(volume) model_update = self._create_export(ctxt, volume, vg=dest_vg) return (True, model_update) ",,393,0
openstack%2Fcinder~stable%2Fjuno~I01d313438f021cd2fe0d6f5c23f2029279d4b55a,openstack/cinder,stable/juno,I01d313438f021cd2fe0d6f5c23f2029279d4b55a,Get volume from db again before updating it's status,ABANDONED,2015-04-15 08:05:21.000000000,2015-08-16 08:06:27.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14797}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-04-15 08:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fb7323b369b490ed2ac0f8a3c3d1ed71baebd0d', 'message': 'Get volume from db again before updating it\'s status\n\nDuring uploading a volume which is attached to an instance to image service,\nif the instance is deleted then the volume remains in ""in-use"" status.\nSo get the volume again from db before updating it\'s status.\n\nAdded new db api called \'volume_update_status_based_on_attachment\'.\nIt gets volume from db and updates its status using the same session.\n\nConflicts:\n\tcinder/db/api.py\n\tcinder/db/sqlalchemy/api.py\n\tcinder/volume/manager.py\n\nCloses-Bug: #1406703\nChange-Id: I01d313438f021cd2fe0d6f5c23f2029279d4b55a\n(cherry picked from commit 4d6ddcb94435a20476536f4956de88ce4ab15b66)\n'}, {'number': 2, 'created': '2015-04-15 08:07:48.000000000', 'files': ['cinder/volume/manager.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0c696bb9dcc3f788dec4e64c5e3db5e64c78826', 'message': 'Get volume from db again before updating it\'s status\n\nDuring uploading a volume which is attached to an instance to image service,\nif the instance is deleted then the volume remains in ""in-use"" status.\nSo get the volume again from db before updating it\'s status.\n\nAdded new db api called \'volume_update_status_based_on_attachment\'.\nIt gets volume from db and updates its status using the same session.\n\nConflicts:\n    cinder/db/api.py\n    cinder/db/sqlalchemy/api.py\n    cinder/volume/manager.py\n\nCloses-Bug: #1406703\nChange-Id: I01d313438f021cd2fe0d6f5c23f2029279d4b55a\n(cherry picked from commit 4d6ddcb94435a20476536f4956de88ce4ab15b66)\n'}]",0,173715,c0c696bb9dcc3f788dec4e64c5e3db5e64c78826,23,17,2,8300,,,0,"Get volume from db again before updating it's status

During uploading a volume which is attached to an instance to image service,
if the instance is deleted then the volume remains in ""in-use"" status.
So get the volume again from db before updating it's status.

Added new db api called 'volume_update_status_based_on_attachment'.
It gets volume from db and updates its status using the same session.

Conflicts:
    cinder/db/api.py
    cinder/db/sqlalchemy/api.py
    cinder/volume/manager.py

Closes-Bug: #1406703
Change-Id: I01d313438f021cd2fe0d6f5c23f2029279d4b55a
(cherry picked from commit 4d6ddcb94435a20476536f4956de88ce4ab15b66)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/173715/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/test_volume.py']",4,1fb7323b369b490ed2ac0f8a3c3d1ed71baebd0d,bug/1406703_juno," def test_copy_volume_to_image_instance_deleted(self): # During uploading volume to image if instance is deleted, # volume should be in available status. self.image_meta['id'] = 'a440c04b-79fa-479c-bed1-0b816eaec379' # Creating volume testdata self.volume_attrs['instance_uuid'] = 'b21f957d-a72f-4b93-b5a5-' \ '45b1161abb02' db.volume_create(self.context, self.volume_attrs) # Storing unmocked db api function reference here, because we have to # update volume status (set instance_uuid to None) before calling the # 'volume_update_status_based_on_attached_instance_id' db api. unmocked_db_api = db.volume_update_status_based_on_attachment def mock_volume_update_after_upload(context, volume_id): # First update volume and set 'instance_uuid' to None # because after deleting instance, instance_uuid of volume is # set to None db.volume_update(context, volume_id, {'instance_uuid': None}) # Calling unmocked db api unmocked_db_api(context, volume_id) with mock.patch.object( db, 'volume_update_status_based_on_attachment', side_effect=mock_volume_update_after_upload) as mock_update: # Start test self.volume.copy_volume_to_image(self.context, self.volume_id, self.image_meta) # Check 'volume_update_status_after_copy_volume_to_image' # is called 1 time self.assertEqual(1, mock_update.call_count) # Check volume status has changed to available because # instance is deleted volume = db.volume_get(self.context, self.volume_id) self.assertEqual('available', volume['status']) ",,74,7
openstack%2Fcinder~master~I88f4d519cf5441557bec03153f450f25386b4443,openstack/cinder,master,I88f4d519cf5441557bec03153f450f25386b4443,Add a maintainers file,ABANDONED,2014-08-26 13:02:36.000000000,2015-08-16 08:06:07.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5538}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 9171}, {'_account_id': 9366}, {'_account_id': 11737}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14428}]","[{'number': 1, 'created': '2014-08-26 13:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/372939b9435e3b41b4661e3443dd5a1b6d54cd11', 'message': ""Add a maintainers file\n\nDetails for how to contact driver maintainers, and which CI accounts\ncover what drivers.\n\nEventually I'd prefer something more automatically in sync with the\ncode (e.g. class attributes within the driver itself) but for now an\nauthoritive list in git is significantly better than the several\ninformal sources we have currently.\n\nChange-Id: I88f4d519cf5441557bec03153f450f25386b4443\n""}, {'number': 2, 'created': '2014-08-27 17:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac075db7a67824bb00dedcb7fe2b9a014b1f7ec3', 'message': ""Add a maintainers file\n\nDetails for how to contact driver maintainers, and which CI accounts\ncover what drivers.\n\nEventually I'd prefer something more automatically in sync with the\ncode (e.g. class attributes within the driver itself) but for now an\nauthoritive list in git is significantly better than the several\ninformal sources we have currently.\n\nChange-Id: I88f4d519cf5441557bec03153f450f25386b4443\n""}, {'number': 3, 'created': '2014-10-07 15:59:47.000000000', 'files': ['MAINTAINERS'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f49d14d276070dbd84a1d8d038c771830f65e7c', 'message': ""Add a maintainers file\n\nDetails for how to contact driver maintainers, and which CI accounts\ncover what drivers.\n\nEventually I'd prefer something more automatically in sync with the\ncode (e.g. class attributes within the driver itself) but for now an\nauthoritive list in git is significantly better than the several\ninformal sources we have currently.\n\nChange-Id: I88f4d519cf5441557bec03153f450f25386b4443\n""}]",16,116887,3f49d14d276070dbd84a1d8d038c771830f65e7c,30,15,3,1207,,,0,"Add a maintainers file

Details for how to contact driver maintainers, and which CI accounts
cover what drivers.

Eventually I'd prefer something more automatically in sync with the
code (e.g. class attributes within the driver itself) but for now an
authoritive list in git is significantly better than the several
informal sources we have currently.

Change-Id: I88f4d519cf5441557bec03153f450f25386b4443
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/116887/2 && git format-patch -1 --stdout FETCH_HEAD,['MAINTAINERS'],1,372939b9435e3b41b4661e3443dd5a1b6d54cd11,maintainers,"Individual driver maintainers: Driver: eqlx.py DellEQLSanISCSIDriver Maintainer: email: Sean McGinnis <openstack-cinder@dell.com> irc: smcginnis dell-storagecenter-ci Driver: nexenta/nfs.py NexentaNfsDriver Maintainer: email: Dan Fields <dan.fields@nexenta.com? irc: kojack1 Driver: nexenta/iscsi.py NexentaISCSIDriver Maintainer: email: <dan.fields@nexenta.com> irc: kojack1 Driver: vmware/vmdk.py VMwareEsxVmdkDriver Driver: vmware/vmdk.py VMwareVcVmdkDriver Driver: hds/nfs.py HDSNFSDriver Driver: hds/iscsi.py HDSISCSIDriver Driver: hds/hds.py HUSDriver Driver: netapp/eseries/iscsi.py Driver Maintainer: email: <xdl-openstack-dev@netapp.com> netapp-ci Driver: netapp/nfs.py NetAppNFSDriver <-- Abstract Maintainer: email: <xdl-openstack-dev@netapp.com> N/A Driver: netapp/nfs.py NetAppDirectNfsDriver <-- Abstract Maintainer: email: <xdl-openstack-dev@netapp.com> N/A Driver: netapp/nfs.py NetAppDirectCmodeNfsDriver Maintainer: email: <xdl-openstack-dev@netapp.com> CI account: netapp-ci Driver: netapp/nfs.py NetAppDirect7modeNfsDriver Maintainer: email: <xdl-openstack-dev@netapp.com> CI account: netapp-ci Driver: netapp/iscsi.py NetAppDirectISCSIDriver <-- Abstract Maintainer: email: <xdl-openstack-dev@netapp.com> N/A Driver: netapp/iscsi.py NetAppDirectCmodeISCSIDriver Maintainer: email: <xdl-openstack-dev@netapp.com> CI account: netapp-ci Driver: netapp/iscsi.py NetAppDirect7modeISCSIDriver Maintainer: email: <xdl-openstack-dev@netapp.com> CI account: netapp-ci Driver: scality.py ScalityDriver Driver: sheepdog.py SheepdogDriver Driver: nfs.py RemoteFsDriver (Abstract class) Maintainer: email: Eric Harney / Red Hat <eharney@redhat.com> irc: eharney CI account: N/A Driver: nfs.py NfsDriver Maintainer: email: <xdl-openstack-dev@netapp.com> CI account: possibly netapp-ci will test this -- first need to fix snapshot support (NetApp / eharney) Driver: pure.py PureISCSIDriver Maintainer: email: <openstack-dev@purestorage.com> CI account: purestorage-cinder-ci Driver: solidfire.py SolidFireDriver Maintainer: email: John Griffith <john.griffith@solidfire.com> Driver: zadara.py ZadaraVPSAISCSIDriver Driver: huawei/huawei_t.py HuaweiTISCSIDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: huawei/huawei_t.py HuaweiTFCDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: huawei/huawei_hvs.py HuaweiHVSISCSIDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: huawei/huawei_hvs.py HuaweiHVSFCDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: huawei/huawei_dorado.py HuaweiDoradoISCSIDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: huawei/huawei_dorado.py HuaweiDoradoFCDriver Maintainer: email: ayal.baron@gmail.com (mgmt), chenzongliang@huawei.com (engineering) Driver: emc/emc_smis_iscsi.py EMCSMISISCSIDriver Maintainer: email: xing.yang@emc.com irc: xing Driver: emc/emc_smis_fc.py EMCSMISFCDriver Maintainer: email: xing.yang@emc.com irc: xing Driver: emc/emc_cli_iscsi.py EMCCLIISCSIDriver Maintainer: email: xing.yang@emc.com irc: xing Driver: emc/emc_cli_fc.py EMCCLIFCDriver Maintainer: email: xing.yang@emc.com irc: xing Driver: nimble.py NimbleISCSIDriver Driver: rbd.py RBDDriver Maintainer: email: Josh Durgin CI account: jenkins (check-tempest-dsvm-full-ceph, contact: eharney) Driver: coraid.py CoraidDriver Maintainer: Driver: san/solaris.py SolarisISCSIDriver Maintainer: email: James.Kremer@oracle.com CI account: jkremer Driver: san/hp/hp_msa_fc.py HPMSAFCDriver Driver: san/hp/hp_lefthand_iscsi.py HPLeftHandISCSIDriver Maintainer: email: Kurt Martin <kurt.f.martin@hp.com>, Mark Sturdevant <markstur@hp.com> irc: KurtMartin CI account: hp-cinder-ci / HP Storage CI Driver: san/hp/hp_3par_fc.py HP3PARFCDriver Maintainer: email: Kurt Martin <kurt.f.martin@hp.com>, Mark Sturdevant <markstur@hp.com> irc: KurtMartin` CI account: hp-cinder-ci / HP Storage CI Driver: san/hp/hp_lefthand_rest_proxy.py HPLeftHandRESTProxy Maintainer: email: Kurt Martin <kurt.f.martin@hp.com>, Mark Sturdevant <markstur@hp.com> CI account: hp-cinder-ci / HP Storage CI Driver: san/hp/hp_lefthand_cliq_proxy.py HPLeftHandCLIQProxy Maintainer: email: Kurt Martin <kurt.f.martin@hp.com>, Mark Sturdevant <markstur@hp.com> CI account: hp-cinder-ci / HP Storage CI Driver: hp_3par_iscsi.py HP3PARISCSIDriver Maintainer: email: Kurt Martin <kurt.f.martin@hp.com>, Mark Sturdevant <markstur@hp.com> CI account: hp-cinder-ci / HP Storage CI Driver: san/san.py SanDriver Driver: san/san.py SanISCSIDriver Driver: xenapi/sm.py XenAPINFSDriver Driver: windows/windows.py WindowsDriver Driver: block_device.py BlockDeviceDriver Driver: glusterfs.py GlusterfsDriver Maintainer: email: Eric Harney / Red Hat <eharney@redhat.com> irc: eharny CI account: redhatci <redhatci@redhat.com> Driver: ibm/gpfs.py GPFSDriver Driver: ibm/xiv_ds8k.py XIVDS8KDriver Driver: ibm/ibmnas.py IBMNAS_NFSDriver Driver: ibm/storwize_svc StorwizeSVCDriver Driver: lvm.py LVMVolumeDriver Maintainer: Cinder core Driver: lvm.py LVMISCSIDriver Maintainer: Cinder core CI account: Jenkins Driver: lvm.py LVMISERDriver Maintainer: Cinder core ",,220,0
openstack%2Fcinder~master~I6ac4c7951e9a696d17038251b6ccb8a73ea83d5f,openstack/cinder,master,I6ac4c7951e9a696d17038251b6ccb8a73ea83d5f,Fix NoneType AttributeError problem,ABANDONED,2015-04-20 02:52:16.000000000,2015-08-16 08:05:48.000000000,,"[{'_account_id': 3}, {'_account_id': 2861}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13636}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-04-20 02:52:16.000000000', 'files': ['cinder/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1477a0403a5bc89d895ddc1fd36196a3f83cab60', 'message': 'Fix NoneType AttributeError problem\n\nWhen creating volume without volume_type, resource_type will be set to None\nwhich may lead to a NoneType AttributeError problem in capabilities_filter.\n\nChange-Id: I6ac4c7951e9a696d17038251b6ccb8a73ea83d5f\nCloses-bug: #1446031\n'}]",0,175249,1477a0403a5bc89d895ddc1fd36196a3f83cab60,25,23,1,6463,,,0,"Fix NoneType AttributeError problem

When creating volume without volume_type, resource_type will be set to None
which may lead to a NoneType AttributeError problem in capabilities_filter.

Change-Id: I6ac4c7951e9a696d17038251b6ccb8a73ea83d5f
Closes-bug: #1446031
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/175249/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/filter_scheduler.py'],1,1477a0403a5bc89d895ddc1fd36196a3f83cab60,master," resource_type = request_spec.get(""volume_type"", {})"," resource_type = request_spec.get(""volume_type"", None)",1,1
openstack%2Fcinder~master~Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f,openstack/cinder,master,Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f,Added more options while uploading volume to glance,ABANDONED,2015-02-03 11:18:42.000000000,2015-08-16 08:05:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 13636}, {'_account_id': 13861}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-02-03 11:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3533f3cc2942ae56c79dab990e89c1502bff5eec', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 2, 'created': '2015-02-03 17:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/478197a34596fcac85d7ac4e796db079ac3317c1', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 3, 'created': '2015-02-04 04:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3958e4c7eed63141f68a5ed10d0085c045b88af9', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 4, 'created': '2015-02-07 07:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c53b62edb0e885b87b0de67108df30d7702cb15', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 5, 'created': '2015-02-27 11:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d892228fd01cc837de69551d605da709e1f29e7', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 6, 'created': '2015-03-04 06:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ca152cd3037f68db9fb5a8e9ed63d73db11c9c6', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 7, 'created': '2015-03-13 09:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccea9f5529e6709e6128d92847ef697ab43875de', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 8, 'created': '2015-03-17 07:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f760d256d0eb7339f887d4ab6139763162a91d2', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 9, 'created': '2015-03-19 04:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1705df66dd1d61544a045ab0b749f8af125e37b0', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-Bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 10, 'created': '2015-03-19 07:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea11ce9117f4e45bb6fb95c645b7af25078a7125', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-Bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}, {'number': 11, 'created': '2015-03-23 04:09:25.000000000', 'files': ['cinder/tests/image/fake.py', 'cinder/tests/glance/stubs.py', 'cinder/tests/image/test_glance.py', 'cinder/image/glance.py', 'cinder/api/contrib/volume_actions.py', 'cinder/tests/api/contrib/test_volume_actions.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4296febe27bd97f0a32f22a4a14a10ec9a201a8', 'message': 'Added more options while uploading volume to glance\n\nAdded support for providing is_public, protected and store\noptions while uploading volume as image to image service\n\nDocImpact\nCloses-Bug: #1288131\n\nChange-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f\n'}]",3,152475,f4296febe27bd97f0a32f22a4a14a10ec9a201a8,187,42,11,13861,,,0,"Added more options while uploading volume to glance

Added support for providing is_public, protected and store
options while uploading volume as image to image service

DocImpact
Closes-Bug: #1288131

Change-Id: Id27cf4d8117f3537ad8d43b4c539e7e7eb48585f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/152475/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/image/fake.py', 'cinder/tests/glance/stubs.py', 'cinder/tests/image/test_glance.py', 'cinder/api/contrib/volume_actions.py', 'cinder/image/glance.py', 'cinder/volume/api.py']",6,3533f3cc2942ae56c79dab990e89c1502bff5eec,bug/1288131," ""image_name"": recv_metadata.get('name', None), ""is_public"": recv_metadata.get('is_public', False), ""protected"": recv_metadata.get('protected', False)}"," ""image_name"": recv_metadata.get('name', None)}",44,10
openstack%2Fcinder~master~I7224f920a60c35d8e0d24f7d0bd6fe281375345d,openstack/cinder,master,I7224f920a60c35d8e0d24f7d0bd6fe281375345d,Add NPIV support in the VMAX driver,ABANDONED,2015-04-10 16:50:19.000000000,2015-08-16 08:04:07.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 12802}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14797}, {'_account_id': 14969}]","[{'number': 1, 'created': '2015-04-10 16:50:19.000000000', 'files': ['cinder/volume/drivers/emc/emc_vmax_common.py', 'cinder/volume/drivers/emc/emc_vmax_fc.py', 'cinder/volume/drivers/emc/emc_vmax_masking.py', 'cinder/tests/test_emc_vmax.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25d611845f99579735441f08e5a75c77ec8c8dac', 'message': 'Add NPIV support in the VMAX driver\n\nThis patch added the NPIV support in VMAX driver.\n\nChange-Id: I7224f920a60c35d8e0d24f7d0bd6fe281375345d\n'}]",1,172504,25d611845f99579735441f08e5a75c77ec8c8dac,21,18,1,6491,,,0,"Add NPIV support in the VMAX driver

This patch added the NPIV support in VMAX driver.

Change-Id: I7224f920a60c35d8e0d24f7d0bd6fe281375345d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/172504/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/emc/emc_vmax_common.py', 'cinder/volume/drivers/emc/emc_vmax_fc.py', 'cinder/volume/drivers/emc/emc_vmax_masking.py', 'cinder/tests/test_emc_vmax.py']",4,25d611845f99579735441f08e5a75c77ec8c8dac,npiv," emc_vmax_common.EMCVMAXCommon, 'get_masking_views_by_init_port_group', return_value=[]) @mock.patch.object( self, mock_volume_type, mock_mvs, mock_mv, mock_ig, mock_igc): common.get_target_wwns_from_masking_view = mock.Mock( # Test the no lookup service, no phy_to_virt_initiators property common.get_target_wwns_from_masking_view.assert_called_once_with( EMCVMAXCommonData.storage_system, self.data.test_volume, EMCVMAXCommonData.connector) '_is_same_host', return_value=True) @mock.patch.object( emc_vmax_masking.EMCVMAXMasking, 'get_masking_view_from_storage_group', return_value=EMCVMAXCommonData.lunmaskctrl_name) @mock.patch.object( volume_types, 'get_volume_type_extra_specs', return_value={'volume_backend_name': 'FCFAST', 'FASTPOLICY': 'FC_GOLD1'}) def test_map_fast_phy_to_virt(self, _mock_volume_type, mock_maskingview, mock_is_same_host): common = self.driver.common connector = {u'connection_type': [u'npiv'], u'wwpns': [u'c0507603852202c8', u'c0507603852202ca'], u'host': u'dsib1034', u'phy_to_virt_initiators': {u'21000024ff562bc8': [u'c0507603852202c8', u'c0507603852202c9'], u'21000024ff562bc9': [u'c0507603852202ca', u'c0507603852202cb'] } } common.get_target_wwns_from_masking_view = mock.Mock( return_value=EMCVMAXCommonData.target_wwns) data = self.driver.initialize_connection( self.data.test_volume, connector) # Test phy_to_virt_initiators present case common.get_target_wwns_from_masking_view.assert_called_once_with( EMCVMAXCommonData.storage_system, self.data.test_volume, connector) for init, target in data['data']['initiator_target_map'].items(): # Ensure wwpns are returned for zoning self.assertIn(init, connector['wwpns']) @mock.patch.object( emc_vmax_common.EMCVMAXCommon, 'get_masking_views_by_init_port_group', common.get_target_wwns_from_masking_view = mock.Mock( common.get_target_wwns_from_masking_view.assert_called_once_with( EMCVMAXCommonData.storage_system, self.data.test_volume, EMCVMAXCommonData.connector) common.get_target_wwns_from_masking_view = mock.Mock( common.get_target_wwns_from_masking_view.assert_called_once_with( EMCVMAXCommonData.storage_system, self.data.test_volume, EMCVMAXCommonData.connector) 'get_masking_views_by_init_port_group', common.get_target_wwns_from_masking_view = mock.Mock( common.get_target_wwns_from_masking_view.assert_called_once_with( EMCVMAXCommonData.storage_system, self.data.test_volume, EMCVMAXCommonData.connector)"," self, mock_volume_type, mock_mv, mock_ig, mock_igc): common.get_target_wwns = mock.Mock( # Test the no lookup service, pre-zoned case. common.get_target_wwns.assert_called_once_with( EMCVMAXCommonData.storage_system, EMCVMAXCommonData.connector) 'get_masking_views_by_port_group', common.get_target_wwns = mock.Mock( common.get_target_wwns.assert_called_once_with( EMCVMAXCommonData.storage_system, EMCVMAXCommonData.connector) common.get_target_wwns = mock.Mock( common.get_target_wwns.assert_called_once_with( EMCVMAXCommonData.storage_system, EMCVMAXCommonData.connector) 'get_masking_views_by_port_group', common.get_target_wwns = mock.Mock( common.get_target_wwns.assert_called_once_with( EMCVMAXCommonData.storage_system, EMCVMAXCommonData.connector)",181,37
openstack%2Fcinder~stable%2Fjuno~Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f,openstack/cinder,stable/juno,Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f,Correct default service_name for nova_catalog*_info config option,ABANDONED,2015-01-23 10:10:30.000000000,2015-08-16 08:03:28.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1420}, {'_account_id': 7198}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 12861}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 10:10:30.000000000', 'files': ['cinder/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa0db81a6149f3bd92263a1793e3a5e887f94ac6', 'message': 'Correct default service_name for nova_catalog*_info config option\n\nThe default service_name in config option (nova_catalog_info and \nnova_catalog_admin_info) was mistakenly put as \'nova\'. Consequently,\nit is impossible to invoke novaclient APIs from Cinder code without\nchanging the default value of those config options.\n\nThe correct service_name defined in Keystone\'s config file\n""/etc/keystone/default_catalog.templates"" is:\ncatalog.RegionOne.compute.name = Compute Service.\n\nThis change replaces \'nova\' with \'Compute Service\' for default value\nof \'nova_catalog*_info\' config options.\n\nChange-Id: Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f\nCloses-Bug: 1401800\n(cherry picked from commit 5ad15c040fdc115bca9efb1c952279988a2a48b3)\n'}]",0,149552,aa0db81a6149f3bd92263a1793e3a5e887f94ac6,17,14,1,12861,,,0,"Correct default service_name for nova_catalog*_info config option

The default service_name in config option (nova_catalog_info and 
nova_catalog_admin_info) was mistakenly put as 'nova'. Consequently,
it is impossible to invoke novaclient APIs from Cinder code without
changing the default value of those config options.

The correct service_name defined in Keystone's config file
""/etc/keystone/default_catalog.templates"" is:
catalog.RegionOne.compute.name = Compute Service.

This change replaces 'nova' with 'Compute Service' for default value
of 'nova_catalog*_info' config options.

Change-Id: Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f
Closes-Bug: 1401800
(cherry picked from commit 5ad15c040fdc115bca9efb1c952279988a2a48b3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/149552/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/compute/nova.py'],1,aa0db81a6149f3bd92263a1793e3a5e887f94ac6,," default='compute:Compute Service:publicURL', default='compute:Compute Service:adminURL',"," default='compute:nova:publicURL', default='compute:nova:adminURL',",2,2
openstack%2Fcinder~master~Ic80706d885e954ecf5eef5c7b1d72a423bd54657,openstack/cinder,master,Ic80706d885e954ecf5eef5c7b1d72a423bd54657,Have volume manager set encrypted property,ABANDONED,2015-04-10 18:22:37.000000000,2015-08-16 08:02:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10271}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-04-10 18:22:37.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/84972eda69ace3b164a4ffb07c4f28e383b4d024', 'message': 'Have volume manager set encrypted property\n\nThis change sets the encrypted property in connection_info\npassed back from initialize_connection in the volume manager.\nThe value of the encrypted property is based on if the volume\nhas an associated encryption_key_id or not.\n\nChange-Id: Ic80706d885e954ecf5eef5c7b1d72a423bd54657\nCloses-Bug: #1442302\n'}]",0,172531,84972eda69ace3b164a4ffb07c4f28e383b4d024,22,20,1,10271,,,0,"Have volume manager set encrypted property

This change sets the encrypted property in connection_info
passed back from initialize_connection in the volume manager.
The value of the encrypted property is based on if the volume
has an associated encryption_key_id or not.

Change-Id: Ic80706d885e954ecf5eef5c7b1d72a423bd54657
Closes-Bug: #1442302
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/172531/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,84972eda69ace3b164a4ffb07c4f28e383b4d024,bug/1442302," # Add encrypted property to connection_info if it doesn't exist. if conn_info['data'].get('encrypted') is None: # encrypted property is currently not set, so let's set it. encryption_key_id = volume.get('encryption_key_id', None) conn_info['data']['encrypted'] = (encryption_key_id is not None) ",,6,0
openstack%2Fcinder~master~Iab1263e34adbf5d96620ba19aab0edfe6c4dff05,openstack/cinder,master,Iab1263e34adbf5d96620ba19aab0edfe6c4dff05,Replace incubator config generator with oslo-config-generator,ABANDONED,2015-03-18 14:25:31.000000000,2015-08-16 08:01:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9366}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-18 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e278cb70e74b950e34e88889a2593713be656afa', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 2, 'created': '2015-03-18 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ab2ee26433623364d971f3efc0121648f4daf96', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 3, 'created': '2015-03-18 14:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eced5a5c7afa8f637979119ecefe20bbca316d8f', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 4, 'created': '2015-03-18 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf7e1edfc12e73b107e2a3e6e6d8f13e6e93d20f', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 5, 'created': '2015-03-18 19:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b2568b4f89eceffc26a450150bdfbcd577ebf3b', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 6, 'created': '2015-03-18 20:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57e8218717000e21b932238b11b0b35dba7e9bf9', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 7, 'created': '2015-03-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c15fd7915912754e0910e907a1f19aece8f4e7ed', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 8, 'created': '2015-03-18 23:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c19312a33dbe6712b61074862422dd21483526f', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 9, 'created': '2015-03-19 16:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09ec2c286b74d2de3bdc523a356fd396e48d9a5b', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 10, 'created': '2015-03-19 21:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76328bad076121c6679909507317990cfaaf59a2', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}, {'number': 11, 'created': '2015-03-20 17:24:56.000000000', 'files': ['cinder/openstack/common/config/generator.py', 'cinder/hacking/checks.py', 'tools/config/generate_sample.sh', 'cinder/openstack/common/config/__init__.py', 'tools/config/oslo.config.generator.rc', 'cinder/opts.py', 'cinder/tests/test_hacking.py', 'tools/config-generator/cinder.conf', 'tools/config/check_uptodate.sh', 'openstack-common.conf', 'setup.cfg', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1e1bcec03582d0f400ddd0c41b3a0d682b1d630', 'message': 'Replace incubator config generator with oslo-config-generator\n\nPart of the clean-up we need to do in oslo-incubator is to\nremove the old config/generator.py and replace it with the new\noslo-config-generator.  This frees up a number of other modules\nin cinder/openstack/common to also be cleaned up.\n\nUsing oslo-config-generator works slightly differently than\nthe old generator.  Rather than sending a list of files and\nlibraries to search for configuration options, you  need to set\nan oslo.config.opts entry point in setup.cfg.  Rather than list\nevery file with configuration options in setup.cfg, it was decided\nto import all the files with configuration options into a new\ncinder/opts.py file.  The list_opts function there then surfaces all the\nconfiguration options to be put in the /etc/cinder/cinder.conf.sample\nfile.  This approach is consistent with what other projects with many\nconfiguration options (nova and neutron) are planning to do.\n\nThis commit also adds a new hacking rule that processes all\nCONF.register_opt()/CONF.register_opts() calls to ensure that the\nregistered options and their associated files are included in\ncinder/opts.py\n\nThe old config generator code is removed and the new configuration\nfor oslo-config-generator is added in tools/config-generator/cinder.conf\nwhich is consistent with the location being used by other projects\nthat have migrated to using oslo-config-generator.\n\nChange-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05\n'}]",7,165431,e1e1bcec03582d0f400ddd0c41b3a0d682b1d630,131,36,11,7198,,,0,"Replace incubator config generator with oslo-config-generator

Part of the clean-up we need to do in oslo-incubator is to
remove the old config/generator.py and replace it with the new
oslo-config-generator.  This frees up a number of other modules
in cinder/openstack/common to also be cleaned up.

Using oslo-config-generator works slightly differently than
the old generator.  Rather than sending a list of files and
libraries to search for configuration options, you  need to set
an oslo.config.opts entry point in setup.cfg.  Rather than list
every file with configuration options in setup.cfg, it was decided
to import all the files with configuration options into a new
cinder/opts.py file.  The list_opts function there then surfaces all the
configuration options to be put in the /etc/cinder/cinder.conf.sample
file.  This approach is consistent with what other projects with many
configuration options (nova and neutron) are planning to do.

This commit also adds a new hacking rule that processes all
CONF.register_opt()/CONF.register_opts() calls to ensure that the
registered options and their associated files are included in
cinder/opts.py

The old config generator code is removed and the new configuration
for oslo-config-generator is added in tools/config-generator/cinder.conf
which is consistent with the location being used by other projects
that have migrated to using oslo-config-generator.

Change-Id: Iab1263e34adbf5d96620ba19aab0edfe6c4dff05
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/165431/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/openstack/common/config/generator.py', 'cinder/opts.py', 'cinder/api/middleware/auth.py', 'cinder/tests/test_hacking.py', 'tools/config-generator/cinder.conf', 'cinder/hacking/checks.py', 'tools/config/generate_sample.sh', 'cinder/openstack/common/config/__init__.py', 'setup.cfg', 'tox.ini', 'HACKING.rst']",11,e278cb70e74b950e34e88889a2593713be656afa,remove-config,- [C002] Ensure that config options are defined in cinder/opts.py,,433,312
openstack%2Fcinder~master~I38ffc0748860d913d32c524af92a3010e02eca94,openstack/cinder,master,I38ffc0748860d913d32c524af92a3010e02eca94,Windows iSCSI: Add image caching support,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 08:01:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 3185}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14428}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f166c46bfca018e91c7ca0b68a63bf28877b2030', 'message': 'Windows iSCSI: Add image caching support\n\nThis patch adds image caching support for the Windows iSCSI\nvolume driver.\n\nChange-Id: I38ffc0748860d913d32c524af92a3010e02eca94\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 2, 'created': '2015-03-06 12:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ad759668a309e9c871b38df87abfc467e0c4424', 'message': 'Windows iSCSI: Add image caching support\n\nThis patch adds image caching support for the Windows iSCSI\nvolume driver.\n\nChange-Id: I38ffc0748860d913d32c524af92a3010e02eca94\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 3, 'created': '2015-03-12 10:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16f61e9971d9b58f680bb8f9e0b216561c5c20b4', 'message': 'Windows iSCSI: Add image caching support\n\nThis patch adds image caching support for the Windows iSCSI\nvolume driver.\n\nChange-Id: I38ffc0748860d913d32c524af92a3010e02eca94\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 4, 'created': '2015-03-17 16:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33008f252fcc7036d37091a8b24c7bfd598bae13', 'message': 'Windows iSCSI: Add image caching support\n\nThis patch adds image caching support for the Windows iSCSI\nvolume driver.\n\nChange-Id: I38ffc0748860d913d32c524af92a3010e02eca94\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 5, 'created': '2015-03-18 09:54:10.000000000', 'files': ['cinder/volume/drivers/windows/windows.py', 'cinder/tests/windows/test_windows.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/47abc3c125f7d9cacf9dd06d811a0907c664901a', 'message': 'Windows iSCSI: Add image caching support\n\nThis patch adds image caching support for the Windows iSCSI\nvolume driver.\n\nChange-Id: I38ffc0748860d913d32c524af92a3010e02eca94\nPartially-implements: blueprint bp/image-caching-support\n'}]",1,161369,47abc3c125f7d9cacf9dd06d811a0907c664901a,103,31,5,8543,,,0,"Windows iSCSI: Add image caching support

This patch adds image caching support for the Windows iSCSI
volume driver.

Change-Id: I38ffc0748860d913d32c524af92a3010e02eca94
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/161369/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/windows.py', 'cinder/tests/windows/test_windows.py']",2,f166c46bfca018e91c7ca0b68a63bf28877b2030,bp/bp,"from cinder.volume.drivers.windows import imagecache def _fake_check_min_windows_version(self, major, minor, build=0): return True self.flags(use_cow_images=True, group='imagecache') self.stubs.Set(windows_utils.WindowsUtils, 'check_min_windows_version', self._fake_check_min_windows_version) windows_utils.WindowsUtils.check_min_windows_version(6, 3) self.mox.StubOutWithMock(imagecache.WindowsImageCache, 'get_image') False) imagecache.WindowsImageCache.get_image( None, None, None, fake_volume_path, 'vhd', volume['size'], image_subformat=constants.VHD_SUBFORMAT_FIXED) windows_utils.WindowsUtils.change_disk_status(volume['name'], True)"," self.mox.StubOutWithMock(image_utils, 'create_temporary_file') self.mox.StubOutWithMock(image_utils, 'fetch_to_vhd') self.mox.StubOutWithMock(vhdutils.VHDUtils, 'convert_vhd') self.mox.StubOutWithMock(vhdutils.VHDUtils, 'resize_vhd') fake_temp_path = r'C:\fake\temp\file' if (CONF.image_conversion_dir and not os.path.exists(CONF.image_conversion_dir)): os.makedirs(CONF.image_conversion_dir) image_utils.create_temporary_file(suffix='.vhd').AndReturn( fake_temp_path) image_utils.fetch_to_vhd(None, None, None, fake_temp_path, mox.IgnoreArg()) mox.IsA(bool)) vhdutils.VHDUtils.convert_vhd(fake_temp_path, fake_volume_path, constants.VHD_TYPE_FIXED) vhdutils.VHDUtils.resize_vhd(fake_volume_path, volume['size'] << 30) windows_utils.WindowsUtils.change_disk_status(volume['name'], mox.IsA(bool))",40,35
openstack%2Fcinder~master~I07d5a60a6896383d732c89f7b03abef72c824147,openstack/cinder,master,I07d5a60a6896383d732c89f7b03abef72c824147,Add support for caching images fetched from Glance,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 08:01:11.000000000,,"[{'_account_id': 3}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11459}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79bd74fb57aa3587f154f07a33a4fc4e0eefa531', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 2, 'created': '2015-03-06 12:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/346a2cd32c2356951cc950766cf9ed6977d01990', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 3, 'created': '2015-03-12 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b224d39d57e953e99b69c89c2b4918dd9962c8bc', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 4, 'created': '2015-03-17 16:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1241067cdc3ae908b2b0a76271c8c5656533b79c', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 5, 'created': '2015-03-17 16:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e5a656ef953bbab42dfd9c4f34822a88faab969', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 6, 'created': '2015-03-18 09:53:55.000000000', 'files': ['cinder/test.py', 'cinder/tests/windows/test_vhdutils.py', 'cinder/tests/test_imagecache.py', 'cinder/tests/windows/test_imagecache.py', 'cinder/volume/drivers/windows/vhdutils.py', 'cinder/volume/drivers/imagecache.py', 'cinder/volume/drivers/windows/imagecache.py', 'cinder/volume/drivers/windows/constants.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b76bcb7b84e4e24cf65b0bc7c8db83dd819c83ad', 'message': 'Add support for caching images fetched from Glance\n\nCaching images fetched from Glance is already performed by Nova.\nDoing the same on Cinder can greatly reduce the time required to\ncreate volumes from images.\n\nThis patch adds image caching support, the images being stored\nbased on the requested volume format at a configured path.\n\nUsing differencing images for the created volumes will be a\nWindows only feature at first.\n\nChange-Id: I07d5a60a6896383d732c89f7b03abef72c824147\nPartially-implements: blueprint bp/image-caching-support\n'}]",2,161367,b76bcb7b84e4e24cf65b0bc7c8db83dd819c83ad,88,28,6,8543,,,0,"Add support for caching images fetched from Glance

Caching images fetched from Glance is already performed by Nova.
Doing the same on Cinder can greatly reduce the time required to
create volumes from images.

This patch adds image caching support, the images being stored
based on the requested volume format at a configured path.

Using differencing images for the created volumes will be a
Windows only feature at first.

Change-Id: I07d5a60a6896383d732c89f7b03abef72c824147
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/161367/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/windows/test_vhdutils.py', 'cinder/tests/test_imagecache.py', 'cinder/tests/windows/test_imagecache.py', 'cinder/volume/drivers/windows/vhdutils.py', 'cinder/volume/drivers/imagecache.py', 'cinder/volume/drivers/windows/imagecache.py', 'cinder/volume/drivers/windows/constants.py']",8,79bd74fb57aa3587f154f07a33a4fc4e0eefa531,bp/bp,"# As described by the Win32 API # Subformat names used by qemu-img VHD_SUBFORMAT_FIXED = 'fixed' VHD_SUBFORMAT_DYNAMIC = 'dynamic' VHD_SUBFORMAT_DIFFERENCING = 'differencing' VHD_TYPE_MAP = { VHD_SUBFORMAT_FIXED: VHD_TYPE_FIXED, VHD_SUBFORMAT_DYNAMIC: VHD_TYPE_DYNAMIC, VHD_SUBFORMAT_DIFFERENCING: VHD_SUBFORMAT_DIFFERENCING } VHD_SUBFORMAT_MAP = { VHD_TYPE_FIXED: VHD_SUBFORMAT_FIXED, VHD_TYPE_DYNAMIC: VHD_SUBFORMAT_DYNAMIC, VHD_TYPE_DIFFERENCING: VHD_SUBFORMAT_DIFFERENCING }",,707,8
openstack%2Fcinder~master~I56cd9aa8a63b969c8fffb9b9cdcb9f374a34c054,openstack/cinder,master,I56cd9aa8a63b969c8fffb9b9cdcb9f374a34c054,Support volumes and snapshots filtered by tenant id,ABANDONED,2015-03-19 12:21:28.000000000,2015-08-16 08:00:02.000000000,,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-19 12:21:28.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8d3480920f74090a184700392adf40d294af78d', 'message': ""Support volumes and snapshots filtered by tenant id\n\nAdmin can get volumes/snapshots of self or all-tenants.\nSometimes, admin may need to list the volumes/snapshots\nbelonging to one tenant. However, the list API doesn't\nsupport filtering by tenant id. This bp realize this\nfuncitons.\n\npython-cinderclient:\nhttps://review.openstack.org/165795\n\nPartially implements bp: vol-snap-filtered-by-tenantid\n\nChange-Id: I56cd9aa8a63b969c8fffb9b9cdcb9f374a34c054\n""}]",0,165796,d8d3480920f74090a184700392adf40d294af78d,20,17,1,11676,,,0,"Support volumes and snapshots filtered by tenant id

Admin can get volumes/snapshots of self or all-tenants.
Sometimes, admin may need to list the volumes/snapshots
belonging to one tenant. However, the list API doesn't
support filtering by tenant id. This bp realize this
funcitons.

python-cinderclient:
https://review.openstack.org/165795

Partially implements bp: vol-snap-filtered-by-tenantid

Change-Id: I56cd9aa8a63b969c8fffb9b9cdcb9f374a34c054
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/165796/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,d8d3480920f74090a184700392adf40d294af78d,bp/vol-snap-filtered-by-tenantid," if 'tenant_id' in filters: tenant_id = filters['tenant_id'] del filters['tenant_id'] volumes = self.db.volume_get_all_by_project(context, tenant_id, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters) else: volumes = self.db.volume_get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters) if 'tenant_id' in search_opts: tenant_id = search_opts['tenant_id'] del search_opts['tenant_id'] snapshots = self.db.snapshot_get_all_by_project( context, tenant_id) else: snapshots = self.db.snapshot_get_all(context)"," volumes = self.db.volume_get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters) snapshots = self.db.snapshot_get_all(context)",22,5
openstack%2Fcinder~master~I1a5674a45c554882caf2183ddbcec698f5d6ec0d,openstack/cinder,master,I1a5674a45c554882caf2183ddbcec698f5d6ec0d,Move vhd/x resize logic to image utils,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 07:59:49.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d3cc09baef02a2dc790bf5cef436f957f4eca8a', 'message': 'Move vhd/x resize logic to image utils\n\nDue to the fact that qemu-img does not support resizing vhd/x\nimages, an intermediary conversion is currently used by the\nSMBFS driver as a workaround.\n\nMoving this to the common image_utils module will allow using this\nby other modules without duplicating code.\n\nChange-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 2, 'created': '2015-03-06 11:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f01b5f017d994bc5a684a66a053d27e6beed322c', 'message': 'Move vhd/x resize logic to image utils\n\nDue to the fact that qemu-img does not support resizing vhd/x\nimages, an intermediary conversion is currently used by the\nSMBFS driver as a workaround.\n\nMoving this to the common image_utils module will allow using this\nby other modules without duplicating code.\n\nChange-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 3, 'created': '2015-03-12 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61a6cfc77db3efdaa5f663bf0f389c1f116b72fb', 'message': 'Move vhd/x resize logic to image utils\n\nDue to the fact that qemu-img does not support resizing vhd/x\nimages, an intermediary conversion is currently used by the\nSMBFS driver as a workaround.\n\nMoving this to the common image_utils module will allow using this\nby other modules without duplicating code.\n\nChange-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 4, 'created': '2015-03-17 16:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe1f1021ac257d89a92b8565b680e91be7951930', 'message': 'Move vhd/x resize logic to image utils\n\nDue to the fact that qemu-img does not support resizing vhd/x\nimages, an intermediary conversion is currently used by the\nSMBFS driver as a workaround.\n\nMoving this to the common image_utils module will allow using this\nby other modules without duplicating code.\n\nChange-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 5, 'created': '2015-03-18 09:53:25.000000000', 'files': ['cinder/volume/drivers/smbfs.py', 'cinder/tests/test_smbfs.py', 'cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/97bd2cf86a29584fc2c9ec512408ab944989a2f8', 'message': 'Move vhd/x resize logic to image utils\n\nDue to the fact that qemu-img does not support resizing vhd/x\nimages, an intermediary conversion is currently used by the\nSMBFS driver as a workaround.\n\nMoving this to the common image_utils module will allow using this\nby other modules without duplicating code.\n\nChange-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d\nPartially-implements: blueprint bp/image-caching-support\n'}]",0,161364,97bd2cf86a29584fc2c9ec512408ab944989a2f8,93,26,5,8543,,,0,"Move vhd/x resize logic to image utils

Due to the fact that qemu-img does not support resizing vhd/x
images, an intermediary conversion is currently used by the
SMBFS driver as a workaround.

Moving this to the common image_utils module will allow using this
by other modules without duplicating code.

Change-Id: I1a5674a45c554882caf2183ddbcec698f5d6ec0d
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/161364/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/smbfs.py', 'cinder/tests/test_smbfs.py', 'cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py']",4,7d3cc09baef02a2dc790bf5cef436f957f4eca8a,bp/bp," @mock.patch.object(image_utils, 'qemu_img_info') @mock.patch.object(image_utils, 'convert_image') @mock.patch.object(image_utils, '_resize_image') @mock.patch.object(image_utils, 'temporary_file') def _test_resize_image(self, mock_temp_file, mock_resize, mock_convert, mock_qemu_img_info, image_format): mock_qemu_img_info.return_value.file_format = image_format mock_temp_file.return_value.__enter__.return_value = ( mock.sentinel.temp_file_path) run_as_root = False image_utils.resize_image(mock.sentinel.image_path, mock.sentinel.new_size, run_as_root=run_as_root) if image_format in ('vpc', 'vhdx', 'vhd'): resized_image = mock.sentinel.temp_file_path mock_convert.assert_has_calls( [mock.call(mock.sentinel.image_path, mock.sentinel.temp_file_path, 'raw', run_as_root=run_as_root), mock.call(mock.sentinel.temp_file_path, mock.sentinel.image_path, image_format, run_as_root=run_as_root)]) else: resized_image = mock.sentinel.image_path mock_resize.assert_called_once_with(resized_image, mock.sentinel.new_size, run_as_root) def test_resize_raw_image(self): self._test_resize_image(image_format='raw') def test_resize_vhd_image(self): self._test_resize_image(image_format='vpc') def _test_do_resize_image(self, mock_exec, run_as_root=False): output = image_utils._resize_image(source, size, run_as_root=run_as_root) 'sentinel.sizeG', run_as_root=run_as_root) def test_do_resize_image(self): self._test_do_resize_image() def test_do_resize_image_run_as_root(self): self._test_do_resize_image(run_as_root=True)"," @mock.patch('cinder.utils.execute') def test_defaults(self, mock_exec): source = mock.sentinel.source size = mock.sentinel.size output = image_utils.resize_image(source, size) self.assertIsNone(output) mock_exec.assert_called_once_with('qemu-img', 'resize', source, 'sentinel.sizeG', run_as_root=False) def test_run_as_root(self, mock_exec): output = image_utils.resize_image(source, size, run_as_root=True) 'sentinel.sizeG', run_as_root=True)",90,132
openstack%2Fcinder~master~I013bfd618a8ff5c87fb960dd58d41af99bec6c4a,openstack/cinder,master,I013bfd618a8ff5c87fb960dd58d41af99bec6c4a,Fix qemu-img info vhd format issue,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 07:59:35.000000000,,"[{'_account_id': 3}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a77c89caa3cddef1c9a05a75390bc4bf593d159', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check\nseeking the VHD 'conectix' at the right offset.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}, {'number': 2, 'created': '2015-03-06 12:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/333e7f059134a21969c35f9acd0aa2ecfc9d25c8', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check\nseeking the VHD 'conectix' at the right offset.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}, {'number': 3, 'created': '2015-03-06 12:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d81c20bfc7730fbf13b19ef7b9e7de81d0e47abc', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check,\nseeking the VHD signature at the right offset.\n\nIf using volume drivers affected by this issue, one may enable this\nworkaround by using a config option.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nDocImpact\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}, {'number': 4, 'created': '2015-03-12 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4d2b77ba32c8c37ff5c8a2755d143b4310aa352', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check,\nseeking the VHD signature at the right offset.\n\nIf using volume drivers affected by this issue, one may enable this\nworkaround by using a config option.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nDocImpact\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}, {'number': 5, 'created': '2015-03-17 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b8e0b258d4de5b95eb8ae43f462eb1f25001af3', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check,\nseeking the VHD signature at the right offset.\n\nIf using volume drivers affected by this issue, one may enable this\nworkaround by using a config option.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nDocImpact\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}, {'number': 6, 'created': '2015-03-18 09:53:39.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/95a3f18ee1b93cf6b075e0c2c8954abba35c6629', 'message': ""Fix qemu-img info vhd format issue\n\nDue to the fact that qemu-img seeks the VHD signature at the wrong\noffset, fixed size VHD images are probed as 'raw'.\n\nThis patch is a workaorund for the issue, adding an extra check,\nseeking the VHD signature at the right offset.\n\nIf using volume drivers affected by this issue, one may enable this\nworkaround by using a config option.\n\nThis workaround can be removed after the following bug fix merges:\nhttps://patchwork.ozlabs.org/patch/375762/\n\nDocImpact\n\nChange-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a\nPartially-implements: blueprint bp/image-caching-support\n""}]",0,161365,95a3f18ee1b93cf6b075e0c2c8954abba35c6629,107,27,6,8543,,,0,"Fix qemu-img info vhd format issue

Due to the fact that qemu-img seeks the VHD signature at the wrong
offset, fixed size VHD images are probed as 'raw'.

This patch is a workaorund for the issue, adding an extra check,
seeking the VHD signature at the right offset.

If using volume drivers affected by this issue, one may enable this
workaround by using a config option.

This workaround can be removed after the following bug fix merges:
https://patchwork.ozlabs.org/patch/375762/

DocImpact

Change-Id: I013bfd618a8ff5c87fb960dd58d41af99bec6c4a
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/161365/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py']",2,3a77c89caa3cddef1c9a05a75390bc4bf593d159,bp/bp," @mock.patch.object(image_utils, '_is_vhd') def _test_qemu_img_info(self, mock_exec, mock_info, mock_is_vhd, mock_os, is_vhd=False, os_name='posix', run_as_root=False): mock_is_vhd.return_value = is_vhd mock_os.name = os_name img_info = mock_info.return_value img_info.file_format = 'raw' output = image_utils.qemu_img_info(test_path, run_as_root=run_as_root) expected_args = ('qemu-img', 'info', test_path) if os_name != 'nt': expected_args = ('env', 'LC_ALL=C') + expected_args mock_exec.assert_called_once_with(*expected_args, run_as_root=run_as_root) self.assertEqual(img_info, output) if is_vhd: self.assertEqual('vpc', img_info.file_format) def test_qemu_img_info_not_root(self): self._test_qemu_img_info() def test_qemu_img_info_on_nt(self): self._test_qemu_img_info(os_name='nt') def test_qemu_img_info_vhd_image(self): self._test_qemu_img_info(is_vhd=True)"," @mock.patch('cinder.openstack.common.imageutils.QemuImgInfo') @mock.patch('cinder.utils.execute') def test_qemu_img_info(self, mock_exec, mock_info): mock_out = mock.sentinel.out mock_err = mock.sentinel.err test_path = mock.sentinel.path mock_exec.return_value = (mock_out, mock_err) output = image_utils.qemu_img_info(test_path) mock_exec.assert_called_once_with('env', 'LC_ALL=C', 'qemu-img', 'info', test_path, run_as_root=True) self.assertEqual(mock_info.return_value, output) @mock.patch('cinder.openstack.common.imageutils.QemuImgInfo') @mock.patch('cinder.utils.execute') def test_qemu_img_info_not_root(self, mock_exec, mock_info): mock_out = mock.sentinel.out mock_err = mock.sentinel.err test_path = mock.sentinel.path mock_exec.return_value = (mock_out, mock_err) output = image_utils.qemu_img_info(test_path, run_as_root=False) mock_exec.assert_called_once_with('env', 'LC_ALL=C', 'qemu-img', 'info', test_path, run_as_root=False) self.assertEqual(mock_info.return_value, output) def test_qemu_img_info_on_nt(self, mock_exec, mock_info, mock_os): mock_os.name = 'nt' output = image_utils.qemu_img_info(test_path) mock_exec.assert_called_once_with('qemu-img', 'info', test_path, run_as_root=True) self.assertEqual(mock_info.return_value, output)",48,33
openstack%2Fcinder~master~I59710c6115f84ebbb0e7e006e3deef855d9e3c6e,openstack/cinder,master,I59710c6115f84ebbb0e7e006e3deef855d9e3c6e,Add image subformat option to fetch_to_volume_format function,ABANDONED,2015-03-04 19:26:48.000000000,2015-08-16 07:59:23.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10796}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-03-04 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5806f902b62182c484b894c789ea6779c351ee2', 'message': 'Add image subformat option to fetch_to_volume_format function\n\nThis patch adds the image subformat option to the convert_image\nfunction, which can be used by the fetch_to_volume_format function.\n\nThis is particularly usefull in case of vhd/x images as the latest\nversions of qemu-img support dynamic/fixed vhd/x subformats.\n\nChange-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 2, 'created': '2015-03-06 12:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57ba1182b38d0e29b3cd9cefb587af9ae33c6c0d', 'message': 'Add image subformat option to fetch_to_volume_format function\n\nThis patch adds the image subformat option to the convert_image\nfunction, which can be used by the fetch_to_volume_format function.\n\nThis is particularly usefull in case of vhd/x images as the latest\nversions of qemu-img support dynamic/fixed vhd/x subformats.\n\nChange-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 3, 'created': '2015-03-12 10:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23890bbecbb09eae92cef47f51beac77d8e84a04', 'message': 'Add image subformat option to fetch_to_volume_format function\n\nThis patch adds the image subformat option to the convert_image\nfunction, which can be used by the fetch_to_volume_format function.\n\nThis is particularly usefull in case of vhd/x images as the latest\nversions of qemu-img support dynamic/fixed vhd/x subformats.\n\nChange-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 4, 'created': '2015-03-17 16:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfd581b10bfa355a5f23e5b624a6336450b48018', 'message': 'Add image subformat option to fetch_to_volume_format function\n\nThis patch adds the image subformat option to the convert_image\nfunction, which can be used by the fetch_to_volume_format function.\n\nThis is particularly usefull in case of vhd/x images as the latest\nversions of qemu-img support dynamic/fixed vhd/x subformats.\n\nChange-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e\nPartially-implements: blueprint bp/image-caching-support\n'}, {'number': 5, 'created': '2015-03-18 09:53:47.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/932f8bf8e2a24b38fddf4901aade82616791d817', 'message': 'Add image subformat option to fetch_to_volume_format function\n\nThis patch adds the image subformat option to the convert_image\nfunction, which can be used by the fetch_to_volume_format function.\n\nThis is particularly usefull in case of vhd/x images as the latest\nversions of qemu-img support dynamic/fixed vhd/x subformats.\n\nChange-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e\nPartially-implements: blueprint bp/image-caching-support\n'}]",0,161366,932f8bf8e2a24b38fddf4901aade82616791d817,89,26,5,8543,,,0,"Add image subformat option to fetch_to_volume_format function

This patch adds the image subformat option to the convert_image
function, which can be used by the fetch_to_volume_format function.

This is particularly usefull in case of vhd/x images as the latest
versions of qemu-img support dynamic/fixed vhd/x subformats.

Change-Id: I59710c6115f84ebbb0e7e006e3deef855d9e3c6e
Partially-implements: blueprint bp/image-caching-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/161366/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/test_image_utils.py']",2,a5806f902b62182c484b894c789ea6779c351ee2,bp/bp," '-O', out_format, '-t', 'none', def test_kwargs_not_block_dev(self, mock_isblk, mock_exec, mock_stat, mock_odirect): out_subformat = 'fake_subformat' output = image_utils.convert_image(source, dest, out_format, out_subformat=out_subformat) out_format, '-o', 'subformat=%s' % out_subformat, source, dest, out_subformat=None, volume_subformat = mock.sentinel.volume_subformat volume_subformat=volume_subformat, out_subformat=volume_subformat, out_subformat=None, out_subformat=None,"," '-t', 'none', '-O', out_format, def test_defaults_not_block_dev(self, mock_isblk, mock_exec, mock_stat, mock_odirect): output = image_utils.convert_image(source, dest, out_format) out_format, source, dest,",55,17
openstack%2Fcinder~master~Icca60c599152b5532fb0efa4586ec4b2b5ddf4d5,openstack/cinder,master,Icca60c599152b5532fb0efa4586ec4b2b5ddf4d5,DRBD: Ensure the returned data is not a DBusString.,ABANDONED,2015-01-28 10:17:43.000000000,2015-08-16 07:57:33.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}, {'_account_id': 14305}, {'_account_id': 14339}]","[{'number': 1, 'created': '2015-01-28 10:17:43.000000000', 'files': ['cinder/volume/drivers/drbdmanagedrv.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b5d4200b022484c6163b6e71dd8dc92ec3bbe90', 'message': 'DRBD: Ensure the returned data is not a DBusString.\n\nChange-Id: Icca60c599152b5532fb0efa4586ec4b2b5ddf4d5\n'}]",3,150741,0b5d4200b022484c6163b6e71dd8dc92ec3bbe90,18,15,1,10677,,,0,"DRBD: Ensure the returned data is not a DBusString.

Change-Id: Icca60c599152b5532fb0efa4586ec4b2b5ddf4d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/150741/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/drbdmanagedrv.py'],1,0b5d4200b022484c6163b6e71dd8dc92ec3bbe90,, return str(data[0]), return data[0],1,1
openstack%2Fcinder~master~I269fea6c330f8087d0377c2620782afadd71e63b,openstack/cinder,master,I269fea6c330f8087d0377c2620782afadd71e63b,Fixes: storpool driver use recommended logging format,ABANDONED,2014-12-24 02:53:25.000000000,2015-08-16 07:57:23.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9337}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 13900}]","[{'number': 1, 'created': '2014-12-24 02:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6467a2cc0e8ebad697f6f5c060d088c16eabf99', 'message': ""    Fixes: storpool driver doesn't follow recommended logging format\n\n    Closes-bug: #1405299\n\nChange-Id: I269fea6c330f8087d0377c2620782afadd71e63b\n""}, {'number': 2, 'created': '2014-12-24 04:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3547fe0bf223bc69ae082d12119f2f6a33a2c973', 'message': ""Fixes: storpool driver doesn't follow recommended logging format\n\nCloses-bug: #1405299\n\nChange-Id: I269fea6c330f8087d0377c2620782afadd71e63b\n""}, {'number': 3, 'created': '2014-12-30 03:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7921b0c3df4f13d30f593f97171dbb9ac323181', 'message': 'Fixes: storpool driver use recommended logging format\n\nCloses-bug: #1405299\n\nChange-Id: I269fea6c330f8087d0377c2620782afadd71e63b\n'}, {'number': 4, 'created': '2015-01-04 06:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f12c33b1dffcc4666ae17c335de576dfe11808d2', 'message': ""Fixes: storpool driver use recommended logging format\n\nstorpool driver is super light on Logging (maybe that's good, maybe\nthat's bad). Seems like there could be a bit more logging added here to\nhelp operators out.\n\nCloses-bug: #1405299\n\nChange-Id: I269fea6c330f8087d0377c2620782afadd71e63b\n""}, {'number': 5, 'created': '2015-01-04 09:50:59.000000000', 'files': ['cinder/volume/drivers/storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/668db1865a79fcd75f531ecf7251a1d7dd01fe35', 'message': ""Fixes: storpool driver use recommended logging format\n\nstorpool driver is super light on Logging (maybe that's good, maybe\nthat's bad). Seems like there could be a bit more logging added here to\nhelp operators out.\n\nCloses-bug: #1405299\n\nChange-Id: I269fea6c330f8087d0377c2620782afadd71e63b\n""}]",9,143762,668db1865a79fcd75f531ecf7251a1d7dd01fe35,71,19,5,9337,,,0,"Fixes: storpool driver use recommended logging format

storpool driver is super light on Logging (maybe that's good, maybe
that's bad). Seems like there could be a bit more logging added here to
help operators out.

Closes-bug: #1405299

Change-Id: I269fea6c330f8087d0377c2620782afadd71e63b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/143762/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/storpool.py'],1,d6467a2cc0e8ebad697f6f5c060d088c16eabf99,bug/1405299," LOG.error(_LE(""Could not delete the temp snapshot %(n)s: %(msg)s"") % {'n': snapname, 'msg': e}) LOG.error(_LE(""StorPoolDriver API initialization failed: %s""), e) _LE('Could not remove the temp snapshot %(n)s for %(v)s : %(e)s'), {'n': name, 'v': volname, 'e': e}) _LE('Could not remove the temp snapshot %(n)s for %(v)s : %(e)s'), {'n': name, 'v': volname, 'e': e})"," LOG.error(_LE(""Could not delete the temp snapshot {n}: {msg}""). format(n=snapname, msg=six.text_type(e))) LOG.error(_LE(""StorPoolDriver API initialization failed: {e}""). format(e=e)) _LE('Could not remove the temp snapshot {n} for {v}: {e}'). format(n=name, v=volname, e=six.text_type(e))) _LE('Could not remove the temp snapshot {n} for {v}: {e}'). format(n=name, v=volname, e=six.text_type(e)))",7,8
openstack%2Fcinder~master~If651b0a0de87045d246be1f72847a0c1a0ff8264,openstack/cinder,master,If651b0a0de87045d246be1f72847a0c1a0ff8264,Enhance unit tests for zfssa drivers,ABANDONED,2015-02-03 21:04:03.000000000,2015-08-16 07:57:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11509}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 12924}, {'_account_id': 13013}, {'_account_id': 13059}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-02-03 21:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c0d1123f1d613c337e5a838c94b6b03ac516036', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 2, 'created': '2015-02-03 22:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb2fc3680d29d3b189e805848fabd0aa368a1047', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 3, 'created': '2015-02-04 00:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe958b79769b1afe9b5c7e50a1741f5ad5effbe5', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 4, 'created': '2015-02-10 21:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df23c27ec07023a29357062ec79a6d032bfac9a5', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 5, 'created': '2015-02-26 15:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/147929c11fa7235b988ad25e20631a1776a9517c', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 6, 'created': '2015-03-05 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74c565dc1c3dcf0e4ad42f8d059b27a8b36acfc1', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}, {'number': 7, 'created': '2015-03-16 13:25:40.000000000', 'files': ['cinder/volume/drivers/zfssa/zfssarest.py', 'cinder/tests/test_zfssa.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2191e720225574360487bb6d16f579f65058408', 'message': 'Enhance unit tests for zfssa drivers\n\nThis fix improves the unit tests for the zfssa drivers\nand increases the test coverage.\n\nChange-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264\nCloses-Bug: #1404339\n'}]",2,152676,a2191e720225574360487bb6d16f579f65058408,118,32,7,13013,,,0,"Enhance unit tests for zfssa drivers

This fix improves the unit tests for the zfssa drivers
and increases the test coverage.

Change-Id: If651b0a0de87045d246be1f72847a0c1a0ff8264
Closes-Bug: #1404339
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/152676/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/zfssa/zfssarest.py', 'cinder/tests/test_zfssa.py']",2,6c0d1123f1d613c337e5a838c94b6b03ac516036,bug/1404339,"# Copyright (c) 2014, 2015, Oracle and/or its affiliates. All rights reserved.import jsonfrom cinder import exceptionfrom cinder.volume.drivers.zfssa import webdavclientclass FakeResponse(object): def __init__(self, statuscode, data='data'): self.status = statuscode self.data = data _factory_zfssa.return_value = mock.MagicMock(spec=rest.ZFSSAApi) self.drv.zfssa.get_lun.return_value = {'guid': '00000000000000000000000000000000', 'number': 0, 'initiatorgroup': 'default', 'size': 1, 'nodestroy': False } lcfg = self.configuration self.drv.zfssa.create_lun.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_vol['name'], str(self.test_vol['size']) + 'g', lcfg.zfssa_target_group, mock.ANY) self.drv.zfssa.get_lun.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_vol['name']) self.drv.zfssa.delete_lun.assert_called_once_with(pool=lcfg.zfssa_pool, project=lcfg.zfssa_project, lun=self.test_vol['name']) self.drv.zfssa.has_clones.return_value = False lcfg = self.configuration self.drv.zfssa.create_snapshot.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_snap['volume_name'], self.test_snap['name']) self.drv.zfssa.delete_snapshot.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_snap['volume_name'], self.test_snap['name']) self.stubs.Set(self.drv, '_verify_clone_size', mock.Mock()) self.drv._verify_clone_size.return_value = True lcfg = self.configuration self.drv.zfssa.create_snapshot.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_snap['volume_name'], self.test_snap['name']) self.drv._verify_clone_size.assert_called_once_with(self.test_snap, self.test_vol_snap['size'] * units.Gi) self.drv.zfssa.clone_snapshot.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_snap['volume_name'], self.test_snap['name'], self.test_vol_snap['name']) lcfg = self.configuration test_target_iqn = 'iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd' self.stubs.Set(self.drv, '_get_provider_info', mock.Mock()) stub_val = {'provider_location': '%s %s 0' % (lcfg.zfssa_target_portal, test_target_iqn)} self.drv._get_provider_info.return_value = stub_val self.drv._get_provider_info.assert_called_once_with(self.test_vol) self.assertEqual(lcfg.zfssa_target_portal, props['data']['target_portal']) self.assertEqual(test_target_iqn, props['data']['target_iqn']) self.drv.zfssa.set_lun_initiatorgroup.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_vol['name'], '') self.drv.zfssa.get_pool_stats.return_value = 2, 3 lcfg = self.configuration ret = self.drv.get_volume_stats(refresh=True) self.drv.zfssa.get_pool_stats.assert_called_once_with(lcfg.zfssa_pool) lcfg = self.configuration self.drv.zfssa.set_lun_props.assert_called_once_with(lcfg.zfssa_pool, lcfg.zfssa_project, self.test_vol['name'], volsize= 3 * units.Gi) _factory_zfssa.return_value = mock.MagicMock(spec=rest.ZFSSANfsApi) lcfg = self.configuration self.drv.zfssa.create_snapshot.assert_called_once_with(lcfg.zfssa_nfs_pool, lcfg.zfssa_nfs_project, lcfg.zfssa_nfs_share, mock.ANY) self.drv.zfssa.create_snapshot_of_volume_file.assert_called_once_with(src_file=mock.ANY, dst_file= self.test_snap['name']) self.drv.zfssa.delete_snapshot_of_volume_file.assert_called_with(src_file=self.test_snap['name']) self.drv.zfssa.create_volume_from_snapshot_file.assert_called_once_with(src_file= self.test_snap['name'], dst_file=self.test_vol_snap['name'], method='COPY') class TestZFSSAApi(test.TestCase): @mock.patch.object(rest, 'factory_restclient') def setUp(self, _restclient): super(TestZFSSAApi, self).setUp() self.host = 'fakehost' self.user = 'fakeuser' self.url = None self.pool = 'fakepool' self.project = 'fakeproject' self.vol = 'fakevol' self.snap = 'fakesnapshot' self.clone = 'fakeclone' self.targetalias = 'fakealias' _restclient.return_value = mock.MagicMock(spec=client.RestClientURL) self.zfssa = rest.ZFSSAApi() self.zfssa.set_host('fakehost') self.pool_url = '/api/storage/v1/pools/' def _create_response(self, status, data='data'): response = FakeResponse(status, data) return response def test_create_project(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK) self.zfssa.create_project(self.pool, self.project) expected_svc = self.pool_url + self.pool + '/projects/' + self.project self.zfssa.rclient.get.assert_called_with(expected_svc) def test_create_initiator(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK) initiator = 'iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd' alias = 'init-group' self.zfssa.create_initiator(initiator, alias) self.zfssa.rclient.get.assert_called_with('/api/san/v1/iscsi/initiators/alias=' + alias) def test_create_target(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.NOT_FOUND) ret_val = json.dumps({'target':{'iqn':'iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd'}}) self.zfssa.rclient.post.return_value = self._create_response(client.Status.CREATED, ret_val) alias = 'tgt-group' self.zfssa.create_target(alias) self.zfssa.rclient.post.assert_called_with('/api/san/v1/iscsi/targets', {'alias' : alias}) def test_get_target(self): ret_val = json.dumps({'target':{'href':'fake_href', 'alias':'tgt-group', 'iqn': 'iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd', 'targetchapuser': '', 'targetchapsecret': '', 'interfaces': ['nge0']}}) self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK, ret_val) ret = self.zfssa.get_target('tgt-group') self.zfssa.rclient.get.assert_called_once_with('/api/san/v1/iscsi/targets/alias=tgt-group') self.assertEqual('iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd', ret) def test_verify_pool(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK) self.zfssa.verify_pool(self.pool) self.zfssa.rclient.get.assert_called_with(self.pool_url + self.pool) def test_verify_project(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.NOT_FOUND) self.assertRaises(exception.VolumeBackendAPIException, self.zfssa.verify_project, self.pool, self.project) def test_verify_initiator(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK) self.zfssa.verify_initiator('iqn.1-0.org.deb:01:d7') self.zfssa.rclient.get.assert_called_with('/api/san/v1/iscsi/initiators/iqn.1-0.org.deb:01:d7') def test_verify_target(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.BAD_REQUEST) self.assertRaises(exception.VolumeBackendAPIException, self.zfssa.verify_target, self.targetalias) def test_create_delete_lun(self): self.zfssa.rclient.post.return_value = self._create_response(client.Status.CREATED) self.zfssa.create_lun(self.pool, self.project, self.vol, 1, 'tgt-grp', None) expected_arg = {'name': self.vol, 'volsize': 1, 'targetgroup': 'tgt-grp', 'initiatorgroup': 'com.sun.ms.vss.hg.maskAll'} self.zfssa.rclient.post.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/luns', expected_arg) self.zfssa.rclient.delete.return_value = self._create_response(client.Status.NO_CONTENT) self.zfssa.delete_lun(self.pool, self.project, self.vol) self.zfssa.rclient.delete.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/luns/' + self.vol) def test_create_delete_snapshot(self): self.zfssa.rclient.post.return_value = self._create_response(client.Status.CREATED) self.zfssa.create_snapshot(self.pool, self.project, self.vol, self.snap) expected_arg = {'name': self.snap} self.zfssa.rclient.post.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/luns/' + self.vol + '/snapshots', expected_arg) self.zfssa.rclient.delete.return_value = self._create_response(client.Status.NO_CONTENT) self.zfssa.delete_snapshot(self.pool, self.project, self.vol, self.snap) self.zfssa.rclient.delete.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/luns/' + self.vol + '/snapshots/' + self.snap) def test_clone_snapshot(self): self.zfssa.rclient.put.return_value = self._create_response(client.Status.CREATED) self.zfssa.clone_snapshot(self.pool, self.project, self.vol, self.snap, self.clone) expected_svc = '/api/storage/v1/pools/' + self.pool + '/projects/' + \ self.project + '/luns/' + self.vol + '/snapshots/' + self.snap + '/clone' expected_arg = {'project' : self.project, 'share' : self.clone, 'nodestroy' : True} self.zfssa.rclient.put.assert_called_with(expected_svc, expected_arg) class TestZFSSANfsApi(test.TestCase): @mock.patch.object(rest, 'factory_restclient') def setUp(self, _restclient): super(TestZFSSANfsApi, self).setUp() self.host = 'fakehost' self.user = 'fakeuser' self.url = None self.pool = 'fakepool' self.project = 'fakeproject' self.share = 'fakeshare' self.snap = 'fakesnapshot' self.targetalias = 'fakealias' _restclient.return_value = mock.MagicMock(spec=client.RestClientURL) self.webdavclient = mock.MagicMock(spec=webdavclient.ZFSSAWebDAVClient) self.zfssa = rest.ZFSSANfsApi() self.zfssa.set_host('fakehost') self.pool_url = '/api/storage/v1/pools/' def _create_response(self, status, data='data'): response = FakeResponse(status, data) return response def test_verify_share(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK) self.zfssa.verify_share(self.pool, self.project, self.share) self.zfssa.rclient.get.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/filesystems/' + self.share) def test_create_delete_snapshot(self): self.zfssa.rclient.post.return_value = self._create_response(client.Status.CREATED) self.zfssa.create_snapshot(self.pool, self.project, self.share, self.snap) expected_arg = {'name': self.snap} self.zfssa.rclient.post.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/filesystems/' + self.share + '/snapshots', expected_arg) self.zfssa.rclient.delete.return_value = self._create_response(client.Status.NO_CONTENT) self.zfssa.delete_snapshot(self.pool, self.project, self.share, self.snap) self.zfssa.rclient.delete.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/filesystems/' + self.share + '/snapshots/' + self.snap) def create_delete_snapshot_of_volume_file(self): src_file = ""fake_src_file"" dst_file = ""fake_dst_file"" self.zfssa.create_snapshot_of_volume_file(src_file=src_file, dst_file=dst_file) self.zfssa.webdavclient.request.assert_called_once_with(src_file=src_file, dst_file=dst_file, method='COPY') self.zfssa.delete_snapshot_of_volume_file(src_file=src_file) self.zfssa.webdavclient.request.assert_called_once_with(src_file=src_file, method='DELETE') def test_get_share(self): ret_val = json.dumps({'filesystem':'test_fs'}) self.zfssa.rclient.get.return_value = self._create_response(client.Status.OK, ret_val) ret = self.zfssa.get_share(self.pool, self.project, self.share) self.zfssa.rclient.get.assert_called_with(self.pool_url + self.pool + '/projects/' + self.project + '/filesystems/' + self.share) self.assertEqual('test_fs', ret) def test_create_share(self): self.zfssa.rclient.get.return_value = self._create_response(client.Status.NOT_FOUND) self.zfssa.rclient.post.return_value = self._create_response(client.Status.BAD_REQUEST) self.assertRaises(exception.VolumeBackendAPIException, self.zfssa.create_share, self.pool, self.project, self.share, {})","# Copyright (c) 2014, Oracle and/or its affiliates. All rights reserved. from json import JSONEncoderclass FakeZFSSA(object): """"""Fake ZFS SA"""""" def __init__(self): self.user = None self.host = None def login(self, user): self.user = user def set_host(self, host, timeout=None): self.host = host def create_project(self, pool, project, compression, logbias): out = {} if not self.host or not self.user: return out out = {""status"": ""online"", ""name"": ""pool"", ""usage"": {""available"": 10, ""total"": 10, ""dedupratio"": 100, ""used"": 1}, ""peer"": ""00000000-0000-0000-0000-000000000000"", ""owner"": ""host"", ""asn"": ""11111111-2222-3333-4444-555555555555""} return out def create_initiator(self, init, initgrp, chapuser, chapsecret): out = {} if not self.host or not self.user: return out out = {""href"": ""fake_href"", ""alias"": ""fake_alias"", ""initiator"": ""fake_iqn.1993-08.org.fake:01:000000000000"", ""chapuser"": """", ""chapsecret"": """" } return out def add_to_initiatorgroup(self, init, initgrp): r = rest.ZFSSAApi() type(r).rclient = mock.PropertyMock(return_value=FakeAddIni2InitGrp()) r.add_to_initiatorgroup(init, initgrp) def create_target(self, tgtalias, inter, tchapuser, tchapsecret): out = {} if not self.host or not self.user: return out out = {""href"": ""fake_href"", ""alias"": ""fake_tgtgrp"", ""iqn"": ""iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd"", ""auth"": ""none"", ""targetchapuser"": """", ""targetchapsecret"": """", ""interfaces"": [""eth0""] } return out def add_to_targetgroup(self, iqn, tgtgrp): out = {} if not self.host or not self.user: return {} out = {""href"": ""fake_href"", ""name"": ""fake_tgtgrp"", ""targets"": [""iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd""] } return out def get_lun(self, pool, project, lun): ret = { 'guid': '600144F0F8FBD5BD000053CE53AB0001', 'number': 0, 'initiatorgroup': 'fake_initgrp', 'size': 1 * units.Gi } return ret def get_target(self, target): return 'iqn.1986-03.com.sun:02:00000-aaaa-bbbb-cccc-ddddd' def create_lun(self, pool, project, lun, volsize, targetgroup, specs): out = {} if not self.host and not self.user: return out out = {""status"": ""online"", ""lunguid"": ""600144F0F8FBD5BD000053CE53AB0001"", ""initiatorgroup"": [""fake_initgrp""], ""volsize"": volsize, ""pool"": pool, ""name"": lun, ""project"": project, ""targetgroup"": targetgroup} if specs: out.update(specs) return out def delete_lun(self, pool, project, lun): out = {} if not self.host and not self.user: return out out = {""pool"": pool, ""project"": project, ""name"": lun} return out def create_snapshot(self, pool, project, vol, snap): out = {} if not self.host and not self.user: return {} out = {""name"": snap, ""numclones"": 0, ""share"": vol, ""project"": project, ""pool"": pool} return out def delete_snapshot(self, pool, project, vol, snap): out = {} if not self.host and not self.user: return {} out = {""name"": snap, ""share"": vol, ""project"": project, ""pool"": pool} return out def clone_snapshot(self, pool, project, pvol, snap, vol): out = {} if not self.host and not self.user: return out out = {""origin"": {""project"": project, ""snapshot"": snap, ""share"": pvol, ""pool"": pool}, ""logbias"": ""latency"", ""assignednumber"": 1, ""status"": ""online"", ""lunguid"": ""600144F0F8FBD5BD000053CE67A50002"", ""volsize"": 1, ""pool"": pool, ""name"": vol, ""project"": project} return out def set_lun_initiatorgroup(self, pool, project, vol, initgrp): out = {} if not self.host and not self.user: return out out = {""lunguid"": ""600144F0F8FBD5BD000053CE67A50002"", ""pool"": pool, ""name"": vol, ""project"": project, ""initiatorgroup"": [""fake_initgrp""]} return out def has_clones(self, pool, project, vol, snapshot): return False def set_lun_props(self, pool, project, vol, **kargs): out = {} if not self.host and not self.user: return out out = {""pool"": pool, ""name"": vol, ""project"": project, ""volsize"": kargs['volsize']} return out def get_initiator_initiatorgroup(self, initiator): ret = ['test-init-grp1'] return ret class FakeNFSZFSSA(FakeZFSSA): """"""Fake ZFS SA for the NFS Driver """""" def set_webdav(self, https_path, auth_str): self.webdavclient = https_path def create_share(self, pool, project, share, args): out = {} if not self.host and not self.user: return out out = {""logbias"": nfs_logbias, ""compression"": nfs_compression, ""status"": ""online"", ""pool"": pool, ""name"": share, ""project"": project, ""mountpoint"": '/export/nfs_share'} return out def get_share(self, pool, project, share): out = {} if not self.host and not self.user: return out out = {""logbias"": nfs_logbias, ""compression"": nfs_compression, ""encryption"": ""off"", ""status"": ""online"", ""pool"": pool, ""name"": share, ""project"": project, ""mountpoint"": '/export/nfs_share'} return out def create_snapshot_of_volume_file(self, src_file="""", dst_file=""""): out = {} if not self.host and not self.user: return out out = {""status"": 201} return out def delete_snapshot_of_volume_file(self, src_file=""""): out = {} if not self.host and not self.user: return out out = {""status"": 204} return out def create_volume_from_snapshot_file(self, src_file="""", dst_file="""", method='COPY'): out = {} if not self.host and not self.user: return out out = {""status"": 202} return out def modify_service(self, service, args): out = {} if not self.host and not self.user: return out out = {""service"": {""<status>"": ""online""}} return out def enable_service(self, service): out = {} if not self.host and not self.user: return out out = {""service"": {""<status>"": ""online""}} return out _factory_zfssa.return_value = FakeZFSSA() self.drv.create_volume(self.test_vol) self.drv.delete_volume(self.test_vol) self.drv.create_volume(self.test_vol) self.drv.delete_volume(self.test_vol) def test_remove_export(self): self.drv.create_volume(self.test_vol) self.drv.terminate_connection(self.test_vol, '') self.drv.delete_volume(self.test_vol) self.drv.create_volume(self.test_vol) self.drv.delete_volume(self.test_vol) self.drv.get_volume_stats(refresh=False) self.drv.create_volume(self.test_vol) self.drv.delete_volume(self.test_vol)class FakeAddIni2InitGrp(object): def get(self, path, **kwargs): result = client.RestResult() result.status = client.Status.OK result.data = JSONEncoder().encode({'group': {'initiators': ['iqn.1-0.org.deb:01:d7']}}) return result def put(self, path, body="""", **kwargs): result = client.RestResult() result.status = client.Status.ACCEPTED return result def post(self, path, body="""", **kwargs): result = client.RestResult() result.status = client.Status.CREATED return result _factory_zfssa.return_value = FakeNFSZFSSA() self.assertEqual('2.2.2.2:/export/nfs_share', prov_loc['provider_location'])",288,303
openstack%2Fcinder~master~I044e31b26bbfed01cb9b300dfb4eae0764ef6415,openstack/cinder,master,I044e31b26bbfed01cb9b300dfb4eae0764ef6415,Add 3PAR extra specs schema into volume stats,ABANDONED,2015-01-13 22:51:24.000000000,2015-08-16 07:56:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 5538}, {'_account_id': 6043}, {'_account_id': 6825}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11592}, {'_account_id': 11811}, {'_account_id': 11880}, {'_account_id': 11903}, {'_account_id': 11904}, {'_account_id': 11941}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14223}, {'_account_id': 14242}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-13 22:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61568549145a1f6b5b1bf470a8cfdd5eb17bae6f', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 2, 'created': '2015-01-13 23:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3aaa41251d01c77201eb577074166a39b392c0f5', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 3, 'created': '2015-01-14 16:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65037d824c92c48b2c568a89bed9c1989626877b', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 4, 'created': '2015-01-22 23:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3383f75fd42e5ae4b751730fee92875c116c9ca1', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 5, 'created': '2015-01-23 06:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7b65f6170eabda234649727184d5e3f44958511', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 6, 'created': '2015-01-23 16:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2212b4ba0382e526288ea0bd9604e7b2fb30816', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 7, 'created': '2015-01-23 16:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bbdde376a64ba890f4e6d897cae9e6c8d622f86', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 8, 'created': '2015-01-28 21:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eda75beee63ccf1952efbbb130ff1d1214a4752b', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 9, 'created': '2015-01-29 22:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe151391f4069bec92047c862fc43c3a18b5bf6d', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 10, 'created': '2015-02-17 20:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02518219d9feb804fee75c959c84c9f5b0c9c9b2', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}, {'number': 11, 'created': '2015-02-17 20:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39b30c8624091e69740cf0069aaabcf1c6de6201', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema can be used to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs'}, {'number': 12, 'created': '2015-02-17 22:06:32.000000000', 'files': ['test-requirements.txt', 'cinder/tests/test_hp3par.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a91b325d6fc3ed4136099007c42f569c35b7e533', 'message': 'Add 3PAR extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\n3PAR driver into the volume stats.  This schema can be used to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}]",23,147005,a91b325d6fc3ed4136099007c42f569c35b7e533,146,34,12,6825,,,0,"Add 3PAR extra specs schema into volume stats

Adds the JSON schema for the extra specs that which are supported by the
3PAR driver into the volume stats.  This schema can be used to
improve the user experience when managing volume type extra specs.

Change-Id: I044e31b26bbfed01cb9b300dfb4eae0764ef6415
Partially-Implements: blueprint get-volume-type-extra-specs
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/147005/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/san/hp/hp_3par_common.py'],1,61568549145a1f6b5b1bf470a8cfdd5eb17bae6f,bp/vol-type-extra-specs-enhancements," def _get_extra_specs_schema(self): return { ""description"": ""HP 3PAR extra specs"", ""display_name"": ""HP3PARFCDriver"", ""namespace"": ""OS::Cinder::HP3PARFCDriver"", ""type"": ""object"", ""properties"": { ""hp3par:cpg"": { ""title"": ""CPG"", ""description"": ""Common Provisioning Group (CPG) in which "" ""volumes will be provisioned"", ""type"": ""string"", }, ""hp3par:snap_cpg"": { ""title"": ""Snapshot CPG"", ""description"": ""Common Provisioning Group (CPG) in which "" ""snapshots will be provisioned"", ""type"": ""string"", }, ""hp3par:provisioning"": { ""title"": ""Disk Provisioning"", ""description"": ""Disk provisioning mode"", ""type"": ""string"", ""enum"": [""thick"", ""full""], ""default"": ""thin"", }, ""hp3par:vvs"": { ""title"": ""Virtual Volume Set"", ""description"": ""The virtual volume set name that has been "" ""predefined by the Administrator with "" ""Quality of Service (QoS) rules associated "" ""to it. If you specify extra_specs "" ""hp3par:vvs, the qos_specs minIOPS, "" ""maxIOPS, minBWS, and maxBWS settings are "" ""ignored"", ""type"": ""string"", }, ""hp3par:persona"": { ""title"": ""persona"", ""description"": ""HP 3PAR Persona"", ""type"": ""string"", ""enum"": [ ""1 - Generic"", ""2 - Generic-ALUA"", ""3 - Generic-legacy"", ""4 - HPUX-legacy"", ""5 - AIX-legacy"", ""6 - EGENERA"", ""7 - ONTAP-legacy"", ""8 - VMware"", ""9 - OpenVMS"", ""10 - HPUX"", ""11 - WindowsServer"", ], ""default"": ""2 - Generic-ALUA"", }, } } 'dest_cpg': cpg_name}), 'extra_specs': self._get_extra_specs_schema()", 'dest_cpg': cpg_name}),61,1
openstack%2Fcinder~master~I5d562dc85eb45c2db3f106b653e9e9ed942212bf,openstack/cinder,master,I5d562dc85eb45c2db3f106b653e9e9ed942212bf,Refactoring initialize connection api to use taskflow,ABANDONED,2015-01-21 13:25:47.000000000,2015-08-16 07:56:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2861}, {'_account_id': 4355}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-21 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ff15d5e578d17c2d71020ab71797a6d95e4522b', 'message': 'Refactoring initialize connection api to use taskflow\n\nRefactor initialize connection workflow using taskflow and split\nthat workflow for volume-manager into separate tasks.\nCreate tasks which perform the individual required actions to accomplish\nthe desried outcome.\n\nThe volume-manager workflow composed of following tasks:\n- Verify driver initialization and validates Connector.\n- Exports the volume and returns the updated volume reference (remove\n  export on failure)\n- Allow connection to connector and returns connection info.\n- Add QOS specs to connection info and returns updated connection info.\n\nChange-Id: I5d562dc85eb45c2db3f106b653e9e9ed942212bf\n'}, {'number': 2, 'created': '2015-01-21 13:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bdbe345be92ecaf04185d9c0f3d5cc5c6d0ec2f', 'message': 'Refactoring initialize connection api to use taskflow\n\nRefactor initialize connection workflow using taskflow and split\nthat workflow for volume-manager into separate tasks.\nCreate tasks which perform the individual required actions to accomplish\nthe desired outcome.\n\nThe volume-manager workflow composed of following tasks:\n- Verify driver initialization and validates Connector.\n- Exports the volume and returns the updated volume reference (remove\n  export on failure)\n- Allow connection to connector and returns connection info.\n- Add QOS specs to connection info and returns updated connection info.\n\nChange-Id: I5d562dc85eb45c2db3f106b653e9e9ed942212bf\n'}, {'number': 3, 'created': '2015-01-22 13:04:26.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/test_volume.py', 'cinder/volume/flows/manager/initialize_connection.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cffd8cb87d340911b12c13996f0960732c4f66c0', 'message': 'Refactoring initialize connection api to use taskflow\n\nRefactor initialize connection workflow using taskflow and split\nthat workflow for volume-manager into separate tasks.\nCreate tasks which perform the individual required actions to accomplish\nthe desired outcome.\n\nThe volume-manager workflow composed of following tasks:\n- Verify driver initialization and validates Connector.\n- Exports the volume and returns the updated volume reference (remove\n  export on failure)\n- Allow connection to connector and returns connection info.\n- Add QOS specs to connection info and returns updated connection info.\n\nChange-Id: I5d562dc85eb45c2db3f106b653e9e9ed942212bf\n'}]",16,148920,cffd8cb87d340911b12c13996f0960732c4f66c0,29,17,3,10795,,,0,"Refactoring initialize connection api to use taskflow

Refactor initialize connection workflow using taskflow and split
that workflow for volume-manager into separate tasks.
Create tasks which perform the individual required actions to accomplish
the desired outcome.

The volume-manager workflow composed of following tasks:
- Verify driver initialization and validates Connector.
- Exports the volume and returns the updated volume reference (remove
  export on failure)
- Allow connection to connector and returns connection info.
- Add QOS specs to connection info and returns updated connection info.

Change-Id: I5d562dc85eb45c2db3f106b653e9e9ed942212bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/148920/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/test_volume.py', 'cinder/volume/flows/manager/initialize_connection.py']",3,4ff15d5e578d17c2d71020ab71797a6d95e4522b,rm/17488_init_conn,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import taskflow.engines from taskflow.patterns import linear_flow from taskflow.types import failure from cinder import exception from cinder import flow_utils from cinder.i18n import _, _LE from cinder.openstack.common import log as logging from cinder import utils from cinder.volume import volume_types LOG = logging.getLogger(__name__) ACTION = 'volume:initialize_connection' class ValidateConnectorTask(flow_utils.CinderTask): """"""Verify driver initialization and validates Connector. Verifies `driver` initialization. If the driver is not initialized, an exception will be raised. we can't do anything if the driver didn't initialized. Validates connector to check whether it contains all the data needed by driver. Reversion strategy: N/A """""" def __init__(self, driver): super(ValidateConnectorTask, self).__init__(addons=[ACTION]) self.driver = driver def execute(self, connector): # NOTE(flaper87): Verify the driver is enabled # before going forward. The exception will be caught # and the volume status updated. utils.require_driver_initialized(self.driver) try: self.driver.validate_connector(connector) except Exception as err: err_msg = (_('Unable to fetch connection information from ' 'backend: %(err)s.') % {'err': err}) LOG.error(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) class CreateExportAndUpdateVolumeTask(flow_utils.CinderTask): """"""Exports the volume and returns the updated volume reference. Reversion strategy: Removes the created export for volume. """""" default_provides = 'volume_ref' def __init__(self, db, driver): super(CreateExportAndUpdateVolumeTask, self).__init__(addons=[ACTION]) self.db = db self.driver = driver def execute(self, context, volume_id): volume_ref = self.db.volume_get(context, volume_id) model_update = None try: LOG.debug(""Volume %s: creating export"", volume_id) model_update = self.driver.create_export(context.elevated(), volume_ref) except exception.CinderException: err_msg = (_('Unable to create export for volume %(volume_id)s.') % {'volume_id': volume_id}) LOG.exception(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) if model_update: try: volume_ref = self.db.volume_update(context, volume_id, model_update) except exception.CinderException as ex: LOG.exception(_LE(""Failed updating model of volume "" ""%(volume_id)s with driver provided model "" ""%(model)s."") % {'volume_id': volume_id, 'model': model_update}) raise exception.ExportFailure(reason=ex) return volume_ref def revert(self, context, result, volume_id, **kwargs): if isinstance(result, failure.Failure): return volume = self.db.volume_get(context, volume_id) self.driver.remove_export(context.elevated(), volume) class DriverInitializeConnectionTask(flow_utils.CinderTask): """"""Allow connection to connector and returns connection info. Reversion strategy: N/A """""" default_provides = 'conn_info' def __init__(self, driver): super(DriverInitializeConnectionTask, self).__init__(addons=[ACTION]) self.driver = driver def execute(self, volume_ref, connector): try: return self.driver.initialize_connection(volume_ref, connector) except Exception as err: err_msg = (_('Unable to fetch connection information from ' 'backend: %(err)s.') % {'err': err}) LOG.error(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) class AddQOSSpecsTask(flow_utils.CinderTask): """"""Add QOS specs to connection info and returns updated connection info. Reversion strategy: N/A """""" default_provides = 'conn_info_with_qos_specs' def __init__(self, db): requires = ['volume_ref', 'conn_info'] super(AddQOSSpecsTask, self).__init__(addons=[ACTION], requires=requires) self.db = db def execute(self, context, volume_ref, conn_info): conn_info_with_qos_specs = conn_info type_id = volume_ref['volume_type_id'] specs = None if type_id: res = volume_types.get_volume_type_qos_specs(type_id) qos = res['qos_specs'] # only pass qos_specs that is designated to be consumed by # front-end, or both front-end and back-end. if qos and qos.get('consumer') in ['front-end', 'both']: specs = qos.get('specs') qos_spec = dict(qos_specs=specs) conn_info_with_qos_specs['data'].update(qos_spec) # Add access_mode to connection info volume_metadata = self.db.volume_admin_metadata_get( context.elevated(), volume_ref['id']) if conn_info_with_qos_specs['data'].get('access_mode') is None: access_mode = volume_metadata.get('attached_mode') if access_mode is None: # NOTE(zhiyan): client didn't call 'os-attach' before access_mode = ('ro' if volume_metadata.get('readonly') == 'True' else 'rw') conn_info_with_qos_specs['data']['access_mode'] = access_mode return conn_info_with_qos_specs def get_flow(db, driver, create_what): """"""Constructs and returns the manager entry-point flow. This flow will do the following: 1. Verify whether driver is initialized or not. Validates connector to check whether it contains all the data needed by driver. 2. Exports the volume and returns updated volume reference. 3. Allow connection to connector and returns connection info. 4. Add qos_specs to connection info and returns updated connection info. """""" flow_name = ACTION.replace("":"", ""_"") + ""_manager"" volume_flow = linear_flow.Flow(flow_name) volume_flow.add(ValidateConnectorTask(driver), CreateExportAndUpdateVolumeTask(db, driver), DriverInitializeConnectionTask(driver), AddQOSSpecsTask(db)) # Now load (but do not run) the flow using the provided initial data. return taskflow.engines.load(volume_flow, store=create_what) ",,353,135
openstack%2Fcinder~master~I0531693f0f01856d2d8c9206523d07d44e0e6986,openstack/cinder,master,I0531693f0f01856d2d8c9206523d07d44e0e6986,VMware: Support for non-default port,ABANDONED,2015-01-12 07:05:24.000000000,2015-08-16 07:56:23.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9297}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12561}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-12 07:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/644df2d1e4c53b81dc2405069ce5d7f44ecbe9f6', 'message': 'VMware: driver not handling port other than 443\n\nCurrently driver is failing to connect to vCenter if it configured to\nlisten to any port other than default 443. This patch fix it\n\nDocImpact\nCloses-Bug: #1387074\n\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n'}, {'number': 2, 'created': '2015-01-12 08:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/077f966c8ddcb239d80bb753af4a4207da70e3cd', 'message': 'VMware: driver not handling port other than 443\n\nCurrently driver is failing to connect to vCenter if it configured to\nlisten to any port other than default 443. This patch fix it\n\nDocImpact\nCloses-Bug: #1387074\n\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n'}, {'number': 3, 'created': '2015-01-13 07:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4af1f6a8fe4fa134b72f96e6a75fb7b04d8f9621', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 4, 'created': '2015-01-13 08:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/816e8f19fab8c8485d288c6c907b2edf7f421dff', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran<vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 5, 'created': '2015-01-16 08:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/081b3c4a3552ea070a67c087806764a40ab803dd', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran<vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 6, 'created': '2015-01-20 10:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89410b30304ef027dad21702cb73519d3b46ed60', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran<vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 7, 'created': '2015-01-22 07:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03ffa5b5c0ead19fb606739d99e7463d94ccfb7e', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran <vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 8, 'created': '2015-01-22 09:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea8da2e382fc655f3a7b1257be4ccfb27cb8b57a', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran <vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 9, 'created': '2015-01-22 10:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0789285863102fb71a8104a8d8fa5131596a2ad0', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran <vbala@vmware.com>\nCloses-Bug: #1387074\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}, {'number': 10, 'created': '2015-02-08 10:16:51.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42f912eae69ae79ac187f14729dbd4526667cf8e', 'message': ""VMware: Support for non-default port\n\nCurrently VMDK driver is failing to connect to vCenter/ESX\nserver if it is configured to listen to any port other than\nthe default port 443. This patch fixes it by adding support\nfor a new config option 'vmware_host_port' which specifies\nthe port number to connect to vCenter/ESX.\n\nDocImpact\n  Added config option 'vmware_host_port' which specifies the\n  port number to connect to vCenter/ESX server.\n\nCo-Authored-By: Vipin Balachandran <vbala@vmware.com>\nCloses-Bug: #1387074\n\nChange-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986\n""}]",11,146384,42f912eae69ae79ac187f14729dbd4526667cf8e,120,28,10,9297,,,0,"VMware: Support for non-default port

Currently VMDK driver is failing to connect to vCenter/ESX
server if it is configured to listen to any port other than
the default port 443. This patch fixes it by adding support
for a new config option 'vmware_host_port' which specifies
the port number to connect to vCenter/ESX.

DocImpact
  Added config option 'vmware_host_port' which specifies the
  port number to connect to vCenter/ESX server.

Co-Authored-By: Vipin Balachandran <vbala@vmware.com>
Closes-Bug: #1387074

Change-Id: I0531693f0f01856d2d8c9206523d07d44e0e6986
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/146384/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vmware/vmdk.py'],1,644df2d1e4c53b81dc2405069ce5d7f44ecbe9f6,use_custom_port," cfg.IntOpt('vmware_host_port', default=443, help='Port number for connecting to VMware ESX/VC server.'), port = self.configuration.vmware_host_port port = self.configuration.vmware_host_port port=port, port = self.configuration.vmware_host_port port=port, port = self.configuration.vmware_host_port port=port, port = self.configuration.vmware_host_port port=port, port = self.configuration.vmware_host_port port=port,"," # TODO(vbala): add config option to override non-default port port=443, port=443, port=443, port=443, port=443,",14,6
openstack%2Fcinder~master~I427525a2ab78ed10d3776efde70ec6e9c4c456d3,openstack/cinder,master,I427525a2ab78ed10d3776efde70ec6e9c4c456d3,Begin working on a explicit state transition table/s,ABANDONED,2014-07-29 19:32:20.000000000,2015-08-16 07:55:33.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1297}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 6172}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9751}, {'_account_id': 10035}, {'_account_id': 10263}, {'_account_id': 10503}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12018}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14428}]","[{'number': 1, 'created': '2014-07-29 19:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9eb1d7f3b8c96685b0ae9ede9298d9485a1863e', 'message': 'Begin working on a explict volume state transition table\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a persistent store) we first need to create\na known mapping of those state transitions and use these in\nthe appropriate locations in cinder (otherwise future changes\nthat make the states more granular will be meaningless).\n\nPart of blueprint cinder-state-enforcer\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 2, 'created': '2014-07-29 19:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/078d3e71c08d7e5a5825aebf9e68b0a7dc058c0d', 'message': 'Begin working on a explict volume state transition table\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 3, 'created': '2014-07-29 20:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c290f7d9593bf6969358796cc5e8397cf1ff172', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 4, 'created': '2014-07-29 23:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed5fe22ff19d2297945bb91448834b26d3922f3a', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 5, 'created': '2014-07-29 23:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02728706c5df0ee703c137d92c6680daf1f6bdc3', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 6, 'created': '2014-07-30 00:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dda2b2230dd01225bd39fa94a76e5da4e8a96f9', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 7, 'created': '2014-07-31 00:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd09f61a13eaf5d2db1054bdb341d30895a689b5', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 8, 'created': '2014-08-22 22:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01e656e4ed9fe1ceb20e33ddfd266351b699898a', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 9, 'created': '2014-08-22 22:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00df2e6bde9c19d352127e15803d9da175b21c47', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 10, 'created': '2014-08-22 23:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/518e27a7c02116a5ae1498d3d0ae6a8abd29cb14', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 11, 'created': '2014-08-22 23:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a420c5dc05dbe06dd252e9f62ad1dd3f8e19dff', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 12, 'created': '2014-08-23 00:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93ea8d775b7de821a170809df23ab93566b56db6', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 13, 'created': '2014-08-24 22:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac5cc290d8ed572ccd002bf23be445fde7b266db', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 14, 'created': '2014-08-25 00:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c6d4c3b0697f86cfe595d9528272d31cdf6047d', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 15, 'created': '2014-08-25 18:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82d540a8a1ab531baaadd2db731ab6c8c383e950', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 16, 'created': '2014-09-25 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b05c6acf9c422ea29e44ca6898a7dbd6f038584f', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 17, 'created': '2014-09-29 22:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8c26e2f05027a03220fee7271f76298ed830653', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 18, 'created': '2014-10-13 08:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7cf1ff964fd5a46e2725720b4fa9107ce1a6cf9', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 19, 'created': '2014-10-14 09:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b71e5cdcb7369d28067eca1d7fbf0a3fc5cd7540', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 20, 'created': '2014-10-28 01:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/307566ef6a1880d5a318c0be33917c4b0e0656f9', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 21, 'created': '2014-11-27 01:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/75743eac0b785de9657658a357020e8a0cef682c', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 22, 'created': '2014-11-27 01:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf723989554e87a4924e86c3b76b1fa8042ae7c0', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 23, 'created': '2015-01-23 11:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddc8b07dca6a125fec3ac0487988d1052463d206', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 24, 'created': '2015-01-23 13:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f868ec31c177d8bd5e3f09dffbf5462505b556b', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 25, 'created': '2015-01-23 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/738da03bf80460b303a0e59ca18576c9e71902ef', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 26, 'created': '2015-01-27 14:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/175653cd7cb6e2546d7dabb7ffb85a95e80b48dd', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 27, 'created': '2015-02-06 19:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed1caf580616fee9ceedbeb77ae29ab42529121b', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}, {'number': 28, 'created': '2015-02-06 20:32:06.000000000', 'files': ['cinder/exception.py', 'cinder/volume/states.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/08849f7afc25d62c18b1e71aa2c25a4c5d4e9ae4', 'message': 'Begin working on a explicit state transition table/s\n\nIn order to be more restrictive about the allowed state\ntransitions a volume can go through (and to eventually keep\nthis information in a dedicated persistent store) we first need\nto create a known mapping of those state transitions and use these\nin the appropriate locations in cinder (otherwise future changes\nthat make the states more granular and such... will be\nmeaningless).\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3\n'}]",26,110434,08849f7afc25d62c18b1e71aa2c25a4c5d4e9ae4,186,34,28,1297,,,0,"Begin working on a explicit state transition table/s

In order to be more restrictive about the allowed state
transitions a volume can go through (and to eventually keep
this information in a dedicated persistent store) we first need
to create a known mapping of those state transitions and use these
in the appropriate locations in cinder (otherwise future changes
that make the states more granular and such... will be
meaningless).

Part of blueprint cinder-state-enforcer

Part of blueprint valid-states-api

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: I427525a2ab78ed10d3776efde70ec6e9c4c456d3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/110434/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/volume/states.py']",2,c9eb1d7f3b8c96685b0ae9ede9298d9485a1863e,bp/cinder-state-enforcer,"# Copyright (C) 2013 Yahoo! Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder import exception as excp # All the known volume states & transitions that are allowed. VOLUME_ATTACHING = 'attaching' VOLUME_AVAILABLE = 'available' VOLUME_CREATING = 'creating' VOLUME_DELETING = 'deleting' VOLUME_DOWNLOADING = 'downloading' VOLUME_ERROR = 'error' VOLUME_ERROR_ATTACHING = 'error_attaching' VOLUME_ERROR_DELETING = 'error_deleting' VOLUME_ERROR_DETACHING = 'error_detaching' VOLUME_ERROR_EXTENDING = 'error_extending' VOLUME_IN_USE = 'in-use' VOLUME_RETYPING = 'retyping' # All known states (useful for validation). VOLUME_STATES = ( VOLUME_ATTACHING, VOLUME_AVAILABLE, VOLUME_CREATING, VOLUME_DELETING, VOLUME_DOWNLOADING, VOLUME_ERROR, VOLUME_ERROR_ATTACHING, VOLUME_ERROR_DELETING, VOLUME_ERROR_DETACHING, VOLUME_ERROR_EXTENDING, VOLUME_IN_USE, VOLUME_RETYPING, ) # This is equivalent to a poor mans state transition table. VOLUME_TRANSITIONS = ( # Deleting being attempted again. (VOLUME_ERROR_DELETING, VOLUME_DELETING), # For when deleting doesn't work out. (VOLUME_DELETING, VOLUME_AVAILABLE), # Deleting being attempted... (VOLUME_AVAILABLE, VOLUME_DELETING), (VOLUME_ATTACHING, VOLUME_ERROR_ATTACHING), ) def check_volume_transition(old_state, new_state): """"""Check that a volume can transition from old_state to new_state. If transition can be performed, it returns True. If transition should be ignored, it returns False. If transition is not valid, it raises a InvalidTransition exception. """""" if old_state not in VOLUME_STATES: raise ValueError(""Unknown old state '%s'"" % (old_state)) if new_state not in VOLUME_STATES: raise ValueError(""Unknown new state '%s'"" % (new_state)) if old_state == new_state: # Always let equivalent states transition into themselves, this is # useful when cinder crashes (or is killed) and restarts and it wants # to restart existing deletions (for example). return False pair = (old_state, new_state) if pair in VOLUME_TRANSITIONS: return True else: raise excp.InvalidTransition(old_state=old_state, new_state=new_state) ",,84,0
openstack%2Fcinder~master~Ica7680ac58b861ea19fbf990c5bd26764a497dc3,openstack/cinder,master,Ica7680ac58b861ea19fbf990c5bd26764a497dc3,Introducing micro_states for create workflow,ABANDONED,2014-09-25 22:28:08.000000000,2015-08-16 07:55:26.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1297}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 8475}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9533}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10503}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 12924}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-09-25 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd29428789e17f352e5929d700c42adffc798299', 'message': 'State transition logic by introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 2, 'created': '2014-09-26 02:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1150e2f3172e3fdbc99612060380fe69491dcc28', 'message': 'State transition logic by introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 3, 'created': '2014-09-26 02:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e1ea5d19920be0396373ae2d636af9e012f2ab3', 'message': 'State transition logic by introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 4, 'created': '2014-09-29 22:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c0aac949fb00751423434c89ec0bf9493a9a765', 'message': 'State transition logic by introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 5, 'created': '2014-09-29 23:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63c514dff8a5d6277f7a48da12cc4d1df44883bf', 'message': 'State transition logic by introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 6, 'created': '2014-10-13 08:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edcb3653478f15ff7856a91e3920a7de682cdbae', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 7, 'created': '2014-10-13 08:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0879394e8cdf04caa64b11a45268ec1d0ac4cd3c', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 8, 'created': '2014-10-14 08:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5c3ed90668fdad56d865ddbfaa00b570fc0582d', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 9, 'created': '2014-10-14 09:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d34952c78ca90e8a8c8d564a6bdc692b87e29bb3', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 10, 'created': '2014-10-14 09:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c516b160a4072a5d7f2e387c1cbf7505bd08606', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 11, 'created': '2014-10-24 19:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31aa4aef3056b5ef2d870d539dea68729a47397a', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 12, 'created': '2014-10-24 21:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef0c37264c17e0d2d979a4f04e8271ba16f99a2b', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 13, 'created': '2014-10-27 19:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9973fe3f3b6ef83a293654de1d3b45d8cc3f165f', 'message': 'WIP : State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 14, 'created': '2014-10-28 01:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c265508f8affab003e039a0909ca72ae5e0127f', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 15, 'created': '2014-10-29 22:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c651155237cb655709d39d6da0cabddd355f4298', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 16, 'created': '2014-10-29 22:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/475369d7c9d8b6a8a821476e94edde6c3b27d4c6', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 17, 'created': '2014-10-30 19:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5518c527a57c1d4e675a57ae8a0d141576fb302', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 18, 'created': '2014-10-30 21:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6d3e5ec8c1159c126115541a62bbfef603bb8b1', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 19, 'created': '2014-11-21 02:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cc81be819e5277ae396d8785587efdb9259ecb8', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 20, 'created': '2014-11-26 22:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80973c5e0400936593256650c287e7d8237cc598', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 21, 'created': '2014-11-27 01:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac9778cd67e23ba4535332a0af293d0eb47aaa78', 'message': 'State transition logic by introducing micro_states for\ncreate workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 22, 'created': '2015-01-23 14:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c80c07d91f2adf6bd5f82ffa92fe6abb6e29daa', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 23, 'created': '2015-01-23 19:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19316d0ff20b972cc53110b14086a2e00bc7d95b', 'message': 'xIntroducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 24, 'created': '2015-01-23 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a27afedc120c0829b89360c81524a267accf5e58', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 25, 'created': '2015-01-27 14:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8840f06d1b823f28460233ad31f4d1d04ae7d436', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 26, 'created': '2015-01-28 01:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/991955bdaafb6ae28ac7ada655bea01dc69c852e', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 27, 'created': '2015-01-28 20:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ec246e7569b1ca433e7023a46ac35d63143743', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 28, 'created': '2015-02-02 03:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/421fb4e2846f9422c48f0b02d4ae8c0cbe0be963', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 29, 'created': '2015-02-02 21:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95ee015a15a4d66aa567394b6d86205ffb123a76', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 30, 'created': '2015-02-04 01:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a912a91cae7effc616bddbf4d7a21d30f197e79', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 31, 'created': '2015-02-04 21:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/132e3e9884de354d0ca72184c4afd1719269d887', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 32, 'created': '2015-02-04 21:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89ae1f0378006f22bca19f6f79797de213b2e44c', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 33, 'created': '2015-02-06 20:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9233f1cf69be9e6b3415d6bf4661adde93ee7a59', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 34, 'created': '2015-02-10 19:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77332593101bb175a922b9eeed8496e90639705b', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 35, 'created': '2015-02-10 23:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/704802db2f9384b87869ef55528c297694ae0d97', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 36, 'created': '2015-02-11 01:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d63d60da116af45f49e3b6efae7e943e600e4bc9', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}, {'number': 37, 'created': '2015-02-11 07:09:02.000000000', 'files': ['cinder/volume/flows/api/create_volume.py', 'cinder/db/api.py', 'cinder/tests/test_create_volume_microstates.py', 'cinder/exception.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/states.py', 'cinder/db/sqlalchemy/migrate_repo/versions/037_add_micro_state_table.py', 'cinder/tests/test_migrations.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e666ba4204cc96a8faefc057d407a84a49fd011b', 'message': 'Introducing micro_states for create workflow\n\nIntroduce micro_states for the create workflow so as to\nlimit the granularity of the operation per task. The bigger\npicture is to use the state transition diagram to make\ndecision which operation are permitted when two operations\ntry to modify the same volume object, helping in\nserializing the requests. The micro_states table introduced\ncan be stored on a persistent store.\n\nPart of blueprint cinder-state-enforcer\n\nPart of blueprint valid-states-api\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3\n'}]",127,124205,e666ba4204cc96a8faefc057d407a84a49fd011b,308,33,37,10263,,,0,"Introducing micro_states for create workflow

Introduce micro_states for the create workflow so as to
limit the granularity of the operation per task. The bigger
picture is to use the state transition diagram to make
decision which operation are permitted when two operations
try to modify the same volume object, helping in
serializing the requests. The micro_states table introduced
can be stored on a persistent store.

Part of blueprint cinder-state-enforcer

Part of blueprint valid-states-api

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: Ica7680ac58b861ea19fbf990c5bd26764a497dc3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/124205/32 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/api/create_volume.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/states.py', 'cinder/db/sqlalchemy/migrate_repo/versions/027_add_micro_state_table.py', 'cinder/db/sqlalchemy/models.py']",6,fd29428789e17f352e5929d700c42adffc798299,bp/cinder-state-enforcer,"class MicroStates(BASE, CinderBase): """"""Represents a volume transfer request."""""" __tablename__ = 'micro_states' resource_id = Column(String(36), ForeignKey('volumes.id'), primary_key=True) micro_state = Column(String(255)) volume = relationship(Volume, backref=""MicroStates"", foreign_keys=resource_id, primaryjoin='and_(' 'MicorStates.resource_id == Volume.id)') Cgsnapshot, MicroStates", Cgsnapshot,250,2
openstack%2Fcinder~master~Ie5fed49c0776176c9aee722c8e467dd760bf493a,openstack/cinder,master,Ie5fed49c0776176c9aee722c8e467dd760bf493a,Refactoring attach volume api to use taskflow,ABANDONED,2015-01-21 13:38:00.000000000,2015-08-16 07:55:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5203}, {'_account_id': 6172}, {'_account_id': 8992}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11600}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 15249}]","[{'number': 1, 'created': '2015-01-21 13:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5288d728909dc23d00b8e0d8d02665ba92a3bed2', 'message': 'Refactoring attach volume api to use taskflow\n\nRefactor attach volume workflow using taskflow and split\nthat workflow for volume-manager into separate tasks.\nCreate tasks which perform the individual required actions\nto accomplish the desired outcome.\n\nThe volume-manager workflow composed of following tasks:\n- Extracts volume reference from database.\n- Validates volume status and availability.\n- Updates volume status and its metadata.\n- Verify driver initialization.\n- Updates volume status to attached.\n- Notifies about volume actions.\n\nChange-Id: Ie5fed49c0776176c9aee722c8e467dd760bf493a\n'}, {'number': 2, 'created': '2015-03-04 19:21:26.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/attach_volume.py', 'cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3046de412c800a42a1cef68fd917794d4a6783cc', 'message': 'Refactoring attach volume api to use taskflow\n\nRefactor attach volume workflow using taskflow and split\nthat workflow for volume-manager into separate tasks.\nCreate tasks which perform the individual required actions\nto accomplish the desired outcome.\n\nThe volume-manager workflow composed of following tasks:\n- Extracts volume reference from database.\n- Validates volume status and availability.\n- Updates volume status and its metadata.\n- Verify driver initialization.\n- Updates volume status to attached.\n- Notifies about volume actions.\n\nChange-Id: Ie5fed49c0776176c9aee722c8e467dd760bf493a\n'}]",11,148922,3046de412c800a42a1cef68fd917794d4a6783cc,33,22,2,10485,,,0,"Refactoring attach volume api to use taskflow

Refactor attach volume workflow using taskflow and split
that workflow for volume-manager into separate tasks.
Create tasks which perform the individual required actions
to accomplish the desired outcome.

The volume-manager workflow composed of following tasks:
- Extracts volume reference from database.
- Validates volume status and availability.
- Updates volume status and its metadata.
- Verify driver initialization.
- Updates volume status to attached.
- Notifies about volume actions.

Change-Id: Ie5fed49c0776176c9aee722c8e467dd760bf493a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/148922/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/flows/manager/attach_volume.py', 'cinder/tests/test_volume.py']",3,5288d728909dc23d00b8e0d8d02665ba92a3bed2,attach_volume_tf,"from cinder.volume.flows.manager import attach_volumeINSTANCE_UUID = '12345678-1234-5678-1234-567812345678' MOUNTPOINT = '/dev/sdf' self.volume.attach_volume(self.context, volume_id, INSTANCE_UUID, None, MOUNTPOINT, 'ro') self.assertEqual(""in-use"", vol['status']) self.assertEqual(""attached"", vol['attach_status']) self.assertEqual(MOUNTPOINT, vol['mountpoint']) self.assertEqual(INSTANCE_UUID, vol['instance_uuid']) self.assertEqual(2, len(admin_metadata)) self.assertDictMatch(expected, ret) self.assertEqual('ro', conn_info['data']['access_mode']) self.assertEqual(""available"", vol['status']) 'fake_host', MOUNTPOINT, 'rw') self.assertEqual(""in-use"", vol['status']) self.assertEqual(""attached"", vol['attach_status']) self.assertEqual(MOUNTPOINT, vol['mountpoint']) self.assertEqual('fake-host', vol['attached_host']) self.assertEqual(2, len(admin_metadata)) self.assertDictMatch(expected, ret) self.assertEqual('rw', conn_info['data']['access_mode']) self.assertEqual(""available"", vol['status']) self.volume.attach_volume(self.context, volume_id, INSTANCE_UUID, None, MOUNTPOINT, 'ro') self.assertEqual(""in-use"", vol['status']) self.assertEqual(""attached"", vol['attach_status']) self.assertEqual(MOUNTPOINT, vol['mountpoint']) self.assertEqual(INSTANCE_UUID, vol['instance_uuid']) self.assertEqual(2, len(admin_metadata)) self.assertDictMatch(expected, ret) self.assertEqual('ro', conn_info['data']['access_mode']) self.assertEqual(""available"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) 'fake_host', MOUNTPOINT, 'ro') self.assertEqual(""in-use"", vol['status']) self.assertEqual(""attached"", vol['attach_status']) self.assertEqual(MOUNTPOINT, vol['mountpoint']) self.assertEqual('fake-host', vol['attached_host']) self.assertEqual(2, len(admin_metadata)) self.assertDictMatch(expected, ret) self.assertEqual('ro', conn_info['data']['access_mode']) self.assertEqual(""available"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) INSTANCE_UUID, MOUNTPOINT, self.assertEqual(""available"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) MOUNTPOINT, self.assertEqual(""available"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) def test_manager_volume_attached_by_another_host(self): # Don't allow if volume is being attached by another host. volume = tests_utils.create_volume(self.context, admin_metadata={'readonly': 'True'}, **self.volume_params) volume_id = volume['id'] db.volume_update(self.context, volume_id, {'status': 'attaching', 'attached_host': 'test_host'}) self.assertRaises(exception.InvalidVolume, self.volume.attach_volume, self.context, volume_id, INSTANCE_UUID, 'fake_host', MOUNTPOINT, 'ro') vol = db.volume_get(context.get_admin_context(), volume_id) admin_metadata = vol['volume_admin_metadata'] self.assertEqual(""attaching"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) # Delete above created test volume. self.volume.delete_volume(self.context, volume_id) self.assertRaises(exception.VolumeNotFound, db.volume_get, self.context, volume_id) def test_manager_attach_volume_with_invalid_instance_uuid(self): # Set volume status to error_attaching if instance uuid is invalid. instance_uuid = '12345678-1234-5678-1234' volume = tests_utils.create_volume(self.context, admin_metadata={'readonly': 'True'}, **self.volume_params) volume_id = volume['id'] db.volume_update(self.context, volume_id, {'status': 'available', 'attached_host': 'None'}) self.assertRaises(exception.InvalidUUID, self.volume.attach_volume, self.context, volume_id, instance_uuid, None, MOUNTPOINT, 'ro') vol = db.volume_get(context.get_admin_context(), volume_id) admin_metadata = vol['volume_admin_metadata'] self.assertEqual(""available"", vol['status']) self.assertEqual(""detached"", vol['attach_status']) self.assertEqual(1, len(admin_metadata)) self.assertEqual('readonly', admin_metadata[0]['key']) self.assertEqual('True', admin_metadata[0]['value']) # Delete above created test volume. self.volume.delete_volume(self.context, volume_id) self.assertRaises(exception.VolumeNotFound, db.volume_get, self.context, volume_id) def test_manager_attach_volume_driver_not_initialized(self): # Test volume status if required driver is not initialized. volume = tests_utils.create_volume(self.context, status='available', host=CONF.host) # Set initialized to False self.volume.driver._initialized = False volume_id = volume['id'] self.assertRaises(exception.DriverNotInitialized, self.volume.attach_volume, self.context, volume_id, INSTANCE_UUID, None, MOUNTPOINT, 'ro') volume = db.volume_get(context.get_admin_context(), volume['id']) self.assertEqual(""error_attaching"", volume['status']) # Set initialized to True and delete test volume. self.volume.driver._initialized = True self.volume.delete_volume(self.context, volume['id']) self.assertRaises(exception.VolumeNotFound, db.volume_get, self.context, volume_id) @mock.patch.object(attach_volume, 'get_flow') def test_manager_attach_volume_flow_exception(self, _mock_get_flow): # Test failed to load attach volume flow. _mock_get_flow.side_effect = test.TestingException volume = tests_utils.create_volume(self.context, status='available', host=CONF.host) volume_id = volume['id'] self.assertRaises(exception.CinderException, self.volume.attach_volume, self.context, volume_id, INSTANCE_UUID, None, MOUNTPOINT, 'ro') volume = db.volume_get(context.get_admin_context(), volume['id']) self.assertEqual(""available"", volume['status']) # Delete above created test volume. self.volume.delete_volume(self.context, volume['id']) self.assertRaises(exception.VolumeNotFound, db.volume_get, self.context, volume_id) INSTANCE_UUID, MOUNTPOINT, MOUNTPOINT, db.volume_attached(self.context, volume['id'], INSTANCE_UUID, self.context, volume['id'], INSTANCE_UUID, 'fake-host', 'vdb') db.volume_attached(self.context, vol_ref['id'], INSTANCE_UUID,"," mountpoint = ""/dev/sdf"" instance_uuid = '12345678-1234-5678-1234-567812345678' self.volume.attach_volume(self.context, volume_id, instance_uuid, None, mountpoint, 'ro') self.assertEqual(vol['status'], ""in-use"") self.assertEqual(vol['attach_status'], ""attached"") self.assertEqual(vol['mountpoint'], mountpoint) self.assertEqual(vol['instance_uuid'], instance_uuid) self.assertEqual(len(admin_metadata), 2) self.assertDictMatch(ret, expected) self.assertEqual(conn_info['data']['access_mode'], 'ro') self.assertEqual(vol['status'], ""available"") mountpoint = ""/dev/sdf"" 'fake_host', mountpoint, 'rw') self.assertEqual(vol['status'], ""in-use"") self.assertEqual(vol['attach_status'], ""attached"") self.assertEqual(vol['mountpoint'], mountpoint) self.assertEqual(vol['attached_host'], 'fake-host') self.assertEqual(len(admin_metadata), 2) self.assertDictMatch(ret, expected) self.assertEqual(conn_info['data']['access_mode'], 'rw') self.assertEqual(vol['status'], ""available"") instance_uuid = '12345678-1234-5678-1234-567812345678' mountpoint = ""/dev/sdf"" self.volume.attach_volume(self.context, volume_id, instance_uuid, None, mountpoint, 'ro') self.assertEqual(vol['status'], ""in-use"") self.assertEqual(vol['attach_status'], ""attached"") self.assertEqual(vol['mountpoint'], mountpoint) self.assertEqual(vol['instance_uuid'], instance_uuid) self.assertEqual(len(admin_metadata), 2) self.assertDictMatch(ret, expected) self.assertEqual(conn_info['data']['access_mode'], 'ro') self.assertEqual(vol['status'], ""available"") self.assertEqual(vol['attach_status'], ""detached"") self.assertEqual(len(admin_metadata), 1) self.assertEqual(admin_metadata[0]['key'], 'readonly') self.assertEqual(admin_metadata[0]['value'], 'True') 'fake_host', mountpoint, 'ro') self.assertEqual(vol['status'], ""in-use"") self.assertEqual(vol['attach_status'], ""attached"") self.assertEqual(vol['mountpoint'], mountpoint) self.assertEqual(vol['attached_host'], 'fake-host') self.assertEqual(len(admin_metadata), 2) self.assertDictMatch(ret, expected) self.assertEqual(conn_info['data']['access_mode'], 'ro') self.assertEqual(vol['status'], ""available"") self.assertEqual(vol['attach_status'], ""detached"") self.assertEqual(len(admin_metadata), 1) self.assertEqual(admin_metadata[0]['key'], 'readonly') self.assertEqual(admin_metadata[0]['value'], 'True') instance_uuid = '12345678-1234-5678-1234-567812345678' mountpoint = ""/dev/sdf"" instance_uuid, mountpoint, self.assertEqual(vol['status'], ""error_attaching"") self.assertEqual(vol['attach_status'], ""detached"") self.assertEqual(len(admin_metadata), 2) expected = dict(readonly='True', attached_mode='rw') ret = {} for item in admin_metadata: ret.update({item['key']: item['value']}) self.assertDictMatch(ret, expected) db.volume_update(self.context, volume_id, {'status': 'available'}) mountpoint, self.assertEqual(vol['status'], ""error_attaching"") self.assertEqual(vol['attach_status'], ""detached"") self.assertEqual(len(admin_metadata), 2) expected = dict(readonly='True', attached_mode='rw') ret = {} for item in admin_metadata: ret.update({item['key']: item['value']}) self.assertDictMatch(ret, expected) instance_uuid = '12345678-1234-5678-1234-567812345678' mountpoint = ""/dev/sdf"" instance_uuid, mountpoint, mountpoint, instance_uuid = '12345678-1234-5678-1234-567812345678' db.volume_attached(self.context, volume['id'], instance_uuid, instance_uuid = '12345678-1234-5678-1234-567812345678' self.context, volume['id'], instance_uuid, 'fake-host', 'vdb') instance_uuid = '12345678-1234-5678-1234-567812345678' db.volume_attached(self.context, vol_ref['id'], instance_uuid,",429,164
openstack%2Fcinder~master~Id75abc1fbd3ea180b5488e2eb7b5d6d073915843,openstack/cinder,master,Id75abc1fbd3ea180b5488e2eb7b5d6d073915843,Recall mechanism for terminate/initialize,ABANDONED,2015-02-10 08:32:46.000000000,2015-08-16 07:54:30.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10851}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}]","[{'number': 1, 'created': '2015-02-10 08:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aad8540255202a60e776d7a6edd1fecd274e2c1a', 'message': 'Recall mechanism for terminate/initialize\n\nSince backends can be overwheeled by cinder requests and\nwill answer the request one by one, open requests can last for\na long time. In the case of rpc calls the rpc_response_timeout\nwill occur if the backend needs too long.\nThis change is about using the information if the backend is\nstill in progress. This is called the life sign which is the time\nof last successful request towards the backend of this\ncinder-volume process.\nIt can then be used to timeout if the backend does not\nrespond at all after a certain amount of time.\n\nThis feature is only enabled if flag support_recall is set in the\nconnecter dict.\n\nChange-Id: Id75abc1fbd3ea180b5488e2eb7b5d6d073915843\nImplements: blueprint volume status polling\n'}, {'number': 2, 'created': '2015-02-10 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fccbd587d6a8298fd684e7435de61ca695d4302a', 'message': 'Recall mechanism for terminate/initialize\n\nSince backends can be overwheeled by cinder requests and\nwill answer the request one by one, open requests can last for\na long time. In the case of rpc calls the rpc_response_timeout\nwill occur if the backend needs too long.\nThis change is about using the information if the backend is\nstill in progress. This is called the life sign which is the time\nof last successful request towards the backend of this\ncinder-volume process.\nIt can then be used to timeout if the backend does not\nrespond at all after a certain amount of time.\n\nThis feature is only enabled if flag support_recall is set in the\nconnecter dict.\n\nChange-Id: Id75abc1fbd3ea180b5488e2eb7b5d6d073915843\nImplements: blueprint volume status polling\n'}, {'number': 3, 'created': '2015-02-10 11:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff19961e818d51715a1d534a817cebc061f1a725', 'message': 'Recall mechanism for terminate/initialize\n\nSince backends can be overwheeled by cinder requests and\nwill answer the request one by one, open requests can last for\na long time. In the case of rpc calls the rpc_response_timeout\nwill occur if the backend needs too long.\nThis change is about using the information if the backend is\nstill in progress. This is called the life sign which is the time\nof last successful request towards the backend of this\ncinder-volume process.\nIt can then be used to timeout if the backend does not\nrespond at all after a certain amount of time.\n\nThis feature is only enabled if flag support_recall is set in the\nconnecter dict.\n\nChange-Id: Id75abc1fbd3ea180b5488e2eb7b5d6d073915843\nImplements: blueprint volume status polling\n'}, {'number': 4, 'created': '2015-02-24 08:44:09.000000000', 'files': ['cinder/volume/manager.py', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e828a453fbc15d5fb42639caf7fbad8beb06aeaa', 'message': 'Recall mechanism for terminate/initialize\n\nSince backends can be overloaded by cinder requests and\nwill answer the request one by one, open requests can last for\na long time. In the case of rpc calls the rpc_response_timeout\nwill occur if the backend takes too long.\nThis change is about using the information if the backend is\nstill in progress. This is called the life sign which is the time\nof last successful request towards the backend of this\ncinder-volume process.\nIt can then be used to timeout if the backend does not\nrespond at all after a certain amount of time.\n\nThis feature is only enabled if flag support_recall is set in the\nconnecter dict.\n\nChange-Id: Id75abc1fbd3ea180b5488e2eb7b5d6d073915843\nImplements: blueprint volume-status-polling\n'}]",22,154377,e828a453fbc15d5fb42639caf7fbad8beb06aeaa,58,26,4,10851,,,0,"Recall mechanism for terminate/initialize

Since backends can be overloaded by cinder requests and
will answer the request one by one, open requests can last for
a long time. In the case of rpc calls the rpc_response_timeout
will occur if the backend takes too long.
This change is about using the information if the backend is
still in progress. This is called the life sign which is the time
of last successful request towards the backend of this
cinder-volume process.
It can then be used to timeout if the backend does not
respond at all after a certain amount of time.

This feature is only enabled if flag support_recall is set in the
connecter dict.

Change-Id: Id75abc1fbd3ea180b5488e2eb7b5d6d073915843
Implements: blueprint volume-status-polling
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/154377/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,aad8540255202a60e776d7a6edd1fecd274e2c1a,bp/volume-status-polling,"import uuidfrom eventlet import timeout cfg.IntOpt('rpc_response_timeout', default=60, help='Seconds to wait for a response from a call.'), cfg.IntOpt('cinder_backend_response_timeout', default=60, help='Maximum respond time for cinder back-end'), cfg.IntOpt('cinder_backend_request_thread_pool_size', default=16, help='Maximum thread pool size for backend requests'),class put_in_worker_queue(object): def __init__(self, *args, **kwargs): pass def __call__(self, func): def wrapper(*args, **kwargs): vol_manager = args[0] if hasattr(vol_manager, 'backend_tp'): thread = vol_manager.backend_tp.spawn(func, *args, **kwargs) ret = thread.wait() else: ret = func(*args, **kwargs) vol_manager._update_life_sign() return ret return wrapper self.last_life_sign = timeutils.utcnow() self.open_threads = {} self.backend_tp = GreenPool( CONF.cinder_backend_request_thread_pool_size) @put_in_worker_queue(""create_volume"") @put_in_worker_queue(""delete_volume"") @put_in_worker_queue(""create_snapshot"") @put_in_worker_queue(""delete_snapshot"") def _update_life_sign(self): self.last_life_sign = timeutils.utcnow() def _request_handler(self, func, func_name, context, volume_id, connector, *args, **kwargs): key = func_name + volume_id + connector.get(""ip"") +\ connector.get(""initiator"") entry = self.open_threads.get(key) if not entry: thread = self._tp.spawn( func, context, volume_id, connector, *args, **kwargs) self.open_threads[key] = {""thread"": thread} else: thread = entry.get(""thread"") def _delete_request_thread(): try: uuid_callee = self.open_threads[key].get(""recall_id"") uuid_caller = connector.get(""recall_id"") if uuid_callee == uuid_caller: del self.open_threads[key] except KeyError: # Seems that another thread already deleted the entry pass try: with timeout.Timeout(CONF.rpc_response_timeout - 10): rv = thread.wait() except timeout.Timeout: time_to_last_life_sign = timeutils.utcnow() - self.last_life_sign if (time_to_last_life_sign).total_seconds() >\ CONF.cinder_backend_response_timeout: # Wait forever. RPC timeout will occur and normal error # handling will take place LOG.error(_(""No response from Backend the last %(time)s. "" ""Still trying to finish the request %(req)s "" ""for volume %(vol_id)s"") % {'time': time_to_last_life_sign, 'req': func_name, 'vol_id': volume_id}) thread.wait() _delete_request_thread() return rv recall_id = str(uuid.uuid4()) self.open_threads[key][""recall_id""] = recall_id LOG.debug(""No answer from backend yet for request. "" ""%(req)s of volume %(vol_id)s "" ""responding recall to the caller"" % {'req': func_name, 'vol_id': volume_id}) return {'driver_volume_type': 'n/a', 'data': 'n/a', 'do_recall': True, 'recall_id': recall_id} _delete_request_thread() return rv if isinstance(connector, dict) and \ connector.get(""support_recall""): return self._request_handler(self._do_initialize_connection, ""initialize_connection"", context, volume_id, connector) else: return self._do_initialize_connection(context, volume_id, connector) @put_in_worker_queue(""initialize_connection"") def _do_initialize_connection(self, context, volume_id, connector): if isinstance(connector, dict) and \ connector.get(""support_recall"", False): return self._request_handler(self._do_terminate_connection, ""terminate_connection"", context, volume_id, connector, force) else: return self._do_terminate_connection(context, volume_id, connector, force) @put_in_worker_queue(""terminate_connection"") def _do_terminate_connection(self, context, volume_id, connector, force):",,112,0
openstack%2Fcinder~master~If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8,openstack/cinder,master,If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8,Volume Replication support - GPFS Synchronous mirroring,ABANDONED,2015-02-09 04:34:53.000000000,2015-08-16 07:53:47.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4418}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 7689}, {'_account_id': 8587}, {'_account_id': 9008}, {'_account_id': 9067}, {'_account_id': 9204}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11079}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-02-09 04:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c8583371a6339d940b3d61d056db68268757e92', 'message': 'Volume Replication support - GPFS Synchronous mirroring\n\nThis patch extends the capability of gpfs driver to support volume replication\nusing GPFS Synchronous mirroring feature (https://ibm.biz/BdET2w).\n\nIn synchronous mirroring (active/active) mode, GPFS assigns replicas of the\nsame block to distinct failure groups (at file level end user sees only single\ninstance of file, where as blocks corresponding of each file are replicated\nacross failure groups). Hence, for a replicated volume there is only one\nvolume path that is reachable from primary as well as secondary site at all\ntimes (as opposed to vol at primary and vol_r at secondary site).\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces two\nnew configuration options (gpfs_replication_mode, gpfs_replication_base).\n\nChange-Id: If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8\nCloses-Bug: #1381883\n'}, {'number': 2, 'created': '2015-02-10 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fc420af42bea2e2dc7748a1748852a3a79056f1', 'message': 'Volume Replication support - GPFS Synchronous mirroring\n\nThis patch extends the capability of gpfs driver to support volume replication\nusing GPFS Synchronous mirroring feature (https://ibm.biz/BdET2w).\n\nIn synchronous mirroring (active/active) mode, GPFS assigns replicas of the\nsame block to distinct failure groups (at file level end user sees only single\ninstance of file, where as blocks corresponding of each file are replicated\nacross failure groups). Hence, for a replicated volume there is only one\nvolume path that is reachable from primary as well as secondary site at all\ntimes (as opposed to vol at primary and vol_r at secondary site).\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces two\nnew configuration options (gpfs_replication_mode, gpfs_replication_base).\n\nChange-Id: If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8\nImplements: blueprint gpfs-synchronous-replication\n'}, {'number': 3, 'created': '2015-02-14 04:28:43.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5104b7d29a269caa9d68d54d8388504c4330de41', 'message': 'Volume Replication support - GPFS Synchronous mirroring\n\nThis patch extends the capability of gpfs driver to support volume replication\nusing GPFS Synchronous mirroring feature (https://ibm.biz/BdET2w).\n\nIn synchronous mirroring (active/active) mode, GPFS assigns replicas of the\nsame block to distinct failure groups (at file level end user sees only single\ninstance of file, where as blocks corresponding of each file are replicated\nacross failure groups). Hence, for a replicated volume there is only one\nvolume path that is reachable from primary as well as secondary site at all\ntimes (as opposed to vol at primary and vol_r at secondary site).\n\nDocImpact\n\nNeeds an update in gpfs driver documentation, as this patch introduces a\nnew configuration option (gpfs_replication_mode).\n\nChange-Id: If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8\nImplements: blueprint gpfs-synchronous-replication\n'}]",28,153918,5104b7d29a269caa9d68d54d8388504c4330de41,76,28,3,9204,,,0,"Volume Replication support - GPFS Synchronous mirroring

This patch extends the capability of gpfs driver to support volume replication
using GPFS Synchronous mirroring feature (https://ibm.biz/BdET2w).

In synchronous mirroring (active/active) mode, GPFS assigns replicas of the
same block to distinct failure groups (at file level end user sees only single
instance of file, where as blocks corresponding of each file are replicated
across failure groups). Hence, for a replicated volume there is only one
volume path that is reachable from primary as well as secondary site at all
times (as opposed to vol at primary and vol_r at secondary site).

DocImpact

Needs an update in gpfs driver documentation, as this patch introduces a
new configuration option (gpfs_replication_mode).

Change-Id: If26c19428bfe2d151a43f8fbc6a9bcf208d2fdf8
Implements: blueprint gpfs-synchronous-replication
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/153918/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/test_gpfs.py']",3,9c8583371a6339d940b3d61d056db68268757e92,bp/gpfs-synchronous-replication," self.flags(volume_driver=self.driver_name, gpfs_replication_mode='synchronous') self.flags(volume_driver=self.driver_name, gpfs_replication_base=self.volumes_path) @patch('os.lstat') def test_same_filesystem(self, mock_lstat): self.assertEqual(gpfs._same_filesystem('/dev/gpfs0', '/dev/gpfs0'), True) loc = 'NFSDriver:%s:testpath:replicapath' % self.driver._cluster_id self.assertEqual(self.driver._can_migrate_locally(host), None) fake_cluster_id = 'abc123' loc = 'GPFSDriver:%s:testpath:replicapath' % fake_cluster_id cap = {'location_info': loc} host = {'host': 'foo', 'capabilities': cap} self.assertEqual(self.driver._can_migrate_locally(host), None) loc = 'GPFSDriver:%s:testpath:replicapath' % self.driver._cluster_id cap = {'location_info': loc} host = {'host': 'foo', 'capabilities': cap} self.assertEqual(self.driver._can_migrate_locally(host), ('testpath', 'replicapath')) def test_check_for_setup_error_fail_case1(self, mock_check_gpfs_state): @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') def test_check_for_setup_error_fail_case2(self, mock_check_gpfs_state): @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') def test_check_for_setup_error_fail_case3(self, mock_check_gpfs_state): @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') def test_check_for_setup_error_fail_case4(self, mock_same_filesystem, mock_check_gpfs_state): mock_same_filesystem.return_value = False self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') def test_check_for_setup_error_fail_case5(self, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = False self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') def test_check_for_setup_error_fail_case6(self, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail self._get_cluster_release_level is less than # GPFS_CLONE_MIN_RELEASE mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1109 self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') def test_check_for_setup_error_fail_case7(self, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') def test_check_for_setup_error_fail_case8(self, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') def test_check_for_setup_error_fail_case9(self, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1109) org_value_share_mode = self.driver.configuration.gpfs_images_share_mode gpfs_images_share_mode=None) self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) gpfs_images_share_mode=org_value_share_mode) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') def test_check_for_setup_error_fail_case10(self, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail configuration.gpfs_replication_mode not in # ['synchronous', 'asynchronous'] mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1400) org_value = self.driver.configuration.gpfs_replication_mode self.flags(volume_driver=self.driver_name, gpfs_replication_mode='sync') self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) self.flags(volume_driver=self.driver_name, gpfs_replication_mode=org_value) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') def test_check_for_setup_error_fail_case11(self, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail configuration.gpfs_replication_mode and # configuration.gpfs_replication_base is None mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1400) org_value = self.driver.configuration.gpfs_replication_mode self.flags(volume_driver=self.driver_name, gpfs_replication_mode='synchronous') org_value_dir = CONF.gpfs_replication_base CONF.gpfs_replication_base = None self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) self.flags(volume_driver=self.driver_name, gpfs_replication_mode=org_value) CONF.gpfs_replication_base = org_value_dir @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._get_quorum_rules') def test_check_for_setup_error_fail_case12(self, mock_get_quorum_rules, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail if quorum_count is not even mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1400) mock_get_quorum_rules.return_value = 1 self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._get_quorum_rules') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._get_fs_replica_attrs') def test_check_for_setup_error_fail_case13(self, mock_get_fs_replica_attrs, mock_get_quorum_rules, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail if data replicas is not >= 2 mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1400) mock_get_quorum_rules.return_value = 2 mock_get_fs_replica_attrs.return_value = ('1', '1') self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._check_gpfs_state') @patch('cinder.volume.drivers.ibm.gpfs._same_filesystem') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_same_fileset') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') def test_check_for_setup_error_fail_case14(self, mock_get_fs_rel_lev, mock_verify_gpfs_path_state, mock_get_cluster_rel_lev, mock_is_same_fileset, mock_same_filesystem, mock_check_gpfs_state): # fail configuration.gpfs_replication_mode if 'asynchronous' mock_same_filesystem.return_value = True mock_is_same_fileset.return_value = True mock_get_cluster_rel_lev.return_value = 1400 mock_get_fs_rel_lev.return_value = ('/dev/gpfs0', 1400) org_value = self.driver.configuration.gpfs_replication_mode self.flags(volume_driver=self.driver_name, gpfs_replication_mode='asynchronous') self.assertRaises(NotImplementedError, self.driver.check_for_setup_error) self.flags(volume_driver=self.driver_name, gpfs_replication_mode=org_value) volume['volume_type_id'] = None volume['name'] = 'vol' volume['volume_type_id'] = None volume['name'] = 'vol' volume['volume_type_id'] = None volume['name'] = 'vol' @patch('cinder.utils.execute') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._allocate_file_blocks') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_volume_attributes') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_sparse_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_create_replicated_volume(self, mock_spec_from_volume_type_id, mock_local_path, mock_gpfs_path_state, mock_sparse_file, mock_rw_permission, mock_set_volume_attributes, mock_allocate_file_blocks, mock_exec): mock_local_path.return_value = 'test' volume = {} volume['size'] = 1000 volume['volume_type_id'] = 'c4f0f75f' value = {} value['value'] = 'test' mock_spec_from_volume_type_id.return_value = {'replication': True} org_value = self.driver.configuration.gpfs_sparse_volumes self.flags(volume_driver=self.driver_name, gpfs_sparse_volumes=False) self.assertEqual(self.driver.create_volume(volume), {'replication_status': 'copying'}) self.flags(volume_driver=self.driver_name, gpfs_sparse_volumes=org_value) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_verify_gpfs_path_state, volume['name'] = 'vol' snapshot = {} snapshot['name'] = 'snap' snapshot['volume_type_id'] = None self.driver.create_volume_from_snapshot(volume, snapshot) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_verify_gpfs_path_state, volume['name'] = 'vol' snapshot = {} snapshot['name'] = 'snap' snapshot['volume_type_id'] = None self.driver.create_volume_from_snapshot(volume, snapshot) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._resize_volume_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_volume_attributes') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._gpfs_redirect') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_copy') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_create_replica_volume_from_snap(self, mock_spec_from_volume_type_id, mock_local_path, mock_verify_gpfs_path_state, mock_create_gpfs_copy, mock_rw_permission, mock_gpfs_redirect, mock_set_volume_attributes, mock_resize_volume_file): volume = {} volume['name'] = 'vol' volume['size'] = 1000 snapshot = {} snapshot['name'] = 'snap' snapshot['volume_type_id'] = None mock_local_path.return_value = 'test' mock_spec_from_volume_type_id.return_value = {'replication': True} self.assertEqual(self.driver. create_volume_from_snapshot(volume, snapshot), {'replication_status': 'copying'}) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_verify_gpfs_path_state, src_vref = {} src_vref['name'] = 'svol' src_vref['size'] = 1000 src_vref['volume_type_id'] = None volume['name'] = 'cvol' self.driver.create_cloned_volume(volume, src_vref) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_verify_gpfs_path_state, src_vref = {} src_vref['name'] = 'svol' src_vref['size'] = 1000 src_vref['volume_type_id'] = None volume['name'] = 'cvol' self.driver.create_cloned_volume(volume, src_vref) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._resize_volume_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_volume_attributes') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_clone') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_create_replicated_cloned_volume(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_create_gpfs_clone, mock_rw_permission, mock_set_volume_attributes, mock_resize_volume_file): src_vref = {} src_vref['name'] = 'svol' src_vref['size'] = 1000 src_vref['volume_type_id'] = None volume = {} volume['name'] = 'cvol' volume['size'] = 1000 mock_spec_from_volume_type_id.return_value = {'replication': True} self.assertEqual(self.driver.create_cloned_volume(volume, src_vref), {'replication_status': 'copying'}) mock_delete_gpfs_file): volume = {} volume['name'] = 'vol' volume['volume_type_id'] = None self.driver.delete_volume(volume) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._delete_gpfs_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_delete_replicated_volume(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_delete_gpfs_file): volume = {} volume['name'] = 'vol' volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} self.driver.delete_volume(volume) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_path_state, snapshot['name'] = 'snap' snapshot['volume_type_id'] = None @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._gpfs_redirect') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_snap') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_create_replicated_snapshot(self, mock_spec_from_volume_type_id, mock_gpfs_path_state, mock_create_gpfs_snap, mock_set_rw_permission, mock_gpfs_redirect): snapshot = {} snapshot['name'] = 'snap' snapshot['volume_name'] = 'test' snapshot['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} self.driver.create_snapshot(snapshot) snapshot['volume_type_id'] = None self.driver.delete_snapshot(snapshot) @patch('cinder.utils.execute') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_delete_replicated_snapshot(self, mock_spec_from_volume_type_id, mock_gpfs_path_state, mock_exec): snapshot = {} snapshot['name'] = 'snap' snapshot['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} volume['name'] = 'vol' volume['volume_type_id'] = None self.assertEqual(({'provider_location': None}, True), self.driver._clone_image(volume, '', 1)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._resize_volume_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.image.image_utils.convert_image') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_copy') @patch('cinder.image.image_utils.qemu_img_info') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_snap') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_gpfs_parent_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_cloneable') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_clone_image_clonable_replicated(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_is_cloneable, mock_is_gpfs_parent_file, mock_create_gpfs_snap, mock_qemu_img_info, mock_create_gpfs_copy, mock_conv_image, mock_set_rw_permission, mock_resize_volume_file): mock_is_cloneable.return_value = (True, 'test', self.images_dir) mock_is_gpfs_parent_file.return_value = False mock_qemu_img_info.return_value = self._fake_qemu_qcow2_image_info('') mock_spec_from_volume_type_id.return_value = {'replication': True} volume = {} volume['name'] = 'vol' volume['id'] = 'test' volume['size'] = 1000 volume['volume_type_id'] = None volume['name'] = 'volume' volume['volume_type_id'] = None #@patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') #mock_local_path, #mock_local_path.return_value = self.volumes_path volume['name'] = 'volume' volume['volume_type_id'] = None volume['name'] = 'volume' volume['volume_type_id'] = None volume['name'] = 'volume' volume['volume_type_id'] = None volume['name'] = 'vol' volume['volume_type_id'] = None self.driver.copy_image_to_volume('', volume, '', 1) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._resize_volume_file') @patch('cinder.image.image_utils.fetch_to_raw') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_copy_image_to_volume_replica_path(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_fetch_to_raw, mock_resize_volume_file): volume = {} volume['name'] = 'vol' volume['id'] = 'test' volume['size'] = 1000 volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') def test_extend_volume(self, mock_verify_gpfs_path_state, mock_resize_volume_file): volume['name'] = 'volume' volume['volume_type_id'] = None @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._resize_volume_file') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_extend_volume_replicated(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_resize_volume_file): volume['name'] = 'volume' volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} self.driver.extend_volume(volume, 2000) @patch('cinder.image.image_utils.upload_volume') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') def test_copy_volume_to_image(self, mock_verify_gpfs_path_state, mock_upload_volume): volume = {} volume['name'] = 'vol' volume['id'] = 'test' volume['volume_type_id'] = None self.driver.copy_volume_to_image('', volume, '', '') @patch('cinder.image.image_utils.upload_volume') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_copy_volume_to_image_replicated(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_upload_volume): volume = {} volume['name'] = 'vol' volume['id'] = 'test' volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_verify_gpfs_path_state, volume['volume_type_id'] = None self.driver.backup_volume('', backup, backup_service) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._delete_gpfs_file') @patch('cinder.openstack.common.fileutils.file_open') @patch('cinder.utils.temporary_chown') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._gpfs_redirect') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_clone') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_backup_replicated_volume(self, mock_spec_from_volume_type_id, mock_verify_gpfs_path_state, mock_create_gpfs_clone, mock_gpfs_redirect, mock_temp_chown, mock_file_open, mock_delete_gpfs_file): volume = {} volume['name'] = 'test' volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} self.driver.db = mock.Mock() self.driver.db.volume_get = mock.Mock() self.driver.db.volume_get.return_value = volume backup = {} backup['volume_id'] = 'test' backup['id'] = '123456' backup_service = mock.Mock() @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') mock_path_state, volume['name'] = 'vol' volume['volume_type_id'] = None self.driver.restore_backup('', backup, volume, backup_service) @patch('cinder.openstack.common.fileutils.file_open') @patch('cinder.utils.temporary_chown') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_restore_replicated_backup(self, mock_spec_from_volume_type_id, mock_path_state, mock_temp_chown, mock_file_open): volume = {} volume['name'] = 'vol' volume['id'] = '123456' volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} backup = {} backup['id'] = '123456' backup_service = mock.Mock() def test_migrate_volume_ok(self, mock_can_migrate_locally, mock_exec): volume['volume_type_id'] = None host['host'] = 'foo' mock_can_migrate_locally.return_value = ('base', 'replica') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_migrate_volume_replicated_ok(self, mock_can_migrate_locally, mock_spec_from_volume_type_id, mock_exec): volume['volume_type_id'] = 'c4f0f75f' host = {} host['host'] = 'foo' mock_can_migrate_locally.return_value = ('base', 'replica') mock_spec_from_volume_type_id.return_value = {'replication': True} host = {'host': 'foo', 'capabilities': {}} self.assertEqual((True, None), self.driver._migrate_volume(volume, host)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._can_migrate_locally') def test_migrate_volume_fail_dest_path(self, mock_can_migrate_locally): volume = {} volume['name'] = 'test' volume['volume_type_id'] = None mock_can_migrate_locally.return_value = (None, None) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') def test_migrate_volume_fail_mpb(self, mock_can_migrate_locally, mock_local_path): volume['name'] = 'vol' volume['volume_type_id'] = None mock_can_migrate_locally.return_value = ('base', 'replica') mock_local_path.return_value = 'base' host['host'] = 'foo' @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') def test_migrate_volume_fail_mv(self, mock_can_migrate_locally, mock_local_path, mock_exec): volume['name'] = 'vol' volume['volume_type_id'] = None host['host'] = 'foo' mock_can_migrate_locally.return_value = ('base', 'replica') mock_local_path.return_value = 'test' volume['volume_type_id'] = None self.driver.db = mock.Mock() mock_different.side_effect = [False, True, True] mock_strg_pool.return_value = True mock_migrate_vol.return_value = (True, True) self.assertTrue(self.driver.retype(ctxt, volume, new_type, diff, host)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._migrate_volume') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_update_volume_storage_pool') @patch('cinder.volume.drivers.ibm.gpfs._different') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_spec_from_volume_type_id') def test_retype_replicated_ok(self, mock_spec_from_volume_type_id, mock_different, mock_strg_pool, mock_migrate_vol): ctxt = self.context (volume, new_type, diff, host) = self._fake_retype_arguments() volume['volume_type_id'] = 'c4f0f75f' mock_spec_from_volume_type_id.return_value = {'replication': True} def test_retype_none_to_replication_ok(self, mock_exec): ctxt = self.context (volume, new_type, diff, host) = self.\ _fake_retype_arg_none_to_replica() self.assertEqual(True, self.driver.retype(ctxt, volume, new_type, diff, host)) @patch('cinder.utils.execute') def test_retype_none_to_replication_fail(self, mock_exec): ctxt = self.context (volume, new_type, diff, host) = self.\ _fake_retype_arg_none_to_replica() mock_exec.side_effect = ( processutils.ProcessExecutionError(stdout='test', stderr='test')) self.assertRaises(exception.VolumeBackendAPIException, self.driver.retype, ctxt, volume, new_type, diff, host) @patch('cinder.utils.execute') def test_retype_replication_to_none_ok(self, mock_exec): ctxt = self.context (volume, new_type, diff, host) = self.\ _fake_retype_arg_replica_to_none() self.assertEqual(True, self.driver.retype(ctxt, volume, new_type, diff, host)) @patch('cinder.utils.execute') def test_retype_replication_to_none_fail(self, mock_exec): ctxt = self.context (volume, new_type, diff, host) = self.\ _fake_retype_arg_replica_to_none() mock_exec.side_effect = ( processutils.ProcessExecutionError(stdout='test', stderr='test')) self.assertRaises(exception.VolumeBackendAPIException, self.driver.retype, ctxt, volume, new_type, diff, host) @patch('cinder.utils.execute') local_path = 'test' self.driver._mkfs(volume, local_path, 'swap') self.driver._mkfs(volume, local_path, 'swap', 'test') self.driver._mkfs(volume, local_path, 'ext3', 'test') self.driver._mkfs(volume, local_path, 'vfat', 'test') @patch('cinder.utils.execute') def test_get_quorum_rules(self, mock_exec): mock_exec.return_value = ('GPFS cluster information\n' '========================\n' 'GPFS cluster name: gpfs.site1\n' 'GPFS cluster id: 4328671266\n' 'GPFS UID domain: gpfs.site1\n' 'Remote shell command: /usr/bin/ssh\n' 'Remote file copy command: /usr/bin/scp\n' 'Repository type: CCR\n\n' 'Node Daemon node name IP address Admin' 'node name Designation\n' '------------------------------------------' '------------------------\n' '1 site1 127.0.0.1 site1 ' 'quorum-manager\n' '2 site2 127.0.0.1 site1 ' 'quorum-manager\n' '3 site3 127.0.0.1 site1 ' 'quorum\n', None) self.assertEqual(2, self.driver._get_quorum_rules()) @patch('cinder.utils.execute') def test_get_quorum_rules_fail(self, mock_exec): mock_exec.side_effect = processutils.ProcessExecutionError( stdout='test', stderr='test') self.assertRaises(exception.VolumeBackendAPIException, self.driver._get_quorum_rules) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_filesystem_from_path') @patch('cinder.utils.execute') def test_get_gpfs_fs_replica_attrs_ok(self, mock_exec, mock_fs_from_path): mock_exec.return_value = ('mmlsfs::HEADER:version:reserved:reserved:' 'deviceName:fieldName:data:remarks:\n' 'mmlsfs::0:1:::gpfs1:defaultDataReplicas:' '2:\nmmlsfs::0:1:::gpfs1:' 'defaultMetadataReplicas:2:', None) path = 'test' self.assertEqual(('2', '2'), self.driver._get_fs_replica_attrs(path)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_filesystem_from_path') @patch('cinder.utils.execute') def test_get_gpfs_fs_replica_attrs_fail(self, mock_exec, mock_fs_from_path): mock_exec.side_effect = processutils.ProcessExecutionError( stdout='test', stderr='test') self.assertRaises(exception.VolumeBackendAPIException, self.driver._get_fs_replica_attrs, self.volumes_path) @patch('cinder.volume.volume_types.get_volume_type') def test_get_spec_from_volume_type_id_cap_replica(self, mock_get_volume_type): volume_type_id = 'c4f0f75f' mock_get_volume_type.return_value = {'name': 'replicated', 'extra_specs': {'capabilities:replication': '<is> True'}} self.assertEqual({'replication': 'True'}, self.driver. _get_spec_from_volume_type_id(volume_type_id)) @patch('cinder.volume.volume_types.get_volume_type') def test_get_spec_from_volume_type_id_none(self, mock_get_volume_type): volume_type_id = 'a123f75f' mock_get_volume_type.return_value = None self.assertEqual({}, self.driver. _get_spec_from_volume_type_id(volume_type_id)) @patch('cinder.volume.volume_types.get_volume_type') def test_get_spec_from_volume_type_id_replica(self, mock_get_volume_type): volume_type_id = 'a123f75f' mock_get_volume_type.return_value = {'name': 'replicated', 'extra_specs': {'replication': '<is> True'}} self.assertEqual({'replication': 'True'}, self.driver. _get_spec_from_volume_type_id(volume_type_id)) @patch('cinder.volume.volume_types.get_volume_type') def test_get_spec_from_volume_type_id_fail(self, mock_get_volume_type): volume_type_id = 'a123f75f' mock_get_volume_type.return_value = {'name': 'replicated', 'extra_specs': {'replication': 'enable'}} self.assertEqual({'replication': 'enable'}, self.driver. _get_spec_from_volume_type_id(volume_type_id)) @patch('cinder.volume.volume_types.get_volume_type') def test_get_spec_from_volume_type_id_others(self, mock_get_volume_type): volume_type_id = 'a123f75f' mock_get_volume_type.return_value = {'name': 'default', 'extra_specs': {'capabilities:storage_pool': 'silver'}} self.assertEqual({}, self.driver. _get_spec_from_volume_type_id(volume_type_id)) def test_get_diff_extra_specs_replica_enable(self): specs = {u'capabilities:replication': (None, u'<is> True')} self.assertEqual((None, [u'True']), self.driver._get_diff_extra_specs(specs)) def test_get_diff_extra_specs_replication_disable(self): specs = {u'capabilities:replication': (u'<is> True', None)} self.assertEqual(([u'True'], None), self.driver._get_diff_extra_specs(specs)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_data_metadata_replica') def test_promote_replica_ok(self, mock_verify_data_metadata_replica, mock_verify_gpfs_path_state, mock_mode): volume = {} volume['name'] = 'vol' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_data_metadata_replica.return_value = True self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(None, self.replication.promote_replica(volume)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_data_metadata_replica') def test_promote_replica_fail(self, mock_verify_data_metadata_replica, mock_verify_gpfs_path_state, mock_mode): volume = {} volume['name'] = 'vol' volume['id'] = '123456' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_data_metadata_replica.return_value = None self.replication = gpfs.GPFSReplication.factory(self) self.assertRaises(exception.VolumeDriverException, self.replication.promote_replica, volume) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_clone') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_attribute_flag') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_data_metadata_replica') def test_create_replica_test_volume_ok(self, mock_verify_data_metadata_replica, mock_verify_attribute_flag, mock_verify_gpfs_path_state, mock_set_rw_permission, mock_create_gpfs_clone, mock_mode): src_volume = {} src_volume['name'] = 'svol' src_volume['size'] = 1000 tgt_volume = {} tgt_volume['name'] = 'tvol' tgt_volume['size'] = 1000 mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_attribute_flag.return_value = True mock_verify_data_metadata_replica.return_value = True self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual({'replication_status': 'copying'}, self.replication.test_replica(tgt_volume, src_volume)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._create_gpfs_clone') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._set_rw_permission') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_attribute_flag') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_data_metadata_replica') def test_create_replica_test_volume_fail(self, mock_verify_data_metadata_replica, mock_verify_attribute_flag, mock_verify_gpfs_path_state, mock_set_rw_permission, mock_create_gpfs_clone, mock_mode): src_volume = {} src_volume['name'] = 'svol' src_volume['size'] = 1000 tgt_volume = {} tgt_volume['name'] = 'tvol' tgt_volume['size'] = 1000 mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_attribute_flag.return_value = False mock_verify_data_metadata_replica.return_value = False self.replication = gpfs.GPFSReplication.factory(self) self.assertRaises(exception.VolumeDriverException, self.replication.test_replica, tgt_volume, src_volume) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_attribute_flag_ok(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.return_value = ('file name: /gpfs/vol\n' 'metadata replication: 1 max 2\n' 'data replication: 1 max 2\n' 'immutable: no\n' 'appendOnly: no\n' 'flags:\n' 'storage pool name: system\n' 'fileset name: root\n' 'snapshot name:\n' 'creation time: Fri Feb 6\n' 'Windows attributes: ARCHIVE\n' 'Encrypted: no\n', None) self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(True, self.replication._verify_attribute_flag(path)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_attribute_flag_none(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.return_value = ('file name: /gpfs/vol\n' 'metadata replication: 1 max 2\n' 'data replication: 1 max 2\n' 'immutable: no\n' 'appendOnly: no\n' 'flags: unbalanced\n' 'storage pool name: system\n' 'fileset name: root\n' 'snapshot name:\n' 'creation time: Fri Feb 6\n' 'Windows attributes: ARCHIVE\n' 'Encrypted: no\n', None) self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(None, self.replication._verify_attribute_flag(path)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_attribute_flag_fail(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.side_effect = processutils.ProcessExecutionError( stdout='test', stderr='test') self.replication = gpfs.GPFSReplication.factory(self) self.assertRaises(exception.VolumeBackendAPIException, self.replication._verify_attribute_flag, path) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_data_metadata_replica_ok(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.return_value = ('file name: /gpfs/vol\n' 'metadata replication: 2 max 2\n' 'data replication: 2 max 2\n' 'immutable: no\n' 'appendOnly: no\n' 'flags:\n' 'storage pool name: system\n' 'fileset name: root\n' 'snapshot name:\n' 'creation time: Fri Feb 6\n' 'Windows attributes: ARCHIVE\n' 'Encrypted: no\n', None) self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(True, self.replication._verify_data_metadata_replica(path)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_data_metadata_replica_none(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.return_value = ('file name: /gpfs/vol\n' 'metadata replication: 1 max 2\n' 'data replication: 1 max 2\n' 'immutable: no\n' 'appendOnly: no\n' 'flags:\n' 'storage pool name: system\n' 'fileset name: root\n' 'snapshot name:\n' 'creation time: Fri Feb 6\n' 'Windows attributes: ARCHIVE\n' 'Encrypted: no\n', None) self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(None, self.replication._verify_data_metadata_replica(path)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.utils.execute') def test_verify_data_metadata_replica_fail(self, mock_exec, mock_mode): path = '/gpfs' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_exec.side_effect = processutils.ProcessExecutionError( stdout='test', stderr='test') self.replication = gpfs.GPFSReplication.factory(self) self.assertRaises(exception.VolumeBackendAPIException, self.replication._verify_data_metadata_replica, path) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_attribute_flag') def test_get_replication_status_active(self, mock_verify_attribute_flag, mock_verify_gpfs_path_state, mock_mode): volume = {} volume['name'] = 'vol' volume['replication_status'] = 'copying' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_attribute_flag.return_value = True ctxt = self.context self.replication = gpfs.GPFSReplication.factory(self) exp = {'replication_status': 'active', 'replication_extended_status': 'Replica copy status: active'} self.assertEqual(exp, self.replication. get_replication_status(ctxt, volume)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._verify_gpfs_path_state') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' '_verify_attribute_flag') def test_get_replication_status_error(self, mock_verify_attribute_flag, mock_verify_gpfs_path_state, mock_mode): volume = {} volume['name'] = 'vol' volume['replication_status'] = 'copying' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_verify_attribute_flag.return_value = None ctxt = self.context self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual({'replication_status': 'error', 'replication_extended_status': 'Replica copy status: error'}, self.replication.get_replication_status(ctxt, volume)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_verify_gpfs_path_state') def test_get_replication_status_none(self, mock_verify_gpfs_path_state, mock_mode): volume = {} volume['name'] = 'vol' volume['replication_status'] = 'disabled' mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) ctxt = self.context self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(None, self.replication.get_replication_status(ctxt, volume)) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') def test_get_replication_info(self, mock_mode): mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual({'replication': True}, self.replication.get_replication_info()) @patch('cinder.volume.drivers.ibm.gpfs.GPFSReplication.factory') @patch('cinder.volume.drivers.ibm.gpfs.GPFSSynchronousReplication.' 'get_replication_status') def test_get_replication_status_base(self, mock_get_replication_status, mock_mode): mock_mode.return_value = gpfs.GPFSSynchronousReplication(self.driver) mock_get_replication_status.return_value = None ctxt = self.context volume = {} volume['name'] = 'vol' volume['replication_status'] = 'disabled' self.replication = gpfs.GPFSReplication.factory(self) self.assertEqual(None, self.driver.get_replication_status(ctxt, volume)) volume['volume_type_id'] = None return (volume, new_type, diff, host) def _fake_retype_arg_none_to_replica(self): ctxt = self.context loc = 'GPFSDriver:%s:testpath' % self.driver._cluster_id cap = {'location_info': loc} host = {'host': 'foo', 'capabilities': cap} key_specs_old = None key_specs_new = {'capabilities:replication': '<is> True>'} old_type_ref = volume_types.create(ctxt, 'old', key_specs_old) new_type_ref = volume_types.create(ctxt, 'new', key_specs_new) volume_types.get_volume_type(ctxt, old_type_ref['id']) new_type = volume_types.get_volume_type(ctxt, new_type_ref['id']) diff, _equal = volume_types.volume_types_diff(ctxt, old_type_ref['id'], new_type_ref['id']) volume = {} volume['name'] = 'test' volume['host'] = host volume['id'] = '123456' volume['volume_type_id'] = None return (volume, new_type, diff, host) def _fake_retype_arg_replica_to_none(self): ctxt = self.context loc = 'GPFSDriver:%s:testpath' % self.driver._cluster_id cap = {'location_info': loc} host = {'host': 'foo', 'capabilities': cap} key_specs_old = {'capabilities:replication': '<is> True>'} key_specs_new = None old_type_ref = volume_types.create(ctxt, 'old', key_specs_old) new_type_ref = volume_types.create(ctxt, 'new', key_specs_new) volume_types.get_volume_type(ctxt, old_type_ref['id']) new_type = volume_types.get_volume_type(ctxt, new_type_ref['id']) diff, _equal = volume_types.volume_types_diff(ctxt, old_type_ref['id'], new_type_ref['id']) volume = {} volume['name'] = 'test' volume['host'] = host volume['id'] = '123456' volume['volume_type_id'] = 'c4f0f75f'"," loc = 'GPFSDriver:%s:testpath' % self.driver._cluster_id self.assertEqual(self.driver._can_migrate_locally(host), 'testpath') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver._is_gpfs_path') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level') def test_check_for_setup_error_fail_conf(self, mock_get_gpfs_fs_rel_lev, mock_is_gpfs_path, mock_check_gpfs_state): fake_fs = '/dev/gpfs' fake_fs_release = 1400 fake_cluster_release = 1201 mock_get_gpfs_fs_rel_lev.return_value = (fake_fs, fake_fs_release) with mock.patch('cinder.volume.drivers.ibm.gpfs._same_filesystem', return_value=False): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_is_same_fileset', return_value=False): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) # fail directory is None org_value_share_mode = self.driver.configuration.gpfs_images_share_mode self.flags(volume_driver=self.driver_name, gpfs_images_share_mode=None) org_value_dir = CONF.gpfs_images_dir CONF.gpfs_images_dir = None with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level', return_value=fake_cluster_release): self.driver.check_for_setup_error() self.flags(volume_driver=self.driver_name, gpfs_images_share_mode=org_value_share_mode) CONF.gpfs_images_dir = org_value_dir with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level', return_value=fake_cluster_release): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level', return_value=fake_cluster_release): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) org_fake_cluster_release = fake_cluster_release fake_cluster_release = 1105 org_value_mount = self.driver.configuration.gpfs_mount_point_base gpfs_mount_point_base=self.volumes_path) with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level', return_value=fake_cluster_release): with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level', return_value=(fake_fs, fake_fs_release)): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) fake_cluster_release = org_fake_cluster_release # fail not fs release level >= GPFS_CLONE_MIN_RELEASE org_fake_fs_release = fake_fs_release fake_fs_release = 1105 org_value_mount = self.driver.configuration.gpfs_mount_point_base gpfs_mount_point_base=self.volumes_path) org_value_dir = CONF.gpfs_images_dir CONF.gpfs_images_dir = None with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_cluster_release_level', return_value=fake_cluster_release): with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_gpfs_fs_release_level', return_value=(fake_fs, fake_fs_release)): self.assertRaises(exception.VolumeBackendAPIException, self.driver.check_for_setup_error) self.flags(volume_driver=self.driver_name, gpfs_mount_point_base=org_value_mount) fake_fs_release = org_fake_fs_release @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = 'test' @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = 'test' @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = 'test' @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_resize_volume_file.return_value = 5 * units.Gi self.assertEqual(self.driver.create_volume_from_snapshot(volume, ''), {'size': 5.0}) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_resize_volume_file.return_value = 5 * units.Gi self.assertEqual(self.driver.create_volume_from_snapshot(volume, ''), {'size': 5.0}) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_resize_volume_file.return_value = 5 * units.Gi self.assertEqual(self.driver.create_cloned_volume(volume, ''), {'size': 5.0}) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_resize_volume_file.return_value = 5 * units.Gi self.assertEqual(self.driver.create_cloned_volume(volume, ''), {'size': 5.0}) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_delete_gpfs_file): self.driver.delete_volume('') @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, org_value = self.driver.configuration.gpfs_mount_point_base self.flags(volume_driver=self.driver_name, gpfs_mount_point_base=self.volumes_path) self.flags(volume_driver=self.driver_name, gpfs_mount_point_base=org_value) @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = self.volumes_path @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, def test_extend_volume(self, mock_resize_volume_file): @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') @patch('cinder.image.image_utils.upload_volume') def test_copy_volume_to_image(self, mock_upload_volume, mock_local_path): @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = self.volumes_path @patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = self.volumes_path def test_migrate_volume_ok(self, mock_local, mock_exec): mock_local.return_value = (self.driver.configuration. gpfs_mount_point_base + '_') def test_migrate_volume_fail_dest_path(self, mock_local, mock_exec): mock_local.return_value = None @patch('cinder.utils.execute') def test_migrate_volume_fail_mpb(self, mock_local, mock_exec): volume['name'] = 'test' host = {'host': 'foo', 'capabilities': {}} mock_local.return_value = (self.driver.configuration. gpfs_mount_point_base) mock_exec.side_effect = ( processutils.ProcessExecutionError(stdout='test', stderr='test')) def test_migrate_volume_fail_mv(self, mock_local, mock_exec): volume['name'] = 'test' host = {'host': 'foo', 'capabilities': {}} mock_local.return_value = ( self.driver.configuration.gpfs_mount_point_base + '_') self.driver._mkfs(volume, 'swap') self.driver._mkfs(volume, 'swap', 'test') self.driver._mkfs(volume, 'ext3', 'test') self.driver._mkfs(volume, 'vfat', 'test')",1708,213
openstack%2Fcinder~master~I232f0ce0f735c3e5e9b44f37ae896ea2b9f13dcb,openstack/cinder,master,I232f0ce0f735c3e5e9b44f37ae896ea2b9f13dcb,Filter cinder volumes by name,ABANDONED,2015-02-25 11:17:34.000000000,2015-08-16 07:53:14.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 9008}, {'_account_id': 9519}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12780}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14271}, {'_account_id': 14305}]","[{'number': 1, 'created': '2015-02-25 11:17:34.000000000', 'files': ['cinder/db/sqlalchemy/api.py', 'cinder/tests/api/v2/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/498723865620bd5ccd064a5587ff0e78c194e48c', 'message': 'Filter cinder volumes by name\n\nCurrently ""cinder list"" doesnt support to get the\nvolumes by specific pattern,so added the support\nfor the same.\n\nfixes-bug:1423090\nChange-Id: I232f0ce0f735c3e5e9b44f37ae896ea2b9f13dcb\n'}]",2,159081,498723865620bd5ccd064a5587ff0e78c194e48c,23,20,1,9519,,,0,"Filter cinder volumes by name

Currently ""cinder list"" doesnt support to get the
volumes by specific pattern,so added the support
for the same.

fixes-bug:1423090
Change-Id: I232f0ce0f735c3e5e9b44f37ae896ea2b9f13dcb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/159081/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/api.py', 'cinder/tests/api/v2/test_volumes.py']",2,498723865620bd5ccd064a5587ff0e78c194e48c,bug/1423090," def test_volume_list_filtered_by_name(self): """"""Tests that the list by name from volume.api.API.get_all are set."""""" def stub_volume_get_all_by_name(context, project_id, marker, limit, sort_key, sort_dir, filters=None): self.assertEqual(filters['display_name'], 'vol%2A') return [ stubs.stub_volume(1, display_name='vol1'), stubs.stub_volume(2, display_name='vol2'), ] self.stubs.Set(db, 'volume_get_all_by_project', stub_volume_get_all_by_name) # sort by name req = fakes.HTTPRequest.blank('/v2/volumes/detail?name=vol*') resp = self.controller.index(req) self.assertEqual(len(resp['volumes']), 2) self.assertEqual(resp['volumes'][0]['name'], 'vol1') self.assertEqual(resp['volumes'][1]['name'], 'vol2') ",,53,1
openstack%2Fcinder~master~Ifdd328b368c360e643644146681fe3efda600688,openstack/cinder,master,Ifdd328b368c360e643644146681fe3efda600688,Checking name for volume creation in cinder.,ABANDONED,2015-02-20 10:55:14.000000000,2015-08-16 07:52:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12780}, {'_account_id': 13861}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14305}, {'_account_id': 14619}, {'_account_id': 14780}, {'_account_id': 15090}]","[{'number': 1, 'created': '2015-02-20 10:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20fba478a0686486e2aa83aee7d48c3a40ec8c22', 'message': 'Checking name for volume creation in cinder.\n\nPreviously the display_name was not checked whether its blank\nor none. Added the checking parameter for the display name.\n\nChange-Id: Ifdd328b368c360e643644146681fe3efda600688\nCloses-Bug: #1422244\n'}, {'number': 2, 'created': '2015-02-20 12:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0c547613b5d97e234db38f803702df57d8e7ef2', 'message': 'Checking name for volume creation in cinder.\n\nPreviously the display_name was not checked whether its blank\nor none. Added the checking parameter for the display name.\n\nChange-Id: Ifdd328b368c360e643644146681fe3efda600688\nCloses-Bug: #1422244\n'}, {'number': 3, 'created': '2015-02-23 11:59:33.000000000', 'files': ['cinder/tests/api/v1/test_volumes.py', 'cinder/api/v1/volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4accf91f1ea9ecd077af67c87fbbd7b4988680d0', 'message': 'Checking name for volume creation in cinder.\n\nPreviously the display_name was not checked whether its blank\nor none. Added the checking parameter for the display name.\nAlso added test case for the same.\n\nChange-Id: Ifdd328b368c360e643644146681fe3efda600688\nCloses-Bug: #1422244\n'}]",4,157714,4accf91f1ea9ecd077af67c87fbbd7b4988680d0,54,22,3,11793,,,0,"Checking name for volume creation in cinder.

Previously the display_name was not checked whether its blank
or none. Added the checking parameter for the display name.
Also added test case for the same.

Change-Id: Ifdd328b368c360e643644146681fe3efda600688
Closes-Bug: #1422244
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/157714/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/v1/test_volumes.py', 'cinder/api/v1/volumes.py']",2,20fba478a0686486e2aa83aee7d48c3a40ec8c22,bug/1422244," if vol['display_name'] == None: d['display_name'] = """" else: d['display_name'] = vol['display_name']", d['display_name'] = vol['display_name'],37,1
openstack%2Fcinder~master~Ic7a44af66b83b215f8637fe49a16cd1fce25d077,openstack/cinder,master,Ic7a44af66b83b215f8637fe49a16cd1fce25d077,WIP. Persistant workflow implementation for Volume Manager,ABANDONED,2015-02-09 15:10:59.000000000,2015-08-16 07:51:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11600}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 13861}, {'_account_id': 14206}]","[{'number': 1, 'created': '2015-02-09 15:10:59.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cd636ceae5b1685a5a99f498c44e66f893b890e', 'message': 'WIP. Persistant workflow implementation for Volume Manager\n\nUnit and funcitional tests are in progress\n\nChange-Id: Ic7a44af66b83b215f8637fe49a16cd1fce25d077\nImplements: blueprint create-volume-persistence-taskflow-support-volume\n'}]",0,154070,1cd636ceae5b1685a5a99f498c44e66f893b890e,20,19,1,1736,,,0,"WIP. Persistant workflow implementation for Volume Manager

Unit and funcitional tests are in progress

Change-Id: Ic7a44af66b83b215f8637fe49a16cd1fce25d077
Implements: blueprint create-volume-persistence-taskflow-support-volume
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/154070/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py']",2,1cd636ceae5b1685a5a99f498c44e66f893b890e,bp/create-volume-persistence-taskflow-support-volume," # Resume not finished flows backend = flow_utils.create_backend(CONF.workflows_sql_connection) flow_name = create_volume.ACTION.replace("":"", ""_"") + ""_manager"" fds = flow_utils.get_resumable_flowdetails(self.host, flow_name, backend) for fd in fds: try: engine = create_volume.get_resumed_flow(self.db, self.driver, self.scheduler_rpcapi, self.host, ctxt, flow_details=fd) except Exception: # TODO (e0ne): catch more specific exception LOG.exception(_LE(""Failed to create scheduler "" ""manager volume flow"")) raise exception.CinderException( _(""Failed to create scheduler manager volume flow"")) with flow_utils.DynamicLogListener(engine, logger=LOG): engine.run() context_elevated.to_dict(), self.scheduler_rpcapi, # TODO (e0ne): catch more specific exception"," context_elevated, self.scheduler_rpcapi,",89,10
openstack%2Fcinder~master~Id2024ae2b1c60f39a1bb5d2561f25c3bba38f317,openstack/cinder,master,Id2024ae2b1c60f39a1bb5d2561f25c3bba38f317,WIP: Public snapshots,ABANDONED,2015-01-14 11:23:21.000000000,2015-08-16 07:51:28.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 5538}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-14 11:23:21.000000000', 'files': ['cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/037_add_is_public_to_snapshots.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1faa8ace4299ce19879d633490a8f09073cab8bd', 'message': 'WIP: Public snapshots\n\nCurrently only DB part taken care of. Still lot of stuff left.\n\nChange-Id: Id2024ae2b1c60f39a1bb5d2561f25c3bba38f317\nTODO: create index on is_public column?\n'}]",0,147122,1faa8ace4299ce19879d633490a8f09073cab8bd,28,19,1,5538,,,0,"WIP: Public snapshots

Currently only DB part taken care of. Still lot of stuff left.

Change-Id: Id2024ae2b1c60f39a1bb5d2561f25c3bba38f317
TODO: create index on is_public column?
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/147122/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/037_add_is_public_to_snapshots.py', 'cinder/db/sqlalchemy/models.py']",3,1faa8ace4299ce19879d633490a8f09073cab8bd,public-snapshot," is_public = Column(Boolean, default=False) ",,44,4
openstack%2Fcinder~master~I6d59ca723a2a1e0cf5ff681dade9389d23aa37ce,openstack/cinder,master,I6d59ca723a2a1e0cf5ff681dade9389d23aa37ce,Add LeftHand extra specs schema into volume stats,ABANDONED,2015-01-28 21:59:12.000000000,2015-08-16 07:50:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6825}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-28 21:59:12.000000000', 'files': ['cinder/tests/test_hplefthand.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcc5921c9b8489be0c64b9e8e127d2c925644918', 'message': 'Add LeftHand extra specs schema into volume stats\n\nAdds the JSON schema for the extra specs that which are supported by the\nLeftHand driver into the volume stats.  This schema is used by Horizon to\nimprove the user experience when managing volume type extra specs.\n\nChange-Id: I6d59ca723a2a1e0cf5ff681dade9389d23aa37ce\nPartially-Implements: blueprint get-volume-type-extra-specs\n'}]",0,150995,fcc5921c9b8489be0c64b9e8e127d2c925644918,20,12,1,6825,,,0,"Add LeftHand extra specs schema into volume stats

Adds the JSON schema for the extra specs that which are supported by the
LeftHand driver into the volume stats.  This schema is used by Horizon to
improve the user experience when managing volume type extra specs.

Change-Id: I6d59ca723a2a1e0cf5ff681dade9389d23aa37ce
Partially-Implements: blueprint get-volume-type-extra-specs
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/150995/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_hplefthand.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py']",2,fcc5921c9b8489be0c64b9e8e127d2c925644918,bp/vol-type-extra-specs-enhancements," 1.0.8 - Add extra_specs metadata to stats VERSION = ""1.0.8"" # add extra_specs data['extra_specs'] = self._get_extra_specs_schema() def _get_extra_specs_schema(self): return { ""description"": ""HP LeftHand extra specs"", ""display_name"": ""HPLeftHandDriver"", ""namespace"": ""OS::Cinder::HPLeftHandDriver"", ""type"": ""object"", ""properties"": { ""hplh:provisioning"": { ""title"": ""Disk Provisioning"", ""description"": ""Disk provisioning mode"", ""type"": ""string"", ""enum"": [""thin"", ""full""], ""default"": ""thin"", }, ""hplh:ao"": { ""title"": ""Adaptive Optimization"", ""description"": ""Allows for the movement of data between "" ""storage tiers based on access trends for "" ""more effecient use of faster storage "" ""devices. Requires the storage array to "" ""be configured for Adaptive Optimization."", ""type"": ""string"", ""default"": True, }, ""hplh:data_pl"": { ""title"": ""Data Protection Level"", ""description"": ""RAID level"", ""type"": ""string"", ""enum"": [ 'r-0', 'r-5', 'r-10-2', 'r-10-3', 'r-10-4', 'r-6'], ""default"": ""r-0"", }, } } "," VERSION = ""1.0.7""",84,1
openstack%2Fopenstack-manuals~master~I7e20456f25fcfd5d75b84809edbd1991c1d0824b,openstack/openstack-manuals,master,I7e20456f25fcfd5d75b84809edbd1991c1d0824b,Imported Translations from Transifex,MERGED,2015-08-16 06:19:04.000000000,2015-08-16 07:35:56.000000000,2015-08-16 07:35:55.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-16 06:19:04.000000000', 'files': ['doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/admin-guide-cloud-rst/source/locale/admin-guide-cloud-rst.pot', 'doc/common/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/87ff7002f8a370e0dcb9fbce7cc4f692bc39e24c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7e20456f25fcfd5d75b84809edbd1991c1d0824b\n'}]",0,213486,87ff7002f8a370e0dcb9fbce7cc4f692bc39e24c,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I7e20456f25fcfd5d75b84809edbd1991c1d0824b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/213486/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/admin-guide-cloud-rst/source/locale/admin-guide-cloud-rst.pot', 'doc/common/locale/ja.po']",3,87ff7002f8a370e0dcb9fbce7cc4f692bc39e24c,transifex/translations,"""POT-Creation-Date: 2015-08-15 07:37+0000\n"" ""PO-Revision-Date: 2015-08-15 10:23+0000\n""msgid ""List group members"" msgstr """" msgid ""List groups for a user"" msgstr """" ","""POT-Creation-Date: 2015-08-14 05:36+0000\n"" ""PO-Revision-Date: 2015-08-13 12:57+0000\n""",22,16
openstack%2Foperations-guide~master~I9ee4d4fd475fcc3ffd406d48b2de894d47cb6f6b,openstack/operations-guide,master,I9ee4d4fd475fcc3ffd406d48b2de894d47cb6f6b,Imported Translations from Transifex,MERGED,2015-08-16 06:00:39.000000000,2015-08-16 07:26:13.000000000,2015-08-16 07:26:10.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-16 06:00:39.000000000', 'files': ['doc/openstack-ops/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/058b172bc4691fbecba50b04cdcc06a03385e2da', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9ee4d4fd475fcc3ffd406d48b2de894d47cb6f6b\n'}]",0,213484,058b172bc4691fbecba50b04cdcc06a03385e2da,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I9ee4d4fd475fcc3ffd406d48b2de894d47cb6f6b
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/84/213484/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/ja.po'],1,058b172bc4691fbecba50b04cdcc06a03385e2da,transifex/translations,"""POT-Creation-Date: 2015-08-15 07:12+0000\n"" ""PO-Revision-Date: 2015-08-16 00:22+0000\n""""After this command it is common practice to call <placeholder-1/> from your "" ""workstation, and once done press enter in your instance shell to unfreeze "" ""it. Obviously you could automate this, but at least it will let you properly "" ""synchronize."" msgstr """" "" <placeholder-1/> "" "" Enter "" """" """" msgid """"""If you decide to continue this step manually, don't forget to change "" ""<code>neutron</code> to <code>quantum</code> where applicable."" msgstr """" "" "" ""<code>neutron</code>  <code>quantum</code> "" """" msgid """"msgid """" ""Obtaining consistent snapshots of Windows VMs is conceptually similar to "" ""obtaining consistent snapshots of Linux VMs, although it requires additional "" ""utilities to coordinate with a Windows-only subsystem designed to facilitate "" ""consistent backups."" msgstr """" ""Windows Linux "" """" ""Windows "" msgid """" ""Once allocated, a floating IP can be assigned to running instances from the "" ""dashboard either by selecting <guibutton>Associate Floating IP</guibutton> "" ""from the actions drop-down next to the IP on the <guilabel>Access &amp; "" ""Security</guilabel> page or by making this selection next to the instance "" ""you want to associate it with on the <guilabel>Instances</guilabel> page. "" ""The inverse action, <guibutton>Dissociate Floating IP</guibutton>, is "" ""available only from the <guilabel>Access &amp; Security</guilabel> page and "" ""not from the <guilabel>Instances</guilabel> page."" msgstr """" ""Floating IP "" ""<guilabel></guilabel>"" "" IP <guibutton>Floating IP "" ""</guibutton><guilabel>"" ""</guilabel>"" "" </guibutton>Floating IP </"" ""guibutton><guilabel></guilabel>"" ""<guilabel></guilabel>"" msgid """" ""QEMU provides a guest agent that can be run in guests running on KVM "" ""hypervisors. This guest agent, on Windows VMs, coordinates with the Windows "" ""VSS service to facilitate a workflow which ensures consistent snapshots. "" ""This feature requires at least QEMU 1.7. The relevant guest agent commands "" ""are:"" msgstr """" ""QEMU KVM "" ""Windows "" ""Windows VSS "" "" QEMU 1.7 "" """" ""This step completes the rollback procedure. You should remove the Havana "" ""repository and run <placeholder-1/> to prevent accidental upgrades until you "" ""solve whatever issue caused you to roll back your environment."" msgstr """" ""Havana "" ""<placeholder-1/> "" """" msgid """"msgid """" ""To obtain snapshots of a Windows VM these commands can be scripted in "" ""sequence: flush the filesystems, freeze the filesystems, snapshot the "" ""filesystems, then unfreeze the filesystems. As with scripting similar "" ""workflows against Linux VMs, care must be used when writing such a script to "" ""ensure error handling is thorough and filesystems will not be left in a "" ""frozen state."" msgstr """" ""Windows "" """" """" ""Linux "" """" """" msgid """" ""Use the <placeholder-1/> command to install specific versions of each "" ""package by specifying <code>&lt;package-name&gt;=&lt;version&gt;</code>. The "" ""script in the previous step conveniently created a list of "" ""<code>package=version</code> pairs for you:"" msgstr """" ""<placeholder-1/>  <code>&lt;package-name&gt;=&lt;version&gt;</"" ""code> "" "" <code>package=version</code> "" """" ""Where floating IPs are configured in a deployment, each project will have a "" ""limited number of floating IPs controlled by a quota. However, these need to "" ""be allocated to the project from the central pool prior to their useusually "" ""by the administrator of the project. To allocate a floating IP to a project, "" ""use the <guibutton>Allocate IP to Project</guibutton> button on the "" ""<guilabel>Access &amp; Security</guilabel> page of the dashboard. The "" ""command line can also be used:<indexterm class=\""singular\""><primary>address "" ""pool</primary></indexterm><indexterm class=\""singular\""><primary>IP "" ""addresses</primary><secondary>floating</secondary></indexterm><indexterm "" ""class=\""singular\""><primary>user training</primary><secondary>floating IPs</"" ""secondary></indexterm>"" msgstr """" ""Floating IP  "" ""Floating IP "" """" ""<guilabel>"" ""</guilabel><guibutton>Floating IP </guibutton>"" ""Floating IP "" ""<indexterm class=\""singular\""><primary>address pool</primary></"" ""indexterm><indexterm class=\""singular\""><primary>IP addresses</"" ""primary><secondary>floating</secondary></indexterm><indexterm class="" ""\""singular\""><primary>user training</primary><secondary>floating IPs</"" ""secondary></indexterm>"" msgid """"""Windows XP and later releases include a Volume Shadow Copy Service (VSS) "" ""which provides a framework so that compliant applications can be "" ""consistently backed up on a live filesystem. To use this framework, a VSS "" ""requestor is run that signals to the VSS service that a consistent backup is "" ""needed. The VSS service notifies compliant applications (called VSS writers) "" ""to quiesce their data activity. The VSS service then tells the copy provider "" ""to create a snapshot. Once the snapshot has been made, the VSS service "" ""unfreezes VSS writers and normal I/O activity resumes."" msgstr """" ""Windows XP "" "" Volume Shadow "" ""Copy Service (VSS) VSS "" "" VSS "" ""VSS  (VSS "" "") VSS "" """" ""VSS  VSS  I/O "" """" msgid """"","""POT-Creation-Date: 2015-08-14 07:16+0000\n"" ""PO-Revision-Date: 2015-08-15 01:09+0000\n""",143,2
openstack%2Fneutron~master~If736dc2c6482d0c2722cf0a5049c8ee5511ed970,openstack/neutron,master,If736dc2c6482d0c2722cf0a5049c8ee5511ed970,lieutenants: Add Neutron infra lieutenants,MERGED,2015-08-13 16:35:48.000000000,2015-08-16 07:13:48.000000000,2015-08-14 20:01:16.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9382}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 11343}, {'_account_id': 11682}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-13 16:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8b76223fa3541be9e0a8024236e76bfca426ba4', 'message': ""lieutenants: Add Neutron infra lieutenants\n\nIt's become clear we need to have a centralized contact point\n(or points) for Neutron interactions with infra. Lets start out\nby making that Doug, Armando and myself for now.\n\nChange-Id: If736dc2c6482d0c2722cf0a5049c8ee5511ed970\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n""}, {'number': 2, 'created': '2015-08-13 19:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/255c303fe4572db5d5efd77d06d775ef4c0f2e60', 'message': ""lieutenants: Add Neutron infra lieutenants\n\nIt's become clear we need to have a centralized contact point\n(or points) for Neutron interactions with infra. Lets start out\nby making that Doug, Armando and myself for now. Note this list\nis alphabetized by last name for those curious on the ordering.\n\nChange-Id: If736dc2c6482d0c2722cf0a5049c8ee5511ed970\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n""}, {'number': 3, 'created': '2015-08-14 14:04:38.000000000', 'files': ['doc/source/policies/core-reviewers.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3784b30df447e239ff560c48142e8ab1a3c2c81', 'message': ""lieutenants: Add Neutron infra lieutenants\n\nIt's become clear we need to have a centralized contact point\n(or points) for Neutron interactions with infra. Lets start out\nby making that Doug and Armando for now. Note this list is\nalphabetized by last name for those curious on the ordering.\n\nChange-Id: If736dc2c6482d0c2722cf0a5049c8ee5511ed970\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n""}]",9,212638,d3784b30df447e239ff560c48142e8ab1a3c2c81,72,30,3,105,,,0,"lieutenants: Add Neutron infra lieutenants

It's become clear we need to have a centralized contact point
(or points) for Neutron interactions with infra. Lets start out
by making that Doug and Armando for now. Note this list is
alphabetized by last name for those curious on the ordering.

Change-Id: If736dc2c6482d0c2722cf0a5049c8ee5511ed970
Signed-off-by: Kyle Mestery <mestery@mestery.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/212638/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/policies/core-reviewers.rst'],1,a8b76223fa3541be9e0a8024236e76bfca426ba4,infra,| Infra | Doug Wiegley | dougwig | | | Kyle Mestery | mestery | | | Armando Migliaccio | armax | +------------------------+---------------------------+----------------------+* Infra means interactions with infra from a neutron perspective,,5,0
openstack%2Fcinder~master~I77179c4fc67eb82448218d18a7a9b41192456bfc,openstack/cinder,master,I77179c4fc67eb82448218d18a7a9b41192456bfc,Re-add Cinder driver for Quobyte,ABANDONED,2015-07-14 11:16:40.000000000,2015-08-16 06:57:54.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14242}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-07-14 11:16:40.000000000', 'files': ['cinder/volume/drivers/quobyte.py', 'cinder/tests/unit/test_quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/597b713007f141522dee29ed79c1e86d99923503', 'message': 'Re-add Cinder driver for Quobyte\n\nThis adds back the Quobyte Cinder driver which was\nremoved due to missing CI runs in change\nIbe1c4afddc9856965b28a139c1d37f939578577b\n\nThe CI system is back up and running stably for\na week now, logs can be reviewed at\nhttp://176.9.127.22:8081/?C=M;O=D\n\nA FFE request regarding this change will be send\nto the list shortly.\n\nImplements: blueprint readd-quobyte\n\nChange-Id: I77179c4fc67eb82448218d18a7a9b41192456bfc\n'}]",0,201507,597b713007f141522dee29ed79c1e86d99923503,27,24,1,13915,,,0,"Re-add Cinder driver for Quobyte

This adds back the Quobyte Cinder driver which was
removed due to missing CI runs in change
Ibe1c4afddc9856965b28a139c1d37f939578577b

The CI system is back up and running stably for
a week now, logs can be reviewed at
http://176.9.127.22:8081/?C=M;O=D

A FFE request regarding this change will be send
to the list shortly.

Implements: blueprint readd-quobyte

Change-Id: I77179c4fc67eb82448218d18a7a9b41192456bfc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/201507/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/quobyte.py', 'cinder/tests/unit/test_quobyte.py']",2,597b713007f141522dee29ed79c1e86d99923503,bp/readd-quobyte,"# Copyright (c) 2014 Quobyte Inc. # Copyright (c) 2013 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Unit tests for the Quobyte driver module."""""" import errno import os import six import traceback import mock from oslo_concurrency import processutils as putils from oslo_config import cfg from oslo_utils import units from cinder import context from cinder import exception from cinder.image import image_utils from cinder.openstack.common import imageutils from cinder import test from cinder.volume import configuration as conf from cinder.volume.drivers import quobyte CONF = cfg.CONF class DumbVolume(object): fields = {} def __setitem__(self, key, value): self.fields[key] = value def __getitem__(self, item): return self.fields[item] class FakeDb(object): msg = ""Tests are broken: mock this out."" def volume_get(self, *a, **kw): raise Exception(self.msg) def snapshot_get_all_for_volume(self, *a, **kw): """"""Mock this if you want results from it."""""" return [] class QuobyteDriverTestCase(test.TestCase): """"""Test case for Quobyte driver."""""" TEST_QUOBYTE_VOLUME = 'quobyte://quobyte-host/openstack-volumes' TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL = 'quobyte-host/openstack-volumes' TEST_SIZE_IN_GB = 1 TEST_MNT_POINT = '/mnt/quobyte' TEST_MNT_POINT_BASE = '/mnt' TEST_LOCAL_PATH = '/mnt/quobyte/volume-123' TEST_FILE_NAME = 'test.txt' TEST_SHARES_CONFIG_FILE = '/etc/cinder/test-shares.conf' TEST_TMP_FILE = '/tmp/tempfile' VOLUME_UUID = 'abcdefab-cdef-abcd-efab-cdefabcdefab' SNAP_UUID = 'bacadaca-baca-daca-baca-dacadacadaca' SNAP_UUID_2 = 'bebedede-bebe-dede-bebe-dedebebedede' def setUp(self): super(QuobyteDriverTestCase, self).setUp() self._configuration = mock.Mock(conf.Configuration) self._configuration.append_config_values(mock.ANY) self._configuration.quobyte_volume_url = \ self.TEST_QUOBYTE_VOLUME self._configuration.quobyte_client_cfg = None self._configuration.quobyte_sparsed_volumes = True self._configuration.quobyte_qcow2_volumes = False self._configuration.quobyte_mount_point_base = \ self.TEST_MNT_POINT_BASE self._driver =\ quobyte.QuobyteDriver(configuration=self._configuration, db=FakeDb()) self._driver.shares = {} self._driver.set_nas_security_options(is_new_cinder_install=False) def assertRaisesAndMessageMatches( self, excClass, msg, callableObj, *args, **kwargs): """"""Ensure that the specified exception was raised and its message includes the string 'msg'. """""" caught = False try: callableObj(*args, **kwargs) except Exception as exc: caught = True self.assertEqual(excClass, type(exc), 'Wrong exception caught: %s Stacktrace: %s' % (exc, traceback.format_exc())) self.assertIn(msg, six.text_type(exc)) if not caught: self.fail('Expected raised exception but nothing caught.') def test_local_path(self): """"""local_path common use case."""""" drv = self._driver volume = DumbVolume() volume['provider_location'] = self.TEST_QUOBYTE_VOLUME volume['name'] = 'volume-123' self.assertEqual( '/mnt/1331538734b757ed52d0e18c0a7210cd/volume-123', drv.local_path(volume)) def test_mount_quobyte_should_mount_correctly(self): with mock.patch.object(self._driver, '_execute') as mock_execute, \ mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') as mock_open: # Content of /proc/mount (not mounted yet). mock_open.return_value = six.StringIO( ""/dev/sda5 / ext4 rw,relatime,data=ordered 0 0"") self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) getfattr_call = mock.call( 'getfattr', '-n', 'quobyte.info', self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls( [mkdir_call, mount_call, getfattr_call], any_order=False) def test_mount_quobyte_already_mounted_detected_seen_in_proc_mount(self): with mock.patch.object(self._driver, '_execute') as mock_execute, \ mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') as mock_open: # Content of /proc/mount (already mounted). mock_open.return_value = six.StringIO( ""quobyte@%s %s fuse rw,nosuid,nodev,noatime,user_id=1000"" "",group_id=100,default_permissions,allow_other 0 0"" % (self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT)) self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT) mock_execute.assert_called_once_with( 'getfattr', '-n', 'quobyte.info', self.TEST_MNT_POINT, run_as_root=False) def test_mount_quobyte_should_suppress_and_log_already_mounted_error(self): """"""Based on /proc/mount, the file system is not mounted yet. However, mount.quobyte returns with an 'already mounted' error. This is a last-resort safe-guard in case /proc/mount parsing was not successful. Because _mount_quobyte gets called with ensure=True, the error will be suppressed and logged instead. """""" with mock.patch.object(self._driver, '_execute') as mock_execute, \ mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') as mock_open, \ mock.patch('cinder.volume.drivers.quobyte.LOG') as mock_LOG: # Content of /proc/mount (empty). mock_open.return_value = six.StringIO() mock_execute.side_effect = [None, putils.ProcessExecutionError( stderr='is busy or already mounted')] self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, ensure=True) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls([mkdir_call, mount_call], any_order=False) mock_LOG.warning.assert_called_once_with('%s is already mounted', self.TEST_QUOBYTE_VOLUME) def test_mount_quobyte_should_reraise_already_mounted_error(self): """"""Same as test_mount_quobyte_should_suppress_and_log_already_mounted_error but with ensure=False. """""" with mock.patch.object(self._driver, '_execute') as mock_execute, \ mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') as mock_open: mock_open.return_value = six.StringIO() mock_execute.side_effect = [ None, # mkdir putils.ProcessExecutionError( # mount stderr='is busy or already mounted')] self.assertRaises(putils.ProcessExecutionError, self._driver._mount_quobyte, self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, ensure=False) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls([mkdir_call, mount_call], any_order=False) def test_get_hash_str(self): """"""_get_hash_str should calculation correct value."""""" drv = self._driver self.assertEqual('1331538734b757ed52d0e18c0a7210cd', drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) def test_get_available_capacity_with_df(self): """"""_get_available_capacity should calculate correct value."""""" drv = self._driver df_total_size = 2620544 df_avail = 1490560 df_head = 'Filesystem 1K-blocks Used Available Use% Mounted on\n' df_data = 'quobyte@%s %d 996864 %d 41%% %s' % \ (self.TEST_QUOBYTE_VOLUME, df_total_size, df_avail, self.TEST_MNT_POINT) df_output = df_head + df_data drv._get_mount_point_for_share = mock.Mock(return_value=self. TEST_MNT_POINT) drv._execute = mock.Mock(return_value=(df_output, None)) self.assertEqual((df_avail, df_total_size), drv._get_available_capacity(self.TEST_QUOBYTE_VOLUME)) (drv._get_mount_point_for_share. assert_called_once_with(self.TEST_QUOBYTE_VOLUME)) (drv._execute. assert_called_once_with('df', '--portability', '--block-size', '1', self.TEST_MNT_POINT, run_as_root=self._driver._execute_as_root)) def test_get_capacity_info(self): with mock.patch.object(self._driver, '_get_available_capacity') \ as mock_get_available_capacity: drv = self._driver df_size = 2620544 df_avail = 1490560 mock_get_available_capacity.return_value = (df_avail, df_size) size, available, used = drv._get_capacity_info(mock.ANY) mock_get_available_capacity.assert_called_once_with(mock.ANY) self.assertEqual(df_size, size) self.assertEqual(df_avail, available) self.assertEqual(size - available, used) def test_load_shares_config(self): """"""_load_shares_config only puts the Volume URL into shares and strips quobyte://. """""" drv = self._driver drv._load_shares_config() self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv.shares) def test_load_shares_config_without_protocol(self): """"""Same as test_load_shares_config, but this time the URL was specified without quobyte:// in front. """""" drv = self._driver drv.configuration.quobyte_volume_url = \ self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL drv._load_shares_config() self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv.shares) def test_ensure_share_mounted(self): """"""_ensure_share_mounted simple use case."""""" with mock.patch.object(self._driver, '_get_mount_point_for_share') as \ mock_get_mount_point, \ mock.patch.object(self._driver, '_mount_quobyte') as \ mock_mount: drv = self._driver drv._ensure_share_mounted(self.TEST_QUOBYTE_VOLUME) mock_get_mount_point.assert_called_once_with( self.TEST_QUOBYTE_VOLUME) mock_mount.assert_called_once_with( self.TEST_QUOBYTE_VOLUME, mock_get_mount_point.return_value, ensure=True) def test_ensure_shares_mounted_should_save_mounting_successfully(self): """"""_ensure_shares_mounted should save share if mounted with success."""""" with mock.patch.object(self._driver, '_ensure_share_mounted') \ as mock_ensure_share_mounted: drv = self._driver drv._ensure_shares_mounted() mock_ensure_share_mounted.assert_called_once_with( self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL) self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv._mounted_shares) def test_ensure_shares_mounted_should_not_save_mounting_with_error(self): """"""_ensure_shares_mounted should not save if mount raised an error."""""" with mock.patch.object(self._driver, '_ensure_share_mounted') \ as mock_ensure_share_mounted: drv = self._driver mock_ensure_share_mounted.side_effect = Exception() drv._ensure_shares_mounted() mock_ensure_share_mounted.assert_called_once_with( self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL) self.assertEqual(1, len(drv.shares)) self.assertEqual(0, len(drv._mounted_shares)) def test_do_setup(self): """"""do_setup runs successfully."""""" drv = self._driver drv.do_setup(mock.create_autospec(context.RequestContext)) def test_check_for_setup_error_throws_quobyte_volume_url_not_set(self): """"""check_for_setup_error throws if 'quobyte_volume_url' is not set."""""" drv = self._driver drv.configuration.quobyte_volume_url = None self.assertRaisesAndMessageMatches(exception.VolumeDriverException, 'no Quobyte volume configured', drv.check_for_setup_error) def test_check_for_setup_error_throws_client_not_installed(self): """"""check_for_setup_error throws if client is not installed."""""" drv = self._driver drv._execute = mock.Mock(side_effect=OSError (errno.ENOENT, 'No such file or directory')) self.assertRaisesAndMessageMatches(exception.VolumeDriverException, 'mount.quobyte is not installed', drv.check_for_setup_error) drv._execute.assert_called_once_with('mount.quobyte', check_exit_code=False, run_as_root=False) def test_check_for_setup_error_throws_client_not_executable(self): """"""check_for_setup_error throws if client cannot be executed."""""" drv = self._driver drv._execute = mock.Mock(side_effect=OSError (errno.EPERM, 'Operation not permitted')) self.assertRaisesAndMessageMatches(OSError, 'Operation not permitted', drv.check_for_setup_error) drv._execute.assert_called_once_with('mount.quobyte', check_exit_code=False, run_as_root=False) def test_find_share_should_throw_error_if_there_is_no_mounted_shares(self): """"""_find_share should throw error if there is no mounted share."""""" drv = self._driver drv._mounted_shares = [] self.assertRaises(exception.NotFound, drv._find_share, self.TEST_SIZE_IN_GB) def test_find_share(self): """"""_find_share simple use case."""""" drv = self._driver drv._mounted_shares = [self.TEST_QUOBYTE_VOLUME] self.assertEqual(self.TEST_QUOBYTE_VOLUME, drv._find_share(self.TEST_SIZE_IN_GB)) def test_find_share_does_not_throw_error_if_there_isnt_enough_space(self): """"""_find_share intentionally does not throw when df reports no available space left. """""" with mock.patch.object(self._driver, '_get_available_capacity') \ as mock_get_available_capacity: drv = self._driver df_size = 2620544 df_avail = 0 mock_get_available_capacity.return_value = (df_avail, df_size) drv._mounted_shares = [self.TEST_QUOBYTE_VOLUME] self.assertEqual(self.TEST_QUOBYTE_VOLUME, drv._find_share(self.TEST_SIZE_IN_GB)) # The current implementation does not call _get_available_capacity. # Future ones might do and therefore we mocked it. self.assertGreaterEqual(mock_get_available_capacity.call_count, 0) def _simple_volume(self, uuid=None): volume = DumbVolume() volume['provider_location'] = self.TEST_QUOBYTE_VOLUME if uuid is None: volume['id'] = self.VOLUME_UUID else: volume['id'] = uuid # volume['name'] mirrors format from db/sqlalchemy/models.py volume['name'] = 'volume-%s' % volume['id'] volume['size'] = 10 volume['status'] = 'available' return volume def test_create_sparsed_volume(self): drv = self._driver volume = self._simple_volume() drv._create_sparsed_file = mock.Mock() drv._set_rw_permissions_for_all = mock.Mock() drv._do_create_volume(volume) drv._create_sparsed_file.assert_called_once_with(mock.ANY, mock.ANY) drv._set_rw_permissions_for_all.assert_called_once_with(mock.ANY) def test_create_nonsparsed_volume(self): drv = self._driver volume = self._simple_volume() old_value = self._configuration.quobyte_sparsed_volumes self._configuration.quobyte_sparsed_volumes = False drv._create_regular_file = mock.Mock() drv._set_rw_permissions_for_all = mock.Mock() drv._do_create_volume(volume) drv._create_regular_file.assert_called_once_with(mock.ANY, mock.ANY) drv._set_rw_permissions_for_all.assert_called_once_with(mock.ANY) self._configuration.quobyte_sparsed_volumes = old_value def test_create_qcow2_volume(self): drv = self._driver volume = self._simple_volume() old_value = self._configuration.quobyte_qcow2_volumes self._configuration.quobyte_qcow2_volumes = True drv._execute = mock.Mock() hashed = drv._get_hash_str(volume['provider_location']) path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, hashed, self.VOLUME_UUID) drv._do_create_volume(volume) assert_calls = [mock.call('qemu-img', 'create', '-f', 'qcow2', '-o', 'preallocation=metadata', path, str(volume['size'] * units.Gi), run_as_root=self._driver._execute_as_root), mock.call('chmod', 'ugo+rw', path, run_as_root=self._driver._execute_as_root)] drv._execute.assert_has_calls(assert_calls) self._configuration.quobyte_qcow2_volumes = old_value def test_create_volume_should_ensure_quobyte_mounted(self): """"""create_volume ensures shares provided in config are mounted."""""" drv = self._driver drv.LOG = mock.Mock() drv._find_share = mock.Mock() drv._do_create_volume = mock.Mock() drv._ensure_shares_mounted = mock.Mock() volume = DumbVolume() volume['size'] = self.TEST_SIZE_IN_GB drv.create_volume(volume) drv._find_share.assert_called_once_with(mock.ANY) drv._do_create_volume.assert_called_once_with(volume) drv._ensure_shares_mounted.assert_called_once_with() def test_create_volume_should_return_provider_location(self): """"""create_volume should return provider_location with found share."""""" drv = self._driver drv.LOG = mock.Mock() drv._ensure_shares_mounted = mock.Mock() drv._do_create_volume = mock.Mock() drv._find_share = mock.Mock(return_value=self.TEST_QUOBYTE_VOLUME) volume = DumbVolume() volume['size'] = self.TEST_SIZE_IN_GB result = drv.create_volume(volume) self.assertEqual(self.TEST_QUOBYTE_VOLUME, result['provider_location']) drv._do_create_volume.assert_called_once_with(volume) drv._ensure_shares_mounted.assert_called_once_with() drv._find_share.assert_called_once_with(self.TEST_SIZE_IN_GB) def test_create_cloned_volume(self): drv = self._driver drv._create_snapshot = mock.Mock() drv._copy_volume_from_snapshot = mock.Mock() drv._delete_snapshot = mock.Mock() volume = self._simple_volume() src_vref = self._simple_volume() src_vref['id'] = '375e32b2-804a-49f2-b282-85d1d5a5b9e1' src_vref['name'] = 'volume-%s' % src_vref['id'] volume_ref = {'id': volume['id'], 'name': volume['name'], 'status': volume['status'], 'provider_location': volume['provider_location'], 'size': volume['size']} snap_ref = {'volume_name': src_vref['name'], 'name': 'clone-snap-%s' % src_vref['id'], 'size': src_vref['size'], 'volume_size': src_vref['size'], 'volume_id': src_vref['id'], 'id': 'tmp-snap-%s' % src_vref['id'], 'volume': src_vref} drv.create_cloned_volume(volume, src_vref) drv._create_snapshot.assert_called_once_with(snap_ref) drv._copy_volume_from_snapshot.assert_called_once_with(snap_ref, volume_ref, volume['size']) drv._delete_snapshot.assert_called_once_with(mock.ANY) @mock.patch('cinder.openstack.common.fileutils.delete_if_exists') def test_delete_volume(self, mock_delete_if_exists): volume = self._simple_volume() volume_filename = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume_filename) info_file = volume_path + '.info' with mock.patch.object(self._driver, '_ensure_share_mounted') as \ mock_ensure_share_mounted, \ mock.patch.object(self._driver, '_local_volume_dir') as \ mock_local_volume_dir, \ mock.patch.object(self._driver, 'get_active_image_from_info') as \ mock_active_image_from_info, \ mock.patch.object(self._driver, '_execute') as \ mock_execute, \ mock.patch.object(self._driver, '_local_path_volume') as \ mock_local_path_volume, \ mock.patch.object(self._driver, '_local_path_volume_info') as \ mock_local_path_volume_info: mock_local_volume_dir.return_value = self.TEST_MNT_POINT mock_active_image_from_info.return_value = volume_filename mock_local_path_volume.return_value = volume_path mock_local_path_volume_info.return_value = info_file self._driver.delete_volume(volume) mock_ensure_share_mounted.assert_called_once_with( volume['provider_location']) mock_local_volume_dir.assert_called_once_with(volume) mock_active_image_from_info.assert_called_once_with(volume) mock_execute.assert_called_once_with('rm', '-f', volume_path, run_as_root= self._driver._execute_as_root) mock_local_path_volume_info.assert_called_once_with(volume) mock_local_path_volume.assert_called_once_with(volume) mock_delete_if_exists.assert_any_call(volume_path) mock_delete_if_exists.assert_any_call(info_file) def test_delete_should_ensure_share_mounted(self): """"""delete_volume should ensure that corresponding share is mounted."""""" drv = self._driver drv._execute = mock.Mock() volume = DumbVolume() volume['name'] = 'volume-123' volume['provider_location'] = self.TEST_QUOBYTE_VOLUME drv._ensure_share_mounted = mock.Mock() drv.delete_volume(volume) (drv._ensure_share_mounted. assert_called_once_with(self.TEST_QUOBYTE_VOLUME)) drv._execute.assert_called_once_with('rm', '-f', mock.ANY, run_as_root=False) def test_delete_should_not_delete_if_provider_location_not_provided(self): """"""delete_volume shouldn't delete if provider_location missed."""""" drv = self._driver drv._ensure_share_mounted = mock.Mock() drv._execute = mock.Mock() volume = DumbVolume() volume['name'] = 'volume-123' volume['provider_location'] = None drv.delete_volume(volume) assert not drv._ensure_share_mounted.called assert not drv._execute.called def test_extend_volume(self): drv = self._driver volume = self._simple_volume() volume_path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, drv._get_hash_str( self.TEST_QUOBYTE_VOLUME), self.VOLUME_UUID) qemu_img_info_output = """"""image: volume-%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 473K """""" % self.VOLUME_UUID img_info = imageutils.QemuImgInfo(qemu_img_info_output) drv.get_active_image_from_info = mock.Mock(return_value=volume['name']) image_utils.qemu_img_info = mock.Mock(return_value=img_info) image_utils.resize_image = mock.Mock() drv.extend_volume(volume, 3) drv.get_active_image_from_info.assert_called_once_with(volume) image_utils.qemu_img_info.assert_called_once_with(volume_path) image_utils.resize_image.assert_called_once_with(volume_path, 3) def test_copy_volume_from_snapshot(self): drv = self._driver # lots of test vars to be prepared at first dest_volume = self._simple_volume( 'c1073000-0000-0000-0000-0000000c1073') src_volume = self._simple_volume() vol_dir = os.path.join(self.TEST_MNT_POINT_BASE, drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) src_vol_path = os.path.join(vol_dir, src_volume['name']) dest_vol_path = os.path.join(vol_dir, dest_volume['name']) info_path = os.path.join(vol_dir, src_volume['name']) + '.info' snapshot = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume} snap_file = dest_volume['name'] + '.' + snapshot['id'] snap_path = os.path.join(vol_dir, snap_file) size = dest_volume['size'] qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (snap_file, src_volume['name']) img_info = imageutils.QemuImgInfo(qemu_img_output) # mocking and testing starts here image_utils.convert_image = mock.Mock() drv._read_info_file = mock.Mock(return_value= {'active': snap_file, snapshot['id']: snap_file}) image_utils.qemu_img_info = mock.Mock(return_value=img_info) drv._set_rw_permissions_for_all = mock.Mock() drv._copy_volume_from_snapshot(snapshot, dest_volume, size) drv._read_info_file.assert_called_once_with(info_path) image_utils.qemu_img_info.assert_called_once_with(snap_path) (image_utils.convert_image. assert_called_once_with(src_vol_path, dest_vol_path, 'raw', run_as_root=self._driver._execute_as_root)) drv._set_rw_permissions_for_all.assert_called_once_with(dest_vol_path) def test_create_volume_from_snapshot_status_not_available(self): """"""Expect an error when the snapshot's status is not 'available'."""""" drv = self._driver src_volume = self._simple_volume() snap_ref = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume, 'status': 'error'} new_volume = DumbVolume() new_volume['size'] = snap_ref['size'] self.assertRaises(exception.InvalidSnapshot, drv.create_volume_from_snapshot, new_volume, snap_ref) def test_create_volume_from_snapshot(self): drv = self._driver src_volume = self._simple_volume() snap_ref = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume, 'status': 'available'} new_volume = DumbVolume() new_volume['size'] = snap_ref['size'] drv._ensure_shares_mounted = mock.Mock() drv._find_share = mock.Mock(return_value=self.TEST_QUOBYTE_VOLUME) drv._do_create_volume = mock.Mock() drv._copy_volume_from_snapshot = mock.Mock() drv.create_volume_from_snapshot(new_volume, snap_ref) drv._ensure_shares_mounted.assert_called_once_with() drv._find_share.assert_called_once_with(new_volume['size']) drv._do_create_volume.assert_called_once_with(new_volume) (drv._copy_volume_from_snapshot. assert_called_once_with(snap_ref, new_volume, new_volume['size'])) def test_initialize_connection(self): drv = self._driver volume = self._simple_volume() vol_dir = os.path.join(self.TEST_MNT_POINT_BASE, drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) vol_path = os.path.join(vol_dir, volume['name']) qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) drv.get_active_image_from_info = mock.Mock(return_value=volume['name']) image_utils.qemu_img_info = mock.Mock(return_value=img_info) conn_info = drv.initialize_connection(volume, None) drv.get_active_image_from_info.assert_called_once_with(volume) image_utils.qemu_img_info.assert_called_once_with(vol_path) self.assertEqual(conn_info['data']['format'], 'raw') self.assertEqual(conn_info['driver_volume_type'], 'quobyte') self.assertEqual(conn_info['data']['name'], volume['name']) self.assertEqual(conn_info['mount_point_base'], self.TEST_MNT_POINT_BASE) def test_copy_volume_to_image_raw_image(self): drv = self._driver volume = self._simple_volume() volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume['name']) image_meta = {'id': '10958016-e196-42e3-9e7f-5d8927ae3099'} with mock.patch.object(drv, 'get_active_image_from_info') as \ mock_get_active_image_from_info, \ mock.patch.object(drv, '_local_volume_dir') as \ mock_local_volume_dir, \ mock.patch.object(image_utils, 'qemu_img_info') as \ mock_qemu_img_info, \ mock.patch.object(image_utils, 'upload_volume') as \ mock_upload_volume, \ mock.patch.object(image_utils, 'create_temporary_file') as \ mock_create_temporary_file: mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT mock_create_temporary_file.return_value = self.TEST_TMP_FILE qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = volume_path drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, image_meta) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_once_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) self.assertTrue(mock_create_temporary_file.called) def test_copy_volume_to_image_qcow2_image(self): """"""Upload a qcow2 image file which has to be converted to raw first."""""" drv = self._driver volume = self._simple_volume() volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume['name']) image_meta = {'id': '10958016-e196-42e3-9e7f-5d8927ae3099'} with mock.patch.object(drv, 'get_active_image_from_info') as \ mock_get_active_image_from_info, \ mock.patch.object(drv, '_local_volume_dir') as \ mock_local_volume_dir, \ mock.patch.object(image_utils, 'qemu_img_info') as \ mock_qemu_img_info, \ mock.patch.object(image_utils, 'convert_image') as \ mock_convert_image, \ mock.patch.object(image_utils, 'upload_volume') as \ mock_upload_volume, \ mock.patch.object(image_utils, 'create_temporary_file') as \ mock_create_temporary_file: mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT mock_create_temporary_file.return_value = self.TEST_TMP_FILE qemu_img_output = """"""image: %s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = self.TEST_TMP_FILE drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, image_meta) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_convert_image.assert_called_once_with( volume_path, upload_path, 'raw') mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) self.assertTrue(mock_create_temporary_file.called) def test_copy_volume_to_image_snapshot_exists(self): """"""Upload an active snapshot which has to be converted to raw first."""""" drv = self._driver volume = self._simple_volume() volume_path = '%s/volume-%s' % (self.TEST_MNT_POINT, self.VOLUME_UUID) volume_filename = 'volume-%s' % self.VOLUME_UUID image_meta = {'id': '10958016-e196-42e3-9e7f-5d8927ae3099'} with mock.patch.object(drv, 'get_active_image_from_info') as \ mock_get_active_image_from_info, \ mock.patch.object(drv, '_local_volume_dir') as \ mock_local_volume_dir, \ mock.patch.object(image_utils, 'qemu_img_info') as \ mock_qemu_img_info, \ mock.patch.object(image_utils, 'convert_image') as \ mock_convert_image, \ mock.patch.object(image_utils, 'upload_volume') as \ mock_upload_volume, \ mock.patch.object(image_utils, 'create_temporary_file') as \ mock_create_temporary_file: mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT mock_create_temporary_file.return_value = self.TEST_TMP_FILE qemu_img_output = """"""image: volume-%s.%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (self.VOLUME_UUID, self.SNAP_UUID, volume_filename) img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = self.TEST_TMP_FILE drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, image_meta) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_convert_image.assert_called_once_with( volume_path, upload_path, 'raw') mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) self.assertTrue(mock_create_temporary_file.called) ",,1374,0
openstack%2Fpython-cinderclient~master~I0b994466f3c65ea973e80d9f03ca9a248147d49d,openstack/python-cinderclient,master,I0b994466f3c65ea973e80d9f03ca9a248147d49d,Fixes table when there are multiline in result data,MERGED,2015-07-21 04:54:01.000000000,2015-08-16 06:40:57.000000000,2015-08-16 06:40:50.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 2861}, {'_account_id': 4428}, {'_account_id': 7198}, {'_account_id': 7764}, {'_account_id': 12924}, {'_account_id': 13636}, {'_account_id': 17444}]","[{'number': 1, 'created': '2015-07-21 04:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9645a7c87d91096b5ba94f3682519e97924c4149', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 2, 'created': '2015-07-21 05:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5fd274a6fc9492c51e2e570c4324ab0fd79789c8', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 3, 'created': '2015-07-21 07:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9b2ec1d5b53f4f6ab4c8db9944457caad16ae872', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 4, 'created': '2015-07-22 01:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/50508570250142ac3a57347cae1978afae1b1ce4', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 5, 'created': '2015-07-22 01:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/55f55c51b338bc70c7bc258dac5a388dea620b97', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 6, 'created': '2015-07-23 01:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/36b7d7df5301029527fe8cdd2543b9eb4e64ff10', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with ""\\t"".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 7, 'created': '2015-07-24 06:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/963d28a8fd2f6cf6decc4e8a25c647158330ade4', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with """".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}, {'number': 8, 'created': '2015-08-03 03:15:12.000000000', 'files': ['cinderclient/tests/unit/test_utils.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2ec9a2251d1faa8a167e975bccbaa2e59137e47d', 'message': 'Fixes table when there are multiline in result data\n\nThe table doesn\'t display right when there are multiple line in\nresult data. Fixes this by replace ""\\r"" with "" "".\n\nChange-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d\nCloses-bug: #1476462\n'}]",4,203919,2ec9a2251d1faa8a167e975bccbaa2e59137e47d,30,10,8,4428,,,0,"Fixes table when there are multiline in result data

The table doesn't display right when there are multiple line in
result data. Fixes this by replace ""\r"" with "" "".

Change-Id: I0b994466f3c65ea973e80d9f03ca9a248147d49d
Closes-bug: #1476462
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/19/203919/3 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/utils.py'],1,9645a7c87d91096b5ba94f3682519e97924c4149,bug/1476462," if not isinstance(data, bool): data = data.replace(""\r"", ""\t"")",,2,0
openstack%2Fpython-barbicanclient~master~If7cf1fd127f298bfd499b650d9d312fa387bb0b8,openstack/python-barbicanclient,master,If7cf1fd127f298bfd499b650d9d312fa387bb0b8,Updated from global requirements,MERGED,2015-08-13 20:21:22.000000000,2015-08-16 06:40:35.000000000,2015-08-16 06:40:34.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7973}, {'_account_id': 11561}]","[{'number': 1, 'created': '2015-08-13 20:21:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a5f7531a0f37542be70d0cfbd0fd7f86a38b0539', 'message': 'Updated from global requirements\n\nChange-Id: If7cf1fd127f298bfd499b650d9d312fa387bb0b8\n'}]",0,212756,a5f7531a0f37542be70d0cfbd0fd7f86a38b0539,9,4,1,11131,,,0,"Updated from global requirements

Change-Id: If7cf1fd127f298bfd499b650d9d312fa387bb0b8
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/56/212756/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a5f7531a0f37542be70d0cfbd0fd7f86a38b0539,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fpython-cinderclient~master~I7ea0306009e8fdde468c1394615972de4d296f45,openstack/python-cinderclient,master,I7ea0306009e8fdde468c1394615972de4d296f45,"Replace assertEqual(None, *) with assertIsNone in tests",MERGED,2015-08-09 07:01:00.000000000,2015-08-16 06:23:45.000000000,2015-08-16 06:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 7764}, {'_account_id': 14305}, {'_account_id': 15701}]","[{'number': 1, 'created': '2015-08-09 07:01:00.000000000', 'files': ['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/tests/unit/test_shell.py', 'cinderclient/tests/unit/v2/test_consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/780a1299cb40c219cf5f9146642bd67d309f1329', 'message': 'Replace assertEqual(None, *) with assertIsNone in tests\n\nReplace assertEqual(None, *) with assertIsNone in tests to have\nmore clear messages in case of failure.\n\nChange-Id: I7ea0306009e8fdde468c1394615972de4d296f45\nCloses-Bug:#1280522\n'}]",0,210801,780a1299cb40c219cf5f9146642bd67d309f1329,10,6,1,10674,,,0,"Replace assertEqual(None, *) with assertIsNone in tests

Replace assertEqual(None, *) with assertIsNone in tests to have
more clear messages in case of failure.

Change-Id: I7ea0306009e8fdde468c1394615972de4d296f45
Closes-Bug:#1280522
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/01/210801/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/tests/unit/test_shell.py', 'cinderclient/tests/unit/v2/test_consistencygroups.py']",3,780a1299cb40c219cf5f9146642bd67d309f1329,bug/1280522, self.assertIsNone(cs.consistencygroups.update('1234'))," self.assertEqual(None, cs.consistencygroups.update('1234'))",4,4
openstack%2Fmagnum~master~I0e300aba0c2cb36e488e8767adc5424c41f06ea5,openstack/magnum,master,I0e300aba0c2cb36e488e8767adc5424c41f06ea5,Updated from global requirements,MERGED,2015-08-13 20:17:50.000000000,2015-08-16 05:04:35.000000000,2015-08-16 05:04:33.000000000,"[{'_account_id': 3}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 8143}, {'_account_id': 10206}, {'_account_id': 10263}, {'_account_id': 11650}]","[{'number': 1, 'created': '2015-08-13 20:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d4a614802bdbbe5ee907d8d435e7366a8d5415fe', 'message': 'Updated from global requirements\n\nChange-Id: I0e300aba0c2cb36e488e8767adc5424c41f06ea5\n'}, {'number': 2, 'created': '2015-08-14 08:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cdac17554c2e929581996e6a316341fc1b628803', 'message': 'Updated from global requirements\n\nChange-Id: I0e300aba0c2cb36e488e8767adc5424c41f06ea5\n'}, {'number': 3, 'created': '2015-08-14 09:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/64968f316f23aa205c7632ea0a62ed915296f655', 'message': 'Updated from global requirements\n\nChange-Id: I0e300aba0c2cb36e488e8767adc5424c41f06ea5\n'}, {'number': 4, 'created': '2015-08-15 20:49:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e9da16afdbe07c6ccf4316c2a02d9bfe0efe1b26', 'message': 'Updated from global requirements\n\nChange-Id: I0e300aba0c2cb36e488e8767adc5424c41f06ea5\n'}]",0,212747,e9da16afdbe07c6ccf4316c2a02d9bfe0efe1b26,20,7,4,11131,,,0,"Updated from global requirements

Change-Id: I0e300aba0c2cb36e488e8767adc5424c41f06ea5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/47/212747/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d4a614802bdbbe5ee907d8d435e7366a8d5415fe,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fsenlin~master~I3942f6fcbabbcaf6af9971fb28c5c487fe5f4608,openstack/senlin,master,I3942f6fcbabbcaf6af9971fb28c5c487fe5f4608,Unit test for events in service engine,MERGED,2015-08-13 13:01:22.000000000,2015-08-16 03:52:20.000000000,2015-08-16 03:52:18.000000000,"[{'_account_id': 3}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-08-13 13:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8d7d110d69591ae37c13e63394034b93df32d08a', 'message': 'Unit test for events in service engine\n\nThis patch adds unit test cases for events in service engine.\n\nChange-Id: I3942f6fcbabbcaf6af9971fb28c5c487fe5f4608\n'}, {'number': 2, 'created': '2015-08-14 14:50:44.000000000', 'files': ['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_events.py', 'senlin/engine/event.py', 'senlin/common/consts.py', 'senlin/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3e0460736004c922c15bee28d73ca791c8eed571', 'message': 'Unit test for events in service engine\n\nThis patch adds unit test cases for events in service engine.\n\nChange-Id: I3942f6fcbabbcaf6af9971fb28c5c487fe5f4608\n'}]",0,212516,3e0460736004c922c15bee28d73ca791c8eed571,10,2,2,8246,,,0,"Unit test for events in service engine

This patch adds unit test cases for events in service engine.

Change-Id: I3942f6fcbabbcaf6af9971fb28c5c487fe5f4608
",git fetch https://review.opendev.org/openstack/senlin refs/changes/16/212516/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/service.py', 'senlin/engine/event.py', 'senlin/tests/unit/engine/service/test_events.py', 'senlin/common/consts.py', 'senlin/db/sqlalchemy/api.py']",5,8d7d110d69591ae37c13e63394034b93df32d08a,ut-engine-events," consts.EVENT_LEVEL: models.Event.level.key,",,210,9
openstack%2Fkeystoneauth~master~I1300e411c93bdfb17975e4f61e925b5b6474434c,openstack/keystoneauth,master,I1300e411c93bdfb17975e4f61e925b5b6474434c,Use human readable exception messages,MERGED,2015-08-13 17:30:45.000000000,2015-08-16 03:47:11.000000000,2015-08-16 03:47:09.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2903}]","[{'number': 1, 'created': '2015-08-13 17:30:45.000000000', 'files': ['keystoneauth1/exceptions/base.py', 'keystoneauth1/exceptions/discovery.py', 'keystoneauth1/exceptions/auth_plugins.py', 'keystoneauth1/exceptions/catalog.py', 'keystoneauth1/exceptions/response.py', 'keystoneauth1/exceptions/connection.py', 'keystoneauth1/exceptions/auth.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c7f60421a07dcaebb24bcfdf0d81ad265636a697', 'message': 'Use human readable exception messages\n\nCurrently, the exceptions are nothing if converted to strings.\nThe doc strings are human reable and useful to users, so use them.\nBefore:\n\n    $ python examples/connection.py\n    ERROR: Exception raised:\n    $\n\nAfter:\n\n    $ python examples/connection.py\n    ERROR: Exception raised: Could not find requested endpoint in Service Catalog.\n    $\n\nChange-Id: I1300e411c93bdfb17975e4f61e925b5b6474434c\n'}]",6,212670,c7f60421a07dcaebb24bcfdf0d81ad265636a697,7,3,1,8736,,,0,"Use human readable exception messages

Currently, the exceptions are nothing if converted to strings.
The doc strings are human reable and useful to users, so use them.
Before:

    $ python examples/connection.py
    ERROR: Exception raised:
    $

After:

    $ python examples/connection.py
    ERROR: Exception raised: Could not find requested endpoint in Service Catalog.
    $

Change-Id: I1300e411c93bdfb17975e4f61e925b5b6474434c
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/70/212670/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/exceptions/base.py', 'keystoneauth1/exceptions/discovery.py', 'keystoneauth1/exceptions/auth_plugins.py', 'keystoneauth1/exceptions/catalog.py', 'keystoneauth1/exceptions/response.py', 'keystoneauth1/exceptions/connection.py', 'keystoneauth1/exceptions/auth.py']",7,c7f60421a07dcaebb24bcfdf0d81ad265636a697,exceptions," message = ""Cannot authorize API client."""," """"""Cannot authorize API client."""""" pass",22,20
openstack%2Fkolla~master~I836d35515c71842f01974e9ae4dd934f3f4114f9,openstack/kolla,master,I836d35515c71842f01974e9ae4dd934f3f4114f9,Add heat to docker_templates,MERGED,2015-08-15 04:56:27.000000000,2015-08-16 03:42:00.000000000,2015-08-16 03:41:56.000000000,"[{'_account_id': 3}, {'_account_id': 10428}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-15 04:56:27.000000000', 'files': ['docker_templates/heat/heat-api-cfn/Dockerfile.j2', 'docker_templates/heat/heat-api/Dockerfile.j2', 'docker_templates/heat/heat-api-cfn/start.sh', 'docker_templates/heat/heat-api/config-external.sh', 'docker_templates/heat/heat-engine/start.sh', 'docker_templates/heat/heat-api-cfn/config-external.sh', 'docker_templates/heat/heat-engine/config-external.sh', 'docker_templates/heat/heat-engine/Dockerfile.j2', 'docker_templates/heat/heat-base/Dockerfile.j2', 'docker_templates/heat/heat-api/start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f0a349f8103849dee5eca4cdc769292e498cfe29', 'message': 'Add heat to docker_templates\n\nThis adds Heat to the docker_templates directory.\n\nChange-Id: I836d35515c71842f01974e9ae4dd934f3f4114f9\nPartially-Implements: blueprint dockerfile-template\n'}]",0,213417,f0a349f8103849dee5eca4cdc769292e498cfe29,7,3,1,2834,,,0,"Add heat to docker_templates

This adds Heat to the docker_templates directory.

Change-Id: I836d35515c71842f01974e9ae4dd934f3f4114f9
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/213417/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/heat/heat-api-cfn/Dockerfile.j2', 'docker_templates/heat/heat-api/Dockerfile.j2', 'docker_templates/heat/heat-api-cfn/start.sh', 'docker_templates/heat/heat-api/config-external.sh', 'docker_templates/heat/heat-engine/start.sh', 'docker_templates/heat/heat-api-cfn/config-external.sh', 'docker_templates/heat/heat-engine/config-external.sh', 'docker_templates/heat/heat-engine/Dockerfile.j2', 'docker_templates/heat/heat-base/Dockerfile.j2', 'docker_templates/heat/heat-api/start.sh']",10,f0a349f8103849dee5eca4cdc769292e498cfe29,bp/dockerfile-template,../../../docker/common/heat/heat-api/start.sh,,109,0
openstack%2Fkolla~master~I0f83d7c2d3bbf5d1af2b8cab179d1961831158d0,openstack/kolla,master,I0f83d7c2d3bbf5d1af2b8cab179d1961831158d0,Remove all old config-internal documentation,MERGED,2015-08-15 04:40:08.000000000,2015-08-16 03:41:11.000000000,2015-08-16 03:41:06.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10428}, {'_account_id': 13039}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-15 04:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f12b2e1000db129ae9effaa9e753e89601507689', 'message': 'Remove all old irrelevant documentation\n\nBad documentation is worse then no documentation.  All this stuff\nis outdated and has to go.\n\nChange-Id: I0f83d7c2d3bbf5d1af2b8cab179d1961831158d0\n'}, {'number': 2, 'created': '2015-08-15 19:31:53.000000000', 'files': ['docs/database-container-set.md', 'docs/minimal-environment-vars.md', 'docs/integration-guide.md', 'docs/block-storage-guide.md'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b6ec9334949a789ffc98c59eff5561c4dbe7fedb', 'message': 'Remove all old config-internal documentation\n\nBad documentation is worse then no documentation.  All this stuff\nis related to config-internal and has to go.\n\nParitally-Implements: remove-config-internal\n\nChange-Id: I0f83d7c2d3bbf5d1af2b8cab179d1961831158d0\n'}]",1,213415,b6ec9334949a789ffc98c59eff5561c4dbe7fedb,13,5,2,2834,,,0,"Remove all old config-internal documentation

Bad documentation is worse then no documentation.  All this stuff
is related to config-internal and has to go.

Paritally-Implements: remove-config-internal

Change-Id: I0f83d7c2d3bbf5d1af2b8cab179d1961831158d0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/213415/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/database-container-set.md', 'docs/minimal-environment-vars.md', 'docs/block-storage-guide.md']",3,f12b2e1000db129ae9effaa9e753e89601507689,,,"# Storage Guide This is a overview of how Cinder is implemented in Kolla so that it is easier to understand how to use it. Keep in mind, this is the first iteration for Cinder as support for Ceph and physical devices will follow. ## Overview Kolla's setup for Cinder uses tgtd as the default iSCSI helper to implement persistent targets. By default, we use a loop back file that is defined by CINDER_LVM_LO_VOLUME_SIZE to create the cinder-volumes volume group. ## Configure Cinder Listed below are the default configurations for Cinder. For more info on what each variable does look at the [integration guide.](https://github.com/stackforge/kolla/blob/master/docs/integration-guide.md): # Cinder Volume CINDER_ENABLED_BACKEND=lvm57 CINDER_LVM_LO_VOLUME_SIZE=4G CINDER_VOLUME_API_LISTEN=$HOST_IP CINDER_VOLUME_BACKEND_NAME=LVM_iSCSI57 CINDER_VOLUME_DRIVER=cinder.volume.drivers.lvm.LVMISCSIDriver CINDER_VOLUME_GROUP=cinder-volumes ISCSI_HELPER=tgtadm ISCSI_IP_ADDRESS=$HOST_IP ## Using Cinder After you've started all your containers, you should be able to interact with Cinder. cinder list Next, you will want to create a volume and attach it to a running instance. cinder create 1 nova volume-attach <instance_id> <volume_id> ## Debugging and deleting volumes The cinder-volumes volume group can't be seen from the host. In order to interact with an existing volume, you need to jump into the Cinder Volume container. sudo docker exec -it <cinder_volume_container> /bin/bash vgs Running 'vgs' will list the volumes groups. From there, you can look specific volumes to make sure volume creation succeeded. To delete the cinder-volumes volume group from within the container run: vgs remove cinder-volumes ",0,544
openstack%2Fkolla~master~I27efcd55f1b45d32e4504734edf9e1a305696ac1,openstack/kolla,master,I27efcd55f1b45d32e4504734edf9e1a305696ac1,Fix up FROM line in galera,MERGED,2015-08-15 19:44:49.000000000,2015-08-16 03:38:11.000000000,2015-08-16 03:38:10.000000000,"[{'_account_id': 3}, {'_account_id': 10428}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-15 19:44:49.000000000', 'files': ['docker_templates/galera/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f16e3524741f5a82debecd5a90013914beaeb109', 'message': 'Fix up FROM line in galera\n\nWhile the existing FROM line is technically correct, prefer we\nuse jinja tmeplating for the whole thing, so that we can remove\nthe special casing of the build.py script once the docker dir\ngoes.\n\nChange-Id: I27efcd55f1b45d32e4504734edf9e1a305696ac1\nPartially-Implements: blueprint dockerfile-templates\n'}]",1,213462,f16e3524741f5a82debecd5a90013914beaeb109,7,3,1,2834,,,0,"Fix up FROM line in galera

While the existing FROM line is technically correct, prefer we
use jinja tmeplating for the whole thing, so that we can remove
the special casing of the build.py script once the docker dir
goes.

Change-Id: I27efcd55f1b45d32e4504734edf9e1a305696ac1
Partially-Implements: blueprint dockerfile-templates
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/213462/1 && git format-patch -1 --stdout FETCH_HEAD,['docker_templates/galera/Dockerfile.j2'],1,f16e3524741f5a82debecd5a90013914beaeb109,bp/dockerfile-templates,FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }},FROM %%KOLLA_NAMESPACE%%/%%KOLLA_PREFIX%%base:%%KOLLA_TAG%%,1,1
openstack%2Fkolla~master~Id0af297e29c2751c7da1f19742f764ccac56d723,openstack/kolla,master,Id0af297e29c2751c7da1f19742f764ccac56d723,Register neutron as the network service,MERGED,2015-08-14 23:27:13.000000000,2015-08-16 03:07:06.000000000,2015-08-16 03:07:04.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10428}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-14 23:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a751203805b3906c7f26b731215c07e48ddc59c5', 'message': 'Register neutron as the network service\n\nChange-Id: Id0af297e29c2751c7da1f19742f764ccac56d723\nCloses-Bug: #1485142\n'}, {'number': 2, 'created': '2015-08-15 06:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e670f68b8cbfeb536a55fe1335fb49e27a5c1b0', 'message': 'Register neutron as the network service\n\nChange-Id: Id0af297e29c2751c7da1f19742f764ccac56d723\nCloses-Bug: #1485142\n'}, {'number': 3, 'created': '2015-08-15 21:49:39.000000000', 'files': ['ansible/roles/neutron/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/db98ff7e48b26ba1e3106ad89c875fc7089c67cc', 'message': 'Register neutron as the network service\n\nChange-Id: Id0af297e29c2751c7da1f19742f764ccac56d723\nCloses-Bug: #1485142\n'}]",0,213374,db98ff7e48b26ba1e3106ad89c875fc7089c67cc,13,4,3,2834,,,0,"Register neutron as the network service

Change-Id: Id0af297e29c2751c7da1f19742f764ccac56d723
Closes-Bug: #1485142
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/213374/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/register.yml'],1,a751203805b3906c7f26b731215c07e48ddc59c5,bp/one-data-container, service_type=network, service_type=image,1,1
openstack%2Fpython-keystoneclient~master~I8e896b28d5879cd4b1372009926c67cde773308f,openstack/python-keystoneclient,master,I8e896b28d5879cd4b1372009926c67cde773308f,Expose token_endpoint.Token as admin_token,MERGED,2015-08-14 23:38:34.000000000,2015-08-16 03:05:41.000000000,2015-08-16 03:05:33.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 7191}]","[{'number': 1, 'created': '2015-08-14 23:38:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0cb46c9421c6affef009ca3b1ab54b4f3c176cbe', 'message': ""Expose token_endpoint.Token as admin_token\n\nWhen bootstrapping a cloud, using this auth plugin is necessary to be\nable to provide an admin token. However, there has been some confusion\nas to its officialness and the names of its parameters. Make it clear\nwhy it's exposed, and additionally be clearer about squatting on the\nname of the plugin so that things can depend on its interface.\n\nChange-Id: I8e896b28d5879cd4b1372009926c67cde773308f\n""}]",0,213376,0cb46c9421c6affef009ca3b1ab54b4f3c176cbe,9,3,1,2,,,0,"Expose token_endpoint.Token as admin_token

When bootstrapping a cloud, using this auth plugin is necessary to be
able to provide an admin token. However, there has been some confusion
as to its officialness and the names of its parameters. Make it clear
why it's exposed, and additionally be clearer about squatting on the
name of the plugin so that things can depend on its interface.

Change-Id: I8e896b28d5879cd4b1372009926c67cde773308f
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/76/213376/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0cb46c9421c6affef009ca3b1ab54b4f3c176cbe,auth-token-rename, admin_token = keystoneclient.auth.token_endpoint:Token,,1,0
openstack%2Fpuppet-sahara~master~I222f5d63a7f0518ac04546915dcb12156840c8d4,openstack/puppet-sahara,master,I222f5d63a7f0518ac04546915dcb12156840c8d4,Update parameters for Sahara,MERGED,2015-07-27 10:04:39.000000000,2015-08-16 02:54:35.000000000,2015-08-16 02:54:34.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 3153}, {'_account_id': 6786}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 7195}, {'_account_id': 7604}, {'_account_id': 7710}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8482}, {'_account_id': 9410}, {'_account_id': 10540}, {'_account_id': 13919}, {'_account_id': 14007}, {'_account_id': 15313}, {'_account_id': 15519}]","[{'number': 1, 'created': '2015-07-27 10:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/a12a9dfdf407f70415e3c5252645d692d0332bb4', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 2, 'created': '2015-07-28 13:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/d38cbdd0ae226b9ce32b34680180b93a2f9ed6d0', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 3, 'created': '2015-07-29 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/4cdcb965561b982a10e378ad6df55e7a248fc6df', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 4, 'created': '2015-08-04 14:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/3c8beee441275e610df6e7435d8d59b4c94e623b', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 5, 'created': '2015-08-10 13:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/1d119dcfb25880d592801b36b51d81ff73d7774c', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 6, 'created': '2015-08-12 09:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/e127e7fa3374ba3402c777daa9e6d28e423b2a8d', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}, {'number': 7, 'created': '2015-08-13 10:48:04.000000000', 'files': ['examples/basic.pp', 'manifests/notify/qpid.pp', 'manifests/notify/rabbitmq.pp', 'manifests/init.pp', 'spec/acceptance/basic_sahara_spec.rb', 'spec/classes/sahara_init_spec.rb', 'manifests/notify/zeromq.pp', 'spec/classes/sahara_notify_rabbitmq_spec.rb', 'spec/classes/sahara_notify_qpid_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/f590f384a92916671cf7904a9c983b789b4abb7b', 'message': 'Update parameters for Sahara\n\nRemove wrong and update parameters for sahara.conf\n\n[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html\n\nChange-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4\n'}]",15,205987,f590f384a92916671cf7904a9c983b789b4abb7b,46,18,7,7745,,,0,"Update parameters for Sahara

Remove wrong and update parameters for sahara.conf

[1] http://docs.openstack.org/kilo/config-reference/content/ch_configuring-sahara.html

Change-Id: I222f5d63a7f0518ac04546915dcb12156840c8d4
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/87/205987/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/basic.pp', 'manifests/notify/qpid.pp', 'manifests/notify/rabbitmq.pp', 'manifests/init.pp', 'spec/acceptance/basic_sahara_spec.rb', 'spec/classes/sahara_init_spec.rb', 'manifests/notify/zeromq.pp', 'spec/classes/sahara_notify_rabbitmq_spec.rb', 'spec/classes/sahara_notify_qpid_spec.rb']",9,a12a9dfdf407f70415e3c5252645d692d0332bb4,(detached, it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_username').with_value('guest') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_password').with_value('pass') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_password').with_value(params[:qpid_password]).with_secret(true) } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_hostname').with_value('localhost') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_port').with_value('5672') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_protocol').with_value('tcp') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_username').with_value('guest2') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_hostname').with_value('localhost2') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_port').with_value('5673') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_protocol').with_value('tcp') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_username').with_value('guest3') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_hostname').with_value('localhost3') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_port').with_value('5671') } it { is_expected.to contain_sahara_config('oslo_messaging_qpid/qpid_protocol').with_value('ssl') }," it { is_expected.to contain_sahara_config('DEFAULT/qpid_username').with_value('guest') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_password').with_value('pass') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_password').with_value(params[:qpid_password]).with_secret(true) } it { is_expected.to contain_sahara_config('DEFAULT/qpid_hostname').with_value('localhost') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_port').with_value('5672') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_protocol').with_value('tcp') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_username').with_value('guest2') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_hostname').with_value('localhost2') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_port').with_value('5673') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_protocol').with_value('tcp') } :kombu_ssl_keyfile => '/srv/sahara_ssl.key', :kombu_ssl_certfile => '/srv/sahara_ssl.crt', :kombu_ssl_ca_certs => '/srv/cacert', it { is_expected.to contain_sahara_config('DEFAULT/qpid_username').with_value('guest3') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_hostname').with_value('localhost3') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_port').with_value('5671') } it { is_expected.to contain_sahara_config('DEFAULT/qpid_protocol').with_value('ssl') } it { is_expected.to contain_sahara_config('DEFAULT/kombu_ssl_keyfile').with_value('/srv/sahara_ssl.key') } it { is_expected.to contain_sahara_config('DEFAULT/kombu_ssl_certfile').with_value('/srv/sahara_ssl.crt') } it { is_expected.to contain_sahara_config('DEFAULT/kombu_ssl_ca_certs').with_value('/srv/cacert') }",94,216
openstack%2Ftrove-integration~master~I0c50bcd8683aa490379a5390a49a9937eb3fbcc5,openstack/trove-integration,master,I0c50bcd8683aa490379a5390a49a9937eb3fbcc5,Fix syntax error with assignment to BRANCH_OVERRIDE,MERGED,2015-08-15 01:32:04.000000000,2015-08-16 02:27:07.000000000,2015-08-16 02:27:01.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 6413}, {'_account_id': 10215}, {'_account_id': 12758}]","[{'number': 1, 'created': '2015-08-15 01:32:04.000000000', 'files': ['scripts/redstack'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/42c921f568645cbb9be2e6a8609bb5cab389a30e', 'message': 'Fix syntax error with assignment to BRANCH_OVERRIDE\n\nIac7e27df935f1b2d6bed3cad2106199aae941f31 introduced a typo which\nis causing a syntax error when setting the BRANCH_OVERRIDE\nconditionally. This fixes that typo.\n\nChange-Id: I0c50bcd8683aa490379a5390a49a9937eb3fbcc5\n'}]",0,213393,42c921f568645cbb9be2e6a8609bb5cab389a30e,19,5,1,5293,,,0,"Fix syntax error with assignment to BRANCH_OVERRIDE

Iac7e27df935f1b2d6bed3cad2106199aae941f31 introduced a typo which
is causing a syntax error when setting the BRANCH_OVERRIDE
conditionally. This fixes that typo.

Change-Id: I0c50bcd8683aa490379a5390a49a9937eb3fbcc5
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/93/213393/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/redstack'],1,42c921f568645cbb9be2e6a8609bb5cab389a30e,, BRANCH_OVERRIDE=$OVERRIDE_ZUUL_BRANCH, $BRANCH_OVERRIDE=$OVERRIDE_ZUUL_BRANCH,1,1
openstack%2Fmanila~master~Ifa8e394335a4eb3ad21f53a873530aee241c00e8,openstack/manila,master,Ifa8e394335a4eb3ad21f53a873530aee241c00e8,Implement Manila REST API microversions,MERGED,2015-07-29 21:40:01.000000000,2015-08-16 01:22:11.000000000,2015-08-15 19:02:45.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 9545}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11865}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16657}, {'_account_id': 17444}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-07-29 21:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/82802e624810e412f6993c8dbd877fdbc6b27d4d', 'message': '[WIP] Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 2, 'created': '2015-08-06 22:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05d1088f610ebfd4df888b035e020acf1a24ea85', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 3, 'created': '2015-08-07 18:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/744449c1b39f3cb623eda720200658d0a95d37d5', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 4, 'created': '2015-08-09 04:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9289e1fd2fc8fda753ef46c37ec93d52d8b0fa88', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 5, 'created': '2015-08-10 22:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/35751f2de2ee5dc12717ad63ae07343b714f731a', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 6, 'created': '2015-08-11 21:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7cd55a8ce6febd096ff02ccab1f9387642da040b', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 7, 'created': '2015-08-12 18:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cae73bad581602c252c9a429b037c2d334d9504f', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}, {'number': 8, 'created': '2015-08-13 19:51:19.000000000', 'files': ['manila/api/views/versions.py', 'manila/api/__init__.py', 'manila/tests/api/test_versions.py', 'manila/common/config.py', 'manila/tests/api/test_router.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/api/openstack/versioned_method.py', 'manila/api/openstack/wsgi.py', 'manila/api/v1/router.py', 'manila/tests/api/openstack/test_versioned_method.py', 'etc/manila/api-paste.ini', 'manila/tests/api/views/test_versions.py', 'manila/api/versions.py', 'manila/tests/test_utils.py', 'manila/tests/api/fakes.py', 'doc/source/devref/api_microversion_history.rst', 'doc/source/devref/index.rst', 'manila/tests/api/openstack/test_wsgi.py', 'doc/source/devref/api_microversion_dev.rst', 'manila/exception.py', 'manila/tests/api/openstack/test_api_version_request.py', 'manila/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/145165a22ea7ab237ea97d75eaa821062121358a', 'message': 'Implement Manila REST API microversions\n\nThe OpenStack API working group recommends all projects adopt\nNova-style microversions for versioning their REST APIs.  This\ncommit ports the Nova microversion code and docs to Manila.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API (which has always returned horribly outdated\nvalues) is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\nImplements bp: manila-rest-api-microversions\nChange-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8\n'}]",86,207228,145165a22ea7ab237ea97d75eaa821062121358a,91,16,8,11865,,,0,"Implement Manila REST API microversions

The OpenStack API working group recommends all projects adopt
Nova-style microversions for versioning their REST APIs.  This
commit ports the Nova microversion code and docs to Manila.

With this patch, the API version is bumped to 1.1, and the
versions API (which has always returned horribly outdated
values) is the first API that is versioned.  The 1.1 version
of the versions API includes the minimum and current API
version values.

Implements bp: manila-rest-api-microversions
Change-Id: Ifa8e394335a4eb3ad21f53a873530aee241c00e8
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/207228/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v1/shares.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/api/openstack/versioned_method.py', 'manila/api/openstack/wsgi.py', 'manila/tests/api/middleware/test_faults.py', 'manila/tests/api/fakes.py', 'manila/tests/test_wsgi.py', 'doc/source/devref/api_microversion_history.rst', 'doc/source/devref/index.rst', 'manila/tests/api/v1/test_limits.py', 'doc/source/devref/api_microversion_dev.rst', 'manila/exception.py', 'manila/tests/api/openstack/test_api_version_request.py', 'manila/utils.py']",15,82802e624810e412f6993c8dbd877fdbc6b27d4d,bp/manila-rest-api-microversions,"def utf8(value): """"""Try to turn a string into utf-8 if possible. Code is directly from the utf8 function in http://github.com/facebook/tornado/blob/master/tornado/escape.py """""" if isinstance(value, unicode): return value.encode('utf-8') assert isinstance(value, str) return value ",,1003,59
openstack%2Fkeystonemiddleware~master~Ib7fdf60f8369ea9546fcd92f1ac385c777478d10,openstack/keystonemiddleware,master,Ib7fdf60f8369ea9546fcd92f1ac385c777478d10,Prevent a UnicodeDecodeError in the s3token middleware,MERGED,2015-05-04 13:30:04.000000000,2015-08-16 01:17:21.000000000,2015-08-16 01:17:20.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2750}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8122}, {'_account_id': 9107}, {'_account_id': 9142}, {'_account_id': 12050}, {'_account_id': 13055}, {'_account_id': 15343}]","[{'number': 1, 'created': '2015-05-04 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7fb7dab2f246d6aee642f02aa8d1d69bf768a921', 'message': 'Prevent a UnicodeDecodeError in the s3token middleware\n\nMixing ""str"" and ""unicode"" can lead to a UnicodeDecodeError. We encode unicode\nvalues before using them with text strings.\n\nThe bug occurs if the URL contains a non-ASCII character in the tenant id:\n""hho"" in ""/v1/AUTH_cfa/c/hho"" (""/v1/AUTH_cfa/c/h\\xc3\\xa9ho"" in UTF-8) for\nexample.\n\nThe bug occurs on Python 2 in s3_token.py because the tenant id is retrieved\nfrom identity_info[\'access\'][\'token\'][\'tenant\'] and identity_info comes from\nresp.json().\n\nThe problem is that in Python, the JSON decoder always create Unicode strings.\nExample in Python 2:\n\n>>> json.loads(\'{""key"": ""value""}\') {u\'key\': u\'value\'}\n\nThere is no issue in Python 3, since all text strings are Unicode.\n\nChange-Id: Ib7fdf60f8369ea9546fcd92f1ac385c777478d10\nCloses-Bug: #1428706\n'}, {'number': 2, 'created': '2015-05-05 16:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7a0e61c87c5f8d3bc06560d1331f429fdde3f852', 'message': 'Prevent a UnicodeDecodeError in the s3token middleware\n\nMixing ""str"" and ""unicode"" can lead to a UnicodeDecodeError. We encode unicode\nvalues before using them with text strings.\n\nThe bug occurs if the URL contains a non-ASCII character in the path:\n""hho"" in ""/v1/AUTH_cfa/c/hho"" (""/v1/AUTH_cfa/c/h\\xc3\\xa9ho"" in UTF-8) for\nexample.\n\nThe bug occurs on Python 2 in s3_token.py because the tenant id is retrieved\nfrom identity_info[\'access\'][\'token\'][\'tenant\'] and identity_info comes from\nresp.json().\n\nThe problem is that in Python, the JSON decoder always create Unicode strings.\nExample in Python 2:\n\n>>> json.loads(\'{""key"": ""value""}\') {u\'key\': u\'value\'}\n\nThere is no issue in Python 3, since all text strings are Unicode.\n\nChange-Id: Ib7fdf60f8369ea9546fcd92f1ac385c777478d10\nCloses-Bug: #1428706\nCo-Authored-By: Victor Stinner <vstinner@redhat.com>\n'}, {'number': 3, 'created': '2015-05-05 16:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f5ab56e1a1ea4eeb026db96392c5b19a098c7833', 'message': 'Prevent a UnicodeDecodeError in the s3token middleware\n\nMixing ""str"" and ""unicode"" can lead to a UnicodeDecodeError. We encode unicode\nvalues before using them with text strings.\n\nThe bug occurs if the URL contains a non-ASCII character in the path:\n""hho"" in ""/v1/AUTH_cfa/c/hho"" (""/v1/AUTH_cfa/c/h\\xc3\\xa9ho"" in UTF-8) for\nexample.\n\nThe bug occurs on Python 2 in s3_token.py because the tenant id is retrieved\nfrom identity_info[\'access\'][\'token\'][\'tenant\'] and identity_info comes from\nresp.json().\n\nThe problem is that in Python, the JSON decoder always create Unicode strings.\nExample in Python 2:\n\n>>> json.loads(\'{""key"": ""value""}\') {u\'key\': u\'value\'}\n\nThere is no issue in Python 3, since all text strings are Unicode.\n\nChange-Id: Ib7fdf60f8369ea9546fcd92f1ac385c777478d10\nCloses-Bug: #1428706\nCo-Authored-By: Victor Stinner <vstinner@redhat.com>\n'}, {'number': 4, 'created': '2015-06-18 11:18:48.000000000', 'files': ['keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/256f4c96cb618c8f9083c0b3ba0f5f0dfca662cd', 'message': 'Prevent a UnicodeDecodeError in the s3token middleware\n\nMixing ""str"" and ""unicode"" can lead to a UnicodeDecodeError. We encode unicode\nvalues before using them with text strings.\n\nThe bug occurs if the URL contains a non-ASCII character in the path:\n""hho"" in ""/v1/AUTH_cfa/c/hho"" (""/v1/AUTH_cfa/c/h\\xc3\\xa9ho"" in UTF-8) for\nexample.\n\nThe bug occurs on Python 2 in s3_token.py because the tenant id is retrieved\nfrom identity_info[\'access\'][\'token\'][\'tenant\'] and identity_info comes from\nresp.json().\n\nThe problem is that in Python, the JSON decoder always create Unicode strings.\nExample in Python 2:\n\n>>> json.loads(\'{""key"": ""value""}\') {u\'key\': u\'value\'}\n\nThere is no issue in Python 3, since all text strings are Unicode.\n\nChange-Id: Ib7fdf60f8369ea9546fcd92f1ac385c777478d10\nCloses-Bug: #1428706\nCo-Authored-By: Victor Stinner <vstinner@redhat.com>\n'}]",11,179777,256f4c96cb618c8f9083c0b3ba0f5f0dfca662cd,27,14,4,8122,,,0,"Prevent a UnicodeDecodeError in the s3token middleware

Mixing ""str"" and ""unicode"" can lead to a UnicodeDecodeError. We encode unicode
values before using them with text strings.

The bug occurs if the URL contains a non-ASCII character in the path:
""hho"" in ""/v1/AUTH_cfa/c/hho"" (""/v1/AUTH_cfa/c/h\xc3\xa9ho"" in UTF-8) for
example.

The bug occurs on Python 2 in s3_token.py because the tenant id is retrieved
from identity_info['access']['token']['tenant'] and identity_info comes from
resp.json().

The problem is that in Python, the JSON decoder always create Unicode strings.
Example in Python 2:

>>> json.loads('{""key"": ""value""}') {u'key': u'value'}

There is no issue in Python 3, since all text strings are Unicode.

Change-Id: Ib7fdf60f8369ea9546fcd92f1ac385c777478d10
Closes-Bug: #1428706
Co-Authored-By: Victor Stinner <vstinner@redhat.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/77/179777/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/s3_token.py']",2,7fb7dab2f246d6aee642f02aa8d1d69bf768a921,bug/1428706," if six.PY2 and isinstance(tenant_to_connect, six.text_type): tenant_to_connect = tenant_to_connect.encode('utf-8')",,9,0
openstack%2Fkeystoneauth~master~I2c705494470d40a68e132d61da602205109b6009,openstack/keystoneauth,master,I2c705494470d40a68e132d61da602205109b6009,Import service catalog tests from keystoneclient,MERGED,2015-08-07 09:18:58.000000000,2015-08-16 01:04:16.000000000,2015-08-11 22:54:58.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-08-07 09:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ba256a19a043830b0408e15cfbe1477730a5c860', 'message': 'Import service catalog tests from keystoneclient\n\nBecause these tests were in the versioned part of the test folder they\nwere removed. Generally though they are still useful.\n\nWe should move all the still useful tests back into keystoneauth. In\nsome cases where an assumption is broken or a response changed I have\nchanged the test.\n\nChange-Id: I2c705494470d40a68e132d61da602205109b6009\n'}, {'number': 2, 'created': '2015-08-10 00:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/98d275fd9fc204bb57fe9865623223ba6e6f2728', 'message': 'Import service catalog tests from keystoneclient\n\nBecause these tests were in the versioned part of the test folder they\nwere removed. Generally though they are still useful.\n\nWe should move all the still useful tests back into keystoneauth. In\nsome cases where an assumption is broken or a response changed I have\nchanged the test.\n\nChange-Id: I2c705494470d40a68e132d61da602205109b6009\n'}, {'number': 3, 'created': '2015-08-10 00:22:36.000000000', 'files': ['keystoneauth1/tests/unit/v3/test_service_catalog.py', 'keystoneauth1/tests/unit/v3/__init__.py', 'keystoneauth1/tests/unit/v2_0/test_service_catalog.py', 'keystoneauth1/tests/unit/v2_0/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5bc8e4804b11c701899974ee5464a9548ffc4500', 'message': 'Import service catalog tests from keystoneclient\n\nBecause these tests were in the versioned part of the test folder they\nwere removed. Generally though they are still useful.\n\nWe should move all the still useful tests back into keystoneauth. In\nsome cases where an assumption is broken or a response changed I have\nchanged the test.\n\nChange-Id: I2c705494470d40a68e132d61da602205109b6009\n'}]",0,210266,5bc8e4804b11c701899974ee5464a9548ffc4500,10,4,3,7191,,,0,"Import service catalog tests from keystoneclient

Because these tests were in the versioned part of the test folder they
were removed. Generally though they are still useful.

We should move all the still useful tests back into keystoneauth. In
some cases where an assumption is broken or a response changed I have
changed the test.

Change-Id: I2c705494470d40a68e132d61da602205109b6009
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/66/210266/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/v3/test_service_catalog.py', 'keystoneauth1/tests/unit/v3/__init__.py', 'keystoneauth1/tests/unit/v2_0/__init__.py', 'keystoneauth1/tests/unit/v2_0/test_service_catalog.py']",4,ba256a19a043830b0408e15cfbe1477730a5c860,service_catalog,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from keystoneauth1 import access from keystoneauth1 import exceptions from keystoneauth1 import fixture from keystoneauth1.tests.unit import utils class ServiceCatalogTest(utils.TestCase): def setUp(self): super(ServiceCatalogTest, self).setUp() self.AUTH_RESPONSE_BODY = fixture.V2Token( token_id='ab48a9efdfedb23ty3494', expires='2010-11-01T03:32:15-05:00', tenant_id='345', tenant_name='My Project', user_id='123', user_name='jqsmith', audit_chain_id=uuid.uuid4().hex) self.AUTH_RESPONSE_BODY.add_role(id='234', name='compute:admin') role = self.AUTH_RESPONSE_BODY.add_role(id='235', name='object-store:admin') role['tenantId'] = '1' s = self.AUTH_RESPONSE_BODY.add_service('compute', 'Cloud Servers') endpoint = s.add_endpoint( public='https://compute.north.host/v1/1234', internal='https://compute.north.host/v1/1234', region='North') endpoint['tenantId'] = '1' endpoint['versionId'] = '1.0' endpoint['versionInfo'] = 'https://compute.north.host/v1.0/' endpoint['versionList'] = 'https://compute.north.host/' endpoint = s.add_endpoint( public='https://compute.north.host/v1.1/3456', internal='https://compute.north.host/v1.1/3456', region='North') endpoint['tenantId'] = '2' endpoint['versionId'] = '1.1' endpoint['versionInfo'] = 'https://compute.north.host/v1.1/' endpoint['versionList'] = 'https://compute.north.host/' s = self.AUTH_RESPONSE_BODY.add_service('object-store', 'Cloud Files') endpoint = s.add_endpoint(public='https://swift.north.host/v1/blah', internal='https://swift.north.host/v1/blah', region='South') endpoint['tenantId'] = '11' endpoint['versionId'] = '1.0' endpoint['versionInfo'] = 'uri' endpoint['versionList'] = 'uri' endpoint = s.add_endpoint( public='https://swift.north.host/v1.1/blah', internal='https://compute.north.host/v1.1/blah', region='South') endpoint['tenantId'] = '2' endpoint['versionId'] = '1.1' endpoint['versionInfo'] = 'https://swift.north.host/v1.1/' endpoint['versionList'] = 'https://swift.north.host/' s = self.AUTH_RESPONSE_BODY.add_service('image', 'Image Servers') s.add_endpoint(public='https://image.north.host/v1/', internal='https://image-internal.north.host/v1/', region='North') s.add_endpoint(public='https://image.south.host/v1/', internal='https://image-internal.south.host/v1/', region='South') def test_building_a_service_catalog(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog self.assertEqual(sc.url_for(service_type='compute'), ""https://compute.north.host/v1/1234"") self.assertRaises(exceptions.EndpointNotFound, sc.url_for, region_name=""South"", service_type='compute') def test_service_catalog_endpoints(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog public_ep = sc.get_endpoints(service_type='compute', endpoint_type='publicURL') self.assertEqual(public_ep['compute'][1]['tenantId'], '2') self.assertEqual(public_ep['compute'][1]['versionId'], '1.1') self.assertEqual(public_ep['compute'][1]['internalURL'], ""https://compute.north.host/v1.1/3456"") def test_service_catalog_empty(self): self.AUTH_RESPONSE_BODY['access']['serviceCatalog'] = [] auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) self.assertRaises(exceptions.EmptyCatalog, auth_ref.service_catalog.url_for, service_type='image', endpoint_type='internalURL') def test_service_catalog_get_endpoints_region_names(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog endpoints = sc.get_endpoints(service_type='image', region_name='North') self.assertEqual(len(endpoints), 1) self.assertEqual(endpoints['image'][0]['publicURL'], 'https://image.north.host/v1/') endpoints = sc.get_endpoints(service_type='image', region_name='South') self.assertEqual(len(endpoints), 1) self.assertEqual(endpoints['image'][0]['publicURL'], 'https://image.south.host/v1/') endpoints = sc.get_endpoints(service_type='compute') self.assertEqual(len(endpoints['compute']), 2) endpoints = sc.get_endpoints(service_type='compute', region_name='North') self.assertEqual(len(endpoints['compute']), 2) endpoints = sc.get_endpoints(service_type='compute', region_name='West') self.assertEqual(len(endpoints['compute']), 0) def test_service_catalog_url_for_region_names(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog url = sc.url_for(service_type='image', region_name='North') self.assertEqual(url, 'https://image.north.host/v1/') url = sc.url_for(service_type='image', region_name='South') self.assertEqual(url, 'https://image.south.host/v1/') self.assertRaises(exceptions.EndpointNotFound, sc.url_for, service_type='image', region_name='West') def test_servcie_catalog_get_url_region_names(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog urls = sc.get_urls(service_type='image') self.assertEqual(len(urls), 2) urls = sc.get_urls(service_type='image', region_name='North') self.assertEqual(len(urls), 1) self.assertEqual(urls[0], 'https://image.north.host/v1/') urls = sc.get_urls(service_type='image', region_name='South') self.assertEqual(len(urls), 1) self.assertEqual(urls[0], 'https://image.south.host/v1/') urls = sc.get_urls(service_type='image', region_name='West') self.assertEqual(len(urls), 0) def test_service_catalog_service_name(self): auth_ref = access.create(body=self.AUTH_RESPONSE_BODY) sc = auth_ref.service_catalog url = sc.url_for(service_name='Image Servers', endpoint_type='public', service_type='image', region_name='North') self.assertEqual('https://image.north.host/v1/', url) self.assertRaises(exceptions.EndpointNotFound, sc.url_for, service_name='Image Servers', service_type='compute') urls = sc.get_urls(service_type='image', service_name='Image Servers', endpoint_type='public') self.assertIn('https://image.north.host/v1/', urls) self.assertIn('https://image.south.host/v1/', urls) urls = sc.get_urls(service_type='image', service_name='Servers', endpoint_type='public') self.assertIsNone(urls) def test_service_catalog_multiple_service_types(self): token = fixture.V2Token() token.set_scope() for i in range(3): s = token.add_service('compute') s.add_endpoint(public='public-%d' % i, admin='admin-%d' % i, internal='internal-%d' % i, region='region-%d' % i) auth_ref = access.create(body=token) urls = auth_ref.service_catalog.get_urls(service_type='compute', endpoint_type='publicURL') self.assertEqual(set(['public-0', 'public-1', 'public-2']), set(urls)) urls = auth_ref.service_catalog.get_urls(service_type='compute', endpoint_type='publicURL', region_name='region-1') self.assertEqual(('public-1', ), urls) ",,544,0
openstack%2Foslo.cache~master~I078566e25e42b85c9bdde3833da894d0eb9a9c32,openstack/oslo.cache,master,I078566e25e42b85c9bdde3833da894d0eb9a9c32,Updated from global requirements,MERGED,2015-08-13 20:20:50.000000000,2015-08-16 00:31:11.000000000,2015-08-16 00:31:11.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-08-13 20:20:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/61703e30b370f8d15a0dc553000a5f10501158ea', 'message': 'Updated from global requirements\n\nChange-Id: I078566e25e42b85c9bdde3833da894d0eb9a9c32\n'}]",0,212753,61703e30b370f8d15a0dc553000a5f10501158ea,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I078566e25e42b85c9bdde3833da894d0eb9a9c32
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/53/212753/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,61703e30b370f8d15a0dc553000a5f10501158ea,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I11b2d24a55bdeaf4713d770d80422e9463746474,openstack/cinder,master,I11b2d24a55bdeaf4713d770d80422e9463746474,Fix typos,ABANDONED,2015-06-09 03:31:57.000000000,2015-08-16 00:06:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2861}, {'_account_id': 6610}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14377}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-09 03:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab8422919f9d2a7560b0a546305a5701cb2c96b4', 'message': 'Fix typos\n\nChange-Id: I11b2d24a55bdeaf4713d770d80422e9463746474\n'}, {'number': 2, 'created': '2015-06-09 08:38:35.000000000', 'files': ['cinder/tests/unit/keymgr/test_barbican.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/manager.py', 'cinder/volume/drivers/emc/emc_vmax_masking.py', 'cinder/volume/drivers/quobyte.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/drivers/emc/xtremio.py', 'cinder/tests/unit/test_backup_ceph.py', 'cinder/tests/unit/test_wsgi.py', 'cinder/volume/drivers/emc/emc_vmax_provision.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/emc/emc_vmax_utils.py', 'cinder/image/image_utils.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/test_vmware_datastore.py', 'cinder/tests/unit/test_storwize_svc.py', 'cinder/volume/drivers/emc/emc_vmax_fast.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d983d6bf5a1153e325c5b5a363057ac7a0b6a98a', 'message': 'Fix typos\n\nChange-Id: I11b2d24a55bdeaf4713d770d80422e9463746474\n'}]",13,189545,d983d6bf5a1153e325c5b5a363057ac7a0b6a98a,61,34,2,6610,,,0,"Fix typos

Change-Id: I11b2d24a55bdeaf4713d770d80422e9463746474
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/189545/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/keymgr/test_barbican.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/manager.py', 'cinder/volume/drivers/emc/emc_vmax_masking.py', 'cinder/volume/drivers/quobyte.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/drivers/emc/xtremio.py', 'cinder/tests/unit/test_backup_ceph.py', 'cinder/tests/unit/test_wsgi.py', 'cinder/volume/drivers/emc/emc_vmax_provision.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/emc/emc_vmax_utils.py', 'cinder/image/image_utils.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/test_vmware_datastore.py', 'cinder/exception.py', 'cinder/tests/unit/test_storwize_svc.py', 'cinder/volume/drivers/emc/emc_vmax_fast.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/api/test_common.py']",20,ab8422919f9d2a7560b0a546305a5701cb2c96b4,, '''Verifies that the defaults can be overridden.''', '''Verifies that the defaults can be overriden.''',31,31
openstack%2Foslo.utils~master~Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435,openstack/oslo.utils,master,Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435,flake8 - remove unused rules,MERGED,2015-08-08 02:13:23.000000000,2015-08-15 22:26:04.000000000,2015-08-15 22:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 6601}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-08-08 02:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/93044bb1ff432e5fb989c3fc34f64ed9e4025af5', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435\n'}, {'number': 2, 'created': '2015-08-08 11:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a93dc8529d43830b71ab8860d243fed673f1ca5d', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435\n'}, {'number': 3, 'created': '2015-08-08 11:41:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/f222f8093072e8ffbd695da580f8975272680932', 'message': 'flake8 - remove unused rules\n\nChange-Id: Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435'}]",0,210670,f222f8093072e8ffbd695da580f8975272680932,12,5,3,5638,,,0,"flake8 - remove unused rules

Change-Id: Ibe23b07d82be32bf7bcdc69ef259d3eaaebf0435",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/70/210670/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93044bb1ff432e5fb989c3fc34f64ed9e4025af5,,ignore = E123ignore = H405,"# H803 skipped on purpose per list discussion. # E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125,H302,H304,H405,H803",2,4
openstack%2Fproject-config~master~I75e20a53c2091df1571eeff89cb6fd2e927e0a91,openstack/project-config,master,I75e20a53c2091df1571eeff89cb6fd2e927e0a91,Let kolla-build-image jobs choose their own label,MERGED,2015-08-14 22:28:40.000000000,2015-08-15 21:29:29.000000000,2015-08-15 21:29:24.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-08-14 22:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/449d7687e945250b5599fa68b0a9b06db2d9fcce', 'message': ""Let kolla-build-image jobs choose their own label\n\nSince we have zuul picking node labels to accomodate for possible branch\nspecific label needs we need to whitelist the kolla image build jobs as\nthey always have a single build_host:image_type mapping and branches\ndon't affect that.\n\nChange-Id: I75e20a53c2091df1571eeff89cb6fd2e927e0a91\n""}, {'number': 2, 'created': '2015-08-14 22:40:07.000000000', 'files': ['zuul/openstack_functions.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3c601a7e5d3a2868fedf7cc2b0db406e9a206af4', 'message': ""Let kolla-build-image jobs choose their own label\n\nSince we have zuul picking node labels to accomodate for possible branch\nspecific label needs we need to whitelist the kolla image build jobs as\nthey always have a single build_host:image_type mapping and branches\ndon't affect that.\n\nChange-Id: I75e20a53c2091df1571eeff89cb6fd2e927e0a91\n""}]",0,213359,3c601a7e5d3a2868fedf7cc2b0db406e9a206af4,8,3,2,4146,,,0,"Let kolla-build-image jobs choose their own label

Since we have zuul picking node labels to accomodate for possible branch
specific label needs we need to whitelist the kolla image build jobs as
they always have a single build_host:image_type mapping and branches
don't affect that.

Change-Id: I75e20a53c2091df1571eeff89cb6fd2e927e0a91
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/213359/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/openstack_functions.py'],1,449d7687e945250b5599fa68b0a9b06db2d9fcce,handle-kolla-job-nodes," kolla_image_re = r'^.*-kolla-build-images-.*$' # Kolla build image jobs always have the correct node label. elif re.match(kolla_image_re, job.name): pass",,4,0
openstack%2Foslo.i18n~master~Ib39f949e4a1069dc7f1684ca5e46efb6a662de88,openstack/oslo.i18n,master,Ib39f949e4a1069dc7f1684ca5e46efb6a662de88,flake8 - remove unused rules,ABANDONED,2015-08-08 02:12:51.000000000,2015-08-15 21:24:45.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/8f46dfa27306d3e168567c85e9ec827148224b97', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Ib39f949e4a1069dc7f1684ca5e46efb6a662de88\n'}, {'number': 2, 'created': '2015-08-08 11:38:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d909393c5ca875207574a6299fef86961a7bbce7', 'message': 'flake8 - remove unused rules\n\nChange-Id: Ib39f949e4a1069dc7f1684ca5e46efb6a662de88'}]",0,210662,d909393c5ca875207574a6299fef86961a7bbce7,7,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: Ib39f949e4a1069dc7f1684ca5e46efb6a662de88",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/62/210662/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8f46dfa27306d3e168567c85e9ec827148224b97,,,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125",0,3
openstack%2Foslo.serialization~master~I4304009d6019bf493fbfdcc7911caf47e47d35ed,openstack/oslo.serialization,master,I4304009d6019bf493fbfdcc7911caf47e47d35ed,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:15.000000000,2015-08-15 21:24:38.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/a49617d5bcd93b95da9ecb7f9491fa91887edad4', 'message': '[WIP] Fix hacking rules\n\nChange-Id: I4304009d6019bf493fbfdcc7911caf47e47d35ed\n'}, {'number': 2, 'created': '2015-08-08 11:40:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/3da05b38bc2bd100537ef64f7c091efd24b4cbdb', 'message': 'flake8 - remove unused rules\n\nChange-Id: I4304009d6019bf493fbfdcc7911caf47e47d35ed'}]",0,210668,3da05b38bc2bd100537ef64f7c091efd24b4cbdb,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: I4304009d6019bf493fbfdcc7911caf47e47d35ed",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/68/210668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a49617d5bcd93b95da9ecb7f9491fa91887edad4,,,"# H803 skipped on purpose per list discussion. # E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125,H803",0,4
openstack%2Ffuturist~master~If98d47937447b264c31184bdc374d703c833f581,openstack/futurist,master,If98d47937447b264c31184bdc374d703c833f581,flake8 - remove unused rules,ABANDONED,2015-08-08 02:12:28.000000000,2015-08-15 21:24:37.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/25e252054f0840abe75316a49c47af4f35f9e449', 'message': '[WIP] Fix hacking rules\n\nChange-Id: If98d47937447b264c31184bdc374d703c833f581\n'}, {'number': 2, 'created': '2015-08-08 11:36:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/futurist/commit/cd85873b44750b0b7be6756950736c73c46f5759', 'message': 'flake8 - remove unused rules\n\nChange-Id: If98d47937447b264c31184bdc374d703c833f581'}]",0,210656,cd85873b44750b0b7be6756950736c73c46f5759,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: If98d47937447b264c31184bdc374d703c833f581",git fetch https://review.opendev.org/openstack/futurist refs/changes/56/210656/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,25e252054f0840abe75316a49c47af4f35f9e449,,,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125",0,3
openstack%2Foslo.context~master~Icce14b52103d38337064b98b55da61c5ca8bab54,openstack/oslo.context,master,Icce14b52103d38337064b98b55da61c5ca8bab54,flake8 - remove unused rules,ABANDONED,2015-08-08 02:12:44.000000000,2015-08-15 21:24:14.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/1b6a6f367667b96ed45d7b331429e44629ae2c7c', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Icce14b52103d38337064b98b55da61c5ca8bab54\n'}, {'number': 2, 'created': '2015-08-08 11:37:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f4dcbf46852751ec066988e40b0af6b2a888b70e', 'message': 'flake8 - remove unused rules\n\nChange-Id: Icce14b52103d38337064b98b55da61c5ca8bab54'}]",0,210660,f4dcbf46852751ec066988e40b0af6b2a888b70e,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: Icce14b52103d38337064b98b55da61c5ca8bab54",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/60/210660/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b6a6f367667b96ed45d7b331429e44629ae2c7c,,,"# H803 skipped on purpose per list discussion. # E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125,H803",0,4
openstack%2Foslo.versionedobjects~master~If9b919c3d4a2e362b65454d5bb136660f81656d2,openstack/oslo.versionedobjects,master,If9b919c3d4a2e362b65454d5bb136660f81656d2,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:26.000000000,2015-08-15 21:23:53.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/eddc87e3a8ce8b36e9a5d7859611d37e4c2affe2', 'message': '[WIP] Fix hacking rules\n\nChange-Id: If9b919c3d4a2e362b65454d5bb136660f81656d2\n'}, {'number': 2, 'created': '2015-08-08 11:41:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/22555ea6414081b7cc81ecff60b6716be9812608', 'message': 'flake8 - remove unused rules\n\nChange-Id: If9b919c3d4a2e362b65454d5bb136660f81656d2'}]",0,210671,22555ea6414081b7cc81ecff60b6716be9812608,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: If9b919c3d4a2e362b65454d5bb136660f81656d2",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/71/210671/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eddc87e3a8ce8b36e9a5d7859611d37e4c2affe2,,,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125",0,3
openstack%2Foslo.reports~master~Ie95226622876aee0e500a0c9e2a7de6527d37fc4,openstack/oslo.reports,master,Ie95226622876aee0e500a0c9e2a7de6527d37fc4,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:11.000000000,2015-08-15 21:23:40.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/7057a1ef1400a2dbf5c48db9142f96995b3d8949', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Ie95226622876aee0e500a0c9e2a7de6527d37fc4\n'}, {'number': 2, 'created': '2015-08-08 11:39:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/557e338f987f02245307ada11f941ee0cbf30898', 'message': 'flake8 - remove unused rules\n\nChange-Id: Ie95226622876aee0e500a0c9e2a7de6527d37fc4'}]",0,210667,557e338f987f02245307ada11f941ee0cbf30898,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: Ie95226622876aee0e500a0c9e2a7de6527d37fc4",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/67/210667/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7057a1ef1400a2dbf5c48db9142f96995b3d8949,,,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125",0,3
openstack%2Foslo.middleware~master~I99d51bdb1d81cb16540a25222f68627fe5fdd5fb,openstack/oslo.middleware,master,I99d51bdb1d81cb16540a25222f68627fe5fdd5fb,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:04.000000000,2015-08-15 21:23:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/f7b7b00aa1af27640656069fca9b4a5c5a1b4347', 'message': '[WIP] Fix hacking rules\n\nChange-Id: I99d51bdb1d81cb16540a25222f68627fe5fdd5fb\n'}, {'number': 2, 'created': '2015-08-08 11:39:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/9a8411d280653dd3d1cfbe1a10a09d8243af1121', 'message': 'flake8 - remove unused rules\n\nChange-Id: I99d51bdb1d81cb16540a25222f68627fe5fdd5fb'}]",0,210665,9a8411d280653dd3d1cfbe1a10a09d8243af1121,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: I99d51bdb1d81cb16540a25222f68627fe5fdd5fb",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/65/210665/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f7b7b00aa1af27640656069fca9b4a5c5a1b4347,,,"# H803 skipped on purpose per list discussion. # E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125,H305,H803,H904",0,4
openstack%2Foslo.policy~master~I1f53b3debc9cdc9530306035733a401659b1c5b0,openstack/oslo.policy,master,I1f53b3debc9cdc9530306035733a401659b1c5b0,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:08.000000000,2015-08-15 21:23:07.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/0bd3bcd82f82720fe2bc752db5b91b35a3091000', 'message': '[WIP] Fix hacking rules\n\nChange-Id: I1f53b3debc9cdc9530306035733a401659b1c5b0\n'}, {'number': 2, 'created': '2015-08-08 11:39:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/75afc9d7003d976c74720cf91afb4e3c3f6feb38', 'message': 'flake8 - remove unused rules\n\nChange-Id: I1f53b3debc9cdc9530306035733a401659b1c5b0'}]",0,210666,75afc9d7003d976c74720cf91afb4e3c3f6feb38,7,3,2,5638,,,0,"flake8 - remove unused rules

Change-Id: I1f53b3debc9cdc9530306035733a401659b1c5b0",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/66/210666/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0bd3bcd82f82720fe2bc752db5b91b35a3091000,,,# H803 skipped on purpose per list discussion. ignore = H803,0,3
openstack%2Fdebtcollector~master~Idc6471c988e925c4a19e6f20593e38cb636d1517,openstack/debtcollector,master,Idc6471c988e925c4a19e6f20593e38cb636d1517,flake8 - remove unused rules,ABANDONED,2015-08-08 02:12:24.000000000,2015-08-15 21:22:49.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/343e8747e1c8edcc8f42cf708b0f622a29f048bd', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Idc6471c988e925c4a19e6f20593e38cb636d1517\n'}, {'number': 2, 'created': '2015-08-08 11:35:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/894d18bfe57bf60af48fbe0e577d660a8237cf2d', 'message': 'flake8 - remove unused rules\n\nChange-Id: Idc6471c988e925c4a19e6f20593e38cb636d1517'}]",0,210655,894d18bfe57bf60af48fbe0e577d660a8237cf2d,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: Idc6471c988e925c4a19e6f20593e38cb636d1517",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/55/210655/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,343e8747e1c8edcc8f42cf708b0f622a29f048bd,,,"# E123, E125 skipped as they are invalid PEP-8.ignore = E123,E125",0,2
openstack%2Foslo.service~master~If0c9ca648ec7ef76bd69c2326e5b0441a61bc0d8,openstack/oslo.service,master,If0c9ca648ec7ef76bd69c2326e5b0441a61bc0d8,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:19.000000000,2015-08-15 21:22:36.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-08-08 02:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/175fc44d0158e152baf27415ad48f487adc62fa7', 'message': '[WIP] Fix hacking rules\n\nChange-Id: If0c9ca648ec7ef76bd69c2326e5b0441a61bc0d8\n'}, {'number': 2, 'created': '2015-08-08 11:40:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/8e0bf2e27d33b6d5b1f90bfe79ddf7156fcf06e0', 'message': 'flake8 - remove unused rules\n\nChange-Id: If0c9ca648ec7ef76bd69c2326e5b0441a61bc0d8'}]",0,210669,8e0bf2e27d33b6d5b1f90bfe79ddf7156fcf06e0,6,2,2,5638,,,0,"flake8 - remove unused rules

Change-Id: If0c9ca648ec7ef76bd69c2326e5b0441a61bc0d8",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/69/210669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,175fc44d0158e152baf27415ad48f487adc62fa7,,,"# E123, E125 skipped as they are invalid PEP-8. ignore = E123,E125",0,3
openstack%2Foslo.messaging~master~Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8,openstack/oslo.messaging,master,Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8,flake8 - remove unused rules,ABANDONED,2015-08-08 02:13:00.000000000,2015-08-15 21:22:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6601}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-08-08 02:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e7391aef0e105dcba058fa34a149be949a09b191', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8\n'}, {'number': 2, 'created': '2015-08-08 11:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bd88566381724998d0ac2a9287dd43afe8465a46', 'message': '[WIP] Fix hacking rules\n\nChange-Id: Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8\n'}, {'number': 3, 'created': '2015-08-08 11:38:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/784379aeea81e0da315b92ffeb57efebc2dd777c', 'message': 'flake8 - remove unused rules\n\nChange-Id: Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8'}]",1,210664,784379aeea81e0da315b92ffeb57efebc2dd777c,9,3,3,5638,,,0,"flake8 - remove unused rules

Change-Id: Id6efa3dd7c2e7ff97bc925728b08bdb87b1f64c8",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/64/210664/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7391aef0e105dcba058fa34a149be949a09b191,,,"ignore = H237,H402,H405,H904",0,1
openstack%2Fcookbook-openstack-network~master~Idca94b9d40df750f89e70567e641fe96b6f4a4b1,openstack/cookbook-openstack-network,master,Idca94b9d40df750f89e70567e641fe96b6f4a4b1,Support to set external_network_bridge empty,MERGED,2015-08-12 09:11:34.000000000,2015-08-15 21:03:11.000000000,2015-08-15 21:03:09.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 7515}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-08-12 09:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/a76b850f8287c38450319fa697d011b0d3c04272', 'message': 'Support to set external_network_bridge empty\n\nexternal_network_bridge could be empty to support multiple external\nnetworks, update l3_agent recipe to support this situation.\n\nChange-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1\nCloses-Bug: #1483994\n'}, {'number': 2, 'created': '2015-08-13 02:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/0a1a6a9198a61ab64c85b80c810ddca0caa29ef7', 'message': 'Support to set external_network_bridge empty\n\nexternal_network_bridge could be empty to support multiple external\nnetworks, update l3_agent recipe to support this situation.\n\nChange-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1\nCloses-Bug: #1483994\n'}, {'number': 3, 'created': '2015-08-13 06:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/b1c679dd79c93c0b285d2708eb83919a874fb261', 'message': 'Support to set external_network_bridge empty\n\nexternal_network_bridge could be empty to support multiple external\nnetworks, update l3_agent recipe to support this situation.\n\nChange-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1\nCloses-Bug: #1483994\n'}, {'number': 4, 'created': '2015-08-13 06:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/f3e891f0bc77bdc3e37e5f8e8b719ef2c842b88b', 'message': 'Support to set external_network_bridge empty\n\nexternal_network_bridge could be empty to support multiple external\nnetworks, update l3_agent recipe to support this situation.\n\nChange-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1\nCloses-Bug: #1483994\n'}, {'number': 5, 'created': '2015-08-14 01:44:25.000000000', 'files': ['spec/l3_agent_spec.rb', 'spec/vpn_agent-redhat_spec.rb', 'spec/vpn_agent_spec.rb', 'spec/l3_agent-redhat_spec.rb', 'attributes/default.rb', 'recipes/l3_agent.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/f8b8355684fe639bfed940e7bbf71cb173b3160a', 'message': 'Support to set external_network_bridge empty\n\nexternal_network_bridge could be empty to support multiple external\nnetworks, update l3_agent recipe to support this situation.\n\nChange-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1\nCloses-Bug: #1483994\n'}]",5,211916,f8b8355684fe639bfed940e7bbf71cb173b3160a,22,4,5,7515,,,0,"Support to set external_network_bridge empty

external_network_bridge could be empty to support multiple external
networks, update l3_agent recipe to support this situation.

Change-Id: Idca94b9d40df750f89e70567e641fe96b6f4a4b1
Closes-Bug: #1483994
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/16/211916/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/l3_agent_spec.rb', 'recipes/l3_agent.rb']",2,a76b850f8287c38450319fa697d011b0d3c04272,external_network_bridge," unless ext_bridge.to_s.empty? execute 'create external network bridge' do command ""ovs-vsctl add-br #{ext_bridge}"" action :run not_if ""ovs-vsctl br-exists #{ext_bridge}"" end execute 'enable external_network_bridge_interface' do command ""ip link set #{ext_bridge_iface} up && ovs-vsctl add-port #{ext_bridge} #{ext_bridge_iface}"" only_if ""ip link show #{ext_bridge_iface}"" end"," execute 'enable external_network_bridge_interface' do command ""ip link set #{ext_bridge_iface} up"" end execute 'create external network bridge' do command ""ovs-vsctl add-br #{ext_bridge} && ovs-vsctl add-port #{ext_bridge} #{ext_bridge_iface}"" action :run not_if ""ovs-vsctl br-exists #{ext_bridge}"" only_if ""ip link show #{ext_bridge_iface}""",27,18
openstack%2Fneutron~master~I5a23f6cac5ea359645e6947fd69978f060c4ba97,openstack/neutron,master,I5a23f6cac5ea359645e6947fd69978f060c4ba97,l3_db: not use L2 plugin _get_port unnecessarily,MERGED,2015-07-16 02:37:14.000000000,2015-08-15 20:56:16.000000000,2015-08-14 18:23:53.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 1923}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6558}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 14615}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-07-16 02:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51aa8e12deb5d36dca7a8c1cf06edcc267498b89', 'message': ""l3_db: not use l2 plugin _get_port unnecessarily\n\nl3_db uses l2 plugin _get_port method unnecessarily.\nIt's dangerous because it may update port db without notifying l2 plugin.\nIn that case, l2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_port with get_port method where possible.\n\nChange-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97\nRelated-Bug: #1475093\n""}, {'number': 2, 'created': '2015-07-23 18:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c4cffe6f35e544bbf05a9240f5842a8ad444c70', 'message': ""l3_db: not use L2 plugin _get_port unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db uses L2 plugin _get_port method unnecessarily instead of get_port.\nIt's dangerous because _get_port returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_port may\nupdate port db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_port with get_port method where possible.\n\nChange-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97\nRelated-Bug: #1475093\n""}, {'number': 3, 'created': '2015-07-24 18:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b64a60442de5043cdd2e3554632de183426dc1f', 'message': ""l3_db: not use L2 plugin _get_port unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db uses L2 plugin _get_port method unnecessarily instead of get_port.\nIt's dangerous because _get_port returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_port may\nupdate port db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_port with get_port method where possible.\n\nChange-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97\nRelated-Bug: #1475093\n""}, {'number': 4, 'created': '2015-08-04 17:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1db5f6431883bd1de0f8c3102f6f8302fde8960', 'message': ""l3_db: not use L2 plugin _get_port unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db uses L2 plugin _get_port method unnecessarily instead of get_port.\nIt's dangerous because _get_port returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_port may\nupdate port db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_port with get_port method where possible.\n\nChange-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97\nRelated-Bug: #1475093\n""}, {'number': 5, 'created': '2015-08-14 01:41:52.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ba23658a34eac696a7eed9a8aaca6a4625d1391', 'message': ""l3_db: not use L2 plugin _get_port unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db uses L2 plugin _get_port method unnecessarily instead of get_port.\nIt's dangerous because _get_port returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_port may\nupdate port db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_port with get_port method where possible.\n\nChange-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97\nRelated-Bug: #1475093\n""}]",2,202358,9ba23658a34eac696a7eed9a8aaca6a4625d1391,102,30,5,333,,,0,"l3_db: not use L2 plugin _get_port unnecessarily

This patch is clean up to prevent future breakage by eliminating
potentially dangerous code.

l3_db uses L2 plugin _get_port method unnecessarily instead of get_port.
It's dangerous because _get_port returns ORM db object which allows
the caller to update db rows directly. So the caller of _get_port may
update port db without notifying L2 plugin unintentionally.
In that case, L2 plugin or ML2 mechanism driver will be confused.
This patch replace _get_port with get_port method where possible.

Change-Id: I5a23f6cac5ea359645e6947fd69978f060c4ba97
Related-Bug: #1475093
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/202358/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_db.py']",2,51aa8e12deb5d36dca7a8c1cf06edcc267498b89,bug/1475093," internal_port = self._core_plugin.get_port(context, fip['port_id']) port = self._core_plugin.get_port(context, port_id) if port['device_owner'] in self.router_device_owners: fixed_ips = port['fixed_ips'] if fixed_ips: reason = _('has device owner %s') % port['device_owner'] raise n_exc.ServicePortInUse(port_id=port['id'], {'port_id': port['id'], 'port_owner': port['device_owner']})"," internal_port = self._core_plugin._get_port(context, fip['port_id']) port_db = self._core_plugin._get_port(context, port_id) if port_db['device_owner'] in self.router_device_owners: fixed_ips = port_db['fixed_ips'] if fixed_ips: reason = _('has device owner %s') % port_db['device_owner'] raise n_exc.ServicePortInUse(port_id=port_db['id'], {'port_id': port_db['id'], 'port_owner': port_db['device_owner']})",9,9
openstack%2Fcookbook-openstack-common~master~I9996e4944e58264b5195d625c98adaf28a04acd7,openstack/cookbook-openstack-common,master,I9996e4944e58264b5195d625c98adaf28a04acd7,Add database slave connection support,MERGED,2015-07-09 07:15:52.000000000,2015-08-15 20:48:18.000000000,2015-08-15 20:48:16.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8037}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 11915}, {'_account_id': 12323}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-07-09 07:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/832784a02de85056f12d8dc9f8b4121f3df1947d', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}, {'number': 2, 'created': '2015-07-09 07:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/4ea28ec2ef0a8b8d1bdac52a86947c285b510cb8', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}, {'number': 3, 'created': '2015-07-09 07:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/4a5937f8829f8f5ec1687184d8e43fb571ba6c6c', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}, {'number': 4, 'created': '2015-07-15 10:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/ba559958ed8c8b6c7805698726a52642a2a38ea8', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}, {'number': 5, 'created': '2015-07-16 07:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/fe014bc2c99b0cc5e6df363b77d869d4d8304efb', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}, {'number': 6, 'created': '2015-07-17 02:46:04.000000000', 'files': ['libraries/endpoints.rb', 'spec/endpoints_spec.rb', 'attributes/database.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/375cdcde148a827e84b7e8db4bda4a06337834ce', 'message': 'Add database slave connection support\n\n- Add new attributes for database slave connection\n- Change db_uri method to generate slave connection db_uri\n\nImplements: blueprint sql-slave-connection-support\nChange-Id: I9996e4944e58264b5195d625c98adaf28a04acd7\n'}]",19,199917,375cdcde148a827e84b7e8db4bda4a06337834ce,27,8,6,8037,,,0,"Add database slave connection support

- Add new attributes for database slave connection
- Change db_uri method to generate slave connection db_uri

Implements: blueprint sql-slave-connection-support
Change-Id: I9996e4944e58264b5195d625c98adaf28a04acd7
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/17/199917/3 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/endpoints.rb', 'spec/endpoints_spec.rb', 'attributes/database.rb']",3,832784a02de85056f12d8dc9f8b4121f3df1947d,bp/sql-slave-connection-support,default['openstack']['endpoints']['db']['enabled_salve'] = false default['openstack']['endpoints']['db']['slave_host'] = nil default['openstack']['endpoints']['db']['slave_port'] = nil if node['openstack']['endpoints']['db']['enabled_salve'] default['openstack']['db'][service]['slave_host'] = node['openstack']['endpoints']['db']['slave_host'] default['openstack']['db'][service]['slave_port'] = node['openstack']['endpoints']['db']['slave_port'] end ,,79,4
openstack%2Frequirements~master~I113f60a5fac740833a82959095fe263db91cedbc,openstack/requirements,master,I113f60a5fac740833a82959095fe263db91cedbc,Updated from generate-constraints,MERGED,2015-08-15 06:05:04.000000000,2015-08-15 20:46:53.000000000,2015-08-15 20:46:52.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 8119}]","[{'number': 1, 'created': '2015-08-15 06:05:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ec4314bb00b3e73290bcf65fa57e55f9c610715', 'message': 'Updated from generate-constraints\n\nChange-Id: I113f60a5fac740833a82959095fe263db91cedbc\n'}]",0,213422,3ec4314bb00b3e73290bcf65fa57e55f9c610715,7,3,1,11131,,,0,"Updated from generate-constraints

Change-Id: I113f60a5fac740833a82959095fe263db91cedbc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/213422/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3ec4314bb00b3e73290bcf65fa57e55f9c610715,openstack/requirements/constraints,PyKMIP===0.4.0bandit===0.13.2ldap3===0.9.8.8,PyKMIP===0.3.3bandit===0.13.1ldap3===0.9.8.7,3,3
openstack%2Fneutron~master~I85769e639a408a292b5bd70a9d9a1ac292e2b51c,openstack/neutron,master,I85769e639a408a292b5bd70a9d9a1ac292e2b51c,l3: not use L2 plugin _get_subnet unnecessarily,MERGED,2015-07-16 02:37:14.000000000,2015-08-15 20:33:16.000000000,2015-08-14 18:31:00.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 14615}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-07-16 02:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4902c7965de5abb615b27ded2c079e49c1d7eae', 'message': ""l3_db: not sue l3 plugin _get_subnet unnecessarily\n\nl3_db uses l2 plugin _get_subnet method unnecessarily.\nIt's dangerous because it may update subnet db without notifying l2 plugin.\nIn that case, l2 plugin or ML2 mechanism driver will be confused.\nThis patch replace _get_subnet with get_subnet method where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}, {'number': 2, 'created': '2015-07-16 14:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15f10f93515b63dd28f649a040f974274765ffbc', 'message': ""l3_db: not use l2 plugin _get_subnet unnecessarily\n\nl3_db uses l2 plugin _get_subnet method unnecessarily.\nIt's dangerous because it may update subnet db without notifying l2 plugin.\nIn that case, l2 plugin or ML2 mechanism driver will be confused.\nThis patch replaces _get_subnet with get_subnet method where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}, {'number': 3, 'created': '2015-07-23 18:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd66ac1f5ceeb6ffeae790aa0e60a8ae6fccb1c0', 'message': ""l3: not use L2 plugin _get_subnet unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db and related code use L2 plugin _get_subnet and related method\nunnecessarily instead of get_subnet.\nIt's dangerous because _get_subnet returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_subnet\nmay update subnet db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replaces _get_subnet and _get_subnets_by_network with\nget_subnet, get_subnets_by_network where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}, {'number': 4, 'created': '2015-07-24 18:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/219b3fcf2cec24f118e8be9dbeb44d1f83796b3e', 'message': ""l3: not use L2 plugin _get_subnet unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db and related code use L2 plugin _get_subnet and related method\nunnecessarily instead of get_subnet.\nIt's dangerous because _get_subnet returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_subnet\nmay update subnet db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replaces _get_subnet and _get_subnets_by_network with\nget_subnet, get_subnets_by_network where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}, {'number': 5, 'created': '2015-08-04 17:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06c1381f5ff10ab3b6b02ecce58626a60aea18f2', 'message': ""l3: not use L2 plugin _get_subnet unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db and related code use L2 plugin _get_subnet and related method\nunnecessarily instead of get_subnet.\nIt's dangerous because _get_subnet returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_subnet\nmay update subnet db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replaces _get_subnet and _get_subnets_by_network with\nget_subnet, get_subnets_by_network where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}, {'number': 6, 'created': '2015-08-14 01:41:52.000000000', 'files': ['neutron/db/extraroute_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff709d5b83abdc954311be9e7d52dfa9e9c3d7ba', 'message': ""l3: not use L2 plugin _get_subnet unnecessarily\n\nThis patch is clean up to prevent future breakage by eliminating\npotentially dangerous code.\n\nl3_db and related code use L2 plugin _get_subnet and related method\nunnecessarily instead of get_subnet.\nIt's dangerous because _get_subnet returns ORM db object which allows\nthe caller to update db rows directly. So the caller of _get_subnet\nmay update subnet db without notifying L2 plugin unintentionally.\nIn that case, L2 plugin or ML2 mechanism driver will be confused.\nThis patch replaces _get_subnet and _get_subnets_by_network with\nget_subnet, get_subnets_by_network where possible.\n\nChange-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c\nRelated-Bug: #1475093\n""}]",12,202359,ff709d5b83abdc954311be9e7d52dfa9e9c3d7ba,140,30,6,333,,,0,"l3: not use L2 plugin _get_subnet unnecessarily

This patch is clean up to prevent future breakage by eliminating
potentially dangerous code.

l3_db and related code use L2 plugin _get_subnet and related method
unnecessarily instead of get_subnet.
It's dangerous because _get_subnet returns ORM db object which allows
the caller to update db rows directly. So the caller of _get_subnet
may update subnet db without notifying L2 plugin unintentionally.
In that case, L2 plugin or ML2 mechanism driver will be confused.
This patch replaces _get_subnet and _get_subnets_by_network with
get_subnet, get_subnets_by_network where possible.

Change-Id: I85769e639a408a292b5bd70a9d9a1ac292e2b51c
Related-Bug: #1475093
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/202359/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,d4902c7965de5abb615b27ded2c079e49c1d7eae,bug/1475093," cidr = self._core_plugin.get_subnet(context.elevated(), sub_id)['cidr'] subnet = self._core_plugin.get_subnet(context, fixed_ip['subnet_id']) subnet = self._core_plugin.get_subnet(context, subnet_id) subnet = self._core_plugin.get_subnet(context, subnet_id) subnet_cidr = netaddr.IPNetwork(subnet['cidr']) subnets = [self._core_plugin.get_subnet(context, port_subnet_id) subnet = self._core_plugin.get_subnet(context, subnet_id) subnet = self._core_plugin.get_subnet(context, internal_subnet_id) if not subnet['gateway_ip']:"," cidr = self._core_plugin._get_subnet(context.elevated(), sub_id)['cidr'] subnet = self._core_plugin._get_subnet(context, fixed_ip['subnet_id']) subnet = self._core_plugin._get_subnet(context, subnet_id) subnet_db = self._core_plugin._get_subnet(context, subnet_id) subnet_cidr = netaddr.IPNetwork(subnet_db['cidr']) subnets = [self._core_plugin._get_subnet(context, port_subnet_id) subnet = self._core_plugin._get_subnet(context, subnet_id) subnet_db = self._core_plugin._get_subnet(context, internal_subnet_id) if not subnet_db['gateway_ip']:",11,12
openstack%2Foctavia~master~I6b6a5c48a669cd1b3c1b0fff18a1ee39cabe7316,openstack/octavia,master,I6b6a5c48a669cd1b3c1b0fff18a1ee39cabe7316,Single Call Create (WIP),ABANDONED,2015-08-14 09:45:58.000000000,2015-08-15 19:42:11.000000000,,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 12403}, {'_account_id': 16923}]","[{'number': 1, 'created': '2015-08-14 09:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4ebe79cf26afa5ebf701160e6929a3e168aa5928', 'message': 'Single Call Create (WIP)\n\nhttp://i.imgur.com/2GXaxZW.png\n\nTechnically it is probable that this is a steaming pile of garbage,\nbut I felt like giving it a shot. No rollback or real error handling at\nall yet. Putting up a WIP patch so I can deploy to devstack easier for\nbasic testing.\n\nChange-Id: I6b6a5c48a669cd1b3c1b0fff18a1ee39cabe7316\n'}, {'number': 2, 'created': '2015-08-14 10:27:53.000000000', 'files': ['octavia/api/v1/controllers/base.py', 'octavia/api/v1/controllers/member.py', 'octavia/tests/functional/api/v1/test_load_balancer.py', 'octavia/tests/unit/api/v1/types/test_listeners.py', 'octavia/api/v1/types/pool.py', 'octavia/api/v1/controllers/listener.py', 'octavia/api/v1/controllers/load_balancer.py', 'octavia/api/v1/types/load_balancer.py', 'octavia/api/v1/types/listener.py', 'octavia/tests/unit/api/v1/types/test_load_balancers.py', 'octavia/api/v1/controllers/pool.py', 'octavia/tests/unit/api/v1/types/test_pools.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5db0e347d097111d0fe49cd07e57db02b96d17bb', 'message': 'Single Call Create (WIP)\n\nhttp://i.imgur.com/2GXaxZW.png\n\nTechnically it is probable that this is a steaming pile of garbage,\nbut I felt like giving it a shot. No rollback or real error handling at\nall yet. Putting up a WIP patch so I can deploy to devstack easier for\nbasic testing.\n\nChange-Id: I6b6a5c48a669cd1b3c1b0fff18a1ee39cabe7316\n'}]",0,213066,5db0e347d097111d0fe49cd07e57db02b96d17bb,10,4,2,10273,,,0,"Single Call Create (WIP)

http://i.imgur.com/2GXaxZW.png

Technically it is probable that this is a steaming pile of garbage,
but I felt like giving it a shot. No rollback or real error handling at
all yet. Putting up a WIP patch so I can deploy to devstack easier for
basic testing.

Change-Id: I6b6a5c48a669cd1b3c1b0fff18a1ee39cabe7316
",git fetch https://review.opendev.org/openstack/octavia refs/changes/66/213066/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v1/controllers/base.py', 'octavia/api/v1/controllers/member.py', 'octavia/tests/functional/api/v1/test_load_balancer.py', 'octavia/tests/unit/api/v1/types/test_listeners.py', 'octavia/api/v1/types/pool.py', 'octavia/api/v1/controllers/listener.py', 'octavia/api/v1/controllers/load_balancer.py', 'octavia/api/v1/types/load_balancer.py', 'octavia/api/v1/types/base.py', 'octavia/api/v1/types/listener.py', 'octavia/tests/unit/api/v1/types/test_load_balancers.py', 'octavia/api/v1/controllers/pool.py', 'octavia/tests/unit/api/v1/types/test_pools.py']",13,4ebe79cf26afa5ebf701160e6929a3e168aa5928,,"class TestPoolPOSTFull(base.BaseTypesTest): _type = pool_type.PoolPOSTFull def test_pool_full(self): members = [ {""ip_address"": ""10.0.0.1"", ""protocol_port"": 80}, {""ip_address"": ""10.0.0.2"", ""protocol_port"": 80} ] body = {""protocol"": constants.PROTOCOL_HTTP, ""lb_algorithm"": constants.LB_ALGORITHM_ROUND_ROBIN, ""members"": members} pool = wsme_json.fromjson(self._type, body) self.assertTrue(pool.enabled) ",,219,18
openstack%2Fos-testr~master~Iafd9ca58d846373a9e441b78cabc432475a5367b,openstack/os-testr,master,Iafd9ca58d846373a9e441b78cabc432475a5367b,Minimize output when --abbreviate is used,MERGED,2015-08-02 22:01:33.000000000,2015-08-15 18:40:31.000000000,2015-08-15 18:40:31.000000000,"[{'_account_id': 3}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-08-02 22:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/830950fb56a1fa704a8e9c4a7ebaefbc7d938204', 'message': ""Minimize output when --fails is used\n\nprint '.', 'F', 'S' etc instead of verbose output when --fails is\nused, since the intent is that the end user just cares about the\nfailure debug information at the end and does not care about verbose\noutput before for each test.\n\nChange-Id: Iafd9ca58d846373a9e441b78cabc432475a5367b\n""}, {'number': 2, 'created': '2015-08-15 01:27:46.000000000', 'files': ['os_testr/subunit_trace.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/01ae2c608b8093ad592a49a050e2822373a3d6fb', 'message': ""Minimize output when --abbreviate is used\n\nprint '.', 'F', 'S' etc instead of verbose output when --abbreviate is\nused.\n\nChange-Id: Iafd9ca58d846373a9e441b78cabc432475a5367b\n""}]",0,208252,01ae2c608b8093ad592a49a050e2822373a3d6fb,9,2,2,5638,,,0,"Minimize output when --abbreviate is used

print '.', 'F', 'S' etc instead of verbose output when --abbreviate is
used.

Change-Id: Iafd9ca58d846373a9e441b78cabc432475a5367b
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/52/208252/2 && git format-patch -1 --stdout FETCH_HEAD,['os_testr/subunit_trace.py'],1,830950fb56a1fa704a8e9c4a7ebaefbc7d938204,," enable_diff=False, threshold='0', post_fails=False): if post_fails: stream.write('F') else: stream.write('{%s} %s [%s] ... FAILED\n' % ( worker, name, duration)) elif not failonly: if status == 'success': if post_fails: stream.write('.') else: out_string = '{%s} %s [%s' % (worker, name, duration) perc_diff = find_test_run_time_diff(test['id'], duration) if enable_diff: if perc_diff and abs(perc_diff) >= abs(float(threshold)): if perc_diff > 0: out_string = out_string + ' +%.2f%%' % perc_diff else: out_string = out_string + ' %.2f%%' % perc_diff stream.write(out_string + '] ... ok\n') print_attachments(stream, test) elif status == 'skip': if post_fails: stream.write('S') else: stream.write('{%s} %s ... SKIPPED: %s\n' % ( worker, name, test['details']['reason'].as_text())) else: if post_fails: stream.write('%s' % test['status'][0]) else: stream.write('{%s} %s [%s] ... %s\n' % ( worker, name, duration, test['status'])) if not print_failures: print_attachments(stream, test, all_channels=True) enable_diff=args.enable_diff, post_fails=args.post_fails))"," enable_diff=False, threshold='0'): stream.write('{%s} %s [%s] ... FAILED\n' % ( worker, name, duration)) if not print_failures: print_attachments(stream, test, all_channels=True) elif not failonly: if status == 'success': out_string = '{%s} %s [%s' % (worker, name, duration) perc_diff = find_test_run_time_diff(test['id'], duration) if enable_diff: if perc_diff and abs(perc_diff) >= abs(float(threshold)): if perc_diff > 0: out_string = out_string + ' +%.2f%%' % perc_diff else: out_string = out_string + ' %.2f%%' % perc_diff stream.write(out_string + '] ... ok\n') print_attachments(stream, test) elif status == 'skip': stream.write('{%s} %s ... SKIPPED: %s\n' % ( worker, name, test['details']['reason'].as_text())) else: stream.write('{%s} %s [%s] ... %s\n' % ( worker, name, duration, test['status'])) enable_diff=args.enable_diff))",36,23
openstack%2Fkeystone~master~I54f5bd19910528b18c428bb3702c8cd4db3cc801,openstack/keystone,master,I54f5bd19910528b18c428bb3702c8cd4db3cc801,Maintain datatypes when loading configs from DB,MERGED,2015-08-13 22:20:56.000000000,2015-08-15 18:17:41.000000000,2015-08-15 18:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 15640}]","[{'number': 1, 'created': '2015-08-13 22:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4dacd0ca766ffc346ce74b958114fefbd786300', 'message': ""Domain configs are loaded with wrong type from db\n\nWhen loading domain configuration from database we are changing\nthe actual data type of the configuration to unicode string. We\nwant to preserve the type of the configuration value because\notherwise we have problems later in the code when for example a\n'bool' configuration value like 'use_tls' is evaluated incorrectly\nbecause its type is unicode instead of bool.\n\nCloses-Bug: #1461299\nChange-Id: I54f5bd19910528b18c428bb3702c8cd4db3cc801\n""}, {'number': 2, 'created': '2015-08-13 23:03:02.000000000', 'files': ['keystone/identity/core.py', 'keystone/tests/unit/identity/test_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/781e78b41b7b31ca152926bf6b60cb21f105e7a5', 'message': ""Maintain datatypes when loading configs from DB\n\nWhen loading domain configuration from database we are changing\nthe actual data type of the configuration to unicode string. We\nwant to preserve the type of the configuration value because\notherwise we have problems later in the code when for example a\n'bool' configuration value like 'use_tls' is evaluated incorrectly\nbecause its type is unicode instead of bool.\n\nCloses-Bug: #1461299\nChange-Id: I54f5bd19910528b18c428bb3702c8cd4db3cc801\n""}]",4,212816,781e78b41b7b31ca152926bf6b60cb21f105e7a5,13,6,2,15640,,,0,"Maintain datatypes when loading configs from DB

When loading domain configuration from database we are changing
the actual data type of the configuration to unicode string. We
want to preserve the type of the configuration value because
otherwise we have problems later in the code when for example a
'bool' configuration value like 'use_tls' is evaluated incorrectly
because its type is unicode instead of bool.

Closes-Bug: #1461299
Change-Id: I54f5bd19910528b18c428bb3702c8cd4db3cc801
",git fetch https://review.opendev.org/openstack/keystone refs/changes/16/212816/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/core.py', 'keystone/tests/unit/identity/test_core.py']",2,d4dacd0ca766ffc346ce74b958114fefbd786300,bug/1461299," 'suffix': uuid.uuid4().hex, 'use_tls': 'True'}, # Make sure the override is not changing the type of the config value use_tls_type = type(CONF.ldap.use_tls) self.assertEqual(use_tls_type(conf['ldap']['use_tls']), res.ldap.use_tls) self.assertEqual(CONF.ldap.use_tls, res.ldap.use_tls)"," 'suffix': uuid.uuid4().hex},",10,2
openstack%2Fkeystone~stable%2Fkilo~Ic256439a441237999fc7db604fe7cc99f919ba6b,openstack/keystone,stable/kilo,Ic256439a441237999fc7db604fe7cc99f919ba6b,Updated from global requirements,MERGED,2015-08-11 15:24:22.000000000,2015-08-15 18:07:17.000000000,2015-08-15 18:07:14.000000000,"[{'_account_id': 3}, {'_account_id': 2903}]","[{'number': 1, 'created': '2015-08-11 15:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4a977f6b8e8d7b83c53407aca4d3ede578b84999', 'message': 'Updated from global requirements\n\nChange-Id: Ic256439a441237999fc7db604fe7cc99f919ba6b\n'}, {'number': 2, 'created': '2015-08-14 16:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bcda9890dadd013bc8f4e3c96972f18a7f5bdf3', 'message': 'Updated from global requirements\n\nChange-Id: Ic256439a441237999fc7db604fe7cc99f919ba6b\n'}, {'number': 3, 'created': '2015-08-14 18:22:31.000000000', 'files': ['requirements.txt', 'requirements-py3.txt', 'test-requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/285f4a353f8067948c9ef2b9da9539362c754cb5', 'message': 'Updated from global requirements\n\nChange-Id: Ic256439a441237999fc7db604fe7cc99f919ba6b\n'}]",0,211623,285f4a353f8067948c9ef2b9da9539362c754cb5,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: Ic256439a441237999fc7db604fe7cc99f919ba6b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/211623/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements-py3.txt'],1,4a977f6b8e8d7b83c53407aca4d3ede578b84999,openstack/requirements,,,1,0
openstack%2Fkeystone~master~Iad5f63cd34e4b75e64a1e233a0915d971a40f79a,openstack/keystone,master,Iad5f63cd34e4b75e64a1e233a0915d971a40f79a,Hardens the validated decorator's implementation,MERGED,2015-08-04 15:06:15.000000000,2015-08-15 18:04:48.000000000,2015-08-15 18:04:44.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 10795}, {'_account_id': 13063}]","[{'number': 1, 'created': '2015-08-04 15:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b2100e1e7ef4ec7abdc7b3761b2161c501d5f43', 'message': ""Hardens the validated decorator's implementation\n\nPreviously the validated decorator expected to find the entities it\nvalidated in the kwargs. Since the method signatures require the\nargument I don't see any reason to force kwarg usage. This change will\nnow also be able to find the argument in args.\n\nIf the validated decorator was used with an incorrect resource to\nvalidate (a misspelling, etc.), then the validated call would never\nactually validate anything. This change will ensure, at import time,\nthat the correct resource to validate is specified.\n\nChange-Id: Iad5f63cd34e4b75e64a1e233a0915d971a40f79a\nCloses-Bug: #1473848\n""}, {'number': 2, 'created': '2015-08-14 05:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c2ca5477a0a6228568672a9686cabcd38783aaf2', 'message': ""Hardens the validated decorator's implementation\n\nPreviously the validated decorator expected to find the entities it\nvalidated in the kwargs. Since the method signatures require the\nargument I don't see any reason to force kwarg usage. This change will\nnow also be able to find the argument in args.\n\nIf the validated decorator was used with an incorrect resource to\nvalidate (a misspelling, etc.), then the validated call would never\nactually validate anything. This change will ensure, at import time,\nthat the correct resource to validate is specified.\n\nChange-Id: Iad5f63cd34e4b75e64a1e233a0915d971a40f79a\nCloses-Bug: #1473848\n""}, {'number': 3, 'created': '2015-08-14 16:10:22.000000000', 'files': ['keystone/tests/unit/test_validation.py', 'keystone/common/validation/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ea5283f37d48b2df1d36b969e59ec69cb4974f7', 'message': ""Hardens the validated decorator's implementation\n\nPreviously the validated decorator expected to find the entities it\nvalidated in the kwargs. Since the method signatures require the\nargument I don't see any reason to force kwarg usage. This change will\nnow also be able to find the argument in args.\n\nIf the validated decorator was used with an incorrect resource to\nvalidate (a misspelling, etc.), then the validated call would never\nactually validate anything. This change will ensure, at import time,\nthat the correct resource to validate is specified.\n\nChange-Id: Iad5f63cd34e4b75e64a1e233a0915d971a40f79a\nCloses-Bug: #1473848\n""}]",7,209114,9ea5283f37d48b2df1d36b969e59ec69cb4974f7,22,7,3,7725,,,0,"Hardens the validated decorator's implementation

Previously the validated decorator expected to find the entities it
validated in the kwargs. Since the method signatures require the
argument I don't see any reason to force kwarg usage. This change will
now also be able to find the argument in args.

If the validated decorator was used with an incorrect resource to
validate (a misspelling, etc.), then the validated call would never
actually validate anything. This change will ensure, at import time,
that the correct resource to validate is specified.

Change-Id: Iad5f63cd34e4b75e64a1e233a0915d971a40f79a
Closes-Bug: #1473848
",git fetch https://review.opendev.org/openstack/keystone refs/changes/14/209114/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_validation.py', 'keystone/common/validation/__init__.py']",2,6b2100e1e7ef4ec7abdc7b3761b2161c501d5f43,bug/1466872,"import inspectfrom keystone.i18n import _ argspec = inspect.getargspec(func) try: arg_index = argspec.args.index(resource_to_validate) except ValueError: raise TypeError(_('validated expected to find %(param_name)r in ' 'function signature for %(func_name)r') % {'param_name': resource_to_validate, 'func_name': func.__name__}) else: schema_validator.validate(args[arg_index])",,58,0
openstack%2Fneutron~master~Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444,openstack/neutron,master,Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444,Remove vmware plugin from neutron (etc part),MERGED,2015-08-07 17:55:16.000000000,2015-08-15 18:03:59.000000000,2015-08-15 18:03:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 7187}, {'_account_id': 8124}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 13664}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15752}, {'_account_id': 17734}]","[{'number': 1, 'created': '2015-08-07 17:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40cd10f8849278ed6f628423fe41209dd7cf543d', 'message': 'Remove vmware plugin from neutron (etc part)\n\nRemove neutron:/etc/neutron/plugins/vmware/ because\nit has been moved to vmware-nsx:/vmware_nsx/etc/\nin commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.\n\nChange-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444\n'}, {'number': 2, 'created': '2015-08-07 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e183f9da7aeed4e6e264bc99373c9575258232', 'message': 'Remove vmware plugin from neutron (etc part)\n\nRemove neutron:/etc/neutron/plugins/vmware/ because\nit has been moved to vmware-nsx:/vmware_nsx/etc/\nin commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.\n\nThis is the first part of vmware plugin decomposition\n(etc, extensions, and database).\n\nRelated-to blueprint core-vendor-decomposition\nChange-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444\n'}, {'number': 3, 'created': '2015-08-07 20:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5ff159a5bb9c63cb1a117ed2e9cdacb957cdbca', 'message': 'Remove vmware plugin from neutron (etc part)\n\nRemove neutron:/etc/neutron/plugins/vmware/ because\nit has been moved to vmware-nsx:/vmware_nsx/etc/\nin commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.\n\nThis is the first part of vmware plugin decomposition\n(etc, extensions, and database).\n\nRelated-to blueprint https://blueprints.launchpad.net/neutron/+spec/core-vendor-decomposition\nChange-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444\n'}, {'number': 4, 'created': '2015-08-07 21:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e73145ab718399ddfddec6b4a22ce8afcbdafdd0', 'message': 'Remove vmware plugin from neutron (etc part)\n\nRemove neutron:/etc/neutron/plugins/vmware/ because\nit has been moved to vmware-nsx:/vmware_nsx/etc/\nin commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.\n\nThis is the first part of vmware plugin decomposition\n(etc, extensions, and database).\n\nRelated-to blueprint https://blueprints.launchpad.net/neutron/+spec/core-vendor-decomposition\nPartial-implements: blueprint core-vendor-decomposition\nChange-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444\n'}, {'number': 5, 'created': '2015-08-13 20:22:38.000000000', 'files': ['etc/neutron/plugins/vmware/policy/network-gateways.json', 'etc/neutron/plugins/vmware/nsx.ini', 'setup.cfg', 'etc/neutron/plugins/vmware/policy/routers.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b19a1ef55b2533a55e9909755f31ee2026ce40f', 'message': 'Remove vmware plugin from neutron (etc part)\n\nRemove neutron:/etc/neutron/plugins/vmware/ because\nit has been moved to vmware-nsx:/vmware_nsx/etc/\nin commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.\n\nThis is the first part of vmware plugin decomposition\n(etc, extensions, and database).\n\nPartial-bug: #1483453\nChange-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444\n'}]",4,210556,0b19a1ef55b2533a55e9909755f31ee2026ce40f,65,25,5,17734,,,0,"Remove vmware plugin from neutron (etc part)

Remove neutron:/etc/neutron/plugins/vmware/ because
it has been moved to vmware-nsx:/vmware_nsx/etc/
in commit# b27bc1942195ff551cd22ddaf6853a25302cbb7e.

This is the first part of vmware plugin decomposition
(etc, extensions, and database).

Partial-bug: #1483453
Change-Id: Ic6fe5e256369a1b6aabdaadf019989f0e6a6e444
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/210556/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/plugins/vmware/policy/network-gateways.json', 'etc/neutron/plugins/vmware/nsx.ini', 'etc/neutron/plugins/vmware/policy/routers.json']",3,40cd10f8849278ed6f628423fe41209dd7cf543d,,,"{ ""create_router:external_gateway_info:enable_snat"": ""rule:admin_or_owner"", ""create_router:distributed"": ""rule:admin_or_owner"", ""get_router:distributed"": ""rule:admin_or_owner"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_or_owner"", ""update_router:distributed"": ""rule:admin_or_owner"" } ",0,300
openstack%2Fcinder~master~Ic418e40850d1ed370a94473a0cca062d56736726,openstack/cinder,master,Ic418e40850d1ed370a94473a0cca062d56736726,Clean up volume_types logging,MERGED,2015-07-24 12:39:10.000000000,2015-08-15 17:12:40.000000000,2015-08-13 17:06:14.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 8247}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 10485}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13425}, {'_account_id': 13636}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14863}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-07-24 12:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3adfeb1a8a46eb84dc5d22dd8d3970bdcb4d564c', 'message': 'Clean up volume_types logging\n\nRedundant logging of exceptions were being done with\nformatting exception details in the text passed in\nto LOG.exception.\n\nAlso cleaned up case of preformatting a log string\nrather than passing formatting arguments in to the\nlogger to be formatted if/when needed.\n\nChange-Id: Ic418e40850d1ed370a94473a0cca062d56736726\n'}, {'number': 2, 'created': '2015-07-24 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b2f95c1c13c83e0913e876c418b4ac19ef13c1e', 'message': 'Clean up volume_types logging\n\nRedundant logging of exceptions were being done with\nformatting exception details in the text passed in\nto LOG.exception.\n\nAlso cleaned up case of preformatting a log string\nrather than passing formatting arguments in to the\nlogger to be formatted if/when needed.\n\nChange-Id: Ic418e40850d1ed370a94473a0cca062d56736726\n'}, {'number': 3, 'created': '2015-07-24 13:30:02.000000000', 'files': ['cinder/volume/volume_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/495ae80f80028032fae650e0ebb2b36974b6c41c', 'message': 'Clean up volume_types logging\n\nRedundant logging of exceptions was being done with\nformatting exception details in the text passed in\nto LOG.exception.\n\nAlso cleaned up case of preformatting a log string\nrather than passing formatting arguments in to the\nlogger to be formatted if/when needed.\n\nChange-Id: Ic418e40850d1ed370a94473a0cca062d56736726\n'}]",19,205516,495ae80f80028032fae650e0ebb2b36974b6c41c,54,33,3,11904,,,0,"Clean up volume_types logging

Redundant logging of exceptions was being done with
formatting exception details in the text passed in
to LOG.exception.

Also cleaned up case of preformatting a log string
rather than passing formatting arguments in to the
logger to be formatted if/when needed.

Change-Id: Ic418e40850d1ed370a94473a0cca062d56736726
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/205516/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/volume_types.py'],1,3adfeb1a8a46eb84dc5d22dd8d3970bdcb4d564c,volume_type_cleanup," except db_exc.DBError: LOG.exception(_LE('DB error: ')) except db_exc.DBError: LOG.exception(_LE('DB error: ')) LOG.debug(""Searching by: %s"", search_opts) except exception.VolumeTypeNotFoundByName: LOG.exception(_LE('Default volume type is not found, ' 'please check default_volume_type config: %s'))","import six except db_exc.DBError as e: LOG.exception(_LE('DB error: %s') % six.text_type(e)) except db_exc.DBError as e: LOG.exception(_LE('DB error: %s') % six.text_type(e)) LOG.debug(""Searching by: %s"" % search_opts) except exception.VolumeTypeNotFoundByName as e: LOG.exception(_LE('Default volume type is not found,' 'please check default_volume_type config: %s') % six.text_type(e))",8,10
openstack%2Fcinder~master~I9e7042fbce3f853514bc81937c8956e3bf83f456,openstack/cinder,master,I9e7042fbce3f853514bc81937c8956e3bf83f456,[WIP] Enable generic image-volume cache without virtual_size,ABANDONED,2015-08-13 22:12:42.000000000,2015-08-15 17:05:40.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9176}, {'_account_id': 10115}, {'_account_id': 12249}, {'_account_id': 12540}, {'_account_id': 12924}, {'_account_id': 14969}, {'_account_id': 15296}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 17852}]","[{'number': 1, 'created': '2015-08-13 22:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cc337160ae4cae29606c376bb782ae5a8a43ee4', 'message': ""[WIP] Enable generic image cache without virtual_size\n\nCurrently generic image cache requires 'virtual_size' metadata\nset to the images manually. This patch introduces TemporalImages\nclass which enables inspection before image conversion to\nget virtual size. The downloaded image is cached to avoid\ndownloading the image again.\n\nChange-Id: I9e7042fbce3f853514bc81937c8956e3bf83f456\n""}, {'number': 2, 'created': '2015-08-14 21:18:53.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/image/cache.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/134a70681111dc9ecdc0af6c6173d05be7edfa77', 'message': ""[WIP] Enable generic image-volume cache without virtual_size\n\nCurrently generic image cache requires 'virtual_size' metadata\nset to the images manually. This patch enables image cache for\nimages without 'virtual_size' metadata using TemporalImages\nutility which enables inspection before image conversion\nto get virtual size.\n\nChange-Id: I9e7042fbce3f853514bc81937c8956e3bf83f456\n""}]",0,212813,134a70681111dc9ecdc0af6c6173d05be7edfa77,24,14,2,9176,,,0,"[WIP] Enable generic image-volume cache without virtual_size

Currently generic image cache requires 'virtual_size' metadata
set to the images manually. This patch enables image cache for
images without 'virtual_size' metadata using TemporalImages
utility which enables inspection before image conversion
to get virtual size.

Change-Id: I9e7042fbce3f853514bc81937c8956e3bf83f456
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/212813/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/image/image_utils.py', 'cinder/image/cache.py', 'cinder/image/glance.py']",4,4cc337160ae4cae29606c376bb782ae5a8a43ee4,bp/image-volume-cache, self.temp_images = None,,71,24
openstack%2Fos-testr~master~I07e1edb5c43ff7b0a81879f388770fb732fed43b,openstack/os-testr,master,I07e1edb5c43ff7b0a81879f388770fb732fed43b,Make use of argparse groups and add some tests,MERGED,2015-08-06 22:49:00.000000000,2015-08-15 16:53:37.000000000,2015-08-15 16:53:35.000000000,"[{'_account_id': 3}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-08-06 22:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/6a172432121a4cde2cc50b9eb24fdd9c8e59d9bd', 'message': 'Make use of argparse groups and add some tests\n\nChange-Id: I07e1edb5c43ff7b0a81879f388770fb732fed43b\n'}, {'number': 2, 'created': '2015-08-11 19:03:07.000000000', 'files': ['os_testr/tests/test_os_testr.py', 'os_testr/os_testr.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/8eb9453815354ad31b523c334e9fca030722195c', 'message': 'Make use of argparse groups and add some tests\n\nThis change makes use of argparse groups to generate error\nmessages when the user specifies invalid command line option\ncombinations.  For example if the user specified --pretty\nand --no-pretty before it would not complain, but now it\nwill.\n\nChange-Id: I07e1edb5c43ff7b0a81879f388770fb732fed43b\n'}]",3,210151,8eb9453815354ad31b523c334e9fca030722195c,9,2,2,8736,,,0,"Make use of argparse groups and add some tests

This change makes use of argparse groups to generate error
messages when the user specifies invalid command line option
combinations.  For example if the user specified --pretty
and --no-pretty before it would not complain, but now it
will.

Change-Id: I07e1edb5c43ff7b0a81879f388770fb732fed43b
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/51/210151/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_testr/tests/test_os_testr.py', 'os_testr/tests/test_return_codes.py', 'os_testr/os_testr.py']",3,6a172432121a4cde2cc50b9eb24fdd9c8e59d9bd,camel,"def get_parser(): pretty = parser.add_mutually_exclusive_group() pretty.add_argument('--pretty', '-p', dest='pretty', action='store_true', pretty.add_argument('--no-pretty', dest='pretty', action='store_false', pretty.add_argument('--subunit', '-s', action='store_true', 'this is mutually exclusive with --pretty') slowest = parser.add_mutually_exclusive_group() slowest.add_argument('--slowest', dest='slowest', action='store_true', help=""after the test run print the slowest tests"") slowest.add_argument('--no-slowest', dest='slowest', action='store_false', help=""after the test run don't print the slowest "" ""tests"") parallel = parser.add_mutually_exclusive_group() parallel.add_argument('--parallel', dest='parallel', action='store_true', help='Run tests in parallel (this is the default)') parallel.add_argument('--serial', dest='parallel', action='store_false', help='Run tests serially') return parser opts = get_parser().parse_args()","def parse_args(): parser.add_argument('--pretty', '-p', dest='pretty', action='store_true', parser.add_argument('--no-pretty', dest='pretty', action='store_false', parser.add_argument('--subunit', '-s', action='store_true', 'this is mutuall exclusive with --pretty') parser.add_argument('--slowest', dest='slowest', action='store_true', help=""after the test run print the slowest tests"") parser.add_argument('--no-slowest', dest='slowest', action='store_false', help=""after the test run don't print the slowest "" ""tests"") parser.add_argument('--parallel', dest='parallel', action='store_true', help='Run tests in parallel (this is the default)') parser.add_argument('--serial', dest='parallel', action='store_false', help='Run tests serially') opts = parser.parse_args() return opts opts = parse_args() if opts.pretty and opts.subunit: msg = ('Subunit output and pretty output cannot be specified at the ' 'same time') print(msg) exit(2)",48,27
openstack%2Fhorizon~master~I42a323cc0c0258b9a067c3f231df4e26e90b994f,openstack/horizon,master,I42a323cc0c0258b9a067c3f231df4e26e90b994f,Imported Translations from Transifex,MERGED,2015-08-15 06:11:49.000000000,2015-08-15 15:06:48.000000000,2015-08-15 15:06:46.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 6610}]","[{'number': 1, 'created': '2015-08-15 06:11:49.000000000', 'files': ['openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/djangojs.pot', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/89758fed70fb4d81eb1f944f39999609d894ad75', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I42a323cc0c0258b9a067c3f231df4e26e90b994f\n'}]",0,213423,89758fed70fb4d81eb1f944f39999609d894ad75,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I42a323cc0c0258b9a067c3f231df4e26e90b994f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/213423/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/djangojs.pot', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po']",5,89758fed70fb4d81eb1f944f39999609d894ad75,transifex/translations,"""POT-Creation-Date: 2015-08-14 23:41+0000\n"" ""PO-Revision-Date: 2015-08-15 05:20+0000\n""""Administrators set up the pool of floating IPs that are available to attach "" ""to instances."" msgstr """" ""Os administradores configuraram o pool de IPs flutuantes que esto "" ""disponveis para anexar s instncias."" msgid """"msgid """" ""If a network is shared, then all users in the project can access the network."" msgstr """" ""Se uma rede  compartilhada, ento, todos os usurios do projeto podem "" ""acessar a rede."" msgid """" ""If a security group is not associated with an instance before it is "" ""launched, then you will have very limited access to the instance after it is "" ""deployed. You will only be able to access the instance from a VNC console."" msgstr """" ""Se um grupo de segurana no est associado a uma instncia antes de ser "" ""iniciado, ento voc ter um acesso muito limitado  instncia aps a "" ""implantao. Voc s ser capaz de acessar a instncia a partir de um "" ""console de VNC."" msgid ""Networks provide the communication channels for instances in the cloud."" msgstr ""As redes fornecem os canais de comunicao para instncias na nuvem."" msgid """" ""Security groups are project-specific and cannot be shared across projects."" msgstr """" ""Os grupos de segurana so especficos do projeto e no podem ser "" ""compartilhados entre projetos."" msgid """" ""Security groups define a set of IP filter rules that determine how network "" ""traffic flows to and from an instance. Users can add additional rules to an "" ""existing security group to further define the access options for an "" ""instance. To create additional rules, go to the <b>Compute | Access & "" ""Security</b> view, then find the security group and click <b>Manage Rules</"" ""b>."" msgstr """" ""Os grupos de segurana definem um conjunto de regras de filtragem de IP que "" ""determinam como o trfego de rede flui de e para uma instncia. Os usurios "" ""podem adicionar regras adicionais para um grupo de segurana existente para "" ""definir ainda mais as opes de acesso para uma instncia. Para criar regras "" ""adicionais, v para o <b>Compute | Acesso e Segurana</ b> view, em seguida, "" ""encontrar o grupo de segurana e clique em <b>Gerenciar Regras</ b>."" msgid ""Select one or more security groups from the available groups below."" msgstr """" ""Selecione um ou mais grupos de segurana dos grupos disponveis abaixo."" msgid ""The status indicates whether the network has an active connection."" msgstr ""O status indica se a rede tem uma conexo ativa."" msgid """" ""The subnet identifies a sub-section of a network. A subnet is specified in "" ""CIDR format. A typical CIDR format looks like <samp>192.xxx.x.x/24</samp>."" msgstr """" ""A subrede identifica um subseco de uma rede. Uma subrede  especificada no "" ""formato CIDR. Um formato tpico CIDR parece com <samp> 192.xxx.x.x/24</ "" ""samp>."" msgid """" ""When the <b>Admin State</b> for a network is set to <b>Up</b>, then the "" ""network is available for use. You can set the <b>Admin State</b> to <b>Down</"" ""b> if you are not ready for other users to access the network."" msgstr """" ""Quando o <b>Admin State</ b> para uma rede est definido para <b> Up </ b>, "" ""ento a rede est disponvel para uso. Voc pode configurar o <b>Admin "" ""State</ b> para <b> Down </ b>, se voc no est pronto para que outros "" ""usurios possam acessar a rede."" ","""POT-Creation-Date: 2015-08-14 04:33+0000\n"" ""PO-Revision-Date: 2015-08-13 17:43+0000\n""",117,22
openstack%2Fhorizon~master~Iefddec7961c9d1a424637d95ed35296227e7339a,openstack/horizon,master,Iefddec7961c9d1a424637d95ed35296227e7339a,Dashboard ReOrg - retiring dashboard.scss,MERGED,2015-08-05 05:31:22.000000000,2015-08-15 15:06:29.000000000,2015-08-15 15:06:22.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 7665}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-08-05 05:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef7f56f48d06096a8450381cbeb6eb515d5e27e0', 'message': 'Dashboard ReOrg - retiring dashboard.scss\n\ndashboard.scss is no longer the root scss for app, it is app.scss\nnow.\n\nChange-Id: Iefddec7961c9d1a424637d95ed35296227e7339a\nPartial-Bug: #1478717\n'}, {'number': 2, 'created': '2015-08-05 18:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6fcdf3b942f6d9699b319139cf6c731ccecb8840', 'message': 'Dashboard ReOrg - retiring dashboard.scss\n\ndashboard.scss is no longer the root scss for app, it is app.scss\nnow.\n\nChange-Id: Iefddec7961c9d1a424637d95ed35296227e7339a\nPartial-Bug: #1478717\n'}, {'number': 3, 'created': '2015-08-11 01:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9696490648833549d96573c226c6d0c9f4961432', 'message': 'Dashboard ReOrg - retiring dashboard.scss\n\ndashboard.scss is no longer the root scss for app, it is app.scss\nnow.\n\nChange-Id: Iefddec7961c9d1a424637d95ed35296227e7339a\nPartial-Bug: #1478717\n'}, {'number': 4, 'created': '2015-08-14 18:08:51.000000000', 'files': ['openstack_dashboard/static/dashboard/dashboard.scss', 'openstack_dashboard/templates/_stylesheets.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6583e95cb381cb1d74bcadd9bc9f533d0859df4a', 'message': 'Dashboard ReOrg - retiring dashboard.scss\n\ndashboard.scss is no longer the root scss for app, it is app.scss\nnow.\n\nChange-Id: Iefddec7961c9d1a424637d95ed35296227e7339a\nPartial-Bug: #1478717\n'}]",0,209346,6583e95cb381cb1d74bcadd9bc9f533d0859df4a,16,4,4,13805,,,0,"Dashboard ReOrg - retiring dashboard.scss

dashboard.scss is no longer the root scss for app, it is app.scss
now.

Change-Id: Iefddec7961c9d1a424637d95ed35296227e7339a
Partial-Bug: #1478717
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/209346/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/dashboard.scss', 'openstack_dashboard/templates/_stylesheets.html']",2,ef7f56f48d06096a8450381cbeb6eb515d5e27e0,bug/1478717,,<link href='{{ STATIC_URL }}dashboard/dashboard.scss' type='text/scss' media='screen' rel='stylesheet' />,0,8
openstack%2Fcookiecutter~master~Ib35511f64825689da48d6815db240bc8a9575db0,openstack/cookiecutter,master,Ib35511f64825689da48d6815db240bc8a9575db0,"Remove python 2.6, which is not supported in Liberty",MERGED,2015-08-13 01:48:22.000000000,2015-08-15 14:59:39.000000000,2015-08-15 14:59:38.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6316}]","[{'number': 1, 'created': '2015-08-13 01:48:22.000000000', 'files': ['{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/4330030990e873d33429edbf9f1d18c43f67914f', 'message': 'Remove python 2.6, which is not supported in Liberty\n\nChange-Id: Ib35511f64825689da48d6815db240bc8a9575db0\n'}]",0,212241,4330030990e873d33429edbf9f1d18c43f67914f,8,4,1,10980,,,0,"Remove python 2.6, which is not supported in Liberty

Change-Id: Ib35511f64825689da48d6815db240bc8a9575db0
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/41/212241/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/tox.ini']",2,4330030990e873d33429edbf9f1d18c43f67914f,remove-old-py,"envlist = py33,py34,py27,pypy,pep8","envlist = py33,py34,py26,py27,pypy,pep8",1,2
openstack%2Fcookiecutter~master~Ia5b5ca604f35fc73bdbf75547ece4e8c9fd18f85,openstack/cookiecutter,master,Ia5b5ca604f35fc73bdbf75547ece4e8c9fd18f85,Bump requirements files,MERGED,2015-08-13 01:47:16.000000000,2015-08-15 14:59:02.000000000,2015-08-15 14:59:02.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2015-08-13 01:47:16.000000000', 'files': ['{{cookiecutter.repo_name}}/test-requirements.txt', '{{cookiecutter.repo_name}}/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/d28932396ff92e7da9e9ffc8f58e292e23d4d2e2', 'message': 'Bump requirements files\n\nChange-Id: Ia5b5ca604f35fc73bdbf75547ece4e8c9fd18f85\n'}]",0,212240,d28932396ff92e7da9e9ffc8f58e292e23d4d2e2,8,3,1,10980,,,0,"Bump requirements files

Change-Id: Ia5b5ca604f35fc73bdbf75547ece4e8c9fd18f85
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/40/212240/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/test-requirements.txt', '{{cookiecutter.repo_name}}/requirements.txt']",2,d28932396ff92e7da9e9ffc8f58e292e23d4d2e2,bump-reqs,"pbr<2.0,>=1.4","pbr>=0.6,!=0.7,<1.0",5,5
openstack%2Fsecurity-doc~master~I39a224d454e513e2de7b2a112d9d552207ea2185,openstack/security-doc,master,I39a224d454e513e2de7b2a112d9d552207ea2185,Updated from openstack-manuals,MERGED,2015-08-15 07:36:26.000000000,2015-08-15 14:25:29.000000000,2015-08-15 14:25:28.000000000,"[{'_account_id': 3}, {'_account_id': 12325}]","[{'number': 1, 'created': '2015-08-15 07:36:26.000000000', 'files': ['common-rst/source/locale/ja/LC_MESSAGES/common-rst.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/43a96e0defec5dcf03ca3989a349fed844643839', 'message': 'Updated from openstack-manuals\n\nChange-Id: I39a224d454e513e2de7b2a112d9d552207ea2185\n'}]",0,213427,43a96e0defec5dcf03ca3989a349fed844643839,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I39a224d454e513e2de7b2a112d9d552207ea2185
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/27/213427/1 && git format-patch -1 --stdout FETCH_HEAD,['common-rst/source/locale/ja/LC_MESSAGES/common-rst.po'],1,43a96e0defec5dcf03ca3989a349fed844643839,openstack/openstack-manuals,"""PO-Revision-Date: 2015-08-14 06:25+0000\n""msgid ""Community support"" msgstr """" ","""PO-Revision-Date: 2015-08-12 01:21+0000\n""",4,1
openstack%2Fopenstack-ansible~master~Icc081fe83712ce883baa88f99db60c52dcc4c1ae,openstack/openstack-ansible,master,Icc081fe83712ce883baa88f99db60c52dcc4c1ae,Add iptables rule to neutron agents containers,MERGED,2015-08-12 09:14:31.000000000,2015-08-15 14:25:11.000000000,2015-08-15 08:29:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7307}]","[{'number': 1, 'created': '2015-08-12 09:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f09600912886866f35f6fe365fa612110a9c2244', 'message': '[WIP] Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 2, 'created': '2015-08-12 09:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9eed6563b7195d9460209fb6d2d80ee7a189970', 'message': '[WIP] Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 3, 'created': '2015-08-12 09:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e087f0bbeec303cf76f9bd45eb533e9cde6e476', 'message': '[WIP] Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 4, 'created': '2015-08-12 12:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/22266ef21c67303f55d7bf4003efc07b63a82145', 'message': '[WIP] Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 5, 'created': '2015-08-12 12:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6eafc23f8c9140a919d2272da85d2bad5e71ce85', 'message': '[WIP] Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 6, 'created': '2015-08-12 13:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/855482dbb74bb30c1a908d9092a3da5717396865', 'message': 'Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 7, 'created': '2015-08-13 09:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/56c4b3e9c1ac5a8a77fc949f658e68ae767db2ff', 'message': 'Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}, {'number': 8, 'created': '2015-08-13 12:10:19.000000000', 'files': ['scripts/bootstrap-aio.sh', 'scripts/run-playbooks.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d879994e13e788123e2db1368b985d0e5fe9cb1b', 'message': 'Add iptables rule to neutron agents containers\n\nWhen running in an AIO environment, we need to drop an iptables rule to\nensure that communication between instances and the neutron metadata\nservice works.\n\nChange-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae\nCloses-Bug: #1483603\n'}]",3,211918,d879994e13e788123e2db1368b985d0e5fe9cb1b,27,4,8,7307,,,0,"Add iptables rule to neutron agents containers

When running in an AIO environment, we need to drop an iptables rule to
ensure that communication between instances and the neutron metadata
service works.

Change-Id: Icc081fe83712ce883baa88f99db60c52dcc4c1ae
Closes-Bug: #1483603
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/211918/8 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-aio.sh', 'scripts/run-playbooks.sh']",2,f09600912886866f35f6fe365fa612110a9c2244,bug/1483603,"BOOTSTRAP_AIO=${BOOTSTRAP_AIO:-""no""} # When running in an AIO, we need to drop the following iptables rule in any neutron_agent containers # to that ensure instances can communicate with the neutron metadata service. # This is necessary because in an AIO environment there are no physical interfaces involved in # instance -> metadata requests, and this results in the checksums being incorrect. if [ ""${BOOTSTRAP_AIO}"" == ""yes"" ]; then ansible neutron_agent -m command \ -a 'iptables -t mangle -A POSTROUTING -p tcp --sport 80 -j CHECKSUM --checksum-fill' \ -t ""${COMMAND_LOGS}/add_neutron_agents_checksum_rule"" \ &> ${COMMAND_LOGS}/add_neutron_agents_checksum_rule.log fi ",,15,0
openstack%2Fopenstack-manuals~master~Ic3db826fc9ec447c8a8badbe65349f2a8a569a14,openstack/openstack-manuals,master,Ic3db826fc9ec447c8a8badbe65349f2a8a569a14,ubuntu trove packages do not properly make /var/cache/trove,ABANDONED,2015-08-14 11:51:56.000000000,2015-08-15 14:19:54.000000000,,"[{'_account_id': 3}, {'_account_id': 8804}, {'_account_id': 9382}, {'_account_id': 9515}, {'_account_id': 10497}, {'_account_id': 14947}]","[{'number': 1, 'created': '2015-08-14 11:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/31e3b1940adb8effae5938a5d3da7aadf779582f', 'message': 'ubuntu trove packages do not properly make /var/cache/trove\n\nBecause trove packags\'s bug, add two steps ""mkdir /var/cache/trove""\nand ""chown trove:trove /var/cache/trove"" to trove-install.\n\nChange-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14\nCloses-Bug: #1459961\n'}, {'number': 2, 'created': '2015-08-14 14:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/08384dc04dd153722e0421845acd9027f25555c8', 'message': 'ubuntu trove packages do not properly make /var/cache/trove\n\nBecause trove packags\'s bug, add two steps ""mkdir /var/cache/trove""\nand ""chown trove:trove /var/cache/trove"" to trove-install.\n\nChange-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14\nCloses-Bug: #1459961\n'}, {'number': 3, 'created': '2015-08-15 09:22:31.000000000', 'files': ['doc/install-guide/section_trove-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bd24acaa7d7e68a1d87d90e58ebe1c04213bc701', 'message': 'ubuntu trove packages do not properly make /var/cache/trove\n\nBecause trove packags\'s bug, add two steps ""mkdir /var/cache/trove""\nand ""chown trove:trove /var/cache/trove"" to trove-install.\n\nChange-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14\nCloses-Bug: #1459961\n'}]",2,213109,bd24acaa7d7e68a1d87d90e58ebe1c04213bc701,20,6,3,10497,,,0,"ubuntu trove packages do not properly make /var/cache/trove

Because trove packags's bug, add two steps ""mkdir /var/cache/trove""
and ""chown trove:trove /var/cache/trove"" to trove-install.

Change-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14
Closes-Bug: #1459961
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/213109/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_trove-install.xml'],1,31e3b1940adb8effae5938a5d3da7aadf779582f,bug/1459961," <note os=""ubuntu""><para>Bacause the trove package has some bugs, you should manually do these step:</para> <screen><prompt>#</prompt> <userinput>mkdir /var/cache/trove</userinput> <prompt>#</prompt> <userinput>chown trove:trove /var/cache/trove</userinput></screen> </note>",,5,0
openstack%2Fopenstack-manuals~stable%2Fjuno~Ic3db826fc9ec447c8a8badbe65349f2a8a569a14,openstack/openstack-manuals,stable/juno,Ic3db826fc9ec447c8a8badbe65349f2a8a569a14,ubuntu trove packages do not properly make /var/cache/trove,ABANDONED,2015-08-05 06:37:23.000000000,2015-08-15 14:19:35.000000000,,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6476}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-05 06:37:23.000000000', 'files': ['doc/install-guide/section_trove-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/db67dd397baa6684da53d82782d5dcf34ed9e9f5', 'message': 'ubuntu trove packages do not properly make /var/cache/trove\n\nbecause trove packags\'s bug, add two steps ""mkdir /var/cache/trove""\nand ""chown trove:trove /var/cache/trove"" to trove-install.\n\nChange-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14\nCloses-Bug: #1459961\n'}]",0,209368,db67dd397baa6684da53d82782d5dcf34ed9e9f5,8,6,1,17680,,,0,"ubuntu trove packages do not properly make /var/cache/trove

because trove packags's bug, add two steps ""mkdir /var/cache/trove""
and ""chown trove:trove /var/cache/trove"" to trove-install.

Change-Id: Ic3db826fc9ec447c8a8badbe65349f2a8a569a14
Closes-Bug: #1459961
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/68/209368/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_trove-install.xml'],1,db67dd397baa6684da53d82782d5dcf34ed9e9f5,bug/1459961," <note> <para>Because the trove package has some bugs, you should do these steps manually <literal>mkdir /var/cache/trove</literal> and <literal>chown trove:trove /var/cache/trove</literal>.</para> </note>",,3,0
openstack%2Fneutron~master~I0ba93c7369c1897acd7b8ffa621fa89ae22a2fe4,openstack/neutron,master,I0ba93c7369c1897acd7b8ffa621fa89ae22a2fe4,Test 2,ABANDONED,2015-08-13 21:39:40.000000000,2015-08-15 12:45:09.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-13 21:39:40.000000000', 'files': ['neutron/tests/unit/test_manager.py', 'neutron/tests/functional/agent/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f11df84fb54edcf0dc9b36e15cc8806d873ef8d5', 'message': 'Test 2\n\nChange-Id: I0ba93c7369c1897acd7b8ffa621fa89ae22a2fe4\n'}]",0,212803,f11df84fb54edcf0dc9b36e15cc8806d873ef8d5,13,11,1,8873,,,0,"Test 2

Change-Id: I0ba93c7369c1897acd7b8ffa621fa89ae22a2fe4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/212803/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_manager.py']",2,f11df84fb54edcf0dc9b36e15cc8806d873ef8d5,test_gate_jobs,, self.assertTrue(False),1,1
openstack%2Fopenstack-ansible~master~Ide583fa6dc06008641bbc10b1abcaa816e662337,openstack/openstack-ansible,master,Ide583fa6dc06008641bbc10b1abcaa816e662337,Enable debug logging for gate checks,MERGED,2015-08-07 09:45:33.000000000,2015-08-15 12:22:14.000000000,2015-08-15 12:07:31.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 9515}, {'_account_id': 12807}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-08-07 09:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91a7f63b75eebd49db3e2602460dbb432200c318', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}, {'number': 2, 'created': '2015-08-07 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5834f3090e21a025623dc1334f10500a117ec579', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}, {'number': 3, 'created': '2015-08-07 20:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6d43877d9ace90425497cd0bb2c65096bb8c248a', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}, {'number': 4, 'created': '2015-08-09 09:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eafa4f8395e602b369e94fbfe16c4116c6ecd625', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}, {'number': 5, 'created': '2015-08-11 19:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb2050bc1d8c39f4061b7faab4f533f710099b80', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}, {'number': 6, 'created': '2015-08-15 08:37:00.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91ac17211abc7becc8e792b98b00458e91dab535', 'message': 'Enable debug logging for gate checks\n\nThis patch enables debug logging for all OpenStack services\nin the gate checks to ensure that the maximum amount of\ninformation is available for debugging gate check failures.\n\nChange-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337\nCloses-Bug: #1482572\n'}]",0,210278,91ac17211abc7becc8e792b98b00458e91dab535,40,6,6,6816,,,0,"Enable debug logging for gate checks

This patch enables debug logging for all OpenStack services
in the gate checks to ensure that the maximum amount of
information is available for debugging gate check failures.

Change-Id: Ide583fa6dc06008641bbc10b1abcaa816e662337
Closes-Bug: #1482572
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/210278/6 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,91a7f63b75eebd49db3e2602460dbb432200c318,199126,"# Enable debug logging for all services to make failure debugging easier echo ""debug: True"" | tee -a /etc/openstack_deploy/user_variables.yml ",,3,0
openstack%2Fnova-powervm~master~Ia15c679e9277fa512d083abfb43c66c59e864b30,openstack/nova-powervm,master,Ia15c679e9277fa512d083abfb43c66c59e864b30,Refactor of vscsi attach/detach loops,MERGED,2015-08-13 13:43:59.000000000,2015-08-15 12:09:05.000000000,2015-08-15 12:09:04.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 12994}, {'_account_id': 13002}, {'_account_id': 14070}, {'_account_id': 14532}, {'_account_id': 14806}]","[{'number': 1, 'created': '2015-08-13 13:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cc3cefe9905bbb24db8e8498b6daba785bac8dac', 'message': ""Refactor of vscsi attach/detach loops\n\nThis change set refactors how the vSCSI attach and detach loops are\nnested.  They became a bit too nested and thus messages took several\nlines due to 80 character limit.\n\nThis change moves the 'per VIO' specific logic into its own method.\n\nIt also moves some exceptions into the nova_powervm exception module\nthat had previously been improperly referenced from pypowervm.\n\nChange-Id: Ia15c679e9277fa512d083abfb43c66c59e864b30\n""}, {'number': 2, 'created': '2015-08-13 13:53:37.000000000', 'files': ['nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/virt/powervm/volume/vscsi.py', 'nova_powervm/virt/powervm/exception.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4984abac5786857aab52d62840cc1d3a40fcca31', 'message': ""Refactor of vscsi attach/detach loops\n\nThis change set refactors how the vSCSI attach and detach loops are\nnested.  They became a bit too nested and thus messages took several\nlines due to 80 character limit.\n\nThis change moves the 'per VIO' specific logic into its own method.\n\nIt also moves some exceptions into the nova_powervm exception module\nthat had previously been improperly referenced from pypowervm.\n\nChange-Id: Ia15c679e9277fa512d083abfb43c66c59e864b30\n""}]",0,212532,4984abac5786857aab52d62840cc1d3a40fcca31,8,8,2,8190,,,0,"Refactor of vscsi attach/detach loops

This change set refactors how the vSCSI attach and detach loops are
nested.  They became a bit too nested and thus messages took several
lines due to 80 character limit.

This change moves the 'per VIO' specific logic into its own method.

It also moves some exceptions into the nova_powervm exception module
that had previously been improperly referenced from pypowervm.

Change-Id: Ia15c679e9277fa512d083abfb43c66c59e864b30
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/32/212532/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/virt/powervm/volume/vscsi.py', 'nova_powervm/virt/powervm/exception.py']",3,cc3cefe9905bbb24db8e8498b6daba785bac8dac,refactor_vscsi_loops," class VolumeAttachFailed(nex.NovaException): msg_fmt = _(""Unable to attach storage (id: %(volume_id)s) to virtual "" ""machine %(instance_name)s. %(reason)s"") class VolumeDetachFailed(nex.NovaException): msg_fmt = _(""Unable to detach volume (id: %(volume_id)s) from virtual "" ""machine %(instance_name)s. %(reason)s"")",,120,97
openstack%2Fneutron~master~I204c29d83b7d5bee884f31a14362cc5571edf3fe,openstack/neutron,master,I204c29d83b7d5bee884f31a14362cc5571edf3fe,Test,ABANDONED,2015-08-13 21:34:53.000000000,2015-08-15 11:48:48.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-13 21:34:53.000000000', 'files': ['neutron/tests/unit/test_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a94baf7b87e535beb4f1aad8ba287fcac2e5d13', 'message': 'Test\n\nChange-Id: I204c29d83b7d5bee884f31a14362cc5571edf3fe\n'}]",0,212801,9a94baf7b87e535beb4f1aad8ba287fcac2e5d13,13,11,1,8873,,,0,"Test

Change-Id: I204c29d83b7d5bee884f31a14362cc5571edf3fe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/212801/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_manager.py'],1,9a94baf7b87e535beb4f1aad8ba287fcac2e5d13,test_gate_jobs, self.assertTrue(False),,1,0
openstack%2Fneutron~master~Ie7d4faf2d1bb8e0e8fc4ffc3f18e9214474acf5c,openstack/neutron,master,Ie7d4faf2d1bb8e0e8fc4ffc3f18e9214474acf5c,Remove 'action' argument from _handle_fip_nat_rules(),MERGED,2015-08-13 21:13:12.000000000,2015-08-15 11:26:05.000000000,2015-08-14 19:59:54.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-13 21:13:12.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/228206c024452287e07fbbed2b8059d04da8c0b9', 'message': ""Remove 'action' argument from _handle_fip_nat_rules()\n\nThere's only one caller of _handle_fip_nat_rules(), and they\nalways specify 'add_rules' as the argument, so it's not\nnecessary any more.  Also, the interface passed must be valid\nsince the caller has already used it, and would have thrown\nan exception before this call was made.  Found during another\ncode review.\n\nChange-Id: Ie7d4faf2d1bb8e0e8fc4ffc3f18e9214474acf5c\n""}]",0,212794,228206c024452287e07fbbed2b8059d04da8c0b9,19,15,1,1131,,,0,"Remove 'action' argument from _handle_fip_nat_rules()

There's only one caller of _handle_fip_nat_rules(), and they
always specify 'add_rules' as the argument, so it's not
necessary any more.  Also, the interface passed must be valid
since the caller has already used it, and would have thrown
an exception before this call was made.  Found during another
code review.

Change-Id: Ie7d4faf2d1bb8e0e8fc4ffc3f18e9214474acf5c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/212794/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_local_router.py']",2,228206c024452287e07fbbed2b8059d04da8c0b9,fip_nat_rules," def _handle_fip_nat_rules(self, interface_name): # And add the NAT rule back rule = ('POSTROUTING', '! -i %(interface_name)s ' '! -o %(interface_name)s -m conntrack ! ' '--ctstate DNAT -j ACCEPT' % {'interface_name': interface_name}) self.iptables_manager.ipv4['nat'].add_rule(*rule) "," def _handle_fip_nat_rules(self, interface_name, action): # And add them back if the action is add_rules if action == 'add_rules' and interface_name: rule = ('POSTROUTING', '! -i %(interface_name)s ' '! -o %(interface_name)s -m conntrack ! ' '--ctstate DNAT -j ACCEPT' % {'interface_name': interface_name}) self.iptables_manager.ipv4['nat'].add_rule(*rule)",9,9
openstack%2Fsahara~master~I0313e9d7bead4a229f03cec6f603709502757394,openstack/sahara,master,I0313e9d7bead4a229f03cec6f603709502757394,Increase coverage report precision,MERGED,2015-08-10 15:47:59.000000000,2015-08-15 11:04:33.000000000,2015-08-15 11:04:32.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7125}, {'_account_id': 7710}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-08-10 15:47:59.000000000', 'files': ['.coveragerc'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a7f7c2cee14f0300d6c440b539a6c49b5b4567c7', 'message': 'Increase coverage report precision\n\nIt sets the number of digits after the decimal point to display for\nreported coverage percentages. The default is 0, displaying for\nexample ""87%"". A value of 3 will display percentages like ""87.325%"".\n\nChange-Id: I0313e9d7bead4a229f03cec6f603709502757394\n'}]",0,211237,a7f7c2cee14f0300d6c440b539a6c49b5b4567c7,13,9,1,6786,,,0,"Increase coverage report precision

It sets the number of digits after the decimal point to display for
reported coverage percentages. The default is 0, displaying for
example ""87%"". A value of 3 will display percentages like ""87.325%"".

Change-Id: I0313e9d7bead4a229f03cec6f603709502757394
",git fetch https://review.opendev.org/openstack/sahara refs/changes/37/211237/1 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,a7f7c2cee14f0300d6c440b539a6c49b5b4567c7,coverage-improvement,precision = 3,,1,0
openstack%2Fsahara~master~I2d311ad5e06e42784bc0843eb38a9154f41be754,openstack/sahara,master,I2d311ad5e06e42784bc0843eb38a9154f41be754,Adding job_binary_internal_update api call,MERGED,2015-08-03 14:18:25.000000000,2015-08-15 11:04:28.000000000,2015-08-15 11:04:24.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8091}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-08-03 14:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a2b07cf11b904bf2a0f3b88ca98924199c416550', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 2, 'created': '2015-08-04 11:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9c4c1c560831ea206f20c58d22f96fbd4f1fc923', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 3, 'created': '2015-08-05 10:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7e77296b02a46155dbb8cdf22134578ec43198c5', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 4, 'created': '2015-08-05 12:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3747423baab89c2d3a0330af7fee253e4d4c7430', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 5, 'created': '2015-08-05 12:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/18fa57bf5ddc29d6c5971aa05552ea03d1e60b36', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 6, 'created': '2015-08-10 08:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/51d4e5da219f6f2339f198888fddc8c3ff071142', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later.\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754\n'}, {'number': 7, 'created': '2015-08-10 11:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5ab8b53b712f954daeb09fc63a9e13a31094f2bc', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later.\n\nAPIImpact\n\nPATCH /v1.1/{tenant_id}/job-binary-internals/{job_binary_internal_id}\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754'}, {'number': 8, 'created': '2015-08-13 09:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5281173cabd2ddf1cdecb42be717ba1189ed293f', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later.\n\nAPIImpact\n\nPATCH /v1.1/{tenant_id}/job-binary-internals/{job_binary_internal_id}\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754'}, {'number': 9, 'created': '2015-08-14 13:13:37.000000000', 'files': ['sahara/api/v11.py', 'sahara/service/edp/api.py', 'sahara/tests/unit/service/validation/edp/test_job_binary_internal.py', 'sahara/db/sqlalchemy/api.py', 'sahara/db/api.py', 'etc/sahara/policy.json', 'sahara/conductor/api.py', 'sahara/tests/unit/conductor/manager/test_edp.py', 'sahara/conductor/manager.py', 'sahara/service/validations/edp/job_binary_internal_schema.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b236ce9d66f52e8a04600baaf34c66dfa76ee3fc', 'message': 'Adding job_binary_internal_update api call\n\nAdding ability to update job binary internals in order\nto change their public/protected attributes later.\n\nAPIImpact\n\nPATCH /v1.1/{tenant_id}/job-binary-internals/{job_binary_internal_id}\n\nPartially implements: blueprint api-for-objects-update\n\nChange-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754'}]",6,208496,b236ce9d66f52e8a04600baaf34c66dfa76ee3fc,36,11,9,12039,,,0,"Adding job_binary_internal_update api call

Adding ability to update job binary internals in order
to change their public/protected attributes later.

APIImpact

PATCH /v1.1/{tenant_id}/job-binary-internals/{job_binary_internal_id}

Partially implements: blueprint api-for-objects-update

Change-Id: I2d311ad5e06e42784bc0843eb38a9154f41be754",git fetch https://review.opendev.org/openstack/sahara refs/changes/96/208496/8 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/api/v11.py', 'sahara/service/edp/api.py', 'sahara/db/sqlalchemy/api.py', 'sahara/conductor/api.py', 'sahara/db/api.py', 'sahara/conductor/manager.py', 'sahara/service/validations/edp/job_binary_internal_schema.py']",7,a2b07cf11b904bf2a0f3b88ca98924199c416550,bp/api-for-objects-update,"# Copyright (c) 2015 Mirantis Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. JOB_BINARY_UPDATE_SCHEMA = { ""type"": ""object"", ""properties"": {}, ""additionalProperties"": False, ""required"": [] } ",,70,0
openstack%2Fsahara~master~Id95d982a911ab5d0f789265e03bff2256cf75856,openstack/sahara,master,Id95d982a911ab5d0f789265e03bff2256cf75856,Add CLUSTER_STATUS,MERGED,2015-07-09 07:15:46.000000000,2015-08-15 11:03:35.000000000,2015-08-15 11:03:30.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 9740}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-07-09 07:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/96f37664ea0724003e570ec57b9dbf4d2cc04a68', 'message': 'Add cluster module in utils\n\nIn cluster utils methods should be seperate from general module,\nand add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 2, 'created': '2015-07-09 07:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c923d79b5d8c344c21942d174a3a599b20cae62a', 'message': 'Add cluster module in utils\n\nCluster utils methods should be seperate from general module,\nand add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 3, 'created': '2015-07-09 07:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/90945900a304816abaa9b0a200b47e0b39b4c54a', 'message': 'Add cluster module in utils\n\nCluster utils methods should be seperate from general module,\nand add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 4, 'created': '2015-07-09 07:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b9b8742c231145705bd30c55aa1fb775900b6357', 'message': 'Add cluster module in utils\n\nSome methods in general module are actually doing cluster related staff.\nFor better code reading, add cluster utils module, also add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 5, 'created': '2015-07-09 07:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ab612fd16066477df43b5a630b5e5655d22caaac', 'message': 'Add cluster module in utils\n\nSome methods in general module are actually doing cluster related staff.\nFor better code reading, add cluster utils module to deal with cluster.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 6, 'created': '2015-07-09 07:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6ff487150f9f12241088c6888a4f969ac8ba718e', 'message': 'Add cluster module in utils\n\nSome methods in general module are actually doing cluster related staff.\nFor better code reading, add cluster utils module to deal with cluster.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 7, 'created': '2015-07-14 02:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e4314e0358a97cec8ed45df67d6d5ca7e47cf2e8', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 8, 'created': '2015-07-20 01:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b5bccf32f3d92363cec68052a5a4dd880c14ee59', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 9, 'created': '2015-07-21 02:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c75f823a0b4e6f3fb071d797ff78a20ebcf6c3a9', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 10, 'created': '2015-07-21 08:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/94a958fc575c699be9849b5002e28382ecf2bc97', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 11, 'created': '2015-07-23 02:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/93ce67b412b01342521f36d1f79e95b93def68af', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 12, 'created': '2015-07-24 01:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/02098e3623c5bbade231fe870277cc3faa93a7a9', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 13, 'created': '2015-07-24 05:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/82f972279d5810bbfddfc78af6fd317cb76cdec4', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 14, 'created': '2015-07-30 00:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/06ec6b8740a4f5df12a62744f4c52c6123d32371', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 15, 'created': '2015-07-30 01:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8aad78acf0c9f22bdaae9f90d5ddee7b7022eadd', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}, {'number': 16, 'created': '2015-08-03 01:14:39.000000000', 'files': ['sahara/tests/unit/service/test_volumes.py', 'sahara/service/ntp_service.py', 'sahara/tests/unit/service/test_engine.py', 'sahara/tests/unit/utils/test_cluster.py', 'sahara/service/edp/spark/engine.py', 'sahara/service/api.py', 'sahara/service/ops.py', 'sahara/service/validations/clusters_scaling.py', 'sahara/tests/unit/service/test_instances.py', 'sahara/service/heat/heat_engine.py', 'sahara/service/periodic.py', 'sahara/tests/unit/service/test_ops.py', 'sahara/utils/cluster.py', 'sahara/service/edp/job_manager.py', 'sahara/service/engine.py', 'sahara/service/direct_engine.py', 'sahara/tests/unit/utils/test_poll_utils.py', 'sahara/tests/unit/service/edp/spark/base.py', 'sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/service/edp/storm/engine.py', 'sahara/tests/unit/service/edp/storm/test_storm.py', 'sahara/tests/unit/utils/test_cluster_progress_ops.py', 'sahara/service/edp/hdfs_helper.py', 'sahara/utils/general.py', 'sahara/utils/cluster_progress_ops.py', 'sahara/tests/unit/utils/test_general.py', 'sahara/utils/poll_utils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e1f5bcf08c840a8c650a108dee82f7f44cdfd1ba', 'message': 'Add CLUSTER_STATUS\n\nWe should define a set of CLUSTER_STATUS in stead of using direct string\nin code.\n\n1. Add cluster.py in utils/\n2. Add cluster status.\n3. move cluster operation related methods from general.py to cluster.py\n\nChange-Id: Id95d982a911ab5d0f789265e03bff2256cf75856\n'}]",34,199916,e1f5bcf08c840a8c650a108dee82f7f44cdfd1ba,96,16,16,6116,,,0,"Add CLUSTER_STATUS

We should define a set of CLUSTER_STATUS in stead of using direct string
in code.

1. Add cluster.py in utils/
2. Add cluster status.
3. move cluster operation related methods from general.py to cluster.py

Change-Id: Id95d982a911ab5d0f789265e03bff2256cf75856
",git fetch https://review.opendev.org/openstack/sahara refs/changes/16/199916/16 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/service/test_ops.py', 'sahara/tests/unit/service/test_volumes.py', 'sahara/utils/cluster.py', 'sahara/tests/unit/service/test_engine.py', 'sahara/tests/unit/utils/test_cluster.py', 'sahara/service/engine.py', 'sahara/service/direct_engine.py', 'sahara/tests/unit/utils/test_poll_utils.py', 'sahara/service/edp/spark/engine.py', 'sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/service/edp/storm/engine.py', 'sahara/tests/unit/service/edp/storm/test_storm.py', 'sahara/tests/unit/utils/test_cluster_progress_ops.py', 'sahara/service/edp/hdfs_helper.py', 'sahara/utils/general.py', 'sahara/service/api.py', 'sahara/service/ops.py', 'sahara/utils/cluster_progress_ops.py', 'sahara/tests/unit/service/test_instances.py', 'sahara/tests/unit/utils/test_general.py', 'sahara/service/heat/heat_engine.py', 'sahara/tests/unit/service/edp/spark/test_spark.py', 'sahara/utils/poll_utils.py']",23,96f37664ea0724003e570ec57b9dbf4d2cc04a68,cluster_status,from sahara.utils import cluster as cluster_utils if not cluster_utils.check_cluster_exists(n_cluster):,from sahara.utils import general if not general.check_cluster_exists(n_cluster):,389,268
openstack%2Fneutron~master~I0a447fd5b176faf96fc0f5e164fa7a3b098ae74f,openstack/neutron,master,I0a447fd5b176faf96fc0f5e164fa7a3b098ae74f,Final decomposition of the ML2 NCS driver,MERGED,2015-08-12 15:50:39.000000000,2015-08-15 10:58:54.000000000,2015-08-15 10:58:50.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 7018}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 12749}, {'_account_id': 13426}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-08-12 15:50:39.000000000', 'files': ['neutron/plugins/ml2/drivers/cisco/ncs/__init__.py', 'setup.cfg', 'neutron/plugins/ml2/drivers/cisco/ncs/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26b226f43ed436b190ca6392d289df3b0e090b30', 'message': 'Final decomposition of the ML2 NCS driver\n\nCloses-Bug: #1484160\nRelated-Blueprint: core-vendor-decomposition\n\nDepends-On: I713f2378050f514a427fb9937b2a1fc5cc48bd6f\n\nChange-Id: I0a447fd5b176faf96fc0f5e164fa7a3b098ae74f\n'}]",2,212081,26b226f43ed436b190ca6392d289df3b0e090b30,30,23,1,6524,,,0,"Final decomposition of the ML2 NCS driver

Closes-Bug: #1484160
Related-Blueprint: core-vendor-decomposition

Depends-On: I713f2378050f514a427fb9937b2a1fc5cc48bd6f

Change-Id: I0a447fd5b176faf96fc0f5e164fa7a3b098ae74f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/212081/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/cisco/ncs/__init__.py', 'setup.cfg', 'neutron/plugins/ml2/drivers/cisco/ncs/driver.py']",3,26b226f43ed436b190ca6392d289df3b0e090b30,bug/1484160,,"# Copyright (c) 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" ML2 Mechanism Driver for Cisco NCS. """""" from networking_cisco.plugins.ml2.drivers.cisco.ncs import driver as cisco NCSMechanismDriver = cisco.NCSMechanismDriver ",0,26
openstack%2Fkolla~master~If2e420d561a50cd5e1c7ba5eaa81c96526f7a1ac,openstack/kolla,master,If2e420d561a50cd5e1c7ba5eaa81c96526f7a1ac,Port openvswitch to docker_templates,MERGED,2015-08-14 17:43:04.000000000,2015-08-15 10:44:48.000000000,2015-08-15 10:44:43.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10068}, {'_account_id': 10428}]","[{'number': 1, 'created': '2015-08-14 17:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa53af2728d50aacca2e44a1cdfe6e39a644b184', 'message': 'Port openvswitch to docker_templates\n\nThis makes openvswitch build with build.py --templates.  The three\ncontainers built by this work are ovs-base, ovs-db-server, and\novs-vswitchd.\n\nPartially Implements: blueprint dockerfile-template\n\nChange-Id: If2e420d561a50cd5e1c7ba5eaa81c96526f7a1ac\n'}, {'number': 2, 'created': '2015-08-14 17:45:23.000000000', 'files': ['docker_templates/openvswitch/ovs-vswitchd/start.sh', 'docker_templates/openvswitch/ovs-db-server/config-external.sh', 'docker_templates/openvswitch/ovs-base/Dockerfile.j2', 'docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-db-server/start.sh', 'docker_templates/openvswitch/ovs-vswitchd/config-external.sh', 'docker_templates/openvswitch/ovs-vswitchd/ovs_ensure_configured.sh', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/615b7a27f53cb44e7089b286a9dc823c4b20d78f', 'message': 'Port openvswitch to docker_templates\n\nThis makes openvswitch build with build.py --templates.  The three\ncontainers built by this work are ovs-base, ovs-db-server, and\novs-vswitchd.\n\nPartially Implements: blueprint dockerfile-template\n\nChange-Id: If2e420d561a50cd5e1c7ba5eaa81c96526f7a1ac\n'}]",0,213267,615b7a27f53cb44e7089b286a9dc823c4b20d78f,9,4,2,720,,,0,"Port openvswitch to docker_templates

This makes openvswitch build with build.py --templates.  The three
containers built by this work are ovs-base, ovs-db-server, and
ovs-vswitchd.

Partially Implements: blueprint dockerfile-template

Change-Id: If2e420d561a50cd5e1c7ba5eaa81c96526f7a1ac
",git fetch https://review.opendev.org/openstack/kolla refs/changes/67/213267/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/openvswitch/ovs-vswitchd/start.sh', 'docker_templates/openvswitch/ovs-db-server/config-external.sh', 'docker_templates/openvswitch/ovs-base/Dockerfile.j2', 'docker_templates/openvswitch/ovs-db-server/Dockerfile.j2', 'docker_templates/openvswitch/ovs-db-server/start.sh', 'docker_templates/openvswitch/ovs-vswitchd/config-external.sh', 'docker_templates/openvswitch/ovs-vswitchd/ovs_ensure_configured.sh', 'docker_templates/openvswitch/ovs-vswitchd/Dockerfile.j2']",8,fa53af2728d50aacca2e44a1cdfe6e39a644b184,bp/dockerfile-template,"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }} MAINTAINER Kolla Project (https://launchpad.net/kolla) # TODO (rbergero): When ovs support is added for ubuntu/debian, this # conditional should be removed. {% if base_distro in ['ubuntu', 'debian'] %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% endif %} COPY start.sh / COPY ovs_ensure_configured.sh config-external.sh /opt/kolla/ CMD [""/start.sh""] ",,53,0
openstack%2Fopenstack-ansible~juno~I7365d972dc7e41a46b340396a73518b1da918f05,openstack/openstack-ansible,juno,I7365d972dc7e41a46b340396a73518b1da918f05,Add resume_guests_state_on_host_boot to nova.conf,MERGED,2015-08-11 20:18:51.000000000,2015-08-15 08:47:54.000000000,2015-08-15 08:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 6714}, {'_account_id': 6816}, {'_account_id': 7217}]","[{'number': 1, 'created': '2015-08-11 20:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de12a6f6a7410034f3b91334730e4bce4c061607', 'message': 'Add resume_guests_state_on_host_boot to nova.conf\n\nAdd the ability to enable the resume_guests_state_on_host_boot flag in\nnova.conf to start guests that were running before the host rebooted.\n\nConflicts:\n\tplaybooks/roles/os_nova/defaults/main.yml\n\tplaybooks/roles/os_nova/templates/nova.conf.j2\n\nChange-Id: I7365d972dc7e41a46b340396a73518b1da918f05\nCloses-Bug: 1483246\n(cherry picked from commit 203e6dfb4266387a09e4f1eb5eabe5f8d58e8683)\n'}, {'number': 2, 'created': '2015-08-13 18:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/99ac69579eccfb19636e3ff42233494e201396a0', 'message': 'Add resume_guests_state_on_host_boot to nova.conf\n\nAdd the ability to enable the resume_guests_state_on_host_boot flag in\nnova.conf to start guests that were running before the host rebooted.\n\nConflicts:\n\tplaybooks/roles/os_nova/defaults/main.yml\n\tplaybooks/roles/os_nova/templates/nova.conf.j2\n\nChange-Id: I7365d972dc7e41a46b340396a73518b1da918f05\nCloses-Bug: 1483246\n(cherry picked from commit 203e6dfb4266387a09e4f1eb5eabe5f8d58e8683)\n'}, {'number': 3, 'created': '2015-08-14 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca8d252ec4579001ee0e210e88c75751637a2520', 'message': 'Add resume_guests_state_on_host_boot to nova.conf\n\nAdd the ability to enable the resume_guests_state_on_host_boot flag in\nnova.conf to start guests that were running before the host rebooted.\n\nConflicts:\n\tplaybooks/roles/os_nova/defaults/main.yml\n\tplaybooks/roles/os_nova/templates/nova.conf.j2\n\nChange-Id: I7365d972dc7e41a46b340396a73518b1da918f05\nCloses-Bug: 1483246\n(cherry picked from commit 203e6dfb4266387a09e4f1eb5eabe5f8d58e8683)\n'}, {'number': 4, 'created': '2015-08-14 23:43:02.000000000', 'files': ['rpc_deployment/roles/nova_common/templates/nova.conf', 'rpc_deployment/inventory/group_vars/nova_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54bc0c184331266e828f188c736fc380c58a5da7', 'message': 'Add resume_guests_state_on_host_boot to nova.conf\n\nAdd the ability to enable the resume_guests_state_on_host_boot flag in\nnova.conf to start guests that were running before the host rebooted.\n\nConflicts:\n\tplaybooks/roles/os_nova/defaults/main.yml\n\tplaybooks/roles/os_nova/templates/nova.conf.j2\n\nChange-Id: I7365d972dc7e41a46b340396a73518b1da918f05\nCloses-Bug: 1483246\n(cherry picked from commit 203e6dfb4266387a09e4f1eb5eabe5f8d58e8683)\n'}]",0,211737,54bc0c184331266e828f188c736fc380c58a5da7,25,4,4,6714,,,0,"Add resume_guests_state_on_host_boot to nova.conf

Add the ability to enable the resume_guests_state_on_host_boot flag in
nova.conf to start guests that were running before the host rebooted.

Conflicts:
	playbooks/roles/os_nova/defaults/main.yml
	playbooks/roles/os_nova/templates/nova.conf.j2

Change-Id: I7365d972dc7e41a46b340396a73518b1da918f05
Closes-Bug: 1483246
(cherry picked from commit 203e6dfb4266387a09e4f1eb5eabe5f8d58e8683)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/211737/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/nova_common/templates/nova.conf', 'rpc_deployment/inventory/group_vars/nova_all.yml']",2,de12a6f6a7410034f3b91334730e4bce4c061607,bug/1483246,nova_resume_guests_state_on_host_boot: False,,2,0
openstack%2Fcinder~master~I53705e1994dcac3ae381dbb12a28b2eda1097089,openstack/cinder,master,I53705e1994dcac3ae381dbb12a28b2eda1097089,Fix RestURL to storage backend in Huawei driver,MERGED,2015-08-06 06:49:21.000000000,2015-08-15 08:47:34.000000000,2015-08-13 16:13:54.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8202}, {'_account_id': 8911}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13628}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16883}, {'_account_id': 16897}, {'_account_id': 16917}, {'_account_id': 17151}]","[{'number': 1, 'created': '2015-08-06 06:49:21.000000000', 'files': ['cinder/volume/drivers/huawei/rest_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9747f62b05cd81c09c732f85f20fe0da6820d3a', 'message': 'Fix RestURL to storage backend in Huawei driver\n\nOne RestURL ""/mappingview/associate/portgroup"" is not standard\nalthough it can work most time. This should be changed to\n""/portgroup/associate"".\n\nChange-Id: I53705e1994dcac3ae381dbb12a28b2eda1097089\nClosed-Bug: #1482076\n'}]",2,209782,b9747f62b05cd81c09c732f85f20fe0da6820d3a,36,29,1,13203,,,0,"Fix RestURL to storage backend in Huawei driver

One RestURL ""/mappingview/associate/portgroup"" is not standard
although it can work most time. This should be changed to
""/portgroup/associate"".

Change-Id: I53705e1994dcac3ae381dbb12a28b2eda1097089
Closed-Bug: #1482076
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/209782/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/rest_client.py'],1,b9747f62b05cd81c09c732f85f20fe0da6820d3a,bug/1482076," """"""Check whether the port group is associated to the mapping view."""""" url_subfix = (""/portgroup/associate?ASSOCIATEOBJTYPE=245&"" ""ASSOCIATEOBJID=%s&range=[0-8191]"" % view_id)"," """"""Check whether the portgroup is associated to the mapping view."""""" url_subfix = (""/mappingview/associate/portgroup?TYPE=257&"" ""ASSOCIATEOBJTYPE=245&ASSOCIATEOBJID=%s"" % view_id)",3,3
openstack%2Fopenstack-ansible~master~Iabe72003ebcfefe11d360131fdde64ca4b21a192,openstack/openstack-ansible,master,Iabe72003ebcfefe11d360131fdde64ca4b21a192,Set lxc.autodev=0 for cinder_volumes in containers,MERGED,2015-08-11 11:00:33.000000000,2015-08-15 08:30:03.000000000,2015-08-15 08:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 9515}]","[{'number': 1, 'created': '2015-08-11 11:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7f4385d6da0b9622bd388e26450bee9b3d71cdf', 'message': 'Set lxc.autodev=0 for cinder_volumes in containers\n\nWith cinder_volumes we were creating a specific udev device, this will\nfail to mount if lxc.autodev=1.\n\nWe can specify lxc.autodev=0 for cinder_volumes containers.\nAdditionally this will fix the formatting on the ""udev"" lxc.mount.entry\nas it was adding additional spaces.\n\nChange-Id: Iabe72003ebcfefe11d360131fdde64ca4b21a192\nCloses-Bug: #1483650\n'}, {'number': 2, 'created': '2015-08-11 12:56:21.000000000', 'files': ['playbooks/roles/os_cinder/tasks/main.yml', 'playbooks/inventory/group_vars/hosts.yml', 'playbooks/os-cinder-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e85592d54cacd521efb30ac373693bb1e9425c1b', 'message': 'Set lxc.autodev=0 for cinder_volumes in containers\n\nWith cinder_volumes we were creating a specific udev device, this will\nfail to mount if lxc.autodev=1. This should only be required when lvm is\na backend for the cinder_volumes container.\n\nWe can specify lxc.autodev=0 for cinder_volumes containers. To do this\nproperly we first check if lvm is in use. We can also use this to ensure\nthat redundant ""lvm"" configuration isn\'t setup on volumes hosts with no\nlvm backend.\n\nAdditionally this will fix the formatting on the ""udev"" lxc.mount.entry\nas it was adding additional spaces.\n\nChange-Id: Iabe72003ebcfefe11d360131fdde64ca4b21a192\nCloses-Bug: #1483650\n'}]",0,211502,e85592d54cacd521efb30ac373693bb1e9425c1b,9,4,2,2799,,,0,"Set lxc.autodev=0 for cinder_volumes in containers

With cinder_volumes we were creating a specific udev device, this will
fail to mount if lxc.autodev=1. This should only be required when lvm is
a backend for the cinder_volumes container.

We can specify lxc.autodev=0 for cinder_volumes containers. To do this
properly we first check if lvm is in use. We can also use this to ensure
that redundant ""lvm"" configuration isn't setup on volumes hosts with no
lvm backend.

Additionally this will fix the formatting on the ""udev"" lxc.mount.entry
as it was adding additional spaces.

Change-Id: Iabe72003ebcfefe11d360131fdde64ca4b21a192
Closes-Bug: #1483650
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/211502/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-cinder-install.yml'],1,e7f4385d6da0b9622bd388e26450bee9b3d71cdf,bug/1483650," - ""lxc.autodev=0"" - ""lxc.mount.entry=udev dev devtmpfs defaults 0 0"""," - ""lxc.mount.entry = udev dev devtmpfs defaults 0 0""",2,1
openstack%2Ftrove-integration~master~I31ce3a330d14cb9aeae02df8751ff668e0f2c83b,openstack/trove-integration,master,I31ce3a330d14cb9aeae02df8751ff668e0f2c83b,"Set ""default"" if BRANCH_OVERRIDE is not defined.",MERGED,2015-08-14 00:51:17.000000000,2015-08-15 08:29:47.000000000,2015-08-15 08:29:45.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 10215}, {'_account_id': 12758}]","[{'number': 1, 'created': '2015-08-14 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/c6a05927e91c75ee090733ce06a72bf6b7674192', 'message': 'Set ""default"" if BRANCH_OVERRIDE is not defined.\n\nThis change makes elements set ""default"" to BRANCH_OVERRIDE\nif it\'s not defined. The change helps users building guest\nimage manually.\n\nChange-Id: I31ce3a330d14cb9aeae02df8751ff668e0f2c83b\nCloses-Bug: #1484744\n'}, {'number': 2, 'created': '2015-08-14 00:52:24.000000000', 'files': ['scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/6f79e31f6ebfc750d946b7daa564cc63eca0b84d', 'message': 'Set ""default"" if BRANCH_OVERRIDE is not defined.\n\nThis change makes elements set ""default"" to BRANCH_OVERRIDE\nif it\'s not defined. The change helps users building guest\nimage manually.\n\nCloses-Bug: #1484744\nChange-Id: I31ce3a330d14cb9aeae02df8751ff668e0f2c83b\n'}]",0,212869,6f79e31f6ebfc750d946b7daa564cc63eca0b84d,13,5,2,12758,,,0,"Set ""default"" if BRANCH_OVERRIDE is not defined.

This change makes elements set ""default"" to BRANCH_OVERRIDE
if it's not defined. The change helps users building guest
image manually.

Closes-Bug: #1484744
Change-Id: I31ce3a330d14cb9aeae02df8751ff668e0f2c83b
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/69/212869/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep']",2,c6a05927e91c75ee090733ce06a72bf6b7674192,branch_override,BRANCH_OVERRIDE=${BRANCH_OVERRIDE:-default},,2,0
openstack%2Fcinder~master~I3649ef1d7c8a18f9d6ed0543d463354273d5f62a,openstack/cinder,master,I3649ef1d7c8a18f9d6ed0543d463354273d5f62a,Attach snapshot - driver only,MERGED,2015-07-13 16:46:42.000000000,2015-08-15 08:21:23.000000000,2015-08-13 16:06:10.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10327}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10628}, {'_account_id': 10674}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14863}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15831}, {'_account_id': 15882}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16883}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17492}]","[{'number': 1, 'created': '2015-07-13 16:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6ceaf52c534299f00339d6273be6f98119496c3', 'message': 'WIP: Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nIt leverages the existing attach volume functionality.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\n\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 2, 'created': '2015-07-13 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60daff24a7fcfa9f366f0562d85e5360b1149337', 'message': 'WIP: Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nIt leverages the existing attach volume functionality.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\n\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 3, 'created': '2015-07-22 21:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7943d88c4cc91a927f0e66a3bf5ca400524e54c', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 4, 'created': '2015-07-23 20:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7aa63c041a213a130ca07c323e7b25a50ab3263', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 5, 'created': '2015-07-24 02:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f142afc040afd21fed2703223900a95fae23bebb', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 6, 'created': '2015-08-05 22:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5d440a47ddfc78b4577f5f3dd2dcdbca25e7a86', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 7, 'created': '2015-08-05 23:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a19ea50000853885142d0ba7ad30fda7f5491e7', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 8, 'created': '2015-08-06 06:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83852fa4f8e5413d5666e8232c80ef689ff49d39', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 9, 'created': '2015-08-08 02:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/272dd29b7e0dde11ff84d763096f01aa437ceabf', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 10, 'created': '2015-08-09 17:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4f26354bce359adc3964445c4ed41e9b3bfd55c', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 11, 'created': '2015-08-09 18:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73a30176d13018063a02ead09f1873e3462d9bb8', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}, {'number': 12, 'created': '2015-08-11 22:10:39.000000000', 'files': ['cinder/volume/driver.py', 'cinder/tests/unit/fake_driver.py', 'cinder/tests/unit/utils.py', 'cinder/db/sqlalchemy/migrate_repo/versions/052_add_provider_auth_column_to_snapshots.py', 'cinder/tests/unit/test_volume.py', 'cinder/tests/unit/test_migrations.py', 'cinder/objects/snapshot.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2143b39da53d3c1cd48e85ab73ca0ecfd0410107', 'message': 'Attach snapshot - driver only\n\nThis patch is a continuation of adding support for\nnon-disruptive backup. It provides a more efficient way\nto backup an attached volume by creating a temp snapshot.\nSince this is used internally for backup, the attach\nsnapshot interface is added in the driver only. For\ndrivers not implementing the attach snapshot interface,\nbackup will still be done using a volume.\n\nPartial-implements blueprint non-disruptive-backup\nChange-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a\n'}]",16,201249,2143b39da53d3c1cd48e85ab73ca0ecfd0410107,261,57,12,6491,,,0,"Attach snapshot - driver only

This patch is a continuation of adding support for
non-disruptive backup. It provides a more efficient way
to backup an attached volume by creating a temp snapshot.
Since this is used internally for backup, the attach
snapshot interface is added in the driver only. For
drivers not implementing the attach snapshot interface,
backup will still be done using a volume.

Partial-implements blueprint non-disruptive-backup
Change-Id: I3649ef1d7c8a18f9d6ed0543d463354273d5f62a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/201249/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/db/sqlalchemy/migrate_repo/versions/050_add_provider_auth_column_to_snapshots.py', 'cinder/db/sqlalchemy/models.py', 'cinder/objects/snapshot.py']",4,f6ceaf52c534299f00339d6273be6f98119496c3,bp/non-disruptive-backup," 'provider_auth': fields.StringField(nullable=True),",,157,15
openstack%2Fopenstack-manuals~master~Idd5d8aaa848374bf664408f0317bc12660ed1019,openstack/openstack-manuals,master,Idd5d8aaa848374bf664408f0317bc12660ed1019,"Adjusted content to consistently use ""Load-Balancer-as-a-Service"".",MERGED,2015-08-15 00:15:49.000000000,2015-08-15 07:34:14.000000000,2015-08-15 07:34:13.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 8804}]","[{'number': 1, 'created': '2015-08-15 00:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/55c38748a8b9ade32e7e0d17e62a0d6d372ed7c1', 'message': 'Adjusted content to consistently use ""Load-Balancer-as-a-Service"".\n\nChange-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019\nCloses-Bug: #1476330\n'}, {'number': 2, 'created': '2015-08-15 00:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c0f37010db3c784524946a4890ff0755f5175fdb', 'message': 'Adjusted content to consistently use ""Load-Balancer-as-a-Service"".\n\nFixed formatting to consistently use ""Load-Balancer-as-a-Service"" vs other variations with and without -\'s.\n\nChange-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019\nCloses-Bug: #1476330\n'}, {'number': 3, 'created': '2015-08-15 03:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ec81f0f4278a9fa0532b50a8a4ef7f02bcacd84e', 'message': 'Adjusted content to consistently use ""Load-Balancer-as-a-Service"".\n\nFixed formatting to consistently use ""Load-Balancer-as-a-Service"" vs other variations with and without -\'s.\nFixed broken links to OpenDaylight\n\nChange-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019\nCloses-Bug: #1476330\n'}, {'number': 4, 'created': '2015-08-15 03:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4c9c819c51d6bdd133acea16d8aea1ea3720183d', 'message': 'Adjusted content to consistently use ""Load-Balancer-as-a-Service"".\n\nFixed formatting to consistently use ""Load-Balancer-as-a-Service"" vs other variations with and without -\'s.\nFixed broken links to OpenDaylight\n\nChange-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019\nCloses-Bug: #1476330\n'}, {'number': 5, 'created': '2015-08-15 04:40:46.000000000', 'files': ['doc/admin-guide-cloud/telemetry/section_telemetry-system-architecture.xml', 'doc/admin-guide-cloud/telemetry/section_telemetry-measurements.xml', 'doc/admin-guide-cloud/telemetry/tables/ceilometer-measurements-lbaas.xml', 'doc/admin-guide-cloud-rst/source/telemetry-system-architecture.rst', 'doc/admin-guide-cloud-rst/source/networking_multi-dhcp-agents.rst', 'doc/admin-guide-cloud-rst/source/telemetry-measurements.rst', 'doc/admin-guide-cloud/networking/section_networking-multi-dhcp-agents.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e4620282c916f412d4d645fd1fd6534e9386d2d3', 'message': 'Adjusted content to consistently use ""Load-Balancer-as-a-Service"".\n\nFixed formatting to consistently use ""Load-Balancer-as-a-Service""\nvs other variations with and without -\'s. Fixed broken links to\nOpenDaylight.\n\nChange-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019\nCloses-Bug: #1476330\n'}]",0,213386,e4620282c916f412d4d645fd1fd6534e9386d2d3,19,4,5,8804,,,0,"Adjusted content to consistently use ""Load-Balancer-as-a-Service"".

Fixed formatting to consistently use ""Load-Balancer-as-a-Service""
vs other variations with and without -'s. Fixed broken links to
OpenDaylight.

Change-Id: Idd5d8aaa848374bf664408f0317bc12660ed1019
Closes-Bug: #1476330
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/213386/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide-cloud/telemetry/section_telemetry-system-architecture.xml', 'doc/admin-guide-cloud/telemetry/section_telemetry-measurements.xml', 'doc/admin-guide-cloud/telemetry/tables/ceilometer-measurements-lbaas.xml', 'doc/admin-guide-cloud-rst/source/telemetry-system-architecture.rst', 'doc/admin-guide-cloud-rst/source/networking_multi-dhcp-agents.rst', 'doc/admin-guide-cloud-rst/source/telemetry-measurements.rst', 'doc/admin-guide-cloud/networking/section_networking-multi-dhcp-agents.xml']",7,55c38748a8b9ade32e7e0d17e62a0d6d372ed7c1,bug/1476330,| lbaas | Load Balancing service |,| lbaas | LoadBalancing service |,7,7
openstack%2Fopenstack-manuals~master~I0f4459a75c8bfe5c9622b1cb64807330365276ad,openstack/openstack-manuals,master,I0f4459a75c8bfe5c9622b1cb64807330365276ad,Imported Translations from Transifex,MERGED,2015-08-15 06:18:41.000000000,2015-08-15 07:30:43.000000000,2015-08-15 07:30:42.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-08-15 06:18:41.000000000', 'files': ['doc/common-rst/source/locale/ja/LC_MESSAGES/common-rst.po', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/networking-guide/source/locale/networking-guide.pot', 'doc/common-rst/source/locale/common-rst.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/75141ec901d20e7424319fb673f617e5d70cb8af', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I0f4459a75c8bfe5c9622b1cb64807330365276ad\n'}]",0,213424,75141ec901d20e7424319fb673f617e5d70cb8af,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I0f4459a75c8bfe5c9622b1cb64807330365276ad
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/24/213424/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common-rst/source/locale/ja/LC_MESSAGES/common-rst.po', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/networking-guide/source/locale/networking-guide.pot', 'doc/common-rst/source/locale/common-rst.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/zh_CN.po']",7,75141ec901d20e7424319fb673f617e5d70cb8af,transifex/translations,"""POT-Creation-Date: 2015-08-14 19:13+0000\n"" ""PO-Revision-Date: 2015-08-14 13:18+0000\n""","""POT-Creation-Date: 2015-08-08 12:44+0000\n"" ""PO-Revision-Date: 2015-08-09 05:12+0000\n""""@@image: 'figures/SCH_5002_V00_NUAC-Keystone.png'; "" ""md5=bfa6cd8fd74466fad390264690bd8923"" msgstr """" ""@@image: 'figures/SCH_5002_V00_NUAC-Keystone.png'; "" ""md5=bfa6cd8fd74466fad390264690bd8923"" #. When image changes, this message will be marked fuzzy or untranslated for #. you. #. It doesn't matter what you translate it to: it's not used at all. msgid """"",1011,1868
openstack%2Fopenstack-ansible~master~Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38,openstack/openstack-ansible,master,Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38,"Invalid link ""deployment-os.html"" in  Install Guide",MERGED,2015-08-10 14:18:09.000000000,2015-08-15 07:22:15.000000000,2015-08-15 07:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 9515}, {'_account_id': 12807}, {'_account_id': 16237}]","[{'number': 1, 'created': '2015-08-10 14:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3958cb4cb84f453f242397554abcff7336ab4382', 'message': 'Fix Invalid link ""deployment-os.html"" in  Install Guide\n\n  <deploymentos.html>   ->   deploymenthostos.html\n\nChange-Id: Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38\n'}, {'number': 2, 'created': '2015-08-11 23:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd43d6b0827b392eecf5da0ec1409a44622d4d95', 'message': 'Invalid link ""deployment-os.html"" in  Install Guide\n\n  FIX Invalid Link in Install Guide\n  /doc/source/install-guide/navigation.txt Line 18\n   <deploymentos.html> -> deploymenthostos.html\n\nChange-Id: Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38\n'}, {'number': 3, 'created': '2015-08-11 23:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/848e4c2a868d29804b387a50b890b0a970512319', 'message': 'Invalid link ""deployment-os.html"" in  Install Guide\n\n  FIX Invalid Link in Install Guide\n  /doc/source/install-guide/navigation.txt Line 18\n   <deploymentos.html> -> deploymenthostos.html\n\nChange-Id: Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38\nCloses-Bug: #1483271\n'}, {'number': 4, 'created': '2015-08-13 12:10:47.000000000', 'files': ['doc/source/install-guide/navigation.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b3372691937cb039b2c27ef9b9632d0b60e6fa03', 'message': 'Invalid link ""deployment-os.html"" in  Install Guide\n\n  FIX Invalid Link in Install Guide\n  /doc/source/install-guide/navigation.txt Line 18\n   <deploymentos.html> -> deploymenthostos.html\n\nChange-Id: Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38\nCloses-Bug: #1483271\n'}]",0,211186,b3372691937cb039b2c27ef9b9632d0b60e6fa03,18,6,4,17240,,,0,"Invalid link ""deployment-os.html"" in  Install Guide

  FIX Invalid Link in Install Guide
  /doc/source/install-guide/navigation.txt Line 18
   <deploymentos.html> -> deploymenthostos.html

Change-Id: Ibe22ad32a9c9ce90a8aa7003bb04f6bb45fe9b38
Closes-Bug: #1483271
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/211186/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install-guide/navigation.txt'],1,3958cb4cb84f453f242397554abcff7336ab4382,bug/1483271, - `Installing the operating system <deploymenthost-os.html>`__, - `Installing the operating system <deployment-os.html>`__,1,1
openstack%2Fha-guide~master~Icba0e85583a64d2ed27f7119dc0430ccf1d70ee4,openstack/ha-guide,master,Icba0e85583a64d2ed27f7119dc0430ccf1d70ee4,fixed spelling error in storage-ha-backend,MERGED,2015-08-14 23:32:44.000000000,2015-08-15 07:12:40.000000000,2015-08-15 07:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-14 23:32:44.000000000', 'files': ['doc/ha-guide/source/storage-ha-backend.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/60115317f8022466df7773249bae0ba1fc8ee505', 'message': 'fixed spelling error in storage-ha-backend\n\ninately should be innately\n\nChange-Id: Icba0e85583a64d2ed27f7119dc0430ccf1d70ee4\n'}]",0,213375,60115317f8022466df7773249bae0ba1fc8ee505,7,3,1,9382,,,0,"fixed spelling error in storage-ha-backend

inately should be innately

Change-Id: Icba0e85583a64d2ed27f7119dc0430ccf1d70ee4
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/75/213375/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ha-guide/source/storage-ha-backend.rst'],1,60115317f8022466df7773249bae0ba1fc8ee505,st,is an innately high availability storage back end.,is an inately high availability storage back end.,1,1
openstack%2Foperations-guide~master~Iec33751e68701e36c42138d23879d7f5436bbec2,openstack/operations-guide,master,Iec33751e68701e36c42138d23879d7f5436bbec2,Imported Translations from Transifex,MERGED,2015-08-15 06:01:15.000000000,2015-08-15 07:12:15.000000000,2015-08-15 07:12:14.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-08-15 06:01:15.000000000', 'files': ['doc/openstack-ops/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/ec827df2aef5cfc0f1e3c3993b8ad68ea65e6f21', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Iec33751e68701e36c42138d23879d7f5436bbec2\n'}]",0,213421,ec827df2aef5cfc0f1e3c3993b8ad68ea65e6f21,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Iec33751e68701e36c42138d23879d7f5436bbec2
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/21/213421/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/ja.po'],1,ec827df2aef5cfc0f1e3c3993b8ad68ea65e6f21,transifex/translations,"""POT-Creation-Date: 2015-08-14 07:16+0000\n"" ""PO-Revision-Date: 2015-08-15 01:09+0000\n""msgid """" ""A user might need a custom flavor that is uniquely tuned for a project she "" ""is working on. For example, the user might require 128 GB of memory. If you "" ""create a new flavor as described above, the user would have access to the "" ""custom flavor, but so would all other tenants in your cloud. Sometimes this "" ""sharing isn't desirable. In this scenario, allowing all users to have access "" ""to a flavor with 128 GB of memory might cause your cloud to reach full "" ""capacity very quickly. To prevent this, you can restrict access to the "" ""custom flavor using the <literal>nova</literal> command:"" msgstr """" """" "" 128 GB "" """" """" """" "" 128 GB "" """" ""<literal>nova</literal> "" """" msgid """" ""Boolean value that indicates whether the flavor is available to all users or "" ""private. Private flavors do not get the current tenant assigned to them. "" ""Defaults to <literal>True</literal>."" msgstr """" """" """" "" <literal>True</literal> "" msgid """" ""Flavors define a number of parameters, resulting in the user having a choice "" ""of what type of virtual machine to runjust like they would have if they "" ""were purchasing a physical server. <xref linkend=\""table-flavor-params\""/> "" ""lists the elements that can be set. Note in particular <phrase role=\""keep-"" ""together\""><literal>extra_specs</literal>,</phrase> which can be used to "" ""define free-form characteristics, giving a lot of flexibility beyond just "" ""the size of RAM, CPU, and Disk.<indexterm class=\""singular\""><primary>base "" ""image</primary></indexterm>"" msgstr """" """" """" ""<xref linkend=\""table-flavor-params\""/> "" "" <phrase role=\""keep-together"" ""\""><literal>extra_specs</literal>,</phrase> "" ""CPU"" ""<indexterm class=\""singular\""><primary>base image</primary></"" ""indexterm>"" msgid ""For example, to place a 5 GB quota on an account:"" msgstr "" 5 GB "" ""If your environment is using Neutron, you can configure security groups "" ""settings using the <literal>neutron</literal> command. Get a list of "" ""security groups for the project you are acting in, by using following "" ""command:"" msgstr """" "" Neutron <literal>neutron</literal> "" """" """" msgid """"""In the very common case where the underlying snapshot is done via LVM, the "" ""filesystem freeze is automatically handled by LVM."" msgstr """" "" LVM "" ""LVM "" msgid """"""It's also helpful to allocate a specific numeric range for custom and "" ""private flavors. On UNIX-based systems, nonsystem accounts usually have a "" ""UID starting at 500. A similar approach can be taken with custom flavors. "" ""This helps you easily identify which flavors are custom, private, and public "" ""for the entire cloud."" msgstr """" """" ""UNIX  500 "" """" """" """" msgid """"msgid """" ""Once access to a flavor has been restricted, no other projects besides the "" ""ones granted explicit access will be able to see the flavor. This includes "" ""the admin project. Make sure to add the admin project in addition to the "" ""original project."" msgstr """" """" "" admin "" "" admin "" """" msgid """" ""The OpenStack snapshot mechanism allows you to create new images from "" ""running instances. This is very convenient for upgrading base images or for "" ""taking a published image and customizing it for local use. To snapshot a "" ""running instance to an image using the CLI, do this:<indexterm class="" ""\""singular\""><primary>base image</primary></indexterm><indexterm class="" ""\""singular\""><primary>snapshot</primary></indexterm><indexterm class="" ""\""singular\""><primary>user training</primary><secondary>snapshots</"" ""secondary></indexterm>"" msgstr """" ""OpenStack "" """" "" "" ""CLI "" ""The code is structured like this: <code>nova secgroup-add-group-rule &lt;"" ""secgroup&gt; &lt;source-group&gt; &lt;ip-proto&gt; &lt;from-port&gt; &lt;to-"" ""port&gt;</code>. An example usage is shown here:"" msgstr """" ""<code>nova secgroup-add-group-rule &lt;"" ""secgroup&gt; &lt;source-group&gt; &lt;ip-proto&gt; &lt;from-port&gt; &lt;to-"" ""port&gt;</code>"" msgid """"""The maximum port number in the range that is matched by the security group "" ""rule. The <literal>port_range_min</literal> attribute constrains the "" ""<literal>port_range_max</literal> attribute. If the protocol is ICMP, this "" ""value must be an ICMP code."" msgstr """" """" ""<literal>port_range_min</literal>  <literal>port_range_max</literal> "" "" ICMP  ICMP "" """" msgid """" ""The minimum port number in the range that is matched by the security group "" ""rule. If the protocol is TCP or UDP, this value must be less than or equal "" ""to the <literal>port_range_max</literal> attribute value. If the protocol is "" ""ICMP, this value must be an ICMP type."" msgstr """" "" "" ""TCP  UDP  <literal>port_range_max</literal> "" "" ICMP  ICMP "" """" msgid """"msgid """" ""The only thing that the Image service does not store in a database is the "" ""image itself. The Image service database has two main tables:<indexterm "" ""class=\""singular\""><primary>databases</primary><secondary>Image service</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>Image service</"" ""primary><secondary>database tables</secondary></indexterm>"" msgstr """" ""Image service "" ""Image service  2 <indexterm "" ""class=\""singular\""><primary>databases</primary><secondary>Image service</"" ""secondary></indexterm><indexterm class=\""singular\""><primary>Image service</"" ""primary><secondary>database tables</secondary></indexterm>"" ""These are configurable by admin users (the rights may also be delegated to "" ""other users by redefining the access controls for <code>compute_extension:"" ""flavormanage</code> in <code>/etc/nova/policy.json</code> on the <code>nova-"" ""api</code> server). To get the list of available flavors on your system, run:"" ""<indexterm class=\""singular\""><primary>DAC (discretionary access control)</"" ""primary></indexterm><indexterm class=\""singular\""><primary>flavor</primary></"" ""indexterm><indexterm class=\""singular\""><primary>user training</"" ""primary><secondary>flavors</secondary></indexterm>"" msgstr """" ""<code>nova-api</code> "" "" <code>/etc/nova/policy.json</code>  <code>compute_extension:"" ""flavormanage</code> "" """" ""<indexterm class=\""singular\""><primary>DAC "" ""(discretionary access control)</primary></indexterm><indexterm class="" ""\""singular\""><primary>flavor</primary></indexterm><indexterm class=\""singular"" ""\""><primary>user training</primary><secondary>flavors</secondary></indexterm>"" msgid """"""These rules are all \""allow\"" type rules, as the default is deny. This "" ""example shows the full port range for all protocols allowed from all IPs. "" ""This section describes the most common security-group-rule parameters:"" msgstr """" """" "" IP "" "" security-group-rule "" """" msgid """"""This section was intended as a brief introduction to some of the most useful "" ""of many OpenStack commands. For an exhaustive list, please refer to the "" ""<link xlink:href=\""http://docs.openstack.org/user-guide-admin/\"">Admin User "" ""Guide</link>, and for additional hints and tips, see the <link xlink:href="" ""\""http://docs.openstack.org/admin-guide-cloud/content/\"">Cloud Admin Guide</"" ""link>. We hope your users remain happy and recognize your hard work! (For "" ""more hard work, turn the page to the next chapter, where we discuss the "" ""system-facing operations: maintenance, failures and debugging.)"" msgstr """" "" OpenStack "" ""<link xlink:href="" ""\""http://docs.openstack.org/ja/user-guide-admin/\""></"" ""link><link xlink:href=\""http://"" ""docs.openstack.org/admin-guide-cloud/content/\"">Cloud Admin Guide</link> "" """" """" """" msgid """"msgstr """"""To take advantage of either container quotas or account quotas, your Object "" ""Storage proxy server must have <code>container_quotas</code> or "" ""<code>account_quotas</code> (or both) added to the <literal>[pipeline:main]</"" ""literal> pipeline. Each quota type also requires its own section in the "" ""<filename>proxy-server.conf</filename> file:"" msgstr """" ""Object Storage "" "" <code>container_quotas</code>  "" ""<code>account_quotas</code> ()  <literal>[pipeline:main]</"" ""literal> "" ""<filename>proxy-server.conf</filename> "" """" msgid """"""To understand the difference between user data and metadata, realize that "" ""user data is created before an instance is started. User data is accessible "" ""from within the instance when it is running. User data can be used to store "" ""configuration, a script, or anything the tenant wants."" msgstr """" """" """" """" """" msgid """"msgid ""To view a flavor's access list, do the following:"" msgstr """" msgstr """"msgid """" ""To view and update Object Storage quotas, use the <code>swift</code> command "" ""provided by the <code>python-swiftclient</code> package. Any user included "" ""in the project can view the quotas placed on their project. To update Object "" ""Storage quotas on a project, you must have the role of ResellerAdmin in the "" ""project that the quota is being applied to."" msgstr """" ""Object Storage <code>python-"" ""swiftclient</code>  <code>swift</code> "" """" "" Object Storage "" "" ResellerAdmin "" """" ","""POT-Creation-Date: 2015-08-14 04:38+0000\n"" ""PO-Revision-Date: 2015-08-14 04:41+0000\n""msgstr "" ""msgstr "" """,245,4
openstack%2Fnova~master~I9ed5a303c6328f3bef2a10aea2e2d05c87e54023,openstack/nova,master,I9ed5a303c6328f3bef2a10aea2e2d05c87e54023,Fix proposal for libvirt rbd unrescue action,ABANDONED,2015-07-17 15:33:43.000000000,2015-08-15 05:37:23.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15064}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-07-17 15:33:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15179efa38e1718791d86585a88ee2faa4d562b5', 'message': 'Fix proposal for libvirt rbd unrescue action\n\nChange-Id: I9ed5a303c6328f3bef2a10aea2e2d05c87e54023\nCloses-Bug: #1475652\n'}]",0,203086,15179efa38e1718791d86585a88ee2faa4d562b5,11,9,1,15064,,,0,"Fix proposal for libvirt rbd unrescue action

Change-Id: I9ed5a303c6328f3bef2a10aea2e2d05c87e54023
Closes-Bug: #1475652
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/203086/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/rbd_utils.py']",2,15179efa38e1718791d86585a88ee2faa4d562b5,fix_rbd_unrescue," def _cleanup_vol(self, ioctx, volume, retryctx): try: rbd.RBD().remove(ioctx, volume) raise loopingcall.LoopingCallDone(retvalue=False) except (rbd.ImageBusy, rbd.ImageHasSnapshots): LOG.warn(_LW('rbd remove %(volume)s in pool %(pool)s ' 'failed'), {'volume': volume, 'pool': self.pool}) retryctx['retries'] -= 1 if retryctx['retries'] <= 0: raise loopingcall.LoopingCallDone() def cleanup_volumes(self, instance): self._cleanup_vol, client.ioctx, volume, retryctx) self._cleanup_vol(client.ioctx, volume, retryctx) except loopingcall.LoopingCallDone: pass def cleanup_rescue_volume(self, instance): with RADOSClient(self, self.pool) as client: volumes = rbd.RBD().list(client.ioctx) instance_volumes = [volume for volume in volumes \ if volume == '%s_disk.rescue' % instance['uuid']] if len(instance_volumes) != 1: LOG.warn(_LW('rbd no rescue disk found for instance %(disk)s'), { 'disk': '%s_disk.rescue' % instance['uuid']}) else: volume = instance_volumes.pop() retryctx = {'retries': 10} timer = loopingcall.FixedIntervalLoopingCall( self._cleanup_vol, client.ioctx, volume, retryctx) timed_out = timer.start(interval=1).wait() if timed_out: # NOTE(danms): Run this again to propagate the error, but # if it succeeds, don't raise the loopingcall exception try: self._cleanup_vol(client.ioctx, volume, retryctx)"," def cleanup_volumes(self, instance): def _cleanup_vol(ioctx, volume, retryctx): try: rbd.RBD().remove(client.ioctx, volume) raise loopingcall.LoopingCallDone(retvalue=False) except (rbd.ImageBusy, rbd.ImageHasSnapshots): LOG.warn(_LW('rbd remove %(volume)s in pool %(pool)s ' 'failed'), {'volume': volume, 'pool': self.pool}) retryctx['retries'] -= 1 if retryctx['retries'] <= 0: raise loopingcall.LoopingCallDone() _cleanup_vol, client.ioctx, volume, retryctx) _cleanup_vol(client.ioctx, volume, retryctx)",39,13
openstack%2Fnova~master~I470dc1db78e58ca5deaf4234662c1e58f0007123,openstack/nova,master,I470dc1db78e58ca5deaf4234662c1e58f0007123,Cells: Handle instance_destroy_at_top failure,MERGED,2015-07-30 19:32:58.000000000,2015-08-15 05:08:00.000000000,2015-08-15 05:07:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-07-30 19:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30f98112daab0603b9de06cdf2bc9bd8b69c8bcd', 'message': ""Cells: Handle instance_destroy_at_top failure\n\nWith cells an instance can occasionally get into a situation where a\ncell_name is set for it in a parent cell but the instance does not exist\nin a child cell.  It is okay for an instance to not exist in a child\ncell but normally cell_name isn't set when that happens.  If cell_name\nisn't set then a delete will broadcast to all cells, just in case, and\nthen handle the delete local to the parent cell.  When cell_name is set\nbut the instance doesn't exist in the child cell a series of exceptions\nleads to a failure to delete in the parent cell and the instance is\nessentially undeletable.\n\nThe exception that occurs in the parent cell is due to the instance.id\nnot being set on the object sent up from the child cell.  Since the\ninstance doesn't exist in the child cell we can't prevent that behavior,\nat least without sending fake data.  Instead this catches the exception\nthat's raised in the parent and tries to grab the instance from the\ndatabase there and then tries to delete it.\n\nChange-Id: I470dc1db78e58ca5deaf4234662c1e58f0007123\nCloses-bug: 1479941\n""}, {'number': 2, 'created': '2015-08-03 18:00:24.000000000', 'files': ['nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ea699cd854c215f53e243b0de90bc040aa65d57', 'message': ""Cells: Handle instance_destroy_at_top failure\n\nWith cells an instance can occasionally get into a situation where a\ncell_name is set for it in a parent cell but the instance does not exist\nin a child cell.  It is okay for an instance to not exist in a child\ncell but normally cell_name isn't set when that happens.  If cell_name\nisn't set then a delete will broadcast to all cells, just in case, and\nthen handle the delete local to the parent cell.  When cell_name is set\nbut the instance doesn't exist in the child cell a series of exceptions\nleads to a failure to delete in the parent cell and the instance is\nessentially undeletable.\n\nThe exception that occurs in the parent cell is due to the instance.id\nnot being set on the object sent up from the child cell.  Since the\ninstance doesn't exist in the child cell we can't prevent that behavior,\nat least without sending fake data.  Instead this catches the exception\nthat's raised in the parent and tries to grab the instance from the\ndatabase there and then tries to delete it.\n\nChange-Id: I470dc1db78e58ca5deaf4234662c1e58f0007123\nCloses-bug: 1479941\n""}]",2,207587,7ea699cd854c215f53e243b0de90bc040aa65d57,33,15,2,5441,,,0,"Cells: Handle instance_destroy_at_top failure

With cells an instance can occasionally get into a situation where a
cell_name is set for it in a parent cell but the instance does not exist
in a child cell.  It is okay for an instance to not exist in a child
cell but normally cell_name isn't set when that happens.  If cell_name
isn't set then a delete will broadcast to all cells, just in case, and
then handle the delete local to the parent cell.  When cell_name is set
but the instance doesn't exist in the child cell a series of exceptions
leads to a failure to delete in the parent cell and the instance is
essentially undeletable.

The exception that occurs in the parent cell is due to the instance.id
not being set on the object sent up from the child cell.  Since the
instance doesn't exist in the child cell we can't prevent that behavior,
at least without sending fake data.  Instead this catches the exception
that's raised in the parent and tries to grab the instance from the
database there and then tries to delete it.

Change-Id: I470dc1db78e58ca5deaf4234662c1e58f0007123
Closes-bug: 1479941
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/207587/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py']",2,30f98112daab0603b9de06cdf2bc9bd8b69c8bcd,bug/1479941," def test_instance_destroy_at_top_incomplete_instance_obj(self): fake_instance = objects.Instance(uuid='fake_uuid') with mock.patch.object(objects.Instance, 'get_by_uuid') as mock_get: self.src_msg_runner.instance_destroy_at_top(self.ctxt, fake_instance) mock_get.assert_called_once_with(self.ctxt, fake_instance.uuid) ",,21,0
openstack%2Fnova~master~Ief4fcdec0e107a233225ebd68207ac6172b3751e,openstack/nova,master,Ief4fcdec0e107a233225ebd68207ac6172b3751e,Store correct VirtCPUTopology,MERGED,2015-06-30 14:56:55.000000000,2015-08-15 04:53:52.000000000,2015-08-15 04:53:43.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16897}, {'_account_id': 17031}]","[{'number': 1, 'created': '2015-06-30 14:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e78c4b30a91da4bf7c753ead1517622c5fc29b6', 'message': 'Store correct VirtCPUTopology\n\nWhen booting a NUMA-enabled instance, the scheduler generates and\nstores a meaningless VirtCPUTopology as part of the InstanceNumaCell\nobjects. A correct value is later generated and used in libvirt XML\ngeneration but this is not stored. Fix this by skipping the initial\ngeneration and storing of the VirtCPUTopology in favour of storing\nthe correctly generated version.\n\nChange-Id: Ief4fcdec0e107a233225ebd68207ac6172b3751e\nCloses-bug: #1466780\n'}, {'number': 2, 'created': '2015-07-01 10:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3b353b931834ec693b64fdfe8af954820fbb858', 'message': 'Store correct VirtCPUTopology\n\nWhen booting a NUMA-enabled instance, the scheduler generates and\nstores a meaningless VirtCPUTopology as part of the InstanceNumaCell\nobjects. A correct value is later generated and used in libvirt XML\ngeneration but this is not stored. Fix this by skipping the initial\ngeneration and storing of the VirtCPUTopology in favour of storing\nthe correctly generated version.\n\nChange-Id: Ief4fcdec0e107a233225ebd68207ac6172b3751e\nCloses-bug: #1466780\n'}, {'number': 3, 'created': '2015-07-28 14:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb6ccfd0d3d4e22ee6f20adcf776fccf602ff61a', 'message': 'Store correct VirtCPUTopology\n\nWhen booting a NUMA-enabled instance, the scheduler generates and\nstores a meaningless VirtCPUTopology as part of the InstanceNumaCell\nobjects. A correct value is later generated and used in libvirt XML\ngeneration but this is not stored. Fix this by skipping the initial\ngeneration and storing of the VirtCPUTopology in favour of storing\nthe correctly generated version.\n\nChange-Id: Ief4fcdec0e107a233225ebd68207ac6172b3751e\nCloses-bug: #1466780\n'}, {'number': 4, 'created': '2015-07-30 10:50:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8358936a24cd223046580ddfa3bfb37a943abc91', 'message': 'Store correct VirtCPUTopology\n\nWhen booting a NUMA-enabled instance, the scheduler generates and\nstores a meaningless VirtCPUTopology as part of the InstanceNumaCell\nobjects. A correct value is later generated and used in libvirt XML\ngeneration but this is not stored. Fix this by skipping the initial\ngeneration and storing of the VirtCPUTopology in favour of storing\nthe correctly generated version.\n\nChange-Id: Ief4fcdec0e107a233225ebd68207ac6172b3751e\nCloses-bug: #1466780\n'}]",2,197125,8358936a24cd223046580ddfa3bfb37a943abc91,43,15,4,15334,,,0,"Store correct VirtCPUTopology

When booting a NUMA-enabled instance, the scheduler generates and
stores a meaningless VirtCPUTopology as part of the InstanceNumaCell
objects. A correct value is later generated and used in libvirt XML
generation but this is not stored. Fix this by skipping the initial
generation and storing of the VirtCPUTopology in favour of storing
the correctly generated version.

Change-Id: Ief4fcdec0e107a233225ebd68207ac6172b3751e
Closes-bug: #1466780
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/197125/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,2e78c4b30a91da4bf7c753ead1517622c5fc29b6,bug/1466780," @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_get_guest_cpu_config_numa_topology(self, mock_has_min_version): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) instance_ref.flavor.vcpus = 2 instance_ref.numa_topology = objects.InstanceNUMATopology(cells=[ objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=1024, cpu_pinning={})]) image_meta = {} disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) self.assertIsNone(instance_ref.numa_topology.cells[0].cpu_topology) conf = drvr._get_guest_config(instance_ref, _fake_network_info(self.stubs, 1), {}, disk_info) topo = instance_ref.numa_topology.cells[0].cpu_topology self.assertIsNotNone(topo) self.assertEqual(topo.cores * topo.sockets * topo.threads, instance_ref.flavor.vcpus) ",,32,0
openstack%2Fhacking~master~I5bc89dd226dcd5e11630fe41fc94c1171d9458e2,openstack/hacking,master,I5bc89dd226dcd5e11630fe41fc94c1171d9458e2,Updated from global requirements,MERGED,2015-08-10 01:04:47.000000000,2015-08-15 04:22:36.000000000,2015-08-15 04:22:36.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-08-10 01:04:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/hacking/commit/394d7eb0bd795cc2601c3e3a9613eb6f76962e0e', 'message': 'Updated from global requirements\n\nChange-Id: I5bc89dd226dcd5e11630fe41fc94c1171d9458e2\n'}]",0,210880,394d7eb0bd795cc2601c3e3a9613eb6f76962e0e,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I5bc89dd226dcd5e11630fe41fc94c1171d9458e2
",git fetch https://review.opendev.org/openstack/hacking refs/changes/80/210880/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,394d7eb0bd795cc2601c3e3a9613eb6f76962e0e,openstack/requirements,"pbr<2.0,>=1.4","pbr<2.0,>=1.3",1,1
openstack%2Fmanila~master~If8306955c6ec8e7751d0740b0551d9cd3d3b755f,openstack/manila,master,If8306955c6ec8e7751d0740b0551d9cd3d3b755f,Fix HP3PAR SMB extra-specs for ABE and CA,MERGED,2015-08-03 22:59:48.000000000,2015-08-15 03:57:40.000000000,2015-08-14 22:15:13.000000000,"[{'_account_id': 3}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 11811}, {'_account_id': 11865}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-08-03 22:59:48.000000000', 'files': ['manila/share/drivers/hp/hp_3par_mediator.py', 'manila/tests/share/drivers/hp/test_hp_3par_mediator.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a9bee6e464710e9586c1b6beac21dbe3a1650ec4', 'message': 'Fix HP3PAR SMB extra-specs for ABE and CA\n\nRecently added HP3PAR extra-specs to set access-based enumeration\nand continuous-availability on SMB shares is broken. The commands\nto send to the array need to use -abe and -ca, but when the extra-spec\nnames were changed the command was broken.\n\nChange-Id: If8306955c6ec8e7751d0740b0551d9cd3d3b755f\nCloses-Bug: #1481096\n'}]",0,208677,a9bee6e464710e9586c1b6beac21dbe3a1650ec4,20,9,1,11047,,,0,"Fix HP3PAR SMB extra-specs for ABE and CA

Recently added HP3PAR extra-specs to set access-based enumeration
and continuous-availability on SMB shares is broken. The commands
to send to the array need to use -abe and -ca, but when the extra-spec
names were changed the command was broken.

Change-Id: If8306955c6ec8e7751d0740b0551d9cd3d3b755f
Closes-Bug: #1481096
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/208677/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/hp/hp_3par_mediator.py', 'manila/tests/share/drivers/hp/test_hp_3par_mediator.py']",2,a9bee6e464710e9586c1b6beac21dbe3a1650ec4,bug/1481096, opt_key = hp3parmediator.SMB_EXTRA_SPECS_MAP[smb_opt] createfshare_kwargs[opt_key] = opt_value, createfshare_kwargs[smb_opt] = opt_value,9,2
openstack%2Ftrove-integration~master~I0faa3a4b9c7302064fb2413b572e2fc515efff0d,openstack/trove-integration,master,I0faa3a4b9c7302064fb2413b572e2fc515efff0d,Add Cassandra Python driver,MERGED,2015-07-29 01:20:02.000000000,2015-08-15 03:52:09.000000000,2015-08-15 03:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 10215}, {'_account_id': 13355}, {'_account_id': 14576}, {'_account_id': 15321}]","[{'number': 1, 'created': '2015-07-29 01:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/ade421bfcb93b7c008b85d5888b623bc5dcd5e6b', 'message': 'Add Cassandra Python driver\n\nUpdate Cassandra elements to install the Python\ndriver.\nAdded the Cassandra driver version from the\nOpenStack global requirements to element\nrequirements.\n\nImplements: cassandra-database-user-functions\nChange-Id: I0faa3a4b9c7302064fb2413b572e2fc515efff0d\n'}, {'number': 2, 'created': '2015-07-29 16:16:23.000000000', 'files': ['scripts/files/elements/ubuntu-cassandra/install.d/10-cassandra'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/32b9d5d2b48fbce085f6210dfbddda490e25118a', 'message': 'Add Cassandra Python driver\n\nUpdate Cassandra elements to install the Python\ndriver.\nAdded the Cassandra driver version from the\nOpenStack global requirements to element\nrequirements.\n\nImplements: cassandra-database-user-functions\nChange-Id: I0faa3a4b9c7302064fb2413b572e2fc515efff0d\n'}]",6,206781,32b9d5d2b48fbce085f6210dfbddda490e25118a,27,8,2,14576,,,0,"Add Cassandra Python driver

Update Cassandra elements to install the Python
driver.
Added the Cassandra driver version from the
OpenStack global requirements to element
requirements.

Implements: cassandra-database-user-functions
Change-Id: I0faa3a4b9c7302064fb2413b572e2fc515efff0d
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/81/206781/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/files/elements/ubuntu-cassandra/install.d/10-cassandra', 'scripts/files/requirements/ubuntu-requirements.txt', 'scripts/files/requirements/fedora-requirements.txt']",3,ade421bfcb93b7c008b85d5888b623bc5dcd5e6b,cassandra-driver,cassandra-driver>=2.1.4 # Apache-2.0,,9,1
openstack%2Fneutron~master~Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e,openstack/neutron,master,Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e,Setup reference service providers for API test runs,MERGED,2015-08-11 21:47:18.000000000,2015-08-15 03:50:44.000000000,2015-08-14 17:03:44.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6547}, {'_account_id': 6659}, {'_account_id': 8344}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-11 21:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7428f6bf7e29681517e8952cb12ed6854f002f4f', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\n'}, {'number': 2, 'created': '2015-08-11 22:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d111e93e9d3f92c849d4427906b32de0ec41610a', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\n'}, {'number': 3, 'created': '2015-08-12 02:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/904e55a242fb660940201becc02608706cc723c7', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 4, 'created': '2015-08-12 03:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b5a8c2381b94297816ad62ea41dfa426bbd1892', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\ntemp reversing dependency graph for testing\n\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 5, 'created': '2015-08-12 04:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c8dfb136003a8c21bc4ab7f2af098c6acf8bb24', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 6, 'created': '2015-08-12 04:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/449e8ceabfee5bcea461a342299fe580c41f64b1', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 7, 'created': '2015-08-12 05:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48609f374d1f04e591ae1b3c2ea9ae1be6183f69', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\ntemporary flip of dependency graph\n\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 8, 'created': '2015-08-12 17:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75a4fe3d7dc2373ab2657f3785c43fe0389b4391', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\ntemporary flip of dependency graph\n\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 9, 'created': '2015-08-13 00:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efbb531004a376e40141aa1bfaef16b9259ca314', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\ntemporary flip of dependency graph\n\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 10, 'created': '2015-08-13 01:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b49a8aa69f3e3d9de65e0e622316242dbd4a09f1', 'message': 'WIP - Placeholder for changes based on empty sp sections\n\ntemporary flip of dependency graph\n\nDepends-On: If04871e4461ad5838a6fd7a3993d4eda1566d145\nDepends-On: I3f89dfc2784e66be15b73b90014243e3f5e6f034\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 11, 'created': '2015-08-13 06:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60058d726d82d71b9bb16a7a7be078de78ea4d70', 'message': 'Setup reference service providers for API test runs\n\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}, {'number': 12, 'created': '2015-08-13 17:23:46.000000000', 'files': ['neutron/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25420bb1bbccb037866872efdf1e5d3458d286a6', 'message': 'Setup reference service providers for API test runs\n\nPartial-bug: #1483266\nChange-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e\n'}]",2,211760,25420bb1bbccb037866872efdf1e5d3458d286a6,147,27,12,10980,,,0,"Setup reference service providers for API test runs

Partial-bug: #1483266
Change-Id: Ia979fa2fdf25f3c1dbe9e7160d6dde2df51c305e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/211760/10 && git format-patch -1 --stdout FETCH_HEAD,['NOTHING'],1,7428f6bf7e29681517e8952cb12ed6854f002f4f,no-default-sp,,,0,0
openstack%2Fkolla~master~I5544c41eed95df5f03011cc8970c66b44179002c,openstack/kolla,master,I5544c41eed95df5f03011cc8970c66b44179002c,test patch - do not merge,ABANDONED,2015-08-14 22:07:10.000000000,2015-08-15 03:39:20.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-14 22:07:10.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d2fe0df05cdb24f6596785e7e594644d7578ced3', 'message': 'test patch - do not merge\n\nChange-Id: I5544c41eed95df5f03011cc8970c66b44179002c\n'}]",0,213355,d2fe0df05cdb24f6596785e7e594644d7578ced3,3,1,1,2834,,,0,"test patch - do not merge

Change-Id: I5544c41eed95df5f03011cc8970c66b44179002c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/213355/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,d2fe0df05cdb24f6596785e7e594644d7578ced3,,TESTKolla Overview,Kolla Overview,1,1
openstack%2Fkolla~master~Id17f467235d70127ce92bab52a08b97a062ea207,openstack/kolla,master,Id17f467235d70127ce92bab52a08b97a062ea207,Add Dockerfile template for Ceilometer,MERGED,2015-08-12 07:29:34.000000000,2015-08-15 01:51:29.000000000,2015-08-15 01:51:27.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 14119}, {'_account_id': 16620}]","[{'number': 1, 'created': '2015-08-12 07:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/757878ccb8a77849cdcdf0bf76c29212d7d9abec', 'message': 'Add Dockerfile template for glance\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 2, 'created': '2015-08-12 07:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f1ea206091fe54976c5ebc637383088de7d0d4e', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 3, 'created': '2015-08-12 08:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b59d8d340ea13c674029e6c65462204d89d45002', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 4, 'created': '2015-08-12 10:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c43e48086562d22a5bfa6ab4842b248c06f35147', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 5, 'created': '2015-08-12 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b822d7b74052fd4bd77a81c7e29c08dd5cd40015', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 6, 'created': '2015-08-12 12:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afad8544a3b625e53dd6ac3d3174b3dcace3f549', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 7, 'created': '2015-08-12 12:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/20d600346d46c4843a90cf7d8c1334d088302612', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 8, 'created': '2015-08-13 02:29:24.000000000', 'files': ['docker_templates/ceilometer/ceilometer-notification/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-api/start.sh', 'docker_templates/ceilometer/ceilometer-central/config-external.sh', 'docker_templates/ceilometer/ceilometer-alarm/build', 'docker_templates/ceilometer/ceilometer-notification/build', 'docker_templates/ceilometer/ceilometer-alarm/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-base/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-compute/build', 'docker_templates/ceilometer/ceilometer-collector/start.sh', 'docker_templates/ceilometer/ceilometer-collector/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-api/build', 'docker_templates/ceilometer/ceilometer-api/config-external.sh', 'docker_templates/ceilometer/ceilometer-collector/build', 'docker_templates/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-compute/start.sh', 'docker_templates/ceilometer/ceilometer-collector/config-external.sh', 'docker_templates/ceilometer/ceilometer-base/build', 'docker_templates/ceilometer/ceilometer-central/build', 'docker_templates/ceilometer/ceilometer-compute/config-external.sh', 'docker_templates/ceilometer/ceilometer-central/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-central/start.sh', 'docker_templates/ceilometer/ceilometer-notification/start.sh', 'docker_templates/ceilometer/ceilometer-alarm/config-external.sh', 'docker_templates/ceilometer/ceilometer-alarm/start.sh', 'docker_templates/ceilometer/ceilometer-api/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-notification/config-external.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6d36c68e1a5fbd565187c0a338339244c58655e', 'message': 'Add Dockerfile template for Ceilometer\n\nChange-Id: Id17f467235d70127ce92bab52a08b97a062ea207\nPartially-Implements: blueprint dockerfile-template\n'}]",27,211878,c6d36c68e1a5fbd565187c0a338339244c58655e,24,5,8,11105,,,0,"Add Dockerfile template for Ceilometer

Change-Id: Id17f467235d70127ce92bab52a08b97a062ea207
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/211878/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/ceilometer/ceilometer-notification/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-api/start.sh', 'docker_templates/ceilometer/ceilometer-central/config-external.sh', 'docker_templates/ceilometer/ceilometer-alarm/build', 'docker_templates/ceilometer/ceilometer-notification/build', 'docker_templates/ceilometer/ceilometer-alarm/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-base/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-compute/build', 'docker_templates/ceilometer/ceilometer-collector/start.sh', 'docker_templates/ceilometer/ceilometer-collector/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-api/build', 'docker_templates/ceilometer/ceilometer-api/config-external.sh', 'docker_templates/ceilometer/ceilometer-collector/build', 'docker_templates/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-compute/start.sh', 'docker_templates/ceilometer/ceilometer-collector/config-external.sh', 'docker_templates/ceilometer/ceilometer-base/build', 'docker_templates/ceilometer/ceilometer-central/build', 'docker_templates/ceilometer/ceilometer-compute/config-external.sh', 'docker_templates/ceilometer/ceilometer-central/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-central/start.sh', 'docker_templates/ceilometer/ceilometer-notification/start.sh', 'docker_templates/ceilometer/ceilometer-alarm/config-external.sh', 'docker_templates/ceilometer/ceilometer-alarm/start.sh', 'docker_templates/ceilometer/ceilometer-api/Dockerfile.j2', 'docker_templates/ceilometer/ceilometer-notification/config-external.sh']",26,757878ccb8a77849cdcdf0bf76c29212d7d9abec,bp/dockerfile-template,../../../docker/common/ceilometer/ceilometer-notification/config-external.sh,,248,0
openstack%2Fkolla~master~I919560ad437724595ba83170a852116be011bff8,openstack/kolla,master,I919560ad437724595ba83170a852116be011bff8,Add Dockerfile template for Magnum,MERGED,2015-08-13 02:47:48.000000000,2015-08-15 01:43:37.000000000,2015-08-15 01:43:36.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 11105}]","[{'number': 1, 'created': '2015-08-13 02:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dd31991132407de6bbea12b4e9ac724ec4ac2b17', 'message': 'Add Dockerfile template for Magnum\n\nChange-Id: I919560ad437724595ba83170a852116be011bff8\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 2, 'created': '2015-08-13 04:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d8c1761f14bb1c765e79552895d9a77d3bca5da', 'message': 'Add Dockerfile template for Magnum\n\nChange-Id: I919560ad437724595ba83170a852116be011bff8\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 3, 'created': '2015-08-14 04:21:16.000000000', 'files': ['docker_templates/magnum/magnum-api/config-external.sh', 'docker_templates/magnum/magnum-conductor/start.sh', 'docker_templates/magnum/magnum-conductor/config-external.sh', 'docker_templates/magnum/magnum-api/start.sh', 'docker_templates/magnum/magnum-api/build', 'docker_templates/magnum/magnum-conductor/build', 'docker_templates/magnum/magnum-base/build', 'docker_templates/magnum/magnum-base/Dockerfile.j2', 'docker_templates/magnum/magnum-api/Dockerfile.j2', 'docker_templates/magnum/magnum-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca3a8744120812fa1026c163fbfc6da68d5b1a38', 'message': 'Add Dockerfile template for Magnum\n\nChange-Id: I919560ad437724595ba83170a852116be011bff8\nPartially-Implements: blueprint dockerfile-template\n'}]",4,212289,ca3a8744120812fa1026c163fbfc6da68d5b1a38,15,4,3,11105,,,0,"Add Dockerfile template for Magnum

Change-Id: I919560ad437724595ba83170a852116be011bff8
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/212289/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/magnum/magnum-api/config-external.sh', 'docker_templates/magnum/magnum-conductor/start.sh', 'docker_templates/magnum/magnum-conductor/config-external.sh', 'docker_templates/magnum/magnum-api/start.sh', 'docker_templates/magnum/magnum-api/build', 'docker_templates/magnum/magnum-conductor/build', 'docker_templates/magnum/magnum-base/build', 'docker_templates/magnum/magnum-base/Dockerfile.j2', 'docker_templates/magnum/magnum-api/Dockerfile.j2', 'docker_templates/magnum/magnum-conductor/Dockerfile.j2']",10,dd31991132407de6bbea12b4e9ac724ec4ac2b17,bp/dockerfile-template,"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-magnum-base:{{ tag }} MAINTAINER Kolla Project (https://launchpad.net/kolla) {% if install_type == 'binary' %} {% if base_distro in ['fedora', 'centos', 'oraclelinux'] %} RUN yum -y install openstack-magnum-conductor \ tar \ && yum clean all {% endif %} {% endif %} COPY ./start.sh / COPY config-external.sh /opt/kolla/ CMD [""/start.sh""] ",,70,0
openstack%2Fkolla~master~I6319d6391e12bd3d7ceb0fe89841299c6b4a2f1b,openstack/kolla,master,I6319d6391e12bd3d7ceb0fe89841299c6b4a2f1b,Make build.py build individual images,ABANDONED,2015-08-09 14:43:47.000000000,2015-08-15 01:37:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 10428}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-09 14:43:47.000000000', 'files': ['docker/centos/binary/nova/nova-conductor/build', 'docker/centos/binary/barbican/build', 'docker/centos/binary/ceilometer/ceilometer-alarm/build', 'docker/centos/binary/heat/heat-engine/build', 'docker/centos/source/nova/nova-base/build', 'docker/ubuntu/binary/keystone/build', 'docker/centos/source/magnum/magnum-api/build', 'docker/centos/binary/haproxy/build', 'docker/centos/source/nova/nova-api/build', 'docker/centos/source/swift/swift-object-auditor/build', 'docker/centos/binary/ceilometer/ceilometer-central/build', 'docker/centos/binary/horizon/build', 'docker/centos/binary/kolla-ansible/build', 'docker/centos/source/designate/designate-poolmanager/build', 'tools/update-build-links', 'docker/centos/binary/ceilometer/ceilometer-notification/build', 'docker/centos/binary/gnocchi/gnocchi-base/build', 'docker/centos/binary/cinder-app/cinder-volume/build', 'docker/centos/source/designate/designate-backend-bind9-data/build', 'docker/centos/binary/heat/heat-api-cfn/build', 'docker/centos/source/designate/designate-sink/build', 'docker/centos/source/nova/nova-scheduler/build', 'docker/fedora/binary/base/build', 'docker/centos/source/ceilometer/ceilometer-base/build', 'docker/centos/source/ceilometer/ceilometer-compute/build', 'docker/centos/source/neutron/neutron-linuxbridge-agent/build', 'tools/build.py', 'docker/centos/binary/galera/build', 'docker/ubuntu/binary/rabbitmq/build', 'docker/centos/binary/ceilometer/ceilometer-collector/build', 'docker/centos/source/swift/swift-object-updater/build', 'docker/centos/binary/ceilometer/ceilometer-compute/build', 'docker/centos/binary/designate/designate-api/build', 'docker/ubuntu/binary/nova-base/build', 'docker/centos/source/designate/designate-mdns/build', 'docker/centos/binary/designate/designate-backend-bind9/build', 'docker/centos/source/nova/nova-consoleauth/build', 'docker/centos/binary/heat/heat-base/build', 'docker/centos/source/neutron/neutron-openvswitch-agent/build', 'docker/centos/source/base/build', 'docker/centos/source/ceilometer/ceilometer-notification/build', 'docker/centos/binary/gnocchi/gnocchi-statsd/build', 'docker/centos/binary/swift/swift-data/build', 'docker/centos/source/ceilometer/ceilometer-api/build', 'docker/centos/binary/nova/nova-consoleauth/build', 'docker/centos/binary/nova/nova-network/build', 'docker/centos/source/nova/nova-novncproxy/build', 'docker/centos/binary/heat/heat-api/build', 'docker/centos/source/cinder-app/cinder-api/build', 'docker/centos/source/neutron/neutron-base/build', 'docker/centos/source/heat/heat-api-cfn/build', 'docker/centos/source/swift/swift-object-base/build', 'docker/centos/binary/mariadb/mariadb-data/build', 'docker/centos/source/ceilometer/ceilometer-alarm/build', 'docker/centos/binary/gnocchi/gnocchi-api/build', 'docker/centos/source/cinder-app/cinder-data/build', 'docker/centos/binary/swift/swift-proxy-server/build', 'docker/centos/source/designate/designate-backend-bind9/build', 'docker/centos/binary/magnum/magnum-conductor/build', 'docker/centos/binary/nova/nova-novncproxy/build', 'docker/centos/binary/keystone/build', 'docker/centos/binary/zaqar/build', 'docker/centos/source/glance/glance-registry/build', 'docker/centos/binary/glance/glance-registry/build', 'docker/centos/binary/swift/swift-object-replicator/build', 'docker/centos/binary/memcached/build', 'docker/centos/binary/neutron/neutron-base/build', 'docker/centos/binary/cinder-app/cinder-scheduler/build', 'docker/centos/source/swift/swift-object-expirer/build', 'docker/centos/binary/neutron/neutron-linuxbridge-agent/build', 'docker/ubuntu/source/base/build', 'docker/centos/source/nova/nova-network/build', 'docker/centos/source/cinder-app/cinder-base/build', 'docker/centos/binary/magnum/magnum-api/build', 'docker/centos/source/swift/swift-proxy-server/build', 'docker/ol/source/base/build', 'docker/centos/binary/designate/designate-central/build', 'docker/centos/source/gnocchi/gnocchi-base/build', 'docker/centos/binary/designate/designate-sink/build', 'docker/rhel/binary/base/build', 'docker/centos/binary/nova/nova-api/build', 'docker/centos/source/heat/heat-api/build', 'docker/centos/binary/swift/swift-base/build', 'docker/centos/source/neutron/neutron-agents/build', 'docker/centos/source/neutron/neutron-server/build', 'docker/centos/binary/openvswitch/ovs-vswitchd/build', 'docker/centos/binary/nova/nova-compute/build', 'docker/centos/source/nova/nova-compute-data/build', 'docker/centos/binary/ceilometer/ceilometer-api/build', 'docker/centos/binary/cinder-app/cinder-base/build', 'docker/centos/binary/nova/nova-compute-data/build', 'docker/centos/source/nova/nova-conductor/build', 'docker/centos/binary/neutron/neutron-server/build', 'docker/centos/binary/nova/nova-libvirt/build', 'docker/centos/source/glance/glance-data/build', 'docker/centos/binary/magnum/magnum-base/build', 'docker/centos/binary/nova/nova-base/build', 'docker/centos/source/designate/designate-central/build', 'docker/centos/binary/neutron/neutron-agents/build', 'docker/centos/source/nova/nova-libvirt/build', 'docker/centos/binary/mongodb/build', 'docker/centos/source/swift/swift-object-replicator/build', 'docker/centos/binary/ceilometer/ceilometer-base/build', 'docker/centos/binary/openvswitch/ovs-base/build', 'docker/centos/binary/swift/swift-container-server/build', 'docker/centos/binary/swift/swift-object-expirer/build', 'docker/centos/binary/nova/nova-scheduler/build', 'docker/centos/source/magnum/magnum-conductor/build', 'docker/centos/source/ceilometer/ceilometer-collector/build', 'docker/centos/binary/swift/swift-object-auditor/build', 'docker/centos/binary/swift/swift-account-server/build', 'docker/centos/binary/swift/swift-object-server/build', 'docker/centos/source/cinder-app/cinder-backup/build', 'docker/centos/source/designate/designate-api/build', 'docker/centos/binary/base/build', 'docker/centos/source/heat/heat-engine/build', 'docker/centos/source/cinder-app/cinder-volume/build', 'docker/centos/source/nova/nova-compute/build', 'docker/centos/binary/swift/swift-object-base/build', 'docker/centos/binary/designate/designate-backend-bind9-data/build', 'docker/centos/source/swift/swift-base/build', 'docker/centos/source/cinder-app/cinder-scheduler/build', 'docker/centos/binary/designate/designate-poolmanager/build', 'docker/centos/source/horizon/build', 'docker/centos/source/ceilometer/ceilometer-central/build', 'docker/ol/binary/base/build', 'docker/centos/binary/designate/designate-base/build', 'docker/centos/source/gnocchi/gnocchi-statsd/build', 'docker/centos/source/barbican/build', 'docker/centos/binary/rabbitmq/build', 'docker/centos/binary/cinder-app/cinder-backup/build', 'docker/centos/source/gnocchi/gnocchi-api/build', 'docker/centos/binary/openvswitch/ovs-db-server/build', 'docker/centos/source/heat/heat-base/build', 'docker/centos/binary/cinder-app/cinder-api/build', 'docker/fedora/source/base/build', 'docker/centos/binary/designate/designate-mdns/build', 'docker/centos/source/swift/swift-container-server/build', 'docker/centos/binary/cinder-app/cinder-data/build', 'docker/centos/source/glance/glance-base/build', 'docker/centos/binary/glance/glance-data/build', 'docker/centos/source/magnum/magnum-base/build', 'docker/centos/source/designate/designate-base/build', 'docker/centos/source/swift/swift-object-server/build', 'docker/centos/source/swift/swift-account-server/build', 'docker/centos/binary/glance/glance-base/build', 'docker/centos/binary/neutron/neutron-openvswitch-agent/build', 'docker/ubuntu/binary/base/build', 'docker/centos/binary/mariadb/mariadb-app/build', 'docker/centos/source/keystone/build', 'docker/centos/binary/glance/glance-api/build', 'docker/centos/binary/swift/swift-object-updater/build', 'docker/centos/binary/keepalived/build', 'docker/centos/source/glance/glance-api/build', 'docker/centos/source/swift/swift-data/build'], 'web_link': 'https://opendev.org/openstack/kolla/commit/87e00d9c22b67c190755bd1fc572334ee7122975', 'message': 'Make build.py build individual images\n\nThe build.py tool currently cannot build docker images individually.\nThis patch retains the symlink feature of building so a build script\ncan be retained in each dockerfile directory.\n\nChange-Id: I6319d6391e12bd3d7ceb0fe89841299c6b4a2f1b\nCloses-Bug: #1483002\n'}]",0,210833,87e00d9c22b67c190755bd1fc572334ee7122975,9,5,1,2834,,,0,"Make build.py build individual images

The build.py tool currently cannot build docker images individually.
This patch retains the symlink feature of building so a build script
can be retained in each dockerfile directory.

Change-Id: I6319d6391e12bd3d7ceb0fe89841299c6b4a2f1b
Closes-Bug: #1483002
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/210833/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/centos/binary/nova/nova-conductor/build', 'docker/centos/binary/barbican/build', 'docker/centos/binary/ceilometer/ceilometer-alarm/build', 'docker/centos/binary/heat/heat-engine/build', 'docker/centos/source/nova/nova-base/build', 'docker/ubuntu/binary/keystone/build', 'docker/centos/source/magnum/magnum-api/build', 'docker/centos/binary/haproxy/build', 'docker/centos/source/nova/nova-api/build', 'docker/centos/source/swift/swift-object-auditor/build', 'docker/centos/binary/ceilometer/ceilometer-central/build', 'docker/centos/binary/horizon/build', 'docker/centos/binary/kolla-ansible/build', 'docker/centos/source/designate/designate-poolmanager/build', 'tools/update-build-links', 'docker/centos/binary/ceilometer/ceilometer-notification/build', 'docker/centos/binary/gnocchi/gnocchi-base/build', 'docker/centos/binary/cinder-app/cinder-volume/build', 'docker/centos/source/designate/designate-backend-bind9-data/build', 'docker/centos/binary/heat/heat-api-cfn/build', 'docker/centos/source/designate/designate-sink/build', 'docker/centos/source/nova/nova-scheduler/build', 'docker/fedora/binary/base/build', 'docker/centos/source/ceilometer/ceilometer-base/build', 'docker/centos/source/ceilometer/ceilometer-compute/build', 'docker/centos/source/neutron/neutron-linuxbridge-agent/build', 'tools/build.py', 'docker/centos/binary/galera/build', 'docker/ubuntu/binary/rabbitmq/build', 'docker/centos/binary/ceilometer/ceilometer-collector/build', 'docker/centos/source/swift/swift-object-updater/build', 'docker/centos/binary/ceilometer/ceilometer-compute/build', 'docker/centos/binary/designate/designate-api/build', 'docker/ubuntu/binary/nova-base/build', 'docker/centos/source/designate/designate-mdns/build', 'docker/centos/binary/designate/designate-backend-bind9/build', 'docker/centos/source/nova/nova-consoleauth/build', 'docker/centos/binary/heat/heat-base/build', 'docker/centos/source/neutron/neutron-openvswitch-agent/build', 'docker/centos/source/base/build', 'docker/centos/source/ceilometer/ceilometer-notification/build', 'docker/centos/binary/gnocchi/gnocchi-statsd/build', 'docker/centos/binary/swift/swift-data/build', 'docker/centos/source/ceilometer/ceilometer-api/build', 'docker/centos/binary/nova/nova-consoleauth/build', 'docker/centos/binary/nova/nova-network/build', 'docker/centos/source/nova/nova-novncproxy/build', 'docker/centos/binary/heat/heat-api/build', 'docker/centos/source/cinder-app/cinder-api/build', 'docker/centos/source/neutron/neutron-base/build', 'docker/centos/source/heat/heat-api-cfn/build', 'docker/centos/source/swift/swift-object-base/build', 'docker/centos/binary/mariadb/mariadb-data/build', 'docker/centos/source/ceilometer/ceilometer-alarm/build', 'docker/centos/binary/gnocchi/gnocchi-api/build', 'docker/centos/source/cinder-app/cinder-data/build', 'docker/centos/binary/swift/swift-proxy-server/build', 'docker/centos/source/designate/designate-backend-bind9/build', 'docker/centos/binary/magnum/magnum-conductor/build', 'docker/centos/binary/nova/nova-novncproxy/build', 'docker/centos/binary/keystone/build', 'docker/centos/binary/zaqar/build', 'docker/centos/source/glance/glance-registry/build', 'docker/centos/binary/glance/glance-registry/build', 'docker/centos/binary/swift/swift-object-replicator/build', 'docker/centos/binary/memcached/build', 'docker/centos/binary/neutron/neutron-base/build', 'docker/centos/binary/cinder-app/cinder-scheduler/build', 'docker/centos/source/swift/swift-object-expirer/build', 'docker/centos/binary/neutron/neutron-linuxbridge-agent/build', 'docker/ubuntu/source/base/build', 'docker/centos/source/nova/nova-network/build', 'docker/centos/source/cinder-app/cinder-base/build', 'docker/centos/binary/magnum/magnum-api/build', 'docker/centos/source/swift/swift-proxy-server/build', 'docker/ol/source/base/build', 'docker/centos/binary/designate/designate-central/build', 'docker/centos/source/gnocchi/gnocchi-base/build', 'docker/centos/binary/designate/designate-sink/build', 'docker/rhel/binary/base/build', 'docker/centos/binary/nova/nova-api/build', 'docker/centos/source/heat/heat-api/build', 'docker/centos/binary/swift/swift-base/build', 'docker/centos/source/neutron/neutron-agents/build', 'docker/centos/source/neutron/neutron-server/build', 'docker/centos/binary/openvswitch/ovs-vswitchd/build', 'docker/centos/binary/nova/nova-compute/build', 'docker/centos/source/nova/nova-compute-data/build', 'docker/centos/binary/ceilometer/ceilometer-api/build', 'docker/centos/binary/cinder-app/cinder-base/build', 'docker/centos/binary/nova/nova-compute-data/build', 'docker/centos/source/nova/nova-conductor/build', 'docker/centos/binary/neutron/neutron-server/build', 'docker/centos/binary/nova/nova-libvirt/build', 'docker/centos/source/glance/glance-data/build', 'docker/centos/binary/magnum/magnum-base/build', 'docker/centos/binary/nova/nova-base/build', 'docker/centos/source/designate/designate-central/build', 'docker/centos/binary/neutron/neutron-agents/build', 'docker/centos/source/nova/nova-libvirt/build', 'docker/centos/binary/mongodb/build', 'docker/centos/source/swift/swift-object-replicator/build', 'docker/centos/binary/ceilometer/ceilometer-base/build', 'docker/centos/binary/openvswitch/ovs-base/build', 'docker/centos/binary/swift/swift-container-server/build', 'docker/centos/binary/swift/swift-object-expirer/build', 'docker/centos/binary/nova/nova-scheduler/build', 'docker/centos/source/magnum/magnum-conductor/build', 'docker/centos/source/ceilometer/ceilometer-collector/build', 'docker/centos/binary/swift/swift-object-auditor/build', 'docker/centos/binary/swift/swift-account-server/build', 'docker/centos/binary/swift/swift-object-server/build', 'docker/centos/source/cinder-app/cinder-backup/build', 'docker/centos/source/designate/designate-api/build', 'docker/centos/binary/base/build', 'docker/centos/source/heat/heat-engine/build', 'docker/centos/source/cinder-app/cinder-volume/build', 'docker/centos/source/nova/nova-compute/build', 'docker/centos/binary/swift/swift-object-base/build', 'docker/centos/binary/designate/designate-backend-bind9-data/build', 'docker/centos/source/swift/swift-base/build', 'docker/centos/source/cinder-app/cinder-scheduler/build', 'docker/centos/binary/designate/designate-poolmanager/build', 'docker/centos/source/horizon/build', 'docker/centos/source/ceilometer/ceilometer-central/build', 'docker/ol/binary/base/build', 'docker/centos/binary/designate/designate-base/build', 'docker/centos/source/gnocchi/gnocchi-statsd/build', 'docker/centos/source/barbican/build', 'docker/centos/binary/rabbitmq/build', 'docker/centos/binary/cinder-app/cinder-backup/build', 'docker/centos/source/gnocchi/gnocchi-api/build', 'docker/centos/binary/openvswitch/ovs-db-server/build', 'docker/centos/source/heat/heat-base/build', 'docker/centos/binary/cinder-app/cinder-api/build', 'docker/fedora/source/base/build', 'docker/centos/binary/designate/designate-mdns/build', 'docker/centos/source/swift/swift-container-server/build', 'docker/centos/binary/cinder-app/cinder-data/build', 'docker/centos/source/glance/glance-base/build', 'docker/centos/binary/glance/glance-data/build', 'docker/centos/source/magnum/magnum-base/build', 'docker/centos/source/designate/designate-base/build', 'docker/centos/source/swift/swift-object-server/build', 'docker/centos/source/swift/swift-account-server/build', 'docker/centos/binary/glance/glance-base/build', 'docker/centos/binary/neutron/neutron-openvswitch-agent/build', 'docker/ubuntu/binary/base/build', 'docker/centos/binary/mariadb/mariadb-app/build', 'docker/centos/source/keystone/build', 'docker/centos/binary/glance/glance-api/build', 'docker/centos/binary/swift/swift-object-updater/build', 'docker/centos/binary/keepalived/build', 'docker/centos/source/glance/glance-api/build', 'docker/centos/source/swift/swift-data/build']",155,87e00d9c22b67c190755bd1fc572334ee7122975,bug/1483002,../../../../../tools/build.py,../../../../../tools/build-docker-image,162,155
openstack%2Fkolla~master~I984940ec9251bf65ddd1448425909a2c9108afd8,openstack/kolla,master,I984940ec9251bf65ddd1448425909a2c9108afd8,Add Dockerfile template for glance,MERGED,2015-08-12 06:51:57.000000000,2015-08-15 01:12:00.000000000,2015-08-15 01:11:59.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 11105}, {'_account_id': 14119}, {'_account_id': 16520}]","[{'number': 1, 'created': '2015-08-12 06:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6856bc61029f497cf6b20aa4e80f7f5ec708add8', 'message': 'Add Dockerfile template for glance\n\nChange-Id: I984940ec9251bf65ddd1448425909a2c9108afd8\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 2, 'created': '2015-08-12 07:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b470c8983a7b7b1883f84056915322c2b884322', 'message': 'Add Dockerfile template for glance\n\nChange-Id: I984940ec9251bf65ddd1448425909a2c9108afd8\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 3, 'created': '2015-08-12 11:55:49.000000000', 'files': ['docker_templates/glance/glance-registry/Dockerfile.j2', 'docker_templates/glance/glance-api/config-external.sh', 'docker_templates/glance/glance-registry/start.sh', 'docker_templates/glance/glance-api/Dockerfile.j2', 'docker_templates/glance/glance-registry/config-external.sh', 'docker_templates/glance/glance-api/start.sh', 'docker_templates/glance/glance-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/02bb5f90001e5415c156a58a6e6caa0283bc7d3b', 'message': 'Add Dockerfile template for glance\n\nChange-Id: I984940ec9251bf65ddd1448425909a2c9108afd8\nPartially-Implements: blueprint dockerfile-template\n'}]",2,211871,02bb5f90001e5415c156a58a6e6caa0283bc7d3b,15,6,3,14119,,,0,"Add Dockerfile template for glance

Change-Id: I984940ec9251bf65ddd1448425909a2c9108afd8
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/211871/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/glance/glance-api/config-external.sh', 'docker_templates/glance/glance-registry/Dockerfile.j2', 'docker_templates/glance/glance-registry/start.sh', 'docker_templates/glance/glance-api/Dockerfile.j2', 'docker_templates/glance/glance-registry/config-external.sh', 'docker_templates/glance/glance-api/start.sh', 'docker_templates/glance/glance-base/Dockerfile.j2']",7,6856bc61029f497cf6b20aa4e80f7f5ec708add8,bp/dockerfile-template,"FROM {{ namespace }}/{{ base_distro }}-{{ install_type }}-base:{{ tag }} MAINTAINER Kolla Project (https://launchpad.net/kolla) {% if install_type == 'binary' %} {% if base_distro in ['fedora', 'centos', 'oraclelinux'] %} RUN yum -y install \ openstack-glance \ python-oslo-i18n \ && yum clean all {% elif base_distro in ['ubuntu', 'debian'] %} RUN [""/bin/false""] {% endif %} {% elif install_type == 'source' %} ADD ./glance.tar / RUN ln -s /glance-* /glance RUN cd /glance \ && useradd --user-group glance \ && pip install -r requirements.txt \ && pip install /glance \ && mkdir /etc/glance /var/log/glance \ && cp -r /glance/etc/* /etc/glance/ \ && rm -rf /root/.cache {% endif %} ",,48,0
openstack%2Fkolla~master~Ica2afc92cae3905765e4031ea921de9b44a153fd,openstack/kolla,master,Ica2afc92cae3905765e4031ea921de9b44a153fd,Add Dockerfile template for neutron,MERGED,2015-08-13 09:48:19.000000000,2015-08-15 01:08:51.000000000,2015-08-15 01:08:46.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-08-13 09:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79fe4378fc06b4d520c5e8d0a8acffc3b72eb79a', 'message': 'Add Dockerfile template for neutron\n\nChange-Id: Ica2afc92cae3905765e4031ea921de9b44a153fd\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 2, 'created': '2015-08-13 10:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/26d3360c3d0904f8fb7097d56f295526a4913eec', 'message': 'Add Dockerfile template for neutron\n\nChange-Id: Ica2afc92cae3905765e4031ea921de9b44a153fd\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 3, 'created': '2015-08-13 12:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/16a19c43b5acb257000dc0c41a8f17c95da412e3', 'message': 'Add Dockerfile template for neutron\n\nChange-Id: Ica2afc92cae3905765e4031ea921de9b44a153fd\nPartially-Implements: blueprint dockerfile-template\n'}, {'number': 4, 'created': '2015-08-13 14:48:08.000000000', 'files': ['docker_templates/neutron/neutron-server/config-external.sh', 'docker_templates/neutron/neutron-server/start.sh', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/fwaas_driver.ini', 'docker_templates/neutron/neutron-agents/fwaas_driver.ini', 'docker_templates/neutron/neutron-linuxbridge-agent/Dockerfile.j2', 'docker_templates/neutron/neutron-base/ip_wrapper.py', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/start.sh', 'docker_templates/neutron/neutron-base/config-sudoers.sh', 'docker_templates/neutron/neutron-server/Dockerfile.j2', 'docker_templates/neutron/neutron-linuxbridge-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-dhcp-agent/config-external.sh', 'docker_templates/neutron/neutron-base/Dockerfile.j2', 'docker_templates/neutron/neutron-linuxbridge-agent/config-external.sh', 'docker_templates/neutron/neutron-openvswitch-agent/Dockerfile.j2', 'docker_templates/neutron/neutron-openvswitch-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-dhcp-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-metadata-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/neutron-metadata-agent/start.sh', 'docker_templates/neutron/neutron-openvswitch-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/Dockerfile.j2', 'docker_templates/neutron/neutron-agents/supervisord.conf'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0c78d631007daa263335c012fea1f20ed986e73', 'message': 'Add Dockerfile template for neutron\n\nChange-Id: Ica2afc92cae3905765e4031ea921de9b44a153fd\nPartially-Implements: blueprint dockerfile-template\n'}]",6,212442,e0c78d631007daa263335c012fea1f20ed986e73,16,4,4,16620,,,0,"Add Dockerfile template for neutron

Change-Id: Ica2afc92cae3905765e4031ea921de9b44a153fd
Partially-Implements: blueprint dockerfile-template
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/212442/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker_templates/neutron/neutron-server/config-external.sh', 'docker_templates/neutron/neutron-server/start.sh', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/fwaas_driver.ini', 'docker_templates/neutron/neutron-agents/fwaas_driver.ini', 'docker_templates/neutron/neutron-linuxbridge-agent/Dockerfile.j2', 'docker_templates/neutron/neutron-base/ip_wrapper.py', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/start.sh', 'docker_templates/neutron/neutron-base/config-sudoers.sh', 'docker_templates/neutron/neutron-server/Dockerfile.j2', 'docker_templates/neutron/neutron-linuxbridge-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-dhcp-agent/config-external.sh', 'docker_templates/neutron/neutron-base/Dockerfile.j2', 'docker_templates/neutron/neutron-linuxbridge-agent/config-external.sh', 'docker_templates/neutron/neutron-openvswitch-agent/Dockerfile.j2', 'docker_templates/neutron/neutron-openvswitch-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-dhcp-agent/start.sh', 'docker_templates/neutron/neutron-agents/neutron-metadata-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/neutron-metadata-agent/start.sh', 'docker_templates/neutron/neutron-openvswitch-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/neutron-l3-agent/config-external.sh', 'docker_templates/neutron/neutron-agents/Dockerfile.j2', 'docker_templates/neutron/neutron-agents/supervisord.conf']",22,79fe4378fc06b4d520c5e8d0a8acffc3b72eb79a,bp/dockerfile-template,../../../docker/common/neutron/neutron-agents/supervisord.conf,,165,0
openstack%2Fcinder-specs~master~I92383d91de5feffbe587c285655e5df36901b687,openstack/cinder-specs,master,I92383d91de5feffbe587c285655e5df36901b687,Activate pep8 check that _ is imported,MERGED,2015-08-04 15:53:40.000000000,2015-08-15 01:07:56.000000000,2015-08-15 01:07:53.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 6601}, {'_account_id': 6804}, {'_account_id': 12608}]","[{'number': 1, 'created': '2015-08-04 15:53:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/0ea0ed782a718d9e2131ec6e51bea592e7749039', 'message': 'Activate pep8 check that _ is imported\n\nRemove the specification in tox.ini that _ is a builtin so that\nit will no longer assume that _ does not need to be imported.\nThis helps ensure that the _ from i18n is used.\n\nActivating this check did not flag any violations.\n\nChange-Id: I92383d91de5feffbe587c285655e5df36901b687\n'}]",0,209146,0ea0ed782a718d9e2131ec6e51bea592e7749039,13,8,1,17123,,,0,"Activate pep8 check that _ is imported

Remove the specification in tox.ini that _ is a builtin so that
it will no longer assume that _ does not need to be imported.
This helps ensure that the _ from i18n is used.

Activating this check did not flag any violations.

Change-Id: I92383d91de5feffbe587c285655e5df36901b687
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/46/209146/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ea0ed782a718d9e2131ec6e51bea592e7749039,,,builtins = _,0,1
openstack%2Fnova~master~Ie5cd89debf95fa969251f42a1346f440ed4cb221,openstack/nova,master,Ie5cd89debf95fa969251f42a1346f440ed4cb221,libvirt: Remove unnecessary check in LibvirtISCSIVolumeDriver,ABANDONED,2015-07-12 02:49:01.000000000,2015-08-15 00:56:37.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-07-12 02:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e9421d126ae554e3fd10e316b972e2085dee421', 'message': ""libvirt: Remove dead code path in method clear_volume\nlibvirt: Remove unnecessary check in LibvirtISCSIVolumeDriver\n\nIn oslo.config StrOpt provide parameter choices, that means the option's\nvalue must be in the choices, otherewise an exception will be raised.\nConfig option iscsi_iface always has no-none value, and we don't need\nmaintain a copy set of types of iscsi_iface to check.\n\nChange-Id: Ie5cd89debf95fa969251f42a1346f440ed4cb221\nPartial-Bug: #1471168\n""}, {'number': 2, 'created': '2015-07-12 02:49:51.000000000', 'files': ['nova/virt/libvirt/volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15bd7d2beab1d9ffdd56842ce0183877443a116f', 'message': ""libvirt: Remove unnecessary check in LibvirtISCSIVolumeDriver\n\nIn oslo.config StrOpt provide parameter choices, that means the option's\nvalue must be in the choices, otherewise an exception will be raised.\nConfig option iscsi_iface always has no-none value, and we don't need\nmaintain a copy set of types of iscsi_iface to check.\n\nChange-Id: Ie5cd89debf95fa969251f42a1346f440ed4cb221\nPartial-Bug: #1471168\n""}]",0,200858,15bd7d2beab1d9ffdd56842ce0183877443a116f,12,9,2,9796,,,0,"libvirt: Remove unnecessary check in LibvirtISCSIVolumeDriver

In oslo.config StrOpt provide parameter choices, that means the option's
value must be in the choices, otherewise an exception will be raised.
Config option iscsi_iface always has no-none value, and we don't need
maintain a copy set of types of iscsi_iface to check.

Change-Id: Ie5cd89debf95fa969251f42a1346f440ed4cb221
Partial-Bug: #1471168
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/200858/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume.py'],1,1e9421d126ae554e3fd10e316b972e2085dee421,bug/1471168, self.transport = CONF.libvirt.iscsi_iface if data[2] == transport_iface:," supported_transports = ['be2iscsi', 'bnx2i', 'cxgb3i', 'cxgb4i', 'qla4xxx', 'ocs'] if CONF.libvirt.iscsi_iface: self.transport = CONF.libvirt.iscsi_iface else: self.transport = 'default' if data[2] in self.supported_transports:",2,7
openstack%2Fcinder-specs~master~I436bf822c56b6f63db5b5df8039fd02781f91c9f,openstack/cinder-specs,master,I436bf822c56b6f63db5b5df8039fd02781f91c9f,Cinder Volume replication V2,MERGED,2015-02-13 05:19:56.000000000,2015-08-15 00:43:41.000000000,2015-08-15 00:43:40.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 428}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2417}, {'_account_id': 2861}, {'_account_id': 4418}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6043}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 8202}, {'_account_id': 8587}, {'_account_id': 8846}, {'_account_id': 9003}, {'_account_id': 9186}, {'_account_id': 9924}, {'_account_id': 10263}, {'_account_id': 10796}, {'_account_id': 11079}, {'_account_id': 11904}, {'_account_id': 12131}, {'_account_id': 12924}, {'_account_id': 13425}, {'_account_id': 14339}, {'_account_id': 14532}, {'_account_id': 15506}, {'_account_id': 15556}, {'_account_id': 15961}]","[{'number': 1, 'created': '2015-02-13 05:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3aa564fe1e3609387c1f125e04ecfe61c2c6fe7c', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}, {'number': 2, 'created': '2015-02-13 05:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/58119f1c86eb423ef1d51d7722e82a3690d8796f', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}, {'number': 3, 'created': '2015-04-14 14:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5e4bc6caacde6c0379746d963c43f7e093588a42', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}, {'number': 4, 'created': '2015-05-11 23:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/be33c1912f778f1c67b7566e73a7b1c5102be814', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}, {'number': 5, 'created': '2015-05-28 05:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/137ffdfcb40b21920b6257c7ce3ba0b5024f6251', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}, {'number': 6, 'created': '2015-07-30 23:57:44.000000000', 'files': ['specs/liberty/replication_v2.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/df4971baaff3d571178a87341109eeba8d08e4ca', 'message': 'Cinder Volume replication V2\n\nThis proposal suggests a V2 of Cinder volume replication.\n\nChange-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f\n'}]",203,155644,df4971baaff3d571178a87341109eeba8d08e4ca,114,33,6,2243,,,0,"Cinder Volume replication V2

This proposal suggests a V2 of Cinder volume replication.

Change-Id: I436bf822c56b6f63db5b5df8039fd02781f91c9f
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/44/155644/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/replication_v2.rst'],1,3aa564fe1e3609387c1f125e04ecfe61c2c6fe7c,bp/cinder-replication-v2,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== VolumeReplication_V2 ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/example Volume replication was implemented in the Juno release. It was a lot of challenging and difficult work, and in the end we were fortunate to have an implementation of Volume replication. This spec proposes a version 2 of the replication implementation in Cinder. During the Kilo release however as the feature started to see some usage and additional backends tried to implement it, som problems were discovered. The methodology we use isn't overly efficient, it's somewhat complex in places where it doesn't necessarily need to be. The point of this spec is not to criticize or throw rocks at the existing implementation, however I think we can do better. I'd propose a simplified version of replication that will also provide the ability to easily handle fail over. By using Volume Capabilities to first pick a backend that supports replication, we can then add an API call to ""enable"" replication, rather than stuffing more logic in to create as we're doing now. This would also allow us to simplify the state management and trasition of replicated volumes. Problem description =================== The replication feature added in Juno was a great start, but now that it's been out in the wild for a little while and other are trying to write implementations against, there are some places that we could simplify a bit and likely do better. The current implementation is fairly complex and has proven to be difficult to implement for backend devices as well as difficult to maintain. There is also some concern around how states are managed and stored in the data base. The bottom line is that there are a lot of moving parts that can and do easily get out of sync. There's a good deal of work that's been identified to try and clean up things like data base polling and free from strings/sentences being used to store extended_status information in the data base. Proposed change =============== This spec proposes that we make some fairly significant changes to the replication feature in Cinder. We'd still rely on using capabilities and types to identify whether a backend supports replication and ensure we can place a volume correctly if we want to use the feature. The big difference however is around the creation of the replica and the life-cycle that goes with it. For the first iteration we would only support a single remote device, but this is something that's considered in this spec and could easily be extended to be included in future work. Backend devices (drivers) would be listed in the cinder.conf file and we add entries to indicate pairing. Note, this would propose also adding a setting for a driver in the conf file ""secondary_only=True"" (default = False). That way a secondary can be elimated from create placement filtering, and used ONLY for replication and fail over if desired. This proposal suggests that we would decouple the replication information from the create call. The flow would be something like this: * Create a volume of type ""replication_capable=True"" * Cinder uses the existing functionality of the cpabilities filter to pick a backend that support the requested replication type and creates a volume nothing different than the existing workflow. * Add API calls for replication-enable, replication-disable, replication-failover ** replication-enable: cinder replication-enable <volume-id> The default would simply require the volume-id one wishes to start replicating. Using the cinder.conf entries the driver will be able to pull the required information it needs to set up the replication calls. This leaves the majority of the work up to the driver that implements and understands replication, allowing flexibility and keeping complexity and rigid requirements out of Cinder. Using this information we make a direct call to the manager and then the backend driver to setup and start replicating. ** replication-disable cinder replciation-disable <volume-id> Pretty self explanatory, again a call directly to the manager and then the driver that disables replication operations. Optional arguments include ""--delete"" to delete the replica, so for example if you needed to stop replicating temporarily but keep things in place so you can resume later, you can and just call enable again. ** replicaton-failover cinder replication-failover <volume-id> This would work in one of two ways; First it would try the ""nice"" approach, if the primary is up and available, the call will go to the primary, giving it a chance to do any clean up of special calls that it might need. The reality is that fail over is something usually done due to a failure of a device. In that case, I propose that when an operation request for a volume arrives at the scheduler, and the host is unreachable it checks if the volume is replicated, if it is, then it uses that host for the requested call. This indicates that there are mutliple hosts possible in the Volume object, which are added as part of replication-enable, and marked unavailable on replication-disable. Workflow diagram ----------------- Create call on the left: No change to workflow Replication calls on the right: Direct to manager then driver via host entry +-----------+ +--< +Volume API + >---------+ Enable routing directly to | +-----------+ | Manager then driver, via host | | | | | +-----------+ | +--> + TaskFlow | | +--< +-----------+ | | | | | | +-----------+ | +--> + Scheduler | | +--< +-----------+ | | | | | | +-----------+ | +--> + Manager | <---------+ +--< +-----------+ >---------+ | | | | | +-----+-----+ | +--> + Driver + <---------+ +-----+-----+ In the case of calls like attach, extend, clone, delete etc; if either the backend host is not reachable, or if the primary_host_status column is set, we'll redirect to the host in the secondary_hosts column. If that's unavailalbe then we fail, just like we do today. See DB section below Alternatives ------------ There are all sorts of alternatives, the most obvious of which is to leave the implementation we have and iron it out. Maybe that's good, maybe that's not. In my opinion this approach is simpler, easier to maintain and more flexible; otherwise I wouldn't propose it. The fact that there's only one vendor that's implemented replication in the existing setup and they have a number of open issues currently we're not causing a terrible amount of churn or disturbance if we move forward with this now. The result will be something that should be easier to implement and as an option will have less impact on the core code. Data model impact ----------------- * What new data objects and/or database schema changes is this going to require? There are two changes at minimum that would be required here, both to the Volumes table. First we would want a secondary_hosts column added. In reality to allow for expansion of things like three way replication we should make this a comma seperated list so we can add to it. I'd propose something like this: secondary_hosts None (default) secondary_hosts foo:enabled (2 way example) secondary_hosts foo:enabled,biz:disabled (3 way example) There may be a much better way to represent this in the DB but this is the gist of it. Additionaly we would want to have a way to short cut the host timeout process, or to force use of a secondary even if the primary host is available. This is where the second column in the volume table would come in: primary_host_enabled True (default) primary_host_enabled False (means use secondary if there is one) * What database migrations will accompany this change. Simple DB migrate on the Volumes table, defaults will be acceptable in the majority of the cases, although we'll have to ensure we do something to preserve/reenable IBM backends that may be using replication REST API impact --------------- There would be no modification to the existing API calls with the exception of removing the old replication variables which don't seem to work right now anyway. In addition the three calls mentioned earlier would need to be introduced to the V2 API> * Specification for the methods cinder replication-enable <volume-id> Enables replication services on the specified volume. Checks to ensure that recplication capabilities are available on the volumes current host, if not returns an InvalidRequest error, but does not put the volume in an error status. Requires the volume has been created using the extra-spec replication_capable=True. In addition this assumes that the target devices are configured properly in the cinder.conf file and the devices are linked. cinder replication-disable <volume-id> Disables replication services on a volume that is currently in a replication enabled state. If the volume is not in a replication enabled state, we ignore the request and return an InvalidStatus error, but do not set the volume to error status. cinder replication-failover <volume-id> Sets things up so taht subsequent calls should be serviced by the secondary_host. * Example use case including typical API samples for both data supplied by the caller and the response Use case is to provide highly available data to end users. By using replication and fail over to a secondary the device storing the users data can burst into flames, but a copy of that data is still available on another device, perhaps in another data center and Cinder has the capability of just redirecting requests for that data with minimal or zero down time. * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Biggest decision for a deployer here is whether or not he or she has a replication capable device(s), and if he or she would like to enable that feature. By default the replication API calls should be admin only, the enable call will need to be modified depending on what we decide to do for default. If the default is to just enable it, we should leave it as admin policy by default. If we want to expose it to the end user, obviously we should modify the policy. Example JSON schema definitions can be found in the Cinder tree http://git.openstack.org/cgit/openstack/cinder/tree/cinder/api/schemas/v1.1 Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? Nope * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? Nope, not that I know of * Does this change involve cryptography or hashing? Nope, not that I know of * Does this change require the use of sudo or any elevated privileges? Nope, not that I know of * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. Nope, not that I know of * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. Nope, not that I know of For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-cinderclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but when considering large scale deployments the proposed call may in fact be performed on hundreds of nodes. * Scheduler filters get called once per host for every volume being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries can have a profound impact on performance, especially in critical sections of code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other volume drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that targets (LVM) are stored in, how do we handle any used directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the volumes in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other volume drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: john-griffith Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in cinder, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Cinder (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. Obviously this is going to need docs References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. link to any vendor documentation) * Anything else you feel it is worthwhile to refer to The specs process is a bit much, we should revisit it. It's rather bloated, and while the first few sections are fantastic for requiring thought and planning, towards the end it just gets silly. ",,476,0
openstack%2Fnova~master~I26c636e25e8bf63dc20cb7421292ee49cc95a34a,openstack/nova,master,I26c636e25e8bf63dc20cb7421292ee49cc95a34a,Use unique values for hypervisor_hostnames,ABANDONED,2015-06-03 02:35:49.000000000,2015-08-15 00:42:51.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16395}]","[{'number': 1, 'created': '2015-06-03 02:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db227cdc466a1adc4e6857268693b16bc213cdb9', 'message': 'Use unique values for hypervisor_hostnames\n\nChanges hypervisor_hostname to not allow nullable\nentries and requires that each entry is an unique\ninstance name.\n\nChange-Id: I26c636e25e8bf63dc20cb7421292ee49cc95a34a\nCloses-bug: #1329299\n'}, {'number': 2, 'created': '2015-06-04 20:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b73dfc7fbad1c99f0c41335d0f41dbfee9e1832b', 'message': 'Use unique values for hypervisor_hostnames\n\nChanges hypervisor_hostname to not allow nullable\nentries and requires that each entry is an unique\ninstance name.\n\nChange-Id: I26c636e25e8bf63dc20cb7421292ee49cc95a34a\nCloses-bug: #1329299\n'}, {'number': 3, 'created': '2015-06-05 14:05:06.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/50a46d6612caa3d7f0e8d9dcad8bdfec81648503', 'message': 'Use unique values for hypervisor_hostnames\n\nChanges hypervisor_hostname to not allow nullable\nentries and requires that each entry is an unique\ninstance name.\n\nChange-Id: I26c636e25e8bf63dc20cb7421292ee49cc95a34a\nCloses-bug: #1329299\n'}]",1,187844,50a46d6612caa3d7f0e8d9dcad8bdfec81648503,28,12,3,16395,,,0,"Use unique values for hypervisor_hostnames

Changes hypervisor_hostname to not allow nullable
entries and requires that each entry is an unique
instance name.

Change-Id: I26c636e25e8bf63dc20cb7421292ee49cc95a34a
Closes-bug: #1329299
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/187844/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py']",2,db227cdc466a1adc4e6857268693b16bc213cdb9,bug/1329299," Column('hypervisor_hostname', String(length=255), nullable=False, unique=True),"," Column('hypervisor_hostname', String(length=255)),",3,2
openstack%2Ftrove-integration~master~Iac7e27df935f1b2d6bed3cad2106199aae941f31,openstack/trove-integration,master,Iac7e27df935f1b2d6bed3cad2106199aae941f31,Set the BRANCH_OVERRIDE correctly for stable-branches,MERGED,2015-08-14 01:45:02.000000000,2015-08-15 00:30:12.000000000,2015-08-15 00:30:11.000000000,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 10215}]","[{'number': 1, 'created': '2015-08-14 01:45:02.000000000', 'files': ['scripts/redstack'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/95d9f2aed5816c056c774eae5ac6a3adb4420553', 'message': 'Set the BRANCH_OVERRIDE correctly for stable-branches\n\nStable branches of trove (currently stable/juno and stable/kilo) do not\nset BRANCH_OVERRIDE based on the branch descriptor in the jenkins job, so\nexplicitly set the BRANCH_OVERRIDE based on the what zuul sets as the\n$OVERRIDE_ZUUL_BRANCH\n\nChange-Id: Iac7e27df935f1b2d6bed3cad2106199aae941f31\n'}]",0,212898,95d9f2aed5816c056c774eae5ac6a3adb4420553,15,4,1,5293,,,0,"Set the BRANCH_OVERRIDE correctly for stable-branches

Stable branches of trove (currently stable/juno and stable/kilo) do not
set BRANCH_OVERRIDE based on the branch descriptor in the jenkins job, so
explicitly set the BRANCH_OVERRIDE based on the what zuul sets as the
$OVERRIDE_ZUUL_BRANCH

Change-Id: Iac7e27df935f1b2d6bed3cad2106199aae941f31
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/98/212898/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/redstack'],1,95d9f2aed5816c056c774eae5ac6a3adb4420553,,"if [[ $BRANCH_OVERRIDE == ""default"" && $OVERRIDE_ZUUL_BRANCH != ""master"" ]]; then $BRANCH_OVERRIDE=$OVERRIDE_ZUUL_BRANCH fi",,3,0
openstack%2Fmanila~master~I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb,openstack/manila,master,I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb,Updated from global requirements,MERGED,2015-08-13 02:13:44.000000000,2015-08-15 00:25:33.000000000,2015-08-14 18:36:23.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 13144}, {'_account_id': 15100}, {'_account_id': 16657}, {'_account_id': 17623}]","[{'number': 1, 'created': '2015-08-13 02:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5703b3dfe277c081a9351b5ad4957f20932cae6c', 'message': 'Updated from global requirements\n\nChange-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb\n'}, {'number': 2, 'created': '2015-08-13 09:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f0c9234746c51e70c94d6df48a21a3f781a8c170', 'message': 'Updated from global requirements\n\nChange-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb\n'}, {'number': 3, 'created': '2015-08-13 20:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cbb1b44a044756fd9d5d6f3a000da99fba5aab40', 'message': 'Updated from global requirements\n\nChange-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb\n'}, {'number': 4, 'created': '2015-08-14 08:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e8e75f0eba879b4daacd85a3150cce03b83e9fb7', 'message': 'Updated from global requirements\n\nChange-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb\n'}, {'number': 5, 'created': '2015-08-14 09:16:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/02f59958d93fb1a4ce559524ffedd6b2005b08d0', 'message': 'Updated from global requirements\n\nChange-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb\n'}]",0,212257,02f59958d93fb1a4ce559524ffedd6b2005b08d0,28,9,5,11131,,,0,"Updated from global requirements

Change-Id: I7bd6dc5a22bae9f626e3dcce1563948e25dbc1cb
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/212257/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5703b3dfe277c081a9351b5ad4957f20932cae6c,openstack/requirements,oslo.config>=2.1.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,1,1
openstack%2Fproject-config~master~If7723c1880760a3de0314e5ed68a83905e66a8b2,openstack/project-config,master,If7723c1880760a3de0314e5ed68a83905e66a8b2,Nova non-voting bandit job,ABANDONED,2015-05-29 15:57:00.000000000,2015-08-14 23:34:11.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8119}, {'_account_id': 11716}, {'_account_id': 11861}]","[{'number': 1, 'created': '2015-05-29 15:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e7b8caa28c53be070c1f3b59e93eae96b43eb551', 'message': 'Nova non-voting bandit job\n\nNova has a tox env to run bandit. Run it\nnon-voting as part of the gate on master only.\n\nDepends-On: I14c34c2ec8db73179964282cc95df96bd9a600fa\nChange-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2\n'}, {'number': 2, 'created': '2015-05-29 18:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/84812995a909a1e7490eb5dd16d259cc64eca9f0', 'message': 'Nova non-voting bandit job\n\nNova has a tox env to run bandit. Run it\nnon-voting as part of the gate on master only.\n\nDepends-On: I3026b81317f0a6322acfc94784899a7453af586f\nChange-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2'}, {'number': 3, 'created': '2015-07-23 17:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1472c55b9677729ec8cde717064c498d80f2e924', 'message': 'Nova non-voting bandit job\n\nNova has a tox env to run bandit. Run it\nnon-voting as part of the gate on master only.\n\nDepends-On: I3026b81317f0a6322acfc94784899a7453af586f\nChange-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2\n'}, {'number': 4, 'created': '2015-07-23 17:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f80e27db1229bd605b4aeaecb5114fc9456a942', 'message': 'Nova non-voting bandit job\n\nNova has a tox env to run bandit. Run it\nnon-voting as part of the check queue on master only.\n\nDepends-On: I3026b81317f0a6322acfc94784899a7453af586f\nChange-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2\n'}, {'number': 5, 'created': '2015-07-23 17:56:49.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/df4e109b1a739cfdb07400ec2e3a0bf053a31236', 'message': 'Nova non-voting bandit job\n\nNova has a tox env to run bandit. Run it\nnon-voting as part of the check queue on master only.\n\nDepends-On: I3026b81317f0a6322acfc94784899a7453af586f\nChange-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2\n'}]",5,186806,df4e109b1a739cfdb07400ec2e3a0bf053a31236,21,11,5,5638,,,0,"Nova non-voting bandit job

Nova has a tox env to run bandit. Run it
non-voting as part of the check queue on master only.

Depends-On: I3026b81317f0a6322acfc94784899a7453af586f
Change-Id: If7723c1880760a3de0314e5ed68a83905e66a8b2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/186806/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,e7b8caa28c53be070c1f3b59e93eae96b43eb551,, - name: gate-nova-tox-bandit branch: ^(?!stable/(icehouse|juno)).*$ voting: false - gate-nova-tox-bandit,,5,0
openstack%2Fkeystone~master~I04d78c4c2035088fb22258e54e2540238dd0e95b,openstack/keystone,master,I04d78c4c2035088fb22258e54e2540238dd0e95b,Updating sample configuration file,MERGED,2015-08-14 08:08:38.000000000,2015-08-14 23:33:03.000000000,2015-08-14 23:33:02.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-08-14 08:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d0599e44bd399da53bdb1f3f826a421df6fb8a22', 'message': 'Updating sample configuration file\n\nChange-Id: I04d78c4c2035088fb22258e54e2540238dd0e95b\n'}, {'number': 2, 'created': '2015-08-14 13:26:12.000000000', 'files': ['etc/keystone.conf.sample'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6a39608766d933614ba6e5c9c05956abd574fa0', 'message': 'Updating sample configuration file\n\nChange-Id: I04d78c4c2035088fb22258e54e2540238dd0e95b\n'}]",0,213021,a6a39608766d933614ba6e5c9c05956abd574fa0,8,2,2,11131,,,0,"Updating sample configuration file

Change-Id: I04d78c4c2035088fb22258e54e2540238dd0e95b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/21/213021/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/keystone.conf.sample'],1,d0599e44bd399da53bdb1f3f826a421df6fb8a22,openstack/keystone/genconf,#user_attribute_ignore = default_project_id,"#user_attribute_ignore = default_project_id,tenants",1,1
openstack%2Fhorizon~master~I896e880810da65437586fb7428d724bd3303ddc7,openstack/horizon,master,I896e880810da65437586fb7428d724bd3303ddc7,Updating docs for customization,MERGED,2015-08-13 17:56:49.000000000,2015-08-14 23:32:49.000000000,2015-08-14 23:32:43.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6650}, {'_account_id': 7665}, {'_account_id': 9237}, {'_account_id': 9622}, {'_account_id': 11941}, {'_account_id': 12826}]","[{'number': 1, 'created': '2015-08-13 17:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cec0f61e07c3fa6ea0a0d013c84cbd8248cd4380', 'message': 'Updating docs for customization\n\nChange-Id: I896e880810da65437586fb7428d724bd3303ddc7\nCloses-bug: #1484623\n'}, {'number': 2, 'created': '2015-08-13 17:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fd1422166edeaebb9f2eecd321bbc2b254f14ca4', 'message': 'Updating docs for customization\n\nChange-Id: I896e880810da65437586fb7428d724bd3303ddc7\nCloses-bug: #1484623\n'}, {'number': 3, 'created': '2015-08-13 19:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b09a6c5c28e304aa7b303e6eac51455001a8fca', 'message': 'Updating docs for customization\n\nChange-Id: I896e880810da65437586fb7428d724bd3303ddc7\nCloses-bug: #1484623\n'}, {'number': 4, 'created': '2015-08-13 22:33:16.000000000', 'files': ['doc/source/topics/customizing.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1defd09f8cd263a597a5a92007935c0ab4e78460', 'message': 'Updating docs for customization\n\nChange-Id: I896e880810da65437586fb7428d724bd3303ddc7\nCloses-bug: #1484623\n'}]",7,212683,1defd09f8cd263a597a5a92007935c0ab4e78460,23,8,4,6650,,,0,"Updating docs for customization

Change-Id: I896e880810da65437586fb7428d724bd3303ddc7
Closes-bug: #1484623
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/212683/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/topics/customizing.rst'],1,cec0f61e07c3fa6ea0a0d013c84cbd8248cd4380,bug/1484623,"Default Horizon panels are loaded based upon files within the openstack_dashboard/enabled/ folder. These files are loaded based upon the filename order, with space left for more files to be added. There are some example files available within this folder, with the .example suffix added. Developers and deployers should strive to use this method of customization as much as possible, and support for this is given preference over more exotic methods such as monkey patching and overrides files. Horizon customization module (overrides) ======================================== Horizon has a global overrides file available to perform customizations that are not yet customizable via configuration settings. This file can perform monkey patching and other forms of fixes which are not possible via the enabled folder's customization method. This method of customization is meant to be available for deployers of Horizon, and use of this should be avoided by Horizon plugins at all cost. Plugins needing this level of monkey patching and flexibility should instead look for changing their __init__.py file and performing customizations through other means. ",,19,0
openstack%2Fhorizon~master~I0ce1156c036a6175bc96892cbcf0211d8712d7b3,openstack/horizon,master,I0ce1156c036a6175bc96892cbcf0211d8712d7b3,JSCS Cleanup - horizon/ tech-debt,MERGED,2015-07-07 23:41:44.000000000,2015-08-14 23:12:29.000000000,2015-08-14 23:12:25.000000000,"[{'_account_id': 3}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 10442}, {'_account_id': 11881}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13785}, {'_account_id': 13805}, {'_account_id': 17000}, {'_account_id': 17013}]","[{'number': 1, 'created': '2015-07-07 23:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/984f59689ebb82c3987e92c3d81116d3caef2979', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 2, 'created': '2015-07-10 16:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/64d035ef8f33a61f8d75decec9b992947de95cce', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 3, 'created': '2015-07-13 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8bf7a81e6407b799d353a3ef841acf13ec08903a', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 4, 'created': '2015-07-13 19:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30cdcd680ddcb57ffec0eee384b5cde63950deef', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 5, 'created': '2015-07-14 18:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5c93a6d852511cc9625be321283340f66d55c46', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 6, 'created': '2015-07-18 06:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b3223705d9b93055e51f09633669aea4abdf2394', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 7, 'created': '2015-07-20 16:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6339cd0a6452c776f3fd5e33852cd36ff769f8ee', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 8, 'created': '2015-07-21 16:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/09c1e488986b24c6c0c366d7bdf37ada42a5def1', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 9, 'created': '2015-07-21 21:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b589307a3411df19438724e34349672af546d127', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 10, 'created': '2015-07-21 23:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/50c3035154ee3863040c9c6808076d1c3e6041f1', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 11, 'created': '2015-07-22 21:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/efff4a9829f1861290821bbfd51c47582952d36d', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 12, 'created': '2015-07-24 21:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0f5fc5359b4104c40e8fc96134ff6b5c36a342e', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 13, 'created': '2015-07-28 15:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d09416f3312c4621a8571d51e6634fd64e900295', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 14, 'created': '2015-07-29 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b7482cc5667d4a573ca1658d5ef5e3e20e31026a', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 15, 'created': '2015-07-29 17:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1a619a50248dbd81525938c0af44bc5fd93dcff', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 16, 'created': '2015-07-29 23:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea110c939cd35ed585c8f3d6e885248cc1097ea6', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 17, 'created': '2015-07-30 00:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8c7d4e5c4603adeb5894e63050ba3ada52a86dc9', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 18, 'created': '2015-07-31 07:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/40aa442a5b93e2bd173fc04e94bf6123ab8f6c8b', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 19, 'created': '2015-07-31 17:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d73ed3461a54fca5fcce04988dbe85f773b52c70', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 20, 'created': '2015-08-04 06:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c97855e3be457a83b1eddbddbc51f388b54acaa5', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 21, 'created': '2015-08-04 23:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e459bdcb822e9a9f7d235ca0a46bd54a3e81e85c', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 22, 'created': '2015-08-05 17:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6cec853f601f704e2fb41de8528dbe6b4a6fdc50', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 23, 'created': '2015-08-05 17:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2d7004ac53131cd1bb501face37ba5cfa931143', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 24, 'created': '2015-08-06 19:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/146d893fd08295e049daff109f77683463e62dc0', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 25, 'created': '2015-08-06 20:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1038bbb180d02834490121ec2265eb71ac8d3fba', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 26, 'created': '2015-08-14 18:14:15.000000000', 'files': ['horizon/static/framework/util/tech-debt/helper-functions.js', 'horizon/templates/horizon/common/_modal_form.html', 'horizon/static/framework/util/tech-debt/modal-form-update-metadata-ctrl.js', 'horizon/static/framework/util/tech-debt/image-file-on-change.directive.js', 'horizon/static/framework/util/tech-debt/tech-debt.module.js', 'horizon/static/framework/util/tech-debt/helper-functions.service.js', 'openstack_dashboard/dashboards/project/containers/templates/containers/_update.html', 'horizon/static/framework/util/tech-debt/helper-functions.spec.js', 'horizon/templates/horizon/common/_modal_form_update_metadata.html', 'horizon/static/framework/util/tech-debt/dummy.controller.js', 'horizon/static/framework/util/tech-debt/dummy.js', 'horizon/static/framework/util/tech-debt/image-file-on-change.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1461b920c9fc226ce1be88c1bc4efee0d3a3aa6c', 'message': 'JSCS Cleanup - horizon/ tech-debt\n\nRefactor codebase to follow JP styleguide using eslint.\n\nUse Functions with DI for Controllers.\nUse this instead of $scope.\nName the files as per convention.\nAdd Apache License for the files.\n\nChange-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3\nPartially-Implements: blueprint jscs-cleanup\n'}]",40,199345,1461b920c9fc226ce1be88c1bc4efee0d3a3aa6c,101,13,26,16999,,,0,"JSCS Cleanup - horizon/ tech-debt

Refactor codebase to follow JP styleguide using eslint.

Use Functions with DI for Controllers.
Use this instead of $scope.
Name the files as per convention.
Add Apache License for the files.

Change-Id: I0ce1156c036a6175bc96892cbcf0211d8712d7b3
Partially-Implements: blueprint jscs-cleanup
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/199345/26 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/horizon/common/_modal_form.html', 'horizon/templates/horizon/common/_modal_form_update_metadata.html', 'horizon/static/framework/util/tech-debt/modal-form-update-metadata-ctrl.js', 'horizon/static/framework/util/tech-debt/dummy.js', 'openstack_dashboard/dashboards/project/containers/templates/containers/_update.html']",5,984f59689ebb82c3987e92c3d81116d3caef2979,bp/jscs-cleanup,{% block ng_controller %}DummyController{% endblock %},{% block ng_controller %}DummyCtrl{% endblock %},31,28
openstack%2Fmonasca-ceilometer~master~I2772e936a6b4aa928048c4fb916a036b9f3df61c,openstack/monasca-ceilometer,master,I2772e936a6b4aa928048c4fb916a036b9f3df61c,Simple metaquery for get samples and resources,MERGED,2015-08-11 20:59:52.000000000,2015-08-14 23:03:52.000000000,2015-08-14 23:03:52.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 7052}, {'_account_id': 11580}, {'_account_id': 12621}, {'_account_id': 12637}, {'_account_id': 13560}]","[{'number': 1, 'created': '2015-08-11 20:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/94206d0de932e7ae1221c3ece89615758fd9fc04', 'message': 'Simple metaquery for get samples and resources.\n\nCurrently, monasca does not return metadata for get meters and statistics,\nso metaquery for meters and statistics cannot be supported in ceilosca yet.\n\nChange-Id: I2772e936a6b4aa928048c4fb916a036b9f3df61c\n'}, {'number': 2, 'created': '2015-08-11 21:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/7cb38f05c0d491a424b3de6ec4a7d52a2d26a44e', 'message': 'Simple metaquery for get samples and resources\n\nCurrently, monasca does not return metadata for get meters and statistics,\nso metaquery for meters and statistics cannot be supported in ceilosca yet.\n\nChange-Id: I2772e936a6b4aa928048c4fb916a036b9f3df61c\n'}, {'number': 3, 'created': '2015-08-14 14:54:32.000000000', 'files': ['ceilosca/ceilometer/storage/impl_monasca.py', 'ceilosca/ceilometer/tests/storage/test_impl_monasca.py'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/98729deed13e447bc05e50c398a8692c03dc87f1', 'message': 'Simple metaquery for get samples and resources\n\nCurrently, monasca does not return metadata for get meters and statistics,\nso metaquery for meters and statistics cannot be supported in ceilosca yet.\n\nChange-Id: I2772e936a6b4aa928048c4fb916a036b9f3df61c\n'}]",2,211752,98729deed13e447bc05e50c398a8692c03dc87f1,18,7,3,12621,,,0,"Simple metaquery for get samples and resources

Currently, monasca does not return metadata for get meters and statistics,
so metaquery for meters and statistics cannot be supported in ceilosca yet.

Change-Id: I2772e936a6b4aa928048c4fb916a036b9f3df61c
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/52/211752/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilosca/ceilometer/storage/impl_monasca.py', 'ceilosca/ceilometer/tests/storage/test_impl_monasca.py']",2,94206d0de932e7ae1221c3ece89615758fd9fc04,simple_metadata_query," 'complex': False, 'metadata': True, 'simple': True 'metadata': True,"," kwargs = dict(metaquery=True) self.assertRaises(ceilometer.NotImplementedError, lambda: list(conn.get_resources(**kwargs))) sample_filter = storage.SampleFilter( meter='specific meter', metaquery='specific metaquery') self.assertRaises(ceilometer.NotImplementedError, lambda: list(conn.get_samples(sample_filter))) 'complex': False, 'metadata': False, 'simple': True 'metadata': False,",43,17
openstack%2Frally~master~I195fbdeef9140fd6f30e419692ca812337f74765,openstack/rally,master,I195fbdeef9140fd6f30e419692ca812337f74765,Fixes Typos in rally files,MERGED,2015-08-04 11:53:42.000000000,2015-08-14 22:58:45.000000000,2015-08-05 12:58:05.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 8851}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-08-04 11:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1ba5b576af5e881d82e969058995ccd4f4054c6d', 'message': 'Fixes Typos in rally files\n\nThis submission fixes typos in the following files :\n1. ./tests/unit/plugins/openstack/scenarios/neutron/test_network.py\n2. ./tests/unit/task/processing/test_utils.py\n3. ./tests/unit/verification/test_config.py\n4. ./etc/rally/rally.conf.sample\n\nChange-Id: I195fbdeef9140fd6f30e419692ca812337f74765\n'}, {'number': 2, 'created': '2015-08-05 06:47:37.000000000', 'files': ['etc/rally/rally.conf.sample', 'tests/unit/plugins/openstack/scenarios/neutron/test_network.py', 'tests/unit/task/processing/test_utils.py', 'tests/unit/verification/test_config.py', 'rally/osclients.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/52b5c4891db81b7e6b1868c1625fd2c17759a781', 'message': 'Fixes Typos in rally files\n\nThis submission fixes typos in the following files :\n1. ./tests/unit/plugins/openstack/scenarios/neutron/test_network.py\n2. ./tests/unit/task/processing/test_utils.py\n3. ./tests/unit/verification/test_config.py\n4. ./etc/rally/rally.conf.sample\n\nChange-Id: I195fbdeef9140fd6f30e419692ca812337f74765\n'}]",1,209013,52b5c4891db81b7e6b1868c1625fd2c17759a781,16,8,2,1687,,,0,"Fixes Typos in rally files

This submission fixes typos in the following files :
1. ./tests/unit/plugins/openstack/scenarios/neutron/test_network.py
2. ./tests/unit/task/processing/test_utils.py
3. ./tests/unit/verification/test_config.py
4. ./etc/rally/rally.conf.sample

Change-Id: I195fbdeef9140fd6f30e419692ca812337f74765
",git fetch https://review.opendev.org/openstack/rally refs/changes/13/209013/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/rally/rally.conf.sample', 'tests/unit/plugins/openstack/scenarios/neutron/test_network.py', 'tests/unit/task/processing/test_utils.py', 'tests/unit/verification/test_config.py']",4,1ba5b576af5e881d82e969058995ccd4f4054c6d,separate/typos, # returns also values from DEFAULT section, # retruns also values from DEFAULT section,4,4
openstack%2Frally~master~Ib3a7dbe466205eb98e82fd49c7ba958455a60719,openstack/rally,master,Ib3a7dbe466205eb98e82fd49c7ba958455a60719,Refactor BenchmarkEngine,MERGED,2015-08-04 12:59:36.000000000,2015-08-14 22:56:27.000000000,2015-08-11 01:35:30.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 8491}, {'_account_id': 8840}, {'_account_id': 10475}, {'_account_id': 11748}, {'_account_id': 12395}, {'_account_id': 14817}, {'_account_id': 14884}]","[{'number': 1, 'created': '2015-08-04 12:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a1cc0ae21210bae89daf7699c87754308e214eac', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 2, 'created': '2015-08-04 13:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f0b5026319c2e8265f77302454b6e6c96c08b7da', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 3, 'created': '2015-08-04 14:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fa711257063f46b3e96c44d8e0bf88b0d1b76bbd', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 4, 'created': '2015-08-04 15:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/914e365eb5868e7919f8f8c1c533139b2f6590ae', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 5, 'created': '2015-08-04 16:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/583b425080d25c24a377a471dab514940e81c758', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 6, 'created': '2015-08-05 10:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6d8b9bf23ccde8945ba9a7a8f80094f0be6bb5f9', 'message': '[WIP] Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 7, 'created': '2015-08-05 11:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e7f0222890c7fc3df6246c97f2a347f58ca525ab', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 8, 'created': '2015-08-06 11:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c955b4da693c0707603ff0452fb077e584f13b88', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 9, 'created': '2015-08-06 11:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19a7019a6bbc51ce379e8f8a9f7513686f016906', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 10, 'created': '2015-08-06 11:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ff5b61ccdc6b797582ebe2d565476778cc155509', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 11, 'created': '2015-08-06 11:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1fba797346e9a78c769bc32e6c04f4c4add8ee48', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 12, 'created': '2015-08-06 14:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b01dbcd6ede2fd1a98d74ea03990a97ca497b96a', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 13, 'created': '2015-08-07 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b52f1c86a8751b362106a7885729cb200308ce76', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 14, 'created': '2015-08-07 10:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6d1d63f8be9ec6e221b94a03302d08464d17af1f', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 15, 'created': '2015-08-07 10:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a3f8ffbadbd430090d9b1813fd9a92f7bcb23113', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}, {'number': 16, 'created': '2015-08-10 10:39:42.000000000', 'files': ['rally/task/engine.py', 'tests/unit/task/test_engine.py', 'rally/task/runner.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/dac6e55fe6353ffc9d2c846730cd84ed3fca0260', 'message': 'Refactor BenchmarkEngine\n\nExtract BenchmarkEngine::consume_results method to a ResultConsumer\ncontext manager\n\nChange-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719\n'}]",19,209046,dac6e55fe6353ffc9d2c846730cd84ed3fca0260,73,10,16,8491,,,0,"Refactor BenchmarkEngine

Extract BenchmarkEngine::consume_results method to a ResultConsumer
context manager

Change-Id: Ib3a7dbe466205eb98e82fd49c7ba958455a60719
",git fetch https://review.opendev.org/openstack/rally refs/changes/46/209046/4 && git format-patch -1 --stdout FETCH_HEAD,['rally/task/engine.py'],1,a1cc0ae21210bae89daf7699c87754308e214eac,benchmark-engine-refactoring," sla_checker = sla.SLAChecker(kw) duration = 0 full_duration = 0 with ResultConsumer(runner_obj, sla_checker, self.abort_on_sla_failure) as consumer: try: with rutils.Timer() as timer: with context.ContextManager(context_obj): duration = runner_obj.run( name, context_obj, kw.get(""args"", {})) finally: full_duration = timer.duration() self.task.append_results(key, {""raw"": consumer.results, ""load_duration"": self.duration, ""full_duration"": self.full_duration, ""sla"": sla_checker.results()}) class ResultConsumer(object): """"""ResultConsumer class consumes results from ScenarioRunner, applies SLA checks and stores them. After execution of the runner is finished, the results are available in 'results' field .. note:: Typical usage: ... runner_obj = .... # contains ScenarioRunner object # that is used to collect results from sla_checker = .... # contains SLAChecker object # that will be applied to runner results with ResultConsumer(runner_obj, sla_checker, abort_on_sla_failure ) as consumer: runner_obj.run(....) results = consumer.results sla = sla_checker.results() def __init__(self, runner_obj, sla_checker, abort_on_sla_failure): """"""ResultConsumer constructor. :param runner_obj: ScenarioRunner object that produces results to be consumed :param sla_checker: SLAChecker object that checks runner results against SLA :param abort_on_sla_failure: True if the execution should be stopped when some SLA check fails """""" self.runner_obj = runner_obj self.sla_checker = sla_checker self.abort_on_sla_failure = abort_on_sla_failure self.is_done = threading.Event() self.unexpected_failure = {} self.results = [] self.thread = threading.Thread( target=self._consume_results ) def __enter__(self): self.consumer.start() return self def _consume_results(self): while True: if self.runner_obj.result_queue: result = self.runner_obj.result_queue.popleft() self.results.append(result) self.sla_checker.set_aborted() self.runner_obj.abort() elif self.is_done.isSet(): if self.unexpected_failure.get(""exc""): self.sla_checker.set_unexpected_failure(unexpected_failure[""exc""]) def __exit__(self, exc_type, exc_value, exc_traceback): if exc_type: LOG.exception(exc_value) consumer.unexpected_failure[""exc""] = exc_value self.is_done.set() self.thread.join() "," is_done = threading.Event() unexpected_failure = {} consumer = threading.Thread( target=self.consume_results, args=(key, self.task, is_done, unexpected_failure, runner_obj)) consumer.start() self.duration = 0 self.full_duration = 0 try: with rutils.Timer() as timer: with context.ContextManager(context_obj): self.duration = runner_obj.run( name, context_obj, kw.get(""args"", {})) except Exception as e: LOG.exception(e) unexpected_failure[""exc""] = e finally: self.full_duration = timer.duration() is_done.set() consumer.join() def consume_results(self, key, task, is_done, unexpected_failure, runner_obj): """"""Consume scenario runner results from queue and send them to db. Has to be run from different thread simultaneously with the runner.run method. :param key: Scenario identifier :param task: Running task :param is_done: Event which is set from the runner thread after the runner finishes it's work. :param unexpected_failure: Dictionary object with information about unexpected exception. :param runner_obj: ScenarioRunner object that was used to run a task results = [] sla_checker = sla.SLAChecker(key[""kw""]) while True: if runner_obj.result_queue: result = runner_obj.result_queue.popleft() results.append(result) sla_checker.set_aborted() runner_obj.abort() elif is_done.isSet(): if unexpected_failure.get(""exc""): sla_checker.set_unexpected_failure(unexpected_failure[""exc""]) task.append_results(key, {""raw"": results, ""load_duration"": self.duration, ""full_duration"": self.full_duration, ""sla"": sla_checker.results()})",85,47
openstack%2Fnova~master~I2b163d6a42f66ab660c3728b1e29b4b64efbceba,openstack/nova,master,I2b163d6a42f66ab660c3728b1e29b4b64efbceba,Raise NovaException for missing/empty machine-id,MERGED,2015-07-16 15:18:03.000000000,2015-08-14 22:44:51.000000000,2015-08-14 22:44:40.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 1779}, {'_account_id': 1865}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 8688}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11803}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-07-16 15:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7225405da0a70fc494c23661fa3e9952a4402558', 'message': 'Manage an empty machine-id file\n\nThe libvirt driver tries to read the UUID for the host operating system\nfrom the /etc/machine-id file if it is present.\nThe code at the moment raise an exception if the file is there but it is\nempty.\nThis change is to manage an empty /etc/machine-id file as if the file\nwas missing.\n\nFixes bug 1475353\n\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n'}, {'number': 2, 'created': '2015-07-28 14:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9571e594b54d98088f30abf704a54fe262c5184', 'message': ""Raise nova exception for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', nova tries\nto get the UUID for the host operating system from the /etc/machine-id\nfile, if the file is missed nova returns an error.\nAt the moment if the file is missed nova return an IOError\nexception. If the file is present but empty nova will return an\nIndexError exception.\nWe want to have the same behaviour in both cases and let nova return an\nerror with more clear and useful information.\nThe patch is to make nova returning the same NovaException in the case\nthe machine-id file is missed, or it is present but empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}, {'number': 3, 'created': '2015-07-29 10:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5f8d26c4558016de74d165bbc6b69ee2466ca5a', 'message': ""Raise nova exception for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', nova tries\nto get the UUID for the host operating system from the /etc/machine-id\nfile, if the file is missed nova returns an error.\nAt the moment if the file is missed nova return an IOError\nexception. If the file is present but empty nova will return an\nIndexError exception.\nWe want to have the same behaviour in both cases and let nova return an\nerror with more clear and useful information.\nThe patch is to make nova returning the same NovaException in the case\nthe machine-id file is missed, or it is present but empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}, {'number': 4, 'created': '2015-07-29 10:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94f65a39f84300bfc4c4619b3444a4d14f6cb605', 'message': ""Raise nova exception for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', nova tries\nto get the UUID for the host operating system from the /etc/machine-id\nfile, if the file is missed nova returns an error.\nAt the moment if the file is missed nova return an IOError\nexception. If the file is present but empty nova will return an\nIndexError exception.\nWe want to have the same behaviour in both cases and let nova return an\nerror with more clear and useful information.\nThe patch is to make nova returning the same NovaException in the case\nthe machine-id file is missed, or it is present but empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}, {'number': 5, 'created': '2015-07-29 10:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a20a70b44cf540e9ff94ef7ed6a4f91b91c961', 'message': ""Raise nova exception for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', nova tries\nto get the UUID for the host operating system from the /etc/machine-id\nfile, if the file is missed nova returns an error.\nAt the moment if the file is missed nova return an IOError\nexception. If the file is present but empty nova will return an\nIndexError exception.\nWe want to have the same behaviour in both cases and let nova return an\nerror with more clear and useful information.\nThe patch is to make nova returning the same NovaException in the case\nthe machine-id file is missed, or it is present but empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}, {'number': 6, 'created': '2015-08-03 13:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fccccbfd25c12eab7c08f0fa180451a108e7a86', 'message': ""Raise NovaException for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', Nova tries to\nget the UUID for the host operating system from the /etc/machine-id\nfile. Currently if the file is missing, Nova return an IOError\nexception. If the file is present but empty, Nova will return an\nIndexError exception.\n\nWe want to have the same behaviour in both cases and return an error\nwith clearer and more useful information. This patch makes Nova return\na NovaException when the machine-id file is either missing or empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}, {'number': 7, 'created': '2015-08-04 13:24:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a118c155f47711a2d4ba8aee7a6b8849a62de4bb', 'message': ""Raise NovaException for missing/empty machine-id\n\nWhen the sysinfo_serial config parameter is set to 'os', Nova tries to\nget the UUID for the host operating system from the /etc/machine-id\nfile. Currently if the file is missing, Nova return an IOError\nexception. If the file is present but empty, Nova will return an\nIndexError exception.\n\nWe want to have the same behaviour in both cases and return an error\nwith clearer and more useful information. This patch makes Nova return\na NovaException when the machine-id file is either missing or empty.\n\nCloses-Bug: 1475353\nChange-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba\n""}]",24,202640,a118c155f47711a2d4ba8aee7a6b8849a62de4bb,86,20,7,1865,,,0,"Raise NovaException for missing/empty machine-id

When the sysinfo_serial config parameter is set to 'os', Nova tries to
get the UUID for the host operating system from the /etc/machine-id
file. Currently if the file is missing, Nova return an IOError
exception. If the file is present but empty, Nova will return an
IndexError exception.

We want to have the same behaviour in both cases and return an error
with clearer and more useful information. This patch makes Nova return
a NovaException when the machine-id file is either missing or empty.

Closes-Bug: 1475353
Change-Id: I2b163d6a42f66ab660c3728b1e29b4b64efbceba
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/202640/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7225405da0a70fc494c23661fa3e9952a4402558,bug/1475353," def test_get_guest_config_sysinfo_serial_os_empty_machine_id(self): self.flags(sysinfo_serial=""os"", group=""libvirt"") real_open = __builtin__.open with contextlib.nested( mock.patch.object(__builtin__, ""open""), ) as (mock_open, ): theuuid = """" def fake_open(filename, *args, **kwargs): if filename == ""/etc/machine-id"": h = mock.MagicMock() h.read.return_value = theuuid h.__enter__.return_value = h return h return real_open(filename, *args, **kwargs) mock_open.side_effect = fake_open self._test_get_guest_config_sysinfo_serial(None) ",,25,1
openstack%2Ftempest~master~I48e73b223b02e20507f526d23892148ce53738a4,openstack/tempest,master,I48e73b223b02e20507f526d23892148ce53738a4,pep8 compliance change on manager,ABANDONED,2015-08-07 22:03:46.000000000,2015-08-14 22:32:37.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-08-07 22:03:46.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e585cdd6b4da4042f2118b92b983bdd4e7851f8f', 'message': ""pep8 compliance change on manager\n\nChange two places that doesn't follow pep8 in scenario manager.\n\nChange-Id: I48e73b223b02e20507f526d23892148ce53738a4\n""}]",0,210617,e585cdd6b4da4042f2118b92b983bdd4e7851f8f,4,2,1,12024,,,0,"pep8 compliance change on manager

Change two places that doesn't follow pep8 in scenario manager.

Change-Id: I48e73b223b02e20507f526d23892148ce53738a4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/210617/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,e585cdd6b4da4042f2118b92b983bdd4e7851f8f,," if not tempest.test.call_until_true(check_state, timeout, interval): _get_node, CONF.baremetal.association_timeout, 1):"," if not tempest.test.call_until_true( check_state, timeout, interval): _get_node, CONF.baremetal.association_timeout, 1):",2,3
openstack%2Ftempest~master~Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800,openstack/tempest,master,Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800,Add distributed option to create router,ABANDONED,2015-06-16 22:57:50.000000000,2015-08-14 22:31:47.000000000,,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12024}]","[{'number': 1, 'created': '2015-06-16 22:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f31318af8fc4bdfc4706af679fc9aa3d6f80ba63', 'message': ""Add distributed option to create router\n\nIn scenario manager module, the create_router doesn't have the\noption to create distributed router. Add distributed option with\ndefault to False in create_router to support distributed router\nscenario test.\n\nChange-Id: Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800\n""}, {'number': 2, 'created': '2015-06-16 23:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/28fbe6c2373d91bb6e602a844005d72af5908d0e', 'message': ""Add distributed option to create router\n\nIn scenario manager module, the create_router doesn't have the\noption to create distributed router. Add distributed option with\ndefault to False in create_router to support distributed router\nscenario test.\n\nCloses-Bug: #1465872\nChange-Id: Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800\n""}, {'number': 3, 'created': '2015-08-07 22:03:46.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/859e20359488aa691d96ff20adefa33601194201', 'message': ""Add distributed option to create router\n\nIn scenario manager module, the create_router doesn't have the\noption to create distributed router. Add distributed option with\ndefault to False in create_router to support distributed router\nscenario test.\n\nCloses-Bug: #1465872\nChange-Id: Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800\n""}]",0,192454,859e20359488aa691d96ff20adefa33601194201,14,9,3,12024,,,0,"Add distributed option to create router

In scenario manager module, the create_router doesn't have the
option to create distributed router. Add distributed option with
default to False in create_router to support distributed router
scenario test.

Closes-Bug: #1465872
Change-Id: Ied31b3dcd5bcfc0871adc78d5fab9b2f28b90800
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/192454/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,f31318af8fc4bdfc4706af679fc9aa3d6f80ba63,," def _get_router(self, client=None, tenant_id=None, distributed=False): router = self._create_router(client, tenant_id, distributed) def _create_router(self, client=None, tenant_id=None, distributed=False, tenant_id=tenant_id, distributed=distributed) dns_nameservers=None, distributed=False): router = self._get_router(client=client, tenant_id=tenant_id, distributed=distributed)"," def _get_router(self, client=None, tenant_id=None): router = self._create_router(client, tenant_id) def _create_router(self, client=None, tenant_id=None, tenant_id=tenant_id) dns_nameservers=None): router = self._get_router(client=client, tenant_id=tenant_id)",8,6
openstack%2Fneutron-lbaas~master~Ic7dcd85a6203bc78a07ab736645ad25d2bd41014,openstack/neutron-lbaas,master,Ic7dcd85a6203bc78a07ab736645ad25d2bd41014,Fixing Octavia Driver delete operations,ABANDONED,2015-08-13 19:00:42.000000000,2015-08-14 22:21:41.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9897}]","[{'number': 1, 'created': '2015-08-13 19:00:42.000000000', 'files': ['neutron_lbaas/drivers/octavia/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/91ec26a3f063556c9ab0ed20eb85224f3977b68b', 'message': 'Fixing Octavia Driver delete operations\n\n- Required another conditional check for delete operation body in request\n\nChange-Id: Ic7dcd85a6203bc78a07ab736645ad25d2bd41014\n'}]",0,212702,91ec26a3f063556c9ab0ed20eb85224f3977b68b,6,3,1,10806,,,0,"Fixing Octavia Driver delete operations

- Required another conditional check for delete operation body in request

Change-Id: Ic7dcd85a6203bc78a07ab736645ad25d2bd41014
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/02/212702/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/drivers/octavia/driver.py'],1,91ec26a3f063556c9ab0ed20eb85224f3977b68b,octavia_driver_delete_fix, if method != 'DELETE': return r.json(), return r.json(),2,1
openstack%2Fneutron-lbaas~master~I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7,openstack/neutron-lbaas,master,I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7,Octavia driver unit tests Added unit tests for the octavia driver.,ABANDONED,2015-08-08 00:32:41.000000000,2015-08-14 22:21:07.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 9897}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 14884}, {'_account_id': 15226}, {'_account_id': 17419}]","[{'number': 1, 'created': '2015-08-08 00:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/cc108c026860c3e3ece3e1bec76a16adf9f2c7f9', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 2, 'created': '2015-08-08 02:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3f2fcd2480951e05bec7ef2b658e3cfc5dd8d8b2', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 3, 'created': '2015-08-10 22:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/96aa39b43b384ff7a786ab27bf50c90edfc5a6ff', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 4, 'created': '2015-08-10 22:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b76699b7f08aaa8e0dbbb9c3c9970cc810a12962', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 5, 'created': '2015-08-11 05:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/451a74875739d025006de2c513c484e6df868f36', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 6, 'created': '2015-08-11 06:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f41e73f53c2ee77013e93108f51f635fbb448b67', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 7, 'created': '2015-08-11 17:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4d651c6c01326ac4be64411de14629dbc9bcae07', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 8, 'created': '2015-08-11 22:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a0316c51445debabfb3e10b4b019665c25a2d6ed', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 9, 'created': '2015-08-14 00:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/81a987b0d000412c21cbdf57921e8e239ff38a1b', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}, {'number': 10, 'created': '2015-08-14 17:46:26.000000000', 'files': ['neutron_lbaas/tests/unit/drivers/octavia/test_octavia_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3b2351e9ad94be56c2be3d987dd6c14c1becce29', 'message': 'Octavia driver unit tests\nAdded unit tests for the octavia driver.\n\nChange-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7\n'}]",11,210644,3b2351e9ad94be56c2be3d987dd6c14c1becce29,51,11,10,17419,,,0,"Octavia driver unit tests
Added unit tests for the octavia driver.

Change-Id: I12b8fd9f400de0787d5f7875510ab1c9a3a60ec7
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/44/210644/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/drivers/octavia/test_octavia_driver.py', 'neutron_lbaas/tests/unit/drivers/octavia/__init__.py']",2,cc108c026860c3e3ece3e1bec76a16adf9f2c7f9,(detached,,,240,0
openstack%2Fneutron-lbaas~master~I5c41a65284ec19620d4a39adf40c6d163fdfd64a,openstack/neutron-lbaas,master,I5c41a65284ec19620d4a39adf40c6d163fdfd64a,Adding TLS args to octavia driver,ABANDONED,2015-08-05 21:46:12.000000000,2015-08-14 22:20:51.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9897}, {'_account_id': 11302}, {'_account_id': 17419}]","[{'number': 1, 'created': '2015-08-05 21:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5d93bce2841c21b7a3f3480d90cfe70174730bc7', 'message': 'Adding TLS args to octavia driver\n\nOctavia driver is missing TLS information.\n\nChange-Id: I5c41a65284ec19620d4a39adf40c6d163fdfd64a\n'}, {'number': 2, 'created': '2015-08-05 22:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/71b4d4c4ec55e781f7f051344a5163dba6687af0', 'message': 'Adding TLS args to octavia driver\n\nOctavia driver is missing TLS information.\n\nChange-Id: I5c41a65284ec19620d4a39adf40c6d163fdfd64a\n'}, {'number': 3, 'created': '2015-08-14 17:46:27.000000000', 'files': ['neutron_lbaas/drivers/octavia/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a1b98705e0deccd05088ed3fe73ee4dd31d92fb4', 'message': 'Adding TLS args to octavia driver\n\nOctavia driver is missing TLS information.\n\nChange-Id: I5c41a65284ec19620d4a39adf40c6d163fdfd64a\n'}]",0,209682,a1b98705e0deccd05088ed3fe73ee4dd31d92fb4,13,5,3,11302,,,0,"Adding TLS args to octavia driver

Octavia driver is missing TLS information.

Change-Id: I5c41a65284ec19620d4a39adf40c6d163fdfd64a
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/82/209682/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/drivers/octavia/driver.py'],1,5d93bce2841c21b7a3f3480d90cfe70174730bc7,(detached," 'tls_certificate_id': listener.default_tls_container_id, 'sni_container_ids': listener.sni_container_ids,",,2,0
openstack%2Fironic-webclient~master~I2e5882705001f5007dcaf11979fb3a44b74f7ee1,openstack/ironic-webclient,master,I2e5882705001f5007dcaf11979fb3a44b74f7ee1,Globalized mainBowerFiles.,ABANDONED,2015-08-14 20:08:07.000000000,2015-08-14 22:06:15.000000000,,"[{'_account_id': 3}, {'_account_id': 10343}]","[{'number': 1, 'created': '2015-08-14 20:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-webclient/commit/9caaa266eb29f74b79d169c5da013d0fd12d5813', 'message': 'Globalized mainBowerFiles.\n\nNo need to invoke this multiple times.\n\nChange-Id: I2e5882705001f5007dcaf11979fb3a44b74f7ee1\n'}, {'number': 2, 'created': '2015-08-14 21:37:39.000000000', 'files': ['gulpfile.js'], 'web_link': 'https://opendev.org/openstack/ironic-webclient/commit/5aefc08049e36ed9d0e4f5b2442727b53ce1da5c', 'message': 'Globalized mainBowerFiles.\n\nNo need to invoke this multiple times.\n\nChange-Id: I2e5882705001f5007dcaf11979fb3a44b74f7ee1\n'}]",0,213321,5aefc08049e36ed9d0e4f5b2442727b53ce1da5c,6,2,2,9717,,,0,"Globalized mainBowerFiles.

No need to invoke this multiple times.

Change-Id: I2e5882705001f5007dcaf11979fb3a44b74f7ee1
",git fetch https://review.opendev.org/openstack/ironic-webclient refs/changes/21/213321/2 && git format-patch -1 --stdout FETCH_HEAD,['gulpfile.js'],1,9caaa266eb29f74b79d169c5da013d0fd12d5813,pack," // Contents of the ""main"" field in our dependencies' bower.json files. var bowerFiles = mainBowerFiles(); var resolveJs = gulp.src(bowerFiles) var resolveCSS = gulp.src(bowerFiles) return gulp.src(bowerFiles)", var files = mainBowerFiles(); var resolveJs = gulp.src(files) var resolveCSS = gulp.src(files) var files = mainBowerFiles(); return gulp.src(files),6,6
openstack%2Fceilometer~master~I97fead8a6d6472a9f3b7265d2ad71f307b2209ce,openstack/ceilometer,master,I97fead8a6d6472a9f3b7265d2ad71f307b2209ce,Update install docs with gnocchi dispatcher info,MERGED,2015-07-27 15:16:34.000000000,2015-08-14 22:04:27.000000000,2015-08-14 22:04:23.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6924}, {'_account_id': 7478}, {'_account_id': 8871}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 11564}, {'_account_id': 15843}]","[{'number': 1, 'created': '2015-07-27 15:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9e008eed6b855ec753df60cc3350b4435f485010', 'message': 'Update install docs with gnocchi dispatcher info\n\nChange-Id: I97fead8a6d6472a9f3b7265d2ad71f307b2209ce\n'}, {'number': 2, 'created': '2015-07-28 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bdfde49551cfdc63758f5577f1ff8821e727040b', 'message': 'Update install docs with gnocchi dispatcher info\n\nChange-Id: I97fead8a6d6472a9f3b7265d2ad71f307b2209ce\n'}, {'number': 3, 'created': '2015-08-04 15:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1c8afe5406babeaa77dc66c7e0a50266d50efbe3', 'message': 'Update install docs with gnocchi dispatcher info\n\nChange-Id: I97fead8a6d6472a9f3b7265d2ad71f307b2209ce\n'}, {'number': 4, 'created': '2015-08-14 14:53:26.000000000', 'files': ['doc/source/install/manual.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/56934eaea422fbe63fe07ad7666ca6ac3d757f09', 'message': 'Update install docs with gnocchi dispatcher info\n\nChange-Id: I97fead8a6d6472a9f3b7265d2ad71f307b2209ce\n'}]",13,206110,56934eaea422fbe63fe07ad7666ca6ac3d757f09,34,11,4,6924,,,0,"Update install docs with gnocchi dispatcher info

Change-Id: I97fead8a6d6472a9f3b7265d2ad71f307b2209ce
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/10/206110/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/manual.rst'],1,9e008eed6b855ec753df60cc3350b4435f485010,(HEAD,"Ceilometer ships multiple dispatchers currently. They are database, file, http and gnocchi dispatcher. As the names imply, database dispatcher sends metering datathe meters onto a http target, gnocchi dispatcher posts the meters onto gnocchi backend. Each dispatcher can have its own configuration parameters. Please see available configuration parameters at the beginning of each dispatcher file. gnocchi = ceilometer.dispatcher.gnocchi:GnocchiDispatcher For Gnocchi dispatcher, the following configuration settings should be added:: [DEFAULT] dispatcher = gnocchi [dispatcher_gnocchi] filter_project = gnocchi_swift filter_service_activity = True archive_policy = low url = http://localhost:8041","Ceilometer ships multiple dispatchers currently. They are database, file and http dispatcher. As the names imply, database dispatcher sends metering datathe meters onto a http target. Each dispatcher can have its own configuration parameters. Please see available configuration parameters at the beginning of each dispatcher file.",17,5
openstack%2Fpuppet-neutron~master~I9ef37d1c70f783e367f950a10c9d856370aae4f3,openstack/puppet-neutron,master,I9ef37d1c70f783e367f950a10c9d856370aae4f3,Support for configuring openvswitch_agent.ini,ABANDONED,2015-07-31 12:23:08.000000000,2015-08-14 21:45:23.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 11166}]","[{'number': 1, 'created': '2015-07-31 12:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c5ab6cc70180c92901c2c189ec1d81c89fe3d2a3', 'message': 'Support for configuring openvswitch_agent.ini\n\nUpstream Liberty Neutron now uses ml2/openvswitch_agent.ini to configure\nthe neutron ML2 agent instead of openvswitch/ovs_neutron_plugin.ini.\n\nThis patch updates all resources that configured the old file to\nuse the newer version. For backwards compatability a softlink\nis created from the old file location to the new one.\n\nThis is required since neutron\nIf6feca7b7a6bdd6c3c6feb929fa26fb4b1f72770 and should fix issues\nusing puppet-neutron with the latest upstream packages.\n\nChange-Id: I9ef37d1c70f783e367f950a10c9d856370aae4f3\n'}, {'number': 2, 'created': '2015-07-31 16:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5402468fd9729493890161cd26df4409fee6fb70', 'message': 'Support for configuring openvswitch_agent.ini\n\nUpstream Liberty Neutron now uses ml2/openvswitch_agent.ini to configure\nthe neutron ML2 agent instead of openvswitch/ovs_neutron_plugin.ini.\nThis patch updates all resources that configured the old file to\nuse the newer version.\n\nThis is required since neutron\nIf6feca7b7a6bdd6c3c6feb929fa26fb4b1f72770 and should fix issues\nusing puppet-neutron with the latest upstream packages.\n\nChange-Id: I9ef37d1c70f783e367f950a10c9d856370aae4f3\n'}, {'number': 3, 'created': '2015-08-07 15:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6ebbc68e493e05a792bca2e4446ab3dd13e9084d', 'message': 'Support for configuring openvswitch_agent.ini\n\nUpstream Liberty Neutron now uses ml2/openvswitch_agent.ini to configure\nthe neutron ML2 agent instead of openvswitch/ovs_neutron_plugin.ini.\nThis patch updates all resources that configured the old file to\nuse the newer version.\n\nThis is required since neutron\nIf6feca7b7a6bdd6c3c6feb929fa26fb4b1f72770 and should fix issues\nusing puppet-neutron with the latest upstream packages.\n\nChange-Id: I9ef37d1c70f783e367f950a10c9d856370aae4f3\n'}, {'number': 4, 'created': '2015-08-14 21:28:25.000000000', 'files': ['lib/puppet/provider/neutron_agent_ovs/ini_setting.rb', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/unit/provider/neutron_agent_ovs/ini_setting_spec.rb', 'spec/classes/neutron_agents_ml2_sriov_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9149ecc97e6831defc88d063f5017d1d6ff76360', 'message': 'Support for configuring openvswitch_agent.ini\n\nUpstream Liberty Neutron now uses ml2/openvswitch_agent.ini to configure\nthe neutron ML2 agent instead of openvswitch/ovs_neutron_plugin.ini.\nThis patch updates all resources that configured the old file to\nuse the newer version.\n\nThis is required since neutron\nIf6feca7b7a6bdd6c3c6feb929fa26fb4b1f72770 and should fix issues\nusing puppet-neutron with the latest upstream packages.\n\nChange-Id: I9ef37d1c70f783e367f950a10c9d856370aae4f3\n'}]",2,207861,9149ecc97e6831defc88d063f5017d1d6ff76360,18,4,4,360,,,0,"Support for configuring openvswitch_agent.ini

Upstream Liberty Neutron now uses ml2/openvswitch_agent.ini to configure
the neutron ML2 agent instead of openvswitch/ovs_neutron_plugin.ini.
This patch updates all resources that configured the old file to
use the newer version.

This is required since neutron
If6feca7b7a6bdd6c3c6feb929fa26fb4b1f72770 and should fix issues
using puppet-neutron with the latest upstream packages.

Change-Id: I9ef37d1c70f783e367f950a10c9d856370aae4f3
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/61/207861/3 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_agent_ovs/ini_setting.rb', 'lib/puppet/provider/neutron_plugin_ovs/ini_setting.rb', 'lib/puppet/type/neutron_plugin_ovs.rb', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/unit/provider/neutron_agent_ovs/ini_setting_spec.rb', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp', 'manifests/config.pp']",8,c5ab6cc70180c92901c2c189ec1d81c89fe3d2a3,openvswitch_agent.ini,# (optional) Manage configuration of plugins/ml2/openvswitch_agent.ini,# (optional) Manage configuration of ovs_neutron_plugin.ini,23,8
openstack%2Fpuppet-designate~master~Ifcad7b55e640ad13020ae49a2e42e23329abc0ce,openstack/puppet-designate,master,Ifcad7b55e640ad13020ae49a2e42e23329abc0ce,acceptance: bump to Liberty release,MERGED,2015-08-05 00:39:50.000000000,2015-08-14 21:34:34.000000000,2015-08-14 21:34:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/718a28a6d605c360d179cea19e39ead9d1dda88a', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ifcad7b55e640ad13020ae49a2e42e23329abc0ce\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7c7543209b7692c7ad78c49ecdebcc2fc67555a3', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ifcad7b55e640ad13020ae49a2e42e23329abc0ce\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 3, 'created': '2015-08-07 14:48:01.000000000', 'files': ['spec/acceptance/basic_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/31e8b3fe4fd87251096bf70c0b3be4027a7d662b', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ifcad7b55e640ad13020ae49a2e42e23329abc0ce\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209288,31e8b3fe4fd87251096bf70c0b3be4027a7d662b,14,4,3,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: Ifcad7b55e640ad13020ae49a2e42e23329abc0ce
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/88/209288/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_designate_spec.rb'],1,718a28a6d605c360d179cea19e39ead9d1dda88a,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fpuppet-sahara~master~Ic831182588774f48477bd62e9c826911c7fad662,openstack/puppet-sahara,master,Ic831182588774f48477bd62e9c826911c7fad662,acceptance: bump to Liberty release,MERGED,2015-08-13 11:47:27.000000000,2015-08-14 21:28:00.000000000,2015-08-14 21:27:58.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-13 11:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/358445ebd16304d1f45c0c4db51a9b24ca8f77b1', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev) on both Ubuntu Trusty & Centos7.\n\nChange-Id: Ic831182588774f48477bd62e9c826911c7fad662\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-14 18:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/e864dd39c94d8859597ce35f2e4852d8fe46114c', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev) on both Ubuntu Trusty & Centos7.\n\nChange-Id: Ic831182588774f48477bd62e9c826911c7fad662\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 3, 'created': '2015-08-14 20:53:20.000000000', 'files': ['spec/acceptance/basic_sahara_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/1d8f58a9b2b0a61c27abc521e3031ebd3e027c6f', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev) on both Ubuntu Trusty & Centos7.\n\nChange-Id: Ic831182588774f48477bd62e9c826911c7fad662\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",2,212496,1d8f58a9b2b0a61c27abc521e3031ebd3e027c6f,13,3,3,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev) on both Ubuntu Trusty & Centos7.

Change-Id: Ic831182588774f48477bd62e9c826911c7fad662
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/96/212496/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_sahara_spec.rb'],1,358445ebd16304d1f45c0c4db51a9b24ca8f77b1,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, }, debug => true, verbose => true,"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } release => 'kilo',",20,4
openstack%2Fpuppet-glance~master~I9e2da19afa5ed5d88715e7c91ee7d667886b9637,openstack/puppet-glance,master,I9e2da19afa5ed5d88715e7c91ee7d667886b9637,acceptance: bump to Liberty release,MERGED,2015-08-05 00:39:52.000000000,2015-08-14 21:23:07.000000000,2015-08-14 21:23:05.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:39:52.000000000', 'files': ['spec/acceptance/basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c91884124b38dd9ae4f4181be45ebac69441778c', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I9e2da19afa5ed5d88715e7c91ee7d667886b9637\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",4,209289,c91884124b38dd9ae4f4181be45ebac69441778c,18,4,1,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: I9e2da19afa5ed5d88715e7c91ee7d667886b9637
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/89/209289/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_glance_spec.rb'],1,c91884124b38dd9ae4f4181be45ebac69441778c,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } release => 'kilo',",18,4
openstack%2Ffuel-web~master~Ibc4e7091eed299f513d850d7aa44453be14b9f40,openstack/fuel-web,master,Ibc4e7091eed299f513d850d7aa44453be14b9f40,Allow modification of NetworkGroup.meta,MERGED,2015-08-06 11:35:38.000000000,2015-08-14 21:21:13.000000000,2015-08-14 19:29:24.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11577}, {'_account_id': 11898}, {'_account_id': 12200}, {'_account_id': 13376}, {'_account_id': 14167}]","[{'number': 1, 'created': '2015-08-06 11:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7f1fa1ac0e5f57989e69bfbb0b49654486620796', 'message': 'Additional validation for networks update\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\n'}, {'number': 2, 'created': '2015-08-06 14:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f6a655a7b99d9cc532f1548b0c6f42761b17c13a', 'message': 'Additional validation for networks update\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\n'}, {'number': 3, 'created': '2015-08-06 19:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/eb47c29a8cf166341044a7596296d7667f4ddb09', 'message': 'Additional validation for networks update\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\n'}, {'number': 4, 'created': '2015-08-07 16:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/314aee3db7a83864c5b245e83794343dc0cfa411', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\n""}, {'number': 5, 'created': '2015-08-07 16:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2d90d530b185775ad6bb8ca16f5f56eb552418b8', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\n""}, {'number': 6, 'created': '2015-08-10 12:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/94cdb7c251d4328ce94a1e8c4fb7701b1aacaa22', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nPartial-bug: #1341026\n""}, {'number': 7, 'created': '2015-08-10 16:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/85484f913f5f24a80363d0ef76e246c1c2d29cb0', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nPartial-bug: #1341026\n""}, {'number': 8, 'created': '2015-08-10 20:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/95d5564919be34ab554c800560b16f53d49772eb', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nPartial-bug: #1341026\n""}, {'number': 9, 'created': '2015-08-10 21:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6638bd8a54482ae4c0e40809d908a92687b7e082', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 10, 'created': '2015-08-11 06:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/db5a75cf0ea51d1f12d13643fe7dbafe31259792', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 11, 'created': '2015-08-11 07:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3ce3419c91a5c6ca1a27f656c8af2ce5a9dfee30', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 12, 'created': '2015-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a7bd91ac1fdd431b7721a9b7f2153d79f7627a09', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 13, 'created': '2015-08-11 12:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8c5918aa9f8aaab59c4a4cc8b1bbf33709f6d55a', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Set default 'notation' to 'cidr'.\n* Additional validation is added for networks update.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 14, 'created': '2015-08-11 14:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0d0c0ea7f87f6078e55864323dab774ce31ae384', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 15, 'created': '2015-08-11 15:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a161f218e30b2810e94b79df5d231802a979019a', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 16, 'created': '2015-08-12 06:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a590ca99ebcf906242a7732b5a564f4e621ab0c3', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 17, 'created': '2015-08-12 07:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bd67b6a1538d107774455fa3a8e8831de5692706', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 18, 'created': '2015-08-12 12:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ffb3127f6a7f47ab76b26ef492e245e4f1c7560f', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 19, 'created': '2015-08-12 12:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f06f39129628c6de7f0c218df8422a5ac3531d2f', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 20, 'created': '2015-08-12 14:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b67fec39964bc5484e07bf2cdf1f18bc8793c12c', 'message': ""Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 21, 'created': '2015-08-13 12:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/307e8a4baff0e9179664726ab5aa808c2d13f623', 'message': ""[WIP] Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n* Additional validation is added for networks update.\n* Unit tests for new validation logic is added.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 22, 'created': '2015-08-13 20:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6ab7f3cfa02e7859cf6fa100d1b64663c37574d2', 'message': ""[WIP] Allow modification of meta.notation\n\n* It's is allowed to change notation for any network freely.\n  So, user will be able to set IP ranges for any network.\n\nChanges:\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 23, 'created': '2015-08-13 20:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/78c36873679e6f5fc25fecafd1067f0b55b3606b', 'message': ""[WIP] Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 24, 'created': '2015-08-13 21:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d99a6008eb61aaf1a90f67d27d27eb79cb709963', 'message': ""[WIP] Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 25, 'created': '2015-08-14 07:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/297d313398f1a47f6e2f08d266716949e5bd2a23', 'message': ""Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 26, 'created': '2015-08-14 11:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2344f6f98d24b82208e3cc4dd3c161d3f318534a', 'message': ""Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 27, 'created': '2015-08-14 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bb13a090f7d44c8d27e7bba88a5a582ea614e7d9', 'message': ""Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 28, 'created': '2015-08-14 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/31620143344f86038e26132de3cf612106d749ac', 'message': ""Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}, {'number': 29, 'created': '2015-08-14 14:07:52.000000000', 'files': ['nailgun/nailgun/api/v1/validators/json_schema/network_group.py', 'nailgun/nailgun/api/v1/validators/json_schema/networks.py', 'nailgun/nailgun/test/unit/test_network_template_validator.py', 'nailgun/nailgun/network/manager.py', 'nailgun/nailgun/api/v1/validators/json_schema/base_types.py', 'nailgun/nailgun/test/integration/test_changes_model.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/task/manager.py', 'nailgun/nailgun/api/v1/validators/network.py', 'nailgun/nailgun/test/unit/test_network_configuration_validator.py', 'nailgun/nailgun/test/unit/test_network_group_handler.py', 'nailgun/nailgun/test/integration/test_network_configuration.py', 'nailgun/nailgun/test/base.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fb684c7c6e1ef3b9719a9c2559da0a31fb9131bb', 'message': ""Allow modification of NetworkGroup.meta\n\n* Additional validation logic for network configuration update.\n* Network configuration is validated using JSON-schema.\n* Unit tests for new validation logic and JSON-schema.\n* Additional helper methods in 'BaseValidatorTest'.\n* Minor cosmetic changes of 'test_network_template_validator.py'.\n\nChange-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40\nCloses-bug: #1365368\nCloses-bug: #1341026\nCloses-bug: #1469328\n""}]",115,209892,fb684c7c6e1ef3b9719a9c2559da0a31fb9131bb,235,13,29,11577,,,0,"Allow modification of NetworkGroup.meta

* Additional validation logic for network configuration update.
* Network configuration is validated using JSON-schema.
* Unit tests for new validation logic and JSON-schema.
* Additional helper methods in 'BaseValidatorTest'.
* Minor cosmetic changes of 'test_network_template_validator.py'.

Change-Id: Ibc4e7091eed299f513d850d7aa44453be14b9f40
Closes-bug: #1365368
Closes-bug: #1341026
Closes-bug: #1469328
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/92/209892/29 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/task/manager.py'],1,7f1fa1ac0e5f57989e69bfbb0b49654486620796,bug/1365368,"import copy # Make a copy of original 'data' due to being changed by # '_call_silently' _data = copy.deepcopy(data) _data, objects.Task.update( task, {'status': consts.TASK_STATUSES.ready, 'progress': 100})"," data, data = {'status': consts.TASK_STATUSES.ready, 'progress': 100} objects.Task.update(task, data)",8,3
openstack%2Fswift~master~Ib760e3f7a52614d88fe59c595fddfbec66f91ee2,openstack/swift,master,Ib760e3f7a52614d88fe59c595fddfbec66f91ee2,Add ability for GET path to see/select alternate frag archs,ABANDONED,2015-07-29 18:43:45.000000000,2015-08-14 21:12:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2015-07-29 18:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c532f9174cf5b53186a094f4e7076d4b58ee736c', 'message': ""WIP Alternate Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 2, 'created': '2015-07-30 11:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/012c26ff024a9c299e3242572cd9c8545092aa3d', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 3, 'created': '2015-07-30 23:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d3454c437096d207e8a2394144319ea7869f449', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 4, 'created': '2015-08-03 18:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4904558993d048dfbea1600ce095d434015bc396', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 5, 'created': '2015-08-03 19:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0903fd7d7c41a0cd2acb5f92feffac01fb16e05', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 6, 'created': '2015-08-04 00:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f877c0fe3532a067d966a058f3fba75b8a23820', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 7, 'created': '2015-08-05 16:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6a0898f776cef82260945432cac42c3a89f5dac6', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 8, 'created': '2015-08-11 12:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4eac21fdc45755e6b4d5638808ba6526e5c94be2', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}, {'number': 9, 'created': '2015-08-11 16:55:06.000000000', 'files': ['test/probe/common.py', 'swift/obj/server.py', 'test/unit/proxy/test_server.py', 'swift/obj/mem_diskfile.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/proxy/controllers/obj.py', 'test/probe/test_object_handoff.py', 'test/probe/test_reconstructor_revert.py', 'swift/obj/diskfile.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/31dc15a444836c81aea568b53cc457189b261d71', 'message': ""Add ability for GET path to see/select alternate frag archs\n\nChanges include:\n- storage nodes reporting when they have >1 fragment archive\navailable\n- GET path recognizing alternates, when to use them and building\nup the getters accordingly\n- GET path assuring that even if it has enough FA's that they\nall come from the same set (via etag) and if not try GETs from\nthe parity nodes to see if they have some more.  This addresses\nthe case where a simple overwrite PUT happens with a node off\nand a subsequent GET comes in while its back but before it gets\nupdated with the latest stuff.\n- associated test changes for existing code\n- new unit tests and new probe tests\n\nChange-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2\nCo-Authored-By: Alistair Coles <alistair.coles@hp.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCloses-Bug: 1457691\n""}]",20,207165,31dc15a444836c81aea568b53cc457189b261d71,41,6,9,7847,,,0,"Add ability for GET path to see/select alternate frag archs

Changes include:
- storage nodes reporting when they have >1 fragment archive
available
- GET path recognizing alternates, when to use them and building
up the getters accordingly
- GET path assuring that even if it has enough FA's that they
all come from the same set (via etag) and if not try GETs from
the parity nodes to see if they have some more.  This addresses
the case where a simple overwrite PUT happens with a node off
and a subsequent GET comes in while its back but before it gets
updated with the latest stuff.
- associated test changes for existing code
- new unit tests and new probe tests

Change-Id: Ib760e3f7a52614d88fe59c595fddfbec66f91ee2
Co-Authored-By: Alistair Coles <alistair.coles@hp.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Closes-Bug: 1457691
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/207165/9 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'swift/obj/server.py', 'test/probe/test_reconstructor_revert.py', 'test/unit/proxy/test_server.py', 'swift/obj/mem_diskfile.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_diskfile.py', 'swift/proxy/controllers/obj.py', 'test/probe/test_object_handoff.py', 'swift/obj/diskfile.py', 'swift/proxy/controllers/base.py']",11,c532f9174cf5b53186a094f4e7076d4b58ee736c,bug/1457691," self.node = None # sometimes the GET path may request a specific FI by adding # a frag_index key to the node dict, pass it on if so... if 'frag_index' in node: self.backend_headers['X-Backend-Preferred-Frag-Index'] = \ node['frag_index'] self.node = node",,1113,127
openstack%2Fbifrost~master~I553a29206a045b5aa0e679ce05e984c7dd4b9df3,openstack/bifrost,master,I553a29206a045b5aa0e679ce05e984c7dd4b9df3,Rename install role to bifrost-ironic-install,MERGED,2015-08-04 20:29:30.000000000,2015-08-14 21:09:09.000000000,2015-08-14 21:09:08.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 8106}, {'_account_id': 11655}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-08-04 20:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fcf47a284d11424b7c533c8c5b8acf9ed6c0efe8', 'message': 'Rename install role to bifrost-ironic-install\n\nSince the install role is specifically geared to install ironic\nin a way that bifrost uses, we should name the role appropriately.\n\nNote: This will be followed up with a change to revise the\nREADME file for the role as changing and renaming the file\nwill result in issues with the file history.\n\nChange-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3\n'}, {'number': 2, 'created': '2015-08-06 14:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6450b38f589e82f125f29382dea9d7a17639d83b', 'message': 'Rename install role to bifrost-ironic-install\n\nSince the install role is specifically geared to install ironic\nin a way that bifrost uses, we should name the role appropriately.\n\nNote: This will be followed up with a change to revise the\nREADME file for the role as changing and renaming the file\nwill result in issues with the file history.\n\nChange-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3\nDepends-On: Ia6226a8573753ff02da19dcb3c2b5abfb9b3c297\n'}, {'number': 3, 'created': '2015-08-06 19:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/297ce882d9beccf2d4c49136222d45a7c1246a86', 'message': 'Rename install role to bifrost-ironic-install\n\nSince the install role is specifically geared to install ironic\nin a way that bifrost uses, we should name the role appropriately.\n\nNote: This will be followed up with a change to revise the\nREADME file for the role as changing and renaming the file\nwill result in issues with the file history.\n\nChange-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3\nDepends-On: Ia6226a8573753ff02da19dcb3c2b5abfb9b3c297\n'}, {'number': 4, 'created': '2015-08-13 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/61d8ebc6a11367f40030ef42479bb3feeceaa2ef', 'message': 'Rename install role to bifrost-ironic-install\n\nSince the install role is specifically geared to install ironic\nin a way that bifrost uses, we should name the role appropriately.\n\nNote: This will be followed up with a change to revise the\nREADME file for the role as changing and renaming the file\nwill result in issues with the file history.\n\nChange-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3\nDepends-On: Ia6226a8573753ff02da19dcb3c2b5abfb9b3c297\n'}, {'number': 5, 'created': '2015-08-14 16:17:50.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/files/boot.ipxe', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-ironic-install/files/xinetd.tftp', 'playbooks/roles/ironic-enroll-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-setup-nodes/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/upstart_template.j2', 'playbooks/roles/bifrost-configdrives-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/files/tftpboot-map-file', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/meta/main.yml', 'playbooks/test-bifrost-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/dib_install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2', 'playbooks/roles/bifrost-unprovision-node-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/agent_config.template.j2', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/install.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat.yml', 'playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6840c963a28472675a96eebe6394947874ad79f6', 'message': 'Rename install role to bifrost-ironic-install\n\nSince the install role is specifically geared to install ironic\nin a way that bifrost uses, we should name the role appropriately.\n\nNote: This will be followed up with a change to revise the\nREADME file for the role as changing and renaming the file\nwill result in issues with the file history.\n\nChange-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3\nDepends-On: Ia6226a8573753ff02da19dcb3c2b5abfb9b3c297\n'}]",0,209245,6840c963a28472675a96eebe6394947874ad79f6,24,5,5,11655,,,0,"Rename install role to bifrost-ironic-install

Since the install role is specifically geared to install ironic
in a way that bifrost uses, we should name the role appropriately.

Note: This will be followed up with a change to revise the
README file for the role as changing and renaming the file
will result in issues with the file history.

Change-Id: I553a29206a045b5aa0e679ce05e984c7dd4b9df3
Depends-On: Ia6226a8573753ff02da19dcb3c2b5abfb9b3c297
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/209245/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/files/boot.ipxe', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-ironic-install/files/xinetd.tftp', 'playbooks/roles/ironic-enroll-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-setup-nodes/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/upstart_template.j2', 'playbooks/roles/bifrost-configdrives-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/files/tftpboot-map-file', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/meta/main.yml', 'playbooks/test-bifrost-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/dib_install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2', 'playbooks/roles/bifrost-unprovision-node-dynamic/README.md', 'playbooks/roles/bifrost-ironic-install/templates/agent_config.template.j2', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/install.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat.yml', 'playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2']",26,fcf47a284d11424b7c533c8c5b8acf9ed6c0efe8,group-vars-cleanup,,,23,21
openstack%2Fpuppet-manila~master~Icb135320b5f26e7641cea21219e284ca61efc3a8,openstack/puppet-manila,master,Icb135320b5f26e7641cea21219e284ca61efc3a8,acceptance: bump to Liberty release,MERGED,2015-08-05 00:40:04.000000000,2015-08-14 21:04:33.000000000,2015-08-14 21:04:33.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/990f9b51786a0cd780e9291ece211bbe2b7ff99f', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8c3b5f5c8c95187bcd5b61b0f50720d9181e8feb', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 3, 'created': '2015-08-07 20:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/9aa7118ba8ad0ddfb07ef8a8f8f81105265f3ecf', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 4, 'created': '2015-08-13 09:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/45cc51ddf9fdd56c9ef3bf30bcd1c7af8ac05d07', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 5, 'created': '2015-08-13 14:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/a319be738beeec68415c7bff68530466ccd3a380', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 6, 'created': '2015-08-13 17:46:25.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8cbd33f7e6184ffad4ad6be7f8998e424d637c3b', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209293,8cbd33f7e6184ffad4ad6be7f8998e424d637c3b,18,4,6,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: Icb135320b5f26e7641cea21219e284ca61efc3a8
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/93/209293/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_manila_spec.rb'],1,990f9b51786a0cd780e9291ece211bbe2b7ff99f,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fpuppet-ceilometer~master~I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5,openstack/puppet-ceilometer,master,I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5,acceptance: bump to Liberty release,MERGED,2015-08-05 00:39:43.000000000,2015-08-14 21:03:17.000000000,2015-08-14 21:03:16.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/9e0bbedf88517bc3d1964bbd513dcaa4e5da18fb', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/57f7dc56689c3b810c386cdab94fd3788747f2e1', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 3, 'created': '2015-08-07 14:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/616f50a4eb4ae1d58162f959d3106500fca07575', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 4, 'created': '2015-08-07 15:27:58.000000000', 'files': ['spec/acceptance/ceilometer_with_mysql_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3dbe940b19d9541b1964f9cba62d1f4369590b99', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209286,3dbe940b19d9541b1964f9cba62d1f4369590b99,14,3,4,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: I5131e4876189c5fbe31d52fc4ed24bedfac7dfb5
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/86/209286/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ceilometer_with_mysql_spec.rb'],1,9e0bbedf88517bc3d1964bbd513dcaa4e5da18fb,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fpuppet-vswitch~master~I3bac96a607ec0067cdaab534d50ac302622f170f,openstack/puppet-vswitch,master,I3bac96a607ec0067cdaab534d50ac302622f170f,acceptance: bump to Liberty release,MERGED,2015-08-05 00:40:21.000000000,2015-08-14 21:01:03.000000000,2015-08-14 21:00:57.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/44d3e960e0b12cb1247e53f915b760a627b15029', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non Centos7.\n\nChange-Id: I3bac96a607ec0067cdaab534d50ac302622f170f\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\n'}, {'number': 2, 'created': '2015-08-05 02:57:14.000000000', 'files': ['spec/acceptance/basic_vswitch_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c22bfc509562ad95425382ccd7416e91ea70a779', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non Centos7.\n\nChange-Id: I3bac96a607ec0067cdaab534d50ac302622f170f\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\n'}]",0,209299,c22bfc509562ad95425382ccd7416e91ea70a779,9,3,2,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on Centos7.

Change-Id: I3bac96a607ec0067cdaab534d50ac302622f170f
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/99/209299/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_vswitch_spec.rb'],1,44d3e960e0b12cb1247e53f915b760a627b15029,puppet/acceptance-liberty," class { '::openstack_extras::repo::redhat::redhat': manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," 'RedHat': { class { '::openstack_extras::repo::redhat::redhat': release => 'kilo', }",15,4
openstack%2Fsecurity-doc~master~I3e871c1d4e941940cda8424f62a5beb4386ae20b,openstack/security-doc,master,I3e871c1d4e941940cda8424f62a5beb4386ae20b,Switch from MySQL-python to PyMySQL,ABANDONED,2015-05-20 01:09:26.000000000,2015-08-14 20:58:20.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 979}, {'_account_id': 5263}, {'_account_id': 7063}, {'_account_id': 10281}, {'_account_id': 10670}, {'_account_id': 12325}]","[{'number': 1, 'created': '2015-05-20 01:09:26.000000000', 'files': ['security-guide/section_database-access-control.xml'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/691064d9cfdbdb51c1e2032edc37716291d9f679', 'message': 'Switch from MySQL-python to PyMySQL\n\nAs discussed in the Liberty Design Summit ""Moving apps to Python 3""\ncross-project workshop, the way forward in the near future is to\nswitch to the pure-python PyMySQL library as a default.\n\nhttps://etherpad.openstack.org/p/liberty-cross-project-python3\n\nChange-Id: I3e871c1d4e941940cda8424f62a5beb4386ae20b\n'}]",0,184394,691064d9cfdbdb51c1e2032edc37716291d9f679,10,8,1,5263,,,0,"Switch from MySQL-python to PyMySQL

As discussed in the Liberty Design Summit ""Moving apps to Python 3""
cross-project workshop, the way forward in the near future is to
switch to the pure-python PyMySQL library as a default.

https://etherpad.openstack.org/p/liberty-cross-project-python3

Change-Id: I3e871c1d4e941940cda8424f62a5beb4386ae20b
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/94/184394/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/section_database-access-control.xml'],1,691064d9cfdbdb51c1e2032edc37716291d9f679,pymysql-switch," <programlisting language=""ini"">sql_connection = mysql+pymysql://compute01:<replaceable>NOVA_DBPASS</replaceable>@localhost/nova?charset=utf8&amp;ssl_ca=/etc/mysql/cacert.pem</programlisting> <programlisting language=""ini"">sql_connection = mysql+pymysql://compute01:<replaceable>NOVA_DBPASS</replaceable>@localhost/nova?"," <programlisting language=""ini"">sql_connection = mysql://compute01:<replaceable>NOVA_DBPASS</replaceable>@localhost/nova?charset=utf8&amp;ssl_ca=/etc/mysql/cacert.pem</programlisting> <programlisting language=""ini"">sql_connection = mysql://compute01:<replaceable>NOVA_DBPASS</replaceable>@localhost/nova?",2,2
openstack%2Fpuppet-nova~master~I981aad948f7ba5848781c2162820741330b68df8,openstack/puppet-nova,master,I981aad948f7ba5848781c2162820741330b68df8,acceptance: bump to Liberty release,MERGED,2015-08-05 00:40:10.000000000,2015-08-14 20:57:54.000000000,2015-08-14 20:57:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/463542f1e1e43f08c38fe4778bf04579743707f7', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I981aad948f7ba5848781c2162820741330b68df8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:35.000000000', 'files': ['spec/acceptance/basic_nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f859bb3a30286b96377bc1b6a8265eb01a86320a', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I981aad948f7ba5848781c2162820741330b68df8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209295,f859bb3a30286b96377bc1b6a8265eb01a86320a,11,4,2,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: I981aad948f7ba5848781c2162820741330b68df8
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/95/209295/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_nova_spec.rb'],1,463542f1e1e43f08c38fe4778bf04579743707f7,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fpuppet-horizon~master~Ie603bcc51412ab8a0ede79b37d3be6842e360c0d,openstack/puppet-horizon,master,Ie603bcc51412ab8a0ede79b37d3be6842e360c0d,acceptance: bump to Liberty release,MERGED,2015-08-05 00:39:58.000000000,2015-08-14 20:57:41.000000000,2015-08-14 20:57:39.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/428a50434daffbf99d4dc59558419ed73daada0d', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ie603bcc51412ab8a0ede79b37d3be6842e360c0d\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-07 15:33:34.000000000', 'files': ['spec/acceptance/horizon_with_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/65386255d18ab570190537e6f2b6a62c057a98e4', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ie603bcc51412ab8a0ede79b37d3be6842e360c0d\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209291,65386255d18ab570190537e6f2b6a62c057a98e4,9,3,2,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: Ie603bcc51412ab8a0ede79b37d3be6842e360c0d
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/91/209291/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/horizon_with_apache_spec.rb'],1,428a50434daffbf99d4dc59558419ed73daada0d,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } release => 'kilo',",18,4
openstack%2Fpuppet-cinder~master~Ib2e73301f3e2c37694e32f1e821711a83727d0b8,openstack/puppet-cinder,master,Ib2e73301f3e2c37694e32f1e821711a83727d0b8,acceptance: bump to Liberty release,MERGED,2015-08-05 00:39:47.000000000,2015-08-14 20:57:22.000000000,2015-08-14 20:57:18.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/73c48f2f93d553cd58aa630c47a22a50ca0252bb', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ib2e73301f3e2c37694e32f1e821711a83727d0b8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/31324bcd54d39534604a799db50d256791e465d6', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ib2e73301f3e2c37694e32f1e821711a83727d0b8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 3, 'created': '2015-08-07 14:47:36.000000000', 'files': ['spec/acceptance/basic_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7158e23f586a59f1352ae446699c29f5847b9d6b', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ib2e73301f3e2c37694e32f1e821711a83727d0b8\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209287,7158e23f586a59f1352ae446699c29f5847b9d6b,12,3,3,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: Ib2e73301f3e2c37694e32f1e821711a83727d0b8
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/87/209287/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_cinder_spec.rb'],1,73c48f2f93d553cd58aa630c47a22a50ca0252bb,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fpuppet-swift~master~I1e2b09c79e20ee1212906a680f2f3f5b8e93fe91,openstack/puppet-swift,master,I1e2b09c79e20ee1212906a680f2f3f5b8e93fe91,acceptance: bump to Liberty release,MERGED,2015-08-05 00:40:15.000000000,2015-08-14 20:56:58.000000000,2015-08-14 20:56:57.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}, {'_account_id': 11176}]","[{'number': 1, 'created': '2015-08-05 00:40:15.000000000', 'files': ['spec/acceptance/basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4dfa6e03205aa8055e2522bc96f0633fc17359b9', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: I1e2b09c79e20ee1212906a680f2f3f5b8e93fe91\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209297,4dfa6e03205aa8055e2522bc96f0633fc17359b9,9,4,1,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: I1e2b09c79e20ee1212906a680f2f3f5b8e93fe91
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/97/209297/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_swift_spec.rb'],1,4dfa6e03205aa8055e2522bc96f0633fc17359b9,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } release => 'kilo',",18,4
openstack%2Fhorizon~master~I9fb4825f6efc8d4b8ed97011620ceb45cc2df0fe,openstack/horizon,master,I9fb4825f6efc8d4b8ed97011620ceb45cc2df0fe,Switch from MySQL-python to PyMySQL,ABANDONED,2015-05-20 01:08:00.000000000,2015-08-14 20:56:51.000000000,,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-05-20 01:08:00.000000000', 'files': ['openstack_dashboard/dashboards/project/databases/templates/databases/_detail_overview_mysql.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cfe8b9ee2c6b44b9989b9a42a8bcb097b19f3252', 'message': 'Switch from MySQL-python to PyMySQL\n\nAs discussed in the Liberty Design Summit ""Moving apps to Python 3""\ncross-project workshop, the way forward in the near future is to\nswitch to the pure-python PyMySQL library as a default.\n\nhttps://etherpad.openstack.org/p/liberty-cross-project-python3\n\nChange-Id: I9fb4825f6efc8d4b8ed97011620ceb45cc2df0fe\n'}]",0,184377,cfe8b9ee2c6b44b9989b9a42a8bcb097b19f3252,7,3,1,5263,,,0,"Switch from MySQL-python to PyMySQL

As discussed in the Liberty Design Summit ""Moving apps to Python 3""
cross-project workshop, the way forward in the near future is to
switch to the pure-python PyMySQL library as a default.

https://etherpad.openstack.org/p/liberty-cross-project-python3

Change-Id: I9fb4825f6efc8d4b8ed97011620ceb45cc2df0fe
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/184377/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/databases/templates/databases/_detail_overview_mysql.html'],1,cfe8b9ee2c6b44b9989b9a42a8bcb097b19f3252,pymysql-switch," <dd>mysql+pymysql://{% trans ""USERNAME"" %}:{% trans ""PASSWORD"" %}@{{ host }}:3306/{% trans ""DATABASE""%}</dd>"," <dd>mysql://{% trans ""USERNAME"" %}:{% trans ""PASSWORD"" %}@{{ host }}:3306/{% trans ""DATABASE""%}</dd>",1,1
openstack%2Fpuppet-keystone~master~I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5,openstack/puppet-keystone,master,I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5,acceptance: bump to Liberty release,MERGED,2015-08-04 14:31:03.000000000,2015-08-14 20:56:25.000000000,2015-08-14 20:56:24.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-04 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/18f74f567c759189d2350280f82a86a406308110', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nChange-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5\n'}, {'number': 2, 'created': '2015-08-04 14:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/04ba1bada22c46163852473076de3e63d1fee239', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nChange-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5\n'}, {'number': 3, 'created': '2015-08-04 14:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0bac8b817bb58cb6c28c552f59fce70d50c41dbe', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nChange-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5\n'}, {'number': 4, 'created': '2015-08-04 15:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/755a7737ef93b562533a9dc4af39f234120a2c7d', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nChange-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5\n'}, {'number': 5, 'created': '2015-08-04 18:21:50.000000000', 'files': ['spec/acceptance/basic_keystone_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/552e0e0163eeeae4c0790b05dfbc4f45ebfb42a1', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\nChange-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5\n'}]",0,209097,552e0e0163eeeae4c0790b05dfbc4f45ebfb42a1,12,3,5,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
Change-Id: I14c96fee3acaa8c4b6dd04a718523e57dcdaa9e5
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/97/209097/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_keystone_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb']",2,18f74f567c759189d2350280f82a86a406308110,puppet/acceptance-liberty, apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': } Exec['apt_update'] -> Package<||>," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, }",18,10
openstack%2Fpuppet-trove~master~Ie95acd05da28f59abb872789e3480c1c4430c10b,openstack/puppet-trove,master,Ie95acd05da28f59abb872789e3480c1c4430c10b,acceptance: bump to Liberty release,MERGED,2015-08-05 00:40:18.000000000,2015-08-14 20:54:32.000000000,2015-08-14 20:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-08-05 00:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/e577013b9a89f360b1c028ddac62dc80aa2a9939', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ie95acd05da28f59abb872789e3480c1c4430c10b\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}, {'number': 2, 'created': '2015-08-05 01:22:40.000000000', 'files': ['spec/acceptance/basic_trove_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3f9c2ce517054e0509733b784ef0d9553c38f447', 'message': 'acceptance: bump to Liberty release\n\nUpgrade acceptance manifest from Kilo (stable) to Liberty (dev)\non both Ubuntu Trusty & Centos7.\n\nChange-Id: Ie95acd05da28f59abb872789e3480c1c4430c10b\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nDepends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8\n'}]",0,209298,3f9c2ce517054e0509733b784ef0d9553c38f447,10,4,2,3153,,,0,"acceptance: bump to Liberty release

Upgrade acceptance manifest from Kilo (stable) to Liberty (dev)
on both Ubuntu Trusty & Centos7.

Change-Id: Ie95acd05da28f59abb872789e3480c1c4430c10b
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Depends-On: I7c1f31b3cc4c6ea1f894a263a8cff60e357accb8
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/98/209298/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_trove_spec.rb'],1,e577013b9a89f360b1c028ddac62dc80aa2a9939,puppet/acceptance-liberty," apt::ppa { 'ppa:ubuntu-cloud-archive/liberty-staging': # it's false by default in 2.x series but true in 1.8.x package_manage => false, } Exec['apt_update'] -> Package<||> manage_rdo => false, repo_hash => { # we need kilo repo to be installed for dependencies 'rdo-kilo' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7/', 'descr' => 'RDO kilo', 'gpgcheck' => 'no', }, 'rdo-liberty' => { 'baseurl' => 'http://trunk.rdoproject.org/centos7/current/', 'descr' => 'RDO trunk', 'gpgcheck' => 'no', }, },"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } $package_provider = 'apt' release => 'kilo', $package_provider = 'yum'",18,6
openstack%2Fgnocchi~master~I269f674c96fa71a460a84e3bc3c486876e7fe38f,openstack/gnocchi,master,I269f674c96fa71a460a84e3bc3c486876e7fe38f,gabbi: fix a typo in name of a test,MERGED,2015-08-14 16:04:10.000000000,2015-08-14 20:48:33.000000000,2015-08-14 20:48:32.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6924}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-08-14 16:04:10.000000000', 'files': ['gnocchi/tests/gabbi/gabbits/resource.yaml'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/9376c1464e99a58d9d791ab8fd0dd830e798ba9e', 'message': ""gabbi: fix a typo in name of a test\n\nIt's not posting to measure but to the metric itself.\n\nChange-Id: I269f674c96fa71a460a84e3bc3c486876e7fe38f\n""}]",0,213222,9376c1464e99a58d9d791ab8fd0dd830e798ba9e,9,5,1,1669,,,0,"gabbi: fix a typo in name of a test

It's not posting to measure but to the metric itself.

Change-Id: I269f674c96fa71a460a84e3bc3c486876e7fe38f
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/22/213222/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/tests/gabbi/gabbits/resource.yaml'],1,9376c1464e99a58d9d791ab8fd0dd830e798ba9e,jd/fix-typo, - name: try post cpuutil metric to instance, - name: try post cpuutil measures to instance,1,1
openstack%2Fproject-config~master~I982c6cf217afd9bd89891e86767aa98b482b3375,openstack/project-config,master,I982c6cf217afd9bd89891e86767aa98b482b3375,Adding python-jobs for python-oneviewclient repository,MERGED,2015-08-14 15:01:44.000000000,2015-08-14 20:42:40.000000000,2015-08-14 20:42:36.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 10917}, {'_account_id': 11809}, {'_account_id': 14891}]","[{'number': 1, 'created': '2015-08-14 15:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/436b727c2f9d83bbb09ade8788bff8e5a38d928f', 'message': 'Removing noop-jobs and adding python-jobs\n\nChange-Id: I982c6cf217afd9bd89891e86767aa98b482b3375\n'}, {'number': 2, 'created': '2015-08-14 15:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/40f352aae8c1558af47d99dac4c7235f8e071cf1', 'message': 'Removing noop-jobs and adding python-jobs for\npython-oneviewclient repository.\n\nChange-Id: I982c6cf217afd9bd89891e86767aa98b482b3375\n'}, {'number': 3, 'created': '2015-08-14 15:49:01.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd3181ea5691faa26d012ab745e5f10d15707986', 'message': 'Adding python-jobs for python-oneviewclient repository\n\nChange-Id: I982c6cf217afd9bd89891e86767aa98b482b3375\n'}]",0,213185,cd3181ea5691faa26d012ab745e5f10d15707986,14,7,3,14923,,,0,"Adding python-jobs for python-oneviewclient repository

Change-Id: I982c6cf217afd9bd89891e86767aa98b482b3375
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/213185/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,436b727c2f9d83bbb09ade8788bff8e5a38d928f,update-oneviewclient-repo, - name: python-jobs, - name: noop-jobs,1,1
openstack%2Fnova-specs~master~Icbfd8247e4a52db3cf89d256c29c24cd14de0811,openstack/nova-specs,master,Icbfd8247e4a52db3cf89d256c29c24cd14de0811,Add 'passthrough' namespace in flavor extra_specs,ABANDONED,2015-05-28 19:13:49.000000000,2015-08-14 20:42:12.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10697}, {'_account_id': 10765}, {'_account_id': 10917}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-05-28 19:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1a81eb599465e1d032a7225e8ecf091a0532cb84', 'message': ""Add 'passthrough' namespace in flavor extra_specs\n\nThis is the spec for:\nhttps://blueprints.launchpad.net/nova/+spec/passthrough-namespace\n\nChange-Id: Icbfd8247e4a52db3cf89d256c29c24cd14de0811\nCo-Authored-By: albertoffb\nCo-Authored-By: caiobo\nCo-Authored-By: diegolp\nCo-Authored-By: liliars\nCo-Authored-By: sinval\nCo-Authored-By: thiagop\n""}, {'number': 2, 'created': '2015-05-29 11:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b8d4655e164d8daa29f5ba07725fd16e59f8b15d', 'message': ""Add 'passthrough' namespace in flavor extra_specs\n\nThis is the spec for:\nhttps://blueprints.launchpad.net/nova/+spec/passthrough-namespace\n\nChange-Id: Icbfd8247e4a52db3cf89d256c29c24cd14de0811\nCo-Authored-By: Alberto Barros <albertoffb@lsd.ufcg.edu.br>\nCo-Authored-By: Caio Oliveira <caiobo@lsd.ufcg.edu.br>\nCo-Authored-By: Diego Pereira <diegolp@lsd.ufcg.edu.br>\nCo-Authored-By: Lilia Sampaio <liliars@lsd.ufcg.edu.br>\nCo-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>\nCo-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>\n""}, {'number': 3, 'created': '2015-05-29 12:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f9c6d3b551194ad2bf803c5d6b24b6fba3c6ff9d', 'message': ""Add 'passthrough' namespace in flavor extra_specs\n\nThis is the spec for:\nhttps://blueprints.launchpad.net/nova/+spec/passthrough-namespace\n\nCo-Authored-By: Alberto Barros <albertoffb@lsd.ufcg.edu.br>\nCo-Authored-By: Caio Oliveira <caiobo@lsd.ufcg.edu.br>\nCo-Authored-By: Diego Pereira <diegolp@lsd.ufcg.edu.br>\nCo-Authored-By: Lilia Sampaio <liliars@lsd.ufcg.edu.br>\nCo-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>\nCo-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>\n\nImplements: blueprint passthrough-namespace\n\nChange-Id: Icbfd8247e4a52db3cf89d256c29c24cd14de0811\n""}, {'number': 4, 'created': '2015-05-29 19:12:27.000000000', 'files': ['specs/liberty/implemented/passthrough-namespace.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/01c35900c6489796e8e71999559fb92bd9a9a3ed', 'message': ""Add 'passthrough' namespace in flavor extra_specs\n\nNowadays it's not possible to passdown a specific information on the Nova\nflavor to the Ironic driver without being mandadory used in node matching.\nThis spec proposes the addition of the 'passthrough' namespace on flavor's\nextra_specs to be used in such a way.\n\nCo-Authored-By: Alberto Barros <albertoffb@lsd.ufcg.edu.br>\nCo-Authored-By: Caio Oliveira <caiobo@lsd.ufcg.edu.br>\nCo-Authored-By: Diego Pereira <diegolp@lsd.ufcg.edu.br>\nCo-Authored-By: Lilia Sampaio <liliars@lsd.ufcg.edu.br>\nCo-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>\nCo-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>\n\nImplements: blueprint passthrough-namespace\n\nChange-Id: Icbfd8247e4a52db3cf89d256c29c24cd14de0811\n""}]",3,186536,01c35900c6489796e8e71999559fb92bd9a9a3ed,21,9,4,10765,,,0,"Add 'passthrough' namespace in flavor extra_specs

Nowadays it's not possible to passdown a specific information on the Nova
flavor to the Ironic driver without being mandadory used in node matching.
This spec proposes the addition of the 'passthrough' namespace on flavor's
extra_specs to be used in such a way.

Co-Authored-By: Alberto Barros <albertoffb@lsd.ufcg.edu.br>
Co-Authored-By: Caio Oliveira <caiobo@lsd.ufcg.edu.br>
Co-Authored-By: Diego Pereira <diegolp@lsd.ufcg.edu.br>
Co-Authored-By: Lilia Sampaio <liliars@lsd.ufcg.edu.br>
Co-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>
Co-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>

Implements: blueprint passthrough-namespace

Change-Id: Icbfd8247e4a52db3cf89d256c29c24cd14de0811
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/36/186536/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/implemented/passthrough-namespace.rst'],1,1a81eb599465e1d032a7225e8ecf091a0532cb84,bp/passthrough-namespace,"=================================================== Add 'passthrough' namespace in flavor's extra_specs =================================================== https://blueprints.launchpad.net/nova/+spec/passthrough-namespace Nowadays it's not possible to passdown a specific information on the Nova flavor to the Ironic driver without being mandadory used in node matching. This spec proposes the addition of the 'passthrough' namespace on flavor's extra_specs to be used in such a way. Problem description =================== Nowadays Nova flavors does have a 'capabilities' namespace on extra_specs field which can be used to pass additional information to be used by the driver, but the data in this namespace will mandatorily be used on node matching by the Nova Scheduler. Though, in some situations, a driver could require some additional information regarding the flavor that should not be used in scheduling. Use Cases ---------- A driver needs to know a specific information before making a deploy to configure the node in a right way which will allow the deploy without mistakes. Example: A driver needs to receive a url that will be used to check the status of a external service. Using additional_information name espace the url can be passed to the driver without any trouble and that url will not be used in matching node. A driver needs to contact a Infrastructure Management System (IMS) or Configuration Management System (CMS) to fetch/change the state of a managed piece of hardware. Example: Some IMS will try to maintain the consistency of their infrastructure by issuing commands to correct the hardware to the expected state like if the driver powers on a server, the IMS will take that state as invalid and issue a command to power the server off. Backwards traceability: I need to know which specific server is being used to hold a baremetal instance on my IMS or CMS. Example: In a cloud with some thousands of servers, there will be a vast number of servers with the same configuration. Assuming that we have a IMS/CMS to manage it, it could be hard to determine which server holds on a determinate instance I want to find just by the MAC address. Passing some extra information about hardware location and/or custom identifiers would be interesting on those cases. Project Priority ----------------- None Proposed change =============== Create a 'passthrough' namespace in the flavor extra_specs and update the Ironic's patcher to include this information in the instance_info field for the node. Alternatives ------------ An Ironic driver could get the information it needs using the Nova API to retrieve the flavor's extra_specs but, to do so, it would add a dependency on python-novaclient. Besides, it would require an extra round trip to Keystone to fetch an authentication token and sufficient permissions to access the flavor. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Irc contact Primary assignee: albertoffb Other contributors: caiobo diegolp liliars sinval afaranha thiagop Work Items ---------- Changes in nova/virt/ironic/patcher.py to update the instance_info field with the flavor 'passthrough'. Dependencies ============ None Testing ======= Unit tests will be added Documentation Impact ==================== It will be documented on Nova and Ironic. References ========== * Links to mailing list or IRC discussions * Links to notes from a summit session * Anything else you feel it is worthwhile to refer to History ======= None ",,158,0
openstack%2Fironic~master~I86c596d34729345efb2609f44de8ea6dc014b670,openstack/ironic,master,I86c596d34729345efb2609f44de8ea6dc014b670,Allow digits in IPA driver names,MERGED,2015-08-14 15:52:58.000000000,2015-08-14 20:36:30.000000000,2015-08-14 20:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 7080}, {'_account_id': 7933}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 13997}, {'_account_id': 14923}]","[{'number': 1, 'created': '2015-08-14 15:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2da462f20eae2e36b151bef95b290a9a3d4d88b3', 'message': 'Allow digits in IPA driver names\n\nChange-Id: I86c596d34729345efb2609f44de8ea6dc014b670\nCloses-Bug: #1485012\n'}, {'number': 2, 'created': '2015-08-14 15:57:18.000000000', 'files': ['ironic/api/config.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/45adeedd437cb6f40be751fd0f1fcf2d1aa5d79a', 'message': 'Allow digits in IPA driver names\n\nUsing a driver name with digits prevents unauthenticated passthru calls\nfrom going through.\n\nChange-Id: I86c596d34729345efb2609f44de8ea6dc014b670\nCloses-Bug: #1485012\n'}]",0,213213,45adeedd437cb6f40be751fd0f1fcf2d1aa5d79a,15,7,2,7080,,,0,"Allow digits in IPA driver names

Using a driver name with digits prevents unauthenticated passthru calls
from going through.

Change-Id: I86c596d34729345efb2609f44de8ea6dc014b670
Closes-Bug: #1485012
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/213213/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/config.py'],1,2da462f20eae2e36b151bef95b290a9a3d4d88b3,bug/1485012," '/v1/drivers/[a-z0-9_]*/vendor_passthru/lookup',"," '/v1/drivers/[a-z_]*/vendor_passthru/lookup',",1,1
openstack%2Fkolla~master~Ice877b74d46d59f2e9ecff051b09245e9d3744e1,openstack/kolla,master,Ice877b74d46d59f2e9ecff051b09245e9d3744e1,Safely check for dictionary key presence,MERGED,2015-08-14 17:58:45.000000000,2015-08-14 20:24:50.000000000,2015-08-14 20:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10428}]","[{'number': 1, 'created': '2015-08-14 17:58:45.000000000', 'files': ['tools/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/67ce01fc625ace5ebef72951fdf59b63af0e9ea6', 'message': ""Safely check for dictionary key presence\n\nAccessing the key directly when it doesn't exist was yielding a\nKeyError.\n\nChange-Id: Ice877b74d46d59f2e9ecff051b09245e9d3744e1\nParitally-Implements: blueprint gate-source-builds\n""}]",0,213277,67ce01fc625ace5ebef72951fdf59b63af0e9ea6,7,3,1,3098,,,0,"Safely check for dictionary key presence

Accessing the key directly when it doesn't exist was yielding a
KeyError.

Change-Id: Ice877b74d46d59f2e9ecff051b09245e9d3744e1
Paritally-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/213277/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/build.py'],1,67ce01fc625ace5ebef72951fdf59b63af0e9ea6,bp/gate-source-builds, if 'source' in image:, if image['source']:,1,1
openstack%2Fopenstack-ansible~juno~Ib92e60a0902076d164840e2acf32d6fd5b34288b,openstack/openstack-ansible,juno,Ib92e60a0902076d164840e2acf32d6fd5b34288b,Templateize neutron_api_workers,MERGED,2015-08-12 18:52:32.000000000,2015-08-14 20:19:29.000000000,2015-08-14 20:19:25.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 9515}, {'_account_id': 12000}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-08-12 18:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f10e1ecf66c827c8de7357f87c2bae9767cc7d27', 'message': 'Templateize neutron_api_workers\n\nIn Kilo and above, neutron_api_workers can be overridden using\nconfiguration variables. In Juno, this is hardcoded to 10 and can not be\nchanged.\n\nThis change retains the hardcoded default value and exposes the\nvariable so it can be overridden.\n\nChange-Id: Ib92e60a0902076d164840e2acf32d6fd5b34288b\nCloses-Bug: 1476387\n'}, {'number': 2, 'created': '2015-08-13 18:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2fe215234aace7ebe91d0c1cfb5026f20fd270b2', 'message': 'Templateize neutron_api_workers\n\nIn Kilo and above, neutron_api_workers can be overridden using\nconfiguration variables. In Juno, this is hardcoded to 10 and can not be\nchanged.\n\nThis change retains the hardcoded default value and exposes the\nvariable so it can be overridden.\n\nChange-Id: Ib92e60a0902076d164840e2acf32d6fd5b34288b\nCloses-Bug: 1476387\n'}, {'number': 3, 'created': '2015-08-14 10:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/60565945713e24115587adbb2dbc7e352f482061', 'message': 'Templateize neutron_api_workers\n\nIn Kilo and above, neutron_api_workers can be overridden using\nconfiguration variables. In Juno, this is hardcoded to 10 and can not be\nchanged.\n\nThis change retains the hardcoded default value and exposes the\nvariable so it can be overridden.\n\nChange-Id: Ib92e60a0902076d164840e2acf32d6fd5b34288b\nCloses-Bug: 1476387\n'}, {'number': 4, 'created': '2015-08-14 18:21:07.000000000', 'files': ['rpc_deployment/inventory/group_vars/neutron_all.yml', 'rpc_deployment/roles/neutron_common/templates/neutron.conf'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/014c62bdfa7556cc6fb147b975ffd2f781242601', 'message': 'Templateize neutron_api_workers\n\nIn Kilo and above, neutron_api_workers can be overridden using\nconfiguration variables. In Juno, this is hardcoded to 10 and can not be\nchanged.\n\nThis change retains the hardcoded default value and exposes the\nvariable so it can be overridden.\n\nChange-Id: Ib92e60a0902076d164840e2acf32d6fd5b34288b\nCloses-Bug: 1476387\n'}]",0,212146,014c62bdfa7556cc6fb147b975ffd2f781242601,15,5,4,6714,,,0,"Templateize neutron_api_workers

In Kilo and above, neutron_api_workers can be overridden using
configuration variables. In Juno, this is hardcoded to 10 and can not be
changed.

This change retains the hardcoded default value and exposes the
variable so it can be overridden.

Change-Id: Ib92e60a0902076d164840e2acf32d6fd5b34288b
Closes-Bug: 1476387
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/212146/2 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/inventory/group_vars/neutron_all.yml', 'rpc_deployment/roles/neutron_common/templates/neutron.conf']",2,f10e1ecf66c827c8de7357f87c2bae9767cc7d27,bug/1476387,api_workers = {{ neutron_api_workers }},api_workers = 10,2,1
openstack%2Fhorizon~master~I4372af55512fcc6700005c4477aab196a49c8fc4,openstack/horizon,master,I4372af55512fcc6700005c4477aab196a49c8fc4,Add example keystone v3 policy file to horizon,MERGED,2015-03-06 22:49:52.000000000,2015-08-14 20:18:57.000000000,2015-08-14 20:18:52.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1916}, {'_account_id': 1941}, {'_account_id': 5623}, {'_account_id': 6162}, {'_account_id': 7179}, {'_account_id': 8512}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9659}, {'_account_id': 9981}, {'_account_id': 10965}, {'_account_id': 11098}, {'_account_id': 12826}, {'_account_id': 13377}, {'_account_id': 13785}, {'_account_id': 14064}]","[{'number': 1, 'created': '2015-03-06 22:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/32b55b1f95bd84097f65f77e6ce0cd927af272b6', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 2, 'created': '2015-03-09 04:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d1d056ccae84fb2b0f2ada411e3ce5b6ef177add', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 3, 'created': '2015-03-11 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/18182d792e44e7c2fc0d6f629b96cef61ed7f0ea', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 4, 'created': '2015-03-12 18:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96f5fa4d96f9a95ae744f8b5b8e1e357d5a57989', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 5, 'created': '2015-03-16 18:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/215578fc7fe24760c5d770fe9d207efbe9e95cef', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 6, 'created': '2015-04-03 21:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fb1234d735ae359c007f3acc4341759ca2d9f007', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 7, 'created': '2015-05-21 04:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/04d188a73c5e9e7fcbb9064385d0aa80dff5f1ae', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 8, 'created': '2015-08-07 20:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/97b5f698ec066976bf39a3f39aae246b4fbee644', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 9, 'created': '2015-08-13 20:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4c6b86a7ff686e2fcef66a7b3c98196807492ec9', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 10, 'created': '2015-08-13 21:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/99e44fd76dedb29371742f06f1bd2b4890acdf2a', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}, {'number': 11, 'created': '2015-08-13 22:40:18.000000000', 'files': ['openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7d7cde180e7fd29077d59ff2bea346a5e1b794b7', 'message': 'Add example keystone v3 policy file to horizon\n\nThe policy engine should use the same file as keystone.\nThis is required for domain-scoped-token support.\n\nBackground on Domain Scoped Tokens is here.\nhttps://wiki.openstack.org/wiki/Horizon/DomainWorkFlow\n\nPartially Implements: blueprint domain-scoped-tokens\n\nChange-Id: I4372af55512fcc6700005c4477aab196a49c8fc4\n'}]",6,162325,7d7cde180e7fd29077d59ff2bea346a5e1b794b7,62,18,11,6162,,,0,"Add example keystone v3 policy file to horizon

The policy engine should use the same file as keystone.
This is required for domain-scoped-token support.

Background on Domain Scoped Tokens is here.
https://wiki.openstack.org/wiki/Horizon/DomainWorkFlow

Partially Implements: blueprint domain-scoped-tokens

Change-Id: I4372af55512fcc6700005c4477aab196a49c8fc4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/162325/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/conf/keystone_policy.v3cloudsample.json', 'openstack_dashboard/local/local_settings.py.example']",2,32b55b1f95bd84097f65f77e6ce0cd927af272b6,bp/domain-scoped-tokens,"# For identity, use the appropriate policy file for v3 domain support # This file should be the same one the Keystone API uses # The keystone_policy.v3cloudsample.json can be found here # https://github.com/openstack/keystone/blob/master/etc/ # policy.v3cloudsample.json",,195,0
openstack%2Fironic~master~Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5,openstack/ironic,master,Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5,Remove CONF.agent.agent_pxe_bootfile_name,MERGED,2015-08-13 08:47:48.000000000,2015-08-14 20:14:55.000000000,2015-08-14 20:14:50.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7634}, {'_account_id': 7711}, {'_account_id': 9315}, {'_account_id': 10343}, {'_account_id': 12356}, {'_account_id': 14923}]","[{'number': 1, 'created': '2015-08-13 08:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1d8d683463d150add008737526bea202f609340', 'message': 'Remove CONF.agent.agent_pxe_bootfile_name\n\nThis commit removes CONF.agent.agent_pxe_bootfile_name as\nit is not used anywhere.\n\nChange-Id: Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5\n'}, {'number': 2, 'created': '2015-08-13 13:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad51f17be405003806cbc14cb4d6ac56a70bae2b', 'message': 'Remove CONF.agent.agent_pxe_bootfile_name\n\nThis commit removes CONF.agent.agent_pxe_bootfile_name as\nit is not used anywhere.\n\nChange-Id: Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5\n'}, {'number': 3, 'created': '2015-08-14 01:42:24.000000000', 'files': ['ironic/drivers/modules/agent.py', 'etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f0fc674b2f20acc06d764cbae5761473e0bf877', 'message': ""Remove CONF.agent.agent_pxe_bootfile_name\n\nThis commit removes CONF.agent.agent_pxe_bootfile_name as\nit is not used anywhere. The usage of this CONF option was\nremoved in Id68d3a89cb72e11e8a52ea69e84816aea2cbf2b1. Even\nbefore that, it wasn't used in the proper way during\ndeployment of nodes.  It was only used in take_over() for\nAgentDeploy, for instances that always booted from disk.\n\nChange-Id: Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5\n""}]",1,212411,4f0fc674b2f20acc06d764cbae5761473e0bf877,26,9,3,9315,,,0,"Remove CONF.agent.agent_pxe_bootfile_name

This commit removes CONF.agent.agent_pxe_bootfile_name as
it is not used anywhere. The usage of this CONF option was
removed in Id68d3a89cb72e11e8a52ea69e84816aea2cbf2b1. Even
before that, it wasn't used in the proper way during
deployment of nodes.  It was only used in take_over() for
AgentDeploy, for instances that always booted from disk.

Change-Id: Ib25ec6ec7cd900ee637bba035e0aeab90e9309c5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/212411/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/agent.py'],1,e1d8d683463d150add008737526bea202f609340,(detached,," cfg.StrOpt('agent_pxe_bootfile_name', default='pxelinux.0', help=_('Neutron bootfile DHCP parameter.')),",0,3
openstack%2Fhorizon~master~Ie0a0ce6098af4e70eab2ddcd64cbbe681a02ba57,openstack/horizon,master,Ie0a0ce6098af4e70eab2ddcd64cbbe681a02ba57,Imported Translations from Transifex,MERGED,2015-08-14 06:12:09.000000000,2015-08-14 20:14:14.000000000,2015-08-14 20:14:10.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 9576}]","[{'number': 1, 'created': '2015-08-14 06:12:09.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/django.pot', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4959556188ec9d942b42a6e2fe5692f48fa75694', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie0a0ce6098af4e70eab2ddcd64cbbe681a02ba57\n'}]",0,212995,4959556188ec9d942b42a6e2fe5692f48fa75694,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ie0a0ce6098af4e70eab2ddcd64cbbe681a02ba57
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/212995/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/django.pot', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po']",15,4959556188ec9d942b42a6e2fe5692f48fa75694,transifex/translations,"""POT-Creation-Date: 2015-08-14 04:33+0000\n"" ""PO-Revision-Date: 2015-08-14 02:29+0000\n""","""POT-Creation-Date: 2015-08-11 04:23+0000\n"" ""PO-Revision-Date: 2015-08-11 01:43+0000\n""msgid ""Delete VIP"" msgid_plural ""Delete VIPs"" msgstr[0] ""Delete VIP"" msgstr[1] ""Delete VIPs"" msgid ""Scheduled deletion of VIP"" msgid_plural ""Scheduled deletion of VIPs"" msgstr[0] ""Scheduled deletion of VIP"" msgstr[1] ""Scheduled deletion of VIPs"" ",163,297
openstack%2Fhorizon~master~I567e5460830a66f30a647379a072ccfa2f4f5d35,openstack/horizon,master,I567e5460830a66f30a647379a072ccfa2f4f5d35,Move magic_search.js in _scripts.html to after Angular files,MERGED,2015-08-13 04:26:08.000000000,2015-08-14 20:13:56.000000000,2015-08-14 20:13:49.000000000,"[{'_account_id': 3}, {'_account_id': 9237}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 13785}, {'_account_id': 15742}]","[{'number': 1, 'created': '2015-08-13 04:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7eb601d3efeff0a5bf8d955647d3525a4c5c4559', 'message': 'Move magic_search.js in _scripts.html to after Angular files\n\nAlso cleaned up angular/ng_angularelement eslint error in\nmagic-overrides.directive.js.\n\nChange-Id: I567e5460830a66f30a647379a072ccfa2f4f5d35\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 2, 'created': '2015-08-14 00:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fba7b0b45ecfc073dbc2e31e730df6274a17ed45', 'message': 'Move magic_search.js in _scripts.html to after Angular files\n\nAlso cleaned up angular/ng_angularelement eslint error in\nmagic-overrides.directive.js.\n\nChange-Id: I567e5460830a66f30a647379a072ccfa2f4f5d35\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 3, 'created': '2015-08-14 03:17:43.000000000', 'files': ['horizon/static/framework/widgets/magic-search/magic-overrides.directive.js', 'openstack_dashboard/templates/horizon/_scripts.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3b8a222d7de8d88abb39be6d72a60c0e250d996', 'message': 'Move magic_search.js in _scripts.html to after Angular files\n\nAlso cleaned up angular/ng_angularelement eslint error in\nmagic-overrides.directive.js.\n\nChange-Id: I567e5460830a66f30a647379a072ccfa2f4f5d35\nPartially-Implements: blueprint jscs-cleanup\n'}]",3,212308,c3b8a222d7de8d88abb39be6d72a60c0e250d996,19,6,3,13785,,,0,"Move magic_search.js in _scripts.html to after Angular files

Also cleaned up angular/ng_angularelement eslint error in
magic-overrides.directive.js.

Change-Id: I567e5460830a66f30a647379a072ccfa2f4f5d35
Partially-Implements: blueprint jscs-cleanup
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/212308/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/magic-search/magic-overrides.directive.js', 'openstack_dashboard/templates/horizon/_scripts.html']",2,7eb601d3efeff0a5bf8d955647d3525a4c5c4559,bp/jscs-cleanup,"<script src=""{{ STATIC_URL }}horizon/lib/magic_search/magic_search.js""></script> ","<script src=""{{ STATIC_URL }}horizon/lib/magic_search/magic_search.js""></script>",3,2
openstack%2Fpuppet-keystone~master~I5ac89401d14e30c4ceeddffcd343d09fc00fbbb2,openstack/puppet-keystone,master,I5ac89401d14e30c4ceeddffcd343d09fc00fbbb2,Enhancements to caching support,ABANDONED,2015-07-23 02:49:52.000000000,2015-08-14 20:10:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 9060}, {'_account_id': 9500}, {'_account_id': 10540}, {'_account_id': 11491}, {'_account_id': 15313}]","[{'number': 1, 'created': '2015-07-23 02:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/30a749179892998859e2c1dec660e508d6633129', 'message': 'Enhancements to caching support\n\n - Support for enable/disable revoke cache\n - Ability to set revoke cache time\n - Ability to set token cache time\n\nChange-Id: I5ac89401d14e30c4ceeddffcd343d09fc00fbbb2\n'}, {'number': 2, 'created': '2015-07-23 17:25:32.000000000', 'files': ['spec/classes/keystone_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/743a85a12b0af8698418ec16b8cf3664d1df50ac', 'message': 'Enhancements to caching support\n\n - Support for enable/disable revoke cache\n - Ability to set revoke cache time\n - Ability to set token cache time\n\nChange-Id: I5ac89401d14e30c4ceeddffcd343d09fc00fbbb2\n'}]",3,204815,743a85a12b0af8698418ec16b8cf3664d1df50ac,14,7,2,9500,,,0,"Enhancements to caching support

 - Support for enable/disable revoke cache
 - Ability to set revoke cache time
 - Ability to set token cache time

Change-Id: I5ac89401d14e30c4ceeddffcd343d09fc00fbbb2
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/15/204815/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_spec.rb', 'manifests/init.pp']",2,30a749179892998859e2c1dec660e508d6633129,,"# (optional) Toggle for token system caching. This has no effects unless 'memcache_servers' is # set.# [*token_cache_time*] # (optional) Time to cache the revocation list and revocation events in seconds. This setting # has no impact unless token_caching is enabled. If token_caching is set, this must be set. # Default to undef. # # [*revoke_caching*] # (optional) Toggle for revocation caching. This has no effects unless 'memcache_servers' is # set. # Default to true # # [*revoke_cache_time*] # (optional) Time to cache the revocation list and revocation events in seconds. This setting # has no impact unless revoke_caching is enabled. # Default to 3600 # $caching = false, $token_cache_time = undef, $revoke_caching = true, $revoke_cache_time = 3600, 'token/cache_time': value => $token_cache_time; 'revoke/caching': value => $revoke_caching; 'revoke/cache_time': value => $revoke_cache_time; # these both have to be set for some reason 'cache/memcache_servers': value => join($memcache_servers, ','); 'token/cache_time': ensure => absent; 'revoke/caching': ensure => absent; 'revoke/cache_time': ensure => absent; 'cache/memcache_servers': ensure => absent;",# (optional) Toggle for token system caching. This has no effects unless 'memcache_servers' is set.,39,1
openstack%2Fhorizon~master~Ic5713c573162598bff75d245ec5c1fe3396da9c2,openstack/horizon,master,Ic5713c573162598bff75d245ec5c1fe3396da9c2,Use the JP Style Guide for Nova Service,MERGED,2015-08-11 23:58:13.000000000,2015-08-14 20:02:49.000000000,2015-08-14 20:02:44.000000000,"[{'_account_id': 3}, {'_account_id': 7665}, {'_account_id': 9576}, {'_account_id': 13785}, {'_account_id': 17013}]","[{'number': 1, 'created': '2015-08-11 23:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30a95f033c60764cdc6be34e4613c042e06e2fba', 'message': 'Use the JP Style Guide for Nova Service\n\nSplits the nova.service.js into multiple files\nas based off the functions they provide.\n\nChange-Id: Ic5713c573162598bff75d245ec5c1fe3396da9c2\nImplements: blueprint john-papa-style-guide\n'}, {'number': 2, 'created': '2015-08-13 07:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f02b35c2d2506c2b8a3670c4b59509dfc4f7e324', 'message': 'Use the JP Style Guide for Nova Service\n\nSplits the nova.service.js into multiple files\nas based off the functions they provide.\n\nChange-Id: Ic5713c573162598bff75d245ec5c1fe3396da9c2\nImplements: blueprint john-papa-style-guide\n'}, {'number': 3, 'created': '2015-08-13 21:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/867d166c5e0dd76790e1b030615466d858aecefd', 'message': 'Use the JP Style Guide for Nova Service\n\nSplits the nova.service.js into multiple files\nas based off the functions they provide.\n\nChange-Id: Ic5713c573162598bff75d245ec5c1fe3396da9c2\nImplements: blueprint john-papa-style-guide\n'}, {'number': 4, 'created': '2015-08-14 15:44:29.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a51855707e729a1c0a58db261c13ce8958f97540', 'message': 'Use the JP Style Guide for Nova Service\n\nSplits the nova.service.js into multiple files\nas based off the functions they provide.\n\nChange-Id: Ic5713c573162598bff75d245ec5c1fe3396da9c2\nImplements: blueprint john-papa-style-guide\n'}]",18,211783,a51855707e729a1c0a58db261c13ce8958f97540,22,5,4,17013,,,0,"Use the JP Style Guide for Nova Service

Splits the nova.service.js into multiple files
as based off the functions they provide.

Change-Id: Ic5713c573162598bff75d245ec5c1fe3396da9c2
Implements: blueprint john-papa-style-guide
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/211783/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.spec.js']",4,30a95f033c60764cdc6be34e4613c042e06e2fba,bp/john-papa-style-guide,"/* * (c) Copyright 2015 Hewlett-Packard Development Company, L.P. * * Licensed under the Apache License, Version 2.0 (the ""License""); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */ (function() { 'use strict'; describe(""novaExtensions"", function() { var factory, q, novaAPI; beforeEach(module('horizon.app.core.openstack-service-api')); beforeEach(module(function($provide) { novaAPI = {getExtensions: function() {return {then: angular.noop};}}; q = {defer: function() { return {resolve: angular.noop}; }}; $provide.value('$cacheFactory', function() {return ""cache"";}); $provide.value('$q', q); $provide.value('horizon.app.core.openstack-service-api.nova', novaAPI); })); beforeEach(inject(function($injector) { factory = $injector.get('horizon.app.core.openstack-service-api.novaExtensions'); })); it(""is defined"", function() { expect(factory).toBeDefined(); }); it(""defines .cache"", function() { expect(factory.cache).toBeDefined(); }); it(""defines .get"", function() { expect(factory.get).toBeDefined(); var postAction = {then: angular.noop}; spyOn(novaAPI, 'getExtensions').and.returnValue(postAction); spyOn(postAction, 'then'); factory.get(); expect(novaAPI.getExtensions).toHaveBeenCalledWith({cache: factory.cache}); expect(postAction.then).toHaveBeenCalled(); var func = postAction.then.calls.argsFor(0)[0]; var testData = {data: {items: [1, 2, 3]}}; expect(func(testData)).toEqual([1, 2, 3]); }); it(""defines .ifNameEnabled"", function() { expect(factory.ifNameEnabled).toBeDefined(); var postAction = {then: angular.noop}; var deferred = {reject: angular.noop, resolve: angular.noop}; spyOn(q, 'defer').and.returnValue(deferred); spyOn(factory, 'get').and.returnValue(postAction); spyOn(postAction, 'then'); factory.ifNameEnabled(""desired""); expect(factory.get).toHaveBeenCalled(); var func1 = postAction.then.calls.argsFor(0)[0]; var func2 = postAction.then.calls.argsFor(0)[1]; spyOn(deferred, 'reject'); func1(); expect(deferred.reject).toHaveBeenCalled(); spyOn(deferred, 'resolve'); var extensions = [{name: ""desired""}]; func1(extensions); expect(deferred.resolve).toHaveBeenCalled(); deferred.reject.calls.reset(); func2(); expect(deferred.reject).toHaveBeenCalledWith('Cannot get the Nova extension list.'); }); it(""defines .ifEnabled"", function() { expect(factory.ifEnabled).toBeDefined(); }); }); })(); ",,180,137
openstack%2Fneutron~master~Id0a3664eddf1ee26830998f4c73e89d0de5249d6,openstack/neutron,master,Id0a3664eddf1ee26830998f4c73e89d0de5249d6,Remove unneeded shebangs,MERGED,2015-07-19 19:18:05.000000000,2015-08-14 19:59:19.000000000,2015-08-14 19:59:09.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12444}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15752}, {'_account_id': 15922}, {'_account_id': 16788}, {'_account_id': 17096}]","[{'number': 1, 'created': '2015-07-19 19:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b64d4b03b6cf90f04f63937233cb68dd901cae0', 'message': 'Remove useless shebangs\n\nThis change removes shebangs in python modules executing nothing.\n\nChange-Id: Id0a3664eddf1ee26830998f4c73e89d0de5249d6\n'}, {'number': 2, 'created': '2015-08-13 10:41:26.000000000', 'files': ['neutron/cmd/usage_audit.py', 'neutron/server/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afd08e066cb359b2bafc88f687f0ed6a30c57391', 'message': 'Remove unneeded shebangs\n\nThis change removes unneeded shebangs in python modules.\n\nChange-Id: Id0a3664eddf1ee26830998f4c73e89d0de5249d6\n'}]",1,203447,afd08e066cb359b2bafc88f687f0ed6a30c57391,41,26,2,8124,,,0,"Remove unneeded shebangs

This change removes unneeded shebangs in python modules.

Change-Id: Id0a3664eddf1ee26830998f4c73e89d0de5249d6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/203447/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/usage_audit.py', 'neutron/server/__init__.py']",2,6b64d4b03b6cf90f04f63937233cb68dd901cae0,shebang,,#!/usr/bin/env python ,0,3
openstack%2Fapp-catalog~master~I9edd6aa8d7e7dbeea57f8f450f3ae6bca51fdaa0,openstack/app-catalog,master,I9edd6aa8d7e7dbeea57f8f450f3ae6bca51fdaa0,Add more Ubuntu,MERGED,2015-08-14 19:34:10.000000000,2015-08-14 19:52:26.000000000,2015-08-14 19:52:25.000000000,"[{'_account_id': 3}, {'_account_id': 9237}, {'_account_id': 9788}]","[{'number': 1, 'created': '2015-08-14 19:34:10.000000000', 'files': ['openstack_catalog/web/static/glance_images.yaml'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/5159bb1b5d35096a71f34b8a3391b73f7cb8ae13', 'message': 'Add more Ubuntu\n\nSee title.\n\nChange-Id: I9edd6aa8d7e7dbeea57f8f450f3ae6bca51fdaa0\n'}]",0,213314,5159bb1b5d35096a71f34b8a3391b73f7cb8ae13,7,3,1,9237,,,0,"Add more Ubuntu

See title.

Change-Id: I9edd6aa8d7e7dbeea57f8f450f3ae6bca51fdaa0
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/14/213314/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_catalog/web/static/glance_images.yaml'],1,5159bb1b5d35096a71f34b8a3391b73f7cb8ae13,, name: Ubuntu Utopic 14 tags: ['app'] provided_by: name: Canonical href: http://ubuntu.com company: Canonical description: Base Ubuntu 14.10 with cloud_init service: type: glance disk_format: qcow2 container_format: bare icon: url: http://design.ubuntu.com/wp-content/uploads/ubuntu-logo32.png top: 0 left: 6 height: 110 license: Multi-licensed OpenSource attributes: url: http://uec-images.ubuntu.com/utopic/current/utopic-server-cloudimg-amd64-disk1.img hash: unknown - name: Ubuntu Vivid 15 tags: ['app'] provided_by: name: Canonical href: http://ubuntu.com company: Canonical description: Base Ubuntu 15.04 with cloud_init service: type: glance disk_format: qcow2 container_format: bare icon: url: http://design.ubuntu.com/wp-content/uploads/ubuntu-logo32.png top: 0 left: 6 height: 110 license: Multi-licensed OpenSource attributes: url: http://uec-images.ubuntu.com/vivid/current/vivid-server-cloudimg-amd64-disk1.img hash: unknown -,,42,0
openstack%2Fneutron~master~Ia812e8283f4da955610fe043aba3ad0298ede24b,openstack/neutron,master,Ia812e8283f4da955610fe043aba3ad0298ede24b,[neutron-db-manage] check_migration: validate labels,MERGED,2015-07-28 22:23:32.000000000,2015-08-14 19:51:22.000000000,2015-08-13 18:11:21.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-07-28 22:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/248ba7e6165cd7b604b329e54ff7f9988a49f891', 'message': '[neutron-db-manage] check_migration: validate labels\n\nGuard against potential down_revision interleave by checking that each\nrevision has the only revision that corresponds to its location in the\nmigration tree, and that its parent also has that same single label.\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b\n'}, {'number': 2, 'created': '2015-08-04 21:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9678e35f4f26cdcc361d1cfa5eb79cc8631a271d', 'message': '[neutron-db-manage] check_migration: validate labels\n\nGuard against potential down_revision interleave by checking that each\nrevision has the only revision that corresponds to its location in the\nmigration tree, and that its parent also has that same single label.\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b\n'}, {'number': 3, 'created': '2015-08-06 20:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3170126d43748c20b724980cb3a033c82d5d5698', 'message': '[neutron-db-manage] check_migration: validate labels\n\nGuard against potential down_revision interleave by checking that each\nrevision has the only revision that corresponds to its location in the\nmigration tree, and that its parent also has that same single label.\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b\n'}, {'number': 4, 'created': '2015-08-12 13:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9ed3dc8473eca355193a72604bf837767d068d3', 'message': '[neutron-db-manage] check_migration: validate labels\n\nGuard against potential down_revision interleave by checking that each\nrevision has the only revision that corresponds to its location in the\nmigration tree, and that its parent also has that same single label.\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b\n'}, {'number': 5, 'created': '2015-08-13 14:52:00.000000000', 'files': ['neutron/db/migration/cli.py', 'neutron/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9468fcd0c7c6028a4a4dc72ae42b2b7cf80ec9f', 'message': '[neutron-db-manage] check_migration: validate labels\n\nGuard against potential down_revision interleave by checking that each\nrevision has the only revision that corresponds to its location in the\nmigration tree, and that its parent also has that same single label.\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b\n'}]",5,206746,e9468fcd0c7c6028a4a4dc72ae42b2b7cf80ec9f,103,26,5,9656,,,0,"[neutron-db-manage] check_migration: validate labels

Guard against potential down_revision interleave by checking that each
revision has the only revision that corresponds to its location in the
migration tree, and that its parent also has that same single label.

Partially-Implements: blueprint online-schema-migrations
Change-Id: Ia812e8283f4da955610fe043aba3ad0298ede24b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/206746/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/migration/cli.py'],1,248ba7e6165cd7b604b329e54ff7f9988a49f891,bp/online-schema-migrations,"RELEASES = (CURRENT_RELEASE,) validate_labels(config)def _get_branch_label(branch, release=None): return '%s_%s' % (release or CURRENT_RELEASE, branch)def _compare_labels(revision, expected_labels): # validate that the script has the only label that corresponds to path bad_labels = revision.branch_labels - expected_labels if bad_labels: script_name = os.path.basename(revision.path) alembic_util.err( _('Unexpected label for script %(script_name)s: %(labels)s') % {'script_name': script_name, 'labels': bad_labels} ) def _validate_single_revision_labels(script_dir, revision, release=None, branch=None): if branch is not None: branch_label = _get_branch_label(branch, release=release) expected_labels = set([branch_label]) else: expected_labels = set() _compare_labels(revision, expected_labels) # if it's not the root element of the branch, expect the parent of the # script to have the same label if revision.down_revision is not None: down_revision = script_dir.get_revision(revision.down_revision) _compare_labels(down_revision, expected_labels) def _validate_revision(script_dir, revision): for branch in MIGRATION_BRANCHES: for release in RELEASES: marker = os.path.join(release, branch) if marker in revision.path: _validate_single_revision_labels( script_dir, revision, release=release, branch=branch) return # validate script from branchless part of migration rules _validate_single_revision_labels(script_dir, revision) def validate_labels(config): script_dir = alembic_script.ScriptDirectory.from_config(config) revisions = [v for v in script_dir.walk_revisions(base='base', head='heads')] for revision in revisions: _validate_revision(script_dir, revision) ","def _get_branch_label(branch): return '%s_%s' % (CURRENT_RELEASE, branch)",54,2
openstack%2Fcongress~master~I3c17003f0243ed5268c2f02fe2ce8d9d0faf993f,openstack/congress,master,I3c17003f0243ed5268c2f02fe2ce8d9d0faf993f,Updated from global requirements,MERGED,2015-08-13 20:16:29.000000000,2015-08-14 19:44:53.000000000,2015-08-14 19:44:52.000000000,"[{'_account_id': 3}, {'_account_id': 8215}]","[{'number': 1, 'created': '2015-08-13 20:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5b9ecec1e46d81c937ec73693f6ce75a4e1fc786', 'message': 'Updated from global requirements\n\nChange-Id: I3c17003f0243ed5268c2f02fe2ce8d9d0faf993f\n'}, {'number': 2, 'created': '2015-08-14 09:14:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/d318aaacfbf2208432e8fbb306c3fb32ac9c4450', 'message': 'Updated from global requirements\n\nChange-Id: I3c17003f0243ed5268c2f02fe2ce8d9d0faf993f\n'}]",0,212737,d318aaacfbf2208432e8fbb306c3fb32ac9c4450,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I3c17003f0243ed5268c2f02fe2ce8d9d0faf993f
",git fetch https://review.opendev.org/openstack/congress refs/changes/37/212737/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5b9ecec1e46d81c937ec73693f6ce75a4e1fc786,openstack/requirements,oslo.utils>=2.0.0 # Apache-2.0,oslo.utils>=1.9.0 # Apache-2.0,1,1
openstack%2Fmonasca-agent~master~I04f872b1e5861cdb2d6126ded4c9be729237e645,openstack/monasca-agent,master,I04f872b1e5861cdb2d6126ded4c9be729237e645,Allow the kafka consumer to use arguments that specify consumers.,MERGED,2015-08-13 22:23:40.000000000,2015-08-14 19:33:54.000000000,2015-08-14 19:33:54.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12512}, {'_account_id': 14517}, {'_account_id': 15027}]","[{'number': 1, 'created': '2015-08-13 22:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f76d1bb977a9ee135762579c1a65bc5b763be9f4', 'message': ""JAH-1982 - Allow the kafka consumer to use arguments that specify consumers.\n\nThe reason for this is the consumers take awhile for their initial\nconnection and timing of detection means some can be skipped. This\nprovides a way to avoid accidental skipping.\n\nAlso fixed some instances where detection doesn't turn out quite right.\n\nChange-Id: I04f872b1e5861cdb2d6126ded4c9be729237e645\n""}, {'number': 2, 'created': '2015-08-13 22:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7dff128b4e4b8d341caa1983297bcfabbbfdda6e', 'message': ""JAH-1982 - Allow the kafka consumer to use arguments that specify consumers.\n\nThe reason for this is the consumers take awhile for their initial\nconnection and timing of detection means some can be skipped. This\nprovides a way to avoid accidental skipping.\n\nAlso fixed some instances where detection doesn't turn out quite right.\n\nChange-Id: I04f872b1e5861cdb2d6126ded4c9be729237e645\n""}, {'number': 3, 'created': '2015-08-14 14:58:00.000000000', 'files': ['monasca_agent/collector/checks_d/kafka_consumer.py', 'monasca_setup/detection/plugins/haproxy.py', 'monasca_setup/detection/plugins/kafka_consumer.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/839c0a0df2948b20c8d0be175443c836e18ee15e', 'message': ""Allow the kafka consumer to use arguments that specify consumers.\n\nThe reason for this is the consumers take awhile for their initial\nconnection and timing of detection means some can be skipped. This\nprovides a way to avoid accidental skipping.\n\nAlso fixed some instances where detection doesn't turn out quite right.\n\nChange-Id: I04f872b1e5861cdb2d6126ded4c9be729237e645\n""}]",0,212820,839c0a0df2948b20c8d0be175443c836e18ee15e,14,5,3,11094,,,0,"Allow the kafka consumer to use arguments that specify consumers.

The reason for this is the consumers take awhile for their initial
connection and timing of detection means some can be skipped. This
provides a way to avoid accidental skipping.

Also fixed some instances where detection doesn't turn out quite right.

Change-Id: I04f872b1e5861cdb2d6126ded4c9be729237e645
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/20/212820/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/kafka_consumer.py', 'monasca_setup/detection/plugins/haproxy.py', 'monasca_setup/detection/plugins/kafka_consumer.py']",3,f76d1bb977a9ee135762579c1a65bc5b763be9f4,feature/kafka," To skip detection consumer groups and topics can be specified with plugin args, for example: `monasca-setup -d kafka -a group1=topic1,group2=topic2/topic3` All partitions are assumed for each topic and '/' is used to deliminate more than one topic per consumer group. topics = dict((topic, []) for topic in self._ls_zookeeper('/consumers/%s/offsets' % consumer)) if len(topics) > 0: consumers[consumer] = topics # The last line is like '[item1, item2, item3]', '[]' or an error message not starting with [ if len(last_line) == 2 or last_line[0] != '[': if not self.dependencies_installed(): log.warning(""Dependencies not installed, skipping Kafka Consumer plugin configuration."") elif self.args is not None and len(self.args) > 0: kafka_connect_str = self._find_kafka_connection() consumers = {} for key, value in self.args.iteritems(): value_dict = {topic: [] for topic in value.split('/')} consumers[key] = value_dict self.config['kafka_consumer'] = {'init_config': None, 'instances': [{'name': kafka_connect_str, 'kafka_connect_str': kafka_connect_str, 'per_partition': False, 'consumer_groups': consumers}]} elif self.zk_url is not None:"," - consumers[consumer] = dict((topic, []) for topic in self._ls_zookeeper('/consumers/%s/offsets' % consumer)) # The last line is like '[item1, item2, item3]' if last_line.find('Node does not exist') != -1: if self.dependencies_installed() and self.zk_url is not None: else: log.warning(""Dependencies not installed, skipping plugin configuration."")",31,13
openstack%2Ffuel-library~master~I37f298279beca06df41fb08e1745602976c6a776,openstack/fuel-library,master,I37f298279beca06df41fb08e1745602976c6a776,Fix rabbitmq data restore for large datasets,MERGED,2015-08-13 14:34:42.000000000,2015-08-14 19:20:43.000000000,2015-08-14 19:19:51.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 13948}]","[{'number': 1, 'created': '2015-08-13 14:34:42.000000000', 'files': ['files/fuel-ha-utils/ocf/rabbitmq'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/11c4e4c3985949f776367dd5045102c6398aef89', 'message': 'Fix rabbitmq data restore for large datasets\n\nPreviously we were sending the json backup data on the command line\nwhich fails when the dataset is large. This change updates the command\nline options for curl to pass the filename directly and let it handle\nthe reading of the data.\n\nChange-Id: I37f298279beca06df41fb08e1745602976c6a776\nCloses-Bug: 1383258\n'}]",0,212555,11c4e4c3985949f776367dd5045102c6398aef89,19,7,1,14985,,,0,"Fix rabbitmq data restore for large datasets

Previously we were sending the json backup data on the command line
which fails when the dataset is large. This change updates the command
line options for curl to pass the filename directly and let it handle
the reading of the data.

Change-Id: I37f298279beca06df41fb08e1745602976c6a776
Closes-Bug: 1383258
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/55/212555/1 && git format-patch -1 --stdout FETCH_HEAD,['files/fuel-ha-utils/ocf/rabbitmq'],1,11c4e4c3985949f776367dd5045102c6398aef89,bug/1383258," ocf_run curl -X POST -u $OCF_RESKEY_admin_user:$OCF_RESKEY_admin_password 127.0.0.1:15672/api/definitions --header ""Content-Type:application/json"" -d @$OCF_RESKEY_definitions_dump_file"," ocf_run curl -X POST -u $OCF_RESKEY_admin_user:$OCF_RESKEY_admin_password 127.0.0.1:15672/api/definitions --header ""Content-Type:application/json"" -d ""$(<${OCF_RESKEY_definitions_dump_file})""",1,1
openstack%2Fproject-config~master~Ied5c5287b79aadfd6660335d4c68182821e2d843,openstack/project-config,master,Ied5c5287b79aadfd6660335d4c68182821e2d843,Use zuul-cloner for bifrost jobs,MERGED,2015-07-08 14:00:50.000000000,2015-08-14 19:20:04.000000000,2015-08-14 19:20:03.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 5805}, {'_account_id': 6039}, {'_account_id': 6316}, {'_account_id': 6554}, {'_account_id': 10035}, {'_account_id': 11655}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-07-08 14:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d56ea094e6df5ad2e058e7eb4e9177b8a649607e', 'message': 'Use zuul-cloner for bifrost jobs\n\nbifrost does some things we want to test with shade as well, so get\nthings set up to properly use zuul-cloner to prep repo state.\n\nThis should be followed up with a bifrost patch to simply use the repos\nthat zuul-cloner prepares here.\n\nChange-Id: Ied5c5287b79aadfd6660335d4c68182821e2d843\n'}, {'number': 2, 'created': '2015-07-08 14:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e1a74cef70054ffa08596e83d095fcc0c2aeafa', 'message': 'Use zuul-cloner for bifrost jobs\n\nbifrost does some things we want to test with shade as well, so get\nthings set up to properly use zuul-cloner to prep repo state.\n\nThis should be followed up with a bifrost patch to simply use the repos\nthat zuul-cloner prepares here.\n\nChange-Id: Ied5c5287b79aadfd6660335d4c68182821e2d843\n'}, {'number': 3, 'created': '2015-07-14 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5130a49e74f336b59ab392889ac95bc4e307c015', 'message': 'Use zuul-cloner for bifrost jobs\n\nbifrost does a bunch of things with multiple repos, but is currently\nmanaging the cloning of them all internally. Get things set up to properly\nuse zuul-cloner to prep repo state.\n\nThis should be followed up with a bifrost patch to simply use the repos\nthat zuul-cloner prepares here.\n\nChange-Id: Ied5c5287b79aadfd6660335d4c68182821e2d843\n'}, {'number': 4, 'created': '2015-08-03 17:42:45.000000000', 'files': ['jenkins/jobs/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53a08d354b40e635c91db6434c8340db103abb33', 'message': 'Use zuul-cloner for bifrost jobs\n\nbifrost does a bunch of things with multiple repos, but is currently\nmanaging the cloning of them all internally. Get things set up to properly\nuse zuul-cloner to prep repo state.\n\nThis should be followed up with a bifrost patch to simply use the repos\nthat zuul-cloner prepares here.\n\nChange-Id: Ied5c5287b79aadfd6660335d4c68182821e2d843\n'}]",3,199580,53a08d354b40e635c91db6434c8340db103abb33,30,12,4,2,,,0,"Use zuul-cloner for bifrost jobs

bifrost does a bunch of things with multiple repos, but is currently
managing the cloning of them all internally. Get things set up to properly
use zuul-cloner to prep repo state.

This should be followed up with a bifrost patch to simply use the repos
that zuul-cloner prepares here.

Change-Id: Ied5c5287b79aadfd6660335d4c68182821e2d843
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/199580/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/bifrost.yaml'],1,d56ea094e6df5ad2e058e7eb4e9177b8a649607e,bifrost-shade, #!/bin/bash -eux cd ~ /usr/zuul-env/bin/zuul-cloner --cache-dir /opt/git \ git://git.openstack.org \ openstack/bifrost \ openstack-infra/shade export GIT_BASE=$(pwd) export BIFROST_REPO=$GIT_BASE/openstack/bifrost export SHADE_REPO=$GIT_BASE/openstack-infra/shade cd $BIFROST_REPO, - gerrit-git-prep,11,1
openstack%2Ffuel-library~master~Id2301c1886f5b896daf87c469ed0010a68af3fc3,openstack/fuel-library,master,Id2301c1886f5b896daf87c469ed0010a68af3fc3,Increase Heat template size and request limit,MERGED,2015-08-12 13:08:41.000000000,2015-08-14 19:19:05.000000000,2015-08-14 19:18:14.000000000,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 6926}, {'_account_id': 7604}, {'_account_id': 7732}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 15232}]","[{'number': 1, 'created': '2015-08-12 13:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/35fa08ebe9389bcd8210783f57952b88ad8df9aa', 'message': 'Increase Heat template size and request limit\n\nCurrently we have small default size for Heat templates and it\noccurs problem for creating templates by Sahara.\n\nAlso increasing max_resources_per_stack will help to avoid problem\nwith exceeded request limit for maximum resources per stack.\n\nChange-Id: Id2301c1886f5b896daf87c469ed0010a68af3fc3\nRelated-bug: #1483833\n'}, {'number': 2, 'created': '2015-08-12 14:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6e8e29ab3652441f3abf67636bd7b0d526e6cec6', 'message': 'Increase Heat template size and request limit\n\nCurrently we have small default size for Heat templates and it\noccurs problem for creating templates by Sahara.\n\nAlso increasing max_resources_per_stack will help to avoid problem\nwith exceeded request limit for maximum resources per stack.\n\nBoth values set in agreement with MOS-Scale team.\n\nChange-Id: Id2301c1886f5b896daf87c469ed0010a68af3fc3\nRelated-bug: #1483833\n'}, {'number': 3, 'created': '2015-08-13 09:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ea58e1bde92cb0e870731c93d4d2076a4ee5f3fb', 'message': 'Increase Heat template size and request limit\n\nCurrently we have small default size for Heat templates and it\noccurs problem for creating templates by Sahara.\n\nAlso increasing max_resources_per_stack will help to avoid problem\nwith exceeded request limit for maximum resources per stack.\n\nBoth values set in agreement with MOS-Scale team.\n\nChange-Id: Id2301c1886f5b896daf87c469ed0010a68af3fc3\nRelated-bug: #1483833\n'}, {'number': 4, 'created': '2015-08-13 15:11:29.000000000', 'files': ['tests/noop/spec/hosts/heat/heat_spec.rb', 'deployment/puppet/openstack/manifests/heat.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a0a6f154f02a8dea68981ef9b149d8cee7a2e56f', 'message': 'Increase Heat template size and request limit\n\nCurrently we have small default size for Heat templates and it\noccurs problem for creating templates by Sahara.\n\nAlso increasing max_resources_per_stack will help to avoid problem\nwith exceeded request limit for maximum resources per stack.\n\nBoth values set in agreement with MOS-Scale team.\n\nChange-Id: Id2301c1886f5b896daf87c469ed0010a68af3fc3\nRelated-bug: #1483833\n'}]",1,212018,a0a6f154f02a8dea68981ef9b149d8cee7a2e56f,59,11,4,7745,,,0,"Increase Heat template size and request limit

Currently we have small default size for Heat templates and it
occurs problem for creating templates by Sahara.

Also increasing max_resources_per_stack will help to avoid problem
with exceeded request limit for maximum resources per stack.

Both values set in agreement with MOS-Scale team.

Change-Id: Id2301c1886f5b896daf87c469ed0010a68af3fc3
Related-bug: #1483833
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/18/212018/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/heat.pp'],1,35fa08ebe9389bcd8210783f57952b88ad8df9aa,(detached, 'DEFAULT/max_template_size': value => '1048576'; 'DEFAULT/max_resources_per_stack': value => '4000'; } heat_config {,,5,0
openstack%2Fironic-specs~master~I51f9274463b58ff1eac25d0e6fb1901c530c7ab6,openstack/ironic-specs,master,I51f9274463b58ff1eac25d0e6fb1901c530c7ab6,In-band cleaning support for iSCSI drivers,MERGED,2015-08-11 09:09:35.000000000,2015-08-14 19:17:06.000000000,2015-08-14 19:17:04.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 9315}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 13997}]","[{'number': 1, 'created': '2015-08-11 09:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e3780c9b6adcfb41d7562f5b8fbc00a5d1151522', 'message': 'In-band cleaning support for iSCSI drivers\n\nThis commit adds support for in-band cleaning\nin drivers using iSCSI deployment mechanism.\n\nChange-Id: I51f9274463b58ff1eac25d0e6fb1901c530c7ab6\n'}, {'number': 2, 'created': '2015-08-13 09:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2104405d8b6c149e5cf7ca5813c880001475cbe3', 'message': 'In-band cleaning support for iSCSI drivers\n\nThis commit adds support for in-band cleaning\nin drivers using iSCSI deployment mechanism.\n\nChange-Id: I51f9274463b58ff1eac25d0e6fb1901c530c7ab6\n'}, {'number': 3, 'created': '2015-08-14 08:29:23.000000000', 'files': ['specs/approved/iscsi-deploy-in-band-cleaning.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ea89a7d3d4a5445db89c1a89af9e4b434688fc97', 'message': 'In-band cleaning support for iSCSI drivers\n\nThis commit adds support for in-band cleaning\nin drivers using iSCSI deployment mechanism.\n\nChange-Id: I51f9274463b58ff1eac25d0e6fb1901c530c7ab6\n'}]",3,211470,ea89a7d3d4a5445db89c1a89af9e4b434688fc97,16,10,3,9315,,,0,"In-band cleaning support for iSCSI drivers

This commit adds support for in-band cleaning
in drivers using iSCSI deployment mechanism.

Change-Id: I51f9274463b58ff1eac25d0e6fb1901c530c7ab6
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/70/211470/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/iscsi-deploy-cleaning-support.rst'],1,e3780c9b6adcfb41d7562f5b8fbc00a5d1151522,(detached,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ In-band cleaning support in iSCSI deploy drivers ================================================ https://blueprints.launchpad.net/ironic/+spec/iscsi-deploy-in-band-cleaning Current deploy drivers that make use of iSCSI don't support in-band cleaning. We need to make these drivers support in-band cleaning operations as well. Problem description =================== Drivers that do iSCSI based deployment don't support in-band cleaning today. Hence in-band cleaning steps like disk erase, in-band RAID configuration, etc cannot be performed on these nodes which are registered with these drivers. The following drivers (omitting the testing drivers) do iSCSI based deployment today: * pxe_{ipmitool,ipminative,seamicro,iboot,ilo, drac,snmp,irmc,amt,msftocs,ucs,wol} * iscsi_ilo * iscsi_irmc Proposed change =============== * Deprecate the opt ``CONF.agent.agent_erase_devices_priority`` and move that to ``CONF.deploy.agent_erase_devices_priority``. * Add the following methods to iscsi_deploy.ISCSIDeploy (these methods will do the same things as what AgentDeploy does today) + ``prepare_cleaning`` - This method will create the Neutron cleaning ports for each of the Ironic ports and will call ``self.boot`` to prepare for booting the ramdisk and return ``states.CLEANWAIT``. The method definition will be as follows:: def prepare_cleaning(self, task): """"""Boot into the agent to prepare for cleaning. :param task: a TaskManager object containing the node :raises NodeCleaningFailure: if the previous cleaning ports cannot be removed or if new cleaning ports cannot be created :returns: states.CLEANWAIT to signify an asynchronous prepare """""" + ``tear_down_cleaning`` - This method will delete the cleaning ports created for the Ironic ports and will call ``self.boot`` to clean up the ramdisk boot. It will return None. The method definition will be as follows:: def tear_down_cleaning(self, task): """"""Cleans up the environment after cleaning. :param task: a TaskManager object containing the node :raises NodeCleaningFailure: if the cleaning ports cannot be removed """""" + ``execute_clean_step`` - This method will call ``deploy_utils.agent_execute_clean_step``. The method definition will be as follows:: def execute_clean_step(self, task, step): """"""Execute a clean step asynchronously on the agent. :param task: a TaskManager object containing the node :param step: a clean step dictionary to execute :raises: NodeCleaningFailure if the agent does not return a command status :returns: states.CLEANWAIT to signify the step will be completed async """""" + ``get_clean_steps`` - This method will call ``deploy_utils.agent_get_clean_steps`` to get the cleaning steps from the agent ramdisk. It will also reassign the cleaning priority to disk erase. The method definition will be as follows:: def get_clean_steps(self, task): """"""Get the list of clean steps from the agent. :param task: a TaskManager object containing the node :returns: A list of clean step dictionaries """""" * For deployers who have been using DIB ramdisk, when they try to do in-band cleaning with DIB ramdisk, the node will be stuck in ``states.CLEANWAIT`` for ever as DIB ramdisk will not do heartbeat. Hence, such deployers might face the issue with nodes stuck in ``states.CLEANWAIT`` for ever as soon as node enters cleaning. A new CONF option ``CONF.deploy.enable_inband_cleaning_iscsi_deploy`` will be added to enable in-band cleaning in ``iscsi_deploy.ISCSIDeploy`` driver and this option will be deprecated in the next release. The value of this will be ``False`` by default. Alternatives ------------ None. Data model impact ----------------- None. State Machine Impact -------------------- None. REST API impact --------------- None. Client (CLI) impact ------------------- None. RPC API impact -------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Security impact --------------- Drivers using ``iscsi_deploy.ISCSIDeploy`` will do in-band disk erase which will be a security benifit for tenants. Other end user impact --------------------- None. Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- Deployers will need to start using agent ramdisk (which has already been deprecated as per [1]) for in-band cleaning. They will need to set ``CONF.deploy.enable_inband_cleaning_iscsi_deploy`` to True. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: rameshg87 Work Items ---------- * Add new methods the ``iscsi_deploy.ISCSIDeploy`` for in-band cleaning. Dependencies ============ * Completion of work for deploy-boot interface separation [2] to enable in-band cleaning for all drivers. Testing ======= Unit tests will be added. Upgrades and Backwards Compatibility ==================================== The new CONF option ``CONF.deploy.enable_inband_cleaning_iscsi_deploy`` makes sure that deployers don't face nodes stuck in ``states.CLEANWAIT`` when they upgrade the code and have enough time to replace the deploy ramdisk being used. Documentation Impact ==================== The new CONF option and it's impact will be documented. References ========== [1] http://specs.openstack.org/openstack/ironic-specs/specs/approved/deprecate-bash-ramdisk.html [2] https://blueprints.launchpad.net/ironic/+spec/new-boot-interface ",,223,0
openstack%2Fopenstack-manuals~master~I55d138c562303492c1ba9b25be35aae2c0b80161,openstack/openstack-manuals,master,I55d138c562303492c1ba9b25be35aae2c0b80161,[arch-guide] Remove reference to Icehouse,MERGED,2015-08-14 10:22:02.000000000,2015-08-14 19:11:39.000000000,2015-08-14 19:11:35.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6772}, {'_account_id': 9382}, {'_account_id': 10497}]","[{'number': 1, 'created': '2015-08-14 10:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/19e4216329686023a77ef436a6cd16b38b6de516', 'message': '[arch-guide] Remove reference to Icehouse\n\nChange-Id: I55d138c562303492c1ba9b25be35aae2c0b80161\nImplements: blueprint arch-guide\n'}, {'number': 2, 'created': '2015-08-14 13:33:58.000000000', 'files': ['doc/arch-design/specialized/section_multi_hypervisor_specialized.xml', 'doc/arch-design/multi_site/section_operational_considerations_multi_site.xml', 'doc/arch-design/storage_focus/section_architecture_storage_focus.xml', 'doc/arch-design/network_focus/section_architecture_network_focus.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fbefa274ef18ec4260dce9d72beb376772b071ce', 'message': '[arch-guide] Remove reference to Icehouse\n\nChange-Id: I55d138c562303492c1ba9b25be35aae2c0b80161\nImplements: blueprint arch-guide\n'}]",2,213076,fbefa274ef18ec4260dce9d72beb376772b071ce,12,5,2,10497,,,0,"[arch-guide] Remove reference to Icehouse

Change-Id: I55d138c562303492c1ba9b25be35aae2c0b80161
Implements: blueprint arch-guide
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/76/213076/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/specialized/section_multi_hypervisor_specialized.xml', 'doc/arch-design/multi_site/section_operational_considerations_multi_site.xml', 'doc/arch-design/storage_focus/section_architecture_storage_focus.xml', 'doc/arch-design/network_focus/section_architecture_network_focus.xml']",4,19e4216329686023a77ef436a6cd16b38b6de516,bp/arch-guide, <para>OpenStack has limited support for," <para>As of the Icehouse release, OpenStack has limited support for",5,8
openstack%2Fopenstack-ansible~juno~I6887d4d78340ded8167b18c56cc1c86c4cdf1faa,openstack/openstack-ansible,juno,I6887d4d78340ded8167b18c56cc1c86c4cdf1faa,Remove ansible-lint checks from Juno branch,MERGED,2015-08-14 08:58:28.000000000,2015-08-14 19:11:29.000000000,2015-08-14 19:11:22.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 9515}, {'_account_id': 12000}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-08-14 08:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aff3bd7810f2edef592ececeb4ad8201398f1c8e', 'message': 'Remove ansible-lint checks from Juno branch\n\nThis patch removes ansible-lint checks from gate-check-lint\nand everything else in place to facilitate it.\n\nansible-lint does not support the version of ansible used\nand it is preferred that we not use a hacked version of\nansible.\n\nChange-Id: I6887d4d78340ded8167b18c56cc1c86c4cdf1faa\nCloses-Bug: #1484849\n'}, {'number': 2, 'created': '2015-08-14 15:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0bbe6fd09c115b19f1a7ae45bdc1b114378c27f9', 'message': 'Remove ansible-lint checks from Juno branch\n\nThis patch removes ansible-lint checks from gate-check-lint\nand everything else in place to facilitate it.\n\nansible-lint does not support the version of ansible used\nand it is preferred that we not use a hacked version of\nansible.\n\nChange-Id: I6887d4d78340ded8167b18c56cc1c86c4cdf1faa\nCloses-Bug: #1484849\n'}, {'number': 3, 'created': '2015-08-14 16:31:01.000000000', 'files': ['dev-requirements.txt', 'scripts/gate-check-lint.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4390acb4b32d32ca25cd2d39b88dd061525c8a45', 'message': 'Remove ansible-lint checks from Juno branch\n\nThis patch removes ansible-lint checks from gate-check-lint\nand everything else in place to facilitate it.\n\nansible-lint does not support the version of ansible used\nand it is preferred that we not use a hacked version of\nansible.\n\nChange-Id: I6887d4d78340ded8167b18c56cc1c86c4cdf1faa\nCloses-Bug: #1484849\n'}]",3,213039,4390acb4b32d32ca25cd2d39b88dd061525c8a45,21,6,3,6816,,,0,"Remove ansible-lint checks from Juno branch

This patch removes ansible-lint checks from gate-check-lint
and everything else in place to facilitate it.

ansible-lint does not support the version of ansible used
and it is preferred that we not use a hacked version of
ansible.

Change-Id: I6887d4d78340ded8167b18c56cc1c86c4cdf1faa
Closes-Bug: #1484849
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/213039/3 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/gate-check-lint.sh', 'requirements.txt']",2,aff3bd7810f2edef592ececeb4ad8201398f1c8e,bug/1484849,,ansible==1.6.10,0,15
openstack%2Fcompute-hyperv~master~I1ad3f795925503e59bf51ee3148871a88e9eecf0,openstack/compute-hyperv,master,I1ad3f795925503e59bf51ee3148871a88e9eecf0,Hyper-V: Lock snapshot operation using instance uuid,MERGED,2015-08-13 13:50:56.000000000,2015-08-14 18:45:54.000000000,2015-08-14 18:45:54.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2015-08-13 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/df1b0f5be9422b0e7bf93b9cc04259ccecce6583', 'message': ""Hyper-V: Lock snapshot operation using instance uuid\n\nThe instance snapshot operation is not synchronized withing the\ncompute manager.\n\nAttempting to destroy an instance while it's being snapshoted fails\nwhen using Hyper-V. This can lead to leaked instances.\n\nIn order to avoid this, this patch synchronizes the instance\nsnapshot operation within the Hyper-V driver.\n\nThe alternative would be canceling pending WMI jobs when instance\ntermination is requested, which we consider introducing as a later\neffort.\n\nChange-Id: I1ad3f795925503e59bf51ee3148871a88e9eecf0\nPartial-Bug: #1461970\n""}, {'number': 2, 'created': '2015-08-14 10:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d62c178b3dbb94d8fb3cce1fb1a32045738e4c5f', 'message': ""Hyper-V: Lock snapshot operation using instance uuid\n\nThe instance snapshot operation is not synchronized withing the\ncompute manager.\n\nAttempting to destroy an instance while it's being snapshoted fails\nwhen using Hyper-V. This can lead to leaked instances.\n\nIn order to avoid this, this patch synchronizes the instance\nsnapshot operation within the Hyper-V driver.\n\nThe alternative would be canceling pending WMI jobs when instance\ntermination is requested, which we consider introducing as a later\neffort.\n\nChange-Id: I1ad3f795925503e59bf51ee3148871a88e9eecf0\nPartial-Bug: #1461970\n""}, {'number': 3, 'created': '2015-08-14 10:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/f0d37ee0ffce7f548523bfcfe5ef5fa2ed174bf5', 'message': ""Hyper-V: Lock snapshot operation using instance uuid\n\nThe instance snapshot operation is not synchronized withing the\ncompute manager.\n\nAttempting to destroy an instance while it's being snapshoted fails\nwhen using Hyper-V. This can lead to leaked instances.\n\nIn order to avoid this, this patch synchronizes the instance\nsnapshot operation within the Hyper-V driver.\n\nThe alternative would be canceling pending WMI jobs when instance\ntermination is requested, which we consider introducing as a later\neffort.\n\nChange-Id: I1ad3f795925503e59bf51ee3148871a88e9eecf0\nPartial-Bug: #1461970\n""}, {'number': 4, 'created': '2015-08-14 18:13:31.000000000', 'files': ['hyperv/nova/snapshotops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/da2ce98e7bd2fc2fd6bc688996369f9e9803532f', 'message': ""Hyper-V: Lock snapshot operation using instance uuid\n\nThe instance snapshot operation is not synchronized withing the\ncompute manager.\n\nAttempting to destroy an instance while it's being snapshoted fails\nwhen using Hyper-V. This can lead to leaked instances.\n\nIn order to avoid this, this patch synchronizes the instance\nsnapshot operation within the Hyper-V driver.\n\nThe alternative would be canceling pending WMI jobs when instance\ntermination is requested, which we consider introducing as a later\neffort.\n\nChange-Id: I1ad3f795925503e59bf51ee3148871a88e9eecf0\nPartial-Bug: #1461970\n""}]",0,212537,da2ce98e7bd2fc2fd6bc688996369f9e9803532f,14,3,4,8213,,,0,"Hyper-V: Lock snapshot operation using instance uuid

The instance snapshot operation is not synchronized withing the
compute manager.

Attempting to destroy an instance while it's being snapshoted fails
when using Hyper-V. This can lead to leaked instances.

In order to avoid this, this patch synchronizes the instance
snapshot operation within the Hyper-V driver.

The alternative would be canceling pending WMI jobs when instance
termination is requested, which we consider introducing as a later
effort.

Change-Id: I1ad3f795925503e59bf51ee3148871a88e9eecf0
Partial-Bug: #1461970
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/37/212537/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/nova/snapshotops.py'],1,df1b0f5be9422b0e7bf93b9cc04259ccecce6583,bp/hyper-v-vnuma-enable,"from nova import utils # While the snapshot operation is not synchronized within the manager, # attempting to destroy an instance while it's being snapshoted fails. @utils.synchronized(instance.uuid) def instance_synchronized_snapshot(): self._snapshot(context, instance, image_id, update_task_state) instance_synchronized_snapshot() def _snapshot(self, context, instance, image_id, update_task_state):",,10,0
openstack%2Fopenstack-ansible~kilo~I2d412dea8d91c94fc4ff9a5f64c19ae9c44fed8e,openstack/openstack-ansible,kilo,I2d412dea8d91c94fc4ff9a5f64c19ae9c44fed8e,Remove unused python clients from repo & tempest,MERGED,2015-08-07 10:20:14.000000000,2015-08-14 18:43:52.000000000,2015-08-14 18:43:48.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-08-07 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a46b23bb58bd80da212c09dfae650fe0c5593f43', 'message': 'Remove unused python clients from repo & tempest\n\nThis patch removes the unused python clients from the tempest\nrole and the openstack_clients in the repo as these projects\nmay introduce incompatible requirements to the projects we\ndeploy and support.\n\nChange-Id: I2d412dea8d91c94fc4ff9a5f64c19ae9c44fed8e\nCloses-Bug: #1482260\n(cherry picked from commit d82bbb4336cc97ccafa3fce660992816f3472a85)\n'}, {'number': 2, 'created': '2015-08-14 08:12:39.000000000', 'files': ['playbooks/roles/os_tempest/templates/tempest.conf.j2', 'playbooks/roles/os_tempest/defaults/main.yml', 'playbooks/defaults/repo_packages/openstack_clients.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/56229928bb5bb314c16c45382816bca04c27896a', 'message': 'Remove unused python clients from repo & tempest\n\nThis patch removes the unused python clients from the tempest\nrole and the openstack_clients in the repo as these projects\nmay introduce incompatible requirements to the projects we\ndeploy and support.\n\nChange-Id: I2d412dea8d91c94fc4ff9a5f64c19ae9c44fed8e\nCloses-Bug: #1482260\n(cherry picked from commit d82bbb4336cc97ccafa3fce660992816f3472a85)\n'}]",0,210302,56229928bb5bb314c16c45382816bca04c27896a,14,4,2,6816,,,0,"Remove unused python clients from repo & tempest

This patch removes the unused python clients from the tempest
role and the openstack_clients in the repo as these projects
may introduce incompatible requirements to the projects we
deploy and support.

Change-Id: I2d412dea8d91c94fc4ff9a5f64c19ae9c44fed8e
Closes-Bug: #1482260
(cherry picked from commit d82bbb4336cc97ccafa3fce660992816f3472a85)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/210302/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/os_tempest/templates/tempest.conf.j2', 'playbooks/roles/os_tempest/defaults/main.yml', 'playbooks/defaults/repo_packages/openstack_clients.yml']",3,a46b23bb58bd80da212c09dfae650fe0c5593f43,bug/1482260,## Keystone client,"## Barbican client barbicanclient_git_repo: https://github.com/openstack/python-barbicanclient barbicanclient_git_install_branch: 60eed382a73982ddcd8d89545c03505699eab164 # HEAD of ""stable/kilo"" as of 23.07.2015 barbicanclient_git_dest: ""/opt/barbicanclient_{{ barbicanclient_git_install_branch | replace('/', '_') }}"" ## Designate client designateclient_git_repo: https://github.com/openstack/python-designateclient designateclient_git_install_branch: 780f9461f94560d13b6e5813b9cfc8591e55467e # HEAD of ""stable/kilo"" as of 23.07.2015 designateclient_git_dest: ""/opt/designateclient_{{ designateclient_git_install_branch | replace('/', '_') }}"" # Ironic client ironicclient_git_repo: https://github.com/openstack/python-ironicclient ironicclient_git_install_branch: 3b71c4ec7bfc9181d972e7f6e706853ec4588236 # HEAD of ""stable/kilo"" as of 23.07.2015 ironicclient_git_dest: ""/opt/ironicclient_{{ ironicclient_git_install_branch | replace('/', '_') }}"" # Keystone client## Sahara client saharaclient_git_repo: https://github.com/openstack/python-saharaclient saharaclient_git_install_branch: 46e7ce0506a2ed11e45fd6b86949c85c06df3dde # HEAD of ""stable/kilo"" as of 23.07.2015 saharaclient_git_dest: ""/opt/saharaclient_{{ saharaclient_git_install_branch | replace('/', '_') }}"" ## Trove client troveclient_git_repo: https://github.com/openstack/python-troveclient troveclient_git_install_branch: ebb87b3125771965afc52851e4028176bad3e151 # HEAD of ""stable/kilo"" as of 23.07.2015 troveclient_git_dest: ""/opt/troveclient_{{ troveclient_git_install_branch | replace('/', '_') }}"" ## Tuskar client tuskarclient_git_repo: https://github.com/openstack/python-tuskarclient tuskarclient_git_install_branch: 0.1.15 tuskarclient_git_dest: ""/opt/tuskarclient_{{ tuskarclient_git_install_branch | replace('/', '_') }}"" ## Zaqar client zaqarclient_git_repo: https://github.com/openstack/python-zaqarclient zaqarclient_git_install_branch: 6e5df973a5a0e311262041fefd1603ce9705ae7c # HEAD of ""stable/kilo"" as of 23.07.2015 zaqarclient_git_dest: ""/opt/zaqarclient_{{ zaqarclient_git_install_branch | replace('/', '_') }}""",1,58
openstack%2Fpython-keystoneclient~stable%2Fkilo~I5e049163f84fde5827104fd4a6441222eb08468f,openstack/python-keystoneclient,stable/kilo,I5e049163f84fde5827104fd4a6441222eb08468f,Make OAuth testcase use actual request headers,MERGED,2015-07-31 16:04:42.000000000,2015-08-14 18:41:20.000000000,2015-08-14 18:41:17.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8851}, {'_account_id': 13055}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-07-31 16:04:42.000000000', 'files': ['keystoneclient/tests/unit/v3/test_oauth1.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/65d3907d83c2a15babbf8e7063c658a5eda804ec', 'message': ""Make OAuth testcase use actual request headers\n\nOAuth test verifies that access_token manager's methods make requests with\ncertain parameters. It is supposed to use values from mocked http handler\nand compare them with referential values acquired from oauth client.\n\nBut instead of using values from mocked handler, it used the values from\noauth client and compared them with values from the client acquired using\nattributes, basically testing oauthlib and not access_token manager's\nmethods.\n\nMake the test compare correct values and remove check of timestamp,\nwhich was useless because it is always mocked in tests and not provided in\nactual requests.\n\nAs a consequence, use of get_oauth_params, which changed in oauthlib\n1.0 and blocked the gate, was removed.\n\nCloses-Bug: 1477177\nCloses-Bug: 1477247\nChange-Id: I5e049163f84fde5827104fd4a6441222eb08468f\n(cherry picked from commit 7d5d8b343232ee5faf4de3381024095619335929)\n""}]",0,207973,65d3907d83c2a15babbf8e7063c658a5eda804ec,12,11,1,8851,,,0,"Make OAuth testcase use actual request headers

OAuth test verifies that access_token manager's methods make requests with
certain parameters. It is supposed to use values from mocked http handler
and compare them with referential values acquired from oauth client.

But instead of using values from mocked handler, it used the values from
oauth client and compared them with values from the client acquired using
attributes, basically testing oauthlib and not access_token manager's
methods.

Make the test compare correct values and remove check of timestamp,
which was useless because it is always mocked in tests and not provided in
actual requests.

As a consequence, use of get_oauth_params, which changed in oauthlib
1.0 and blocked the gate, was removed.

Closes-Bug: 1477177
Closes-Bug: 1477247
Change-Id: I5e049163f84fde5827104fd4a6441222eb08468f
(cherry picked from commit 7d5d8b343232ee5faf4de3381024095619335929)
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/73/207973/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/tests/unit/v3/test_oauth1.py'],1,65d3907d83c2a15babbf8e7063c658a5eda804ec,bug/1477177, parameters = dict( oauth1.rfc5849.utils.parse_authorization_header(auth_header)) verifier=verifier) ," import oauthlib auth_header = auth_header[len('OAuth '):] # NOTE(stevemar): In newer versions of oauthlib there is # an additional argument for getting oauth parameters. # Adding a conditional here to revert back to no arguments # if an earlier version is detected. if tuple(oauthlib.__version__.split('.')) > ('0', '6', '1'): header_params = oauth_client.get_oauth_params(None) else: header_params = oauth_client.get_oauth_params() parameters = dict(header_params) if oauth_client.timestamp: self.assertEqual(oauth_client.timestamp, parameters['oauth_timestamp']) verifier=verifier, timestamp=expires_at)",4,16
openstack%2Fcue~master~I36c0c88b64eb012c8129afbbe0bd808b10d436b0,openstack/cue,master,I36c0c88b64eb012c8129afbbe0bd808b10d436b0,Adding support for Keystone V3,ABANDONED,2015-08-14 17:44:45.000000000,2015-08-14 18:39:49.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-08-14 17:44:45.000000000', 'files': ['rally-jobs/plugins/cue_utils.py', 'tests/integration/cue-integration.conf', 'tests/integration/common/config.py', 'contrib/devstack/extras.d/80-cue-rally-config.sh', 'doc/source/configuration.rst', 'contrib/devstack/local.conf', 'tests/integration/common/client.py', 'doc/source/examples/example-cue.conf'], 'web_link': 'https://opendev.org/openstack/cue/commit/f8c8a14a781fd8879b70b62ba32acfcef602293b', 'message': 'Adding support for Keystone V3\n\nTempest client will now check which Keystone version is specified in\nthe conf and make the appropriate call to either v2 or v3. Rally\ntests using v3. Adding a new extras.d file so devstack will set\nup the Rally config to point to Keystone v3 without altering the\nactual devstack config. Adding documentation for Keystone v3 specific\nargs.\n\nChange-Id: Ia838fb8008c07b2ec12a004f498e46d027f90737\n\nmend\n\nChange-Id: I36c0c88b64eb012c8129afbbe0bd808b10d436b0\n'}]",0,213269,f8c8a14a781fd8879b70b62ba32acfcef602293b,3,1,1,15904,,,0,"Adding support for Keystone V3

Tempest client will now check which Keystone version is specified in
the conf and make the appropriate call to either v2 or v3. Rally
tests using v3. Adding a new extras.d file so devstack will set
up the Rally config to point to Keystone v3 without altering the
actual devstack config. Adding documentation for Keystone v3 specific
args.

Change-Id: Ia838fb8008c07b2ec12a004f498e46d027f90737

mend

Change-Id: I36c0c88b64eb012c8129afbbe0bd808b10d436b0
",git fetch https://review.opendev.org/openstack/cue refs/changes/69/213269/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/plugins/cue_utils.py', 'tests/integration/common/config.py', 'tests/integration/cue-integration.conf', 'contrib/devstack/extras.d/80-cue-rally-config.sh', 'doc/source/configuration.rst', 'contrib/devstack/local.conf', 'tests/integration/common/client.py', 'doc/source/examples/example-cue.conf']",8,f8c8a14a781fd8879b70b62ba32acfcef602293b,KeystoneV3Support,os_auth_url = http://192.168.131.199:35357/v3 os_auth_version = v3 os_project_name = <project-name> os_project_domain_name = <project-domain-name> os_user_domain_name = <user-domain-name>,os_tenant_name = <tenant-name> os_auth_url = http://192.168.131.199:35357/v2.0,83,19
openstack%2Foslo.messaging~master~I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038,openstack/oslo.messaging,master,I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038,Ensures that some assumptions are true.,MERGED,2015-06-16 21:23:02.000000000,2015-08-14 18:36:33.000000000,2015-08-03 21:06:31.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-16 21:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fa630221c5e0c23b8246cac3a20c86d28270b01b', 'message': ""Ensure consumer app don't use wait before stop\n\nEven it's documented, the application consumer must\nnot use wait before stop.\n\nThis patch enforces this by code.\n\nCloses-bug: #1465850\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}, {'number': 2, 'created': '2015-06-17 11:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/742f21f594a7b3b86e12a95ec4caf858c94f4013', 'message': ""Ensure consumer app don't use wait before stop\n\nEven it's documented, the application consumer must not use wait before stop.\nThis patch enforces this by code.\n\nAlso the code assume start/stop/wait are called from the same thread,\nbut this is not enforced, so enforce it.\n\nA common broken usage is:\n\n    server = oslo.messaging.get_rpc_server(..., executor='eventlet')\n    t = threading.Thread(target=server.start)\n    t.daemon = True\n    t.start()\n    ...foobar code...\n    server.stop()\n    server.wait()\n\nWith monkey patching, start() will do a context switch and then stop()\nis called but start is unfinished, that can cause unexpected behavior.\n\nThis patch fixes these issues by making all of this explicit.\n\nCloses-bug: #1465850\nCloses-bug: #1466001\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}, {'number': 3, 'created': '2015-06-17 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0e235a408d308c369dcba6edc880dec7b8bb2389', 'message': ""Ensure consumer app don't use wait before stop\n\nEven it's documented, the application consumer must not use wait before stop.\nThis patch enforces this by code.\n\nAlso the code assume start/stop/wait are called from the same thread,\nbut this is not enforced, so enforce it.\n\nA common broken usage is:\n\n    server = oslo.messaging.get_rpc_server(..., executor='eventlet')\n    t = threading.Thread(target=server.start)\n    t.daemon = True\n    t.start()\n    ...foobar code...\n    server.stop()\n    server.wait()\n\nWith monkey patching, start() will do a context switch and then stop()\nis called but start is unfinished, that can cause unexpected behavior.\n\nThis patch fixes these issues by making all of this explicit.\n\nCloses-bug: #1465850\nCloses-bug: #1466001\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}, {'number': 4, 'created': '2015-06-17 11:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/be1452149f812d11801985506df677b8b5bb541e', 'message': ""Ensures that some assumptions are true.\n\nIt's documented, the application consumer must not use wait before stop.\nbut this is not enforced, so enforce it\n\nAlso the code assume start/stop/wait are called from the same thread,\nbut this is not enforced, so enforce it.\n\nA common broken usage is:\n\n    server = oslo.messaging.get_rpc_server(..., executor='eventlet')\n    t = threading.Thread(target=server.start)\n    t.daemon = True\n    t.start()\n    ...foobar code...\n    server.stop()\n    server.wait()\n\nWith monkey patching, start() will do a context switch and then stop()\nis called but start is unfinished, that can cause unexpected behavior.\n\nThis patch fixes these issues by making all of this explicit.\n\nCloses-bug: #1465850\nCloses-bug: #1466001\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}, {'number': 5, 'created': '2015-06-19 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/470536abbce0651a1cf2bc02a0ef41befb301eec', 'message': ""Ensures that some assumptions are true.\n\nIt's documented, the application consumer must not use wait before stop.\nbut this is not enforced, so enforce it\n\nAlso the code assume start/stop/wait are called from the same thread,\nbut this is not enforced, so enforce it.\n\nA common broken usage is:\n\n    server = oslo.messaging.get_rpc_server(..., executor='eventlet')\n    t = threading.Thread(target=server.start)\n    t.daemon = True\n    t.start()\n    ...foobar code...\n    server.stop()\n    server.wait()\n\nWith monkey patching, start() will do a context switch and then stop()\nis called but start is unfinished, that can cause unexpected behavior.\n\nThis patch fixes these issues by making all of this explicit.\n\nCloses-bug: #1465850\nCloses-bug: #1466001\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}, {'number': 6, 'created': '2015-07-30 05:36:35.000000000', 'files': ['oslo_messaging/_utils.py', 'oslo_messaging/tests/utils.py', 'oslo_messaging/tests/notify/test_listener.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/tests/functional/utils.py', 'oslo_messaging/server.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0dafde9407d280500a1cb67d1c049fc0de5b63c8', 'message': ""Ensures that some assumptions are true.\n\nIt's documented, the application consumer must not use wait before stop.\nbut this is not enforced, so enforce it\n\nAlso the code assume start/stop/wait are called from the same thread,\nbut this is not enforced, so enforce it.\n\nA common broken usage is:\n\n    server = oslo.messaging.get_rpc_server(..., executor='eventlet')\n    t = threading.Thread(target=server.start)\n    t.daemon = True\n    t.start()\n    ...foobar code...\n    server.stop()\n    server.wait()\n\nWith monkey patching, start() will do a context switch and then stop()\nis called but start is unfinished, that can cause unexpected behavior.\n\nThis patch fixes these issues by making all of this explicit.\n\nCloses-bug: #1465850\nCloses-bug: #1466001\n\nChange-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038\n""}]",4,192437,0dafde9407d280500a1cb67d1c049fc0de5b63c8,26,5,6,2813,,,0,"Ensures that some assumptions are true.

It's documented, the application consumer must not use wait before stop.
but this is not enforced, so enforce it

Also the code assume start/stop/wait are called from the same thread,
but this is not enforced, so enforce it.

A common broken usage is:

    server = oslo.messaging.get_rpc_server(..., executor='eventlet')
    t = threading.Thread(target=server.start)
    t.daemon = True
    t.start()
    ...foobar code...
    server.stop()
    server.wait()

With monkey patching, start() will do a context switch and then stop()
is called but start is unfinished, that can cause unexpected behavior.

This patch fixes these issues by making all of this explicit.

Closes-bug: #1465850
Closes-bug: #1466001

Change-Id: I0fc1717e3118bc1cd7b9cd0ccc072251cfb2c038
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/37/192437/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/server.py'],1,fa630221c5e0c23b8246cac3a20c86d28270b01b,bug/1465850,"from oslo_messaging._i18n import _ self._running = False self._running = True self._running = False if self._running: raise RuntimeError(_(""We can't wait that all messages processing "" ""has completed if the server is still "" ""running. Call stop() first"")) ",,10,0
openstack%2Ffuel-qa~master~Ibbd637fb59f509b7db746683214be170c88279ae,openstack/fuel-qa,master,Ibbd637fb59f509b7db746683214be170c88279ae,Use Neutron instead of Nova-network in tests for bonds/onecontroller,MERGED,2015-08-14 16:49:47.000000000,2015-08-14 18:34:42.000000000,2015-08-14 18:34:41.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}, {'_account_id': 16414}]","[{'number': 1, 'created': '2015-08-14 16:49:47.000000000', 'files': ['fuelweb_test/tests/test_bonding.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/8aa9453a16572813866c9b4bc186c84010c72048', 'message': 'Use Neutron instead of Nova-network in tests for bonds/onecontroller\n\nChange-Id: Ibbd637fb59f509b7db746683214be170c88279ae\nCloses-Bug:#1485053\n'}]",0,213245,8aa9453a16572813866c9b4bc186c84010c72048,10,13,1,11969,,,0,"Use Neutron instead of Nova-network in tests for bonds/onecontroller

Change-Id: Ibbd637fb59f509b7db746683214be170c88279ae
Closes-Bug:#1485053
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/45/213245/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_bonding.py'],1,8aa9453a16572813866c9b4bc186c84010c72048,bug/1485053,"@test(groups=[""bonding_ha_one_controller"", ""bonding""]) groups=[""deploy_bonding_one_controller_tun""]) def deploy_bonding_one_controller_tun(self): """"""Deploy cluster with active-backup bonding and Neutron VXLAN Snapshot deploy_bonding_one_controller_tun segment_type = NEUTRON_SEGMENT['tun'] settings={ ""net_provider"": 'neutron', ""net_segment_type"": segment_type, } self.env.make_snapshot(""deploy_bonding_one_controller_tun"") groups=[""deploy_bonding_one_controller_vlan""]) def deploy_bonding_one_controller_vlan(self): """"""Deploy cluster with active-backup bonding and Neutron VLAN Snapshot deploy_bonding_one_controller_vlan segment_type = NEUTRON_SEGMENT['vlan'] settings={ ""net_provider"": 'neutron', ""net_segment_type"": segment_type, } self.env.make_snapshot(""deploy_bonding_one_controller_vlan"") segment_type = NEUTRON_SEGMENT['tun'] settings={ ""net_provider"": 'neutron', ""net_segment_type"": segment_type, }","@test(groups=[""bonding_nova"", ""bonding_ha_one_controller"", ""bonding""]) groups=[""deploy_bonding_nova_flat""]) def deploy_bonding_nova_flat(self): """"""Deploy cluster with active-backup bonding and Nova Network Snapshot deploy_bonding_nova_flat self.env.make_snapshot(""deploy_bonding_nova_flat"") groups=[""deploy_bonding_nova_vlan""]) def deploy_bonding_nova_vlan(self): """"""Deploy cluster with active-backup bonding and Nova Network + Vlan Snapshot deploy_bonding_nova_vlan self.env.make_snapshot(""deploy_bonding_nova_vlan"")",29,11
openstack%2Foslo.messaging~master~Ic52924bb66c8a89cdc90102b1171427806e9a823,openstack/oslo.messaging,master,Ic52924bb66c8a89cdc90102b1171427806e9a823,Fix BaseDriver.listen_for_notifications() signature,MERGED,2015-08-04 12:58:34.000000000,2015-08-14 18:34:06.000000000,2015-08-05 01:27:53.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 13290}]","[{'number': 1, 'created': '2015-08-04 12:58:34.000000000', 'files': ['oslo_messaging/_drivers/base.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1b01d7cee1be5b5580ca4e569ff08f4c926b0779', 'message': 'Fix BaseDriver.listen_for_notifications() signature\n\nlisten_for_notifications() accepts `pool` argument in driver classes, so\nwe should add this argument to the base abstract class as well.\n\nChange-Id: Ic52924bb66c8a89cdc90102b1171427806e9a823\n'}]",0,209043,1b01d7cee1be5b5580ca4e569ff08f4c926b0779,8,4,1,7491,,,0,"Fix BaseDriver.listen_for_notifications() signature

listen_for_notifications() accepts `pool` argument in driver classes, so
we should add this argument to the base abstract class as well.

Change-Id: Ic52924bb66c8a89cdc90102b1171427806e9a823
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/43/209043/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/base.py'],1,1b01d7cee1be5b5580ca4e569ff08f4c926b0779,," def listen_for_notifications(self, targets_and_priorities, pool):"," def listen_for_notifications(self, targets_and_priorities):",1,1
openstack%2Fkolla~master~I6a4174b184fc239c6baa950a9c787fc6ad220774,openstack/kolla,master,I6a4174b184fc239c6baa950a9c787fc6ad220774,Change tox targets to use new build.py,MERGED,2015-08-13 22:29:19.000000000,2015-08-14 18:23:07.000000000,2015-08-14 18:23:03.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}]","[{'number': 1, 'created': '2015-08-13 22:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a06c2842b172d1ef76e0ac2be59c0b812c29cce', 'message': 'Change tox targets to use new build.py\n\ntox -e images-centos-binary\ntox -e images-centos-source\n\nBoth above now execute parallel image building script.\n\nChange-Id: I6a4174b184fc239c6baa950a9c787fc6ad220774\nParitally-Implements: blueprint gate-source-builds\n'}, {'number': 2, 'created': '2015-08-14 17:32:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9a78a5b6f1dc0d1189a7613a60472cb8608c7981', 'message': 'Change tox targets to use new build.py\n\ntox -e images-centos-binary\ntox -e images-centos-source\n\nBoth above now execute parallel image building script.\n\nChange-Id: I6a4174b184fc239c6baa950a9c787fc6ad220774\nParitally-Implements: blueprint gate-source-builds\n'}]",0,212821,9a78a5b6f1dc0d1189a7613a60472cb8608c7981,11,3,2,3098,,,0,"Change tox targets to use new build.py

tox -e images-centos-binary
tox -e images-centos-source

Both above now execute parallel image building script.

Change-Id: I6a4174b184fc239c6baa950a9c787fc6ad220774
Paritally-Implements: blueprint gate-source-builds
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/212821/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a06c2842b172d1ef76e0ac2be59c0b812c29cce,bp/gate-source-builds, sudo -g docker testr run test_build.BuildTestCentosBinary sudo -g docker testr run test_build.BuildTestCentosSource," sudo -g docker testr run ^(test_build).* echo mv rm bash -c ""if [ -f .buildconf ]; then mv .buildconf buildconf.bak; fi"" bash -c ""echo PREFIX=centos-source- > .buildconf"" sudo -g docker testr run ^(test_images).* rm -f .buildconf bash -c ""if [ -f buildconf.bak ]; then mv buildconf.bak .buildconf; fi""",2,9
openstack%2Fapp-catalog~master~I45d0097c4e46270165f815efdc1d0d831e515a4c,openstack/app-catalog,master,I45d0097c4e46270165f815efdc1d0d831e515a4c,Updated missing dependency status of murano Kubernetes app,MERGED,2015-08-14 17:50:15.000000000,2015-08-14 18:22:47.000000000,2015-08-14 18:22:44.000000000,"[{'_account_id': 3}, {'_account_id': 9788}]","[{'number': 1, 'created': '2015-08-14 17:50:15.000000000', 'files': ['openstack_catalog/web/static/murano_apps.yaml'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/d2795a7a8bf402733a75abcdab4978825b04c810', 'message': 'Updated missing dependency status of murano Kubernetes app\n\nMurano Kubernetes app depends on a specific image. This image would be\ninstalled upon installeing the app, but the app entry lacked information\nabout this dependency.\n\nChange-Id: I45d0097c4e46270165f815efdc1d0d831e515a4c\n'}]",0,213274,d2795a7a8bf402733a75abcdab4978825b04c810,6,2,1,15168,,,0,"Updated missing dependency status of murano Kubernetes app

Murano Kubernetes app depends on a specific image. This image would be
installed upon installeing the app, but the app entry lacked information
about this dependency.

Change-Id: I45d0097c4e46270165f815efdc1d0d831e515a4c
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/74/213274/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_catalog/web/static/murano_apps.yaml'],1,d2795a7a8bf402733a75abcdab4978825b04c810,, - name: Ubuntu 14.04 x64 (pre-installed Kubernetes),,1,0
openstack%2Fbandit~master~I6b7faa8f4eefd91c9fff9da47dc1074075ad9494,openstack/bandit,master,I6b7faa8f4eefd91c9fff9da47dc1074075ad9494,Find bandit.yaml when in virtualenv,MERGED,2015-08-14 01:41:46.000000000,2015-08-14 18:21:31.000000000,2015-08-14 18:21:26.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 8119}, {'_account_id': 11029}, {'_account_id': 11716}, {'_account_id': 11861}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-08-14 01:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/acefa13f2a677be97c062b6159cd5e41b6be0b7e', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto '/etc/bandit/bandit.yaml'.\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #???\n""}, {'number': 2, 'created': '2015-08-14 01:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/f7558527da93ebfec05ae8d5b339548e81b96f88', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto '/etc/bandit/bandit.yaml'.\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #1484757\n""}, {'number': 3, 'created': '2015-08-14 01:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/2c8dc9f6aff653c641d24a70285ca698e4d52e13', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto '/etc/bandit/bandit.yaml'.\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #1484757\n""}, {'number': 4, 'created': '2015-08-14 17:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/e6ce2437ac366b8bfd10d9556e4378c33c4cd68c', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto an appropriate location of bandit.yaml (depending on platform).\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #1484757\n""}, {'number': 5, 'created': '2015-08-14 17:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/ea7b30ba1eb7812353a6a6c571796dbcf7372fa9', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto an appropriate location of bandit.yaml (depending on platform).\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #1484757\n""}, {'number': 6, 'created': '2015-08-14 18:02:03.000000000', 'files': ['README.rst', 'bandit/bandit.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/8cecf885648c7360790a68ce187313f212fe421e', 'message': ""Find bandit.yaml when in virtualenv\n\nWhen running bandit without the '-c' parameter, it has the inability\nto find bandit.yaml within a virtualenv.\n\nThis patch detects if running in a virtualenv and prepends that path\nto an appropriate location of bandit.yaml (depending on platform).\n\nChange-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494\nCloses-Bug: #1484757\n""}]",8,212896,8cecf885648c7360790a68ce187313f212fe421e,26,7,6,8119,,,0,"Find bandit.yaml when in virtualenv

When running bandit without the '-c' parameter, it has the inability
to find bandit.yaml within a virtualenv.

This patch detects if running in a virtualenv and prepends that path
to an appropriate location of bandit.yaml (depending on platform).

Change-Id: I6b7faa8f4eefd91c9fff9da47dc1074075ad9494
Closes-Bug: #1484757
",git fetch https://review.opendev.org/openstack/bandit refs/changes/96/212896/1 && git format-patch -1 --stdout FETCH_HEAD,['bandit/bandit.py'],1,acefa13f2a677be97c062b6159cd5e41b6be0b7e,bug/1484757," if hasattr(sys, 'real_prefix'): config_dirs.append(os.environ['VIRTUAL_ENV'] + appdirs.site_config_dir(""bandit""))",,3,0
openstack%2Frequirements~stable%2Fkilo~I2b8e8878d1f3ac9abdc9fce59f73df26d3cde68d,openstack/requirements,stable/kilo,I2b8e8878d1f3ac9abdc9fce59f73df26d3cde68d,Nova kilo requires concurrency 1.8.2 or better,MERGED,2015-08-13 06:28:55.000000000,2015-08-14 18:14:35.000000000,2015-08-14 18:14:30.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9303}, {'_account_id': 14288}]","[{'number': 1, 'created': '2015-08-13 06:28:55.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2fd00d00db5fce57d9589643801942d0332b1670', 'message': 'Nova kilo requires concurrency 1.8.2 or better\n\nNova stable/kilo needs the new release of oslo.concurrency in order\nto be able to cleanup security bug 1387543.\n\nChange-Id: I2b8e8878d1f3ac9abdc9fce59f73df26d3cde68d\nRelated-Bug: #1387543\n'}]",0,212369,2fd00d00db5fce57d9589643801942d0332b1670,18,6,1,9303,,,0,"Nova kilo requires concurrency 1.8.2 or better

Nova stable/kilo needs the new release of oslo.concurrency in order
to be able to cleanup security bug 1387543.

Change-Id: I2b8e8878d1f3ac9abdc9fce59f73df26d3cde68d
Related-Bug: #1387543
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/212369/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,2fd00d00db5fce57d9589643801942d0332b1670,bug/1387543,"oslo.concurrency>=1.8.2,<1.9.0 # Apache-2.0","oslo.concurrency>=1.8.0,<1.9.0 # Apache-2.0",1,1
openstack%2Fswift~feature%2Fcrypto~Ibf2959c4c2715f477e6df94ccf0ab0681702e881,openstack/swift,feature/crypto,Ibf2959c4c2715f477e6df94ccf0ab0681702e881,FakeFooters middleware,MERGED,2015-03-18 17:16:04.000000000,2015-08-14 18:06:57.000000000,2015-08-14 18:06:54.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 12279}, {'_account_id': 13052}]","[{'number': 1, 'created': '2015-03-18 17:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dfe63e24a874c97208defe8b633d10d9d3cf4114', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 2, 'created': '2015-03-24 00:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/689a5c855483176956888b4cf3363ef9eeb7714f', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 3, 'created': '2015-04-22 14:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14ade367b5946aa0367143a6cb1f9351e256187e', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 4, 'created': '2015-04-23 09:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c101dda67fc535650967f79d4177f18409937d16', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 5, 'created': '2015-07-15 02:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47c0aae9d4acabcc811f5212065409ea98a4b0c5', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 6, 'created': '2015-07-25 19:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4950967969ebb06fe54190d90a5faa61b5d6aed', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}, {'number': 7, 'created': '2015-08-06 20:12:09.000000000', 'files': ['swift/common/middleware/fake_footers.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/25440665fa635564ee7bcaa878145d5f0ab808aa', 'message': 'FakeFooters middleware\n\nThis middleware is not intended to ever be merged\non master branch.\n\nThis middleware mimics behaviour that we expect to\neventually integrate into the proxy app/object controller\nonce feature/ec has merged to master. Specifically, we need\nto be able to add trailing headers (aka footers) to PUT\nrequests, after the request body has been read by a downstream\napp, and have these footers sent on to the object server.\n\nChange-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881\n'}]",0,165517,25440665fa635564ee7bcaa878145d5f0ab808aa,23,4,7,7847,,,0,"FakeFooters middleware

This middleware is not intended to ever be merged
on master branch.

This middleware mimics behaviour that we expect to
eventually integrate into the proxy app/object controller
once feature/ec has merged to master. Specifically, we need
to be able to add trailing headers (aka footers) to PUT
requests, after the request body has been read by a downstream
app, and have these footers sent on to the object server.

Change-Id: Ibf2959c4c2715f477e6df94ccf0ab0681702e881
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/165517/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/fake_footers.py', 'setup.cfg']",2,dfe63e24a874c97208defe8b633d10d9d3cf4114,p-cr-fake-footers, fake_footers = swift.common.middleware.fake_footers:filter_factory test_fake_footers = swift.common.middleware.test_fake_footers:filter_factory,,183,0
openstack%2Fneutron~master~I3527a780179b5982d6e0eb0b8c32d6dafeeab730,openstack/neutron,master,I3527a780179b5982d6e0eb0b8c32d6dafeeab730,Add configurable options for HA networks,MERGED,2015-08-12 13:06:26.000000000,2015-08-14 17:57:18.000000000,2015-08-14 02:03:45.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9515}, {'_account_id': 9681}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 12444}, {'_account_id': 14010}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-08-12 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b163565823bd73cad031ed632baa6be1c2ad32ed', 'message': ""Add configurable options for HA networks\n\nThe L3 HA mechanism creates a project network for HA (VRRP) traffic\namong routers. The HA project network uses the first (default) network\ntype in 'tenant_network_types'. Depending on the environment, this\ncombination may not provide a desirable path for HA traffic. For\nexample, some operators may prefer to use a specific network for HA\ntraffic to prevent split-brain issues.\n\nThis patch adds configurable options that target the network_type and\nthe physical_network of the created HA network.\n\nDoc-Impact\nCloses-Bug: #1481443\nChange-Id: I3527a780179b5982d6e0eb0b8c32d6dafeeab730\n""}, {'number': 2, 'created': '2015-08-13 13:02:50.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'etc/neutron.conf', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/98618644ce3c36eabfcc0aea49e7962b0506a567', 'message': ""Add configurable options for HA networks\n\nThe L3 HA mechanism creates a project network for HA (VRRP) traffic\namong routers. The HA project network uses the first (default) network\ntype in 'tenant_network_types'. Depending on the environment, this\ncombination may not provide a desirable path for HA traffic. For\nexample, some operators may prefer to use a specific network for HA\ntraffic to prevent split-brain issues.\n\nThis patch adds configurable options that target the network_type and\nthe physical_network of the created HA network.\n\nDoc-Impact\nCloses-Bug: #1481443\nChange-Id: I3527a780179b5982d6e0eb0b8c32d6dafeeab730\n""}]",0,212017,98618644ce3c36eabfcc0aea49e7962b0506a567,50,24,2,12444,,,0,"Add configurable options for HA networks

The L3 HA mechanism creates a project network for HA (VRRP) traffic
among routers. The HA project network uses the first (default) network
type in 'tenant_network_types'. Depending on the environment, this
combination may not provide a desirable path for HA traffic. For
example, some operators may prefer to use a specific network for HA
traffic to prevent split-brain issues.

This patch adds configurable options that target the network_type and
the physical_network of the created HA network.

Doc-Impact
Closes-Bug: #1481443
Change-Id: I3527a780179b5982d6e0eb0b8c32d6dafeeab730
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/212017/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'etc/neutron.conf', 'neutron/tests/unit/db/test_l3_hamode_db.py']",3,b163565823bd73cad031ed632baa6be1c2ad32ed,bug/1481443,"from neutron.extensions import providernet def test_add_ha_network_settings(self): cfg.CONF.set_override('l3_ha_network_type', 'abc') cfg.CONF.set_override('l3_ha_network_physical_name', 'def') network = {} self.plugin._add_ha_network_settings(network) self.assertEqual('abc', network[providernet.NETWORK_TYPE]) self.assertEqual('def', network[providernet.PHYSICAL_NETWORK]) ",,39,0
openstack%2Fpuppet-openstack-integration~master~I1f05de578eb60bcfbf780171d0ef574eb90fb6d3,openstack/puppet-openstack-integration,master,I1f05de578eb60bcfbf780171d0ef574eb90fb6d3,Move intall_modules.sh to tools directory,ABANDONED,2015-08-07 12:50:39.000000000,2015-08-14 17:54:09.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 7604}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-08-07 12:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dc89ea11a262800a0e01d8e5ca1b6f5113034acd', 'message': 'Revert ""Put install_modules.sh in / to unlock CI jobs""\n\nThis reverts commit 9b8367d128dc330b2766551445cbcb624a534a6d.\n\nChange-Id: I1f05de578eb60bcfbf780171d0ef574eb90fb6d3\n'}, {'number': 2, 'created': '2015-08-07 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/12ae3db69535f3ab5e001d44b880567d60c6c861', 'message': 'Move intall_modules.sh to tools directory\n\n* Move install_modules.sh to tools directory\n* Adjust the script to keep Puppetfile in root repository\n\nChange-Id: I1f05de578eb60bcfbf780171d0ef574eb90fb6d3\n'}, {'number': 3, 'created': '2015-08-09 03:47:07.000000000', 'files': ['run_tests.sh', 'tools/install_modules.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/98dfd25fe21fda4c2a049ba78a0ef87e5d758c86', 'message': 'Move intall_modules.sh to tools directory\n\n* Move install_modules.sh to tools directory\n* Adjust the script to keep Puppetfile in root repository\n\nChange-Id: I1f05de578eb60bcfbf780171d0ef574eb90fb6d3\n'}]",0,210380,98dfd25fe21fda4c2a049ba78a0ef87e5d758c86,16,5,3,3153,,,0,"Move intall_modules.sh to tools directory

* Move install_modules.sh to tools directory
* Adjust the script to keep Puppetfile in root repository

Change-Id: I1f05de578eb60bcfbf780171d0ef574eb90fb6d3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/80/210380/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tools/install_modules.sh']",2,dc89ea11a262800a0e01d8e5ca1b6f5113034acd,puppet/integ,,,1,1
openstack%2Frally~master~Ief5946258de1d5a1661965e3fc1d81dbba8c4871,openstack/rally,master,Ief5946258de1d5a1661965e3fc1d81dbba8c4871,Fix six typos and grammar inaccuracies in Rally Readme Files,MERGED,2015-08-14 10:48:44.000000000,2015-08-14 17:46:38.000000000,2015-08-14 17:46:29.000000000,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 10388}, {'_account_id': 10475}, {'_account_id': 14817}, {'_account_id': 16237}]","[{'number': 1, 'created': '2015-08-14 10:48:44.000000000', 'files': ['samples/tasks/support/README.rst', 'tests/README.rst', 'samples/tasks/scenarios/README.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/bdbb0a596d7b40f44f7ed00812b1616e00de048c', 'message': 'Fix six typos and grammar inaccuracies in Rally Readme Files\n\nIt affects three files\nhttps://github.com/openstack/rally/tree/master/tests/README.rst\n1. directiry => directory\n2. automaticaly => automatically\n3. throw => through\n\nhttps://github.com/openstack/rally/tree/master/samples/tasks/scenarios/README.rst\n1. conficuration => configuration\n\nhttps://github.com/openstack/rally/tree/master/samples/tasks/support/README.rst\n1. intesnive => intensive\n2. a => an\n\nChange-Id: Ief5946258de1d5a1661965e3fc1d81dbba8c4871\nCloses-Bug: #1484880\n'}]",0,213083,bdbb0a596d7b40f44f7ed00812b1616e00de048c,13,6,1,10388,,,0,"Fix six typos and grammar inaccuracies in Rally Readme Files

It affects three files
https://github.com/openstack/rally/tree/master/tests/README.rst
1. directiry => directory
2. automaticaly => automatically
3. throw => through

https://github.com/openstack/rally/tree/master/samples/tasks/scenarios/README.rst
1. conficuration => configuration

https://github.com/openstack/rally/tree/master/samples/tasks/support/README.rst
1. intesnive => intensive
2. a => an

Change-Id: Ief5946258de1d5a1661965e3fc1d81dbba8c4871
Closes-Bug: #1484880
",git fetch https://review.opendev.org/openstack/rally refs/changes/83/213083/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/support/README.rst', 'tests/README.rst', 'samples/tasks/scenarios/README.rst']",3,bdbb0a596d7b40f44f7ed00812b1616e00de048c,bug/1484880,This directory contains task scenarios configuration samples.,This directory contains task scenarios conficuration samples.,5,5
openstack%2Fcue~master~Ia838fb8008c07b2ec12a004f498e46d027f90737,openstack/cue,master,Ia838fb8008c07b2ec12a004f498e46d027f90737,Adding support for Keystone V3,ABANDONED,2015-08-11 00:41:04.000000000,2015-08-14 17:46:18.000000000,,"[{'_account_id': 3}, {'_account_id': 15904}]","[{'number': 1, 'created': '2015-08-11 00:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/fe7909e346cd73cca36b22fc4db3c70d7286a3c7', 'message': 'Adding support for Keystone V3\n\nTempest client will now check which Keystone version is specified in\nthe conf and make the appropriate call to either v2 or v2.\n\nChange-Id: Ia838fb8008c07b2ec12a004f498e46d027f90737\n'}, {'number': 2, 'created': '2015-08-11 01:33:09.000000000', 'files': ['tests/integration/cue-integration.conf', 'tests/integration/common/config.py', 'tests/integration/common/client.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/c65ee1ea4cb2e3e57bed1667bcd322faf6f547d2', 'message': 'Adding support for Keystone V3\n\nTempest client will now check which Keystone version is specified in\nthe conf and make the appropriate call to either v2 or v2.\n\nChange-Id: Ia838fb8008c07b2ec12a004f498e46d027f90737\n'}]",0,211363,c65ee1ea4cb2e3e57bed1667bcd322faf6f547d2,5,2,2,15904,,,0,"Adding support for Keystone V3

Tempest client will now check which Keystone version is specified in
the conf and make the appropriate call to either v2 or v2.

Change-Id: Ia838fb8008c07b2ec12a004f498e46d027f90737
",git fetch https://review.opendev.org/openstack/cue refs/changes/63/211363/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/integration/cue-integration.conf', 'tests/integration/common/client.py']",2,fe7909e346cd73cca36b22fc4db3c70d7286a3c7,KeystoneV3Support," keystone_v3 = 'v3' in CONF.identity.uri if keystone_v3: creds = auth.KeystoneV3Credentials( username='admin', password=CONF.identity.password, project_name='admin', user_domain_name='default', project_domain_name='default' ) auth_provider = auth.KeystoneV3AuthProvider(creds, CONF.identity.uri) else: creds = auth.KeystoneV2Credentials( username='admin', password=CONF.identity.password, tenant_name='admin', ) auth_provider = auth.KeystoneV2AuthProvider(creds, CONF.identity.uri)"," creds = auth.KeystoneV2Credentials( username='admin', password=CONF.identity.password, tenant_name='admin', ) auth_provider = auth.KeystoneV2AuthProvider(creds, CONF.identity.uri)",24,8
openstack%2Fnova-powervm~master~I270acf348d55a7060fae656af6e30c1f9806ba20,openstack/nova-powervm,master,I270acf348d55a7060fae656af6e30c1f9806ba20,Support disconnect on rollback,MERGED,2015-08-12 20:43:49.000000000,2015-08-14 17:45:27.000000000,2015-08-14 17:29:45.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 12802}, {'_account_id': 12994}, {'_account_id': 13002}, {'_account_id': 14806}]","[{'number': 1, 'created': '2015-08-12 20:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/b904067aee1ac6f7c6d38fe7f6ed24af1978c2c6', 'message': 'Support disconnect on rollback\n\nThis change set addresses an issue where some of the VIOS updates may\nhave gone through, others failed, then a global rollback not properly\noccuring.  This change set removes some of the logic surrounding how it\nruns a rollback.  That logic only works for single VIO scenarios.\n\nChange-Id: I270acf348d55a7060fae656af6e30c1f9806ba20\nCloses-Bug: 1484241\n'}, {'number': 2, 'created': '2015-08-13 11:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/eb2e8ddeaab0e852fdec322f6f4cdbb4f3bdd766', 'message': 'Support disconnect on rollback\n\nThis change set addresses an issue where some of the VIOS updates may\nhave gone through, others failed, then a global rollback not properly\noccuring.  This change set removes some of the logic surrounding how it\nruns a rollback.  That logic only works for single VIO scenarios.\n\nChange-Id: I270acf348d55a7060fae656af6e30c1f9806ba20\nCloses-Bug: 1484241\n'}, {'number': 3, 'created': '2015-08-13 16:06:04.000000000', 'files': ['nova_powervm/virt/powervm/tasks/storage.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/c8e5c9d5b25c786dcc3b86845e9ab14f83ad02b3', 'message': 'Support disconnect on rollback\n\nThis change set addresses an issue where some of the VIOS updates may\nhave gone through, others failed, then a global rollback not properly\noccuring.  This change set removes some of the logic surrounding how it\nruns a rollback.  That logic only works for single VIO scenarios.\n\nChange-Id: I270acf348d55a7060fae656af6e30c1f9806ba20\nCloses-Bug: 1484241\n'}]",4,212183,c8e5c9d5b25c786dcc3b86845e9ab14f83ad02b3,19,7,3,8190,,,0,"Support disconnect on rollback

This change set addresses an issue where some of the VIOS updates may
have gone through, others failed, then a global rollback not properly
occuring.  This change set removes some of the logic surrounding how it
runs a rollback.  That logic only works for single VIO scenarios.

Change-Id: I270acf348d55a7060fae656af6e30c1f9806ba20
Closes-Bug: 1484241
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/83/212183/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/tasks/storage.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,b904067aee1ac6f7c6d38fe7f6ed24af1978c2c6,bug/1484241," @mock.patch('nova.virt.block_device.DriverVolumeBlockDevice.save') @mock.patch('nova_powervm.virt.powervm.tasks.network.PlugMgmtVif.execute') @mock.patch('nova_powervm.virt.powervm.tasks.network.PlugVifs.execute') @mock.patch('nova_powervm.virt.powervm.vm.dlt_lpar') @mock.patch('nova.virt.configdrive.required_by') @mock.patch('nova.objects.flavor.Flavor.get_by_id') @mock.patch('pypowervm.tasks.power.power_on') @mock.patch('pypowervm.tasks.power.power_off') def test_spawn_ops_rollback_on_vol_connect( self, mock_pwroff, mock_pwron, mock_get_flv, mock_cfg_drv, mock_dlt, mock_plug_vifs, mock_plug_mgmt_vifs, mock_save): """"""Validates the rollbacks on a volume connect failure."""""" # Set up the mocks to the tasks. inst = objects.Instance(**powervm.TEST_INSTANCE) my_flavor = inst.get_flavor() mock_get_flv.return_value = my_flavor mock_cfg_drv.return_value = False block_device_info = self._fake_bdms() # Have the connect fail. self.vol_drv.connect_volume.side_effect = exc.Forbidden() # Invoke the method. self.assertRaises(exc.Forbidden, self.drv.spawn, 'context', inst, mock.Mock(), 'injected_files', 'admin_password', block_device_info=block_device_info) # Create LPAR was called self.crt_lpar.assert_called_with(self.apt, self.drv.host_wrapper, inst, my_flavor) self.assertEqual(1, self.vol_drv.connect_volume.call_count) # Power on should not be called. Shouldn't get that far in flow. self.assertFalse(mock_pwron.called) # Disconnect should, as it may need to remove from one of the VIOSes # (but maybe failed on another). self.assertTrue(self.vol_drv.disconnect_volume.called) ",,44,12
openstack%2Fneutron~master~I259d4f9090df821ade9d58f440c809e79458211d,openstack/neutron,master,I259d4f9090df821ade9d58f440c809e79458211d,[neutron-db-manage] remove old HEAD file when updating for branches,MERGED,2015-07-29 08:03:07.000000000,2015-08-14 17:23:22.000000000,2015-08-13 20:09:56.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 9681}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-07-29 08:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f92ceaa02caca7742f7f68a4c80d42094e6e547', 'message': '[neutron-db-manage] remove old HEAD file when updating for branches\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: I259d4f9090df821ade9d58f440c809e79458211d\n'}, {'number': 2, 'created': '2015-08-04 21:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6218fcd88b731aa238f04992324cd68e3b63393', 'message': '[neutron-db-manage] remove old HEAD file when updating for branches\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: I259d4f9090df821ade9d58f440c809e79458211d\n'}, {'number': 3, 'created': '2015-08-13 12:08:33.000000000', 'files': ['neutron/db/migration/cli.py', 'neutron/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/452f95bc634a5259fcf5097a45eaacb2e96988fb', 'message': '[neutron-db-manage] remove old HEAD file when updating for branches\n\nPartially-Implements: blueprint online-schema-migrations\nChange-Id: I259d4f9090df821ade9d58f440c809e79458211d\n'}]",3,206924,452f95bc634a5259fcf5097a45eaacb2e96988fb,60,26,3,9656,,,0,"[neutron-db-manage] remove old HEAD file when updating for branches

Partially-Implements: blueprint online-schema-migrations
Change-Id: I259d4f9090df821ade9d58f440c809e79458211d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/206924/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/cli.py', 'neutron/tests/unit/db/test_migration.py']",2,8f92ceaa02caca7742f7f68a4c80d42094e6e547,bp/online-schema-migrations," if all(head in file_heads for head in heads): cli.validate_heads_file(fake_config) else: self.assertRaises( SystemExit, cli.validate_heads_file, fake_config ) self.assertTrue(self.mock_alembic_err.called) @mock.patch('os.path.exists') @mock.patch('os.remove') def test_update_heads_file_success(self, *os_mocks): old_head_file = cli._get_head_file_path(self.configs[0]) for mock_ in os_mocks: mock_.assert_called_with(old_head_file) "," with mock.patch('os.path.isfile') as is_file: is_file.return_value = bool(file_heads) if all(head in file_heads for head in heads): cli.validate_heads_file(fake_config) else: self.assertRaises( SystemExit, cli.validate_heads_file, fake_config ) self.mock_alembic_err.assert_called_once_with(mock.ANY) def test_update_heads_file_success(self):",21,12
openstack%2Fnetworking-powervm~master~I2fd10d265d957c7ea47e34e3f64fe0d10ac03396,openstack/networking-powervm,master,I2fd10d265d957c7ea47e34e3f64fe0d10ac03396,Add try/except around PVID Updater looping call,MERGED,2015-08-14 16:00:02.000000000,2015-08-14 17:22:59.000000000,2015-08-14 17:22:58.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 9572}, {'_account_id': 9623}, {'_account_id': 12947}]","[{'number': 1, 'created': '2015-08-14 16:00:02.000000000', 'files': ['neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/0403172abed230dcacb3d03e2b3528eac8f55314', 'message': ""Add try/except around PVID Updater looping call\n\nIn rare scenarios the PVIDUpdater may throw an exception back from the\nAPI.  This was causing the FixedIntervalLoopingCall to stop processing\nnew requests.\n\nThis change adds a simple try/except (which adds logging) around the\nPVIDUpdater's execute method.  This will log the exception, but allow\nfurther requests to go through.\n\nChange-Id: I2fd10d265d957c7ea47e34e3f64fe0d10ac03396\nCloses-Bug: 1484909\n""}]",0,213219,0403172abed230dcacb3d03e2b3528eac8f55314,7,5,1,8190,,,0,"Add try/except around PVID Updater looping call

In rare scenarios the PVIDUpdater may throw an exception back from the
API.  This was causing the FixedIntervalLoopingCall to stop processing
new requests.

This change adds a simple try/except (which adds logging) around the
PVIDUpdater's execute method.  This will log the exception, but allow
further requests to go through.

Change-Id: I2fd10d265d957c7ea47e34e3f64fe0d10ac03396
Closes-Bug: 1484909
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/19/213219/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py'],1,0403172abed230dcacb3d03e2b3528eac8f55314,bug/1484909," def try_update(self): """"""Runs the update method, but wraps a try/except block around it."""""" try: self.update() except Exception as e: # Only log the exception, do not block the processing. LOG.exception(e) pvid_l = loopingcall.FixedIntervalLoopingCall( self.pvid_updater.try_update)", pvid_l = loopingcall.FixedIntervalLoopingCall(self.pvid_updater.update),10,1
