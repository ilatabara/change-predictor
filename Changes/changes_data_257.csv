id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcliff~master~Ib7bf53091470b55ab87082d315ca283d3600a636,openstack/cliff,master,Ib7bf53091470b55ab87082d315ca283d3600a636,switch to stevedore for loading entry points,MERGED,2020-07-04 18:44:49.000000000,2020-07-06 19:11:59.000000000,2020-07-06 19:09:46.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-04 18:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/9706579a52d902c41c32b3f22223322c78769c64', 'message': ""switch to stevedore for loading entry points\n\nUsing the entrypoints cache API in stevedore should make command line\nprograms run more quickly, since they won't need to scan every\ndistribution every time they start.\n\nChange-Id: Ib7bf53091470b55ab87082d315ca283d3600a636\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-04 19:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/83b5c2ba412b275d467299e456e25e508c9ad62e', 'message': ""switch to stevedore for loading entry points\n\nUsing the entrypoints cache API in stevedore should make command line\nprograms run more quickly, since they won't need to scan every\ndistribution every time they start.\n\nChange-Id: Ib7bf53091470b55ab87082d315ca283d3600a636\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2020-07-04 21:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/3b25bf1357b0345b3588d3d802b763cb7eb59449', 'message': ""switch to stevedore for loading entry points\n\nUsing the entrypoints cache API in stevedore should make command line\nprograms run more quickly, since they won't need to scan every\ndistribution every time they start.\n\nChange-Id: Ib7bf53091470b55ab87082d315ca283d3600a636\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2020-07-05 19:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/81b5b8eb17607349be1a82b00c054f599c5169bc', 'message': ""switch to stevedore for loading entry points\n\nUsing the entrypoints cache API in stevedore should make command line\nprograms run more quickly, since they won't need to scan every\ndistribution every time they start.\n\nChange-Id: Ib7bf53091470b55ab87082d315ca283d3600a636\nDepends-On: I8b08f289d446f4775eac1e1a91997fa96f25f641\nDepends-On: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 5, 'created': '2020-07-05 19:59:33.000000000', 'files': ['requirements.txt', 'cliff/tests/test_commandmanager.py', 'cliff/commandmanager.py', 'lower-constraints.txt', 'cliff/command.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/6ac510d0cd25c8c3c76d56dd8e100ca2a6f8b962', 'message': 'switch to stevedore for loading entry points\n\nSwitch to using stevedore now so that when the cache implementation is\nreleased all cliff applications can take advantage of the performance\nbenefits.\n\nChange-Id: Ib7bf53091470b55ab87082d315ca283d3600a636\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,739329,6ac510d0cd25c8c3c76d56dd8e100ca2a6f8b962,17,4,5,2472,,,0,"switch to stevedore for loading entry points

Switch to using stevedore now so that when the cache implementation is
released all cliff applications can take advantage of the performance
benefits.

Change-Id: Ib7bf53091470b55ab87082d315ca283d3600a636
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/29/739329/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cliff/tests/test_commandmanager.py', 'cliff/commandmanager.py', 'cliff/command.py']",4,9706579a52d902c41c32b3f22223322c78769c64,osc-performance, import pkg_resources,import pkg_resources,17,16
openstack%2Fdiskimage-builder~master~If3e8d8ac29a728aa41562b31976ebe9bfa5df66f,openstack/diskimage-builder,master,If3e8d8ac29a728aa41562b31976ebe9bfa5df66f,Switch to newer openstackdocstheme and reno versions,MERGED,2020-06-02 08:10:18.000000000,2020-07-06 18:58:12.000000000,2020-07-06 18:52:41.000000000,"[{'_account_id': 2}, {'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-02 08:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f498b2ddc225ed5d27f8cd475545b14d0f4f064e', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}, {'number': 2, 'created': '2020-06-02 08:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb375f29b1a233f45110bef76080bd0c956d438e', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}, {'number': 3, 'created': '2020-06-02 08:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e2f9f44727fca564584fff733e21401c449c6f4d', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}, {'number': 4, 'created': '2020-06-02 09:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1bfac27829dd701c4257136335a9445f2bb46ba4', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}, {'number': 5, 'created': '2020-06-03 00:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/36530a732dd234facec8a84552d6b47322fa864b', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}, {'number': 6, 'created': '2020-06-09 08:23:53.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/abba0b5574bce7ac0069ba1696e8bb03ae1984c5', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f\n""}]",7,732490,abba0b5574bce7ac0069ba1696e8bb03ae1984c5,29,7,6,17130,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: If3e8d8ac29a728aa41562b31976ebe9bfa5df66f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/90/732490/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,f498b2ddc225ed5d27f8cd475545b14d0f4f064e,reno-openstackdocstheme,pygments_style = 'native'# openstackdocstheme options openstackdocs_repo_name = 'openstack/diskimage-builder' openstackdocs_bug_project = 'diskimage-builder' openstackdocs_auto_name = False openstackdocs_bug_tag = '' ,pygments_style = 'sphinx',17,6
openstack%2Fdiskimage-builder~master~Id954ffe4d9b019c7e7bb648725ff7f976c929b4d,openstack/diskimage-builder,master,Id954ffe4d9b019c7e7bb648725ff7f976c929b4d,add musl profile to gentoo,MERGED,2020-06-22 23:38:47.000000000,2020-07-06 18:54:57.000000000,2020-07-06 18:52:39.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-22 23:38:47.000000000', 'files': ['diskimage_builder/elements/gentoo/root.d/10-gentoo-image', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-02-flags', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-00-set-profile', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64787d8ec25d7664ff816bc8fa739eda700162c6', 'message': 'add musl profile to gentoo\n\nChange-Id: Id954ffe4d9b019c7e7bb648725ff7f976c929b4d\n'}]",0,737394,64787d8ec25d7664ff816bc8fa739eda700162c6,13,7,1,14288,,,0,"add musl profile to gentoo

Change-Id: Id954ffe4d9b019c7e7bb648725ff7f976c929b4d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/94/737394/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/gentoo/root.d/10-gentoo-image', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-02-flags', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-00-set-profile', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays']",4,64787d8ec25d7664ff816bc8fa739eda700162c6,gentoo-add-musl-support, emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --deep --ignore-built-slot-operator-deps=y layman," # upstream has problems with supporting other libcs still if [[ ""${GENTOO_PROFILE}"" == *""musl""* ]]; then echo '=sys-block/open-iscsi-2.0.877' >> /etc/portage/package.accept_keywords/open-iscsi fi emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot --deep --ignore-built-slot-operator-deps=y layman",12,11
openstack%2Ftripleo-ansible~master~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,master,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-04-30 19:09:09.000000000,2020-07-06 18:53:30.000000000,2020-06-01 05:27:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-04-30 19:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4528e735e2a1eead70bc5b448ce6674bf04ec1f4', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 2, 'created': '2020-04-30 19:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab7aa6eb8bc9484dfbc65c9d8999a4e2a43a774a', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 3, 'created': '2020-04-30 22:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d6b5f6eb0c02fbf4742a2d50fbb82458cd44b22', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 4, 'created': '2020-05-01 20:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48f2fcd58e7a2c5ab757df9dee80fe9133865d4c', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 5, 'created': '2020-05-04 15:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dde901748c4a6b4b6b4792b28765d4bfb38c8131', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 6, 'created': '2020-05-04 15:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f445424eedbabe213d70cb6582f7fe86f18db8b1', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 7, 'created': '2020-05-04 19:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3180f21f34d10ff37ae27dbac6ab37440cf3de2', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 8, 'created': '2020-05-04 22:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/882489ed38561d7a7732fbe0064b0088db1433c9', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 9, 'created': '2020-05-07 21:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1abe714c941ca528257060a1527b0126dd621b5c', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 10, 'created': '2020-05-07 21:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc65185b21d69691e1d6a50ae65894c06f138635', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 11, 'created': '2020-05-12 23:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/251eadc1421acfc0865565daae81506791ea6bfe', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 12, 'created': '2020-05-12 23:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0272e9f05da5ce818c32df6c3eef1b9e2464c2d1', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 13, 'created': '2020-05-18 17:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebb9c6389091b835ff2afee85f984c6202702285', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 14, 'created': '2020-05-18 17:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbf133cca0dc927b8ecda53a09183730c3f14b89', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 15, 'created': '2020-05-18 17:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e07fe15345874cb53d3cbfa470c61d745d153429', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69498\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 16, 'created': '2020-05-28 14:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6dde3c3b8162b444828b578c92eea01e47d82dd0', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}, {'number': 17, 'created': '2020-05-29 20:03:12.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f873e31f5874ea0dad6997ee2f9c8186f3d1058d', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n'}]",25,724731,f873e31f5874ea0dad6997ee2f9c8186f3d1058d,72,11,17,14985,,,0,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/724731/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,4528e735e2a1eead70bc5b448ce6674bf04ec1f4,strategy-improvements,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type import time from ansible import constants as C from ansible.errors import AnsibleError from ansible.module_utils._text import to_text from ansible.playbook.included_file import IncludedFile from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.template import Templar from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_free short_description: TripleO specific free strategry description: - Based on the 'free' strategy from Ansible - Logic broken up to allow for future improvements - Will fail playbook if any hosts have a failure during the execution version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoFreeBreak(Exception): """"""Exception used to break loops"""""" pass class TripleoFreeContinue(Exception): """"""Exception used to continue loops"""""" pass class StrategyModule(StrategyBase): def __init__(self, *args, **kwargs): super(StrategyModule, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._last_host = 0 self._play_context = None self._strat_results = [] self._has_work = False self._workers_free = 0 self.noop_task = None # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _filter_notified_hosts(self, notified_hosts): """"""Filter notified hosts"""""" return [host for host in notified_hosts if host in self._flushed_hosts and self._flushed_hosts[host]] def _increment_last_host(self): self._debug('_increment_last_host') self._last_host += 1 self._debug('last_host is {}'.format(self._last_host)) if self._last_host > len(self._hosts_left) - 1: self._debug('resetting last host') self._last_host = 0 def _check_throttle(self, throttle, task): """"""Check if we should throttle"""""" if throttle > 0: same_task = 0 for worker in self._workers: if (worker and worker.is_alive() and worker._task._uuid == task._uuid): same_task += 1 if same_task >= throttle: return True return False def _check_failures(self, results): """"""Check results for failures If any errors are fatal, kill the playbook at the end of execution. All non-failed hosts will continue to run the playbook but it won't move on to the next playbook. This function returns True if there were failures and False if there are no failures. """""" if self._any_errors_fatal: for res in results: if ((res.is_failed() or res._task.action == 'meta') and self._iterator.is_failed(res._host)): return True return False def _advance_host(self, host, task): """"""Advance the host's task as necessary"""""" self._debug('_advance_host {}'.format(host), host) host_name = host.get_name() # build get_vars call params vars_params = {'play': self._iterator._play, 'host': host, 'task': task} # If we have >= 2.9 we can use the hosts cache if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) templar = Templar(loader=self._loader, variables=task_vars) try: throttle = int(templar.template(task.throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak() self._blocked_hosts[host_name] = True # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host) try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: display.warning('templating of task name failed', host=host_name) # run once doesn't work with free because we run all of them run_once = (templar.template(task.run_once) or action and getattr(action, 'BYPASS_HOST_LOOP', False)) # TODO(mwhahaha): make it work by caching it accross all hsots if run_once: if action and getattr(action, 'BYPASS_HOST_LOOP', False): raise AnsibleError('Cannot bypass host loop with strategy') else: display.warning(""Using run_once does not work with the"" ""tripleo_free strategy"") # handle role deduplication logic if task._role and task._role.has_run(host): if (task._role._metadata is None or task._role._metadata and not task._role._metadata.allow_duplicates): del self._blocked_hosts[host_name] raise TripleoFreeContinue() if task.action == 'meta': self._execute_meta(task, self._play_context, self._iterator, target_host=host) self._blocked_hosts[host_name] = False else: if not self._step or self._take_step(task, host_name): if task.any_errors_fatal: display.warning('any_errors_fatal only stops any future ' 'tasks running on the host that fails ' 'with the tripleo_free strategy.') self._any_errors_fatal = True self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) self._queue_task(host, task, task_vars, self._play_context) self._workers_free -= 1 del task_vars return True def process_work(self): """"""Run pending tasks"""""" self._debug('process_work....') result = self._tqm.RUN_OK start_host = self._last_host self._strat_results = [] while True: self._debug('process_work loop') host = self._hosts_left[self._last_host] host_name = host.get_name() self._increment_last_host() (s, t) = self._iterator.get_next_task_for_host(host, peek=True) self._print(""host: {}, task: {}"".format(host, t)) if host_name in self._tqm._unreachable_hosts or not t: self._debug('host is unreachable or no task, has_work =' 'False') self._has_work = False else: self._debug('a host has work to do, has_work = True') self._has_work = True if not self._blocked_hosts.get(host_name, False): try: self._advance_host(host, t) except TripleoFreeBreak: break except TripleoFreeContinue: continue else: self._print('{} still blocked'.format(host_name)) # handle host pinned by going back to the start and waiting # for the next free host if (self._host_pinned and self._workers_free == 0 and self._has_work): self._last_host = start_host if self._last_host == start_host: self._debug('We hit the start host, break our loop') break self._debug('pending results....') results = self._process_pending_results(self._iterator) self._debug('results: {}'.format(results)) self._strat_results.extend(results) if self._check_failures(results): result |= self._tqm.RUN_FAILED_BREAK_PLAY self._workers_free += len(results) self._debug('update connections....') self.update_active_connections(results) return result def process_includes(self, host_results, noop=False): self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) # TODO(mwhahaha): fix include_failure uage # include_failure = False if len(include_files) == 0: self._debug('No include files') return all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: # TODO(mwhahaha): 2.9 has _hosts vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) # TODO(mwhahaha): noop is used for linear not free if noop: noop_block = self._prepare_and_create_noop_block_from( final_block, block._parent) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) elif noop: all_blocks[host].append(noop_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) # include_failure = True continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) def run(self, iterator, play_context): """"""Run out strategy"""""" self._iterator = iterator self._play_context = play_context self._has_work = True self._workers_free = len(self._workers) result = self._tqm.RUN_OK # check for < 2.9 and set vars so we know if we can use hosts cache if '_set_hosts_cache' in dir(self): self._set_hosts_cache(self._iterator._play) self._has_hosts_cache = True if '_set_hosts_cache_all' in dir(self): self._has_hosts_cache_all = True # while we still have tasks and ansible is still running while self._has_work and not self._tqm._terminated: self._has_work = False self._debug('play: {}'.format(self._iterator._play)) try: # get the hosts with tasks self._hosts_left = self.get_hosts_left(self._iterator) if len(self._hosts_left) == 0: self._tqm.send_callback( 'v2_playbook_on_no_hosts_remaining') result = False break # do work result = self.process_work() except (IOError, EOFError) as e: display.error(""Exception while running task loop: "" ""{}"".format(e)) return self._tqm.RUN_UNKNOWN_ERROR self.process_includes(self._strat_results) # TODO(mwhahaha): Make this honor the configuration for the poll # interval. Right now it's the default self._debug('sleeping...') time.sleep(C.DEFAULT_INTERNAL_POLL_INTERVAL) _ = self._wait_on_pending_results(iterator) return super(StrategyModule, self).run(self._iterator, self._play_context, result) ",,368,0
openstack%2Fpython-manilaclient~master~I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5,openstack/python-manilaclient,master,I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5,Add initial documentation for OSC,MERGED,2020-02-04 21:02:42.000000000,2020-07-06 18:51:21.000000000,2020-07-06 18:49:20.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-02-04 21:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/75b4960d986a72af9c55b8c6d92c3eac0265c8ae', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 2, 'created': '2020-02-04 21:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7c94b86d4f6330c3f0f5bd5757b3c842662dccbb', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 3, 'created': '2020-02-05 16:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aefe43468d39274cdc9429d8c2b56de8f9e9268c', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 4, 'created': '2020-02-05 20:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2025d8329315196a25cffb84567f0ea47b9b62f8', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 5, 'created': '2020-02-13 09:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f2f55d053d478ab390f8169f409de453e2f1e3e6', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 6, 'created': '2020-02-13 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a8b12be149575bc20d57261178a9e46622762c4f', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 7, 'created': '2020-03-09 09:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/07106162b0a1c816197baee770425e17c99d3e61', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 8, 'created': '2020-03-26 13:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/685f00e045328d0008c3dfc8aeeb5c6991090def', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 9, 'created': '2020-04-02 09:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/700db3fed827b6815c7b522a953bec645e412741', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 10, 'created': '2020-05-28 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0d24e50a5cd355089f821bbfb6f5e7300df0b02f', 'message': ""Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nOnly the basic 'openstack share' commands are referenced.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n""}, {'number': 11, 'created': '2020-06-25 20:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9a1aff49991fe14ddb72d8a2c32a39de099043a8', 'message': 'Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n'}, {'number': 12, 'created': '2020-07-01 20:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/76ab03f6fa3e54647cd468d582b3b3dc49ff8ae3', 'message': 'Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n'}, {'number': 13, 'created': '2020-07-03 19:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/843fb77406a9e0fdd969bd64264105e514a361d0', 'message': 'Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n'}, {'number': 14, 'created': '2020-07-03 20:28:25.000000000', 'files': ['doc/source/index.rst', 'doc/source/cli/osc_plugin_cli.rst', 'doc/source/cli/osc/v2/index.rst', 'doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8b74211d768befdcd3a5be1e6b22036a71f080ca', 'message': 'Add initial documentation for OSC\n\nThis patch creates initial documentation for OSC, with\ngeneral plugin information and a few examples.\nNew commands, that are implemented, should be then\nreferenced in doc/source/cli/osc/v2/index.rst\n\nChange-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5\nPartially-implements: bp openstack-client-support\n'}]",9,705834,8b74211d768befdcd3a5be1e6b22036a71f080ca,45,5,14,31213,,,0,"Add initial documentation for OSC

This patch creates initial documentation for OSC, with
general plugin information and a few examples.
New commands, that are implemented, should be then
referenced in doc/source/cli/osc/v2/index.rst

Change-Id: I6fa9fcb3cf41a2992a4b5c7b38c54825106e9ce5
Partially-implements: bp openstack-client-support
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/34/705834/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/osc_plugin_cli.rst', 'doc/source/cli/osc/v2/index.rst']",2,75b4960d986a72af9c55b8c6d92c3eac0265c8ae,bp/openstack-client-support,Command Reference ================= List of released CLI commands available in openstack client. These commands can be referenced by doing ``openstack help share``. ====== shares ====== .. autoprogram-cliff:: openstack.share.v2 :command: share * ,,88,0
openstack%2Ftripleo-common~master~Iff8eec43bd73bc6486f56e741e740869d1b8acbb,openstack/tripleo-common,master,Iff8eec43bd73bc6486f56e741e740869d1b8acbb,Switch to tripleo_dense,MERGED,2020-05-08 22:00:02.000000000,2020-07-06 18:43:29.000000000,2020-05-30 09:17:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-08 22:00:02.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0186702a41c8a917013931a4dd2a1164777380fb', 'message': 'Switch to tripleo_dense\n\nChange-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb\nDepends-On: https://review.opendev.org/#/c/726479/\n'}]",0,726480,0186702a41c8a917013931a4dd2a1164777380fb,28,7,1,14985,,,0,"Switch to tripleo_dense

Change-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb
Depends-On: https://review.opendev.org/#/c/726479/
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/726480/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,0186702a41c8a917013931a4dd2a1164777380fb,callback-improvements," 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo_dense,tripleo_profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo_dense',"," 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo,profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo',",7,5
openstack%2Fdevstack~master~Iafff097eee082f24ea2ae27ad038ad115aa36c61,openstack/devstack,master,Iafff097eee082f24ea2ae27ad038ad115aa36c61,Drop keystone dedicated ports,MERGED,2020-06-13 09:42:42.000000000,2020-07-06 18:42:30.000000000,2020-06-29 18:24:40.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-13 09:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/596242850816a25f4c42e2c6d259bc29013f34a6', 'message': ""Drop keystone dedicated ports\n\nThose historic references to port 5000 and 35357 aren't being used\nanymore for some time, so let us drop them.\n\nClean up some python2/3 wording along the way.\n\nNo longer mention Identity API v2, which is also a thing of the past.\n\nChange-Id: Iafff097eee082f24ea2ae27ad038ad115aa36c61\n""}, {'number': 2, 'created': '2020-06-26 13:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/98c2e38733544b3a17c1fec3f40ed10516851d67', 'message': ""Drop keystone dedicated ports\n\nThose historic references to port 5000 and 35357 aren't being used\nanymore for some time, so let us drop them.\n\nClean up some python2/3 wording along the way.\n\nNo longer mention Identity API v2, which is also a thing of the past.\n\nChange-Id: Iafff097eee082f24ea2ae27ad038ad115aa36c61\n""}, {'number': 3, 'created': '2020-06-26 13:30:05.000000000', 'files': ['lib/keystone', 'doc/source/configuration.rst', 'tools/create_userrc.sh', 'openrc', 'tools/fixup_stuff.sh', 'files/apache-keystone.template'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f6286cb586eb1f861866bfdf85c4f873c79fd592', 'message': ""Drop keystone dedicated ports\n\nThose historic references to port 5000 and 35357 aren't being used\nanymore for some time, so let us drop them.\n\nClean up some python2/3 wording along the way.\n\nNo longer mention Identity API v2, which is also a thing of the past.\n\nChange-Id: Iafff097eee082f24ea2ae27ad038ad115aa36c61\n""}]",2,735420,f6286cb586eb1f861866bfdf85c4f873c79fd592,17,6,3,13252,,,0,"Drop keystone dedicated ports

Those historic references to port 5000 and 35357 aren't being used
anymore for some time, so let us drop them.

Clean up some python2/3 wording along the way.

No longer mention Identity API v2, which is also a thing of the past.

Change-Id: Iafff097eee082f24ea2ae27ad038ad115aa36c61
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/735420/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', 'doc/source/configuration.rst', 'tools/create_userrc.sh', 'openrc', 'tools/fixup_stuff.sh', 'files/apache-keystone.template']",6,596242850816a25f4c42e2c6d259bc29013f34a6,drop-keystone-ports,,"Listen %PUBLICPORT% Listen %ADMINPORT%<VirtualHost *:%PUBLICPORT%> WSGIDaemonProcess keystone-public processes=3 threads=1 user=%USER% display-name=%{GROUP} %VIRTUALENV% WSGIProcessGroup keystone-public WSGIScriptAlias / %KEYSTONE_BIN%/keystone-wsgi-public WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On ErrorLogFormat ""%M"" ErrorLog /var/log/%APACHE_NAME%/keystone.log CustomLog /var/log/%APACHE_NAME%/keystone_access.log keystone_combined %SSLENGINE% %SSLCERTFILE% %SSLKEYFILE% </VirtualHost> <VirtualHost *:%ADMINPORT%> WSGIDaemonProcess keystone-admin processes=3 threads=1 user=%USER% display-name=%{GROUP} %VIRTUALENV% WSGIProcessGroup keystone-admin WSGIScriptAlias / %KEYSTONE_BIN%/keystone-wsgi-admin WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On ErrorLogFormat ""%M"" ErrorLog /var/log/%APACHE_NAME%/keystone.log CustomLog /var/log/%APACHE_NAME%/keystone_access.log keystone_combined %SSLENGINE% %SSLCERTFILE% %SSLKEYFILE% </VirtualHost> ",11,137
openstack%2Ftripleo-ansible~master~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,master,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-06-03 20:17:08.000000000,2020-07-06 18:40:21.000000000,2020-06-04 11:26:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-03 20:17:08.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97b68ec0597123840ee3d1c5b58422e6c437cb05', 'message': ""Prepend timestamp callback output\n\nIt's useful to know when a command last ran as well as being able to\ncross coordinate when something was running between the ansible output\nand other logs. We can use the output timestamp do this.\n\nChange-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589\n""}]",1,733394,97b68ec0597123840ee3d1c5b58422e6c437cb05,12,5,1,14985,,,0,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/733394/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py']",2,97b68ec0597123840ee3d1c5b58422e6c437cb05,callback-improvements,"from datetime import datetime def _output(self, msg, color=None): timestamp = datetime.now().strftime(""%Y-%m-%d %H:%M:%S.%f"") if isinstance(msg, list): output = ' | '.join([timestamp] + msg) else: output = timestamp + ' | ' + msg"," def _output(self, msg, color): if isinstance(msg, list): output = ' | '.join(msg) else: output = msg",21,10
openstack%2Fcinder~master~I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,openstack/cinder,master,I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,PowerMax Driver - Create vol suspend fix & DeviceID check,MERGED,2020-05-11 10:45:46.000000000,2020-07-06 18:37:35.000000000,2020-07-06 18:35:06.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30165}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-05-11 10:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/357444e6d397e56177263b03e27fd9f0810a0559', 'message': 'PowerMax Driver - Create vol suspend fix & DeviceID check\n\nMoved exception handling from _create_volume into create\nrdf/non-rdf vol helper methods. Added RDFG resume attempts\nto exception handling of RDF enabled vol creates and deletes.\nAdded device ID check before return from volume create to\nverify returned device ID against device label on PowerMAX.\n\nChange-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91\nCloses-Bug: 1877976\n'}, {'number': 2, 'created': '2020-06-22 11:21:34.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee2d3189bda913161c9ac3dc11cf09c60bf7f022', 'message': 'PowerMax Driver - Create vol suspend fix & DeviceID check\n\nMoved exception handling from _create_volume into create\nrdf/non-rdf vol helper methods. Added RDFG resume attempts\nto exception handling of RDF enabled vol creates and deletes.\nAdded device ID check before return from volume create to\nverify returned device ID against device label on PowerMAX.\n\nChange-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91\nCloses-Bug: 1877976\n'}]",2,726772,ee2d3189bda913161c9ac3dc11cf09c60bf7f022,102,33,2,30165,,,0,"PowerMax Driver - Create vol suspend fix & DeviceID check

Moved exception handling from _create_volume into create
rdf/non-rdf vol helper methods. Added RDFG resume attempts
to exception handling of RDF enabled vol creates and deletes.
Added device ID check before return from volume create to
verify returned device ID against device label on PowerMAX.

Change-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91
Closes-Bug: 1877976
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/726772/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",3,357444e6d397e56177263b03e27fd9f0810a0559,validation_race_retype_sg_resume," @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') @mock.patch.object( rest.PowerMaxRest, 'srdf_remove_device_pair_from_storage_group', side_effect=exception.CinderException) @mock.patch.object( rest.PowerMaxRest, 'get_storage_groups_from_volume', return_value=[tpd.PowerMaxData.storagegroup_name_f]) @mock.patch.object( rest.PowerMaxRest, 'get_rdf_pair_volume', return_value=tpd.PowerMaxData.rdf_group_vol_details) @mock.patch.object( common.PowerMaxCommon, '_get_replication_extra_specs', return_value=tpd.PowerMaxData.rep_extra_specs) @mock.patch.object( common.PowerMaxCommon, 'get_rdf_details', return_value=(tpd.PowerMaxData.rdf_group_no_1, tpd.PowerMaxData.remote_array)) def test_cleanup_rdf_device_pair_attempt_resume_on_exception( self, mck_rdf, mck_rep, mck_pair, mck_sg, mck_rem, mck_resume): array = self.data.array rdf_group_no = self.data.rdf_group_no_1 device_id = self.data.device_id extra_specs = deepcopy(self.data.rep_extra_specs) extra_specs[utils.REP_MODE] = utils.REP_SYNC extra_specs[utils.REP_CONFIG] = self.data.rep_config_sync rep_extra_specs = self.common._get_replication_extra_specs( extra_specs, extra_specs[utils.REP_CONFIG]) self.assertRaises( exception.CinderException, self.common.cleanup_rdf_device_pair, array, rdf_group_no, device_id, extra_specs) mck_resume.assert_called_once_with( array, self.data.storagegroup_name_f, rdf_group_no, rep_extra_specs, False) ",,328,112
openstack%2Fopenstack-ansible-os_keystone~master~Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,openstack/openstack-ansible-os_keystone,master,Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,Identity Providers support improvments,MERGED,2020-07-02 14:33:33.000000000,2020-07-06 18:22:31.000000000,2020-07-06 18:08:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e5d702c04566885f04239f4c033b62a3be33be9e', 'message': 'Identity Providers support improvments\n\nIdentity providers can be created with specified domain\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nAdd IDP display_name to defaults\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\nChange-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd\n'}, {'number': 2, 'created': '2020-07-02 14:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e365eed1e7ea8598b1ebe215ebd860d906b352e7', 'message': 'Identity Providers support improvments\n\nIdentity providers can be created with specified domain\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nAdd IDP display_name to defaults\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd\n'}, {'number': 3, 'created': '2020-07-06 13:08:53.000000000', 'files': ['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4c9642765e632d409c6d9028aae26f4514af7033', 'message': 'Identity Providers support improvments\n\nIdentity providers can be created with specified domain\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nAdd IDP display_name to defaults\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd\n'}]",0,739054,4c9642765e632d409c6d9028aae26f4514af7033,14,3,3,29865,,,0,"Identity Providers support improvments

Identity providers can be created with specified domain
IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults
Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/54/739054/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml']",2,e5d702c04566885f04239f4c033b62a3be33be9e,idp-improvements,"# domain_id: ""default"" # display_name: ""Keystone IDP"" # Optional, used in Horizon IDP dropdown",,3,0
openstack%2Freleases~master~If0dd6f5575c143f4b92421b29fb57940728908dc,openstack/releases,master,If0dd6f5575c143f4b92421b29fb57940728908dc,Release keystoneauth 3.17.3,MERGED,2020-07-02 01:45:33.000000000,2020-07-06 18:14:47.000000000,2020-07-06 18:14:47.000000000,"[{'_account_id': 308}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-02 01:45:33.000000000', 'files': ['deliverables/train/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e82a251281970752b72571af1956f7f81b34b201', 'message': 'Release keystoneauth 3.17.3\n\nChange-Id: If0dd6f5575c143f4b92421b29fb57940728908dc\n'}]",0,738948,e82a251281970752b72571af1956f7f81b34b201,12,8,1,5046,,,0,"Release keystoneauth 3.17.3

Change-Id: If0dd6f5575c143f4b92421b29fb57940728908dc
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/738948/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/keystoneauth.yaml'],1,e82a251281970752b72571af1956f7f81b34b201,, - version: 3.17.3 projects: - repo: openstack/keystoneauth hash: 7d7b9564ba32ded721f67002b712e6d3cafa8511,,4,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~I020986bbc2d5baa73a19ee7e1070019cb4e9ce63,openstack/openstack-ansible-os_keystone,stable/train,I020986bbc2d5baa73a19ee7e1070019cb4e9ce63,Add OIDCAuthRequestParams parameter to template,MERGED,2020-06-16 10:56:25.000000000,2020-07-06 18:12:10.000000000,2020-07-06 18:08:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31750}]","[{'number': 1, 'created': '2020-06-16 10:56:25.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c773cc692d00c485f8be1a4dfc62adc905004abf', 'message': 'Add OIDCAuthRequestParams parameter to template\n\nAdded the OIDCAuthRequestParams line to the keystone-httpd.conf template\nThis allows for the addition of optional extra parameters that will be sent\nalong with the Authorization Request when using federated logins:\nhttps://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf\n\nChange-Id: I020986bbc2d5baa73a19ee7e1070019cb4e9ce63\n(cherry picked from commit f0ce41ea61ed13933157e6d4794cf83040f3fd7a)\n'}]",0,735869,c773cc692d00c485f8be1a4dfc62adc905004abf,17,5,1,29865,,,0,"Add OIDCAuthRequestParams parameter to template

Added the OIDCAuthRequestParams line to the keystone-httpd.conf template
This allows for the addition of optional extra parameters that will be sent
along with the Authorization Request when using federated logins:
https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf

Change-Id: I020986bbc2d5baa73a19ee7e1070019cb4e9ce63
(cherry picked from commit f0ce41ea61ed13933157e6d4794cf83040f3fd7a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/69/735869/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,c773cc692d00c485f8be1a4dfc62adc905004abf,add-oidc-auth-params-stable/train, {% if keystone_sp.trusted_idp_list.0.oidc_auth_request_params is defined -%} OIDCAuthRequestParams {{ keystone_sp.trusted_idp_list.0.oidc_auth_request_params }} {% endif %},,3,0
openstack%2Fironic-python-agent~master~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,master,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-02 17:16:56.000000000,2020-07-06 18:12:09.000000000,2020-07-06 18:08:14.000000000,"[{'_account_id': 4328}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-02 17:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/647e48c4c8e14c7f14e33736ac34c177cce6b279', 'message': 'Limit Inspection->Lookup->Heartbeat lag\n\nMoves up the hardware data lookup to before inspection starts,\nsuch that the initial lookup can occur without any delay.\n\nChange-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a\n'}, {'number': 2, 'created': '2020-07-03 08:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3492f6088992066fe3fa3cd839e2297567abda1c', 'message': 'Limit Inspection->Lookup->Heartbeat lag\n\nCaches hardware information collected during inspection\nso that the initial lookup can occur without any delay.\n\nAlso adds logging to track how long inventory collection takes.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a\n'}, {'number': 3, 'created': '2020-07-03 08:32:34.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/inspect-to-clean-b3616d843775c187.yaml', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c76b8b2c217d57680baec977b374e821304198f9', 'message': 'Limit Inspection->Lookup->Heartbeat lag\n\nCaches hardware information collected during inspection\nso that the initial lookup can occur without any delay.\n\nAlso adds logging to track how long inventory collection takes.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a\n'}]",3,739120,c76b8b2c217d57680baec977b374e821304198f9,20,6,3,11655,,,0,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/20/739120/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_agent.py']",2,647e48c4c8e14c7f14e33736ac34c177cce6b279,, self.assertTrue(mock_wait.called) self.assertTrue(mock_wait.called), self.assertFalse(mock_wait.called) self.assertFalse(mock_wait.called),16,5
openstack%2Fneutron~stable%2Frocky~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/rocky,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix rocky gates, multiple fixes",MERGED,2020-07-01 14:05:44.000000000,2020-07-06 18:09:54.000000000,2020-07-06 18:09:54.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31849}]","[{'number': 1, 'created': '2020-07-01 14:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7870942d868325e0f4248d51fb8612650d18f003', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\nDepends-On: https://review.opendev.org/735615\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n'}, {'number': 2, 'created': '2020-07-01 16:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49f734882d7baeece3e6c08827daba5aae4073e9', 'message': 'Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n'}, {'number': 3, 'created': '2020-07-02 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a345b881d0c0c7551ee5d71908b0c4736202eb1', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack\n\nElse both jobs fail with ""sudo: pip: command not found""\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 4, 'created': '2020-07-02 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b029a517666cb5b033bffbaddab346df7472998b', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 5, 'created': '2020-07-02 10:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ac0ebea8af03e5deeb3cf680be1fb4e08c865b4', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 6, 'created': '2020-07-02 11:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b70a2af4e304391e586b821c5670160f2930ede6', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack\n\nThis was enabled to work around a bug in xenial kernel, it should be\nfixed now (and compilation fails with current kernel)\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 7, 'created': '2020-07-02 14:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afac9770c3292d492213434a165f699905d030b2', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack\n\nThis was enabled to work around a bug in xenial kernel, it should be\nfixed now (and compilation fails with current kernel)\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 8, 'created': '2020-07-03 07:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f01cff1366dbcaa004df205cfd60b9ade43a7274', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid\n\nSimilar error message for tox\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}, {'number': 9, 'created': '2020-07-03 10:46:22.000000000', 'files': ['playbooks/legacy/neutron-tempest-iptables_hybrid/run.yaml', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack/run.yaml', 'playbooks/legacy/neutron-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57f527a748f292597ee548e8d386720b72346d17', 'message': 'Fix rocky gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: ‘const struct ipv6_stub’ has no member named ‘ipv6_dst_lookup’\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n'}]",0,738851,57f527a748f292597ee548e8d386720b72346d17,34,8,9,21798,,,0,"Fix rocky gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: ‘const struct ipv6_stub’ has no member named ‘ipv6_dst_lookup’

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/738851/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7870942d868325e0f4248d51fb8612650d18f003,grenade-em-nv, - neutron-grenade-multinode: voting: false - neutron-grenade-dvr-multinode: voting: false - neutron-grenade: voting: false, - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade,6,6
openstack%2Fansible-role-systemd_service~master~I73f38d6b9cc897537053d810d5cdd61ed74671fb,openstack/ansible-role-systemd_service,master,I73f38d6b9cc897537053d810d5cdd61ed74671fb,Remove fail: tasks,MERGED,2020-06-09 12:50:53.000000000,2020-07-06 18:01:33.000000000,2020-07-06 17:02:06.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-09 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/bb6a069513655610851ebea5390a8bd38bbcd512', 'message': 'Remove fail: tasks\n\nAssume that the operator knows what they are doing. These tasks\nare skipped for every service which bumps up the number of tasks\nand runtime.\n\nChange-Id: I73f38d6b9cc897537053d810d5cdd61ed74671fb\n'}, {'number': 2, 'created': '2020-06-09 19:38:35.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/492031108ece622eb21621e8e26f1bfb458812a6', 'message': 'Remove fail: tasks\n\nAssume that the operator knows what they are doing. These tasks\nare skipped for every service which bumps up the number of tasks\nand runtime.\n\nChange-Id: I73f38d6b9cc897537053d810d5cdd61ed74671fb\n'}]",0,734597,492031108ece622eb21621e8e26f1bfb458812a6,13,4,2,25023,,,0,"Remove fail: tasks

Assume that the operator knows what they are doing. These tasks
are skipped for every service which bumps up the number of tasks
and runtime.

Change-Id: I73f38d6b9cc897537053d810d5cdd61ed74671fb
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/97/734597/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,bb6a069513655610851ebea5390a8bd38bbcd512,,,"- name: Check ExecStarts fail: msg: >- When the service type is ""simple"" only ONE command can be started. Check The list of execstarts and limit it to a single command per service or consider using the ""oneshot"" service type. Defined ExecStart commands ""{{ item.execstarts }}"". when: - item.execstarts is not string - item.execstarts | length > 1 - item.service_type | default(systemd_default_service_type) != 'oneshot' with_items: ""{{ systemd_services }}"" tags: - systemd-service - name: Check ExecStops fail: msg: >- When the service type is ""simple"" only ONE command can be stopped. Check The list of execstops and limit it to a single command per service or consider using the ""oneshot"" service type. Defined ExecStop commands ""{{ item.execstops }}"". when: - item.execstops is not string - item.execstops | default([]) | length > 1 - item.service_type | default(systemd_default_service_type) != 'oneshot' with_items: ""{{ systemd_services }}"" tags: - systemd-service - name: Check ExecReloads fail: msg: >- When the service type is ""simple"" only ONE command can be reloaded. Check The list of execreloads and limit it to a single command per service or consider using the ""oneshot"" service type. Defined ExecStop commands ""{{ item.execreloads }}"". when: - item.execreloads is not string - item.execreloads | default([]) | length > 1 - item.service_type | default(systemd_default_service_type) != 'oneshot' with_items: ""{{ systemd_services }}"" tags: - systemd-service - name: Check timers fail: msg: >- When using systemd timers the ""state"" must be defined under the timer key. when: - item.timer is defined - item.timer.state is undefined with_items: ""{{ systemd_services }}"" tags: - systemd-service ",0,56
openstack%2Fsenlin-dashboard~master~I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac,openstack/senlin-dashboard,master,I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac,Imported Translations from Zanata,MERGED,2020-06-16 13:52:44.000000000,2020-07-06 18:00:33.000000000,2020-07-06 17:57:01.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-06-16 13:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/ac66c41e985cc199274e785fca5469a2d091d377', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac\n'}, {'number': 2, 'created': '2020-07-06 08:58:31.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/c8f5139ed88ebe7823d70fa988c2bbea74747c1b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac\n'}]",0,735920,c8f5139ed88ebe7823d70fa988c2bbea74747c1b,11,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2649e86a9cb5640efa89a5be88fb2f6db3cc81ac
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/20/735920/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,ac66c41e985cc199274e785fca5469a2d091d377,zanata/translations,"""Project-Id-Version: Senlin Dashboard Release Notes\n""""POT-Creation-Date: 2020-06-10 01:50+0000\n""""PO-Revision-Date: 2020-06-15 05:42+0000\n""msgid ""1.0.0"" msgstr ""1.0.0""","""Project-Id-Version: senlin-dashboard\n""""POT-Creation-Date: 2020-04-27 00:13+0000\n""""PO-Revision-Date: 2020-04-27 08:11+0000\n""msgid ""1.0.0.0rc1"" msgstr ""1.0.0.0rc1""",5,5
openstack%2Fansible-role-python_venv_build~master~I1a8f4961358c9551c5493b332187b411177b2769,openstack/ansible-role-python_venv_build,master,I1a8f4961358c9551c5493b332187b411177b2769,Remove the virtualenv version check,MERGED,2020-07-06 12:40:49.000000000,2020-07-06 17:58:34.000000000,2020-07-06 17:56:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-06 12:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a156abc81df9c767494ef73cc8965011da9c2336', 'message': 'Remove the virtaulenv version check\n\nSimplify this code by making the assumption that we always have a\nnew enough version of virtualenv present. Centos-7 ships 15.1.0 so\nit is now possible to remove some conditional logic as well.\n\nThis patch removes the version check and replaces it with a check\nthat the virtualenv command is present on the system patch and\nis usable.\n\nChange-Id: I1a8f4961358c9551c5493b332187b411177b2769\n'}, {'number': 2, 'created': '2020-07-06 12:44:24.000000000', 'files': ['tasks/python_venv_preflight.yml', 'tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14', 'message': 'Remove the virtualenv version check\n\nSimplify this code by making the assumption that we always have a\nnew enough version of virtualenv present. Centos-7 ships 15.1.0 so\nit is now possible to remove some conditional logic as well.\n\nThis patch removes the version check and replaces it with a check\nthat the virtualenv command is present on the system patch and\nis usable.\n\nChange-Id: I1a8f4961358c9551c5493b332187b411177b2769\n'}]",0,739479,aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14,10,3,2,25023,,,0,"Remove the virtualenv version check

Simplify this code by making the assumption that we always have a
new enough version of virtualenv present. Centos-7 ships 15.1.0 so
it is now possible to remove some conditional logic as well.

This patch removes the version check and replaces it with a check
that the virtualenv command is present on the system patch and
is usable.

Change-Id: I1a8f4961358c9551c5493b332187b411177b2769
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/79/739479/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_preflight.yml', 'tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",3,a156abc81df9c767494ef73cc8965011da9c2336,, --no-download, {{ _venv_create_extra_options }},9,28
openstack%2Fansible-role-systemd_service~master~I3d28967a64ea9d91219294bdc30d337c9c6d2e50,openstack/ansible-role-systemd_service,master,I3d28967a64ea9d91219294bdc30d337c9c6d2e50,"Revert ""Build out the PrivateNetwork function for services""",MERGED,2020-06-09 12:50:53.000000000,2020-07-06 17:56:05.000000000,2020-07-06 17:49:23.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-09 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/a507066da38250e6e89d416fb653c8fbb0c29193', 'message': 'Revert ""Build out the PrivateNetwork function for services""\n\nThis reverts commit 6285b6c6389134c53a5a98a0392b016a594bab16.\n\nThere is no use made of this functionality anywhere outside the tests\nfor this role, so revert the code. The intention is to reduce general\noverhead in systemd_service and reduce the number of skipped tasks\nin an OSA deployment.\n\nChange-Id: I3d28967a64ea9d91219294bdc30d337c9c6d2e50\n'}, {'number': 2, 'created': '2020-06-10 07:19:08.000000000', 'files': ['tasks/main.yml', 'templates/systemd-dhcp.network.j2', 'templates/systemd-service.j2', 'templates/systemd-netns@.service.j2', 'handlers/main.yml', 'tests/test.yml', 'templates/systemd-netns-access@.service.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/9924a05f97e77f58c62921655077930fb1fa3b96', 'message': 'Revert ""Build out the PrivateNetwork function for services""\n\nThis reverts commit 6285b6c6389134c53a5a98a0392b016a594bab16.\n\nThere is no use made of this functionality anywhere outside the tests\nfor this role, so revert the code. The intention is to reduce general\noverhead in systemd_service and reduce the number of skipped tasks\nin an OSA deployment.\n\nConflicts: tests/test.yml\nChange-Id: I3d28967a64ea9d91219294bdc30d337c9c6d2e50\n'}]",0,734598,9924a05f97e77f58c62921655077930fb1fa3b96,13,5,2,25023,,,0,"Revert ""Build out the PrivateNetwork function for services""

This reverts commit 6285b6c6389134c53a5a98a0392b016a594bab16.

There is no use made of this functionality anywhere outside the tests
for this role, so revert the code. The intention is to reduce general
overhead in systemd_service and reduce the number of skipped tasks
in an OSA deployment.

Conflicts: tests/test.yml
Change-Id: I3d28967a64ea9d91219294bdc30d337c9c6d2e50
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/98/734598/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/systemd-dhcp.network.j2', 'templates/systemd-service.j2', 'templates/systemd-netns@.service.j2', 'handlers/main.yml', 'tests/test.yml', 'templates/systemd-netns-access@.service.j2', 'defaults/main.yml']",8,a507066da38250e6e89d416fb653c8fbb0c29193,,systemd_PrivateUsers: false,"systemd_PrivateUsers: false # Systemd provides for the ability to start a given service in a network # namespace. When `systemd_PrivateNetwork` is `true` a service will be # started within a namepsace created using the name of the service unit.# When `systemd_PrivateNetwork` is enabled, it may be desirable to add a # specific link into the service namespace using the MACVLAN interface. # The option `systemd_PrivateNetworkIsolated`, when set to `false`, will # create a MACVLAN interface which binds to the host interface defined # by the option `systemd_PrivateNetworkInterface`; uses the gateway # interface by default. The MODE used by the MACVLAN interface can be # changed using the option `systemd_PrivateNetworkMode`. systemd_PrivateNetworkIsolated: true systemd_PrivateNetworkInterface: ""{{ ansible_default_ipv4['interface'] }}"" systemd_PrivateNetworkMode: bridge # When `systemd_PrivateNetworkIsolated` is disabled, an interface is # created on the host and within the service namespace. If this interface # needs an IP address DHCP can be enabled which will, by default, send # DHCP requests through the interface defined by the option # `systemd_PrivateNetworkInterface`. systemd_PrivateNetworkDHCP: false # DHCP can be localized to only the physical host using option # `systemd_PrivateNetworkLocalDHCP`. Setting this option to `true`, will # create a networkd configuration for DHCPServer using the MACVLAN interface # defined by `systemd_PrivateNetworkInterface`. The gateway set within the # service namespace will be set using `systemd_PrivateNetworkLocalDHCPGateway`. systemd_PrivateNetworkLocalDHCP: false systemd_PrivateNetworkLocalDHCPGateway: ""10.0.5.1/24""",4,307
openstack%2Fironic-inspector~master~I6f60aea41865f09f9e53e5d91b1e887f0b39efbd,openstack/ironic-inspector,master,I6f60aea41865f09f9e53e5d91b1e887f0b39efbd,Add leader election for periodic sync with ironic,MERGED,2020-06-15 08:35:37.000000000,2020-07-06 17:53:46.000000000,2020-07-06 17:51:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-06-15 08:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bbc4d471cc34a84afcbe4a69233796d3591af253', 'message': '[WIP] Leader election for periodic sync with ironic\n\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n'}, {'number': 2, 'created': '2020-06-15 08:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cc196d004537be7a82ce1f6fbe0cd54a54714ad6', 'message': '[WIP] Leader election for periodic sync with ironic\n\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n'}, {'number': 3, 'created': '2020-06-16 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0cb2c3c3e8670eedad8c583e85c9f88dce199ca6', 'message': '[WIP] Leader election for periodic sync with ironic\n\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n'}, {'number': 4, 'created': '2020-06-26 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8b39f713cc3e8c172860419e84fa9a92780b8a5e', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 5, 'created': '2020-06-26 12:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c71afa8afa20a5667f8bbbb55eb60d39706108ef', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 6, 'created': '2020-06-30 13:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c9d20c26f11b054d95e8eeee78ae939c10d9138d', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 7, 'created': '2020-07-01 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5eb74137dab1c67dbfa345dbbb27008730365c54', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 8, 'created': '2020-07-01 12:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9bf537053150d75792ea5e829f826c13a7b185ee', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 9, 'created': '2020-07-01 15:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/80b6e6ba0da5999a074c5e450a961ae6b0d0a6cd', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 10, 'created': '2020-07-02 08:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fc0d40e087efbc8a9817d071ee51caea5ac548b9', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 11, 'created': '2020-07-02 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8c07e056d06d71cffaf258a156361d71ca555d3b', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}, {'number': 12, 'created': '2020-07-02 10:24:13.000000000', 'files': ['ironic_inspector/common/coordination.py', 'releasenotes/notes/leader-election-c6692d9962f30ad1.yaml', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0d20064f44835d8abe91ef3e89daa8cbb25b0c48', 'message': ""Add leader election for periodic sync with ironic\n\nPeriodically elect a leader to do the cleanup sync with\nIronic (to avoid unnecessary calls to  Ironic in a\nmulti-inspector setup).\nAdd config option 'leader_election_interval' to control\nthe period in which the leaders is elected.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nStory: #2007801\nChange-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd\n""}]",16,735527,0d20064f44835d8abe91ef3e89daa8cbb25b0c48,66,6,12,10239,,,0,"Add leader election for periodic sync with ironic

Periodically elect a leader to do the cleanup sync with
Ironic (to avoid unnecessary calls to  Ironic in a
multi-inspector setup).
Add config option 'leader_election_interval' to control
the period in which the leaders is elected.

Co-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>

Story: #2007801
Change-Id: I6f60aea41865f09f9e53e5d91b1e887f0b39efbd
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/27/735527/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/common/coordination.py', 'ironic_inspector/conductor/manager.py']",2,bbc4d471cc34a84afcbe4a69233796d3591af253,story_2007801," )(self._sync_with_ironic) self.coordinator = None try: self.coordinator = coordination.get_coordinator(prefix='conductor') self.coordinator.start(heartbeat=True) self.coordinator.join_group() except tooz.ToozError as exc: if CONF.standalone: LOG.info('Coordination backend is not available: %s', exc) else: else: LOG.info('Successfully connected to coordination backend.') if self.coordinator is not None: try: if self.coordinator.started: self.coordinator.leave_group() self.coordinator.stop() def _sync_with_ironic(self): if (self.coordinator is not None and not self.coordinator.is_leader): LOG.debug('The conductor is a not a leader, skipping syncing ' 'with ironic') return sync_with_ironic() def sync_with_ironic(self):", )(sync_with_ironic) if not CONF.standalone: try: coordinator = coordination.get_coordinator(prefix='conductor') coordinator.start(heartbeat=True) coordinator.join_group() except tooz.ToozError: else: LOG.info('Successfully connected to coordination backend.') if not CONF.standalone: try: coordinator = coordination.get_coordinator(prefix='conductor') if coordinator.started: coordinator.leave_group() coordinator.stop()def sync_with_ironic():,45,15
openstack%2Fopenstack-ansible~stable%2Ftrain~I4066d74d3547343929d5208fb453732786b36948,openstack/openstack-ansible,stable/train,I4066d74d3547343929d5208fb453732786b36948,Fix the name of the renamed network for trove,MERGED,2020-06-24 18:30:35.000000000,2020-07-06 17:52:16.000000000,2020-07-06 17:48:15.000000000,"[{'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28866}, {'_account_id': 30568}]","[{'number': 1, 'created': '2020-06-24 18:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3887496ff30fa3151bb6cbcbb21a48524aa3e412', 'message': 'Fix the name of the renamed network for trove\n\nThe change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with\nfail in the translations scenario during the trove configuration. This change\nrenames the flat network for trove in order to match the required flat name\nthat is dbaas-mgmt.\n\nChange-Id: I4066d74d3547343929d5208fb453732786b36948\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)\n'}, {'number': 2, 'created': '2020-06-25 11:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba6dc1d5c4ead4682a80484950cf5d8a8114d3fc', 'message': 'Fix the name of the renamed network for trove\n\nThe change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with\nfail in the translations scenario during the trove configuration. This change\nrenames the flat network for trove in order to match the required flat name\nthat is dbaas-mgmt.\n\nChange-Id: I4066d74d3547343929d5208fb453732786b36948\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)\n'}, {'number': 3, 'created': '2020-06-25 15:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6bf9f2a1874b65de5d9e60a4380026b42315201', 'message': 'Fix the name of the renamed network for trove\n\nThe change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with\nfail in the translations scenario during the trove configuration. This change\nrenames the flat network for trove in order to match the required flat name\nthat is dbaas-mgmt.\n\nChange-Id: I4066d74d3547343929d5208fb453732786b36948\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)\n'}, {'number': 4, 'created': '2020-07-02 06:58:53.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_translations.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a504268e66f86d5fa6bc8c4aca3e2083e59d4c5', 'message': 'Fix the name of the renamed network for trove\n\nThe change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with\nfail in the translations scenario during the trove configuration. This change\nrenames the flat network for trove in order to match the required flat name\nthat is dbaas-mgmt.\n\nChange-Id: I4066d74d3547343929d5208fb453732786b36948\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)\n'}]",0,737858,5a504268e66f86d5fa6bc8c4aca3e2083e59d4c5,53,8,4,14200,,,0,"Fix the name of the renamed network for trove

The change I60e6126a9fc0ca5c51009fb207642ce2c1afa323 brings the issue with
fail in the translations scenario during the trove configuration. This change
renames the flat network for trove in order to match the required flat name
that is dbaas-mgmt.

Change-Id: I4066d74d3547343929d5208fb453732786b36948
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit fb2925b7a76bf204a93311256224c141f31f3c9e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/737858/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_translations.yml.j2'],1,3887496ff30fa3151bb6cbcbb21a48524aa3e412,translations-trove-network,trove_provider_net_name: dbaas-mgmt trove_service_net_phys_net: dbaas-mgmt,trove_provider_net_name: flat-db trove_service_net_phys_net: flat-db,2,2
openstack%2Fdevstack~master~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,master,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,Use packaged uwsgi on Fedora and Ubuntu,MERGED,2018-06-26 01:54:05.000000000,2020-07-06 17:48:04.000000000,2020-06-15 08:12:41.000000000,"[{'_account_id': 6062}, {'_account_id': 6413}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-06-26 01:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/83d5af4c5d4d5a2bbe1e4eb92323895fa91b8746', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 2, 'created': '2018-06-26 03:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c9da97b953d116e1788410f21dc8a0608a32307', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 3, 'created': '2018-06-26 04:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2031b6ea2e2743d6adabc5466ee1e3612f089fa1', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 4, 'created': '2018-06-26 05:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dd7f18ffb62783f2bd7f7a1c5b7d6ad70ababae2', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 5, 'created': '2018-06-26 05:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/357aa32c122c9c3db3ecfe29856f639fde776a42', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 6, 'created': '2018-06-26 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/60c29ccc2d8e30fa69a70775afdbcaabdf43853f', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 7, 'created': '2018-06-26 07:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9826b78e70833559283ba152e3d2e2f4aadb0ac', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 8, 'created': '2018-06-26 08:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fa5f900f4f555a865a537d947c2824e8f26b5bc3', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 9, 'created': '2018-07-03 01:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0eede0196c60b9214b2753cdb259a6fe77460cad', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 10, 'created': '2018-07-03 01:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/adb401b8567ee0697db33876012ed59d930d3def', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 11, 'created': '2018-07-03 03:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0ac0989de10ac7104ec66b3e5146fcc74d9338c8', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 12, 'created': '2018-07-03 03:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/05c5d7cd271f8f58a960f702db80a01abe40f1be', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 13, 'created': '2018-07-03 04:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/17ab6dec54b187abda860879a694985a71412f88', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 14, 'created': '2018-07-03 05:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1f7d4ca854aae4df178ad743ca43fc6308fc4f9', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 15, 'created': '2018-07-03 07:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9faba77cceeb491d6020dcc66029d71959c0f68e', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 16, 'created': '2018-07-03 07:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/22e573a51688f11d6c1d3cddaf8ebfcc27fb1177', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 17, 'created': '2018-07-03 08:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/810aa66a4373a566dbcc97665593c0b98579a535', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 18, 'created': '2018-07-03 10:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/30b9cc3855a62afcc1d2c925ffb87ad976cd1d1f', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 19, 'created': '2018-07-03 19:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c35e46f5f9093bafea14c617721bbea8fdf9133e', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 20, 'created': '2020-05-26 18:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c1897341b8031034dff534b850650e3a2bae27d', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 21, 'created': '2020-05-26 18:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a345f17575ec6d867e083161b76072fc2f31b6db', 'message': 'Use packaged uwsgi for Ubuntu\n\nIt\'s not *exactly* clear what the problem is with the packaged Xenial\nversion that led to packaged install with\nI00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381.\n\nThe change says ""Ubuntu xenial is back level on uwsgi so the proxy\ndoesn\'t actually work."".  However, I noticed that ubuntu\'s\n2.0.12-5ubuntu3.1 package has picked up a patch [1]:\n\n * Re-add patch cherry-picked upstream to fix apache 2.4 integration\n   with unix domain sockets (accidentally dropped in 2.0.12-1).\n\nI suspect we may be able to use the packaged uwsgi now, and not have\nto worry about building from source.\n\nTo use packaged versions, we need to switch the python plugin type to\nuwsgi manually.  A variable is added for this.\n\n[1] http://launchpadlibrarian.net/335082909/uwsgi_2.0.12-5ubuntu3.1_source.changes\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n'}, {'number': 22, 'created': '2020-05-27 08:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c6566979dfaa6d746c3ec7cbfdb866f603aff18c', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Ubuntu, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}, {'number': 23, 'created': '2020-05-27 11:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba137a8b0c64d1b85e537482e4b46407562806ac', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Ubuntu, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nDepends-On: https://review.opendev.org/731159\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}, {'number': 24, 'created': '2020-06-01 15:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/21b34de820cf303c000251cf417dbaaf76fb5ef2', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Ubuntu, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nDepends-On: https://review.opendev.org/731159\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}, {'number': 25, 'created': '2020-06-11 05:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/84c692e12b1d2d129da3735bc272c5a30d546fb2', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nDepends-On: https://review.opendev.org/731159\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}, {'number': 26, 'created': '2020-06-15 07:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/55ccb072078167a107308e71351044e1f5957dcd', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}, {'number': 27, 'created': '2020-06-15 07:55:18.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2d903568ed4158aa668bbda6986307a8780c71a4', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n""}]",9,577955,2d903568ed4158aa668bbda6986307a8780c71a4,119,13,27,7118,,,0,"Use packaged uwsgi on Fedora and Ubuntu

Building uwsgi from source was a workaround that was introduced a long
time ago, it doesn't seem like it is needed anymore and will actually
fail for Ubuntu 20.04.

Also it doesn't match what will happen for most real-world
installations, so let's try to get back to using distro packages. We'll
still use the source install for RHEL/Centos, it remains to be tested
whether we can get back to using distro versions there, too.

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/577955/14 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,83d5af4c5d4d5a2bbe1e4eb92323895fa91b8746,uwsgi," if is_ubuntu; then install_package uwsgi uwsgi-plugin-python \ uwsgi-plugin-python3 \ libapache2-mod-proxy-uwsgi elif is_fedora and [[ $os_RELEASE -ge 28 ]]; then else # Centos 7 actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir"," if is_fedora and [[ $os_RELEASE -ge 28 ]]; then # Ubuntu xenial is back level on uwsgi so the proxy doesn't # actually work. Hence we have to build from source for now. # # Centos 7 actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there as well. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir ",22,21
openstack%2Fmonasca-common~stable%2Fussuri~I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09,openstack/monasca-common,stable/ussuri,I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09,Switch to Ussuri jobs,MERGED,2020-07-03 12:13:45.000000000,2020-07-06 17:45:45.000000000,2020-07-06 17:45:45.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-07-03 12:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/76cf4dbd7f0f3721c5c75892ea37e000806d51b0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09\n'}, {'number': 2, 'created': '2020-07-03 12:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/2a5b68c0bb3aa0202780bf62cc8204c1e796080b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09\n'}, {'number': 3, 'created': '2020-07-03 14:40:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/44b390866bd7b2fb0149e7fb0e6cc76b5cc5809e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09\n'}]",0,739220,44b390866bd7b2fb0149e7fb0e6cc76b5cc5809e,22,5,3,28062,,,0,"Switch to Ussuri jobs

Change-Id: I59e2722f4c9a07ffdb2dc7e7c187ada638ec8a09
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/20/739220/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76cf4dbd7f0f3721c5c75892ea37e000806d51b0,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-tripleoclient~master~I4b30c0c2478d401babe3e690bd54b2853201baab,openstack/python-tripleoclient,master,I4b30c0c2478d401babe3e690bd54b2853201baab,zuul: run standalone job with locally built images,MERGED,2020-06-03 19:43:55.000000000,2020-07-06 17:39:49.000000000,2020-07-06 17:34:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-03 19:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fea1ae98288d1f443b498ffd4905fa259bf2b38e', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n'}, {'number': 3, 'created': '2020-06-03 19:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58a5a5375fb4edd9e30a4a94dbd1585170d53db7', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n'}, {'number': 4, 'created': '2020-06-04 03:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33a052e4ca1a60f006c3e589b6b8e93b13dee0ae', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n'}, {'number': 5, 'created': '2020-06-04 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f863c1af865af295994df4f1bf49c8efa1d3bc9', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n'}, {'number': 6, 'created': '2020-06-08 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9a312c466750714a51f8649bf3c0af02bcb35443', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n'}, {'number': 7, 'created': '2020-06-08 21:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a96da0dd5e3c461719c279855d7faf5a2ede1bb', 'message': ""zuul: run standalone job with locally built images\n\nWe now want to test the CLI that builds the container images, so we\npicked standalone job and will run the same job except that instead of\npulling images from a remote registry, we'll build them locally and use\nthem for the deployment.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\n\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n""}, {'number': 8, 'created': '2020-06-10 15:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1363e3f1f149689435e8d09bc81d06faf4fc25a1', 'message': ""zuul: run standalone job with locally built images\n\nWe now want to test the CLI that builds the container images, so we\npicked standalone job and will run the same job except that instead of\npulling images from a remote registry, we'll build them locally and use\nthem for the deployment.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\nDepends-On: https://review.opendev.org/733388\n\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n""}, {'number': 9, 'created': '2020-06-18 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/26d0149de69c75b006318556cdbba5488e0d9cb6', 'message': ""zuul: run standalone job with locally built images\n\nWe now want to test the CLI that builds the container images, so we\npicked standalone job and will run the same job except that instead of\npulling images from a remote registry, we'll build them locally and use\nthem for the deployment.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\nDepends-On: https://review.opendev.org/733388\n\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n""}, {'number': 10, 'created': '2020-06-19 02:46:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d57fb767f27b0cdd562a17d01d982d0b66dce76c', 'message': ""zuul: run standalone job with locally built images\n\nWe now want to test the CLI that builds the container images, so we\npicked standalone job and will run the same job except that instead of\npulling images from a remote registry, we'll build them locally and use\nthem for the deployment.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\nDepends-On: https://review.opendev.org/733388\n\nChange-Id: I4b30c0c2478d401babe3e690bd54b2853201baab\n""}]",0,733389,d57fb767f27b0cdd562a17d01d982d0b66dce76c,42,5,9,3153,,,0,"zuul: run standalone job with locally built images

We now want to test the CLI that builds the container images, so we
picked standalone job and will run the same job except that instead of
pulling images from a remote registry, we'll build them locally and use
them for the deployment.

Depends-On: https://review.opendev.org/729824
Depends-On: https://review.opendev.org/729465
Depends-On: https://review.opendev.org/734870
Depends-On: https://review.opendev.org/733388

Change-Id: I4b30c0c2478d401babe3e690bd54b2853201baab
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/733389/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fea1ae98288d1f443b498ffd4905fa259bf2b38e,ci/standalone/containers, - tripleo-ci-centos-8-standalone-build-containers: dependencies: *deps_unit_lint files: - ^tripleoclient/v2/tripleo_container_image.py$,,4,0
openstack%2Fcinder~stable%2Fpike~I831321d12a6df2b950f05e2452710b9ae105ada4,openstack/cinder,stable/pike,I831321d12a6df2b950f05e2452710b9ae105ada4,Remove VxFlex OS credentials from connection_properties,ABANDONED,2020-07-06 16:28:12.000000000,2020-07-06 17:22:33.000000000,,"[{'_account_id': 12032}, {'_account_id': 24921}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-07-06 16:28:12.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/31d470f0a303f78f0fd39a6330a746065cd74e9a', 'message': 'Remove VxFlex OS credentials from connection_properties\n\nVxFlex OS password is not stored in block_device_mapping table.\nInstead of this passwords are stored in separate file and are\nretrieved during each attach/detach operation.\n\nThe stable/queens branch is in Extended Maintenance mode and is no\nlonger released from.  If you decide to apply this patch to your\ndeployment, you must make a corresponding change to the os-brick\nlibrary.  You can find the os-brick patch for stable/queens here:\n    https://review.opendev.org/#/c/733104\n\nAdditionally, you must deploy a new configuration file on compute\nnodes, cinder nodes, and anywhere you would perform a volume\nattachment in your deployment.  See the documentation change on\nthis patch for details about the new config file.\n\nSee OSSN-0086 for more information about this change:\n    https://wiki.openstack.org/wiki/OSSN/OSSN-0086\n\nCloses-Bug: #1823200\nChange-Id: I831321d12a6df2b950f05e2452710b9ae105ada4\n(cherry picked from commit 89bdebd2a92f83a199c86855a63fd3deab9a489c)\n'}]",0,739545,31d470f0a303f78f0fd39a6330a746065cd74e9a,4,3,1,14892,,,0,"Remove VxFlex OS credentials from connection_properties

VxFlex OS password is not stored in block_device_mapping table.
Instead of this passwords are stored in separate file and are
retrieved during each attach/detach operation.

The stable/queens branch is in Extended Maintenance mode and is no
longer released from.  If you decide to apply this patch to your
deployment, you must make a corresponding change to the os-brick
library.  You can find the os-brick patch for stable/queens here:
    https://review.opendev.org/#/c/733104

Additionally, you must deploy a new configuration file on compute
nodes, cinder nodes, and anywhere you would perform a volume
attachment in your deployment.  See the documentation change on
this patch for details about the new config file.

See OSSN-0086 for more information about this change:
    https://wiki.openstack.org/wiki/OSSN/OSSN-0086

Closes-Bug: #1823200
Change-Id: I831321d12a6df2b950f05e2452710b9ae105ada4
(cherry picked from commit 89bdebd2a92f83a199c86855a63fd3deab9a489c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/739545/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,31d470f0a303f78f0fd39a6330a746065cd74e9a,fix_for_ossn_0886," 2.0.4: Added compatibility with os_brick>1.15.3 2.0.4.1: Fix for Bug #1823200. See OSSN-0086 for details. VERSION = ""2.0.4.1"" 'config_group': self.configuration.config_group,"," VERSION = ""2.0.3"" 'serverPassword': self.server_password, 'serverToken': self.server_token,",35,3
openstack%2Ftripleo-ansible~stable%2Fussuri~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,stable/ussuri,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-07-03 19:34:20.000000000,2020-07-06 17:21:56.000000000,2020-07-06 17:21:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 19:34:20.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80f9ccd7f433fdffbef38cfd40c00b7b574b4bae', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)\n""}]",0,739278,80f9ccd7f433fdffbef38cfd40c00b7b574b4bae,7,3,1,3153,,,0,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62


Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/739278/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml']",8,80f9ccd7f433fdffbef38cfd40c00b7b574b4bae,container/configs-stable/ussuri,"--- - name: Converge hosts: all become: true tasks: - name: Create temporary for container configs tempfile: state: directory suffix: container_startup_config_tmp register: container_startup_config_tmp_dir - name: Generate container startup configs container_startup_config: config_data: ""{{ lookup('file', playbook_dir + '/container-configs.yml', errors='ignore') | default({}, True) | from_yaml }}"" config_base_dir: ""{{ container_startup_config_tmp_dir.path }}"" - name: Check that HAproxy container configuration file was created stat: path: ""{{ container_startup_config_tmp_dir.path }}/step_1/haproxy.json"" register: st_haproxy failed_when: - not st_haproxy.stat.exists - name: Check that HAproxy container configuration is correct slurp: src: ""{{ container_startup_config_tmp_dir.path }}/step_1/haproxy.json"" register: slurp_haproxy failed_when: - ('openstack-haproxy' not in slurp_haproxy['content']|b64decode) ",,271,15
openstack%2Fkolla-ansible~stable%2Ftrain~I820dea961e270de9eabb9cc3c75303f5170ce737,openstack/kolla-ansible,stable/train,I820dea961e270de9eabb9cc3c75303f5170ce737,Support using Logstash 6 image with Centos8,MERGED,2020-06-25 10:55:35.000000000,2020-07-06 17:21:35.000000000,2020-07-06 17:15:23.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-25 10:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a19a0cff94544022b3f894c2e2749f9416018380', 'message': 'Support using Logstash 6 image with Centos8\n\nWhen using Centos8 with the Train release only Elasticsearch 6 is provided.\nWhilst the Logstash 2 image builds for Centos8, we upgrade it inline with\nElasticsearch to avoid compatibility problems [1].\n\n[1] https://www.elastic.co/support/matrix#matrix_compatibility\n\nDepends-On: https://review.opendev.org/#/c/736745/\nChange-Id: I820dea961e270de9eabb9cc3c75303f5170ce737\nPartial-Bug: #1884090\n'}, {'number': 2, 'created': '2020-06-25 13:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cf1e1146ed34b48e9a415a2dfabd30be386bde8', 'message': 'Support using Logstash 6 image with Centos8\n\nWhen using Centos8 with the Train release only Elasticsearch 6 is provided.\nWhilst the Logstash 2 image builds for Centos8, we upgrade it inline with\nElasticsearch to avoid compatibility problems [1].\n\n[1] https://www.elastic.co/support/matrix#matrix_compatibility\n\nDepends-On: https://review.opendev.org/#/c/736745/\nChange-Id: I820dea961e270de9eabb9cc3c75303f5170ce737\nPartial-Bug: #1884090\n'}, {'number': 3, 'created': '2020-06-25 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f38bc84214fdb3f274ac9bcc000a3ace0bcbc8f4', 'message': 'Support using Logstash 6 image with Centos8\n\nWhen using Centos8 with the Train release only Elasticsearch 6 is provided.\nWhilst the Logstash 2 image builds for Centos8, we upgrade it inline with\nElasticsearch to avoid compatibility problems [1].\n\n[1] https://www.elastic.co/support/matrix#matrix_compatibility\n\nDepends-On: https://review.opendev.org/#/c/736745/\nChange-Id: I820dea961e270de9eabb9cc3c75303f5170ce737\nPartial-Bug: #1884090\n'}, {'number': 4, 'created': '2020-06-29 09:11:13.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'releasenotes/notes/support-logstash-6-d64bb51217b79a77.yaml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e1225b04b148a6af109da333696e93da869fafa', 'message': 'Support using Logstash 6 image with Centos8\n\nWhen using Centos8 with the Train release only Elasticsearch 6 is provided.\nWhilst the Logstash 2 image builds for Centos8, we upgrade it inline with\nElasticsearch to avoid compatibility problems [1].\n\n[1] https://www.elastic.co/support/matrix#matrix_compatibility\n\nDepends-On: https://review.opendev.org/#/c/736745/\nChange-Id: I820dea961e270de9eabb9cc3c75303f5170ce737\nPartial-Bug: #1884090\n'}]",7,737967,4e1225b04b148a6af109da333696e93da869fafa,20,6,4,17669,,,0,"Support using Logstash 6 image with Centos8

When using Centos8 with the Train release only Elasticsearch 6 is provided.
Whilst the Logstash 2 image builds for Centos8, we upgrade it inline with
Elasticsearch to avoid compatibility problems [1].

[1] https://www.elastic.co/support/matrix#matrix_compatibility

Depends-On: https://review.opendev.org/#/c/736745/
Change-Id: I820dea961e270de9eabb9cc3c75303f5170ce737
Partial-Bug: #1884090
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/737967/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'releasenotes/notes/support-logstash-6-d64bb51217b79a77.yaml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2']",8,a19a0cff94544022b3f894c2e2749f9416018380,bug/1884090,"{% if monasca_logstash_use_v6 %} input { kafka { bootstrap_servers => ""{{ monasca_kafka_servers }}"" topics => [""{{ monasca_raw_logs_topic }}""] group_id => ""log_transformer"" consumer_threads => ""{{ monasca_log_pipeline_threads }}"" codec => json } } {% else %} {# Logstash 2 #}{% endif %}{% if monasca_logstash_use_v6 %} output { kafka { codec => json bootstrap_servers => ""{{ monasca_kafka_servers }}"" topic_id => ""{{ monasca_transformed_logs_topic }}"" } } {% else %} {# Logstash 2 #}{% endif %}",,93,4
openstack%2Fpython-tripleoclient~master~I7d733499e74abe2cdf91526df608dc7c273bf19e,openstack/python-tripleoclient,master,I7d733499e74abe2cdf91526df608dc7c273bf19e,overcloud_deploy: raise at the end if Ansible Runner had exception,MERGED,2020-06-16 14:41:43.000000000,2020-07-06 17:13:34.000000000,2020-07-06 17:05:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20676}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-16 14:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a71391f42d2c0394559c4700b6fb4a50d938f0b6', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}, {'number': 2, 'created': '2020-06-19 02:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5fe657f18212bb2439d731e53da3ecb36a436e0', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}, {'number': 3, 'created': '2020-06-23 02:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2396c12f124381b1b960a41190829e0438a13d04', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}, {'number': 4, 'created': '2020-06-23 15:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0626956a6e7b96c6ddccded693dada4df7aab2c0', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nRelated-Bug: #1884793\n\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}, {'number': 5, 'created': '2020-06-23 16:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2038fb95cfb882f597eed81f70347d57162b136', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nNote: also mock copy_clouds_yaml since it wasn\'t tested before but it\'s\nfailing to reach the files on the filesystem.\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}, {'number': 6, 'created': '2020-06-25 16:19:17.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5b63958105d73eadac9c598982e68ef35defa4a1', 'message': 'overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at the\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP ******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nNote: also mock copy_clouds_yaml since it wasn\'t tested before but it\'s\nfailing to reach the files on the filesystem.\nChange-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e\n'}]",5,735930,5b63958105d73eadac9c598982e68ef35defa4a1,50,8,6,3153,,,0,"overcloud_deploy: raise at the end if Ansible Runner had exception

In the context of MaxFailPercentage, if a node (e.g. one of 100
computes) has any fatal error during an Ansible play and we tolerate
some percentage of failure; we want to raise the error but at the very
end of the deployment.

So this patch puts the following actions in a ""finally"" block so they
always execute:

* Create overcloudrc
* Sets the right permissions to the clouds.yaml
* Execute _deploy_postconfig
* Print infos like Keystone entpoint, Horizon URL, RC file location
  and deploy message (saying if there is an error or not)

And at the very end we raise the actual AnsibleRunner trace if the
deployment failed.

So even if a node failed and we tolerate it, we'll still finish the
deployment until the end, but for UX purpose we want to raise it at the
very end.
Note that when it fails and it's tolerated, Ansible prints the node as
""ignored"":

PLAY RECAP ******************************************************************
compute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0    ignored=0
compute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0    ignored=1
controller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0    ignored=0
controller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0    ignored=0
controller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0    ignored=0
undercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0    ignored=0

To improve UX, we'll investigate an Ansible callback to properly tell
what nodes needs to be re-deployed.

Note: also mock copy_clouds_yaml since it wasn't tested before but it's
failing to reach the files on the filesystem.
Change-Id: I7d733499e74abe2cdf91526df608dc7c273bf19e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/735930/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,a71391f42d2c0394559c4700b6fb4a50d938f0b6,strategy-improvements," deploy_status = 'DEPLOY_SUCCESS' deploy_message = 'without error' status=deploy_status) except Exception as deploy_e: deploy_status = 'DEPLOY_FAILED' deploy_message = 'with error' deploy_trace = deploy_e status=deploy_status finally: # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure # endpoints are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name) print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format( horizon_url)) print(""Overcloud rc file: {0}"".format(rcpath)) print(""Overcloud Deployed {0}"".format(deploy_message)) if deploy_status == 'DEPLOY_FAILED': raise(deploy_trace)"," status='DEPLOY_SUCCESS') except Exception: status='DEPLOY_FAILED' raise # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc(container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure endpoints # are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url(stack=stack.stack_name) print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format(horizon_url)) print(""Overcloud rc file: {0}"".format(rcpath)) print(""Overcloud Deployed"")",35,23
openstack%2Fkayobe~stable%2Fussuri~I238aeefefa88dd584ce61ac9eb52d50552336ed0,openstack/kayobe,stable/ussuri,I238aeefefa88dd584ce61ac9eb52d50552336ed0,Fix condition of placement image build,MERGED,2020-06-26 15:04:10.000000000,2020-07-06 17:11:50.000000000,2020-07-06 17:08:47.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2020-06-26 15:04:10.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eef94567596cb30dcc866fd5a8cf162cdf9aa631', 'message': 'Fix condition of placement image build\n\nThis should fix placement image build if nova is disabled but zun is\nenabled.\n\nChange-Id: I238aeefefa88dd584ce61ac9eb52d50552336ed0\n(cherry picked from commit 931fa4830d681281ff189bed15fbc9e0554428c0)\n'}]",0,738221,eef94567596cb30dcc866fd5a8cf162cdf9aa631,23,4,1,14826,,,0,"Fix condition of placement image build

This should fix placement image build if nova is disabled but zun is
enabled.

Change-Id: I238aeefefa88dd584ce61ac9eb52d50552336ed0
(cherry picked from commit 931fa4830d681281ff189bed15fbc9e0554428c0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/21/738221/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,eef94567596cb30dcc866fd5a8cf162cdf9aa631,placement-build-stable/ussuri," enabled: ""{{ kolla_enable_placement | bool }}"""," enabled: ""{{ kolla_enable_nova | bool }}""",1,1
openstack%2Ftripleo-heat-templates~master~I79631ce0ed450febae96db2f32198e02eb427d91,openstack/tripleo-heat-templates,master,I79631ce0ed450febae96db2f32198e02eb427d91,Fix privilege escalation,MERGED,2020-06-16 21:15:48.000000000,2020-07-06 17:08:32.000000000,2020-07-06 17:08:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-16 21:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a32e5a2457b41e044e285edeeb47779438d695f', 'message': ""Fix privilege escalation\n\nThis change fixes some privilege escalation for tasks that create files\nin /var/ and service related tasks. Additionally this adds become: true\nto all host_prep_tasks as those are specifically to prepare the host's\nconfiguration.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n""}, {'number': 2, 'created': '2020-06-17 15:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c51777c3b1affec586b4faf345d6bf2d5dedd5bc', 'message': ""Fix privilege escalation\n\nThis change fixes some privilege escalation for tasks that create files\nin /var/ and service related tasks. Additionally this adds become: true\nto all host_prep_tasks as those are specifically to prepare the host's\nconfiguration.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n""}, {'number': 3, 'created': '2020-06-17 15:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/453476a8d8b0b6981a7337fe88ad872e298b9cea', 'message': ""Fix privilege escalation\n\nThis change fixes some privilege escalation for tasks that create files\nin /var/ and service related tasks. Additionally this adds become: true\nto all host_prep_tasks as those are specifically to prepare the host's\nconfiguration.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n""}, {'number': 4, 'created': '2020-06-17 16:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8c0d4f69b6b88dd23e9fd60384435608cbd4bf3', 'message': ""Fix privilege escalation\n\nThis change fixes some privilege escalation for tasks that create files\nin /var/ and service related tasks. Additionally this adds become: true\nto all host_prep_tasks as those are specifically to prepare the host's\nconfiguration.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n""}, {'number': 5, 'created': '2020-06-17 18:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a626f2c22a66754d76c5dd189bfb59fe5979a4f', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 6, 'created': '2020-06-17 18:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa5fa37699d97303f64a80ace565eff367f047e7', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 7, 'created': '2020-06-17 18:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/871d81ae98e133929c8996c90035ade65e8807b5', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 8, 'created': '2020-06-17 19:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0d730ddd7b093fe899051ed806c550ff58ff442', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 9, 'created': '2020-06-22 12:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b080f30c0485bceeb61e9e091dcbff1da89af053', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 10, 'created': '2020-06-22 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea27ee76ed00dbd4eb5398cd3befa1e628b029f9', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 11, 'created': '2020-06-25 00:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6640511a8d3a2b4b90087a028d374bdb118bbe0e', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 12, 'created': '2020-07-02 21:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2d25bfc0f02a399aaa47c78b0919124037d5157', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 13, 'created': '2020-07-03 13:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a381ebe9a5a93561387064df7cd55a1a5d4f0a', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}, {'number': 14, 'created': '2020-07-05 20:20:15.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'common/container_startup_configs_tasks.yaml', 'common/generate-config-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'common/hiera-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e39acd14771ef9e8085b29be3b9374678d8089e', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n'}]",0,736047,4e39acd14771ef9e8085b29be3b9374678d8089e,45,6,14,14985,,,0,"Fix privilege escalation

This change enabled become: true to the deploy step and host prep task
execution. external tasks are still become: false as they are delegated
to localhost and run as the same user running the deployment.

Change-Id: I79631ce0ed450febae96db2f32198e02eb427d91
Related-Bug: #1883609
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/736047/14 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'common/hiera-steps-tasks.yaml']",6,7a32e5a2457b41e044e285edeeb47779438d695f,bug/1883609, become: true,,16,0
openstack%2Fpython-tripleoclient~master~Ia32acda4f22d99ada07291aaf52c97c676d13dd4,openstack/python-tripleoclient,master,Ia32acda4f22d99ada07291aaf52c97c676d13dd4,Set portmap cidr fields to extracted CIDR,MERGED,2020-06-24 18:35:17.000000000,2020-07-06 17:08:24.000000000,2020-07-06 17:05:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-24 18:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e1ae206db484c49183bebcb3b4c91718eab819a', 'message': ""Set portmap cidr fields to extracted CIDR\n\nPreviously were just getting the address+mask which doesn't work well\nfor some uses.\n\nChange-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n""}, {'number': 2, 'created': '2020-06-24 18:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/abe8c929c30cc8a0bac5b0234c21ee365d479452', 'message': ""Set portmap cidr fields to extracted CIDR\n\nPreviously were just getting the address+mask which doesn't work well\nfor some uses.\n\nChange-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n""}, {'number': 3, 'created': '2020-06-24 18:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86fa19dbc7c18c79d3cfb19e73a7b55ac0891046', 'message': ""Set portmap cidr fields to extracted CIDR\n\nPreviously were just getting the address+mask which doesn't work well\nfor some uses.\n\nRelated-Bug: #1883692\nChange-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n""}, {'number': 4, 'created': '2020-06-25 12:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f541ea2397eff110ddd4f0db93e729e6ea287fe1', 'message': ""Set portmap cidr fields to extracted CIDR\n\nPreviously were just getting the address+mask which doesn't work well\nfor some uses.\n\nRelated-Bug: #1883692\nChange-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n""}, {'number': 5, 'created': '2020-06-26 12:03:43.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/921bcef209626e9668a3de32ad526151e49a5d4d', 'message': ""Set portmap cidr fields to extracted CIDR\n\nPreviously were just getting the address+mask which doesn't work well\nfor some uses.\n\nRelated-Bug: #1883692\nChange-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4\n""}]",1,737859,921bcef209626e9668a3de32ad526151e49a5d4d,18,4,5,6681,,,0,"Set portmap cidr fields to extracted CIDR

Previously were just getting the address+mask which doesn't work well
for some uses.

Related-Bug: #1883692
Change-Id: Ia32acda4f22d99ada07291aaf52c97c676d13dd4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/737859/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,4e1ae206db484c49183bebcb3b4c91718eab819a,bug/1883692," 'subnets': [{'cidr': str(ip_nw.cidr)}], 'subnets': [{'cidr': str(ip_nw.cidr)}], 'subnets': [{'cidr': str(ip_nw.cidr)}],"," 'subnets': [{'cidr': str(ip_nw)}], 'subnets': [{'cidr': str(ip_nw)}], 'subnets': [{'cidr': str(ip_nw)}],",3,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/train,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:21:04.000000000,2020-07-06 17:05:24.000000000,2020-07-06 17:05:24.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 13:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95a929143cc0dc6f2f4c27de2250782e9b1150fd', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n""}, {'number': 2, 'created': '2020-07-03 06:43:42.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f930e3a50a1053510fe904af4d32aec3344f6d75', 'message': 'Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default \'+sbwt none\'.\n\nLet\'s do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nSince the original master change had an issue when the THT parameter\nwas unset (aka when I567839785a72813a382a00253562894e19eb6715 was not\napplied to THT), we also add the subsequent fixup ""Make the additional_erl_args\nchange more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to\nthis change)\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n'}]",0,738618,f930e3a50a1053510fe904af4d32aec3344f6d75,17,4,2,20172,,,0,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/18/738618/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,95a929143cc0dc6f2f4c27de2250782e9b1150fd,fix-override-stable/ussuri-stable/train,"# [*additional_erl_args*] # (Optional) Additional string to be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS # Defaults to undef # $additional_erl_args = undef, # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate} ${additional_erl_args_real}\"""" if $additional_erl_args != undef { # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real}\"""" $environment_real = merge($environment, { 'RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, }) } else { $environment_real = $environment }"," $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate}\"""" $environment_real = $environment",21,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I96453d9236cb92922b058d697be8d8696f279c66,openstack/tripleo-ansible,stable/ussuri,I96453d9236cb92922b058d697be8d8696f279c66,Prepare tripleo deps repo in tripleo_client_install molecule job,MERGED,2020-07-06 11:01:12.000000000,2020-07-06 17:03:34.000000000,2020-07-06 17:03:33.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-06 11:01:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_clients_install/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b0868e46cbc935e4fa1d55e216d8df823908963', 'message': 'Prepare tripleo deps repo in tripleo_client_install molecule job\n\nChange-Id: I96453d9236cb92922b058d697be8d8696f279c66\nCloses-Bug: #1884696\n(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)\n'}]",0,739462,3b0868e46cbc935e4fa1d55e216d8df823908963,8,3,1,9816,,,0,"Prepare tripleo deps repo in tripleo_client_install molecule job

Change-Id: I96453d9236cb92922b058d697be8d8696f279c66
Closes-Bug: #1884696
(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/739462/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_clients_install/molecule/default/prepare.yml'],1,3b0868e46cbc935e4fa1d55e216d8df823908963,bug/1884696, vars: test_deps_setup_tripleo: true,,2,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,stable/ussuri,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-07-03 13:58:41.000000000,2020-07-06 17:03:32.000000000,2020-07-06 17:03:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:58:41.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ed776dc0ae323c22f99cab2849207e2fe70746f', 'message': 'Handle unreachable\n\nWe forgot to handle unreachable errors.\n\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to\nconnect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:\nNo route to host"", ""unreachable"": true}\n\nChange-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049\n(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)\n'}]",0,739239,2ed776dc0ae323c22f99cab2849207e2fe70746f,7,5,1,3153,,,0,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/739239/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,2ed776dc0ae323c22f99cab2849207e2fe70746f,callback-improvements-stable/ussuri," def v2_runner_on_unreachable(self, result): line = [ self._get_uuid(result), self._get_state('UNREACHABLE'), self._get_task_name(result), self._get_host(result=result) ] item_result = self._get_item_label(result._result) # don't display if None if item_result: line.append('item=%s' % item_result) self._output(line, C.COLOR_UNREACHABLE) ",,13,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,stable/train,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-07-03 13:58:50.000000000,2020-07-06 17:03:31.000000000,2020-07-06 17:03:30.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:58:50.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c53bf61d985f55c0efa2a0d451354d399a892d0f', 'message': 'Handle unreachable\n\nWe forgot to handle unreachable errors.\n\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to\nconnect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:\nNo route to host"", ""unreachable"": true}\n\nChange-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049\n(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)\n'}]",0,739240,c53bf61d985f55c0efa2a0d451354d399a892d0f,7,5,1,3153,,,0,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
(cherry picked from commit ffe694808e47957340b4dbc3a17581239243880a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/739240/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,c53bf61d985f55c0efa2a0d451354d399a892d0f,callback-improvements-stable/train," def v2_runner_on_unreachable(self, result): line = [ self._get_uuid(result), self._get_state('UNREACHABLE'), self._get_task_name(result), self._get_host(result=result) ] item_result = self._get_item_label(result._result) # don't display if None if item_result: line.append('item=%s' % item_result) self._output(line, C.COLOR_UNREACHABLE) ",,13,0
openstack%2Fironic~stable%2Ftrain~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/train,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:35:57.000000000,2020-07-06 16:52:17.000000000,2020-07-06 16:48:07.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 12:35:57.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/94d74f2de5e4873af3ced4c897f583dd4d3a70dd', 'message': 'Clean up nodes in DELETING on conductor restart\n\nChange-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d\n(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)\n'}]",0,739473,94d74f2de5e4873af3ced4c897f583dd4d3a70dd,9,4,1,10239,,,0,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/739473/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py']",5,94d74f2de5e4873af3ced4c897f583dd4d3a70dd,deleting-stable/train," ADOPTING, RESCUING, UNRESCUING, DELETING)machine.add_transition(DELETING, ERROR, 'fail')"," ADOPTING, RESCUING, UNRESCUING)machine.add_transition(DELETING, ERROR, 'error')",9,4
openstack%2Fironic-inspector~master~I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9,openstack/ironic-inspector,master,I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9,Prepare release notes for release 10.2,MERGED,2020-07-02 15:58:32.000000000,2020-07-06 16:52:11.000000000,2020-07-06 16:48:06.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a63c1e92b426f19fa707ead7dfdbabd6848ad477', 'message': 'Prepare release notes and docs for release 10.2\n\nChange-Id: I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9\n'}, {'number': 2, 'created': '2020-07-02 16:12:54.000000000', 'files': ['releasenotes/notes/accept-link-local-address-1fbb9cbdc3f980bb.yaml', 'releasenotes/notes/http-basic-auth-fbe1da9669f5388c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/79878d7f4db1307f9e3322d96ccc0af984577236', 'message': 'Prepare release notes for release 10.2\n\nChange-Id: I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9\n'}]",0,739081,79878d7f4db1307f9e3322d96ccc0af984577236,9,3,2,23851,,,0,"Prepare release notes for release 10.2

Change-Id: I35b5df4b7e3d519c8b567d5cf0d424aafee68fa9
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/81/739081/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/accept-link-local-address-1fbb9cbdc3f980bb.yaml', 'releasenotes/notes/http-basic-auth-fbe1da9669f5388c.yaml']",2,a63c1e92b426f19fa707ead7dfdbabd6848ad477,prep-renotes, When the config option ``[DEFAULT]auth_strategy`` is set to ``http_basic`` then non-public API calls require a valid HTTP Basic authentication header to be set. The config option ``[DEFAULT]http_basic_auth_user_file`` defaults to ``/etc/ironic-inspector/htpasswd`` and points to a file that supports the * Set ``/etc/ironic-inspector/inspector.conf`` ``[DEFAULT]auth_strategy``, When the config option ``auth_strategy`` is set to ``http_basic`` then non-public API calls require a valid HTTP Basic authentication header to be set. The config option ``http_basic_auth_user_file`` defaults to ``/etc/ironic-inspector/htpasswd`` and points to a file which supports the * Set ``/etc/ironic-inspector/inspector.conf`` ``DEFAULT`` ``auth_strategy``,8,7
openstack%2Fpython-ironicclient~master~If462d6a5e2304ebc6647087cad89007fe2576acb,openstack/python-ironicclient,master,If462d6a5e2304ebc6647087cad89007fe2576acb,Remove pypy,MERGED,2020-07-03 13:55:34.000000000,2020-07-06 16:51:44.000000000,2020-07-06 16:48:09.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-03 13:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3cf8f5bd58530457e799cf79ffbbaf856f7ab0a8', 'message': 'Remove pypy\n\nPypy is not tested in OpenStack anymore, remove the job.\n\nChange-Id: If462d6a5e2304ebc6647087cad89007fe2576acb\n'}, {'number': 2, 'created': '2020-07-03 14:28:53.000000000', 'files': ['doc/source/contributor/testing.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f1f10385fad74c653c47781489ce4fc5f5a590ef', 'message': 'Remove pypy\n\nPypy is not tested in OpenStack anymore, remove the job.\n\nChange-Id: If462d6a5e2304ebc6647087cad89007fe2576acb\n'}]",3,739235,f1f10385fad74c653c47781489ce4fc5f5a590ef,14,5,2,26285,,,0,"Remove pypy

Pypy is not tested in OpenStack anymore, remove the job.

Change-Id: If462d6a5e2304ebc6647087cad89007fe2576acb
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/35/739235/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'tox.ini']",2,3cf8f5bd58530457e799cf79ffbbaf856f7ab0a8,,"envlist = py3,pep8","envlist = py3,pep8,pypy",2,2
openstack%2Fironic-python-agent~master~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,master,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-02 10:19:39.000000000,2020-07-06 16:51:37.000000000,2020-07-06 16:47:57.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-02 10:19:39.000000000', 'files': ['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a4855c544cac35e92ce7c20143536ca7a3bb847a', 'message': 'Fix serializing ironic-lib exceptions\n\nChange-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e\nStory: #2007889\nTask: #40268\n'}]",0,739005,a4855c544cac35e92ce7c20143536ca7a3bb847a,11,4,1,10239,,,0,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/05/739005/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py']",3,a4855c544cac35e92ce7c20143536ca7a3bb847a,lib-exc,"from ironic_lib import exception as lib_exc def serialize_lib_exc(exc): """"""Serialize an ironic-lib exception."""""" return {'type': exc.__class__.__name__, 'code': exc.code, 'message': str(exc), 'details': ''} elif isinstance(o, lib_exc.IronicException): return serialize_lib_exc(o)",,39,0
openstack%2Fglance~master~Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b,openstack/glance,master,Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b,Update lower-constraints versions,MERGED,2020-06-09 18:29:59.000000000,2020-07-06 16:41:59.000000000,2020-07-06 16:37:59.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 18:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e914fe06940469b02e797ecb0dd4c3dbc3c28e0', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-03 18:32:35.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/9eb562ebfa68bc419a82c05d1f96c8477322e25a', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,734665,9eb562ebfa68bc419a82c05d1f96c8477322e25a,13,5,2,11904,,,0,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: Ie3698c7334b31c2291b41fd3f7e21add0dd6a19b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/65/734665/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,3e914fe06940469b02e797ecb0dd4c3dbc3c28e0,lower-constraints,cffi==1.13.2defusedxml==0.6.0 dnspython==1.16.0entrypoints==0.3 eventlet==0.25.1kombu==4.3.0monotonic==1.5oslo.db==5.0.0pika-pool==0.1.3 positional==1.2.1pyperclip==1.8.0sqlalchemy-migrate==0.11.0,alabaster==0.7.10certifi==2018.1.18 cffi==1.11.5defusedxml==0.5.0dogpile.cache==0.6.5 dulwich==0.19.0 enum-compat==0.0.2 eventlet==0.22.0gitdb2==2.0.3 GitPython==2.1.8imagesize==1.0.0kombu==4.1.0mccabe==0.2.1os-api-ref==1.4.0os-testr==1.0.0oslo.cache==1.29.0oslo.db==4.27.0pika-pool==0.1.3pyperclip==1.6.0qpid-python==0.26smmap2==2.0.3 snowballstemmer==1.2.1 sqlalchemy-migrate==0.11.0urllib3==1.22whereto===0.3.0,15,28
openstack%2Frequirements~master~I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed,openstack/requirements,master,I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed,update constraint for os-traits to new release 2.4.0,MERGED,2020-07-03 13:05:42.000000000,2020-07-06 16:41:41.000000000,2020-07-06 16:37:56.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 13:05:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55771bbaa143dd12e351d90a1b1294b045077fa9', 'message': 'update constraint for os-traits to new release 2.4.0\n\nChange-Id: I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed\nmeta:version: 2.4.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lin Yang <lin.a.yang@intel.com>\nmeta:release:Commit: Lin Yang <lin.a.yang@intel.com>\nmeta:release:Change-Id: I0786e73160f0ecac604279c79334d4f697d0edde\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,739225,55771bbaa143dd12e351d90a1b1294b045077fa9,14,4,1,11131,,,0,"update constraint for os-traits to new release 2.4.0

Change-Id: I7181a0b198b9f3f3140dd16d2a1ee15ab76e46ed
meta:version: 2.4.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lin Yang <lin.a.yang@intel.com>
meta:release:Commit: Lin Yang <lin.a.yang@intel.com>
meta:release:Change-Id: I0786e73160f0ecac604279c79334d4f697d0edde
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/739225/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,55771bbaa143dd12e351d90a1b1294b045077fa9,new-release,os-traits===2.4.0,os-traits===2.3.0,1,1
openstack%2Fglance~stable%2Fussuri~I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,openstack/glance,stable/ussuri,I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,Fix: Interrupted copy-image leaking data on subsequent operation,MERGED,2020-07-06 05:43:06.000000000,2020-07-06 16:41:35.000000000,2020-07-06 16:37:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 05:43:06.000000000', 'files': ['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/copy_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/72510f9ce90970e75a95492c7647fd63ac2636dc', 'message': 'Fix: Interrupted copy-image leaking data on subsequent operation\n\nIf copying existing image in other stores fails while staging the data to\nstaging directory due to power, network or any other reason. Then\nsubsequent try may lead to data leaks in stores.\n\nTo fix this, added check of the actual image size with the size\nof image file present in the staging area. If it does not match\nthen delete the image file from staging area so that the entire\nimage will be staged again.\n\nChange-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da\nCloses-Bug: #1885003\n(cherry picked from commit 22d8f1fcbf4325d79ac18adfe87198c785f1df52)\n'}]",0,739403,72510f9ce90970e75a95492c7647fd63ac2636dc,9,4,1,9303,,,0,"Fix: Interrupted copy-image leaking data on subsequent operation

If copying existing image in other stores fails while staging the data to
staging directory due to power, network or any other reason. Then
subsequent try may lead to data leaks in stores.

To fix this, added check of the actual image size with the size
of image file present in the staging area. If it does not match
then delete the image file from staging area so that the entire
image will be staged again.

Change-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da
Closes-Bug: #1885003
(cherry picked from commit 22d8f1fcbf4325d79ac18adfe87198c785f1df52)
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/739403/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/copy_image.py']",2,72510f9ce90970e75a95492c7647fd63ac2636dc,bug/1885003-stable/ussuri," # NOTE (abhishekk): If previous copy-image operation is failed # due to power failure, network failure or any other reason and # the image data here is partial then clear the staging area and # re-stage the fresh image data. # Ref: https://bugs.launchpad.net/glance/+bug/1885003 size_in_staging = os.path.getsize(file_path) if image.size == size_in_staging: return file_path, 0 else: LOG.debug((""Found partial image data in staging "" ""%(fn)s, deleting it to re-stage "" ""again""), {'fn': file_path}) try: os.unlink(file_path) except OSError as e: LOG.error(_LE(""Deletion of staged "" ""image data from %(fn)s has failed because "" ""[Errno %(en)d]""), {'fn': file_path, 'en': e.errno}) raise"," return file_path, 0",82,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I08c4562308a5a5ce93e64a7485ab207af2241565,openstack/tripleo-heat-templates,stable/stein,I08c4562308a5a5ce93e64a7485ab207af2241565,Fix typo in setting octavia wsgi server name,MERGED,2020-07-03 13:52:07.000000000,2020-07-06 16:30:03.000000000,2020-07-06 16:30:03.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:52:07.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1bcec1eaa184ef3b935f082cc465227e72d2ca', 'message': ""Fix typo in setting octavia wsgi server name\n\nhiera was being set as server_name when it should've been servername.\n\nChange-Id: I08c4562308a5a5ce93e64a7485ab207af2241565\nCloses-Bug: #1877130\n(cherry picked from commit dac08c4f0ebc79d0003a6a4610bbc240a808da22)\n(cherry picked from commit 51565c0c3d2340c18b8e81cc540720fb711c6dad)\n""}]",0,739233,ec1bcec1eaa184ef3b935f082cc465227e72d2ca,7,3,1,6681,,,0,"Fix typo in setting octavia wsgi server name

hiera was being set as server_name when it should've been servername.

Change-Id: I08c4562308a5a5ce93e64a7485ab207af2241565
Closes-Bug: #1877130
(cherry picked from commit dac08c4f0ebc79d0003a6a4610bbc240a808da22)
(cherry picked from commit 51565c0c3d2340c18b8e81cc540720fb711c6dad)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/739233/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,ec1bcec1eaa184ef3b935f082cc465227e72d2ca,bug/1877130, octavia::wsgi::apache::servername:, octavia::wsgi::apache::server_name:,1,1
openstack%2Fopenstack-ansible~master~Icb4b196745c5b20d354298674e8918c6e3449d16,openstack/openstack-ansible,master,Icb4b196745c5b20d354298674e8918c6e3449d16,Update repo location for networking-calico,ABANDONED,2020-05-27 08:29:42.000000000,2020-07-06 16:29:53.000000000,,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-05-27 08:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d19d0172b1f436951e8dd38bf568d4bb6a5ff742', 'message': 'Update repo location for networking-calico\n\nChange-Id: Icb4b196745c5b20d354298674e8918c6e3449d16\n'}, {'number': 2, 'created': '2020-05-28 05:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af8937ba2ffc14816082f389d62c03775cd821a4', 'message': 'Update repo location for networking-calico\n\nnetworking-calico is moved out of openstack_services.yml to so that\nwe clone the upstream role rather than try to find the repo pre-installed\nin the zuul CI image.\n\nChange-Id: Icb4b196745c5b20d354298674e8918c6e3449d16\n'}, {'number': 3, 'created': '2020-05-28 06:31:07.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/defaults/repo_packages/networking_calico.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff11f9b2c5f701f43552e817a2c6458ed9025c7e', 'message': 'Update repo location for networking-calico\n\nnetworking-calico is moved out of openstack_services.yml to so that\nwe clone the upstream role rather than try to find the repo pre-installed\nin the zuul CI image.\n\nChange-Id: Icb4b196745c5b20d354298674e8918c6e3449d16\n'}]",0,731109,ff11f9b2c5f701f43552e817a2c6458ed9025c7e,8,4,3,25023,,,0,"Update repo location for networking-calico

networking-calico is moved out of openstack_services.yml to so that
we clone the upstream role rather than try to find the repo pre-installed
in the zuul CI image.

Change-Id: Icb4b196745c5b20d354298674e8918c6e3449d16
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/731109/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,d19d0172b1f436951e8dd38bf568d4bb6a5ff742,,networking_calico_git_repo: https://github.com/projectcalico/networking-calico networking_calico_git_install_branch: master,networking_calico_git_repo: https://opendev.org/openstack/networking-calico networking_calico_git_install_branch: 3.11.1 # HEAD as of 12.01.2020,2,2
openstack%2Ftripleo-heat-templates~master~I535d8360493267d50196aebb6365124b67e9ba78,openstack/tripleo-heat-templates,master,I535d8360493267d50196aebb6365124b67e9ba78,Move sidecar kill scripts to host prep,MERGED,2020-06-17 15:52:39.000000000,2020-07-06 16:29:19.000000000,2020-07-04 00:45:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-17 15:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/510fd69f0fb2bba1584eb328361489817e304de4', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 2, 'created': '2020-06-17 16:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/182eba2b07b707fd754356702cb5550c87e32f0f', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 3, 'created': '2020-06-17 18:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31472c7507100874f4b57bcc2b410898d4afbe1a', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 4, 'created': '2020-06-17 18:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bc2892d62a8ce0cd75ddcb3d5ca2e11d9573fc5', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 5, 'created': '2020-06-17 18:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f45f4b95933f515f8b6360e1619f27c4b14eb67', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 6, 'created': '2020-06-17 19:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f30f5547ea53e7e1bccd7163cda150010020b942', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 7, 'created': '2020-06-18 10:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d3f3e2960d4abb79844ed8e08ec56ca993f0bba', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 8, 'created': '2020-06-22 12:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fcb0b69d01c73bf5f49d858c14f38d445e6365d', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 9, 'created': '2020-06-25 00:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07c8469d7fdf532cc42bc8c3b41073dedfabae18', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}, {'number': 10, 'created': '2020-07-02 21:06:04.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/230481674ffd577ed83573daa28b6d3e0ef57637', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n'}]",1,736279,230481674ffd577ed83573daa28b6d3e0ef57637,36,7,10,14985,,,0,"Move sidecar kill scripts to host prep

These tasks are really should be managed a single time against the host
rather than at deployment time.

Change-Id: I535d8360493267d50196aebb6365124b67e9ba78
Related-Bug: #1883609
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/736279/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml']",3,510fd69f0fb2bba1584eb328361489817e304de4,bug/1883609, - name: remove temp namespace - name: create /var/lib/neutron - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script}, deploy_steps_tasks: - name: Create sidecar container scripts become: true when: step|int == 1 block: - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script} - - name: remove temp namespace - - name: create /var/lib/neutron,93,108
openstack%2Fansible-role-tripleo-modify-image~master~I8391e02456a304d4e29256cbbf5433879c6c42b1,openstack/ansible-role-tripleo-modify-image,master,I8391e02456a304d4e29256cbbf5433879c6c42b1,rpm_install: return 0 if package was already installed,MERGED,2020-07-03 12:57:09.000000000,2020-07-06 16:28:54.000000000,2020-07-06 16:28:53.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 12:57:09.000000000', 'files': ['files/rpm_install.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/affe2c3e71f87951302e48b0dd0789293cef4c53', 'message': 'rpm_install: return 0 if package was already installed\n\nCurrently, if the package was already installed, the script would return\n2, or 6 or the package would be upgraded.\nIt causes the script to fail (we use set -e); so to avoid that we added\n--replacepkgs --replacefiles and --oldpackage arguments to rpm.\n\n- Install the packages even if some of them are already installed on\n  this system.\n- Install the packages even if they replace files from other, already\n  installed, packages.\n- Allow an upgrade to replace a newer package with an older one.\n\nChange-Id: I8391e02456a304d4e29256cbbf5433879c6c42b1\n'}]",1,739224,affe2c3e71f87951302e48b0dd0789293cef4c53,8,4,1,3153,,,0,"rpm_install: return 0 if package was already installed

Currently, if the package was already installed, the script would return
2, or 6 or the package would be upgraded.
It causes the script to fail (we use set -e); so to avoid that we added
--replacepkgs --replacefiles and --oldpackage arguments to rpm.

- Install the packages even if some of them are already installed on
  this system.
- Install the packages even if they replace files from other, already
  installed, packages.
- Allow an upgrade to replace a newer package with an older one.

Change-Id: I8391e02456a304d4e29256cbbf5433879c6c42b1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/24/739224/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rpm_install.sh'],1,affe2c3e71f87951302e48b0dd0789293cef4c53,force,rpm --replacepkgs --replacefiles --oldpackage -Uvh /tmp/*.rpm,rpm -Uvh /tmp/*.rpm,1,1
openstack%2Fopenstack-ansible~master~I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d,openstack/openstack-ansible,master,I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d,Remove python2 or python3 problem pip packages,ABANDONED,2020-03-19 11:17:21.000000000,2020-07-06 16:22:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-19 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/666016d03cbe4d62ec4cbaf81bccdcdc32245fb5', 'message': 'Remove python2 or python3 problem pip packages\n\nUnify the approach with the openstack-ansible-tests repo - see\nhttps://review.opendev.org/712069\n\nChange-Id: I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d\n'}, {'number': 2, 'created': '2020-03-30 11:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5305a1349c0d87883c495cb1fa5f9f583c13717a', 'message': 'Remove python2 or python3 problem pip packages\n\nUnify the approach with the openstack-ansible-tests repo - see\nhttps://review.opendev.org/712069\n\nChange-Id: I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d\n'}, {'number': 3, 'created': '2020-03-30 14:25:23.000000000', 'files': ['zuul.d/playbooks/vars/redhat.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/974a24b22fe26a05801aa2fa515f0b66257bdb2a', 'message': 'Remove python2 or python3 problem pip packages\n\nUnify the approach with the openstack-ansible-tests repo - see\nhttps://review.opendev.org/712069\n\nChange-Id: I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d\n'}]",1,713849,974a24b22fe26a05801aa2fa515f0b66257bdb2a,11,2,3,25023,,,0,"Remove python2 or python3 problem pip packages

Unify the approach with the openstack-ansible-tests repo - see
https://review.opendev.org/712069

Change-Id: I620c035ab5a4d1a8ee4de5885c8be3b81a10aa4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/713849/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/vars/redhat.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml']",2,666016d03cbe4d62ec4cbaf81bccdcdc32245fb5,," - name: Check if pip2 is installed command: 'which pip2' register: pip2_installed changed_when: false failed_when: pip2_installed.rc > 1 - name: Check if pip3 is installed command: 'which pip3' register: pip3_installed changed_when: false failed_when: pip3_installed.rc > 1 executable: ""{{ item }}"" - backports register: pip_remove when: (pip2_installed.rc == 0) or (pip3_installed.rc == 0) with_items: - ""{{ (pip2_installed.rc == 0) | ternary('pip2', []) }}"" - ""{{ (pip3_installed.rc == 0) | ternary('pip3', []) }}""", - backports,20,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I5d24aadb39070ce06808b9674048efe49d33894c,openstack/openstack-ansible-openstack_hosts,master,I5d24aadb39070ce06808b9674048efe49d33894c,Use ansible-runtime python to drop hosts file,ABANDONED,2020-02-20 22:45:36.000000000,2020-07-06 16:21:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-20 22:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8b831373aabd26a2d651b78099520088ded6b564', 'message': 'Use ansible-runtime python to drop hosts file\n\nChange-Id: I5d24aadb39070ce06808b9674048efe49d33894c\n'}, {'number': 2, 'created': '2020-02-21 09:12:00.000000000', 'files': ['tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/089426a94326b425df95149399baf3377457f47f', 'message': 'Use ansible-runtime python to drop hosts file\n\nChange-Id: I5d24aadb39070ce06808b9674048efe49d33894c\n'}]",0,708989,089426a94326b425df95149399baf3377457f47f,6,2,2,25023,,,0,"Use ansible-runtime python to drop hosts file

Change-Id: I5d24aadb39070ce06808b9674048efe49d33894c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/89/708989/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_update_hosts_file.yml'],1,8b831373aabd26a2d651b78099520088ded6b564,," ansible_python_interpreter: ""/opt/ansible-runtime/python"""," ansible_python_interpreter: >- ""{{ (hostvars['localhost']['ansible_distribution'] == 'CentOS' and hostvars['localhost']['ansible_distribution_major_version'] is version('7', '<=')) | ternary('/usr/bin/python', '/usr/bin/python3') }}""",1,4
openstack%2Fopenstack-ansible-plugins~master~I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff,openstack/openstack-ansible-plugins,master,I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff,Remove physical_host_addrs parameter from ssh plugin,ABANDONED,2020-06-22 06:51:58.000000000,2020-07-06 16:21:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-22 06:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1ba62eb92188dcc825ddca58fbf5383654a03dc0', 'message': 'Remove debug output from linear strategy plugin\n\nThis accounts for nearly 50% of the runtime on a re-run of\nplaybooks/lxc-container-create.yml on an already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 2, 'created': '2020-06-22 13:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/58740d173b78de0951ad7100ba2dae93afaf4b7b', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 3, 'created': '2020-06-22 16:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ba2a2b764baae0b8138f31627e98114ace8968d2', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 4, 'created': '2020-06-22 17:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/39874b2344292e3e73f5013d9bf79679366753d3', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 5, 'created': '2020-06-22 17:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fd046ff4141135dc3db3a65e946b02ce319356c0', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 6, 'created': '2020-06-22 18:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/12311d36bcfaf65cddc3cce96cae6994f06fde5d', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 7, 'created': '2020-06-22 19:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/4dde1e6d9964dd72efb5dea0b9c0295a25eb9e81', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 8, 'created': '2020-06-22 19:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/90f8e33d84028b1de8dbd8a993e2e04f904071ac', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}, {'number': 9, 'created': '2020-06-23 05:50:35.000000000', 'files': ['strategy/linear.py', 'tests/test-connection-plugin.yml', 'connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/2e4b4010590a5ec6413f790217cfec89440aadbd', 'message': 'Remove physical_host_addrs parameter from ssh plugin\n\nThis is not used anywhere in OSA and accounts for nearly 50% of\nthe runtime on a re-run of playbooks/lxc-container-create.yml on\nan already deployed AIO\n\nChange-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff\n'}]",0,737220,2e4b4010590a5ec6413f790217cfec89440aadbd,18,2,9,25023,,,0,"Remove physical_host_addrs parameter from ssh plugin

This is not used anywhere in OSA and accounts for nearly 50% of
the runtime on a re-run of playbooks/lxc-container-create.yml on
an already deployed AIO

Change-Id: I0be22f9ab4b0588203a462ce0d7c6c2bf21ffcff
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/20/737220/2 && git format-patch -1 --stdout FETCH_HEAD,['strategy/linear.py'],1,1ba62eb92188dcc825ddca58fbf5383654a03dc0,,," pha = task_vars['physical_host_addrs'] = dict() physical_host_items = [task_vars.get('physical_host')] physical_host_items.append(delegated_physical_host) for physical_host_item in physical_host_items: ph = self._inventory.get_host(physical_host_item) if ph: LINEAR.display.verbose( u'The ""physical_host"" variable of ""%s"" has been found to' u' have a corresponding host entry in inventory.' % physical_host_item, host=host, caplevel=0 ) physical_host_vars = self._variable_manager.get_vars(host=ph) for item in ['ansible_host', 'container_address', 'address']: addr = physical_host_vars.get(item) if addr: LINEAR.display.verbose( u'The ""physical_host"" variable of ""%s"" terminates' u' at ""%s"" using the host variable ""%s"".' % ( physical_host_item, addr, item ), host=host, caplevel=0 ) pha[ph.name] = addr break",0,29
openstack%2Ftripleo-heat-templates~master~I1d21db4af894c096d929863daabd08673592370c,openstack/tripleo-heat-templates,master,I1d21db4af894c096d929863daabd08673592370c,WIP: unset noout flag after node upgrade,ABANDONED,2020-07-06 16:17:59.000000000,2020-07-06 16:18:35.000000000,,[],"[{'number': 1, 'created': '2020-07-06 16:17:59.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91411dfc5fb8de6f936cb23ff3367a15376e390e', 'message': 'WIP: unset noout flag after node upgrade\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n'}]",0,739538,91411dfc5fb8de6f936cb23ff3367a15376e390e,2,0,1,6796,,,0,"WIP: unset noout flag after node upgrade

Change-Id: I1d21db4af894c096d929863daabd08673592370c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/739538/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,91411dfc5fb8de6f936cb23ff3367a15376e390e,," upgrade_tasks: - name: Reinstall ceph-common package which was removed in tripleo-packages-baremetal-puppet.yaml workaround package: name: - ceph-common state: present when: - step|int == 1 - ansible_distribution_major_version == '8' - name: Set noout flag command: ""{{ container_cli }} exec -u root ceph-mon-${HOSTNAME} ceph osd set noout"" tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled delegate_to: ""{{ ok ceph_mon_short_bootstrap_node_name }}"" post_upgrade_tasks: - name: Unset noout flag command: ""{{ container_cli }} exec -u root ceph-mon-${HOSTNAME} ceph osd unset noout"" when: step|int == 2 become: true delegate_to: ""{{ ceph_mon_short_bootstrap_node_name }}""", upgrade_tasks: [],25,1
openstack%2Fpuppet-tripleo~master~Idf106c9ffa23ed00c497e1e5014e1b5718254320,openstack/puppet-tripleo,master,Idf106c9ffa23ed00c497e1e5014e1b5718254320,Ensure that the HAProxy certificate is updated,MERGED,2020-04-24 15:33:32.000000000,2020-07-06 16:17:02.000000000,2020-07-04 02:04:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-24 15:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/93c6bffb3b06c5978e5f3611e058b4afff08bdb9', 'message': ""Ensure that the HAProxy certificate is updated\n\nWhile doing research for this bugzilla[1] I found that since the\nactual certificate PEM file is being bind mounted the mount is acting\nas a hard link to the inode of the PEM rather than just a pointer to\nit's location in the directory.  When the new file is copied over the\ninode is updated but the container still maintains a link to the stale\ninode.  This patch copies the contents of the certificate into the\ncontainer so that the HUP of HAProxy will reload the certificate.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839\n\nChange-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320\nCloses-Bug: 1871663\n""}, {'number': 2, 'created': '2020-07-03 13:53:38.000000000', 'files': ['files/certmonger-haproxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c1e09672a52fea82d853d17145901109291ac1f1', 'message': ""Ensure that the HAProxy certificate is updated\n\nWhile doing research for this bugzilla[1] I found that since the\nactual certificate PEM file is being bind mounted the mount is acting\nas a hard link to the inode of the PEM rather than just a pointer to\nit's location in the directory.  When the new file is copied over the\ninode is updated but the container still maintains a link to the stale\ninode.  This patch copies the contents of the certificate into the\ncontainer so that the HUP of HAProxy will reload the certificate.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839\n\nChange-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320\nCloses-Bug: 1871663\n""}]",0,722877,c1e09672a52fea82d853d17145901109291ac1f1,16,6,2,7414,,,0,"Ensure that the HAProxy certificate is updated

While doing research for this bugzilla[1] I found that since the
actual certificate PEM file is being bind mounted the mount is acting
as a hard link to the inode of the PEM rather than just a pointer to
it's location in the directory.  When the new file is copied over the
inode is updated but the container still maintains a link to the stale
inode.  This patch copies the contents of the certificate into the
container so that the HUP of HAProxy will reload the certificate.

[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839

Change-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320
Closes-Bug: 1871663
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/722877/2 && git format-patch -1 --stdout FETCH_HEAD,['files/certmonger-haproxy-refresh.sh'],1,93c6bffb3b06c5978e5f3611e058b4afff08bdb9,bug/1871663," # Refresh the cert at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls/$service_pem"" ",,3,0
openstack%2Fopenstack-ansible-plugins~master~I8b315efed26a22ae669432856eb1e7d994f4ab3,openstack/openstack-ansible-plugins,master,I8b315efed26a22ae669432856eb1e7d994f4ab3,Do not use paramkio transport for delegated tasks,MERGED,2020-06-22 06:51:58.000000000,2020-07-06 15:57:11.000000000,2020-07-06 15:50:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-22 06:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/6a4686b8bbc57cf32fe67c6b95ffe24e21b46feb', 'message': 'Do not use paramkio transport for delegated tasks\n\nThis saves 25s from the previous runtime of 4m21s for\nplaybooks/lxc-containers-create on an already deployed AIO.\n\nChange-Id: I8b315efed26a22ae669432856eb1e7d994f4ab37\n'}, {'number': 2, 'created': '2020-06-22 13:55:17.000000000', 'files': ['strategy/linear.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/15ee0011836a30dfeb30c8847b3487a7bb214d5c', 'message': 'Do not use paramkio transport for delegated tasks\n\nThis saves 25s from the previous runtime of 4m21s for\nplaybooks/lxc-containers-create on an already deployed AIO.\n\nChange-Id: I8b315efed26a22ae669432856eb1e7d994f4ab3\n'}]",0,737219,15ee0011836a30dfeb30c8847b3487a7bb214d5c,11,3,2,25023,,,0,"Do not use paramkio transport for delegated tasks

This saves 25s from the previous runtime of 4m21s for
playbooks/lxc-containers-create on an already deployed AIO.

Change-Id: I8b315efed26a22ae669432856eb1e7d994f4ab3
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/19/737219/2 && git format-patch -1 --stdout FETCH_HEAD,['strategy/linear.py'],1,6a4686b8bbc57cf32fe67c6b95ffe24e21b46feb,, play_context," To optimize transport reliability if a task is using a ""delegate_to"" stanza the connection method will change to paramiko if the connection option has been set at ""smart"", the Ansible 2.x default. Regardless of the connection method if a ""delegate_to"" is used the task will have pipelining disabled for the duration of that specific task. _play_context = copy.deepcopy(play_context) if task.delegate_to: # If a task uses delegation change the play_context # to use paramiko with pipelining disabled for this # one task on its collection of hosts. if _play_context.pipelining: _play_context.pipelining = False LINEAR.display.verbose( u'Because this is a task using ""delegate_to""' u' pipelining has been disabled. but will be' u' restored upon completion of this task.', host=host, caplevel=0 ) if _play_context.connection == 'smart': _play_context.connection = 'paramiko' LINEAR.display.verbose( u'Delegated task transport changing from' u' ""%s"" to ""%s"". The context will be restored' u' once the task has completed.' % ( _play_context.connection, _play_context.connection ), host=host, caplevel=0 ) _play_context",1,36
openstack%2Fpuppet-keystone~master~I8a7abed59468f93d48aa38a47ad4f72d994da79a,openstack/puppet-keystone,master,I8a7abed59468f93d48aa38a47ad4f72d994da79a,Deprecate keystone::cron::token_fush,MERGED,2020-07-05 23:42:05.000000000,2020-07-06 15:50:06.000000000,2020-07-06 15:44:43.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 23:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f2d7590bc5def9793feba0ef74270f6937f02e51', 'message': 'Deprecate keystone::cron::token_fush\n\n... because ``keystone-manage token_flush`` was already removed from\nkeystone[1].\n\n[1] https://github.com/openstack/keystone/commit/48dcdb5ad3ea47e923da3ab4a1572159d7cac6df\n\nChange-Id: I8a7abed59468f93d48aa38a47ad4f72d994da79a\n'}, {'number': 2, 'created': '2020-07-06 00:59:45.000000000', 'files': ['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'examples/apache_with_paths.pp', 'manifests/cron/token_flush.pp', 'releasenotes/notes/deprecate-cron-token_flush-b76a1db6715a818b.yaml', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/classes/keystone_cron_token_flush_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fd8badd39c04ca49ca4c49a6ce7cef26349d3960', 'message': 'Deprecate keystone::cron::token_fush\n\n... because ``keystone-manage token_flush`` was already removed from\nkeystone[1].\n\n[1] https://github.com/openstack/keystone/commit/48dcdb5ad3ea47e923da3ab4a1572159d7cac6df\n\nChange-Id: I8a7abed59468f93d48aa38a47ad4f72d994da79a\n'}]",0,739380,fd8badd39c04ca49ca4c49a6ce7cef26349d3960,12,4,2,9816,,,0,"Deprecate keystone::cron::token_fush

... because ``keystone-manage token_flush`` was already removed from
keystone[1].

[1] https://github.com/openstack/keystone/commit/48dcdb5ad3ea47e923da3ab4a1572159d7cac6df

Change-Id: I8a7abed59468f93d48aa38a47ad4f72d994da79a
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/80/739380/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'examples/apache_with_paths.pp', 'manifests/cron/token_flush.pp', 'releasenotes/notes/deprecate-cron-token_flush-b76a1db6715a818b.yaml', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/classes/keystone_cron_token_flush_spec.rb']",7,f2d7590bc5def9793feba0ef74270f6937f02e51,token-flush,,"require 'spec_helper' describe 'keystone::cron::token_flush' do let :params do {} end shared_examples 'keystone::cron::token_flush' do context 'with default parameters' do it { is_expected.to contain_class('keystone::deps') } it { is_expected.to contain_cron('keystone-manage token_flush').with( :ensure => 'present', :command => 'keystone-manage token_flush >>/var/log/keystone/keystone-tokenflush.log 2>&1', :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => 'keystone', :minute => 1, :hour => '*', :monthday => '*', :month => '*', :weekday => '*', :require => 'Anchor[keystone::install::end]', )} end context 'with overriden params' do before do params.merge!( :ensure => 'absent', :minute => 13, :hour => 23, :monthday => 3, :month => 4, :weekday => 2, :maxdelay => 600, :destination => '/tmp/tokenflush.log', :user => 'nobody' ) end it { is_expected.to contain_class('keystone::deps') } it { is_expected.to contain_cron('keystone-manage token_flush').with( :ensure => params[:ensure], :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; keystone-manage token_flush >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[keystone::install::end]', )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts({})) end it_behaves_like 'keystone::cron::token_flush' end end end ",25,117
openstack%2Fpuppet-keystone~master~Ic339b88708eb98a067530b9741301c3f2dafddd5,openstack/puppet-keystone,master,Ic339b88708eb98a067530b9741301c3f2dafddd5,Remove deprecated bootstrap code,MERGED,2020-06-18 14:32:40.000000000,2020-07-06 15:48:31.000000000,2020-07-06 15:44:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/798b7caff50018baa06ef484c347f8b88c3fea04', 'message': 'Remove deprecated bootstrap code\n\nRemoves all the deprecated code related to\nthe old admin token and bootstrap usage in\nfavor of the new keystone::bootstrap class.\n\nChange-Id: Ic339b88708eb98a067530b9741301c3f2dafddd5\n'}, {'number': 2, 'created': '2020-06-18 16:26:03.000000000', 'files': ['manifests/bootstrap.pp', 'spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/endpoint.pp', 'releasenotes/notes/remove-deprecated-bootstrap-2b81ba7a7b0b4d5d.yaml', 'spec/spec_helper.rb', 'manifests/init.pp', 'manifests/roles/admin.pp', 'spec/classes/keystone_wsgi_apache_spec.rb', 'spec/classes/keystone_federation_spec.rb', 'spec/classes/keystone_federation_openidc_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e421e3ad9cc1762727e2f836326653fb30998f75', 'message': 'Remove deprecated bootstrap code\n\nRemoves all the deprecated code related to\nthe old admin token and bootstrap usage in\nfavor of the new keystone::bootstrap class.\n\nChange-Id: Ic339b88708eb98a067530b9741301c3f2dafddd5\n'}]",0,736734,e421e3ad9cc1762727e2f836326653fb30998f75,20,4,2,16137,,,0,"Remove deprecated bootstrap code

Removes all the deprecated code related to
the old admin token and bootstrap usage in
favor of the new keystone::bootstrap class.

Change-Id: Ic339b88708eb98a067530b9741301c3f2dafddd5
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/34/736734/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/bootstrap.pp', 'spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/endpoint.pp', 'releasenotes/notes/remove-deprecated-bootstrap-2b81ba7a7b0b4d5d.yaml', 'spec/spec_helper.rb', 'manifests/init.pp', 'manifests/roles/admin.pp', 'spec/classes/keystone_federation_spec.rb', 'spec/classes/keystone_wsgi_apache_spec.rb', 'spec/classes/keystone_federation_openidc_spec.rb']",10,798b7caff50018baa06ef484c347f8b88c3fea04,736734, class { 'keystone': }," class { 'keystone': admin_token => 'service_token', }",40,365
openstack%2Fopenstack-ansible-os_horizon~stable%2Fussuri~If0f8b4a7442d8cd904337f802758e17aa3cb8da8,openstack/openstack-ansible-os_horizon,stable/ussuri,If0f8b4a7442d8cd904337f802758e17aa3cb8da8,Add Centos-8 support,MERGED,2020-07-03 16:17:18.000000000,2020-07-06 15:45:02.000000000,2020-07-06 15:43:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-03 16:17:18.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/57c10221fef3f9eb5ab8e448fbf0f4e58a760455', 'message': 'Add Centos-8 support\n\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n(cherry picked from commit 4c2cc73d571dd86303bc16063951c13bec8af8c5)\n'}]",0,739260,57c10221fef3f9eb5ab8e448fbf0f4e58a760455,8,4,1,28619,,,0,"Add Centos-8 support

Change-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8
(cherry picked from commit 4c2cc73d571dd86303bc16063951c13bec8af8c5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/60/739260/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,57c10221fef3f9eb5ab8e448fbf0f4e58a760455,osa/el8-stable/ussuri,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. horizon_system_service_name: httpd horizon_devel_distro_packages: - git - libxslt-devel - openssl - openssl-libs - pcre-devel horizon_distro_packages: - cronie - cronie-anacron - gettext - httpd - httpd-tools - mod_ssl - python3-mod_wsgi - which horizon_service_distro_packages: - openstack-designate-ui - openstack-heat-ui - openstack-ironic-ui - openstack-magnum-ui - openstack-manila-ui - openstack-sahara-ui - openstack-trove-ui - openstack-octavia-ui - python3-django-horizon - python3-memcached horizon_apache_conf: ""/etc/httpd/conf/httpd.conf"" horizon_apache_security_conf: ""{{ horizon_apache_conf }}"" horizon_apache_configs: - { src: ""horizon_apache_ports.conf.j2"", dest: ""/etc/httpd/conf.d/ports.conf"", owner: ""root"", group: ""root"" } - { src: ""openstack_dashboard.conf.j2"", dest: ""/etc/httpd/conf.d/openstack-dashboard.conf"", owner: ""root"", group: ""root"" } horizon_apache_default_sites: - ""/etc/httpd/conf.d/userdir.conf"" - ""/etc/httpd/conf.d/welcome.conf"" - ""/etc/httpd/conf.d/ssl.conf"" _horizon_lib_dir: ""/usr/share/openstack-dashboard"" horizon_dashboard_panel_dir: ""{{ _horizon_lib_dir }}/openstack_dashboard/local/enabled"" ",,60,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,stable/train,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 12:44:07.000000000,2020-07-06 15:44:29.000000000,2020-07-03 03:00:27.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-24 12:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15f06ec1bc182093bb5eaffabd9ca3a7f2881807', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)\n""}, {'number': 2, 'created': '2020-07-02 21:14:29.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7571039ff738e71ad19e60aa344c2e1ed0781b9', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)\n""}]",0,737761,c7571039ff738e71ad19e60aa344c2e1ed0781b9,20,8,2,18002,,,0,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/737761/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml']",2,15f06ec1bc182093bb5eaffabd9ca3a7f2881807,bug/1884816,"- import_tasks: create_ceph_ansible_remote_tmp.yml vars: ceph_ansible_remote_tmp: '/tmp/ceph_ansible_tmp' - ANSIBLE_REMOTE_TEMP=""{{ ceph_ansible_remote_tmp }}""", - ANSIBLE_REMOTE_TEMP=/tmp/ceph_ansible_tmp,69,1
openstack%2Ftripleo-ansible~master~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,master,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 00:11:06.000000000,2020-07-06 15:36:20.000000000,2020-06-24 16:08:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-24 00:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0722d72e87aafc339b561d1ded8dce1ed18932aa', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n""}, {'number': 2, 'created': '2020-06-24 03:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7759747356dd6c65c2db9c365b6f86ee906d920', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n""}, {'number': 3, 'created': '2020-06-24 09:09:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b440db7f69b1f0e69016ed5a409e84b6fab1f9d', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n""}]",12,737660,1b440db7f69b1f0e69016ed5a409e84b6fab1f9d,29,8,3,18002,,,0,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/737660/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml']",2,0722d72e87aafc339b561d1ded8dce1ed18932aa,bug/1884816,"- name: set ceph_ansible_remote_tmp set_fact: ceph_ansible_remote_tmp: '/tmp/ceph_ansible_tmp' - import_tasks: create_ceph_ansible_remote_tmp.yml - ANSIBLE_REMOTE_TEMP=""{{ ceph_ansible_remote_tmp }}""", - ANSIBLE_REMOTE_TEMP=/tmp/ceph_ansible_tmp,70,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/ussuri,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-02 08:40:14.000000000,2020-07-06 15:36:16.000000000,2020-07-06 15:36:16.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-02 08:40:14.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0993bed8557c621cf57be94a404ea7578cff356', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)\n'}]",0,738988,c0993bed8557c621cf57be94a404ea7578cff356,7,5,1,6816,,,0,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/738988/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",3,c0993bed8557c621cf57be94a404ea7578cff356,bug/1885637-stable/ussuri,,- name: Make sure ceph-ansible is installed if ceph is deployed package: name: ceph-ansible state: latest become: true become_user: root when: ceph_osd_enabled|bool ,12,9
openstack%2Ftripleo-quickstart-extras~master~I2518e622fb5e739057d0d9060b6163e73056a019,openstack/tripleo-quickstart-extras,master,I2518e622fb5e739057d0d9060b6163e73056a019,Bumps up default Ceph container images for Queens and Rocky,MERGED,2020-06-22 16:03:06.000000000,2020-07-06 15:36:15.000000000,2020-07-06 15:36:15.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-22 16:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58d4dfb3e5c4ff1aa8c5db3297aa75f4cde09eb9', 'message': 'Bumps up default Ceph container images for Queens and Rocky\n\nUpdates ceph/daemon image to 3.2.14 which backports important\ncompatibility changes to support upgrades to 4.x\n\nChange-Id: I2518e622fb5e739057d0d9060b6163e73056a019\nDepends-On: If370d85eead771305705ad798501e3947a1c6f4f\n'}, {'number': 2, 'created': '2020-06-29 09:43:48.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38943b7174e657d5a1a414bc37320e9a396a23f1', 'message': 'Bumps up default Ceph container images for Queens and Rocky\n\nUpdates ceph/daemon image to 3.2.14 which backports important\ncompatibility changes to support upgrades to 4.x\n\nChange-Id: I2518e622fb5e739057d0d9060b6163e73056a019\nDepends-On: If370d85eead771305705ad798501e3947a1c6f4f\n'}]",0,737306,38943b7174e657d5a1a414bc37320e9a396a23f1,20,5,2,6796,,,0,"Bumps up default Ceph container images for Queens and Rocky

Updates ceph/daemon image to 3.2.14 which backports important
compatibility changes to support upgrades to 4.x

Change-Id: I2518e622fb5e739057d0d9060b6163e73056a019
Depends-On: If370d85eead771305705ad798501e3947a1c6f4f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/06/737306/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,58d4dfb3e5c4ff1aa8c5db3297aa75f4cde09eb9,, v3.2.14-stable-3.2-luminous-centos-7-x86_64, v3.2.10-stable-3.2-luminous-centos-7-x86_64,1,1
openstack%2Fopenstack-ansible-os_heat~stable%2Fussuri~Id844f584b22e35ac154b1727a42522d73bf97670,openstack/openstack-ansible-os_heat,stable/ussuri,Id844f584b22e35ac154b1727a42522d73bf97670,Add Centos-8 support,MERGED,2020-07-03 16:17:24.000000000,2020-07-06 15:18:38.000000000,2020-07-06 15:16:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-03 16:17:24.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/d7e43d2cf6d22c6943c425d926107ed22095df95', 'message': 'Add Centos-8 support\n\nChange-Id: Id844f584b22e35ac154b1727a42522d73bf97670\n(cherry picked from commit 08d2b28bd2206d06b1607cb5be3c13fb52fca7bc)\n'}]",0,739261,d7e43d2cf6d22c6943c425d926107ed22095df95,8,4,1,28619,,,0,"Add Centos-8 support

Change-Id: Id844f584b22e35ac154b1727a42522d73bf97670
(cherry picked from commit 08d2b28bd2206d06b1607cb5be3c13fb52fca7bc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/61/739261/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,d7e43d2cf6d22c6943c425d926107ed22095df95,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Fdevstack~master~I9a4fab7848e5dba8a5b3b09a75e7aac213368706,openstack/devstack,master,I9a4fab7848e5dba8a5b3b09a75e7aac213368706,Fix string comparison,MERGED,2020-07-02 08:36:25.000000000,2020-07-06 15:17:06.000000000,2020-07-06 15:09:59.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 08:36:25.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8956006e519022bc9640476674e638c7dd080478', 'message': 'Fix string comparison\n\nString comparison should be included with square brackets.\n\nChange-Id: I9a4fab7848e5dba8a5b3b09a75e7aac213368706\n'}]",0,738984,8956006e519022bc9640476674e638c7dd080478,8,3,1,22997,,,0,"Fix string comparison

String comparison should be included with square brackets.

Change-Id: I9a4fab7848e5dba8a5b3b09a75e7aac213368706
",git fetch https://review.opendev.org/openstack/devstack refs/changes/84/738984/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,8956006e519022bc9640476674e638c7dd080478,string-comparison-fix," if [[ ""$DISTRO"" == 'bionic' ]]; then"," if ""$DISTRO"" == 'bionic'; then",1,1
openstack%2Fdevstack~master~I8484baa7398b28ed5ef62f86b55022c7d8703f56,openstack/devstack,master,I8484baa7398b28ed5ef62f86b55022c7d8703f56,Add neutron-ovn-tempest-ovs-release job to the check queue,MERGED,2020-06-16 20:30:54.000000000,2020-07-06 15:14:48.000000000,2020-07-06 15:09:55.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-16 20:30:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/744f50b970bf10f06e9d52de0b57d74ddcb18467', 'message': 'Add neutron-ovn-tempest-ovs-release job to the check queue\n\nDuring the Victoria cycle we plan to switch default Neutron backend in\nDevstack from OVS to OVN.\nAs first step before we will start discussion about this change with\nwhole community, we want to add tempest ovn based neutron job to\nthe devstack check queue so that we can keep verifying that with\ndevstack changes.\n\nChange-Id: I8484baa7398b28ed5ef62f86b55022c7d8703f56\n'}]",0,736021,744f50b970bf10f06e9d52de0b57d74ddcb18467,13,5,1,11975,,,0,"Add neutron-ovn-tempest-ovs-release job to the check queue

During the Victoria cycle we plan to switch default Neutron backend in
Devstack from OVS to OVN.
As first step before we will start discussion about this change with
whole community, we want to add tempest ovn based neutron job to
the devstack check queue so that we can keep verifying that with
devstack changes.

Change-Id: I8484baa7398b28ed5ef62f86b55022c7d8703f56
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/736021/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,744f50b970bf10f06e9d52de0b57d74ddcb18467,ovn-as-default-backend, - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$,,5,0
openstack%2Fdevstack~master~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,master,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 15:40:26.000000000,2020-07-06 15:09:57.000000000,2020-07-06 15:09:57.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-19 15:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5eebf21f68b28091ea7c389ca62e398322d368a2', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}, {'number': 2, 'created': '2020-06-19 20:32:11.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/264d2a2e5fecd7ae94a4a71087ca93ea9cc25109', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}]",0,737037,264d2a2e5fecd7ae94a4a71087ca93ea9cc25109,23,5,2,8556,,,0,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/737037/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst']",3,5eebf21f68b28091ea7c389ca62e398322d368a2,move-stackviz-role,"Generate stackviz report. Generate stackviz report using subunit and dstat data, using the stackviz archive embedded in test images. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. .. zuul:rolevar:: stage_dir :default: ""{{ ansible_user_dir }}"" The stage directory where the input data can be found and the output will be produced. .. zuul:rolevar:: zuul_work_dir :default: {{ devstack_base_dir }}/tempest Directory to work in. It has to be a fully qualified path. ",,95,0
openstack%2Fpuppet-ceilometer~master~I59b78c73f563964030eb2c0602f2a9ddfce3e518,openstack/puppet-ceilometer,master,I59b78c73f563964030eb2c0602f2a9ddfce3e518,Remove ceilometer::expirer,MERGED,2020-07-04 15:18:41.000000000,2020-07-06 15:04:45.000000000,2020-07-06 15:02:49.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 15:18:41.000000000', 'files': ['releasenotes/notes/remove-expirer-8b0054a56d806fc2.yaml', 'manifests/expirer.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/60f3d678d1d328a0db4aab127bd7c7839c7c62bf', 'message': 'Remove ceilometer::expirer\n\n... because it was deprecated in the previous cycle[1], and is useless\nsince ceilometer-expirer was removed from ceilometer.\n\n[1] 8a5ec2926068f1d67775fef3eab6a6e39de34a29\n\nChange-Id: I59b78c73f563964030eb2c0602f2a9ddfce3e518\n'}]",0,739305,60f3d678d1d328a0db4aab127bd7c7839c7c62bf,8,3,1,9816,,,0,"Remove ceilometer::expirer

... because it was deprecated in the previous cycle[1], and is useless
since ceilometer-expirer was removed from ceilometer.

[1] 8a5ec2926068f1d67775fef3eab6a6e39de34a29

Change-Id: I59b78c73f563964030eb2c0602f2a9ddfce3e518
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/05/739305/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-expirer-8b0054a56d806fc2.yaml', 'manifests/expirer.pp', 'README.md']",3,60f3d678d1d328a0db4aab127bd7c7839c7c62bf,remove-expirer,,class { 'ceilometer::expirer': },4,56
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Iba8c6e6b66480cdd575f75162c9be80e84ec868b,openstack/openstack-ansible-os_horizon,stable/train,Iba8c6e6b66480cdd575f75162c9be80e84ec868b,Display name in IDP dropdown,MERGED,2020-06-24 16:57:59.000000000,2020-07-06 14:57:35.000000000,2020-07-06 14:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-24 16:57:59.000000000', 'files': ['templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6fce55be2c526be9cf447b2abbf09e7231f884f8', 'message': 'Display name in IDP dropdown\n\nIf an operator would like a different display name\non the horizon Identity Provider dropdown to the one used\nfor their IDP in the backend they may specify a display_name\nin their entry within the keystone_sp.trusted_idp_list.\nOtherwise this continues to default to the IDPs name as usual.\n\nChange-Id: Iba8c6e6b66480cdd575f75162c9be80e84ec868b\n(cherry picked from commit ee0a0711e87a6ae952576f989b4a56224de7e8a8)\n'}]",0,737850,6fce55be2c526be9cf447b2abbf09e7231f884f8,14,4,1,25023,,,0,"Display name in IDP dropdown

If an operator would like a different display name
on the horizon Identity Provider dropdown to the one used
for their IDP in the backend they may specify a display_name
in their entry within the keystone_sp.trusted_idp_list.
Otherwise this continues to default to the IDPs name as usual.

Change-Id: Iba8c6e6b66480cdd575f75162c9be80e84ec868b
(cherry picked from commit ee0a0711e87a6ae952576f989b4a56224de7e8a8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/50/737850/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/horizon_local_settings.py.j2'],1,6fce55be2c526be9cf447b2abbf09e7231f884f8,idp-improvements-stable/ussuri-stable/train," (""{{ protocol.name }}"", _(""{{ idp.display_name | default(idp.name) }}"")){% if not loop.last %},{% endif %}"," (""{{ protocol.name }}"", _(""{{ idp.name }}"")){% if not loop.last %},{% endif %}",1,1
openstack%2Fcharm-neutron-api~master~I3a0e757e5afe6a77cc507ee01298961c16d41cb2,openstack/charm-neutron-api,master,I3a0e757e5afe6a77cc507ee01298961c16d41cb2,Add igmp_snooping_enable config,MERGED,2020-07-02 16:00:35.000000000,2020-07-06 14:57:19.000000000,2020-07-04 01:38:59.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28510}]","[{'number': 1, 'created': '2020-07-02 16:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/fab04814d27276addac17318aa2674d79478319c', 'message': 'Add igmp_snooping_enable config\n\nThis option is available on both OVS and OVN to\nallow virtual switch to snoop into multicast IGMP\nmessages and learn which ports should be flooded.\n\nThis change adds igmp snooping option on neutron.conf.\n\nChange-Id: I3a0e757e5afe6a77cc507ee01298961c16d41cb2\n'}, {'number': 2, 'created': '2020-07-03 14:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/a70928f8158ecd7fc23c65c634e15434d51c2617', 'message': 'Add igmp_snooping_enable config\n\nThis option is available on both OVS and OVN to\nallow virtual switch to snoop into multicast IGMP\nmessages and learn which ports should be flooded.\n\nThis change adds igmp snooping option on neutron.conf.\n\nChange-Id: I3a0e757e5afe6a77cc507ee01298961c16d41cb2\n'}, {'number': 3, 'created': '2020-07-03 14:45:13.000000000', 'files': ['templates/ussuri/neutron.conf', 'hooks/neutron_api_context.py', 'config.yaml', 'unit_tests/test_neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f401914ee341cc7a34c336287879c073a30a9226', 'message': 'Add igmp_snooping_enable config\n\nThis option is available on both OVS and OVN to\nallow virtual switch to snoop into multicast IGMP\nmessages and learn which ports should be flooded.\n\nThis change adds igmp snooping option on neutron.conf.\n\nChange-Id: I3a0e757e5afe6a77cc507ee01298961c16d41cb2\n'}]",3,739084,f401914ee341cc7a34c336287879c073a30a9226,22,4,3,28510,,,0,"Add igmp_snooping_enable config

This option is available on both OVS and OVN to
allow virtual switch to snoop into multicast IGMP
messages and learn which ports should be flooded.

This change adds igmp snooping option on neutron.conf.

Change-Id: I3a0e757e5afe6a77cc507ee01298961c16d41cb2
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/84/739084/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'config.yaml', 'unit_tests/test_neutron_api_context.py']",3,fab04814d27276addac17318aa2674d79478319c,," # Although set as True for all tests, only Ussuri templates # can apply this option. self.test_config.set('igmp-snooping', True) 'igmp_snooping': True, 'igmp_snooping': True, 'igmp_snooping': True, 'igmp_snooping': True, 'igmp_snooping': True,",,19,0
openstack%2Fkolla~master~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,master,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-06-17 08:22:12.000000000,2020-07-06 14:44:54.000000000,2020-07-06 14:33:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-17 08:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c1e8ba9ae3f22c127dff4fa2620678d9d82c9e6', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}, {'number': 2, 'created': '2020-06-19 07:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1b4e4cd77a3df0fcb9f6e5af1c37ca842cb955a1', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}, {'number': 3, 'created': '2020-06-19 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/24b1e7f760a6b6829b228f71ebe2489d351cd3cd', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}, {'number': 4, 'created': '2020-06-19 19:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba97c8815021e8ba5ea971c202e650e79c2ffc89', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}, {'number': 5, 'created': '2020-07-02 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aab5b223055fe73cd8c9efb2cda3f8eb7f3e229f', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}, {'number': 6, 'created': '2020-07-06 10:17:31.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n'}]",5,736130,dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8,74,10,6,20172,,,0,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/736130/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,7c1e8ba9ae3f22c127dff4fa2620678d9d82c9e6,disable-systemd-getent,RUN sed -ri '/^(passwd:|group:)/ s/systemd//g' /etc/nsswitch.conf,,1,0
openstack%2Fpatrole~master~I4ad6f84c71733b0bcc76d97493aa403d8c38de74,openstack/patrole,master,I4ad6f84c71733b0bcc76d97493aa403d8c38de74,Add Patrole gate job for stable/ussuri,MERGED,2020-05-02 15:54:37.000000000,2020-07-06 14:43:09.000000000,2020-05-08 18:10:59.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-05-02 15:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6de4721bb7f1f11f4a3f0d226045088b3822dde6', 'message': 'Add Patrole gate job for stable/ussuri and stable/train\n\nNow we have stable/ussuri and stable/train branch ready\nfor devstack and so does for all service projects.\n\nThis commit adds the Patrole testing for stable/ussuri\nand stable/train by adding new jobs running on\nstable/ussuri and stable/train version of openstack.\n\nChange-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74\n'}, {'number': 2, 'created': '2020-05-04 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/195f63dfd626b64ecd68a044d4f1123b11d9af32', 'message': 'Add Patrole gate job for stable/ussuri\n\nNow we have stable/ussuri branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Patrole testing for stable/ussuri\nby adding new jobs running on stable/ussuri version of\nopenstack.\n\nChange-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74\n'}, {'number': 3, 'created': '2020-05-04 17:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/01ca4604f8791cf4111521059b0f1894682ef2c0', 'message': 'Add Patrole gate job for stable/ussuri\n\nNow we have stable/ussuri branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Patrole testing for stable/ussuri\nby adding new jobs running on stable/ussuri version of\nopenstack.\n\nChange-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74\n'}, {'number': 4, 'created': '2020-05-04 23:08:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/a19f3dbe5cfde0e2a4a79b13b80db50f1b71b600', 'message': 'Add Patrole gate job for stable/ussuri\n\nNow we have stable/ussuri branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Patrole testing for stable/ussuri\nby adding new jobs running on stable/ussuri version of\nopenstack.\n\nChange-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74\n'}]",6,725023,a19f3dbe5cfde0e2a4a79b13b80db50f1b71b600,19,4,4,27621,,,0,"Add Patrole gate job for stable/ussuri

Now we have stable/ussuri branch ready for devstack
and so does for all service projects.

This commit adds the Patrole testing for stable/ussuri
by adding new jobs running on stable/ussuri version of
openstack.

Change-Id: I4ad6f84c71733b0bcc76d97493aa403d8c38de74
",git fetch https://review.opendev.org/openstack/patrole refs/changes/23/725023/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6de4721bb7f1f11f4a3f0d226045088b3822dde6,725023, name: patrole-member-ussuri parent: patrole-member override-checkout: stable/ussuri vars: devstack_localrc: USE_PYTHON3: True - job: name: patrole-member-train parent: patrole-member override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: - patrole-member-ussuri - patrole-member-train - patrole-member-ussuri - patrole-member-train,,20,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Ibc8c9b92c8c3c705964fbc85019b357913583ca7,openstack/openstack-ansible-os_nova,stable/ussuri,Ibc8c9b92c8c3c705964fbc85019b357913583ca7,Add Centos-8 support,MERGED,2020-07-03 16:17:09.000000000,2020-07-06 14:38:52.000000000,2020-07-06 14:36:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-03 16:17:09.000000000', 'files': ['vars/redhat.yml', 'tasks/nova_compute_key_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/aeae89242e370737f39031be7c785dc2597e2875', 'message': ""Add Centos-8 support\n\nWe shouldn't need this anymore since interpreter patch has been merged\nhttps://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)\n\nChange-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7\n(cherry picked from commit 842c899d8e28c4f05236a9f18acedcdba7067eec)\n""}]",0,739259,aeae89242e370737f39031be7c785dc2597e2875,8,4,1,28619,,,0,"Add Centos-8 support

We shouldn't need this anymore since interpreter patch has been merged
https://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)

Change-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7
(cherry picked from commit 842c899d8e28c4f05236a9f18acedcdba7067eec)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/59/739259/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/nova_compute_key_distribute.yml']",2,aeae89242e370737f39031be7c785dc2597e2875,osa/el8-stable/ussuri,," vars: ansible_python_interpreter: ""/usr/bin/python""",4,6
openstack%2Fdiskimage-builder~master~Iea2f454f384d728e7d61bcdb47e292f3f0a634a9,openstack/diskimage-builder,master,Iea2f454f384d728e7d61bcdb47e292f3f0a634a9,[doc] Fix pygments_style,ABANDONED,2020-07-05 08:16:10.000000000,2020-07-06 14:33:14.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 08:16:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/280e067113bb4937e84ad105614af00f336e4ded', 'message': ""[doc] Fix pygments_style\n\nThis sets pygments_style to 'native' to fix colours in code\nlistings in docs.\n\nChange-Id: Iea2f454f384d728e7d61bcdb47e292f3f0a634a9\n""}]",0,739344,280e067113bb4937e84ad105614af00f336e4ded,5,3,1,30491,,,0,"[doc] Fix pygments_style

This sets pygments_style to 'native' to fix colours in code
listings in docs.

Change-Id: Iea2f454f384d728e7d61bcdb47e292f3f0a634a9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/739344/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,280e067113bb4937e84ad105614af00f336e4ded,pygments_style,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,openstack/tripleo-upgrade,stable/ussuri,I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,Remove tht/tc/ta/tv update before UC upgrade.,MERGED,2020-07-02 08:40:14.000000000,2020-07-06 14:21:36.000000000,2020-07-06 14:21:36.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-02 08:40:14.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/79267627ce7f810dbed4d04efe46ed07bfa9f3b5', 'message': ""Remove tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n(cherry picked from commit f820078ecf7b7aa4de988994f77bb23b3491474a)\n""}]",0,738987,79267627ce7f810dbed4d04efe46ed07bfa9f3b5,7,5,1,6816,,,0,"Remove tht/tc/ta/tv update before UC upgrade.

After [0] merged, we are not required to run a tripleo-common,
tripleo-heat-templates, tripleo-ansible and tripleo-validations
package update as it will be performed by the undercloud upgrade
command itself.

This patch removes it from tripleo-upgrade. However, this can't be
backported to stable/train or older releases.

[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a

Change-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0
(cherry picked from commit f820078ecf7b7aa4de988994f77bb23b3491474a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/87/738987/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,79267627ce7f810dbed4d04efe46ed07bfa9f3b5,bug/1885637-stable/ussuri,," - ""openstack-tripleo-common"" - ""openstack-tripleo-heat-templates"" - ""openstack-tripleo-validations""",0,4
openstack%2Fdevstack~stable%2Fqueens~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/queens,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-25 09:58:13.000000000,2020-07-06 14:18:04.000000000,2020-07-06 14:18:04.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 18742}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-25 09:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c3d4231b9ae08c869198981702a03fa87c2e323', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 2, 'created': '2020-07-02 07:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/684cf4b413fb2451acf2c739be694057f7952705', 'message': 'Fix gate, squashing multiple fixes\n\nThis commit includes multiple fixes to\nmake gate happy:\n\n1. Use packaged uwsgi on Fedora and Ubuntu\n- https://review.opendev.org/#/c/735615/7\n\n2. Move process-stackviz role from Tempest to Devstack\n- https://review.opendev.org/#/c/737078/4\n\n3. Add ensure-pip to pre.yaml\n- https://review.opendev.org/#/c/738495/2\n\n4. Temporarily disable the grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)\n'}, {'number': 3, 'created': '2020-07-03 19:53:01.000000000', 'files': ['lib/placement', 'lib/cinder', 'roles/process-stackviz/tasks/main.yaml', 'lib/nova', 'lib/keystone', 'roles/process-stackviz/defaults/main.yaml', 'lib/glance', 'playbooks/pre.yaml', '.zuul.yaml', 'lib/apache', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4b063b207f296384e101e4545150ee80459eceb', 'message': 'Fix gate, squashing multiple fixes\n\nThis commit includes multiple fixes to\nmake gate happy:\n\n1. Use packaged uwsgi on Fedora and Ubuntu\n- https://review.opendev.org/#/c/735615/7\n\n2. Move process-stackviz role from Tempest to Devstack\n- https://review.opendev.org/#/c/737078/4\n\n3. Add ensure-pip to pre.yaml\n- https://review.opendev.org/#/c/738495/2\n\n4. Use uwsgi binary from path\n- https://review.opendev.org/#/c/739072/\n\n5. Temporarily disable the grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tlib/neutron\n\tlib/neutron-legacy\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)\n'}]",0,737940,f4b063b207f296384e101e4545150ee80459eceb,24,9,3,21798,,,0,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Use uwsgi binary from path
- https://review.opendev.org/#/c/739072/

5. Temporarily disable the grenade jobs

Conflicts:
	.zuul.yaml
	lib/neutron
	lib/neutron-legacy

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/737940/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,9c3d4231b9ae08c869198981702a03fa87c2e323,uwsgi-stable/queens," # This varies based on packaged/installed. If we've # pip_installed, then the pip setup will only build a ""python"" # module that will be either python2 or python3 depending on what # it was built with. # For package installs, the distro ships both plugins and you need # to select the right one ... it will not be autodetected. if python3_enabled; then UWSGI_PYTHON_PLUGIN=python3 else UWSGI_PYTHON_PLUGIN=python fi if is_ubuntu; then install_package uwsgi \ uwsgi-plugin-python \ uwsgi-plugin-python3 \ libapache2-mod-proxy-uwsgi elif [[ $os_VENDOR == ""Fedora"" ]]; then # Note httpd comes with mod_proxy_uwsgi and it is loaded by # default; the mod_proxy_uwsgi package actually conflicts now. # See: # https://bugzilla.redhat.com/show_bug.cgi?id=1574335 # # Thus there is nothing else to do after this install install_package uwsgi \ uwsgi-plugin-python3 else # Centos actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir UWSGI_PYTHON_PLUGIN=python fi iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN} iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN}"," # Ubuntu xenial is back level on uwsgi so the proxy doesn't # actually work. Hence we have to build from source for now. # Centos 7 actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there as well. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir iniset ""$file"" uwsgi plugins python iniset ""$file"" uwsgi plugins python",46,20
openstack%2Ftripleo-ansible~master~Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,openstack/tripleo-ansible,master,Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,Fix missing requirements for tests,MERGED,2020-06-26 21:06:49.000000000,2020-07-06 14:16:34.000000000,2020-06-29 08:45:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-26 21:06:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cdb59feb206cf0ff3e079695c23ecfdb07271e25', 'message': 'Fix missing requirements for tests\n\nWe added heatclient and metalsmith requirements as part of our modules\nso we need to make sure to properly capture them.\n\nChange-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be\n'}]",0,738281,cdb59feb206cf0ff3e079695c23ecfdb07271e25,10,4,1,14985,,,0,"Fix missing requirements for tests

We added heatclient and metalsmith requirements as part of our modules
so we need to make sure to properly capture them.

Change-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/738281/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cdb59feb206cf0ff3e079695c23ecfdb07271e25,container-not-running,python-heatclient # Apache-2.0metalsmith # Apache-2.0,,2,0
openstack%2Ftripleo-ansible~master~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,master,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-06-16 20:58:09.000000000,2020-07-06 14:15:52.000000000,2020-07-02 20:27:49.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-16 20:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a78d3cda2a344de0732e012235d751df98fa8ed5', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n'}, {'number': 2, 'created': '2020-06-16 21:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc14c1fd1547d1a16ce8a63a77d967a96704f4e2', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n'}, {'number': 3, 'created': '2020-06-17 20:19:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/ansible_hieradata.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n'}]",8,736040,c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449,39,6,3,14985,,,0,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/736040/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/ansible_hieradata.yml']",3,a78d3cda2a344de0732e012235d751df98fa8ed5,bug/1883609, become: true become: true,,6,0
openstack%2Ftripleo-ansible~master~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,master,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-06-16 20:39:44.000000000,2020-07-06 14:15:27.000000000,2020-06-18 15:31:50.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-16 20:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49e740b5ab72adb2389688b375ef1dd28c62c154', 'message': 'Fix host entries permissions\n\nThe cleanup tasks needs become: true because it was created with root.\n\nChange-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b\nRelated-Bug: #1883609\n'}, {'number': 2, 'created': '2020-06-17 20:19:27.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/746bd9a52b2a4288af705f161ec41736a4e3b5e3', 'message': 'Fix host entries permissions\n\nThe cleanup tasks needs become: true because it was created with root.\n\nChange-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b\nRelated-Bug: #1883609\n'}]",0,736024,746bd9a52b2a4288af705f161ec41736a4e3b5e3,18,5,2,14985,,,0,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/736024/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,49e740b5ab72adb2389688b375ef1dd28c62c154,bug/1883609, become: true,,1,0
openstack%2Ftripleo-heat-templates~master~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,master,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-06-29 18:57:37.000000000,2020-07-06 14:14:56.000000000,2020-07-02 22:33:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 18:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23fca5099f582529aca61cbf242697a5256ae9cf', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n'}, {'number': 2, 'created': '2020-06-29 18:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f2cd9749f20b4b42a4fd9c1ff1fc983603891ca', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n'}, {'number': 3, 'created': '2020-06-29 19:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8628a4bcadd5dde9cf5b4a338a7e665906615abd', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n'}, {'number': 4, 'created': '2020-06-29 19:43:15.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/777920dfba58fa7b26c063fa5d6df0203009d12c', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n'}]",3,738490,777920dfba58fa7b26c063fa5d6df0203009d12c,20,5,4,14985,,,0,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/738490/4 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,23fca5099f582529aca61cbf242697a5256ae9cf,bug/1885619," ro_files+=""/etc/hosts /etc/localtime /etc/hostname"" # Cleanup any special files that might have been copied into place # previously because fixes for LP#1860607 did not cleanup and required # manual intervention if a container hit this. We can safely remove these # files because they should be bind mounted into containers for ro in $ro_files; do if [ -e ""${config_data_path}/${ro}"" ]; then rm -rf ""${config_data_path}/${ro}""; fi done"," ro_files+=""/etc/hosts /etc/localtime""",10,1
openstack%2Fironic-specs~master~Ibefde7ed15932964c366c605b7ca03bce4d66e5b,openstack/ironic-specs,master,Ibefde7ed15932964c366c605b7ca03bce4d66e5b,New release model: correct the named branches lifetime,MERGED,2020-07-01 08:49:37.000000000,2020-07-06 14:13:36.000000000,2020-07-06 14:09:58.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-01 08:49:37.000000000', 'files': ['specs/approved/new-release-model.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2f2df334657df7348a3f3de259aa022b970114d1', 'message': 'New release model: correct the named branches lifetime\n\nThe initial proposal of supporting a branch with all fixes only\n6 months was too harsh and does not seem to reflect how we actually\nhandle stable branches. Based on personal observation that we mostly\nmaintain the last two stable branches (e.g. right now Train is still\nactively maintained), the windows is increased to 12 months.\n\nAlso added a formal policy and completely abandoning EM branches.\n\nChange-Id: Ibefde7ed15932964c366c605b7ca03bce4d66e5b\n'}]",0,738761,2f2df334657df7348a3f3de259aa022b970114d1,8,3,1,10239,,,0,"New release model: correct the named branches lifetime

The initial proposal of supporting a branch with all fixes only
6 months was too harsh and does not seem to reflect how we actually
handle stable branches. Based on personal observation that we mostly
maintain the last two stable branches (e.g. right now Train is still
actively maintained), the windows is increased to 12 months.

Also added a formal policy and completely abandoning EM branches.

Change-Id: Ibefde7ed15932964c366c605b7ca03bce4d66e5b
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/61/738761/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/new-release-model.rst'],1,2f2df334657df7348a3f3de259aa022b970114d1,releasing-bears," * The first 12 months any bug fixes are acceptable. Low-risk features **may** be accepted if they're believed to substantially improve the operator or user experience. * The last 6 months and during the extended maintenance phase only high and * If during the extended maintenance no changes merge to a branch within 6 months, this branch is considered abandoned and is closed for further backports. .. note:: This also applies when the changes are proposed but cannot merge because of failing CI. ", * The first 6 months or until the next named release (whatever comes later) any bug fixes are acceptable. Low-risk features **may** be accepted if they're believed to substantially improve the operator or user experience. * The last year and during the extended maintenance phase only high and,12,6
openstack%2Ftripleo-heat-templates~master~I5992edf43bf1995eebdf401c6bd886e77e528695,openstack/tripleo-heat-templates,master,I5992edf43bf1995eebdf401c6bd886e77e528695,Always clear cached facts first,MERGED,2020-06-22 21:10:23.000000000,2020-07-06 14:13:24.000000000,2020-07-06 01:48:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-22 21:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2cd73b82bf4636a5e86fd300b14826c554608a8', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}, {'number': 2, 'created': '2020-06-23 02:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53f732211babf4a122c9402560130ea2ee59b65a', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}, {'number': 3, 'created': '2020-06-23 02:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a81b418e490ee45ded571b6cf637f5233c50370f', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}, {'number': 4, 'created': '2020-06-24 16:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a781a90cabc1c8f13754e4f837a1c026721fd164', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}, {'number': 5, 'created': '2020-07-03 00:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37ad971092f8a9e589e4292d5e161fb58362a13f', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}, {'number': 6, 'created': '2020-07-05 20:20:49.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f9942fd755a168f8a9b75afa09e8af7027d61d4', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n""}]",1,737379,1f9942fd755a168f8a9b75afa09e8af7027d61d4,61,9,6,14985,,,0,"Always clear cached facts first

Because you could be running against different clouds or hosts, we need
to always clear the facts at the start of the deployment playbook to
ensure we aren't using incorrectly cached facts. That being said, the
caching mechanism should persist between the plays in the overall
deployment.

Change-Id: I5992edf43bf1995eebdf401c6bd886e77e528695
Closes-Bug: #1884654
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/737379/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,c2cd73b82bf4636a5e86fd300b14826c554608a8,bug/1884654, - name: Clear cached facts meta: clear_facts ,,3,0
openstack%2Fironic-specs~master~I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5,openstack/ironic-specs,master,I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5,Update to the new release model,MERGED,2020-06-29 09:35:25.000000000,2020-07-06 14:05:29.000000000,2020-07-06 14:03:01.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-29 09:35:25.000000000', 'files': ['specs/approved/new-release-model.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a70e973e3dcf7f125bf6a9d95130e7566c9056d6', 'message': 'Update to the new release model\n\nClarifies some aspects of the approved spec.\n\nChange-Id: I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5\n'}]",1,738408,a70e973e3dcf7f125bf6a9d95130e7566c9056d6,11,6,1,10239,,,0,"Update to the new release model

Clarifies some aspects of the approved spec.

Change-Id: I7ef4e402530286b7c8eacee00e4b3d186b2a4dd5
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/08/738408/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/new-release-model.rst'],1,a70e973e3dcf7f125bf6a9d95130e7566c9056d6,releasing-bears, a branch created from a named release where bug fixes are applied and periodically released as *stable releases*. is a release created as part of stable support of a *named* release. *bugfix branch* a branch created from an intermediate release that did NOT result in a stable branch.* One week of soft feature freeze is observed before every release. *Soft* This leaves merge windows of roughly 7-9 weeks for most features. Plans for are always issued from a stable or bugfix branch (see `Stable branches and upgrades`_). Releases from master always receive a minor or major version bump.* Intermediary (non-named) releases will target standalone users. OpenStack deployers will be recommended to use named releases. * A ``bugfix/<major.minor>`` branch for other releases. The naming difference highlights the difference of intents: * *Stable* branches are designed for long-term consumption by downstreams (such as RDO) and for users to follow them. * *Bugfix* branches are a technical measure to allow patch releases after a certain release. Users and downstreams are not expected to follow them over a long period of time and are recommended to update to the next feature release as soon as it is out.* Bugfix branches (for deliverables that have them) are supported for 6 months. Only high and critical bug fixes are accepted during the whole support time. .. note:: It may mean that a stable branch created earlier will receive more fixes than a bugfix branch created later. This is a reflection of the fact that consumers are not expected to follow bugfix branches. releases.," a branch created from a release (named or intermediate) where bug fixes are applied and periodically released as *stable releases*. is a release created as part of stable support of either a *named* or *intermediate* release.* Two weeks of soft feature freeze is observed before every release. *Soft* This leaves merge windows of roughly 6-8 weeks for most features. Plans for are always issued from a stable branch (see `Stable branches and upgrades`_). Releases from master always receive a minor or major version bump.* Intermediary releases will target standalone users. OpenStack deployers will be recommended to use named releases. * A ``stable/<major.minor>`` branch for other releases. Implementing these changes may require the ironic deliverables to switch to the *independent* release model. This will be determined in negotiations with the OpenStack release team after the plan is accepted. .. note::* Other stable branches (for deliverables that have them) are supported for 6 months or the next named release, whatever happens later. Only high and critical bug fixes are accepted during the whole support time... note:: We need to work with the release team to ensure this redirect URL exists in the beginning of a cycle. releases (may be done already).",32,24
openstack%2Fansible-role-collect-logs~master~Ie61626667eebd3628525da38e911c5ef42da2f69,openstack/ansible-role-collect-logs,master,Ie61626667eebd3628525da38e911c5ef42da2f69,Run container collection in parallel,MERGED,2020-06-03 15:04:42.000000000,2020-07-06 13:55:15.000000000,2020-07-06 13:55:15.000000000,"[{'_account_id': 6683}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-06-03 15:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f112a85f67fa11d50c73e44955f297a2ad83fc89', 'message': ""Run container collection in parallel\n\nThe task running the container collection is the longest taking\ntask. The patch makes this task running in parallel. The task\nhandles only containers therefore it's not in conflict with\nany other collection task so running it in parallel is safe.\n\nChange-Id: Ie61626667eebd3628525da38e911c5ef42da2f69\n""}, {'number': 2, 'created': '2020-06-03 17:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9c0ca28b860559de535ed99e1a717f17a712820a', 'message': ""Run container collection in parallel\n\nThe task running the container collection is the longest taking\ntask. The patch makes this task running in parallel. The task\nhandles only containers therefore it's not in conflict with\nany other collection task so running it in parallel is safe.\n\nChange-Id: Ie61626667eebd3628525da38e911c5ef42da2f69\n""}, {'number': 3, 'created': '2020-06-03 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b7644635ab295b40dafbeec35edef9a1b805c46a', 'message': ""Run container collection in parallel\n\nThe task running the container collection is the longest taking\ntask. The patch makes this task running in parallel. The task\nhandles only containers therefore it's not in conflict with\nany other collection task so running it in parallel is safe.\n\nChange-Id: Ie61626667eebd3628525da38e911c5ef42da2f69\n""}, {'number': 4, 'created': '2020-06-11 11:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ecc9409ff38c0c9764691b2b2c2d8d04dc955d30', 'message': ""Run container collection in parallel\n\nThe task running the container collection is the longest taking\ntask. The patch makes this task running in parallel. The task\nhandles only containers therefore it's not in conflict with\nany other collection task so running it in parallel is safe.\n\nChange-Id: Ie61626667eebd3628525da38e911c5ef42da2f69\n""}, {'number': 5, 'created': '2020-06-23 18:26:58.000000000', 'files': ['tasks/collect.yml', 'tasks/collect/container.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f1a45198a067216672b0ecad6582ddff9a683523', 'message': ""Run container collection in parallel\n\nThe task running the container collection is the longest taking\ntask. The patch makes this task running in parallel. The task\nhandles only containers therefore it's not in conflict with\nany other collection task so running it in parallel is safe.\n\nChange-Id: Ie61626667eebd3628525da38e911c5ef42da2f69\n""}]",6,733165,f1a45198a067216672b0ecad6582ddff9a683523,40,11,5,22873,,,0,"Run container collection in parallel

The task running the container collection is the longest taking
task. The patch makes this task running in parallel. The task
handles only containers therefore it's not in conflict with
any other collection task so running it in parallel is safe.

Change-Id: Ie61626667eebd3628525da38e911c5ef42da2f69
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/65/733165/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/collect.yml', 'tasks/collect/container.yml']",2,f112a85f67fa11d50c73e44955f297a2ad83fc89,, async: 600 poll: 0 register: container_collection,,14,3
openstack%2Fironic-python-agent~stable%2Ftrain~I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,openstack/ironic-python-agent,stable/train,I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,DNM trying really slow prepare_image,ABANDONED,2020-06-26 12:23:30.000000000,2020-07-06 13:45:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-26 12:23:30.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d1fdf9196fcd0a64d140278c4cfd7f59423230dd', 'message': 'DNM trying really slow prepare_image\n\nChange-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11\n'}]",0,738193,d1fdf9196fcd0a64d140278c4cfd7f59423230dd,4,2,1,10239,,,0,"DNM trying really slow prepare_image

Change-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/738193/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'ironic_python_agent/extensions/standby.py']",2,d1fdf9196fcd0a64d140278c4cfd7f59423230dd,test-train, time.sleep(240),,3,0
openstack%2Fironic-python-agent~master~I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,openstack/ironic-python-agent,master,I96eb2ff15b1e3d479394c86dd9c228d54c4fae11,DNM trying really slow prepare_image,ABANDONED,2020-06-26 07:54:22.000000000,2020-07-06 13:45:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-26 07:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f5c01c7ddc1bed3ef53f9854af66f1f8c0751e2b', 'message': 'DNM trying really slow prepare_image\n\nChange-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11\n'}, {'number': 2, 'created': '2020-06-26 09:28:13.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e91b3b81d8b2bca75ff3ef2190d7ba3f3cfd0994', 'message': 'DNM trying really slow prepare_image\n\nChange-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11\n'}]",0,738156,e91b3b81d8b2bca75ff3ef2190d7ba3f3cfd0994,6,2,2,10239,,,0,"DNM trying really slow prepare_image

Change-Id: I96eb2ff15b1e3d479394c86dd9c228d54c4fae11
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/56/738156/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/standby.py'],1,f5c01c7ddc1bed3ef53f9854af66f1f8c0751e2b,test, time.sleep(240),,1,0
openstack%2Fironic~master~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,master,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-03 12:09:52.000000000,2020-07-06 13:44:01.000000000,2020-07-06 13:25:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-03 12:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42a780e4ab4aaabf91a1217c2308936ecad2c6b7', 'message': ""[WIP] Software RAID: don't try to set local_gb to MAX\n\nChange-Id: Ibac5d07b988438719bf414f314cbc610562e7599\n""}, {'number': 2, 'created': '2020-07-03 12:27:28.000000000', 'files': ['releasenotes/notes/raid-max-c0920cc44b9779ee.yaml', 'ironic/tests/unit/common/test_raid.py', 'ironic/common/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cedc4a24167de205db25cc45fd37275f3e4956bd', 'message': ""Software RAID: don't try to set local_gb to MAX\n\nChange-Id: Ibac5d07b988438719bf414f314cbc610562e7599\n""}]",0,739216,cedc4a24167de205db25cc45fd37275f3e4956bd,22,7,2,10239,,,0,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/739216/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/raid.py'],1,42a780e4ab4aaabf91a1217c2308936ecad2c6b7,raid-max, if root_logical_disk['size_gb'] != 'MAX': properties['local_gb'] = root_logical_disk['size_gb'], properties['local_gb'] = root_logical_disk['size_gb'],2,1
openstack%2Fbifrost~master~I65579f45cf6a6083732b6f759cd1b5c9376dcbb4,openstack/bifrost,master,I65579f45cf6a6083732b6f759cd1b5c9376dcbb4,Prepare release notes for release 8.2,MERGED,2020-07-02 16:14:13.000000000,2020-07-06 13:42:58.000000000,2020-07-06 13:39:39.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 16:14:13.000000000', 'files': ['releasenotes/notes/bifrost-inspector-a154561802d8d614.yaml', 'releasenotes/notes/ancient-fedora-jessie-773ba251b28f4a94.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3d2ee6018f2830593ac734212c110a4f2c80df5d', 'message': 'Prepare release notes for release 8.2\n\nChange-Id: I65579f45cf6a6083732b6f759cd1b5c9376dcbb4\n'}]",0,739089,3d2ee6018f2830593ac734212c110a4f2c80df5d,7,2,1,23851,,,0,"Prepare release notes for release 8.2

Change-Id: I65579f45cf6a6083732b6f759cd1b5c9376dcbb4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/89/739089/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bifrost-inspector-a154561802d8d614.yaml', 'releasenotes/notes/ancient-fedora-jessie-773ba251b28f4a94.yaml']",2,3d2ee6018f2830593ac734212c110a4f2c80df5d,prep-renotes, Explicit support for Fedora versions precedent to 30 has been removed., Explicit support for Fedora versions < 30 has been removed.,2,2
openstack%2Foslo.messaging~stable%2Fstein~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/stein,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-03 16:49:44.000000000,2020-07-06 13:36:41.000000000,2020-07-06 13:31:10.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e3875180626239509e8979f73d8647eeb3ed0bf7', 'message': ""WIP: Simplify tools/test-setup.sh\n\ntest-setup.sh is called after bindep is run in CI, and tox is not setup.\n\nSimplify the script so that it only does what's needed - install\nqdrouterd for Ubuntu from qpid/testing.\n\nInstall the other packages using bindep, add test to amqp1 profile.\n\nAdd amqp1 to bindep_profiles where needed for scenario tests, previously\ntest-setup.sh added it everywhere.\n\nConflicts:\n    .zuul.yaml\n    bindep.txt\nModified:\n    tools/test-setup.sh\n\nNOTE(elod.illes): conflicts are due to the following patches are\nmissing from Stein:\n* .zuul.yaml: I1874f96f78cb403e6f3a56a49cb83df40d531f8d\n  (dropping py35 testing)\n* bindep.txt: I9fb56450346fca84bc1573fa5e9b6fe81c14e33a\n  (messaging intermediaries update; the lack of this patch also\n  requires the modification of test-setup.sh)\n\nChange-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2\nRelated-Bug: #1885923\n(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)\n(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)\n(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)\n""}, {'number': 2, 'created': '2020-07-03 18:27:06.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c5d17905de32a29352a7ad31fd1c7dcde8887017', 'message': ""Simplify tools/test-setup.sh\n\ntest-setup.sh is called after bindep is run in CI, and tox is not setup.\n\nSimplify the script so that it only does what's needed - install\nqdrouterd for Ubuntu from qpid/testing.\n\nInstall the other packages using bindep, add test to amqp1 profile.\n\nAdd amqp1 to bindep_profiles where needed for scenario tests, previously\ntest-setup.sh added it everywhere.\n\nConflicts:\n    .zuul.yaml\n    bindep.txt\nModified:\n    tools/test-setup.sh\n\nNOTE(elod.illes): conflicts are due to the following patches are\nmissing from Stein:\n* .zuul.yaml: I1874f96f78cb403e6f3a56a49cb83df40d531f8d\n  (dropping py35 testing)\n* bindep.txt: I9fb56450346fca84bc1573fa5e9b6fe81c14e33a\n  (messaging intermediaries update; the lack of this patch also\n  requires the modification of test-setup.sh)\n\nChange-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2\nRelated-Bug: #1885923\n(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)\n(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)\n(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)\n""}]",0,739265,c5d17905de32a29352a7ad31fd1c7dcde8887017,12,6,2,17685,,,0,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Conflicts:
    .zuul.yaml
    bindep.txt
Modified:
    tools/test-setup.sh

NOTE(elod.illes): conflicts are due to the following patches are
missing from Stein:
* .zuul.yaml: I1874f96f78cb403e6f3a56a49cb83df40d531f8d
  (dropping py35 testing)
* bindep.txt: I9fb56450346fca84bc1573fa5e9b6fe81c14e33a
  (messaging intermediaries update; the lack of this patch also
  requires the modification of test-setup.sh)

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/65/739265/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",3,e3875180626239509e8979f73d8647eeb3ed0bf7,,"# qpidd needs to be installed from qpid/testing repo in Ubuntu. # bindep does not allow setting up another repo, so we just install # this package here.","function is_fedora { [ -f /usr/bin/yum ] && cat /etc/*release | grep -q -e ""Fedora"" } # NOTE(sileht): we create the virtualenv only and use bindep directly # because tox doesn't have a quiet option... tox -ebindep --notest # TODO(ansmith) for now setup amqp1 dependencies for any profile. # Fix this when test-setup is passed environment profile setting. # NOTE(sileht): bindep return 1 if some packages have to be installed PACKAGES=""$(.tox/bindep/bin/bindep -b -f bindep.txt amqp1 || true)"" [ -n ""$PACKAGES"" ] || exit 0 sudo PATH=/usr/sbin:/sbin:$PATH DEBIAN_FRONTEND=noninteractive \ apt-get -q --option ""Dpkg::Options::=--force-confold"" \ --assume-yes install $PACKAGES elif emerge --version >/dev/null 2>&1 ; then sudo emerge -uDNq --jobs=4 @world sudo PATH=/usr/sbin:/sbin:$PATH emerge -q --jobs=4 $PACKAGES else is_fedora && YUM=dnf || YUM=yum sudo PATH=/usr/sbin:/sbin:$PATH $YUM install -y $PACKAGES",19,37
openstack%2Fdiskimage-builder~master~I1780f186cf107242cacd6d3da7a5bc81a330b536,openstack/diskimage-builder,master,I1780f186cf107242cacd6d3da7a5bc81a330b536,Stop bringing the test environment into the mocks,MERGED,2020-06-12 08:37:38.000000000,2020-07-06 13:31:07.000000000,2020-07-06 13:28:26.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-12 08:37:38.000000000', 'files': ['diskimage_builder/elements/package-installs/tests/test_package_squash.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f57ed9b9ed3e4dcb348487b29c18d2772147e07', 'message': 'Stop bringing the test environment into the mocks\n\nChange-Id: I1780f186cf107242cacd6d3da7a5bc81a330b536\nCloses-Bug: #1883224\n'}]",0,735309,8f57ed9b9ed3e4dcb348487b29c18d2772147e07,11,5,1,20634,,,0,"Stop bringing the test environment into the mocks

Change-Id: I1780f186cf107242cacd6d3da7a5bc81a330b536
Closes-Bug: #1883224
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/09/735309/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/package-installs/tests/test_package_squash.py'],1,8f57ed9b9ed3e4dcb348487b29c18d2772147e07,bug/1883224," @mock.patch.object(os, 'environ', dict(ARCH='arm64')) DIB_RELEASE=release)): DIB_C_FEATURE='1'))"," @mock.patch.object(os, 'environ', dict(ARCH='arm64', **os.environ)) DIB_RELEASE=release, **os.environ)): DIB_C_FEATURE='1', **os.environ))",3,5
openstack%2Fnova~master~I34b783542504524d2e4d98d3037c9086766e04b0,openstack/nova,master,I34b783542504524d2e4d98d3037c9086766e04b0,libvirt: ensure disk_over_commit is not negative,MERGED,2020-04-10 13:54:43.000000000,2020-07-06 13:19:14.000000000,2020-07-06 13:14:36.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-10 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a51864d3a897ef2796d00226be0e9aaa142928c2', 'message': ""libvirt: ensure disk_over_commit is not negative\n\nDuring update_available_resource periodic task, nova-compute reports\ntotal amount of disk_over_committed in order to determine current hypervisor's\navailable_disk_least.\n\nIn case instance disk file have allocated size greater than virtual\ndisk size, resulting disk_over_committed is negative.\nBecause a negative value will inaccurately increase available_disk_least,\nthe change proposes to set it to 0 instead.\n\nCloses-Bug: #1872082\n\nChange-Id: I34b783542504524d2e4d98d3037c9086766e04b0\n""}, {'number': 2, 'created': '2020-06-18 12:39:06.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61084702f447d8d48f0aef161a9517d9504cd578', 'message': ""libvirt: ensure disk_over_commit is not negative\n\nDuring update_available_resource periodic task, nova-compute reports\ntotal amount of disk_over_committed in order to determine current hypervisor's\navailable_disk_least.\n\nIn case instance disk file have allocated size greater than virtual\ndisk size, resulting disk_over_committed is negative.\nBecause a negative value will inaccurately increase available_disk_least,\nthe change proposes to set it to 0 instead.\n\nCloses-Bug: #1872082\n\nChange-Id: I34b783542504524d2e4d98d3037c9086766e04b0\n""}]",9,719008,61084702f447d8d48f0aef161a9517d9504cd578,36,13,2,28332,,,0,"libvirt: ensure disk_over_commit is not negative

During update_available_resource periodic task, nova-compute reports
total amount of disk_over_committed in order to determine current hypervisor's
available_disk_least.

In case instance disk file have allocated size greater than virtual
disk size, resulting disk_over_committed is negative.
Because a negative value will inaccurately increase available_disk_least,
the change proposes to set it to 0 instead.

Closes-Bug: #1872082

Change-Id: I34b783542504524d2e4d98d3037c9086766e04b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/719008/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a51864d3a897ef2796d00226be0e9aaa142928c2,bug/1872082," @mock.patch('os.stat') @mock.patch('os.path.getsize') @mock.patch('nova.virt.disk.api.get_disk_info') @mock.patch('nova.virt.libvirt.utils.get_disk_backing_file', return_value='file') def test_get_instance_disk_info_from_config_negative(self, mock_backing_file, mock_disk_info, mock_getsize, mock_stat): """"""Test that over_committed_disk_size is set to 0 when disk_actual_size is greater than disk_virtual_size """""" config = vconfig.LibvirtConfigGuest() disk_config = vconfig.LibvirtConfigGuestDisk() disk_config.source_type = ""file"" disk_config.source_path = ""fake"" config.devices.append(disk_config) disk_virtual_size = 53687091200 disk_actual_size = 54000000000 disk_actual_size_blocks = disk_actual_size / 512 expected_over_committed_disk_size = 0 mock_getsize.return_value = disk_virtual_size mock_stat.return_value = mock.Mock(st_blocks=disk_actual_size_blocks) mock_disk_info.return_value = mock.Mock(disk_size=disk_actual_size, virtual_size=disk_virtual_size) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) for driver_format in ('raw', 'qcow2'): config.devices[0].driver_format = driver_format disk_info = drvr._get_instance_disk_info_from_config(config, None) self.assertEqual(expected_over_committed_disk_size, disk_info[0]['over_committed_disk_size']) ",,37,2
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,stable/ussuri,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-26 13:14:40.000000000,2020-07-06 13:12:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-26 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ad0c7b39fe55455e4b7ef8eadcfee978f41d8d73', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\nChange-Id: I30bcbce4c75b38f96a27ee742d15cf2abe402176\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 2, 'created': '2020-06-26 13:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/bd571be049f023f04f1e758f957401fbdeb4bd29', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nChange-Id: I30bcbce4c75b38f96a27ee742d15cf2abe402176\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 3, 'created': '2020-06-29 11:40:32.000000000', 'files': ['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a2d162e165d45f7a0f0fd4d9747c1494d1f37e47', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}]",0,738201,a2d162e165d45f7a0f0fd4d9747c1494d1f37e47,7,3,3,25023,,,0,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/01/738201/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml']",2,ad0c7b39fe55455e4b7ef8eadcfee978f41d8d73,idp-improvements-stable/ussuri,"# domain_id: ""default"" # display_name: ""Keystone IDP"" # Optional, used in Horizon IDP dropdown",,3,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,stable/train,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-26 13:14:52.000000000,2020-07-06 13:12:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-26 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fc62c074904de245aeeedb8040908ecbfda5e8f4', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\nChange-Id: I30bcbce4c75b38f96a27ee742d15cf2abe402176\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 2, 'created': '2020-06-26 13:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ca7002b79b7041e85b57a92e8e53280a08bebc03', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\nChange-Id: I30bcbce4c75b38f96a27ee742d15cf2abe402176\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 3, 'created': '2020-06-29 11:39:45.000000000', 'files': ['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/97d17b821e9b60d8b72e4d32af1b2ec58aff149d', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}]",0,738202,97d17b821e9b60d8b72e4d32af1b2ec58aff149d,8,3,3,25023,,,0,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Depends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/02/738202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml']",2,fc62c074904de245aeeedb8040908ecbfda5e8f4,idp-improvements-stable/train,"# domain_id: ""default"" # display_name: ""Keystone IDP"" # Optional, used in Horizon IDP dropdown",,3,0
openstack%2Fkolla-ansible~stable%2Ftrain~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/train,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:05:06.000000000,2020-07-06 13:08:39.000000000,2020-07-06 13:05:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 09:05:06.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/767f0ad06e000a3b9bc3b1e6d82e322c0df239c3', 'message': 'Use the children group for site.yml\n\n1. Use the children group for site.yml\n2. Add some missing groups\n\nChange-Id: I01d686368b11a105a8965cf987d23772ecbf97de\n(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)\n'}]",0,739434,767f0ad06e000a3b9bc3b1e6d82e322c0df239c3,8,4,1,14826,,,0,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/739434/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,767f0ad06e000a3b9bc3b1e6d82e322c0df239c3,, - prometheus-memcached-exporter - karbor-api - karbor-protection - karbor-operationengine - solum-application-deployment - solum-image-builder - mistral-event-engine - cyborg-api - cyborg-agent - cyborg-conductor, - karbor - cyborg,10,2
openstack%2Fnova~stable%2Fussuri~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,stable/ussuri,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-07-03 08:03:15.000000000,2020-07-06 13:08:20.000000000,2020-07-06 13:04:40.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 08:03:15.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/02f213b831d8e1d4a1d8ebb18d1260571fe20b84', 'message': ""Fix cherry-pick check for merge patch\n\nCherry-pick check script validates the proposed patch's commit message.\nIf a patch is not on top of the given branch then Zuul rebases it to\nthe top and the patch becomes a merge patch. In this case the script\nvalidates the merge patch's commit message instead of the original\npatch's commit message and fails.\n\nThis fix selects the parent of the patch if it is a merge patch.\n\nChange-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a\n(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)\n""}]",0,739176,02f213b831d8e1d4a1d8ebb18d1260571fe20b84,9,3,1,17685,,,0,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/739176/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,02f213b831d8e1d4a1d8ebb18d1260571fe20b84,backport-hash-check,"commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p')",hashes=$(git show --format='%b' --quiet $1 | sed -nr 's/^.cherry picked from commit (.*).$/\1/p'),11,1
openstack%2Fkolla~stable%2Fussuri~Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,openstack/kolla,stable/ussuri,Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,Bump prometheus-openstack-exporter version to 1.1.0,MERGED,2020-07-03 08:56:33.000000000,2020-07-06 13:07:46.000000000,2020-07-06 13:05:06.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-03 08:56:33.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be5da6d2c9b595cfc49e2c744d1464120f24e99e', 'message': 'Bump prometheus-openstack-exporter version to 1.1.0\n\nChange-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n(cherry picked from commit 2841004652d74f27f270b4fba5a68e6c845e173c)\n'}]",0,739183,be5da6d2c9b595cfc49e2c744d1464120f24e99e,12,4,1,26689,,,0,"Bump prometheus-openstack-exporter version to 1.1.0

Change-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
(cherry picked from commit 2841004652d74f27f270b4fba5a68e6c845e173c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/83/739183/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,be5da6d2c9b595cfc49e2c744d1464120f24e99e,openstack_exporter_bump-stable/ussuri,ENV prometheus_openstack_exporter_version=1.1.0,ENV prometheus_openstack_exporter_version=1.0.0,1,1
openstack%2Fkolla~master~I445134333b50439af20a3ca12757d519fa2624d4,openstack/kolla,master,I445134333b50439af20a3ca12757d519fa2624d4,openvswitch-netcontrold: build always,MERGED,2020-07-06 10:08:58.000000000,2020-07-06 13:07:25.000000000,2020-07-06 13:05:12.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-07-06 10:08:58.000000000', 'files': ['kolla/image/build.py', 'docker/openvswitch/openvswitch-netcontrold/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/70ffba824177e967e5829852b534e05f50486745', 'message': 'openvswitch-netcontrold: build always\n\nThis is infrastructure package where binary/source split does not make\nsense.\n\nChange-Id: I445134333b50439af20a3ca12757d519fa2624d4\n'}]",0,739452,70ffba824177e967e5829852b534e05f50486745,10,7,1,24072,,,0,"openvswitch-netcontrold: build always

This is infrastructure package where binary/source split does not make
sense.

Change-Id: I445134333b50439af20a3ca12757d519fa2624d4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/739452/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/openvswitch/openvswitch-netcontrold/Dockerfile.j2']",2,70ffba824177e967e5829852b534e05f50486745,,,{% if install_type == 'binary' %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% elif install_type == 'source' %} {% endif %} ,0,10
openstack%2Fkolla-ansible~stable%2Fstein~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/stein,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:05:16.000000000,2020-07-06 13:07:24.000000000,2020-07-06 13:05:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 09:05:16.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14660467463e4fce88cd8cbc4b10162b75d3cc40', 'message': 'Use the children group for site.yml\n\n1. Use the children group for site.yml\n2. Add some missing groups\n\nChange-Id: I01d686368b11a105a8965cf987d23772ecbf97de\n(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)\n'}]",0,739435,14660467463e4fce88cd8cbc4b10162b75d3cc40,8,4,1,14826,,,0,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/739435/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,14660467463e4fce88cd8cbc4b10162b75d3cc40,, - prometheus-memcached-exporter - karbor-api - karbor-protection - karbor-operationengine - solum-application-deployment - solum-image-builder - mistral-event-engine - cyborg-api - cyborg-agent - cyborg-conductor, - karbor - cyborg,10,2
openstack%2Fcharm-neutron-api-plugin-arista~master~Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e,openstack/charm-neutron-api-plugin-arista,master,Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e,Add links to launchpad,MERGED,2020-07-06 11:48:07.000000000,2020-07-06 13:07:17.000000000,2020-07-06 13:07:17.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 11:48:07.000000000', 'files': ['src/README.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/a8368987f9eeb4bea5a342771cbd624d9318c5a0', 'message': 'Add links to launchpad\n\nChange-Id: Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e\n'}]",0,739467,a8368987f9eeb4bea5a342771cbd624d9318c5a0,7,3,1,31289,,,0,"Add links to launchpad

Change-Id: Ie48bd59a451a53d5dcd0832c17013aa621a0dc8e
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/67/739467/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'README.md']",2,a8368987f9eeb4bea5a342771cbd624d9318c5a0,launchpad, # Bugs Please report bugs on [Launchpad](https://bugs.launchpad.net/charm-neutron-api-plugin-arista/+filebug). For general questions please refer to the OpenStack [Charm Guide](https://docs.openstack.org/charm-guide/latest/).,,12,0
openstack%2Fkolla-ansible~stable%2Fussuri~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,stable/ussuri,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-06 09:04:59.000000000,2020-07-06 13:07:05.000000000,2020-07-06 13:05:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 09:04:59.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0a1072b8235dc73ebd82241f2ca3cbf28733d8f', 'message': 'Use the children group for site.yml\n\n1. Use the children group for site.yml\n2. Add some missing groups\n\nChange-Id: I01d686368b11a105a8965cf987d23772ecbf97de\n(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)\n'}]",0,739433,e0a1072b8235dc73ebd82241f2ca3cbf28733d8f,9,4,1,14826,,,0,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
(cherry picked from commit dc56401b427446703f77ac744fc27a0b5954b03c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/739433/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,e0a1072b8235dc73ebd82241f2ca3cbf28733d8f,, - prometheus-memcached-exporter - karbor-api - karbor-protection - karbor-operationengine - solum-application-deployment - solum-image-builder - mistral-event-engine - cyborg-api - cyborg-agent - cyborg-conductor, - karbor - cyborg,10,2
openstack%2Ftempest~master~I96d26ad3889f55d867fdea016953cce522a6fbdf,openstack/tempest,master,I96d26ad3889f55d867fdea016953cce522a6fbdf,Remove deprecated scenario image options,MERGED,2020-03-03 12:41:37.000000000,2020-07-06 13:06:34.000000000,2020-07-06 13:04:36.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-03-03 12:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c37c47231c06291cf04a6cf913f437e70c31fcf', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nCloses-Bug: #1393881\n""}, {'number': 2, 'created': '2020-03-12 10:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/60a5a8447626be5c3c84cfdc5c2d1f85398eb487', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nCloses-Bug: #1393881\nDepends-On: https://review.opendev.org/#/c/712634/\n""}, {'number': 3, 'created': '2020-03-24 10:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f12deb5dadc728f197f951b00300273b2b4c136', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nCloses-Bug: #1393881\nDepends-On: https://review.opendev.org/#/c/712634/\n""}, {'number': 4, 'created': '2020-06-11 16:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/509b4a03840692663672898190954eb7f5ed2345', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\nDepends-On: https://review.opendev.org/#/c/712634/\n""}, {'number': 5, 'created': '2020-06-11 19:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57eac231804fb92d08e96260855bfd00920ffe5b', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\n""}, {'number': 6, 'created': '2020-07-03 18:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5af2fef4a3069360e8b1d6a4115ff37b3846f132', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nFrom now on CONF.scenario.img_file will need a full path for the image.\nCONF.scenario.img_dir was deprecated and will be removed in the next\nrelease. Till Tempest 25.0.0, old behavior is maintained and keep working\nbut starting Tempest 26.0.0, you need to specify the full path\nin CONF.scenario.img_file config option.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\n""}, {'number': 7, 'created': '2020-07-03 22:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3191d003ce9dda582c3424605ce56c69cc8683e8', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nFrom now on CONF.scenario.img_file will need a full path for the image.\nCONF.scenario.img_dir was deprecated and will be removed in the next\nrelease. Till Tempest 25.0.0, old behavior is maintained and keep working\nbut starting Tempest 26.0.0, you need to specify the full path\nin CONF.scenario.img_file config option.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\n""}, {'number': 8, 'created': '2020-07-04 19:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5aeddb5935a1e2321501ea71fd382f738cf4e7ff', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nFrom now on CONF.scenario.img_file will need a full path for the image.\nCONF.scenario.img_dir was deprecated and will be removed in the next\nrelease. Till Tempest 25.0.0, old behavior is maintained and keep working\nbut starting Tempest 26.0.0, you need to specify the full path\nin CONF.scenario.img_file config option.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\n""}, {'number': 9, 'created': '2020-07-05 10:16:24.000000000', 'files': ['tempest/scenario/manager.py', 'doc/source/configuration.rst', 'tempest/config.py', 'releasenotes/notes/Remove-deprecated-image-scenario-options-b573c60e873ab451.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/02af6a44cccc01990fbaa697cea5881e097a1a98', 'message': ""Remove deprecated scenario image options\n\nLet's remove deprecated scenario image options which have been\ndeprecated for more than 4 years.\n\nFrom now on CONF.scenario.img_file will need a full path for the image.\nCONF.scenario.img_dir was deprecated and will be removed in the next\nrelease. Till Tempest 25.0.0, old behavior is maintained and keep working\nbut starting Tempest 26.0.0, you need to specify the full path\nin CONF.scenario.img_file config option.\n\nChange-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf\nRelated-Bug: #1393881\n""}]",15,710996,02af6a44cccc01990fbaa697cea5881e097a1a98,48,8,9,22873,,,0,"Remove deprecated scenario image options

Let's remove deprecated scenario image options which have been
deprecated for more than 4 years.

From now on CONF.scenario.img_file will need a full path for the image.
CONF.scenario.img_dir was deprecated and will be removed in the next
release. Till Tempest 25.0.0, old behavior is maintained and keep working
but starting Tempest 26.0.0, you need to specify the full path
in CONF.scenario.img_file config option.

Change-Id: I96d26ad3889f55d867fdea016953cce522a6fbdf
Related-Bug: #1393881
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/710996/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'doc/source/configuration.rst', 'tempest/config.py', 'releasenotes/notes/Remove-deprecated-image-scenario-options-b573c60e873ab451.yaml']",4,5c37c47231c06291cf04a6cf913f437e70c31fcf,remove_deprecated,--- upgrade: - | The following deprecated image scenario options are removed after a ~4 year deprecation period. * ``img_dir`` * ``ami_img_file`` * ``ari_img_file`` * ``aki_img_file`` ``img_file`` option needs to contain the full path to an image to be upload to glance. ,,25,52
openstack%2Fironic-python-agent-builder~master~I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012,openstack/ironic-python-agent-builder,master,I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012,Build tinyipa on focal,MERGED,2020-05-06 08:49:22.000000000,2020-07-06 13:05:57.000000000,2020-07-06 13:01:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-06 08:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/eb2ef761fa68fcdd207bd98092f8df826c8a116a', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 2, 'created': '2020-05-06 14:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/084931e5992972c9ab2eef1debe090b0089ed676', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 3, 'created': '2020-05-07 09:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ddf636e8b7aa429410ab307b6f76eccfc1f83417', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 4, 'created': '2020-05-08 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8bd34964f977b74626c5e954883dd0de5e0bd8f0', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 5, 'created': '2020-05-11 08:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/601b4a84e1d5301c267bb85a247e7b87b80cf2f4', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 6, 'created': '2020-05-11 12:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9fb862d5078435ccd799aa785662612fb795ba18', 'message': '[WIP] Build tinyipa on focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 7, 'created': '2020-05-11 13:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7aee42f92471e8f5e891ddd9dcbf24c2aa07f8e6', 'message': 'Build tinyipa on focal\n\nUse new ubuntu-focal nodeset to build tinyipa images.\nThis is needed to prepare to build tinyipa images based on\ntinycore 11.x because we need the new kernel 5.x version to\nbe able to chroot.\n\nMain changes:\n- patching tce-load to conform to new squashfs options in the new\nkernel\n- installing python3-pip instead of python-pip\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 8, 'created': '2020-05-19 10:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/08f000243816110e58d104a61568e332ce38361d', 'message': 'Build tinyipa on focal\n\nUse new ubuntu-focal nodeset to build tinyipa images.\nThis is needed to prepare to build tinyipa images based on\ntinycore 11.x because we need the new kernel 5.x version to\nbe able to chroot.\n\nMain changes:\n- patching tce-load to conform to new squashfs options in the new\nkernel\n- installing python3-pip instead of python-pip\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 9, 'created': '2020-06-03 13:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/aac3841955f817d060e3c1b32c080e722bd20602', 'message': 'Build tinyipa on focal\n\nUse new ubuntu-focal nodeset to build tinyipa images.\nThis is needed to prepare to build tinyipa images based on\ntinycore 11.x because we need the new kernel 5.x version to\nbe able to chroot.\n\nMain changes:\n- patching tce-load to conform to new squashfs options in the new\nkernel\n- installing python3-pip instead of python-pip\n\nStory: 2007753\nTask: 39943\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 10, 'created': '2020-06-24 13:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f9ac6c7033f401b23d7f428bc0bfdd39ca422271', 'message': 'Build tinyipa on focal\n\nUse new ubuntu-focal nodeset to build tinyipa images.\nThis is needed to prepare to build tinyipa images based on\ntinycore 11.x because we need the new kernel 5.x version to\nbe able to chroot.\n\nMain changes:\n- patching tce-load to conform to new squashfs options in the new\nkernel\n- installing python3-pip instead of python-pip\n\nStory: 2007753\nTask: 39943\n\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}, {'number': 11, 'created': '2020-07-03 09:28:58.000000000', 'files': ['tinyipa/install-deps.sh', 'tinyipa/finalise-tinyipa.sh', '.zuul.yaml', 'tinyipa/build-tinyipa.sh', 'tinyipa/build-instance-images.sh', 'tinyipa/patches/tce-load_squashfs.patch'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/82a1ba0c78d984e40d4ff659edb4f98501add108', 'message': 'Build tinyipa on focal\n\nUse new ubuntu-focal nodeset to build tinyipa images.\nThis is needed to prepare to build tinyipa images based on\ntinycore 11.x because we need the new kernel 5.x version to\nbe able to chroot.\n\nMain changes:\n- patching tce-load to conform to new squashfs options in the new\nkernel\n- installing python3-pip instead of python-pip\n\nStory: 2007753\nTask: 39943\n\nChange-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012\n'}]",6,725799,82a1ba0c78d984e40d4ff659edb4f98501add108,53,5,11,23851,,,0,"Build tinyipa on focal

Use new ubuntu-focal nodeset to build tinyipa images.
This is needed to prepare to build tinyipa images based on
tinycore 11.x because we need the new kernel 5.x version to
be able to chroot.

Main changes:
- patching tce-load to conform to new squashfs options in the new
kernel
- installing python3-pip instead of python-pip

Story: 2007753
Task: 39943

Change-Id: I3d8a1ab84cae3c7185eb4f9bfefe239fab49a012
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/99/725799/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb2ef761fa68fcdd207bd98092f8df826c8a116a,build-focal-tinyipa, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,2,0
openstack%2Fpython-tripleoclient~master~I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,openstack/python-tripleoclient,master,I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,Bump tripleo-common,MERGED,2020-05-27 13:01:18.000000000,2020-07-06 12:53:10.000000000,2020-05-28 20:35:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-27 13:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6404e7b5c838f82e256911bf808934955ce0696b', 'message': 'Bump tripleo-common\n\nFor the Container Image Build command, we need new functionalities from\nthe BuildahBuilder that were released after 12.4.0 tag.\n\nThis patch makes sure tripleo-common >= 12.4.0 is pulled in the Python\njobs.\n\nChange-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58\n'}, {'number': 2, 'created': '2020-05-27 17:49:17.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/185d9f89542366bafb891cf725384e310b0137e0', 'message': 'Bump tripleo-common\n\nFor the Container Image Build command, we need new functionalities from\nthe BuildahBuilder that were released after 12.4.0 tag.\n\nThis patch makes sure tripleo-common >= 12.4.0 is pulled in the Python\njobs.\n\nChange-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58\n'}]",0,731192,185d9f89542366bafb891cf725384e310b0137e0,18,6,2,3153,,,0,"Bump tripleo-common

For the Container Image Build command, we need new functionalities from
the BuildahBuilder that were released after 12.4.0 tag.

This patch makes sure tripleo-common >= 12.4.0 is pulled in the Python
jobs.

Change-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/731192/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6404e7b5c838f82e256911bf808934955ce0696b,tripleo-common,tripleo-common>=12.4.0 # Apache-2.0,tripleo-common>=12.2.0 # Apache-2.0,1,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I4a5250b0e76747c9e02fe3b64c920b0886e71155,openstack/python-tripleoclient,stable/ussuri,I4a5250b0e76747c9e02fe3b64c920b0886e71155,Combined cherry-pick for container image v2,ABANDONED,2020-06-18 15:47:59.000000000,2020-07-06 12:50:59.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-18 15:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d584d7fd9ad5e24171d30e88a1027e1ade50302a', 'message': 'Combined cherry-pick for container image v2\n\nAdd openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nAdd tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nDepends-On: https://review.opendev.org/736751\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)\n\nChange-Id: I4a5250b0e76747c9e02fe3b64c920b0886e71155\n'}, {'number': 2, 'created': '2020-06-19 13:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21269bf8658ad8a3040681448e91c20807f54bcd', 'message': 'Combined cherry-pick for container image v2\n\nAdd openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nAdd tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nDepends-On: https://review.opendev.org/736751\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)\n\nChange-Id: I4a5250b0e76747c9e02fe3b64c920b0886e71155\n'}, {'number': 3, 'created': '2020-07-06 12:46:58.000000000', 'files': ['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'bindep.txt', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v2/container_image/__init__.py', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9da82a4dec83364164fee7b22df1dcf4bec8d010', 'message': 'Combined cherry-pick for container image v2\n\nAdd openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nAdd tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nDepends-On: https://review.opendev.org/736751\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)\n\nChange-Id: I4a5250b0e76747c9e02fe3b64c920b0886e71155\n'}]",0,736759,9da82a4dec83364164fee7b22df1dcf4bec8d010,10,3,3,7353,,,0,"Combined cherry-pick for container image v2

Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Add tripleo container image hotfix command

This change adds a CLI command to invoke hotfixes via the TripleO modify
image role. This CLI command will ensure a uniform experience for operators
when needing to apply a hotfixes to containers.

Depends-On: https://review.opendev.org/736751

Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)
(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)

Change-Id: I4a5250b0e76747c9e02fe3b64c920b0886e71155
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/736759/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'bindep.txt', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v2/container_image/__init__.py', 'setup.cfg']",5,d584d7fd9ad5e24171d30e88a1027e1ade50302a,images/new-ussuri, tripleo_container_image_build = tripleoclient.v2.tripleo_container_image:Build tripleo_container_image_hotfix = tripleoclient.v2.tripleo_container_image:HotFix,,908,0
openstack%2Fironic-python-agent~master~Ibe4d212d83bc27163af1fa9aa82881ade2d647db,openstack/ironic-python-agent,master,Ibe4d212d83bc27163af1fa9aa82881ade2d647db,Switch the inspector job to tinyIPA until DIB is fixed,MERGED,2020-07-03 08:32:07.000000000,2020-07-06 12:48:33.000000000,2020-07-06 12:43:26.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-03 08:32:07.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a08029a44ea4872d1c7afd51311a15be4f6a257f', 'message': 'Switch the inspector job to tinyIPA until DIB is fixed\n\nChange-Id: Ibe4d212d83bc27163af1fa9aa82881ade2d647db\n'}]",0,739178,a08029a44ea4872d1c7afd51311a15be4f6a257f,9,4,1,10239,,,0,"Switch the inspector job to tinyIPA until DIB is fixed

Change-Id: Ibe4d212d83bc27163af1fa9aa82881ade2d647db
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/78/739178/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,a08029a44ea4872d1c7afd51311a15be4f6a257f,gate, # FIXME(dtantsur): switch back to DIB IRONIC_RAMDISK_TYPE: tinyipa,,2,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I758360886f77ffc20856bc00424a3c7027c564f3,openstack/openstack-ansible-lxc_hosts,stable/ussuri,I758360886f77ffc20856bc00424a3c7027c564f3,Remove support for Ubuntu 16.04,MERGED,2020-06-30 13:05:01.000000000,2020-07-06 12:39:28.000000000,2020-07-06 12:37:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-30 13:05:01.000000000', 'files': ['vars/ubuntu-16.04.yml', 'vars/ubuntu-16.04-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/16ea6704f788772851d74cad6f65631d88cac2e6', 'message': 'Remove support for Ubuntu 16.04\n\nWe no longer support Xenial for openstack-ansible since Rocky.\n\nChange-Id: I758360886f77ffc20856bc00424a3c7027c564f3\n(cherry picked from commit ac2789cebd75d741f099b3328c42278f81b4a7df)\n'}]",0,738608,16ea6704f788772851d74cad6f65631d88cac2e6,10,3,1,25023,,,0,"Remove support for Ubuntu 16.04

We no longer support Xenial for openstack-ansible since Rocky.

Change-Id: I758360886f77ffc20856bc00424a3c7027c564f3
(cherry picked from commit ac2789cebd75d741f099b3328c42278f81b4a7df)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/08/738608/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-16.04.yml', 'vars/ubuntu-16.04-host.yml']",2,16ea6704f788772851d74cad6f65631d88cac2e6,,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## APT Cache Options cache_timeout: 600 # Required apt packages. _lxc_hosts_distro_packages: - apparmor - apparmor-profiles - apparmor-utils - aria2 - bridge-utils - btrfs-tools - cgmanager - cgroup-lite - dbus - debootstrap - dnsmasq-base - git - iptables - irqbalance - language-pack-en - liblxc1 - lxc - lxc-dev - lxc-templates - procps - python-dev - python-lxc - python3-lxc - systemd-container - xz-utils # Package to remove from the host lxc_hosts_remove_distro_packages: - dnsmasq lxc_xz_bin: xz system_config_dir: ""/etc/default"" systemd_utils_prefix: ""/lib/systemd"" lxc_cached_network_interfaces: - src: ""lxc-net-bridge.cfg.j2"" dest: ""/etc/network/interfaces.d/lxc-net-bridge.cfg"" ",0,115
openstack%2Fironic~master~I62b2d32c545b6ad6487aead98c8fab212ed5e83f,openstack/ironic,master,I62b2d32c545b6ad6487aead98c8fab212ed5e83f,Fix the error message when reached max number of traits,MERGED,2020-07-04 07:41:56.000000000,2020-07-06 12:37:48.000000000,2020-07-06 09:25:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-04 07:41:56.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d90459a87fce4a84d34bdf24604de3edfb23dda7', 'message': 'Fix the error message when reached max number of traits\n\nThe error message is not properly tranlated as desired, raw string\nis returned when reached maximum number of traits.\n\nChange-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f\n'}]",0,739299,d90459a87fce4a84d34bdf24604de3edfb23dda7,14,6,1,24828,,,0,"Fix the error message when reached max number of traits

The error message is not properly tranlated as desired, raw string
is returned when reached maximum number of traits.

Change-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/739299/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,d90459a87fce4a84d34bdf24604de3edfb23dda7,trait-errormsg," msg = (_(""Could not modify traits for node %(node_id)s as it "" ""would exceed the maximum number of traits per node "" ""(%(num_traits)d vs. %(max_traits)d)"") % {'node_id': node_id, 'num_traits': num_traits, 'max_traits': MAX_TRAITS_PER_NODE}) raise exception.InvalidParameterValue(err=msg)"," msg = _(""Could not modify traits for node %(node_id)s as it would "" ""exceed the maximum number of traits per node "" ""(%(num_traits)d vs. %(max_traits)d)"") raise exception.InvalidParameterValue( msg, node_id=node_id, num_traits=num_traits, max_traits=MAX_TRAITS_PER_NODE)",6,6
openstack%2Fironic~master~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,master,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-03 09:42:05.000000000,2020-07-06 12:36:19.000000000,2020-07-06 11:30:27.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-03 09:42:05.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f6374a209dcf96ecf7d55da4999b045ae4061ef', 'message': 'Clean up nodes in DELETING on conductor restart\n\nChange-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d\n'}]",0,739192,4f6374a209dcf96ecf7d55da4999b045ae4061ef,16,6,1,10239,,,0,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/739192/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py']",5,4f6374a209dcf96ecf7d55da4999b045ae4061ef,deleting," ADOPTING, RESCUING, UNRESCUING, DELETING)machine.add_transition(DELETING, ERROR, 'fail')"," ADOPTING, RESCUING, UNRESCUING)machine.add_transition(DELETING, ERROR, 'error')",9,4
openstack%2Fkolla-ansible~master~Ia22f286e85be90983ca79291b3a54596bba30d6c,openstack/kolla-ansible,master,Ia22f286e85be90983ca79291b3a54596bba30d6c,"Add support for the Neutron service plugin ""trunk""",MERGED,2020-06-27 15:01:03.000000000,2020-07-06 12:36:06.000000000,2020-07-06 12:32:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-27 15:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/896a2a3472be1cbb294d597228061f0af694490b', 'message': 'Add support for the Neutron service plugin ""trunk""\n\nChange-Id: Ia22f286e85be90983ca79291b3a54596bba30d6c\n'}, {'number': 2, 'created': '2020-06-29 09:18:16.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml', 'doc/source/reference/networking/neutron-extensions.rst', 'etc/kolla/globals.yml', 'releasenotes/notes/add-parameter-enable_neutron_trunk-1bca43f6c5c36aea.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ff15a8ee7113b06c0393815a2327f99ec3e540b', 'message': 'Add support for the Neutron service plugin ""trunk""\n\nChange-Id: Ia22f286e85be90983ca79291b3a54596bba30d6c\n'}]",0,738315,3ff15a8ee7113b06c0393815a2327f99ec3e540b,13,3,2,167,,,0,"Add support for the Neutron service plugin ""trunk""

Change-Id: Ia22f286e85be90983ca79291b3a54596bba30d6c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/738315/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml']",2,896a2a3472be1cbb294d597228061f0af694490b,feat/neutron-trunk-service-plugin," - name: ""trunk"" enabled: ""{{ enable_neutron_trunk | bool }}""",,3,0
openstack%2Fmagnum-tempest-plugin~master~Idb6534adcf4410169b37f83a4b0b15478370bd9c,openstack/magnum-tempest-plugin,master,Idb6534adcf4410169b37f83a4b0b15478370bd9c,Set the default ussuri heat_container_agent_tag to ussuri-stable-1,ABANDONED,2020-06-30 21:05:08.000000000,2020-07-06 12:35:07.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2020-06-30 21:05:08.000000000', 'files': ['magnum_tempest_plugin/common/datagen.py'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/e8219a7bdbe55b076384ca68fcae4ed5ca185d00', 'message': 'Set the default ussuri heat_container_agent_tag to ussuri-stable-1\n\nBecause the current one is ussuri-dev and it is not working\n\nChange-Id: Idb6534adcf4410169b37f83a4b0b15478370bd9c\n'}]",0,738698,e8219a7bdbe55b076384ca68fcae4ed5ca185d00,5,3,1,31746,,,0,"Set the default ussuri heat_container_agent_tag to ussuri-stable-1

Because the current one is ussuri-dev and it is not working

Change-Id: Idb6534adcf4410169b37f83a4b0b15478370bd9c
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/98/738698/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_tempest_plugin/common/datagen.py'],1,e8219a7bdbe55b076384ca68fcae4ed5ca185d00,," ""image_id"": data_utils.rand_name('cluster'), ""heat_container_agent_tag"": ""ussuri-stable-1"""," ""image_id"": data_utils.rand_name('cluster')",2,1
openstack%2Fnova~stable%2Fstein~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/stein,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-06-02 14:43:46.000000000,2020-07-06 12:21:58.000000000,2020-07-06 12:19:42.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31849}]","[{'number': 1, 'created': '2020-06-02 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/672a567a9b27e645b9a84e034dfcec280bb089e9', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nNOTE(lyarwood): Conflicts on stable/stein due to the following:\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n\n    * Due to I5895865751e8e1fb08b3515bc9f8119cfcb9f35e not being present\n      on stable/stein.\n\n    nova/tests/functional/regressions/test_bug_1595962.py\n\n    * Due to I8e5a122cc547222249973cf595d90c2d8d5658d4 not being present\n      on stable/stein.\n\n    nova/virt/libvirt/driver.py\n\n    * Due to I725deb0312c930087c9e60115abe68b4e06e6804 and\n      I6929c588dd2e0e805f2e30b2e30d29967469d756 not being present on\n      stable/stein.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n""}, {'number': 2, 'created': '2020-06-09 15:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/889975ff16bee0f63bfe8603ef6870d71c4e937b', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n    nova/tests/functional/regressions/test_bug_1595962.py\n    nova/virt/libvirt/driver.py\n\nChanges:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(lyarwood): Conflicts on stable/stein due to the following:\n\n- nova/tests/functional/libvirt/base.py\n  Due to I5895865751e8e1fb08b3515bc9f8119cfcb9f35e not being present\n  on stable/stein.\n\n- nova/tests/functional/regressions/test_bug_1595962.py\n  Due to I8e5a122cc547222249973cf595d90c2d8d5658d4 not being present\n  on stable/stein.\n\n- nova/virt/libvirt/driver.py\n  Due to I725deb0312c930087c9e60115abe68b4e06e6804 and\n  I6929c588dd2e0e805f2e30b2e30d29967469d756 not being present on\n  stable/stein.\n\nNOTE(lyarwood): Changes on stable/stein due to\nI5895865751e8e1fb08b3515bc9f8119cfcb9f35e (""libvirt: Mock libvirt\'y\nthings in setUp"") not being present on stable/stein.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n'}, {'number': 3, 'created': '2020-06-10 02:24:52.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7d8aa699793e1d60ece4e03920e6041337f9a43', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n    nova/tests/functional/regressions/test_bug_1595962.py\n    nova/virt/libvirt/driver.py\n\nChanges:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(lyarwood): Conflicts on stable/stein due to the following:\n\n- nova/tests/functional/libvirt/base.py\n  Due to I5895865751e8e1fb08b3515bc9f8119cfcb9f35e not being present\n  on stable/stein.\n\n- nova/tests/functional/regressions/test_bug_1595962.py\n  Due to I8e5a122cc547222249973cf595d90c2d8d5658d4 not being present\n  on stable/stein.\n\n- nova/virt/libvirt/driver.py\n  Due to I725deb0312c930087c9e60115abe68b4e06e6804 and\n  I6929c588dd2e0e805f2e30b2e30d29967469d756 not being present on\n  stable/stein.\n\nNOTE(lyarwood): Changes on stable/stein due to\nI5895865751e8e1fb08b3515bc9f8119cfcb9f35e (""libvirt: Mock libvirt\'y\nthings in setUp"") not being present on stable/stein.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n'}]",3,732696,a7d8aa699793e1d60ece4e03920e6041337f9a43,83,12,3,10135,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
    nova/tests/functional/libvirt/base.py
    nova/tests/functional/regressions/test_bug_1595962.py
    nova/virt/libvirt/driver.py

Changes:
    nova/tests/functional/libvirt/test_pci_sriov_servers.py

NOTE(lyarwood): Conflicts on stable/stein due to the following:

- nova/tests/functional/libvirt/base.py
  Due to I5895865751e8e1fb08b3515bc9f8119cfcb9f35e not being present
  on stable/stein.

- nova/tests/functional/regressions/test_bug_1595962.py
  Due to I8e5a122cc547222249973cf595d90c2d8d5658d4 not being present
  on stable/stein.

- nova/virt/libvirt/driver.py
  Due to I725deb0312c930087c9e60115abe68b4e06e6804 and
  I6929c588dd2e0e805f2e30b2e30d29967469d756 not being present on
  stable/stein.

NOTE(lyarwood): Changes on stable/stein due to
I5895865751e8e1fb08b3515bc9f8119cfcb9f35e (""libvirt: Mock libvirt'y
things in setUp"") not being present on stable/stein.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/732696/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,672a567a9b27e645b9a84e034dfcec280bb089e9,bug/1550919," mock.patch.object(drvr, '_cleanup')): cleanup_instance_dir=False, cleanup_instance_disks=False): mock.patch.object(drvr, '_cleanup')): @mock.patch.object(drvr, '_cleanup') self.assertRaises( test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( self.context, instance, [], None, None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, None, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: self.assertRaises( test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( None, None, None, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks)"," mock.patch.object(drvr, 'cleanup')): destroy_disks_on_failure=False): mock.patch.object(drvr, 'cleanup')): @mock.patch.object(drvr, 'cleanup') self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, False) # destroy_disks_on_failure=True, used only by spawn() mock_cleanup.reset_mock() self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, destroy_disks_on_failure=True) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, True) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, None, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: self.assertRaises(test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, True) mock_cleanup.assert_called_once_with(None, None, network_info=None, block_device_info=None, destroy_disks=True)",181,88
openstack%2Ftripleo-ci~master~I491dba2fe6b296a5396668fe673f14f6492f0a5a,openstack/tripleo-ci,master,I491dba2fe6b296a5396668fe673f14f6492f0a5a,DNM: Test py3 on c7 (scl),ABANDONED,2020-06-02 21:38:30.000000000,2020-07-06 12:09:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-02 21:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9197bc46e69c938a5ae0361efc4a0ae2ac00663a', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 2, 'created': '2020-06-02 22:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef7020ec3c9cd6fe40f7a1a2155877b2a83a59d5', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 3, 'created': '2020-06-03 00:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a1c063854a5c7bccc9c659d4b6edd59737c086fe', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 4, 'created': '2020-06-03 14:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc671fd5816d4f6936298514233086d93f83e4a9', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 5, 'created': '2020-06-03 15:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9e04722184394a4bf14ebcba215b826acc3adaa5', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 6, 'created': '2020-06-03 16:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/97aed904e0892575061bec957cd033da90f856f2', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 7, 'created': '2020-06-03 17:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c2cd4049dea3119a3b41f93c4288cf531ee34357', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 8, 'created': '2020-06-03 19:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c4ffb5c33094229a9d78c390f40390ea8708acb6', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 9, 'created': '2020-06-03 21:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c85079875c0f92a8ea67b784c792a85b944bbb1', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 10, 'created': '2020-06-04 01:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fea6befefca9ae14e7bdbf9cf34a155feb5b6224', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 11, 'created': '2020-06-04 13:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/da1757bdc2f798625d2f8819c9a142d2f6a295ec', 'message': 'DNM: Test py3 on c7\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}, {'number': 12, 'created': '2020-06-04 16:43:43.000000000', 'files': ['roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml', 'zuul.d/layout.yaml', 'playbooks/tripleo-ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5956e81abcfcae4e312cb88d43fdaef4a4c41684', 'message': 'DNM: Test py3 on c7 (scl)\n\nChange-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a\n'}]",0,733006,5956e81abcfcae4e312cb88d43fdaef4a4c41684,27,2,12,8175,,,0,"DNM: Test py3 on c7 (scl)

Change-Id: I491dba2fe6b296a5396668fe673f14f6492f0a5a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/733006/11 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/pre.yaml', 'zuul.d/layout.yaml']",2,9197bc46e69c938a5ae0361efc4a0ae2ac00663a,py3-c7, - tripleo-buildimage-overcloud-full-centos-7-train," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - openstack-tox-linters - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py35: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - tripleo-buildimage-overcloud-full-centos-8: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - zuul.d/layout.yaml - zuul.d/build-image.yaml - tripleo-buildimage-ironic-python-agent-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-8-ussuri: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7-train: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train - tripleo-ci-centos-7-standalone-upgrade-train: branches: master gate: queue: tripleo jobs: # Don't put a files section on the linters job, otherwise no # jobs might be defined and nothing can merge in this repo. - openstack-tox-linters - tripleo-tox-molecule - openstack-tox-py35: files: *py_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-8: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train",34,104
openstack%2Ftripleo-ci~master~I33fa9265ec7aa25e0d25744d781bd62d81c4e255,openstack/tripleo-ci,master,I33fa9265ec7aa25e0d25744d781bd62d81c4e255,Remove cirros overrides from ovb jobs,ABANDONED,2020-06-05 14:46:28.000000000,2020-07-06 12:09:15.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-05 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd8c911baaa515dabfb45255cc0e2fccce426594', 'message': 'Remove cirros overrides from ovb jobs\n\nNew releases master/victoria and beyond should run cirros 0.5.1\nhttps://review.opendev.org/#/c/733676/\n\nOlder releases will keep using cirros 0.4.0.\n\nChange-Id: I33fa9265ec7aa25e0d25744d781bd62d81c4e255\n'}, {'number': 2, 'created': '2020-06-10 14:05:11.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28ef99fc973fb7d42bb2d6889f2e9dd30367c947', 'message': 'Remove cirros overrides from ovb jobs\n\nNew releases master/victoria and beyond should run cirros 0.5.1\nhttps://review.opendev.org/#/c/733676/\n\nOlder releases will keep using cirros 0.4.0.\n\nChange-Id: I33fa9265ec7aa25e0d25744d781bd62d81c4e255\n'}]",0,733862,28ef99fc973fb7d42bb2d6889f2e9dd30367c947,11,6,2,8175,,,0,"Remove cirros overrides from ovb jobs

New releases master/victoria and beyond should run cirros 0.5.1
https://review.opendev.org/#/c/733676/

Older releases will keep using cirros 0.4.0.

Change-Id: I33fa9265ec7aa25e0d25744d781bd62d81c4e255
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/733862/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml']",3,dd8c911baaa515dabfb45255cc0e2fccce426594,cirros-0.5.1,tempest_test_image_path: /opt/cache/files/cirros-0.5.1-x86_64-disk.img,tempest_test_image_path: /opt/cache/files/cirros-0.3.5-x86_64-disk.img tempest_tempest_conf_overrides: image.image_path: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img,3,9
openstack%2Fironic-specs~master~Ia0d2a168664bb9fadb79261492576ee2fcc56d1d,openstack/ironic-specs,master,Ia0d2a168664bb9fadb79261492576ee2fcc56d1d,API Evolution - Implement Tasks Resource,ABANDONED,2016-10-04 17:45:27.000000000,2020-07-06 11:56:49.000000000,,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 7711}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 13689}, {'_account_id': 14250}, {'_account_id': 14826}, {'_account_id': 19213}, {'_account_id': 19686}]","[{'number': 1, 'created': '2016-10-04 17:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/52ea019b8fdc4c5c27589e89e20c71d0ab15542a', 'message': 'API Evolution - Implement Tasks Resource\n\nMany operations in Ironic involve long-running asynchronous operations;\nsuch operations typically return an HTTP 202 status when Ironic accepts\nthe request to begin the task. However, it is difficult (or rather,\nimpossible in a multi-user environment) for any client to accurately\ntrack the progress of an accepted task, because no ""task identifier"" is\nreturned in the response.\n\nThis specification describes the implementation of ""task"" identifiers on\nsome API responses, allowing clients to track the status of the unique\nasynchronous action they requested.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n\'v2\' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full \'v2\' rewrite.\n\nChange-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d\nRelated-bug: #1630333\n'}, {'number': 2, 'created': '2016-10-04 22:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6bbb3925eba6aa66a908349f9e2950dfef4518aa', 'message': 'API Evolution - Implement Tasks Resource\n\nMany operations in Ironic involve long-running asynchronous operations;\nsuch operations typically return an HTTP 202 status when Ironic accepts\nthe request to begin the task. However, it is difficult (or rather,\nimpossible in a multi-user environment) for any client to accurately\ntrack the progress of an accepted task, because no ""task identifier"" is\nreturned in the response.\n\nThis specification describes the implementation of ""task"" identifiers on\nsome API responses, allowing clients to track the status of the unique\nasynchronous action they requested.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n\'v2\' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full \'v2\' rewrite.\n\nRelated-bug: #1630333\nChange-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d\n'}, {'number': 3, 'created': '2016-10-05 15:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/65be2fd856f6bd64de2176acb80bb298724eb40b', 'message': 'API Evolution - Implement Tasks Resource\n\nMany operations in Ironic involve long-running asynchronous operations;\nsuch operations typically return an HTTP 202 status when Ironic accepts\nthe request to begin the task. However, it is difficult (or rather,\nimpossible in a multi-user environment) for any client to accurately\ntrack the progress of an accepted task, because no ""task identifier"" is\nreturned in the response.\n\nThis specification describes the implementation of ""task"" identifiers on\nsome API responses, allowing clients to track the status of the unique\nasynchronous action they requested.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n\'v2\' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full \'v2\' rewrite.\n\nRelated-bug: #1630333\nChange-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d\n'}, {'number': 4, 'created': '2016-11-28 17:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/30d64d73061e53391bc8456c0788ed6889ccd5bb', 'message': 'API Evolution - Implement Tasks Resource\n\nMany operations in Ironic involve long-running asynchronous operations;\nsuch operations typically return an HTTP 202 status when Ironic accepts\nthe request to begin the task. However, it is difficult (or rather,\nimpossible in a multi-user environment) for any client to accurately\ntrack the progress of an accepted task, because no ""task identifier"" is\nreturned in the response.\n\nThis specification describes the implementation of ""task"" identifiers on\nsome API responses, allowing clients to track the status of the unique\nasynchronous action they requested.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n\'v2\' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full \'v2\' rewrite.\n\nRelated-bug: #1630333\nCo-Authored-By: Grzegorz Grasza <grzegorz.grasza@intel.com>\nChange-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d\n'}, {'number': 5, 'created': '2017-01-09 13:08:07.000000000', 'files': ['specs/approved/evolve-tasks.rst', 'specs/not-implemented/evolve-tasks.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e9487561e4785f7b4f701de5d3f4d4f2065ffa4c', 'message': 'API Evolution - Implement Tasks Resource\n\nMany operations in Ironic involve long-running asynchronous operations;\nsuch operations typically return an HTTP 202 status when Ironic accepts\nthe request to begin the task. However, it is difficult (or rather,\nimpossible in a multi-user environment) for any client to accurately\ntrack the progress of an accepted task, because no ""task identifier"" is\nreturned in the response.\n\nThis specification describes the implementation of ""task"" identifiers on\nsome API responses, allowing clients to track the status of the unique\nasynchronous action they requested.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n\'v2\' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full \'v2\' rewrite.\n\nRelated-bug: #1630333\nRelated-bug: #1623556\nCo-Authored-By: Grzegorz Grasza <grzegorz.grasza@intel.com>\nChange-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d\n'}]",116,382017,e9487561e4785f7b4f701de5d3f4d4f2065ffa4c,35,16,5,2889,,,0,"API Evolution - Implement Tasks Resource

Many operations in Ironic involve long-running asynchronous operations;
such operations typically return an HTTP 202 status when Ironic accepts
the request to begin the task. However, it is difficult (or rather,
impossible in a multi-user environment) for any client to accurately
track the progress of an accepted task, because no ""task identifier"" is
returned in the response.

This specification describes the implementation of ""task"" identifiers on
some API responses, allowing clients to track the status of the unique
asynchronous action they requested.

This patch is part of a series of patches which propose several discrete
units of work, broken out into separate specifications for tracking.
These have grown out of the discussions around whether we should have a
'v2' API, and what current pain-points we all experience with the
current API. It is my belief, after investigating all of the collected
concerns, that we can implement many of the desired changes
incrementally and without a full 'v2' rewrite.

Related-bug: #1630333
Related-bug: #1623556
Co-Authored-By: Grzegorz Grasza <grzegorz.grasza@intel.com>
Change-Id: Ia0d2a168664bb9fadb79261492576ee2fcc56d1d
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/17/382017/5 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/evolve-tasks.rst', 'specs/not-implemented/evolve-tasks.rst']",2,52ea019b8fdc4c5c27589e89e20c71d0ab15542a,api-evolution,../approved/evolve-tasks.rst,,413,0
openstack%2Fironic-specs~master~If476bab478ff58b30013aeca505e90e6f722f155,openstack/ironic-specs,master,If476bab478ff58b30013aeca505e90e6f722f155,Owner-aware baremetal nodes,ABANDONED,2016-12-28 17:05:09.000000000,2020-07-06 11:54:50.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 6638}, {'_account_id': 7711}, {'_account_id': 9542}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14760}, {'_account_id': 14826}, {'_account_id': 15122}, {'_account_id': 23883}]","[{'number': 1, 'created': '2016-12-28 17:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/353c154fd25041b006aa0e30759d924ed589c127', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 2, 'created': '2016-12-29 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/225f1999029dc1f6dadb9fd4bab5f05b3ac2130b', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 3, 'created': '2016-12-29 16:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8397616b4978874ca97c5b13c919841de7e222f1', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 4, 'created': '2016-12-30 07:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3844f624f313e53175aa3a8e6441b3a1dda26ed6', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 5, 'created': '2017-01-03 16:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/50267ae4ee73257a3012510aaa8d9b6e7c2b219c', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 6, 'created': '2017-01-24 11:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1e4902ede239d4ae28c39bcebc86d8d1a9fb28b8', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 7, 'created': '2017-01-24 14:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6d4567b390418d22e1fa4f7b1e792a4de77c82b9', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 8, 'created': '2017-01-24 14:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/07e55854337ada819428f133eb351d52f2508dd2', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 9, 'created': '2017-02-07 11:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2df4775adb34b0c42536d7debe772dae6e4985ee', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 10, 'created': '2017-04-14 14:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2753e29aef8208272f7b8c01f000b697852a408d', 'message': 'Tenant-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 11, 'created': '2017-07-31 12:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d292ebe5ad8a914c88bfb49cc4b2b5ba6466c922', 'message': 'Owner-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 12, 'created': '2017-07-31 12:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e0041199b104840c9b7c4eed281c6b8c16f1332f', 'message': 'Owner-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 13, 'created': '2017-09-01 16:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7d6bf53acba584a7bdbfb7ee8465a3176520bbc4', 'message': 'Owner-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}, {'number': 14, 'created': '2017-09-04 16:51:31.000000000', 'files': ['specs/not-implemented/owner-aware-nodes.rst', 'specs/approved/owner-aware-nodes.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8f1960f3f50631338a369081f503c42df2000a4c', 'message': 'Owner-aware baremetal nodes\n\nRelated-Bug: #1652957\nChange-Id: If476bab478ff58b30013aeca505e90e6f722f155\n'}]",128,415512,8f1960f3f50631338a369081f503c42df2000a4c,78,17,14,12356,,,0,"Owner-aware baremetal nodes

Related-Bug: #1652957
Change-Id: If476bab478ff58b30013aeca505e90e6f722f155
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/12/415512/12 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/tenant-aware-nodes.rst', 'specs/not-implemented/tenant-aware-nodes.rst']",2,353c154fd25041b006aa0e30759d924ed589c127,bug/1652957,../approved/tenant-aware-nodes.rst,,474,0
openstack%2Fironic~master~I01797700b953de8f936416b16819ca9a7a2e48fd,openstack/ironic,master,I01797700b953de8f936416b16819ca9a7a2e48fd,Support to perform only out-of-band automated cleaning,ABANDONED,2016-10-18 10:42:50.000000000,2020-07-06 11:50:27.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15074}, {'_account_id': 17998}, {'_account_id': 19003}]","[{'number': 1, 'created': '2016-10-18 10:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/800e68c9c2b98eb494ce8bc1f83250c01e4bee98', 'message': ""Support to perform only out-of-band cleaning for iLO drivers\n\nIronic performs cleaning operation in in-band way. There are\ncouple of clean steps in iLO drivers that can be performed\nout-of-band. But there is no mechanism available to disable\nin-band cleaning in Ironic.\n\nThis commit adds new boolean parameter 'oob_cleaning' that can be\nset in the Ironic config file or in the node's 'driver_info' to\nrestrict cleaning operation to out-of-band. This option would be\nuseful if one wishes to execute only out-of-band clean steps.\n\nCloses-Bug: #1634345\n\nChange-Id: I01797700b953de8f936416b16819ca9a7a2e48fd\n""}, {'number': 2, 'created': '2016-11-25 07:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce7556eff6b7f0229997e4eb2cd33bfd830a5a30', 'message': ""Support to perform only out-of-band cleaning\n\nIronic performs cleaning operation in in-band way. There are\ncouple of clean steps in vendor drivers that can be performed\nout-of-band. There is no mechanism available to disable in-band\ncleaning in Ironic if one wishes to execute only out-of-band\nclean steps.\n\nThis commit adds new boolean parameter 'oob_cleaning' that can\nbe set in the Ironic config file to restrict cleaning operation\nto out-of-band clean steps.\n\nCloses-Bug: #1634345\n\nChange-Id: I01797700b953de8f936416b16819ca9a7a2e48fd\n""}, {'number': 3, 'created': '2016-11-25 07:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f240adecb376be441b5b7f46795dc11ef900658a', 'message': ""Support to perform only out-of-band cleaning\n\nIronic performs cleaning operation in in-band way. There are\ncouple of clean steps in vendor drivers that can be performed\nout-of-band. There is no mechanism available to disable in-band\ncleaning in Ironic if one wishes to execute only out-of-band\nclean steps.\n\nThis commit adds new boolean parameter 'oob_cleaning' that can\nbe set in the Ironic config file to restrict cleaning operation\nto out-of-band clean steps.\n\nCloses-Bug: #1634345\n\nChange-Id: I01797700b953de8f936416b16819ca9a7a2e48fd\n""}, {'number': 4, 'created': '2016-11-28 09:01:05.000000000', 'files': ['ironic/drivers/modules/agent.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/iscsi_deploy.py', 'releasenotes/notes/support-for-only-oob-automated-cleaning-2d19a1510068f68a.yaml', 'ironic/conf/deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/80dc57ad34e4645ec8b6f1f139d5f4c68df5dcbe', 'message': ""Support to perform only out-of-band automated cleaning\n\nIronic performs automated cleaning operation in in-band way.\nThere are couple of clean steps in vendor drivers that can\nbe performed out-of-band. There is no mechanism available to\ndisable in-band automated cleaning in Ironic if one wishes to\nexecute only out-of-band clean steps.\n\nThis commit adds new boolean parameter 'oob_automated_cleaning'\nthat can be set in the Ironic config file to restrict cleaning\noperation to out-of-band clean steps.\n\nCloses-Bug: #1634345\n\nChange-Id: I01797700b953de8f936416b16819ca9a7a2e48fd\n""}]",7,387921,80dc57ad34e4645ec8b6f1f139d5f4c68df5dcbe,31,8,4,11076,,,0,"Support to perform only out-of-band automated cleaning

Ironic performs automated cleaning operation in in-band way.
There are couple of clean steps in vendor drivers that can
be performed out-of-band. There is no mechanism available to
disable in-band automated cleaning in Ironic if one wishes to
execute only out-of-band clean steps.

This commit adds new boolean parameter 'oob_automated_cleaning'
that can be set in the Ironic config file to restrict cleaning
operation to out-of-band clean steps.

Closes-Bug: #1634345

Change-Id: I01797700b953de8f936416b16819ca9a7a2e48fd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/387921/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/tests/unit/conductor/test_manager.py', 'doc/source/drivers/ilo.rst', 'ironic/conf/ilo.py', 'releasenotes/notes/ilo-drivers-support-for-only-oob-cleaning-f39d8dc349b0e143.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_deploy.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py']",9,800e68c9c2b98eb494ce8bc1f83250c01e4bee98,oob_cleaning," def _test_parse_driver_info(self, isFile_mock, ca_file=False, oob_clean=False): if ca_file: self.assertEqual('/home/user/cafile.pem', info['ca_file']) if oob_clean: self.assertTrue(info['oob_cleaning']) self._test_parse_driver_info(ca_file=True) self._test_parse_driver_info(ca_file=True) def test_parse_driver_info_oob_clean_in_driver_info(self): self.node.driver_info['oob_cleaning'] = 'True' self._test_parse_driver_info(oob_clean=True) def test_parse_driver_info_oob_clean_in_conf_file(self): self.config(oob_cleaning=True, group='ilo') self._test_parse_driver_info(oob_clean=True) def test_parse_driver_info_invalid_oob_cleaning(self): self.node.driver_info['oob_cleaning'] = 'test' self.assertRaisesRegex(exception.InvalidParameterValue, 'oob_cleaning ""test"" is not valid.', ilo_common.parse_driver_info, self.node) "," def _test_parse_driver_info(self, isFile_mock): self.assertEqual('/home/user/cafile.pem', info['ca_file']) self._test_parse_driver_info() self._test_parse_driver_info()",328,21
openstack%2Fansible-role-collect-logs~master~I705df1caae5ecec8eddc04a4af783cf4d0403e0d,openstack/ansible-role-collect-logs,master,I705df1caae5ecec8eddc04a4af783cf4d0403e0d,[Readme] Update infrared plugin installation,MERGED,2020-06-11 14:37:35.000000000,2020-07-06 11:50:14.000000000,2020-07-06 11:50:14.000000000,"[{'_account_id': 8367}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 14:37:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d087a23fae11fc24c13fd4e3f94aa3bb65bce5e1', 'message': '[Readme] Update infrared plugin installation\n\nSymlinking the role is no longer required in infrared due to\nthe following review:\nhttps://review.gerrithub.io/c/redhat-openstack/infrared/+/486423\n\nChange-Id: I705df1caae5ecec8eddc04a4af783cf4d0403e0d\n'}]",0,735156,d087a23fae11fc24c13fd4e3f94aa3bb65bce5e1,7,3,1,22873,,,0,"[Readme] Update infrared plugin installation

Symlinking the role is no longer required in infrared due to
the following review:
https://review.gerrithub.io/c/redhat-openstack/infrared/+/486423

Change-Id: I705df1caae5ecec8eddc04a4af783cf4d0403e0d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/56/735156/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d087a23fae11fc24c13fd4e3f94aa3bb65bce5e1,,3. Run the plugin:,3. From infrared directory symlink roles path: .. code-block:: $ ln -s $(pwd)/plugins $(pwd)/plugins/ansible-role-collect-logs/infrared_plugin/roles 4. Run the plugin:,1,7
openstack%2Fironic~master~I5a60aa820b60fd29d8ebbd851f3fd215458bab96,openstack/ironic,master,I5a60aa820b60fd29d8ebbd851f3fd215458bab96,Use unittest mock instead of 3rd party mock in test_raid,MERGED,2020-07-06 07:31:14.000000000,2020-07-06 11:47:13.000000000,2020-07-06 11:30:30.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-06 07:31:14.000000000', 'files': ['ironic/tests/unit/drivers/modules/ibmc/test_raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0841943c92b5ddebdbb055934e51c244abfdbc10', 'message': ""Use unittest mock instead of 3rd party mock in test_raid\n\nWe should use mock from unittest instead of 3rd party mock.\nSince we don't have mock in requirements anymore this could cause\nissues like in [1].\n\n[1] https://zuul.opendev.org/t/openstack/build/ff068dc014be42aabde51f95c8c9828e\n\nChange-Id: I5a60aa820b60fd29d8ebbd851f3fd215458bab96\n""}]",0,739418,0841943c92b5ddebdbb055934e51c244abfdbc10,11,4,1,23851,,,0,"Use unittest mock instead of 3rd party mock in test_raid

We should use mock from unittest instead of 3rd party mock.
Since we don't have mock in requirements anymore this could cause
issues like in [1].

[1] https://zuul.opendev.org/t/openstack/build/ff068dc014be42aabde51f95c8c9828e

Change-Id: I5a60aa820b60fd29d8ebbd851f3fd215458bab96
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/739418/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/ibmc/test_raid.py'],1,0841943c92b5ddebdbb055934e51c244abfdbc10,no-mock-yes-mock,from unittest import mock ,import mock,2,1
openstack%2Fcharm-ceilometer~master~I68bb146399fff4a93cb82701111d73b07a4c1a0b,openstack/charm-ceilometer,master,I68bb146399fff4a93cb82701111d73b07a4c1a0b,Ensure agent restart on event_publisher.yaml change,MERGED,2020-07-01 16:48:15.000000000,2020-07-06 11:46:13.000000000,2020-07-06 11:46:13.000000000,"[{'_account_id': 6737}, {'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 16:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f20fefd072b5238191c0ee9053bc4aeddd4cb242', 'message': 'Ensure agent restart on event_publisher.yaml change\n\nChange-Id: I68bb146399fff4a93cb82701111d73b07a4c1a0b\nCloses-Bug: #1880255\n'}, {'number': 2, 'created': '2020-07-02 17:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/766c4a6e8a01f33fe265226115e55a8840eb4f39', 'message': ""Ensure agent restart on event_publisher.yaml change\n\nAlso pinning mongodb charm to 53 in zaza trusty bundle\nsince higher versions don't work with trusty anymore.\n\nChange-Id: I68bb146399fff4a93cb82701111d73b07a4c1a0b\nCloses-Bug: #1880255\n""}, {'number': 3, 'created': '2020-07-03 15:54:32.000000000', 'files': ['lib/ceilometer_utils.py', 'unit_tests/test_ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2fad29a5ae8f3a326aba302e94152a36fc66b410', 'message': 'Ensure agent restart on event_publisher.yaml change\n\nChange-Id: I68bb146399fff4a93cb82701111d73b07a4c1a0b\nCloses-Bug: #1880255\n'}]",0,738891,2fad29a5ae8f3a326aba302e94152a36fc66b410,22,5,3,6737,,,0,"Ensure agent restart on event_publisher.yaml change

Change-Id: I68bb146399fff4a93cb82701111d73b07a4c1a0b
Closes-Bug: #1880255
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/91/738891/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceilometer_utils.py', 'unit_tests/test_ceilometer_utils.py']",2,f20fefd072b5238191c0ee9053bc4aeddd4cb242,bug/1880255," 'ceilometer-api', 'apache2'], ""/etc/ceilometer/event_pipeline.yaml"": ['ceilometer-collector'], 'ceilometer-api', 'apache2'], ""/etc/ceilometer/event_pipeline.yaml"": ['ceilometer-collector'], '/etc/ceilometer/event_pipeline.yaml': [ 'ceilometer-agent-central', 'ceilometer-agent-notification'],"," 'ceilometer-api', 'apache2'] 'ceilometer-api', 'apache2']",18,4
openstack%2Fvalidations-libs~master~I1cb6e7af5a072d40095babe553b218e7d2e2bd8d,openstack/validations-libs,master,I1cb6e7af5a072d40095babe553b218e7d2e2bd8d,Delete unused TripleO Jobs,ABANDONED,2020-07-06 07:44:14.000000000,2020-07-06 11:45:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-06 07:44:14.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f3932d2141a6afd85f388ca37c0b46cd163be076', 'message': 'Delete unused TripleO Jobs\n\nThis patch deletes all the useless TripleO CI jobs which are not really\ntesting the validations framework. Those will be replaced by the\nfunctional CI tests (WIP) ASAP.\n\nChange-Id: I1cb6e7af5a072d40095babe553b218e7d2e2bd8d\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,739422,f3932d2141a6afd85f388ca37c0b46cd163be076,3,1,1,11491,,,0,"Delete unused TripleO Jobs

This patch deletes all the useless TripleO CI jobs which are not really
testing the validations framework. Those will be replaced by the
functional CI tests (WIP) ASAP.

Change-Id: I1cb6e7af5a072d40095babe553b218e7d2e2bd8d
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/22/739422/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f3932d2141a6afd85f388ca37c0b46cd163be076,,, - tripleo-ci-centos-8-containers-multinode: &containers_multinode dependencies: &deps - openstack-tox-linters files: &containers_files - ^validations_libs/.* irrelevant-files: &irrelevant_scenario_files - .*.md$ - .*.rst$ - .*.txt$ - .*.ini$ - ^validations_libs/tests/.* - tripleo-ci-centos-8-standalone: &basic_standalone dependencies: *deps files: *containers_files irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-containers-multinode: *containers_multinode - tripleo-ci-centos-8-standalone: *basic_standalone,0,17
openstack%2Fironic~master~I6b73138f0ac2e4aaf6c329520fb8555d79d1a143,openstack/ironic,master,I6b73138f0ac2e4aaf6c329520fb8555d79d1a143,[WIP]Generic way to configure clean step priorites in Automated cleaning,ABANDONED,2017-03-07 10:57:52.000000000,2020-07-06 11:40:33.000000000,,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 15074}, {'_account_id': 19003}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-03-07 10:57:52.000000000', 'files': ['ironic/conf/conductor.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/conf/ilo.py', 'ironic/conf/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0a6b89f950397f9011fdb090ae0b5d8750455eb', 'message': '[WIP]Generic way to configure clean step priorites in Automated cleaning\n\nThis commit adds generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nChange-Id: I6b73138f0ac2e4aaf6c329520fb8555d79d1a143\nCloses-bug: #1618014\nspec: https://review.openstack.org/362615\n'}]",0,442383,a0a6b89f950397f9011fdb090ae0b5d8750455eb,10,5,1,15074,,,0,"[WIP]Generic way to configure clean step priorites in Automated cleaning

This commit adds generic way of configuring the clean step
priorities instead of adding changes in Ironic for each clean step
being introduced.

Change-Id: I6b73138f0ac2e4aaf6c329520fb8555d79d1a143
Closes-bug: #1618014
spec: https://review.openstack.org/362615
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/442383/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/conf/ilo.py', 'ironic/conf/deploy.py']",7,a0a6b89f950397f9011fdb090ae0b5d8750455eb,generic_cleaning," deprecated_for_removal=True, deprecated_reason=_('This configuration option is moved to ' 'dictionary of [conductor] ' 'clean_step_priority_overrides along with ' 'all clean step and its priorities.' 'please use that instead.'), deprecated_for_removal=True, deprecated_reason=_('This configuration option is moved to ' 'dictionary of [conductor] ' 'clean_step_priority_overrides along with ' 'all clean step and its priorities.' 'please use that instead.'), deprecated_for_removal=True, deprecated_reason=_('This configuration option is moved to ' 'dictionary of [conductor] ' 'clean_step_add_params along with other ' 'clean step parameters and its values' 'please use that instead.'), deprecated_for_removal=True, deprecated_reason=_('This configuration option is moved to ' 'dictionary of [conductor] ' 'clean_step_add_params along with other ' 'clean step parameters and its values' 'please use that instead.'), deprecated_for_removal=True, deprecated_reason=_('This configuration option is moved to ' 'dictionary of [conductor] ' 'clean_step_add_params along with other ' 'clean step parameters and its values' 'please use that instead.'),",,251,54
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,stable/stein,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-07-05 06:23:42.000000000,2020-07-06 11:39:45.000000000,2020-07-06 11:34:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-05 06:23:42.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e1d62fd29131c63c024691eb5d1d3bf8860e829e', 'message': 'Increase timout for linters job to 30mins\n\nThis job is given a longer time to run for two reasons, longer is\nspent in the job setup becasue of the increased number of repos\nin required_projects and more time is required to push the job\nlogs into swift storage than the previous method.\n\nJobs are currently failing because these startup/log collect phases\nare taking additional time rather than there being a lint issue, so\nthis patch extends the job time to account for that.\n\nChange-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165\n(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)\n'}]",0,739339,e1d62fd29131c63c024691eb5d1d3bf8860e829e,8,3,1,25023,,,0,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/39/739339/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e1d62fd29131c63c024691eb5d1d3bf8860e829e,, timeout: 1800 # 30 mins, timeout: 900 # 15 mins,1,1
openstack%2Fdiskimage-builder~master~I65807751b3764e86ba5adeb47552305ef2ea299b,openstack/diskimage-builder,master,I65807751b3764e86ba5adeb47552305ef2ea299b,Install yum and yum-utils on Red Hat family hosts,MERGED,2020-06-11 13:41:10.000000000,2020-07-06 11:31:07.000000000,2020-07-06 11:27:12.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-11 13:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/36587617ca30d87bb84c7c2423d4e31795b34c07', 'message': 'Install yum-utils on Red Hat family hosts\n\nElements like yum and yum-minimal depend on the yum and yumdownloader\nCLIs on the DIB host. We have been assuming these tools are always\ninstalled on Red Hat family distributions but that is no longer the case\nstarting from RHEL 8 and CentOS 8 and Fedora for a while -- these\nsystems moved on to DNF and DNF does not have a hard requirement on yum.\n\nWe noticed these two tools were missing while building an Octavia\namphora image on a CentOS 8 controller node in CI:\n\n[...] 08-yum-chroot:_install_pkg_manager:223  : sudo -E yum -y [...]\n[...] sudo: yum: command not found\n\nChange-Id: I65807751b3764e86ba5adeb47552305ef2ea299b\n'}, {'number': 2, 'created': '2020-06-11 15:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6ddf61cb520070a3d78fcc770aaafe7d93745fa4', 'message': 'Install yum and yum-utils on Red Hat family hosts\n\nElements like yum and yum-minimal depend on the yum and yumdownloader\nCLIs on the DIB host. We have been assuming these tools are always\ninstalled on Red Hat family distributions but that is no longer the case\nstarting from RHEL 8 and CentOS 8 and Fedora for a while -- these\nsystems moved on to DNF and DNF does not have a hard requirement on yum.\n\nWe noticed these two tools were missing while building an Octavia\namphora image on a CentOS 8 controller node in CI:\n\n[...] 08-yum-chroot:_install_pkg_manager:223  : sudo -E yum -y [...]\n[...] sudo: yum: command not found\n\nChange-Id: I65807751b3764e86ba5adeb47552305ef2ea299b\n'}, {'number': 3, 'created': '2020-07-06 08:33:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31dc53da67e239e1157602e763a579631b3611b1', 'message': 'Install yum and yum-utils on Red Hat family hosts\n\nElements like yum and yum-minimal depend on the yum and yumdownloader\nCLIs on the DIB host. We have been assuming these tools are always\ninstalled on Red Hat family distributions but that is no longer the case\nstarting from RHEL 8 and CentOS 8 and Fedora for a while -- these\nsystems moved on to DNF and DNF does not have a hard requirement on yum.\n\nWe noticed these two tools were missing while building an Octavia\namphora image on a CentOS 8 controller node in CI:\n\n[...] 08-yum-chroot:_install_pkg_manager:223  : sudo -E yum -y [...]\n[...] sudo: yum: command not found\n\nChange-Id: I65807751b3764e86ba5adeb47552305ef2ea299b\n'}]",0,735136,31dc53da67e239e1157602e763a579631b3611b1,19,6,3,6469,,,0,"Install yum and yum-utils on Red Hat family hosts

Elements like yum and yum-minimal depend on the yum and yumdownloader
CLIs on the DIB host. We have been assuming these tools are always
installed on Red Hat family distributions but that is no longer the case
starting from RHEL 8 and CentOS 8 and Fedora for a while -- these
systems moved on to DNF and DNF does not have a hard requirement on yum.

We noticed these two tools were missing while building an Octavia
amphora image on a CentOS 8 controller node in CI:

[...] 08-yum-chroot:_install_pkg_manager:223  : sudo -E yum -y [...]
[...] sudo: yum: command not found

Change-Id: I65807751b3764e86ba5adeb47552305ef2ea299b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/735136/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,36587617ca30d87bb84c7c2423d4e31795b34c07,centos-8,yum-utils [platform:redhat],,1,0
openstack%2Fironic~master~I5d0ddbb7f9829e5a29c96a6f700741c86836db26,openstack/ironic,master,I5d0ddbb7f9829e5a29c96a6f700741c86836db26,Clean up DHCP opts when the tftp links are cleaned up,ABANDONED,2019-04-22 15:20:37.000000000,2020-07-06 11:08:54.000000000,,"[{'_account_id': 2874}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24245}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-04-22 15:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31dc78f43f853615306004f81cd96afe870fe6ca', 'message': 'Clean up DHCP opts when the tftp links are cleaned up\n\nChange-Id: I5d0ddbb7f9829e5a29c96a6f700741c86836db26\nStory: 2005497\n'}, {'number': 2, 'created': '2019-04-23 08:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/760b19515f3b60b73b84d5811d00a4a8e4af8690', 'message': 'Clean up DHCP opts when the tftp links are cleaned up\n\nChange-Id: I5d0ddbb7f9829e5a29c96a6f700741c86836db26\nStory: #2005497\nTask: #30598\n'}, {'number': 3, 'created': '2019-04-24 02:25:38.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c4ee707119d4209e229c5b4503e4d11d48b282c', 'message': 'Clean up DHCP opts when the tftp links are cleaned up\n\nChange-Id: I5d0ddbb7f9829e5a29c96a6f700741c86836db26\nStory: #2005497\nTask: #30598\n'}]",6,654480,2c4ee707119d4209e229c5b4503e4d11d48b282c,25,10,3,2874,,,0,"Clean up DHCP opts when the tftp links are cleaned up

Change-Id: I5d0ddbb7f9829e5a29c96a6f700741c86836db26
Story: #2005497
Task: #30598
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/654480/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,31dc78f43f853615306004f81cd96afe870fe6ca,clean_dhcp_opts_master,"from ironic.common import network dhcp_opts = dhcp_options_for_instance(task) for opt in dhcp_opts: opt['opt_value'] = None vifs = network.get_node_vif_ids(task) if not (vifs['ports'] or vifs['portgroups']): LOG.warning(""clean dhcp opts called after port deleted"") else: provider = dhcp_factory.DHCPFactory() provider.update_dhcp(task, dhcp_opts, vifs)",,10,0
openstack%2Fironic-inspector~master~I14e1851b958dac1ff48389b7d029dd942e8ee70e,openstack/ironic-inspector,master,I14e1851b958dac1ff48389b7d029dd942e8ee70e,Use ListOpt for processing hooks,ABANDONED,2018-09-18 06:55:44.000000000,2020-07-06 11:06:54.000000000,,"[{'_account_id': 9610}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-09-18 06:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3fc0c30a604e5920e24ddc8a40844712f2c247ea', 'message': 'Use ListOpt for processing hooks\n\nThe configuration option processing_hooks is\nusing StrOpt, oslo.config provides ListOpt so we can use that to get a\nlist type instead of str, this simplifies our code implementation.\n\nChange-Id: I14e1851b958dac1ff48389b7d029dd942e8ee70e\nStory: #2003601\nTask: #24919\n'}, {'number': 2, 'created': '2018-09-18 06:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9f71bbb4fa4b06bf6aba03019dd90ae78b5ce8d5', 'message': 'Use ListOpt for processing hooks\n\nThe configuration option processing_hooks is\nusing StrOpt, oslo.config provides ListOpt so we can use that to get a\nlist type instead of str, this simplifies our code implementation.\n\nChange-Id: I14e1851b958dac1ff48389b7d029dd942e8ee70e\nStory: #2003601\nTask: #24919\n'}, {'number': 3, 'created': '2018-09-19 01:16:40.000000000', 'files': ['ironic_inspector/conf/processing.py', 'ironic_inspector/plugins/base.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/be21b84ce4e8308a13ef1297daa343f7ac5111ab', 'message': 'Use ListOpt for processing hooks\n\nThe configuration option processing_hooks is\nusing StrOpt, oslo.config provides ListOpt so we can use that to get a\nlist type instead of str, this simplifies our code implementation.\n\nChange-Id: I14e1851b958dac1ff48389b7d029dd942e8ee70e\nStory: #2003601\nTask: #24919\n'}]",2,603298,be21b84ce4e8308a13ef1297daa343f7ac5111ab,11,3,3,9610,,,0,"Use ListOpt for processing hooks

The configuration option processing_hooks is
using StrOpt, oslo.config provides ListOpt so we can use that to get a
list type instead of str, this simplifies our code implementation.

Change-Id: I14e1851b958dac1ff48389b7d029dd942e8ee70e
Story: #2003601
Task: #24919
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/98/603298/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/conf/processing.py', 'ironic_inspector/plugins/base.py']",2,3fc0c30a604e5920e24ddc8a40844712f2c247ea,2003601," names=CONF.processing.processing_hooks,"," names = [x.strip() for x in CONF.processing.processing_hooks.split(',') if x.strip()] names=names,",3,6
openstack%2Fkeystonemiddleware~master~I0ce8b6d8cd408c7fac8107972e7be70839e337fb,openstack/keystonemiddleware,master,I0ce8b6d8cd408c7fac8107972e7be70839e337fb,Change the default Identity endpoint to internal,MERGED,2019-06-03 11:11:16.000000000,2020-07-06 10:47:18.000000000,2020-07-06 10:43:56.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 8482}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 11:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/53b8b7663bed0daa33af4e0c5225d2cec39ebd24', 'message': 'Change the default Identity endpoint to internal\n\nIn [0] the ``interface``option was added in order to allow the Identity\nendpoint that is being used when validating tokens to be\nconfigured by the deployer. Change the default to using the internal\nendpoint, as that should be what most deployments will end up using.\n\n[0] https://review.opendev.org/651790\n\nDepends-On: https://review.opendev.org/651492\nChange-Id: I0ce8b6d8cd408c7fac8107972e7be70839e337fb\nCloses-Bug: 1830002\n'}, {'number': 2, 'created': '2020-06-14 08:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f6f66510dd7654f2b6ddf2bcc746766345a0fbb1', 'message': 'Change the default Identity endpoint to internal\n\nIn [0] the ``interface``option was added in order to allow the Identity\nendpoint that is being used when validating tokens to be\nconfigured by the deployer. Change the default to using the internal\nendpoint, as that should be what most deployments will end up using.\n\n[0] https://review.opendev.org/651790\n\nChange-Id: I0ce8b6d8cd408c7fac8107972e7be70839e337fb\nCloses-Bug: 1830002\n'}, {'number': 3, 'created': '2020-06-14 16:20:09.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'releasenotes/notes/change-default-identity-endpoint-fab39579255c31bb.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8f9a596fffbb262481b32191a98b9169bc1618b1', 'message': 'Change the default Identity endpoint to internal\n\nIn [0] the ``interface``option was added in order to allow the Identity\nendpoint that is being used when validating tokens to be\nconfigured by the deployer. Change the default to using the internal\nendpoint, as that should be what most deployments will end up using.\n\n[0] https://review.opendev.org/651790\n\nDepends-On: https://review.opendev.org/651492\nCloses-Bug: 1830002\nChange-Id: I0ce8b6d8cd408c7fac8107972e7be70839e337fb\n'}]",0,662734,8f9a596fffbb262481b32191a98b9169bc1618b1,23,5,3,13252,,,0,"Change the default Identity endpoint to internal

In [0] the ``interface``option was added in order to allow the Identity
endpoint that is being used when validating tokens to be
configured by the deployer. Change the default to using the internal
endpoint, as that should be what most deployments will end up using.

[0] https://review.opendev.org/651790

Depends-On: https://review.opendev.org/651492
Closes-Bug: 1830002
Change-Id: I0ce8b6d8cd408c7fac8107972e7be70839e337fb
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/34/662734/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py']",2,53b8b7663bed0daa33af4e0c5225d2cec39ebd24,drop-identity-admin-patch9," s.add_endpoint(interface='internal', url=east_url, region='east') s.add_endpoint(interface='internal', url=west_url, region='west') s.add_standard_endpoints(internal=self.KEYSTONE_URL)"," s.add_endpoint(interface='admin', url=east_url, region='east') s.add_endpoint(interface='admin', url=west_url, region='west') s.add_standard_endpoints(admin=self.KEYSTONE_URL)",5,5
openstack%2Fpython-tripleoclient~stable%2Fussuri~I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,openstack/python-tripleoclient,stable/ussuri,I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,Don't use stack name in default config_download_dir,MERGED,2020-07-03 11:49:31.000000000,2020-07-06 10:30:32.000000000,2020-07-06 10:24:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 11:49:31.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8211384480195087af1a75189de88a755a77a09c', 'message': ""Don't use stack name in default config_download_dir\n\nWe create a subfolder with the plan/stack name under the\nconfig_download_dir to store the config-downloaded artifacts.\nFix 'overcloud export' as users are not expected to specify\nthe path with the plan/stack name.\n\nChange-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963\nRelated-Bug: #1884246\n(cherry picked from commit e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1)\n""}]",0,739215,8211384480195087af1a75189de88a755a77a09c,12,4,1,8833,,,0,"Don't use stack name in default config_download_dir

We create a subfolder with the plan/stack name under the
config_download_dir to store the config-downloaded artifacts.
Fix 'overcloud export' as users are not expected to specify
the path with the plan/stack name.

Change-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963
Related-Bug: #1884246
(cherry picked from commit e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/739215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py']",2,8211384480195087af1a75189de88a755a77a09c,, '$HOME/config-download')) 'config-download')," '$HOME/config-download/<stack>')) 'config-download', parsed_args.stack)",4,5
openstack%2Fvalidations-libs~master~If5e678a7fbaba2790d31887c411fea0ed6d2b622,openstack/validations-libs,master,If5e678a7fbaba2790d31887c411fea0ed6d2b622,Change zuul config for functional CI execution,MERGED,2020-05-07 12:36:51.000000000,2020-07-06 10:24:55.000000000,2020-07-06 10:24:55.000000000,"[{'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-07 12:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a10f1200dee6c7d9238193f327795b978be45c25', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 2, 'created': '2020-05-07 13:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1e4a76123aad87d9387ad75a000700c2470f6c24', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 3, 'created': '2020-05-11 09:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b7ca90955b262a0ac1d5301a8aa71ed3e87a4160', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 4, 'created': '2020-05-11 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d7b9fc6c26d5b5eae165e83cec1888f078d5d4cf', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 5, 'created': '2020-05-11 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/186796884e6be9314c04b10690cb268d0b683269', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 6, 'created': '2020-05-11 21:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f569ed76d4d920d48f9bb27c9de3a855f90fdc63', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 7, 'created': '2020-05-12 06:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/23c34c42dbe6d986189822905f1ca407fa9bc548', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 8, 'created': '2020-05-12 09:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d7aef0f9fc8cc0d83719a81e25cd5bb7d5fe57a9', 'message': 'Change zuul config for functional CI execution\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 9, 'created': '2020-06-21 19:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6080fb9004e6a53a9e83632831cd34a5ab4a24fd', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 10, 'created': '2020-06-21 20:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7e394b3118694da9c6ddddad083ef75f9da4ab51', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 11, 'created': '2020-06-21 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/30a9cb3a24edbb25a710857b751669b85b9d8c08', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 12, 'created': '2020-06-21 20:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8c633baf697d8156e2333ee43bf0bc9b5a534c53', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 13, 'created': '2020-06-21 20:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b2a74930131f99e8a88564dc31f6d283741e109f', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 14, 'created': '2020-06-21 21:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/13e3d6089b269c4cb723ab0d33310642e57fe597', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 15, 'created': '2020-06-21 21:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c7da226f5aacdcce11a1f8f8b2568981f7a3932c', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 16, 'created': '2020-06-21 21:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/05850106d5d9df5cf67ff0b62ae13d1943621e67', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 17, 'created': '2020-06-22 06:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8372e507e903d80f182ef33be1a2d652b47b600b', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 18, 'created': '2020-06-22 08:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7d45f6bfda83a99a508cdee36e7eeb5a2f15c590', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 19, 'created': '2020-06-22 08:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d2aab10e9169141c8bc1659ce7772b7c90ef8cb5', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 20, 'created': '2020-06-22 08:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c4dd2a69b889c6001939f9382f71a4e5166b999d', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 21, 'created': '2020-06-22 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/158fb50cd0a2c0877b4636a29e12d127e21280b7', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 22, 'created': '2020-06-22 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/677917adb77c4abdb74f24905997865b421f5838', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 23, 'created': '2020-06-22 13:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2427caf9d7316bc9daa5288211fedd280746ca7d', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 24, 'created': '2020-06-23 08:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2616a3905f60f565ab1d52630c8326bf77549816', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/735973/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 25, 'created': '2020-06-25 13:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f046807753696db12ff11d391eeae69e430daad2', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 26, 'created': '2020-06-26 06:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3e5fb2c3051c7eaf6e38b0705be641ee8f711341', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 27, 'created': '2020-06-26 14:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/57bc96a56f3b19239b6ccde59686b700631a5f1b', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 28, 'created': '2020-06-26 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c6b3986c3026f59eb064ea3899db4dec156bd5eb', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 29, 'created': '2020-06-26 19:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/925479ac98b5f91732e4f5c480c44803a130fd2d', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 30, 'created': '2020-06-27 15:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e5f3ddac1f1bf4b66c31c78011e882cd76b4e6aa', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 31, 'created': '2020-06-27 15:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e020eb3780b660bbac7291c716ad03dff2915fea', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 32, 'created': '2020-06-27 16:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a6d38fb11c4861c979c9f6eae37982cf35527b77', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 33, 'created': '2020-06-28 21:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/867604f2f3c66bbb134545ea594faa687202cdac', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 34, 'created': '2020-06-28 21:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c9516a93d608aea776fec83ee97da3ca89aafb14', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 35, 'created': '2020-06-28 21:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a0b2c3ff17ec3fb113f1f0821c8f3cf7226bf3a3', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 36, 'created': '2020-06-28 21:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/445d8a3f43f8d318f5945115d780602e3f288a29', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 37, 'created': '2020-06-28 21:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d1b8dbf95275d317962341f3052a19e30dc2f80c', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 38, 'created': '2020-06-28 21:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d7ca7749f6d12f935d810eada06a8702fa35a4b2', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 39, 'created': '2020-06-28 21:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2b58c32e316f06c554fb46b021ee84a3a171d7b6', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 40, 'created': '2020-06-28 22:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9e1f43d064f57dd0697a040e451224b8290ef7ae', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 41, 'created': '2020-06-28 22:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/73350f0569f14e3d737468f6b6d1cd882b83f6b0', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 42, 'created': '2020-06-29 12:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a3a2a445efdfc791912229b7df9316880df3fa21', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}, {'number': 43, 'created': '2020-07-06 07:57:17.000000000', 'files': ['playbooks/legacy/validations-dsvm-functional/setup.yaml', 'playbooks/legacy/validations-dsvm-functional/validations.yaml', '.zuul.yaml', 'playbooks/legacy/validations-dsvm-functional/run.yaml', 'zuul.d/layout.yaml', 'playbooks/legacy/validations-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c317b78514522ae6e4371e75966ef18159decf30', 'message': 'Change zuul config for functional CI execution\n\nDepends-On: https://review.opendev.org/#/c/737997/\n\nChange-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622\n'}]",4,726108,c317b78514522ae6e4371e75966ef18159decf30,96,5,43,16515,,,0,"Change zuul config for functional CI execution

Depends-On: https://review.opendev.org/#/c/737997/

Change-Id: If5e678a7fbaba2790d31887c411fea0ed6d2b622
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/08/726108/30 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/validations-dsvm-functional/run.yaml', 'zuul.d/layout.yaml', 'playbooks/legacy/validations-dsvm-functional/post.yaml']",4,a10f1200dee6c7d9238193f327795b978be45c25,726108,,,30,29
openstack%2Fnova~master~I8dbc579e0037969aab4f2bb500fccfbde4190726,openstack/nova,master,I8dbc579e0037969aab4f2bb500fccfbde4190726,Snapshot: offload glance upload in a native thread,MERGED,2020-06-10 09:53:50.000000000,2020-07-06 10:24:11.000000000,2020-07-06 10:19:16.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}, {'_account_id': 31849}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-10 09:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b3d1a25bfe53ecfa709c73cffa56236ea5c4841', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDispact the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 2, 'created': '2020-06-10 14:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/716aff2be3f85652788269b9cb17eac336775aa5', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDispact the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\nThis change also limit by default [compute]/max_concurrent_disk_ops\nas snapshot will use a slot in nova-compute thread pool.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 3, 'created': '2020-06-12 07:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b823f35e4a87b7238e2d320d6ea347dc0936d98', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDispact the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\nThis change also introduces [DEFAULT]/max_concurrent_snapshots\nin order to limit by default compute resource overuse related\nto snapshot.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 4, 'created': '2020-06-16 11:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4139468cbc47661d146df4a47a2e1092230baf', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDispact the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\nThis change also introduces [DEFAULT]/max_concurrent_snapshots\nin order to limit by default compute resource overuse related\nto snapshot.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 5, 'created': '2020-06-17 11:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6227c62a22077bb0874216fe6db275cd4e7932b', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDespite the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 6, 'created': '2020-06-17 13:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20ee84596fb7588c4b7430ca028f63e4d3004bde', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDespite the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 7, 'created': '2020-06-26 10:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eeaeb09828bd9467ce130176c8865a23db1df619', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDespite the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}, {'number': 8, 'created': '2020-06-30 07:22:53.000000000', 'files': ['nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'releasenotes/notes/bug-1874032-2b01ed05bc7f6f8d.yaml', 'nova/utils.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be9b7358473ca5276cff3c6491f88cd512d118b8', 'message': 'Snapshot: offload glance upload in a native thread\n\nExecute glance upload in a native thread as it may block the current\ncoroutine until it completes.\n\nDespite the fact we use eventlet monkey_patching [1] to achieve cooperative\nyielding for network IO, file IO on busy file system may still get\nnova-compute hanging.\n\nStick those IO in a native thread using eventlet tpool.execute() [2]\navoid this issue.\n\n[1] https://eventlet.net/doc/patching.html\n[2] https://eventlet.net/doc/threading.html\n\nCloses-Bug: #1874032\nChange-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726\n'}]",20,734776,be9b7358473ca5276cff3c6491f88cd512d118b8,134,19,8,28332,,,0,"Snapshot: offload glance upload in a native thread

Execute glance upload in a native thread as it may block the current
coroutine until it completes.

Despite the fact we use eventlet monkey_patching [1] to achieve cooperative
yielding for network IO, file IO on busy file system may still get
nova-compute hanging.

Stick those IO in a native thread using eventlet tpool.execute() [2]
avoid this issue.

[1] https://eventlet.net/doc/patching.html
[2] https://eventlet.net/doc/threading.html

Closes-Bug: #1874032
Change-Id: I8dbc579e0037969aab4f2bb500fccfbde4190726
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/734776/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/utils.py', 'nova/tests/unit/image/test_glance.py']",3,8b3d1a25bfe53ecfa709c73cffa56236ea5c4841,bug/1874032," @mock.patch('nova.utils.tpool_execute', side_effect=nova.utils.tpool_execute) self, trans_to_mock, trans_from_mock, show_mock, texec_mock): texec_mock.assert_called_once_with( client.call, ctx, 2, 'upload', args=(mock.sentinel.image_id, mock.sentinel.data))"," self, trans_to_mock, trans_from_mock, show_mock):",18,2
openstack%2Fvalidations-common~master~I8c6727fda11d09329a2c356f593d087ec3f71259,openstack/validations-common,master,I8c6727fda11d09329a2c356f593d087ec3f71259,"Revert ""Add TripleO Jobs back""",MERGED,2020-07-06 07:33:32.000000000,2020-07-06 10:16:19.000000000,2020-07-06 10:16:19.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-06 07:33:32.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b49cc0c9d1dc94e459f77f68381a598a0b9fbdf9', 'message': 'Revert ""Add TripleO Jobs back""\n\nThis reverts commit c9f1eb8001ec487ff0e8a9b09c8074764f2fb870.\n\nChange-Id: I8c6727fda11d09329a2c356f593d087ec3f71259\n'}]",0,739419,b49cc0c9d1dc94e459f77f68381a598a0b9fbdf9,7,3,1,11491,,,0,"Revert ""Add TripleO Jobs back""

This reverts commit c9f1eb8001ec487ff0e8a9b09c8074764f2fb870.

Change-Id: I8c6727fda11d09329a2c356f593d087ec3f71259
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/19/739419/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b49cc0c9d1dc94e459f77f68381a598a0b9fbdf9,revert_ooo_jobs_back_commit, - openstack-tox-linters - openstack-tox-linters, - openstack-tox-linters: &tripleo-linters nodeset: centos-8 - tripleo-ci-centos-8-containers-multinode: &containers_multinode dependencies: &deps - openstack-tox-linters files: &containers_files - ^validations_common/.* irrelevant-files: &irrelevant_scenario_files - .*.md$ - .*.rst$ - .*.txt$ - ^validations_common/.*molecule.* - ^validations_common/tests/.* - tripleo-ci-centos-8-standalone: &basic_standalone dependencies: *deps files: *containers_files irrelevant-files: *irrelevant_scenario_files - openstack-tox-linters: *tripleo-linters - tripleo-ci-centos-8-containers-multinode: *containers_multinode - tripleo-ci-centos-8-standalone: *basic_standalone,2,20
openstack%2Fvalidations-libs~stable%2Fussuri~Ifff9bdb327b38db07df6cac328cbd387f2bc46f1,openstack/validations-libs,stable/ussuri,Ifff9bdb327b38db07df6cac328cbd387f2bc46f1,Remove playbook param from run_validation,MERGED,2020-07-01 12:41:41.000000000,2020-07-06 10:16:18.000000000,2020-07-06 10:16:18.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-01 12:41:41.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e0bf69783f4b8bc68404843852aa98e059309948', 'message': 'Remove playbook param from run_validation\n\nRemoving playbook parameters from run_validation function\nsince its overlap validation_name functionality and make it\nconfusing.\n\nChange-Id: Ifff9bdb327b38db07df6cac328cbd387f2bc46f1\n(cherry picked from commit de03576eebc64863434c78993f1b96f27b855c02)\n'}]",0,738840,e0bf69783f4b8bc68404843852aa98e059309948,7,3,1,16515,,,0,"Remove playbook param from run_validation

Removing playbook parameters from run_validation function
since its overlap validation_name functionality and make it
confusing.

Change-Id: Ifff9bdb327b38db07df6cac328cbd387f2bc46f1
(cherry picked from commit de03576eebc64863434c78993f1b96f27b855c02)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/40/738840/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/tests/test_validation_actions.py']",2,e0bf69783f4b8bc68404843852aa98e059309948,playbook/logic-stable/ussuri," @mock.patch('validations_libs.utils.get_validations_playbook', return_value=[]) def test_validation_run_no_validation(self, mock_get_val):", def test_validation_run_no_validation(self):,6,14
openstack%2Fdevstack~master~I2cceb1115ab2d971e611c385b8a14f5fe398feb0,openstack/devstack,master,I2cceb1115ab2d971e611c385b8a14f5fe398feb0,DO NOT REVIEW: Test OpenSuse fix,ABANDONED,2020-07-02 10:36:08.000000000,2020-07-06 10:03:04.000000000,,"[{'_account_id': 12907}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:36:08.000000000', 'files': ['lib/neutron_plugins/ovn'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c142410dafd65640edbcbe01af60ebfc83e356f', 'message': 'DO NOT REVIEW: Test OpenSuse fix\n\nChange-Id: I2cceb1115ab2d971e611c385b8a14f5fe398feb0\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,739013,4c142410dafd65640edbcbe01af60ebfc83e356f,3,2,1,6773,,,0,"DO NOT REVIEW: Test OpenSuse fix

Change-Id: I2cceb1115ab2d971e611c385b8a14f5fe398feb0
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/739013/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn'],1,4c142410dafd65640edbcbe01af60ebfc83e356f,ovn-devstack, OVS_BINDIR=${OVS_BINDIR:-/usr/local/bin} export PATH=$OVS_BINDIR:$PATH ,,3,0
openstack%2Fneutron~master~I9b6ff8aaee6516d1802b99e99daaf945477c31d3,openstack/neutron,master,I9b6ff8aaee6516d1802b99e99daaf945477c31d3,DO NOT REVIEW: OVS jobs to ignore OVN only related changes,ABANDONED,2020-04-03 09:42:27.000000000,2020-07-06 10:02:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-03 09:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f0b093a2c8fdeef59fd6b7b6829f84f6d13ab13', 'message': 'DO NOT REVIEW: OVS jobs to ignore OVN only related changes\n\nTest\n\nChange-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-04-03 09:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95e262d898da26f9355d60fc34d5677b0b587a87', 'message': 'DO NOT REVIEW: OVS jobs to ignore OVN only related changes\n\nTest\n\nChange-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-04-03 09:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a4b6736d7a37a249bc114fc402413cc513f2b61', 'message': 'DO NOT REVIEW: OVS jobs to ignore OVN only related changes\n\nTest\n\nChange-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-04-03 09:57:06.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cb4e25bad302e36a24e85a269586ae5ad97cc46', 'message': 'DO NOT REVIEW: OVS jobs to ignore OVN only related changes\n\nTest\n\nChange-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,717270,3cb4e25bad302e36a24e85a269586ae5ad97cc46,11,3,4,6773,,,0,"DO NOT REVIEW: OVS jobs to ignore OVN only related changes

Test

Change-Id: I9b6ff8aaee6516d1802b99e99daaf945477c31d3
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/717270/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,7f0b093a2c8fdeef59fd6b7b6829f84f6d13ab13,gate-ignore-ovn, name: neutron-ovs-base irrelevant-files: &irrelevant-files # NOTE(lucasagomes): Ignore it if a change only touches OVN driver # related files - ^neutron/plugins/ml2/drivers/ovn/.*$ - ^neutron/agent/ovn/.*$ - ^neutron/plugins/ml2/drivers/ovn/.*$ - ^neutron/common/ovn/.*$ - ^neutron/conf/agent/ovn/.*$ - ^neutron/services/qos/drivers/ovn/.*$ - ^neutron/services/trunk/drivers/ovn/.*$ - ^neutron/services/ovn_l3/.*$ - ^tools/migration_to_ovn/.*$ - ^neutron/tests/unit/plugins/ml2/drivers/ovn/.*$ - ^neutron/tests/unit/services/qos/drivers/ovn/.*$ - ^neutron/tests/unit/services/trunk/drivers/ovn/.*$ - ^neutron/conf/ovn.py - ^neutron/scheduler/ovn_l3_scheduler.py - ^neutron/tests/unit/fake_resources.py - job: name: neutron-tempest-dvr parent: neutron-ovs-base parent: neutron-ovs-base parent: neutron-ovs-base parent: neutron-ovs-base parent: neutron-ovs-base parent: neutron-ovs-base parent: neutron-ovs-base, name: neutron-tempest-dvr parent: tempest-integrated-networking parent: tempest-integrated-networking parent: tempest-integrated-networking parent: tempest-integrated-networking parent: tempest-integrated-networking parent: tempest-integrated-networking,29,7
openstack%2Ftripleo-quickstart-extras~master~I16ffef72673d5fdea46b2cb004757546e665c455,openstack/tripleo-quickstart-extras,master,I16ffef72673d5fdea46b2cb004757546e665c455,add ipv6 hotplug tests to skip list,MERGED,2020-06-01 17:06:51.000000000,2020-07-06 09:46:25.000000000,2020-06-06 05:13:12.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-01 17:06:51.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/393cac0970f80573b59cad98c77bf392761873e8', 'message': 'add ipv6 hotplug tests to skip list\n\nfull-tempest-scenario-master is conistently failing on\ntest_ipv6_hotplug:\n\nneutron_tempest_plugin.scenario.test_ipv6.IPv6Test\n\nChange-Id: I16ffef72673d5fdea46b2cb004757546e665c455\nRelated-Bug: #1881624\n'}]",0,732420,393cac0970f80573b59cad98c77bf392761873e8,31,4,1,8175,,,0,"add ipv6 hotplug tests to skip list

full-tempest-scenario-master is conistently failing on
test_ipv6_hotplug:

neutron_tempest_plugin.scenario.test_ipv6.IPv6Test

Change-Id: I16ffef72673d5fdea46b2cb004757546e665c455
Related-Bug: #1881624
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/20/732420/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,393cac0970f80573b59cad98c77bf392761873e8,lp/1881624, - test: 'neutron_tempest_plugin.scenario.test_ipv6.IPv6Test' reason: 'Timed out waiting for IP address' lp: 'https://bugs.launchpad.net/tripleo/+bug/1881624',,3,0
openstack%2Fdevstack-gate~master~I4459191aa3ea210c3c9809757a3844648a619365,openstack/devstack-gate,master,I4459191aa3ea210c3c9809757a3844648a619365,DNM: remove g-api from subnode,ABANDONED,2020-07-01 10:01:18.000000000,2020-07-06 09:24:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-01 10:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/54cdb3f37154a9ef54e79e554657aa7e9af6902c', 'message': 'DNM: remove g-api from subnode\n\ndevstack-multinode jobs fail in Queens and Pike at subnode, when g-api\nservice starts, with the following error:\n\ndevstack@g-api.service: Failed at step EXEC spawning /usr/local/bin/uwsgi: No such file or directory\n\nFrom Rocky the test-matrix is replaced in devstack jobs (see details in\npatch Ib1debefd541b933dbfc54d484c263cc0ed60423d), and g-api is not used\nanymore on subnode.\n\nChange-Id: I4459191aa3ea210c3c9809757a3844648a619365\n'}, {'number': 2, 'created': '2020-07-02 10:05:26.000000000', 'files': ['test-features.sh', 'roles/test-matrix/files/features.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f28db3f6fed5575af2856e9d018462cefefaeb94', 'message': 'DNM: remove g-api from subnode\n\ndevstack-multinode jobs fail in Queens and Pike at subnode, when g-api\nservice starts, with the following error:\n\ndevstack@g-api.service: Failed at step EXEC spawning /usr/local/bin/uwsgi: No such file or directory\n\nFrom Rocky the test-matrix is replaced in devstack jobs (see details in\npatch Ib1debefd541b933dbfc54d484c263cc0ed60423d), and g-api is not used\nanymore on subnode.\n\nChange-Id: I4459191aa3ea210c3c9809757a3844648a619365\n'}]",0,738780,f28db3f6fed5575af2856e9d018462cefefaeb94,5,1,2,17685,,,0,"DNM: remove g-api from subnode

devstack-multinode jobs fail in Queens and Pike at subnode, when g-api
service starts, with the following error:

devstack@g-api.service: Failed at step EXEC spawning /usr/local/bin/uwsgi: No such file or directory

From Rocky the test-matrix is replaced in devstack jobs (see details in
patch Ib1debefd541b933dbfc54d484c263cc0ed60423d), and g-api is not used
anymore on subnode.

Change-Id: I4459191aa3ea210c3c9809757a3844648a619365
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/80/738780/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/test-matrix/files/features.yaml'],1,54cdb3f37154a9ef54e79e554657aa7e9af6902c,, services: [], services: [g-api],1,1
openstack%2Fdevstack~stable%2Fqueens~I76726aee4b6be98123e55fea58cd6e816f3ceb24,openstack/devstack,stable/queens,I76726aee4b6be98123e55fea58cd6e816f3ceb24,Add ensure-pip to pre.yaml,ABANDONED,2020-06-30 12:49:06.000000000,2020-07-06 09:21:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-30 12:49:06.000000000', 'files': ['playbooks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9371ccccb64fd32d31549be32f17945955635a1b', 'message': ""Add ensure-pip to pre.yaml\n\nAfter running Tempest, it tries to install stackviz but that fails\ndue to old version of pip (version 8), which cannot handle correctly\nthe opendev mirror and fails to fetch some packages. This bug\ndisappears by pip version 9.\n\nTempest has ensure-pip before the failing role, but that's too late\nas pip is already installed and won't be upgraded.\n\nIf ensure-pip is added in devstack's pre.yaml, then it will install\nthe correct version of pip from the beginning.\n\nChange-Id: I76726aee4b6be98123e55fea58cd6e816f3ceb24\n(cherry picked from commit 6d3f95c62bfce4b66c4624b6fd62ff165745dfe4)\n""}]",0,738598,9371ccccb64fd32d31549be32f17945955635a1b,3,1,1,17685,,,0,"Add ensure-pip to pre.yaml

After running Tempest, it tries to install stackviz but that fails
due to old version of pip (version 8), which cannot handle correctly
the opendev mirror and fails to fetch some packages. This bug
disappears by pip version 9.

Tempest has ensure-pip before the failing role, but that's too late
as pip is already installed and won't be upgraded.

If ensure-pip is added in devstack's pre.yaml, then it will install
the correct version of pip from the beginning.

Change-Id: I76726aee4b6be98123e55fea58cd6e816f3ceb24
(cherry picked from commit 6d3f95c62bfce4b66c4624b6fd62ff165745dfe4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/738598/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/pre.yaml'],1,9371ccccb64fd32d31549be32f17945955635a1b,, - ensure-pip,,1,0
openstack%2Fopenstack-manuals~master~I952767f2f3f09085e6d5ad4e40f94de2fce800b7,openstack/openstack-manuals,master,I952767f2f3f09085e6d5ad4e40f94de2fce800b7,Add Kolla Ussuri guides,MERGED,2020-07-03 11:09:24.000000000,2020-07-06 09:13:33.000000000,2020-07-03 12:59:33.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-03 11:09:24.000000000', 'files': ['www/project-data/ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b77fde01cb9178c0533e5b90eec4ec7bf66351ab', 'message': 'Add Kolla Ussuri guides\n\nChange-Id: I952767f2f3f09085e6d5ad4e40f94de2fce800b7\n'}]",0,739206,b77fde01cb9178c0533e5b90eec4ec7bf66351ab,11,5,1,30491,,,0,"Add Kolla Ussuri guides

Change-Id: I952767f2f3f09085e6d5ad4e40f94de2fce800b7
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/06/739206/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/ussuri.yaml'],1,b77fde01cb9178c0533e5b90eec4ec7bf66351ab,kolla-ussuri,- name: kolla type: deployment service: Providing production-ready containers and deployment tools for operating OpenStack clouds has_admin_guide: true - name: kolla-ansible service: Deploying OpenStack using Ansible in Docker Containers (kolla) type: deployment has_admin_guide: true has_user_guide: true has_deployment_guide: true,# - name: kolla # type: deployment # service: Providing production-ready containers and deployment tools for operating OpenStack clouds # has_admin_guide: true # - name: kolla-ansible # service: Deploying OpenStack using Ansible in Docker Containers (kolla) # type: deployment # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,10,10
openstack%2Fkolla-ansible~master~I01d686368b11a105a8965cf987d23772ecbf97de,openstack/kolla-ansible,master,I01d686368b11a105a8965cf987d23772ecbf97de,Use the children group for site.yml,MERGED,2020-07-05 13:59:17.000000000,2020-07-06 09:05:16.000000000,2020-07-05 17:54:16.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73c425c20052f86e860fa4d57053708ae1ece6b7', 'message': 'Use the children group for site.yml\n\n1. Use the children group for site.yml\n2. Add some missing groups\n\nChange-Id: I01d686368b11a105a8965cf987d23772ecbf97de\nPartially-Implements: blueprint performance-improvements\n'}, {'number': 2, 'created': '2020-07-05 14:58:02.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc56401b427446703f77ac744fc27a0b5954b03c', 'message': 'Use the children group for site.yml\n\n1. Use the children group for site.yml\n2. Add some missing groups\n\nChange-Id: I01d686368b11a105a8965cf987d23772ecbf97de\n'}]",0,739364,dc56401b427446703f77ac744fc27a0b5954b03c,15,3,2,30356,,,0,"Use the children group for site.yml

1. Use the children group for site.yml
2. Add some missing groups

Change-Id: I01d686368b11a105a8965cf987d23772ecbf97de
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/739364/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,73c425c20052f86e860fa4d57053708ae1ece6b7,, - prometheus-memcached-exporter - karbor-api - karbor-protection - karbor-operationengine - solum-application-deployment - solum-image-builder - mistral-event-engine - cyborg-api - cyborg-agent - cyborg-conductor, - karbor - cyborg,10,2
openstack%2Freleases~master~I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a,openstack/releases,master,I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a,Release sushy-tools 0.11.0,MERGED,2020-07-03 08:39:03.000000000,2020-07-06 08:56:35.000000000,2020-07-06 08:56:35.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 08:39:03.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/70174c946b2acec0e8b1659b215b5cbfd675b198', 'message': 'Release sushy-tools 0.11.0\n\nChange-Id: I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a\n'}]",0,739181,70174c946b2acec0e8b1659b215b5cbfd675b198,8,3,1,10239,,,0,"Release sushy-tools 0.11.0

Change-Id: I9bdf51ff3ff6f8c2f9f30e73db80d0a6bef9e86a
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/739181/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,70174c946b2acec0e8b1659b215b5cbfd675b198,sushy-tools, - version: 0.11.0 projects: - repo: openstack/sushy-tools hash: 7edb57ddc177f8e5416fd5fbbaae358242987913,,4,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~I2dbe7a422926020dc91a411597cea221d7a7805b,openstack/kuryr-kubernetes,stable/rocky,I2dbe7a422926020dc91a411597cea221d7a7805b,Fix CNI image build,MERGED,2020-07-02 08:38:24.000000000,2020-07-06 08:27:03.000000000,2020-07-06 08:27:03.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-07-02 08:38:24.000000000', 'files': ['cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce4d2176e4a8457098ec2434a1a38be6ed439f0a', 'message': ""Fix CNI image build\n\nDependencies needed by openvswitch are not present on\nthe rdo-release-train-1 rpm. We need to update it\nto make sure they're present.\n\nChange-Id: I2dbe7a422926020dc91a411597cea221d7a7805b\n""}]",0,738986,ce4d2176e4a8457098ec2434a1a38be6ed439f0a,13,3,1,27032,,,0,"Fix CNI image build

Dependencies needed by openvswitch are not present on
the rdo-release-train-1 rpm. We need to update it
to make sure they're present.

Change-Id: I2dbe7a422926020dc91a411597cea221d7a7805b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/86/738986/1 && git format-patch -1 --stdout FETCH_HEAD,['cni.Dockerfile'],1,ce4d2176e4a8457098ec2434a1a38be6ed439f0a,,ARG PKG_YUM_REPO=https://rdoproject.org/repos/openstack-rocky/rdo-release-rocky-0.noarch.rpm RUN yum install -y epel-release $PKG_YUM_REPO \, RUN yum install -y epel-release https://rdoproject.org/repos/rdo-release.rpm \,2,1
openstack%2Fpython-tripleoclient~master~I9c245dbc258c9714bb5a581d6d4d23b42cf53198,openstack/python-tripleoclient,master,I9c245dbc258c9714bb5a581d6d4d23b42cf53198,Add CLI options for introspection command,MERGED,2020-06-23 15:59:04.000000000,2020-07-06 08:24:07.000000000,2020-07-02 15:33:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eef03915d881757797828ba01041550254000776', 'message': 'Add max-retries and node-timeout options for introspection\n\nChange-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198\n'}, {'number': 2, 'created': '2020-06-29 09:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1a33c85057532e245bb7fc129e9b8ad33290f97', 'message': 'Add CLI options for introspection command\n\n--node-timeout - Maximum timeout for node introspection\n--max-retries - Maximum introspection retries\n--retry-timeout - Maximum timeout between introspection retries\n\nChange-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198\n'}, {'number': 3, 'created': '2020-06-30 05:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2884108a5362d4feb5ee2b9d896b5f9c4fbc58a1', 'message': 'Add CLI options for introspection command\n\n--node-timeout - Maximum timeout for node introspection\n--max-retries - Maximum introspection retries\n--retry-timeout - Maximum timeout between introspection retries\n\nChange-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198\n'}, {'number': 4, 'created': '2020-06-30 06:22:52.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c9d057651e32ee81fd8e315e35dfe17d4d1e95ac', 'message': 'Add CLI options for introspection command\n\n--node-timeout - Maximum timeout for node introspection\n--max-retries - Maximum introspection retries\n--retry-timeout - Maximum timeout between introspection retries\n\nChange-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198\n'}]",2,737568,c9d057651e32ee81fd8e315e35dfe17d4d1e95ac,37,6,4,10969,,,0,"Add CLI options for introspection command

--node-timeout - Maximum timeout for node introspection
--max-retries - Maximum introspection retries
--retry-timeout - Maximum timeout between introspection retries

Change-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/68/737568/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py']",2,eef03915d881757797828ba01041550254000776,," parser.add_argument('--node-timeout', type=int, default=1200, help=_('Maximum number of nodes to introspect at ' 'once.')) parser.add_argument('--max-retries', type=int, default=1, help=_('Maximum number of nodes to introspect at ' 'once.')) node_timeout=parsed_args.node_timeout, max_retries=parsed_args.max_retries, node_timeout=parsed_args.node_timeout, max_retries=parsed_args.max_retries,",,29,6
openstack%2Fironic-lib~master~Ib108eea49b17986412f725f64d2320e5487e255e,openstack/ironic-lib,master,Ib108eea49b17986412f725f64d2320e5487e255e,[WIP] Use flake8-tidy-imports to ban specific modules,NEW,2020-07-06 08:08:46.000000000,2020-07-06 08:22:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-06 08:08:46.000000000', 'files': ['test-requirements.txt', 'ironic_lib/tests/test_basic_auth.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f624ea0c80d7a2748eb7fc0ef57063a66eadcec3', 'message': '[WIP] Use flake8-tidy-imports to ban specific modules\n\n*** This is a demo ***\n\nThe flake8-tidy-imports[1] extension helps preventing usage of\nunwanted modules, such as 3rd party mock, and provide a good level\nof customization.\n\n[1] https://pypi.org/project/flake8-tidy-imports/\n\nChange-Id: Ib108eea49b17986412f725f64d2320e5487e255e\n'}]",1,739425,f624ea0c80d7a2748eb7fc0ef57063a66eadcec3,2,1,1,23851,,,0,"[WIP] Use flake8-tidy-imports to ban specific modules

*** This is a demo ***

The flake8-tidy-imports[1] extension helps preventing usage of
unwanted modules, such as 3rd party mock, and provide a good level
of customization.

[1] https://pypi.org/project/flake8-tidy-imports/

Change-Id: Ib108eea49b17986412f725f64d2320e5487e255e
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/25/739425/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'ironic_lib/tests/test_basic_auth.py', 'tox.ini']",3,f624ea0c80d7a2748eb7fc0ef57063a66eadcec3,ban-modules,banned-modules = mock = use unittest.mock!,,6,1
openstack%2Ftripleo-ansible~master~Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,openstack/tripleo-ansible,master,Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,Set retry timeout for nodes introspection,MERGED,2020-06-23 16:13:53.000000000,2020-07-06 08:22:02.000000000,2020-06-24 05:42:42.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 16:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e21d0732101ff603c9a247cacaa1459abba54dca', 'message': 'Set retry delay for nodes introspection\n\nWhen restarting node introspection wait a configured amount of time\nso that node can be unlocked.\nChange-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa\n'}, {'number': 2, 'created': '2020-06-23 16:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba2cd127dced65fdaeffb105008e726d93e4b2d0', 'message': 'Set retry timeout for nodes introspection\n\nWhen restarting node introspection wait a configured amount of time\nso that node can be unlocked.\nChange-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa\n'}, {'number': 3, 'created': '2020-06-23 16:52:38.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a368a641efc582c5f544e2e16238a6e12e2f9c78', 'message': 'Set retry timeout for nodes introspection\n\nWhen restarting node introspection wait a configured amount of time\nso that node can be unlocked.\nChange-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa\n'}]",0,737574,a368a641efc582c5f544e2e16238a6e12e2f9c78,15,5,3,10969,,,0,"Set retry timeout for nodes introspection

When restarting node introspection wait a configured amount of time
so that node can be unlocked.
Change-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/737574/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,e21d0732101ff603c9a247cacaa1459abba54dca,retry_timeout," retry_delay: description: - retry_delay type: int default: 120 node_timeout, retry_delay): self.retry_delay = retry_delay self.retry_delay, def __init__( self, node_id, os_client, timeout, max_retries, retry_delay, log): self.retry_delay = retry_delay time.sleep(self.retry_delay) module.params[""node_timeout""], module.params[""retry_delay""]"," node_timeout): def __init__(self, node_id, os_client, timeout, max_retries, log): module.params[""node_timeout""]",15,3
openstack%2Ftripleo-heat-templates~master~Ic3853302e8c1e0768d00e99c3069de7b2196ad84,openstack/tripleo-heat-templates,master,Ic3853302e8c1e0768d00e99c3069de7b2196ad84,Gather facts at most once for each deployment run,ABANDONED,2020-06-25 15:49:18.000000000,2020-07-06 07:58:54.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-25 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd859d9302c81981333c06a8212e63b8189471c5', 'message': 'Gather facts at most once\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that deployment.\n\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-06-25 16:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2d48addc16acca9983388136cb9fcf07c6ed48a', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-06-26 07:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/706971656a5de0382b9ce5329c53526579827ccd', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2020-06-26 12:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a4e50695a8022237e63a2dd2e778dd05f009c38', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2020-06-29 14:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aae28fd48864af79e7555fc05a4096247953df78', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2020-07-01 07:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14ca4f6567035f3a09ecfde32022d2aac17370fc', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2020-07-02 08:27:10.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2', 'releasenotes/notes/gather-facts-once-e201359336586b9f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e65d4c0d6d523961132d2d4d9eb86e481022ba8', 'message': 'Gather facts at most once for each deployment run\n\nMake gather_facts auto determined based on the availability of a fact\nin hostvars used as an indicator. Save the gather_facts flag state as\na cached fact for the smart use for the rest of that ongoing deployment.\n\nThat ensures the facts gathered only once per a deployment execution,\nor a minor update/upgrade (but not scaling out).\n\nDepends-On: https://review.opendev.org/737379\nChange-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,738053,6e65d4c0d6d523961132d2d4d9eb86e481022ba8,21,6,7,6926,,,0,"Gather facts at most once for each deployment run

Make gather_facts auto determined based on the availability of a fact
in hostvars used as an indicator. Save the gather_facts flag state as
a cached fact for the smart use for the rest of that ongoing deployment.

That ensures the facts gathered only once per a deployment execution,
or a minor update/upgrade (but not scaling out).

Depends-On: https://review.opendev.org/737379
Change-Id: Ic3853302e8c1e0768d00e99c3069de7b2196ad84
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/738053/3 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2', 'releasenotes/notes/gather-facts-once-e201359336586b9f.yaml']",3,fd859d9302c81981333c06a8212e63b8189471c5,,--- other: - | Ansible facts will be gathered at most once for undercloud and othercloud nodes (or standalone) for the ongoing deployment. This speed-ups deployments and Day-2 operations for the large scale. ,,56,26
openstack%2Fnetworking-l2gw~master~I1bf048df49c385a92fea55f99bd0a7c4283960cf,openstack/networking-l2gw,master,I1bf048df49c385a92fea55f99bd0a7c4283960cf,Retire networking-l2gw: remove zuul jobs,MERGED,2020-06-29 14:45:47.000000000,2020-07-06 07:41:08.000000000,2020-07-03 12:08:45.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/85594e0457c319bf6b4dde6a3eed111442900e98', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n'}, {'number': 2, 'created': '2020-06-30 13:46:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/454cf61f8a191fc25a1d85d7be5df81eab405c54', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n'}]",4,738456,454cf61f8a191fc25a1d85d7be5df81eab405c54,14,4,2,8313,,,0,"Retire networking-l2gw: remove zuul jobs

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace. As a first step
disable zuul jobs to avoid collisions when the new repository will be
created as x/networking-l2gw.

Change-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/56/738456/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,85594e0457c319bf6b4dde6a3eed111442900e98,complete-retirement-networking-l2gw,,- project: templates: - check-requirements - openstack-python3-victoria-jobs-neutron - build-openstack-docs-pti check: jobs: - networking-l2gw-tempest-dummy - l2gw-tox-lower-constraints gate: jobs: - networking-l2gw-tempest-dummy - l2gw-tox-lower-constraints - job: name: l2gw-tox-lower-constraints parent: openstack-tox-lower-constraints required-projects: - openstack/neutron ,0,19
openstack%2Fproject-config~master~I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed,openstack/project-config,master,I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed,Create a new project for ansible-tripleo-ipa-server,MERGED,2020-07-01 13:07:58.000000000,2020-07-06 07:27:40.000000000,2020-07-02 05:53:47.000000000,"[{'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 9954}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 13:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/88304245fffd73be9e97d5d86d65f24d379d7f75', 'message': ""Create a new project for ansible-tripleo-ipa-server\n\nWe recently opensourced some ansible playbooks and scripts for\nintegrating FreeIPA into TripleO deployments:\n\n  https://review.opendev.org/#/c/711114/\n\nThe tripleo-ipa project contains some playbooks that are specific to\nsetting up and configuring FreeIPA. We'd like to pull these out into\ntheir own project instead of having them in a corner of tripleo-ipa\nsomewhere.\n\nChange-Id: I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed\n""}, {'number': 2, 'created': '2020-07-01 18:28:07.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/046d66931132883e5345881fb9b878acdabba7e5', 'message': ""Create a new project for ansible-tripleo-ipa-server\n\nWe recently opensourced some ansible playbooks and scripts for\nintegrating FreeIPA into TripleO deployments:\n\n  https://review.opendev.org/#/c/711114/\n\nThe tripleo-ipa project contains some playbooks that are specific to\nsetting up and configuring FreeIPA. We'd like to pull these out into\ntheir own project instead of having them in a corner of tripleo-ipa\nsomewhere.\n\nChange-Id: I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed\n""}]",4,738842,046d66931132883e5345881fb9b878acdabba7e5,12,6,2,5046,,,0,"Create a new project for ansible-tripleo-ipa-server

We recently opensourced some ansible playbooks and scripts for
integrating FreeIPA into TripleO deployments:

  https://review.opendev.org/#/c/711114/

The tripleo-ipa project contains some playbooks that are specific to
setting up and configuring FreeIPA. We'd like to pull these out into
their own project instead of having them in a corner of tripleo-ipa
somewhere.

Change-Id: I99cf6a43a9034ced0579ca00ce7fbe8ac51ff7ed
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/738842/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/x/ansible-tripleo-ipa-server.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,88304245fffd73be9e97d5d86d65f24d379d7f75,, - x/ansible-tripleo-ipa-server,,13,0
openstack%2Fpuppet-openstack-integration~master~If05ec2b2bd9df7cb312ace07c58f1584cda87aba,openstack/puppet-openstack-integration,master,If05ec2b2bd9df7cb312ace07c58f1584cda87aba,Updated from Puppet OpenStack modules constraints,MERGED,2020-07-04 06:10:08.000000000,2020-07-06 07:14:34.000000000,2020-07-06 07:14:34.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 06:10:08.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c01bfa1ecdfe3602b03a2cd4bfbd0a8a6231d9ef', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If05ec2b2bd9df7cb312ace07c58f1584cda87aba\n'}]",0,739296,c01bfa1ecdfe3602b03a2cd4bfbd0a8a6231d9ef,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: If05ec2b2bd9df7cb312ace07c58f1584cda87aba
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/96/739296/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,c01bfa1ecdfe3602b03a2cd4bfbd0a8a6231d9ef,openstack/puppet/constraints, :ref => 'v5.5.0', :ref => 'v5.4.0',1,1
openstack%2Ffreezer~master~Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f,openstack/freezer,master,Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f,Overriding configured project name with name extraceted from package(freezer),MERGED,2020-07-06 03:59:09.000000000,2020-07-06 07:08:38.000000000,2020-07-06 07:05:03.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 03:59:09.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e455e6b5f5441e3fe4f336a0799c5bc125db886a', 'message': ""Overriding configured project name with name extraceted from package(freezer)\n\n[openstackdocstheme] overriding configured project name (Python) with\nname extracted from the package (freezer); you can disable this behavior\nwith the 'openstackdocs_auto_name' option\n\nChange-Id: Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f\n""}]",0,739390,e455e6b5f5441e3fe4f336a0799c5bc125db886a,7,2,1,21069,,,0,"Overriding configured project name with name extraceted from package(freezer)

[openstackdocstheme] overriding configured project name (Python) with
name extracted from the package (freezer); you can disable this behavior
with the 'openstackdocs_auto_name' option

Change-Id: Ic6b6dbe567a1dec92c5c4c9490b0672cc96d1d1f
",git fetch https://review.opendev.org/openstack/freezer refs/changes/90/739390/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e455e6b5f5441e3fe4f336a0799c5bc125db886a,doc,openstackdocs_auto_name = False,,1,0
openstack%2Ffreezer-api~master~Icbe9ceff6ad25dc353a3c574f32b26bc007c7294,openstack/freezer-api,master,Icbe9ceff6ad25dc353a3c574f32b26bc007c7294,Overriding configured project name (freezer-api),MERGED,2020-07-06 03:38:34.000000000,2020-07-06 07:03:22.000000000,2020-07-06 07:01:24.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 03:38:34.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b66bfa036541c8ea8a4b560e219f28ecd52f09c1', 'message': ""Overriding configured project name (freezer-api)\n\n[openstackdocstheme] overriding configured project name (freezer-api) with\nname extracted from the package (freezer-api); you can disable this\nbehavior with the 'openstackdocs_auto_name' option\n\nChange-Id: Icbe9ceff6ad25dc353a3c574f32b26bc007c7294\n""}]",0,739388,b66bfa036541c8ea8a4b560e219f28ecd52f09c1,7,2,1,21069,,,0,"Overriding configured project name (freezer-api)

[openstackdocstheme] overriding configured project name (freezer-api) with
name extracted from the package (freezer-api); you can disable this
behavior with the 'openstackdocs_auto_name' option

Change-Id: Icbe9ceff6ad25dc353a3c574f32b26bc007c7294
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/88/739388/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b66bfa036541c8ea8a4b560e219f28ecd52f09c1,,openstackdocs_auto_name = False,,1,0
openstack%2Fpuppet-vitrage~master~Icf5c7620291fe10e2a15e2189ea144751974fdb5,openstack/puppet-vitrage,master,Icf5c7620291fe10e2a15e2189ea144751974fdb5,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:06:07.000000000,2020-07-06 06:56:53.000000000,2020-07-06 06:54:10.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 15:06:07.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-38fb5ced1f3fd979.yaml', 'spec/classes/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/044e40dba30b045a0933963f53d39a6bf6d83002', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-vitrage follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: Icf5c7620291fe10e2a15e2189ea144751974fdb5\n'}]",0,739302,044e40dba30b045a0933963f53d39a6bf6d83002,8,3,1,9816,,,0,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-vitrage follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: Icf5c7620291fe10e2a15e2189ea144751974fdb5
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/02/739302/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-38fb5ced1f3fd979.yaml', 'spec/classes/vitrage_wsgi_apache_spec.rb']",3,044e40dba30b045a0933963f53d39a6bf6d83002,wsgi-workers," :threads => 1, :workers => facts[:os_workers], :threads => 1,"," :threads => facts[:os_workers], :workers => 1, :threads => facts[:os_workers],",12,7
openstack%2Fpuppet-watcher~master~Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293,openstack/puppet-watcher,master,Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:07:59.000000000,2020-07-06 06:44:52.000000000,2020-07-06 06:42:06.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 15:07:59.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-02a0232bf3aac3fe.yaml', 'spec/classes/watcher_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/855a5c8e44a7ee7b15c3fe39198b98bd54fc70f7', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-watcher follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293\n'}]",0,739303,855a5c8e44a7ee7b15c3fe39198b98bd54fc70f7,9,3,1,9816,,,0,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-watcher follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: Iac7cba33f69b39e5bf29c61ed0c22b9b533b1293
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/03/739303/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-02a0232bf3aac3fe.yaml', 'spec/classes/watcher_wsgi_apache_spec.rb']",3,855a5c8e44a7ee7b15c3fe39198b98bd54fc70f7,wsgi-workers," :threads => 1, :workers => facts[:os_workers], :threads => 1,"," :threads => facts[:os_workers], :workers => 1, :threads => facts[:os_workers],",12,7
openstack%2Fpuppet-cloudkitty~master~I287b36155958cd535b18d60f0c80395c3082ee46,openstack/puppet-cloudkitty,master,I287b36155958cd535b18d60f0c80395c3082ee46,Use workers instead of threads in wsgi by default,MERGED,2020-07-04 15:03:23.000000000,2020-07-06 06:19:27.000000000,2020-07-06 06:16:12.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 15:03:23.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-da063cd58b41676b.yaml', 'spec/classes/cloudkitty_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/306badcca143d80c2c20e38a920eca534b89615c', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-cloudkitty follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: I287b36155958cd535b18d60f0c80395c3082ee46\n'}]",0,739301,306badcca143d80c2c20e38a920eca534b89615c,8,3,1,9816,,,0,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-cloudkitty follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: I287b36155958cd535b18d60f0c80395c3082ee46
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/01/739301/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-use-workers-da063cd58b41676b.yaml', 'spec/classes/cloudkitty_wsgi_apache_spec.rb']",3,306badcca143d80c2c20e38a920eca534b89615c,wsgi-workers," :threads => 1, :workers => facts[:os_workers], :threads => 1,"," :threads => facts[:os_workers], :workers => 1, :threads => facts[:os_workers],",12,7
openstack%2Fheat~master~If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a,openstack/heat,master,If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a,Deprecate wrappertask decorator,MERGED,2019-12-18 04:46:53.000000000,2020-07-06 06:02:29.000000000,2020-07-06 06:00:17.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 04:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9786f3abc526b8bff23c8e3b6051a0c9ecacd1b6', 'message': ""Deprecate wrappertask decorator\n\nNow that we only support Python 3, use the 'yield from' keyword instead\nof the @wrappertask decorator for calling co-routines from a co-routine.\nThis should greatly simplify backtraces when calling nested co-routines.\n\nChange-Id: If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a\n""}, {'number': 2, 'created': '2020-04-30 14:05:22.000000000', 'files': ['heat/engine/update.py', 'requirements.txt', 'heat/engine/stack.py', 'heat/tests/test_stack_update.py', 'heat/engine/scheduler.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2c58017a144d3d87b4ccefe704db95d50769f89e', 'message': ""Deprecate wrappertask decorator\n\nNow that we only support Python 3, use the 'yield from' keyword instead\nof the @wrappertask decorator for calling co-routines from a co-routine.\nThis should greatly simplify backtraces when calling nested co-routines.\n\nChange-Id: If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a\n""}]",0,699545,2c58017a144d3d87b4ccefe704db95d50769f89e,12,4,2,4257,,,0,"Deprecate wrappertask decorator

Now that we only support Python 3, use the 'yield from' keyword instead
of the @wrappertask decorator for calling co-routines from a co-routine.
This should greatly simplify backtraces when calling nested co-routines.

Change-Id: If9beaff74cf4facbc4aa4b30f31a3a087bdcad8a
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/699545/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/update.py', 'requirements.txt', 'heat/engine/stack.py', 'heat/tests/test_stack_update.py', 'heat/engine/scheduler.py', 'heat/engine/resource.py']",6,9786f3abc526b8bff23c8e3b6051a0c9ecacd1b6,," yield from self.action_handler_task(action, args=handler_args) yield from self._do_action(self.ADOPT, resource_data={ 'resource_id': self.external_id}) yield from self.check() yield from self._break_if_required(self.CREATE, environment.HOOK_PRE_CREATE) yield from waiter.as_task(timeout=delay) yield from self._do_action(action, pre_func) yield from self._break_if_required(self.CREATE, environment.HOOK_POST_CREATE) yield from self._do_action(self.ADOPT, resource_data=resource_data) yield from self._break_if_required(self.UPDATE, environment.HOOK_PRE_UPDATE) yield from self.action_handler_task(action, args=[after, tmpl_diff, prop_diff]) yield from self._break_if_required(self.UPDATE, environment.HOOK_POST_UPDATE) yield from self._do_action(action) yield from self._do_action(action) yield from self._do_action(action) yield from self._do_action(self.SNAPSHOT) def delete_snapshot(self, data): yield from self.action_handler_task('delete_snapshot', args=[data]) yield from self._break_if_required(self.DELETE, environment.HOOK_PRE_DELETE) yield from waiter.as_task(timeout=delay) with excutils.exception_filter(should_retry): yield from self.action_handler_task(action, *action_args) yield from self._break_if_required(self.DELETE, environment.HOOK_POST_DELETE) yield from self.delete()"," @scheduler.wrappertask yield self.action_handler_task(action, args=handler_args) @scheduler.wrappertask yield self._do_action(self.ADOPT, resource_data={ 'resource_id': self.external_id}) yield self.check() yield self._break_if_required( self.CREATE, environment.HOOK_PRE_CREATE) yield waiter.as_task(timeout=delay) yield self._do_action(action, pre_func) yield self._break_if_required( self.CREATE, environment.HOOK_POST_CREATE) return self._do_action(self.ADOPT, resource_data=resource_data) @scheduler.wrappertask yield self._break_if_required( self.UPDATE, environment.HOOK_PRE_UPDATE) yield self.action_handler_task(action, args=[after, tmpl_diff, prop_diff]) yield self._break_if_required( self.UPDATE, environment.HOOK_POST_UPDATE) @scheduler.wrappertask yield self._do_action(action) @scheduler.wrappertask yield self._do_action(action) @scheduler.wrappertask yield self._do_action(action) @scheduler.wrappertask yield self._do_action(self.SNAPSHOT) @scheduler.wrappertask def delete_snapshot(self, data): yield self.action_handler_task('delete_snapshot', args=[data]) @scheduler.wrappertask yield self._break_if_required( self.DELETE, environment.HOOK_PRE_DELETE) yield waiter.as_task(timeout=delay) with excutils.exception_filter(should_retry): yield self.action_handler_task(action, *action_args) yield self._break_if_required( self.DELETE, environment.HOOK_POST_DELETE) @scheduler.wrappertask yield self.delete()",63,90
openstack%2Fdevstack~stable%2Frocky~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/rocky,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-15 15:21:12.000000000,2020-07-06 05:57:28.000000000,2020-07-01 15:47:19.000000000,"[{'_account_id': 1916}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9531}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 18742}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-15 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5fb3abcf099fb783f9e4f642ddf1f50ddae37e40', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 2, 'created': '2020-06-19 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/44eb38167cc06f59c626ca21a095e8f4d075e623', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 3, 'created': '2020-06-20 23:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9eada6c9d463e6aa52665e361d8eb003f122c53e', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 4, 'created': '2020-06-29 12:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/46a83fd222827f363bdcaf31c5a1364c4b401dd2', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nNote(elod.illes): process-stackviz role is failing. It is defined under\ntempest, which is pinned in old branches, thus cannot be fixed. An\neasy workaround is added to remove stackviz tar file so that the role\nskips the failing tasks.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 5, 'created': '2020-06-29 15:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b2841a665624e16f623ad8cb6f48639069a2ba7b', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 6, 'created': '2020-06-29 16:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f1fb946398df6f0624587b026adecb3dc8fad34', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nDepends-On: https://review.opendev.org/738470/\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 7, 'created': '2020-06-30 05:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2434f7e55ca88ea03db82e28f6f03a24d852dc8', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 8, 'created': '2020-06-30 22:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/502ffded99044630cbeac4b97aa47ea3ea6bfb44', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nConflicts: need to update the code to account for the uWSGI tarball naming\nand actual location of mod_proxy_uwsgi.c.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 9, 'created': '2020-06-30 22:34:52.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'playbooks/pre.yaml', '.zuul.yaml', 'lib/apache', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4', 'message': 'Fix gate, squashing multiple fixes\n\nThis commit includes multiple fixes to\nmake gate happy:\n\n1. Use packaged uwsgi on Fedora and Ubuntu\n- https://review.opendev.org/#/c/735615/7\n\n2. Move process-stackviz role from Tempest to Devstack\n- https://review.opendev.org/#/c/737078/4\n\n3. Add ensure-pip to pre.yaml\n- https://review.opendev.org/#/c/738495/2\n\n4. Temporarily disable the grenade jobs\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n'}]",2,735615,ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4,48,15,9,8556,,,0,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Temporarily disable the grenade jobs

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/735615/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,5fb3abcf099fb783f9e4f642ddf1f50ddae37e40,uwsgi-stable/rocky," # This varies based on packaged/installed. If we've # pip_installed, then the pip setup will only build a ""python"" # module that will be either python2 or python3 depending on what # it was built with. # For package installs, the distro ships both plugins and you need # to select the right one ... it will not be autodetected. if python3_enabled; then UWSGI_PYTHON_PLUGIN=python3 else UWSGI_PYTHON_PLUGIN=python fi if is_ubuntu; then install_package uwsgi \ uwsgi-plugin-python \ uwsgi-plugin-python3 \ libapache2-mod-proxy-uwsgi elif [[ $os_VENDOR == ""Fedora"" ]]; then # Note httpd comes with mod_proxy_uwsgi and it is loaded by # default; the mod_proxy_uwsgi package actually conflicts now. # See: # https://bugzilla.redhat.com/show_bug.cgi?id=1574335 # # Thus there is nothing else to do after this install install_package uwsgi \ uwsgi-plugin-python3 else # Centos actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir UWSGI_PYTHON_PLUGIN=python fi iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN} iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN}"," # Ubuntu xenial is back level on uwsgi so the proxy doesn't # actually work. Hence we have to build from source for now. # Centos 7 actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there as well. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir iniset ""$file"" uwsgi plugins python iniset ""$file"" uwsgi plugins python",46,20
openstack%2Fglance~master~I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,openstack/glance,master,I44bfefb6eee421e18e5e95a0dafaef0ea4e170da,Fix: Interrupted copy-image leaking data on subsequent operation,MERGED,2020-06-24 20:06:58.000000000,2020-07-06 05:43:06.000000000,2020-07-06 05:39:00.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-24 20:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0cad494a398210b026ba91d1efcb166af0dcc6b0', 'message': 'Fix: Interrupted copy-imgae leaking data on subsequent operation\n\nIf copying existing image in other stores fails while staging the data to\nstaging directory due to power, network or any other reason. Then\nsubsequent try may lead to data leaks in stores.\n\nTo fix this, added check to check the actual image size with the size\nof image file present it staging area. If it mismatch then deleting\nthe image file from staging area so that entire image will be staged\nagain.\n\nChange-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da\nCloses-Bug: #1885003\n'}, {'number': 2, 'created': '2020-06-25 07:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/46ab0ec607944df6df77e4e5103b6824c18a94ef', 'message': 'Fix: Interrupted copy-image leaking data on subsequent operation\n\nIf copying existing image in other stores fails while staging the data to\nstaging directory due to power, network or any other reason. Then\nsubsequent try may lead to data leaks in stores.\n\nTo fix this, added check of the actual image size with the size\nof image file present in the staging area. If it does not match\nthen delete the image file from staging area so that the entire\nimage will be staged again.\n\nChange-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da\nCloses-Bug: #1885003\n'}, {'number': 3, 'created': '2020-06-25 17:49:38.000000000', 'files': ['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/copy_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/22d8f1fcbf4325d79ac18adfe87198c785f1df52', 'message': 'Fix: Interrupted copy-image leaking data on subsequent operation\n\nIf copying existing image in other stores fails while staging the data to\nstaging directory due to power, network or any other reason. Then\nsubsequent try may lead to data leaks in stores.\n\nTo fix this, added check of the actual image size with the size\nof image file present in the staging area. If it does not match\nthen delete the image file from staging area so that the entire\nimage will be staged again.\n\nChange-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da\nCloses-Bug: #1885003\n'}]",29,737867,22d8f1fcbf4325d79ac18adfe87198c785f1df52,33,7,3,9303,,,0,"Fix: Interrupted copy-image leaking data on subsequent operation

If copying existing image in other stores fails while staging the data to
staging directory due to power, network or any other reason. Then
subsequent try may lead to data leaks in stores.

To fix this, added check of the actual image size with the size
of image file present in the staging area. If it does not match
then delete the image file from staging area so that the entire
image will be staged again.

Change-Id: I44bfefb6eee421e18e5e95a0dafaef0ea4e170da
Closes-Bug: #1885003
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/737867/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/copy_image.py']",2,0cad494a398210b026ba91d1efcb166af0dcc6b0,bug/1885003," # NOTE (abhishekk): If previous copy-image operation is failed # due to Power failure, network failure or any other reason and # the image data here is partial then clear the staging area and # re-stage the fresh image data. # Ref: https://bugs.launchpad.net/glance/+bug/1885003 size_in_staging = os.path.getsize(file_path) if image.size == size_in_staging: return file_path, 0 else: try: LOG.debug(_(""Found partial image data in staging "" ""%(fn)s, deleting it to re-stage "" ""again""), {'fn': file_path}) os.unlink(file_path) except OSError as e: LOG.error(_(""Deletion of staged "" ""image data from %(fn)s has failed because "" ""[Errno %(en)d]""), {'fn': file_path, 'en': e.errno}) raise"," return file_path, 0",51,1
openstack%2Fdiskimage-builder~master~I1cc72314716690874eca57526eac224c4e0b24cf,openstack/diskimage-builder,master,I1cc72314716690874eca57526eac224c4e0b24cf,"Revert ""Make ipa centos8 job non-voting""",MERGED,2020-07-01 03:57:17.000000000,2020-07-06 05:40:56.000000000,2020-07-06 05:37:57.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 1106}, {'_account_id': 2889}, {'_account_id': 3068}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6449}, {'_account_id': 6469}, {'_account_id': 6488}, {'_account_id': 7118}, {'_account_id': 9369}, {'_account_id': 10035}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 12459}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 21741}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-01 03:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d806237e314c7a028f9f5c0a56b89abe21c849df', 'message': 'Revert ""Make ipa centos8 job non-voting""\n\nThis reverts commit 868a6f0c8aed6a90d41777306a1a55de1942cf56.\n\nChange-Id: I1cc72314716690874eca57526eac224c4e0b24cf\nDepends-On: https://review.opendev.org/#/c/738438/\n'}, {'number': 2, 'created': '2020-07-01 03:57:30.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/68bc561c09d4917f9747e9a09e1bb7f15ec913b1', 'message': 'Revert ""Make ipa centos8 job non-voting""\n\nThis reverts commit 868a6f0c8aed6a90d41777306a1a55de1942cf56.\n\nChange-Id: I1cc72314716690874eca57526eac224c4e0b24cf\nDepends-On: https://review.opendev.org/#/c/738438/\n'}]",0,738728,68bc561c09d4917f9747e9a09e1bb7f15ec913b1,16,26,2,13861,,,0,"Revert ""Make ipa centos8 job non-voting""

This reverts commit 868a6f0c8aed6a90d41777306a1a55de1942cf56.

Change-Id: I1cc72314716690874eca57526eac224c4e0b24cf
Depends-On: https://review.opendev.org/#/c/738438/
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/738728/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,d806237e314c7a028f9f5c0a56b89abe21c849df,, - ironic-python-agent-check-image-dib-centos8 - ironic-python-agent-check-image-dib-centos8, - ironic-python-agent-check-image-dib-centos8: voting: false,2,2
openstack%2Fopenstack-ansible-ceph_client~master~I120a983c999202a9b6e6e54285644358212c13df,openstack/openstack-ansible-ceph_client,master,I120a983c999202a9b6e6e54285644358212c13df,Add centos-8 support,ABANDONED,2020-07-06 04:35:00.000000000,2020-07-06 04:35:15.000000000,,[],"[{'number': 1, 'created': '2020-07-06 04:35:00.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/3369df15ec09220b81af53c1ef7f31a7d9d23f18', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml and fixing ceph download URL.\n\nChange-Id: I120a983c999202a9b6e6e54285644358212c13df\n'}]",0,739397,3369df15ec09220b81af53c1ef7f31a7d9d23f18,2,0,1,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml and fixing ceph download URL.

Change-Id: I120a983c999202a9b6e6e54285644358212c13df
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/97/739397/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,3369df15ec09220b81af53c1ef7f31a7d9d23f18,,"# Find OS version centos_version: ""{{ ansible_distribution_major_version is version('8', '<') | ternary('7', '8') }}"" # Extra Packages for Enterprise Linux - key: ""/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-{{ centos_version }}""ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el{{ centos_version }}"""," # Extra Packages for Enterprise Linux 7 - key: /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el7""",6,3
openstack%2Fopenstack-ansible-ceph_client~master~I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6,openstack/openstack-ansible-ceph_client,master,I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6,Add centos-8 support,ABANDONED,2020-07-06 04:23:38.000000000,2020-07-06 04:32:42.000000000,,[],"[{'number': 1, 'created': '2020-07-06 04:23:38.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/5cd70be705cc521c951ef318b954502d86cc49c3', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6\n'}]",0,739395,5cd70be705cc521c951ef318b954502d86cc49c3,2,0,1,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I1b41dd155c7b5bbb90c99e00e9c0866df3dbe0d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/95/739395/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5cd70be705cc521c951ef318b954502d86cc49c3,osa/el8,,,0,0
openstack%2Fopenstack-ansible-ceph_client~master~I25c254e93280428c850c3d5a31bd202ead261c2b,openstack/openstack-ansible-ceph_client,master,I25c254e93280428c850c3d5a31bd202ead261c2b,Add centos-8 support,ABANDONED,2020-07-06 04:23:38.000000000,2020-07-06 04:25:38.000000000,,[],"[{'number': 1, 'created': '2020-07-06 04:23:38.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/511da1e3d3472a6c39a66d82625ae1ad517c6b7c', 'message': 'Add centos-8 support\n\nAdding centos version condition to fix ceph download URL.\n\nChange-Id: I25c254e93280428c850c3d5a31bd202ead261c2b\n'}]",0,739396,511da1e3d3472a6c39a66d82625ae1ad517c6b7c,2,0,1,28752,,,0,"Add centos-8 support

Adding centos version condition to fix ceph download URL.

Change-Id: I25c254e93280428c850c3d5a31bd202ead261c2b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/96/739396/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,511da1e3d3472a6c39a66d82625ae1ad517c6b7c,osa/el8,"# OS version centos_version: ""{{ ansible_distribution_major_version is version('8', '<') | ternary('7', '8') }}"" # Extra Packages for Enterprise Linux - key: ""/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-{{ centos_version }}""ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el{{ centos_version }}"""," # Extra Packages for Enterprise Linux 7 - key: /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el7""",6,3
openstack%2Fmistral~stable%2Fussuri~I0682595b472545d9202521c1548f13b142c2d5a4,openstack/mistral,stable/ussuri,I0682595b472545d9202521c1548f13b142c2d5a4,Pin version of mistral-lib to 2.1.0 for Ussuri,ABANDONED,2020-07-03 06:55:43.000000000,2020-07-06 03:58:28.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 06:55:43.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/02642fc31199ba85a89a04077102330c01d79849', 'message': ""Pin version of mistral-lib to 2.1.0 for Ussuri\n\n* mistral-lib 2.2.0 contains a change that's not compatible with\n  mistral ussuri (removed the constants ACTION_TASK_TYPE and\n  WORKFLOW_TASK_TYPE).\n\nChange-Id: I0682595b472545d9202521c1548f13b142c2d5a4\n""}]",0,739169,02642fc31199ba85a89a04077102330c01d79849,4,2,1,8731,,,0,"Pin version of mistral-lib to 2.1.0 for Ussuri

* mistral-lib 2.2.0 contains a change that's not compatible with
  mistral ussuri (removed the constants ACTION_TASK_TYPE and
  WORKFLOW_TASK_TYPE).

Change-Id: I0682595b472545d9202521c1548f13b142c2d5a4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/739169/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,02642fc31199ba85a89a04077102330c01d79849,,"mistral-lib>=1.4.0,<2.2.0 # Apache-2.0",mistral-lib>=1.4.0 # Apache-2.0,1,1
openstack%2Ffreezer-api~master~I55903e4f914673aba5ac986b845c2a6504830c19,openstack/freezer-api,master,I55903e4f914673aba5ac986b845c2a6504830c19,Fix docs output error,MERGED,2020-07-06 03:20:04.000000000,2020-07-06 03:33:47.000000000,2020-07-06 03:32:36.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 03:20:04.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b744d68b644645ebd49adc21e72c1843a2618456', 'message': ""Fix docs output error\n\nwriting output... [ 33%] cli/freezer-manager-status\n[openstackdocstheme] the 'repository_name' config option has been deprecated\n and replaced by the 'openstackdocs_repo_name' option; support for the former\n will be dropped in a future release\n[openstackdocstheme] the 'bug_project' config option has been deprecated and\nreplaced by the 'openstackdocs_bug_project' option; support for the former\n will be dropped in a future release\n[openstackdocstheme] the 'bug_tag' config option has been deprecated and\nreplaced by the 'openstackdocs_bug_tag' option; support for the former will\nbe dropped in a future release\nwriting output... [ 66%] cli/index\nwriting output... [100%] index\n\nChange-Id: I55903e4f914673aba5ac986b845c2a6504830c19\n""}]",0,739387,b744d68b644645ebd49adc21e72c1843a2618456,7,2,1,21069,,,0,"Fix docs output error

writing output... [ 33%] cli/freezer-manager-status
[openstackdocstheme] the 'repository_name' config option has been deprecated
 and replaced by the 'openstackdocs_repo_name' option; support for the former
 will be dropped in a future release
[openstackdocstheme] the 'bug_project' config option has been deprecated and
replaced by the 'openstackdocs_bug_project' option; support for the former
 will be dropped in a future release
[openstackdocstheme] the 'bug_tag' config option has been deprecated and
replaced by the 'openstackdocs_bug_tag' option; support for the former will
be dropped in a future release
writing output... [ 66%] cli/index
writing output... [100%] index

Change-Id: I55903e4f914673aba5ac986b845c2a6504830c19
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/87/739387/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b744d68b644645ebd49adc21e72c1843a2618456,,openstackdocs_repo_name = 'openstack/freezer-api' openstackdocs_bug_project = 'freezer' openstackdocs_bug_tag = '',repository_name = 'openstack/freezer-api' bug_project = 'freezer' bug_tag = '',3,3
openstack%2Fdiskimage-builder~master~If4420e9ae7870739aac8a673ff290f9ed1391acf,openstack/diskimage-builder,master,If4420e9ae7870739aac8a673ff290f9ed1391acf,add more python selections to gentoo,MERGED,2020-06-14 06:16:34.000000000,2020-07-06 03:01:17.000000000,2020-07-06 02:59:59.000000000,"[{'_account_id': 2}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-14 06:16:34.000000000', 'files': ['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c7b6f0d6a1b68e28f6c436e57e62b7617acaee42', 'message': 'add more python selections to gentoo\n\nChange-Id: If4420e9ae7870739aac8a673ff290f9ed1391acf\n'}]",0,735448,c7b6f0d6a1b68e28f6c436e57e62b7617acaee42,54,8,1,14288,,,0,"add more python selections to gentoo

Change-Id: If4420e9ae7870739aac8a673ff290f9ed1391acf
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/48/735448/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python'],1,c7b6f0d6a1b68e28f6c436e57e62b7617acaee42,add-more-pythons-to-gentoo,"[[ ""${GENTOO_PYTHON_TARGETS}"" == *""python3_9""* ]] && [[ ! -e /usr/lib64/libpython3.9.so ]] && emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot dev-lang/python:3.9 [[ ""${GENTOO_PYTHON_TARGETS}"" == *""python3_8""* ]] && [[ ! -e /usr/lib64/libpython3.8.so ]] && emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot dev-lang/python:3.8 [[ ""${GENTOO_PYTHON_TARGETS}"" == *""python3_7""* ]] && [[ ! -e /usr/lib64/libpython3.7m.so ]] && emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot dev-lang/python:3.7[[ ""${GENTOO_PYTHON_TARGETS}"" != *""python3_7""* ]] && emerge -C -q dev-lang/python:3.7 [[ ""${GENTOO_PYTHON_TARGETS}"" != *""python3_8""* ]] && emerge -C -q dev-lang/python:3.8 [[ ""${GENTOO_PYTHON_TARGETS}"" != *""python3_9""* ]] && emerge -C -q dev-lang/python:3.9",,6,0
openstack%2Fceilometer~master~I197ad37c55df8d78375cb31c66eb93b91114d4dd,openstack/ceilometer,master,I197ad37c55df8d78375cb31c66eb93b91114d4dd,Fix pygments style,MERGED,2020-05-20 00:48:46.000000000,2020-07-06 02:56:36.000000000,2020-07-06 02:55:11.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-20 00:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f7517abc3b1befffe7b3ee08b6be3b35313ad34e', 'message': 'Fix pygments style\n\nChange-Id: I197ad37c55df8d78375cb31c66eb93b91114d4dd\n'}, {'number': 2, 'created': '2020-05-20 00:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/12b1f24df4e2b38f1c7aaa07024c3051761ff039', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I197ad37c55df8d78375cb31c66eb93b91114d4dd\n'}, {'number': 3, 'created': '2020-05-21 01:24:07.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/976df71b638edcb310c91719b423439e60da2a0c', 'message': 'Fix pygments style\n\nNew theme of docs respects pygments_style.\n\nmore info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I197ad37c55df8d78375cb31c66eb93b91114d4dd\n'}]",0,729456,976df71b638edcb310c91719b423439e60da2a0c,17,4,3,30356,,,0,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I197ad37c55df8d78375cb31c66eb93b91114d4dd
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/56/729456/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,f7517abc3b1befffe7b3ee08b6be3b35313ad34e,,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib315d10dbdbbad1628f536a74cd1fca371f018f5,openstack/tripleo-heat-templates,stable/ussuri,Ib315d10dbdbbad1628f536a74cd1fca371f018f5,Sync httpd conf.modules.d configs,MERGED,2020-06-24 12:51:52.000000000,2020-07-06 02:13:20.000000000,2020-07-06 02:13:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-24 12:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04334f9b1a5f644dbbcf58f46bb00b101aaf3ac4', 'message': ""Sync httpd conf.modules.d configs\n\nFor containers which run httpd, make sure conf.modules.d is also synced\ninto the container; so apache doesn't fail with:\nAH00534: httpd: Configuration error: More than one MPM loaded.\n\nThis is now required since:\nhttps://github.com/puppetlabs/puppetlabs-apache/commit/6425cc46a841fa6ea5bb3f34b8f31d86c14e6914\n\nChange-Id: Ib315d10dbdbbad1628f536a74cd1fca371f018f5\nCloses-Bug: #1884115\n(cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)\n""}, {'number': 2, 'created': '2020-07-05 20:21:01.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b366fd9e1a6b6977f5094204ef731b609000c7d1', 'message': ""Sync httpd conf.modules.d configs\n\nFor containers which run httpd, make sure conf.modules.d is also synced\ninto the container; so apache doesn't fail with:\nAH00534: httpd: Configuration error: More than one MPM loaded.\n\nThis is now required since:\nhttps://github.com/puppetlabs/puppetlabs-apache/commit/6425cc46a841fa6ea5bb3f34b8f31d86c14e6914\n\nChange-Id: Ib315d10dbdbbad1628f536a74cd1fca371f018f5\nCloses-Bug: #1884115\n(cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)\n""}]",0,737764,b366fd9e1a6b6977f5094204ef731b609000c7d1,23,4,2,14985,,,0,"Sync httpd conf.modules.d configs

For containers which run httpd, make sure conf.modules.d is also synced
into the container; so apache doesn't fail with:
AH00534: httpd: Configuration error: More than one MPM loaded.

This is now required since:
https://github.com/puppetlabs/puppetlabs-apache/commit/6425cc46a841fa6ea5bb3f34b8f31d86c14e6914

Change-Id: Ib315d10dbdbbad1628f536a74cd1fca371f018f5
Closes-Bug: #1884115
(cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/737764/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",19,04334f9b1a5f644dbbcf58f46bb00b101aaf3ac4,bug/1884115-stable/ussuri," - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" # TODO(emilien) remove optional flag once we get a promotion # https://launchpad.net/bugs/1884115 optional: true merge: false preserve_properties: true",,137,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8394cec6bbaca9c89c848eaddf724c072bc36cb3,openstack/tripleo-heat-templates,stable/ussuri,I8394cec6bbaca9c89c848eaddf724c072bc36cb3,Add non-string value support for CephAnsibleEnvironmentVariables,MERGED,2020-05-27 13:07:09.000000000,2020-07-06 01:56:00.000000000,2020-07-06 01:56:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31695}]","[{'number': 1, 'created': '2020-05-27 13:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/294ad685fc8fbdeef3b2f95ec548980c75df7c19', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)\n'}, {'number': 2, 'created': '2020-06-18 13:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51f95689f03a47fe4cba568666613c4a739c1064', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)\n'}, {'number': 3, 'created': '2020-07-03 13:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d32762c1f0aa75f54a4f8461c6f3283ee1e76d5b', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)\n'}, {'number': 4, 'created': '2020-07-05 20:21:42.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48d735e723d963edb63a85701a94be47f405d407', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)\n'}]",0,731198,48d735e723d963edb63a85701a94be47f405d407,25,5,4,14985,,,0,"Add non-string value support for CephAnsibleEnvironmentVariables

CephAnsibleEnvironmentVariables data is supposed to be transformed
into ""KEY=VALUE"" format by yaql expression.

```
ceph_ansible_environment_variables:
  yaql:
    data: {get_param: CephAnsibleEnvironmentVariables}
    expression: $.data.items().select($[0] + '=' + $[1])
```

However, the expression here uses `+` to join the key($[0]) and
value($[1]), which will cause syntax error when value is not string
type.

For example:

If we use boolean or integer for environment values such as
```
parameter_defaults:
  CephAnsibleEnvironmentVariables:
    ANSIBLE_DEBUG: true
```

the following error will occour

```
overcloud.CephStorageServiceChain:
  resource_type: OS::TripleO::CephStorageServices
  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c
  status: UPDATE_FAILED
  status_reason: |
    resources.CephStorageServiceChain:
    Error in 4 output role_data:
    Error in CephBase output role_data:
    No function ""#operator_+"" matches supplied arguments
```

Change-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3
Closes-Bug: #1878720
(cherry picked from commit 7c46fd01425a40818916aeca227ec1dbfa1ec348)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/731198/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",5,294ad685fc8fbdeef3b2f95ec548980c75df7c19,bug/1878720-stable/ussuri, ANSIBLE_SSH_RETRIES: 4 DEFAULT_FORKS: 3, ANSIBLE_SSH_RETRIES: '4' DEFAULT_FORKS: '3',9,9
openstack%2Fwatcher~master~Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9,openstack/watcher,master,Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9,resize action don't support revert,MERGED,2020-07-02 06:50:11.000000000,2020-07-06 01:50:37.000000000,2020-07-06 01:48:00.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:50:11.000000000', 'files': ['watcher/applier/actions/resize.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/1667046f5802e52f9d60fed8752879c8ad0b6849', 'message': ""resize action don't support revert\n\nChange-Id: Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9\n""}]",0,738972,1667046f5802e52f9d60fed8752879c8ad0b6849,8,2,1,21692,,,0,"resize action don't support revert

Change-Id: Ia2df0e0a4f242392915aa2a89d4fbae39b6c70e9
",git fetch https://review.opendev.org/openstack/watcher refs/changes/72/738972/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/applier/actions/resize.py'],1,1667046f5802e52f9d60fed8752879c8ad0b6849,action_resize," LOG.warning(""revert not supported"")", return self.migrate(destination=self.source_node),1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If1c621b45718475578dca390c45c0e23d1f3d7bc,openstack/tripleo-heat-templates,stable/train,If1c621b45718475578dca390c45c0e23d1f3d7bc,Disable Sahara in scenario003-standalone,MERGED,2020-07-03 13:57:58.000000000,2020-07-06 01:30:31.000000000,2020-07-06 01:30:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 10459}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:57:58.000000000', 'files': ['ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/728babbc522e11a3bc37d00fa620f3b173e3f8e4', 'message': ""Disable Sahara in scenario003-standalone\n\nSahara service is deprecated in TripleO and won't be tested anymore to\nalign with what is delivered downstream.\nIn the new container image tooling, we don't ship sahara images simply because\nwe don't have users and won't continue to support it's deployment in the\nfuture.\n\nChange-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc\n(cherry picked from commit 03285912fcc784a971c206f44584b096e28ba14c)\n""}]",0,739238,728babbc522e11a3bc37d00fa620f3b173e3f8e4,15,6,1,3153,,,0,"Disable Sahara in scenario003-standalone

Sahara service is deprecated in TripleO and won't be tested anymore to
align with what is delivered downstream.
In the new container image tooling, we don't ship sahara images simply because
we don't have users and won't continue to support it's deployment in the
future.

Change-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc
(cherry picked from commit 03285912fcc784a971c206f44584b096e28ba14c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/739238/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario003-standalone.yaml'],1,728babbc522e11a3bc37d00fa620f3b173e3f8e4,sahara,, OS::TripleO::Services::SaharaApi: ../../deployment/sahara/sahara-api-container-puppet.yaml OS::TripleO::Services::SaharaEngine: ../../deployment/sahara/sahara-engine-container-puppet.yaml,0,2
openstack%2Fwatcher-specs~master~I50d8b82b70eb441987f41ddedfcae3b07772d0e8,openstack/watcher-specs,master,I50d8b82b70eb441987f41ddedfcae3b07772d0e8,Add bp time-series-framework,MERGED,2020-07-02 07:02:07.000000000,2020-07-06 01:21:09.000000000,2020-07-06 01:19:44.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-07-02 07:02:07.000000000', 'files': ['priorities/victoria-priorities.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/7549c5ed9a41da05cffa5302da0544f04d97888b', 'message': 'Add bp time-series-framework\n\nChange-Id: I50d8b82b70eb441987f41ddedfcae3b07772d0e8\n'}]",0,738975,7549c5ed9a41da05cffa5302da0544f04d97888b,8,5,1,21692,,,0,"Add bp time-series-framework

Change-Id: I50d8b82b70eb441987f41ddedfcae3b07772d0e8
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/75/738975/1 && git format-patch -1 --stdout FETCH_HEAD,['priorities/victoria-priorities.rst'],1,7549c5ed9a41da05cffa5302da0544f04d97888b,bp/time-series-framework,"| `time series framework`_ | `Corne Lukken`_ | +------------------------------------------------+------------------------+time series framework --------------------- Strategies are currently limited to obtain information about metrics in an aggregated form for the most recent measurements. This limits what strategies can achieve as they are unable to retrieve information about past occurrences or information about periodic patterns. A time series framework will allow datasources to provide metrics over specific periods without aggregation, allowing strategies to detect periodic patterns such as a weekly contention and resolve these accordingly. ",,12,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,stable/train,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 20:54:46.000000000,2020-07-06 00:52:03.000000000,2020-07-06 00:49:43.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-01 20:54:46.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efc017570fd4018ecf0c9b722e85fdf3a3a5b6ab', 'message': 'Disable test_swift_acl_anonymous_download test\n\nCeph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized\nfrom 401 to 404, which makes this test fail.\n\nChange-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67\n(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)\n'}]",0,738939,efc017570fd4018ecf0c9b722e85fdf3a3a5b6ab,37,5,1,28619,,,0,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/738939/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'],1,efc017570fd4018ecf0c9b722e85fdf3a3a5b6ab,,# NOTE(noonedeadpunk): ceph bug to track the issue https://tracker.ceph.com/issues/46295 tempest_test_blacklist: - tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps.test_swift_acl_anonymous_download,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If0937ebde4b2bbeb98a824b8f0b887c372191417,openstack/tripleo-heat-templates,stable/train,If0937ebde4b2bbeb98a824b8f0b887c372191417,DNM - Testing centos-8 triggers,ABANDONED,2020-03-02 17:19:15.000000000,2020-07-05 23:46:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 17:19:15.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5c3e6a4e4aa61106c0b03ba1121ad133155cd9c', 'message': 'DNM - Testing centos-8 triggers\n\nDepends-On: https://review.opendev.org/#/c/710179/\nChange-Id: If0937ebde4b2bbeb98a824b8f0b887c372191417\n'}]",0,710838,f5c3e6a4e4aa61106c0b03ba1121ad133155cd9c,4,2,1,9976,,,0,"DNM - Testing centos-8 triggers

Depends-On: https://review.opendev.org/#/c/710179/
Change-Id: If0937ebde4b2bbeb98a824b8f0b887c372191417
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/710838/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,f5c3e6a4e4aa61106c0b03ba1121ad133155cd9c,test-centos-8,# testing comment,,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,stable/ussuri,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-05 16:39:42.000000000,2020-07-05 22:23:34.000000000,2020-07-05 22:22:04.000000000,"[{'_account_id': 167}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 16:39:42.000000000', 'files': ['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33f186c94610062ee51f118a6701c381bf5a5914', 'message': ""Remove policy file from nova-conductor config.json template\n\nChange I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple\nNova cells updated the list of containers that require a policy file to\nonly include nova-api, nova-compute, and nova-compute-ironic.\n\nThe nova-conductor config.json template was left unchanged and fails to\ncopy the nova policy file into its container. This can be seen on a\nfresh deployment, but might be missed on an upgrade if an older policy\nfile is still available in /etc/kolla/nova-conductor.\n\nThis commit removes the nova_policy_file block from the nova-conductor\nconfig.json template, as it shouldn't be required.\n\nBackport: ussuri, train\nChange-Id: I17256b182d207aeba3f92c65a6d7cf3611180558\nCloses-Bug: #1886170\n(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)\n""}]",0,739365,33f186c94610062ee51f118a6701c381bf5a5914,10,4,1,30491,,,0,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/739365/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2']",2,33f186c94610062ee51f118a6701c381bf5a5914,bug/1886170-stable/ussuri, }," }{% if nova_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ nova_policy_file }}"", ""dest"": ""/etc/nova/{{ nova_policy_file }}"", ""owner"": ""nova"", ""perm"": ""0600"" }{% endif %}",8,7
openstack%2Frequirements~master~Ic6db7af34c87a636bfe55bacae03c42154f4b9c7,openstack/requirements,master,Ic6db7af34c87a636bfe55bacae03c42154f4b9c7,importlib-metadata: add python version rule,MERGED,2020-07-05 19:34:31.000000000,2020-07-05 22:16:34.000000000,2020-07-05 22:15:23.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 19:34:31.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4551f8d566f9d6b3f057e57ba781ae6154fb1497', 'message': 'importlib-metadata: add python version rule\n\nWe only want to install the separate importlib-metadata for python\nversions < 3.8. Otherwise, we want to use the standard library version\nof the package. Adding this rule allows consumers of\nimportlib-metadata to specify the same rule to accurately reflect\ntheir dependencies.\n\nChange-Id: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,739371,4551f8d566f9d6b3f057e57ba781ae6154fb1497,8,3,1,2472,,,0,"importlib-metadata: add python version rule

We only want to install the separate importlib-metadata for python
versions < 3.8. Otherwise, we want to use the standard library version
of the package. Adding this rule allows consumers of
importlib-metadata to specify the same rule to accurately reflect
their dependencies.

Change-Id: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/739371/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4551f8d566f9d6b3f057e57ba781ae6154fb1497,osc-performance,importlib-metadata;python_version<'3.8' # Apache-2.0,importlib-metadata # Apache-2.0,1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,stable/train,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-05 16:39:48.000000000,2020-07-05 22:03:43.000000000,2020-07-05 22:02:09.000000000,"[{'_account_id': 167}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 16:39:48.000000000', 'files': ['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd055912df06ecd4149a40ccce873e56f707026d', 'message': ""Remove policy file from nova-conductor config.json template\n\nChange I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple\nNova cells updated the list of containers that require a policy file to\nonly include nova-api, nova-compute, and nova-compute-ironic.\n\nThe nova-conductor config.json template was left unchanged and fails to\ncopy the nova policy file into its container. This can be seen on a\nfresh deployment, but might be missed on an upgrade if an older policy\nfile is still available in /etc/kolla/nova-conductor.\n\nThis commit removes the nova_policy_file block from the nova-conductor\nconfig.json template, as it shouldn't be required.\n\nBackport: ussuri, train\nChange-Id: I17256b182d207aeba3f92c65a6d7cf3611180558\nCloses-Bug: #1886170\n(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)\n""}]",0,739366,bd055912df06ecd4149a40ccce873e56f707026d,8,4,1,30491,,,0,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
(cherry picked from commit c40e8065878dd77c1303642e677c4ca8a989494a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/739366/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2']",2,bd055912df06ecd4149a40ccce873e56f707026d,bug/1886170-stable/ussuri-stable/train, }," }{% if nova_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ nova_policy_file }}"", ""dest"": ""/etc/nova/{{ nova_policy_file }}"", ""owner"": ""nova"", ""perm"": ""0600"" }{% endif %}",8,7
openstack%2Fsenlin-dashboard~master~I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52,openstack/senlin-dashboard,master,I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52,Fix npm job,MERGED,2020-06-23 09:23:36.000000000,2020-07-05 21:50:41.000000000,2020-07-05 21:49:14.000000000,"[{'_account_id': 841}, {'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-23 09:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/b7a0b11239e5d834205313f1a41a79886be6c94a', 'message': 'Fix npm job\n\nChange-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52\n'}, {'number': 2, 'created': '2020-06-24 06:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/b71add2506105fa00a2ff5ce23bb006e96ba3fab', 'message': 'Fix npm job\n\nTox is not anymore pre-install on the Opendev CI images.It is \nalready fixed by horizon 7cd0debebe1a300a96f8d0f21626793be0a0bc41\nNow senlin-dashboard npm job is failing [1] as postinstall script\nin package.json tries to install horizon from master. So this patch\nremoves it which fixes the job.\n\nhttps://zuul.opendev.org/t/openstack/build/8bd8738074144afcb30069e451042cca/log/job-output.txt#4708\n\nChange-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52\n'}, {'number': 3, 'created': '2020-06-24 06:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/7b32965f86506479367fae415e7ec4321d1ffa4e', 'message': 'Fix npm job\n\nTox is not anymore pre-install on the Opendev CI images.It is\nalready fixed by horizon 7cd0debebe1a300a96f8d0f21626793be0a0bc41\nNow senlin-dashboard npm job is failing [1] as postinstall script\nin package.json tries to install horizon from master. So this patch\nremoves it which fixes the job.\n\nhttps://zuul.opendev.org/t/openstack/build/8bd8738074144afcb30069e451042cca/log/job-output.txt#4708\n\nChange-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52\n'}, {'number': 4, 'created': '2020-06-24 07:27:45.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/001accd77c1e6ca7b8288b087ad7a1ecf017915e', 'message': 'Fix npm job\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52\n'}]",4,737466,001accd77c1e6ca7b8288b087ad7a1ecf017915e,16,4,4,29313,,,0,"Fix npm job

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I78b4c6bd2f0ac7bdf39f69d1be4ecd32ce953d52
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/66/737466/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,b7a0b11239e5d834205313f1a41a79886be6c94a,fix-npm-jobs," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fdiskimage-builder~master~I648fe19f1f76c03c97492b6ac7be6381f6f9261b,openstack/diskimage-builder,master,I648fe19f1f76c03c97492b6ac7be6381f6f9261b,Download latest CentOS cloud image,MERGED,2020-06-22 09:07:16.000000000,2020-07-05 21:09:57.000000000,2020-07-05 21:06:43.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-22 09:07:16.000000000', 'files': ['diskimage_builder/elements/centos/root.d/10-centos-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1f9619cdb5fe7c2eab91b16fe3b78dc97ed279cf', 'message': 'Download latest CentOS cloud image\n\nDIB was retrieving the oldest cloud image file which, presently, means\nretrieving CentOS 8.1 instead of CentOS 8.2. Even though DIB runs a\nsystem update and so catches up to latest, this takes bandwidth, time\nand final image space (8.1 + system update = 765M qcow2, vs 8.2 + system\nupdate = 518M qcow2).\n\nThis patch fixes that by taking the first image name in a descending\norder list.\n\nChange-Id: I648fe19f1f76c03c97492b6ac7be6381f6f9261b\n'}]",0,737237,1f9619cdb5fe7c2eab91b16fe3b78dc97ed279cf,25,6,1,6469,,,0,"Download latest CentOS cloud image

DIB was retrieving the oldest cloud image file which, presently, means
retrieving CentOS 8.1 instead of CentOS 8.2. Even though DIB runs a
system update and so catches up to latest, this takes bandwidth, time
and final image space (8.1 + system update = 765M qcow2, vs 8.2 + system
update = 518M qcow2).

This patch fixes that by taking the first image name in a descending
order list.

Change-Id: I648fe19f1f76c03c97492b6ac7be6381f6f9261b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/737237/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/root.d/10-centos-cloud-image'],1,1f9619cdb5fe7c2eab91b16fe3b78dc97ed279cf,centos-8," LATEST_IMAGE_FILE=$(curl -s https://cloud.centos.org/centos/${DIB_RELEASE}/${ARCH}/images/ | grep -o ""CentOS-${DIB_RELEASE}-${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)"," LATEST_IMAGE_FILE=$(curl -s https://cloud.centos.org/centos/${DIB_RELEASE}/${ARCH}/images/ | grep -o ""CentOS-${DIB_RELEASE}-${DIB_FLAVOR}-.[^>]*.qcow2"" | head -1)",1,1
openstack%2Fdiskimage-builder~master~Id0825de735ab957c10daf35fb3c641f850cc6847,openstack/diskimage-builder,master,Id0825de735ab957c10daf35fb3c641f850cc6847,Add support for CentOS 8 Stream,MERGED,2020-06-08 13:34:50.000000000,2020-07-05 21:08:53.000000000,2020-07-05 21:06:41.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 9311}, {'_account_id': 9592}, {'_account_id': 10118}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-08 13:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/775fdeaf108a76da08fb925e396be79ec9934ced', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 2, 'created': '2020-06-08 15:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46d9912db013a644b45e868c78ecfd8f3c2cb48a', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 3, 'created': '2020-06-08 16:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/87d0fde8df4710d3a6f0a41d8030de5380ff8dd1', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 4, 'created': '2020-06-08 19:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a5020086248ff66873a16024cab935b75c6bc088', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 5, 'created': '2020-06-08 19:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bfaa968c7472032c3a4e5c4149d8c73ef2b204bd', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 6, 'created': '2020-06-08 19:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/845d7ebe81222c2ba0b058a95afe7f5640ec6390', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 7, 'created': '2020-06-08 21:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ffc8b3db9dc2a09897c0cf00e8e5d69e6e25f604', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 8, 'created': '2020-06-09 08:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/65c3822b9077b18cd8f4116559a53128cdbacd9c', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 9, 'created': '2020-06-09 08:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d991e38e0e13d95bd31e3f51b90ec37002f6820c', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 10, 'created': '2020-06-09 12:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2919b652643738994c6f1e25bc06d51362f2d423', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 11, 'created': '2020-06-09 13:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e3e688376797dfcbf65b0ce1360ab9fe10eb89ac', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 12, 'created': '2020-06-10 11:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4325151ffe7a5475be6f4a8e2e00520d48945f97', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 13, 'created': '2020-06-10 16:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a80f43d98dc0adf969263ccf8eae6af44ce71254', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}, {'number': 14, 'created': '2020-06-22 08:37:31.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/pip-and-virtualenv/environment.d/51-pip-and-virutalenv-default.bash', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/environment.d/09-set-distro.bash', 'diskimage_builder/elements/simple-init/post-install.d/80-simple-init', 'releasenotes/notes/centos-minimal-8-stream-97021a2c92463dde.yaml', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8-stream/appstream.repo', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8-stream/base.repo', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/centos-minimal/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/element-deps', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', '.zuul.d/project.yaml', 'diskimage_builder/elements/centos-minimal/environment.d/10-centos-distro-name.bash', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python', 'diskimage_builder/elements/centos-minimal/README.rst', 'diskimage_builder/elements/simple-init/environment.d/15-simple-init-networkmanager'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/367dfc9294f76da411bdedea4445959fc5f80aac', 'message': 'Add support for CentOS 8 Stream\n\nThis patch adds support for CentOS 8 Stream [1] to the centos-minimal\nelement. Users should set DIB_RELEASE=8-stream.\n\n[1] https://www.centos.org/stream/\n\nChange-Id: Id0825de735ab957c10daf35fb3c641f850cc6847\n'}]",5,734083,367dfc9294f76da411bdedea4445959fc5f80aac,88,11,14,6469,,,0,"Add support for CentOS 8 Stream

This patch adds support for CentOS 8 Stream [1] to the centos-minimal
element. Users should set DIB_RELEASE=8-stream.

[1] https://www.centos.org/stream/

Change-Id: Id0825de735ab957c10daf35fb3c641f850cc6847
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/734083/10 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/environment.d/09-set-distro.bash', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8-stream/appstream.repo', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8-stream/base.repo', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/README.rst', 'diskimage_builder/elements/centos-minimal/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/centos-minimal/test-elements/8-stream-build-succeeds/element-deps', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/centos-minimal/environment.d/10-centos-distro-name.bash', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python', 'diskimage_builder/elements/centos-minimal/README.rst']",12,775fdeaf108a76da08fb925e396be79ec9934ced,centos-stream,"By default this builds CentOS 7 images. Set ``DIB_RELEASE`` to ``7``, ``8`` or ``8-stream`` to explicitly select the release.this to ``0``. For CentOS 8 and CentOS 8 Stream, this is set to ``0`` by default as the system uses NetworkManager by default.","By default this builds CentOS 7 images. Set ``DIB_RELEASE`` to ``7`` or ``8`` to explicitly select the release.this to ``0``. For CentOS 8, this is set to ``0`` by default as the system uses NetworkManager by default.",38,15
openstack%2Fglance~stable%2Fussuri~I845bce79e487656a284e52e4c605d648a5411822,openstack/glance,stable/ussuri,I845bce79e487656a284e52e4c605d648a5411822,Use grenade-multinode instead of the custom legacy job,MERGED,2020-06-30 20:40:21.000000000,2020-07-05 21:03:11.000000000,2020-07-05 21:00:59.000000000,"[{'_account_id': 5202}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 20:40:21.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/post.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/0855cc1eaa6b25b823db3253afee10ca13fc39c2', 'message': 'Use grenade-multinode instead of the custom legacy job\n\nglance-dsvm-grenade-multinode is a simple multinode grenade job and\nit can thus be replaced by the existing grenade-multinode.\n\nChange-Id: I845bce79e487656a284e52e4c605d648a5411822\n(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)\n'}]",0,738693,0855cc1eaa6b25b823db3253afee10ca13fc39c2,14,4,1,10459,,,0,"Use grenade-multinode instead of the custom legacy job

glance-dsvm-grenade-multinode is a simple multinode grenade job and
it can thus be replaced by the existing grenade-multinode.

Change-Id: I845bce79e487656a284e52e4c605d648a5411822
(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/738693/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/post.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml']",3,0855cc1eaa6b25b823db3253afee10ca13fc39c2,native-zuulv3-migration,,"- hosts: primary name: Autoconverted job legacy-glance-dsvm-grenade-multinode from old job gate-glance-dsvm-grenade-multinode-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_CONFIGDRIVE=0 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_USE_PYTHON3=True export PROJECTS=""openstack/grenade $PROJECTS"" export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=""multinode"" cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",1,73
openstack%2Fstevedore~master~Ie2b3370267050597d616209ee2757e21002519b6,openstack/stevedore,master,Ie2b3370267050597d616209ee2757e21002519b6,add a caching layer in front of entry point scanning,ABANDONED,2020-07-04 18:09:53.000000000,2020-07-05 19:08:24.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 18:09:53.000000000', 'files': ['stevedore/entrypoints_cache.py', 'stevedore/extension.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/74b6e6bbb2a024cecf67c88ee38686cd68ef43f0', 'message': 'add a caching layer in front of entry point scanning\n\nThe cache stores the parsed text data from all of the ini input files\nin a single JSON file with a name based on the hash of the path\nentries and the mtimes. This should produce a unique filename for each\nimport path, regardless of the use of a virtualenv.\n\nThe data is stored in a format that means no other files need to be\nexamined or parsed in order to return EntryPoint objects.\n\nChange-Id: Ie2b3370267050597d616209ee2757e21002519b6\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,739326,74b6e6bbb2a024cecf67c88ee38686cd68ef43f0,5,2,1,2472,,,0,"add a caching layer in front of entry point scanning

The cache stores the parsed text data from all of the ini input files
in a single JSON file with a name based on the hash of the path
entries and the mtimes. This should produce a unique filename for each
import path, regardless of the use of a virtualenv.

The data is stored in a format that means no other files need to be
examined or parsed in order to return EntryPoint objects.

Change-Id: Ie2b3370267050597d616209ee2757e21002519b6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/26/739326/1 && git format-patch -1 --stdout FETCH_HEAD,"['stevedore/entrypoints_cache.py', 'stevedore/extension.py']",2,74b6e6bbb2a024cecf67c88ee38686cd68ef43f0,osc-performance,from . import entrypoints_cache eps = list(entrypoints_cache.get_group_all(self.namespace)),from .vendor import entrypoints eps = list(entrypoints.get_group_all(self.namespace)),179,2
openstack%2Fkolla-ansible~master~I17256b182d207aeba3f92c65a6d7cf3611180558,openstack/kolla-ansible,master,I17256b182d207aeba3f92c65a6d7cf3611180558,Remove policy file from nova-conductor config.json template,MERGED,2020-07-03 09:49:14.000000000,2020-07-05 16:39:42.000000000,2020-07-05 16:02:28.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-03 09:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23580cf98e9727449e72ea937fa9fc48494051ef', 'message': ""Remove policy file from nova-conductor config.json template\n\nChange I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple\nNova cells updated the list of containers that require a policy file to\nonly include nova-api, nova-compute, and nova-compute-ironic.\n\nThe nova-conductor config.json template was left unchanged and fails to\ncopy the nova policy file into its container. This can be seen on a\nfresh deployment, but might be missed on an upgrade if an older policy\nfile is still available in /etc/kolla/nova-conductor.\n\nThis commit removes the nova_policy_file block from the nova-conductor\nconfig.json template, as it shouldn't be required.\n\nBackport: ussuri, train\nChange-Id: I17256b182d207aeba3f92c65a6d7cf3611180558\nCloses-Bug: #1886170\n""}, {'number': 2, 'created': '2020-07-03 11:11:45.000000000', 'files': ['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c40e8065878dd77c1303642e677c4ca8a989494a', 'message': ""Remove policy file from nova-conductor config.json template\n\nChange I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple\nNova cells updated the list of containers that require a policy file to\nonly include nova-api, nova-compute, and nova-compute-ironic.\n\nThe nova-conductor config.json template was left unchanged and fails to\ncopy the nova policy file into its container. This can be seen on a\nfresh deployment, but might be missed on an upgrade if an older policy\nfile is still available in /etc/kolla/nova-conductor.\n\nThis commit removes the nova_policy_file block from the nova-conductor\nconfig.json template, as it shouldn't be required.\n\nBackport: ussuri, train\nChange-Id: I17256b182d207aeba3f92c65a6d7cf3611180558\nCloses-Bug: #1886170\n""}]",2,739194,c40e8065878dd77c1303642e677c4ca8a989494a,15,5,2,15197,,,0,"Remove policy file from nova-conductor config.json template

Change I810aad7d49db3f5a7fd9a2f0f746fd912fe03917 for supporting multiple
Nova cells updated the list of containers that require a policy file to
only include nova-api, nova-compute, and nova-compute-ironic.

The nova-conductor config.json template was left unchanged and fails to
copy the nova policy file into its container. This can be seen on a
fresh deployment, but might be missed on an upgrade if an older policy
file is still available in /etc/kolla/nova-conductor.

This commit removes the nova_policy_file block from the nova-conductor
config.json template, as it shouldn't be required.

Backport: ussuri, train
Change-Id: I17256b182d207aeba3f92c65a6d7cf3611180558
Closes-Bug: #1886170
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/739194/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886170-f76d9d3520ab86ec.yaml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2']",2,23580cf98e9727449e72ea937fa9fc48494051ef,bug/1886170, }," }{% if nova_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ nova_policy_file }}"", ""dest"": ""/etc/nova/{{ nova_policy_file }}"", ""owner"": ""nova"", ""perm"": ""0600"" }{% endif %}",7,7
openstack%2Fkolla-ansible~master~I15e5c0e0a956ee181873cf002229532a15ff959d,openstack/kolla-ansible,master,I15e5c0e0a956ee181873cf002229532a15ff959d,Remove the neutron-fwaas roles since it retired,MERGED,2020-06-17 05:25:16.000000000,2020-07-05 16:03:47.000000000,2020-07-05 16:02:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-17 05:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc361a730435db1f59291ac839d282f9ea0e4a6e', 'message': '[wip]Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I15e5c0e0a956ee181873cf002229532a15ff959d\n'}, {'number': 2, 'created': '2020-06-20 11:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aef76dcfe1c029f0522ce0b0e5635ee0c2cf3181', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I15e5c0e0a956ee181873cf002229532a15ff959d\nCo-Authored-By: jacky06 <zhang.min@99cloud.net>\n'}, {'number': 3, 'created': '2020-06-20 11:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1d8c75f144e082da598fa1a995312dd6ce2ab8e', 'message': 'Remove the neutron-fwaas roles since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I15e5c0e0a956ee181873cf002229532a15ff959d\nCo-Authored-By: jacky06 <zhang.min@99cloud.net>\n'}, {'number': 4, 'created': '2020-06-20 12:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a0e0f9ded1780b9835453bd0fe6d813ff162ea8', 'message': 'Remove the neutron-fwaas roles since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I15e5c0e0a956ee181873cf002229532a15ff959d\nCo-Authored-By: jacky06 <zhang.min@99cloud.net>\n'}, {'number': 5, 'created': '2020-06-20 12:12:11.000000000', 'files': ['releasenotes/notes/remove-neutron-fwaas-0g6a327ae69e2117.yaml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-l3-agent-wrapper.sh.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/neutron/templates/fwaas_driver.ini.j2', 'etc/kolla/globals.yml', 'ansible/roles/neutron/templates/neutron-l3-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c7ca296643074a41a526a9979253af1d4c5d057', 'message': 'Remove the neutron-fwaas roles since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I15e5c0e0a956ee181873cf002229532a15ff959d\nCo-Authored-By: jacky06 <zhang.min@99cloud.net>\n'}]",2,736098,1c7ca296643074a41a526a9979253af1d4c5d057,21,6,5,30356,,,0,"Remove the neutron-fwaas roles since it retired

Depends-On: I561504160e5548c54d1af31821c3366ab34cf0ec
Change-Id: I15e5c0e0a956ee181873cf002229532a15ff959d
Co-Authored-By: jacky06 <zhang.min@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/736098/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-l3-agent-wrapper.sh.j2', 'ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/roles/neutron/tasks/config.yml', 'etc/kolla/globals.yml']",7,bc361a730435db1f59291ac839d282f9ea0e4a6e,,,"#enable_horizon_fwaas: ""{{ enable_neutron_fwaas | bool }}""#enable_neutron_fwaas: ""no""",1,39
openstack%2Fheat-translator~master~Iab5fd15778dccdacc4811b35627c9b99b6bac0cc,openstack/heat-translator,master,Iab5fd15778dccdacc4811b35627c9b99b6bac0cc,Avoid writing substack template into files,NEW,2020-05-26 09:09:04.000000000,2020-07-05 14:08:14.000000000,,"[{'_account_id': 1011}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26588}, {'_account_id': 27180}, {'_account_id': 31648}]","[{'number': 1, 'created': '2020-05-26 09:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/1a3ed460e5d8aaec2802076aa835cb3131dbfa2c', 'message': 'Avoid writing substack template into files\n\nTOSCATranslator.translate() method writes substack templates into\nfiles. These files are not necessary as their content is already\nincluded in the template. This patch removes the code which writes\nthose files.\n\nPrinting the content of the substack templates into debug log\nwould unnecessarily flood the logs. Hence not logging the content.\n\nCloses-Bug: #1880647\nChange-Id: Iab5fd15778dccdacc4811b35627c9b99b6bac0cc\n'}, {'number': 2, 'created': '2020-05-26 10:12:23.000000000', 'files': ['translator/hot/tosca_translator.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/31ec53f278a36fbb2e7c1894d647aa77fec84932', 'message': 'Avoid writing substack template into files\n\nTOSCATranslator.translate() method writes substack templates into\nfiles. These files are not necessary as their content is already\nincluded in the template. This patch removes the code which writes\nthose files.\n\nPrinting the content of the substack templates into debug log\nwould unnecessarily flood the logs. Hence not logging the content.\n\nCloses-Bug: #1880647\nChange-Id: Iab5fd15778dccdacc4811b35627c9b99b6bac0cc\n'}]",4,730735,31ec53f278a36fbb2e7c1894d647aa77fec84932,11,7,2,31648,,,0,"Avoid writing substack template into files

TOSCATranslator.translate() method writes substack templates into
files. These files are not necessary as their content is already
included in the template. This patch removes the code which writes
those files.

Printing the content of the substack templates into debug log
would unnecessarily flood the logs. Hence not logging the content.

Closes-Bug: #1880647
Change-Id: Iab5fd15778dccdacc4811b35627c9b99b6bac0cc
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/35/730735/1 && git format-patch -1 --stdout FETCH_HEAD,['translator/hot/tosca_translator.py'],1,1a3ed460e5d8aaec2802076aa835cb3131dbfa2c,bug/1880647,," for name, content in six.iteritems(yaml_files): if name != ""output.yaml"": with open(name, 'w+') as f: f.write(content)",0,4
openstack%2Fkolla-ansible~master~Ia17a64fe9bf31042369dec19f1f76b1ab8592288,openstack/kolla-ansible,master,Ia17a64fe9bf31042369dec19f1f76b1ab8592288,make barbican notification driver configurable,MERGED,2020-07-02 14:58:29.000000000,2020-07-05 11:57:18.000000000,2020-07-05 11:56:04.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 14:58:29.000000000', 'files': ['ansible/roles/barbican/defaults/main.yml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/051038621f162b40c069e3be1daef8d9125c9fbb', 'message': ""make barbican notification driver configurable\n\nbarbican alway use default notification driver (defalt '')\nso we should change this value according to whether enable\nnotification\n\nChange-Id: Ia17a64fe9bf31042369dec19f1f76b1ab8592288\n""}]",2,739066,051038621f162b40c069e3be1daef8d9125c9fbb,11,3,1,26285,,,0,"make barbican notification driver configurable

barbican alway use default notification driver (defalt '')
so we should change this value according to whether enable
notification

Change-Id: Ia17a64fe9bf31042369dec19f1f76b1ab8592288
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/739066/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/barbican/defaults/main.yml', 'ansible/roles/barbican/templates/barbican.conf.j2']",2,051038621f162b40c069e3be1daef8d9125c9fbb,,"{% if barbican_enabled_notification_topics %} driver = messagingv2 topics = {{ barbican_enabled_notification_topics | map(attribute='name') | join(',') }} {% else %} driver = noop {% endif %}",,15,0
openstack%2Ftripleo-common~stable%2Fussuri~I131aca7a03802766a791e6912fad6ebf143d31db,openstack/tripleo-common,stable/ussuri,I131aca7a03802766a791e6912fad6ebf143d31db,[DNM] build test packages downstream testing,ABANDONED,2020-06-11 11:08:31.000000000,2020-07-05 11:46:27.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-11 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90075de7c8754336c5b28ac6553bf89603ead0eb', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\nDepends-On: https://review.opendev.org/734820\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-22 08:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d2848665f0185153ce6dfcbf5912d1ccaadb5e1', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/737179\nDepends-On: https://review.opendev.org/737048\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-06-29 08:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/efdd79e92a82337cf4ba6850a0ef71d92e1ce741', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/738394\nDepends-On: https://review.opendev.org/737048\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-06-30 07:03:07.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c222a51c5b8cf0622ab3406a56dba2f00d0b1083', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/738394\nDepends-On: https://review.opendev.org/737048\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,735111,c222a51c5b8cf0622ab3406a56dba2f00d0b1083,53,3,4,12393,,,0,"[DNM] build test packages downstream testing

Depends-On: https://review.opendev.org/738394
Depends-On: https://review.opendev.org/737048

Change-Id: I131aca7a03802766a791e6912fad6ebf143d31db
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/735111/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,90075de7c8754336c5b28ac6553bf89603ead0eb,buildtestpackages-stable/ussuri,#: The names of the root template in a standard tripleo-heat-template layout.,#: The names of the root template in a standard tripleo-heat-template layout.,1,1
openstack%2Fopenstack-ansible-tests~stable%2Ftrain~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,stable/train,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-07-05 06:23:16.000000000,2020-07-05 10:15:29.000000000,2020-07-05 10:13:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-05 06:23:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ae3dd4da80328269021a8d8fc5abb28594dd361f', 'message': 'Increase timout for linters job to 30mins\n\nThis job is given a longer time to run for two reasons, longer is\nspent in the job setup becasue of the increased number of repos\nin required_projects and more time is required to push the job\nlogs into swift storage than the previous method.\n\nJobs are currently failing because these startup/log collect phases\nare taking additional time rather than there being a lint issue, so\nthis patch extends the job time to account for that.\n\nChange-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165\n(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)\n'}]",0,739338,ae3dd4da80328269021a8d8fc5abb28594dd361f,8,3,1,25023,,,0,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
(cherry picked from commit 961685ce27f762081ee47f6d96f229185e12d1d7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/38/739338/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ae3dd4da80328269021a8d8fc5abb28594dd361f,, timeout: 1800 # 30 mins, timeout: 900 # 15 mins,1,1
openstack%2Fneutron~master~Icf5e2a73b15407419d5c922e236181af85aad0dc,openstack/neutron,master,Icf5e2a73b15407419d5c922e236181af85aad0dc,"Provide integer number to arping ""-w"" parameter",MERGED,2020-06-29 08:46:18.000000000,2020-07-05 09:59:48.000000000,2020-07-03 01:28:19.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-29 08:46:18.000000000', 'files': ['neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72d95d40d467fa43a53a48bbc93f6efb3a43fca6', 'message': 'Provide integer number to arping ""-w"" parameter\n\nSome arping versions only accept an integer number for the\n""deadline"" (-w) parameter.\n\nChange-Id: Icf5e2a73b15407419d5c922e236181af85aad0dc\nCloses-Bug: #1885169\n'}]",0,738400,72d95d40d467fa43a53a48bbc93f6efb3a43fca6,42,8,1,16688,,,0,"Provide integer number to arping ""-w"" parameter

Some arping versions only accept an integer number for the
""deadline"" (-w) parameter.

Change-Id: Icf5e2a73b15407419d5c922e236181af85aad0dc
Closes-Bug: #1885169
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/738400/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,72d95d40d467fa43a53a48bbc93f6efb3a43fca6,bug/1885169," '-w', 2, address]"," '-w', 1.5, address]",1,1
openstack%2Fopenstack-ansible-tests~master~Iab1593cf46bcf80022bb353ed0399baadf49b165,openstack/openstack-ansible-tests,master,Iab1593cf46bcf80022bb353ed0399baadf49b165,Increase timout for linters job to 30mins,MERGED,2020-05-13 10:00:16.000000000,2020-07-05 06:23:42.000000000,2020-05-13 13:53:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-05-13 10:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a5b3493be9305365bce3897db41f012fbf91d47b', 'message': 'Increase timout for linters job to 30mins\n\nThis job is given a longer time to run for two reasons, longer is\nspent in the job setup becasue of the increased number of repos\nin required_projects [1] and more time is required to push the job\nlogs into swift storage than the previous method.\n\nJobs are currently failing because these startup/log collect phases\nare taking additional time rather than there being a lint issue, so\nthis patch extends the job time to account for that.\n\nChange-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165\n'}, {'number': 2, 'created': '2020-05-13 11:12:06.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/961685ce27f762081ee47f6d96f229185e12d1d7', 'message': 'Increase timout for linters job to 30mins\n\nThis job is given a longer time to run for two reasons, longer is\nspent in the job setup becasue of the increased number of repos\nin required_projects and more time is required to push the job\nlogs into swift storage than the previous method.\n\nJobs are currently failing because these startup/log collect phases\nare taking additional time rather than there being a lint issue, so\nthis patch extends the job time to account for that.\n\nChange-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165\n'}]",0,727697,961685ce27f762081ee47f6d96f229185e12d1d7,14,4,2,25023,,,0,"Increase timout for linters job to 30mins

This job is given a longer time to run for two reasons, longer is
spent in the job setup becasue of the increased number of repos
in required_projects and more time is required to push the job
logs into swift storage than the previous method.

Jobs are currently failing because these startup/log collect phases
are taking additional time rather than there being a lint issue, so
this patch extends the job time to account for that.

Change-Id: Iab1593cf46bcf80022bb353ed0399baadf49b165
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/97/727697/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,a5b3493be9305365bce3897db41f012fbf91d47b,, timeout: 1800 # 30 mins, timeout: 900 # 15 mins,1,1
openstack%2Fzun-tempest-plugin~master~I89a25883b6341357d6d98b60445eba9d0fe69623,openstack/zun-tempest-plugin,master,I89a25883b6341357d6d98b60445eba9d0fe69623,Test container in subnet without gateway_ip,MERGED,2020-06-07 23:38:51.000000000,2020-07-05 04:44:57.000000000,2020-07-05 04:43:51.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-07 23:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/1df198e0bd0ddf5aec42b0b00ee782112b298ed5', 'message': 'Test container in subnet without gateway_ip\n\nChange-Id: I89a25883b6341357d6d98b60445eba9d0fe69623\n'}, {'number': 2, 'created': '2020-06-07 23:39:14.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/1e6bcd4759a8c0ab20b8d51c3dec3a96b0a892f1', 'message': 'Test container in subnet without gateway_ip\n\nRelated-Bug: #1881910\nChange-Id: I89a25883b6341357d6d98b60445eba9d0fe69623\n'}]",0,733996,1e6bcd4759a8c0ab20b8d51c3dec3a96b0a892f1,12,2,2,11536,,,0,"Test container in subnet without gateway_ip

Related-Bug: #1881910
Change-Id: I89a25883b6341357d6d98b60445eba9d0fe69623
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/96/733996/2 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_containers.py'],1,1df198e0bd0ddf5aec42b0b00ee782112b298ed5,bug/1881910," @decorators.idempotent_id('956e9944-3647-4f87-bdbf-017569549227') def test_run_container_with_no_gateway_subnet(self): test_net = self.create_network() test_subnet = self.create_subnet( test_net, cidr='10.1.0.0/24', gateway_ip=None) self.assertIsNone(test_subnet['gateway_ip']) _, model = self._run_container(nets=[{'network': test_net['id']}]) self.assertEqual(1, len(model.addresses)) subnet_id = list(model.addresses.values())[0][0]['subnet_id'] addr = list(model.addresses.values())[0][0]['addr'] self.assertEqual(subnet_id, test_subnet['id']) self.assertIn('10.1.0', addr) ",,13,0
openstack%2Frequirements~master~Idf9ae2ea576f4ed882489f03e4dbc94193243c98,openstack/requirements,master,Idf9ae2ea576f4ed882489f03e4dbc94193243c98,manual generate-constraints run,MERGED,2020-07-04 19:05:56.000000000,2020-07-05 04:22:29.000000000,2020-07-05 04:21:12.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 19:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/27850bda17c727d0c6218e1970718101e301d644', 'message': 'manual generate-constraints run\n\ngenerated via:\n\ngenerate-constraints -b blacklist.txt -p /usr/bin/python3.6 -p \\\n  /usr/bin/python3.8 -r global-requirements.txt > upper-constraints.txt\n\nheld back the normal mock, msgpack (because of salt) and docutils\n(because of boto iirc).  Have not held back oslotest (mock issues) or\njsonpatch (ironic issues).\n\nChange-Id: Idf9ae2ea576f4ed882489f03e4dbc94193243c98\n'}, {'number': 2, 'created': '2020-07-04 20:32:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bdb9d64daf8c667f5dfb043fcfca5670ba485a73', 'message': 'manual generate-constraints run\n\ngenerated via:\n\ngenerate-constraints -b blacklist.txt -p /usr/bin/python3.6 -p \\\n  /usr/bin/python3.8 -r global-requirements.txt > upper-constraints.txt\n\nheld back the normal mock, msgpack (because of salt) and docutils\n(because of boto iirc).\nheld back oslotest for mock issues in nova.\nheld back jsonatch for issues in ironic.\n\nChange-Id: Idf9ae2ea576f4ed882489f03e4dbc94193243c98\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,739330,bdb9d64daf8c667f5dfb043fcfca5670ba485a73,12,3,2,14288,,,0,"manual generate-constraints run

generated via:

generate-constraints -b blacklist.txt -p /usr/bin/python3.6 -p \
  /usr/bin/python3.8 -r global-requirements.txt > upper-constraints.txt

held back the normal mock, msgpack (because of salt) and docutils
(because of boto iirc).
held back oslotest for mock issues in nova.
held back jsonatch for issues in ironic.

Change-Id: Idf9ae2ea576f4ed882489f03e4dbc94193243c98
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/739330/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,27850bda17c727d0c6218e1970718101e301d644,,rtslib-fb===2.1.73python-ldap===3.3.1 oslo.concurrency===4.2.0osprofiler===3.2.2oslo.service===2.3.1Pint===0.14Pillow===7.2.0oslotest===4.4.0netaddr===0.8.0 pyghmi===1.5.15pywbem===0.17.3openstack-release-test===3.3.0joblib===0.16.0castellan===3.2.0autobahn===20.6.2 SQLAlchemy-Utils===0.36.7importlib-metadata===1.7.0purestorage===1.19.0boto3===1.14.16infinisdk===161.1.3os-traits===2.4.0idna===2.10oslo.cache===2.5.0sympy===1.6.1distlib===0.3.1botocore===1.17.16Django===2.2.14jsonpatch===1.26openstacksdk===0.48.0oslo.db===8.2.1cachetools===4.1.1importlib-resources===3.0.0;python_version=='3.6'docker===4.2.2oslo.utils===4.2.2,rtslib-fb===2.1.72python-ldap===3.3.0 oslo.concurrency===4.1.1osprofiler===3.2.1oslo.service===2.3.0Pint===0.13Pillow===7.1.2oslotest===4.3.0netaddr===0.7.20 pyghmi===1.5.14pywbem===0.17.2openstack-release-test===3.1.3joblib===0.15.1castellan===3.1.1autobahn===20.6.1 SQLAlchemy-Utils===0.36.6importlib-metadata===1.6.1purestorage===1.18.1boto3===1.14.11infinisdk===151.1.1os-traits===2.3.0idna===2.9oslo.cache===2.4.1sympy===1.6distlib===0.3.0botocore===1.17.11Django===2.2.13jsonpatch===1.25openstacksdk===0.47.0oslo.db===8.2.0cachetools===4.1.0importlib-resources===2.0.1;python_version=='3.6'docker===4.2.1oslo.utils===4.2.1,34,34
openstack%2Fkuryr-libnetwork~stable%2Frocky~I3033d28eb268a01de8cf038b1ed20110ca9a31ea,openstack/kuryr-libnetwork,stable/rocky,I3033d28eb268a01de8cf038b1ed20110ca9a31ea,Handle subnet without gateway,MERGED,2020-06-27 01:10:19.000000000,2020-07-05 00:35:38.000000000,2020-07-05 00:35:38.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-27 01:10:19.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/2d5158767121922a38577a0c8abdf8c383bf7bcd', 'message': ""Handle subnet without gateway\n\n* When libnetwork requests the IP address of the gateway\n  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway\n  as None, return '0.0.0.0/0' as a placeholder.\n* Disable default docker gateway via the 'DisableGatewayService' flag\n  (see https://github.com/moby/libnetwork/pull/778).\n\nChange-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea\nCloses-Bug: #1881910\n(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)\n""}]",0,738296,2d5158767121922a38577a0c8abdf8c383bf7bcd,14,4,1,11536,,,0,"Handle subnet without gateway

* When libnetwork requests the IP address of the gateway
  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway
  as None, return '0.0.0.0/0' as a placeholder.
* Disable default docker gateway via the 'DisableGatewayService' flag
  (see https://github.com/moby/libnetwork/pull/778).

Change-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea
Closes-Bug: #1881910
(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/96/738296/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/controllers.py']",2,2d5158767121922a38577a0c8abdf8c383bf7bcd,bug/1881910-stable/rocky," ""StaticRoutes"": [], ""DisableGatewayService"": True, if not req_address: if subnet['ip_version'] == 4: allocated_address = ""0.0.0.0/0"" else: allocated_address = ""::/0"" elif req_address == existed_gateway_ip:"," ""StaticRoutes"": [] if req_address == existed_gateway_ip:",14,5
openstack%2Fzun-tempest-plugin~master~I862ce25f0072724870462a6f5bc9633ac66cea4f,openstack/zun-tempest-plugin,master,I862ce25f0072724870462a6f5bc9633ac66cea4f,Verify capsule's containers status,MERGED,2020-05-24 03:16:34.000000000,2020-07-04 23:49:25.000000000,2020-07-04 23:48:13.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-24 03:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/249085d86cbc98c7411606f7fc9287e6527d51fc', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}, {'number': 2, 'created': '2020-05-24 04:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/7c04b97c8d309b047fd6058871ab27e16cdcf3ff', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nDepends-On: https://review.opendev.org/#/c/730494/\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}, {'number': 3, 'created': '2020-05-24 16:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/98652c471dab45d482326ef2ea875505b2f8f0fa', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nDepends-On: https://review.opendev.org/#/c/730513/\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}, {'number': 4, 'created': '2020-05-24 17:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/3ef7027e0b26b1ddb279143fe8a7563af8909f42', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nDepends-On: https://review.opendev.org/#/c/730513/\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}, {'number': 5, 'created': '2020-05-24 19:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/c3fedc86b74b96da7d6bb2e69f8d3eefc42715a5', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nDepends-On: https://review.opendev.org/#/c/730528/\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}, {'number': 6, 'created': '2020-05-25 13:44:55.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_capsules.py', 'zun_tempest_plugin/tests/tempest/base.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/ab1fc1ab9f85deeb118541e6588311cee42e4b92', 'message': ""Verify capsule's containers status\n\nAfter a capsule is successfully created, iterate each containers\nof this capsule and verify its status.\n\nDepends-On: https://review.opendev.org/#/c/730513/\nChange-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f\n""}]",0,730490,ab1fc1ab9f85deeb118541e6588311cee42e4b92,35,2,6,11536,,,0,"Verify capsule's containers status

After a capsule is successfully created, iterate each containers
of this capsule and verify its status.

Depends-On: https://review.opendev.org/#/c/730513/
Change-Id: I862ce25f0072724870462a6f5bc9633ac66cea4f
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/90/730490/4 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_capsules.py'],1,249085d86cbc98c7411606f7fc9287e6527d51fc,," for container in model.init_containers: self.assertEqual('Stopped', container['status']) for container in model.containers: self.assertEqual('Running', container['status'])",,4,0
openstack%2Fkuryr-libnetwork~stable%2Frocky~I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f,openstack/kuryr-libnetwork,stable/rocky,I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f,Install tox before running tests,MERGED,2020-06-27 14:50:18.000000000,2020-07-04 23:10:51.000000000,2020-07-04 23:10:50.000000000,"[{'_account_id': 11536}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-27 14:50:18.000000000', 'files': ['kuryr_libnetwork/tests/contrib/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8b5a4812f10fd114c1369483403e0ccd3a944121', 'message': ""Install tox before running tests\n\nWe run tests by using 'tox' so we need to install it.\n\nChange-Id: I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f\n(cherry picked from commit 243e500e8cd83edb61972a15db6c6c18a61531b8)\n""}]",0,738314,8b5a4812f10fd114c1369483403e0ccd3a944121,13,3,1,11536,,,0,"Install tox before running tests

We run tests by using 'tox' so we need to install it.

Change-Id: I95d3354b4f691850af8cc6f4c6af4c9e98e5cb1f
(cherry picked from commit 243e500e8cd83edb61972a15db6c6c18a61531b8)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/14/738314/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_libnetwork/tests/contrib/post_test_hook.sh'],1,8b5a4812f10fd114c1369483403e0ccd3a944121,,sudo pip install tox,,1,0
openstack%2Ftripleo-ci~master~I6554aaa610db9f260785917587b4c2870db34702,openstack/tripleo-ci,master,I6554aaa610db9f260785917587b4c2870db34702,"Revert ""turn off NetworkManager in CentOS-8 TripleO""",MERGED,2020-07-02 06:58:44.000000000,2020-07-04 21:13:51.000000000,2020-07-04 21:13:51.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 06:58:44.000000000', 'files': ['roles/disable_network_manager/tasks/main.yml', 'playbooks/tripleo-ci/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ac0c23b5e4ef79589b9f3c18bb34947e5100842', 'message': 'Revert ""turn off NetworkManager in CentOS-8 TripleO""\n\nThis reverts commit 7dd82ca385ac3b1d380cf9358cb4cc120981986c.\nDepends-On: https://review.opendev.org/#/c/738964/\n\nChange-Id: I6554aaa610db9f260785917587b4c2870db34702\n'}]",0,738974,2ac0c23b5e4ef79589b9f3c18bb34947e5100842,18,6,1,10969,,,0,"Revert ""turn off NetworkManager in CentOS-8 TripleO""

This reverts commit 7dd82ca385ac3b1d380cf9358cb4cc120981986c.
Depends-On: https://review.opendev.org/#/c/738964/

Change-Id: I6554aaa610db9f260785917587b4c2870db34702
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/738974/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/disable_network_manager/tasks/main.yml', 'playbooks/tripleo-ci/pre.yaml']",2,2ac0c23b5e4ef79589b9f3c18bb34947e5100842,,, - role: disable_network_manager,0,26
openstack%2Fpuppet-tripleo~master~I9e29f774afe26c56f0091aa28ef5517f26fe1e4b,openstack/puppet-tripleo,master,I9e29f774afe26c56f0091aa28ef5517f26fe1e4b,Remove deprecated keystone::enable_bootstrap,MERGED,2020-06-29 06:37:04.000000000,2020-07-04 19:24:10.000000000,2020-07-04 19:24:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 06:37:04.000000000', 'files': ['manifests/profile/base/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/344c4b5c4f29704e4261aed94bee09d46fc271c9', 'message': ""Remove deprecated keystone::enable_bootstrap\n\nThis patch removes usage of the keystone::enable_bootstrap parameter,\nbecause it has been deprecated[1] and has no effect now.\n\nNote that we currently implement bootstrap process in t-h-t, thus\nwe don't need to include keystone::bootstrap in puppet-tripleo.\n\n[1] bc1ff1d7cb01ac02790c3302a3da6e994598d9f6\n\nChange-Id: I9e29f774afe26c56f0091aa28ef5517f26fe1e4b\n""}]",0,738380,344c4b5c4f29704e4261aed94bee09d46fc271c9,16,5,1,9816,,,0,"Remove deprecated keystone::enable_bootstrap

This patch removes usage of the keystone::enable_bootstrap parameter,
because it has been deprecated[1] and has no effect now.

Note that we currently implement bootstrap process in t-h-t, thus
we don't need to include keystone::bootstrap in puppet-tripleo.

[1] bc1ff1d7cb01ac02790c3302a3da6e994598d9f6

Change-Id: I9e29f774afe26c56f0091aa28ef5517f26fe1e4b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/738380/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keystone.pp'],1,344c4b5c4f29704e4261aed94bee09d46fc271c9,key-enable_bootstrap,," enable_bootstrap => $sync_db,",0,1
openstack%2Fpython-openstackclient~master~I6d3a38eee0c75bbc795bad732fe547181d15c677,openstack/python-openstackclient,master,I6d3a38eee0c75bbc795bad732fe547181d15c677,Remove enabling of glance v1 API,MERGED,2020-07-03 15:08:16.000000000,2020-07-04 18:27:24.000000000,2020-07-04 18:18:36.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 15:08:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4638dbc7f373177277dbf8aabe6d84f15334492e', 'message': ""Remove enabling of glance v1 API\n\ndevstack removing the glance v1 api enable\noption[1] because there is no v1 entry point in glance\nnow[2].\n\nLet's remove ths GLANCE_V1_ENABLED variable setting from\nzuul job too to avoid any confusion of glance v1 is still\navailable.\n[1] https://review.opendev.org/#/c/698808/\n[2] https://review.opendev.org/#/c/532503/\n\nChange-Id: I6d3a38eee0c75bbc795bad732fe547181d15c677\n""}]",0,739252,4638dbc7f373177277dbf8aabe6d84f15334492e,13,4,1,8556,,,0,"Remove enabling of glance v1 API

devstack removing the glance v1 api enable
option[1] because there is no v1 entry point in glance
now[2].

Let's remove ths GLANCE_V1_ENABLED variable setting from
zuul job too to avoid any confusion of glance v1 is still
available.
[1] https://review.opendev.org/#/c/698808/
[2] https://review.opendev.org/#/c/532503/

Change-Id: I6d3a38eee0c75bbc795bad732fe547181d15c677
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/739252/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4638dbc7f373177277dbf8aabe6d84f15334492e,,, # NOTE(dtroyer): OSC needs to support Image v1 for a while yet so re-enable GLANCE_V1_ENABLED: true,0,2
openstack%2Fpython-openstackclient~master~Ic5d57186766257e9d37b3588e71f973cddad9be4,openstack/python-openstackclient,master,Ic5d57186766257e9d37b3588e71f973cddad9be4,Remove translation sections from setup.cfg,MERGED,2020-06-23 04:23:45.000000000,2020-07-04 16:48:20.000000000,2020-07-04 16:46:55.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 04:23:45.000000000', 'files': ['babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff2a70c418c9686b13f64fed760432f30391441a', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Ic5d57186766257e9d37b3588e71f973cddad9be4\n'}]",0,737436,ff2a70c418c9686b13f64fed760432f30391441a,9,3,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Ic5d57186766257e9d37b3588e71f973cddad9be4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/737436/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'lower-constraints.txt', 'setup.cfg']",3,ff2a70c418c9686b13f64fed760432f30391441a,,, [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = openstackclient/locale/openstackclient.pot [update_catalog] domain = openstackclient output_dir = openstackclient/locale input_file = openstackclient/locale/openstackclient.pot [compile_catalog] directory = openstackclient/locale domain = openstackclient,0,16
openstack%2Fpython-openstackclient~stable%2Fussuri~I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,openstack/python-openstackclient,stable/ussuri,I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,Replace assertItemsEqual with assertCountEqual,MERGED,2020-06-11 09:48:05.000000000,2020-07-04 16:48:15.000000000,2020-07-04 16:46:55.000000000,"[{'_account_id': 2}, {'_account_id': 6593}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-11 09:48:05.000000000', 'files': ['openstackclient/tests/unit/common/test_parseractions.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/684cdc5be0c7d57fe6e2c2188a39085204f4756a', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I1ad0da8deda3a8cbec384b5a9c88860a526eb48c\n(cherry picked from commit a15b1addb41147415716417f385f8ee32aace64b)\n""}]",0,735091,684cdc5be0c7d57fe6e2c2188a39085204f4756a,11,5,1,6593,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I1ad0da8deda3a8cbec384b5a9c88860a526eb48c
(cherry picked from commit a15b1addb41147415716417f385f8ee32aace64b)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/735091/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/common/test_parseractions.py'],1,684cdc5be0c7d57fe6e2c2188a39085204f4756a,," self.assertCountEqual(expect, actual) self.assertCountEqual(expect, actual)"," self.assertItemsEqual(expect, actual) self.assertItemsEqual(expect, actual)",2,2
openstack%2Ftripleo-ci~master~Ieb7b99379d37db3b8a86dce46d9c67ce647df541,openstack/tripleo-ci,master,Ieb7b99379d37db3b8a86dce46d9c67ce647df541,DNM run jobs with attempts 1,ABANDONED,2020-06-30 07:58:37.000000000,2020-07-04 15:31:51.000000000,,"[{'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 07:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4cd85eb62b06b92a0b8d6acc39ad5f9343a889fd', 'message': 'DNM run jobs with attempts 1\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n'}, {'number': 2, 'created': '2020-06-30 08:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7514537c8bd861297e8a358d299708b1cf02ba24', 'message': 'DNM run jobs with attempts 1\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n'}, {'number': 3, 'created': '2020-07-01 13:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db8a5e01bef9b77fdbd41b43c93f490d285e780e', 'message': 'DNM run jobs with attempts 1\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n'}, {'number': 4, 'created': '2020-07-01 21:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/10222b28792a84960d00fcc0ddb0feaa47b64e1b', 'message': 'DNM run jobs with attempts 1\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n'}, {'number': 5, 'created': '2020-07-02 05:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d90d2791451fb8ca39ddfbda4b46719a3ecded9e', 'message': ""DNM run jobs with attempts 1\n\nRunning this time to confirm the suspect\nhttps://review.opendev.org/#/c/734654/,\nens3 should be not be cleaned up when it's\nan active device.\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n""}, {'number': 6, 'created': '2020-07-02 06:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/280736bd12fcb5809f49eed5634a1354b4d7c413', 'message': ""DNM run jobs with attempts 1\n\nRunning this time to confirm the suspect\nhttps://review.opendev.org/#/c/734654/,\nens3 should be not be cleaned up when it's\nan active device.\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n""}, {'number': 7, 'created': '2020-07-02 09:12:14.000000000', 'files': ['roles/disable_network_manager/tasks/main.yml', 'roles/tripleo-repos/tasks/main.yml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/base.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/oooci-build-images/defaults/main.yaml', 'playbooks/tripleo-ci/run-v3.yaml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'roles/ceph-loop-device/tasks/main.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a1b44b8f194664989a384754b9e335a6fde3a190', 'message': ""DNM run jobs with attempts 1\n\nRunning this time to confirm the suspect\nhttps://review.opendev.org/#/c/734654/,\nens3 should be not be cleaned up when it's\nan active device.\n\nChange-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541\n""}]",1,738557,a1b44b8f194664989a384754b9e335a6fde3a190,40,4,7,10969,,,0,"DNM run jobs with attempts 1

Running this time to confirm the suspect
https://review.opendev.org/#/c/734654/,
ens3 should be not be cleaned up when it's
an active device.

Change-Id: Ieb7b99379d37db3b8a86dce46d9c67ce647df541
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/738557/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/run-test/tasks/main.yaml', 'roles/tripleo-repos/tasks/main.yml', 'zuul.d/undercloud-jobs.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'roles/ceph-loop-device/tasks/main.yml', 'zuul.d/base.yaml', 'roles/build-containers/tasks/main.yaml', 'zuul.d/layout.yaml', 'roles/oooci-build-images/defaults/main.yaml']",11,4cd85eb62b06b92a0b8d6acc39ad5f9343a889fd,testall,#test,,12,5
openstack%2Ftripleo-common~master~I131aca7a03802766a791e6912fad6ebf143d31db,openstack/tripleo-common,master,I131aca7a03802766a791e6912fad6ebf143d31db,[DNM] build test packages downstream testing,ABANDONED,2020-05-29 12:04:06.000000000,2020-07-04 15:07:59.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-29 12:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/00a9197071b923edde10788a00745580a785af75', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-02 13:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb6b55b12036b87da9dd04254b57d404baf1045a', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-06-05 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f0ee2dee7e4ae49cf03aadcab3eef11c7b3b93e', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-06-09 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bef650436637032348acb7dc27fc0cc91deb2994', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-06-10 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a7f0a0d3f9508d7a2e3d3adc7184739719aa6bce', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-06-15 05:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a99a1f9dc6c0824e12831c27cfc7247e85869b7', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-06-18 08:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d77b6e5c8817569b9c40156092309a463a905d14', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-06-18 10:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6051f1e0ff0fea857b74a0c73a5096711267177', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-06-19 09:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6355b727ad4e854afc87bbf14cf120fa1415c2c', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/727200\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-06-22 08:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bbd8a161fbad8c396a456cbd4132a4c625832630', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/737179\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-06-29 08:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c7bc7bf815b92a2c94c0713d31be54f3253dc0d', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/738394\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-06-30 07:03:04.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c0bc01d6c6375070d9343f33082317d18e88c009', 'message': '[DNM] build test packages downstream testing\n\nDepends-On: https://review.opendev.org/738394\n\nTHT changes:\nDepends-On: https://review.opendev.org/724734\nDepends-On: https://review.opendev.org/#/c/731108\n\nChange-Id: I131aca7a03802766a791e6912fad6ebf143d31db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,731739,c0bc01d6c6375070d9343f33082317d18e88c009,84,3,12,12393,,,0,"[DNM] build test packages downstream testing

Depends-On: https://review.opendev.org/738394

THT changes:
Depends-On: https://review.opendev.org/724734
Depends-On: https://review.opendev.org/#/c/731108

Change-Id: I131aca7a03802766a791e6912fad6ebf143d31db
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/731739/12 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,00a9197071b923edde10788a00745580a785af75,buildtestpackages,#: The names of the root template in a standard tripleo-heat-template layout.,#: The names of the root template in a standard tripleo-heat-template layout.,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fussuri~I35690f9a54337d6a268406ddcf6726f7040ac966,openstack/openstack-ansible-rabbitmq_server,stable/ussuri,I35690f9a54337d6a268406ddcf6726f7040ac966,Add Centos-8 support,MERGED,2020-07-02 17:13:27.000000000,2020-07-04 11:19:22.000000000,2020-07-04 11:18:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:13:27.000000000', 'files': ['templates/rabbitmq-server.service.j2', 'tasks/rabbitmq_post_install.yml', 'vars/redhat.yml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7d2bf72d58a70db6b53a52220efe24b04e2147ad', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n(cherry picked from commit fc27e735a68b64cb3c67dd8abeaf324803a9845b)\n'}]",0,739102,7d2bf72d58a70db6b53a52220efe24b04e2147ad,17,4,1,28619,,,0,"Add Centos-8 support

Change-Id: I35690f9a54337d6a268406ddcf6726f7040ac966
(cherry picked from commit fc27e735a68b64cb3c67dd8abeaf324803a9845b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/02/739102/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rabbitmq-server.service.j2', 'tasks/rabbitmq_post_install.yml', 'vars/redhat.yml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml']",5,7d2bf72d58a70db6b53a52220efe24b04e2147ad,osa/el8-stable/ussuri,"- name: Create the system group group: name: ""{{ rabbit_system_group_name }}"" state: ""present"" system: ""yes"" - name: Create the rabbit system user user: name: ""{{ rabbit_system_user_name }}"" group: ""{{ rabbit_system_group_name }}"" comment: ""RabbitMQ messaging server"" shell: ""/bin/false"" system: ""yes"" createhome: ""yes"" home: ""/var/lib/rabbitmq"" group: ""{{ rabbit_system_user_name }}"" owner: ""{{ rabbit_system_group_name }}"""," group: ""root"" owner: ""root""",27,6
openstack%2Fopenstack-helm-infra~master~I5a9e6678c45fad8288aa6971f57988b46001c665,openstack/openstack-helm-infra,master,I5a9e6678c45fad8288aa6971f57988b46001c665,Completely switch to python3 for developers installation,MERGED,2020-07-02 23:51:15.000000000,2020-07-04 09:00:23.000000000,2020-07-04 08:59:02.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-07-02 23:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fad9c289a91ab71046ec80ce19c5387aafa56882', 'message': 'Completely switch to python3 for developers installation\n\nChange-Id: I5a9e6678c45fad8288aa6971f57988b46001c665\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-02 23:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14494eda5b3b30de5e7f883aa8fa2804bc78eb24', 'message': 'Completely switch to python3 for developers installation\n\nChange-Id: I5a9e6678c45fad8288aa6971f57988b46001c665\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-02 23:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b18d74284cbed9efc1b602823919834532daae76', 'message': 'Completely switch to python3 for developers installation\n\nThis addresses and issue with using py2 as interpreter while\ninstalling required dependencies with py3.\n\nAlso switch kubeadm-aio image to bionic.\n\nChange-Id: I5a9e6678c45fad8288aa6971f57988b46001c665\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-02 23:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2567385d8b39347db7ae62f46ea1c0a6809dca37', 'message': 'Completely switch to python3 for developers installation\n\nThis addresses an issue with using py2 as interpreter while\ninstalling required dependencies with py3.\n\nAlso switch kubeadm-aio image to bionic.\n\nChange-Id: I5a9e6678c45fad8288aa6971f57988b46001c665\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-03 09:47:47.000000000', 'files': ['tools/image-repo-overides.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/sources.list', 'roles/deploy-python/tasks/main.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'playbooks/vars.yaml', 'roles/deploy-python-pip/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b4cf6a2d95a668416b7d4fdfe49918bf64d2197', 'message': 'Completely switch to python3 for developers installation\n\nThis addresses an issue with using py2 as interpreter while\ninstalling required dependencies with py3.\n\nAlso switch kubeadm-aio image to bionic.\n\nChange-Id: I5a9e6678c45fad8288aa6971f57988b46001c665\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",2,739155,2b4cf6a2d95a668416b7d4fdfe49918bf64d2197,17,7,5,8863,,,0,"Completely switch to python3 for developers installation

This addresses an issue with using py2 as interpreter while
installing required dependencies with py3.

Also switch kubeadm-aio image to bionic.

Change-Id: I5a9e6678c45fad8288aa6971f57988b46001c665
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/739155/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/devel/local-vars.yaml', 'tools/image-repo-overides.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/sources.list', 'roles/deploy-python/tasks/main.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'playbooks/vars.yaml', 'roles/deploy-python-pip/tasks/main.yaml']",8,fad9c289a91ab71046ec80ce19c5387aafa56882,, command: pip3 --version name: python3-pip - name: ensuring epel-release package is present for centos as python3-pip is in the epel repo name: python3-pip- name: ensuring python pip package is present for fedora via the python3-pip rpm name: python3-pip executable: pip3, command: pip --version name: python-pip - name: ensuring epel-release package is present for centos as python-pip is in the epel repo name: python-pip- name: ensuring python pip package is present for fedora via the python2-pip rpm name: python2-pip,21,14
openstack%2Ftripleo-common~stable%2Fussuri~I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,openstack/tripleo-common,stable/ussuri,I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,Fix stdout_callback,MERGED,2020-07-03 20:51:16.000000000,2020-07-04 08:38:17.000000000,2020-07-04 08:36:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 20:51:16.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fadce76206fd135037dfb3cf0c020f0e94d63598', 'message': 'Fix stdout_callback\n\nWe switched to tripleo_dense but the default ansible.cfg that is created\nstill has tripleo.\n\nChange-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81\n(cherry picked from commit ed3fdb77645ec3d563cd49161423661d21a3f642)\n'}]",0,739282,fadce76206fd135037dfb3cf0c020f0e94d63598,11,3,1,3153,,,0,"Fix stdout_callback

We switched to tripleo_dense but the default ansible.cfg that is created
still has tripleo.

Change-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81
(cherry picked from commit ed3fdb77645ec3d563cd49161423661d21a3f642)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/739282/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,fadce76206fd135037dfb3cf0c020f0e94d63598,callback-improvement-stable/ussuri," config.set('defaults', 'stdout_callback', 'tripleo_dense')"," config.set('defaults', 'stdout_callback', 'tripleo')",1,1
openstack%2Fneutron~master~I7d792ce288d96548298f169748565266a130bd86,openstack/neutron,master,I7d792ce288d96548298f169748565266a130bd86,Make DVR router support FLAT network for ovs-agent,MERGED,2020-05-07 06:00:48.000000000,2020-07-04 05:58:13.000000000,2020-07-04 05:29:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}, {'_account_id': 31506}, {'_account_id': 31525}]","[{'number': 1, 'created': '2020-05-07 06:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a71f796aed17d20ca3f2099332899dacce0d4b2', 'message': '[WIP] DVR router support FLAT network\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 2, 'created': '2020-05-07 08:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6eb7f2f5582d76fcf6e777ee46e1596eab0b3ea2', 'message': '[WIP] DVR router support FLAT network\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 3, 'created': '2020-05-08 12:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc35fa645e0e0a6a7a11f20cd4697d41e3f83e77', 'message': 'DVR router support FLAT network\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add support codes that support flat network\nassocate to DVR router.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 4, 'created': '2020-05-09 06:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e34a1a10ffa23e8e8c44697c93cdf92b90d81b62', 'message': 'DVR router support FLAT network\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add support codes that support flat network\nassocate to DVR router.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 5, 'created': '2020-05-09 07:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab8004a8cb41e0a3e828d234b0659f5ba8a0831a', 'message': 'DVR router support FLAT network\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 6, 'created': '2020-05-11 12:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a7888b666ee2524e3a67375dded0b8be867a82e', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 7, 'created': '2020-05-13 00:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64c050e1d3eb6af04554883d77e6a06e366a387c', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 8, 'created': '2020-05-14 06:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/499dd3047fd523dd3c311d841d742aafc346331d', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 9, 'created': '2020-05-14 10:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/408409452e8025722968dc388c86757781820f6b', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 10, 'created': '2020-05-18 02:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02b6d651f0b320eb9df1b52195c34bba9871bb01', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 11, 'created': '2020-06-05 11:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f69d43205ff68dfae585e4f735475c109b988f4c', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 12, 'created': '2020-06-08 09:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58c21b6be2a65c18460a9fe9df7cf91744f1d5f1', 'message': 'Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n'}, {'number': 13, 'created': '2020-06-08 12:16:57.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/dvr-support-flat-network-for-ovs-fdf8c3eb461426ec.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd721a7dcb9073eca2671ffdc9dc7ed9819163ed', 'message': ""Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nThe patch also remove two unused constant entries: 'FLAT_VLAN_ID' and\n'LOCAL_VLAN_ID'\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n""}]",23,726044,cd721a7dcb9073eca2671ffdc9dc7ed9819163ed,120,13,13,28329,,,0,"Make DVR router support FLAT network for ovs-agent

Currently codes only support assocate tunnel network and vlan network
to DVR router. This patch add codes that make the flat network assocate
to DVR router and make it work fine.

The patch also remove two unused constant entries: 'FLAT_VLAN_ID' and
'LOCAL_VLAN_ID'

Change-Id: I7d792ce288d96548298f169748565266a130bd86
Closes-Bug: #1876092
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/726044/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",8,4a71f796aed17d20ca3f2099332899dacce0d4b2,bug/1876092," mock.call.install_drop( table_id=constants.DVR_TO_SRC_MAC_PHYSICAL, priority=1),"," mock.call.install_drop(table_id=constants.DVR_TO_SRC_MAC_VLAN, priority=1),",53,44
openstack%2Ftripleo-ci~master~I5ee348c7196b94e1f7c5acd8e802621837c5bef2,openstack/tripleo-ci,master,I5ee348c7196b94e1f7c5acd8e802621837c5bef2,Add tripleo-ansible to required projects in all jobs,MERGED,2020-06-30 08:27:24.000000000,2020-07-04 04:55:08.000000000,2020-07-04 04:55:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 08:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ace6902591216101f0a6fc5fd30bb3bb405002a', 'message': 'Add tripleo-ansible to required projects in all jobs\n\nIn order not to clone it from netowrk.\n\nChange-Id: I5ee348c7196b94e1f7c5acd8e802621837c5bef2\n'}, {'number': 2, 'created': '2020-06-30 12:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78b2f90f065bf9ddec8c113fe75ff47d956c5f8f', 'message': 'Add tripleo-ansible to required projects in all jobs\n\nIn order not to clone it from netowrk.\n\nChange-Id: I5ee348c7196b94e1f7c5acd8e802621837c5bef2\n'}, {'number': 3, 'created': '2020-07-03 23:06:35.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae15d47af3ffdd7b1786942813e23e0eefccb925', 'message': 'Add tripleo-ansible to required projects in all jobs\n\nIn order not to clone it from netowrk.\n\nChange-Id: I5ee348c7196b94e1f7c5acd8e802621837c5bef2\n'}]",2,738564,ae15d47af3ffdd7b1786942813e23e0eefccb925,35,8,3,10969,,,0,"Add tripleo-ansible to required projects in all jobs

In order not to clone it from netowrk.

Change-Id: I5ee348c7196b94e1f7c5acd8e802621837c5bef2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/64/738564/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,8ace6902591216101f0a6fc5fd30bb3bb405002a,, - opendev.org/openstack/tripleo-ansible,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I24dac79f2351a1ffd4e956584a80f623706cbd00,openstack/tripleo-heat-templates,stable/ussuri,I24dac79f2351a1ffd4e956584a80f623706cbd00,Cleanup all container startup configs before generating the new ones,MERGED,2020-06-23 02:21:28.000000000,2020-07-04 04:55:07.000000000,2020-07-04 04:55:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-23 02:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddafb5cf976c213247b884a858dae476a1443dfa', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)\n""}, {'number': 2, 'created': '2020-06-24 03:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2d590bc4b87063e65a47f01847ca8d37c76f39d', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)\n""}, {'number': 3, 'created': '2020-06-29 16:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21c4be340d39fc78f15a3d2246c5c2e1b5405351', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)\n""}, {'number': 4, 'created': '2020-07-02 21:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52dac6ffb6fcaac24034e7aa5c1084eefa4d22b6', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)\n""}, {'number': 5, 'created': '2020-07-03 20:49:38.000000000', 'files': ['common/container_startup_configs_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de45a1fc61ea89c93a2e1a8d3d2e729c75017362', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)\n""}]",0,737423,de45a1fc61ea89c93a2e1a8d3d2e729c75017362,58,7,5,3153,,,0,"Cleanup all container startup configs before generating the new ones

Unlike the container puppet configs [1], we didn't have a mechanism that
was purging the old configs previously generated by the container
startup config tasks. It's problematic when some leftover configs are
still on the host and not needed anymore.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159

Change-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00
Closes-Bug: #1884537
(cherry picked from commit b1d3da8666880d70db9b588ed4b743b2aaaab914)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/737423/2 && git format-patch -1 --stdout FETCH_HEAD,['common/container_startup_configs_tasks.yaml'],1,ddafb5cf976c213247b884a858dae476a1443dfa,1884577/ussuri," # TODO(emilien) convert this whole task in a module # https://bugs.launchpad.net/tripleo/+bug/1884577 - name: ""Remove old {{ item.0 }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}"" state: absent - name: ""Create directory for {{ item.0 }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}/""- name: ""Creating container startup configs for {{ item.0 }}"" dest: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}/{{ startup_data.key }}.json""","- set_fact: step_path: ""{{ item.0 }}"" - name: ""Create directory for {{ step_path }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ step_path }}/""- name: ""Creating container startup configs for {{ step_path }}"" dest: ""/var/lib/tripleo-config/container-startup-config/{{ step_path }}/{{ startup_data.key }}.json""",11,6
openstack%2Ftripleo-ci~master~Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae,openstack/tripleo-ci,master,Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae,make scenario012 voting,MERGED,2020-07-03 18:27:08.000000000,2020-07-04 04:55:05.000000000,2020-07-04 04:55:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 18:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d4b543458ef6dcceac37d672bd9f6e0aaf41ec6', 'message': 'make scenario012 voting\n\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone\nChange-Id: Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae\n'}, {'number': 2, 'created': '2020-07-03 18:29:16.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ae3f5e7759685199196b741859cb0ce0b5bbee5', 'message': 'make scenario012 voting\n\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone\nChange-Id: Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae\n'}]",0,739273,3ae3f5e7759685199196b741859cb0ce0b5bbee5,9,5,2,9592,,,0,"make scenario012 voting

https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone
Change-Id: Ifcb5b0bdfbc9ffbc76abbd4004b57bd7b0a19fae
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/739273/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,9d4b543458ef6dcceac37d672bd9f6e0aaf41ec6,, voting: true," # Note(chkumar246): Marking it non-voting as it is broken from # long time, https://bugs.launchpad.net/tripleo/+bug/1867323 voting: false",1,3
openstack%2Fdevstack-plugin-ceph~master~I51c90e592070b99422e692d5e9e97083d93146e8,openstack/devstack-plugin-ceph,master,I51c90e592070b99422e692d5e9e97083d93146e8,Updates script to use latest version of Ceph,MERGED,2019-08-15 15:42:04.000000000,2020-07-04 03:36:16.000000000,2020-07-04 03:35:08.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 9236}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 20813}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-08-15 15:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/deceef1180e2818943d14a9feac5949fe0f3f948', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 2, 'created': '2019-08-22 21:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8609c753fa22283eb6b780de4dff2cd9b863e9ee', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 3, 'created': '2019-11-15 15:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/969b9fdecebf2e3e36d490ce15f3e43d444948da', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 4, 'created': '2019-12-04 11:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/89edeb453219f13010bcab6907bb063b890dcaad', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 5, 'created': '2020-01-14 23:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d8ccb3f2656af3bfa89e2f802bac55b991d1cec4', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 6, 'created': '2020-01-14 23:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/066708f005b063391eac897d0ee9a1f892060464', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 7, 'created': '2020-01-14 23:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ee665ebafdb7ea11cc67f4b3e83fcbf397343b5c', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 8, 'created': '2020-01-16 23:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/953d30f34b7387f117f8ec0694b1c3c219be4a18', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 9, 'created': '2020-01-16 23:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/4f91d58cd78b1bb47baba28bfc28a76cd2927ffd', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 10, 'created': '2020-01-17 12:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d2389350ee800ce7ded559b3ffd9cb1ff2fad065', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 11, 'created': '2020-03-06 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e053cc74594909a31de974b7011ea4ee873658f8', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 12, 'created': '2020-03-16 03:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5caaa1bb27995e32b601c460e1a4cbad86f1cb3f', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 13, 'created': '2020-03-17 13:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/efa2bba1afe84a19efe804872a0ebb000037139d', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 14, 'created': '2020-04-15 00:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2db10383a0d2abe2ffbc3ebaff0fc905bf330022', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 15, 'created': '2020-04-21 20:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c5f380ec49ae0cec8ed259f43a9dbd84a83594ef', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 16, 'created': '2020-04-21 20:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/abe1467e9c37469dcb9e3fa97b902f08c5560b47', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 17, 'created': '2020-04-22 13:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/627b93b1d447e670ca364b619c5e6532dd5f7c7a', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 18, 'created': '2020-04-22 16:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6b5c139f82a021bf703f8e7eb23eb556706f2c2c', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 19, 'created': '2020-04-22 18:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a20340f305e4a51b93a5f6aecb86bf73865408a0', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 20, 'created': '2020-04-22 18:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d341d887fe694d5eb52263308aa2caa512edb4d4', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 21, 'created': '2020-04-22 23:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/04b875df570b326fa4df38c504cd681790bd851c', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 22, 'created': '2020-04-23 13:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e5374052c46bd02b0544a22d9066f13299bf5126', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 23, 'created': '2020-04-23 17:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1817795d7a8d4d9a04b2dffb6b2b28477a501468', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 24, 'created': '2020-04-23 23:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/38ae9bc595a9af3b5b8b88ae7eb8d464e5b9bed8', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 25, 'created': '2020-04-28 21:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6aa515c68dab6e3f8ed6a2e789f7120a96ae5a42', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 26, 'created': '2020-04-29 00:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a03105fdbb1033e6b7683535e7abab8e7c8ff1b3', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 27, 'created': '2020-05-04 21:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6160505eac24b3fd07ebf8a1692195e73430354b', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 28, 'created': '2020-05-07 10:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/95eecd75ed6624fa9ac381fdfa53356f0af4d48c', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 29, 'created': '2020-05-07 16:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/862cb387b4a3417c1c8f92250038a6e8bced9141', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 30, 'created': '2020-05-07 17:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1195d7b4301a2aefbe45538025f7873e78dad3a7', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 31, 'created': '2020-05-07 19:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1214caa2ab3e1e07bab58c1ef188ff1b7bf68b09', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 32, 'created': '2020-05-14 14:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6c344fdaccc56112264dff96a43e6ea3a4c37d74', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 33, 'created': '2020-05-20 19:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1710596c11bc0ad91bb7d4d0383fbc4f42a65773', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 34, 'created': '2020-05-26 16:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f57de5a01c09a99eeebedeef10c74f16e6ff2722', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 35, 'created': '2020-05-26 17:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9cb7e52efe02a5f4db28d8d57b14b43d3940a632', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 36, 'created': '2020-05-27 17:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9b2e19752dd4b9021e06a41f20236fae8728483e', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 37, 'created': '2020-05-27 18:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ec04c441193d96c18eb779ff65033953fdd5591f', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 38, 'created': '2020-05-29 13:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/269b687896ca1dbe235ed567ba545a4514e12ce3', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 39, 'created': '2020-06-04 00:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/baaf5b98961901a4d1b20a54981fc51bac836ed1', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 40, 'created': '2020-06-17 21:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d591894ea1a0be9f64a9a97ed061b2284433e3a9', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 41, 'created': '2020-06-18 18:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/795ef28137d32f1151cacbba2ada7247cf8e53a8', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}, {'number': 42, 'created': '2020-06-19 03:09:44.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5bfcd102355d5e1289712452ce6fb240f050d2c6', 'message': 'Updates script to use latest version of Ceph\n\nWe were using Jewel/Luminous. Being a developer tool, we should\nbe sticking with newer versions.\n\nThis patch set also adds the following changes\n- Refactor setup_packages_for_manila_on_<distro> functions\n- Removes ceph_init call. Seems it lost relevance\n- Removes APT repositories setup. We directly use shaman/chacra\npackages directly\n- Removes RUN_AS env var. It has been a while since Ceph\ndefaults to ceph user to run all the services. No longer needed.\n- Removes sleep calls for services start checks. We use systemctl\nchecks.\n- Adds more debugging logs\n- Uses the search API from ceph shaman instead of hardwiring urls\n- Adds the jq (JSON processor) dependency\n\nChange-Id: I51c90e592070b99422e692d5e9e97083d93146e8\n'}]",50,676722,5bfcd102355d5e1289712452ce6fb240f050d2c6,160,16,42,6413,,,0,"Updates script to use latest version of Ceph

We were using Jewel/Luminous. Being a developer tool, we should
be sticking with newer versions.

This patch set also adds the following changes
- Refactor setup_packages_for_manila_on_<distro> functions
- Removes ceph_init call. Seems it lost relevance
- Removes APT repositories setup. We directly use shaman/chacra
packages directly
- Removes RUN_AS env var. It has been a while since Ceph
defaults to ceph user to run all the services. No longer needed.
- Removes sleep calls for services start checks. We use systemctl
checks.
- Adds more debugging logs
- Uses the search API from ceph shaman instead of hardwiring urls
- Adds the jq (JSON processor) dependency

Change-Id: I51c90e592070b99422e692d5e9e97083d93146e8
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/22/676722/35 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,deceef1180e2818943d14a9feac5949fe0f3f948,," curl -L ${ceph_release}/latest/${distro_type}/${distro_release}/repo | \ configure_repo_ceph ""apt"" ""nautilus"" ""ubuntu"" ""$os_CODENAME"" configure_repo_nfsganesha ""apt"" ""ceph_master"" ""ubuntu"" ""$os_CODENAME"" if ! [[ $os_CODENAME =~ (trusty|xenial|bionic) ]]; then # jewel is eol but works on trusty # do we want to test trusty with luminous or nautilus? elif [[ $os_CODENAME =~ (xenial) ]]; then else CEPH_PACKAGES=""${CEPH_PACKAGES} ceph-mds libcephfs2"" configure_repo_ceph ""apt"" ""nautilus"" ""ubuntu"" ""$os_CODENAME"" configure_repo_ceph ""yum"" ""nautilus"" ""${DISTRO_TYPE}"" ""${RELEASE}"" # use ceph_master until we get ceph_nautilus configure_repo_nfsganesha ""yum"" ""ceph_master"" ""${DISTRO_TYPE}"" ""${RELEASE}"""," curl -L https://shaman.ceph.com/api/repos/ceph/${ceph_release}/latest/${distro_type}/${distro_release}/repo | \ configure_repo_ceph ""apt"" ""luminous"" ""ubuntu"" ""$os_CODENAME"" configure_repo_nfsganesha ""apt"" ""ceph_luminous"" ""ubuntu"" ""$os_CODENAME"" if ! [[ $os_CODENAME =~ (bionic|xenial|trusty) ]]; then else sudo yum -y remove centos-release-ceph-jewel configure_repo_ceph ""yum"" ""luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}"" configure_repo_nfsganesha ""yum"" ""ceph_luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}""",13,8
openstack%2Fopenstack-ansible-os_magnum~stable%2Fussuri~If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,openstack/openstack-ansible-os_magnum,stable/ussuri,If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,Add Centos-8 support,MERGED,2020-07-02 17:14:43.000000000,2020-07-04 03:12:34.000000000,2020-07-04 03:11:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-02 17:14:43.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5b956f8f21bb9ec82e1c73cdf81c6ddf44aebf3a', 'message': 'Add Centos-8 support\n\nChange-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9\n(cherry picked from commit 372069994d0abfbca0e88a2cab469c7ad1a74c22)\n'}]",0,739105,5b956f8f21bb9ec82e1c73cdf81c6ddf44aebf3a,12,4,1,28619,,,0,"Add Centos-8 support

Change-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9
(cherry picked from commit 372069994d0abfbca0e88a2cab469c7ad1a74c22)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/05/739105/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5b956f8f21bb9ec82e1c73cdf81c6ddf44aebf3a,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - python-devel,1,1
openstack%2Ftripleo-ci~master~I1e5b9f83046bf8dd4471b94010d255c38c81c47a,openstack/tripleo-ci,master,I1e5b9f83046bf8dd4471b94010d255c38c81c47a,add tls-inject to ipa job trigger,MERGED,2020-06-08 14:33:14.000000000,2020-07-04 02:04:37.000000000,2020-07-04 02:04:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 14:33:14.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a4f1e8a1ac55871fa91d67c2d9b9bed368efc6f7', 'message': 'add tls-inject to ipa job trigger\n\nRelated-To: https://review.opendev.org/#/c/724863/\nChange-Id: I1e5b9f83046bf8dd4471b94010d255c38c81c47a\n'}]",0,734100,a4f1e8a1ac55871fa91d67c2d9b9bed368efc6f7,14,6,1,9592,,,0,"add tls-inject to ipa job trigger

Related-To: https://review.opendev.org/#/c/724863/
Change-Id: I1e5b9f83046bf8dd4471b94010d255c38c81c47a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/00/734100/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,a4f1e8a1ac55871fa91d67c2d9b9bed368efc6f7,bug/1875746-stable/train, - environments/services/haproxy-public-tls-inject.yaml,,1,0
openstack%2Ftripleo-common~stable%2Frocky~If370d85eead771305705ad798501e3947a1c6f4f,openstack/tripleo-common,stable/rocky,If370d85eead771305705ad798501e3947a1c6f4f,Bump ceph/daemon container image to v3.2.14,MERGED,2020-06-22 15:59:20.000000000,2020-07-04 02:04:35.000000000,2020-07-04 02:04:35.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-22 15:59:20.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bea923b855c68cc5ffff553604c3f4d32f2960be', 'message': 'Bump ceph/daemon container image to v3.2.14\n\nTested via https://review.opendev.org/601598\n\nChange-Id: If370d85eead771305705ad798501e3947a1c6f4f\n'}]",0,737303,bea923b855c68cc5ffff553604c3f4d32f2960be,29,6,1,6796,,,0,"Bump ceph/daemon container image to v3.2.14

Tested via https://review.opendev.org/601598

Change-Id: If370d85eead771305705ad798501e3947a1c6f4f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/737303/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,bea923b855c68cc5ffff553604c3f4d32f2960be,," 'ceph_tag': 'v3.2.14-stable-3.2-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.2.10-stable-3.2-luminous-centos-7-x86_64',",3,3
openstack%2Frequirements~master~Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0,openstack/requirements,master,Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0,Temporarily cap setuptools<48.0.0,MERGED,2020-07-03 22:26:00.000000000,2020-07-04 01:23:26.000000000,2020-07-04 01:06:08.000000000,"[{'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 22:26:00.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f', 'message': 'Temporarily cap setuptools<48.0.0\n\nwith new setuptools 48.0.0, devstack started failing on\n - usr/local/bin/keystone-manage: No such file or directory""\n\nhttps://zuul.opendev.org/t/openstack/build/55e53d1c37194d8992f79a4090da86ee/log/job-output.txt#10572\n\nIt is blocking all the gate for now. We are not sure if that is bug on\nsetuptools side or it is incompatible change and we need to update devstack\nfor that but till we figure out that let\'s use the old setuptools to unblock the gate.\n\nChange-Id: Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0\nML: http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015779.html\nRelated-Bug: #1886237\n'}]",0,739290,ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f,11,3,1,8556,,,0,"Temporarily cap setuptools<48.0.0

with new setuptools 48.0.0, devstack started failing on
 - usr/local/bin/keystone-manage: No such file or directory""

https://zuul.opendev.org/t/openstack/build/55e53d1c37194d8992f79a4090da86ee/log/job-output.txt#10572

It is blocking all the gate for now. We are not sure if that is bug on
setuptools side or it is incompatible change and we need to update devstack
for that but till we figure out that let's use the old setuptools to unblock the gate.

Change-Id: Ic9ee4d5164b144638c3ea3d4ddc1e6bac86378c0
ML: http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015779.html
Related-Bug: #1886237
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/739290/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f,bug/1886237,"# TODO: we need to uncap it from <48.0.0 once this bug is fixed https://bugs.launchpad.net/devstack/+bug/1886237 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,<48.0.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0 # PSF/ZPL",2,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/ussuri,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:20:53.000000000,2020-07-04 00:52:34.000000000,2020-07-04 00:52:33.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 13:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d782f1011d597cb5437d6b8fb3545e58a5874b7', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n""}, {'number': 2, 'created': '2020-07-03 06:41:12.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3a564e7e55e7cfc0e39808e02fd099eeff848495', 'message': 'Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default \'+sbwt none\'.\n\nLet\'s do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nSince the original master change had an issue when the THT parameter\nwas unset (aka when I567839785a72813a382a00253562894e19eb6715 was not\napplied to THT), we also add the subsequent fixup ""Make the additional_erl_args\nchange more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to\nthis change)\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n'}]",0,738617,3a564e7e55e7cfc0e39808e02fd099eeff848495,14,4,2,20172,,,0,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/738617/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,3d782f1011d597cb5437d6b8fb3545e58a5874b7,fix-override-stable/ussuri,"# [*additional_erl_args*] # (Optional) Additional string to be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS # Defaults to undef # $additional_erl_args = undef, # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate} ${additional_erl_args_real}\"""" if $additional_erl_args != undef { # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real}\"""" $environment_real = merge($environment, { 'RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, }) } else { $environment_real = $environment }"," $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate}\"""" $environment_real = $environment",21,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,stable/train,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-06-23 10:33:18.000000000,2020-07-04 00:52:32.000000000,2020-07-04 00:52:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8866}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-23 10:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b61450d87a325b5d320fabac720ad4fab39eb16f', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nCloses-Bug: #1884731\nResolves: rhbz#1849211\n(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)\n'}, {'number': 2, 'created': '2020-06-29 11:50:55.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ffe8c3cc1b7038e471bffddbc53818ef1813f5e', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nCloses-Bug: #1884731\nResolves: rhbz#1849211\n(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)\n'}]",0,737486,4ffe8c3cc1b7038e471bffddbc53818ef1813f5e,25,10,2,26343,,,0,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/737486/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,b61450d87a325b5d320fabac720ad4fab39eb16f,," - name: copy certificate, chgrp, restart haproxy shell: | {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }} {{ container_cli }} exec --user root {{ item }} chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP {{ item }} with_items: ""{{ container_id.stdout.split('\n') }}"""," - name: copy certificate from host to container shell: ""{{ container_cli }} cp {{ cert_path }} {{ container_id.stdout }}:{{ cert_path }}"" - name: set certificate group on host via container command: ""{{ container_cli }} exec --user root {{container_id.stdout}} chgrp haproxy {{ cert_path }}"" - name: send restart order to haproxy container command: ""{{ container_cli }} kill --signal=HUP {{ container_id.stdout }}""",6,6
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9501b802c0a79996864761f2f0ef92df4a3d7c70,openstack/tripleo-heat-templates,stable/stein,I9501b802c0a79996864761f2f0ef92df4a3d7c70,Fixed package names for CentOS-8 octavia deployment,MERGED,2020-04-23 12:54:12.000000000,2020-07-04 00:45:58.000000000,2020-07-04 00:45:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-23 12:54:12.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e6a562b97183cea529d05f8d9487fc5b2c29253', 'message': 'Fixed package names for CentOS-8 octavia deployment\n\nConflicts:\n    deployment/octavia/octavia-worker-container-puppet.yaml\n\nChange-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 0e80f600ac1b071ce1eba132a02be9fc7f79d711)\n(cherry picked from commit b95d78df81f07ca16cbf685af8ffbc54b353ff89)\n'}]",0,722305,8e6a562b97183cea529d05f8d9487fc5b2c29253,15,6,1,6469,,,0,"Fixed package names for CentOS-8 octavia deployment

Conflicts:
    deployment/octavia/octavia-worker-container-puppet.yaml

Change-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit 0e80f600ac1b071ce1eba132a02be9fc7f79d711)
(cherry picked from commit b95d78df81f07ca16cbf685af8ffbc54b353ff89)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/722305/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,8e6a562b97183cea529d05f8d9487fc5b2c29253,," - block: - name: Ensure packages required for configuring octavia are present for CentOS 7 package: name: - python2-neutronclient - python2-openstackclient - openssl state: present when: ansible_distribution_major_version is version(8, '<') - name: Ensure packages required for configuring octavia are present for CentOS/RHEL 8 package: name: - python3-neutronclient - python3-openstackclient - openssl state: present when: ansible_distribution_major_version is version(8, '>=')", - name: Ensure packages required for configuring octavia are present package: name: - python2-neutronclient - python2-openstackclient - openssl state: present,18,7
openstack%2Ftripleo-common~master~I19b1dda0d10765651ad61682d0783f9253873063,openstack/tripleo-common,master,I19b1dda0d10765651ad61682d0783f9253873063,Fix OVN Octavia provider driver package name,MERGED,2020-05-14 17:18:57.000000000,2020-07-03 23:43:46.000000000,2020-07-03 23:42:19.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-14 17:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3f766b5d21953d9e3f96ed78a70da7c980a9408', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n'}, {'number': 2, 'created': '2020-06-18 18:58:10.000000000', 'files': ['container-images/tcib/base/os/octavia-base/octavia-api/octavia-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c8f2144854284ee891759cb40511e2e043ef526', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n'}]",0,728155,3c8f2144854284ee891759cb40511e2e043ef526,26,8,2,6469,,,0,"Fix OVN Octavia provider driver package name

In Ussuri cycle, the OVN Octavia provider driver moved out
of the networking-ovn RPM to its own RPM.

Change-Id: I19b1dda0d10765651ad61682d0783f9253873063
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/728155/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,b3f766b5d21953d9e3f96ed78a70da7c980a9408,tripleo-octavia-ovn,{% set octavia_api_packages_append = ['python3-ovn-octavia-provider'] %},{% set octavia_api_packages_append = ['python3-networking-ovn'] %},1,1
openstack%2Ftripleo-quickstart~master~Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b,openstack/tripleo-quickstart,master,Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b,Fix 'System is booting up' error on undercloud,MERGED,2020-06-30 09:13:52.000000000,2020-07-03 23:43:38.000000000,2020-07-03 23:42:23.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 09:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4cfb638aeaefc93c27e5aab3adc64f02cbeb091a', 'message': 'WIP Try to fix \'System is booting up\' error on undercloud\n\nAm constantly hitting:\nPLAY [Create the virtual BMC]\nTASK [Gathering Facts]\n\ntask path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67\nTuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********\n<undercloud> ssh_retry: attempt: 1, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 0 seconds\n<undercloud> ssh_retry: attempt: 2, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 1 seconds\n<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 3 seconds\nfatal: [undercloud]: UNREACHABLE! => {\n    ""changed"": false,\n    ""unreachable"": true\n}\n\nMSG:\n\nData could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added \'undercloud\' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.\n\nChange-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b\n'}, {'number': 2, 'created': '2020-06-30 10:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52274b78c153a7d7fdab6cfa81a3fc0ec03ab0e3', 'message': 'WIP Try to fix \'System is booting up\' error on undercloud\n\nAm constantly hitting:\nPLAY [Create the virtual BMC]\nTASK [Gathering Facts]\n\ntask path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67\nTuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********\n<undercloud> ssh_retry: attempt: 1, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 0 seconds\n<undercloud> ssh_retry: attempt: 2, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 1 seconds\n<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 3 seconds\nfatal: [undercloud]: UNREACHABLE! => {\n    ""changed"": false,\n    ""unreachable"": true\n}\n\nMSG:\n\nData could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added \'undercloud\' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.\n\nChange-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b\n'}, {'number': 3, 'created': '2020-06-30 10:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ae9ca446579deb6db7582230cabc26336dd2708', 'message': 'WIP Try to fix \'System is booting up\' error on undercloud\n\nAm constantly hitting:\nPLAY [Create the virtual BMC]\nTASK [Gathering Facts]\n\ntask path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67\nTuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********\n<undercloud> ssh_retry: attempt: 1, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 0 seconds\n<undercloud> ssh_retry: attempt: 2, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 1 seconds\n<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 3 seconds\nfatal: [undercloud]: UNREACHABLE! => {\n    ""changed"": false,\n    ""unreachable"": true\n}\n\nMSG:\n\nData could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added \'undercloud\' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.\n\nChange-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b\n'}, {'number': 4, 'created': '2020-06-30 11:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/beb948a0b51d5ff9f5da06a3f8459fb0c65d3030', 'message': 'Fix \'System is booting up\' error on undercloud\n\nWhen running oooq from master I constantly hit the following error:\nPLAY [Create the virtual BMC]\nTASK [Gathering Facts]\n\ntask path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67\nTuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********\n...\n<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 3 seconds\nfatal: [undercloud]: UNREACHABLE! => {\n    ""changed"": false,\n    ""unreachable"": true\n}\n\nMSG:\n\nData could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added \'undercloud\' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.\n\nThe reason is that we run gather_facts on the undercloud vm, but we are\nnot really 100% guaranteed that it is up and accessible just yet.\nLet\'s make sure that is the case before proceeding.\n\nTested this and now I correctly pass the problematic step.\n\nChange-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b\n'}, {'number': 5, 'created': '2020-07-02 06:29:47.000000000', 'files': ['playbooks/quickstart.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9fe3f82bcf9933cd7aba6b4a0fee90f69d4a96e0', 'message': 'Fix \'System is booting up\' error on undercloud\n\nWhen running oooq from master I constantly hit the following error:\nPLAY [Create the virtual BMC]\nTASK [Gathering Facts]\n\ntask path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67\nTuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********\n...\n<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd ([\'ssh\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'-o\', \'StrictHostKeyChecking=no\', \'-o\', \'IdentityFile=""/tmp\n/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""\', \'-o\', \'KbdInteractiveAuthentication=no\', \'-o\', \'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey\', \'-o\', \'PasswordAuth\nentication=no\', \'-o\', \'User=""stack""\', \'-o\', \'ConnectTimeout=10\', \'-F\', \'/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible\', \'undercloud\', ""/bin/sh -c \'/usr/bin/python3 && sleep 0\'""]...), paus\ning for 3 seconds\nfatal: [undercloud]: UNREACHABLE! => {\n    ""changed"": false,\n    ""unreachable"": true\n}\n\nMSG:\n\nData could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added \'undercloud\' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.\n\nThe reason is that we run gather_facts on the undercloud vm, but we are\nnot really 100% guaranteed that it is up and accessible just yet.\nLet\'s make sure that is the case before proceeding.\n\nTested this and now I correctly pass the problematic step.\n\nChange-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b\n'}]",3,738570,9fe3f82bcf9933cd7aba6b4a0fee90f69d4a96e0,19,6,5,20172,,,0,"Fix 'System is booting up' error on undercloud

When running oooq from master I constantly hit the following error:
PLAY [Create the virtual BMC]
TASK [Gathering Facts]

task path: /tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/playbooks/quickstart.yml:67
Tuesday 30 June 2020  03:33:53 -0400 (0:00:00.030)       0:07:39.141 **********
...
<undercloud> ssh_retry: attempt: 3, ssh return code is 255. cmd (['ssh', '-F', '/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible', '-o', 'StrictHostKeyChecking=no', '-o', 'IdentityFile=""/tmp
/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/id_rsa_undercloud""', '-o', 'KbdInteractiveAuthentication=no', '-o', 'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey', '-o', 'PasswordAuth
entication=no', '-o', 'User=""stack""', '-o', 'ConnectTimeout=10', '-F', '/tmp/bruce-ha/hab-03.ha.lab.eng.bos.redhat.com/run/ssh.config.ansible', 'undercloud', ""/bin/sh -c '/usr/bin/python3 && sleep 0'""]...), paus
ing for 3 seconds
fatal: [undercloud]: UNREACHABLE! => {
    ""changed"": false,
    ""unreachable"": true
}

MSG:

Data could not be sent to remote host ""undercloud"". Make sure this host can be reached over ssh: Warning: Permanently added 'undercloud' (ECDSA) to the list of known hosts. ""System is booting up. Unprivileged users are not permitted to log in yet. Please come back later. For technical details, see pam_nologin(8)."" Authentication failed.

The reason is that we run gather_facts on the undercloud vm, but we are
not really 100% guaranteed that it is up and accessible just yet.
Let's make sure that is the case before proceeding.

Tested this and now I correctly pass the problematic step.

Change-Id: Iddc2e7ba0ffbb85231f7ec4bafe9f3c27918456b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/70/738570/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/quickstart.yml'],1,4cfb638aeaefc93c27e5aab3adc64f02cbeb091a,fix-wait,# Make sure the undercloud is up before we collect facts - name: Wait until ssh is available on undercloud node gather_facts: false hosts: undercloud wait_for_connection: timeout: 900 ,,7,0
openstack%2Ftripleo-heat-templates~master~I36b4f4abaa2e67448783d4fbaf8864d16656baf2,openstack/tripleo-heat-templates,master,I36b4f4abaa2e67448783d4fbaf8864d16656baf2,Log neutron.cmd.destroy_patch_ports in to log file,MERGED,2020-06-22 09:31:41.000000000,2020-07-03 23:42:21.000000000,2020-07-03 23:42:21.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 18575}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-22 09:31:41.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/554844d32045e3a774a3e90bbd26812aecd92b50', 'message': 'Log neutron.cmd.destroy_patch_ports in to log file\n\nAlign the logging arguments to be used consistently\nwith the script and the main agent command invoked in the container.\n\nChange-Id: I36b4f4abaa2e67448783d4fbaf8864d16656baf2\nRelated-bug: #1884048\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,737244,554844d32045e3a774a3e90bbd26812aecd92b50,21,8,1,6926,,,0,"Log neutron.cmd.destroy_patch_ports in to log file

Align the logging arguments to be used consistently
with the script and the main agent command invoked in the container.

Change-Id: I36b4f4abaa2e67448783d4fbaf8864d16656baf2
Related-bug: #1884048
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/737244/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,554844d32045e3a774a3e90bbd26812aecd92b50,bug/1884048, PYTHON -m neutron.cmd.destroy_patch_ports \ --config-file /usr/share/neutron/neutron-dist.conf \ --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini \ --config-dir /etc/neutron/conf.d/common \ --config-dir /etc/neutron/conf.d/neutron-openvswitch-agent \ --log-file=/var/log/neutron/openvswitch-agent.log /usr/bin/neutron-openvswitch-agent \ --config-file /usr/share/neutron/neutron-dist.conf \ --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini \ --config-dir /etc/neutron/conf.d/common \ --log-file=/var/log/neutron/openvswitch-agent.log, PYTHON -m neutron.cmd.destroy_patch_ports --config-file /usr/share/neutron/neutron-dist.conf --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-openvswitch-agent /usr/bin/neutron-openvswitch-agent --config-file /usr/share/neutron/neutron-dist.conf --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini --config-dir /etc/neutron/conf.d/common --log-file=/var/log/neutron/openvswitch-agent.log,14,2
openstack%2Fvalidations-common~master~I3f6082971277f3ff0011baf4b03166736076ed05,openstack/validations-common,master,I3f6082971277f3ff0011baf4b03166736076ed05,Output duration not only on failed and skipped states,MERGED,2020-07-02 09:41:02.000000000,2020-07-03 23:42:17.000000000,2020-07-03 23:42:17.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-02 09:41:02.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c25c009e4e3d972d30e7c9c3b919b4b74b6cb535', 'message': 'Output duration not only on failed and skipped states\n\nWirte duration (end and elapse_time) on not only failed and\nskipped status\n\nChange-Id: I3f6082971277f3ff0011baf4b03166736076ed05\n'}]",0,739004,c25c009e4e3d972d30e7c9c3b919b4b74b6cb535,8,3,1,16515,,,0,"Output duration not only on failed and skipped states

Wirte duration (end and elapse_time) on not only failed and
skipped status

Change-Id: I3f6082971277f3ff0011baf4b03166736076ed05
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/04/739004/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,c25c009e4e3d972d30e7c9c3b919b4b74b6cb535,callback/duration," """"""This function is used as a partial to add info in a single method for result in self.results: result['tasks'][-1]['task']['duration']['end'] = end_time result['play']['duration']['end'] = end_time result['play']['duration']['time_elapsed'] = time_elapsed on_info[on] = True"," """"""This function is used as a partial to add failed/skipped info in a single method self.results[-1]['tasks'][-1]['task']['duration']['end'] = end_time self.results[-1]['play']['duration']['end'] = end_time self.results[-1]['play']['duration']['time_elapsed'] = time_elapsed if on in ('failed', 'skipped'): on_info[on] = True",6,7
openstack%2Ftripleo-quickstart~master~Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e,openstack/tripleo-quickstart,master,Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e,Ignore failures in dnf when no repos are configured,MERGED,2020-06-26 08:03:12.000000000,2020-07-03 23:00:55.000000000,2020-07-03 22:59:10.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-26 08:03:12.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/59f6d3cb74fd94aa75677701757f50e9f1992c85', 'message': 'Ignore failures in dnf when no repos are configured\n\ndnf config-manager --disable fails when no repos are\nconfigured. The issue is seen when centos7 repos is\ncleaned in CentOS8 with [1].\n\n[1] https://review.opendev.org/#/c/732618/\n\nRelated-Bug: #1881742\nChange-Id: Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e\n'}]",0,738158,59f6d3cb74fd94aa75677701757f50e9f1992c85,12,6,1,13861,,,0,"Ignore failures in dnf when no repos are configured

dnf config-manager --disable fails when no repos are
configured. The issue is seen when centos7 repos is
cleaned in CentOS8 with [1].

[1] https://review.opendev.org/#/c/732618/

Related-Bug: #1881742
Change-Id: Ib4fbf430ed3a7f0ff5831986ec67c8fff7d0a69e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/58/738158/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",7,59f6d3cb74fd94aa75677701757f50e9f1992c85,bug/1881742," sudo dnf config-manager --disable ""*"" || true;"," sudo yum-config-manager --disable ""*""",7,7
openstack%2Fopenstack-ansible-os_rally~stable%2Fussuri~I5ed1c5145a38becd92de2842417cd6e4774b7bf9,openstack/openstack-ansible-os_rally,stable/ussuri,I5ed1c5145a38becd92de2842417cd6e4774b7bf9,Do not install development packages on the target,MERGED,2020-06-30 16:52:37.000000000,2020-07-03 22:59:18.000000000,2020-07-03 22:57:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-30 16:52:37.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/b1d866a56aa58a4e6b2816bfc18aed4047526cff', 'message': 'Do not install development packages on the target\n\nThis role currently passes a list of -dev packages to the\npython_venv_build role which will install them on the target\nrather than use them for building wheels on the repo server.\n\nThis patch removes those package installs and if any specific\ndev packages are required they should instead be passed to\npython_venv_build via venv_build_distro_package_list.\n\nChange-Id: I5ed1c5145a38becd92de2842417cd6e4774b7bf9\n(cherry picked from commit dc7e520b81e99e4c102a1544aa7ea739b2cec5d1)\n'}]",0,738676,b1d866a56aa58a4e6b2816bfc18aed4047526cff,16,3,1,25023,,,0,"Do not install development packages on the target

This role currently passes a list of -dev packages to the
python_venv_build role which will install them on the target
rather than use them for building wheels on the repo server.

This patch removes those package installs and if any specific
dev packages are required they should instead be passed to
python_venv_build via venv_build_distro_package_list.

Change-Id: I5ed1c5145a38becd92de2842417cd6e4774b7bf9
(cherry picked from commit dc7e520b81e99e4c102a1544aa7ea739b2cec5d1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/76/738676/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml']",3,b1d866a56aa58a4e6b2816bfc18aed4047526cff,osa-focal-stable/ussuri,rally_distro_packages: [],rally_distro_packages: - git-core - libffi-devel - libopenssl-devel - python-devel,3,16
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~I29869ee24fe7148c6dce7ed8e149c3960b2f82ec,openstack/openstack-ansible-tests,stable/ussuri,I29869ee24fe7148c6dce7ed8e149c3960b2f82ec,Do not set alternatives before package is present,MERGED,2020-06-27 11:55:40.000000000,2020-07-03 22:50:31.000000000,2020-07-03 22:49:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-27 11:55:40.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9addf6d5cd037b1baf6f01d3f11dc49eae5b25b7', 'message': 'Do not set alternatives before package is present\n\nChange-Id: I29869ee24fe7148c6dce7ed8e149c3960b2f82ec\n(cherry picked from commit f7285bd25627644af0d7b2e2ca6691319e520b00)\n'}]",0,738309,9addf6d5cd037b1baf6f01d3f11dc49eae5b25b7,10,3,1,25023,,,0,"Do not set alternatives before package is present

Change-Id: I29869ee24fe7148c6dce7ed8e149c3960b2f82ec
(cherry picked from commit f7285bd25627644af0d7b2e2ca6691319e520b00)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/09/738309/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,9addf6d5cd037b1baf6f01d3f11dc49eae5b25b7,osa/el8-stable/ussuri,"elif [[ ""${ID,,}"" == ""centos"" ]] && [[ ${VERSION_ID} == ""8"" ]]; then sudo alternatives --set python /usr/bin/python3 sudo pip3 install 'bindep>=2.4.0' tox"," [[ ""${VERSION_ID}"" == ""8"" ]] && sudo alternatives --set python /usr/bin/python3",3,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fussuri~I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,openstack/openstack-ansible-lxc_container_create,stable/ussuri,I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 14:59:12.000000000,2020-07-03 22:38:27.000000000,2020-07-03 22:36:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 14:59:12.000000000', 'files': ['tests/test-containers-functional.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/594d6bc9c428ea96de82b8dc689709bccc7f96ad', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e\n(cherry picked from commit faedebd48b7cc5c91f40380df4ae8e8b40d0081c)\n'}]",0,739067,594d6bc9c428ea96de82b8dc689709bccc7f96ad,8,3,1,25023,,,0,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e
(cherry picked from commit faedebd48b7cc5c91f40380df4ae8e8b40d0081c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/67/739067/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-containers-functional.yml', 'handlers/main.yml']",2,594d6bc9c428ea96de82b8dc689709bccc7f96ad,, raw: systemctl list-units systemd-tmpfiles-setup.service --no-legend | grep 'exited' >/dev/null, raw: systemctl status systemd-tmpfiles-setup.service | grep Process | grep 'code=exited' >/dev/null,2,2
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,openstack/openstack-ansible-haproxy_server,stable/ussuri,Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,Ensure there is no race between haproxy and certbot for initial cert,MERGED,2020-07-03 17:57:29.000000000,2020-07-03 22:26:27.000000000,2020-07-03 22:25:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-03 17:57:29.000000000', 'files': ['tasks/haproxy_ssl_letsencrypt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8a9d35fa959f1fd30a5296c2e893866bd9d0c382', 'message': 'Ensure there is no race between haproxy and certbot for initial cert\n\nThe certbot pre-hook is not used during initial setup of the cert,\nonly during renewal. This means that the same race condition exists\nat initial configiuration as renewal. This patch uses the same\napproach as used in the renewal pre-hook and applies it during\ninitialisation of certbot. This fixes race condition related failures\nduring initial provisioning of haproxy+letsencrypt.\n\nChange-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43\n(cherry picked from commit 5fba658296634c9f32581c965c8510ff6cdf2b90)\n'}]",0,739269,8a9d35fa959f1fd30a5296c2e893866bd9d0c382,8,3,1,28619,,,0,"Ensure there is no race between haproxy and certbot for initial cert

The certbot pre-hook is not used during initial setup of the cert,
only during renewal. This means that the same race condition exists
at initial configiuration as renewal. This patch uses the same
approach as used in the renewal pre-hook and applies it during
initialisation of certbot. This fixes race condition related failures
during initial provisioning of haproxy+letsencrypt.

Change-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43
(cherry picked from commit 5fba658296634c9f32581c965c8510ff6cdf2b90)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/69/739269/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_ssl_letsencrypt.yml'],1,8a9d35fa959f1fd30a5296c2e893866bd9d0c382,, shell: > timeout {{ haproxy_ssl_letsencrypt_pre_hook_timeout }} python3 -m http.server {{ haproxy_ssl_letsencrypt_certbot_backend_port }} --bind {{ haproxy_ssl_letsencrypt_certbot_bind_address }} || true &&, command: >,4,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I3ecdebc61601badd2f209982b366f6b99ec1bb18,openstack/python-tripleoclient,stable/ussuri,I3ecdebc61601badd2f209982b366f6b99ec1bb18,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-05-21 15:58:51.000000000,2020-07-03 21:30:28.000000000,2020-07-03 21:28:53.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-21 15:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f23806bdcff83f4052d422cfc4622e11e90f17d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3ecdebc61601badd2f209982b366f6b99ec1bb18\n'}, {'number': 2, 'created': '2020-07-03 02:30:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d95519874d22cbb0f7d9d7b81b009f0f25ed873', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3ecdebc61601badd2f209982b366f6b99ec1bb18\n'}]",0,730006,4d95519874d22cbb0f7d9d7b81b009f0f25ed873,15,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3ecdebc61601badd2f209982b366f6b99ec1bb18
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/730006/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f23806bdcff83f4052d422cfc4622e11e90f17d,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fneutron~master~I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd,openstack/neutron,master,I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd,[DNM] Add Environment class and RabbitMQ support to George,ABANDONED,2020-02-07 12:18:37.000000000,2020-07-03 21:09:14.000000000,,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 12:18:37.000000000', 'files': ['neutron/tests/fullstack/resources/process.py', 'neutron/tests/george/base.py', 'neutron/tests/george/resources/environment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c584a664089f6fb35db14228fd77c4ee948b2961', 'message': '[DNM] Add Environment class and RabbitMQ support to George\n\nAdded Environment class to George, to handle the host config.\nConfigured RabbitMQ configuration in host and added support in Neutron\nserver.\n\nChange-Id: I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd\n'}]",1,706481,c584a664089f6fb35db14228fd77c4ee948b2961,5,3,1,16688,,,0,"[DNM] Add Environment class and RabbitMQ support to George

Added Environment class to George, to handle the host config.
Configured RabbitMQ configuration in host and added support in Neutron
server.

Change-Id: I3bfa6e7c40b205e8aaa3e6976bf7cd02a25b0dcd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/706481/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/process.py', 'neutron/tests/george/base.py', 'neutron/tests/george/resources/environment.py']",3,c584a664089f6fb35db14228fd77c4ee948b2961,george,"from neutron.tests.fullstack.resources import processfrom neutron.tests.george.resources import networkNET_CTRPLANE = 'ctlplane' class EnvironmentDescription(object): """"""A set of characteristics of an environment setup."""""" def __init__(self, network_names, database_url): self.network_names = network_names self.database_url = database_url class Environment(fixtures.Fixture): """"""Represents a deployment topology."""""" def __init__(self, env_desc, hosts_desc): super(Environment, self).__init__() self.env_desc = env_desc self.hosts_desc = hosts_desc self.networks = [] def _setUp(self): self._configure_networks() rabbitmq_ip_address = self._configure_port_for_rabbitmq() self.rabbitmq_environment = self.useFixture( process.RabbitmqEnvironmentFixture( host=rabbitmq_ip_address, remote_host=self.network_control.gateway_ip)) self.database_url = str(self.env_desc.database_url).replace( 'localhost', self.network_control.gateway_ip) def _configure_port_for_rabbitmq(self): # NOTE(ralonsoh): (as in fullstack Environment) if the network backend # is Linux Bridge, the network backends are spawned in their own # namespaces. This will be considered later. return '127.0.0.1' def _configure_networks(self): # NOTE(ralonsoh): if NET_CTRPLANE is mandatory, we need to handle this for net_name in self.env_desc.network_names: gateway = True if net_name == NET_CTRPLANE else False net = network.Network(net_name, gateway=gateway) self.networks.append(self.useFixture(net)) @property def network_control(self): for net in (net for net in self.networks if net.name == NET_CTRPLANE): return net return None def __init__(self, database_url, networks, test_log_dir, rabbitmq_environment): self.rabbitmq_environment = rabbitmq_environment 'transport_url': 'rabbit://%(user)s:%(password)s@%(host)s:5672/%(vhost)s' % {'user': self.rabbitmq_environment.user, 'password': self.rabbitmq_environment.password, 'host': self.rabbitmq_environment.remote_host, 'vhost': self.rabbitmq_environment.vhost},"," def __init__(self, database_url, networks, test_log_dir): # TODO(jlibosva): Configure rabbit connection when DHCP agent # is present. 'transport_url': 'fake:/',",72,17
openstack%2Ftripleo-common~master~I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,openstack/tripleo-common,master,I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81,Fix stdout_callback,MERGED,2020-06-17 14:09:03.000000000,2020-07-03 20:52:25.000000000,2020-07-03 20:50:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-17 14:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd48e433ab93dc55a3bcf53c03f66e9e34318e52', 'message': 'Fix stdout_callback\n\nWe switched to tripleo_dense but the default ansible.cfg that is created\nstill has tripleo.\n\nChange-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81\n'}, {'number': 2, 'created': '2020-06-22 15:09:32.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ed3fdb77645ec3d563cd49161423661d21a3f642', 'message': 'Fix stdout_callback\n\nWe switched to tripleo_dense but the default ansible.cfg that is created\nstill has tripleo.\n\nChange-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81\n'}]",0,736227,ed3fdb77645ec3d563cd49161423661d21a3f642,70,6,2,14985,,,0,"Fix stdout_callback

We switched to tripleo_dense but the default ansible.cfg that is created
still has tripleo.

Change-Id: I1fcf0aa3212d037db7c4d9baed18959ed6a0cc81
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/736227/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,bd48e433ab93dc55a3bcf53c03f66e9e34318e52,callback-improvement," config.set('defaults', 'stdout_callback', 'tripleo_dense')"," config.set('defaults', 'stdout_callback', 'tripleo')",1,1
openstack%2Ftripleo-heat-templates~master~Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5,openstack/tripleo-heat-templates,master,Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5,DNM - debug,ABANDONED,2020-06-29 13:08:29.000000000,2020-07-03 20:49:46.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 13:08:29.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b28249b9afaf082ed4845d94fe8ed81dcac366d7', 'message': 'DNM - debug\n\nChange-Id: Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5\n'}]",0,738440,b28249b9afaf082ed4845d94fe8ed81dcac366d7,7,3,1,3153,,,0,"DNM - debug

Change-Id: Ib5f9081629d6aa5fdbac8bd733f86db0e1b9f7b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/738440/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks.yaml']",3,b28249b9afaf082ed4845d94fe8ed81dcac366d7,debug, tripleo_container_manage_debug: true," tripleo_container_manage_debug: ""{{ enable_debug | bool }}""",3,3
openstack%2Ftripleo-common~stable%2Fussuri~I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515,openstack/tripleo-common,stable/ussuri,I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515,[Q->T] Include manila in the Queens to Train Upgrade,MERGED,2020-06-24 13:14:05.000000000,2020-07-03 20:43:10.000000000,2020-07-03 20:15:15.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-24 13:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/46a702fe9a8c30f10008410705331e9bfe92a295', 'message': ""[Q->T] Include manila in the Queens to Train Upgrade\n\nIn order to do Q->T upgrade when manila is deployed, we\nneed the Stein container image available.\n\nWe check for namespace_stein and if it's defined we provide\nthem as done for the other services in\nI8820293bd1c7f83c00e7abba88181895ef987765\n\nChange-Id: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nRelated-bz: #1849098\nPartial-bug: #1884818\n(cherry picked from 55f6aecf6f43e4a16cdbc9da520ec7accc278aa2)\n""}, {'number': 2, 'created': '2020-06-25 08:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b31de1689d96303fcd6317e5eda8bdd4d0225378', 'message': ""[Q->T] Include manila in the Queens to Train Upgrade\n\nIn order to do Q->T upgrade when manila is deployed, we\nneed the Stein container image available.\n\nWe check for namespace_stein and if it's defined we provide\nthem as done for the other services in\nI8820293bd1c7f83c00e7abba88181895ef987765\n\nChange-Id: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nRelated-bz: #1849098\nPartial-bug: #1884818\n(cherry picked from 55f6aecf6f43e4a16cdbc9da520ec7accc278aa2)\n""}, {'number': 3, 'created': '2020-06-29 09:44:17.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/700888b9f4a92e78b7cbb3efcff06adb184ff924', 'message': ""[Q->T] Include manila in the Queens to Train Upgrade\n\nIn order to do Q->T upgrade when manila is deployed, we\nneed the Stein container image available.\n\nWe check for namespace_stein and if it's defined we provide\nthem as done for the other services in\nI8820293bd1c7f83c00e7abba88181895ef987765\n\nChange-Id: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nRelated-bz: #1849098\nPartial-bug: #1884818\n(cherry picked from 55f6aecf6f43e4a16cdbc9da520ec7accc278aa2)\n""}]",0,737774,700888b9f4a92e78b7cbb3efcff06adb184ff924,49,11,3,6796,,,0,"[Q->T] Include manila in the Queens to Train Upgrade

In order to do Q->T upgrade when manila is deployed, we
need the Stein container image available.

We check for namespace_stein and if it's defined we provide
them as done for the other services in
I8820293bd1c7f83c00e7abba88181895ef987765

Change-Id: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515
Related-bz: #1849098
Partial-bug: #1884818
(cherry picked from 55f6aecf6f43e4a16cdbc9da520ec7accc278aa2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/737774/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,46a702fe9a8c30f10008410705331e9bfe92a295,ffwd-upgrade2-stable/ussuri,"- imagename: ""{{namespace_stein}}/{{name_prefix_stein}}manila-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerManilaApiImageStein services: - OS::TripleO::Services::ManilaApi ",,7,0
openstack%2Ftripleo-common~master~I29d3a2ed0bdfce412ebef549c29053754763e555,openstack/tripleo-common,master,I29d3a2ed0bdfce412ebef549c29053754763e555,Drop systemd support from nsswitch.conf,MERGED,2020-06-17 08:40:40.000000000,2020-07-03 20:39:24.000000000,2020-07-03 20:33:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-17 08:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6afde000e65f41d84a1b0bfc5f906f2dd59c8bbc', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n'}, {'number': 2, 'created': '2020-06-17 18:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/840842508f6285c88919b77e83149da8169b4b50', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n'}, {'number': 3, 'created': '2020-06-20 10:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d88deb17619c0b0cf35ea7a8c6a24ab6e1a814df', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n'}, {'number': 4, 'created': '2020-06-23 02:44:17.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db71bdb684ac347cd2f915a39e7e99a95958606c', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n'}]",0,736134,db71bdb684ac347cd2f915a39e7e99a95958606c,37,8,4,20172,,,0,"Drop systemd support from nsswitch.conf

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000
+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000
@@ -19,8 +19,8 @@
 #     passwd: sss files # from profile
 #     hosts: files dns  # from user file

-passwd:     sss files systemd
-group:      sss files systemd
+passwd:     sss files
+group:      sss files
 netgroup:   sss files
 automount:  sss files
 services:   sss files

NB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673
Related-Bug: #1883849

Change-Id: I29d3a2ed0bdfce412ebef549c29053754763e555
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/736134/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,6afde000e65f41d84a1b0bfc5f906f2dd59c8bbc,fix-nss,- run: sed -ri '/^(passwd:|group:)/ s/systemd//g' /etc/nsswitch.conf,,1,0
openstack%2Ftripleo-common~master~I28d2edd4f923fb2d263df43fff4ef82a4072040c,openstack/tripleo-common,master,I28d2edd4f923fb2d263df43fff4ef82a4072040c,Run standalone jobs with locally built images,MERGED,2020-06-03 19:41:42.000000000,2020-07-03 20:37:10.000000000,2020-07-03 20:32:58.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-06-03 19:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb23ba0079645da0775d9b2d230c20c9106f614e', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 2, 'created': '2020-06-03 19:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1597ff7fa747f8156382f60e0392604a0df4fc1d', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 3, 'created': '2020-06-03 21:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/310e5d28ccdf05b10522b160e677c74c674f19c1', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 4, 'created': '2020-06-04 03:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7eaf099ed3e08fe6d2b049b3a3b19ad62ec8ef53', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 5, 'created': '2020-06-04 03:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1bb7e3018476dfab4d3ec7b45aac22193dd94c3', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 6, 'created': '2020-06-04 03:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0270a45302d21029a5ff86baed5d282389e4e9c5', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 7, 'created': '2020-06-04 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f1f878afa08391b988395cd40744105dd68df590', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 8, 'created': '2020-06-04 14:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/370715583719100c95e73eeeab3c49f138f53de1', 'message': 'container-images: add tripleo-ci-centos-8-standalone-build-containers\n\nRun tripleo-ci-centos-8-standalone-build-containers when someone touches\nthe container images configs, so we get better testing.\n\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n'}, {'number': 9, 'created': '2020-06-08 21:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62df627f7e1801dd344b33f5b92d5d48d0ee338f', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 10, 'created': '2020-06-09 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f1111d3ba4dd6a0de58a949b92d9889ef8be10c9', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 11, 'created': '2020-06-10 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa145af07fb9d0d47c91a4edea260728a0b703d2', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 12, 'created': '2020-06-10 15:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c1fff8d1709712ef99b47fbfaf52413c31df069', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 13, 'created': '2020-06-10 15:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d23639d5d021314b89bb6e87f8105cdd07c463a8', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 14, 'created': '2020-06-11 15:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6798d6340959e60e9fe089d854cf8122d3673c91', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 15, 'created': '2020-06-15 13:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ce7428af99bcda6bc84b5fc841698991e1dee4f', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 16, 'created': '2020-06-17 14:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66671094c13dfa207c9999930b2c9cb7c7a1b917', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 17, 'created': '2020-06-17 14:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/caf6799148dd21a51523fa3a89e0d5756bde6de0', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 18, 'created': '2020-06-19 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cabdedba749399ac74f0da34acb7c3b8aad500e4', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/729465\nDepends-On: https://review.opendev.org/734870\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}, {'number': 19, 'created': '2020-06-23 02:43:51.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/679aeb568f37d4d883d3613b4133c158521a08c1', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/729465\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n""}]",0,733388,679aeb568f37d4d883d3613b4133c158521a08c1,92,9,19,3153,,,0,"Run standalone jobs with locally built images

Instead of pulling images from a local registry, build them locally
since the configs that build them are in tripleo-common.

Also trigger the appropriate scenarios if a container config is changed.

Note: this patch will make all standalone jobs running against
tripleo-common to use locally built container images, even if the patch
isn't about a container image config file. It has been found that the
time to build images is roughly the same as the time it takes to update
them once pulled from a remote registry.

Note: scenario001/002 will come later once we figure out an issue with
gnocchi-db-sync and cradox.

Depends-On: https://review.opendev.org/729465
Change-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/733388/18 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,eb23ba0079645da0775d9b2d230c20c9106f614e,ci/standalone/containers, - tripleo-ci-centos-8-standalone-build-containers: dependencies: *deps_unit_lint files: - ^container-images/.*$ - tripleo-ci-centos-8-standalone-build-containers: dependencies: *deps_unit_lint files: - ^container-images/.*$,,8,0
openstack%2Ftripleo-common~master~Id13028ab911ba91d67787ca8247effc02017fcbc,openstack/tripleo-common,master,Id13028ab911ba91d67787ca8247effc02017fcbc,tcib: move cradox to gnocchi-base & enable ci on scenario001,MERGED,2020-06-10 15:10:35.000000000,2020-07-03 20:33:00.000000000,2020-07-03 20:33:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-10 15:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4d456d94faed004f80d77459661bfa875090e2a', 'message': ""tcib: move cradox to gnocchi-base\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 2, 'created': '2020-06-11 15:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/013bced7658f2a30178718863d2dea721ca726a4', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 3, 'created': '2020-06-11 16:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6241975667dd75fb3f72b54de9cf7393059bfb88', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 4, 'created': '2020-06-11 19:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/25bbe5d2f5d4e32440c887d3afabc057c2e7c1db', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 5, 'created': '2020-06-15 13:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a1851b63f89fe04f3b82e5778c934fe0952c825', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 6, 'created': '2020-06-17 14:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/edaac7fde9390e1beffdbbf7e047a047868f4db6', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 7, 'created': '2020-06-17 14:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9fd6b5bf0fd883088cd595ec9272328112560fd', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 8, 'created': '2020-06-19 13:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb030f31b797b9c31e037cf13643d850126f91d3', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}, {'number': 9, 'created': '2020-06-23 02:44:08.000000000', 'files': ['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ecc263401018ec657e3423edcd9974bd8a2754f', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n""}]",0,734872,7ecc263401018ec657e3423edcd9974bd8a2754f,52,6,9,3153,,,0,"tcib: move cradox to gnocchi-base & enable ci on scenario001

gnocchi-db-sync requires cradox to be installed if RBD backend is used.
Until we fix it properly in the distgit, let's make sure cradox is in
the base image for gnocchi. It also requires httpd and deps for the
dv_sync to operate when Ceph is installed.

With that patch, we can now test container builds on scenario001.

Change-Id: Id13028ab911ba91d67787ca8247effc02017fcbc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/734872/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml']",2,a4d456d94faed004f80d77459661bfa875090e2a,images/new, - python3-cradox,,1,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,Enable PowerTools repository for distro installs,MERGED,2020-07-02 17:16:07.000000000,2020-07-03 20:26:05.000000000,2020-07-03 20:23:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0d3a4217d088a3420b18d9e7aba14dc7ed3f633b', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n(cherry picked from commit 5f6362fa5c2abc7e038706dd53a9f858608f6c39)\n""}, {'number': 2, 'created': '2020-07-02 17:18:49.000000000', 'files': ['tests/group_vars/all.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/714bdd389abda775caa3a9e2a5186fc997c4abf2', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n(cherry picked from commit 5f6362fa5c2abc7e038706dd53a9f858608f6c39)\n""}]",0,739117,714bdd389abda775caa3a9e2a5186fc997c4abf2,9,3,2,28619,,,0,"Enable PowerTools repository for distro installs

RDO repo relies on some libraties that are present in PowerTools
repository. This repo exists in base image, however is disabled.
From the other side, zuul adds this repo with base jobs and enable it
in CI by default.
So not to deal with getting right URL and etc, we're just running command

Change-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5
(cherry picked from commit 5f6362fa5c2abc7e038706dd53a9f858608f6c39)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/17/739117/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/group_vars/all.yml', 'tasks/openstack_hosts_configure_dnf.yml']",2,0d3a4217d088a3420b18d9e7aba14dc7ed3f633b,osa/el8-stable/ussuri," - name: Enable PowerTools repository command: yum-config-manager --enable PowerTools changed_when: false when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('8', '=') - install_method == 'distro'",,10,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I0bbe42a86a0fc37700e789584acae564297e0bc8,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I0bbe42a86a0fc37700e789584acae564297e0bc8,Fix CentOS functional test,MERGED,2020-07-02 17:17:56.000000000,2020-07-03 20:24:50.000000000,2020-07-03 20:23:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:17:56.000000000', 'files': ['tests/ansible-role-requirements.yml', 'tests/test-create-ca.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ccece14576f8d94b5a6bc469c5ee28799f930dce', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n(cherry picked from commit 002362ba6b2e53ad1bdbbc1aa1d4539090416adf)\n'}]",0,739121,ccece14576f8d94b5a6bc469c5ee28799f930dce,8,3,1,28619,,,0,"Fix CentOS functional test

Change-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8
(cherry picked from commit 002362ba6b2e53ad1bdbbc1aa1d4539090416adf)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/21/739121/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'tests/test-create-ca.yml', 'tests/test.yml']",3,ccece14576f8d94b5a6bc469c5ee28799f930dce,,, pre_tasks:,13,28
openstack%2Ftripleo-heat-templates~master~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,master,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-06-22 10:13:11.000000000,2020-07-03 20:15:16.000000000,2020-07-03 20:15:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7414}, {'_account_id': 8866}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-22 10:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7545eca13ed88ec8b570349d8c13f4634a7ca722', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nResolves: rhbz#1849211\n'}, {'number': 2, 'created': '2020-06-23 09:21:26.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d37579fd787185b292b5d547f5ac3cf17dd2fd9e', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nCloses-Bug: #1884731\nResolves: rhbz#1849211\n'}]",9,737249,d37579fd787185b292b5d547f5ac3cf17dd2fd9e,51,13,2,14250,,,0,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/737249/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,7545eca13ed88ec8b570349d8c13f4634a7ca722,," - name: copy certificate, chgrp, restart haproxy shell: | {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }} {{ container_cli }} exec --user root {{ item }} chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP {{ item }} with_items: ""{{ container_id.stdout.split('\n') }}"""," - name: copy certificate from host to container shell: ""{{ container_cli }} cp {{ cert_path }} {{ container_id.stdout }}:{{ cert_path }}"" - name: set certificate group on host via container command: ""{{ container_cli }} exec --user root {{container_id.stdout}} chgrp haproxy {{ cert_path }}"" - name: send restart order to haproxy container command: ""{{ container_cli }} kill --signal=HUP {{ container_id.stdout }}""",6,6
openstack%2Ftripleo-heat-templates~master~I24dac79f2351a1ffd4e956584a80f623706cbd00,openstack/tripleo-heat-templates,master,I24dac79f2351a1ffd4e956584a80f623706cbd00,Cleanup all container startup configs before generating the new ones,MERGED,2020-06-22 17:44:24.000000000,2020-07-03 20:15:12.000000000,2020-07-03 20:15:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-22 17:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1d3da8666880d70db9b588ed4b743b2aaaab914', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n""}, {'number': 2, 'created': '2020-06-24 03:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a227519241747c2349adc6451bfe7829bef92ea6', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n""}, {'number': 3, 'created': '2020-06-25 00:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3c4cbe41e35de218ff0f09cee987aa0f19a2b3b', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n""}, {'number': 4, 'created': '2020-07-02 21:04:07.000000000', 'files': ['common/container_startup_configs_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88446a6d890a941fc8e52d8bf1db87397a11ce61', 'message': ""Cleanup all container startup configs before generating the new ones\n\nUnlike the container puppet configs [1], we didn't have a mechanism that\nwas purging the old configs previously generated by the container\nstartup config tasks. It's problematic when some leftover configs are\nstill on the host and not needed anymore.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159\n\nChange-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00\nCloses-Bug: #1884537\n""}]",0,737337,88446a6d890a941fc8e52d8bf1db87397a11ce61,51,9,4,3153,,,0,"Cleanup all container startup configs before generating the new ones

Unlike the container puppet configs [1], we didn't have a mechanism that
was purging the old configs previously generated by the container
startup config tasks. It's problematic when some leftover configs are
still on the host and not needed anymore.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/container_puppet_config.py#L157-L159

Change-Id: I24dac79f2351a1ffd4e956584a80f623706cbd00
Closes-Bug: #1884537
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/737337/4 && git format-patch -1 --stdout FETCH_HEAD,['common/container_startup_configs_tasks.yaml'],1,b1d3da8666880d70db9b588ed4b743b2aaaab914,bug/1884577," # TODO(emilien) convert this whole task in a module # https://bugs.launchpad.net/tripleo/+bug/1884577 - name: ""Remove old {{ item.0 }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}"" state: absent - name: ""Create directory for {{ item.0 }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}/""- name: ""Creating container startup configs for {{ item.0 }}"" dest: ""/var/lib/tripleo-config/container-startup-config/{{ item.0 }}/{{ startup_data.key }}.json""","- set_fact: step_path: ""{{ item.0 }}"" - name: ""Create directory for {{ step_path }} container startup configs"" file: path: ""/var/lib/tripleo-config/container-startup-config/{{ step_path }}/""- name: ""Creating container startup configs for {{ step_path }}"" dest: ""/var/lib/tripleo-config/container-startup-config/{{ step_path }}/{{ startup_data.key }}.json""",11,6
openstack%2Fmanila~master~Ifd5ada2b467994b9b8efca5016a7c746ab704719,openstack/manila,master,Ifd5ada2b467994b9b8efca5016a7c746ab704719,[api-ref] fix typo,MERGED,2020-07-03 15:33:56.000000000,2020-07-03 20:08:43.000000000,2020-07-03 20:07:14.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 15:33:56.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/1660385588498f8b478aae2230402fae13c0d78a', 'message': '[api-ref] fix typo\n\nChange-Id: Ifd5ada2b467994b9b8efca5016a7c746ab704719\n'}]",0,739257,1660385588498f8b478aae2230402fae13c0d78a,12,8,1,18816,,,0,"[api-ref] fix typo

Change-Id: Ifd5ada2b467994b9b8efca5016a7c746ab704719
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/739257/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,1660385588498f8b478aae2230402fae13c0d78a,api_ref_migration_typo, The ``migration_complete`` object., The ``migration_complate`` object.,1,1
openstack%2Ftripleo-ansible~master~Idf3aa518087443254e565dd01da88f6f41e83fd9,openstack/tripleo-ansible,master,Idf3aa518087443254e565dd01da88f6f41e83fd9,container_systemd: manage the cleanup of old healthchecks,ABANDONED,2020-07-03 16:48:41.000000000,2020-07-03 20:07:05.000000000,,[],"[{'number': 1, 'created': '2020-07-03 16:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/118a04acf65300b4cd4e659d802b4629c851dcaa', 'message': ""WIP - container_systemd: manage the cleanup of old healthchecks\n\nStill to reduce the number of Ansible tasks, let's add the cleanup of\nthe healthchecks in Python via the action plugin.\n\nTODO: add molecule\n\nChange-Id: Idf3aa518087443254e565dd01da88f6f41e83fd9\n""}, {'number': 2, 'created': '2020-07-03 19:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea7f639b2d02db9e6965362b10a846b80adcc0a4', 'message': ""container_systemd: manage the cleanup of old healthchecks\n\nStill to reduce the number of Ansible tasks, let's add the cleanup of\nthe healthchecks in Python via the action plugin.\n\nChange-Id: Idf3aa518087443254e565dd01da88f6f41e83fd9\n""}, {'number': 3, 'created': '2020-07-03 19:33:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/stat_healthcheck.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/cleanup_healthcheck.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e73781028239c09231736f10264d7d656123458', 'message': ""container_systemd: manage the cleanup of old healthchecks\n\nStill to reduce the number of Ansible tasks, let's add the cleanup of\nthe healthchecks in Python via the action plugin.\n\nChange-Id: Idf3aa518087443254e565dd01da88f6f41e83fd9\n""}]",0,739264,8e73781028239c09231736f10264d7d656123458,4,0,3,3153,,,0,"container_systemd: manage the cleanup of old healthchecks

Still to reduce the number of Ansible tasks, let's add the cleanup of
the healthchecks in Python via the action plugin.

Change-Id: Idf3aa518087443254e565dd01da88f6f41e83fd9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/739264/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/stat_healthcheck.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/cleanup_healthcheck.yml']",5,118a04acf65300b4cd4e659d802b4629c851dcaa,stat_healthcheck/plugin,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: ""Stop and disable systemd timer for {{ container_systemd_healthcheck_name }}"" systemd: state: stopped name: ""tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" enabled: false daemon_reload: false - name: ""Remove systemd healthcheck files for {{ container_systemd_healthcheck_name }}"" file: path: ""{{ container_systemd_healthcheck_file }}"" state: absent loop: - ""/etc/systemd/system/tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.service"" - ""/etc/systemd/system/tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" loop_control: loop_var: container_systemd_healthcheck_file - name: Force systemd to re-read config after healthcheck removals systemd: daemon_reload: true - name: ""Check if {{ container_systemd_healthcheck_name }} healthcheck is not running"" command: ""systemctl is-active --quiet tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" register: tripleo_healthcheck_result failed_when: - tripleo_healthcheck_result.rc == 0 - name: ""Check if {{ container_systemd_healthcheck_name }} service is running and healthy"" command: ""systemctl is-active --quiet tripleo_{{ container_systemd_healthcheck_name }}.service"" register: tripleo_service_result failed_when: - tripleo_service_result.rc != 0 ",40,102
openstack%2Fopenstack-ansible-memcached_server~stable%2Ftrain~I7db0eb361fc6f09ce64690be2018bf8ed8204e0c,openstack/openstack-ansible-memcached_server,stable/train,I7db0eb361fc6f09ce64690be2018bf8ed8204e0c,Reduce verbosity level when debug is true,MERGED,2020-06-17 12:24:11.000000000,2020-07-03 19:34:44.000000000,2020-07-03 19:32:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-17 12:24:11.000000000', 'files': ['templates/memcached.redhat.j2', 'templates/memcached.suse.j2', 'templates/memcached.conf.debian.j2', 'templates/memcached.gentoo.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad', 'message': 'Reduce verbosity level when debug is true\n\nKeystone is experiencing memecached timeouts during tempest tests in\nCI, and the memcached log is in excess of 20Mbytes. There will be a lot\nof write pressure on this log during tempest tests and this patch reduces\nthe debug log level in an attempt to increase test reliability.\n\nChange-Id: I7db0eb361fc6f09ce64690be2018bf8ed8204e0c\n(cherry picked from commit 5080c42f0ad7c58ba9101948207c4d8633ad1e00)\n'}]",0,736180,908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad,10,3,1,25023,,,0,"Reduce verbosity level when debug is true

Keystone is experiencing memecached timeouts during tempest tests in
CI, and the memcached log is in excess of 20Mbytes. There will be a lot
of write pressure on this log during tempest tests and this patch reduces
the debug log level in an attempt to increase test reliability.

Change-Id: I7db0eb361fc6f09ce64690be2018bf8ed8204e0c
(cherry picked from commit 5080c42f0ad7c58ba9101948207c4d8633ad1e00)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/80/736180/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/memcached.redhat.j2', 'templates/memcached.suse.j2', 'templates/memcached.conf.debian.j2', 'templates/memcached.gentoo.j2']",4,908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad,, {% set _verbosity = '-vv' %}, {% set _verbosity = '-vvv' %},4,4
openstack%2Ftripleo-ansible~master~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,master,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-06-23 20:45:02.000000000,2020-07-03 19:34:20.000000000,2020-07-02 18:04:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 20:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/067b8fbea3f56e8f46db0e287fe78065712e0106', 'message': ""WIP container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT. It'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 2, 'created': '2020-06-23 21:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72737979cef1392bba36959b3a185942665bdb47', 'message': ""WIP container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT. It'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 3, 'created': '2020-06-23 21:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a8f7cd0633ca00d7eb21b67e43a0e5880751cd4', 'message': ""WIP container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT. It'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 4, 'created': '2020-06-24 20:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6941c282e3209f0364f30e8e9988fdfad7a147d1', 'message': ""WIP container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT. It'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 5, 'created': '2020-06-24 21:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a55306b42ae30f0858df787beffc0516e953af55', 'message': ""WIP container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT. It'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 6, 'created': '2020-06-25 19:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69cf57083a13cacc5103ce8383c44c754a6b997c', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 7, 'created': '2020-06-25 21:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b564b3c1d56d8a0d7edf88c166ffe430bc825b56', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 8, 'created': '2020-06-25 21:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3d135fd94b43f7bfe34fb8cf5bdf0de8b8913a2', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 9, 'created': '2020-06-26 18:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3710aa2e0c88ebe4f72825ec42f4ebd6d749b740', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 10, 'created': '2020-06-26 19:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f015bb55d140929db8c0e87afb34986ce1c7ab1', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 11, 'created': '2020-06-29 13:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3059801e2e23fa6e1796915bae620c0da173375b', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 12, 'created': '2020-06-29 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a627a655680429d4997b4953a3221bdc58f7d19', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 13, 'created': '2020-06-29 16:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09544f6d62142cf994822ab3df9219b82661b662', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 14, 'created': '2020-06-29 22:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bf2ad4e5a14b501774cb7785288763e06d11224', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 15, 'created': '2020-06-29 22:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44faeec825d1d1c80a16cde375e0a22ee501811c', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 16, 'created': '2020-06-30 13:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abf6189dfcb9c4b048e2c0596b716fe2ade7229c', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 17, 'created': '2020-06-30 19:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/298b039d2e7bb9a0007924cce37b829ca1bf8152', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 18, 'created': '2020-06-30 20:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f76f3a0b68805ad0140d8f4d2ad892157dfeb452', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}, {'number': 19, 'created': '2020-07-01 16:50:10.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76bb50476247f367c85d0e8a64dabebb6da1ee4c', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nTODO (later): Manage idempotency and only create configs that need to be\nupdated.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n""}]",15,737624,76bb50476247f367c85d0e8a64dabebb6da1ee4c,51,6,19,3153,,,0,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62

TODO (later): Manage idempotency and only create configs that need to be
updated.

Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/737624/18 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,067b8fbea3f56e8f46db0e287fe78065712e0106,container/configs,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.parsing.convert_bool import boolean import json import os import shutil import tempfile import yaml try: import selinux HAVE_SELINUX = True except ImportError: HAVE_SELINUX = False try: import seobject HAVE_SEOBJECT = True except ImportError: HAVE_SEOBJECT = False ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: container_startup_config author: - ""TripleO team"" version_added: '2.9' short_description: Generate startup containers configs notes: [] description: - Generate startup containers configs requirements: - None options: config_base_dir: description: - Config base directory type: str default: '/var/lib/tripleo-config/container-startup-config' config_data: description: - Dictionary of container configs data type: dict required: true config_steps: description: - Config steps number type: int default: 6 """""" EXAMPLES = """""" - name: Generate startup container config for all the steps container_startup_config: config_data: step_1: haproxy: image: docker.io/haproxy memcached: image: docker.io/memcached step_2: mysql: image: docker.io/mysql """""" class ContainerStartupManager: """"""Notes about this module. It will generate container startup configs that will be consumed by the tripleo-container-manage role that is using podman_container module. """""" def __init__(self, module, results): super(ContainerStartupManager, self).__init__() self.module = module self.results = results # parse args args = self.module.params # Set parameters self.config_base_dir = args['config_base_dir'] self.config_data = args['config_data'] self.config_steps = args['config_steps'] if not HAVE_SELINUX: fail_msg = 'This module requires libselinux-python' self.module.fail_json(msg=fail_msg) if not HAVE_SEOBJECT: fail_msg = 'This module requires policycoreutils-python' self.module.fail_json(msg=fail_msg) if selinux.is_selinux_enabled(): self.setype = 'container_file_t' else: self.setype = False # Create config_base_dir # Note: it'll cleanup old configs before creating new ones. # TODO(emilien) add idempotency so we only remove the needed files self._create_dir(self.config_base_dir, self.setype) # Generate the container configs per step for step, step_config in self.config_data.items(): step_dir = os.path.join(self.config_base_dir, step) self._create_dir(step_dir, self.setype) for container, container_config in step_config.items(): container_config_path = os.path.join(self.config_base_dir, step, container + '.json') self._create_config(container_config_path, container_config, self.setype) # Cleanup old configs self._cleanup_old_configs() self.module.exit_json(**self.results) def _set_selinux_type(self, path, type): """"""Set SElinux type to a file or directory. :param: path: string :param: type: string """""" if not module.check_mode: # Maybe run it before sefcontext = seobject.fcontextRecords('') sefcontext.set_reload(True) sefcontext.add(path, type, 'a', 's0', 'system_u') def _exists(self, path): """"""Returns True if a patch exists. :param path: string :returns: boolean """""" if os.path.exists(path): return True def _remove_dir(self, path): """"""Remove a directory. :param path: string """""" if self._exists(path): shutil.rmtree(path) def _create_dir(self, path, setype=False): """"""Creates a directory. :param path: string :param setype: string """""" if self._exists(path): self._remove_dir(path) os.makedirs(path) if setype: self._set_selinux_type(path, setype) def _create_config(self, path, config, setype=False): """"""Update a container config. :param path: string :param config: string :param setype: string """""" f = open(path, 'wb') f.write(json.dumps(config, indent=2).encode('utf-8')) os.chmod(path, 0o600) if setype: self._set_selinux_type(path, setype) self.results['changed'] = True def _cleanup_old_configs(self): """"""Cleanup old container configurations and directories. """""" # TODO(emilien) remove old .json in /var/lib/tripleo-config/*.json def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) ContainerStartupManager(module, results) if __name__ == '__main__': main() ",,219,0
openstack%2Ftripleo-ansible~master~Ib34b7abac9065a460b7568988c90600304c14117,openstack/tripleo-ansible,master,Ib34b7abac9065a460b7568988c90600304c14117,"Revert ""move undercloud-containers to nv""",MERGED,2020-07-03 15:29:28.000000000,2020-07-03 19:31:36.000000000,2020-07-03 19:31:36.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 15:29:28.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/894277034ec42f6f83a4501cbd042476cc12e657', 'message': 'Revert ""move undercloud-containers to nv""\n\nThis reverts commit 9f176285c7d6fa7c8c214806fffc0a28c0112b96.\n\nChange-Id: Ib34b7abac9065a460b7568988c90600304c14117\n'}]",0,739256,894277034ec42f6f83a4501cbd042476cc12e657,7,4,1,3153,,,0,"Revert ""move undercloud-containers to nv""

This reverts commit 9f176285c7d6fa7c8c214806fffc0a28c0112b96.

Change-Id: Ib34b7abac9065a460b7568988c90600304c14117
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/739256/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,894277034ec42f6f83a4501cbd042476cc12e657,, - tripleo-ci-centos-8-undercloud-containers: *undercloud_containers, voting: false,1,1
openstack%2Fansible-role-uwsgi~stable%2Fussuri~Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,openstack/ansible-role-uwsgi,stable/ussuri,Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,Add Centos-8 support,MERGED,2020-07-02 17:14:31.000000000,2020-07-03 19:14:18.000000000,2020-07-03 19:13:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:14:31.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/7912bcb4eed5487f21aa46ca4764eed657691fab', 'message': 'Add Centos-8 support\n\nChange-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2\n(cherry picked from commit aad1a016968af473b81c66c36b74f9a5fe3e9751)\n'}]",0,739104,7912bcb4eed5487f21aa46ca4764eed657691fab,9,4,1,28619,,,0,"Add Centos-8 support

Change-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2
(cherry picked from commit aad1a016968af473b81c66c36b74f9a5fe3e9751)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/04/739104/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,7912bcb4eed5487f21aa46ca4764eed657691fab,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('uwsgi-plugin-python', 'uwsgi-plugin-python3') }}""", - uwsgi-plugin-python,1,1
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,openstack/openstack-ansible-os_barbican,stable/ussuri,Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,Add Centos-8 support,MERGED,2020-07-02 17:15:49.000000000,2020-07-03 19:13:06.000000000,2020-07-03 19:11:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-02 17:15:49.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/fb8f9ecded0f6ee779de01f2091ed18342c8f567', 'message': 'Add Centos-8 support\n\nChange-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1\n(cherry picked from commit d61db1e68b77a1d7d9752af22efe990a2f12516e)\n'}]",0,739115,fb8f9ecded0f6ee779de01f2091ed18342c8f567,8,4,1,28619,,,0,"Add Centos-8 support

Change-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1
(cherry picked from commit d61db1e68b77a1d7d9752af22efe990a2f12516e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/15/739115/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,fb8f9ecded0f6ee779de01f2091ed18342c8f567,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - python-devel - systemd-python,2,2
openstack%2Fopenstack-ansible-os_placement~stable%2Fussuri~I36a0de736e266f53be1be02c4b07e741b46c819e,openstack/openstack-ansible-os_placement,stable/ussuri,I36a0de736e266f53be1be02c4b07e741b46c819e,Add Centos-8 support,MERGED,2020-07-02 17:15:03.000000000,2020-07-03 19:12:31.000000000,2020-07-03 19:11:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:15:03.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/70de4e9fa2fa1f97abcdf89ff3be2441983bd1e6', 'message': 'Add Centos-8 support\n\nChange-Id: I36a0de736e266f53be1be02c4b07e741b46c819e\n(cherry picked from commit 5bf27c4653ca9392f376a1fa0af7f328371826dc)\n'}]",0,739113,70de4e9fa2fa1f97abcdf89ff3be2441983bd1e6,8,3,1,28619,,,0,"Add Centos-8 support

Change-Id: I36a0de736e266f53be1be02c4b07e741b46c819e
(cherry picked from commit 5bf27c4653ca9392f376a1fa0af7f328371826dc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/13/739113/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,70de4e9fa2fa1f97abcdf89ff3be2441983bd1e6,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Ftempest~master~I59383505989705d35d86b19b5c1aaafebd2bd307,openstack/tempest,master,I59383505989705d35d86b19b5c1aaafebd2bd307,Fix pdf-doc build by skiping the sample file,MERGED,2020-07-03 16:28:26.000000000,2020-07-03 18:47:44.000000000,2020-07-03 18:46:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-03 16:28:26.000000000', 'files': ['doc/source/sampleconf.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/aaaafbb5b8ab04b6f1c6e8a7f1c1df2044984470', 'message': ""Fix pdf-doc build by skiping the sample file\n\nTempest pdf doc build includes the sample config\nfile which is large in size and end up with\nerror 'Dimension too large'\n\n- https://zuul.opendev.org/t/openstack/build/84d73ec987d04c05acc54b231d33067e/log/sphinx-build-pdf.log#1874\n\nIts happening while adding new config option in\nhttps://review.opendev.org/#/c/686073/ which means we\nare at the edge of pdf build limit.\n\nWe should not include the sample config file as part\nof pdf build.\n\nChange-Id: I59383505989705d35d86b19b5c1aaafebd2bd307\nCloses-Bug: #1886212\n""}]",0,739262,aaaafbb5b8ab04b6f1c6e8a7f1c1df2044984470,8,3,1,8556,,,0,"Fix pdf-doc build by skiping the sample file

Tempest pdf doc build includes the sample config
file which is large in size and end up with
error 'Dimension too large'

- https://zuul.opendev.org/t/openstack/build/84d73ec987d04c05acc54b231d33067e/log/sphinx-build-pdf.log#1874

Its happening while adding new config option in
https://review.opendev.org/#/c/686073/ which means we
are at the edge of pdf build limit.

We should not include the sample config file as part
of pdf build.

Change-Id: I59383505989705d35d86b19b5c1aaafebd2bd307
Closes-Bug: #1886212
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/739262/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/sampleconf.rst'],1,aaaafbb5b8ab04b6f1c6e8a7f1c1df2044984470,bug/1886212,.. only:: html .. literalinclude:: _static/tempest.conf.sample,.. literalinclude:: _static/tempest.conf.sample,3,1
openstack%2Frequirements~master~Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78,openstack/requirements,master,Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78,DNM: Test propose-updates fix,ABANDONED,2020-07-03 18:43:58.000000000,2020-07-03 18:46:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-03 18:43:58.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/300c164814b08a2a9c3410d7e48fc85dfb34a66b', 'message': 'DNM: Test propose-updates fix\n\nDepends-on: https://review.opendev.org/738926/\n\nChange-Id: Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,739276,300c164814b08a2a9c3410d7e48fc85dfb34a66b,3,1,1,11904,,,0,"DNM: Test propose-updates fix

Depends-on: https://review.opendev.org/738926/

Change-Id: Ib3bb4934ab3b8bd7d4fd07bce46dfca4550d0d78
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/739276/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,300c164814b08a2a9c3410d7e48fc85dfb34a66b,ensure-pip, - propose-updates: nodeset: ubuntu-bionic branches: master vars: update_target: requirements-constraints, - build-wheel-cache-centos-7: files: - bindep.txt - build-wheel-cache-centos-8: files: - bindep.txt - build-wheel-cache-debian-buster: files: - bindep.txt - build-wheel-cache-ubuntu-xenial: files: - bindep.txt - build-wheel-cache-ubuntu-bionic: files: - bindep.txt - build-wheel-cache-ubuntu-focal: files: - bindep.txt - openstack-tox-validate - requirements-tox-babel - requirements-tox-bindep: voting: false - requirements-tox-py36-check-uc - requirements-tox-py38-check-uc - requirements-tox-validate-projects: voting: false - cross-cinder-py36 - cross-glance-py36 - cross-horizon-py36 - cross-horizon-npm - cross-ironic-py38 - cross-keystone-py36 - cross-neutron-py36 - cross-nova-py36 - cross-nova-functional - cross-octavia-py36 - cross-osc-tox-docs - cross-swift-py36 - openstack-tox-py36 - openstacksdk-functional-devstack - tempest-full-py3: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ check-arm64: jobs: - requirements-tox-py38-check-uc-aarch64: files: - bindep.txt - upper-constraints.txt - build-wheel-cache-centos-8-arm64: files: - bindep.txt - build-wheel-cache-debian-buster-arm64: files: - bindep.txt - build-wheel-cache-ubuntu-xenial-arm64: files: - bindep.txt - build-wheel-cache-ubuntu-bionic-arm64: files: - bindep.txt - build-wheel-cache-ubuntu-focal-arm64: files: - bindep.txt,5,65
openstack%2Fglance~master~I5c32a049e3c8c84777ea4a01e04d1416881bfb5c,openstack/glance,master,I5c32a049e3c8c84777ea4a01e04d1416881bfb5c,Use unittest.mock instead of mock,MERGED,2020-06-08 22:10:27.000000000,2020-07-03 18:29:50.000000000,2020-07-03 18:27:53.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5807af47ce15d7a3374a225554666aaf3ddb76f0', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I5c32a049e3c8c84777ea4a01e04d1416881bfb5c\n'}, {'number': 2, 'created': '2020-06-10 09:11:16.000000000', 'files': ['glance/tests/unit/test_cache_middleware.py', 'lower-constraints.txt', 'glance/tests/unit/test_scrubber.py', 'glance/tests/unit/test_quota.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7ff8d2eb71ed2fbcb497100f06d944c8d151a61c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I5c32a049e3c8c84777ea4a01e04d1416881bfb5c\n'}]",5,734337,7ff8d2eb71ed2fbcb497100f06d944c8d151a61c,14,4,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I5c32a049e3c8c84777ea4a01e04d1416881bfb5c
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/734337/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_cache_middleware.py', 'lower-constraints.txt', 'glance/tests/unit/test_scrubber.py', 'glance/tests/unit/test_quota.py']",4,5807af47ce15d7a3374a225554666aaf3ddb76f0,unittest.mock,from unittest.mock import patch,from mock import patch,3,4
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fussuri~I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,openstack/openstack-ansible-lxc_container_create,stable/ussuri,I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,Add Centos-8 support,MERGED,2020-07-02 17:16:21.000000000,2020-07-03 18:12:23.000000000,2020-07-03 18:10:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-02 17:16:21.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/f55e4eec6e2652d724dceb1a40d2fc80a19fa907', 'message': 'Add Centos-8 support\n\nChange-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b\n(cherry picked from commit 044dabe43565cff4b9d8c0b0eb23175e67897aa4)\n'}]",0,739118,f55e4eec6e2652d724dceb1a40d2fc80a19fa907,8,4,1,28619,,,0,"Add Centos-8 support

Change-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b
(cherry picked from commit 044dabe43565cff4b9d8c0b0eb23175e67897aa4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/18/739118/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,f55e4eec6e2652d724dceb1a40d2fc80a19fa907,osa/el8-stable/ussuri,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # NOTE(cloudnull): These variables have been kept to ensure # we're cleaning up the old interface files. # Remote this in the ""R"" release. lxc_container_default_route_interfaces: ""/etc/sysconfig/network-scripts/route-{{ item.value.interface }}"" lxc_container_interface_target: ""/etc/sysconfig/network-scripts/ifcfg-{{ item.value.interface }}"" lxc_container_default_interface: ""/etc/sysconfig/network-scripts/ifcfg-eth0"" lxc_container_map: distro: centos arch: amd64 release: 8 lxc_container_default_config_list: - ""lxc.start.auto=1"" - ""lxc.start.delay=15"" - ""lxc.group=onboot"" - ""lxc.group=openstack"" - ""lxc.autodev=1"" - ""lxc.hook.autodev=/var/lib/lxc/{{ inventory_hostname }}/autodev"" ",,34,0
openstack%2Fopenstack-ansible-plugins~stable%2Fstein~Ic50763f9c74746ef94925a4dd52d16e1f313711b,openstack/openstack-ansible-plugins,stable/stein,Ic50763f9c74746ef94925a4dd52d16e1f313711b,Optimise linear strategy access to physical host variables,MERGED,2020-06-25 10:52:49.000000000,2020-07-03 18:11:16.000000000,2020-07-03 18:09:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-25 10:52:49.000000000', 'files': ['tests/inventory', 'strategy/linear.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f3efb647e3f48d40627a1dd81045ae6db6bb68b8', 'message': 'Optimise linear strategy access to physical host variables\n\nChange from using variable manager to the var we already have for\nthe physical host. This saves nearly 50% time for re-running\nplaybooks/lxc-container-create.yml\n\nChange-Id: Ic50763f9c74746ef94925a4dd52d16e1f313711b\n(cherry picked from commit 871d91cf26bcb95e10ed8805331be31e335afa14)\n'}]",0,737965,f3efb647e3f48d40627a1dd81045ae6db6bb68b8,10,3,1,25023,,,0,"Optimise linear strategy access to physical host variables

Change from using variable manager to the var we already have for
the physical host. This saves nearly 50% time for re-running
playbooks/lxc-container-create.yml

Change-Id: Ic50763f9c74746ef94925a4dd52d16e1f313711b
(cherry picked from commit 871d91cf26bcb95e10ed8805331be31e335afa14)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/65/737965/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'strategy/linear.py']",2,f3efb647e3f48d40627a1dd81045ae6db6bb68b8,, physical_host_vars = ph.get_vars(), physical_host_vars = self._variable_manager.get_vars(host=ph),2,2
openstack%2Fdevstack~master~If38ba72c45f14cb4549b705af89e99c9f97c074c,openstack/devstack,master,If38ba72c45f14cb4549b705af89e99c9f97c074c,Set full path in Tempest's img_file option,ABANDONED,2020-07-03 18:06:00.000000000,2020-07-03 18:10:00.000000000,,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-07-03 18:06:00.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc301c4ba56a780766c0b3393adf5306bdd82759', 'message': ""Set full path in Tempest's img_file option\n\nTempest is giving the new option to provide\nthe full path for image in img_file and planing\nto remove the img_dir config option(depends on).\n\nDepends-On: https://review.opendev.org/#/c/710996/\nChange-Id: If38ba72c45f14cb4549b705af89e99c9f97c074c\n""}]",0,739270,cc301c4ba56a780766c0b3393adf5306bdd82759,3,1,1,8556,,,0,"Set full path in Tempest's img_file option

Tempest is giving the new option to provide
the full path for image in img_file and planing
to remove the img_dir config option(depends on).

Depends-On: https://review.opendev.org/#/c/710996/
Change-Id: If38ba72c45f14cb4549b705af89e99c9f97c074c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/739270/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,cc301c4ba56a780766c0b3393adf5306bdd82759,," iniset $TEMPEST_CONFIG scenario img_file ""$SCENARIO_IMAGE_DIR/$SCENARIO_IMAGE_FILE""", iniset $TEMPEST_CONFIG scenario img_dir $SCENARIO_IMAGE_DIR iniset $TEMPEST_CONFIG scenario img_file $SCENARIO_IMAGE_FILE,1,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd,openstack/openstack-ansible-lxc_hosts,stable/ussuri,I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd,Do not install python2 or its dev package on Ubuntu Bionic hosts,MERGED,2020-06-30 13:02:16.000000000,2020-07-03 18:02:48.000000000,2020-07-03 17:58:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-30 13:02:16.000000000', 'files': ['vars/ubuntu-18.04-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/31ceae627e161b463ec20a055988d8f8e3ebaca2', 'message': ""Do not install python2 or its dev package on Ubuntu Bionic hosts\n\nThe CI images are now the 'plain' variants so we do not need python2\nto be installed on the host\n\nChange-Id: I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd\n(cherry picked from commit 3f015e6fed9adf44b96d8d6ccaaceaa881ab0295)\n""}]",0,738607,31ceae627e161b463ec20a055988d8f8e3ebaca2,8,3,1,25023,,,0,"Do not install python2 or its dev package on Ubuntu Bionic hosts

The CI images are now the 'plain' variants so we do not need python2
to be installed on the host

Change-Id: I0d82c76a35b0512a1366c55e06cde72f6b2ce3bd
(cherry picked from commit 3f015e6fed9adf44b96d8d6ccaaceaa881ab0295)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/07/738607/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04-host.yml'],1,31ceae627e161b463ec20a055988d8f8e3ebaca2,,, - python-dev # py2 is needed here becasue the CI image has py2 at /usr/bin/python - python-lxc #,0,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,openstack/openstack-ansible-lxc_hosts,stable/ussuri,Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,Remove machinectl from LXC cache prep,MERGED,2020-07-02 17:15:37.000000000,2020-07-03 18:00:13.000000000,2020-07-03 17:55:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:15:37.000000000', 'files': ['tasks/lxc_volume.yml', 'templates/systemd-machined.service.j2', 'files/var-lib-machines.mount', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'tasks/lxc_post_install.yml', 'tasks/lxc_cache_create.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'templates/lxc-machinectl.j2', 'tasks/lxc_cache_preparation_simple.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'zuul.d/project.yaml', 'tasks/lxc_cache.yml', 'tasks/lxc_cache_preparation.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/099e06785de89ea0778f4827bce9344f75f7e8d3', 'message': 'Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n(cherry picked from commit da4f62b006177d67d9f5089938b27482d70acfb0)\n'}]",0,739114,099e06785de89ea0778f4827bce9344f75f7e8d3,8,3,1,28619,,,0,"Remove machinectl from LXC cache prep

machinectl is only used to store the image during
initial cache preparation and is unrelated to the
backing store used by LXC.

This patch removes the use of machinectl and btrfs
which makes the lxc_hosts role portable to centos-8
which does not have btrfs

Change-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4
(cherry picked from commit da4f62b006177d67d9f5089938b27482d70acfb0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/14/739114/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_volume.yml', 'templates/systemd-machined.service.j2', 'files/var-lib-machines.mount', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'tasks/lxc_post_install.yml', 'tasks/lxc_cache_create.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'templates/lxc-machinectl.j2', 'tasks/lxc_cache_preparation_simple.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'zuul.d/project.yaml', 'tasks/lxc_cache.yml', 'tasks/lxc_cache_preparation.yml', 'zuul.d/jobs.yaml']",14,099e06785de89ea0778f4827bce9344f75f7e8d3,osa/el8-stable/ussuri,, name: openstack-ansible-lxc-machinectl-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: mnctl - job: name: openstack-ansible-lxc-machinectl-ubuntu-focal parent: openstack-ansible-lxc-container-create nodeset: ubuntu-focal vars: tox_env: mnctl - job: name: openstack-ansible-lxc-machinectl-centos-7 parent: openstack-ansible-lxc-container-create nodeset: centos-7 vars: tox_env: mnctl - job:,117,523
openstack%2Fopenstack-ansible-haproxy_server~master~Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,openstack/openstack-ansible-haproxy_server,master,Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43,Ensure there is no race between haproxy and certbot for initial cert,MERGED,2020-06-08 15:07:24.000000000,2020-07-03 17:59:38.000000000,2020-07-03 17:57:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-08 15:07:24.000000000', 'files': ['tasks/haproxy_ssl_letsencrypt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/5fba658296634c9f32581c965c8510ff6cdf2b90', 'message': 'Ensure there is no race between haproxy and certbot for initial cert\n\nThe certbot pre-hook is not used during initial setup of the cert,\nonly during renewal. This means that the same race condition exists\nat initial configiuration as renewal. This patch uses the same\napproach as used in the renewal pre-hook and applies it during\ninitialisation of certbot. This fixes race condition related failures\nduring initial provisioning of haproxy+letsencrypt.\n\nChange-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43\n'}]",0,734116,5fba658296634c9f32581c965c8510ff6cdf2b90,9,3,1,25023,,,0,"Ensure there is no race between haproxy and certbot for initial cert

The certbot pre-hook is not used during initial setup of the cert,
only during renewal. This means that the same race condition exists
at initial configiuration as renewal. This patch uses the same
approach as used in the renewal pre-hook and applies it during
initialisation of certbot. This fixes race condition related failures
during initial provisioning of haproxy+letsencrypt.

Change-Id: Ica5ed5de24e3eb2fb5a743bb877d113ed0bb8a43
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/16/734116/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_ssl_letsencrypt.yml'],1,5fba658296634c9f32581c965c8510ff6cdf2b90,, shell: > timeout {{ haproxy_ssl_letsencrypt_pre_hook_timeout }} python3 -m http.server {{ haproxy_ssl_letsencrypt_certbot_backend_port }} --bind {{ haproxy_ssl_letsencrypt_certbot_bind_address }} || true &&, command: >,4,1
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I9f579e378effa92ce42ca6219ad7ec09e7feaecb,openstack/openstack-ansible-haproxy_server,stable/ussuri,I9f579e378effa92ce42ca6219ad7ec09e7feaecb,Add Centos-8 support,MERGED,2020-07-02 17:14:19.000000000,2020-07-03 17:57:40.000000000,2020-07-03 17:54:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-02 17:14:19.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8c6bff7b651c2144891d0374ec84ca4c9515fc1e', 'message': 'Add Centos-8 support\n\nChange-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb\n(cherry picked from commit 5b589d3dae12f8563d8d0135c10098e60bf19bce)\n'}]",0,739103,8c6bff7b651c2144891d0374ec84ca4c9515fc1e,8,4,1,28619,,,0,"Add Centos-8 support

Change-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb
(cherry picked from commit 5b589d3dae12f8563d8d0135c10098e60bf19bce)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/03/739103/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,8c6bff7b651c2144891d0374ec84ca4c9515fc1e,osa/el8-stable/ussuri,,,0,0
openstack%2Fansible-config_template~master~I36b13db4d0b722e7c6c7244ab142003193a56ffe,openstack/ansible-config_template,master,I36b13db4d0b722e7c6c7244ab142003193a56ffe,Update config_template to use the builtin _get_remote_user function,MERGED,2020-06-25 16:16:51.000000000,2020-07-03 17:05:11.000000000,2020-07-03 17:03:35.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25402}, {'_account_id': 27253}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-25 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/843fe5fa90daeaefae2dc4bf3855d7fb9a979dae', 'message': 'Update config_template to use the builtin _get_remote_user function\n\nThis change will ensure the config_template module is able to pull the appropriate\nremote use when creating a temp file or directory.\n\nChange-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-06-25 16:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/2a262aef825294cf028f19d29068159b9edea5d3', 'message': 'Update config_template to use the builtin _get_remote_user function\n\nThis change will ensure the config_template module is able to pull the appropriate\nremote use when creating a temp file or directory.\n\nRelated-Bug: #1884816\nChange-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-06-25 17:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/f88fccf9ec7ca75bb56f047a1d0a78568d7fc9ef', 'message': 'Update config_template to use the builtin _get_remote_user function\n\nThis change will ensure the config_template module is able to pull the appropriate\nremote use when creating a temp file or directory.\n\nRelated-Bug: #1884816\nChange-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-06-25 19:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/71f5a0bcd3152d11bbb085dfdb3b60653faa7a86', 'message': 'Update config_template to use the builtin _get_remote_user function\n\nThis change will ensure the config_template module is able to pull the appropriate\nremote use when creating a temp file or directory.\n\nRelated-Bug: #1884816\nChange-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-06-29 13:05:59.000000000', 'files': ['action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/4ed672e3992f41dc4020ba68b8ea12d657a11710', 'message': 'Update config_template to use the builtin _get_remote_user function\n\nThis change will ensure the config_template module is able to pull the appropriate\nremote use when creating a temp file or directory.\n\nRelated-Bug: #1884816\nChange-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",10,738058,4ed672e3992f41dc4020ba68b8ea12d657a11710,36,9,5,7353,,,0,"Update config_template to use the builtin _get_remote_user function

This change will ensure the config_template module is able to pull the appropriate
remote use when creating a temp file or directory.

Related-Bug: #1884816
Change-Id: I36b13db4d0b722e7c6c7244ab142003193a56ffe
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/58/738058/5 && git format-patch -1 --stdout FETCH_HEAD,['action/config_template.py'],1,843fe5fa90daeaefae2dc4bf3855d7fb9a979dae,, try: remote_user = self._get_remote_user() except Exception: remote_user = task_vars.get('ansible_user') if not remote_user: remote_user = task_vars.get('ansible_ssh_user') if not remote_user: remote_user = self._play_context.remote_user, remote_user = task_vars.get('ansible_user') if not remote_user: remote_user = task_vars.get('ansible_ssh_user') if not remote_user: remote_user = self._play_context.remote_user,9,5
openstack%2Ftripleo-quickstart-extras~master~I28760c662b7aaf27582c46281855d79f874f369e,openstack/tripleo-quickstart-extras,master,I28760c662b7aaf27582c46281855d79f874f369e,Move ens3 role to a baremetal-only playbook/role,MERGED,2020-07-02 14:41:29.000000000,2020-07-03 17:03:10.000000000,2020-07-03 17:03:10.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 14:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/28bc6e5b93df9ae3257123845424fcd57316dc82', 'message': 'Move ens3 role to a baremetal-only playbook/role\n\nRemoving the ens3 network-scripts file is needed when\ncreating a Centos 8 VM for the undercloud in baremetal\ndeployments.\n\nChange-Id: I28760c662b7aaf27582c46281855d79f874f369e\n'}, {'number': 2, 'created': '2020-07-02 14:43:18.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml', 'roles/undercloud-setup/tasks/remove_ens3.yml', 'roles/baremetal-prep-virthost/tasks/remove_ens3.yml', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9ba91813fc8f2287995aaffd3d66e2b268aa4537', 'message': 'Move ens3 role to a baremetal-only playbook/role\n\nRemoving the ens3 network-scripts file is needed when\ncreating a Centos 8 VM for the undercloud in baremetal\ndeployments.\n\nChange-Id: I28760c662b7aaf27582c46281855d79f874f369e\n'}]",0,739059,9ba91813fc8f2287995aaffd3d66e2b268aa4537,15,7,2,9976,,,0,"Move ens3 role to a baremetal-only playbook/role

Removing the ens3 network-scripts file is needed when
creating a Centos 8 VM for the undercloud in baremetal
deployments.

Change-Id: I28760c662b7aaf27582c46281855d79f874f369e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/739059/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/baremetal-prep-virthost.yml', 'roles/undercloud-setup/tasks/remove_ens3.yml', 'roles/baremetal-prep-virthost/tasks/remove_ens3.yml', 'roles/undercloud-setup/tasks/main.yml']",4,28bc6e5b93df9ae3257123845424fcd57316dc82,move-ens-role,," - name: Discover is ens3 interface exists setup: gather_subset: network register: net - name: Remove ens interface if file exists but no interface include: remove_ens3.yml when: - ansible_distribution in [""RedHat"", ""CentOS""] - ansible_distribution_major_version|int >= 8 - ""'ens3' not in net.ansible_facts.ansible_interfaces""",32,25
openstack%2Frequirements~stable%2Fstein~I0f92792f1f28861582c355808db28ec4f91df911,openstack/requirements,stable/stein,I0f92792f1f28861582c355808db28ec4f91df911,Bump subunit to 1.4.0 in train too,MERGED,2020-07-03 12:32:22.000000000,2020-07-03 17:01:53.000000000,2020-07-03 17:01:53.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 12:32:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d1b88cf8fe082f68de2837389f9f1a1279586b00', 'message': 'Bump subunit to 1.4.0 in train too\n\nThe recent subunit 1.4.0 release includes:\n- several Python3-related fixes\n- a proper handling of ""extensive logging"" from unit tests\n  (see LP#1813147)\nthat can be useful to have.\n\nAt least one downstream consumer (Fedora and then RDO) had to carry\nvarious patches from to make subunit 1.3 work with Python 3:\n\nhttps://src.fedoraproject.org/rpms/subunit/c/91fb7acb47242d51f9a222152a0b30b8f9b4e95c?branch=master\n\nConflicts:\n    upper-constraints.txt\n\nRelated-Bug: #1813147\nChange-Id: I0f92792f1f28861582c355808db28ec4f91df911\n(cherry picked from commit 9e0766c87eb4da7ff3443a5f5aa22b82bf22220d)\n'}]",0,739222,d1b88cf8fe082f68de2837389f9f1a1279586b00,11,4,1,17685,,,0,"Bump subunit to 1.4.0 in train too

The recent subunit 1.4.0 release includes:
- several Python3-related fixes
- a proper handling of ""extensive logging"" from unit tests
  (see LP#1813147)
that can be useful to have.

At least one downstream consumer (Fedora and then RDO) had to carry
various patches from to make subunit 1.3 work with Python 3:

https://src.fedoraproject.org/rpms/subunit/c/91fb7acb47242d51f9a222152a0b30b8f9b4e95c?branch=master

Conflicts:
    upper-constraints.txt

Related-Bug: #1813147
Change-Id: I0f92792f1f28861582c355808db28ec4f91df911
(cherry picked from commit 9e0766c87eb4da7ff3443a5f5aa22b82bf22220d)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/739222/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d1b88cf8fe082f68de2837389f9f1a1279586b00,,python-subunit===1.4.0,python-subunit===1.3.0,1,1
openstack%2Fpuppet-heat~master~I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf,openstack/puppet-heat,master,I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf,Add a max_stacks_per_tenant parameter,MERGED,2020-07-01 15:37:29.000000000,2020-07-03 16:39:47.000000000,2020-07-03 16:37:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 15:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/319ca6ab9581ad0ffe92c337c5a37b99f9571dc1', 'message': ""Add a max_stacks_per_tenant parameter\n\nThe default of 100 is barely useable. Let's add a new parameter\nmax_stacks_per_tenant to allow increasing this.\n\nChange-Id: I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf\n""}, {'number': 2, 'created': '2020-07-03 00:42:12.000000000', 'files': ['releasenotes/notes/max_stacks_per_tenant-f87122cc1f6db72b.yaml', 'manifests/init.pp', 'spec/classes/heat_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ac5eaeb6570c07972d39a8e068767234e0ff3327', 'message': ""Add a max_stacks_per_tenant parameter\n\nThe default of 100 is barely useable. Let's add a new parameter\nmax_stacks_per_tenant to allow increasing this.\n\nChange-Id: I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf\n""}]",0,738870,ac5eaeb6570c07972d39a8e068767234e0ff3327,13,5,2,6476,,,0,"Add a max_stacks_per_tenant parameter

The default of 100 is barely useable. Let's add a new parameter
max_stacks_per_tenant to allow increasing this.

Change-Id: I2bd9ce729b5e2b5ff6577951989b93390cb3a6bf
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/70/738870/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/heat_init_spec.rb']",2,319ca6ab9581ad0ffe92c337c5a37b99f9571dc1,, it 'configures max_stacks_per_tenant' do is_expected.to contain_heat_config('DEFAULT/max_stacks_per_tenant').with_value('<SERVICE DEFAULT>') end ,,11,0
openstack%2Fironic~master~I653e5da2672b14eae88c6cab923b8617432f1dc1,openstack/ironic,master,I653e5da2672b14eae88c6cab923b8617432f1dc1,Fix uefi jobs with native ubuntu ovmf package,MERGED,2020-04-02 08:17:31.000000000,2020-07-03 16:35:23.000000000,2020-07-03 16:26:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-04-02 08:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dab84b71df8ddaef1ddda573846df8eec90ba882', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 2, 'created': '2020-04-02 09:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1111a0f72467ed3af6fa818e3e447ef4e7ad279', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 3, 'created': '2020-04-02 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7a1ce9e2a2f5681ce453dfa9510845c57507a66', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 4, 'created': '2020-04-14 13:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7caa85ffc7f98b00e3883b61f1731166240474cd', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: https://review.opendev.org/719956\nDepends-On: https://review.opendev.org/717745\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 5, 'created': '2020-04-14 13:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f13a0e8dc2c67ccc6f4cfc962f7d12d27c861227', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 6, 'created': '2020-04-15 08:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/27fcd863e75e8942bbeb38aac862f83daa3b931f', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 7, 'created': '2020-04-23 13:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21fa2913cc58319d2f97711d4a0969831381c3c8', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 8, 'created': '2020-04-30 14:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b3a7e69de5ba55a74a8489d3c7c3db4f78fd22b', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 9, 'created': '2020-04-30 14:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e2ffa9d171f7c62edc409451f4a025c318ce339', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 10, 'created': '2020-05-04 12:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b09ff9ed57c2726a6396ea7fc0e6c3c4c973e0f6', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 11, 'created': '2020-05-04 13:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6cd529e58de37f9166a26eee23e43b230b700c4e', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 12, 'created': '2020-05-04 13:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac1aaed060fe7f670ab3baf595b8bccee46642cc', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 13, 'created': '2020-05-06 08:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c8f09117ee7d2766aaa0f7ccd68e097f377dc74', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 14, 'created': '2020-05-07 09:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b194e8d7a01716e9773bdd3aca362584dc98be3', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 15, 'created': '2020-05-08 09:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bdcdad2e08bc28cacd53c6fcf3e21ea28ffa233a', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 16, 'created': '2020-05-11 14:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a530d8cfafe2eaacfb509000440e1a47d583971', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 17, 'created': '2020-05-11 16:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/233374b54f4f314e2e746fe5afa94600e0723cb2', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 18, 'created': '2020-05-13 15:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ca2e51454e83e757ce4b4110a9a629576eb6bdb', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 19, 'created': '2020-05-13 15:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6df6fa3a23445870d8d501265a9b04cf99076f99', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 20, 'created': '2020-05-14 09:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c9a5b43375c4b615bf44822b296a158b9b556ba', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 21, 'created': '2020-05-14 09:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e44632770f54bc5da2af67654000b4ed3b69b790', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 22, 'created': '2020-05-14 09:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e99b231ea8ab4c67ac055cba9b6dd7f5fec64071', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 23, 'created': '2020-05-14 12:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68b586b1583854fb7c251c05f67eb641ea329ba6', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 24, 'created': '2020-05-14 14:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c69492f0764016eb7fd932542492495434d5ed0', 'message': '[WIP] Fix grub2 pxe job with native bionic ovmf\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 25, 'created': '2020-05-14 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/483ad806a0f9666cfb61fe0224debd55d916730b', 'message': '[WIP] Fix grub2 pxe job with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 26, 'created': '2020-05-15 09:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ca3aa5ab8841a6fc353623e0c73c3c08f5ae13e', 'message': '[WIP] Fix grub2 pxe job with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 27, 'created': '2020-05-19 15:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/089cafd1f2614b6e76bf0e70d857fdf35b84d123', 'message': '[WIP] Fix grub2 pxe job with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 28, 'created': '2020-05-19 15:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dde9be89dc40fcacb595c17808e1a438c458bec1', 'message': '[WIP] Fix uefi jobs with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 29, 'created': '2020-05-20 14:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e183a77776ca149c3157f8b7c86b448adeefed4', 'message': '[WIP] Fix uefi jobs with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 30, 'created': '2020-05-26 15:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93dfb8312cf38a4a6f4c0dd076915827e00b4d7a', 'message': '[WIP] Fix uefi jobs with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 31, 'created': '2020-06-02 09:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e233596391d3d17edf167d1312d5551fc3a7531c', 'message': '[WIP] Fix uefi jobs with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nDepends-On: Ib5f23dbd8839a0927418692054f4ed4abd76babc\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 32, 'created': '2020-06-02 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4751ac77b3c42d27980bf0eedd0a12cbbccd1028', 'message': 'Fix uefi jobs with native ubuntu ovmf package\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n'}, {'number': 33, 'created': '2020-06-03 13:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfa6885d4fd5cd47e01f458990b69555e456dfea', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 34, 'created': '2020-06-03 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/868c374619c4ab9e14ce7c1ab5c66168f4862a1e', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 35, 'created': '2020-06-03 17:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6981e7059e2d74b15d8411715c00fccc39edf119', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 36, 'created': '2020-06-04 08:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2ad8113bb28bb1a86979f6133a78691e78c6abf', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 37, 'created': '2020-06-04 08:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/325b6ebad6c667734c1150090e8859575b930a25', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 38, 'created': '2020-06-04 12:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b495eb34c519d11f80205452fb7e3c704adc10b', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007753\nTask: 39944\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 39, 'created': '2020-06-09 14:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19387c5281871e51dad5c06c29189eb3f3531154', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 40, 'created': '2020-06-10 07:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8183759056cfb18ad9a3b0624a721f816e02edcb', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 41, 'created': '2020-06-18 14:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a349becc47ac8c1980657067e5769e4ec09ac236', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 42, 'created': '2020-06-19 07:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8dc24207378f21b7eeff93b055ec9f4daa2b764d', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 43, 'created': '2020-06-25 09:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/594c3068be4ca1a2ec84016296d148c2f10b388d', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 44, 'created': '2020-06-25 15:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5402c2ff10322f79c667af93dbcc67d8057fdde', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 45, 'created': '2020-06-25 15:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c922e3b9f8f6d93739c7500fa7715c7614fe842', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 46, 'created': '2020-06-25 15:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5d461d93b24fb5a59e2086f0a6ee6a091c73609', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 47, 'created': '2020-06-29 13:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd2e057c66da14670d74330a33cfba6ff0f2ee17', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 48, 'created': '2020-06-30 08:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c93424ed475cb3bcbc6913ea4b231cb4992bfc8', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}, {'number': 49, 'created': '2020-07-02 17:10:36.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'bindep.txt', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aac89c214961f27cbc57fcee19338ec10753c67a', 'message': ""Fix uefi jobs with native ubuntu ovmf package\n\nThe ovmf pacakge in bionic doesn't really work in our CI.\nAs a workaround we use the old package from xenial, but we can't keep\nusing it also in Ubuntu Focal.\nThis patch aims to convert the uefi jobs to use Ubuntu Focal as\nbase operating system and use the native ovmf package.\n\nStory: 2007785\nTask: 40025\n\nChange-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1\n""}]",9,716889,aac89c214961f27cbc57fcee19338ec10753c67a,172,8,49,23851,,,0,"Fix uefi jobs with native ubuntu ovmf package

The ovmf pacakge in bionic doesn't really work in our CI.
As a workaround we use the old package from xenial, but we can't keep
using it also in Ubuntu Focal.
This patch aims to convert the uefi jobs to use Ubuntu Focal as
base operating system and use the native ovmf package.

Story: 2007785
Task: 40025

Change-Id: I653e5da2672b14eae88c6cab923b8617432f1dc1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/716889/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'bindep.txt', 'zuul.d/project.yaml', 'devstack/files/debs/ironic']",5,dab84b71df8ddaef1ddda573846df8eec90ba882,fix-uefi-ovmf,"ovmf # dist:xenial,bionic",# TODO (etingof) pinning to older version in devstack/lib/ironic #ovmf,5,86
openstack%2Fdevstack~stable%2Frocky~Ieb63516b7208d63c4ae9b181aabb762387a6882a,openstack/devstack,stable/rocky,Ieb63516b7208d63c4ae9b181aabb762387a6882a,Use uwsgi binary from path,MERGED,2020-07-02 15:28:36.000000000,2020-07-03 16:25:53.000000000,2020-07-03 16:25:53.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 15:28:36.000000000', 'files': ['lib/placement', 'lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/glance', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c431116ceb14dc3b75796309a28c33287fcf9a72', 'message': ""Use uwsgi binary from path\n\nAll these uwsgi invocations assume that the uwsgi binary is in the\nsame directory as their project binaries are installed into (probably\n/usr/bin).  That may not be correct -- for example if using a packaged\nuwsgi on Fedora the binary will live in /usr/sbin/uwsgi (not /usr/bin\nwhere the project files from pip are).\n\nSwitch invocations to just find it in the path.\n\nNOTE(lyarwood): This change was unfortunatley missing from the original\nbackport of I82f539bfa533349293dd5a8ce309c9cc0ffb0393 so while uwsgi is\nnow installed from packages it wasn't actually used. This was only\nnoticed as g-api was being installed on subnodes in multinode jobs where\nuwsgi was not being installed from pip, leading to failures when\nattempting to use the project bin path.\n\nRelated-Bug: 1883468\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n(cherry picked from commit 84737ebd96327310ec5f8f7c312aeae12cbeb234)\n(cherry picked from commit 312517d5101206b33d3c395d27ec93d385b7fd24)\n(cherry picked from commit 5c07f3b1b5edc7ebc19cf265d5ada0acbfec6409)\n\nChange-Id: Ieb63516b7208d63c4ae9b181aabb762387a6882a\n""}]",1,739072,c431116ceb14dc3b75796309a28c33287fcf9a72,9,5,1,10135,,,0,"Use uwsgi binary from path

All these uwsgi invocations assume that the uwsgi binary is in the
same directory as their project binaries are installed into (probably
/usr/bin).  That may not be correct -- for example if using a packaged
uwsgi on Fedora the binary will live in /usr/sbin/uwsgi (not /usr/bin
where the project files from pip are).

Switch invocations to just find it in the path.

NOTE(lyarwood): This change was unfortunatley missing from the original
backport of I82f539bfa533349293dd5a8ce309c9cc0ffb0393 so while uwsgi is
now installed from packages it wasn't actually used. This was only
noticed as g-api was being installed on subnodes in multinode jobs where
uwsgi was not being installed from pip, leading to failures when
attempting to use the project bin path.

Related-Bug: 1883468
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit 84737ebd96327310ec5f8f7c312aeae12cbeb234)
(cherry picked from commit 312517d5101206b33d3c395d27ec93d385b7fd24)
(cherry picked from commit 5c07f3b1b5edc7ebc19cf265d5ada0acbfec6409)

Change-Id: Ieb63516b7208d63c4ae9b181aabb762387a6882a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/739072/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/placement', 'lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/glance', 'lib/neutron-legacy']",7,c431116ceb14dc3b75796309a28c33287fcf9a72,," run_process neutron-api ""$(which uwsgi) --procname-prefix neutron-api --ini $NEUTRON_UWSGI_CONF"""," run_process neutron-api ""$NEUTRON_BIN_DIR/uwsgi --procname-prefix neutron-api --ini $NEUTRON_UWSGI_CONF""",8,8
openstack%2Fopenstack-ansible-os_heat~master~Id844f584b22e35ac154b1727a42522d73bf97670,openstack/openstack-ansible-os_heat,master,Id844f584b22e35ac154b1727a42522d73bf97670,Add Centos-8 support,MERGED,2020-06-19 03:03:00.000000000,2020-07-03 16:17:24.000000000,2020-07-02 21:43:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-19 03:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/b6cdea82cbb63761ec23a4959819075b0834018c', 'message': 'Add Centos-8 support\n\nChange-Id: Id844f584b22e35ac154b1727a42522d73bf97670\n'}, {'number': 2, 'created': '2020-06-24 16:45:01.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/08d2b28bd2206d06b1607cb5be3c13fb52fca7bc', 'message': 'Add Centos-8 support\n\nChange-Id: Id844f584b22e35ac154b1727a42522d73bf97670\n'}]",0,736925,08d2b28bd2206d06b1607cb5be3c13fb52fca7bc,19,3,2,28752,,,0,"Add Centos-8 support

Change-Id: Id844f584b22e35ac154b1727a42522d73bf97670
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/25/736925/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,b6cdea82cbb63761ec23a4959819075b0834018c,osa/el8,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. heat_distro_packages: - rsync - libxslt - which - openmpi-devel heat_devel_distro_packages: - systemd-devel heat_service_distro_packages: - openstack-heat-agents - openstack-heat-api - openstack-heat-api-cfn - openstack-heat-engine - openstack-heat-ui - python3-systemd heat_oslomsg_amqp1_distro_packages: - cyrus-sasl-lib - cyrus-sasl-plain - cyrus-sasl-md5 ",,36,0
openstack%2Fopenstack-ansible-os_horizon~master~If0f8b4a7442d8cd904337f802758e17aa3cb8da8,openstack/openstack-ansible-os_horizon,master,If0f8b4a7442d8cd904337f802758e17aa3cb8da8,Add Centos-8 support,MERGED,2020-06-17 05:08:21.000000000,2020-07-03 16:17:18.000000000,2020-07-02 22:12:41.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-17 05:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/38e83bc7fc61482c2dbf4e42cc2256968b9094ec', 'message': 'Add Centos-8 support\n\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 2, 'created': '2020-06-17 05:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/50faecee042cf28645e64cec795bf8f5d632faf5', 'message': 'Add Centos-8 support\nAdding redhat-8.yml file for el8 support\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 3, 'created': '2020-06-18 03:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a71ab6ec6026a50343a297f175a19aac1d2bd1e6', 'message': 'Add Centos-8 support\n\nAdding redhat-8.yml file for el8 support\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 4, 'created': '2020-06-18 17:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9a7ec3f2220680af6b379584529125e5041a94aa', 'message': 'Add Centos-8 support\n\nI missed centos7 patch in initial commit https://review.opendev.org/#/c/734608/\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 5, 'created': '2020-06-19 03:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/64c43643769b1bd558339ff4f00522cfee130e24', 'message': 'Add Centos-8 support\n\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 6, 'created': '2020-07-02 14:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/61058e9e2f93c22e0e4cd7349d5b9a9dbf787503', 'message': 'Add Centos-8 support\n\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}, {'number': 7, 'created': '2020-07-02 17:08:14.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4c2cc73d571dd86303bc16063951c13bec8af8c5', 'message': 'Add Centos-8 support\n\nChange-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8\n'}]",2,736095,4c2cc73d571dd86303bc16063951c13bec8af8c5,24,3,7,28752,,,0,"Add Centos-8 support

Change-Id: If0f8b4a7442d8cd904337f802758e17aa3cb8da8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/95/736095/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/horizon_install_source.yml'],1,38e83bc7fc61482c2dbf4e42cc2256968b9094ec,osa/el8," {{ horizon_pip_packages | union(horizon_user_pip_packages) + horizon_optional_pip_packages + (ansible_os_family | lower == 'redhat' and ansible_distribution_major_version is version('7', '=')) | ternary(horizon_service_pip_packages,[]) | default([]) + - name: Register wsgi module shell: ""{{ horizon_bin }}/mod_wsgi-express install-module > /etc/httpd/conf.modules.d/02-wsgi.conf"" when: ansible_os_family | lower == 'redhat' and ansible_distribution_major_version is version('7', '=') notify: - Restart apache2", {{ horizon_pip_packages | union(horizon_user_pip_packages) + horizon_optional_pip_packages +,9,1
openstack%2Fopenstack-ansible-os_nova~master~Ibc8c9b92c8c3c705964fbc85019b357913583ca7,openstack/openstack-ansible-os_nova,master,Ibc8c9b92c8c3c705964fbc85019b357913583ca7,Add Centos-8 support,MERGED,2020-06-17 05:18:02.000000000,2020-07-03 16:17:09.000000000,2020-07-02 20:52:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-17 05:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/115e22cdd634aee2cd90e6a3c2c9c6d7da9c6356', 'message': 'Add Centos-8 support\n\nChange-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7\n'}, {'number': 2, 'created': '2020-06-17 13:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2ddaf8607f521ebc99cb296674db63e4f162e015', 'message': ""Add Centos-8 support\n\nWe shouldn't need this anymore since interpreter patch has been merged\nhttps://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)\n\nChange-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7\n""}, {'number': 3, 'created': '2020-07-01 20:28:54.000000000', 'files': ['vars/redhat.yml', 'tasks/nova_compute_key_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/842c899d8e28c4f05236a9f18acedcdba7067eec', 'message': ""Add Centos-8 support\n\nWe shouldn't need this anymore since interpreter patch has been merged\nhttps://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)\n\nChange-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7\n""}]",1,736097,842c899d8e28c4f05236a9f18acedcdba7067eec,19,4,3,28752,,,0,"Add Centos-8 support

We shouldn't need this anymore since interpreter patch has been merged
https://review.opendev.org/#/q/topic:interpreter+(status:open+OR+status:merged)

Change-Id: Ibc8c9b92c8c3c705964fbc85019b357913583ca7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/97/736097/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/nova_compute_key_distribute.yml']",2,115e22cdd634aee2cd90e6a3c2c9c6d7da9c6356,osa/el8," ansible_python_interpreter: ""{{ ansible_distribution_major_version is version('8', '<') | ternary('/usr/bin/python', '/usr/bin/python3') }}"""," ansible_python_interpreter: ""/usr/bin/python""",3,3
openstack%2Fneutron~master~I3d358c9510a9050f500464bd909471daa047a0e9,openstack/neutron,master,I3d358c9510a9050f500464bd909471daa047a0e9,migration: Adopt new tripleo-ansible-inventory output,ABANDONED,2020-06-26 12:15:57.000000000,2020-07-03 16:06:00.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 26622}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-06-26 12:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21d6fd696192398db756b4c59a1a9e82ba56dbee', 'message': 'migration: Adopt new ansible-inventory output\n\nThe tripleo-ansible-inventory output has changed recently. This patch\nadopts the new version and keeps backward compatibility with the old\nformat.\n\nCloses-Bug: #1884764\n\nChange-Id: I3d358c9510a9050f500464bd909471daa047a0e9\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-29 08:31:57.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/38698a3297939f1940b56a81b4fa2a9cb2a4997c', 'message': 'migration: Adopt new tripleo-ansible-inventory output\n\nThe tripleo-ansible-inventory output has changed recently. This patch\nadopts the new version and keeps backward compatibility with the old\nformat.\n\nCloses-Bug: #1884764\n\nChange-Id: I3d358c9510a9050f500464bd909471daa047a0e9\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",11,738192,38698a3297939f1940b56a81b4fa2a9cb2a4997c,17,8,2,8655,,,0,"migration: Adopt new tripleo-ansible-inventory output

The tripleo-ansible-inventory output has changed recently. This patch
adopts the new version and keeps backward compatibility with the old
format.

Closes-Bug: #1884764

Change-Id: I3d358c9510a9050f500464bd909471daa047a0e9
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/738192/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,21d6fd696192398db756b4c59a1a9e82ba56dbee,adopt_tripleo_change," cloud_roles=$(jq -r \.$role_name\.children\[\] $inventory_file) for cloud_role in $cloud_roles; do roles=$(jq -r \.$cloud_role\.children\[\] $inventory_file 2> /dev/null) if [ $? -ne 0 ]; then roles=$cloud_roles for role in $roles; do hosts=$(jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.hosts[]' $inventory_file) HOSTS=""${hosts} ${HOSTS}"" done"," roles=`jq -r \.$role_name\.children\[\] $inventory_file` for role in $roles; do # During the rocky cycle the format changed to have .value.hosts hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.hosts[]' $inventory_file` if [[ ""x$hosts"" == ""x"" ]]; then # But we keep backwards compatibility with nested childrens (Queens) hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.children[]' $inventory_file` for host in $hosts; do HOSTS=""$HOSTS `jq -r --arg host ""$host"" 'to_entries[] | select(.key == $host) | .value.hosts[0]' $inventory_file`"" done else HOSTS=""${hosts} ${HOSTS}""",9,13
openstack%2Ftripleo-ansible~master~If1bd15276156c6386f93e3c0f2853d7043054264,openstack/tripleo-ansible,master,If1bd15276156c6386f93e3c0f2853d7043054264,move undercloud-containers to nv,MERGED,2020-05-12 14:31:39.000000000,2020-07-03 15:29:28.000000000,2020-05-22 22:49:42.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-12 14:31:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f176285c7d6fa7c8c214806fffc0a28c0112b96', 'message': 'move undercloud-containers to nv\n\nPartial-Bug: #1878101\nChange-Id: If1bd15276156c6386f93e3c0f2853d7043054264\n'}]",0,727207,9f176285c7d6fa7c8c214806fffc0a28c0112b96,11,3,1,9592,,,0,"move undercloud-containers to nv

Partial-Bug: #1878101
Change-Id: If1bd15276156c6386f93e3c0f2853d7043054264
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/727207/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9f176285c7d6fa7c8c214806fffc0a28c0112b96,, voting: false, - tripleo-ci-centos-8-undercloud-containers: *undercloud_containers,1,1
openstack%2Fmonasca-common~stable%2Fussuri~Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,openstack/monasca-common,stable/ussuri,Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,Update hacking for Python3,MERGED,2020-07-03 14:00:49.000000000,2020-07-03 15:20:00.000000000,2020-07-03 15:20:00.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-07-03 14:00:49.000000000', 'files': ['monasca_common/kafka_lib/producer/base.py', 'docker/kafka_wait_for_topics.py', 'test-requirements.txt', 'monasca_common/kafka_lib/client.py', 'lower-constraints.txt', 'monasca_common/tests/validation/test_metric_validation.py', 'tox.ini', 'monasca_common/validation/metrics.py', 'monasca_common/rest/utils.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/6fe7f9b304c10c99133161d3c282abf58cafd1fe', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nRemove hacking and friends from lower-constraints, they are not needed\nfor installation.\n\nChange-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89\n(cherry picked from commit 2ebc766534eba6163e98b94a1f114ece18739fff)\n'}]",0,739241,6fe7f9b304c10c99133161d3c282abf58cafd1fe,6,3,1,16222,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Remove hacking and friends from lower-constraints, they are not needed
for installation.

Change-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89
(cherry picked from commit 2ebc766534eba6163e98b94a1f114ece18739fff)
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/41/739241/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_common/kafka_lib/producer/base.py', 'docker/kafka_wait_for_topics.py', 'test-requirements.txt', 'monasca_common/kafka_lib/client.py', 'lower-constraints.txt', 'monasca_common/tests/validation/test_metric_validation.py', 'tox.ini', 'monasca_common/rest/utils.py', 'monasca_common/validation/metrics.py']",9,6fe7f9b304c10c99133161d3c282abf58cafd1fe,update-hacking-stable/ussuri,import simplejson as json,import simplejson as json,13,16
openstack%2Fkuryr-kubernetes~stable%2Fstein~Ie990da4e68e82d998768fa0c047cca4cccd59915,openstack/kuryr-kubernetes,stable/stein,Ie990da4e68e82d998768fa0c047cca4cccd59915,Remove dragonflow,MERGED,2020-06-24 13:54:55.000000000,2020-07-03 15:02:52.000000000,2020-07-03 14:57:01.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-24 13:54:55.000000000', 'files': ['.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb0ff6c7ff7a850b623c4690da56af3257a53812', 'message': 'Remove dragonflow\n\nDragonflow was removed from governance in 2018 and is now being retired.\nThis cleans up references to dragonflow jobs and configuration.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html\n\nThis backport drops sample config file and docs changes and only removes\nthe zuul configuration since conceivable the project could still be used\nwith older branches.\n\nChange-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)\n(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)\n(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)\n'}]",0,737794,cb0ff6c7ff7a850b623c4690da56af3257a53812,18,4,1,11904,,,0,"Remove dragonflow

Dragonflow was removed from governance in 2018 and is now being retired.
This cleans up references to dragonflow jobs and configuration.

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

This backport drops sample config file and docs changes and only removes
the zuul configuration since conceivable the project could still be used
with older branches.

Change-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)
(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)
(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/737794/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/sdn.yaml'],1,cb0ff6c7ff7a850b623c4690da56af3257a53812,dragonflow,, - job: name: kuryr-kubernetes-tempest-dragonflow parent: kuryr-kubernetes-tempest description: | Kuryr-Kubernetes tempest job using Dragonflow required-projects: - openstack/dragonflow vars: devstack_localrc: Q_ENABLE_DRAGONFLOW_LOCAL_CONTROLLER: true DF_RUNNING_IN_GATE: true TUNNEL_TYPE: vxlan DF_L2_RESPONDER: true OVS_INSTALL_FROM_GIT: false OVS_BRANCH: master devstack_services: q-agt: false q-dhcp: false q-l3: false q-trunk: true df-redis: true df-redis-server: true df-controller: true df-ext-services: true df-l3-agent: true devstack_plugins: dragonflow: https://github.com/openstack/dragonflow voting: false,0,29
openstack%2Fkolla-ansible~stable%2Fussuri~Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,openstack/kolla-ansible,stable/ussuri,Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,Fix Fluentd date format for MariaDB xinetd,MERGED,2020-07-02 09:30:06.000000000,2020-07-03 14:43:35.000000000,2020-07-03 14:41:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 09:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e53a98aa1d036ad088031b07b254adcb8135f9a0', 'message': 'Fix Fluentd date format for MariaDB xinetd\n\nTime format in Ruby Time.strptime is not accepting padding flags,\ntherefore we need to remove them for the Fluentd to be able\nto parse MariaDB xinetd logs properly.\n\nChange-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f\nCloses-Bug: #1886002\n'}, {'number': 2, 'created': '2020-07-03 07:24:19.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ae152d1d6bdd02f15884d5bb816e3cf81c51d80', 'message': 'Fix Fluentd date format for MariaDB xinetd\n\nTime format in Ruby Time.strptime is not accepting padding flags,\ntherefore we need to remove them for the Fluentd to be able\nto parse MariaDB xinetd logs properly.\n\nChange-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f\nCloses-Bug: #1886002\n(cherry picked from commit dda5269ce75526b90a2d8e3b7983d876d4193588)\n'}]",0,738999,0ae152d1d6bdd02f15884d5bb816e3cf81c51d80,13,4,2,26689,,,0,"Fix Fluentd date format for MariaDB xinetd

Time format in Ruby Time.strptime is not accepting padding flags,
therefore we need to remove them for the Fluentd to be able
to parse MariaDB xinetd logs properly.

Change-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f
Closes-Bug: #1886002
(cherry picked from commit dda5269ce75526b90a2d8e3b7983d876d4193588)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/738999/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,e53a98aa1d036ad088031b07b254adcb8135f9a0,bug-1886002-stable/ussuri, time_format %y/%m/%d@%T, time_format %y/%-m/%-d@%T,1,1
openstack%2Ftripleo-quickstart-extras~master~I6c331f8b71be5636b68cee2a1a2597d20d25e903,openstack/tripleo-quickstart-extras,master,I6c331f8b71be5636b68cee2a1a2597d20d25e903,Remove interface file only when no interface,MERGED,2020-07-02 06:26:17.000000000,2020-07-03 14:40:04.000000000,2020-07-03 14:40:04.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-02 06:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef1a4234693b0346e87423960ed275c339da0630', 'message': ""Remove interface file only when no interface\n\nRemove ens3 network interface file only when we don't have\nactual ens3 interface. Don't delete it if ens3 is one of live\ninterfaces on the system.\nChange-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903\n""}, {'number': 2, 'created': '2020-07-02 06:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d720bda8917c52394943c23232dde06c7b0ea6a', 'message': ""Remove interface file only when no interface\n\nRemove ens3 network interface file only when we don't have\nactual ens3 interface. Don't delete it if ens3 is one of live\ninterfaces on the system.\n\nCloses-Bug: #1885701\nChange-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903\n""}, {'number': 3, 'created': '2020-07-02 06:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/39f1a6956909ac80f6d0a4b7be74242fa7da8d5a', 'message': ""Remove interface file only when no interface\n\nRemove ens3 network interface file only when we don't have\nactual ens3 interface. Don't delete it if ens3 is one of live\ninterfaces on the system.\n\nCloses-Bug: #1885701\nChange-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903\n""}, {'number': 4, 'created': '2020-07-02 10:08:39.000000000', 'files': ['roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f18d280c80b80b6508be83ad1ebe2ef36ae6591', 'message': ""Remove interface file only when no interface\n\nRemove ens3 network interface file only when we don't have\nactual ens3 interface. Don't delete it if ens3 is one of live\ninterfaces on the system.\n\nCloses-Bug: #1885701\nChange-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903\n""}]",3,738964,7f18d280c80b80b6508be83ad1ebe2ef36ae6591,25,9,4,10969,,,0,"Remove interface file only when no interface

Remove ens3 network interface file only when we don't have
actual ens3 interface. Don't delete it if ens3 is one of live
interfaces on the system.

Closes-Bug: #1885701
Change-Id: I6c331f8b71be5636b68cee2a1a2597d20d25e903
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/738964/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/main.yml'],1,ef1a4234693b0346e87423960ed275c339da0630,,"- name: Discover is ens3 interface exists setup: gather_subset: network register: net - name: Remove ens interface if file exists but no interface when: - ansible_distribution in [""RedHat"", ""CentOS""] - ansible_distribution_major_version|int >= 8 - ""'ens3' in net.ansible_facts.ansible_interfaces""","- name: Remove ens interface if it exists when: ansible_distribution in [""RedHat"", ""CentOS""] and ansible_distribution_major_version|int >= 8",10,2
openstack%2Foslo.messaging~stable%2Ftrain~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/train,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-02 14:44:47.000000000,2020-07-03 14:29:36.000000000,2020-07-03 14:24:07.000000000,"[{'_account_id': 6547}, {'_account_id': 8770}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-02 14:44:47.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/88cf5aebef790ff40ab8ca7219d537ccfc54d12e', 'message': ""Simplify tools/test-setup.sh\n\ntest-setup.sh is called after bindep is run in CI, and tox is not setup.\n\nSimplify the script so that it only does what's needed - install\nqdrouterd for Ubuntu from qpid/testing.\n\nInstall the other packages using bindep, add test to amqp1 profile.\n\nAdd amqp1 to bindep_profiles where needed for scenario tests, previously\ntest-setup.sh added it everywhere.\n\nConflicts:\n    .zuul.yaml\n\nNOTE(elod.illes): conflict is due to scenario rationalizing patch\nI0f86416623a0b718516147f0660b4df2b74cf867 is not present in Train.\n\nChange-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2\nRelated-Bug: #1885923\n(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)\n(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)\n""}]",0,739060,88cf5aebef790ff40ab8ca7219d537ccfc54d12e,10,6,1,17685,,,0,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Conflicts:
    .zuul.yaml

NOTE(elod.illes): conflict is due to scenario rationalizing patch
I0f86416623a0b718516147f0660b4df2b74cf867 is not present in Train.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/60/739060/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",3,88cf5aebef790ff40ab8ca7219d537ccfc54d12e,,"# qdrouterd needs to be installed from qpid/testing repo in Ubuntu. # bindep does not allow setting up another repo, so we just install # this package here. --assume-yes install qdrouterd","function is_fedora { [ -f /usr/bin/yum ] && cat /etc/*release | grep -q -e ""Fedora"" } # NOTE(sileht): we create the virtualenv only and use bindep directly # because tox doesn't have a quiet option... tox -ebindep --notest # TODO(ansmith) for now setup amqp1 dependencies for any profile. # Fix this when test-setup is passed environment profile setting. # NOTE(sileht): bindep return 1 if some packages have to be installed PACKAGES=""$(.tox/bindep/bin/bindep -b -f bindep.txt amqp1 || true)"" [ -n ""$PACKAGES"" ] || exit 0 --assume-yes install $PACKAGES elif emerge --version >/dev/null 2>&1 ; then sudo emerge -uDNq --jobs=4 @world sudo PATH=/usr/sbin:/sbin:$PATH emerge -q --jobs=4 $PACKAGES else is_fedora && YUM=dnf || YUM=yum sudo PATH=/usr/sbin:/sbin:$PATH $YUM install -y $PACKAGES",21,36
openstack%2Fironic~master~I9d295135e6059a47cb541ae1218b11c3d56f85e1,openstack/ironic,master,I9d295135e6059a47cb541ae1218b11c3d56f85e1,DRAC: Fix a failure to create virtual disk,MERGED,2020-05-26 08:00:18.000000000,2020-07-03 14:19:16.000000000,2020-07-03 14:10:34.000000000,"[{'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 29405}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-26 08:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d465d866db8d1fa8bf55ae172bdec2c32e7594f', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}, {'number': 2, 'created': '2020-06-03 18:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36c49692edee601088049abc89874e007265e706', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}, {'number': 3, 'created': '2020-06-08 11:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5959405d17a2fc82a3984cb07c6cc205ca7ce4f2', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}, {'number': 4, 'created': '2020-06-25 06:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/690985786033ca2dce592c847f4dbd6c45c43509', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}, {'number': 5, 'created': '2020-06-25 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fd00910f98d743f6ce21cb175c896cda205084b', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}, {'number': 6, 'created': '2020-06-29 10:33:34.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/idrac-add-ehba-support-10b90c92b8865364.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/325f28043468472c2f97f659c66817192aba39f7', 'message': ""DRAC: Fix a failure to create virtual disk\n\nPERC H740P controllers supports RAID mode and Enhanced HBA mode.\nWhen the controller is in Enhanced HBA, it creates single disk\nRAID0 virtual disks of NON-RAID physical disks.\nHence the user's request for VD creation with supported RAID\nfails due to no available physical disk.\nThis patch checks the Perc H740P controllers whether it supports\nenhanced HBA mode and if controllers are found in enhanced HBA\nmode it converts back to RAID mode.\n\nChange-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1\nStory: 2007711\nTask: 39844\n""}]",41,730725,325f28043468472c2f97f659c66817192aba39f7,55,12,6,29405,,,0,"DRAC: Fix a failure to create virtual disk

PERC H740P controllers supports RAID mode and Enhanced HBA mode.
When the controller is in Enhanced HBA, it creates single disk
RAID0 virtual disks of NON-RAID physical disks.
Hence the user's request for VD creation with supported RAID
fails due to no available physical disk.
This patch checks the Perc H740P controllers whether it supports
enhanced HBA mode and if controllers are found in enhanced HBA
mode it converts back to RAID mode.

Change-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1
Story: 2007711
Task: 39844
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/730725/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/idrac-add-ehba-support-10b90c92b8865364.yaml']",4,4d465d866db8d1fa8bf55ae172bdec2c32e7594f,ehba_support,"fixes: - | PERC H740P controllers supports RAID mode and Enhanced HBA mode. When the controller is in Enhanced HBA, it creates single disk RAID0 virtual disks of NON-RAID physical disks. Hence the user's request for VD creation with supported RAID fails due to no available physical disk. This patch checks the Perc H740P controllers whether it supports enhanced HBA mode and if controllers are found in enhanced HBA mode it converts back to RAID mode. See bug `bug 2007711 <https://storyboard.openstack.org/#!/story/2007711>`_ for more details ",,355,17
openstack%2Fopenstacksdk~master~I7aaaf44ab1a1d4d25225843227ef6ab6d8564063,openstack/openstacksdk,master,I7aaaf44ab1a1d4d25225843227ef6ab6d8564063,Ignore IPv6 addresses if force_ipv4 is set,MERGED,2020-07-03 02:22:44.000000000,2020-07-03 14:08:53.000000000,2020-07-03 14:05:08.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 02:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c81e58e32c267e584188f28d976356f5632d944d', 'message': ""Ignore IPv6 addresses if force_ipv4 is set\n\nCurrently if a cloud config sets force_ipv4, it will still have the\npublic_v6 field populated if the provider API gives an IPv6 address.\n\nI can not see why you would want this address populated if you are\ntelling the cloud to force IPv4.  As a concrete example;\nIf6e1a0402b9b7f93cc76623c01049764abc68b2a proposes in zuul-jobs adding\nthe IPv6 address to /etc/hosts for multinode jobs.  It does this by\nwalking the nodepool interface values, which on some clouds with\nforce_ipv4 set will have invalid/unconfigured IPv6 entries.\n\nI've updated the documentation to expand a bit more on what situations\nthis flag might be useful, which AIUI is really mostly about clouds\nthat return you an IPv6 address in the API but don't give you a\npractical way to auto-configure it.\n\nChange-Id: I7aaaf44ab1a1d4d25225843227ef6ab6d8564063\n""}, {'number': 2, 'created': '2020-07-03 06:34:06.000000000', 'files': ['releasenotes/notes/force_ipv4_no_ipv6_address-9842168b5d05d262.yaml', 'openstack/tests/unit/cloud/test_meta.py', 'doc/source/user/config/configuration.rst', 'openstack/cloud/meta.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/661a0eb4b514c079f4388fc32850e05b3de045c7', 'message': ""Ignore IPv6 addresses if force_ipv4 is set\n\nCurrently if a cloud config sets force_ipv4, it will still have the\npublic_v6 field populated if the provider API gives an IPv6 address.\n\nI can not see why you would want this address populated if you are\ntelling the cloud to force IPv4.  As a concrete example;\nIf6e1a0402b9b7f93cc76623c01049764abc68b2a proposes in zuul-jobs adding\nthe IPv6 address to /etc/hosts for multinode jobs.  It does this by\nwalking the nodepool interface values, which on some clouds with\nforce_ipv4 set will have invalid/unconfigured IPv6 entries.\n\nI've updated the documentation to expand a bit more on what situations\nthis flag might be useful, which AIUI is really mostly about clouds\nthat return you an IPv6 address in the API but don't give you a\npractical way to auto-configure it.\n\nChange-Id: I7aaaf44ab1a1d4d25225843227ef6ab6d8564063\n""}]",13,739159,661a0eb4b514c079f4388fc32850e05b3de045c7,16,5,2,7118,,,0,"Ignore IPv6 addresses if force_ipv4 is set

Currently if a cloud config sets force_ipv4, it will still have the
public_v6 field populated if the provider API gives an IPv6 address.

I can not see why you would want this address populated if you are
telling the cloud to force IPv4.  As a concrete example;
If6e1a0402b9b7f93cc76623c01049764abc68b2a proposes in zuul-jobs adding
the IPv6 address to /etc/hosts for multinode jobs.  It does this by
walking the nodepool interface values, which on some clouds with
force_ipv4 set will have invalid/unconfigured IPv6 entries.

I've updated the documentation to expand a bit more on what situations
this flag might be useful, which AIUI is really mostly about clouds
that return you an IPv6 address in the API but don't give you a
practical way to auto-configure it.

Change-Id: I7aaaf44ab1a1d4d25225843227ef6ab6d8564063
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/739159/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/force_ipv4_no_ipv6_address-9842168b5d05d262.yaml', 'openstack/tests/unit/cloud/test_meta.py', 'doc/source/user/config/configuration.rst', 'openstack/cloud/meta.py']",4,c81e58e32c267e584188f28d976356f5632d944d,ignore-ipv6," # Don't return ipv6 interfaces if forcing IPv4 # If we're forcing ipv4, then don't report ipv6 interfaces which # are likely to be unconfigured. if cloud.force_ipv4: server['public_v6'] = '' else: server['public_v6'] = get_server_external_ipv6(server) or ''", server['public_v6'] = get_server_external_ipv6(server) or '',29,10
openstack%2Fmonasca-common~master~Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,openstack/monasca-common,master,Ia16e8cbccf7b38be8909aa94e66c04b99f200b89,Update hacking for Python3,MERGED,2020-04-19 19:08:44.000000000,2020-07-03 14:00:49.000000000,2020-04-24 15:19:42.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-04-19 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/2a9ec9f9ee54ec68c7f70279bfbb77e4e9560b08', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nRemove hacking and friends from lower-constraints, they are not needed\nfor installation.\n\nChange-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89\n'}, {'number': 2, 'created': '2020-04-24 12:41:05.000000000', 'files': ['monasca_common/kafka_lib/producer/base.py', 'docker/kafka_wait_for_topics.py', 'test-requirements.txt', 'monasca_common/kafka_lib/client.py', 'lower-constraints.txt', 'monasca_common/tests/validation/test_metric_validation.py', 'tox.ini', 'monasca_common/validation/metrics.py', 'monasca_common/rest/utils.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/2ebc766534eba6163e98b94a1f114ece18739fff', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nRemove hacking and friends from lower-constraints, they are not needed\nfor installation.\n\nChange-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89\n'}]",0,721103,2ebc766534eba6163e98b94a1f114ece18739fff,10,8,2,6547,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Remove hacking and friends from lower-constraints, they are not needed
for installation.

Change-Id: Ia16e8cbccf7b38be8909aa94e66c04b99f200b89
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/03/721103/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_common/kafka_lib/producer/base.py', 'docker/kafka_wait_for_topics.py', 'test-requirements.txt', 'monasca_common/kafka_lib/client.py', 'lower-constraints.txt', 'monasca_common/tests/validation/test_metric_validation.py', 'tox.ini', 'monasca_common/rest/utils.py', 'monasca_common/validation/metrics.py']",9,2a9ec9f9ee54ec68c7f70279bfbb77e4e9560b08,update-hacking,import simplejson as json,import simplejson as json,13,16
openstack%2Ftripleo-ansible~master~I55f078be5fbdd762ffb63fb25ca6a192abb2e049,openstack/tripleo-ansible,master,I55f078be5fbdd762ffb63fb25ca6a192abb2e049,Handle unreachable,MERGED,2020-06-11 21:43:02.000000000,2020-07-03 13:58:50.000000000,2020-06-19 19:10:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-11 21:43:02.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffe694808e47957340b4dbc3a17581239243880a', 'message': 'Handle unreachable\n\nWe forgot to handle unreachable errors.\n\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to\nconnect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:\nNo route to host"", ""unreachable"": true}\n\nChange-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049\n'}]",0,735254,ffe694808e47957340b4dbc3a17581239243880a,24,7,1,14985,,,0,"Handle unreachable

We forgot to handle unreachable errors.

fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to
connect to the host via ssh: ssh: connect to host 192.168.24.18 port 22:
No route to host"", ""unreachable"": true}

Change-Id: I55f078be5fbdd762ffb63fb25ca6a192abb2e049
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/735254/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,ffe694808e47957340b4dbc3a17581239243880a,callback-improvements," def v2_runner_on_unreachable(self, result): line = [ self._get_uuid(result), self._get_state('UNREACHABLE'), self._get_task_name(result), self._get_host(result=result) ] item_result = self._get_item_label(result._result) # don't display if None if item_result: line.append('item=%s' % item_result) self._output(line, C.COLOR_UNREACHABLE) ",,13,0
openstack%2Ftripleo-ansible~master~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,master,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-05-29 21:25:36.000000000,2020-07-03 13:56:25.000000000,2020-06-08 07:20:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-29 21:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36891f6496cc0dc44976d72cd5c8bd683ea63412', 'message': 'WIP - Molecule testing for TripleO Strategy Plugins\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n'}, {'number': 2, 'created': '2020-06-01 20:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63f3e69ca37fbe8177a6c581e80892c6967adea3', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 3, 'created': '2020-06-01 20:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32a55ee9e36120936d89d2ea76d7f19cd13ffa40', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 4, 'created': '2020-06-02 20:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00b2ab4e03b9d0eb18d1956af0bcf60456803370', 'message': ""WIP - Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 5, 'created': '2020-06-02 20:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7410e3ebbd62468e73ed3680a693f942bcbc93a3', 'message': ""WIP - Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 6, 'created': '2020-06-02 21:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6eb0e293670076c01d97138f50d21c7528c879c', 'message': ""WIP - Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 7, 'created': '2020-06-02 21:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdd807f5e0e32154c8d878fd5dba89e3d9adea37', 'message': ""WIP - Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 8, 'created': '2020-06-03 02:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b78dc1f47240d4283c08b974c464526c8285fe4', 'message': ""WIP - Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 9, 'created': '2020-06-03 02:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b0e6622be00eb8d86f9d20f0530d32dc0061488', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}, {'number': 10, 'created': '2020-06-03 20:07:10.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-free.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-fail', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-success', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-linear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54ea54c26b777709fd636b376cce1d5078ae287c', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n""}]",0,731848,54ea54c26b777709fd636b376cce1d5078ae287c,28,5,10,3153,,,0,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/731848/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_linear/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_free/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_linear/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_free/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_free/prepare.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_linear/prepare.yml']",7,36891f6496cc0dc44976d72cd5c8bd683ea63412,molecule/strats,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all gather_facts: true roles: - role: test_deps ",,185,0
openstack%2Fpython-tripleoclient~master~I279e95722fe7a10148d36c99c7179c33a3a767a0,openstack/python-tripleoclient,master,I279e95722fe7a10148d36c99c7179c33a3a767a0,Add openstack tripleo container image build,MERGED,2020-04-28 20:01:26.000000000,2020-07-03 13:55:35.000000000,2020-06-05 16:54:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-28 20:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e05823d33f42c09a33570f417c2972470817fb86', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 2, 'created': '2020-04-28 20:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/94ed0f64c77273642bb40c82c4233e512cf32209', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 3, 'created': '2020-04-28 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b974bffb451c7266717e16caf5523636c35ad6ea', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 4, 'created': '2020-04-28 21:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/99a1731d57c7d59d7e6aeffa013834035a607d26', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 5, 'created': '2020-04-29 03:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5dec8420076c816dd6f14bce92ce073618041c31', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 6, 'created': '2020-04-29 13:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4023251f6b6710396492b72efec02853801e215c', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 7, 'created': '2020-04-29 22:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7c9200e4b01fcdd6ec53566fa63457028b7abfb', 'message': 'WIP - openstack tripleo container image build\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 8, 'created': '2020-04-29 23:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/784cf84c30ccca64d82f16c8a91096e74049973e', 'message': 'WIP - openstack tripleo container image build\n\nDepends-On: https://review.opendev.org/724436\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 9, 'created': '2020-04-30 03:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bacb4c7f345b9735a86f3f38c95a8882b11c6b09', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 10, 'created': '2020-04-30 14:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/368aed4541b1d437c8266c1c65b1229e2a8f0c9c', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2020-04-30 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/907271016066aaa179a8e6974fe5760227f53330', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2020-04-30 16:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bd9db6ef2010617753425a72a5a9232acf8e548', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2020-04-30 18:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/297242899eb7709bdecc21ce99801bc2200c0700', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2020-04-30 20:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab6e90f1c40e8c651107181a0498c72620c61cbf', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2020-04-30 20:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c9063d550dd1486d395258d71f54beedbf1ce598', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2020-04-30 21:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d14b6f11d4530780dde0008270425caf6f073e46', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2020-04-30 22:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f6a39421ad84f6ea82f048d4a6d19584be88652', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2020-04-30 22:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f7b7d2afe2b13064c832ba5c5c1c7c3fe7ac32d', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2020-04-30 22:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9eed4c22790d9ae4f8163599ecfdc77147d97771', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 20, 'created': '2020-04-30 22:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6251b96370be811ea1e10b305d6b54032dcb89a2', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 21, 'created': '2020-05-01 15:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83df5701266fc34f153c91c1990b8a7e519bfac9', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 22, 'created': '2020-05-01 16:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30690099b76444c837226d202a1648bfb486db9f', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2020-05-01 16:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ecb127806453cd1a245e8e1a2d82df127490670', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2020-05-01 17:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e67a6404049e42de2528c5ecd9fd1b092f18a758', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2020-05-01 19:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c0477f3990ad1816cfc3abce5f9e3d901907c12a', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 26, 'created': '2020-05-01 19:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb60822b29fc82aec651a5f3907ef00f10b760e1', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2020-05-01 19:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4932140be3906c890adb6ebe4b43c72c0d40cece', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/724436\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2020-05-02 06:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e13e72fe19b3e5a4e3072169db0ccb05575becb6', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 29, 'created': '2020-05-04 02:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51240daa1ae18dbe36819555af245481e995adb2', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 30, 'created': '2020-05-04 21:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7cc32c954f312d0b96b4d6f3088cb626e68c052d', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 31, 'created': '2020-05-05 19:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4c3668c9f2952c7a276c8e8295844b946dd8a26', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 32, 'created': '2020-05-06 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92088ec7320ddce711a784bdd2748b04794c90c3', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDeoends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 33, 'created': '2020-05-06 16:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/188181faf17b12cef89ef6dfa2572dece9742be5', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 34, 'created': '2020-05-06 16:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c9782509939fc18bd7e42bf1259eb7128c6cfc3', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 35, 'created': '2020-05-06 16:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a695a0efcd2f4f30453cef8cf4ed2002c5b08b6e', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 36, 'created': '2020-05-06 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f59f369f0a4881b213f59ced4acfdd5dbdcb3a66', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 37, 'created': '2020-05-06 18:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/08f13373690b5c3823291e10d60f232038fe6320', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 38, 'created': '2020-05-06 22:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a341a568a5b238bb36742e0b567959e9942e2491', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 39, 'created': '2020-05-07 12:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/beda5420727311879f1b04cff4664371a23f1065', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 40, 'created': '2020-05-07 17:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/721915acd87177da49e8b9fdfce58126ce30453b', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 41, 'created': '2020-05-07 23:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/796d83e0fb4c35cfe47ee9cb3a22b506d9bb9660', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 42, 'created': '2020-05-08 15:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9400235b80acc12bf61e7be02aeb7714ffce1f42', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 43, 'created': '2020-05-08 17:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/94b88658335388f2245b7e84334f56b5524e1bfc', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 44, 'created': '2020-05-11 18:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8115a68b40f9a3559b1b31056ec048f105b51678', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 45, 'created': '2020-05-11 21:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ce51e4b39476f8e7492f872655e020ab31d9570', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 46, 'created': '2020-05-12 16:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f5b3c24e7b947cd4cfe4ead5676bdf97c5b59ce1', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 47, 'created': '2020-05-12 17:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f17715ac47ee90151be4fdab1685016e81e1f94', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 48, 'created': '2020-05-12 17:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c67072fde6ee38d1557360df370a747ea9acff0', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/723665\nDepends-On: https://review.opendev.org/725721\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 49, 'created': '2020-05-13 17:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6106b9a3f4195d1fdeab7493c57efbb0ab9b9832', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\n'}, {'number': 50, 'created': '2020-05-13 19:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a26219ac875077ee24574408ede9cc9c4cdb5c25', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 51, 'created': '2020-05-13 19:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/26ac0151adc25b0e1ed7b6afac380cfd4f359e4e', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 52, 'created': '2020-05-13 19:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/677408c73b39dde2372a8ba31d60a026489cd65b', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 53, 'created': '2020-05-13 20:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0578c546f037e69d858bf52409bbc0bac63b4d0d', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 54, 'created': '2020-05-13 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/de19d0fd99383356bd462dcdea14d0ade5c63d0d', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 55, 'created': '2020-05-14 16:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f01ea887205e0236907324481d1c1dbd59d9528e', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 56, 'created': '2020-05-15 14:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ce8093e34984e6829094d9997a0107e15c114ca', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 57, 'created': '2020-05-15 15:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70741594d8ad52600a4bcfb9a33a3d9d4beb03a0', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 58, 'created': '2020-05-18 16:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd926827e83c40ffb982c42e4990fa71fc3435b9', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 59, 'created': '2020-05-18 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eedcd17ef0eef510515a17b4a92a3c17a23ae21f', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 60, 'created': '2020-05-20 17:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f75e28ed5882381e747c350758f617b7bd4e90c4', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 61, 'created': '2020-05-20 18:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d12e776f359f39dfcaa0d274bf2d41ee040e2c2', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 62, 'created': '2020-05-20 20:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b98eaa636e04d42080e29f6ff256689fc0aba5c', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 63, 'created': '2020-05-21 14:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29bb7169881e433821cca668b16780e87520f160', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 64, 'created': '2020-05-21 21:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb3afb875bd14cb51a9a4a19e2b008fe6ecfac12', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 65, 'created': '2020-05-21 22:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/157b018cec0b13371aa2d828af47963a71338dcf', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 66, 'created': '2020-05-25 19:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a899fe3cfcb3cbbdfae9088a7b9b38e8e4458b6', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 67, 'created': '2020-05-27 13:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6be1ad21f5cd6d58d680c88b280ea3f0e14687f1', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 68, 'created': '2020-05-27 17:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/accf2470be1c049fac92577e3f09753744122303', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 69, 'created': '2020-06-04 03:23:13.000000000', 'files': ['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'bindep.txt', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v2/container_image/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c09e83744d5c98437db7b756c6cda52d7225d5e', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",54,724147,1c09e83744d5c98437db7b756c6cda52d7225d5e,189,7,69,3153,,,0,"Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Depends-On: https://review.opendev.org/722486

Change-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/724147/68 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/tripleo_container_image.py', 'setup.cfg']",2,e05823d33f42c09a33570f417c2972470817fb86,images/new, tripleo_container_image_build = tripleoclient.v2.tripleo_container_image:Build,,189,0
openstack%2Fglance~master~Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,openstack/glance,master,Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e,Make test-setup.sh compatible with mysql8,MERGED,2020-06-30 13:16:57.000000000,2020-07-03 13:31:32.000000000,2020-07-03 13:26:09.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-30 13:16:57.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/glance/commit/b220030070adbea0bd253dfa390218d30b047154', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e\nCo-written-by: Riccardo Pittau <elfosardo@gmail.com>\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,738615,b220030070adbea0bd253dfa390218d30b047154,10,5,1,11904,,,0,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia5a01089fe0eeb8fe0a1ec5a7cd0557835a46f9e
Co-written-by: Riccardo Pittau <elfosardo@gmail.com>
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/738615/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,b220030070adbea0bd253dfa390218d30b047154,fix-grant-mysql8," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fglance~stable%2Ftrain~I1aed6ba9054f8940d55e9fdb76bcd0615d00889c,openstack/glance,stable/train,I1aed6ba9054f8940d55e9fdb76bcd0615d00889c,"zuul: switch to the ""plain"" grenade job here too",MERGED,2020-07-02 14:37:02.000000000,2020-07-03 13:31:18.000000000,2020-07-03 13:26:08.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 14:37:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8abe20d520b977fa16f1e60e108530b2880bad92', 'message': 'zuul: switch to the ""plain"" grenade job here too\n\nThe native Zuulv3 grenade jobs have been recently backported\nto stable/train. Use them instead of the old neutron-grenade.\n\nChange-Id: I1aed6ba9054f8940d55e9fdb76bcd0615d00889c\n'}]",0,739056,8abe20d520b977fa16f1e60e108530b2880bad92,9,3,1,10459,,,0,"zuul: switch to the ""plain"" grenade job here too

The native Zuulv3 grenade jobs have been recently backported
to stable/train. Use them instead of the old neutron-grenade.

Change-Id: I1aed6ba9054f8940d55e9fdb76bcd0615d00889c
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/739056/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8abe20d520b977fa16f1e60e108530b2880bad92,native-zuulv3-migration), - grenade: - grenade:, - neutron-grenade: - neutron-grenade:,2,2
openstack%2Fplacement~master~Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be,openstack/placement,master,Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be,[Community goal] Update contributor documentation,MERGED,2020-04-17 08:05:48.000000000,2020-07-03 13:31:02.000000000,2020-07-03 13:26:06.000000000,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-04-17 08:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5ef8bfa35fd4c58e39c3fbb0953eb1fb3ab9e697', 'message': '[Community goal] Update contributor documentation\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be\n'}, {'number': 2, 'created': '2020-04-21 05:45:33.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/ae202d23099e11a6e636d750b076f20501b43acb', 'message': '[Community goal] Update contributor documentation\n\nThis patch updates the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be\n'}]",2,720654,ae202d23099e11a6e636d750b076f20501b43acb,14,4,2,25625,,,0,"[Community goal] Update contributor documentation

This patch updates the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: Ibe1a6a3281ae7ce9fc06293f94bc1fd44a3f63be
",git fetch https://review.opendev.org/openstack/placement refs/changes/54/720654/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst']",2,5ef8bfa35fd4c58e39c3fbb0953eb1fb3ab9e697,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/placement Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Storyboard: https://storyboard.openstack.org/#!/project/placement For more specific information about contributing to this repository, see the placement contributor guide: https://docs.openstack.org/placement/latest/contributor/contributing.html","If you would like to contribute to the development of the Placement service and have never developed for an offical OpenStack project before, you must follow the steps in this page to perform required setup: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack may be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow There is a growing suite of documentation for Placement contributors published at: https://docs.openstack.org/placement/latest/contributor/index.html Note that OpenStack does not use GitHub. Pull requests and issues submitted there will not be seen. Bugs should be filed on StoryBoard: https://storyboard.openstack.org/#!/project/openstack/placement",32,17
openstack%2Fproject-config~master~I77b91dd03a28f8960d7294c1ef086f4b46b02ccd,openstack/project-config,master,I77b91dd03a28f8960d7294c1ef086f4b46b02ccd,"Revert ""Create a new repository for Tobiko DevStack plugin""",ABANDONED,2020-07-02 10:22:35.000000000,2020-07-03 13:30:10.000000000,,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-02 10:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b94f498252625bab1ef263bfae4e8290026936e', 'message': 'Revert ""Create a new repository for Tobiko DevStack plugin""\n\nThis reverts commit c7ca7592a98b9b9e229f3e73521f5b12a4945a2e.\n\nThe project has been created with a mispelled name.\n\nChange-Id: I77b91dd03a28f8960d7294c1ef086f4b46b02ccd\n'}, {'number': 2, 'created': '2020-07-02 10:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae19583afb5d3f6a189ab91b724897825e11ee4f', 'message': 'Revert ""Create a new repository for Tobiko DevStack plugin""\n\nThis reverts commit c7ca7592a98b9b9e229f3e73521f5b12a4945a2e.\n\nThe project has been created with a mispelled name.\n\nChange-Id: I77b91dd03a28f8960d7294c1ef086f4b46b02ccd\n'}, {'number': 3, 'created': '2020-07-02 15:25:14.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/361e40a8a5301627821108add101f69ff4564e93', 'message': 'Revert ""Create a new repository for Tobiko DevStack plugin""\n\nThis reverts commit c7ca7592a98b9b9e229f3e73521f5b12a4945a2e.\n\nThe project has been created with a mispelled name.\n\nChange-Id: I77b91dd03a28f8960d7294c1ef086f4b46b02ccd\n'}]",0,739006,361e40a8a5301627821108add101f69ff4564e93,10,5,3,27329,,,0,"Revert ""Create a new repository for Tobiko DevStack plugin""

This reverts commit c7ca7592a98b9b9e229f3e73521f5b12a4945a2e.

The project has been created with a mispelled name.

Change-Id: I77b91dd03a28f8960d7294c1ef086f4b46b02ccd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/739006/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,7b94f498252625bab1ef263bfae4e8290026936e,devstack-plugin-tobiko,, - x/devstack-plugin-topiko,0,5
openstack%2Freleases~master~I0786e73160f0ecac604279c79334d4f697d0edde,openstack/releases,master,I0786e73160f0ecac604279c79334d4f697d0edde,os-traits: release 2.4.0,MERGED,2020-07-01 17:03:55.000000000,2020-07-03 12:46:56.000000000,2020-07-03 12:46:56.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12597}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 17:03:55.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8a58647338bbb96d4d3b7c59e94c02b0f7989b44', 'message': 'os-traits: release 2.4.0\n\nRelease os-traits 2.4.0 to pick up following fixes:\n  - Cleanup py27 support [1]\n  - CPU: add traits for new AVX512 support [2]\n  - Switch to newer openstackdocstheme and reno versions [3]\n  - Fix hacking min version to 3.0.1 [4]\n\n[1] 77bf79e2aaa02afdf3f70fa98af61aac563ab3e6\n[2] 066a2a972d2d5636c528630b16549e85ae0207c2\n[3] e32a13f13c16e64ea15e0041a3973c2adfa84ed7\n[4] 0cfd42e3a512ebcd85242cd65ba616d02fe07dae\n\nChange-Id: I0786e73160f0ecac604279c79334d4f697d0edde\n'}]",0,738898,8a58647338bbb96d4d3b7c59e94c02b0f7989b44,12,6,1,12597,,,0,"os-traits: release 2.4.0

Release os-traits 2.4.0 to pick up following fixes:
  - Cleanup py27 support [1]
  - CPU: add traits for new AVX512 support [2]
  - Switch to newer openstackdocstheme and reno versions [3]
  - Fix hacking min version to 3.0.1 [4]

[1] 77bf79e2aaa02afdf3f70fa98af61aac563ab3e6
[2] 066a2a972d2d5636c528630b16549e85ae0207c2
[3] e32a13f13c16e64ea15e0041a3973c2adfa84ed7
[4] 0cfd42e3a512ebcd85242cd65ba616d02fe07dae

Change-Id: I0786e73160f0ecac604279c79334d4f697d0edde
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/738898/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,8a58647338bbb96d4d3b7c59e94c02b0f7989b44,, - version: 2.4.0 projects: - repo: openstack/os-traits hash: 454292dbd22edd2e9565bfe790b74b91c068f2e6,,4,0
openstack%2Fironic-python-agent~stable%2Fussuri~I794c846fb191c15b0a30546bf64d624dfbde0fd4,openstack/ironic-python-agent,stable/ussuri,I794c846fb191c15b0a30546bf64d624dfbde0fd4,Increase the ESP partition size to 550 MiB when using software RAID,MERGED,2020-07-03 08:57:23.000000000,2020-07-03 12:36:18.000000000,2020-07-03 12:34:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-03 08:57:23.000000000', 'files': ['releasenotes/notes/raid-esp-size-2c322adb2d3b9ce7.yaml', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e69f1405515480efccb97e77c39dc4adba248b6e', 'message': 'Increase the ESP partition size to 550 MiB when using software RAID\n\nThis has been a popular guidance, and diskimage-builder has recently\nstarted following it.\n\nChange-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4\n(cherry picked from commit ba3caa6c644460a76518e6a0b1977b03516bc323)\n'}]",0,739184,e69f1405515480efccb97e77c39dc4adba248b6e,8,3,1,10239,,,0,"Increase the ESP partition size to 550 MiB when using software RAID

This has been a popular guidance, and diskimage-builder has recently
started following it.

Change-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4
(cherry picked from commit ba3caa6c644460a76518e6a0b1977b03516bc323)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/84/739184/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/raid-esp-size-2c322adb2d3b9ce7.yaml', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py']",5,e69f1405515480efccb97e77c39dc4adba248b6e,raid-size-stable/ussuri,from ironic_python_agent import raid_utils partsize_mib = raid_utils.ESP_SIZE_MIB, partsize_mib = 128,30,16
openstack%2Fmagnum~stable%2Fussuri~I34be042f7e664af69fd2892b0aa6a107fe017daf,openstack/magnum,stable/ussuri,I34be042f7e664af69fd2892b0aa6a107fe017daf,[ci] Fix gate by installing python3-docker,MERGED,2020-07-01 08:22:41.000000000,2020-07-03 12:33:32.000000000,2020-07-03 12:31:58.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 08:22:41.000000000', 'files': ['playbooks/container-builder-setup-gate.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e0fecc1dd37be5fb00ef1048ecbd52671f1f62a1', 'message': '[ci] Fix gate by installing python3-docker\n\nChange-Id: I34be042f7e664af69fd2892b0aa6a107fe017daf\n(cherry picked from commit b3936451cd01404fd3439ec0ae819f2cbfc40b78)\n'}]",0,738757,e0fecc1dd37be5fb00ef1048ecbd52671f1f62a1,8,3,1,28022,,,0,"[ci] Fix gate by installing python3-docker

Change-Id: I34be042f7e664af69fd2892b0aa6a107fe017daf
(cherry picked from commit b3936451cd01404fd3439ec0ae819f2cbfc40b78)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/738757/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-setup-gate.yaml'],1,e0fecc1dd37be5fb00ef1048ecbd52671f1f62a1,fix-gate-stable/ussuri, - name: Install python3-docker package: name: python3-docker, - name: Install dependencies pip: name: docker,3,3
openstack%2Fpython-magnumclient~master~Ia58a316235c96d36ee4cb8c1b012565ae2489f9c,openstack/python-magnumclient,master,Ia58a316235c96d36ee4cb8c1b012565ae2489f9c,Print response after issuing CA rotate request,MERGED,2020-06-25 02:52:25.000000000,2020-07-03 12:24:54.000000000,2020-07-03 12:22:17.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-25 02:52:25.000000000', 'files': ['magnumclient/osc/v1/certificates.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c010846179f58dab89d0eab99fc753388693aa78', 'message': 'Print response after issuing CA rotate request\n\nChange-Id: Ia58a316235c96d36ee4cb8c1b012565ae2489f9c\n'}]",0,737894,c010846179f58dab89d0eab99fc753388693aa78,8,3,1,6484,,,0,"Print response after issuing CA rotate request

Change-Id: Ia58a316235c96d36ee4cb8c1b012565ae2489f9c
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/94/737894/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/certificates.py'],1,c010846179f58dab89d0eab99fc753388693aa78,print-resp-ca-rotate," print(""Request to rotate the CA certificate for cluster %s "" ""has been accepted."" % cluster.uuid)",,2,0
openstack%2Fpython-magnumclient~master~I6c615697a732566290418ea3a3dd3263cb817fb8,openstack/python-magnumclient,master,I6c615697a732566290418ea3a3dd3263cb817fb8,"Show cluster fixed_network, fixed_subnet, floating_ip_enabled",MERGED,2020-07-01 11:00:06.000000000,2020-07-03 12:21:37.000000000,2020-07-03 12:19:44.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 11:00:06.000000000', 'files': ['magnumclient/osc/v1/clusters.py', 'magnumclient/tests/osc/unit/v1/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/7ecbab5dbf7ac04164af604b8d3745feeff1056a', 'message': 'Show cluster fixed_network, fixed_subnet, floating_ip_enabled\n\nSince we are able to override the values in cluster scope, we should be\nable to see them too.\n\nStory: 2006208\nTask: 40254\n\nChange-Id: I6c615697a732566290418ea3a3dd3263cb817fb8\n'}]",0,738789,7ecbab5dbf7ac04164af604b8d3745feeff1056a,8,3,1,28022,,,0,"Show cluster fixed_network, fixed_subnet, floating_ip_enabled

Since we are able to override the values in cluster scope, we should be
able to see them too.

Story: 2006208
Task: 40254

Change-Id: I6c615697a732566290418ea3a3dd3263cb817fb8
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/89/738789/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/osc/v1/clusters.py', 'magnumclient/tests/osc/unit/v1/fakes.py']",2,7ecbab5dbf7ac04164af604b8d3745feeff1056a,," 'fixed_network': 'fixed-network', 'fixed_subnet': 'fixed-subnet', 'floating_ip_enabled': True,",,6,0
openstack%2Fcinder~master~I05915f2e32b1229ad320cd1c5748de3d63183b91,openstack/cinder,master,I05915f2e32b1229ad320cd1c5748de3d63183b91,Default volume_type set too early,MERGED,2020-05-22 03:44:19.000000000,2020-07-03 12:15:53.000000000,2020-07-01 06:45:13.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 28948}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-05-22 03:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/868c27ea9bfcf30dd39d4127e72b90e557025e1f', 'message': ""WIP: default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nAdditionally, the volume and snapshot OVOs currently set the\nvolume_type_id to the default type on object creation if a type\nisn't specified.\n\nComplicating this is change I47ff8115ae74e1a7ad41869159871ba614c388ac\nin Ussuri, which makes the volume_type_id column in the volumes table\nnon-nullable; hence the OVO representing the volume under creation\ncannot be saved unless it has a volume_type.\n\nSo we either have to do some database changes or move the volume_type\nselection logic into the REST API layer (which I don't like because\nthe ExtractVolumeRequestTask is the appropriate place for it).\n\nThis patch takes the latter approach, but it doesn't contain any\ndatabase changes yet.  I wanted to get some feedback first.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n""}, {'number': 2, 'created': '2020-05-22 21:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2049b1882c267d0994d998341fd84a508338e49', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 3, 'created': '2020-05-22 21:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbf82de9fb8495775ca6956e05c68c9ca4be78ea', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 4, 'created': '2020-05-26 01:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4edc3f365bd76eb4ad26a980a6b4eee592ee38e', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 5, 'created': '2020-05-26 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61d4ab454a605f1c0f316a12047dabfb0d3923d2', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 6, 'created': '2020-05-28 13:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbc2078cf1b1be9109aa6a9492190cba6a321a4d', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 7, 'created': '2020-06-11 20:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb002799923492023d227ffc3b4528608827002e', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that functions, and\nadds some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 8, 'created': '2020-06-19 21:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9d7685eb990ba7f2458a383020fbbbcd4bf163c', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that function, and\nadds and revises some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 9, 'created': '2020-06-20 01:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/594f2e61f0c02e1a4a27f969862e8ed08bafd33b', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that function, and\nadds and revises some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}, {'number': 10, 'created': '2020-06-24 21:07:48.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/test_volumes.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/api/v2/volumes.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/unit/volume/flows/api/test_create_volume.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/volume/flows/api/__init__.py', 'releasenotes/notes/bug-1879578-volume_type-regression-de82f4152c7b2f77.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/674c8e7286999bb6408291de1dc6395aac2b04b1', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that function, and\nadds and revises some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n'}]",28,730183,674c8e7286999bb6408291de1dc6395aac2b04b1,289,41,10,5314,,,0,"Default volume_type set too early

If a volume_type is not specified in a volume-create request, change
I4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a
default volume_type in the REST API layer.  This prevents the
selection logic in cinder.volume.flows.api.create_volume.
ExtractVolumeRequestTask from being able to infer the appropriate
volume_type from the source volume, snapshot, or image metadata, and
has caused a regression where the created volume is of the default
type instead of the inferred type.

This patch removes setting the default volume_type in the REST API
and modifies the selection code in ExtractVolumeRequestTask slightly
to make sure a volume_type is always assigned in that function, and
adds and revises some tests.

Change-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91
Closes-bug: #1879578
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/730183/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/test_volumes.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'api-ref/source/v3/samples/volumes/volume-update-response.json', 'cinder/api/v3/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'cinder/objects/snapshot.py', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/api/v2/volumes.py', 'cinder/objects/volume.py', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'cinder/tests/unit/volume/flows/api/test_create_volume.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/volume/flows/api/__init__.py']",20,868c27ea9bfcf30dd39d4127e72b90e557025e1f,bug/1879578,,,297,68
openstack%2Ftripleo-heat-templates~master~Ifb44c70e8becc94453b0c086858985d76b2455a6,openstack/tripleo-heat-templates,master,Ifb44c70e8becc94453b0c086858985d76b2455a6,"Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module",ABANDONED,2020-06-23 19:11:00.000000000,2020-07-03 12:14:05.000000000,,"[{'_account_id': 6796}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-23 19:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0996d12b74022c8f1fc65f3f6d596649d4b47b3d', 'message': 'WIP: Forcibly unmount Glance NFS locations\n\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}, {'number': 2, 'created': '2020-06-24 10:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c582fd540af8fa0281cc65bd511d806650f70e8', 'message': 'Forcibly unmount Glance NFS paths\n\nAnsible ""mount"" module tries to refresh the mounted paths using\n\'-o remount\' [1] which isn\'t sufficient to refresh the NFS mount\noptions.\n\nThis change forcibly unmounts the Glance NFS paths before using\nthe ""mount"" module to refresh the mount options and ultimately\nmount again the path.\n\n1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417\n\nCloses-bug: 1884926\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}, {'number': 3, 'created': '2020-06-24 14:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e82cdb447fc30f800d00b0c79b26d949cbfc47a0', 'message': 'Forcibly unmount Glance NFS paths\n\nAnsible ""mount"" module tries to refresh the mounted paths using\n\'-o remount\' [1] which isn\'t sufficient to refresh the NFS mount\noptions.\n\nThis change forcibly unmounts the Glance NFS paths before using\nthe ""mount"" module to refresh the mount options and ultimately\nmount again the path.\n\n1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417\n\nCloses-bug: 1884926\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}, {'number': 4, 'created': '2020-06-29 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e7cff35269872ddd9383c4e3185b6f352443aec', 'message': 'Forcibly unmount Glance NFS paths\n\nAnsible ""mount"" module tries to refresh the mounted paths using\n\'-o remount\' [1] which isn\'t sufficient to refresh the NFS mount\noptions.\n\nThis change forcibly unmounts the Glance NFS paths before using\nthe ""mount"" module to refresh the mount options and ultimately\nmount again the path.\n\n1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417\n\nCloses-bug: 1884926\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}, {'number': 5, 'created': '2020-07-01 13:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8dd47884c6cb80c61c3ce5e924565d2b4eee763', 'message': 'Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module\n\nAnsible ""mount"" module tries to refresh the mounted paths using\n\'-o remount\' [1] which isn\'t sufficient to refresh the NFS mount\noptions.\n\nThis change forcibly unmounts the Glance NFS paths before using\nthe ""mount"" module to refresh the mount options and ultimately\nmount again the path.\n\n1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417\n\nCloses-bug: 1884926\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}, {'number': 6, 'created': '2020-07-01 13:21:08.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb63c0d9c2d4d1bd023942deb78cad047894e917', 'message': 'Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module\n\nAnsible ""mount"" module tries to refresh the mounted paths using\n\'-o remount\' [1] which isn\'t sufficient to refresh the NFS mount\noptions.\n\nThis change forcibly unmounts the Glance NFS paths before using\nthe ""mount"" module to refresh the mount options and ultimately\nmount again the path.\n\n1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417\n\nCloses-bug: 1884926\nChange-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6\n'}]",4,737607,bb63c0d9c2d4d1bd023942deb78cad047894e917,26,10,6,6796,,,0,"Unmount Glance NFS paths in host_prep_tasks before using ""mount"" module

Ansible ""mount"" module tries to refresh the mounted paths using
'-o remount' [1] which isn't sufficient to refresh the NFS mount
options.

This change forcibly unmounts the Glance NFS paths before using
the ""mount"" module to refresh the mount options and ultimately
mount again the path.

1. https://github.com/ansible/ansible/blob/stable-2.9/lib/ansible/modules/system/mount.py#L417

Closes-bug: 1884926
Change-Id: Ifb44c70e8becc94453b0c086858985d76b2455a6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/737607/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,0996d12b74022c8f1fc65f3f6d596649d4b47b3d,, - - name: Umount NFS # ansible state=mounted is using -o remount which isn't sufficient for NFS command: /bin/umount /var/lib/glance/images ignore_errors: yes - name: Mount NFS on host - name: Umount Node Staging Location # ansible state=mounted is using -o remount which isn't sufficient for NFS command: /bin/umount {{glance_node_staging_uri[7:]}} ignore_errors: yes, - - name: Mount NFS on host,9,1
openstack%2Fpython-tripleoclient~master~I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,openstack/python-tripleoclient,master,I994353a6d4aa6b72e9fecc5f61bf5314a5a94963,Don't use stack name in default config_download_dir,MERGED,2020-06-24 03:04:49.000000000,2020-07-03 11:49:31.000000000,2020-07-03 11:30:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 19138}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-24 03:04:49.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1', 'message': ""Don't use stack name in default config_download_dir\n\nWe create a subfolder with the plan/stack name under the\nconfig_download_dir to store the config-downloaded artifacts.\nFix 'overcloud export' as users are not expected to specify\nthe path with the plan/stack name.\n\nChange-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963\nRelated-Bug: #1884246\n""}]",0,737671,e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1,25,8,1,8833,,,0,"Don't use stack name in default config_download_dir

We create a subfolder with the plan/stack name under the
config_download_dir to store the config-downloaded artifacts.
Fix 'overcloud export' as users are not expected to specify
the path with the plan/stack name.

Change-Id: I994353a6d4aa6b72e9fecc5f61bf5314a5a94963
Related-Bug: #1884246
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/737671/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py']",2,e4d9bb17be805ae7bbb844f65c9f28d4d22b44e1,, '$HOME/config-download')) 'config-download')," '$HOME/config-download/<stack>')) 'config-download', parsed_args.stack)",4,5
openstack%2Fneutron-vpnaas~master~Ie606ceb108852ed90baa9bbb0aa609dd58933a42,openstack/neutron-vpnaas,master,Ie606ceb108852ed90baa9bbb0aa609dd58933a42,Add Ussuri milestone tag for alembic migration revisions,MERGED,2020-05-12 10:48:00.000000000,2020-07-03 11:44:16.000000000,2020-07-03 11:41:42.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-12 10:48:00.000000000', 'files': ['neutron_vpnaas/db/migration/alembic_migrations/versions/pike/expand/95601446dbcc_add_flavor_id_to_vpnservices.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/rocky/contract/e50641731f1a_drop_cisco_csr_identifier_map_table.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/531e0262c330eb18a0b9f450e71c5866963e088a', 'message': 'Add Ussuri milestone tag for alembic migration revisions\n\nAllows neutron-db-manage to upgrade the schema to a\nmilestone release. We missed this for many releases.\n\nhttps://docs.openstack.org/neutron/latest/contributor/alembic_migrations.html\n\nChange-Id: Ie606ceb108852ed90baa9bbb0aa609dd58933a42\n'}]",0,727156,531e0262c330eb18a0b9f450e71c5866963e088a,14,6,1,12860,,,0,"Add Ussuri milestone tag for alembic migration revisions

Allows neutron-db-manage to upgrade the schema to a
milestone release. We missed this for many releases.

https://docs.openstack.org/neutron/latest/contributor/alembic_migrations.html

Change-Id: Ie606ceb108852ed90baa9bbb0aa609dd58933a42
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/56/727156/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/db/migration/alembic_migrations/versions/pike/expand/95601446dbcc_add_flavor_id_to_vpnservices.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/rocky/contract/e50641731f1a_drop_cisco_csr_identifier_map_table.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py']",3,531e0262c330eb18a0b9f450e71c5866963e088a,ussuri_db,"neutron_milestone = [migration.NEWTON, migration.OCATA, migration.PIKE, migration.QUEENS]","neutron_milestone = [migration.NEWTON, migration.OCATA, migration.PIKE]",10,2
openstack%2Fcinder~master~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,master,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cindelib functional tests,MERGED,2020-06-26 20:12:29.000000000,2020-07-03 11:21:24.000000000,2020-07-02 03:57:16.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-06-26 20:12:29.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9019679b3d7ea252d9d6b0aeef6b69167f051af', 'message': 'Disable siblings for the cindelib functional tests\n\nFollow the same pattern of the other jobs which deploy devstack\nbut runs also functional tests (see devtack-tox-functional\nand devstack-tox-functional-consumer).\n\nWithout this, the older branches where cinderlib functional tests\nuse Python 2 (stein, and soon train when that is branched) fails\nbecause they try to install packages part of which are Python 3\nonly.\n\nThe same change was applied to the branchless jobs defined\ninside cinder-tempest-plugins: https://review.opendev.org/738078/\n\nChange-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2\n'}]",0,738273,f9019679b3d7ea252d9d6b0aeef6b69167f051af,77,29,1,10459,,,0,"Disable siblings for the cindelib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/738273/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,f9019679b3d7ea252d9d6b0aeef6b69167f051af,fix-ceph-cinderlib-tests, tox_install_siblings: false,,1,0
openstack%2Fcharm-glance-simplestreams-sync~master~I36e3faa4c202ded602620aa606ce6c13d9ab699a,openstack/charm-glance-simplestreams-sync,master,I36e3faa4c202ded602620aa606ce6c13d9ab699a,Test using Ceph RADOS Gateway,MERGED,2020-06-18 14:14:33.000000000,2020-07-03 11:21:21.000000000,2020-07-03 11:21:21.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 14:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9c9f001c86290895b9820f7ed5fa6c5278f06d6f', 'message': 'WIP: Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch a test to use this approach.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\n'}, {'number': 2, 'created': '2020-06-22 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/47716ea20aa43de6955f320faea3a79b0558f1cf', 'message': 'WIP: Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch a test to use this approach.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\n'}, {'number': 3, 'created': '2020-06-22 12:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/ae001f780123849f17530445f5157d9e4081e214', 'message': 'WIP: Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch a test to use this approach.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335\n'}, {'number': 4, 'created': '2020-06-30 08:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/ba02a1424866e4b97e087dac18cf04596558031f', 'message': 'Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch all tests to use this approach.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335\n'}, {'number': 5, 'created': '2020-06-30 09:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3fca5120e79823ff4f557884cacf7754e001caaf', 'message': 'Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch all tests to use this approach and refresh all bundles\nto be consistent in layout.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335\n'}, {'number': 6, 'created': '2020-06-30 15:20:41.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/4925c3573b150e71aa22b5b31e63fb415aa025c2', 'message': 'Test using Ceph RADOS Gateway\n\nUsing a swift endpoint to store simplestreams data is more\ntypical than using the webserver on the gss charm itself.\n\nSwitch all tests to use this approach and refresh all bundles\nto be consistent in layout.\n\nChange-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335\n'}]",0,736728,4925c3573b150e71aa22b5b31e63fb415aa025c2,43,4,6,935,,,0,"Test using Ceph RADOS Gateway

Using a swift endpoint to store simplestreams data is more
typical than using the webserver on the gss charm itself.

Switch all tests to use this approach and refresh all bundles
to be consistent in layout.

Change-Id: I36e3faa4c202ded602620aa606ce6c13d9ab699a
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/335
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/28/736728/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/bionic-ussuri.yaml'],1,9c9f001c86290895b9820f7ed5fa6c5278f06d6f,add-rgw-testing,"options: source: &source cloud:bionic-ussuri '5': '6': constraints: ""mem=2048"" '7': constraints: ""mem=2048"" '8': constraints: ""mem=2048"" '9': '10': '11': - ['ceph-osd:mon', 'ceph-mon:osd'] - ['ceph-radosgw:mon', 'ceph-mon:radosgw'] - ['ceph-radosgw:identity-service', 'keystone:identity-service'] - ['ceph-radosgw:certificates', 'vault:certificates'] openstack-origin: *source openstack-origin: *source ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *source to: - '5' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '6' - '7' - '8' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '9' - '10' - '11'", openstack-origin: cloud:bionic-ussuri openstack-origin: cloud:bionic-ussuri options: use_swift: False,46,4
openstack%2Fpuppet-tripleo~master~I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace,openstack/puppet-tripleo,master,I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace,Include neutron::db,MERGED,2020-06-30 10:30:31.000000000,2020-07-03 11:01:57.000000000,2020-07-03 11:01:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1fbab27e879e075528f1f69a2bba51d696f90fce', 'message': 'Include neutron::db\n\nSee [1] also need to move database_connection in THT [2]\nto neutron::db::database_connection.\n\n[1] https://review.opendev.org/#/c/737497/\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/neutron/neutron-api-container-puppet.yaml#L263\n\nChange-Id: I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace\n'}, {'number': 2, 'created': '2020-07-01 07:52:25.000000000', 'files': ['manifests/profile/base/neutron/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be2550f662e25d744dd6a68c417540f87e945188', 'message': 'Include neutron::db\n\nSee [1] also need to move database_connection in THT [2]\nto neutron::db::database_connection.\n\n[1] https://review.opendev.org/#/c/737497/\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/neutron/neutron-api-container-puppet.yaml#L263\n\nChange-Id: I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace\n'}]",0,738578,be2550f662e25d744dd6a68c417540f87e945188,11,4,2,16137,,,0,"Include neutron::db

See [1] also need to move database_connection in THT [2]
to neutron::db::database_connection.

[1] https://review.opendev.org/#/c/737497/
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/neutron/neutron-api-container-puppet.yaml#L263

Change-Id: I6d6c8e52e37fb1cce4cd6cf1ac9d0b8e20151ace
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/738578/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/server.pp'],1,1fbab27e879e075528f1f69a2bba51d696f90fce,, include neutron::db,,1,0
openstack%2Fopenstack-ansible~master~Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac,openstack/openstack-ansible,master,Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac,Bump SHAs for master,MERGED,2020-06-28 15:27:22.000000000,2020-07-03 10:56:31.000000000,2020-07-03 10:53:09.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-28 15:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5fcd7b5323cc9323499b900c3a831f634fb53486', 'message': 'Bump SHAs for master\n\nChange-Id: Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac\n'}, {'number': 2, 'created': '2020-07-01 12:07:03.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/cinder_active_active_cluster-62674205a3259902.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a31cdb5ad401cead84f022e409a463fc329fe5d', 'message': 'Bump SHAs for master\n\nChange-Id: Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac\n'}]",0,738358,6a31cdb5ad401cead84f022e409a463fc329fe5d,30,5,2,28619,,,0,"Bump SHAs for master

Change-Id: Ie68741eddf6fd4a277b5ead823d89aeb09e2c0ac
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/738358/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/cinder_active_active_cluster-62674205a3259902.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",5,5fcd7b5323cc9323499b900c3a831f634fb53486,bump_osa,tempest_git_install_branch: fdde1314db23e907159ad1288a6189aa0e577abf # HEAD as of 28.06.2020,tempest_git_install_branch: a0ee8b4ccfc512a09e1ddb135950b767110aae9b # HEAD as of 14.06.2020,56,50
openstack%2Fstorlets~master~Ib837a4dc71b8d758a81d453c26d251a16aa72394,openstack/storlets,master,Ib837a4dc71b8d758a81d453c26d251a16aa72394,Small cleanups,MERGED,2020-06-09 10:02:54.000000000,2020-07-03 10:51:06.000000000,2020-07-03 10:47:59.000000000,"[{'_account_id': 4608}, {'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:02:54.000000000', 'files': ['babel.cfg', 'openstack-common.conf', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/46a90854f64142e5497c5654941b00c93dc9a730', 'message': 'Small cleanups\n\n* Remove obsolete translation entries from setup.cfg\n* Remove obsolete files babel.cfg and openstack-common.conf\n* Remove install_command from tox.ini, the default is fine.\n* Replace obsolete UPPER_CONSTRAINTS_FILE with current\n  TOX_CONSTRAINTS_FILE.\n\nChange-Id: Ib837a4dc71b8d758a81d453c26d251a16aa72394\n'}]",1,734527,46a90854f64142e5497c5654941b00c93dc9a730,12,4,1,6547,,,0,"Small cleanups

* Remove obsolete translation entries from setup.cfg
* Remove obsolete files babel.cfg and openstack-common.conf
* Remove install_command from tox.ini, the default is fine.
* Replace obsolete UPPER_CONSTRAINTS_FILE with current
  TOX_CONSTRAINTS_FILE.

Change-Id: Ib837a4dc71b8d758a81d453c26d251a16aa72394
",git fetch https://review.opendev.org/openstack/storlets refs/changes/27/734527/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'openstack-common.conf', 'setup.cfg', 'tox.ini']",4,46a90854f64142e5497c5654941b00c93dc9a730,cleanup,minversion = 3.2.0ignore_basepython_conflict = True -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},minversion = 2.0install_command = pip install -U {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,25
openstack%2Fceilometer~master~I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6,openstack/ceilometer,master,I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6,Drop undefined doc config path,MERGED,2020-06-09 09:43:59.000000000,2020-07-03 10:23:47.000000000,2020-07-03 10:20:52.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:43:59.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9c141d7db2ee8ac5e2c9d43a71054b7f45ab972d', 'message': ""Drop undefined doc config path\n\nhtml_static_path doesn't exist and the following warning is present in\nlogs:\n\n```\nWARNING: html_static_path entry '_static' does not exist\n```\n\nThese changes drop this config.\n\nChange-Id: I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6\n""}]",0,734486,9c141d7db2ee8ac5e2c9d43a71054b7f45ab972d,13,5,1,28522,,,0,"Drop undefined doc config path

html_static_path doesn't exist and the following warning is present in
logs:

```
WARNING: html_static_path entry '_static' does not exist
```

These changes drop this config.

Change-Id: I5ca35d1658c8734dd74d1c4dd16a8516f16c39b6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/734486/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9c141d7db2ee8ac5e2c9d43a71054b7f45ab972d,drop_mock,#html_static_path = ['_static'],html_static_path = ['_static'],1,1
openstack%2Fcharm-neutron-gateway~master~I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d,openstack/charm-neutron-gateway,master,I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d,Add disable-neutron-lbaas option,MERGED,2020-06-29 16:43:03.000000000,2020-07-03 10:21:08.000000000,2020-07-03 10:21:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28510}]","[{'number': 1, 'created': '2020-06-29 16:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/660adc59b839470585ee10ad53e9548ffcfe1b59', 'message': 'Add disable-neutron-lbaas option:\n\nSince Rocky, Octavia is a valid alternative\nas LBaaS. If enabled, we should not configure\nNeutron LBaaS(v2) agent at the same time.\n\nThe fact that we configure both means neutron-\nlbaas-agent will generate messages on rabbitmq\nwhich never gets consumed; creating alarms on\nNRPE without any actual issues.\n\nThis change introduces an option to disable\nneutron LBaaS solution. Once activated, it masks\nlbaas agent service.\n\nChange-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d\nCloses-Bug: #1825906\n'}, {'number': 2, 'created': '2020-06-29 16:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ddee40f15997d019caf373010e6fcb2c2098822e', 'message': 'Add disable-neutron-lbaas option:\n\nSince Rocky, Octavia is a valid alternative as LBaaS.\nIf enabled, we should not configure Neutron LBaaS(v2)\nagent at the same time.\n\nThe fact that we configure both means neutron-lbaas-agent\nwill generate messages on rabbitmq which never gets consumed\nand creating alarms on NRPE without any actual issues.\n\nThis change introduces an option to disable neutron LBaaS\nsolution. Once activated, it masks lbaas agent service.\n\nChange-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d\nCloses-Bug: #1825906\n'}, {'number': 3, 'created': '2020-06-29 16:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9462a6af3f0c00f108b75e68b40261d6d91a4249', 'message': 'Add disable-neutron-lbaas option:\n\nSince Rocky, Octavia is a valid alternative as LBaaS.\nIf enabled, we should not configure Neutron LBaaS(v2)\nagent at the same time.\n\nThe fact that we configure both means neutron-lbaas-agent\nwill generate messages on rabbitmq which never gets consumed\nand creating alarms on NRPE without any actual issues.\n\nThis change introduces an option to disable neutron LBaaS\nsolution. Once activated, it masks lbaas agent service.\n\nChange-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d\nCloses-Bug: #1825906\n'}, {'number': 4, 'created': '2020-06-30 19:47:44.000000000', 'files': ['unit_tests/test_neutron_hooks.py', 'unit_tests/test_neutron_utils.py', 'config.yaml', 'hooks/neutron_utils.py', 'hooks/neutron_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/86eb58317fc1d28dccc76e201ddff2c9f5fd1235', 'message': 'Add disable-neutron-lbaas option\n\nSince Rocky, Octavia is a valid alternative as LBaaS.\nIf enabled, we should not configure Neutron LBaaS(v2)\nagent at the same time.\n\nThe fact that we configure both means neutron-lbaas-agent\nwill generate messages on rabbitmq which never gets consumed\nand creating alarms on NRPE without any actual issues.\n\nThis change introduces an option to disable neutron LBaaS\nsolution. Once activated, it masks lbaas agent service.\n\nChange-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d\nCloses-Bug: #1825906\n'}]",2,738477,86eb58317fc1d28dccc76e201ddff2c9f5fd1235,21,4,4,28510,,,0,"Add disable-neutron-lbaas option

Since Rocky, Octavia is a valid alternative as LBaaS.
If enabled, we should not configure Neutron LBaaS(v2)
agent at the same time.

The fact that we configure both means neutron-lbaas-agent
will generate messages on rabbitmq which never gets consumed
and creating alarms on NRPE without any actual issues.

This change introduces an option to disable neutron LBaaS
solution. Once activated, it masks lbaas agent service.

Change-Id: I10c4cc2983245efb5bef3d7cbc8e3b6963448a7d
Closes-Bug: #1825906
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/77/738477/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_hooks.py', 'unit_tests/test_neutron_utils.py', 'config.yaml', 'hooks/neutron_utils.py', 'hooks/neutron_hooks.py']",5,660adc59b839470585ee10ad53e9548ffcfe1b59,bug/1825906," remove_legacy_neutron_lbaas, disable_neutron_lbaas, # LP #1825906: prefer to install the lbaas package and then mask it # instead of checking if we need to install that package on each # config-changed hook if disable_neutron_lbaas(): remove_legacy_neutron_lbaas() if disable_neutron_lbaas(): remove_legacy_neutron_lbaas()",,148,8
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id6f612a91255b3158be821c363ca852c6b5d7496,openstack/tripleo-heat-templates,stable/ussuri,Id6f612a91255b3158be821c363ca852c6b5d7496,Add new parameter PublicTLSCACert,MERGED,2020-06-29 20:43:42.000000000,2020-07-03 09:53:03.000000000,2020-07-03 09:50:42.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-29 20:43:42.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'environments/public-tls-undercloud.yaml', 'environments/ssl/enable-tls.yaml', 'releasenotes/notes/add-publictlscafile-parameter-0fd9c19dcd20be0b.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48940849b438dc33ac7f0b945a7989e6a04455a5', 'message': ""Add new parameter PublicTLSCACert\n\nWe've been using InternalTLSCAFile parameter when enabling\npublic TLS for undercloud and is quite confusing. We recently\nchanged to use it in clouds.yaml and it would break when\nboth public and internal TLS are enabled for overcloud and both\nuse different CA certs. This adds a new parameter which we\nwill use in clouds.yaml, that would default to empty string\nassuming that the certificates are trusted.\n\nCloses-Bug: #1883818\nChange-Id: Id6f612a91255b3158be821c363ca852c6b5d7496\nDepends-On: https://review.opendev.org/737998\n(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)\n""}]",0,738506,48940849b438dc33ac7f0b945a7989e6a04455a5,11,7,1,11589,,,0,"Add new parameter PublicTLSCACert

We've been using InternalTLSCAFile parameter when enabling
public TLS for undercloud and is quite confusing. We recently
changed to use it in clouds.yaml and it would break when
both public and internal TLS are enabled for overcloud and both
use different CA certs. This adds a new parameter which we
will use in clouds.yaml, that would default to empty string
assuming that the certificates are trusted.

Closes-Bug: #1883818
Change-Id: Id6f612a91255b3158be821c363ca852c6b5d7496
Depends-On: https://review.opendev.org/737998
(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/738506/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'environments/public-tls-undercloud.yaml', 'environments/ssl/enable-tls.yaml', 'releasenotes/notes/add-publictlscafile-parameter-0fd9c19dcd20be0b.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",6,48940849b438dc33ac7f0b945a7989e6a04455a5,, PublicTLSCAFile: default: '' services in the public network. - {get_param: PublicTLSCAFile}, InternalTLSCAFile: default: '/etc/ipa/ca.crt' services in the internal network. - {get_param: InternalTLSCAFile},15,16
openstack%2Fkolla-ansible~master~Ib7716e2015796168fde130542aed7574bb01349b,openstack/kolla-ansible,master,Ib7716e2015796168fde130542aed7574bb01349b,Test HAproxy in multinode,ABANDONED,2018-12-13 19:11:01.000000000,2020-07-03 09:42:50.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-12-13 19:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9bcbc4ef5d6dc41be8448e66bacebc8dcecbbd7', 'message': 'Test HAproxy in multinode\n\nChange-Id: Ib7716e2015796168fde130542aed7574bb01349b\n'}, {'number': 2, 'created': '2019-07-09 07:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3dcf5f849413fb176af65704fbe281225ea0f8b', 'message': 'Test HAproxy in multinode\n\nChange-Id: Ib7716e2015796168fde130542aed7574bb01349b\n'}, {'number': 3, 'created': '2019-07-09 07:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68783f2bfbdb9f616a66056842cea859ef8f6ad3', 'message': 'Test HAproxy in multinode\n\nChange-Id: Ib7716e2015796168fde130542aed7574bb01349b\n'}, {'number': 4, 'created': '2019-07-15 10:53:16.000000000', 'files': ['tests/get_logs.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ceaedfffa083528867ee54bbb5135463d3ddaf85', 'message': 'Test HAproxy in multinode\n\nChange-Id: Ib7716e2015796168fde130542aed7574bb01349b\n'}]",4,625088,ceaedfffa083528867ee54bbb5135463d3ddaf85,22,4,4,19316,,,0,"Test HAproxy in multinode

Change-Id: Ib7716e2015796168fde130542aed7574bb01349b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/625088/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/get_logs.sh', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml']",3,e9bcbc4ef5d6dc41be8448e66bacebc8dcecbbd7,test-haproxy,# templates: # - openstack-python-jobs # - openstack-python35-jobs # - openstack-python36-jobs # - openstack-cover-jobs # - check-requirements # - publish-openstack-docs-pti # - release-notes-jobs-python3 # - deploy-guide-jobs# - kolla-ansible-centos-source # - kolla-ansible-ubuntu-source # - kolla-ansible-oraclelinux-source # - kolla-ansible-ubuntu-source-ceph# - kolla-ansible-oraclelinux-source-ceph # - kolla-ansible-bifrost-centos-source: # files: ^ansible\/roles\/bifrost\/.* # - kolla-ansible-ubuntu-source-zun: # files: ^ansible\/roles\/zun\/.* # - openstack-tox-lower-constraints, templates: - openstack-python-jobs - openstack-python35-jobs - openstack-python36-jobs - openstack-cover-jobs - check-requirements - publish-openstack-docs-pti - release-notes-jobs-python3 - deploy-guide-jobs - kolla-ansible-centos-source - kolla-ansible-ubuntu-source - kolla-ansible-oraclelinux-source - kolla-ansible-ubuntu-source-ceph - kolla-ansible-oraclelinux-source-ceph - kolla-ansible-bifrost-centos-source: files: ^ansible\/roles\/bifrost\/.* - kolla-ansible-ubuntu-source-zun: files: ^ansible\/roles\/zun\/.* - openstack-tox-lower-constraints,36,21
openstack%2Fneutron-vpnaas~master~I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe,openstack/neutron-vpnaas,master,I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe,Fix functional gate failure,MERGED,2020-06-29 13:47:40.000000000,2020-07-03 09:41:48.000000000,2020-07-03 09:40:02.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 13:47:40.000000000', 'files': ['tools/configure_for_vpn_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d4ef9c04ff03840665f5a47a421ae842db551264', 'message': 'Fix functional gate failure\n\nUsing command pip3 for python3-pip package.\n\nChange-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe\n'}]",0,738449,d4ef9c04ff03840665f5a47a421ae842db551264,9,5,1,12860,,,0,"Fix functional gate failure

Using command pip3 for python3-pip package.

Change-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/49/738449/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_vpn_func_testing.sh'],1,d4ef9c04ff03840665f5a47a421ae842db551264,fix_func_gate_error, sudo pip3 install --force oslo.config, sudo pip install --force oslo.config,1,1
openstack%2Fpython-magnumclient~master~I59ad158753f25a56219ecaa5a55dd3f0ae67965a,openstack/python-magnumclient,master,I59ad158753f25a56219ecaa5a55dd3f0ae67965a,Support master_lb_enabled when creating cluster,MERGED,2020-07-02 02:22:57.000000000,2020-07-03 09:36:08.000000000,2020-07-03 09:34:09.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-07-02 02:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/1647a4946f0d1ca869bcf42197068143524d31b8', 'message': 'Support master_lb_enabled when creating cluster\n\nTask: 40263\nStory: 2007634\n\nChange-Id: I59ad158753f25a56219ecaa5a55dd3f0ae67965a\n'}, {'number': 2, 'created': '2020-07-02 02:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/327571e5321b0bdd4e57fadcfea9b498c6857830', 'message': 'Support master_lb_enabled when creating cluster\n\nTask: 40263\nStory: 2007634\n\nChange-Id: I59ad158753f25a56219ecaa5a55dd3f0ae67965a\n'}, {'number': 3, 'created': '2020-07-03 02:05:44.000000000', 'files': ['magnumclient/v1/clusters.py', 'magnumclient/osc/v1/clusters.py', 'magnumclient/tests/osc/unit/v1/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c6b795298280e1ee8f0dd358bb895d16aa2fa8d4', 'message': 'Support master_lb_enabled when creating cluster\n\nTask: 40263\nStory: 2007634\n\nChange-Id: I59ad158753f25a56219ecaa5a55dd3f0ae67965a\n'}]",3,738950,c6b795298280e1ee8f0dd358bb895d16aa2fa8d4,13,3,3,6484,,,0,"Support master_lb_enabled when creating cluster

Task: 40263
Story: 2007634

Change-Id: I59ad158753f25a56219ecaa5a55dd3f0ae67965a
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/50/738950/2 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/clusters.py'],1,1647a4946f0d1ca869bcf42197068143524d31b8,story/2007634-40263," parser.add_argument( '--master-lb-enabled', dest='master_lb_enabled', action='store_true', default=False, help=_('Indicates whether created Clusters should have ' 'loadbalancer for API.')) if parsed_args.master_lb_enabled: args[""master_lb_enabled""] = parsed_args.master_lb_enabled ",,11,0
openstack%2Fstorlets~master~I56057f2120dafa31e24688f66cc8016f1a19681e,openstack/storlets,master,I56057f2120dafa31e24688f66cc8016f1a19681e,Fix functional job: Install tox,MERGED,2020-07-03 06:52:28.000000000,2020-07-03 09:35:39.000000000,2020-07-03 09:33:59.000000000,"[{'_account_id': 4608}, {'_account_id': 6547}, {'_account_id': 8330}, {'_account_id': 9205}, {'_account_id': 9816}, {'_account_id': 11317}, {'_account_id': 15463}, {'_account_id': 17156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 06:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d47e3274a83753550b45590e0ad278a89ea3bf19', 'message': 'Fix functional job: Install tox\n\nRecently, the OpenDev images did not install tox anymore, add\nensure-tox role to functional job pre-run playbook so that tox is\ninstalled.\n\nChange-Id: I56057f2120dafa31e24688f66cc8016f1a19681e\n'}, {'number': 2, 'created': '2020-07-03 07:57:13.000000000', 'files': ['playbooks/storlets-functional/pre.yaml', 'playbooks/storlets-functional/pre-py3.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a3ec6967fce3fed80eeaba035ddda9773a4ae3a6', 'message': 'Fix functional job: Install tox\n\nRecently, the OpenDev images did not install tox anymore, add\nensure-tox role to functional job pre-run playbook so that tox is\ninstalled.\n\nChange-Id: I56057f2120dafa31e24688f66cc8016f1a19681e\n'}]",0,739168,a3ec6967fce3fed80eeaba035ddda9773a4ae3a6,10,9,2,6547,,,0,"Fix functional job: Install tox

Recently, the OpenDev images did not install tox anymore, add
ensure-tox role to functional job pre-run playbook so that tox is
installed.

Change-Id: I56057f2120dafa31e24688f66cc8016f1a19681e
",git fetch https://review.opendev.org/openstack/storlets refs/changes/68/739168/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/storlets-functional/pre.yaml'],1,d47e3274a83753550b45590e0ad278a89ea3bf19,fix-tox, roles: - ensure-tox,,3,0
openstack%2Fkolla~master~Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4,openstack/kolla,master,Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4,Change clustercheck url to GitHub,ABANDONED,2020-06-19 16:40:07.000000000,2020-07-03 09:29:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-19 16:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7fcb7b3575fbe289a620f17bee07db9b0ce2f29', 'message': 'Change clustercheck url - fedora project is down.\n\nChange-Id: Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4\n'}, {'number': 2, 'created': '2020-06-19 16:40:38.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf4bc2f278f4131b83e765aa95f6d1f7126fddb0', 'message': ""Change clustercheck url to GitHub\n\nFedora Project is down (DC move) - so let's use GitHub for now.\n\nChange-Id: Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4\n""}]",0,737046,bf4bc2f278f4131b83e765aa95f6d1f7126fddb0,9,4,2,22629,,,0,"Change clustercheck url to GitHub

Fedora Project is down (DC move) - so let's use GitHub for now.

Change-Id: Ie613bf768cc31ad1956b8f5fa0f3cdc05046f1e4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/737046/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-clustercheck/Dockerfile.j2'],1,e7fcb7b3575fbe289a620f17bee07db9b0ce2f29,,RUN curl -sSLf -o /usr/bin/clustercheck https://raw.githubusercontent.com/gitmstoute/mariadb-clustercheck/master/clustercheck \,RUN curl -sSL -o /usr/bin/clustercheck https://src.fedoraproject.org/rpms/mariadb/raw/10.3/f/clustercheck.sh \,1,1
openstack%2Fceilometer~stable%2Ftrain~Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,openstack/ceilometer,stable/train,Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,Fix PDF build,MERGED,2020-07-02 06:46:33.000000000,2020-07-03 09:26:13.000000000,2020-07-03 09:23:17.000000000,"[{'_account_id': 6547}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:46:33.000000000', 'files': ['doc/source/configuration/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ac9013a343a1d534365ddcf88c5a104f0b5161f0', 'message': 'Fix PDF build\n\nDo not include ceilometer.conf.sample since PDF building fails with the\nlarge file. This fix PDF building of openstack-tox-docs job.\n\nChange-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb\n(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)\n(cherry picked from commit 96dcc2cbc22ec9efa98eb75771ba3154bc881bba)\n'}]",0,738970,ac9013a343a1d534365ddcf88c5a104f0b5161f0,7,3,1,4264,,,0,"Fix PDF build

Do not include ceilometer.conf.sample since PDF building fails with the
large file. This fix PDF building of openstack-tox-docs job.

Change-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb
(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)
(cherry picked from commit 96dcc2cbc22ec9efa98eb75771ba3154bc881bba)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/70/738970/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/index.rst'],1,ac9013a343a1d534365ddcf88c5a104f0b5161f0,fix-pdf-stable/ussuri-stable/train,".. only:: html The following is a sample Ceilometer configuration for adaptation and use. It is auto-generated from Ceilometer when this documentation is built, and can also be viewed in `file form <_static/ceilometer.conf.sample>`_. .. literalinclude:: ../_static/ceilometer.conf.sample","The following is a sample Ceilometer configuration for adaptation and use. It is auto-generated from Ceilometer when this documentation is built, and can also be viewed in `file form <_static/ceilometer.conf.sample>`_. .. literalinclude:: ../_static/ceilometer.conf.sample",6,4
openstack%2Fkuryr-kubernetes~master~I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5,openstack/kuryr-kubernetes,master,I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5,Attempt to autodetect interface in nested setups,MERGED,2020-07-01 15:06:11.000000000,2020-07-03 09:23:49.000000000,2020-07-03 09:21:29.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-01 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0dfa4548fc12a510a156d81b76413fca4d4afc1b', 'message': ""Attempt to autodetect interface in nested setups\n\nThe VLAN and macvlan nested drivers are using [binding]link_iface option\nto get the port they should bind the subport to. This isn't ideal as\nthere's a single config for all kuryr-cni containers in the cluster, so\nit's impossible to provide multiple interface names when e.g. different\nVM images are used to run workers in the cluster.\n\nIn order to make behavior smarter this patch makes sure that when\naforementioned option is not set, kuryr-daemon will attempt to\nautodetect the interface it should bind the subport to by trying to find\nwhich iterface kubelet is bound to. This should work fine with OpenShift\nsetups. If such interface is not found, kuryr-daemon will choose first\nnon-loopback interface.\n\nChange-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5\n""}, {'number': 2, 'created': '2020-07-01 15:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8445132a76185eab7e02c728882dc79d1f63374a', 'message': ""Attempt to autodetect interface in nested setups\n\nThe VLAN and macvlan nested drivers are using [binding]link_iface option\nto get the port they should bind the subport to. This isn't ideal as\nthere's a single config for all kuryr-cni containers in the cluster, so\nit's impossible to provide multiple interface names when e.g. different\nVM images are used to run workers in the cluster.\n\nIn order to make behavior smarter this patch makes sure that when\naforementioned option is not set, kuryr-daemon will attempt to\nautodetect the interface it should bind the subport to by trying to find\nwhich iterface kubelet is bound to. This should work fine with OpenShift\nsetups. If such interface is not found, kuryr-daemon will choose first\nnon-loopback interface.\n\nChange-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5\n""}, {'number': 3, 'created': '2020-07-01 15:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/774bbe0830e80f803a7f25f4fe0a9906ea3a95c8', 'message': ""Attempt to autodetect interface in nested setups\n\nThe VLAN and macvlan nested drivers are using [binding]link_iface option\nto get the port they should bind the subport to. This isn't ideal as\nthere's a single config for all kuryr-cni containers in the cluster, so\nit's impossible to provide multiple interface names when e.g. different\nVM images are used to run workers in the cluster.\n\nIn order to make behavior smarter this patch makes sure that when\naforementioned option is not set, kuryr-daemon will attempt to\nautodetect the interface it should bind the subport to by trying to find\nwhich iterface kubelet is bound to. This should work fine with OpenShift\nsetups. If such interface is not found, kuryr-daemon will choose first\nnon-loopback interface.\n\nChange-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5\n""}, {'number': 4, 'created': '2020-07-01 15:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/91298f3bb282e7405bc282d7f13c9c38b84e06e1', 'message': ""Attempt to autodetect interface in nested setups\n\nThe VLAN and macvlan nested drivers are using [binding]link_iface option\nto get the port they should bind the subport to. This isn't ideal as\nthere's a single config for all kuryr-cni containers in the cluster, so\nit's impossible to provide multiple interface names when e.g. different\nVM images are used to run workers in the cluster.\n\nIn order to make behavior smarter this patch makes sure that when\naforementioned option is not set, kuryr-daemon will attempt to\nautodetect the interface it should bind the subport to by trying to find\nwhich iterface kubelet is bound to. This should work fine with OpenShift\nsetups. If such interface is not found, kuryr-daemon will choose first\nnon-loopback interface.\n\nImplements: blueprint autodetect-nested-iface\nChange-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5\n""}, {'number': 5, 'created': '2020-07-02 14:40:41.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3d630e2df0599b7c8beed602996bd6c507457739', 'message': ""Attempt to autodetect interface in nested setups\n\nThe VLAN and macvlan nested drivers are using [binding]link_iface option\nto get the port they should bind the subport to. This isn't ideal as\nthere's a single config for all kuryr-cni containers in the cluster, so\nit's impossible to provide multiple interface names when e.g. different\nVM images are used to run workers in the cluster.\n\nIn order to make behavior smarter this patch makes sure that when\naforementioned option is not set, kuryr-daemon will attempt to\nautodetect the interface it should bind the subport to by trying to find\nwhich iterface kubelet is bound to. This should work fine with OpenShift\nsetups. If such interface is not found, kuryr-daemon will choose first\nnon-loopback interface.\n\nImplements: blueprint autodetect-nested-iface\nChange-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5\n""}]",6,738863,3d630e2df0599b7c8beed602996bd6c507457739,22,7,5,11600,,,0,"Attempt to autodetect interface in nested setups

The VLAN and macvlan nested drivers are using [binding]link_iface option
to get the port they should bind the subport to. This isn't ideal as
there's a single config for all kuryr-cni containers in the cluster, so
it's impossible to provide multiple interface names when e.g. different
VM images are used to run workers in the cluster.

In order to make behavior smarter this patch makes sure that when
aforementioned option is not set, kuryr-daemon will attempt to
autodetect the interface it should bind the subport to by trying to find
which iterface kubelet is bound to. This should work fine with OpenShift
setups. If such interface is not found, kuryr-daemon will choose first
non-loopback interface.

Implements: blueprint autodetect-nested-iface
Change-Id: I28e7d10ba4311455bc0c7fcaf28edcb30068a1e5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/738863/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py']",2,0dfa4548fc12a510a156d81b76413fca4d4afc1b,autodetect-nested-iface,"import psutilKUBELET_PORT = 10250 def _detect_iface_name(self, h_ipdb): # Let's try config first if config.CONF.binding.link_iface in h_ipdb.interfaces: return config.CONF.binding.link_iface # Then let's try choosing the one where kubelet listens to conns = [x for x in psutil.net_connections() if x.status == 'LISTEN' and x.laddr.port == KUBELET_PORT] if len(conns) == 1: lookup_addr = conns[0].laddr.ip for name, iface in h_ipdb.interfaces.items(): if type(name) is int: # Skip ones duplicated by id continue for addr in iface['ipaddr']: if addr[0] == lookup_addr: return name # Alright, just try the first non-loopback interface for name, iface in h_ipdb.interfaces.items(): if type(name) is int: # Skip ones duplicated by id continue if iface['flags'] & pyroute2.netlink.rtnl.ifinfmsg.IFF_LOOPBACK: continue # Skip loopback return name vm_iface_name = self._detect_iface_name(h_ipdb)", vm_iface_name = config.CONF.binding.link_iface,82,1
openstack%2Fironic-python-agent-builder~master~I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4,openstack/ironic-python-agent-builder,master,I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4,Disable EPEL on CentOS 8 by default,MERGED,2020-06-29 12:58:15.000000000,2020-07-03 09:22:55.000000000,2020-07-03 09:20:57.000000000,"[{'_account_id': 10239}, {'_account_id': 13861}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-06-29 12:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7ed6dd2ee7acb540b344311201a4867521b84204', 'message': ""Disable EPEL on CentOS 8 by default\n\nIt's currently broken and not really needed anyway.\n\nDepends-On: https://review.opendev.org/#/c/738435/\nDepends-On: https://review.opendev.org/#/c/738433/\nChange-Id: I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4\n""}, {'number': 2, 'created': '2020-06-29 14:32:19.000000000', 'files': ['dib/ironic-python-agent-ramdisk/environment.d/20-disable-epel.bash'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2a19fa368cb31d9b574a6d46ed85167027bba3a9', 'message': ""Disable EPEL on CentOS 8 by default\n\nIt's currently broken and not really needed anyway.\n\nDepends-On: https://review.opendev.org/#/c/738435/\nChange-Id: I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4\n""}]",0,738438,2a19fa368cb31d9b574a6d46ed85167027bba3a9,15,6,2,10239,,,0,"Disable EPEL on CentOS 8 by default

It's currently broken and not really needed anyway.

Depends-On: https://review.opendev.org/#/c/738435/
Change-Id: I767f6fc4e4177af5f7f93a0d4d3f8dcc578da2c4
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/38/738438/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/environment.d/20-disable-epel.bash'],1,7ed6dd2ee7acb540b344311201a4867521b84204,no-epel,"if [[ ""$DISTRO_NAME"" == ""centos"" ]] && [[ ""$DIB_RELEASE"" == 8 ]]; then # Disable EPEL unless enabled explicitly export DIB_EPEL_DISABLED=${DIB_EPEL_DISABLED:-1} fi ",,4,0
openstack%2Fkeystoneauth~master~Ic0ea848adce276a64a30ac9fb6d31432a9645ae8,openstack/keystoneauth,master,Ic0ea848adce276a64a30ac9fb6d31432a9645ae8,fix reno lower-constraints for py35,ABANDONED,2020-06-10 11:24:57.000000000,2020-07-03 09:15:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-10 11:24:57.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f81f62cf693dcdbcd31e105109f8ba8281362e5c', 'message': 'fix reno lower-constraints for py35\n\nrequirements-check fail with reno and py35 these changes fix that.\n\nChange-Id: Ic0ea848adce276a64a30ac9fb6d31432a9645ae8\n'}]",0,734799,f81f62cf693dcdbcd31e105109f8ba8281362e5c,4,2,1,28522,,,0,"fix reno lower-constraints for py35

requirements-check fail with reno and py35 these changes fix that.

Change-Id: Ic0ea848adce276a64a30ac9fb6d31432a9645ae8
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/99/734799/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f81f62cf693dcdbcd31e105109f8ba8281362e5c,drop_mock,reno<3;python_version<'3.6' # Apache-2.0 reno>=3.1.0;python_version>='3.6' # Apache-2.0,reno>=3.1.0 # Apache-2.0,2,1
openstack%2Fcinder~master~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,master,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-04-17 20:55:22.000000000,2020-07-03 09:15:07.000000000,2020-07-01 19:05:29.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-04-17 20:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08f68e1e35d0917accda4eefe99b55792c0a6f7a', 'message': '[WIP] Fix (c) for bug 1869746\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n'}, {'number': 2, 'created': '2020-05-03 23:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e003ab05894d4d849050d05851e91a9ddaed1508', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n""}, {'number': 3, 'created': '2020-05-21 12:38:38.000000000', 'files': ['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ebeafcbbafb700052f3abfc1f7ba004269a92e8', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n""}]",4,720833,8ebeafcbbafb700052f3abfc1f7ba004269a92e8,186,40,3,14567,,,0,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/720833/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",7,08f68e1e35d0917accda4eefe99b55792c0a6f7a,bug/1869746,"def backup_get_all_by_volume(context, volume_id, vol_project_id, filters=None): authorize_project_context(context, vol_project_id)","def backup_get_all_by_volume(context, volume_id, filters=None): authorize_project_context(context, volume_id)",21,15
openstack%2Ftripleo-quickstart~master~I4fb610b82dcc61936522cef29e1b6c3e22711fe8,openstack/tripleo-quickstart,master,I4fb610b82dcc61936522cef29e1b6c3e22711fe8,Stop caching undercloud_ip,ABANDONED,2019-09-04 20:38:37.000000000,2020-07-03 09:04:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-09-04 20:38:37.000000000', 'files': ['roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75ed9a740c20f8f54e949fb9c670582587ad98ef', 'message': 'Stop caching undercloud_ip\n\nA number of the inventory tasks use the existance of this in their when clause.\nIf it is cached then the wrong tasks are run e.g when tearing down and\nredeploying.\n\nChange-Id: I4fb610b82dcc61936522cef29e1b6c3e22711fe8\nCloses-bug: 1738406\n'}]",2,680177,75ed9a740c20f8f54e949fb9c670582587ad98ef,7,7,1,23811,,,0,"Stop caching undercloud_ip

A number of the inventory tasks use the existance of this in their when clause.
If it is cached then the wrong tasks are run e.g when tearing down and
redeploying.

Change-Id: I4fb610b82dcc61936522cef29e1b6c3e22711fe8
Closes-bug: 1738406
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/77/680177/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/tasks/inventory.yml'],1,75ed9a740c20f8f54e949fb9c670582587ad98ef,bug/1738406, cacheable: false, cacheable: true,1,1
openstack%2Fironic-python-agent~master~I794c846fb191c15b0a30546bf64d624dfbde0fd4,openstack/ironic-python-agent,master,I794c846fb191c15b0a30546bf64d624dfbde0fd4,Increase the ESP partition size to 550 MiB when using software RAID,MERGED,2020-07-02 15:30:55.000000000,2020-07-03 08:57:23.000000000,2020-07-02 19:12:30.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-02 15:30:55.000000000', 'files': ['releasenotes/notes/raid-esp-size-2c322adb2d3b9ce7.yaml', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ba3caa6c644460a76518e6a0b1977b03516bc323', 'message': 'Increase the ESP partition size to 550 MiB when using software RAID\n\nThis has been a popular guidance, and diskimage-builder has recently\nstarted following it.\n\nChange-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4\n'}]",0,739075,ba3caa6c644460a76518e6a0b1977b03516bc323,10,4,1,10239,,,0,"Increase the ESP partition size to 550 MiB when using software RAID

This has been a popular guidance, and diskimage-builder has recently
started following it.

Change-Id: I794c846fb191c15b0a30546bf64d624dfbde0fd4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/75/739075/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/raid-esp-size-2c322adb2d3b9ce7.yaml', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py']",5,ba3caa6c644460a76518e6a0b1977b03516bc323,raid-size,from ironic_python_agent import raid_utils partsize_mib = raid_utils.ESP_SIZE_MIB, partsize_mib = 128,30,16
openstack%2Fkolla~master~Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,openstack/kolla,master,Ia2306507d6ef97f01ff520dc4222bc48c1eb9843,Bump prometheus-openstack-exporter version to 1.1.0,MERGED,2020-07-02 16:35:35.000000000,2020-07-03 08:56:33.000000000,2020-07-02 20:22:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 16:35:35.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2841004652d74f27f270b4fba5a68e6c845e173c', 'message': 'Bump prometheus-openstack-exporter version to 1.1.0\n\nChange-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,739097,2841004652d74f27f270b4fba5a68e6c845e173c,12,5,1,2276,,,0,"Bump prometheus-openstack-exporter version to 1.1.0

Change-Id: Ia2306507d6ef97f01ff520dc4222bc48c1eb9843
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/739097/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,2841004652d74f27f270b4fba5a68e6c845e173c,openstack_exporter_bump,ENV prometheus_openstack_exporter_version=1.1.0,ENV prometheus_openstack_exporter_version=1.0.0,1,1
openstack%2Fpuppet-tripleo~master~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,master,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism,MERGED,2020-06-24 10:02:05.000000000,2020-07-03 08:51:29.000000000,2020-06-26 21:20:15.000000000,"[{'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-24 10:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cc6340a5f611080f8a7e1132138ae707b5532487', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n""}, {'number': 2, 'created': '2020-06-25 08:30:34.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4d3864249dc27e033499b8a0855ce095be848a44', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n""}]",0,737733,4d3864249dc27e033499b8a0855ce095be848a44,28,7,2,20172,,,0,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/737733/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,cc6340a5f611080f8a7e1132138ae707b5532487,fix-override,"# [*additional_erl_args*] # (Optional) Additional string to be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS # Defaults to undef # $additional_erl_args = undef, # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate} ${additional_erl_args_real}\"""" if $additional_erl_args != undef { # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${additional_erl_args}\"""" $environment_real = merge($environment, { 'RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, }) } else { $environment_real = $environment }"," $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate}\"""" $environment_real = $environment",21,2
openstack%2Fironic-specs~master~Ic95e93223bb73500cab33c6251218e6735b808e8,openstack/ironic-specs,master,Ic95e93223bb73500cab33c6251218e6735b808e8,Amend the in-band deploy steps spec,MERGED,2020-07-02 08:49:25.000000000,2020-07-03 08:46:17.000000000,2020-07-03 08:43:00.000000000,"[{'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 08:49:25.000000000', 'files': ['specs/approved/in-band-deploy-steps.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/af10099543d03601f6e0a5cacd881ec674240966', 'message': 'Amend the in-band deploy steps spec\n\nChange-Id: Ic95e93223bb73500cab33c6251218e6735b808e8\n'}]",0,738991,af10099543d03601f6e0a5cacd881ec674240966,10,3,1,10239,,,0,"Amend the in-band deploy steps spec

Change-Id: Ic95e93223bb73500cab33c6251218e6735b808e8
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/91/738991/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/in-band-deploy-steps.rst'],1,af10099543d03601f6e0a5cacd881ec674240966,story/2006963," #. ``switch_to_tenant_network`` [30]: #. add tenant networks``tear_down_agent``, ``switch_to_tenant_network``, and ``boot_instance`` deploy steps.In this step, the node will be powered off and ramdisk boot environment will beswitch_to_tenant_network ^^^^^^^^^^^^^^^^^^^^^^^^ *Priority: 30* In this step, the node will be switched from the provisioning network to tenant networks. In this step, the node will be powered on.In-band deploy steps must have a priority between 41 and 99 to ensure they execute after ``deploy`` and before ``tear_down_agent``."," #. configure tenant networks``remove_provisioning_network``, and ``boot_instance`` deploy steps. This step will be skipped when booting from a volume.In this step, the node will be powered off, and the provisioning networksIn this step, the node will be added to the tenant networks and powered on.In-band deploy steps must have a priority between 76 and 99 to ensure they execute after ``deploy`` and before ``remove_provisioning_network``.",18,7
openstack%2Fcharm-ceilometer~master~I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84,openstack/charm-ceilometer,master,I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84,Enable gnocchi in xenial-ocata bundle,MERGED,2020-07-02 22:36:47.000000000,2020-07-03 08:33:08.000000000,2020-07-03 08:33:08.000000000,"[{'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 22:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b6d53ef24309e050b31bb2459c2bd13f27b6db57', 'message': 'Enable gnocchi in xenial-ocata bundle\n\nChange-Id: I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84\n'}, {'number': 2, 'created': '2020-07-02 23:13:23.000000000', 'files': ['tests/bundles/trusty-mitaka.yaml', 'tests/bundles/xenial-ocata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f7d8cf7469559607eba8e17e69cf93117b648bac', 'message': 'Enable gnocchi in xenial-ocata bundle\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/344\nChange-Id: I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84\n'}]",0,739153,f7d8cf7469559607eba8e17e69cf93117b648bac,14,5,2,20805,,,0,"Enable gnocchi in xenial-ocata bundle

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/344
Change-Id: I60ceb3d753ca16f1165eed11ed2a7d3852fb9d84
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/53/739153/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/xenial-ocata.yaml'],1,b6d53ef24309e050b31bb2459c2bd13f27b6db57,fix-xenial-ocata," 8: {} 9: {} 10: {} 11: {} 12: {} 13: {} 14: {} 15: {} options: max-connections: 1000 innodb-buffer-pool-size: 256M memcached: charm: cs:~memcached-team/memcached ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '3' - '4' - '5' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '6' - '7' - '8' - '9' - '10' - '11' - '12' - '13' gnocchi: charm: cs:~openstack-charmers-next/gnocchi num_units: 1 options: openstack-origin: *source to: - '14' mongodb: num_units: 1 charm: cs:xenial/mongodb to: - '15'- - 'ceilometer:metric-service' - 'gnocchi:metric-service' - 'glance:image-service' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'gnocchi:shared-db' - 'percona-cluster:shared-db' - - 'gnocchi:storage-ceph' - 'ceph-mon:client' - - 'gnocchi:coordinator-memcached' - 'memcached:cache' - - 'gnocchi:identity-service' - 'keystone:identity-service' ", mongodb: charm: cs:xenial/mongodb - '3' - '4' - '5' - '6' - '7' - 'glance:image-service',63,8
openstack%2Fheat~master~Ia0e34423377843adee8efc7f23d2c2df5dac8e20,openstack/heat,master,Ia0e34423377843adee8efc7f23d2c2df5dac8e20,Don't check stack staus for already migrated stacks,MERGED,2020-07-02 05:14:20.000000000,2020-07-03 08:32:53.000000000,2020-07-03 07:19:44.000000000,"[{'_account_id': 12404}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-07-02 05:14:20.000000000', 'files': ['heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8d5d2a8fb6145caa7aac1eb90a4787706c298e47', 'message': ""Don't check stack staus for already migrated stacks\n\nIf stacks are already migrated to convergence, there is no point\nin checking stack status before returning. This will allow re-run\nof the command inspite of migrated stacks in FAILED state.\n\nChange-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20\nTask: 40266\n""}]",0,738960,8d5d2a8fb6145caa7aac1eb90a4787706c298e47,10,4,1,8833,,,0,"Don't check stack staus for already migrated stacks

If stacks are already migrated to convergence, there is no point
in checking stack status before returning. This will allow re-run
of the command inspite of migrated stacks in FAILED state.

Change-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20
Task: 40266
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/738960/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,8d5d2a8fb6145caa7aac1eb90a4787706c298e47,," if parent_stack.status != parent_stack.COMPLETE: raise exception.ActionNotComplete(stack_name=parent_stack.name, action=parent_stack.action) "," if parent_stack.status != parent_stack.COMPLETE: raise exception.ActionNotComplete(stack_name=parent_stack.name, action=parent_stack.action) ",4,4
openstack%2Fcinder~master~I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1,openstack/cinder,master,I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1,Move get_volume_stats impl to the base volume driver,MERGED,2019-05-02 22:26:28.000000000,2020-07-03 08:08:54.000000000,2020-07-01 20:21:35.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22078}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31016}, {'_account_id': 31854}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-05-02 22:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85e9253c66b1dc8da9b5c215954a28904b97847f', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 2, 'created': '2019-10-14 20:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7537328ff8b2ef451dbd5d00a9adcd07a13145e9', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 3, 'created': '2019-10-14 21:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f44b1fa78307c001b676ef96b9b64e92d1b902f', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 4, 'created': '2019-12-06 10:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7558db26cf1fb9ace931194568dab46df598fca5', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 5, 'created': '2020-01-02 11:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1120087ee80c0a4c055f81d66ae7e6fec80f86a', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 6, 'created': '2020-01-03 10:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbf4c4ca1ab8e1cd733099d96e815798a5ca31be', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 7, 'created': '2020-03-30 15:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6793beb64234e69776138fca907656c012b3f21d', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 8, 'created': '2020-04-08 17:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15d8c254c79a944f390af000eea118f2e6895fb4', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 9, 'created': '2020-04-08 17:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99e76ad8f8018da40a24823bffd1958444ebf126', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 10, 'created': '2020-04-09 09:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6aa53c382a49e4077a164075a3ae873596bd996', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 11, 'created': '2020-05-15 10:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0aaf6cc59cf33b5d71cf539e57d973e54bf5e301', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 12, 'created': '2020-06-15 13:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b99359aa6f94d796991cef9f30131b03b22bd382', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}, {'number': 13, 'created': '2020-07-01 09:41:51.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/rsd.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_fc.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'test-requirements.txt', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_iscsi.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/interface/volume_driver.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/lvm.py', 'cinder/volume/drivers/zadara.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_rsd.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/vxflexos/driver.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/spdk.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdd0a3bf5e27eb7d2457ac266e411722a1798ca5', 'message': 'Move get_volume_stats impl to the base volume driver\n\nChange-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1\n'}]",17,656888,fdd0a3bf5e27eb7d2457ac266e411722a1798ca5,515,55,13,1736,,,0,"Move get_volume_stats impl to the base volume driver

Change-Id: I7f26b270d5a85cd40ffbb3b33006a41b2e4852a1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/656888/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'test-requirements.txt', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/sheepdog.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/lvm.py', 'cinder/volume/drivers/zadara.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/spdk.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/remotefs.py', 'cinder/volume/drivers/zfssa/zfssaiscsi.py']",26,85e9253c66b1dc8da9b5c215954a28904b97847f,get_volume_stats,," def get_volume_stats(self, refresh=False): """"""Get volume status. If 'refresh' is True, run update the stats first. """""" if refresh: self._update_volume_status() return self._stats ",7,270
openstack%2Fkeystone~master~I120ef1c0c8259c85b6030f2db0a649c71b990879,openstack/keystone,master,I120ef1c0c8259c85b6030f2db0a649c71b990879,fix link in release note of bug/1794527,ABANDONED,2020-05-07 14:55:55.000000000,2020-07-03 06:55:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-05-07 14:55:55.000000000', 'files': ['releasenotes/notes/bug-1794527-866b1caff67977f3.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9505f00beead0ff7e876a4baae09f98e9e11baa7', 'message': 'fix link in release note of bug/1794527\n\nChange-Id: I120ef1c0c8259c85b6030f2db0a649c71b990879\ncloses-bug: 1877393\n'}]",0,726170,9505f00beead0ff7e876a4baae09f98e9e11baa7,5,2,1,18816,,,0,"fix link in release note of bug/1794527

Change-Id: I120ef1c0c8259c85b6030f2db0a649c71b990879
closes-bug: 1877393
",git fetch https://review.opendev.org/openstack/keystone refs/changes/70/726170/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1794527-866b1caff67977f3.yaml'],1,9505f00beead0ff7e876a4baae09f98e9e11baa7,bug/1877393, https://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/explicit-domains-ids.html , https://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/explicit-domains-ids.html,1,1
openstack%2Fcharm-neutron-api~master~I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8,openstack/charm-neutron-api,master,I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:33.000000000,2020-07-03 06:52:43.000000000,2020-07-03 06:52:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:33.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/60e3a2556682ac9303ee6b0afa32e455b2d00fa6', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8\nCloses-Bug: #1796886\n'}]",0,737950,60e3a2556682ac9303ee6b0afa32e455b2d00fa6,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I0d158a59cea80a25a1cf70b0cc1e903a5005b9c8
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/50/737950/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/context.py'],1,60e3a2556682ac9303ee6b0afa32e455b2d00fa6,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-glance-simplestreams-sync~master~I8fdbb82c8de5e430abced54b3358c270e64b9ae4,openstack/charm-glance-simplestreams-sync,master,I8fdbb82c8de5e430abced54b3358c270e64b9ae4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:27.000000000,2020-07-03 06:52:20.000000000,2020-07-03 06:52:20.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:27.000000000', 'files': ['charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/02cf293d38c415ecb21b37c3b7efd5bc2708ea23', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I8fdbb82c8de5e430abced54b3358c270e64b9ae4\nCloses-Bug: #1796886\n'}]",0,737948,02cf293d38c415ecb21b37c3b7efd5bc2708ea23,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I8fdbb82c8de5e430abced54b3358c270e64b9ae4
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/48/737948/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/context.py'],1,02cf293d38c415ecb21b37c3b7efd5bc2708ea23,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-ceilometer-agent~master~I15f9bbe6972d51c61d62249ed0e4e732a988b3ac,openstack/charm-ceilometer-agent,master,I15f9bbe6972d51c61d62249ed0e4e732a988b3ac,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:11.000000000,2020-07-03 06:52:19.000000000,2020-07-03 06:52:19.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:11.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/915662edd82cb102d953e0e7645da9c061602725', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I15f9bbe6972d51c61d62249ed0e4e732a988b3ac\nCloses-Bug: #1796886\n'}]",0,737945,915662edd82cb102d953e0e7645da9c061602725,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I15f9bbe6972d51c61d62249ed0e4e732a988b3ac
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/45/737945/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py']",4,915662edd82cb102d953e0e7645da9c061602725,bug/1796886," log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING) log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING)"," log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING)) log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING))",25,6
openstack%2Fcharm-barbican~master~I1c41ccedfbe453180b4c7835b47028ff7604711a,openstack/charm-barbican,master,I1c41ccedfbe453180b4c7835b47028ff7604711a,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:09:54.000000000,2020-07-03 06:52:06.000000000,2020-07-03 06:52:06.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-25 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c5cd223518b530a4b863303ac6a60e1abe898c57', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I1c41ccedfbe453180b4c7835b47028ff7604711a\nCloses-Bug: #1796886\n'}, {'number': 2, 'created': '2020-06-25 13:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/e78ab55d675e5a2e62246c1bbf88c80664285b65', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I1c41ccedfbe453180b4c7835b47028ff7604711a\nCloses-Bug: #1796886\n'}, {'number': 3, 'created': '2020-06-30 11:57:27.000000000', 'files': ['rebuild', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/1999476e1b7185a7c2cd2b8b4abca7f3dffad662', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nAlso remove jinja2 from wheelhouse.txt as is a duplicate\nand due to improvements in charm build it now causes the\nbuild to fail.\n\nChange-Id: I1c41ccedfbe453180b4c7835b47028ff7604711a\nCloses-Bug: #1796886\n'}]",0,738000,1999476e1b7185a7c2cd2b8b4abca7f3dffad662,15,5,3,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I1c41ccedfbe453180b4c7835b47028ff7604711a
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/00/738000/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c5cd223518b530a4b863303ac6a60e1abe898c57,bug/1796886,885a6ef4-b6df-11ea-80c0-73df704be7d1,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 916fddf6-a4d0-11ea-afc5-270b8a6a6046",1,5
openstack%2Fcharm-ceilometer~master~Iaed16d89f28cf408f49ea178d66e16489fdf0b4b,openstack/charm-ceilometer,master,Iaed16d89f28cf408f49ea178d66e16489fdf0b4b,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:08.000000000,2020-07-03 06:51:52.000000000,2020-07-03 06:51:52.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:08.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/97fb4ad3c517ed606ad2051f1d86430b875abb30', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: Iaed16d89f28cf408f49ea178d66e16489fdf0b4b\nCloses-Bug: #1796886\n'}]",0,737944,97fb4ad3c517ed606ad2051f1d86430b875abb30,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Iaed16d89f28cf408f49ea178d66e16489fdf0b4b
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/44/737944/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py']",5,97fb4ad3c517ed606ad2051f1d86430b875abb30,bug/1796886,"AUTOSCALER_DEFAULT_PGS = 32 nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, self.pg_num) ), self.name, str(self.pg_num) ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num) ] log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING) nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, pgs) ), self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING)"," cmd = ['ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num)] nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING)) cmd = ['ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile] log('Could not set app name for pool {}'.format(self.name, level=WARNING)) nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 self.name, e, level=WARNING))",211,15
openstack%2Fcharm-heat~master~Iadf51f05375ea58dd1fc7e557001ee4edfb803f7,openstack/charm-heat,master,Iadf51f05375ea58dd1fc7e557001ee4edfb803f7,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:30.000000000,2020-07-03 06:51:13.000000000,2020-07-03 06:51:13.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:30.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/5f00f5836bde7eb525b7473df9ea59b5befd787b', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: Iadf51f05375ea58dd1fc7e557001ee4edfb803f7\nCloses-Bug: #1796886\n'}]",0,737949,5f00f5836bde7eb525b7473df9ea59b5befd787b,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Iadf51f05375ea58dd1fc7e557001ee4edfb803f7
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/49/737949/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/context.py'],1,5f00f5836bde7eb525b7473df9ea59b5befd787b,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-nova-cloud-controller~master~I663dca207a42707859396d97edc5bbe3f24b29ba,openstack/charm-nova-cloud-controller,master,I663dca207a42707859396d97edc5bbe3f24b29ba,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:42.000000000,2020-07-03 06:51:10.000000000,2020-07-03 06:51:10.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:42.000000000', 'files': ['charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3ad589141974fcc5c3ae731b29c7a44d90c4afe4', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I663dca207a42707859396d97edc5bbe3f24b29ba\nCloses-Bug: #1796886\n'}]",0,737953,3ad589141974fcc5c3ae731b29c7a44d90c4afe4,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I663dca207a42707859396d97edc5bbe3f24b29ba
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/53/737953/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/context.py'],1,3ad589141974fcc5c3ae731b29c7a44d90c4afe4,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-cinder~master~I8058e367de158ae6e9da3a695318404453215d57,openstack/charm-cinder,master,I8058e367de158ae6e9da3a695318404453215d57,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:19.000000000,2020-07-03 06:51:04.000000000,2020-07-03 06:51:04.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:19.000000000', 'files': ['charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a16c55ca04d542c54658a8ef0e6b06d4fedc1e47', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I8058e367de158ae6e9da3a695318404453215d57\nCloses-Bug: #1796886\n'}]",0,737946,a16c55ca04d542c54658a8ef0e6b06d4fedc1e47,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I8058e367de158ae6e9da3a695318404453215d57
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/46/737946/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/context.py'],1,a16c55ca04d542c54658a8ef0e6b06d4fedc1e47,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-nova-compute~master~Idc829db6b52750b6a4eb8836f649db446345a734,openstack/charm-nova-compute,master,Idc829db6b52750b6a4eb8836f649db446345a734,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:45.000000000,2020-07-03 06:50:59.000000000,2020-07-03 06:50:59.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:45.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b3547428222144c19e5de87c6219019fea24d453', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: Idc829db6b52750b6a4eb8836f649db446345a734\nCloses-Bug: #1796886\n'}]",0,737954,b3547428222144c19e5de87c6219019fea24d453,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: Idc829db6b52750b6a4eb8836f649db446345a734
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/54/737954/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/context.py'],1,b3547428222144c19e5de87c6219019fea24d453,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-masakari~master~I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc,openstack/charm-masakari,master,I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:10:11.000000000,2020-07-03 06:50:53.000000000,2020-07-03 06:50:52.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-25 13:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/ed3e08460db4b61f7122431f1186017452157335', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc\nCloses-Bug: #1796886\n'}, {'number': 2, 'created': '2020-06-25 13:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/bb7b80876af8f0afb04ab5e1480922b2efa4b972', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc\nCloses-Bug: #1796886\n'}, {'number': 3, 'created': '2020-06-30 10:22:37.000000000', 'files': ['rebuild', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/a147a5d6583c91fddbbf8b4db989fecf727fc474', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nAlso remove jinja2 from wheelhouse.txt as is a duplicate\nand due to improvements in charm build it now causes the\nbuild to fail.\n\nChange-Id: I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc\nCloses-Bug: #1796886\n'}]",0,738004,a147a5d6583c91fddbbf8b4db989fecf727fc474,15,5,3,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I998a24697f93e5a8ad1eeabfd19b86ed631fa2fc
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/04/738004/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ed3e08460db4b61f7122431f1186017452157335,bug/1796886,885f85ce-b6df-11ea-bbc8-d36ad742c37f,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 91baf0ac-a4d0-11ea-9f4f-2bd1f53572c4",1,5
openstack%2Fcharm-glance~master~I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4,openstack/charm-glance,master,I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:22.000000000,2020-07-03 06:50:48.000000000,2020-07-03 06:50:48.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:22.000000000', 'files': ['charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/160ba6e252031418e3e98a3e53a6edc68fa00389', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4\nCloses-Bug: #1796886\n'}]",0,737947,160ba6e252031418e3e98a3e53a6edc68fa00389,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I50271150aa2d2ccc60cb0b7d5123d08c8e38eba4
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/47/737947/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/context.py'],1,160ba6e252031418e3e98a3e53a6edc68fa00389,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-neutron-gateway~master~I1087bb9e49a06868368872c3c5134b6407bb1c27,openstack/charm-neutron-gateway,master,I1087bb9e49a06868368872c3c5134b6407bb1c27,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:36.000000000,2020-07-03 06:50:14.000000000,2020-07-03 06:50:14.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:36.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/98b194ba93c1b29e30bfe913243a4992634a7ffa', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I1087bb9e49a06868368872c3c5134b6407bb1c27\nCloses-Bug: #1796886\n'}]",0,737951,98b194ba93c1b29e30bfe913243a4992634a7ffa,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I1087bb9e49a06868368872c3c5134b6407bb1c27
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/51/737951/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/context.py'],1,98b194ba93c1b29e30bfe913243a4992634a7ffa,bug/1796886," if not relation_get('password', rid=rid, unit=unit): log( (""Skipping {} password not sent which indicates "" ""unit is not ready."".format(host)), level=DEBUG) continue # check if interface is part of a linux bond _bond_name = get_bond_master(ifname) if _bond_name and _bond_name != ifname: log('Add linux bond ""{}"" to map for physical interface ""{}"" ' 'with mac ""{}"".'.format(_bond_name, ifname, mac), level=DEBUG) # for bonds we want to be able to get a list of the mac # addresses for the physical interfaces the bond is made up of. if self._ifname_mac_map.get(_bond_name): self._ifname_mac_map[_bond_name].append(mac) else: self._ifname_mac_map[_bond_name] = [mac] ",,19,0
openstack%2Fcharm-swift-proxy~master~I1780896e13011f1c93dc69ca59685cd8028c0ee4,openstack/charm-swift-proxy,master,I1780896e13011f1c93dc69ca59685cd8028c0ee4,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 10:09:49.000000000,2020-07-03 06:49:03.000000000,2020-07-03 06:49:03.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 10:09:49.000000000', 'files': ['charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/52ac09b4a124feec6575a869a9595a896789e1a7', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I1780896e13011f1c93dc69ca59685cd8028c0ee4\nCloses-Bug: #1796886\n'}]",0,737955,52ac09b4a124feec6575a869a9595a896789e1a7,7,3,1,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Change-Id: I1780896e13011f1c93dc69ca59685cd8028c0ee4
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/55/737955/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py']",4,52ac09b4a124feec6575a869a9595a896789e1a7,bug/1796886," log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING) log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING)"," log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING)) log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING))",25,6
openstack%2Fcharm-placement~master~I5bbfcfd67af1c8bf619ae8376abf0efd06687901,openstack/charm-placement,master,I5bbfcfd67af1c8bf619ae8376abf0efd06687901,CH Sync for rabbit relation bug fix,MERGED,2020-06-25 13:10:43.000000000,2020-07-03 06:47:35.000000000,2020-07-03 06:47:35.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-25 13:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/82cad8e5b85dcd6a6a05b03034045a9f6b62e9f0', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I5bbfcfd67af1c8bf619ae8376abf0efd06687901\nCloses-Bug: #1796886\n'}, {'number': 2, 'created': '2020-06-25 13:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/23d0c3f603722a60a01a3ff5b12f2f7846bb3326', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nChange-Id: I5bbfcfd67af1c8bf619ae8376abf0efd06687901\nCloses-Bug: #1796886\n'}, {'number': 3, 'created': '2020-06-30 13:12:35.000000000', 'files': ['rebuild', 'src/tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e8d9bc86bff6355b6abb6914e0a821f0c1635b1d', 'message': 'CH Sync for rabbit relation bug fix\n\nCharmhelper sync to pick up the fix to the AMQP context.\n\nCharms tox.ini was failing to permit TEST_* to be passed\nto tests causing the proxy to be missed.\n\nChange-Id: I5bbfcfd67af1c8bf619ae8376abf0efd06687901\nCloses-Bug: #1796886\n'}]",0,738009,e8d9bc86bff6355b6abb6914e0a821f0c1635b1d,16,5,3,12549,,,0,"CH Sync for rabbit relation bug fix

Charmhelper sync to pick up the fix to the AMQP context.

Charms tox.ini was failing to permit TEST_* to be passed
to tests causing the proxy to be missed.

Change-Id: I5bbfcfd67af1c8bf619ae8376abf0efd06687901
Closes-Bug: #1796886
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/09/738009/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,82cad8e5b85dcd6a6a05b03034045a9f6b62e9f0,bug/1796886,8866873e-b6df-11ea-90c6-3379941804a5,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 91f70b28-a4d0-11ea-9d63-83540f4cb10d",1,5
openstack%2Fkuryr-libnetwork~stable%2Fstein~I3033d28eb268a01de8cf038b1ed20110ca9a31ea,openstack/kuryr-libnetwork,stable/stein,I3033d28eb268a01de8cf038b1ed20110ca9a31ea,Handle subnet without gateway,MERGED,2020-06-27 01:10:09.000000000,2020-07-03 06:25:56.000000000,2020-07-03 06:23:10.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-27 01:10:09.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/c8af0405a950e15dd675212b0a7372a547be4b96', 'message': ""Handle subnet without gateway\n\n* When libnetwork requests the IP address of the gateway\n  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway\n  as None, return '0.0.0.0/0' as a placeholder.\n* Disable default docker gateway via the 'DisableGatewayService' flag\n  (see https://github.com/moby/libnetwork/pull/778).\n\nChange-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea\nCloses-Bug: #1881910\n(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)\n""}]",0,738295,c8af0405a950e15dd675212b0a7372a547be4b96,18,3,1,11536,,,0,"Handle subnet without gateway

* When libnetwork requests the IP address of the gateway
  (via /IpamDriver.RequestAddress) and the neutron subnet has gateway
  as None, return '0.0.0.0/0' as a placeholder.
* Disable default docker gateway via the 'DisableGatewayService' flag
  (see https://github.com/moby/libnetwork/pull/778).

Change-Id: I3033d28eb268a01de8cf038b1ed20110ca9a31ea
Closes-Bug: #1881910
(cherry picked from commit 960993652e1ab526c1ce8cd3cd04d28f13facc86)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/95/738295/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/controllers.py']",2,c8af0405a950e15dd675212b0a7372a547be4b96,bug/1881910-stable/stein," ""StaticRoutes"": [], ""DisableGatewayService"": True, if not req_address: if subnet['ip_version'] == 4: allocated_address = ""0.0.0.0/0"" else: allocated_address = ""::/0"" elif req_address == existed_gateway_ip:"," ""StaticRoutes"": [] if req_address == existed_gateway_ip:",14,5
openstack%2Ftacker~master~I2436a7fd91a1d081c2c5fac28452a57f048e5a73,openstack/tacker,master,I2436a7fd91a1d081c2c5fac28452a57f048e5a73,Stop to use the __future__ module.,MERGED,2020-06-02 19:00:24.000000000,2020-07-03 06:08:56.000000000,2020-07-03 06:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-02 19:00:24.000000000', 'files': ['tacker/tests/unit/fixtures.py', 'tools/install_venv_common.py', 'tools/check_i18n.py', 'tacker/wsgi.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2e7813d09d4cdbecb5c1a26fa048bb400f9bbdaa', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I2436a7fd91a1d081c2c5fac28452a57f048e5a73\n""}]",2,732956,2e7813d09d4cdbecb5c1a26fa048bb400f9bbdaa,17,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I2436a7fd91a1d081c2c5fac28452a57f048e5a73
",git fetch https://review.opendev.org/openstack/tacker refs/changes/56/732956/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/fixtures.py', 'tools/install_venv_common.py', 'tools/check_i18n.py', 'tacker/wsgi.py']",4,2e7813d09d4cdbecb5c1a26fa048bb400f9bbdaa,drop_future_imports,,from __future__ import print_function,0,6
openstack%2Fcharm-vault~master~I626493c099b15b3ee7a3bef8d76e408193f60cba,openstack/charm-vault,master,I626493c099b15b3ee7a3bef8d76e408193f60cba,Enable MySQL DB TLS Communication,MERGED,2020-07-02 18:25:52.000000000,2020-07-03 05:57:01.000000000,2020-07-03 05:57:00.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 18:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e1c7068596521ac2a3e821fd6864d455fde1cb74', 'message': 'Enable MySQL DB TLS Communication\n\nChange-Id: I626493c099b15b3ee7a3bef8d76e408193f60cba\n'}, {'number': 2, 'created': '2020-07-02 20:59:17.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b989a4130a4aa964cdce50a8deabfc24a9d5a4b9', 'message': 'Enable MySQL DB TLS Communication\n\nChange-Id: I626493c099b15b3ee7a3bef8d76e408193f60cba\n'}]",0,739130,b989a4130a4aa964cdce50a8deabfc24a9d5a4b9,12,4,2,20805,,,0,"Enable MySQL DB TLS Communication

Change-Id: I626493c099b15b3ee7a3bef8d76e408193f60cba
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/30/739130/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py']",2,e1c7068596521ac2a3e821fd6864d455fde1cb74,feature/tls," if mysql.ssl_ca(): _db_tls_ca_file = ""/var/snap/vault/common/db-tls-ca.pem"" _db_tls_ca = base64.decodebytes(mysql.ssl_ca().encode()) write_file(_db_tls_ca_file, _db_tls_ca, perms=0o600) context[""tls_ca_file""] = _db_tls_ca_file",,8,0
openstack%2Fcharm-vault~master~I57ce8b7d3f778fb87ab01170db1b3770ad84badf,openstack/charm-vault,master,I57ce8b7d3f778fb87ab01170db1b3770ad84badf,Allow for temporary loss of the DB,MERGED,2020-07-02 18:24:52.000000000,2020-07-03 05:56:35.000000000,2020-07-03 05:56:35.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 18:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2b5bb3dd2601a1b8508aa83d7651a9f9383c688b', 'message': 'Allow for temporary loss of the DB\n\nMySQL topology changes, pause/resumes or even rolling restarts\ncan put the vault charm into an error state unnecessarily.\n\n* Make the vault charm more robust to temporary MySQL unavailability.\n* Make the workload status indicate to the end user when this occurs.\n\nCloses-Bug: #1886083\nChange-Id: I57ce8b7d3f778fb87ab01170db1b3770ad84badf\n'}, {'number': 2, 'created': '2020-07-02 20:12:14.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/wheelhouse.txt', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede', 'message': 'Allow for temporary loss of the DB\n\nMySQL topology changes, pause/resumes or even rolling restarts\ncan put the vault charm into an error state unnecessarily.\n\n* Make the vault charm more robust to temporary MySQL unavailability.\n* Make the workload status indicate to the end user when this occurs.\n\nCloses-Bug: #1886083\nChange-Id: I57ce8b7d3f778fb87ab01170db1b3770ad84badf\n'}]",0,739129,25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede,12,4,2,20805,,,0,"Allow for temporary loss of the DB

MySQL topology changes, pause/resumes or even rolling restarts
can put the vault charm into an error state unnecessarily.

* Make the vault charm more robust to temporary MySQL unavailability.
* Make the workload status indicate to the end user when this occurs.

Closes-Bug: #1886083
Change-Id: I57ce8b7d3f778fb87ab01170db1b3770ad84badf
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/29/739129/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,2b5bb3dd2601a1b8508aa83d7651a9f9383c688b,bug/1886083," status_set('blocked', 'Unknown vault version') if not client_approle_authorized(): status_set('blocked', 'Vault cannot authorize approle') return def client_approle_authorized(): try: vault.get_local_client() return True except (vault.hvac.exceptions.InternalServerError, vault.VaultNotReady): log(""InternalServerError: Unable to athorize approle. "" ""This may indicate failure to communicate with the database "", ""WARNING"") log(traceback.format_exc(), level=ERROR) return False if not client_approle_authorized(): log(""Vault not authorized: Skipping publicsh_ca_info"", ""WARNING"") return if not client_approle_authorized(): log(""Vault not authorized: Skipping publish_global_client_cert"", ""WARNING"") return if not client_approle_authorized(): log(""Vault not authorized: Skipping tune_pki_backend_config_changed"", ""WARNING"") return"," status_set('blocked', 'Vault health check failed') return if not service_running('vault'): status_set('blocked', 'Vault service not running')",54,12
openstack%2Fheat~stable%2Ftrain~I68c4ff34266ee1ae0a68df36b1fa1025b23b712a,openstack/heat,stable/train,I68c4ff34266ee1ae0a68df36b1fa1025b23b712a,[stable/train] Allow resizing of instances on same host,MERGED,2020-06-25 06:16:45.000000000,2020-07-03 05:28:12.000000000,2020-07-03 05:26:30.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 06:16:45.000000000', 'files': ['playbooks/devstack/grenade/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/e4c9400896a247e9623d368c77f31274448613e2', 'message': ""[stable/train] Allow resizing of instances on same host\n\nThis allows resizing of instances on the same host and would\nnot depend on ssh to the other node in multinode grenade job.\n\nFor ussuri and above we'll use the zuulv3 jobs which sets it\nby default.\n\nChange-Id: I68c4ff34266ee1ae0a68df36b1fa1025b23b712a\nTask: 40166\n""}]",0,737904,e4c9400896a247e9623d368c77f31274448613e2,26,4,1,8833,,,0,"[stable/train] Allow resizing of instances on same host

This allows resizing of instances on the same host and would
not depend on ssh to the other node in multinode grenade job.

For ussuri and above we'll use the zuulv3 jobs which sets it
by default.

Change-Id: I68c4ff34266ee1ae0a68df36b1fa1025b23b712a
Task: 40166
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/737904/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/grenade/run.yaml'],1,e4c9400896a247e9623d368c77f31274448613e2,, NOVA_ALLOW_MOVE_TO_SAME_HOST=True,,1,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8,openstack/python-tripleoclient,stable/ussuri,I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8,Update UPPER_CONSTRAINTS_FILE for stable/ussuri,ABANDONED,2020-07-02 10:59:34.000000000,2020-07-03 05:07:28.000000000,,[{'_account_id': 13861}],"[{'number': 1, 'created': '2020-07-02 10:59:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f2e9c9618987ce00d29ca6a99b870059e223610', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nChange-Id: I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8\n'}]",0,739021,7f2e9c9618987ce00d29ca6a99b870059e223610,5,1,1,8833,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Change-Id: I7c2d014f3d333398b3d9f3c0b5d51cfd1fb98de8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/739021/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7f2e9c9618987ce00d29ca6a99b870059e223610,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-tripleoclient~stable%2Fussuri~I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,openstack/python-tripleoclient,stable/ussuri,I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,Identify not allowed parameters in upgrades.,MERGED,2020-06-26 12:32:03.000000000,2020-07-03 04:03:19.000000000,2020-07-03 04:01:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-26 12:32:03.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/exceptions.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6', 'message': 'Identify not allowed parameters in upgrades.\n\nThis change allows us identifying a set of parameters which should\nnot been passed in the upgrade prepare or upgrade converge steps.\nAs it is now, it is mostly intended to block the converge step\nif the FFU parameters (Stein registry parameters)  were left in\nthe environment files before running the converge step, however\nit will allow blocking the upgrade prepare in the case that some\ndeprecated or not recommended parameter is provided in the templates.\n\nThe way how it works is by converting every single yaml passed in\nthe environment files into a  list of keys (only for the\nparameters_default so far), then it will try to intersect the list\nof forbidden parameters with the list of keys. If there is a match\nan exception will be raised showing those parameters:\n\nERROR openstack [-] The following parameters should be removed from\nthe environment files:\nceph3_namespace\nname_suffix_stein\ntag_stein\nname_prefix_stein\nceph3_image\nnamespace_stein\nceph3_tag\n\nChange-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c\n(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)\n'}]",0,738194,3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6,10,8,1,26343,,,0,"Identify not allowed parameters in upgrades.

This change allows us identifying a set of parameters which should
not been passed in the upgrade prepare or upgrade converge steps.
As it is now, it is mostly intended to block the converge step
if the FFU parameters (Stein registry parameters)  were left in
the environment files before running the converge step, however
it will allow blocking the upgrade prepare in the case that some
deprecated or not recommended parameter is provided in the templates.

The way how it works is by converting every single yaml passed in
the environment files into a  list of keys (only for the
parameters_default so far), then it will try to intersect the list
of forbidden parameters with the list of keys. If there is a match
an exception will be raised showing those parameters:

ERROR openstack [-] The following parameters should be removed from
the environment files:
ceph3_namespace
name_suffix_stein
tag_stein
name_prefix_stein
ceph3_image
namespace_stein
ceph3_tag

Change-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c
(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/738194/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/exceptions.py', 'tripleoclient/workflows/parameters.py']",4,3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6,ffwd-upgrade2-stable/ussuri," def check_forbidden_params(log, env_files, forbidden): """"""Looks for undesired parameters in the environment files. Each of the environment files pass in env_files will be parsed and if the parameters_default key is found, then all the keys from the nested dictionary found under will be converted into a list, for example: parameters_default: key1: value1 key2: value2 key3: - value3 - key31: key311: value311 key312: value312 key32: value32 Will be converted by get_all_keys into: [key1, key2, key3, key31, key311, key312, key32] This list provides us with all the parameters used in the environment file, without the values, in the format of a list. So we can use sets to find occurrences of the forbbiden paramenters. The variable matched_params will get all the ocurrences of forbidden parameters stored, so we can parse all the environment files and show all the parameters which should get removed from the environment files at once (saving the user to run the command, modify a template, run it again, modify another, etc...). If matched_params list is not empty, an exception will be raised, stopping the execution of the command and displaying the commands which need to be removed. :param log: logging object passed from the calling method :type log: Logging object :param env_files: list of the environment files passed in the command :type env_files: list of strings :param forbidden: list of the undesired parameters :type forbidden: list of strings :returns exception if some of the forbidden parameters are found in the environment files. """""" # Iterates over a nested dict and returns all the # keys from the dict in a list # example: # * input: {'a': '1', 'b': ['c': '2', 'd': {'e': '3'}]} # * output: ['a', 'b', 'c', 'd', 'e'] def get_all_keys(obj, keys_list): if isinstance(obj, dict): keys_list += obj.keys() for value in obj.values(): get_all_keys(value, keys_list) elif isinstance(obj, list): for value in obj: get_all_keys(value, keys_list) matched_params = [] for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: # Intersection of values and forbidden params list_of_keys = [] get_all_keys(pd, list_of_keys) found_in_pd = list(set(list_of_keys) & set(forbidden)) # Combine them without duplicates matched_params = list(set(matched_params + found_in_pd)) if matched_params: raise exceptions.BannedParameters(""The following parameters should be "" ""removed from the environment files:"" ""\n{}\n"" .format('\n'.join(matched_params)))",,103,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,stable/train,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-02 15:13:38.000000000,2020-07-03 03:00:28.000000000,2020-07-03 03:00:28.000000000,"[{'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 15:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e9ae36d805fd1324ac935627b2c4f9c5fa1cac3', 'message': 'Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles\n\nWe set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions\nissues. Bug 1885917 was introduced because it was set to a\nvariable which can make the path too long for a Unix domain\nsocket. We can fix it by hard coding it to something short\nwhich will not vary.\n\nChange-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4\nCloses-Bug: #1885917\n(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)\n(cherry picked from commit c41b645c9e62dacfdc80f166c1ef97c4b267f65c)\n'}, {'number': 2, 'created': '2020-07-02 21:15:21.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f8611654444e0c9cb1c9e76a5046ad0fad9bd5a', 'message': 'Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles\n\nWe set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions\nissues. Bug 1885917 was introduced because it was set to a\nvariable which can make the path too long for a Unix domain\nsocket. We can fix it by hard coding it to something short\nwhich will not vary.\n\nChange-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4\nCloses-Bug: #1885917\n(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)\n(cherry picked from commit c41b645c9e62dacfdc80f166c1ef97c4b267f65c)\n'}]",0,739069,0f8611654444e0c9cb1c9e76a5046ad0fad9bd5a,11,5,2,6796,,,0,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)
(cherry picked from commit c41b645c9e62dacfdc80f166c1ef97c4b267f65c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/739069/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml']",3,1e9ae36d805fd1324ac935627b2c4f9c5fa1cac3,bug/1884816," - ANSIBLE_SSH_CONTROL_PATH_DIR=""/tmp/ceph_ansible_control_path""",,3,2
openstack%2Fnova~master~I7b7971645c80efb3df3519133111d7c4bd3792ae,openstack/nova,master,I7b7971645c80efb3df3519133111d7c4bd3792ae,test_hardware: show test parameter details for causing a test failure,NEW,2019-10-30 18:18:02.000000000,2020-07-03 02:45:53.000000000,,"[{'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-10-30 18:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fd4280cc43d60cf68f27db8cc53e4c7e0f5b538', 'message': 'Use annotated ddt for test_cpu_policy_constraint\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith sensible names that make it easy to figure out which data item\ncaused the failure.\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\n'}, {'number': 2, 'created': '2020-05-20 08:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15ae25028c4d89432135b2be132e0061e566c562', 'message': 'Use annotated ddt for test_cpu_policy_constraint\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n``` Error message\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 861, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 993, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured stdout:\n~~~~~~~~~~~~~~~~\n    test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 3, 'created': '2020-05-20 09:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/299d9a7843b267e835d663bc22266e5aaafa6310', 'message': 'Use annotated ddt for test_cpu_policy_constraint\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n``` Error message\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 861, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 993, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured stdout:\n~~~~~~~~~~~~~~~~\n    test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 4, 'created': '2020-05-20 09:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9f29bb4788062a8529e1bfe86fe90c1c611484f', 'message': 'Use annotated ddt for test_cpu_policy_constraint\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n``` Error message\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 861, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 993, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured stdout:\n~~~~~~~~~~~~~~~~\n    test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 5, 'created': '2020-05-20 09:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f5bdf4c6a24ce41ff148cfbbd8ad9b08c619d5c', 'message': '[WIP] Use annotated ddt for test_cpu_policy_constraint\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n``` Error message\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 861, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 993, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured stdout:\n~~~~~~~~~~~~~~~~\n    test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 6, 'created': '2020-05-20 10:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/264877adfa83b729089815600cc2fe8740127ae7', 'message': 'test_hardware: show test parameter details for causing a test failure\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n```Sample error message\n\nFailed 1 tests - output below:\n==============================\n\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 866, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 999, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured pythonlogging:\n~~~~~~~~~~~~~~~~~~~~~~~\n    2020-05-20 17:56:49,845 ERROR [nova.tests.unit.virt.test_hardware] test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 7, 'created': '2020-05-21 05:44:32.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c82d7704ecb5d6434539c14fb9158f6a0790a83', 'message': 'test_hardware: show test parameter details for causing a test failure\n\nThe way test_cpu_policy_constraint was set up, if it failed, it would be\ndifficult to tell which test data item caused the failure. This patch\nuses ddt with annotated data items to blow this out into separate tests\nwith an error message when error happens that make it easy to figure\nout which data item caused the failure.\n\nThe error message would be like these in indicating the parameters that\nmakes an error:\n\n```Sample error message\n\nFailed 1 tests - output below:\n==============================\n\nnova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02\n---------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper\n    return func(self, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 866, in inner\n    return test(cls, *args, **kwargs)\n\n      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 999, in test_cpu_policy_constraint\n    self.assertEqual(testitem[""expect""], cpu_policy)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n\n      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\n\n    testtools.matchers._impl.MismatchError: \'shared\' != \'dedicated\'\n\nCaptured pythonlogging:\n~~~~~~~~~~~~~~~~~~~~~~~\n    2020-05-20 17:56:49,845 ERROR [nova.tests.unit.virt.test_hardware] test_cpu_policy_constraint failed with the parameters: {\'flavor\': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy=\'dedicated\'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), \'image\': {\'properties\': {\'hw_cpu_policy\': \'shared\'}}, \'expect\': \'shared\'}\n\n````\n\nChange-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>\n'}]",29,692205,2c82d7704ecb5d6434539c14fb9158f6a0790a83,59,13,7,14070,,,0,"test_hardware: show test parameter details for causing a test failure

The way test_cpu_policy_constraint was set up, if it failed, it would be
difficult to tell which test data item caused the failure. This patch
uses ddt with annotated data items to blow this out into separate tests
with an error message when error happens that make it easy to figure
out which data item caused the failure.

The error message would be like these in indicating the parameters that
makes an error:

```Sample error message

Failed 1 tests - output below:
==============================

nova.tests.unit.virt.test_hardware.NUMATopologyTest.test_cpu_policy_constraint_02
---------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/ddt.py"", line 182, in wrapper
    return func(self, *args, **kwargs)

      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 866, in inner
    return test(cls, *args, **kwargs)

      File ""/opt/stack/nova/nova/tests/unit/virt/test_hardware.py"", line 999, in test_cpu_policy_constraint
    self.assertEqual(testitem[""expect""], cpu_policy)

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 415, in assertEqual
    self.assertThat(observed, matcher, message)

      File ""/opt/stack/nova/.tox/py36/lib/python3.6/site-packages/testtools/testcase.py"", line 502, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 'shared' != 'dedicated'

Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2020-05-20 17:56:49,845 ERROR [nova.tests.unit.virt.test_hardware] test_cpu_policy_constraint failed with the parameters: {'flavor': Flavor(created_at=<?>,deleted=<?>,deleted_at=<?>,description=<?>,disabled=<?>,ephemeral_gb=<?>,extra_specs={hw:cpu_policy='dedicated'},flavorid=<?>,id=<?>,is_public=<?>,memory_mb=<?>,name=<?>,projects=<?>,root_gb=<?>,rxtx_factor=<?>,swap=<?>,updated_at=<?>,vcpu_weight=<?>,vcpus=<?>), 'image': {'properties': {'hw_cpu_policy': 'shared'}}, 'expect': 'shared'}

````

Change-Id: I7b7971645c80efb3df3519133111d7c4bd3792ae
Co-Authored-By: Eric Fried <openstack@fried.cc>
Co-Authored-By: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/692205/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_hardware.py'],1,1fd4280cc43d60cf68f27db8cc53e4c7e0f5b538,bug/1848308,"import ddtdef annotate_cpu_policy_ddt(*data): class _D(dict): pass ret = [] for i in data: d = _D(i) setattr(d, '__name__', 'flavor_%s_image_%s' % ( i['flavor'].get('extra_specs', {}).get('hw:cpu_policy', 'None'), i['image']['properties'].get('hw_cpu_policy', 'None') )) ret.append(d) return ddt.data(*ret) @ddt.ddt @annotate_cpu_policy_ddt( { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } ""expect"": fields.CPUAllocationPolicy.DEDICATED }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } ""expect"": fields.CPUAllocationPolicy.DEDICATED }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { } ""expect"": fields.CPUAllocationPolicy.DEDICATED }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } ""expect"": exception.ImageCPUPinningForbidden }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } ""expect"": fields.CPUAllocationPolicy.SHARED }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { } ""expect"": fields.CPUAllocationPolicy.SHARED }, { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } ""expect"": fields.CPUAllocationPolicy.DEDICATED }, { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } ""expect"": fields.CPUAllocationPolicy.SHARED }, { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { } ""expect"": None }, { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""invalid"" }), ""image"": { ""properties"": { } ""expect"": exception.InvalidCPUAllocationPolicy }, ) def test_cpu_policy_constraint(self, testitem): image_meta = objects.ImageMeta.from_dict(testitem[""image""]) if testitem[""expect""] is None: cpu_policy = hw.get_cpu_policy_constraint( testitem[""flavor""], image_meta) self.assertIsNone(cpu_policy) elif type(testitem[""expect""]) == type: self.assertRaises(testitem[""expect""], hw.get_cpu_policy_constraint, testitem[""flavor""], image_meta) else: cpu_policy = hw.get_cpu_policy_constraint( testitem[""flavor""], image_meta) self.assertIsNotNone(cpu_policy) self.assertEqual(testitem[""expect""], cpu_policy)"," def test_cpu_policy_constraint(self): testdata = [ { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } }, ""expect"": fields.CPUAllocationPolicy.DEDICATED { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } }, ""expect"": fields.CPUAllocationPolicy.DEDICATED { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""dedicated"" }), ""image"": { ""properties"": { } }, ""expect"": fields.CPUAllocationPolicy.DEDICATED { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } }, ""expect"": exception.ImageCPUPinningForbidden { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } }, ""expect"": fields.CPUAllocationPolicy.SHARED { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""shared"" }), ""image"": { ""properties"": { } }, ""expect"": fields.CPUAllocationPolicy.SHARED { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { ""hw_cpu_policy"": ""dedicated"" } }, ""expect"": fields.CPUAllocationPolicy.DEDICATED { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { ""hw_cpu_policy"": ""shared"" } }, ""expect"": fields.CPUAllocationPolicy.SHARED { ""flavor"": objects.Flavor(), ""image"": { ""properties"": { } }, ""expect"": None { ""flavor"": objects.Flavor(extra_specs={ ""hw:cpu_policy"": ""invalid"" }), ""image"": { ""properties"": { } }, ""expect"": exception.InvalidCPUAllocationPolicy ] for testitem in testdata: image_meta = objects.ImageMeta.from_dict(testitem[""image""]) if testitem[""expect""] is None: cpu_policy = hw.get_cpu_policy_constraint( testitem[""flavor""], image_meta) self.assertIsNone(cpu_policy) elif type(testitem[""expect""]) == type: self.assertRaises(testitem[""expect""], hw.get_cpu_policy_constraint, testitem[""flavor""], image_meta) else: cpu_policy = hw.get_cpu_policy_constraint( testitem[""flavor""], image_meta) self.assertIsNotNone(cpu_policy) self.assertEqual(testitem[""expect""], cpu_policy)",124,110
openstack%2Ftacker~master~I302607f636d6d96baa544ccad600bb21fdf18da2,openstack/tacker,master,I302607f636d6d96baa544ccad600bb21fdf18da2,Fix failed test for creating vnf image,MERGED,2020-06-29 08:22:36.000000000,2020-07-03 00:32:48.000000000,2020-07-03 00:31:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-06-29 08:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/67b34708bf6e0b3851dd88af18caaa10709d59ca', 'message': ""WIP: Fix failed test for creating vnf image\n\nThe number of getting image URL is expected as '2', but '1' actually\nin test_pre_instantiation_vnf_image_with_file().\n\nCloses-Bug: #1885523\n\nChange-Id: I302607f636d6d96baa544ccad600bb21fdf18da2\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}, {'number': 2, 'created': '2020-06-30 06:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6ae59d961a10b631691b05c5cef331cd304380a2', 'message': ""WIP: Fix failed test for creating vnf image\n\nThe number of getting image URL is expected as '2', but '1' actually\nin test_pre_instantiation_vnf_image_with_file().\n\nCloses-Bug: #1885523\n\nChange-Id: I302607f636d6d96baa544ccad600bb21fdf18da2\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}, {'number': 3, 'created': '2020-06-30 09:06:32.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ad686ab84698ad0b7dc14a3463cf1b2e3107ea5f', 'message': 'Fix failed test for creating vnf image\n\nThe number of getting image URL is expected as `2`, but notactually\nin test_pre_instantiation_vnf_image_with_file(). The value can be `1`\nor `2` for `tox -e py36` or `tox -e lower-constraints`. It might be\nbecause of a difference of versions of modules imported in\nthe test cases.\n\nThis update is just a quick fixing to avoid the issue. So, it could be\nhappened again possibly if the versions of modules are changed.\n\nCloses-Bug: #1885523\n\nChange-Id: I302607f636d6d96baa544ccad600bb21fdf18da2\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",0,738393,ad686ab84698ad0b7dc14a3463cf1b2e3107ea5f,16,5,3,25701,,,0,"Fix failed test for creating vnf image

The number of getting image URL is expected as `2`, but notactually
in test_pre_instantiation_vnf_image_with_file(). The value can be `1`
or `2` for `tox -e py36` or `tox -e lower-constraints`. It might be
because of a difference of versions of modules imported in
the test cases.

This update is just a quick fixing to avoid the issue. So, it could be
happened again possibly if the versions of modules are changed.

Closes-Bug: #1885523

Change-Id: I302607f636d6d96baa544ccad600bb21fdf18da2
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/93/738393/3 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py'],1,67b34708bf6e0b3851dd88af18caaa10709d59ca,bug/1885523," self.assertEqual(get_image_url.call_count, 1)"," self.assertEqual(get_image_url.call_count, 2)",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,stable/train,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-07-02 20:39:28.000000000,2020-07-03 00:23:13.000000000,2020-07-03 00:21:44.000000000,"[{'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 20:39:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f5b3186f3b72b69a63a66c62f15a80cb23ebc0a', 'message': 'Use py3 for libselinux / libsemanage in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)\n'}]",0,739143,8f5b3186f3b72b69a63a66c62f15a80cb23ebc0a,9,4,1,18002,,,0,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/739143/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8f5b3186f3b72b69a63a66c62f15a80cb23ebc0a,bug/1885331-stable/ussuri-stable/train,# SELinux cent7 libselinux-python3 [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python3 [platform:redhat !platform:rhel-8 !platform:centos-8] # SELinux cent8 python3-libselinux [platform:rpm !platform:rhel-7 !platform:centos-7] python3-libsemanage [platform:redhat !platform:rhel-7 !platform:centos-7],# For SELinux libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],6,5
openstack%2Ftripleo-ansible~stable%2Fussuri~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,stable/ussuri,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-07-02 20:39:21.000000000,2020-07-03 00:22:09.000000000,2020-07-03 00:19:59.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 20:39:21.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a6174af21639ec100bbc055f171e6e95baff64d', 'message': 'Use py3 for libselinux / libsemanage in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)\n'}]",0,739142,4a6174af21639ec100bbc055f171e6e95baff64d,9,3,1,18002,,,0,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
(cherry picked from commit 15bbf6d176dd41ce942efd3efafd88690ddfe339)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/739142/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4a6174af21639ec100bbc055f171e6e95baff64d,bug/1885331-stable/ussuri,# SELinux cent7 libselinux-python3 [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python3 [platform:redhat !platform:rhel-8 !platform:centos-8] # SELinux cent8 python3-libselinux [platform:rpm !platform:rhel-7 !platform:centos-7] python3-libsemanage [platform:redhat !platform:rhel-7 !platform:centos-7],# For SELinux libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],6,5
openstack%2Frequirements~master~I73b35d9b727662664ddda07e754ca6b50667afa3,openstack/requirements,master,I73b35d9b727662664ddda07e754ca6b50667afa3,Updated from generate-constraints,ABANDONED,2020-06-14 07:04:33.000000000,2020-07-02 23:27:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-14 07:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e4c5a49dbe229539fe113ddcedd6b27a2efa3e3', 'message': 'Updated from generate-constraints\n\nChange-Id: I73b35d9b727662664ddda07e754ca6b50667afa3\n'}, {'number': 2, 'created': '2020-06-15 06:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/630fee51bbd3084a881edc375c8022f331b89a32', 'message': 'Updated from generate-constraints\n\nChange-Id: I73b35d9b727662664ddda07e754ca6b50667afa3\n'}, {'number': 3, 'created': '2020-06-16 06:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/379ca95dc3f47bd7a848714d3ef833907d56b57f', 'message': 'Updated from generate-constraints\n\nChange-Id: I73b35d9b727662664ddda07e754ca6b50667afa3\n'}, {'number': 4, 'created': '2020-06-17 06:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/912d33860ff592790bf13bd8151918060d15030f', 'message': 'Updated from generate-constraints\n\nChange-Id: I73b35d9b727662664ddda07e754ca6b50667afa3\n'}, {'number': 5, 'created': '2020-06-18 06:24:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c00365f5d76644194d43011c60f74940544f5bf6', 'message': 'Updated from generate-constraints\n\nChange-Id: I73b35d9b727662664ddda07e754ca6b50667afa3\n'}]",0,735450,c00365f5d76644194d43011c60f74940544f5bf6,16,1,5,11131,,,0,"Updated from generate-constraints

Change-Id: I73b35d9b727662664ddda07e754ca6b50667afa3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/735450/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9e4c5a49dbe229539fe113ddcedd6b27a2efa3e3,openstack/requirements/constraints,rsa===4.6google-auth===1.17.2mock===4.0.2google-api-python-client===1.9.3autobahn===20.6.1docutils===0.16boto3===1.14.2msgpack===1.0.0 Sphinx===3.1.1botocore===1.17.2python-troveclient===4.1.0importlib-resources===2.0.1;python_version=='3.6'virtualenv===20.0.23,rsa===4.0google-auth===1.16.1mock===3.0.5google-api-python-client===1.9.2autobahn===20.4.3docutils===0.15.2boto3===1.13.26msgpack===0.6.1 Sphinx===3.1.0botocore===1.16.26python-troveclient===4.0.0importlib-resources===1.5.0;python_version=='3.6'virtualenv===20.0.21,13,13
openstack%2Fos-brick~stable%2Frocky~Ie2db587c3bc379acd53cfd449788d171ae58dec5,openstack/os-brick,stable/rocky,Ie2db587c3bc379acd53cfd449788d171ae58dec5,"Fix ""Remove VxFlex OS credentials"" regression",MERGED,2020-06-18 02:24:07.000000000,2020-07-02 22:35:43.000000000,2020-07-02 21:55:38.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14892}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-06-18 02:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f54469b1aa2917c3c9e84542abd264984f12ca6a', 'message': 'Fix ""Remove VxFlex OS credentials"" regression\n\nChange I10a8aaddbf7dd09830cd4189cd1f99c0ad1f3b60 uses a ConfigParser\ninstance in a way that is incompatible with python 2.7, resulting in\na ""ConfigParser instance has no attribute \'__getitem__\'"" error.  This\npatch accesses the ConfigParser using the ""old"" API that works in both\nPython 2.7 and Python 3 and adds some tests.\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nCloses-Bug: 1883654\n(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)\n\nConflicts:\n\tos_brick/privileged/scaleio.py\n\nChange-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5\n'}, {'number': 2, 'created': '2020-06-18 12:50:40.000000000', 'files': ['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/867767ffdae124fcdb9b04a9089e226689c476d7', 'message': 'Fix ""Remove VxFlex OS credentials"" regression\n\nChange I10a8aaddbf7dd09830cd4189cd1f99c0ad1f3b60 uses a ConfigParser\ninstance in a way that is incompatible with python 2.7, resulting in\na ""ConfigParser instance has no attribute \'__getitem__\'"" error.  This\npatch accesses the ConfigParser using the ""old"" API that works in both\nPython 2.7 and Python 3 and adds some tests.\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5\nCloses-Bug: 1883654\n(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)\n(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)\nConflicts:\n- remove os_brick/privileged/scaleio.py (function with bug is in the\n  connector in this branch)\n- move the test file to tests/initiator/connectors/\n- modify the unit tests because the config file is accessed differently\n  in this branch\n'}]",1,736415,867767ffdae124fcdb9b04a9089e226689c476d7,43,12,2,31039,,,0,"Fix ""Remove VxFlex OS credentials"" regression

Change I10a8aaddbf7dd09830cd4189cd1f99c0ad1f3b60 uses a ConfigParser
instance in a way that is incompatible with python 2.7, resulting in
a ""ConfigParser instance has no attribute '__getitem__'"" error.  This
patch accesses the ConfigParser using the ""old"" API that works in both
Python 2.7 and Python 3 and adds some tests.

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5
Closes-Bug: 1883654
(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)
(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)
Conflicts:
- remove os_brick/privileged/scaleio.py (function with bug is in the
  connector in this branch)
- move the test file to tests/initiator/connectors/
- modify the unit tests because the config file is accessed differently
  in this branch
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/15/736415/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py']",3,f54469b1aa2917c3c9e84542abd264984f12ca6a,,"# Copyright 2020, Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import os from os_brick import exception from os_brick.initiator.connectors import scaleio from os_brick.tests import base EXPECTED_SECTION = ""scalio_test"" EXPECTED_PASSWORD = ""This is not a good password"" FAKE_CONF = """""" [DEFAULT] san_password = not me [{}] san_password = {} [section_2] san_password = not me either """""".format(EXPECTED_SECTION, EXPECTED_PASSWORD) class ScaleioGetPasswordTestCase(base.TestCase): """"""Check the get_connector_password function. Launchpad bug #1883654: a change that worked fine in the python 3-only branches broke when run under py2.7 in the stable branches. """""" def setUp(self): super(ScaleioGetPasswordTestCase, self).setUp() # The actual ScaleIO connector self.connector = scaleio.ScaleIOConnector('sudo') @mock.patch.object(os.path, 'isfile', return_value=False) def test_get_connector_password_bad_filename(self, mock_isfile): self.assertRaises(exception.BrickException, self.connector._get_connector_password, EXPECTED_SECTION) @mock.patch.object(scaleio.ScaleIOConnector, '_execute') @mock.patch.object(os.path, 'isfile', return_value=True) def test_get_connector_password(self, mock_isfile, mock_execute): mock_execute.return_value = (FAKE_CONF, 0) found_password = self.connector._get_connector_password( EXPECTED_SECTION) self.assertEqual(EXPECTED_PASSWORD, found_password) ",,91,1
openstack%2Ftripleo-repos~master~Ifb301609bf29a6a171c284647baea233a7dd07cc,openstack/tripleo-repos,master,Ifb301609bf29a6a171c284647baea233a7dd07cc,Fix component handling,MERGED,2020-06-18 19:28:19.000000000,2020-07-02 22:33:02.000000000,2020-07-02 22:33:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-18 19:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/98ae99913b77a355c79a0692f1407bfa38e372aa', 'message': 'Fix includepkgs\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}, {'number': 2, 'created': '2020-06-19 14:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/aea897b173e1b1531745fff661ce3e814ea621f2', 'message': 'Fix includepkgs\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}, {'number': 3, 'created': '2020-06-19 14:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/80b6ab4ef5680117afb8063c55716ff9e4ef37d5', 'message': 'Fix includepkgs\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}, {'number': 4, 'created': '2020-06-19 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ff6b81c9b2dc7189bb3384dc836c6aaa2fd38f50', 'message': 'Fix includepkgs\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}, {'number': 5, 'created': '2020-06-19 15:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/36abc0bcfcd3b67179351a867c13304ab939ac24', 'message': 'Fix component handling\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file. Additionally it adjusts the repo names to prevent conflicts\nand addresses priority is missing from a file with multiple repos.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}, {'number': 6, 'created': '2020-06-19 15:53:42.000000000', 'files': ['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f18928aa862d97814b6cd49bbcea955e45c5f3fb', 'message': 'Fix component handling\n\nSince the we split the repos into components, a single delorean repo\nfile can contain many repos. For current-tripleo-dev we only want to\ninclude certain packages from all the current repos. This change\nprocesses the repo file to append includepkgs to all repos defined in a\nsingle file. Additionally it adjusts the repo names to prevent conflicts\nand addresses priority is missing from a file with multiple repos.\n\nChange-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc\nCloses-Bug: #1884129\n'}]",13,736811,f18928aa862d97814b6cd49bbcea955e45c5f3fb,34,7,6,14985,,,0,"Fix component handling

Since the we split the repos into components, a single delorean repo
file can contain many repos. For current-tripleo-dev we only want to
include certain packages from all the current repos. This change
processes the repo file to append includepkgs to all repos defined in a
single file. Additionally it adjusts the repo names to prevent conflicts
and addresses priority is missing from a file with multiple repos.

Change-Id: Ifb301609bf29a6a171c284647baea233a7dd07cc
Closes-Bug: #1884129
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/11/736811/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py']",2,98ae99913b77a355c79a0692f1407bfa38e372aa,bug/1884129,"def _add_includepkgs(content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append(INCLUDE_PKGS) return ""\n"".join(new_content) content = _add_includepkgs(content)", content += '\n%s' % INCLUDE_PKGS,17,2
openstack%2Fcharm-ceph-fs~master~I2137edb851fbb7926f372783fa140d89190c813b,openstack/charm-ceph-fs,master,I2137edb851fbb7926f372783fa140d89190c813b,Remove duplicate requirement,MERGED,2020-07-01 16:01:37.000000000,2020-07-02 22:26:49.000000000,2020-07-02 22:01:03.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-01 16:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/3efc8e772f7844c804145d8de58bb9a82c313195', 'message': 'Remove duplicate requirement\n\nChange-Id: I2137edb851fbb7926f372783fa140d89190c813b\nCloses-Bug: #1885935\n'}, {'number': 2, 'created': '2020-07-02 11:50:10.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/4c02fa9c420e99ceb3bc0f2e667cbf611c3fe290', 'message': 'Remove duplicate requirement\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/342\nChange-Id: I2137edb851fbb7926f372783fa140d89190c813b\nCloses-Bug: #1885935\n'}]",0,738875,4c02fa9c420e99ceb3bc0f2e667cbf611c3fe290,36,5,2,13686,,,0,"Remove duplicate requirement

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/342
Change-Id: I2137edb851fbb7926f372783fa140d89190c813b
Closes-Bug: #1885935
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/75/738875/2 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,3efc8e772f7844c804145d8de58bb9a82c313195,bug/1885935,,jinja2,0,1
openstack%2Fironic~master~If692795221661414b2990f8131433678402dd45b,openstack/ironic,master,If692795221661414b2990f8131433678402dd45b,Add a bug reporting and triaging guide,MERGED,2020-06-23 10:22:03.000000000,2020-07-02 22:11:26.000000000,2020-07-02 21:45:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-06-23 10:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9f39fcda9380d164bbb259435693ea323af9c99', 'message': 'Add a bug reporting and triaging guide\n\nChange-Id: If692795221661414b2990f8131433678402dd45b\n'}, {'number': 2, 'created': '2020-06-23 10:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03f60b25e65862341e60e25ee019170b595732d1', 'message': 'Add a bug reporting and triaging guide\n\nChange-Id: If692795221661414b2990f8131433678402dd45b\n'}, {'number': 3, 'created': '2020-06-23 10:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97aeec54b57f7e1f6775f9e6629597a0fe670d98', 'message': 'Add a bug reporting and triaging guide\n\nChange-Id: If692795221661414b2990f8131433678402dd45b\n'}, {'number': 4, 'created': '2020-06-23 12:48:58.000000000', 'files': ['doc/source/contributor/bugs.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f5456759e176aff1402508096975424057dd943', 'message': 'Add a bug reporting and triaging guide\n\nChange-Id: If692795221661414b2990f8131433678402dd45b\n'}]",8,737483,2f5456759e176aff1402508096975424057dd943,25,8,4,10239,,,0,"Add a bug reporting and triaging guide

Change-Id: If692795221661414b2990f8131433678402dd45b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/737483/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/bugs.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst']",4,c9f39fcda9380d164bbb259435693ea323af9c99,triage-docs, Bugs Reporting and Triaging Guide <bugs>,,116,1
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~Ie02ef3dd6180128645e4932d50b489f399ea440d,openstack/openstack-ansible-os_horizon,stable/train,Ie02ef3dd6180128645e4932d50b489f399ea440d,Add octavia version to constraints,MERGED,2020-06-16 15:29:01.000000000,2020-07-02 22:06:32.000000000,2020-07-02 22:03:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-16 15:29:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/1dc7daecaa8a4f6f28ee06d6886ca419f9422420', 'message': ""Add octavia version to constraints\n\nAs we do octavia dashboard bumps, we should provide it's specific version\nas a constraint while creating venv\n\nChange-Id: Ie02ef3dd6180128645e4932d50b489f399ea440d\nCloses-bug: 1881874\n(cherry picked from commit 657648b033312f1f24f303bf4dee2a7ee320010a)\n""}]",0,735944,1dc7daecaa8a4f6f28ee06d6886ca419f9422420,20,3,1,25023,,,0,"Add octavia version to constraints

As we do octavia dashboard bumps, we should provide it's specific version
as a constraint while creating venv

Change-Id: Ie02ef3dd6180128645e4932d50b489f399ea440d
Closes-bug: 1881874
(cherry picked from commit 657648b033312f1f24f303bf4dee2a7ee320010a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/44/735944/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1dc7daecaa8a4f6f28ee06d6886ca419f9422420,octavia_ui-stable/train," - ""git+{{ octavia_dashboard_git_repo }}@{{ octavia_dashboard_git_install_branch }}#egg=octavia_dashboard""",,1,0
openstack%2Fironic~master~Ib53af28596dc1392f68c956efc6d8750de611c13,openstack/ironic,master,Ib53af28596dc1392f68c956efc6d8750de611c13,Enforce autospec in test_manager,MERGED,2020-07-01 13:41:30.000000000,2020-07-02 22:02:50.000000000,2020-07-02 21:45:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-01 13:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1e9e4be288f612657c6b216a941d22660fb11e4', 'message': 'Enforce autospec in test_manager\n\nAnd remove the corresponding H210 filter.\n\nChange-Id: Ib53af28596dc1392f68c956efc6d8750de611c13\n'}, {'number': 2, 'created': '2020-07-02 14:55:48.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00519ba619d0d382021a8bcd7f486f9c1b01d9af', 'message': 'Enforce autospec in test_manager\n\nAnd remove the corresponding H210 filter.\n\nChange-Id: Ib53af28596dc1392f68c956efc6d8750de611c13\n'}]",12,738848,00519ba619d0d382021a8bcd7f486f9c1b01d9af,15,6,2,23851,,,0,"Enforce autospec in test_manager

And remove the corresponding H210 filter.

Change-Id: Ib53af28596dc1392f68c956efc6d8750de611c13
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/738848/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_manager.py', 'tox.ini']",2,c1e9e4be288f612657c6b216a941d22660fb11e4,enforce-autospec,, ironic/tests/unit/conductor/test_manager.py:H210,421,278
openstack%2Fsushy-tools~master~Ia926a8f9d8debaff9763aeebcd986f9056cca700,openstack/sushy-tools,master,Ia926a8f9d8debaff9763aeebcd986f9056cca700,Support non-ide virtual media buses,MERGED,2020-07-01 16:01:29.000000000,2020-07-02 22:02:46.000000000,2020-07-02 22:00:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32157}]","[{'number': 1, 'created': '2020-07-01 16:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3460f32272edefababbddfb9a4c84dde9d1323e5', 'message': 'WIP: support non-ide virtual media buses\n\nChange-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700\n'}, {'number': 2, 'created': '2020-07-01 16:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/61463ae9f8c1c76e063609bbbe3ae58e097bdded', 'message': 'WIP: support non-ide virtual media buses\n\nChange-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700\n'}, {'number': 3, 'created': '2020-07-01 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e77dccdf37e4b2b152bc2cf9bb668dcba5cfb08e', 'message': 'Support non-ide virtual media buses\n\nStory: 2007881\nTask: 40249\n\nChange-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700\n'}, {'number': 4, 'created': '2020-07-01 18:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2b81e4021a6213f44425697912c6a65618438b0b', 'message': 'Support non-ide virtual media buses\n\nStory: 2007881\nTask: 40249\n\nChange-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700\n'}, {'number': 5, 'created': '2020-07-02 16:18:53.000000000', 'files': ['sushy_tools/tests/unit/emulator/domain-scsi.xml', 'sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/virtual-media-alternate-bus-6d984ae45acb7ac4.yaml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'sushy_tools/tests/unit/emulator/domain-sata.xml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ff2be838b9da25998202a93f2120d1350f2a1f6e', 'message': 'Support non-ide virtual media buses\n\nAlso fix a minor possible bug with interpretation of XML returning\na string trying to be compared to a number, and adds two test files\nand associated tests for the injection of SATA or SCSI removable\ndisk drives.\n\nStory: 2007881\nTask: 40249\n\nChange-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700\n'}]",6,738874,ff2be838b9da25998202a93f2120d1350f2a1f6e,23,6,5,11655,,,0,"Support non-ide virtual media buses

Also fix a minor possible bug with interpretation of XML returning
a string trying to be compared to a number, and adds two test files
and associated tests for the injection of SATA or SCSI removable
disk drives.

Story: 2007881
Task: 40249

Change-Id: Ia926a8f9d8debaff9763aeebcd986f9056cca700
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/74/738874/2 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/resources/systems/libvirtdriver.py'],1,3460f32272edefababbddfb9a4c84dde9d1323e5,738874," # target device, controller ID for libvirt domain constants.DEVICE_TYPE_CD: ('hdc', 'ide'), disk_elements = device_element.findall('disk') controller_type = 'ide' for disk_element in disk_elements: target_element = disk_element.find('target') if target_element is None: continue elif target_element.attrib.get('bus') == 'scsi': controller_type = 'scsi' elif target_element.attrib.get('bus') == 'sata': controller_type = 'sata' if controller_type == 'ide': tgt_dev, tgt_bus = self.DEVICE_TARGET_MAP[device] else: tgt_dev, tgt_bus = ('sdc', controller_type)"," # target device, controller ID constants.DEVICE_TYPE_CD: ('hdc', 'ide') tgt_dev, tgt_bus = self.DEVICE_TARGET_MAP[device]",18,3
openstack%2Fironic~master~I14ac07661b8741684dcf77ced9e782b57c947d79,openstack/ironic,master,I14ac07661b8741684dcf77ced9e782b57c947d79,Prepare release notes and docs for release 15.1,MERGED,2020-07-01 17:10:42.000000000,2020-07-02 21:54:16.000000000,2020-07-02 21:45:25.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-01 17:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c9c791f27848ae06f9a11b088605925b5bd1cd5', 'message': 'Prepare release notes for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 2, 'created': '2020-07-01 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68219f9993397d7300a2fa8159d9c2028e56e040', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 3, 'created': '2020-07-02 07:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef39233ca714d6c6cbf8ed41d2b0fe078a52d848', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 4, 'created': '2020-07-02 07:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f7ab072a86638bbe345f03c808d73ed9af7df14', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 5, 'created': '2020-07-02 07:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6421a40cb99f4455b704d92abde527138e98d098', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 6, 'created': '2020-07-02 08:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f99b197f7052a580ea83ba22057fd692953a99c', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}, {'number': 7, 'created': '2020-07-02 09:03:32.000000000', 'files': ['releasenotes/notes/http-basic-auth-f8c0536eba989918.yaml', 'releasenotes/notes/agent-power-off-2115fcfaac030bd0.yaml', 'releasenotes/notes/netboot-fallback-b208b2c3b40a0d01.yaml', 'releasenotes/notes/disable_periodic_task-590a91c0a5235cfb.yaml', 'releasenotes/notes/add-ibmc-raid-interface-0c13826e134fb4ce.yaml', 'releasenotes/notes/json-rpc-timeout-ac30eea164b3a294.yaml', 'doc/source/contributor/webapi-version-history.rst', 'releasenotes/notes/redfish-virtual-media-permission-fix-1909b9cdbbbf9fd1.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/15079e3c9c99327f2d75b88f7d97688bfb493bd6', 'message': 'Prepare release notes and docs for release 15.1\n\nChange-Id: I14ac07661b8741684dcf77ced9e782b57c947d79\n'}]",9,738900,15079e3c9c99327f2d75b88f7d97688bfb493bd6,29,6,7,23851,,,0,"Prepare release notes and docs for release 15.1

Change-Id: I14ac07661b8741684dcf77ced9e782b57c947d79
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/738900/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/http-basic-auth-f8c0536eba989918.yaml', 'releasenotes/notes/agent-power-off-2115fcfaac030bd0.yaml', 'releasenotes/notes/netboot-fallback-b208b2c3b40a0d01.yaml', 'releasenotes/notes/disable_periodic_task-590a91c0a5235cfb.yaml', 'releasenotes/notes/add-ibmc-raid-interface-0c13826e134fb4ce.yaml', 'releasenotes/notes/json-rpc-timeout-ac30eea164b3a294.yaml', 'releasenotes/notes/redfish-virtual-media-permission-fix-1909b9cdbbbf9fd1.yaml']",7,4c9c791f27848ae06f9a11b088605925b5bd1cd5,prep-renotes, driver is used. The default for the new ``[redfish]file_permission command line. Operators may need to check ``/httpboot/redfish`` folder permissions if using ``redfish-virtual-media`` if they were running the conductor with a specific ``umask`` to work around the permission setting defect. Fixes an issue where the folder ``/httpboot/redfish`` was being created with incorrect permissions.," Operators may need to check their ``/httpboot/redfish`` folder permissions if using ``redfish-virtual-media``. The conductor was previously creating the folder with incorrect permissions. - | driver is being used. The default for the new ``[redfish]file_permission command line. Operators MAY need to adjust this if they were running the conductor with a specific ``umask`` to work around the permission setting defect. Fixes the ``redfish-virtual-media`` and related based drivers to utilize an explicit file permission instead of rely upon the ironic-conductor umask, which may be incorrect. This can be tuned with the ``[redfish]file_permission`` setting. - | Fixes an issue where the default folder permission for the ``redfish-virtual-media`` driver where the folder permissions for the ``/httpboot/redfish`` folder was being created with incorrect permissions.",17,27
openstack%2Fglance_store~stable%2Fussuri~I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,openstack/glance_store,stable/ussuri,I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6,Add lock per share for cinder nfs mount/umount,MERGED,2020-05-11 17:44:05.000000000,2020-07-02 21:37:03.000000000,2020-07-02 21:35:33.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-05-11 17:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/44912c039435f1dca7db17fae74e825126a82d03', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n'}, {'number': 2, 'created': '2020-05-11 20:42:07.000000000', 'files': ['etc/glance/rootwrap.d/glance_cinder_store.filters', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/common/fs_mount.py', 'glance_store/_drivers/cinder.py', 'doc/source/conf.py', 'glance_store/tests/unit/common/test_fs_mount.py', 'glance_store/common/utils.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/exceptions.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e', 'message': 'Add lock per share for cinder nfs mount/umount\n\nWith cinder configured as glance store and nfs as cinder backend,\nif we create multiple images concurrently into the same share,\nthere might be race conditions.\nThis patch ensures a lock per export to avoid the race conditions.\n\nThis patch also introduces a reference counting mechamism for unmounting\nwhich will unmount the share if no active thread/process is using it.\n\nCloses-Bug: #1870289\n\nChange-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6\n(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)\n'}]",3,726914,b37e7f2f3c3faf3b6e4d11eeb3e866211e13b85e,11,4,2,8122,,,0,"Add lock per share for cinder nfs mount/umount

With cinder configured as glance store and nfs as cinder backend,
if we create multiple images concurrently into the same share,
there might be race conditions.
This patch ensures a lock per export to avoid the race conditions.

This patch also introduces a reference counting mechamism for unmounting
which will unmount the share if no active thread/process is using it.

Closes-Bug: #1870289

Change-Id: I9197f64e29a0ae2e0a58186f1a70aa134f7f1db6
(cherry picked from commit f5d46996139593f6249138bcc9f09b6120f0034a)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/14/726914/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance/rootwrap.d/glance_cinder_store.filters', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/common/fs_mount.py', 'glance_store/_drivers/cinder.py', 'doc/source/conf.py', 'glance_store/common/utils.py', 'glance_store/tests/unit/common/test_fs_mount.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/exceptions.py']",9,44912c039435f1dca7db17fae74e825126a82d03,bug/1870289," class HostNotInitialized(GlanceStoreException): message = _(""The glance cinder store host %(host)s which will used to "" ""perform nfs mount/umount operations isn't initialized."")",,587,9
openstack%2Fpuppet-tripleo~master~I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a,openstack/puppet-tripleo,master,I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a,Make the additional_erl_args change more independent,MERGED,2020-06-30 15:32:05.000000000,2020-07-02 21:01:56.000000000,2020-07-02 21:01:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 15:32:05.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cfc20b287f627cdcc54d0354780d1de472575127', 'message': ""Make the additional_erl_args change more independent\n\nIn I3bf244a70538209773804eb85fae6be035c587f4 we made sure that\nwe use the additional_erl_args to define parameters. This all\nworks well but it requires the corresponding THT change\n(I567839785a72813a382a00253562894e19eb6715). Let's make it so\nthat we can merge all the puppet changes without mandating the\nTHT change at the same time. This makes things easier when backporting.\n\nTested by deploying a queens environment with this change,\npuppet-rabbitmq from master and correctly got a working rabbitmq\ncluster. (I.e. we avoided deploying with the corresponding THT change)\n\nChange-Id: I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a\nRelated-Bug: #1884922\n""}]",0,738650,cfc20b287f627cdcc54d0354780d1de472575127,13,6,1,20172,,,0,"Make the additional_erl_args change more independent

In I3bf244a70538209773804eb85fae6be035c587f4 we made sure that
we use the additional_erl_args to define parameters. This all
works well but it requires the corresponding THT change
(I567839785a72813a382a00253562894e19eb6715). Let's make it so
that we can merge all the puppet changes without mandating the
THT change at the same time. This makes things easier when backporting.

Tested by deploying a queens environment with this change,
puppet-rabbitmq from master and correctly got a working rabbitmq
cluster. (I.e. we avoided deploying with the corresponding THT change)

Change-Id: I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a
Related-Bug: #1884922
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/738650/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,cfc20b287f627cdcc54d0354780d1de472575127,fixup," if $additional_erl_args != undef { $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') } else { $additional_erl_args_real = '' }"," $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G')",5,1
openstack%2Frequirements~stable%2Ftrain~If66d5a0926f7c4410f59718f2a62cf8409adac01,openstack/requirements,stable/train,If66d5a0926f7c4410f59718f2a62cf8409adac01,update constraint for oslo.utils to new release 3.41.6,MERGED,2020-07-02 10:36:01.000000000,2020-07-02 21:00:13.000000000,2020-07-02 21:00:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:36:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/77ac7b164f7d294ba80832324f4463101cf3fad9', 'message': 'update constraint for oslo.utils to new release 3.41.6\n\nChange-Id: If66d5a0926f7c4410f59718f2a62cf8409adac01\nmeta:version: 3.41.6\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,739012,77ac7b164f7d294ba80832324f4463101cf3fad9,7,3,1,11131,,,0,"update constraint for oslo.utils to new release 3.41.6

Change-Id: If66d5a0926f7c4410f59718f2a62cf8409adac01
meta:version: 3.41.6
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/739012/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,77ac7b164f7d294ba80832324f4463101cf3fad9,new-release,oslo.utils===3.41.6,oslo.utils===3.41.5,1,1
openstack%2Frequirements~stable%2Fussuri~Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e,openstack/requirements,stable/ussuri,Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e,update constraint for oslo.policy to new release 3.1.1,MERGED,2020-07-02 10:27:26.000000000,2020-07-02 21:00:11.000000000,2020-07-02 21:00:11.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:27:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f6932f2789861e0e95967cf7aa38749a0699e5c5', 'message': 'update constraint for oslo.policy to new release 3.1.1\n\nChange-Id: Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e\nmeta:version: 3.1.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,739008,f6932f2789861e0e95967cf7aa38749a0699e5c5,7,3,1,11131,,,0,"update constraint for oslo.policy to new release 3.1.1

Change-Id: Ic69595f6fdc3f4d2f5e89c6ac65371f164eec84e
meta:version: 3.1.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/739008/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f6932f2789861e0e95967cf7aa38749a0699e5c5,new-release,oslo.policy===3.1.1;python_version=='3.6' oslo.policy===3.1.1;python_version=='3.7' oslo.policy===3.1.1;python_version=='3.8',oslo.policy===3.1.0;python_version=='3.6' oslo.policy===3.1.0;python_version=='3.7' oslo.policy===3.1.0;python_version=='3.8',3,3
openstack%2Frequirements~stable%2Fussuri~I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a,openstack/requirements,stable/ussuri,I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a,update constraint for oslo.utils to new release 4.1.2,MERGED,2020-07-02 10:27:22.000000000,2020-07-02 21:00:09.000000000,2020-07-02 21:00:09.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:27:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5054c0186adc53ce0801f2967912cd0f9a6532b8', 'message': 'update constraint for oslo.utils to new release 4.1.2\n\nChange-Id: I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a\nmeta:version: 4.1.2\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,739007,5054c0186adc53ce0801f2967912cd0f9a6532b8,7,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.1.2

Change-Id: I8f4b746ea997974e1e1b860f84d5a4cc48a33a4a
meta:version: 4.1.2
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/739007/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5054c0186adc53ce0801f2967912cd0f9a6532b8,new-release,oslo.utils===4.1.2;python_version=='3.6' oslo.utils===4.1.2;python_version=='3.7' oslo.utils===4.1.2;python_version=='3.8',oslo.utils===4.1.1;python_version=='3.6' oslo.utils===4.1.1;python_version=='3.7' oslo.utils===4.1.1;python_version=='3.8',3,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,openstack/tripleo-heat-templates,stable/ussuri,I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9,Fix Error: invalid arguments you must use just one container,MERGED,2020-07-01 08:21:42.000000000,2020-07-02 21:00:01.000000000,2020-07-02 21:00:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-01 08:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0ca115a8854d39bf22ba4e46bd237b2cc9b8dbf', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nCloses-Bug: #1884731\nResolves: rhbz#1849211\n'}, {'number': 2, 'created': '2020-07-01 08:22:37.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51e697362557947cd2def74b34b17aeec28bf94b', 'message': 'Fix Error: invalid arguments you must use just one container\n\nThe podman ps command can return multiple containers, which\nmight happen during an upgrade, when an old container lingers on.\nWe want to copy the cert into all of them.\n\nChange-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9\nCloses-Bug: #1884731\nResolves: rhbz#1849211\n(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)\n'}]",0,738756,51e697362557947cd2def74b34b17aeec28bf94b,11,8,2,6816,,,0,"Fix Error: invalid arguments you must use just one container

The podman ps command can return multiple containers, which
might happen during an upgrade, when an old container lingers on.
We want to copy the cert into all of them.

Change-Id: I335b75feb9b01fa0e6a80d24b8c6ea79ca6480f9
Closes-Bug: #1884731
Resolves: rhbz#1849211
(cherry picked from commit d37579fd787185b292b5d547f5ac3cf17dd2fd9e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/738756/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,f0ca115a8854d39bf22ba4e46bd237b2cc9b8dbf,," - name: copy certificate, chgrp, restart haproxy shell: | {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }} {{ container_cli }} exec --user root {{ item }} chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP {{ item }} with_items: ""{{ container_id.stdout.split('\n') }}"""," - name: copy certificate from host to container shell: ""{{ container_cli }} cp {{ cert_path }} {{ container_id.stdout }}:{{ cert_path }}"" - name: set certificate group on host via container command: ""{{ container_cli }} exec --user root {{container_id.stdout}} chgrp haproxy {{ cert_path }}"" - name: send restart order to haproxy container command: ""{{ container_cli }} kill --signal=HUP {{ container_id.stdout }}""",6,6
openstack%2Ftripleo-heat-templates~master~I0f61016df6a9f07971c5eab51cc9674a1458c66f,openstack/tripleo-heat-templates,master,I0f61016df6a9f07971c5eab51cc9674a1458c66f,standalone/overcloud: enable the HA deployment by default,MERGED,2016-08-23 09:13:57.000000000,2020-07-02 20:46:20.000000000,2020-04-10 19:10:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23310}, {'_account_id': 25402}]","[{'number': 1, 'created': '2016-08-23 09:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dabcf82fc2e2096bf579e1a0d5f810c77b5199a', 'message': ""WIP DO NOT MERGE - Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to keep the non-ha\ndeployment as default any longer.\n\nWIP because this change will likely need some other changes in CI\njobs and I'd like to get feedback over the general idea first.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 2, 'created': '2016-08-23 11:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d409a01a79dcf2065cc26426955053511dfc9671', 'message': ""WIP DO NOT MERGE - Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to keep the non-ha\ndeployment as default any longer.\n\nWIP because this change will likely need some other changes in CI\njobs and I'd like to get feedback over the general idea first.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 3, 'created': '2016-08-24 06:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b615855108f45b06c4b127aedc9f43cb0135bc8', 'message': ""WIP DO NOT MERGE - Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to keep the non-ha\ndeployment as default any longer.\n\nWIP because this change will likely need some other changes in CI\njobs and I'd like to get feedback over the general idea first.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 4, 'created': '2016-10-16 20:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f07e17ff96b064577afd1b67039bef1225174a71', 'message': ""WIP DO NOT MERGE - Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to keep the non-ha\ndeployment as default any longer.\n\nWIP because this change will likely need some other changes in CI\njobs and I'd like to get feedback over the general idea first.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 5, 'created': '2016-12-23 17:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/022654262cf1e4f89678bbdef27010018a4bbc4d', 'message': ""WIP DO NOT MERGE - Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to keep the non-ha\ndeployment as default any longer.\n\nWIP because this change will likely need some other changes in CI\njobs and I'd like to get feedback over the general idea first.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 6, 'created': '2016-12-27 10:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efa5ccc57afc551ccecd4c6059bcfd5187adb79d', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users)\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 7, 'created': '2016-12-27 13:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1987cdb3a696ba815327564f7d0a2f1bf71ad0c5', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users)\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 8, 'created': '2017-01-10 20:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3725a9988173df65d723315ae3e52e879f4f128f', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Pike.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 9, 'created': '2017-01-16 00:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb1c5426d4d1910f18974ba56058187d5b880898', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Pike.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 10, 'created': '2017-01-17 12:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ad3e09668144c06da4bbf7241534d9a33fd10fe', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Pike.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 11, 'created': '2017-03-08 10:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f231d959a9ff5ef5d7f716a4755774385ab1ded2', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Pike.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 12, 'created': '2017-03-13 08:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cb2ed0f95fda78924d60592472a0fd68c3a0f50', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 13, 'created': '2017-03-13 08:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b104c3210ecb0c7a9167c546cdc1f39da4f15289', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 14, 'created': '2017-04-25 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2342319cab7975b093d3239b98c0d48a8267bcd', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 15, 'created': '2017-06-22 08:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de87de6546f17ba56ffeba1862514120d3747362', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 16, 'created': '2017-06-22 10:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fae3153be7161fc943a293b1e502810e5d7aa36', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 17, 'created': '2017-06-22 12:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74673878e9b4ba139b2e45268f61d3482756a3f4', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 18, 'created': '2017-06-23 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c71e482b2d93ffe031f517d7d57ca24eeaad5a9b', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 19, 'created': '2017-06-23 13:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb619829a7592adbec6fd9c0084260e6a4640f1b', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 20, 'created': '2017-06-26 14:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b57019fe2762f5e8b4c91e2eda0de29521d18aa', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 21, 'created': '2017-06-26 14:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da1a246328fa4edb7e4b835c8f6271f7733e535a', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 22, 'created': '2017-06-28 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ade7eb41437a976bd9af88a11e4fabb7ff5e177b', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 23, 'created': '2017-06-28 18:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97f07fb1b57b4396c53a83904162a1ad01649647', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 24, 'created': '2017-06-29 13:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b218438c57c0d491bd6bd06124fe5eb8262d36ce', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 25, 'created': '2017-07-05 08:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e0e6983a61a2428650dc3a4c83acfb3c548cc70', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 26, 'created': '2017-07-07 09:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82e42de1cea4791aadcdf88d58167f3327beefb6', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nWe will leave the environment/puppet-pacemaker.yaml around\nuntil Queens.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\nDepends-On: Ibfc86bc6e7f589a20fc82ad161d69e5c8c7a8cb8\nDepends-On: I5ff78b0b02b952bfba3c3bc512ffa77da3227b78\n'}, {'number': 27, 'created': '2019-05-07 15:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0860df31e17ff7f86d4ab2ff7cc5addc021829ca', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 28, 'created': '2019-05-07 15:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd4abf806d580612afa0fd0927e0998163b92423', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 29, 'created': '2019-05-07 15:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/421cbe1a155644a5b53bcf609f33c06e10f277b4', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 30, 'created': '2019-05-09 14:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3e4fb6979eb4efc7671e92e88fa266a07662745', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 31, 'created': '2019-05-09 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68e83ecf7d92addc9f83d3bad1d12b7df914f312', 'message': 'Enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 32, 'created': '2020-03-16 19:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcfd5a348088fa2804ac45e8238fbf51ec646a79', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 33, 'created': '2020-03-16 21:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9328c2bced5c8e9cbb0133d37dd138c263dd7c7a', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 34, 'created': '2020-03-17 15:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9ff564b2e669c654ee3607ec7d6e5a00062298b', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 35, 'created': '2020-03-17 17:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e2334e7b26741868808f19258834fae13689240', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 36, 'created': '2020-03-17 19:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6dbc33c0e99aaa6c4c02b49581d95e7418569cf', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 37, 'created': '2020-03-17 21:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62dc7cdba989fda05bbfbedb9a4829758ccc108e', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 38, 'created': '2020-03-17 21:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b71faaa6af8f15b516e9d20246b4b31f29aebc6', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 39, 'created': '2020-03-17 21:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35ef9022e0e4df5a3b70d5adf7a7ac9f812bbcf9', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 40, 'created': '2020-03-17 22:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f1254adc55de4b5adb2511cc45adc65d72e4821', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 41, 'created': '2020-03-18 13:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1250e91fd4281abb26939d79daa906312a77183', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 42, 'created': '2020-03-18 14:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/245fc5c5ba3b4204af96bd7850766b26e5f1db5d', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 43, 'created': '2020-03-18 14:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e14a2c920eb6d7ece817f130921db49f53df258', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 44, 'created': '2020-03-18 19:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0dc355f1a107193fd76bf6d7e12dc753b36a0162', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 45, 'created': '2020-03-18 20:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36bed970871f1b6a48180b2ec4305cab2744589a', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 46, 'created': '2020-03-18 20:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/035ad4c9bc1b0d2456721372595946b7aa27774d', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 47, 'created': '2020-03-18 21:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d66a0a6b48b62d2ab691d0796998f48f26a4873e', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 48, 'created': '2020-03-18 22:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25b4b71f6cbcda9b00c0df49bec27edef78216d6', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 49, 'created': '2020-03-18 23:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3afededd4e67cd484fcf8419eeffaf2515797f51', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 50, 'created': '2020-03-20 01:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc3199f36e4f142f7ca0a3a34cdd82c8433a99e2', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 51, 'created': '2020-03-20 20:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a81ae08e0c8e044283bfb5eb62fbd3ce0f126be6', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 52, 'created': '2020-03-20 22:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed1d6b3f45830d725c693deb623104c2a3eb4080', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 53, 'created': '2020-03-21 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62ab60102d64c0bdccd091644bdeed941fce3b62', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 54, 'created': '2020-03-22 04:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/953f6f5fed9d7fe0cdd04c6f073365123dcbd0eb', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 55, 'created': '2020-03-22 04:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e904ef716dc155db9937ced9208b2bd546e0c8c9', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 56, 'created': '2020-03-24 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8f463e9ca0d39a4e26bc21c2b9a7619090ab7ab', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 57, 'created': '2020-03-24 19:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6ead2da0e311599d213af0b300c87afef68fe77', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 58, 'created': '2020-03-25 02:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cf10d6515584105f487d68a7c1bc49c1424e0f4', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 59, 'created': '2020-03-25 15:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7baac4c4d932ea80da41a7ecc50947ba3d2eae24', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 60, 'created': '2020-03-25 19:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0528ef5564008c197770f3cdf6352be1d99c4ddc', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nDepends-On: https://review.opendev.org/715047\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 61, 'created': '2020-03-25 19:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4515aeaaf60582430882c0e4cd7486803eb6a14c', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nDepends-On: https://review.opendev.org/715047\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 62, 'created': '2020-03-26 02:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e23eae202ba970cfb96e7f8ecf6d595b73a3f84e', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nDepends-On: https://review.opendev.org/715112\nDepends-On: https://review.opendev.org/715047\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 63, 'created': '2020-03-26 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcccac1bb6ab81cda6a65c32eab4281d79180fb8', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 64, 'created': '2020-03-26 21:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/080bcf7389173d2362bbf1afcb979e3436cd56d6', 'message': ""standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Run the bootstrap mysql commands if /var/lib/mysql/tripleo-bootstrap.done\n  doesn't not exist. It will help for the transition from mysql to\n  galera in HA, and avoid missing clustercheck user permissions in\n  mysql.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n""}, {'number': 65, 'created': '2020-03-26 22:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf403bc85b38121f237861b479ec10290d51beec', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 66, 'created': '2020-03-27 11:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc33a7a1f300a1e07b16ebd7308dff409d6be4a5', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 67, 'created': '2020-03-27 15:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5f88186847824162208931a331122f7b6194a46', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n\nDepends-On: https://review.opendev.org/#/c/715251\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 68, 'created': '2020-03-27 15:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd492ff166d0bd51f5d7e4c745983306a540520a', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n\nDepends-On: https://review.opendev.org/#/c/715251\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 69, 'created': '2020-03-27 16:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb1726ed020884d5354f91aabcf13068c06dd97', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 70, 'created': '2020-03-27 18:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9efec41371d0c831bbc83581b5503249ccf808f', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 71, 'created': '2020-03-27 18:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1ec970c77d13b2f89d6a553cb4e501a77345b92', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 72, 'created': '2020-03-27 18:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f32c14cfbc4e43e75ede931a0672da75124d8935', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 73, 'created': '2020-03-27 19:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd548c85d6c145cb28c458b2676239683a71c73f', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 74, 'created': '2020-04-03 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e77149b9d6a9e3d63aadfcdbd6f9770f92e94e6', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 75, 'created': '2020-04-04 03:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67dcfa8c9d655ec33b06dfcb1199682b360b21a4', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/715273\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 76, 'created': '2020-04-09 21:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc84e01676ad4ead5c9fb204c73aca4a6c2d23da', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/718759\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 77, 'created': '2020-04-09 21:27:02.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'releasenotes/notes/pacemaker-by-default-c5d28ee8dc897c62.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.py', 'deployment/database/mysql-pacemaker-puppet.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'sample-env-generator/standalone.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'ci/environments/scenario004-standalone.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0e70081968c96af04d2858d040f97a67115391f', 'message': 'standalone/overcloud: enable the HA deployment by default\n\nWith the HA NG work having landed, the impact of pacemaker\nis reduced and only very few core services are being managed\nby pacemaker. Since the HA deployments work just fine\nwith a single node, it makes little sense to use the non-ha\ndeployment as default any longer (Also because downstream\nwe do the default to the HA deployment by default and this\nkeeps confusing users).\n\nThis patch does the following :\n\n* Remove Keepalived services from all CI scenarios running it.\n* Make sure all HA services deployed in CI run with Pacemaker.\n* Remove non HA containers so Pacemaker can\n  bootstrap the new containers safely.\n* Before removing mysql container, create the clustercheck user and\n  grant correct permissions to avoid bootstrap issues later when galera\n  is spawned.\n* Disable HA on the minor update job, it seems to not working fine if\n  only one controller is deployed.\n\nDepends-On: https://review.opendev.org/#/c/718759\nChange-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}]",35,359060,b0e70081968c96af04d2858d040f97a67115391f,284,19,77,20172,,,0,"standalone/overcloud: enable the HA deployment by default

With the HA NG work having landed, the impact of pacemaker
is reduced and only very few core services are being managed
by pacemaker. Since the HA deployments work just fine
with a single node, it makes little sense to use the non-ha
deployment as default any longer (Also because downstream
we do the default to the HA deployment by default and this
keeps confusing users).

This patch does the following :

* Remove Keepalived services from all CI scenarios running it.
* Make sure all HA services deployed in CI run with Pacemaker.
* Remove non HA containers so Pacemaker can
  bootstrap the new containers safely.
* Before removing mysql container, create the clustercheck user and
  grant correct permissions to avoid bootstrap issues later when galera
  is spawned.
* Disable HA on the minor update job, it seems to not working fine if
  only one controller is deployed.

Depends-On: https://review.opendev.org/#/c/718759
Change-Id: I0f61016df6a9f07971c5eab51cc9674a1458c66f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/359060/9 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.yaml', 'environments/puppet-pacemaker.yaml']",2,5dabcf82fc2e2096bf579e1a0d5f810c77b5199a,change-ha-default,,"# An environment which enables configuration of an # Overcloud controller with Pacemaker. resource_registry: OS::TripleO::ControllerConfig: ../puppet/controller-config-pacemaker.yaml OS::TripleO::Tasks::ControllerPrePuppet: ../extraconfig/tasks/pre_puppet_pacemaker.yaml OS::TripleO::Tasks::ControllerPostPuppet: ../extraconfig/tasks/post_puppet_pacemaker.yaml OS::TripleO::Tasks::ControllerPostPuppetRestart: ../extraconfig/tasks/post_puppet_pacemaker_restart.yaml # custom pacemaker services # NOTE: Please before adding any pacemaker-managed services, get in touch # with bandini, Ng or beekhof OS::TripleO::Services::CinderVolume: ../puppet/services/pacemaker/cinder-volume.yaml OS::TripleO::Services::RabbitMQ: ../puppet/services/pacemaker/rabbitmq.yaml OS::TripleO::Services::HAproxy: ../puppet/services/pacemaker/haproxy.yaml OS::TripleO::Services::Pacemaker: ../puppet/services/pacemaker.yaml OS::TripleO::Services::Redis: ../puppet/services/pacemaker/database/redis.yaml OS::TripleO::Services::MySQL: ../puppet/services/pacemaker/database/mysql.yaml # Services that are disabled by default (use relevant environment files): ",11,28
openstack%2Fcinder~stable%2Fussuri~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/ussuri,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-01 21:18:37.000000000,2020-07-02 20:42:58.000000000,2020-07-02 20:39:55.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-01 21:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f53353063e75ec355c8492c67544e1659fb9c99', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)\n""}, {'number': 2, 'created': '2020-07-01 21:20:30.000000000', 'files': ['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5358c996b40bbb0fd749ec182ff3ef67f5d71c16', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)\n""}]",0,738943,5358c996b40bbb0fd749ec182ff3ef67f5d71c16,24,14,2,14567,,,0,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/738943/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', '0001-Fix-cross-project-incremental-backups.patch', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",9,4f53353063e75ec355c8492c67544e1659fb9c99,bug/1869746,"def backup_get_all_by_volume(context, volume_id, vol_project_id, filters=None): authorize_project_context(context, vol_project_id)","def backup_get_all_by_volume(context, volume_id, filters=None): authorize_project_context(context, volume_id)",262,27
openstack%2Ftripleo-ansible~master~I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,openstack/tripleo-ansible,master,I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b,Use py3 for libselinux / libsemanage in Cent 7/8,MERGED,2020-06-30 14:43:19.000000000,2020-07-02 20:39:21.000000000,2020-07-02 20:27:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 14:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84d3006c20667b396cbaa5913f41105dc072fd3d', 'message': 'Use libselinux-python3 / libsemanage-python3 in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n'}, {'number': 2, 'created': '2020-07-02 17:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/175de7534711916b563138d9cdb9c34391aaedad', 'message': 'Use libselinux-python3 / libsemanage-python3 in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n'}, {'number': 3, 'created': '2020-07-02 17:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c73148b7c00eb3be63f8c3fc41b4c4acd330cdaf', 'message': 'Use libselinux-python3 / libsemanage-python3 in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n'}, {'number': 4, 'created': '2020-07-02 17:34:45.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15bbf6d176dd41ce942efd3efafd88690ddfe339', 'message': 'Use py3 for libselinux / libsemanage in Cent 7/8\n\nMolecule removed support for py2, but it continues to work\non centos-7.8 via python36. We no longer need py2 for Cent7\nbut trying to install the py2 version of these packages\ncauses Cent7 bug this patch closes.\n\nChange-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b\nCloses-Bug: #1885331\n'}]",2,738640,15bbf6d176dd41ce942efd3efafd88690ddfe339,20,5,4,18002,,,0,"Use py3 for libselinux / libsemanage in Cent 7/8

Molecule removed support for py2, but it continues to work
on centos-7.8 via python36. We no longer need py2 for Cent7
but trying to install the py2 version of these packages
causes Cent7 bug this patch closes.

Change-Id: I9806ce4ab9be81cd6bfc0f8ec840fd16a357528b
Closes-Bug: #1885331
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/738640/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,84d3006c20667b396cbaa5913f41105dc072fd3d,bug/1885331,libselinux-python3 libsemanage-python3,libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],2,4
openstack%2Ftripleo-ci~master~I0b5a6b97e3657c9d113a551513917ee8867fd804,openstack/tripleo-ci,master,I0b5a6b97e3657c9d113a551513917ee8867fd804,DNM run jobs with attempts 1 and patch,ABANDONED,2020-07-02 06:32:05.000000000,2020-07-02 20:33:52.000000000,,"[{'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 06:32:05.000000000', 'files': ['roles/disable_network_manager/tasks/main.yml', 'roles/tripleo-repos/tasks/main.yml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/base.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/oooci-build-images/defaults/main.yaml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'roles/ceph-loop-device/tasks/main.yml', 'zuul.d/layout.yaml', 'playbooks/tripleo-ci/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8b4647421ec7f3e531b3f68267541c54789657aa', 'message': 'DNM run jobs with attempts 1 and patch\n\nw/o disabling network manager\n\nDepends-On: https://review.opendev.org/#/c/738964/\nChange-Id: I0b5a6b97e3657c9d113a551513917ee8867fd804\n'}]",0,738966,8b4647421ec7f3e531b3f68267541c54789657aa,10,4,1,10969,,,0,"DNM run jobs with attempts 1 and patch

w/o disabling network manager

Depends-On: https://review.opendev.org/#/c/738964/
Change-Id: I0b5a6b97e3657c9d113a551513917ee8867fd804
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/738966/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/disable_network_manager/tasks/main.yml', 'roles/tripleo-repos/tasks/main.yml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/base.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/oooci-build-images/defaults/main.yaml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'roles/ceph-loop-device/tasks/main.yml', 'zuul.d/layout.yaml', 'playbooks/tripleo-ci/pre.yaml']",13,8b4647421ec7f3e531b3f68267541c54789657aa,testmyall,, - role: disable_network_manager,11,31
openstack%2Fnetworking-ovn~stable%2Ftrain~Idd184807de24c79dd892046f01e3acdd1168ca2d,openstack/networking-ovn,stable/train,Idd184807de24c79dd892046f01e3acdd1168ca2d,Set class ovsdb_conection to None,MERGED,2020-05-29 14:50:28.000000000,2020-07-02 20:31:46.000000000,2020-07-02 20:29:44.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-29 14:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/81bf61e0278c46a4ade2810061d4675e2ae4a0ce', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}, {'number': 2, 'created': '2020-06-08 13:14:41.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/98bc51144e532adda2557ad88a70bb39430e080a', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}]",0,731781,98bc51144e532adda2557ad88a70bb39430e080a,22,5,2,5756,,,0,"Set class ovsdb_conection to None

We override ovsdbapp's Backend class to change from using a class
variable for the ovsdb_connection to using an instance variable.
This means we have to override several different methods/properties.
This could be simplified in ovsdbapp by making ovsdb_connection a
property, which in ovsdbapp access a class variable, and in neutron
it is overridden to to store on the instance, so there would be
less to override.

ovsdbapp is adding user-definable indexed columns so things like
lookups by name will be faster. Due to the way it is architected,
the place to generate the indexes would be just before the
connection starts. Since methods like start_connection are
classmethods in ovsdbapp, and instance methods in neutron, this is
hard to do cleanly w/o ovsdb_connection being a property. Without
this change, neutron would fail if that property was defined. With
the change, it should pass with both old and new code.

Change-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d
(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/81/731781/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,81bf61e0278c46a4ade2810061d4675e2ae4a0ce,, ovsdb_connection = None,,1,0
openstack%2Fkolla-ansible~master~Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,openstack/kolla-ansible,master,Iabfa9afdcad505106a5580eb2d058273ee5f7c1f,Fix Fluentd date format for MariaDB xinetd,MERGED,2020-07-02 08:34:32.000000000,2020-07-02 20:25:35.000000000,2020-07-02 20:23:17.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26689}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 08:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5bfed5e5d59a1057fea36d3d20cb0ab7b354825', 'message': 'Time format in Ruby Time.strptime is not accepting padding flags, therefore we need to remove them for the Fluentd to be able to parse MariaDB xinetd logs properly.\n\nChange-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f\nCloses-Bug: #1886002\n'}, {'number': 2, 'created': '2020-07-02 08:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/768fd7601a602e828fa65c60cac50fccd1c9fc43', 'message': 'Time format in Ruby Time.strptime is not accepting padding flags\ntherefore we need to remove them for the Fluentd to be able\nto parse MariaDB xinetd logs properly.\n\nChange-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f\nCloses-Bug: #1886002\n'}, {'number': 3, 'created': '2020-07-02 08:46:44.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dda5269ce75526b90a2d8e3b7983d876d4193588', 'message': 'Fix Fluentd date format for MariaDB xinetd\n\nTime format in Ruby Time.strptime is not accepting padding flags,\ntherefore we need to remove them for the Fluentd to be able\nto parse MariaDB xinetd logs properly.\n\nChange-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f\nCloses-Bug: #1886002\n'}]",0,738983,dda5269ce75526b90a2d8e3b7983d876d4193588,15,4,3,26689,,,0,"Fix Fluentd date format for MariaDB xinetd

Time format in Ruby Time.strptime is not accepting padding flags,
therefore we need to remove them for the Fluentd to be able
to parse MariaDB xinetd logs properly.

Change-Id: Iabfa9afdcad505106a5580eb2d058273ee5f7c1f
Closes-Bug: #1886002
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/738983/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,c5bfed5e5d59a1057fea36d3d20cb0ab7b354825,bug-1886002, time_format %y/%m/%d@%T, time_format %y/%-m/%-d@%T,1,1
openstack%2Fkolla~master~I0d8695fde2a70509c7535d0d582136c0b0e7667b,openstack/kolla,master,I0d8695fde2a70509c7535d0d582136c0b0e7667b,Remove glance-registry container,MERGED,2020-07-02 09:13:49.000000000,2020-07-02 20:24:58.000000000,2020-07-02 20:22:38.000000000,"[{'_account_id': 14826}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 09:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/873275d84a0257acd91bca4c235876f2faedcb2e', 'message': 'Remove glance-registry container\n\nglance-registry service was deprecated in Queens release and has been\nremoved in Victoria [1].\n\n[1] https://review.opendev.org/#/c/738671/\n\nChange-Id: I0d8695fde2a70509c7535d0d582136c0b0e7667b\n'}, {'number': 2, 'created': '2020-07-02 10:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9d02c8a44a8f7a9f6cff35b8d74694335e6ef5b', 'message': 'Remove glance-registry container\n\nglance-registry service was deprecated in Queens release and has been\nremoved in Victoria [1].\n\n[1] https://review.opendev.org/#/c/738671/\n\nChange-Id: I0d8695fde2a70509c7535d0d582136c0b0e7667b\n'}, {'number': 3, 'created': '2020-07-02 10:55:00.000000000', 'files': ['releasenotes/notes/remove-glance-registry-4a5c3d54440f7c28.yaml', 'docker/glance/glance-registry/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a3c34c5975a289ca1cbd546db07ccc9a7f318c9', 'message': 'Remove glance-registry container\n\nglance-registry service was deprecated in Queens release and has been\nremoved in Victoria [1].\n\n[1] https://review.opendev.org/#/c/738671/\n\nChange-Id: I0d8695fde2a70509c7535d0d582136c0b0e7667b\n'}]",1,738998,3a3c34c5975a289ca1cbd546db07ccc9a7f318c9,21,5,3,16312,,,0,"Remove glance-registry container

glance-registry service was deprecated in Queens release and has been
removed in Victoria [1].

[1] https://review.opendev.org/#/c/738671/

Change-Id: I0d8695fde2a70509c7535d0d582136c0b0e7667b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/738998/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/containerize-openstack.rst', 'releasenotes/notes/remove-glance-registry-4a5c3d54440f7c28.yaml', 'docker/glance/glance-registry/Dockerfile.j2']",3,873275d84a0257acd91bca4c235876f2faedcb2e,remove-glance-registry,,"FROM {{ namespace }}/{{ image_prefix }}glance-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block glance_registry_header %}{% endblock %} {% block glance_registry_footer %}{% endblock %} {% block footer %}{% endblock %} USER glance ",5,13
openstack%2Ftempest~master~Iaccea41640a53b564f72cee73981e2e61d3e80ae,openstack/tempest,master,Iaccea41640a53b564f72cee73981e2e61d3e80ae,object storage: fix and cleanup header checks,MERGED,2020-06-17 16:16:24.000000000,2020-07-02 20:24:24.000000000,2020-07-02 20:22:23.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 11692}, {'_account_id': 12021}, {'_account_id': 14948}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-06-17 16:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc9e10b801f1530fd30a0cae932aa77b46d75264', 'message': 'WIP: fix and cleanup transfer-encoding/content-length checks in object storage tests\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses, which prevents running the Tempest case\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by extending the\ncustom_matcher checks to let them accept either a Content-Length\nor a Transfer-Encoding header.\n\nA side-effect is that the specific header checks in some tests\ncan now be replace by the generic checks from custom_matcher like\nthe rest of the tests.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\nCloses-Bug: 1819851\n'}, {'number': 2, 'created': '2020-06-17 16:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c08f9b4d3ed9f2025998e5ba31a39cc530e6f05', 'message': 'WIP: object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses, which prevents running the Tempest case\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by extending the\ncustom_matcher checks to let them accept either a Content-Length\nor a Transfer-Encoding header.\n\nA side-effect is that the specific header checks in some tests\ncan now be replace by the generic checks from custom_matcher like\nthe rest of the tests.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\nCloses-Bug: 1819851\n'}, {'number': 3, 'created': '2020-06-18 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c327ba1aef57724d6bf055ac564a26d21e83d615', 'message': 'object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses, which prevents running the Tempest case\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by extending the\ncustom_matcher checks to let them accept either a Content-Length\nor a Transfer-Encoding header.\n\nA side-effect is that the specific header checks in some tests\ncan now be replace by the generic checks from custom_matcher like\nthe rest of the tests.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\nCloses-Bug: 1819851\n'}, {'number': 4, 'created': '2020-06-18 10:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8dc11c9a6e091d5277a49e0803a3c81ad9849450', 'message': 'object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses, which prevents running the Tempest case\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by extending the\ncustom_matcher checks to let them accept either a Content-Length\nor a Transfer-Encoding header.\n\nA side-effect is that the specific header checks in some tests\nis now be replaced by the generic checks from custom_matcher like\nthe rest of the tests.\n\nSome adaptation was required to avoid trying to process for \'etag\'\nfot DELETE requests.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nCloses-Bug: 1819851\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\n'}, {'number': 5, 'created': '2020-06-18 13:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8a2eae289c3f8eb028270cf22787b5b994c9b6a', 'message': 'object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses, which prevents running the Tempest case\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by the use\nof the existing check methods, after modifying the\ncustom_matcher checks on which these methods rely, to accept\neither a Content-Length or a Transfer-Encoding header.\n\nSome adaptation was also required to avoid trying to process for \'etag\'\nfot DELETE requests.\n\nA side-effect of this change is a code simplification and\ncleanup since the specific header checks in some tests are\nreplaced by the generic check methods.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nCloses-Bug: 1819851\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\n'}, {'number': 6, 'created': '2020-06-18 13:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8a487f86f24caa3fea68adb78fae64381bb3d09', 'message': 'object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses. That prevents running some tests\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by the use\nof the existing check methods, after modifying the\ncustom_matcher checks on which these methods rely on to accept\neither a Content-Length or a Transfer-Encoding header.\n\nSome adaptation was also required to avoid trying to process \'etag\'\nfor DELETE requests.\n\nA side-effect of this change is a code simplification and\ncleanup since the specific header checks in the corresponding\ntests are replaced by the generic check methods.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nCloses-Bug: 1819851\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\n'}, {'number': 7, 'created': '2020-06-29 21:25:05.000000000', 'files': ['tempest/api/object_storage/test_account_bulk.py', 'tempest/api/object_storage/test_object_slo.py', 'tempest/common/custom_matchers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/42e111c7d8f1cdb5d51a1c4f2ce5c64c3d3471f1', 'message': 'object storage: fix and cleanup header checks\n\nAs explained in [1] it is not legitimate to require a Transfer-Encoding\nheader in Swift responses. That prevents running some tests\nsuccessfully in the case where Swift is behind a proxy/load-balancer\nthat does not use any Transfer-Encoding in its responses.\n\nThis change hence removes the checks for the presence of a\n""Transfer-Encoding"" header, and replaces them by the use\nof the existing check methods, after modifying the\ncustom_matcher checks on which these methods rely on to accept\neither a Content-Length or a Transfer-Encoding header.\n\nSome adaptation was also required to avoid trying to process \'etag\'\nfor DELETE requests.\n\nA side-effect of this change is a code simplification and\ncleanup since the specific header checks in the corresponding\ntests are replaced by the generic check methods.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3\n\nCloses-Bug: 1819851\nChange-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae\n'}]",5,736292,42e111c7d8f1cdb5d51a1c4f2ce5c64c3d3471f1,37,9,7,12021,,,0,"object storage: fix and cleanup header checks

As explained in [1] it is not legitimate to require a Transfer-Encoding
header in Swift responses. That prevents running some tests
successfully in the case where Swift is behind a proxy/load-balancer
that does not use any Transfer-Encoding in its responses.

This change hence removes the checks for the presence of a
""Transfer-Encoding"" header, and replaces them by the use
of the existing check methods, after modifying the
custom_matcher checks on which these methods rely on to accept
either a Content-Length or a Transfer-Encoding header.

Some adaptation was also required to avoid trying to process 'etag'
for DELETE requests.

A side-effect of this change is a code simplification and
cleanup since the specific header checks in the corresponding
tests are replaced by the generic check methods.

[1] https://bugs.launchpad.net/tempest/+bug/1819851/comments/3

Closes-Bug: 1819851
Change-Id: Iaccea41640a53b564f72cee73981e2e61d3e80ae
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/736292/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_account_bulk.py', 'tempest/api/object_storage/test_object_slo.py', 'tempest/common/custom_matchers.py']",3,dc9e10b801f1530fd30a0cae932aa77b46d75264,bug/1819851," 'transfer-encoding' not in actual and self._content_length_required(actual)): return NonExistentHeaders(['content-length', 'transfer-encoding'])class NonExistentHeaders(object): """"""Informs an error message in the case of missing certain headers"""""" def __init__(self, headers): self.headers = headers def describe(self): return ""none of these headers exist: %s"" % self.headers def get_details(self): return {}", self._content_length_required(actual)): return NonExistentHeader('content-length'),17,45
openstack%2Fpuppet-placement~master~I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b,openstack/puppet-placement,master,I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b,Use workers instead of threads in wsgi by default,MERGED,2020-06-30 14:12:31.000000000,2020-07-02 20:07:31.000000000,2020-07-02 20:05:57.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/c83477dad451bf7f5de19408e500b679de40ade9', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi configuration to realize concurrency of api process.\n\nThis patch makes puppet-placement follow that standard by default,\nso that the default setup can be more consisten among all puppet\nmodules.\n\nChange-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b\n'}, {'number': 2, 'created': '2020-06-30 14:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/1f0d4b9b5943103d17a05f2f62539c72cc57fd49', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-placement follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b\n'}, {'number': 3, 'created': '2020-06-30 23:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/03983c35acca275852882c545e67a9eff5204fbe', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-placement follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b\n'}, {'number': 4, 'created': '2020-06-30 23:10:44.000000000', 'files': ['releasenotes/notes/wsgi-use-workers-b096fb4e67ad72d2.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_wsgi_apache.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/ac6e4e999b61760ed0c316e8ff77c31a5ab04682', 'message': 'Use workers instead of threads in wsgi by default\n\nIn most of puppet-openstack modules, we use workers instead of threads\nin wsgi to realize concurrency of api process by default.\n\nThis patch makes puppet-placement follow that standard configuration,\nso that the default setup can be more consistent among all modules.\n\nChange-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b\n'}]",1,738630,ac6e4e999b61760ed0c316e8ff77c31a5ab04682,13,3,4,9816,,,0,"Use workers instead of threads in wsgi by default

In most of puppet-openstack modules, we use workers instead of threads
in wsgi to realize concurrency of api process by default.

This patch makes puppet-placement follow that standard configuration,
so that the default setup can be more consistent among all modules.

Change-Id: I7be4c1a5a61fcb8236d58804b9502cf7e3d0718b
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/30/738630/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wsgi-use-workers-b096fb4e67ad72d2.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_wsgi_apache.rb']",3,c83477dad451bf7f5de19408e500b679de40ade9,wsgi-workers," :threads => 1, :workers => facts[:os_workers],"," :threads => facts[:os_workers], :workers => 1,",11,6
openstack%2Fironic-python-agent~stable%2Ftrain~I6d11edc9a3156f2bdc21c3d432ecc7625d652699,openstack/ironic-python-agent,stable/train,I6d11edc9a3156f2bdc21c3d432ecc7625d652699,"Extend retries to 9, 10 seconds apart.",MERGED,2020-06-29 22:52:30.000000000,2020-07-02 19:36:54.000000000,2020-07-02 13:36:39.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-29 22:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9fd3e6f691d034c3a271a20d3fe384e22e333442', 'message': 'Extend retries to 9, 10 seconds apart.\n\nThe download retry interval was previously five seconds which is\nnot long enough to recover after a hard network connectivity break\nwhere we may be reliant upon network port forwarding hold-down\ntimers or even routing protocol route propogation to recover\ncommunication.\n\nPreviously the time value was 5 seconds, with 3 attempts, meaning\n15 seconds total ignoring the error detection timeouts.\n\nNow it is 10 seconds, with 10 attempts, meaning 100 seconds before\nthe error detection timeouts.\n\nChange-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699\n(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)\n(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)\n'}, {'number': 2, 'created': '2020-06-30 08:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/68841c26cf54f4bfe51fcc63b54f7d14f407d671', 'message': 'Extend retries to 9, 10 seconds apart.\n\nThe download retry interval was previously five seconds which is\nnot long enough to recover after a hard network connectivity break\nwhere we may be reliant upon network port forwarding hold-down\ntimers or even routing protocol route propogation to recover\ncommunication.\n\nPreviously the time value was 5 seconds, with 3 attempts, meaning\n15 seconds total ignoring the error detection timeouts.\n\nNow it is 10 seconds, with 10 attempts, meaning 100 seconds before\nthe error detection timeouts.\n\nChange-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699\n(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)\n(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)\n'}, {'number': 3, 'created': '2020-07-01 08:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4848b0a3865a418d815c9b410da80e6913030aa5', 'message': 'Extend retries to 9, 10 seconds apart.\n\nThe download retry interval was previously five seconds which is\nnot long enough to recover after a hard network connectivity break\nwhere we may be reliant upon network port forwarding hold-down\ntimers or even routing protocol route propogation to recover\ncommunication.\n\nPreviously the time value was 5 seconds, with 3 attempts, meaning\n15 seconds total ignoring the error detection timeouts.\n\nNow it is 10 seconds, with 10 attempts, meaning 100 seconds before\nthe error detection timeouts.\n\nChange-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699\n(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)\n(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)\n'}, {'number': 4, 'created': '2020-07-02 07:57:31.000000000', 'files': ['releasenotes/notes/extend-retry-timeout-30c930a33d97c193.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/72ba11ac28199c47f03829173882275bf577958f', 'message': 'Extend retries to 9, 10 seconds apart.\n\nThe download retry interval was previously five seconds which is\nnot long enough to recover after a hard network connectivity break\nwhere we may be reliant upon network port forwarding hold-down\ntimers or even routing protocol route propogation to recover\ncommunication.\n\nPreviously the time value was 5 seconds, with 3 attempts, meaning\n15 seconds total ignoring the error detection timeouts.\n\nNow it is 10 seconds, with 10 attempts, meaning 100 seconds before\nthe error detection timeouts.\n\nChange-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699\n(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)\n(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)\n'}]",0,738534,72ba11ac28199c47f03829173882275bf577958f,19,4,4,11655,,,0,"Extend retries to 9, 10 seconds apart.

The download retry interval was previously five seconds which is
not long enough to recover after a hard network connectivity break
where we may be reliant upon network port forwarding hold-down
timers or even routing protocol route propogation to recover
communication.

Previously the time value was 5 seconds, with 3 attempts, meaning
15 seconds total ignoring the error detection timeouts.

Now it is 10 seconds, with 10 attempts, meaning 100 seconds before
the error detection timeouts.

Change-Id: I6d11edc9a3156f2bdc21c3d432ecc7625d652699
(cherry picked from commit c77a7df851a511a2503da2b50004ca2f34b9be3a)
(cherry picked from commit af0bf467a850d56e1f832688d5c1af35dd91f872)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/34/738534/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/extend-retry-timeout-30c930a33d97c193.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py']",3,9fd3e6f691d034c3a271a20d3fe384e22e333442,, self.config(image_download_connection_retry_interval=0) self.config(image_download_connection_retries=2) self.config(image_download_connection_retries=2) sleep_mock.assert_called_with(10) sleep_mock.assert_called_with(10) self.config(image_download_connection_retry_interval=0), sleep_mock.assert_called_with(5) sleep_mock.assert_called_with(5),16,4
openstack%2Fopenstack-helm-infra~master~Id44948986609093b709e23e0d9f9eddd690fa2b8,openstack/openstack-helm-infra,master,Id44948986609093b709e23e0d9f9eddd690fa2b8,Fix ara installation,MERGED,2020-07-02 04:58:16.000000000,2020-07-02 19:29:07.000000000,2020-07-02 19:25:03.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-02 04:58:16.000000000', 'files': ['tools/gate/devel/start.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ecb58b85be010b941c779303661ac8b4065f9ab5', 'message': 'Fix ara installation\n\nUsing the latest ara supporting ansible 2.5.5\n\nChange-Id: Id44948986609093b709e23e0d9f9eddd690fa2b8\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,738956,ecb58b85be010b941c779303661ac8b4065f9ab5,8,5,1,8863,,,0,"Fix ara installation

Using the latest ara supporting ansible 2.5.5

Change-Id: Id44948986609093b709e23e0d9f9eddd690fa2b8
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/738956/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/devel/start.sh'],1,ecb58b85be010b941c779303661ac8b4065f9ab5,," ara==0.16.5 \export ANSIBLE_CALLBACK_PLUGINS=""$(python3 -m ara.setup.callback_plugins)"""," ara \export ANSIBLE_CALLBACK_PLUGINS=""$(python -c 'import os,ara; print(os.path.dirname(ara.__file__))')/plugins/callbacks""",2,2
openstack%2Fopenstack-helm-infra~master~Ib0ff95088c658fec3180f071269041faa7da2ecf,openstack/openstack-helm-infra,master,Ib0ff95088c658fec3180f071269041faa7da2ecf,Fix developers kubeadm installation,MERGED,2020-07-02 04:50:08.000000000,2020-07-02 19:21:38.000000000,2020-07-02 19:17:55.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-07-02 04:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddb853647f5692277720eca09b73ce7a6d7d8254', 'message': 'Fix developers kubeadm installation\n\nChange-Id: Ib0ff95088c658fec3180f071269041faa7da2ecf\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-02 04:52:30.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'tools/images/kubeadm-aio/assets/entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b49541f3006d9f1ef10d8221ec492a331ea01270', 'message': 'Fix developers kubeadm installation\n\nWaiting for kube-apiserver is failing with not finding python\nexecutable.\n\nChange-Id: Ib0ff95088c658fec3180f071269041faa7da2ecf\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,738953,b49541f3006d9f1ef10d8221ec492a331ea01270,11,6,2,8863,,,0,"Fix developers kubeadm installation

Waiting for kube-apiserver is failing with not finding python
executable.

Change-Id: Ib0ff95088c658fec3180f071269041faa7da2ecf
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/738953/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'tools/images/kubeadm-aio/assets/entrypoint.sh']",3,ddb853647f5692277720eca09b73ce7a6d7d8254,,"API_SERVER=$(cat /etc/kubernetes/admin.conf | python3 -c ""import sys, yaml; print(yaml.safe_load(sys.stdin)['clusters'][0]['cluster']['server'].split(\""//\"",1).pop())"")","API_SERVER=$(cat /etc/kubernetes/admin.conf | python -c ""import sys, yaml; print(yaml.safe_load(sys.stdin)['clusters'][0]['cluster']['server'].split(\""//\"",1).pop())"")",3,3
openstack%2Fnova~master~I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d,openstack/nova,master,I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d,Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal),MERGED,2020-07-01 02:27:42.000000000,2020-07-02 18:45:14.000000000,2020-07-02 18:40:44.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-01 02:27:42.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d541073da06a583681774b2ecb61bf5a9bd2d1', 'message': ""Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)\n\nIn Ubuntu Bionic (18.04) mysql 5.7 version used to create\nthe user implicitly when using using the GRANT.\n\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nNova unit and functional tests job using tools/test-setup.sh\nscript start failing when running on Ubuntu Focal\n\nhttps://zuul.opendev.org/t/openstack/build/8b0f4fcc21854655a638c413b6fe1a91\n\nError log:\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1064 (42000) at line 4: You have an error in your SQL syntax; check the manual\nthat corresponds to your MySQL server version for the right syntax to use near\n'identified by 'openstack_citest' WITH GRANT OPTION' at line 2\n\nStory: #2007865\nTask: #40200\n\nChange-Id: I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d\nCloses-Bug: #1885825\n""}]",0,738723,e0d541073da06a583681774b2ecb61bf5a9bd2d1,15,9,1,8556,,,0,"Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)

In Ubuntu Bionic (18.04) mysql 5.7 version used to create
the user implicitly when using using the GRANT.

Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

Nova unit and functional tests job using tools/test-setup.sh
script start failing when running on Ubuntu Focal

https://zuul.opendev.org/t/openstack/build/8b0f4fcc21854655a638c413b6fe1a91

Error log:
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1064 (42000) at line 4: You have an error in your SQL syntax; check the manual
that corresponds to your MySQL server version for the right syntax to use near
'identified by 'openstack_citest' WITH GRANT OPTION' at line 2

Story: #2007865
Task: #40200

Change-Id: I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d
Closes-Bug: #1885825
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/738723/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,e0d541073da06a583681774b2ecb61bf5a9bd2d1,migrate-to-focal," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fnova~master~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,master,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-06-26 19:52:23.000000000,2020-07-02 18:43:15.000000000,2020-07-02 18:40:35.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-26 19:52:23.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c48c6f52c9159767b60a4576ba37726156a5f7', 'message': ""Fix cherry-pick check for merge patch\n\nCherry-pick check script validates the proposed patch's commit message.\nIf a patch is not on top of the given branch then Zuul rebases it to\nthe top and the patch becomes a merge patch. In this case the script\nvalidates the merge patch's commit message instead of the original\npatch's commit message and fails.\n\nThis fix selects the parent of the patch if it is a merge patch.\n\nChange-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a\n""}]",3,738271,c7c48c6f52c9159767b60a4576ba37726156a5f7,20,12,1,17685,,,0,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/738271/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,c7c48c6f52c9159767b60a4576ba37726156a5f7,backport-hash-check,"commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p')",hashes=$(git show --format='%b' --quiet $1 | sed -nr 's/^.cherry picked from commit (.*).$/\1/p'),11,1
openstack%2Fopenstack-helm-infra~master~I10f42fd0cb43a951f480594d269fd998de5678bf,openstack/openstack-helm-infra,master,I10f42fd0cb43a951f480594d269fd998de5678bf,[CEPH] Make ceph-volume as default deployment tool,MERGED,2020-07-01 17:54:36.000000000,2020-07-02 18:13:31.000000000,2020-07-02 18:10:06.000000000,"[{'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-07-01 17:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25c6998772151927b50397c7297d51ca331c485a', 'message': '[CEPH] Make ceph-volume as default deployment tool\n\nThis is to make ceph-volume as default deployment tool\nsince support for ceph-disk got deprectated from Nautilus version of\nceph.\n\nChange-Id: I10f42fd0cb43a951f480594d269fd998de5678bf\n'}, {'number': 2, 'created': '2020-07-02 15:05:03.000000000', 'files': ['ceph-osd/values.yaml', 'tools/deployment/tenant-ceph/030-ceph.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bfe7a99a61e49ccd9ef9d73f181862646f92e6b8', 'message': '[CEPH] Make ceph-volume as default deployment tool\n\nThis is to make ceph-volume as default deployment tool\nsince support for ceph-disk got deprectated from Nautilus version of\nceph.\n\nChange-Id: I10f42fd0cb43a951f480594d269fd998de5678bf\n'}]",0,738908,bfe7a99a61e49ccd9ef9d73f181862646f92e6b8,17,7,2,28372,,,0,"[CEPH] Make ceph-volume as default deployment tool

This is to make ceph-volume as default deployment tool
since support for ceph-disk got deprectated from Nautilus version of
ceph.

Change-Id: I10f42fd0cb43a951f480594d269fd998de5678bf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/738908/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/values.yaml', 'tools/deployment/tenant-ceph/030-ceph.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh']",4,25c6998772151927b50397c7297d51ca331c485a,,,"deploy: tool: ""ceph-volume""",1,7
openstack%2Fkayobe~master~I0af07cf3cde5cf2ca2700c647eb40cc509379864,openstack/kayobe,master,I0af07cf3cde5cf2ca2700c647eb40cc509379864,Remove retired congress,MERGED,2020-05-29 14:23:26.000000000,2020-07-02 17:56:01.000000000,2020-07-02 17:53:46.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2020-05-29 14:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/64395db01e57b551e0c92c8f78fcf02f1c6be44c', 'message': 'Remove retired congress\n\nCongress has been retired, remove the congress stuff\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864\n'}, {'number': 2, 'created': '2020-06-14 05:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9945bcdeb27c686eb7d238ac8a54d9b1d36b8ee', 'message': 'Remove retired congress\n\nCongress has been retired, remove the congress stuff\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864\n'}, {'number': 3, 'created': '2020-06-16 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c817e2ef4fc845790280a2ef5769edc856b9238c', 'message': 'Remove retired congress\n\nCongress has been retired, remove the congress stuff\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864\n'}, {'number': 4, 'created': '2020-06-20 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/60c6f87a6c9e21014fcf39f1225c9ea598c61f15', 'message': 'Remove retired congress\n\nCongress has been retired, remove the congress stuff\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864\n'}, {'number': 5, 'created': '2020-06-23 15:26:01.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'releasenotes/notes/remove-congress-support-0f6a327de69e2173.yaml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c456f0b9b71caaa742847d93eab54baaed175940', 'message': 'Remove retired congress\n\nCongress has been retired, remove the congress stuff\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864\n'}]",0,731764,c456f0b9b71caaa742847d93eab54baaed175940,25,5,5,30356,,,0,"Remove retired congress

Congress has been retired, remove the congress stuff

See https://review.opendev.org/721742

Change-Id: I0af07cf3cde5cf2ca2700c647eb40cc509379864
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/731764/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-ansible/defaults/main.yml']",6,64395db01e57b551e0c92c8f78fcf02f1c6be44c,retire-congress,,#kolla_enable_congress:,0,19
openstack%2Fneutron~stable%2Fussuri~I4567f3d541d382b6432c1ab3d35276d81ce71d82,openstack/neutron,stable/ussuri,I4567f3d541d382b6432c1ab3d35276d81ce71d82,[OVN] Add support for router availability zones,MERGED,2020-06-26 14:33:20.000000000,2020-07-02 17:55:44.000000000,2020-07-02 17:47:52.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-26 14:33:20.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'releasenotes/notes/ovn-router-availability-zones-03a802ee19689474.yaml', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53e99b76a24b3635e2cc862be12697200c8f60cf', 'message': '[OVN] Add support for router availability zones\n\nThis patch is adding support for the router_availability_zone extension\nfor Neutron.\n\nThe OVN driver will now read from the router\'s availability_zone_hints\nfield and schedule the router ports onto OVN chassis belonging to those\nAZs.\n\nSince the OVN driver does not rely on the L3 agent, this patch does not\nre-use the configuration option for the agent to configure the\navailability zone that a Chassis belongs to (even because there\'s no\nconfiguration file in nodes such as networker nodes). Instead, this\npatch reuses the ""ovn-cms-options"" field from the local OVSDB to\nconfigure the Chassis. The follow syntax has been used:\n\n$ ovs-vsctl set Open_VSwitch .\nexternal-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""\n\nIn the example above, the Chassis has been configured to belong to two\nAZs: ""az0"" and ""az1"".\n\nThis patch also implements listing the availability zones:\n$ openstack availability zone list\n\nAs well as validating the router\'s availability zone hints:\n$ openstack router create --availability-zone-hint az0\n--availability-zone-hint az1 test_router\n\nThe above command would fail if there\'s no ""az0"" and ""az1"" configured in\nany OVN chassis.\n\nDocumentation for this feature is being written and will be submitted\nin a separated patch.\n\nPartial-Bug: #1881095\nChange-Id: I4567f3d541d382b6432c1ab3d35276d81ce71d82\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)\n'}]",1,738214,53e99b76a24b3635e2cc862be12697200c8f60cf,9,5,1,6773,,,0,"[OVN] Add support for router availability zones

This patch is adding support for the router_availability_zone extension
for Neutron.

The OVN driver will now read from the router's availability_zone_hints
field and schedule the router ports onto OVN chassis belonging to those
AZs.

Since the OVN driver does not rely on the L3 agent, this patch does not
re-use the configuration option for the agent to configure the
availability zone that a Chassis belongs to (even because there's no
configuration file in nodes such as networker nodes). Instead, this
patch reuses the ""ovn-cms-options"" field from the local OVSDB to
configure the Chassis. The follow syntax has been used:

$ ovs-vsctl set Open_VSwitch .
external-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""

In the example above, the Chassis has been configured to belong to two
AZs: ""az0"" and ""az1"".

This patch also implements listing the availability zones:
$ openstack availability zone list

As well as validating the router's availability zone hints:
$ openstack router create --availability-zone-hint az0
--availability-zone-hint az1 test_router

The above command would fail if there's no ""az0"" and ""az1"" configured in
any OVN chassis.

Documentation for this feature is being written and will be submitted
in a separated patch.

Partial-Bug: #1881095
Change-Id: I4567f3d541d382b6432c1ab3d35276d81ce71d82
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/738214/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'releasenotes/notes/ovn-router-availability-zones-03a802ee19689474.yaml', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",13,53e99b76a24b3635e2cc862be12697200c8f60cf,," # Override availability zone methods self.patch_plugin_merge(""get_availability_zones"", get_availability_zones) 'availability_zone': ', '.join( ovn_utils.get_chassis_availability_zones(chassis)), def list_availability_zones(self, context, filters=None): """"""List all availability zones from gateway chassis."""""" azs = {} # TODO(lucasagomes): In the future, once the agents API in OVN # gets more stable we should consider getting the information from # the availability zones from the agents API itself. That would # allow us to do things like: Do not schedule router ports on # chassis that are offline (via the ""alive"" attribute for agents). for ch in self._sb_ovn.chassis_list().execute(check_error=True): # Only take in consideration gateway chassis because that's where # the router ports are scheduled on if not ovn_utils.is_gateway_chassis(ch): continue azones = ovn_utils.get_chassis_availability_zones(ch) for azone in azones: azs[azone] = {'name': azone, 'resource': 'router', 'state': 'available', 'tenant_id': context.project_id} return azs def get_availability_zones(cls, context, _driver, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): return list(_driver.list_availability_zones(context, filters).values())"," 'availability_zone': 'n/a',",354,26
openstack%2Fironic~stable%2Fussuri~I7bb190c82fa3f166902884d1ea0da485cc743a65,openstack/ironic,stable/ussuri,I7bb190c82fa3f166902884d1ea0da485cc743a65,Fix fast track following managed inspection,MERGED,2020-07-02 07:58:51.000000000,2020-07-02 17:52:15.000000000,2020-07-02 17:49:27.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-02 07:58:51.000000000', 'files': ['releasenotes/notes/inspection-fast-track-ab5165e11d3e9522.yaml', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/af86e8dc3a90d0985dc56f9cdbe15e0089bdeed4', 'message': 'Fix fast track following managed inspection\n\nThe managed inspection does not provide ipa-api-url and the ramdisk\ncannot heartbeat, thus requiring a reboot. This change fixes it.\n\nChange-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65\n(cherry picked from commit f9eb43d1c07766d15da05689de22bc435440caeb)\n'}]",0,738977,af86e8dc3a90d0985dc56f9cdbe15e0089bdeed4,13,5,1,10239,,,0,"Fix fast track following managed inspection

The managed inspection does not provide ipa-api-url and the ramdisk
cannot heartbeat, thus requiring a reboot. This change fixes it.

Change-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65
(cherry picked from commit f9eb43d1c07766d15da05689de22bc435440caeb)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/738977/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/inspection-fast-track-ab5165e11d3e9522.yaml', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py']",3,af86e8dc3a90d0985dc56f9cdbe15e0089bdeed4,inspection-fast-track-stable/ussuri,from ironic.drivers.modules import deploy_utils if CONF.deploy.fast_track: params['ipa-api-url'] = deploy_utils.get_ironic_api_url(),,41,0
openstack%2Foctavia~stable%2Ftrain~Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564,openstack/octavia,stable/train,Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564,DNM - pep8 test for stable/train,ABANDONED,2020-05-13 16:52:16.000000000,2020-07-02 17:50:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-13 16:52:16.000000000', 'files': ['octavia/version.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/15ff8e4aa98d7d022c848865090b2f5b788d31b6', 'message': 'DNM - pep8 test for stable/train\n\nChange-Id: Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564\n'}]",0,727834,15ff8e4aa98d7d022c848865090b2f5b788d31b6,3,1,1,1131,,,0,"DNM - pep8 test for stable/train

Change-Id: Ied6b83a432bcc3eb5036da1bdbaa3ea7298f3564
",git fetch https://review.opendev.org/openstack/octavia refs/changes/34/727834/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/version.py'],1,15ff8e4aa98d7d022c848865090b2f5b788d31b6,pep8-test-train,# TESTING,,1,0
openstack%2Fneutron~stable%2Fussuri~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/ussuri,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:14:27.000000000,2020-07-02 17:50:15.000000000,2020-07-02 17:47:48.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 07:14:27.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87fae223fe399f9a66d2c98b60f9a3e0e8f78e2a', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}]",0,738740,87fae223fe399f9a66d2c98b60f9a3e0e8f78e2a,24,7,1,11975,,,0,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/738740/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,87fae223fe399f9a66d2c98b60f9a3e0e8f78e2a,improve-ovs-agent-logging-stable/ussuri," ""its vlan tag '%(vlan_tag)d'! "" ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'vlan_tag': lvm.vlan, 'new_vlan_tag': port_tags[port.port_name]}"," ""its vlan tag '%(vlan_tag)d'!"", 'vlan_tag': lvm.vlan}",4,2
openstack%2Fglance~master~I284271a458117b753a88b847598ca10ce4fb94fa,openstack/glance,master,I284271a458117b753a88b847598ca10ce4fb94fa,Add a test to replicate the owner-required behavior of copy-image,MERGED,2020-06-25 20:33:18.000000000,2020-07-02 17:50:02.000000000,2020-07-02 17:47:54.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 20:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/34ae329c45a2cfa209b33bc00ab04dd9cdf196c9', 'message': ""Add a test to replicate the owner-required behavior of copy-image\n\nRight now, image_import(method='copy-image') requires you to be the owner\nof the image. This adds a test that validates that behavior so we can measure\nthe difference of the next set of changes to modify that.\n\nChange-Id: I284271a458117b753a88b847598ca10ce4fb94fa\n""}, {'number': 2, 'created': '2020-06-30 21:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6d1a457f96da2f520856cbce1a2d476c7e3a2419', 'message': ""Add a test to replicate the owner-required behavior of copy-image\n\nRight now, image_import(method='copy-image') requires you to be the owner\nof the image. This adds a test that validates that behavior so we can measure\nthe difference of the next set of changes to modify that.\n\nChange-Id: I284271a458117b753a88b847598ca10ce4fb94fa\n""}, {'number': 3, 'created': '2020-07-01 15:41:55.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f450b9cf0314afeb9aa64ed687218b92b6a49321', 'message': ""Add a test to replicate the owner-required behavior of copy-image\n\nRight now, image_import(method='copy-image') requires you to be the owner\nof the image. This adds a test that validates that behavior so we can measure\nthe difference of the next set of changes to modify that.\n\nChange-Id: I284271a458117b753a88b847598ca10ce4fb94fa\n""}]",0,738101,f450b9cf0314afeb9aa64ed687218b92b6a49321,26,6,3,4393,,,0,"Add a test to replicate the owner-required behavior of copy-image

Right now, image_import(method='copy-image') requires you to be the owner
of the image. This adds a test that validates that behavior so we can measure
the difference of the next set of changes to modify that.

Change-Id: I284271a458117b753a88b847598ca10ce4fb94fa
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/738101/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,34ae329c45a2cfa209b33bc00ab04dd9cdf196c9,bug/1884587,"from glance.api import authorizationfrom glance.common import exception class TestImportCopyImageTask(test_utils.BaseTestCase): def setUp(self): super(TestImportCopyImageTask, self).setUp() self.context = context.RequestContext(user_id=TENANT1, project_id=TENANT1, overwrite=False) @mock.patch(""glance.async_.flows.api_image_import.image_import"") def test_copy_as_non_owner(self, mock_import): img_repo_db = mock.MagicMock() img_repo = authorization.ImageRepoProxy(img_repo_db, self.context) fake_req = {""method"": {""name"": ""copy-image""}, ""backend"": ['cheap']} # FIXME(danms): Right now, this fails with Forbidden because we # don't own the image self.assertRaises(exception.Forbidden, import_flow.get_flow, task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap'])",,32,0
openstack%2Foctavia~stable%2Fstein~I38990c686666c8501f78f003f1fa1e330cb3c33a,openstack/octavia,stable/stein,I38990c686666c8501f78f003f1fa1e330cb3c33a,DNM - pep8 test for stable/stein,ABANDONED,2020-05-13 16:51:21.000000000,2020-07-02 17:49:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-13 16:51:21.000000000', 'files': ['octavia/version.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/48c05c6aa85073650a74d5cbfb71d940b7de8acf', 'message': 'DNM - pep8 test for stable/stein\n\nChange-Id: I38990c686666c8501f78f003f1fa1e330cb3c33a\n'}]",0,727833,48c05c6aa85073650a74d5cbfb71d940b7de8acf,3,1,1,1131,,,0,"DNM - pep8 test for stable/stein

Change-Id: I38990c686666c8501f78f003f1fa1e330cb3c33a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/727833/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/version.py'],1,48c05c6aa85073650a74d5cbfb71d940b7de8acf,pep8-test-stein,# TESTING,,1,0
openstack%2Fironic-python-agent~stable%2Ftrain~I9217792d32e6f33c70f146a9b7d3ef58c5644d8a,openstack/ironic-python-agent,stable/train,I9217792d32e6f33c70f146a9b7d3ef58c5644d8a,Add full download retries,MERGED,2020-06-29 22:52:30.000000000,2020-07-02 17:34:44.000000000,2020-07-02 13:32:25.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-29 22:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/334ee11e8640ebe532b5f01f226b9353bc227deb', 'message': 'Add full download retries\n\nInstead of just trying to get the connection and handler\nfor the download, lets try to retry the whole action of\nof downloading.\n\nChange-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a\n(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)\n(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)\n'}, {'number': 2, 'created': '2020-06-30 08:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fde4a3ecaadb6d868604798249a3b092a32ac4f8', 'message': 'Add full download retries\n\nInstead of just trying to get the connection and handler\nfor the download, lets try to retry the whole action of\nof downloading.\n\nChange-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a\n(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)\n(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)\n'}, {'number': 3, 'created': '2020-07-01 08:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/02f192e2901c34fee34b2d94509f823d6a2c2c90', 'message': 'Add full download retries\n\nInstead of just trying to get the connection and handler\nfor the download, lets try to retry the whole action of\nof downloading.\n\nChange-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a\n(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)\n(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)\n'}, {'number': 4, 'created': '2020-07-02 07:57:20.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/agent-fully-retries-image-downloads-67409a493c6d08ae.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0e34f02b856aa56b3b101ff6f6e9d9ff2ac69d2d', 'message': 'Add full download retries\n\nInstead of just trying to get the connection and handler\nfor the download, lets try to retry the whole action of\nof downloading.\n\nChange-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a\n(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)\n(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)\n'}]",0,738533,0e34f02b856aa56b3b101ff6f6e9d9ff2ac69d2d,20,4,4,11655,,,0,"Add full download retries

Instead of just trying to get the connection and handler
for the download, lets try to retry the whole action of
of downloading.

Change-Id: I9217792d32e6f33c70f146a9b7d3ef58c5644d8a
(cherry picked from commit 159ab9f0ce7bec756f77bcec49331d0eefdd78f2)
(cherry picked from commit 1b15271a7d4594a3392597c547f9e73cf5ea07a4)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/33/738533/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/agent-fully-retries-image-downloads-67409a493c6d08ae.yaml']",3,334ee11e8640ebe532b5f01f226b9353bc227deb,,--- fixes: - | Fixes deployment failures when the image download is interrupted mid-stream while the contents are being downloaded. Previously retries were limited to only opening the initial connection. ,,83,29
openstack%2Fneutron~master~I62c29e172bc8705dade11d37bb347241ef8ad5f8,openstack/neutron,master,I62c29e172bc8705dade11d37bb347241ef8ad5f8,[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports,MERGED,2020-06-16 02:13:12.000000000,2020-07-02 17:19:42.000000000,2020-07-02 17:15:14.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-16 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb9e7f45878aaa32f825e84bb643cf20a841ce99', 'message': '[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports\n\nThis is the code behavior aligning for dvr related logical. The\nL3 dvr DB will remove all related FIP agent gateway port after there\nis no real use of it. But the DvrFipGatewayPortAgentBindings remain,\nit will cause the issue of new floating IP failed to bind. This\npatch adds the binding deleting action.\n\nRelated-bug: #1883089\nChange-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8\n'}, {'number': 2, 'created': '2020-06-16 13:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9329bf899be62f9c041eec31f3102ca65f5f14e9', 'message': '[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports\n\nThis is the code behavior aligning for dvr related logical. The\nL3 dvr DB will remove all related FIP agent gateway port after there\nis no real use of it. But the DvrFipGatewayPortAgentBindings remain,\nit will cause the issue of new floating IP failed to bind. This\npatch adds the binding deleting action.\n\nRelated-bug: #1883089\nChange-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8\n'}, {'number': 3, 'created': '2020-06-20 03:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91fe1d7bc230e4e904ef1d0bb038b60471746547', 'message': '[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports\n\nThis is the code behavior aligning for dvr related logical. The\nL3 dvr DB will remove all related FIP agent gateway port after there\nis no real use of it. But the DvrFipGatewayPortAgentBindings remain,\nit will cause the issue of new floating IP failed to bind. This\npatch adds the binding deleting action.\n\nRelated-bug: #1883089\nChange-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8\n'}, {'number': 4, 'created': '2020-07-01 15:55:56.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dee0d9a4eb4282b989f2c77a79e55aa89554788', 'message': '[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports\n\nThis is the code behavior aligning for dvr related logical. The\nL3 dvr DB will remove all related FIP agent gateway port after there\nis no real use of it. But the DvrFipGatewayPortAgentBindings remain,\nit will cause the issue of new floating IP failed to bind. This\npatch adds the binding deleting action.\n\nRelated-bug: #1883089\nChange-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8\n'}]",3,735762,8dee0d9a4eb4282b989f2c77a79e55aa89554788,38,10,4,9531,,,0,"[L3] Delete DvrFipGatewayPortAgentBindings after no gw ports

This is the code behavior aligning for dvr related logical. The
L3 dvr DB will remove all related FIP agent gateway port after there
is no real use of it. But the DvrFipGatewayPortAgentBindings remain,
it will cause the issue of new floating IP failed to bind. This
patch adds the binding deleting action.

Related-bug: #1883089
Change-Id: I62c29e172bc8705dade11d37bb347241ef8ad5f8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/735762/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvr_db.py'],1,cb9e7f45878aaa32f825e84bb643cf20a841ce99,bug/1883089," # Delete the Floating IP agent gateway port # bindings on all hosts l3_obj.DvrFipGatewayPortAgentBinding.delete_objects( context, network_id=network_id)",,5,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I0bbe42a86a0fc37700e789584acae564297e0bc8,openstack/openstack-ansible-openstack_hosts,master,I0bbe42a86a0fc37700e789584acae564297e0bc8,Fix CentOS functional test,MERGED,2020-06-22 17:25:43.000000000,2020-07-02 17:17:56.000000000,2020-07-02 00:37:47.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-22 17:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0b4e1e2da44e48b15e4771de3ad232351500f1d1', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 2, 'created': '2020-06-22 17:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/467c8145eb3033c2461171c17d5d1c882abf9736', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 3, 'created': '2020-06-22 17:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e23850ce665f87018b20988b59505ced9909400d', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 4, 'created': '2020-06-23 09:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/102f249ef006da0767a66461dce568f261e43020', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 5, 'created': '2020-06-23 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8e327e904ec04de3293f232db41d4ef069b71767', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 6, 'created': '2020-06-24 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/179fb3a7fb2e7f4591ca00bf54fd01a60823622c', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 7, 'created': '2020-06-24 15:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a10e927d10e24d1d29794cff3a386e9036074089', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 8, 'created': '2020-06-24 17:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/408da1b5a596e3d352affadcf522dd652b1fbbaa', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 9, 'created': '2020-06-24 18:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/fde66d2b8c2d9b9b19f5bdb5f16630b995cbab82', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}, {'number': 10, 'created': '2020-06-24 18:25:08.000000000', 'files': ['tests/ansible-role-requirements.yml', 'tests/test-create-ca.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/002362ba6b2e53ad1bdbbc1aa1d4539090416adf', 'message': 'Fix CentOS functional test\n\nChange-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8\n'}]",0,737331,002362ba6b2e53ad1bdbbc1aa1d4539090416adf,28,4,10,28619,,,0,"Fix CentOS functional test

Change-Id: I0bbe42a86a0fc37700e789584acae564297e0bc8
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/31/737331/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'tests/test-create-ca.yml']",2,0b4e1e2da44e48b15e4771de3ad232351500f1d1,, - python-pip - name: Install pyOpenSSL pip: name: pyOpenSSL,- name: Install pyOpenSSL pip: name: pyOpenSSL ,5,8
openstack%2Frequirements~master~I575b18220db4b0a2ce677f99df86486d3ab0f150,openstack/requirements,master,I575b18220db4b0a2ce677f99df86486d3ab0f150,"Revert ""Remove six from local requirements""",MERGED,2020-07-02 10:38:03.000000000,2020-07-02 17:17:42.000000000,2020-07-02 17:15:19.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:38:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/22c362cf6488e9967a3041328daf1395f25ea8fa', 'message': 'Revert ""Remove six from local requirements""\n\nThis reverts commit 9ee3854a500af72efd5d2147745d02e2fba2dd1a.\n\nThere are still a couple of tools using this, including things that pbr\ndepends on [1]\n\n[1] https://opendev.org/openstack/pbr/src/commit/9257b6843568052be1dc1a5f3df6f629795e08b2/pbr/tests/test_integration.py#L80-L83\n\nChange-Id: I575b18220db4b0a2ce677f99df86486d3ab0f150\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,739014,22c362cf6488e9967a3041328daf1395f25ea8fa,9,3,1,15334,,,0,"Revert ""Remove six from local requirements""

This reverts commit 9ee3854a500af72efd5d2147745d02e2fba2dd1a.

There are still a couple of tools using this, including things that pbr
depends on [1]

[1] https://opendev.org/openstack/pbr/src/commit/9257b6843568052be1dc1a5f3df6f629795e08b2/pbr/tests/test_integration.py#L80-L83

Change-Id: I575b18220db4b0a2ce677f99df86486d3ab0f150
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/739014/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,22c362cf6488e9967a3041328daf1395f25ea8fa,pbr-fixes,six>=1.10.0 # MIT,,1,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,openstack/openstack-ansible-lxc_container_create,master,I67b334c6ec173460ce3a2bcec0e5c083c4deee6b,Add Centos-8 support,MERGED,2020-06-18 21:49:03.000000000,2020-07-02 17:16:21.000000000,2020-07-02 14:45:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-06-18 21:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/74f8f26c3bb00c843e52c6b05ac9329e39d1ea09', 'message': 'Add Centos-8 support\n\nTo enable systemd-resolved service for container.\n\nChange-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b\n'}, {'number': 2, 'created': '2020-06-19 05:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b2334180cbabd50c1f5df11864084e393ede64a5', 'message': 'Add Centos-8 support\n\n- Ansible not enabling systemd-resolved so adding re-enable snippet (might be bug)\n\nChange-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b\n'}, {'number': 3, 'created': '2020-07-01 20:27:46.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/044dabe43565cff4b9d8c0b0eb23175e67897aa4', 'message': 'Add Centos-8 support\n\nChange-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b\n'}]",4,736850,044dabe43565cff4b9d8c0b0eb23175e67897aa4,16,4,3,28752,,,0,"Add Centos-8 support

Change-Id: I67b334c6ec173460ce3a2bcec0e5c083c4deee6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/50/736850/2 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,74f8f26c3bb00c843e52c6b05ac9329e39d1ea09,osa/el8, state: restarted, state: started,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,openstack/openstack-ansible-openstack_hosts,master,I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5,Enable PowerTools repository for distro installs,MERGED,2020-06-22 15:00:05.000000000,2020-07-02 17:16:07.000000000,2020-07-02 00:39:12.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-22 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0a809620ddec3fe3b6fc51bff9f03fa24c7886a8', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n""}, {'number': 2, 'created': '2020-06-22 17:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/993a4bb53927f06bc7164c17be55c606334dee33', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n""}, {'number': 3, 'created': '2020-06-22 17:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5dcb7e6d2148088bfd310d68a783cb9f9fc6e882', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n""}, {'number': 4, 'created': '2020-06-25 14:30:35.000000000', 'files': ['tests/group_vars/all.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5f6362fa5c2abc7e038706dd53a9f858608f6c39', 'message': ""Enable PowerTools repository for distro installs\n\nRDO repo relies on some libraties that are present in PowerTools\nrepository. This repo exists in base image, however is disabled.\nFrom the other side, zuul adds this repo with base jobs and enable it\nin CI by default.\nSo not to deal with getting right URL and etc, we're just running command\n\nChange-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5\n""}]",0,737284,5f6362fa5c2abc7e038706dd53a9f858608f6c39,18,4,4,28619,,,0,"Enable PowerTools repository for distro installs

RDO repo relies on some libraties that are present in PowerTools
repository. This repo exists in base image, however is disabled.
From the other side, zuul adds this repo with base jobs and enable it
in CI by default.
So not to deal with getting right URL and etc, we're just running command

Change-Id: I028dce38a4b7dbdd3683b4ad07bd2f5cd19ed1b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/84/737284/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_dnf.yml'],1,0a809620ddec3fe3b6fc51bff9f03fa24c7886a8,osa/el8," - name: Enable PowerTools repository command: yum-config-manager --enable PowerTools changed_when: false when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('8', '=') - install_method == 'distro'",,8,0
openstack%2Fopenstack-ansible-os_barbican~master~Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,openstack/openstack-ansible-os_barbican,master,Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1,Add Centos-8 support,MERGED,2020-06-19 05:17:44.000000000,2020-07-02 17:15:49.000000000,2020-07-01 22:03:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-19 05:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/8adee4196c87800ebfb27c0fad230f278183105f', 'message': 'Add Centos-8 support\n\nChange-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1\n'}, {'number': 2, 'created': '2020-06-25 14:12:43.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d61db1e68b77a1d7d9752af22efe990a2f12516e', 'message': 'Add Centos-8 support\n\nChange-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1\n'}]",1,736932,d61db1e68b77a1d7d9752af22efe990a2f12516e,16,4,2,28752,,,0,"Add Centos-8 support

Change-Id: Ic01d966160b2a95fc4047ead5a9c3e50f68ae1d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/32/736932/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,8adee4196c87800ebfb27c0fad230f278183105f,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python3-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - python-devel - systemd-python,2,2
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,openstack/openstack-ansible-lxc_hosts,master,Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4,Remove machinectl from LXC cache prep,MERGED,2020-06-15 19:00:29.000000000,2020-07-02 17:15:37.000000000,2020-07-01 18:10:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-06-15 19:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f61d3b2a270beca1533fafd7419175e08bb1c2d2', 'message': 'WIP - Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs.\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 2, 'created': '2020-06-15 21:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/62c5b8d8fda6838449d7f164160174eb64869040', 'message': 'WIP - Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs.\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 3, 'created': '2020-06-15 21:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/695e1638105de3dcb319abfc5e5c44fc3048a0c9', 'message': 'WIP - Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs.\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 4, 'created': '2020-06-16 06:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f14cd06e8f87a655b90197fc1d33c3eec971247d', 'message': 'Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 5, 'created': '2020-06-16 08:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/503be64cf6cbe4c02fe66115ada8796d6148c787', 'message': 'Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 6, 'created': '2020-06-16 08:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/de40d75497edf46b1c5b57ab4bfa4751d488c0ca', 'message': 'Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}, {'number': 7, 'created': '2020-06-17 14:16:31.000000000', 'files': ['tasks/lxc_volume.yml', 'templates/systemd-machined.service.j2', 'files/var-lib-machines.mount', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'tasks/lxc_post_install.yml', 'tasks/lxc_cache_create.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'templates/lxc-machinectl.j2', 'tasks/lxc_cache_preparation_simple.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'zuul.d/project.yaml', 'tasks/lxc_cache.yml', 'tasks/lxc_cache_preparation.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/da4f62b006177d67d9f5089938b27482d70acfb0', 'message': 'Remove machinectl from LXC cache prep\n\nmachinectl is only used to store the image during\ninitial cache preparation and is unrelated to the\nbacking store used by LXC.\n\nThis patch removes the use of machinectl and btrfs\nwhich makes the lxc_hosts role portable to centos-8\nwhich does not have btrfs\n\nChange-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4\n'}]",0,735656,da4f62b006177d67d9f5089938b27482d70acfb0,21,5,7,25023,,,0,"Remove machinectl from LXC cache prep

machinectl is only used to store the image during
initial cache preparation and is unrelated to the
backing store used by LXC.

This patch removes the use of machinectl and btrfs
which makes the lxc_hosts role portable to centos-8
which does not have btrfs

Change-Id: Ib03ea09fa5b4d4b6b3d5ca38a0a6c5cf67eb1df4
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/56/735656/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_dnf.yml', 'tasks/lxc_volume.yml', 'vars/redhat-7-host.yml', 'templates/systemd-machined.service.j2', 'files/var-lib-machines.mount', 'vars/redhat-8.yml', 'tasks/lxc_post_install.yml', 'tests/test.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml', 'tasks/lxc_net.yml', 'vars/redhat-8-host.yml', 'tasks/lxc_cache_preparation_simple.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache.yml', 'tasks/lxc_cache_preparation.yml', 'templates/prep-scripts/centos_8_prep.sh.j2']",17,f61d3b2a270beca1533fafd7419175e08bb1c2d2,osa/el8,"#!/usr/bin/env bash set -e -x {{ lxc_cache_prep_pre_commands }} {% include 'templates/prep-scripts/_container_sys_setup.sh.j2' %} if [[ -d ""/etc/pki/rpm-gpg"" ]]; then rpm --import /etc/pki/rpm-gpg/* || true fi # The containers do not need the LXC repository (only hosts need it). rm -f /etc/yum.repos.d/thm-lxc3.0* # Create dnf transaction file and run it all at once echo ""update"" > /tmp/package-transaction.txt echo ""install {{ lxc_cache_distro_packages | join(' ') }}"" >> /tmp/package-transaction.txt echo ""run"" >> /tmp/package-transaction.txt dnf -y shell /tmp/package-transaction.txt rm -f /tmp/package-transaction.txt rm /etc/machine-id || true rm /var/lib/dbus/machine-id || true rm /etc/sysctl.d/* || true echo '' > /etc/sysctl.conf touch /etc/machine-id dnf clean all mkdir -p /var/backup chage -I -1 -d -1 -m 0 -M 99999 -E -1 root # Set the IP of the lxcbr0 interface as the DNS server echo ""nameserver {{ lxc_net_address }}"" > /etc/resolv.conf {{ lxc_cache_prep_post_commands }} ",,296,284
openstack%2Fopenstack-ansible-os_placement~master~I36a0de736e266f53be1be02c4b07e741b46c819e,openstack/openstack-ansible-os_placement,master,I36a0de736e266f53be1be02c4b07e741b46c819e,Add Centos-8 support,MERGED,2020-06-16 10:58:25.000000000,2020-07-02 17:15:03.000000000,2020-07-01 15:08:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-16 10:58:25.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5bf27c4653ca9392f376a1fa0af7f328371826dc', 'message': 'Add Centos-8 support\n\nChange-Id: I36a0de736e266f53be1be02c4b07e741b46c819e\n'}]",0,735870,5bf27c4653ca9392f376a1fa0af7f328371826dc,11,4,1,28619,,,0,"Add Centos-8 support

Change-Id: I36a0de736e266f53be1be02c4b07e741b46c819e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/70/735870/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5bf27c4653ca9392f376a1fa0af7f328371826dc,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Fansible-role-systemd_networkd~master~I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,openstack/ansible-role-systemd_networkd,master,I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,Add CentOS 8 support,MERGED,2020-06-20 07:06:32.000000000,2020-07-02 17:14:53.000000000,2020-07-01 15:16:05.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-20 07:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/db59a383bb0233dfa52354bf5586b34503c8a3ec', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}, {'number': 2, 'created': '2020-06-20 16:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/236392bcd47ae70c5ab7ad2961f48015b9a55786', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}, {'number': 3, 'created': '2020-06-20 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/c0bb3dc2384a2522778bb5203fb594210b704072', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}, {'number': 4, 'created': '2020-06-20 20:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/0469e9f8c0610efffcd1abbc2dc50be90ec969ef', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}, {'number': 5, 'created': '2020-06-22 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/2ae07d3749f3ee3f4506d17afbb253a7b9a6e60c', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}, {'number': 6, 'created': '2020-06-23 09:44:30.000000000', 'files': ['tasks/main.yml', 'vars/redhat-8.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/438e946a064074765b8dda560ff0ad5a2bee5bb8', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n'}]",1,737122,438e946a064074765b8dda560ff0ad5a2bee5bb8,19,4,6,28619,,,0,"Add CentOS 8 support

Change-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/22/737122/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,db59a383bb0233dfa52354bf5586b34503c8a3ec,osa/el8,,,0,0
openstack%2Fopenstack-ansible-os_magnum~master~If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,openstack/openstack-ansible-os_magnum,master,If5b234d43cf9519c523b2b4a1ed1e27978e03fa9,Add Centos-8 support,MERGED,2020-06-19 05:54:11.000000000,2020-07-02 17:14:43.000000000,2020-07-01 15:29:18.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-19 05:54:11.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/372069994d0abfbca0e88a2cab469c7ad1a74c22', 'message': 'Add Centos-8 support\n\nChange-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9\n'}]",0,736937,372069994d0abfbca0e88a2cab469c7ad1a74c22,10,3,1,28752,,,0,"Add Centos-8 support

Change-Id: If5b234d43cf9519c523b2b4a1ed1e27978e03fa9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/37/736937/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,372069994d0abfbca0e88a2cab469c7ad1a74c22,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - python-devel,1,1
openstack%2Fansible-role-uwsgi~master~Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,openstack/ansible-role-uwsgi,master,Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2,Add Centos-8 support,MERGED,2020-06-16 13:11:37.000000000,2020-07-02 17:14:31.000000000,2020-07-01 14:52:05.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-16 13:11:37.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/aad1a016968af473b81c66c36b74f9a5fe3e9751', 'message': 'Add Centos-8 support\n\nChange-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2\n'}]",0,735909,aad1a016968af473b81c66c36b74f9a5fe3e9751,11,4,1,28619,,,0,"Add Centos-8 support

Change-Id: Ie1fb51bf019db1527c6eb6e74c5c8ab6589764e2
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/09/735909/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,aad1a016968af473b81c66c36b74f9a5fe3e9751,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('uwsgi-plugin-python', 'uwsgi-plugin-python3') }}""", - uwsgi-plugin-python,1,1
openstack%2Fopenstack-ansible-haproxy_server~master~I9f579e378effa92ce42ca6219ad7ec09e7feaecb,openstack/openstack-ansible-haproxy_server,master,I9f579e378effa92ce42ca6219ad7ec09e7feaecb,Add Centos-8 support,MERGED,2020-06-19 05:15:01.000000000,2020-07-02 17:14:19.000000000,2020-07-01 13:48:40.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-19 05:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/3be23674b726657d87412c31603685ec57772423', 'message': 'Add Centos-8 support\n\nChange-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb\n'}, {'number': 2, 'created': '2020-06-24 16:46:20.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/5b589d3dae12f8563d8d0135c10098e60bf19bce', 'message': 'Add Centos-8 support\n\nChange-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb\n'}]",0,736931,5b589d3dae12f8563d8d0135c10098e60bf19bce,11,3,2,28752,,,0,"Add Centos-8 support

Change-Id: I9f579e378effa92ce42ca6219ad7ec09e7feaecb
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/31/736931/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,3be23674b726657d87412c31603685ec57772423,osa/el8,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. haproxy_distro_packages: - haproxy - nc # Used for the Ansible haproxy module ",,18,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I35690f9a54337d6a268406ddcf6726f7040ac966,openstack/openstack-ansible-rabbitmq_server,master,I35690f9a54337d6a268406ddcf6726f7040ac966,Add Centos-8 support,MERGED,2020-06-15 10:21:25.000000000,2020-07-02 17:13:27.000000000,2020-06-25 17:55:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-06-15 10:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d6986f5b1a071c61bd6ef568931ff93c8d244838', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 2, 'created': '2020-06-15 12:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/178a1a0dfffa594b363b71304bd13ef25064c9d6', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 3, 'created': '2020-06-15 16:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ae80729d95f5d34af534a6c4aacb3b8b3d26e65b', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 4, 'created': '2020-06-15 16:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/733cc322ffc073ab5c59e5309ae258a13e6b8273', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 5, 'created': '2020-06-15 17:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/64e9a50236e75d149bba1cc54d52ef5ed8a203de', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 6, 'created': '2020-06-15 18:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/540812649c8243aa92cd5422d2d1afacb3acbc9c', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 7, 'created': '2020-06-15 22:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/39c37f1a836012b9f10a20c10bd66e4ac24cfe68', 'message': 'Add Centos-8 support\n\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 8, 'created': '2020-06-16 07:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f393e1b7c94caf90cff5a53c40ad5bbaa5e97a4e', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 9, 'created': '2020-06-18 20:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/07311c4d168bb49ddce637e491248a079308ddea', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 10, 'created': '2020-06-19 03:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c4a15b76b6aba0ecb08d3f67fc81a6614997b63b', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 11, 'created': '2020-06-19 16:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f1bd7d7985a66f2e088eebf14bacfa2316afa707', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}, {'number': 12, 'created': '2020-06-24 20:41:27.000000000', 'files': ['templates/rabbitmq-server.service.j2', 'tasks/rabbitmq_post_install.yml', 'vars/redhat.yml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/fc27e735a68b64cb3c67dd8abeaf324803a9845b', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nChange-Id: I35690f9a54337d6a268406ddcf6726f7040ac966\n'}]",0,735552,fc27e735a68b64cb3c67dd8abeaf324803a9845b,47,5,12,28619,,,0,"Add Centos-8 support

Depends-On: https://review.opendev.org/734672
Depends-On: https://review.opendev.org/735289
Change-Id: I35690f9a54337d6a268406ddcf6726f7040ac966
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/52/735552/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,d6986f5b1a071c61bd6ef568931ff93c8d244838,osa/el8," - erlang-22.3-1.el{{ ansible_distribution_major_version }}.x86_64 - ""rabbitmq-server-{{ rabbitmq_package_version }}.el{{ ansible_distribution_major_version }}.noarch"""," - erlang-22.3-1.el7.x86_64 - ""rabbitmq-server-{{ rabbitmq_package_version }}.el7.noarch""",2,2
openstack%2Fironic-python-agent~stable%2Ftrain~I7214fc9dbd903789c9e39ee809f05454aeb5a240,openstack/ironic-python-agent,stable/train,I7214fc9dbd903789c9e39ee809f05454aeb5a240,Add timeout operations to try and prevent hang on read(),MERGED,2020-06-29 22:52:30.000000000,2020-07-02 16:56:06.000000000,2020-07-02 12:12:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-29 22:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/471c5bee2cb7fcc4af0abad4d08434836c92df44', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n""}, {'number': 2, 'created': '2020-06-30 08:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b99b433c885609c27a3304ef0729ef53066a8f59', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n""}, {'number': 3, 'created': '2020-07-01 08:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e172ac40a2a61c92564146a9c5e87c096d44ad91', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n""}, {'number': 4, 'created': '2020-07-01 18:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d4a4c89ea78c5527746b7af52d4727120e5074ea', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n""}, {'number': 5, 'created': '2020-07-02 07:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8228359a03e7c5b2cc8573cdb216f613feb15d98', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n""}, {'number': 6, 'created': '2020-07-02 07:54:54.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/timeout_on_file_download-ed77918318316075.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/db925ba08fa33694e5e43d6ea13fe371c4a7a500', 'message': ""Add timeout operations to try and prevent hang on read()\n\nSocket read operations can be blocking and may not timeout as\nexpected when thinking of timeouts at the beginning of a\nsocket request. This can occur when streaming file contents\ndown to the agent and there is a hard connectivity break.\n\nIn other words, we could be in a situation like:\n\n- read(fd, len) - Gets data\n- Select returns context to the program, we do things with data.\n** hard connectivity break for next 90 seconds**\n-  read(fd, len) - We drain the in-memory buffer side of the socket.\n-  Select returns context, we do things with our remaining data\n** Server retransmits **\n** Server times out due to no ack **\n** Server closes socket and issues a FIN,RST packet to the client **\n** Connectivity restored, Client never got FIN,RST **\n** Client socket still waiting for more data **\n- read(fd, len) - No data returned\n- Select returns, yet we have no data to act on as the buffer is\n  empty OR the buffered data doesn't meet our requried read len value.\n  tl;dr noop\n- read(fd, len) <-- We continue to try and read until the socket is\n                    recognized as dead, which could be a long time.\n\nNOTE: The above read()s are python's read() on an contents being\n      streamed. Lower level reads exist, but brains will hurt\n      if we try to cover the dynamics at that level.\n\nAs such, we need to keep an eye on when the last time we\nreceived a packet, and treat that as if we have timed out\nor not. Requests periodically yeilds back even when no data\nhas been received, in order to allow the caller to wall\nclock the progress/status and take appropriate action.\n\nWhen we exceed the timeout time value with our wall clock,\nwe will fail the download.\n\n(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)\n(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)\n\nThis change incorporates the follow-up commit:\n\nFixes minor issues in the read() retries patch\n\nFollow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.\n\nTwo things slipped through the cracks:\n* ImageDownloadError was instantiated incorrectly, resulting in a wrong\n  error message. This was uncovered by using assertRaisesRegext in tests.\n* We allowed calling write(None). This was uncovered by avoiding sleep(4)\n  in tests and enabling more failed calls before timeout.\n\n(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240\n""}]",3,738532,db925ba08fa33694e5e43d6ea13fe371c4a7a500,30,4,6,11655,,,0,"Add timeout operations to try and prevent hang on read()

Socket read operations can be blocking and may not timeout as
expected when thinking of timeouts at the beginning of a
socket request. This can occur when streaming file contents
down to the agent and there is a hard connectivity break.

In other words, we could be in a situation like:

- read(fd, len) - Gets data
- Select returns context to the program, we do things with data.
** hard connectivity break for next 90 seconds**
-  read(fd, len) - We drain the in-memory buffer side of the socket.
-  Select returns context, we do things with our remaining data
** Server retransmits **
** Server times out due to no ack **
** Server closes socket and issues a FIN,RST packet to the client **
** Connectivity restored, Client never got FIN,RST **
** Client socket still waiting for more data **
- read(fd, len) - No data returned
- Select returns, yet we have no data to act on as the buffer is
  empty OR the buffered data doesn't meet our requried read len value.
  tl;dr noop
- read(fd, len) <-- We continue to try and read until the socket is
                    recognized as dead, which could be a long time.

NOTE: The above read()s are python's read() on an contents being
      streamed. Lower level reads exist, but brains will hurt
      if we try to cover the dynamics at that level.

As such, we need to keep an eye on when the last time we
received a packet, and treat that as if we have timed out
or not. Requests periodically yeilds back even when no data
has been received, in order to allow the caller to wall
clock the progress/status and take appropriate action.

When we exceed the timeout time value with our wall clock,
we will fail the download.

(cherry picked from commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8)
(cherry picked from commit 33c96d00661fd590e831310e1f0488e7185cf370)

This change incorporates the follow-up commit:

Fixes minor issues in the read() retries patch

Follow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.

Two things slipped through the cracks:
* ImageDownloadError was instantiated incorrectly, resulting in a wrong
  error message. This was uncovered by using assertRaisesRegext in tests.
* We allowed calling write(None). This was uncovered by avoiding sleep(4)
  in tests and enabling more failed calls before timeout.

(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I7214fc9dbd903789c9e39ee809f05454aeb5a240
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/738532/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/timeout_on_file_download-ed77918318316075.yaml']",3,471c5bee2cb7fcc4af0abad4d08434836c92df44,738532,--- fixes: - | Fixes failure to detect a hung file download connection in the event that the kernel has not rapidly detected that the remote server has hung up the socket. This can happen when there is intermittent and transient connectivity issues such as those that can occur due to LACP failure response hold-downs timers in switching fabrics. ,,93,2
openstack%2Fironic~master~Ifeca377c3ada3372406ff90bd72d81f90e9bde21,openstack/ironic,master,Ifeca377c3ada3372406ff90bd72d81f90e9bde21,Explicitly use python3 for ironic_lib_prefix,MERGED,2020-06-30 12:57:10.000000000,2020-07-02 16:39:00.000000000,2020-07-02 16:30:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-30 12:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/553cd07ce4df74423568e7807183e516ab2e3479', 'message': ""Explicitly use python3 for ironic_lib_prefix\n\nRecent changes to the CI made the python binary magically disappear\nin Ubuntu Focal based nodes.\nSince we currently support only python3 and the python3 binary is\n(hopefully) always present in all current distributions, let's\nswitch the last python binary call to python3.\n\nChange-Id: Ifeca377c3ada3372406ff90bd72d81f90e9bde21\n""}, {'number': 2, 'created': '2020-07-01 06:56:00.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1a4725fdd4cabb1863dd5e178f7fbb14f537093', 'message': ""Explicitly use python3 for ironic_lib_prefix\n\nRecent changes to the CI made the python binary magically disappear\nin Ubuntu Focal based nodes.\nSince we currently support only python3 and the python3 binary is\n(hopefully) always present in all current distributions, let's\nswitch the last python binary call to python3.\n\nChange-Id: Ifeca377c3ada3372406ff90bd72d81f90e9bde21\n""}]",0,738604,f1a4725fdd4cabb1863dd5e178f7fbb14f537093,36,8,2,23851,,,0,"Explicitly use python3 for ironic_lib_prefix

Recent changes to the CI made the python binary magically disappear
in Ubuntu Focal based nodes.
Since we currently support only python3 and the python3 binary is
(hopefully) always present in all current distributions, let's
switch the last python binary call to python3.

Change-Id: Ifeca377c3ada3372406ff90bd72d81f90e9bde21
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/738604/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,553cd07ce4df74423568e7807183e516ab2e3479,python3-i-choose-you," ironic_lib_prefix=$(python3 -c ""import sysconfig; \"," ironic_lib_prefix=$(python -c ""import sysconfig; \",1,1
openstack%2Fproject-config~master~I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9,openstack/project-config,master,I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9,Add node-labeler to the vexxhost tenant,MERGED,2020-07-02 15:26:04.000000000,2020-07-02 16:38:01.000000000,2020-07-02 16:03:32.000000000,"[{'_account_id': 1}, {'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 15:26:04.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0545f74e885686dfda8f064f3d9e6cf6465ebb6', 'message': 'Add node-labeler to the vexxhost tenant\n\nChange-Id: I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9\n'}]",0,739071,e0545f74e885686dfda8f064f3d9e6cf6465ebb6,8,3,1,31746,,,0,"Add node-labeler to the vexxhost tenant

Change-Id: I40a2b316f4f0a0d6d548c6ce05558fe44493e2c9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/739071/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,e0545f74e885686dfda8f064f3d9e6cf6465ebb6,, - vexxhost/node-labeler,,4,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~Ie990da4e68e82d998768fa0c047cca4cccd59915,openstack/kuryr-kubernetes,stable/rocky,Ie990da4e68e82d998768fa0c047cca4cccd59915,Remove dragonflow,MERGED,2020-06-24 13:57:50.000000000,2020-07-02 16:21:58.000000000,2020-07-02 16:21:58.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-24 13:57:50.000000000', 'files': ['.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/77aa18e55489d67efcb5a93960a86ef4e6bfe663', 'message': 'Remove dragonflow\n\nDragonflow was removed from governance in 2018 and is now being retired.\nThis cleans up references to dragonflow jobs and configuration.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html\n\nThis backport drops sample config file and docs changes and only removes\nthe zuul configuration since conceivable the project could still be used\nwith older branches.\n\nChange-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)\n(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)\n(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)\n(cherry picked from commit e3eab6e653ce93b9c32ecadc6c54ddbde5f91b81)\n'}]",0,737797,77aa18e55489d67efcb5a93960a86ef4e6bfe663,15,4,1,11904,,,0,"Remove dragonflow

Dragonflow was removed from governance in 2018 and is now being retired.
This cleans up references to dragonflow jobs and configuration.

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

This backport drops sample config file and docs changes and only removes
the zuul configuration since conceivable the project could still be used
with older branches.

Change-Id: Ie990da4e68e82d998768fa0c047cca4cccd59915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit cded615f86bbf44597df62617a002329dfad74d3)
(cherry picked from commit 2bf9ca4599912454a86434675ee57ed522d47e60)
(cherry picked from commit 4b331132907e3b7bbc6d3ccc57d799ef0ff65101)
(cherry picked from commit e3eab6e653ce93b9c32ecadc6c54ddbde5f91b81)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/97/737797/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/sdn.yaml'],1,77aa18e55489d67efcb5a93960a86ef4e6bfe663,dragonflow,, - job: name: kuryr-kubernetes-tempest-dragonflow parent: kuryr-kubernetes-tempest-octavia description: | Kuryr-Kubernetes tempest job using Dragonflow required-projects: - openstack/dragonflow vars: devstack_localrc: Q_ENABLE_DRAGONFLOW_LOCAL_CONTROLLER: true DF_RUNNING_IN_GATE: true TUNNEL_TYPE: vxlan DF_L2_RESPONDER: true OVS_INSTALL_FROM_GIT: false OVS_BRANCH: master devstack_services: q-agt: false q-dhcp: false q-l3: false q-trunk: true df-redis: true df-redis-server: true df-controller: true df-ext-services: true df-l3-agent: true devstack_plugins: dragonflow: https://github.com/openstack/dragonflow voting: false,0,29
openstack%2Fpuppet-tripleo~master~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,master,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-06-21 13:53:16.000000000,2020-07-02 16:19:01.000000000,2020-07-02 16:08:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-21 13:53:16.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f6f878d4b36540ecc8b99552d3f5d14d92d509df', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n'}]",0,737181,f6f878d4b36540ecc8b99552d3f5d14d92d509df,18,6,1,31804,,,0,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/737181/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp']",2,f6f878d4b36540ecc8b99552d3f5d14d92d509df,bug/1884415,"# [*minsize*] # (optional) Defaults to '1'. # Configures the logrotate minsize parameter. ## [*notifempty*] # (optional) Defaults to True. # Configures the logrotate notifempty parameter. # $minsize = 1, $notifempty = true,",,13,1
openstack%2Fkolla-ansible~stable%2Fussuri~I9c495773db726a3c5cd94b819dff4141737a1d6e,openstack/kolla-ansible,stable/ussuri,I9c495773db726a3c5cd94b819dff4141737a1d6e,Set a chunk size for Fluentd bulk log upload to Monasca,MERGED,2020-07-02 11:51:45.000000000,2020-07-02 16:17:26.000000000,2020-07-02 16:14:41.000000000,"[{'_account_id': 10910}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 11:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2262ed308a237faa87fc33c9e839d25714136210', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n(cherry picked from commit 2c919bc61ca7a903e93372604fa0e770f95b0d52)\n'}, {'number': 2, 'created': '2020-07-02 12:35:33.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'releasenotes/notes/fix-fluentd-buffer-chunk-size-for-monasca-output-882338103d2e1f13.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea58710ff33984300ee3b2da16084abe68e06a5f', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n(cherry picked from commit 2c919bc61ca7a903e93372604fa0e770f95b0d52)\n'}]",0,739022,ea58710ff33984300ee3b2da16084abe68e06a5f,10,4,2,17669,,,0,"Set a chunk size for Fluentd bulk log upload to Monasca

In Fluentd v0.12, both the in memory and file buffer chunk size default
to 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the
Monasca Log or Unified API maximum chunk size which is set to 10MB.
This can result in logs being rejected and filling the local buffer
on disk.

Change-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e
Closes-Bug: #1885885
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
(cherry picked from commit 2c919bc61ca7a903e93372604fa0e770f95b0d52)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/739022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'releasenotes/notes/fix-fluentd-buffer-chunk-size-for-monasca-output-882338103d2e1f13.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",3,2262ed308a237faa87fc33c9e839d25714136210,bug/1885885-stable/ussuri, <buffer> chunk_limit_size 8m </buffer> <buffer> chunk_limit_size 8m </buffer> <buffer> chunk_limit_size 8m </buffer>,,20,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I6148511eb6ad1e3798a7bf40c721824830c7073d,openstack/python-tripleoclient,stable/ussuri,I6148511eb6ad1e3798a7bf40c721824830c7073d,Refactor upgrade prepare and converge.,MERGED,2020-06-22 17:21:55.000000000,2020-07-02 16:13:37.000000000,2020-07-02 16:08:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-22 17:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c633d651338370112a99623b1714bf71daed8d0', 'message': ""Refactor upgrade prepare and converge.\n\nAs we aren't required to re-deploy any more during the converge step\nthe actions performed by the Upgrade Converge and Prepare are exactly\nthe same, the only difference is the lifecycle environment file we\nuse to set and unset parameters.\n\nThis patch refactors both classes, the UpgradePrepare and UpgradeConverge\nclasess:\n\n- UpgradePrepare: Stop forcing update-plan-only and then try to do most of the\nactions from deployment into UpgradePrepare. This change will force config_download\nto false (which will avoid running the full deployment and do only an stack update),\nthen download the config by invoking get_config from utils and lastly enable ssh\ninto overcloud nodes, as that part is perforemd in deployment only if config_download\nis set to true. Add new attributes to UpgradePrepare so we can override them in\nUpgradeConverge via inheritence.\n\n- UpgradeConverge: Inherit from UpgradePrepare instead of DeployOvercloud. Set the\nright value for the class attributes and let UpgradePrepare class do all the magic.\n\nChange-Id: I6148511eb6ad1e3798a7bf40c721824830c7073d\n(cherry picked from commit 8d2cc4b3d8a780c58ff82fc41d583d255d0ac94e)\n""}, {'number': 2, 'created': '2020-06-23 08:37:45.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62cb0e5d9206d73eaa25c23d1c961f2f63dd141d', 'message': ""Refactor upgrade prepare and converge.\n\nAs we aren't required to re-deploy any more during the converge step\nthe actions performed by the Upgrade Converge and Prepare are exactly\nthe same, the only difference is the lifecycle environment file we\nuse to set and unset parameters.\n\nThis patch refactors both classes, the UpgradePrepare and UpgradeConverge\nclasess:\n\n- UpgradePrepare: Stop forcing update-plan-only and then try to do most of the\nactions from deployment into UpgradePrepare. This change will force config_download\nto false (which will avoid running the full deployment and do only an stack update),\nthen download the config by invoking get_config from utils and lastly enable ssh\ninto overcloud nodes, as that part is perforemd in deployment only if config_download\nis set to true. Add new attributes to UpgradePrepare so we can override them in\nUpgradeConverge via inheritence.\n\n- UpgradeConverge: Inherit from UpgradePrepare instead of DeployOvercloud. Set the\nright value for the class attributes and let UpgradePrepare class do all the magic.\n\nChange-Id: I6148511eb6ad1e3798a7bf40c721824830c7073d\n(cherry picked from commit 8d2cc4b3d8a780c58ff82fc41d583d255d0ac94e)\n""}]",0,737328,62cb0e5d9206d73eaa25c23d1c961f2f63dd141d,21,9,2,26343,,,0,"Refactor upgrade prepare and converge.

As we aren't required to re-deploy any more during the converge step
the actions performed by the Upgrade Converge and Prepare are exactly
the same, the only difference is the lifecycle environment file we
use to set and unset parameters.

This patch refactors both classes, the UpgradePrepare and UpgradeConverge
clasess:

- UpgradePrepare: Stop forcing update-plan-only and then try to do most of the
actions from deployment into UpgradePrepare. This change will force config_download
to false (which will avoid running the full deployment and do only an stack update),
then download the config by invoking get_config from utils and lastly enable ssh
into overcloud nodes, as that part is perforemd in deployment only if config_download
is set to true. Add new attributes to UpgradePrepare so we can override them in
UpgradeConverge via inheritence.

- UpgradeConverge: Inherit from UpgradePrepare instead of DeployOvercloud. Set the
right value for the class attributes and let UpgradePrepare class do all the magic.

Change-Id: I6148511eb6ad1e3798a7bf40c721824830c7073d
(cherry picked from commit 8d2cc4b3d8a780c58ff82fc41d583d255d0ac94e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/737328/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py']",2,7c633d651338370112a99623b1714bf71daed8d0,ffwd-upgrade2-stable/ussuri," args, kwargs = mock_overcloud_deploy.call_args # Check config_download arg is set to False self.assertEqual(args[0].config_download, False) def test_upgrade_failed(self, mock_yaml, mock_open, add_env, mock_get_stack, mock_overcloud_deploy): mock_overcloud_deploy.side_effect = exceptions.DeploymentError()"," @mock.patch('tripleoclient.workflows.deployment.create_overcloudrc', autospec=True) @mock.patch('tripleoclient.workflows.package_update.update', autospec=True) @mock.patch('os.path.abspath') @mock.patch('shutil.copytree', autospec=True) @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' '_deploy_tripleo_heat_templates', autospec=True) mock_deploy, mock_copy, mock_abspath, mock_upgrade, mock_overcloudrc, mock_upgrade.assert_called_once_with( self.app.client_manager, container='overcloud', ) mock_overcloudrc.assert_called_once_with(container=""overcloud"") @mock.patch('tripleoclient.workflows.package_update.update', autospec=True) @mock.patch('os.path.abspath') @mock.patch('shutil.copytree', autospec=True) @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' '_deploy_tripleo_heat_templates', autospec=True) def test_upgrade_failed(self, mock_deploy, mock_copy, mock_yaml, mock_abspath, mock_open, mock_upgrade, add_env, mock_get_stack, mock_overcloud_deploy): mock_upgrade.side_effect = exceptions.DeploymentError()",24,63
openstack%2Fansible-collections-openstack~master~Ifa8267bd58102311d50bb9647d0d944730a2e7ce,openstack/ansible-collections-openstack,master,Ifa8267bd58102311d50bb9647d0d944730a2e7ce,security_group_rule: use OpenStackModule,ABANDONED,2020-07-02 16:07:48.000000000,2020-07-02 16:12:13.000000000,,[],"[{'number': 1, 'created': '2020-07-02 16:07:48.000000000', 'files': ['plugins/modules/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1dd442833c90465ea16dad0a5ee820f253618670', 'message': 'security_group_rule: use OpenStackModule\n\nRefactoring of security_group_rule to depend on the OpenStackModule\nclass.\n\nChange-Id: Ifa8267bd58102311d50bb9647d0d944730a2e7ce\n'}]",0,739086,1dd442833c90465ea16dad0a5ee820f253618670,2,0,1,9268,,,0,"security_group_rule: use OpenStackModule

Refactoring of security_group_rule to depend on the OpenStackModule
class.

Change-Id: Ifa8267bd58102311d50bb9647d0d944730a2e7ce
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/739086/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_rule.py'],1,1dd442833c90465ea16dad0a5ee820f253618670,refact,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_find_nova_addresses, OpenStackModule) class SecurityGroupRuleModule(OpenStackModule): deprecated_names = ('os_security_group_rule', 'openstack.cloud.os_security_group_rule') argument_spec = dict( module_kwargs = dict( def _find_matching_rule(self, secgroup, remotegroup): """""" Find a rule in the group that matches the module parameters. :returns: The matching rule dict, or None if no matches. """""" protocol = self.params['protocol'] remote_ip_prefix = self.params['remote_ip_prefix'] ethertype = self.params['ethertype'] direction = self.params['direction'] remote_group_id = remotegroup['id'] for rule in secgroup['security_group_rules']: if ( protocol == rule['protocol'] and remote_ip_prefix == rule['remote_ip_prefix'] and ethertype == rule['ethertype'] and direction == rule['direction'] and remote_group_id == rule['remote_group_id'] and _ports_match( protocol, self.params['port_range_min'], self.params['port_range_max'], rule['port_range_min'], rule['port_range_max']) ): return rule return None def _system_state_change(self, secgroup, remotegroup): state = self.params['state'] if secgroup: rule_exists = _find_matching_rule(module, secgroup, remotegroup) else: return False if state == 'present' and not rule_exists: return True if state == 'absent' and rule_exists: return True return False def run(self): state = self.params['state'] security_group = self.params['security_group'] remote_group = self.params['remote_group'] project = self.params['project'] changed = False sdk, cloud = openstack_cloud_from_module(module) try: if project is not None: proj = cloud.get_project(project) if proj is None: self.fail_json(msg='Project %s could not be found' % project) project_id = proj['id'] else: project_id = cloud.current_project_id if project_id and not remote_group: filters = {'tenant_id': project_id} else: filters = None secgroup = cloud.get_security_group(security_group, filters=filters) if remote_group: remotegroup = cloud.get_security_group(remote_group, filters=filters) else: remotegroup = {'id': None} if self.check_mode: self.exit_json(changed=_system_state_change(module, secgroup, remotegroup)) if state == 'present': if self.params['protocol'] == 'any': self.params['protocol'] = None if not secgroup: self.fail_json(msg='Could not find security group %s' % security_group) rule = _find_matching_rule(module, secgroup, remotegroup) if not rule: kwargs = {} if project_id: kwargs['project_id'] = project_id rule = cloud.create_security_group_rule( secgroup['id'], port_range_min=module.params['port_range_min'], port_range_max=module.params['port_range_max'], protocol=module.params['protocol'], remote_ip_prefix=module.params['remote_ip_prefix'], remote_group_id=remotegroup['id'], direction=module.params['direction'], ethertype=module.params['ethertype'], **kwargs ) changed = True self.exit_json(changed=changed, rule=rule, id=rule['id']) if state == 'absent' and secgroup: rule = _find_matching_rule(module, secgroup, remotegroup) if rule: cloud.delete_security_group_rule(rule['id']) changed = True self.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: self.fail_json(msg=str(e)) def main(): module = SecurityGroupRuleModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module)def _find_matching_rule(module, secgroup, remotegroup): """""" Find a rule in the group that matches the module parameters. :returns: The matching rule dict, or None if no matches. """""" protocol = module.params['protocol'] remote_ip_prefix = module.params['remote_ip_prefix'] ethertype = module.params['ethertype'] direction = module.params['direction'] remote_group_id = remotegroup['id'] for rule in secgroup['security_group_rules']: if ( protocol == rule['protocol'] and remote_ip_prefix == rule['remote_ip_prefix'] and ethertype == rule['ethertype'] and direction == rule['direction'] and remote_group_id == rule['remote_group_id'] and _ports_match( protocol, module.params['port_range_min'], module.params['port_range_max'], rule['port_range_min'], rule['port_range_max']) ): return rule return None def _system_state_change(module, secgroup, remotegroup): state = module.params['state'] if secgroup: rule_exists = _find_matching_rule(module, secgroup, remotegroup) else: return False if state == 'present' and not rule_exists: return True if state == 'absent' and rule_exists: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] security_group = module.params['security_group'] remote_group = module.params['remote_group'] project = module.params['project'] changed = False sdk, cloud = openstack_cloud_from_module(module) try: if project is not None: proj = cloud.get_project(project) if proj is None: module.fail_json(msg='Project %s could not be found' % project) project_id = proj['id'] else: project_id = cloud.current_project_id if project_id and not remote_group: filters = {'tenant_id': project_id} else: filters = None secgroup = cloud.get_security_group(security_group, filters=filters) if remote_group: remotegroup = cloud.get_security_group(remote_group, filters=filters) else: remotegroup = {'id': None} if module.check_mode: module.exit_json(changed=_system_state_change(module, secgroup, remotegroup)) if state == 'present': if module.params['protocol'] == 'any': module.params['protocol'] = None if not secgroup: module.fail_json(msg='Could not find security group %s' % security_group) rule = _find_matching_rule(module, secgroup, remotegroup) if not rule: kwargs = {} if project_id: kwargs['project_id'] = project_id rule = cloud.create_security_group_rule( secgroup['id'], port_range_min=module.params['port_range_min'], port_range_max=module.params['port_range_max'], protocol=module.params['protocol'], remote_ip_prefix=module.params['remote_ip_prefix'], remote_group_id=remotegroup['id'], direction=module.params['direction'], ethertype=module.params['ethertype'], **kwargs ) changed = True module.exit_json(changed=changed, rule=rule, id=rule['id']) if state == 'absent' and secgroup: rule = _find_matching_rule(module, secgroup, remotegroup) if rule: cloud.delete_security_group_rule(rule['id']) changed = True module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",110,108
openstack%2Fpython-tripleoclient~stable%2Fussuri~I94350324d32af477bbbb69314a93d22668bfad4d,openstack/python-tripleoclient,stable/ussuri,I94350324d32af477bbbb69314a93d22668bfad4d,Don't run get_config() in update/upgrade prepare,MERGED,2020-06-22 17:15:12.000000000,2020-07-02 16:10:55.000000000,2020-07-02 16:08:47.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-22 17:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/efa21493bc5d8f27e999c204198fe36c95fd2f4e', 'message': ""Don't run get_config() in update/upgrade prepare\n\nThis is done again in update/upgrade run. It seems redundant to\ndo it in prepare step.\n\nChange-Id: I94350324d32af477bbbb69314a93d22668bfad4d\n(cherry picked from commit eb6c831f5f79da7b839646fa47818556baec7f1b)\n""}, {'number': 2, 'created': '2020-06-23 02:58:11.000000000', 'files': ['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8298cc11c1391fa707f72407491d05a64bd3ccba', 'message': ""Don't run get_config() in update/upgrade prepare\n\nThis is done again in update/upgrade run. It seems redundant to\ndo it in prepare step.\n\nChange-Id: I94350324d32af477bbbb69314a93d22668bfad4d\n(cherry picked from commit eb6c831f5f79da7b839646fa47818556baec7f1b)\n""}]",0,737326,8298cc11c1391fa707f72407491d05a64bd3ccba,30,10,2,26343,,,0,"Don't run get_config() in update/upgrade prepare

This is done again in update/upgrade run. It seems redundant to
do it in prepare step.

Change-Id: I94350324d32af477bbbb69314a93d22668bfad4d
(cherry picked from commit eb6c831f5f79da7b839646fa47818556baec7f1b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/737326/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py']",4,efa21493bc5d8f27e999c204198fe36c95fd2f4e,mistral_to_ansible-stable/ussuri,," oooutils.get_config( clients, container=stack_name, container_config='{}-config'.format(stack.stack_name))",0,28
openstack%2Fcharm-cinder~master~I69f15c3fd164f7114f5498d100b2832caf93fb00,openstack/charm-cinder,master,I69f15c3fd164f7114f5498d100b2832caf93fb00,Ensure API not configured on volume-only units,MERGED,2020-06-30 15:43:11.000000000,2020-07-02 15:39:17.000000000,2020-07-02 15:39:17.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24890}]","[{'number': 1, 'created': '2020-06-30 15:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/0694dcbdf750c71660400be87c21eb5320d01e26', 'message': 'Volume-only deployment filters haproxy and apache2\n\nCOMMON_PACKAGES included haproxy and apache2. However, enabled-services\ncan request a unit to only run cinder-volume. Cinder API related\nservices should not run or get monitored.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/337\n\nChange-Id: I69f15c3fd164f7114f5498d100b2832caf93fb00\nCloses-Bug: #1779310\n'}, {'number': 2, 'created': '2020-07-01 08:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3b460dbe1898eaffaa6419d50edc2b8184603650', 'message': 'Ensure API not configured on volume-only units\n\nCOMMON_PACKAGES included haproxy and apache2. However, enabled-services\ncan request a unit to only run cinder-volume. Cinder API related\nservices should not run or get monitored.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/337\n\nChange-Id: I69f15c3fd164f7114f5498d100b2832caf93fb00\nCloses-Bug: #1779310\n'}, {'number': 3, 'created': '2020-07-01 08:50:18.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_cinder_utils.py', 'hooks/cinder_hooks.py', 'hooks/cinder_utils.py', 'tests/bundles/focal-ussuri-volume-only.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/71f968faf1f5d8e9a307e7f1d391a699875ed5c1', 'message': 'Ensure API not configured on volume-only units\n\nCOMMON_PACKAGES included haproxy and apache2. However, enabled-services\ncan request a unit to only run cinder-volume. Cinder API related\nservices should not run or get monitored.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/337\n\nChange-Id: I69f15c3fd164f7114f5498d100b2832caf93fb00\nCloses-Bug: #1779310\n'}]",13,738651,71f968faf1f5d8e9a307e7f1d391a699875ed5c1,19,4,3,24890,,,0,"Ensure API not configured on volume-only units

COMMON_PACKAGES included haproxy and apache2. However, enabled-services
can request a unit to only run cinder-volume. Cinder API related
services should not run or get monitored.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/337

Change-Id: I69f15c3fd164f7114f5498d100b2832caf93fb00
Closes-Bug: #1779310
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/51/738651/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_utils.py', 'hooks/cinder_hooks.py', 'hooks/cinder_utils.py']",3,0694dcbdf750c71660400be87c21eb5320d01e26,bug/1779310,"PY3_API_PACKAGES = ['libapache2-mod-wsgi-py3'] API_PACKAGES = [ 'apache2', 'cinder-api', 'haproxy', ] if not service_enabled('api'): # haproxy and apache2 are related to cinder-api cfg_files = { HAPROXY_CONF, APACHE_SITE_CONF, APACHE_SITE_24_CONF, APACHE_PORTS_CONF, } for cfg in cfg_files.intersection(resource_map.keys()): resource_map.pop(cfg) elif run_in_apache(): deps = { 'haproxy': 'api', 'apache2': 'api', } (deps.get(s) and service_enabled(deps[s]))] if service_enabled('api'): pkgs.extend(PY3_API_PACKAGES) if service_enabled('api') and run_in_apache():"," 'apache2', 'haproxy', 'libapache2-mod-wsgi-py3',API_PACKAGES = ['cinder-api'] if run_in_apache(): not s.startswith('cinder')] if run_in_apache():",62,25
openstack%2Fbarbican~master~I8a5d202f903e89e19106ccdda11fc30522892e7f,openstack/barbican,master,I8a5d202f903e89e19106ccdda11fc30522892e7f,Ussuri contrib docs community goal,MERGED,2020-06-10 21:39:55.000000000,2020-07-02 15:28:25.000000000,2020-07-02 15:23:39.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-10 21:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/56661e66136232a92bb02e159d6a50efbd10bb27', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 2, 'created': '2020-06-11 17:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/08e13048432a91b46c5ae74fbc6eee5f4ef1dc1f', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 3, 'created': '2020-06-11 19:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/dcd1d78096f479a366ea5344494bbe905a7c30ba', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 4, 'created': '2020-06-11 20:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0f9e29dc0c00a411391700984bae941fae155358', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 5, 'created': '2020-06-16 20:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a073b553f66082b9858cd39bcf4835687c704b4d', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 6, 'created': '2020-06-23 15:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1ee2a65b8f8e14ce8a071d855e5db7f06fe216bf', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}, {'number': 7, 'created': '2020-06-24 08:26:32.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/71bad5df0637e8450973feab01e6734103500f04', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds the\nrequired doc/source/contributor/contributing.rst\n\nTask: 38514\nChange-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f\n'}]",10,734983,71bad5df0637e8450973feab01e6734103500f04,26,5,7,27954,,,0,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file and adds the
required doc/source/contributor/contributing.rst

Task: 38514
Change-Id: I8a5d202f903e89e19106ccdda11fc30522892e7f
",git fetch https://review.opendev.org/openstack/barbican refs/changes/83/734983/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst']",2,56661e66136232a92bb02e159d6a50efbd10bb27,docs, contributing.rst,,201,0
openstack%2Fdevstack~master~I729de5f2ad319ae43c300ebdba84e0c8b3defa71,openstack/devstack,master,I729de5f2ad319ae43c300ebdba84e0c8b3defa71,Make devstack work with RDO overcloud-full images,NEW,2020-07-01 17:43:22.000000000,2020-07-02 15:24:49.000000000,,"[{'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 30490}]","[{'number': 1, 'created': '2020-07-01 17:43:22.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ccef9a6e9e930a7f69352e7700f799bd10dfb57b', 'message': 'Make devstack work with RDO overcloud-full images\n\nThis patch tweaks devstack so that it works with RDO overcloud-full\nimages. RDO overcloud-full images are convenient to use when developing\nwith baremetal as it contains hardware drivers that are not included\nwith other images.\n\nChange-Id: I729de5f2ad319ae43c300ebdba84e0c8b3defa71\n'}]",2,738905,ccef9a6e9e930a7f69352e7700f799bd10dfb57b,8,8,1,10250,,,0,"Make devstack work with RDO overcloud-full images

This patch tweaks devstack so that it works with RDO overcloud-full
images. RDO overcloud-full images are convenient to use when developing
with baremetal as it contains hardware drivers that are not included
with other images.

Change-Id: I729de5f2ad319ae43c300ebdba84e0c8b3defa71
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/738905/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,ccef9a6e9e930a7f69352e7700f799bd10dfb57b,work_with_rdo_image," kernel=$(for f in ""$xdir/""*[-.]vmlinuz* ""$xdir/""aki-*/image; do ramdisk=$(for f in ""$xdir/""*[-.]initrd* ""$xdir/""ari-*/image; do image=$(for f in ""$xdir/""*.img ""$xdir/""*.qcow2 ""$xdir/""ami-*/image; do"," kernel=$(for f in ""$xdir/""*-vmlinuz* ""$xdir/""aki-*/image; do ramdisk=$(for f in ""$xdir/""*-initrd* ""$xdir/""ari-*/image; do image=$(for f in ""$xdir/""*.img ""$xdir/""ami-*/image; do",3,3
openstack%2Fkolla-ansible~stable%2Ftrain~I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,openstack/kolla-ansible,stable/train,I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,Syntax error in Fluentd Monasca output config,MERGED,2020-07-01 12:10:07.000000000,2020-07-02 15:06:22.000000000,2020-07-02 15:04:04.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 12:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/959ae1a9853ea31b0ce1478949ee63ef750a91c9', 'message': 'Syntax error in Fluentd Monasca output config\n\nResolve trivial syntax error in Fluentd output config for Monasca.\n\nChange-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\nCloses-Bug: #1885873\n'}, {'number': 2, 'created': '2020-07-02 11:11:43.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cbd4c5203a6106253ebfcf6bb8b93bdca91b664', 'message': 'Syntax error in Fluentd Monasca output config\n\nResolve trivial syntax error in Fluentd output config for Monasca.\n\nChange-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\nCloses-Bug: #1885873\n(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)\n'}]",0,738836,6cbd4c5203a6106253ebfcf6bb8b93bdca91b664,12,5,2,17669,,,0,"Syntax error in Fluentd Monasca output config

Resolve trivial syntax error in Fluentd output config for Monasca.

Change-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
Closes-Bug: #1885873
(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/738836/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/02-monasca.conf.j2'],1,959ae1a9853ea31b0ce1478949ee63ef750a91c9,bug/1885873-stable/train, @type copy, type copy,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,openstack/kolla-ansible,stable/ussuri,I20b37bb83a76bfabb1126925a1b4f1f59767b7a3,Syntax error in Fluentd Monasca output config,MERGED,2020-07-01 12:07:28.000000000,2020-07-02 15:03:23.000000000,2020-07-02 15:01:15.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 12:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b32afedd2a3b41edf38fc848b8e638b9111ade51', 'message': 'Syntax error in Fluentd Monasca output config\n\nResolve trivial syntax error in Fluentd output config for Monasca.\n\nChange-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\nCloses-Bug: #1885873\n'}, {'number': 2, 'created': '2020-07-02 11:11:33.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6a70e666bdfe91a0fd4f379c0bb67333ac70016', 'message': 'Syntax error in Fluentd Monasca output config\n\nResolve trivial syntax error in Fluentd output config for Monasca.\n\nChange-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\nCloses-Bug: #1885873\n(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)\n'}]",0,738835,f6a70e666bdfe91a0fd4f379c0bb67333ac70016,14,5,2,17669,,,0,"Syntax error in Fluentd Monasca output config

Resolve trivial syntax error in Fluentd output config for Monasca.

Change-Id: I20b37bb83a76bfabb1126925a1b4f1f59767b7a3
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
Closes-Bug: #1885873
(cherry picked from commit 6c1ce76bb8966420394319a9dbc7701dd7d10212)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/738835/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/02-monasca.conf.j2'],1,b32afedd2a3b41edf38fc848b8e638b9111ade51,bug/1885873-stable/ussuri, @type copy, type copy,1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/train,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:26.000000000,2020-07-02 14:59:31.000000000,2020-07-02 14:54:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 16:20:26.000000000', 'files': ['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8418b5ae83c5016bc7b0879dee4e9c7c3b8092f7', 'message': 'Use public interface for Magnum client and trustee Keystone interface\n\nWhile all other clients should use internalURL, the Magnum client itself\nand Keystone interface for trustee credentials should be publicly\naccessible (upstream default when no config is specified) since\ninstances need to be able to reach them.\n\nCloses-Bug: #1885420\nChange-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf\n(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)\n'}]",0,738882,8418b5ae83c5016bc7b0879dee4e9c7c3b8092f7,11,4,1,30491,,,0,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/738882/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2']",2,8418b5ae83c5016bc7b0879dee4e9c7c3b8092f7,internalURL-stable/ussuri-stable/train,endpoint_type = publicURLtrustee_keystone_interface = public,endpoint_type = internalURL,5,5
openstack%2Fopenstack-ansible-lxc_container_create~master~I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,openstack/openstack-ansible-lxc_container_create,master,I13605f21497c7eb8e2dd569ab90e2466bce8ac3e,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 11:59:06.000000000,2020-07-02 14:59:12.000000000,2020-07-02 14:56:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-02 11:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/7bd5955841cd2fcf4909a0132f67c01d0b52ec67', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e\n'}, {'number': 2, 'created': '2020-07-02 12:18:07.000000000', 'files': ['tests/test-containers-functional.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/faedebd48b7cc5c91f40380df4ae8e8b40d0081c', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e\n'}]",0,739024,faedebd48b7cc5c91f40380df4ae8e8b40d0081c,10,3,2,28619,,,0,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: I13605f21497c7eb8e2dd569ab90e2466bce8ac3e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/24/739024/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-containers-functional.yml', 'handlers/main.yml']",2,7bd5955841cd2fcf4909a0132f67c01d0b52ec67,, raw: systemctl status systemd-tmpfiles-setup.service | grep 'Active:' | grep 'exited' >/dev/null, raw: systemctl status systemd-tmpfiles-setup.service | grep Process | grep 'code=exited' >/dev/null,2,2
openstack%2Fkolla-ansible~stable%2Fstein~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/stein,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:39.000000000,2020-07-02 14:41:43.000000000,2020-07-02 14:37:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 16:20:39.000000000', 'files': ['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b82c0f557cd77fc54f8d07eab849eb3d91118d8', 'message': 'Use public interface for Magnum client and trustee Keystone interface\n\nWhile all other clients should use internalURL, the Magnum client itself\nand Keystone interface for trustee credentials should be publicly\naccessible (upstream default when no config is specified) since\ninstances need to be able to reach them.\n\nCloses-Bug: #1885420\nChange-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf\n(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)\n'}]",0,738883,9b82c0f557cd77fc54f8d07eab849eb3d91118d8,10,4,1,30491,,,0,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/738883/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2']",2,9b82c0f557cd77fc54f8d07eab849eb3d91118d8,internalURL-stable/ussuri-stable/train-stable/stein,endpoint_type = publicURLtrustee_keystone_interface = public,endpoint_type = internalURL,5,5
openstack%2Fironic~master~Ie65345ac018caa4a0d829464c45ccf8ddab57b9a,openstack/ironic,master,Ie65345ac018caa4a0d829464c45ccf8ddab57b9a,implement patch code for Enton Power SNMP driver Story: 2005317 Task: 30337,ABANDONED,2019-04-04 08:09:06.000000000,2020-07-02 14:38:55.000000000,,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-04 08:09:06.000000000', 'files': ['ironic/drivers/modules/snmp.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c6b2668354810bdf9967a9e4944bcf3d3070a5f', 'message': 'implement patch code for Enton Power SNMP driver\nStory: 2005317\nTask: 30337\n\nChange-Id: Ie65345ac018caa4a0d829464c45ccf8ddab57b9a\n'}]",3,649913,7c6b2668354810bdf9967a9e4944bcf3d3070a5f,12,8,1,29792,,,0,"implement patch code for Enton Power SNMP driver
Story: 2005317
Task: 30337

Change-Id: Ie65345ac018caa4a0d829464c45ccf8ddab57b9a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/649913/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/snmp.py'],1,7c6b2668354810bdf9967a9e4944bcf3d3070a5f,," 1.3.6.1.4.1.534.6.6.7.6.6.1.2.0.<outlet ID> outletControlStatus 1.3.6.1.4.1.534.6.6.7.6.6.1.3.0.<outlet ID> outletControlOffCmd 1.3.6.1.4.1.534.6.6.7.6.6.1.4.0.<outlet ID> outletControlOnCmd oid_status = (2,0) oid_poweron = (3,0) oid_poweroff = (4,0)"," 1.3.6.1.4.1.534.6.6.7.6.6.1.2.<outlet ID> outletControlStatus 1.3.6.1.4.1.534.6.6.7.6.6.1.3.<outlet ID> outletControlOffCmd 1.3.6.1.4.1.534.6.6.7.6.6.1.4.<outlet ID> outletControlOnCmd oid_status = (2,) oid_poweron = (3,) oid_poweroff = (4,)",6,6
openstack%2Fopenstack-ansible-os_keystone~master~I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,openstack/openstack-ansible-os_keystone,master,I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9,Identity providers can be created with specified domain,ABANDONED,2020-06-18 15:01:10.000000000,2020-07-02 14:36:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-18 15:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/87a19a82c0063d943c7aa98eaf007455367bd522', 'message': 'Add IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 2, 'created': '2020-06-25 12:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5d6c5598360c920c8b11c49e939c663a725bbd10', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\nChange-Id: I30bcbce4c75b38f96a27ee742d15cf2abe402176\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}, {'number': 3, 'created': '2020-06-29 11:38:30.000000000', 'files': ['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/2b4a4587017e7c2fb463709d0de89e6b91ac7d77', 'message': 'Identity providers can be created with specified domain\n\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nDepends-On: https://review.opendev.org/734672\nDepends-On: https://review.opendev.org/735289\nDepends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105\n\nAdd IDP display_name to defaults\n\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nDepends-On: https://review.opendev.org/#/c/736739/\nChange-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9\n'}]",0,736741,2b4a4587017e7c2fb463709d0de89e6b91ac7d77,22,3,3,29865,,,0,"Identity providers can be created with specified domain

IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Depends-On: https://review.opendev.org/734672
Depends-On: https://review.opendev.org/735289
Depends-On: If761dd4faf63cf09d436d9e0a22f7e90cec9a105

Add IDP display_name to defaults

Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Depends-On: https://review.opendev.org/#/c/736739/
Change-Id: I79a32f696f592b6fb3fd2c01dc9f077597b1a7a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/41/736741/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,87a19a82c0063d943c7aa98eaf007455367bd522,idp-improvements,"# display_name: ""Keystone IDP"" # Optional, used in Horizon IDP dropdown",,1,0
openstack%2Foslo.messaging~stable%2Fussuri~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/ussuri,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-02 07:50:55.000000000,2020-07-02 14:35:42.000000000,2020-07-02 14:30:09.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-02 07:50:55.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/dfcc4b0010d39d1f16be413bb1c3a4808718cd19', 'message': ""Simplify tools/test-setup.sh\n\ntest-setup.sh is called after bindep is run in CI, and tox is not setup.\n\nSimplify the script so that it only does what's needed - install\nqdrouterd for Ubuntu from qpid/testing.\n\nInstall the other packages using bindep, add test to amqp1 profile.\n\nAdd amqp1 to bindep_profiles where needed for scenario tests, previously\ntest-setup.sh added it everywhere.\n\nNOTE(elod.illes): skip annotation removed from test_impl_rabbit.py, as\nkombu is constrained in ussuri with the version that does not need any\ntest to skip.\n\nChange-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2\nRelated-Bug: #1885923\n(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)\n""}]",0,738976,dfcc4b0010d39d1f16be413bb1c3a4808718cd19,11,6,1,17685,,,0,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

NOTE(elod.illes): skip annotation removed from test_impl_rabbit.py, as
kombu is constrained in ussuri with the version that does not need any
test to skip.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/76/738976/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",3,dfcc4b0010d39d1f16be413bb1c3a4808718cd19,,"# qdrouterd needs to be installed from qpid/testing repo in Ubuntu. # bindep does not allow setting up another repo, so we just install # this package here. --assume-yes install qdrouterd","function is_fedora { [ -f /usr/bin/yum ] && cat /etc/*release | grep -q -e ""Fedora"" } # NOTE(sileht): we create the virtualenv only and use bindep directly # because tox doesn't have a quiet option... tox -ebindep --notest # TODO(ansmith) for now setup amqp1 dependencies for any profile. # Fix this when test-setup is passed environment profile setting. # NOTE(sileht): bindep return 1 if some packages have to be installed PACKAGES=""$(.tox/bindep/bin/bindep -b -f bindep.txt amqp1 || true)"" [ -n ""$PACKAGES"" ] || exit 0 --assume-yes install $PACKAGES elif emerge --version >/dev/null 2>&1 ; then sudo emerge -uDNq --jobs=4 @world sudo PATH=/usr/sbin:/sbin:$PATH emerge -q --jobs=4 $PACKAGES else is_fedora && YUM=dnf || YUM=yum sudo PATH=/usr/sbin:/sbin:$PATH $YUM install -y $PACKAGES",22,39
openstack%2Fkolla~master~I2f66cdf18f2a845d97ad3512a35c7de040ace444,openstack/kolla,master,I2f66cdf18f2a845d97ad3512a35c7de040ace444,introduce non-infra-base image,ABANDONED,2020-02-13 10:03:22.000000000,2020-07-02 14:24:51.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-13 10:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da34fb80e3c7ed5d5ef0305ce03a7099d35835e7', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 2, 'created': '2020-02-24 14:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ade8b5c9c17b2c811abb1ea19aa60a88c5b5af96', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 3, 'created': '2020-03-09 15:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/327d460bcb3c85a399b62d9f3713d552b5f9eb9f', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 4, 'created': '2020-03-09 15:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9eceaf46a179f32b066c0dd00c017f5c08c2a677', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 5, 'created': '2020-03-09 16:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e85d444ead23a672085d6d43cf1136430f2e2f67', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 6, 'created': '2020-05-11 15:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d2317d0240412f49620e622bf6165765a723e2b', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 7, 'created': '2020-05-17 13:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/488bd7674a3f1c43ddb776f6e2bf322763b3f897', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 8, 'created': '2020-05-25 11:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/670546f012a429a8e4f8e4065ba7774b1084fa61', 'message': ""WIP: introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 9, 'created': '2020-06-25 10:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c3f0ac410177846a308e204c659de7075c705f7', 'message': ""introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 10, 'created': '2020-06-25 10:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/522ae03e2620ab9089320f5a29bc0480ad988424', 'message': ""introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}, {'number': 11, 'created': '2020-06-30 13:38:56.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/non-infra-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cdc3ffa98276abc4e83daebb2413a80aa9c11bd6', 'message': ""introduce non-infra-base image\n\nTo make sure that all our infrastructure images are the same for\nbinary/source builds we need to have exactly same 'base' image.\n\nThe only difference are KOLLA_INSTALL* variables. So let's move them to\nnew 'non-infra-base' image and rebase 'openstack-base' and\n'kolla-toolbox' ones on it.\n\nImplements: blueprint infra-images\n\nChange-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444\n""}]",0,707599,cdc3ffa98276abc4e83daebb2413a80aa9c11bd6,45,7,11,24072,,,0,"introduce non-infra-base image

To make sure that all our infrastructure images are the same for
binary/source builds we need to have exactly same 'base' image.

The only difference are KOLLA_INSTALL* variables. So let's move them to
new 'non-infra-base' image and rebase 'openstack-base' and
'kolla-toolbox' ones on it.

Implements: blueprint infra-images

Change-Id: I2f66cdf18f2a845d97ad3512a35c7de040ace444
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/707599/9 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/non-infra-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,da34fb80e3c7ed5d5ef0305ce03a7099d35835e7,wip/infra-images,FROM {{ namespace }}/{{ image_prefix }}non-infra-base:{{ tag }},FROM {{ namespace }}/{{ image_prefix }}base:{{ tag }},11,4
openstack%2Fcharm-mysql-router~master~I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5,openstack/charm-mysql-router,master,I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5,Enable MySQL TLS,MERGED,2020-06-30 22:38:05.000000000,2020-07-02 14:13:02.000000000,2020-07-02 14:13:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 22:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/0f1de061ef962888dc834dc90af040e5707fc629', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nDepends-On: I785afe7f64cb57caa857178d529e3cabdcf63517\nChange-Id: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\n'}, {'number': 2, 'created': '2020-07-01 17:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/c1a93bd2c36f2ee50054504d70484c5add486e82', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nDepends-On: I785afe7f64cb57caa857178d529e3cabdcf63517\nChange-Id: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\n'}, {'number': 3, 'created': '2020-07-01 20:11:34.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/dd63909c1ccc69907024753ec1b825917cf8298b', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nDepends-On: I785afe7f64cb57caa857178d529e3cabdcf63517\nChange-Id: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\n'}]",0,738713,dd63909c1ccc69907024753ec1b825917cf8298b,19,4,3,20805,,,0,"Enable MySQL TLS

Enable passing the certificate authority on the relation in order to
enable TLS communication to the MySQL DB.

Depends-On: I785afe7f64cb57caa857178d529e3cabdcf63517
Change-Id: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/13/738713/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",2,0f1de061ef962888dc834dc90af040e5707fc629,feature/tls," _json_ca = '""Certificate Authority""' _ca = json.loads(_json_ca) # Allowed Units, wait_time and ssl_ca unset self.db_router.ssl_ca.return_value = None db_port=_port, ssl_ca=None) self.db_router.ssl_ca.return_value = _json_ca wait_timeout=_wait_time, db_port=_port, ssl_ca=_ca) _json_ca = '""Certificate Authority""' _ca = json.loads(_json_ca) # Allowed Units, wait time and CA unset self.db_router.ssl_ca.return_value = None wait_timeout=None, db_port=_port, ssl_ca=None), wait_timeout=None, db_port=_port, ssl_ca=None), wait_timeout=None, db_port=_port, ssl_ca=None), self.db_router.ssl_ca.return_value = _json_ca wait_timeout=_wait_time, db_port=_port, ssl_ca=_ca), wait_timeout=_wait_time, db_port=_port, ssl_ca=_ca), wait_timeout=_wait_time, db_port=_port, ssl_ca=_ca),"," # Allowed Units unset and wait_time unset db_port=_port) wait_timeout=_wait_time, db_port=_port) # Allowed Units and wait time unset wait_timeout=None, db_port=_port), wait_timeout=None, db_port=_port), wait_timeout=None, db_port=_port), wait_timeout=_wait_time, db_port=_port), wait_timeout=_wait_time, db_port=_port), wait_timeout=_wait_time, db_port=_port),",24,11
openstack%2Fkolla~stable%2Fussuri~I2559267d120081f2e5eabc9d966b019517a5ad5d,openstack/kolla,stable/ussuri,I2559267d120081f2e5eabc9d966b019517a5ad5d,CentOS/AArch64: RabbitMQ is back!,MERGED,2020-06-23 10:00:33.000000000,2020-07-02 14:11:56.000000000,2020-07-02 14:10:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-23 10:00:33.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-erlang-aarch64.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/41aea37c055542d65d490966c5ff5a1301ac8233', 'message': ""CentOS/AArch64: RabbitMQ is back!\n\nCentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'\nrepository. We use it to grab Erlang while RabbitMQ comes from upstream\n(like on x86-64).\n\nChange-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d\n(manual cherrypick from master)\n""}]",0,737481,41aea37c055542d65d490966c5ff5a1301ac8233,13,3,1,24072,,,0,"CentOS/AArch64: RabbitMQ is back!

CentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'
repository. We use it to grab Erlang while RabbitMQ comes from upstream
(like on x86-64).

Change-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d
(manual cherrypick from master)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/737481/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-erlang-aarch64.repo']",4,41aea37c055542d65d490966c5ff5a1301ac8233,,,[rabbitmq_rabbitmq-erlang] name=rabbitmq_rabbitmq-erlang baseurl=http://obs.linaro.org/home:/marcin.juszkiewicz/centos$releasever/ gpgcheck=1 enabled=0 gpgkey=http://obs.linaro.org/home:/marcin.juszkiewicz/centos$releasever/repodata/repomd.xml.key ,5,10
openstack%2Fopenstack-helm~master~Idf6624bfdb835589f960aa9b1008c8d438764869,openstack/openstack-helm,master,Idf6624bfdb835589f960aa9b1008c8d438764869,Update AIO scripts to use minikube,ABANDONED,2020-06-28 23:00:49.000000000,2020-07-02 14:05:52.000000000,,"[{'_account_id': 8863}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-06-28 23:00:49.000000000', 'files': ['tools/deployment/developer/common/010-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64b17f084c72caa66ccbfad2126b39310e0f2a6e', 'message': 'Update AIO scripts to use minikube\n\nThe gate currently deploys OSH via minikube, and the kubeadm deployment\nappears to currently be broken since it goes untested.\n\nThis change updates the AIO scripts to point to the minikube install script\nrather than kubeadm.\n\nChange-Id: Idf6624bfdb835589f960aa9b1008c8d438764869\n'}]",0,738365,64b17f084c72caa66ccbfad2126b39310e0f2a6e,6,4,1,21420,,,0,"Update AIO scripts to use minikube

The gate currently deploys OSH via minikube, and the kubeadm deployment
appears to currently be broken since it goes untested.

This change updates the AIO scripts to point to the minikube install script
rather than kubeadm.

Change-Id: Idf6624bfdb835589f960aa9b1008c8d438764869
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/738365/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/developer/common/010-deploy-k8s.sh'],1,64b17f084c72caa66ccbfad2126b39310e0f2a6e,update-scripts,./tools/deployment/common/005-deploy-k8s.sh,make dev-deploy setup-host make dev-deploy k8s,1,2
openstack%2Ftripleo-common~stable%2Fussuri~Iac7c15572f83e77241bbc1469d3e3debc8ac011b,openstack/tripleo-common,stable/ussuri,Iac7c15572f83e77241bbc1469d3e3debc8ac011b,Set undercloud ansible_connection to local,MERGED,2020-06-24 11:29:33.000000000,2020-07-02 13:57:24.000000000,2020-07-02 13:54:21.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-24 11:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8a926a5d6e24b67c51300c1936090745d83d61d', 'message': 'Set undercloud ansible_connection to local\n\nThe Ansible undercloud connection defaults to local but\nthe inventory object constructor overrode it to SSH for\nMistral. Now that Mistral has been removed we can remove\nthe override and use local. This also avoids permission\nconflicts between the default ansible_ssh_user and the\nuser running the playbook as per the bug this patch\ncloses.\n\nChange-Id: Iac7c15572f83e77241bbc1469d3e3debc8ac011b\nCloses-Bug:  #1884123\n(cherry picked from commit 97c7d26721894cfe12a5397c789b9da1ae2d1ab0)\n'}, {'number': 2, 'created': '2020-06-26 13:41:14.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93cba1fc6e7701f5b02b19218dff5f4cd2bbd727', 'message': 'Set undercloud ansible_connection to local\n\nThe Ansible undercloud connection defaults to local but\nthe inventory object constructor overrode it to SSH for\nMistral. Now that Mistral has been removed we can remove\nthe override and use local. This also avoids permission\nconflicts between the default ansible_ssh_user and the\nuser running the playbook as per the bug this patch\ncloses.\n\nChange-Id: Iac7c15572f83e77241bbc1469d3e3debc8ac011b\nCloses-Bug:  #1884123\n(cherry picked from commit 97c7d26721894cfe12a5397c789b9da1ae2d1ab0)\n'}]",0,737748,93cba1fc6e7701f5b02b19218dff5f4cd2bbd727,16,5,2,18002,,,0,"Set undercloud ansible_connection to local

The Ansible undercloud connection defaults to local but
the inventory object constructor overrode it to SSH for
Mistral. Now that Mistral has been removed we can remove
the override and use local. This also avoids permission
conflicts between the default ansible_ssh_user and the
user running the playbook as per the bug this patch
closes.

Change-Id: Iac7c15572f83e77241bbc1469d3e3debc8ac011b
Closes-Bug:  #1884123
(cherry picked from commit 97c7d26721894cfe12a5397c789b9da1ae2d1ab0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/737748/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,f8a926a5d6e24b67c51300c1936090745d83d61d,bug/1884123-stable/ussuri,," undercloud_connection=UNDERCLOUD_CONNECTION_SSH,",0,1
openstack%2Fpuppet-tripleo~master~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,master,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-06-25 11:29:18.000000000,2020-07-02 13:46:19.000000000,2020-07-02 13:42:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-25 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a580a512b67ebb42c73647ed4ce94433b978202f', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n""}, {'number': 2, 'created': '2020-06-25 11:33:50.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a21b5ee7ce44270828a12b823b33e5e4117bf4c1', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n""}]",0,737983,a21b5ee7ce44270828a12b823b33e5e4117bf4c1,27,11,2,25402,,,0,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/737983/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,a580a512b67ebb42c73647ed4ce94433b978202f,,"# Defaults to hiera('ceph_grafana_enabled', false) $ceph_dashboard = hiera('ceph_grafana_enabled', false),","# Defaults to hiera('ceph_mgr_enabled', false) $ceph_dashboard = hiera('ceph_mgr_enabled', false),",2,2
openstack%2Fneutron~master~I82d67847c71d276184026e5af5787235228035c0,openstack/neutron,master,I82d67847c71d276184026e5af5787235228035c0,Config privsep in the macvtap agent,MERGED,2020-06-30 13:51:28.000000000,2020-07-02 13:43:59.000000000,2020-07-02 13:39:41.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-30 13:51:28.000000000', 'files': ['neutron/plugins/ml2/drivers/macvtap/agent/macvtap_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c04e60d45b7ac39523de749cb38b02646866737', 'message': 'Config privsep in the macvtap agent\n\nThe commands executed under a privsep context,\nprivsep should be initialized first.\n\nChange-Id: I82d67847c71d276184026e5af5787235228035c0\n'}]",0,738627,4c04e60d45b7ac39523de749cb38b02646866737,12,7,1,8037,,,0,"Config privsep in the macvtap agent

The commands executed under a privsep context,
privsep should be initialized first.

Change-Id: I82d67847c71d276184026e5af5787235228035c0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/738627/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/macvtap/agent/macvtap_neutron_agent.py'],1,4c04e60d45b7ac39523de749cb38b02646866737,add_macvtap_privsep,from neutron.conf.agent import common as agent_config agent_config.setup_privsep(),,2,0
openstack%2Fneutron~master~If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,openstack/neutron,master,If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,"Migrate ""netstat"" to oslo.privsep",MERGED,2020-06-11 15:09:15.000000000,2020-07-02 13:42:07.000000000,2020-07-02 13:39:34.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-11 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/598a6f132647e4c21adfcad6e944998940ba3565', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n'}, {'number': 2, 'created': '2020-06-11 15:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d0aacb16fbf66646b33ca4c56f84154c6fc2310', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n'}, {'number': 3, 'created': '2020-06-11 17:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88503de1408668ce5c24a4ae3a95800294eaec84', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n'}, {'number': 4, 'created': '2020-06-12 11:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e57311b7bee63463c6246cbae94bf65af7645e0', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n'}, {'number': 5, 'created': '2020-06-19 14:59:30.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/privileged/agent/linux/test_utils.py', 'neutron/tests/unit/privileged/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/netns-cleanup.filters', 'neutron/tests/unit/cmd/test_netns_cleanup.py', 'neutron/cmd/netns_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c1818fbb02b5ff6a9a5157d4bbb58314242c806', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n'}]",6,735169,0c1818fbb02b5ff6a9a5157d4bbb58314242c806,49,8,5,16688,,,0,"Migrate ""netstat"" to oslo.privsep

Change-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816
Story: #2007686
Task: #40047
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/735169/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/privileged/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/netns-cleanup.filters', 'neutron/privileged/__init__.py', 'neutron/privileged/agent/linux/__init__.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/cmd/netns_cleanup.py']",7,598a6f132647e4c21adfcad6e944998940ba3565,task/40047,from neutron.privileged.agent.linux import utils as priv_utils return priv_utils.find_listen_pids_namespace(namespace),"NETSTAT_PIDS_REGEX = re.compile(r'.* (?P<pid>\d{2,6})/.*') ip = ip_lib.IPWrapper(namespace=namespace) pids = set() cmd = ['netstat', '-nlp'] output = ip.netns.execute(cmd, run_as_root=True) for line in output.splitlines(): m = NETSTAT_PIDS_REGEX.match(line) if m: pids.add(m.group('pid')) return pids",120,41
openstack%2Fironic-python-agent~master~Id1adfe09cce5122088f7969e0acf593378ada645,openstack/ironic-python-agent,master,Id1adfe09cce5122088f7969e0acf593378ada645,[Test]DNM Testing if TinyIPA builds with py3,ABANDONED,2017-10-04 21:40:13.000000000,2020-07-02 13:25:48.000000000,,"[{'_account_id': 3}, {'_account_id': 14760}, {'_account_id': 19593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 21:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a89f312ae443391a156a71c1ba83be2b7dcfc766', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 2, 'created': '2017-10-07 00:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/80f829055cad83190d113f801a3e7ff19d7f5f0e', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 3, 'created': '2017-10-10 00:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ff7ff9de6bd3d9a4467d53bf3b1c443b0fcd730', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 4, 'created': '2017-10-20 02:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/96aee9b82f75c83cc73ea7a64009c2fa2aa35c60', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 5, 'created': '2017-10-25 18:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f0f97edeba3c1e5480cdbc48d1b61d0b81433d46', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 6, 'created': '2017-10-25 21:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/815d6bd09630464bd504ba6fdb1545ff2e4d36c9', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 7, 'created': '2017-10-30 22:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c0748400a88775520ae9bc926593a5c3f3a06c57', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 8, 'created': '2017-10-31 18:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/028924c000ae8f2c5f421c9a418adae38e37acb9', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 9, 'created': '2017-10-31 21:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/03698d08c90c5bc09b904e1704cab0abfbe64d9e', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 10, 'created': '2017-11-01 21:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3b34d494ee5d0e95c40677014d62895c2612a71f', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nDepends-On: Ib05e3332f032c1c14ae2cee02015614fc171cb32\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 11, 'created': '2017-11-08 19:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1c27c5641ac2689c86c5b1abb540147b21d5bc33', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nDepends-On: Ib05e3332f032c1c14ae2cee02015614fc171cb32\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 12, 'created': '2017-11-09 22:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/70f3059cbd325a8613c3869abac48e8ec6487fff', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}, {'number': 13, 'created': '2017-11-21 00:27:10.000000000', 'files': ['test-py3.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31a559f3d13c990e1cb1efad04f0f6dfbe4dc7fd', 'message': '[Test]DNM Testing if TinyIPA builds with py3\n\nDepends-On: I4eb33a65bdeb505b323067956412217289956de8\nDepends-On: Ib05e3332f032c1c14ae2cee02015614fc171cb32\nChange-Id: Id1adfe09cce5122088f7969e0acf593378ada645\nRelated-Bug: #495385\n'}]",0,509652,31a559f3d13c990e1cb1efad04f0f6dfbe4dc7fd,49,4,13,19593,,,0,"[Test]DNM Testing if TinyIPA builds with py3

Depends-On: I4eb33a65bdeb505b323067956412217289956de8
Depends-On: Ib05e3332f032c1c14ae2cee02015614fc171cb32
Change-Id: Id1adfe09cce5122088f7969e0acf593378ada645
Related-Bug: #495385
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/509652/11 && git format-patch -1 --stdout FETCH_HEAD,['test-py3.py'],1,a89f312ae443391a156a71c1ba83be2b7dcfc766,bug/495385,,,0,0
openstack%2Fironic-lib~master~I4808c3c517c8f9d865bccbb00569905f81230392,openstack/ironic-lib,master,I4808c3c517c8f9d865bccbb00569905f81230392,Retry when execute partprobe cmd failed,ABANDONED,2017-03-09 12:29:31.000000000,2020-07-02 13:22:27.000000000,,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6618}, {'_account_id': 8871}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11347}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 15333}, {'_account_id': 23883}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-03-09 12:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/95aea95eb8b6544d74d179139c34d281ed0acd39', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 2, 'created': '2017-03-10 02:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ca3db8c75ad06ff6d0a9733e8d58b2dce79cdd9d', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 3, 'created': '2017-03-15 07:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4100d87ecf08b2a701a88f9c80fdf8a755d8e5f3', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 4, 'created': '2017-03-15 07:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4b9687b6d93414476e221e787b95ebd04820f536', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nDepends-On: I223d4ff74e789b78116c4d34918e1b98ee6fee06\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 5, 'created': '2017-04-14 09:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f7daf1c3e3fa1affad2cc6ef276d21515bc423a3', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 6, 'created': '2017-04-14 12:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/91f899d458f4c356372924d68f93f065255de58c', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing sgdisk -Z cmd for cleaning out all partition data,\nexecuting partprobe may meet error. To solve this problem, we can\nexecute udevadm settle before partprobe to wait for udevd to\nprocess the device creation events for disks. If partprobe still\nmeet error, waiting for 60 seconds and trying again is a good\nsolution.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 7, 'created': '2017-04-24 11:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/854d311b3c129f2cb93afd872eec2db18fbba3f8', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing ""sgdisk -Z"" and ""qemu-img convert"" for cleaning\nout all partition data and install User-OS into harddisk,\nexecuting ""partprobe"" may meet error. Now partitioning tool does\nautomatically what ""partprobe"" does. Explicit ""partprobe"" call\ncould fail because the hard-disk device is blocked/busy. This\nsituation occurs because kernel is still busy with the perceding\ntask that was triggered automatically by the partitioning tool.\nIf ""partprobe"" meets error, waiting for 60 seconds and trying\nagain is a good solution.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 8, 'created': '2017-04-26 03:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/08ea27402c6a788441fb28ad2613ffe71c9297cf', 'message': 'Retry when execute partprobe cmd failed\n\nAfter executing ""sgdisk -Z"" and ""qemu-img convert"" for cleaning\nout all partition data and install User-OS into harddisk,\nexecuting ""partprobe"" may meet error. Now partitioning tool does\nautomatically what ""partprobe"" does. Explicit ""partprobe"" call\ncould fail because the hard-disk device is blocked/busy. This\nsituation occurs because kernel is still busy with the preceding\ntask that was triggered automatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 9, 'created': '2017-08-01 03:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/100254129d0dcacef8f3a043796482d0644a55f3', 'message': 'ironic_lib/.projectRetry when execute partprobe cmd failed\n\nWhen using IPA shell/write_image.sh, after executing ""sgdisk -Z""\nand ""qemu-img convert"" for cleaning out all partition data and\ninstall User-OS into harddisk, executing ""partprobe"" may meet\nerror. Now ""qemu-img convert"" does automatically what ""partprobe""\ndoes. Explicit ""partprobe"" call could fail because the hard-disk\ndevice is blocked/busy. This situation occurs because kernel is\nstill busy with the preceding task that was triggered\nautomatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 10, 'created': '2017-08-02 07:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9489a1bd1a9a807f2e006ad3d3a994c450896b89', 'message': 'Retry when execute partprobe cmd failed\n\nWhen using IPA shell/write_image.sh, after executing ""sgdisk -Z""\nand ""qemu-img convert"" for cleaning out all partition data and\ninstall User-OS into harddisk, executing ""partprobe"" may meet\nerror. Now ""qemu-img convert"" does automatically what ""partprobe""\ndoes. Explicit ""partprobe"" call could fail because the hard-disk\ndevice is blocked/busy. This situation occurs because kernel is\nstill busy with the preceding task that was triggered\nautomatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 11, 'created': '2017-08-03 11:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/27d0bf6607f74809f62dd5ab381ccc53afc2f420', 'message': 'Retry when execute partprobe cmd failed\n\nWhen using IPA shell/write_image.sh, after executing ""sgdisk -Z""\nand ""qemu-img convert"" for cleaning out all partition data and\ninstall User-OS into harddisk, executing ""partprobe"" may meet\nerror. Now ""qemu-img convert"" does automatically what ""partprobe""\ndoes. Explicit ""partprobe"" call could fail because the hard-disk\ndevice is blocked/busy. This situation occurs because kernel is\nstill busy with the preceding task that was triggered\nautomatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 12, 'created': '2017-08-08 05:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/66e6fac57172b464a727073e4445257b93ecef55', 'message': 'Retry when execute partprobe cmd failed\n\nWhen using IPA shell/write_image.sh, after executing ""sgdisk -Z""\nand ""qemu-img convert"" for cleaning out all partition data and\ninstall User-OS into harddisk, executing ""partprobe"" may meet\nerror. Now ""qemu-img convert"" does automatically what ""partprobe""\ndoes. Explicit ""partprobe"" call could fail because the hard-disk\ndevice is blocked/busy. This situation occurs because kernel is\nstill busy with the preceding task that was triggered\nautomatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}, {'number': 13, 'created': '2017-08-30 11:13:55.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0daf04b8c11003442e925e347b1db8c4ba71d19c', 'message': 'Retry when execute partprobe cmd failed\n\nWhen using IPA shell/write_image.sh, after executing ""sgdisk -Z""\nand ""qemu-img convert"" for cleaning out all partition data and\ninstall User-OS into harddisk, executing ""partprobe"" may meet\nerror. Now ""qemu-img convert"" does automatically what ""partprobe""\ndoes. Explicit ""partprobe"" call could fail because the hard-disk\ndevice is blocked/busy. This situation occurs because kernel is\nstill busy with the preceding task that was triggered\nautomatically by the partitioning tool.\nIf ""partprobe"" meets ""unable to inform the kernel of the change""\nerror, waiting for 60 seconds and trying again is a good solution.\nIf other error occurs, just raise an exception.\nWhy we had not used the ""udevadm settle"" before executing\n""partprobe"". This is because ""udevadm settle"" is event driven,\nudev events happen at arbitrary time. If udev event(partition\nsucceed) is ""too late"", ""udevadm settle"" will exit soon,\nregardless that partition event maybe not occur.\n\nChange-Id: I4808c3c517c8f9d865bccbb00569905f81230392\ncloses-Bug: #1670239\n'}]",113,443604,0daf04b8c11003442e925e347b1db8c4ba71d19c,81,14,13,15333,,,0,"Retry when execute partprobe cmd failed

When using IPA shell/write_image.sh, after executing ""sgdisk -Z""
and ""qemu-img convert"" for cleaning out all partition data and
install User-OS into harddisk, executing ""partprobe"" may meet
error. Now ""qemu-img convert"" does automatically what ""partprobe""
does. Explicit ""partprobe"" call could fail because the hard-disk
device is blocked/busy. This situation occurs because kernel is
still busy with the preceding task that was triggered
automatically by the partitioning tool.
If ""partprobe"" meets ""unable to inform the kernel of the change""
error, waiting for 60 seconds and trying again is a good solution.
If other error occurs, just raise an exception.
Why we had not used the ""udevadm settle"" before executing
""partprobe"". This is because ""udevadm settle"" is event driven,
udev events happen at arbitrary time. If udev event(partition
succeed) is ""too late"", ""udevadm settle"" will exit soon,
regardless that partition event maybe not occur.

Change-Id: I4808c3c517c8f9d865bccbb00569905f81230392
closes-Bug: #1670239
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/04/443604/12 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,95aea95eb8b6544d74d179139c34d281ed0acd39,bug/1670239," partprobe_ok = False error_msg = 'unknown error' for i in (1, 2, 3): utils.execute('udevadm', 'settle', '--timeout=600', run_as_root=True) try: utils.execute('partprobe', device_path, run_as_root=True) partprobe_ok = True break except (processutils.UnknownArgumentError, processutils.ProcessExecutionError, OSError) as e: error_msg = e.stderr if ('unable to inform the kernel' not in error_msg and 'Device or resource busy' not in error_msg): msg = (_('Failed to retrieve partition labels on disk ' '%(disk)s for node %(node)s. Error: %(error)s') % {'disk': device_path, 'node': node_uuid, 'error': e}) raise exception.InstanceDeployFailure(msg) LOG.debug(_('Partprobe %(disk)s failed %(times)d times: ' '%(error)s (ignored, waiting 60s)') % {'disk': device_path, 'times': i, 'error': error_msg}) time.sleep(60) if not partprobe_ok: msg = (_('Failed to retrieve partition labels on disk ' '%(disk)s for node %(node)s. Error: %(error)s') % {'disk': device_path, 'node': node_uuid, 'error': error_msg}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) utils.execute('udevadm', 'settle', '--timeout=600', run_as_root=True) try:"," try: utils.execute('partprobe', device_path, run_as_root=True) ",163,9
openstack%2Fneutron~master~I715172e6bd64fcdd34ce10956fd4fdc20887a70a,openstack/neutron,master,I715172e6bd64fcdd34ce10956fd4fdc20887a70a,"Implement ""RouterInfo.update_routing_table"" with Pyroute2",MERGED,2020-06-08 18:10:30.000000000,2020-07-02 13:21:21.000000000,2020-07-02 13:16:26.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-08 18:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92070752a5c3b3b94963db11357bf3f82f195cde', 'message': 'Implement ""RouterInfo.update_routing_table"" with Pyroute2\n\nChange-Id: I715172e6bd64fcdd34ce10956fd4fdc20887a70a\nRelated-Bug: #1492714\n'}, {'number': 2, 'created': '2020-06-09 11:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1468f43fff06494d4852969467d5bd487a8c972', 'message': 'Implement ""RouterInfo.update_routing_table"" with Pyroute2\n\nChange-Id: I715172e6bd64fcdd34ce10956fd4fdc20887a70a\nRelated-Bug: #1492714\n'}, {'number': 3, 'created': '2020-06-09 13:48:55.000000000', 'files': ['neutron/tests/unit/agent/l3/test_router_info.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/998b22b38353c6296529e7abf9bb1184aa838868', 'message': 'Implement ""RouterInfo.update_routing_table"" with Pyroute2\n\nChange-Id: I715172e6bd64fcdd34ce10956fd4fdc20887a70a\nRelated-Bug: #1492714\n'}]",2,734166,998b22b38353c6296529e7abf9bb1184aa838868,41,9,3,16688,,,0,"Implement ""RouterInfo.update_routing_table"" with Pyroute2

Change-Id: I715172e6bd64fcdd34ce10956fd4fdc20887a70a
Related-Bug: #1492714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/734166/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,92070752a5c3b3b94963db11357bf3f82f195cde,bug/1492714,"from pyroute2.netlink import exceptions as pyroute2_exc def update_routing_table(self, operation, route): try: if operation == 'replace': ip_lib.add_ip_route(self.ns_name, route['destination'], via=route['nexthop']) elif operation == 'delete': ip_lib.delete_ip_route(self.ns_name, route['destination'], via=route['nexthop']) except (RuntimeError, OSError, pyroute2_exc.NetlinkError): pass"," def _update_routing_table(self, operation, route, namespace): cmd = ['ip', 'route', operation, 'to', route['destination'], 'via', route['nexthop']] ip_wrapper = ip_lib.IPWrapper(namespace=namespace) ip_wrapper.netns.execute(cmd, check_exit_code=False) def update_routing_table(self, operation, route): self._update_routing_table(operation, route, self.ns_name)",10,7
openstack%2Fneutron~master~Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,openstack/neutron,master,Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,[L3] Check agent gateway port robustly,MERGED,2020-06-13 15:37:45.000000000,2020-07-02 13:19:09.000000000,2020-07-02 13:16:22.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-13 15:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31884579be40c69e0a0dce25ef06928fafa9d96a', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n'}, {'number': 2, 'created': '2020-06-16 01:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/151593412d651a8638355a639d59f6a85daaf9a8', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\n[1] https://review.opendev.org/#/c/702547/\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n'}, {'number': 3, 'created': '2020-06-20 03:09:12.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\n[1] https://review.opendev.org/#/c/702547/\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n'}]",3,735432,5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8,31,9,3,9531,,,0,"[L3] Check agent gateway port robustly

In patch [1] it introduced a binding of DB uniq constraint for L3
agent gateway. In some extreme case the DvrFipGatewayPortAgentBinding
is in DB while the gateway port not. The current code path only checks
the binding existence which will pass a ""None"" port to the following
code path that results an AttributeError. This patch adds a simple check
for that gateway port, if it is not created, new one.

[1] https://review.opendev.org/#/c/702547/

Closes-Bug: #1883089
Change-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/735432/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvr_db.py'],1,31884579be40c69e0a0dce25ef06928fafa9d96a,bug/1883089," LOG.debug(""Floating IP Gateway port agent binding for network "" if agent_port:"," LOG.debug(""Floating IP Agent Gateway port for network """,2,1
openstack%2Fneutron-dynamic-routing~master~I85e5f1437c0962ba089e767987e2be0c64d36433,openstack/neutron-dynamic-routing,master,I85e5f1437c0962ba089e767987e2be0c64d36433,fix tox python3 overrides,ABANDONED,2018-07-26 15:24:27.000000000,2020-07-02 12:58:41.000000000,,"[{'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-26 15:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/dec46f268ba31a3bc595d0ce6304a79045a0ff62', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I85e5f1437c0962ba089e767987e2be0c64d36433\n'}, {'number': 2, 'created': '2018-10-31 14:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ca00133452c7f78bab3feaf9b6963c330c479174', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I85e5f1437c0962ba089e767987e2be0c64d36433\n'}, {'number': 3, 'created': '2019-11-06 14:33:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e1c0ce071b2a49119691ac762e0abff9ce3f69b1', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: qingszhao <zhao.daqing@99cloud.net>\nCo-Authored-By: 98k <18552437190@163.com>\n\nChange-Id: I85e5f1437c0962ba089e767987e2be0c64d36433\n'}]",0,586268,e1c0ce071b2a49119691ac762e0abff9ce3f69b1,11,5,3,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Co-Authored-By: qingszhao <zhao.daqing@99cloud.net>
Co-Authored-By: 98k <18552437190@163.com>

Change-Id: I85e5f1437c0962ba089e767987e2be0c64d36433
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/68/586268/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dec46f268ba31a3bc595d0ce6304a79045a0ff62,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,10,0
openstack%2Fcharm-neutron-api-plugin-arista~master~I70116fa3a2501258f6176b30094e8ddce25a8021,openstack/charm-neutron-api-plugin-arista,master,I70116fa3a2501258f6176b30094e8ddce25a8021,Minor readme improvement,MERGED,2020-07-02 12:26:24.000000000,2020-07-02 12:57:00.000000000,2020-07-02 12:56:59.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 12:26:24.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/72397cfeeecfabe19cfd94d5b24ce1993cf529f2', 'message': 'Minor readme improvement\n\nChange-Id: I70116fa3a2501258f6176b30094e8ddce25a8021\n'}]",0,739028,72397cfeeecfabe19cfd94d5b24ce1993cf529f2,6,2,1,31289,,,0,"Minor readme improvement

Change-Id: I70116fa3a2501258f6176b30094e8ddce25a8021
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/28/739028/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,72397cfeeecfabe19cfd94d5b24ce1993cf529f2,readme,This subordinate charm provides the Arista ML2 Plugin support to the OpenStack,This principle charm provides the Arista ML2 Plugin support to the OpenStack,1,1
openstack%2Frally~master~Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb,openstack/rally,master,Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb,Fix pygments style,MERGED,2020-06-23 09:05:18.000000000,2020-07-02 12:56:11.000000000,2020-07-02 12:56:11.000000000,"[{'_account_id': 9545}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ee2c6bdd9c71502430ded45f9425327574ce99f7', 'message': 'Fix pygments style\n\nNew theme of docs respects pygments_style.\n\nmore info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb\n'}, {'number': 2, 'created': '2020-07-02 12:16:19.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/7b268d60119113ed89107815b50dc496aaea9af8', 'message': 'Fix pygments style\n\nNew theme of docs respects pygments_style.\n\nmore info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb\n'}]",0,737461,7b268d60119113ed89107815b50dc496aaea9af8,13,3,2,17130,,,0,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: Ifc0f70adf3a426314ff6df41c58b6aa5aeca17fb
",git fetch https://review.opendev.org/openstack/rally refs/changes/61/737461/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ee2c6bdd9c71502430ded45f9425327574ce99f7,sphinx,"pygments_style = ""native""","pygments_style = ""sphinx""",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I9d6758c8550308d13d936de1a14afbe4124e593b,openstack/kolla-ansible,stable/train,I9d6758c8550308d13d936de1a14afbe4124e593b,Make ES Curator schedule multinode-friendly,MERGED,2020-07-01 16:19:35.000000000,2020-07-02 12:41:55.000000000,2020-07-02 12:38:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 16:19:35.000000000', 'files': ['ansible/roles/elasticsearch/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5011b6bd1effb123f221764fb40a5a7aef284e27', 'message': ""Make ES Curator schedule multinode-friendly\n\nIn the spirit of Kolla-Ansible, we generally try to provide\nworkable defaults.\nThe default for Elasticsearch curator schedule was fine except for\nmultinode deploys where it would cause all nodes to run at the\nsame time producing broken runs (race condition in the get-delete\ncycle).\nIt is easy to improve this situation by embracing poor-man's\nreimplementation of keystone's fernet key rotation schedule.\nES Curator does not need all the complexity of the former so it\ncan be handled very well by shifting by as many hours as the\ninstance's index dictates. It should rarely if ever need more time\n(most likely still in minutes range rather than hours).\n\nChange-Id: I9d6758c8550308d13d936de1a14afbe4124e593b\n(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)\n""}]",0,738879,5011b6bd1effb123f221764fb40a5a7aef284e27,10,3,1,30491,,,0,"Make ES Curator schedule multinode-friendly

In the spirit of Kolla-Ansible, we generally try to provide
workable defaults.
The default for Elasticsearch curator schedule was fine except for
multinode deploys where it would cause all nodes to run at the
same time producing broken runs (race condition in the get-delete
cycle).
It is easy to improve this situation by embracing poor-man's
reimplementation of keystone's fernet key rotation schedule.
ES Curator does not need all the complexity of the former so it
can be handled very well by shifting by as many hours as the
instance's index dictates. It should rarely if ever need more time
(most likely still in minutes range rather than hours).

Change-Id: I9d6758c8550308d13d936de1a14afbe4124e593b
(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/738879/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/elasticsearch/defaults/main.yml'],1,5011b6bd1effb123f221764fb40a5a7aef284e27,es-curator-schedule-multinode-stable/ussuri-stable/train,"# Helper variable used to define the default hour Curator runs to avoid # simultaneous runs in multinode deployments. elasticsearch_curator_instance_id: ""{{ groups['elasticsearch-curator'].index(inventory_hostname) }}"" # How frequently Curator runs. # For multinode deployments of Curator you should ensure each node has # a different schedule so that Curator does not run simultaneously on # multiple nodes. Use hostvars or parameterize like in the default # below. # The default depends on Curator's id as defined above which dictates # the daily hour the schedule runs (0, 1, etc.). elasticsearch_curator_cron_schedule: ""0 {{ elasticsearch_curator_instance_id }} * * *""","# How frequently Curator runs. On multinode deployments of Curator # you may wish to override this in hostvars so that Curator does # not run simultaneously on all nodes. Defaults to every midnight. elasticsearch_curator_cron_schedule: ""0 0 * * *""",12,4
openstack%2Fkolla-ansible~stable%2Fussuri~I74359cec7147a80db24eb4aa4156c35d31a026bf,openstack/kolla-ansible,stable/ussuri,I74359cec7147a80db24eb4aa4156c35d31a026bf,Use public interface for Magnum client and trustee Keystone interface,MERGED,2020-07-01 16:20:16.000000000,2020-07-02 12:41:48.000000000,2020-07-02 12:38:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 16:20:16.000000000', 'files': ['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a0a4877e8bc87144ced35a18a76dca8423083a4', 'message': 'Use public interface for Magnum client and trustee Keystone interface\n\nWhile all other clients should use internalURL, the Magnum client itself\nand Keystone interface for trustee credentials should be publicly\naccessible (upstream default when no config is specified) since\ninstances need to be able to reach them.\n\nCloses-Bug: #1885420\nChange-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf\n(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)\n'}]",0,738880,6a0a4877e8bc87144ced35a18a76dca8423083a4,10,4,1,30491,,,0,"Use public interface for Magnum client and trustee Keystone interface

While all other clients should use internalURL, the Magnum client itself
and Keystone interface for trustee credentials should be publicly
accessible (upstream default when no config is specified) since
instances need to be able to reach them.

Closes-Bug: #1885420
Change-Id: I74359cec7147a80db24eb4aa4156c35d31a026bf
(cherry picked from commit 78bb5942649507f4340e562ce8fa2a766ca2bc4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/738880/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/clients-in-magnum-use-internalURL-af3ad82af71a88c6.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2']",2,6a0a4877e8bc87144ced35a18a76dca8423083a4,internalURL-stable/ussuri,endpoint_type = publicURLtrustee_keystone_interface = public,endpoint_type = internalURL,5,5
openstack%2Frally~master~Ic5e4f41f142d978d5e85b27ea324805bef307983,openstack/rally,master,Ic5e4f41f142d978d5e85b27ea324805bef307983,Add ubuntu-focal install job,MERGED,2020-07-02 10:46:10.000000000,2020-07-02 12:36:19.000000000,2020-07-02 12:36:19.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/970a4c19404acc48a402cebf2aec3efa8d6d603b', 'message': 'Add ubuntu-focal install job\n\nChange-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983\n'}, {'number': 2, 'created': '2020-07-02 10:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/855aca3ff34f49aebe4e05e7834b1dc6965ff54e', 'message': 'Add ubuntu-focal install job\n\nChange-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983\n'}, {'number': 3, 'created': '2020-07-02 11:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/516ebd713acab061bc0384d79b400f3200078551', 'message': 'Add ubuntu-focal install job\n\nChange-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983\n'}, {'number': 4, 'created': '2020-07-02 11:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/33d51e895e08c9a9ec96169ac1a172c5c7805358', 'message': 'Add ubuntu-focal install job\n\nChange-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983\n'}, {'number': 5, 'created': '2020-07-02 11:46:41.000000000', 'files': ['.zuul.d/install-jobs.yaml', '.zuul.d/zuul.yaml', 'tests/ci/playbooks/rally-install-pre.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/8087d7caa1386a9d3da32e1199e7374576f7c528', 'message': 'Add ubuntu-focal install job\n\nChange-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983\n'}]",0,739016,8087d7caa1386a9d3da32e1199e7374576f7c528,10,2,5,9545,,,0,"Add ubuntu-focal install job

Change-Id: Ic5e4f41f142d978d5e85b27ea324805bef307983
",git fetch https://review.opendev.org/openstack/rally refs/changes/16/739016/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/install-jobs.yaml', '.zuul.d/zuul.yaml', 'tests/ci/playbooks/rally-install-pre.yaml']",3,970a4c19404acc48a402cebf2aec3efa8d6d603b,builds_fix," cmd: ""cat /etc/lsb-release"" executable: /bin/sh register: os_version - name: Check whether apt is available shell: sudo apt-get install --yes python3.6-dev pip3.6 - name: Install pip3 if needed when: apt_get_installed.rc == 0 or yum_installed.rc == 0 shell: chdir: '{{ zuul.project.src_dir }}' cmd: | curl https://bootstrap.pypa.io/get-pip.py -o /tmp/get-pip.py sudo python3 /tmp/get-pip.py ", curl https://bootstrap.pypa.io/get-pip.py -o /tmp/get-pip.py sudo python3 /tmp/get-pip.py sudo apt-get install --yes python3.6-dev,45,26
openstack%2Fironic~master~I993741684eaa8f237ffb20535da7167bc589e72c,openstack/ironic,master,I993741684eaa8f237ffb20535da7167bc589e72c,"ironic-standalone, use http basic auth for json-rpc",MERGED,2020-06-17 22:53:07.000000000,2020-07-02 12:21:01.000000000,2020-07-02 12:12:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-17 22:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1c8d8bda0de509823532f7878283d931caf876c', 'message': 'devstack json-rpc, use http basic auth\n\nThis change achieves functional test coverage for using http_basic\nauth for json-rpc requests.\n\nSince json-rpc is aimed at standalone environments, using http_basic\ninstead of keystone auth for internal requests is a more realistic\ntest scenario.\n\nChange-Id: I993741684eaa8f237ffb20535da7167bc589e72c\nStory: 2007656\nTask: 39827\n'}, {'number': 2, 'created': '2020-06-18 02:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97500911143d4c66e93262adefa84e73ccab4182', 'message': 'devstack json-rpc, use http basic auth\n\nThis change achieves functional test coverage for using http_basic\nauth for json-rpc requests.\n\nSince json-rpc is aimed at standalone environments, using http_basic\ninstead of keystone auth for internal requests is a more realistic\ntest scenario.\n\nChange-Id: I993741684eaa8f237ffb20535da7167bc589e72c\nStory: 2007656\nTask: 39827\n'}, {'number': 3, 'created': '2020-06-18 22:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b7b09867e4e68c9199c6a2127c6b97d2ed1c56f', 'message': 'ironic-standalone, use http basic auth for json-rpc\n\nThis change achieves functional test coverage for using http_basic\nauth for json-rpc requests.\n\nSince json-rpc is aimed at standalone environments, using http_basic\ninstead of keystone auth for internal requests is a more realistic\ntest scenario.\n\nFor now, ironic-standalone-redfish is left with the inherited keystone\nauth strategy.\n\nChange-Id: I993741684eaa8f237ffb20535da7167bc589e72c\nStory: 2007656\nTask: 39827\n'}, {'number': 4, 'created': '2020-06-19 01:41:20.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da49cf69deb68aac49467d4054f56855c201f5db', 'message': 'ironic-standalone, use http basic auth for json-rpc\n\nThis change achieves functional test coverage for using http_basic\nauth for json-rpc requests.\n\nSince json-rpc is aimed at standalone environments, using http_basic\ninstead of keystone auth for internal requests is a more realistic\ntest scenario.\n\nFor now, ironic-standalone-redfish is left with the inherited keystone\nauth strategy.\n\nChange-Id: I993741684eaa8f237ffb20535da7167bc589e72c\nStory: 2007656\nTask: 39827\n'}]",1,736398,da49cf69deb68aac49467d4054f56855c201f5db,40,9,4,4571,,,0,"ironic-standalone, use http basic auth for json-rpc

This change achieves functional test coverage for using http_basic
auth for json-rpc requests.

Since json-rpc is aimed at standalone environments, using http_basic
instead of keystone auth for internal requests is a more realistic
test scenario.

For now, ironic-standalone-redfish is left with the inherited keystone
auth strategy.

Change-Id: I993741684eaa8f237ffb20535da7167bc589e72c
Story: 2007656
Task: 39827
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/736398/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,d1c8d8bda0de509823532f7878283d931caf876c,basic-auth," iniset $IRONIC_CONF_FILE json_rpc auth_strategy http_basic iniset $IRONIC_CONF_FILE json_rpc http_basic_username myName iniset $IRONIC_CONF_FILE json_rpc http_basic_password myPassword # json-rpc auth file with bcrypt hash of myPassword echo ""myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.JETVCWBkc32C63UP2aYrGoYOEpbJm"" > /etc/ironic/htpasswd-json-rpc",,5,0
openstack%2Fopenstack-ansible~stable%2Fstein~Iaf4194eb4c7af76f9395b85267b83e68bb13ccae,openstack/openstack-ansible,stable/stein,Iaf4194eb4c7af76f9395b85267b83e68bb13ccae,Bump SHAs for stable/stein,MERGED,2020-06-28 15:27:46.000000000,2020-07-02 12:20:05.000000000,2020-07-02 12:17:41.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-28 15:27:46.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9a73b8d49501246d3dbb21c0469a7ec9e4ae9562', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: Iaf4194eb4c7af76f9395b85267b83e68bb13ccae\n'}]",0,738359,9a73b8d49501246d3dbb21c0469a7ec9e4ae9562,19,4,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: Iaf4194eb4c7af76f9395b85267b83e68bb13ccae
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/738359/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,9a73b8d49501246d3dbb21c0469a7ec9e4ae9562,bump_osa, version: 51356b811c0ab318572011e638ecdf61cfe3fd71 version: fcba2b150c72dcacd0fba7c2391c3d54cc515601 version: 53c47874e5daa67741d6cb773be7589bd1d95722 version: 4df265206ff680ba982a8b9d52db78a84590c89d version: 1cf3a57a6c34709a750c5a228330cecb1c85a1d8, version: 91878d728eb6eaca907d072ba1eb88f8e1954dd1 version: fbc410f82d44e7e457d6b6a92948132e4a0572a1 version: 6eb95cdd5ea9b1f232140932376dea98e4b625c0 version: 198fbf664636a1ce8340537bec0da30bf99b4248 version: 6f3d6967429bf08fb348e6914566d9d1b3e428f0,53,53
openstack%2Fproject-config~master~Ic8930be87b3788bf4d341780cf72c8e782b2e20a,openstack/project-config,master,Ic8930be87b3788bf4d341780cf72c8e782b2e20a,Mirror arista and trilio charms to GitHub,MERGED,2020-07-02 10:30:51.000000000,2020-07-02 12:15:10.000000000,2020-07-02 12:15:10.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:30:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b1fae6833bc2093c491b794915e98291e2e26fcb', 'message': 'Mirror arista and trilio charms to GitHub\n\nChange-Id: Ic8930be87b3788bf4d341780cf72c8e782b2e20a\n'}]",0,739009,b1fae6833bc2093c491b794915e98291e2e26fcb,8,4,1,31289,,,0,"Mirror arista and trilio charms to GitHub

Change-Id: Ic8930be87b3788bf4d341780cf72c8e782b2e20a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/739009/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b1fae6833bc2093c491b794915e98291e2e26fcb,arista-trilio-github-mirror, name: openstack/charm-neutron-api-plugin-arista templates: - official-openstack-repo-jobs - project: name: openstack/charm-trilio-data-mover templates: - official-openstack-repo-jobs - project: name: openstack/charm-trilio-dm-api templates: - official-openstack-repo-jobs - project: name: openstack/charm-trilio-horizon-plugin templates: - official-openstack-repo-jobs - project: name: openstack/charm-trilio-wlm templates: - official-openstack-repo-jobs - project:,,25,0
openstack%2Freleases~master~I0b60e7e66acda8efe93fa66114ea2c290e2caabe,openstack/releases,master,I0b60e7e66acda8efe93fa66114ea2c290e2caabe,Test for update-constraints,ABANDONED,2020-07-01 20:31:54.000000000,2020-07-02 11:55:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-01 20:31:54.000000000', 'files': ['deliverables/victoria/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc6d189836ae9bbbcbc11d861654bf81d143069e', 'message': 'Test for update-constraints\n\nChange-Id: I0b60e7e66acda8efe93fa66114ea2c290e2caabe\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,738935,bc6d189836ae9bbbcbc11d861654bf81d143069e,4,1,1,11904,,,0,"Test for update-constraints

Change-Id: I0b60e7e66acda8efe93fa66114ea2c290e2caabe
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/738935/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/release-test.yaml'],1,bc6d189836ae9bbbcbc11d861654bf81d143069e,release-test, - version: 3.3.1 projects: - repo: openstack/release-test hash: bfb977911dd45b2e0666e981aa1dcb35500eef24,,4,0
openstack%2Fkolla-ansible~master~I9c495773db726a3c5cd94b819dff4141737a1d6e,openstack/kolla-ansible,master,I9c495773db726a3c5cd94b819dff4141737a1d6e,Set a chunk size for Fluentd bulk log upload to Monasca,MERGED,2020-07-01 14:46:51.000000000,2020-07-02 11:51:45.000000000,2020-07-02 11:29:02.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 14:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5df9a2099807511ddffd087d74ab781fb7f7cbde', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}, {'number': 2, 'created': '2020-07-01 14:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c4e1a25bf8ae1b0562e52dd15fa7a1ab32cc314', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}, {'number': 3, 'created': '2020-07-01 15:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5c970e518e0aa1975679ba5959f612dc8c67c1a', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}, {'number': 4, 'created': '2020-07-01 15:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d9be0628045b445c51036db6cefd2b228874bbc', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}, {'number': 5, 'created': '2020-07-02 07:40:05.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'releasenotes/notes/fix-fluentd-buffer-chunk-size-for-monasca-output-882338103d2e1f13.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c919bc61ca7a903e93372604fa0e770f95b0d52', 'message': 'Set a chunk size for Fluentd bulk log upload to Monasca\n\nIn Fluentd v0.12, both the in memory and file buffer chunk size default\nto 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the\nMonasca Log or Unified API maximum chunk size which is set to 10MB.\nThis can result in logs being rejected and filling the local buffer\non disk.\n\nChange-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e\nCloses-Bug: #1885885\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}]",1,738859,2c919bc61ca7a903e93372604fa0e770f95b0d52,23,3,5,10910,,,0,"Set a chunk size for Fluentd bulk log upload to Monasca

In Fluentd v0.12, both the in memory and file buffer chunk size default
to 8MB. In v1.0 the file buffer defaults to 256MB. This can exceed the
Monasca Log or Unified API maximum chunk size which is set to 10MB.
This can result in logs being rejected and filling the local buffer
on disk.

Change-Id: I9c495773db726a3c5cd94b819dff4141737a1d6e
Closes-Bug: #1885885
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/738859/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",2,5df9a2099807511ddffd087d74ab781fb7f7cbde,bug/1885885, <buffer> chunk_limit_size 8m </buffer>,,6,0
openstack%2Fdevstack~master~I9fcbc5105e443037fada1ef6a76a078145964256,openstack/devstack,master,I9fcbc5105e443037fada1ef6a76a078145964256,Cleanup VM instances during unstack,MERGED,2020-01-15 02:15:16.000000000,2020-07-02 11:30:06.000000000,2020-07-02 11:27:25.000000000,"[{'_account_id': 841}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-15 02:15:16.000000000', 'files': ['unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/85c5ec11c9526e0429163db5701d3ea8c096a324', 'message': 'Cleanup VM instances during unstack\n\nCurrently VMs created by a previous DevStack run still exists even\nafter re-run stack.sh. This leads to a failure in launching a VM after\nthe second run of stack.sh. We need to check the reason of the failure\nby nova compute log and clean up remaining VMs. It is annoying.\n\nIIRC we cleaned up existing VMs. While I failed to identify which commit\nchanged this behavior, I believe it is worth recovering it.\n\nThis commit changes unstack.sh to call cleanup_nova. cleanup_cinder()\nalready cleans up LVM volumes and some of them may be used by VMs,\nso I believe it is reasonable to clean up VMs in unstack.sh.\n\nChange-Id: I9fcbc5105e443037fada1ef6a76a078145964256\n'}]",4,702570,85c5ec11c9526e0429163db5701d3ea8c096a324,19,6,1,841,,,0,"Cleanup VM instances during unstack

Currently VMs created by a previous DevStack run still exists even
after re-run stack.sh. This leads to a failure in launching a VM after
the second run of stack.sh. We need to check the reason of the failure
by nova compute log and clean up remaining VMs. It is annoying.

IIRC we cleaned up existing VMs. While I failed to identify which commit
changed this behavior, I believe it is worth recovering it.

This commit changes unstack.sh to call cleanup_nova. cleanup_cinder()
already cleans up LVM volumes and some of them may be used by VMs,
so I believe it is reasonable to clean up VMs in unstack.sh.

Change-Id: I9fcbc5105e443037fada1ef6a76a078145964256
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/702570/1 && git format-patch -1 --stdout FETCH_HEAD,['unstack.sh'],1,85c5ec11c9526e0429163db5701d3ea8c096a324,cleanup-nova, cleanup_nova,,1,0
openstack%2Fironic-python-agent~master~Ie5b6e0abc3f266409562f9ecb26538126b667056,openstack/ironic-python-agent,master,Ie5b6e0abc3f266409562f9ecb26538126b667056,Mount all vfat partitions before calling grub2,MERGED,2020-05-05 15:27:18.000000000,2020-07-02 10:38:48.000000000,2020-07-02 10:37:04.000000000,"[{'_account_id': 136}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-05 15:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0d59efd22165a19267c639a35d9932decdb7d1a8', 'message': 'Mount all partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\npartitions specified in the deployed image.\n\nStory: #2007618\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n'}, {'number': 2, 'created': '2020-06-30 12:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/771a3d02c61765449a7c4e0d078a342acfe922a2', 'message': 'Mount all vfat partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\nvfat partitions specified in the deployed image.\n\nStory: #2007618\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n'}, {'number': 3, 'created': '2020-06-30 16:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e71cdd07aef503ae1aa9c7f750d05ab37e03555a', 'message': 'Mount all vfat partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\nvfat partitions specified in the deployed image.\n\nStory: #2007618\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n'}, {'number': 4, 'created': '2020-06-30 16:32:54.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c5022790b3dca80c009e914aa07f3f879cd159b4', 'message': 'Mount all vfat partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\nvfat partitions specified in the deployed image.\n\nStory: #2007618\nTask: #39629\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n'}]",6,725628,c5022790b3dca80c009e914aa07f3f879cd159b4,30,7,4,11292,,,0,"Mount all vfat partitions before calling grub2

In order to ensure grub2 finds all files it needs, mount all
vfat partitions specified in the deployed image.

Story: #2007618
Task: #39629
Change-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/28/725628/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,0d59efd22165a19267c639a35d9932decdb7d1a8,story_2007618," # Mount all partitions listed in the fstab of the root partition. # This is to make sure grub2 finds all files it needs, as some of # them might not be inside the root partition (like grub2env). LOG.debug(""Mounting all partitions inside the image ..."") utils.execute('chroot %(path)s /bin/sh -c ""mount -a""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) ",,32,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ib54b261e12c409d66b792648807646015826e83c,openstack/kolla-ansible,stable/train,Ib54b261e12c409d66b792648807646015826e83c,Fix the Elasticsearch Curator cron schedule run,MERGED,2020-07-01 10:21:33.000000000,2020-07-02 10:23:50.000000000,2020-07-02 10:21:52.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 10:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8218c1d0ce780a2bb72cbf2e1301352228391de', 'message': 'Fix the Elasticsearch Curator cron schedule run\n\nThere were two issues with it. Lack of /usr/local/bin in PATH\nfor CentOS and wrong crontab path for Ubuntu/Debian.\nThis patch mirrors how it is handled in keystone.\n\nChange-Id: Ib54b261e12c409d66b792648807646015826e83c\nCloses-Bug: #1885732\n(cherry picked from commit 852c7a32c3a00d88243ef3b89ce19e6391a676b1)\n'}, {'number': 2, 'created': '2020-07-01 12:07:46.000000000', 'files': ['releasenotes/notes/bug-1885732-10803d46f9c73444.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1af365daefdc6d77273d310726b43c6fa9a8084', 'message': 'Fix the Elasticsearch Curator cron schedule run\n\nThere were two issues with it. Lack of /usr/local/bin in PATH\nfor CentOS and wrong crontab path for Ubuntu/Debian.\nThis patch mirrors how it is handled in keystone.\n\nChange-Id: Ib54b261e12c409d66b792648807646015826e83c\nCloses-Bug: #1885732\n(cherry picked from commit 852c7a32c3a00d88243ef3b89ce19e6391a676b1)\n'}]",0,738783,f1af365daefdc6d77273d310726b43c6fa9a8084,17,4,2,30491,,,0,"Fix the Elasticsearch Curator cron schedule run

There were two issues with it. Lack of /usr/local/bin in PATH
for CentOS and wrong crontab path for Ubuntu/Debian.
This patch mirrors how it is handled in keystone.

Change-Id: Ib54b261e12c409d66b792648807646015826e83c
Closes-Bug: #1885732
(cherry picked from commit 852c7a32c3a00d88243ef3b89ce19e6391a676b1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/738783/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1885732-10803d46f9c73444.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.json.j2']",3,b8218c1d0ce780a2bb72cbf2e1301352228391de,bug/1885732-stable/ussuri-stable/train,"{% set cron_path = '/var/spool/cron/crontabs/elasticsearch' if kolla_base_distro in ['ubuntu', 'debian'] else '/var/spool/cron/elasticsearch' %} ""dest"": ""{{ cron_path }}"", ""owner"": ""elasticsearch"","," ""dest"": ""/var/spool/cron/elasticsearch"", ""owner"": ""root"",",10,2
openstack%2Fproject-config~master~I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe,openstack/project-config,master,I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe,Create a new repository for Tobiko DevStack plugin,MERGED,2020-06-29 06:13:18.000000000,2020-07-02 10:22:35.000000000,2020-07-02 05:52:26.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-29 06:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/de3848f66a94704d51149b9349d144cb3e7b1824', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}, {'number': 2, 'created': '2020-06-29 07:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e20f0d6d84aa4a2299541238a123335aeda0e1e', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}, {'number': 3, 'created': '2020-06-29 07:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d9db0df288afeb7a863cdaa5133520f069358864', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}, {'number': 4, 'created': '2020-06-29 08:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/148caabc26dbfdc5dbecdd68d1e6a41f58e3cf12', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}, {'number': 5, 'created': '2020-06-29 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2658cb1c51cd9b2ab3c462d6393d3ab2e06fc15f', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}, {'number': 6, 'created': '2020-07-01 05:48:19.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c7ca7592a98b9b9e229f3e73521f5b12a4945a2e', 'message': ""Create a new repository for Tobiko DevStack plugin\n\nTobiko project repo (x/tobiko) grown fast since past few years\nand from since a simple Python framework adquired additional\ncomponents that could be considered separate sub projects.\n\nOne of them is its DevStack plugin. As Tobiko can today connect\nto an DevStack deployed cloud without requiring any configuration\nthis plugin has become optional and there this change serves\nto the need of migrating it to its own location.\n\nThis new repo should also serve as location for DevStack related\nZuul jobs that are intended for running Tobiko test cases\nagainst a DevStack provided cloud on OpenDev CI.\n\nIt this way we would also remove Zuul's dependency of Tobiko\nmain project jobs from DevStack project jobs helping making\na more granular an rational use of CI resources at the time\nof submitting new changes to Tobiko main repo itself by triggering\nbuild only when changing the framework or test cases, while\nignorin the rest of related dayly changes.\n\nChange-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe\n""}]",3,738378,c7ca7592a98b9b9e229f3e73521f5b12a4945a2e,26,5,6,27329,,,0,"Create a new repository for Tobiko DevStack plugin

Tobiko project repo (x/tobiko) grown fast since past few years
and from since a simple Python framework adquired additional
components that could be considered separate sub projects.

One of them is its DevStack plugin. As Tobiko can today connect
to an DevStack deployed cloud without requiring any configuration
this plugin has become optional and there this change serves
to the need of migrating it to its own location.

This new repo should also serve as location for DevStack related
Zuul jobs that are intended for running Tobiko test cases
against a DevStack provided cloud on OpenDev CI.

It this way we would also remove Zuul's dependency of Tobiko
main project jobs from DevStack project jobs helping making
a more granular an rational use of CI resources at the time
of submitting new changes to Tobiko main repo itself by triggering
build only when changing the framework or test cases, while
ignorin the rest of related dayly changes.

Change-Id: I8ec33cefd5a83fe111d4d9b58c4088ef4b990dbe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/738378/5 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/x/tobiko-devstack.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,de3848f66a94704d51149b9349d144cb3e7b1824,tobiko-devstack, - x/tobiko-devstack,,17,0
openstack%2Fdevstack~master~Iefe09e6915b4e073d6b95bca9c20fde33bf3af79,openstack/devstack,master,Iefe09e6915b4e073d6b95bca9c20fde33bf3af79,Glance: setup cinder store for glance_store gate functional test,ABANDONED,2016-06-15 08:27:13.000000000,2020-07-02 10:18:53.000000000,,"[{'_account_id': 6159}, {'_account_id': 9176}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17116}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-15 08:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/42e78f802772befc38d981930b6252d8feca57b2', 'message': 'Glance: enable cinder store for glance_store gate functional test\n\nWhen the Cinder is enabled, this will setup the cinder store for\nGlance, which enable images to be stored as cinder volumes.\nThis is required for the functional tests for glance_store gate:\n    Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n'}, {'number': 2, 'created': '2016-06-15 10:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62844eb03f05a05a3162a1fd6fa5c672366384ed', 'message': 'Glance: enable cinder store for glance_store gate functional test\n\nWhen the Cinder is enabled, this will setup the cinder store for\nGlance, which enable images to be stored as cinder volumes.\nThis is required for the functional tests for glance_store gate:\n    Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n'}, {'number': 3, 'created': '2016-09-07 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b4eec6e6e62b777bbd9ceb662e68ee132b1f648d', 'message': 'Glance: enable cinder store for glance_store gate functional test\n\nWhen the Cinder is enabled, this will setup the cinder store for\nGlance, which enable images to be stored as cinder volumes.\nThis is required for the functional tests for glance_store gate:\n    I20dec7ec28844bb03887917320a7d1da296e36d7\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n'}, {'number': 4, 'created': '2016-10-31 08:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03e431e03f900e2a2a663c18872ec2f664ce1ad0', 'message': 'Glance: enable cinder store for glance_store gate functional test\n\nWhen the Cinder is enabled, this will setup the cinder store for\nGlance, which enable images to be stored as cinder volumes.\nThis is required for the functional tests for glance_store gate:\n    Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n'}, {'number': 5, 'created': '2016-11-10 12:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fdef9fc9d97313fa55988f7646403db202c4dfb', 'message': ""Glance: setup cinder store for glance_store gate functional test\n\nWhen GLANCE_STORES and GLANCE_DEFAULT_STORE environment variables\nare set,this will setup the stores and default_store based on\nthem. Otherwise, it will enable stores based on enabled services\n(especially swift), as it has done so far.\n\nThis will be used to enable glance cinder store for the\nglance_store's functional test job.\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n""}, {'number': 6, 'created': '2016-11-10 14:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d112dd67850915f3bdf124e6ed0fde499141de9c', 'message': ""Glance: setup cinder store for glance_store gate functional test\n\nWhen GLANCE_STORES and GLANCE_DEFAULT_STORE environment variables\nare set,this will setup the stores and default_store based on\nthem. Otherwise, it will enable stores based on enabled services\n(especially swift), as it has done so far.\n\nThis will be used to enable glance cinder store for the\nglance_store's functional test job.\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nDepends-On: I6d4ee6929f3c3536424bb6790c958aa464860300\n""}, {'number': 7, 'created': '2018-07-22 12:10:00.000000000', 'files': ['lib/glance', 'inc/rootwrap'], 'web_link': 'https://opendev.org/openstack/devstack/commit/357df70716c636ee07496e56231bb389971b627e', 'message': ""Glance: setup cinder store for glance_store gate functional test\n\nWhen GLANCE_STORES and GLANCE_DEFAULT_STORE environment variables\nare set, this will setup the stores and default_store based on\nthem. Otherwise, it will enable stores based on enabled services,\nas it has done so far.\n\nThis will be used to enable glance cinder store for the\nglance_store's functional test job.\n\nChange-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79\nNeeded-by: I20dec7ec28844bb03887917320a7d1da296e36d7\n""}]",2,329826,357df70716c636ee07496e56231bb389971b627e,42,8,7,9176,,,0,"Glance: setup cinder store for glance_store gate functional test

When GLANCE_STORES and GLANCE_DEFAULT_STORE environment variables
are set, this will setup the stores and default_store based on
them. Otherwise, it will enable stores based on enabled services,
as it has done so far.

This will be used to enable glance cinder store for the
glance_store's functional test job.

Change-Id: Iefe09e6915b4e073d6b95bca9c20fde33bf3af79
Needed-by: I20dec7ec28844bb03887917320a7d1da296e36d7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/329826/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/glance', 'inc/rootwrap']",2,42e78f802772befc38d981930b6252d8feca57b2,cinder-functional-tests," local source=${2:-$1} local project_uc=${project^^} local source_uc=${source^^} local source_dir=""${source_uc}_DIR"" source_dir=""${!source_dir}"" local rootwrap_conf_src_dir=""${source_dir}/etc/${project}"""," local project_uc project_uc=$(echo $1|tr a-z A-Z) local project_dir=""${project_uc}_DIR"" project_dir=""${!project_dir}"" local rootwrap_conf_src_dir=""${project_dir}/etc/${project}""",25,5
openstack%2Fdevstack~master~Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4,openstack/devstack,master,Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4,updated the command to create a stack user with passwordless privilages,ABANDONED,2017-10-12 09:38:47.000000000,2020-07-02 10:17:54.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 10385}, {'_account_id': 12393}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-12 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/917b3245dfb469d1685a8689ab64fa07cb3ce962', 'message': 'updated the stack user creation command\n\nChange-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4\n'}, {'number': 2, 'created': '2017-10-12 10:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/36881c19e9fbce1f9ea7804da5d91ebc54e67469', 'message': 'updated the stack user creation command\n\nChange-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4\nCloses-Bug:#1722995\n'}, {'number': 3, 'created': '2017-10-12 15:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0f33204a5c8fbc923752c1d03154c667f91377e', 'message': 'updated the command to create a stack user with passwordless privilages\n\nIt is easier to use create-stack-user.sh script than remembering or typing the\nstack user creation script , this commit replaces the command for adding a\nstack user and giving passworless privilage , to using the\ncreate-stack-user.sh script.\n\nCloses-Bug:#1722995\nImplements: creation of a stack user with passwordless privilages\nChange-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4\n'}, {'number': 4, 'created': '2017-10-12 22:23:38.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/851c7af0860cda3d71851578e5fdefaa4512300c', 'message': 'updated the command to create a stack user with passwordless privilages\n\nIt is easier to use create-stack-user.sh script than remembering or typing the\nstack user creation script , this commit replaces the command for adding a\nstack user and giving passwordless privilage , to using the\ncreate-stack-user.sh script.\n\nCloses-Bug:#1722995\nImplements: creation of a stack user with passwordless privilages\nChange-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4\n'}]",2,511444,851c7af0860cda3d71851578e5fdefaa4512300c,17,6,4,26909,,,0,"updated the command to create a stack user with passwordless privilages

It is easier to use create-stack-user.sh script than remembering or typing the
stack user creation script , this commit replaces the command for adding a
stack user and giving passwordless privilage , to using the
create-stack-user.sh script.

Closes-Bug:#1722995
Implements: creation of a stack user with passwordless privilages
Change-Id: Iadf56f5a8c09c5f0c33b8248da1e3989fbae13b4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/511444/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,917b3245dfb469d1685a8689ab64fa07cb3ce962,bug/1722995,You can quickly create a separate `stack` user to run DevStack by: $ sudo devstack/tools/create-stack-user.sh this user should have sudo privileges as it will be making many changes to your system,"You can quickly create a separate `stack` user to run DevStack with $ sudo useradd -s /bin/bash -d /opt/stack -m stack Since this user will be making many changes to your system, it should have sudo privileges: $ echo ""stack ALL=(ALL) NOPASSWD: ALL"" | sudo tee /etc/sudoers.d/stack",3,7
openstack%2Fdevstack~master~I8e30799eaae938093c955705334f5d035064307e,openstack/devstack,master,I8e30799eaae938093c955705334f5d035064307e,[dnm] try plain bionic images,ABANDONED,2020-03-11 00:37:45.000000000,2020-07-02 10:17:11.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 00:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/54d5179619bddfc22ba9db1bfee81d3efe1fb06d', 'message': '[dnm] try plain bionic images\n\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 2, 'created': '2020-03-11 00:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b67cd785d096e7076d1dd724fbd42152a9c06a4a', 'message': '[dnm] try plain bionic images\n\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 3, 'created': '2020-03-11 23:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0976aa9063b6617368debccde3a7e837866fb553', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/#/c/712587/\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 4, 'created': '2020-03-12 00:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/15597bf570c0ec988987445167ec5b2ca1acef40', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 5, 'created': '2020-03-12 06:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/24d5ac0b8053c2f547710af7cf5aeb29a0c59b47', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 6, 'created': '2020-04-02 22:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74f639702bd5d3939772f9b9c2bcbcee69972675', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 7, 'created': '2020-04-03 03:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/143083420a4fc1437aae222ce49cc8e362a09f2f', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 8, 'created': '2020-04-14 05:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2cfd5033f984c2ae259dd91190448e7f9f5101ad', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 9, 'created': '2020-04-16 04:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf729c8fd71c1e74cab0602d8aa16d3e635325c5', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 10, 'created': '2020-04-16 04:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13c8e71ce7c3c04e8ef040a5b49cd6570ec29193', 'message': '[dnm] try plain bionic images\n\nDepends-On: https://review.opendev.org/712590\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}, {'number': 11, 'created': '2020-04-16 04:08:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac1ccdd3b02b418c5f7ce686c9e0fd3b171b5ed5', 'message': '[dnm] try plain bionic images\n\nChange-Id: I8e30799eaae938093c955705334f5d035064307e\n'}]",2,712211,ac1ccdd3b02b418c5f7ce686c9e0fd3b171b5ed5,27,2,11,7118,,,0,"[dnm] try plain bionic images

Change-Id: I8e30799eaae938093c955705334f5d035064307e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/712211/11 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,54d5179619bddfc22ba9db1bfee81d3efe1fb06d,cleanup-test-image-python, label: ubuntu-bionic-plain, label: ubuntu-bionic,1,1
openstack%2Freleases~master~I18d9c58dd398c717b3843f304407f41f1a75f87b,openstack/releases,master,I18d9c58dd398c717b3843f304407f41f1a75f87b,release oslo.utils 3.41.6 for train,MERGED,2020-06-30 10:04:24.000000000,2020-07-02 10:16:04.000000000,2020-07-02 10:16:03.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 10:04:24.000000000', 'files': ['deliverables/train/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/239c66d273ab8e3a25e8d52ae6cbc1f2f92bee58', 'message': 'release oslo.utils 3.41.6 for train\n\nWill release a bugfix https://review.opendev.org/#/c/734841/\n\nChange-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b\n'}]",0,738576,239c66d273ab8e3a25e8d52ae6cbc1f2f92bee58,11,4,1,28522,,,0,"release oslo.utils 3.41.6 for train

Will release a bugfix https://review.opendev.org/#/c/734841/

Change-Id: I18d9c58dd398c717b3843f304407f41f1a75f87b
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/738576/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.utils.yaml'],1,239c66d273ab8e3a25e8d52ae6cbc1f2f92bee58,oslo-utils-train, - version: 3.41.6 projects: - repo: openstack/oslo.utils hash: f4deaad463efacaaaf429ac37bf5d37903cb4f55,,4,0
openstack%2Fdevstack~master~I1f89a220c31c8b51a2276aacb2cf8084d6c313e8,openstack/devstack,master,I1f89a220c31c8b51a2276aacb2cf8084d6c313e8,Add option for glance wsgi mode,ABANDONED,2019-03-27 05:54:32.000000000,2020-07-02 10:13:26.000000000,,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-27 05:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b70db3bc7a3fd67ff8d4c5a4274de5d28c8bff4', 'message': 'Add option for glance wsgi mode\n\nCurrently glance use wsgi_mode to control to use standalone mode or\nin uwsgi mode which is global option that controls other service as\nwell.\nAdding option for glance so that it can choose wsgi mode independantly\nand favor standalone mode according to suggestion:\nhttps://docs.openstack.org/glance/latest/admin/apache-httpd.html\n\nChange-Id: I1f89a220c31c8b51a2276aacb2cf8084d6c313e8\n'}, {'number': 2, 'created': '2019-03-31 02:47:02.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0efcd5f1376cac615d0b9d68de0b957b411de6ab', 'message': 'Add option for glance wsgi mode\n\nCurrently glance use wsgi_mode to control to use standalone mode or\nin uwsgi mode which is global option that controls other service as\nwell.\nAdding option for glance so that it can choose wsgi mode independantly.\nIts default value is set to uwsgi for compatibility, but user should\nfavor standalone mode according to suggestion:\nhttps://docs.openstack.org/glance/latest/admin/apache-httpd.html\n\nChange-Id: I1f89a220c31c8b51a2276aacb2cf8084d6c313e8\n'}]",2,648007,0efcd5f1376cac615d0b9d68de0b957b411de6ab,15,6,2,13370,,,0,"Add option for glance wsgi mode

Currently glance use wsgi_mode to control to use standalone mode or
in uwsgi mode which is global option that controls other service as
well.
Adding option for glance so that it can choose wsgi mode independantly.
Its default value is set to uwsgi for compatibility, but user should
favor standalone mode according to suggestion:
https://docs.openstack.org/glance/latest/admin/apache-httpd.html

Change-Id: I1f89a220c31c8b51a2276aacb2cf8084d6c313e8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/648007/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,0b70db3bc7a3fd67ff8d4c5a4274de5d28c8bff4,glance_wsgi,"# According to the link below, we should favor standalone mode, rather than wsgi mode. # https://docs.openstack.org/glance/latest/admin/apache-httpd.html # Use seperate varible for glance to choose wsgi mode independantly and favor standalone mode. GLANCE_WSGI_MODE=${GLANCE_WSGI_MODE:-""standalone""}if [[ ""$GLANCE_WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$GLANCE_WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$GLANCE_WSGI_MODE"" != ""uwsgi"" ]]; then if [[ ""$GLANCE_WSGI_MODE"" == ""uwsgi"" ]]; then","if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" != ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then",8,4
openstack%2Fdevstack~master~I29b688681b019a3240837b3b592d48da7a9353da,openstack/devstack,master,I29b688681b019a3240837b3b592d48da7a9353da,Add Fedora 29 support,ABANDONED,2018-11-03 03:14:05.000000000,2020-07-02 10:08:59.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 29369}]","[{'number': 1, 'created': '2018-11-03 03:14:05.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b789ea8dd6a6b9c1fedcd9ce2e74ebd8b65eef9e', 'message': 'Add Fedora 29 support\n\nFedora 29 has just released and it had not support on devstack\ninstallation, support were only for fedora 27 and 29.\nRunning the stack.sh script threw an error that it has not been\ntested on fedora 29, and asked to run it with FORCE=yes.\n\nThis change add Fedora 29 as a supported distro version.\n\nChange-Id: I29b688681b019a3240837b3b592d48da7a9353da\n'}]",5,615364,b789ea8dd6a6b9c1fedcd9ce2e74ebd8b65eef9e,11,8,1,29369,,,0,"Add Fedora 29 support

Fedora 29 has just released and it had not support on devstack
installation, support were only for fedora 27 and 29.
Running the stack.sh script threw an error that it has not been
tested on fedora 29, and asked to run it with FORCE=yes.

This change add Fedora 29 as a supported distro version.

Change-Id: I29b688681b019a3240837b3b592d48da7a9353da
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/615364/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,b789ea8dd6a6b9c1fedcd9ce2e74ebd8b65eef9e,distro-support,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f27|f28|f29|opensuse-42.3|opensuse-15.0|opensuse-tumbleweed|rhel7) ]]; then,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f27|f28|opensuse-42.3|opensuse-15.0|opensuse-tumbleweed|rhel7) ]]; then,1,1
openstack%2Freleases~master~Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac,openstack/releases,master,Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac,release oslo for ussuri serie - 2020 June 29,MERGED,2020-06-29 08:12:32.000000000,2020-07-02 10:08:36.000000000,2020-07-02 10:08:36.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 08:12:32.000000000', 'files': ['deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4a0ab5703f132a940c02cc3ad8bba7d6da5e7614', 'message': 'release oslo for ussuri serie - 2020 June 29\n\nChange-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac\n'}]",0,738390,4a0ab5703f132a940c02cc3ad8bba7d6da5e7614,10,4,1,28522,,,0,"release oslo for ussuri serie - 2020 June 29

Change-Id: Iacef0d28f9e58e6ced07515ebf9bb497a1d5b3ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/738390/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/oslo.utils.yaml']",2,4a0ab5703f132a940c02cc3ad8bba7d6da5e7614,oslo-29-06-ussuri, - version: 4.1.2 projects: - repo: openstack/oslo.utils hash: eeb7b1010720c47511d8b1abb94260357b0bea3f,,8,0
openstack%2Fcloudkitty-dashboard~stable%2Fussuri~Ib8eb67a379a228194bf9629e39b955727df0dd9b,openstack/cloudkitty-dashboard,stable/ussuri,Ib8eb67a379a228194bf9629e39b955727df0dd9b,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-24 18:19:26.000000000,2020-07-02 10:06:04.000000000,2020-07-02 10:02:22.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-24 18:19:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/8a7b700bda5994d5c854df55edc8cda5819811f2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib8eb67a379a228194bf9629e39b955727df0dd9b\n'}]",0,722997,8a7b700bda5994d5c854df55edc8cda5819811f2,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib8eb67a379a228194bf9629e39b955727df0dd9b
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/97/722997/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a7b700bda5994d5c854df55edc8cda5819811f2,create-ussuri,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages},1,1
openstack%2Fcloudkitty-dashboard~stable%2Fussuri~Ifabecbac1ea19e4d5efd2939bcca99d1690764bc,openstack/cloudkitty-dashboard,stable/ussuri,Ifabecbac1ea19e4d5efd2939bcca99d1690764bc,Update .gitreview for stable/ussuri,MERGED,2020-04-24 18:19:24.000000000,2020-07-02 10:04:24.000000000,2020-07-02 10:02:21.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-24 18:19:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/3c1f2afa9664aa9d10c8580efe46a7c0df6484ed', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Ifabecbac1ea19e4d5efd2939bcca99d1690764bc\n'}]",0,722995,3c1f2afa9664aa9d10c8580efe46a7c0df6484ed,8,2,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Ifabecbac1ea19e4d5efd2939bcca99d1690764bc
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/95/722995/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3c1f2afa9664aa9d10c8580efe46a7c0df6484ed,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fcloudkitty-dashboard~master~I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a,openstack/cloudkitty-dashboard,master,I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a,Add Python3 victoria unit tests,MERGED,2020-04-24 18:19:31.000000000,2020-07-02 10:04:12.000000000,2020-07-02 10:00:21.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-24 18:19:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/dad03a96538c8bb89f0812912667a02d2a1ac077', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a\n'}]",0,723002,dad03a96538c8bb89f0812912667a02d2a1ac077,9,3,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I27738b8b5c2ad4af1df59d853bd51ae5f7abc84a
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/02/723002/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dad03a96538c8bb89f0812912667a02d2a1ac077,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fcloudkitty-dashboard~master~Ieac31e5156510b652b111219de79f2f29db9dbf6,openstack/cloudkitty-dashboard,master,Ieac31e5156510b652b111219de79f2f29db9dbf6,Update master for stable/ussuri,MERGED,2020-04-24 18:19:29.000000000,2020-07-02 10:02:23.000000000,2020-07-02 09:58:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-24 18:19:29.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/99b20e4b19f787fb0f28ef5887598ba17fe168f4', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: Ieac31e5156510b652b111219de79f2f29db9dbf6\nSem-Ver: feature\n'}]",0,723000,99b20e4b19f787fb0f28ef5887598ba17fe168f4,10,3,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: Ieac31e5156510b652b111219de79f2f29db9dbf6
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/00/723000/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,99b20e4b19f787fb0f28ef5887598ba17fe168f4,reno-ussuri, ussuri,,7,0
openstack%2Fironic~master~I4a9890503cb2489755ad76b2a73b93a9541eb357,openstack/ironic,master,I4a9890503cb2489755ad76b2a73b93a9541eb357,Add ironic 15.1 release mapping,MERGED,2020-07-01 17:23:12.000000000,2020-07-02 10:00:21.000000000,2020-07-02 09:51:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-01 17:23:12.000000000', 'files': ['ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/988f61b8aaa821f4a70df700e8d5f568137b359f', 'message': 'Add ironic 15.1 release mapping\n\nChange-Id: I4a9890503cb2489755ad76b2a73b93a9541eb357\n'}]",0,738904,988f61b8aaa821f4a70df700e8d5f568137b359f,15,6,1,23851,,,0,"Add ironic 15.1 release mapping

Change-Id: I4a9890503cb2489755ad76b2a73b93a9541eb357
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/738904/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/release_mappings.py'],1,988f61b8aaa821f4a70df700e8d5f568137b359f,rel-map," '15.1': { 'master': { 'api': '1.67', 'rpc': '1.50', 'objects': { 'Allocation': ['1.1'], 'Node': ['1.35'], 'Conductor': ['1.3'], 'Chassis': ['1.3'], 'DeployTemplate': ['1.1'], 'Port': ['1.9'], 'Portgroup': ['1.4'], 'Trait': ['1.0'], 'TraitList': ['1.0'], 'VolumeConnector': ['1.0'], 'VolumeTarget': ['1.0'], } },RELEASE_MAPPING['ussuri'] = RELEASE_MAPPING['15.1']", 'master': {RELEASE_MAPPING['ussuri'] = RELEASE_MAPPING['15.0'],19,2
openstack%2Fcharm-neutron-api-plugin-arista~master~Ib093fcebc144dd1a088885e4b2fdfd2444cf431c,openstack/charm-neutron-api-plugin-arista,master,Ib093fcebc144dd1a088885e4b2fdfd2444cf431c,Add .gitreview and .zuul.yaml files,MERGED,2020-06-30 09:55:51.000000000,2020-07-02 09:40:29.000000000,2020-07-02 09:40:29.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-30 09:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/5b81dabe9c9171df0861204c50bef424a344c4ee', 'message': 'Add .gitreview file\n\nChange-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c\n'}, {'number': 2, 'created': '2020-06-30 10:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/111621c94e143d7430f51f7df857910cf7e6e5ca', 'message': 'Add .gitreview and .zuul.yaml files\n\nChange-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c\n'}, {'number': 3, 'created': '2020-06-30 14:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/5a5fb771fc50caf7d0b381252aa02740b5dbf4a3', 'message': 'Add .gitreview and .zuul.yaml files\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/338\nChange-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c\n'}, {'number': 4, 'created': '2020-07-01 11:56:26.000000000', 'files': ['.gitreview', '.zuul.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/9b352e0742f5be70579420612971bfded1bae687', 'message': 'Add .gitreview and .zuul.yaml files\n\nAlso removing bionic-rocky from the gate.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/338\nChange-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c\n'}]",0,738573,9b352e0742f5be70579420612971bfded1bae687,29,4,4,31289,,,0,"Add .gitreview and .zuul.yaml files

Also removing bionic-rocky from the gate.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/338
Change-Id: Ib093fcebc144dd1a088885e4b2fdfd2444cf431c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/73/738573/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5b81dabe9c9171df0861204c50bef424a344c4ee,add-gitreview,[gerrit] host=review.opendev.org port=29418 project=openstack/charm-neutron-api-plugin-arista.git ,,4,0
openstack%2Fhorizon~master~I4051150b6a1aac5525a1d82b2ea6905927b0e166,openstack/horizon,master,I4051150b6a1aac5525a1d82b2ea6905927b0e166,"I18n:Translation ""Instance"" error https://github.com/openstack/horizon/blob/master/openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po#L3506",ABANDONED,2020-07-02 09:37:51.000000000,2020-07-02 09:39:23.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2020-07-02 09:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/daaf3d956aa39d67dc2ff8bd475061668d89d9fe', 'message': 'I18n:Translation ""Instance"" error\nhttps://github.com/openstack/horizon/blob/master/openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po#L3506\n\nOn line 3505, msgid is ""Instance ID="".\nSo on line 3506, msgstr should be translated as ""实例 ID ="" instead of ""示例 ID =""\n\nChange-Id: I4051150b6a1aac5525a1d82b2ea6905927b0e166\n'}]",0,739003,daaf3d956aa39d67dc2ff8bd475061668d89d9fe,3,1,1,32160,,,0,"I18n:Translation ""Instance"" error
https://github.com/openstack/horizon/blob/master/openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po#L3506

On line 3505, msgid is ""Instance ID="".
So on line 3506, msgstr should be translated as ""实例 ID ="" instead of ""示例 ID =""

Change-Id: I4051150b6a1aac5525a1d82b2ea6905927b0e166
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/739003/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,daaf3d956aa39d67dc2ff8bd475061668d89d9fe,"i18n translation ""Instance"" error",,,0,0
openstack%2Foctavia~master~I7fbf063a5b49eeb556d9dc544d3853c34b235c03,openstack/octavia,master,I7fbf063a5b49eeb556d9dc544d3853c34b235c03,Add a /healthcheck URL from oslo.middleware,ABANDONED,2020-06-16 13:34:24.000000000,2020-07-02 09:21:45.000000000,,"[{'_account_id': 6469}, {'_account_id': 6476}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 13:34:24.000000000', 'files': ['octavia/api/app.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b778517dbebcf7481e070784938531e74a88d2e', 'message': 'Add a /healthcheck URL from oslo.middleware\n\nThis patch adds a /healtcheck URL so that operators can configure haproxy\nin a nicer way for Octavia.\n\nChange-Id: I7fbf063a5b49eeb556d9dc544d3853c34b235c03\n'}]",0,735914,1b778517dbebcf7481e070784938531e74a88d2e,7,4,1,6476,,,0,"Add a /healthcheck URL from oslo.middleware

This patch adds a /healtcheck URL so that operators can configure haproxy
in a nicer way for Octavia.

Change-Id: I7fbf063a5b49eeb556d9dc544d3853c34b235c03
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/735914/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/app.py'],1,1b778517dbebcf7481e070784938531e74a88d2e,healthcheck,from oslo_middleware import healthcheck app = healthcheck.Healthcheck(app),,2,0
openstack%2Fproject-config~master~I36f7edbc451f6955944d676936fa81296c5cc29b,openstack/project-config,master,I36f7edbc451f6955944d676936fa81296c5cc29b,Add Vault app to StarlingX,MERGED,2020-06-29 21:05:39.000000000,2020-07-02 09:17:13.000000000,2020-07-02 05:52:02.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 26026}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-29 21:05:39.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/starlingx/vault-armada-app.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3aaa0b4671fd668efb367dfc9883516db1abfc9d', 'message': 'Add Vault app to StarlingX\n\nChange-Id: I36f7edbc451f6955944d676936fa81296c5cc29b\nSigned-off-by: Cole Walker <cole.walker@windriver.com>\n'}]",0,738513,3aaa0b4671fd668efb367dfc9883516db1abfc9d,10,5,1,31928,,,0,"Add Vault app to StarlingX

Change-Id: I36f7edbc451f6955944d676936fa81296c5cc29b
Signed-off-by: Cole Walker <cole.walker@windriver.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/738513/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/starlingx/vault-armada-app.config']",3,3aaa0b4671fd668efb367dfc9883516db1abfc9d,,"[access ""refs/for/refs/*""] pushMerge = group starlingx-release [access ""refs/heads/*""] abandon = group starlingx-vault-armada-app-core create = group starlingx-release label-Code-Review = -2..+2 group starlingx-vault-armada-app-core label-Workflow = -1..+1 group starlingx-vault-armada-app-core [access ""refs/tags/*""] pushSignedTag = group starlingx-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = True ",,24,0
openstack%2Fkolla~master~I2559267d120081f2e5eabc9d966b019517a5ad5d,openstack/kolla,master,I2559267d120081f2e5eabc9d966b019517a5ad5d,CentOS/AArch64: RabbitMQ is back!,MERGED,2020-06-23 09:34:34.000000000,2020-07-02 09:14:40.000000000,2020-07-01 17:36:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-23 09:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da671a808c144fb8641c9124ff994735a8b10beb', 'message': ""CentOS/AArch64: RabbitMQ is back!\n\nCentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'\nrepository. We use it to grab Erlang while RabbitMQ comes from upstream\n(like on x86-64).\n\nChange-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d\n""}, {'number': 2, 'created': '2020-06-23 09:41:56.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-erlang-aarch64.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2c86fd3addcbc1451fd9f580445315833fabf72', 'message': ""CentOS/AArch64: RabbitMQ is back!\n\nCentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'\nrepository. We use it to grab Erlang while RabbitMQ comes from upstream\n(like on x86-64).\n\nChange-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d\n""}]",0,737473,b2c86fd3addcbc1451fd9f580445315833fabf72,18,5,2,24072,,,0,"CentOS/AArch64: RabbitMQ is back!

CentOS 8.2 has Erlang and RabbitMQ available in 'messaging/rabbitmq-38'
repository. We use it to grab Erlang while RabbitMQ comes from upstream
(like on x86-64).

Change-Id: I2559267d120081f2e5eabc9d966b019517a5ad5d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/737473/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",3,da671a808c144fb8641c9124ff994735a8b10beb,," erlang: ""centos-rabbitmq-38"""," erlang: ""rabbitmq_rabbitmq-erlang""",5,3
openstack%2Ftripleo-docs~master~I04cf8c279a3abfeda73e8d373e074376d47af611,openstack/tripleo-docs,master,I04cf8c279a3abfeda73e8d373e074376d47af611,Document generation of an ansible configuration,ABANDONED,2020-06-23 13:08:18.000000000,2020-07-02 09:01:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-23 13:08:18.000000000', 'files': ['deploy-guide/source/deployment/ansible_config_download.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/902d48735b40b7304c0e2134167a7f19daf61580', 'message': 'Document generation of an ansible configuration\n\nExplain how to use:\nopenstack tripleo config generate ansible\n\nUpdate the minimum recommended ansible config settings\nand also provide an example for larger deployments.\n\nRelated-bug: #1883600\n\nChange-Id: I04cf8c279a3abfeda73e8d373e074376d47af611\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",5,737534,902d48735b40b7304c0e2134167a7f19daf61580,9,7,1,6926,,,0,"Document generation of an ansible configuration

Explain how to use:
openstack tripleo config generate ansible

Update the minimum recommended ansible config settings
and also provide an example for larger deployments.

Related-bug: #1883600

Change-Id: I04cf8c279a3abfeda73e8d373e074376d47af611
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/34/737534/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/ansible_config_download.rst'],1,902d48735b40b7304c0e2134167a7f19daf61580,bug/1883600,"Generate an ansible configuration file ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The defaults may be sub-optimal and make ansible running too slow. It is recommended to generate the config file to tailor it with the other deployment artifacts:: openstack tripleo config generate ansible The command puts generated `ansible.cfg` into the given ``--output-dir`` (defaults to the user's home directory). The pre-generated or default ansible configuration values will be used when manually running ``ansible-playbook`` in this manner. These values can be further customized through gather_timeout = 30 internal_poll_interval = 0.05 scp_if_ssh = True For larger deployments, it is recommended to increase forks, tweak SSH and use facts caching:: [defaults] ... forks = 80 gathering = smart fact_caching = jsonfile fact_caching_connection = ~/.ansible/fact_cache fact_caching_timeout = 7200 ... [ssh_connection] ... ssh_args = -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ControlMaster=auto -o ControlPersist=30m -o ServerAliveInterval=64 -o ServerAliveCountMax=1024 -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=yes -o PreferredAuthentications=publickey -T",All default ansible configuration values will be used when manually running ``ansible-playbook`` in this manner. These values can be customized through,31,2
openstack%2Fsushy-tools~master~Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5,openstack/sushy-tools,master,Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5,vmedia: fix TypeError when accessing a URL without content-disposition,MERGED,2020-06-30 14:40:41.000000000,2020-07-02 09:00:08.000000000,2020-07-02 08:58:01.000000000,"[{'_account_id': 1926}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-30 14:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/538b1d6c0aebe0c37549e45d0b094e181bfaaf93', 'message': ""vmedia: fix TypeError when accessing a URL without content-disposition\n\nWe are calling a module like a function. Also add proper logging so that\nwe don't have to guess next time.\n\nChange-Id: Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5\n""}, {'number': 2, 'created': '2020-06-30 15:44:52.000000000', 'files': ['sushy_tools/emulator/resources/vmedia/staticdriver.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/dea62db5d293946efd16a246f213e6330bc1f94a', 'message': ""vmedia: fix TypeError when accessing a URL without content-disposition\n\nWe are calling a module like a function. Also add proper logging so that\nwe don't have to guess next time.\n\nDepends-On: https://review.opendev.org/#/c/738652/\nChange-Id: Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5\n""}]",0,738638,dea62db5d293946efd16a246f213e6330bc1f94a,16,5,2,10239,,,0,"vmedia: fix TypeError when accessing a URL without content-disposition

We are calling a module like a function. Also add proper logging so that
we don't have to guess next time.

Depends-On: https://review.opendev.org/#/c/738652/
Change-Id: Ic55577b1c4f7a84cb2ca282dde8ad2fee5faf3a5
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/38/738638/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/vmedia/staticdriver.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/test_static.py']",2,538b1d6c0aebe0c37549e45d0b094e181bfaaf93,urlparse," '.staticdriver.open') @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.os.rename', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.tempfile', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.requests', autospec=True) def test_insert_image_no_local_file(self, mock_requests, mock_tempfile, mock_rename, mock_open, mock_get_device): test_driver = StaticDriver.initialize( self.CONFIG, mock.MagicMock())() device_info = {} mock_get_device.return_value = device_info mock_tempfile.mkdtemp.return_value = '/alphabet/soup' mock_tempfile.gettempdir.return_value = '/tmp' mock_tmp_file = (mock_tempfile.NamedTemporaryFile .return_value.__enter__.return_value) mock_tmp_file.name = 'alphabet.soup' mock_rsp = mock_requests.get.return_value.__enter__.return_value mock_rsp.headers = {} local_file = test_driver.insert_image( self.UUID, 'Cd', 'http://fish.it/red.iso', inserted=True, write_protected=False) self.assertEqual('/alphabet/soup/red.iso', local_file) mock_requests.get.assert_called_once_with( 'http://fish.it/red.iso', stream=True) mock_open.assert_called_once_with(mock.ANY, 'wb') mock_rename.assert_called_once_with( 'alphabet.soup', '/alphabet/soup/red.iso') self.assertEqual('red.iso', device_info['Image']) self.assertTrue(device_info['Inserted']) self.assertFalse(device_info['WriteProtected']) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.StaticDriver._get_device', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.open') @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.os.rename', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.tempfile', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.requests', autospec=True) def test_insert_image_full_url_v6(self, mock_requests, mock_tempfile, mock_rename, mock_open, mock_get_device): test_driver = StaticDriver.initialize( self.CONFIG, mock.MagicMock())() device_info = {} mock_get_device.return_value = device_info mock_tempfile.mkdtemp.return_value = '/alphabet/soup' mock_tempfile.gettempdir.return_value = '/tmp' mock_tmp_file = (mock_tempfile.NamedTemporaryFile .return_value.__enter__.return_value) mock_tmp_file.name = 'alphabet.soup' mock_rsp = mock_requests.get.return_value.__enter__.return_value mock_rsp.headers = {} full_url = 'http://[::2]:80/redfish/boot-abc?filename=tmp.iso' local_file = test_driver.insert_image( self.UUID, 'Cd', full_url, inserted=True, write_protected=False) self.assertEqual('/alphabet/soup/boot-abc', local_file) mock_requests.get.assert_called_once_with(full_url, stream=True) mock_open.assert_called_once_with(mock.ANY, 'wb') mock_rename.assert_called_once_with( 'alphabet.soup', '/alphabet/soup/boot-abc') self.assertEqual('boot-abc', device_info['Image']) self.assertTrue(device_info['Inserted']) self.assertFalse(device_info['WriteProtected']) @mock.patch('sushy_tools.emulator.resources.vmedia' '.staticdriver.StaticDriver._get_device', autospec=True) @mock.patch('sushy_tools.emulator.resources.vmedia'",,88,2
openstack%2Fpython-ironicclient~master~Iaee01b6f774d52184c7b4bb085f542cbb8228002,openstack/python-ironicclient,master,Iaee01b6f774d52184c7b4bb085f542cbb8228002,Allow to pass global request id in port and volume,MERGED,2020-05-06 16:42:01.000000000,2020-07-02 08:56:29.000000000,2020-07-02 08:54:20.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-06 16:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/221c624ee3bde33cfd96965d3a061d3124359c21', 'message': 'Allow to pass global request id in port and volume\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002\n'}, {'number': 2, 'created': '2020-05-07 16:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/54529acc01d4ccc8941cc774aead2a29a4be05d2', 'message': 'Allow to pass global request id in port and volume\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002\n'}, {'number': 3, 'created': '2020-05-15 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0f052ab28636ae2a7275eabee783d9d390469b88', 'message': 'Allow to pass global request id in port and volume\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002\n'}, {'number': 4, 'created': '2020-06-23 14:50:05.000000000', 'files': ['ironicclient/v1/volume_target.py', 'ironicclient/v1/volume_connector.py', 'ironicclient/v1/portgroup.py', 'ironicclient/v1/port.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4449f7184fa9be0bcc6eed7bd65fcaa9e7cda8de', 'message': 'Allow to pass global request id in port and volume\n\nThis change also allows passing ironic API microversion in places\nwhere it was not possible previously, for consistency.\n\nStory: 2007611\nTask: 39602\nChange-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002\n'}]",1,725930,4449f7184fa9be0bcc6eed7bd65fcaa9e7cda8de,17,3,4,12356,,,0,"Allow to pass global request id in port and volume

This change also allows passing ironic API microversion in places
where it was not possible previously, for consistency.

Story: 2007611
Task: 39602
Change-Id: Iaee01b6f774d52184c7b4bb085f542cbb8228002
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/30/725930/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/volume_target.py', 'ironicclient/v1/volume_connector.py', 'ironicclient/v1/portgroup.py', 'ironicclient/v1/port.py']",4,221c624ee3bde33cfd96965d3a061d3124359c21,add-ability-to-pass-headers," portgroup=None, os_ironic_api_version=None, global_request_id=None): :param os_ironic_api_version: String version (e.g. ""1.35"") to use for the request. If not specified, the client's default is used. :param global_request_id: String containing global request ID header value (in form ""req-<UUID>"") to use for the request. header_values = {""os_ironic_api_version"": os_ironic_api_version, ""global_request_id"": global_request_id} if limit is None: return self._list(self._path(path), ""ports"", **header_values) limit=limit, **header_values) def get(self, port_id, fields=None, os_ironic_api_version=None, global_request_id=None): return self._get(resource_id=port_id, fields=fields, os_ironic_api_version=os_ironic_api_version, global_request_id=global_request_id) def get_by_address(self, address, fields=None, os_ironic_api_version=None, global_request_id=None): ports = self._list(self._path(path), 'ports', os_ironic_api_version=os_ironic_api_version, global_request_id=global_request_id) def delete(self, port_id, os_ironic_api_version=None, global_request_id=None): return self._delete(resource_id=port_id, os_ironic_api_version=os_ironic_api_version, global_request_id=global_request_id) def update(self, port_id, patch, os_ironic_api_version=None, global_request_id=None): return self._update(resource_id=port_id, patch=patch, os_ironic_api_version=os_ironic_api_version, global_request_id=global_request_id)"," portgroup=None): if limit is None: return self._list(self._path(path), ""ports"") limit=limit) def get(self, port_id, fields=None): return self._get(resource_id=port_id, fields=fields) def get_by_address(self, address, fields=None): ports = self._list(self._path(path), 'ports') def delete(self, port_id): return self._delete(resource_id=port_id) def update(self, port_id, patch): return self._update(resource_id=port_id, patch=patch)",146,50
openstack%2Fpython-freezerclient~master~I19dd35b12f2a7764ecf9635a09f9865b589d250a,openstack/python-freezerclient,master,I19dd35b12f2a7764ecf9635a09f9865b589d250a,Add py38 in tox.,MERGED,2020-07-02 06:34:58.000000000,2020-07-02 08:50:06.000000000,2020-07-02 08:47:37.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:34:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/8c7e59ce3f5f5fc35f19123efbad816de50363f0', 'message': 'Add py38 in tox.\n\nIn new release, The project  is used  python38 to replace python37,\nso drop py37,add py38 in tox.\n\nChange-Id: I19dd35b12f2a7764ecf9635a09f9865b589d250a\n'}]",0,738968,8c7e59ce3f5f5fc35f19123efbad816de50363f0,7,2,1,21069,,,0,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: I19dd35b12f2a7764ecf9635a09f9865b589d250a
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/68/738968/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8c7e59ce3f5f5fc35f19123efbad816de50363f0,,"envlist = py36,py38,pep8,pylint,docs[testenv:py38] basepython = python3.8","envlist = py36,py37,pep8,pylint,docs[testenv:py37] basepython = python3.7",3,3
openstack%2Ffreezer~master~Id7a2c34f2b91a363a942acfa6c52684a63265d20,openstack/freezer,master,Id7a2c34f2b91a363a942acfa6c52684a63265d20,Add py38 in tox.,MERGED,2020-07-02 06:33:26.000000000,2020-07-02 08:49:41.000000000,2020-07-02 08:46:50.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:33:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/339ef2178984a121265dbe69a516322946d45247', 'message': 'Add py38 in tox.\n\nIn new release, The project  is used  python38 to replace python37,\nso drop py37,add py38 in tox.\n\nChange-Id: Id7a2c34f2b91a363a942acfa6c52684a63265d20\n'}]",0,738967,339ef2178984a121265dbe69a516322946d45247,7,2,1,21069,,,0,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: Id7a2c34f2b91a363a942acfa6c52684a63265d20
",git fetch https://review.opendev.org/openstack/freezer refs/changes/67/738967/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,339ef2178984a121265dbe69a516322946d45247,,"envlist = py36,py38,pep8,pylint,docs[testenv:py38] basepython = python3.8[testenv:releasenotes]:","envlist = py36,py37,pep8,pylint,docs[testenv:py37] basepython = python3.7[testenv:releasenotes]",4,4
openstack%2Ffreezer-api~master~Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d,openstack/freezer-api,master,Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d,Add py38 in tox.,MERGED,2020-07-02 06:47:31.000000000,2020-07-02 08:41:03.000000000,2020-07-02 08:37:55.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:47:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/11223563cdaaf297aade0d9ed31c389d7f070fb3', 'message': 'Add py38 in tox.\n\nIn new release, the project  is used  python38 to replace python37,\nso drop py37,add py38 in tox.\n\nChange-Id: Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d\n'}]",0,738971,11223563cdaaf297aade0d9ed31c389d7f070fb3,7,2,1,21069,,,0,"Add py38 in tox.

In new release, the project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: Ie08f9bbb98cd21ebace4cc32c6090f2aa249738d
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/71/738971/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,11223563cdaaf297aade0d9ed31c389d7f070fb3,,"envlist = py36,py38,pep8,pylint,docs[testenv:py38] basepython = python3.8","envlist = py36,py37,pep8,pylint,docs[testenv:py37] basepython = python3.7",3,3
openstack%2Fironic~master~Ibf78672c15702af43ed2ee1256517b1a1a895120,openstack/ironic,master,Ibf78672c15702af43ed2ee1256517b1a1a895120,Use getfullargspec to inspect functions,MERGED,2020-07-01 15:28:04.000000000,2020-07-02 08:26:44.000000000,2020-07-02 08:12:27.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-01 15:28:04.000000000', 'files': ['ironic/api/functions.py', 'ironic/api/expose.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/498ab5224b151355dd29bb2f1df7e9c574696321', 'message': 'Use getfullargspec to inspect functions\n\nThe getfullargspec [1] function is maintained to provide compatibility\nwith the deprecatad getargspec [2].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getfullargspec\n[2] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Ibf78672c15702af43ed2ee1256517b1a1a895120\n'}]",0,738868,498ab5224b151355dd29bb2f1df7e9c574696321,15,7,1,23851,,,0,"Use getfullargspec to inspect functions

The getfullargspec [1] function is maintained to provide compatibility
with the deprecatad getargspec [2].

[1] https://docs.python.org/3/library/inspect.html#inspect.getfullargspec
[2] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ibf78672c15702af43ed2ee1256517b1a1a895120
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/738868/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/functions.py', 'ironic/api/expose.py']",2,498ab5224b151355dd29bb2f1df7e9c574696321,fullargspec-repl, pecan.util._cfg(callfunction)['argspec'] = inspect.getfullargspec(f), pecan.util._cfg(callfunction)['argspec'] = inspect.getargspec(f),3,2
openstack%2Fkeystone~master~I83bd63e9f576041ffdb995fe441f1a3b0b371db2,openstack/keystone,master,I83bd63e9f576041ffdb995fe441f1a3b0b371db2,NIT: Fix Spelling in auth_context.py,MERGED,2020-06-01 10:01:12.000000000,2020-07-02 08:25:52.000000000,2020-07-02 08:23:53.000000000,"[{'_account_id': 2903}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-01 10:01:12.000000000', 'files': ['keystone/server/flask/request_processing/middleware/auth_context.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/69ad01b2d9e5950b773a76e382575662577b1a11', 'message': 'NIT: Fix Spelling in auth_context.py\n\nChange-Id: I83bd63e9f576041ffdb995fe441f1a3b0b371db2\n'}]",0,732140,69ad01b2d9e5950b773a76e382575662577b1a11,15,4,1,27621,,,0,"NIT: Fix Spelling in auth_context.py

Change-Id: I83bd63e9f576041ffdb995fe441f1a3b0b371db2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/732140/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/server/flask/request_processing/middleware/auth_context.py'],1,69ad01b2d9e5950b773a76e382575662577b1a11,Fix-spelling, # parallel; only one or the other should be used for access., # parallel; only ione or the other should be used for access.,1,1
openstack%2Fironic~master~Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c,openstack/ironic,master,Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c,Untie the ramdisk deploy from AgentDeploy,MERGED,2020-06-24 09:30:29.000000000,2020-07-02 08:18:43.000000000,2020-07-02 07:54:30.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-24 09:30:29.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b412df429a52ac2c425bacd9c17cc29a4c4dee2', 'message': 'Untie the ramdisk deploy from AgentDeploy\n\nCurrently PXERamdiskDeploy inherits AgentDeploy, which is unnecessary\n(it does not use in-band deploy steps or rely on heartbeats) and only\nhappens to work because AgentDeploy has only one deploy step, which\nis not going to be the case soon.\n\nThis change extracts common code for tear down and cleaning from\nISCSIDeploy and AgentDeploy into the new AgentBaseMixin and makes\nPXERamdiskDeploy inherit it instead.\n\nAlso removes the confusion AgentDeployMixin from iscsi_deploy.\n\nChange-Id: Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c\nStory: #2006963\nTask: #40153\n'}]",0,737724,2b412df429a52ac2c425bacd9c17cc29a4c4dee2,13,5,1,10239,,,0,"Untie the ramdisk deploy from AgentDeploy

Currently PXERamdiskDeploy inherits AgentDeploy, which is unnecessary
(it does not use in-band deploy steps or rely on heartbeats) and only
happens to work because AgentDeploy has only one deploy step, which
is not going to be the case soon.

This change extracts common code for tear down and cleaning from
ISCSIDeploy and AgentDeploy into the new AgentBaseMixin and makes
PXERamdiskDeploy inherit it instead.

Also removes the confusion AgentDeployMixin from iscsi_deploy.

Change-Id: Ia6c2e3d98d74fc9c64268db04bc2fb7f5a6f0c1c
Story: #2006963
Task: #40153
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/737724/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/pxe.py']",4,2b412df429a52ac2c425bacd9c17cc29a4c4dee2,story/2006963,"from ironic.drivers.modules import agent_baseclass PXERamdiskDeploy(agent_base.AgentBaseMixin, base.DeployInterface): def get_properties(self, task): return {}",from ironic.drivers.modules import agentclass PXERamdiskDeploy(agent.AgentDeploy):,122,151
openstack%2Ffreezer-web-ui~master~I17db2c72a9752fe1484b16f8a1acc149d14bb6ea,openstack/freezer-web-ui,master,I17db2c72a9752fe1484b16f8a1acc149d14bb6ea,Add py38 in tox.,MERGED,2020-07-02 06:42:58.000000000,2020-07-02 08:16:55.000000000,2020-07-02 08:16:55.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 06:42:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/e57a654832736adb750e9a2e340a51fd21b2857f', 'message': 'Add py38 in tox.\n\nIn new release, The project  is used  python38 to replace python37,\nso drop py37,add py38 in tox.\n\nChange-Id: I17db2c72a9752fe1484b16f8a1acc149d14bb6ea\n'}]",0,738969,e57a654832736adb750e9a2e340a51fd21b2857f,6,2,1,21069,,,0,"Add py38 in tox.

In new release, The project  is used  python38 to replace python37,
so drop py37,add py38 in tox.

Change-Id: I17db2c72a9752fe1484b16f8a1acc149d14bb6ea
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/69/738969/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e57a654832736adb750e9a2e340a51fd21b2857f,,"envlist = py36,py38,pep8,pylint,docs[testenv:py38] basepython = python3.8","envlist = py36,py37,pep8,pylint,docs[testenv:py37] basepython = python3.7",3,3
openstack%2Fkolla-ansible~stable%2Fussuri~I9d6758c8550308d13d936de1a14afbe4124e593b,openstack/kolla-ansible,stable/ussuri,I9d6758c8550308d13d936de1a14afbe4124e593b,Make ES Curator schedule multinode-friendly,MERGED,2020-07-01 16:19:30.000000000,2020-07-02 08:13:12.000000000,2020-07-02 08:11:02.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 16:19:30.000000000', 'files': ['ansible/roles/elasticsearch/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acfabc77a71019ef093792bb10e59eb57f3a388f', 'message': ""Make ES Curator schedule multinode-friendly\n\nIn the spirit of Kolla-Ansible, we generally try to provide\nworkable defaults.\nThe default for Elasticsearch curator schedule was fine except for\nmultinode deploys where it would cause all nodes to run at the\nsame time producing broken runs (race condition in the get-delete\ncycle).\nIt is easy to improve this situation by embracing poor-man's\nreimplementation of keystone's fernet key rotation schedule.\nES Curator does not need all the complexity of the former so it\ncan be handled very well by shifting by as many hours as the\ninstance's index dictates. It should rarely if ever need more time\n(most likely still in minutes range rather than hours).\n\nChange-Id: I9d6758c8550308d13d936de1a14afbe4124e593b\n(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)\n""}]",0,738878,acfabc77a71019ef093792bb10e59eb57f3a388f,10,3,1,30491,,,0,"Make ES Curator schedule multinode-friendly

In the spirit of Kolla-Ansible, we generally try to provide
workable defaults.
The default for Elasticsearch curator schedule was fine except for
multinode deploys where it would cause all nodes to run at the
same time producing broken runs (race condition in the get-delete
cycle).
It is easy to improve this situation by embracing poor-man's
reimplementation of keystone's fernet key rotation schedule.
ES Curator does not need all the complexity of the former so it
can be handled very well by shifting by as many hours as the
instance's index dictates. It should rarely if ever need more time
(most likely still in minutes range rather than hours).

Change-Id: I9d6758c8550308d13d936de1a14afbe4124e593b
(cherry picked from commit b82eb1b3936dd305f9826c5d23655273fa10bb0e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/738878/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/elasticsearch/defaults/main.yml'],1,acfabc77a71019ef093792bb10e59eb57f3a388f,es-curator-schedule-multinode-stable/ussuri,"# Helper variable used to define the default hour Curator runs to avoid # simultaneous runs in multinode deployments. elasticsearch_curator_instance_id: ""{{ groups['elasticsearch-curator'].index(inventory_hostname) }}"" # How frequently Curator runs. # For multinode deployments of Curator you should ensure each node has # a different schedule so that Curator does not run simultaneously on # multiple nodes. Use hostvars or parameterize like in the default # below. # The default depends on Curator's id as defined above which dictates # the daily hour the schedule runs (0, 1, etc.). elasticsearch_curator_cron_schedule: ""0 {{ elasticsearch_curator_instance_id }} * * *""","# How frequently Curator runs. On multinode deployments of Curator # you may wish to override this in hostvars so that Curator does # not run simultaneously on all nodes. Defaults to every midnight. elasticsearch_curator_cron_schedule: ""0 0 * * *""",12,4
openstack%2Fglance~master~I75014bd50bf382efebe56bd89c20ffefbdde25f5,openstack/glance,master,I75014bd50bf382efebe56bd89c20ffefbdde25f5,Deprecation cleanout Registry and related,MERGED,2020-06-30 16:49:54.000000000,2020-07-02 08:04:49.000000000,2020-07-02 08:02:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/34e0489167eb4955d1c74c4e048ac910259b469a', 'message': ""Deprecation cleanout Registry and related\n\nThis patch removes majority of the registry and it's related\nendpoints and config options that has been deprecated for\nremoval in various releases.\n\nChange-Id: I75014bd50bf382efebe56bd89c20ffefbdde25f5\n""}, {'number': 2, 'created': '2020-06-30 19:43:26.000000000', 'files': ['glance/api/v2/image_data.py', 'releasenotes/notes/cleanout_registry_data-api-9d91368aed83497e.yaml', 'glance/tests/unit/test_cache_middleware.py', 'test-requirements.txt', 'glance/tests/stubs.py', 'glance/common/store_utils.py', 'glance/tests/integration/v2/base.py', 'glance/cmd/registry.py', 'glance/registry/api/__init__.py', 'glance/common/config.py', 'glance/cmd/manage.py', 'etc/glance-registry.conf', 'etc/glance-registry-paste.ini', 'glance/api/middleware/cache.py', 'glance/tests/functional/v2/test_images.py', 'glance/db/simple/__init__.py', 'glance/opts.py', 'glance/db/__init__.py', 'glance/cmd/control.py', 'lower-constraints.txt', 'glance/registry/api/v2/__init__.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/test_db.py', 'glance/tests/functional/db/test_simple.py', 'glance/tests/functional/__init__.py', 'setup.cfg', 'tox.ini', 'etc/oslo-config-generator/glance-registry.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/673666cbf4f5ee97b28f157f3b1e7115b72c5fee', 'message': ""Deprecation cleanout Registry and related\n\nThis patch removes majority of the registry and it's related\nendpoints and config options that has been deprecated for\nremoval in various releases.\n\nChange-Id: I75014bd50bf382efebe56bd89c20ffefbdde25f5\n""}]",1,738671,673666cbf4f5ee97b28f157f3b1e7115b72c5fee,13,4,2,5202,,,0,"Deprecation cleanout Registry and related

This patch removes majority of the registry and it's related
endpoints and config options that has been deprecated for
removal in various releases.

Change-Id: I75014bd50bf382efebe56bd89c20ffefbdde25f5
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/738671/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'releasenotes/notes/cleanout_registry_data-api-9d91368aed83497e.yaml', 'glance/tests/unit/test_cache_middleware.py', 'test-requirements.txt', 'glance/tests/stubs.py', 'glance/common/store_utils.py', 'glance/tests/integration/v2/base.py', 'glance/cmd/registry.py', 'glance/registry/api/__init__.py', 'glance/common/config.py', 'glance/cmd/manage.py', 'etc/glance-registry.conf', 'etc/glance-registry-paste.ini', 'glance/api/middleware/cache.py', 'glance/tests/functional/v2/test_images.py', 'glance/db/simple/__init__.py', 'glance/opts.py', 'glance/db/__init__.py', 'glance/cmd/control.py', 'glance/registry/api/v2/__init__.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/test_db.py', 'glance/tests/functional/db/test_simple.py', 'glance/tests/functional/__init__.py', 'setup.cfg', 'tox.ini', 'etc/oslo-config-generator/glance-registry.conf']",27,34e0489167eb4955d1c74c4e048ac910259b469a,cleanout_registry_simpledb,,[DEFAULT] wrap_width = 80 output_file = etc/glance-registry.conf.sample namespace = glance.registry ,47,567
openstack%2Fglance~stable%2Fussuri~I385f222c5e3b46978b40bdefdc28fcb20d9c67d3,openstack/glance,stable/ussuri,I385f222c5e3b46978b40bdefdc28fcb20d9c67d3,Check authorization before import for image,MERGED,2020-07-01 06:46:09.000000000,2020-07-02 08:04:49.000000000,2020-07-02 08:02:39.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 06:46:09.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fcba03989feed85a3301e53b252f766eabeeba3c', 'message': 'Check authorization before import for image\n\nRight now we only check to see if the user can see the image before\nwe kick off an import operation. However, that will never work unless\nthe user is the *owner* of the image (or an admin) which means we\nreturn a 202 to the API caller and then the task fails immediately.\n\nThis change makes us check that authorization up front and return an\nappropriate error to the user so they know it failed, and avoid\nstarting a task destined for failure.\n\nNote that there was already a check for a Forbidden result when calling\nthe import API. However, that used a context.owner=None which could never\nhappen in reality. A more suitable check would have been to use a context\nwith a different real owner, but it turns out that the task creation\nwould have succeeded in that case as well. This test is changed to use\nan alternate owner and ensure that we get the forbidden result from the\nnew check immediately.\n\nChange-Id: I385f222c5e3b46978b40bdefdc28fcb20d9c67d3\nCloses-Bug: #1884587\n(cherry picked from commit c930638fcf58b43d53903cfc30e06fd6919bdad6)\n'}]",0,738737,fcba03989feed85a3301e53b252f766eabeeba3c,11,4,1,9303,,,0,"Check authorization before import for image

Right now we only check to see if the user can see the image before
we kick off an import operation. However, that will never work unless
the user is the *owner* of the image (or an admin) which means we
return a 202 to the API caller and then the task fails immediately.

This change makes us check that authorization up front and return an
appropriate error to the user so they know it failed, and avoid
starting a task destined for failure.

Note that there was already a check for a Forbidden result when calling
the import API. However, that used a context.owner=None which could never
happen in reality. A more suitable check would have been to use a context
with a different real owner, but it turns out that the task creation
would have succeeded in that case as well. This test is changed to use
an alternate owner and ensure that we get the forbidden result from the
new check immediately.

Change-Id: I385f222c5e3b46978b40bdefdc28fcb20d9c67d3
Closes-Bug: #1884587
(cherry picked from commit c930638fcf58b43d53903cfc30e06fd6919bdad6)
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/738737/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,fcba03989feed85a3301e53b252f766eabeeba3c,bug/1884587-stable/ussuri," self.owner = unit_test_utils.TENANT1 @mock.patch.object(glance.domain.TaskFactory, 'new_task') @mock.patch.object(glance.api.authorization.ImageRepoProxy, 'get') def test_image_import_not_allowed(self, mock_get, mock_new_task): # NOTE(danms): FakeImage is owned by utils.TENANT1. Try to do the # import as TENANT2 and we should get an HTTPForbidden request = unit_test_utils.get_fake_request(tenant=TENANT2) mock_get.return_value = FakeImage(status='uploading') self.assertRaises(webob.exc.HTTPForbidden, self.controller.import_image, request, UUID4, {'method': {'name': 'glance-direct'}}) # NOTE(danms): Make sure we failed early and never even created # a task mock_new_task.assert_not_called() request = unit_test_utils.get_fake_request(tenant=TENANT3)"," def test_image_import_not_allowed(self): request = unit_test_utils.get_fake_request() # NOTE(abhishekk): For coverage purpose setting tenant to # None. It is not expected to do in normal scenarios. request.context.project_id = None with mock.patch.object( glance.api.authorization.ImageRepoProxy, 'get') as mock_get: mock_get.return_value = FakeImage(status='uploading') self.assertRaises(webob.exc.HTTPForbidden, self.controller.import_image, request, UUID4, {'method': {'name': 'glance-direct'}}) request = unit_test_utils.get_fake_request()",20,13
openstack%2Fironic~master~I7bb190c82fa3f166902884d1ea0da485cc743a65,openstack/ironic,master,I7bb190c82fa3f166902884d1ea0da485cc743a65,Fix fast track following managed inspection,MERGED,2020-07-01 15:10:16.000000000,2020-07-02 07:58:51.000000000,2020-07-02 07:06:50.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-01 15:10:16.000000000', 'files': ['releasenotes/notes/inspection-fast-track-ab5165e11d3e9522.yaml', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9eb43d1c07766d15da05689de22bc435440caeb', 'message': 'Fix fast track following managed inspection\n\nThe managed inspection does not provide ipa-api-url and the ramdisk\ncannot heartbeat, thus requiring a reboot. This change fixes it.\n\nChange-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65\n'}]",1,738864,f9eb43d1c07766d15da05689de22bc435440caeb,13,6,1,10239,,,0,"Fix fast track following managed inspection

The managed inspection does not provide ipa-api-url and the ramdisk
cannot heartbeat, thus requiring a reboot. This change fixes it.

Change-Id: I7bb190c82fa3f166902884d1ea0da485cc743a65
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/738864/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/inspection-fast-track-ab5165e11d3e9522.yaml', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py']",3,f9eb43d1c07766d15da05689de22bc435440caeb,inspection-fast-track,from ironic.drivers.modules import deploy_utils if CONF.deploy.fast_track: params['ipa-api-url'] = deploy_utils.get_ironic_api_url(),,41,0
openstack%2Fcharm-ceph-rbd-mirror~master~I6ecc780ce05ad7e9d392888139f80678e2b343f5,openstack/charm-ceph-rbd-mirror,master,I6ecc780ce05ad7e9d392888139f80678e2b343f5,Remove duplicate requirement,MERGED,2020-07-01 16:53:09.000000000,2020-07-02 07:57:09.000000000,2020-07-02 07:57:09.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-01 16:53:09.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/43a209d09b7796af2db1bfafd23a15024c4ad9a6', 'message': 'Remove duplicate requirement\n\nChange-Id: I6ecc780ce05ad7e9d392888139f80678e2b343f5\nCloses-Bug: #1885935\n'}]",0,738892,43a209d09b7796af2db1bfafd23a15024c4ad9a6,9,4,1,13686,,,0,"Remove duplicate requirement

Change-Id: I6ecc780ce05ad7e9d392888139f80678e2b343f5
Closes-Bug: #1885935
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/92/738892/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,43a209d09b7796af2db1bfafd23a15024c4ad9a6,bug/1885935,,jinja2,0,1
openstack%2Fironic-python-agent~stable%2Ftrain~If5e798c5461ea3e474a153574b0db2da96f2dfa8,openstack/ironic-python-agent,stable/train,If5e798c5461ea3e474a153574b0db2da96f2dfa8,Fixes minor issues in the read() retries patch,ABANDONED,2020-07-01 08:36:32.000000000,2020-07-02 07:55:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-01 08:36:32.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5301afcf530093be8bf9dbef83067b8cdbee911f', 'message': 'Fixes minor issues in the read() retries patch\n\nFollow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.\n\nTwo things slipped through the cracks:\n* ImageDownloadError was instantiated incorrectly, resulting in a wrong\n  error message. This was uncovered by using assertRaisesRegext in tests.\n* We allowed calling write(None). This was uncovered by avoiding sleep(4)\n  in tests and enabling more failed calls before timeout.\n\nChange-Id: If5e798c5461ea3e474a153574b0db2da96f2dfa8\n(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)\n'}]",0,738759,5301afcf530093be8bf9dbef83067b8cdbee911f,4,2,1,10239,,,0,"Fixes minor issues in the read() retries patch

Follow-up to commit c5b97eb781cf9851f9abe87a1500b4da55b8bde8.

Two things slipped through the cracks:
* ImageDownloadError was instantiated incorrectly, resulting in a wrong
  error message. This was uncovered by using assertRaisesRegext in tests.
* We allowed calling write(None). This was uncovered by avoiding sleep(4)
  in tests and enabling more failed calls before timeout.

Change-Id: If5e798c5461ea3e474a153574b0db2da96f2dfa8
(cherry picked from commit 00ad03b709275e185ccb5b8e80cb7db4b9071d56)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/59/738759/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py']",2,5301afcf530093be8bf9dbef83067b8cdbee911f,retries-train," yield chunk self._image_info['id'],", yield chunk,6,4
openstack%2Fpython-tripleoclient~master~Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f,openstack/python-tripleoclient,master,Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f,Further cleanup unit tests,MERGED,2020-06-19 03:18:12.000000000,2020-07-02 07:31:21.000000000,2020-07-02 07:28:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-19 03:18:12.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f67c20a8903f15f4f256255011f6284c5f84698', 'message': ""Further cleanup unit tests\n\nWe changed all client workflows other than derived params\nto not use mistral and zaqar. However, the unit tests still\nmock lot of these. Let's remove those.\n\nChange-Id: Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f\n""}]",0,736927,6f67c20a8903f15f4f256255011f6284c5f84698,29,6,1,8833,,,0,"Further cleanup unit tests

We changed all client workflows other than derived params
to not use mistral and zaqar. However, the unit tests still
mock lot of these. Let's remove those.

Change-Id: Ieddd97e73b1bd0f88b1fed17ac2575b3e2964e5f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/736927/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py']",6,6f67c20a8903f15f4f256255011f6284c5f84698,bug/1884138,,"from tripleoclient import plugin from tripleoclient.tests.fakes import FakeInstanceData self.app.client_manager.workflow_engine = self.workflow = mock.Mock() self.websocket = mock.Mock() self.websocket.__enter__ = lambda s: self.websocket self.websocket.__exit__ = lambda s, *exc: None self.tripleoclient.messaging_websocket.return_value = self.websocket tc = self.app.client_manager.tripleoclient = self.tripleoclient tc.create_mistral_context = plugin.ClientWrapper( instance=FakeInstanceData ).create_mistral_context self.message_success = iter([{ ""execution"": {""id"": ""IDID""}, ""status"": ""SUCCESS"", ""message"": ""Success."", ""registered_nodes"": [], }]) self.message_failed = iter([{ ""execution"": {""id"": ""IDID""}, ""status"": ""FAIL"", ""message"": ""Fail."", }])",2,144
openstack%2Fopenstack-zuul-jobs~master~I0834f209d99ed9a1e4491c54fd648e1ef646a9b3,openstack/openstack-zuul-jobs,master,I0834f209d99ed9a1e4491c54fd648e1ef646a9b3,Update the common_translation_update role to use python3,MERGED,2020-07-01 08:21:04.000000000,2020-07-02 07:17:36.000000000,2020-07-02 07:13:34.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 08:21:04.000000000', 'files': ['roles/prepare-zanata-client/files/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/56d8c85af4da91f03da81a7e9e5853b3562d29cd', 'message': 'Update the common_translation_update role to use python3\n\nChange-Id: I0834f209d99ed9a1e4491c54fd648e1ef646a9b3\n'}]",2,738755,56d8c85af4da91f03da81a7e9e5853b3562d29cd,9,3,1,28522,,,0,"Update the common_translation_update role to use python3

Change-Id: I0834f209d99ed9a1e4491c54fd648e1ef646a9b3
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/55/738755/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/files/common_translation_update.sh'],1,56d8c85af4da91f03da81a7e9e5853b3562d29cd,drop_future_imports, python3 $SCRIPTSDIR/get-modulename.py -p $project -t $target python3 $SCRIPTSDIR/create-zanata-xml.py \ python3 $SCRIPTSDIR/create-zanata-xml.py \ python3 $SCRIPTSDIR/create-zanata-xml.py \ python3 $SCRIPTSDIR/create-zanata-xml.py \ python3 $SCRIPTSDIR/create-zanata-xml.py \, python $SCRIPTSDIR/get-modulename.py -p $project -t $target python $SCRIPTSDIR/create-zanata-xml.py \ python $SCRIPTSDIR/create-zanata-xml.py \ python $SCRIPTSDIR/create-zanata-xml.py \ python $SCRIPTSDIR/create-zanata-xml.py \ python $SCRIPTSDIR/create-zanata-xml.py \,6,6
openstack%2Fceilometer~stable%2Fussuri~Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,openstack/ceilometer,stable/ussuri,Idaf811f71bab0b49de5b68a6a69a7872cb481ffb,Fix PDF build,MERGED,2020-06-30 01:25:42.000000000,2020-07-02 06:46:33.000000000,2020-06-30 01:43:26.000000000,"[{'_account_id': 6547}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 01:25:42.000000000', 'files': ['doc/source/configuration/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/96dcc2cbc22ec9efa98eb75771ba3154bc881bba', 'message': 'Fix PDF build\n\nDo not include ceilometer.conf.sample since PDF building fails with the\nlarge file. This fix PDF building of openstack-tox-docs job.\n\nChange-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb\n(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)\n'}]",0,738539,96dcc2cbc22ec9efa98eb75771ba3154bc881bba,9,3,1,14107,,,0,"Fix PDF build

Do not include ceilometer.conf.sample since PDF building fails with the
large file. This fix PDF building of openstack-tox-docs job.

Change-Id: Idaf811f71bab0b49de5b68a6a69a7872cb481ffb
(cherry picked from commit 89969ec0a919a3a5ea9f4cee7e9b128c5fe0804d)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/39/738539/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/index.rst'],1,96dcc2cbc22ec9efa98eb75771ba3154bc881bba,fix-pdf-stable/ussuri,".. only:: html The following is a sample Ceilometer configuration for adaptation and use. It is auto-generated from Ceilometer when this documentation is built, and can also be viewed in `file form <_static/ceilometer.conf.sample>`_. .. literalinclude:: ../_static/ceilometer.conf.sample","The following is a sample Ceilometer configuration for adaptation and use. It is auto-generated from Ceilometer when this documentation is built, and can also be viewed in `file form <_static/ceilometer.conf.sample>`_. .. literalinclude:: ../_static/ceilometer.conf.sample",6,4
openstack%2Ffreezer-api~master~Ic0b210685535f94a70a175385afdd9f399f4d690,openstack/freezer-api,master,Ic0b210685535f94a70a175385afdd9f399f4d690,Use setstr to  execute unittest test,MERGED,2020-07-01 08:31:49.000000000,2020-07-02 06:23:16.000000000,2020-07-02 06:18:08.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 08:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/936585cba54e3220d743f75c1c9fbdaa9b002bb6', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}, {'number': 2, 'created': '2020-07-01 09:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c8d7eb38c8e24eb9ee841d9078a4888a908af925', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}, {'number': 3, 'created': '2020-07-01 10:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/00308aa72f930cb93e04157520d5f3faabf5327d', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}, {'number': 4, 'created': '2020-07-02 00:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/73f917244d6a644cb793ba8512e1aa661d89de0b', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}, {'number': 5, 'created': '2020-07-02 00:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/767bafae368938e70db029018bae1843f6b546e7', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}, {'number': 6, 'created': '2020-07-02 04:00:22.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/11dfa6a003575b6dcf4d3f84f32c32344aed0728', 'message': 'Use setstr to  execute unittest test\n\nThe stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.\nTest cases can be executed faster.\n\n[1]https://github.com/mtreinish/stestr\n\nChange-Id: Ic0b210685535f94a70a175385afdd9f399f4d690\n'}]",0,738758,11dfa6a003575b6dcf4d3f84f32c32344aed0728,17,2,6,21069,,,0,"Use setstr to  execute unittest test

The stestr[1] is parallel Python test runner designed to execute unittest test suites using multiple processes.
Test cases can be executed faster.

[1]https://github.com/mtreinish/stestr

Change-Id: Ic0b210685535f94a70a175385afdd9f399f4d690
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/58/738758/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,936585cba54e3220d743f75c1c9fbdaa9b002bb6,,[DEFAULT] test_path=${OS_TEST_PATH:-./freezer_api/tests/unit} top_dir=./ group_regex=([^\.]+\.)+ ,,33,29
openstack%2Fproject-config~master~Iafdc2f77a627969a39370833f084cd7555da96fd,openstack/project-config,master,Iafdc2f77a627969a39370833f084cd7555da96fd,Upadting horizon nodejs job name,MERGED,2020-06-23 08:37:35.000000000,2020-07-02 05:53:24.000000000,2020-07-02 05:53:24.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-23 08:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe8ea01f517e60948098b867a49ceca9a69ed00e', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}, {'number': 2, 'created': '2020-06-23 08:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e865f92ac0daaa140a441dc3ad6f26f8dd72614e', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}, {'number': 3, 'created': '2020-06-24 08:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f35b8031b754a6e2cf803d02e73a3dbea4b08685', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nThis patch also done a few cleaups:\n- Remove py27 jobs.\n- Remove python3-django111 jobs.\n- Added py38 and removed py37.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}, {'number': 4, 'created': '2020-06-24 08:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c31aa43f3f01692bec56572419e472506245a5b6', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nThis patch also done a few cleanups:\n- Remove py27 jobs.\n- Remove python3-django111 jobs.\n- Added py38 and removed py37.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}, {'number': 5, 'created': '2020-06-24 11:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1de9eb85bae9d12bd0a9abddfc09b670ef2cd024', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nThis patch also done a few cleaups:\n- Remove py27 jobs.\n- Remove python3-django111 jobs.\n- Remove python python3-django22 jobs.\n- Added py38 and removed py37.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}, {'number': 6, 'created': '2020-06-24 11:44:34.000000000', 'files': ['grafana/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b55c6d6737d65a2166eb5041f51b8a49d4774c82', 'message': 'Upadting horizon nodejs job name\n\nChange I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon\nnodejs job name and this patch to the same in horizon.yaml\nso that nodejs job data is visible on grafana dashboard.\n\nThis patch also done a few cleaups:\n- Remove py27 jobs.\n- Remove python3-django111 jobs.\n- Remove python3-django22 jobs.\n- Added py38 and removed py37.\n\nChange-Id: Iafdc2f77a627969a39370833f084cd7555da96fd\n'}]",12,737457,b55c6d6737d65a2166eb5041f51b8a49d4774c82,22,5,6,29313,,,0,"Upadting horizon nodejs job name

Change I86a56afcd2cde3a088abcc66c0294424cd03546f updates horizon
nodejs job name and this patch to the same in horizon.yaml
so that nodejs job data is visible on grafana dashboard.

This patch also done a few cleaups:
- Remove py27 jobs.
- Remove python3-django111 jobs.
- Remove python3-django22 jobs.
- Added py38 and removed py37.

Change-Id: Iafdc2f77a627969a39370833f084cd7555da96fd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/737457/5 && git format-patch -1 --stdout FETCH_HEAD,['grafana/horizon.yaml'],1,fe8ea01f517e60948098b867a49ceca9a69ed00e,," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.horizon-nodejs10-run-test.{SUCCESS,FAILURE})),'24hours'), 'horizon-nodejs10-run-test') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.horizon-nodejs10-run-lint.{SUCCESS,FAILURE})),'24hours'), 'horizon-nodejs10-run-lint') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.horizon-nodejs10-run-test.{SUCCESS,FAILURE})),'24hours'), 'horizon-nodejs10-run-test') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.horizon-nodejs10-run-lint.{SUCCESS,FAILURE})),'24hours'), 'horizon-nodejs10-run-lint')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.{SUCCESS,FAILURE})),'24hours'), 'nodejs10-npm-run-test') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.{SUCCESS,FAILURE})),'24hours'), 'nodejs10-npm-run-lint') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-test.{SUCCESS,FAILURE})),'24hours'), 'nodejs10-npm-run-test') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_horizon.master.job.nodejs10-npm-run-lint.{SUCCESS,FAILURE})),'24hours'), 'nodejs10-npm-run-lint')",4,4
openstack%2Fneutron~master~I1ac685a12f49119f5ef1428cbc504b639d783803,openstack/neutron,master,I1ac685a12f49119f5ef1428cbc504b639d783803,[OVN] Allow use of ovn-sync mechanism driver,MERGED,2020-06-05 08:49:01.000000000,2020-07-02 05:24:11.000000000,2020-07-01 22:48:06.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-05 08:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2baf823a12eddcc99b4405f8103620bfbd6a2db', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 2, 'created': '2020-06-05 09:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69c32d48d21342324c608c11660aaee45df8598b', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 3, 'created': '2020-06-26 07:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87aadfb3873e87be46c862c1f4f50ad18b22509f', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 4, 'created': '2020-06-30 15:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1e6df32a4261b32eafd4fabac4b5db71a8aa254', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 5, 'created': '2020-06-30 16:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8907484dee890e1d3cd5c131b072029d2703390f', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 6, 'created': '2020-06-30 16:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1122b26a2057db03da4aba2c34693ea4866117f', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 7, 'created': '2020-07-01 07:25:12.000000000', 'files': ['neutron/services/ovn_l3/exceptions.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/206ce246768d6fb04b6bd92e189188f6702c74a7', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}]",3,733775,206ce246768d6fb04b6bd92e189188f6702c74a7,39,10,7,13686,,,0,"[OVN] Allow use of ovn-sync mechanism driver

The ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism
driver with the ``ovn-sync`` mechanism driver. Subsequently it
makes calls into the OVN L3 service plugin.

At present the OVN L3 service plugin assumes the ``ovn`` mechanism
driver to be present and produces a Traceback when it is not.

This patch fixes that by testing for both of the supported
mechanism drivers.

Change-Id: I1ac685a12f49119f5ef1428cbc504b639d783803
Closes-Bug: #1882202
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/733775/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,c2baf823a12eddcc99b4405f8103620bfbd6a2db,bug/1882202," def test__plugin_driver(self): # The unit test environment mechanism driver directory does not contain # the drivers the code under test asserts being there. Let's use that # as a feature to validate an exception is raised. self.assertRaises(KeyError, lambda: self.l3_inst._plugin_driver) # Populate the mechanism driver map with keys the code under test looks # for and validate it finds them. fake_mech_driver = mock.MagicMock() for driver in ('ovn', 'ovn-sync'): self.l3_inst._plugin.mechanism_manager.mech_drivers[ driver] = fake_mech_driver result = self.l3_inst._plugin_driver self.l3_inst._plugin.mechanism_manager.mech_drivers.pop( driver, None) self.assertEquals(fake_mech_driver.obj, result) ",,27,1
openstack%2Fproject-config~master~Id882f4fae0152ff0ae23b6c23ce575e099fcf70c,openstack/project-config,master,Id882f4fae0152ff0ae23b6c23ce575e099fcf70c,Use python3 for update_constraints,MERGED,2020-07-01 20:13:28.000000000,2020-07-02 04:36:24.000000000,2020-07-02 04:36:24.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 20:13:28.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/update_constraints.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a04843697158838da05a53685a83fd074ae2cb83', 'message': 'Use python3 for update_constraints\n\nChange-Id: Id882f4fae0152ff0ae23b6c23ce575e099fcf70c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,738931,a04843697158838da05a53685a83fd074ae2cb83,7,4,1,11904,,,0,"Use python3 for update_constraints

Change-Id: Id882f4fae0152ff0ae23b6c23ce575e099fcf70c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/738931/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/update_constraints.sh'],1,a04843697158838da05a53685a83fd074ae2cb83,upper-constraints,python3 setup.py --name dist_name=$(python3 setup.py --name),python setup.py --name dist_name=$(python setup.py --name),2,2
openstack%2Ftripleo-upgrade~master~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,master,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-01 12:15:29.000000000,2020-07-02 03:17:49.000000000,2020-07-02 03:17:49.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-01 12:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f236b9885e8141ae4362d85abd8b768dc16d87bc', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nhange-Id: Ia45b7a40db15fd9143f1cff4f66b19dc1416d981\nRelated-Bug: 1885637\n'}, {'number': 2, 'created': '2020-07-01 12:17:02.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3fb8fe1912a7fe2f484390d2adc4e618e147a554', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n'}]",0,738837,3fb8fe1912a7fe2f484390d2adc4e618e147a554,13,6,2,11090,,,0,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/37/738837/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",3,f236b9885e8141ae4362d85abd8b768dc16d87bc,bug/1885637,,- name: Make sure ceph-ansible is installed if ceph is deployed package: name: ceph-ansible state: latest become: true become_user: root when: ceph_osd_enabled|bool ,12,9
openstack%2Ftripleo-upgrade~master~I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,openstack/tripleo-upgrade,master,I25cbeab46f7eeb1d24b104d8bcc2883af68492b0,Remove tht/tc/ta/tv update before UC upgrade.,MERGED,2020-06-22 16:10:58.000000000,2020-07-02 03:17:31.000000000,2020-07-02 03:17:31.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-22 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3e41db1705f2ecb47cad9ba84df3b0070d65ae58', 'message': ""Remove tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}, {'number': 2, 'created': '2020-06-22 16:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5b7b09dced212ea64d9190fddcc0ad72fbfea088', 'message': ""Remove tripleoclient/tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}, {'number': 3, 'created': '2020-06-30 16:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0119bbb0ddb92d5f9ef58140d4661cfebcb6c3ab', 'message': ""Remove tripleoclient/tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}, {'number': 4, 'created': '2020-06-30 16:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8af7e37a4ff43df149a7c8e6824c6b6881b67d6f', 'message': ""Remove tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}, {'number': 5, 'created': '2020-07-01 09:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8c7e587f434bcc5096a66aa11638ceb16277eaec', 'message': ""Remove tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}, {'number': 6, 'created': '2020-07-01 12:01:24.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f820078ecf7b7aa4de988994f77bb23b3491474a', 'message': ""Remove tht/tc/ta/tv update before UC upgrade.\n\nAfter [0] merged, we are not required to run a tripleo-common,\ntripleo-heat-templates, tripleo-ansible and tripleo-validations\npackage update as it will be performed by the undercloud upgrade\ncommand itself.\n\nThis patch removes it from tripleo-upgrade. However, this can't be\nbackported to stable/train or older releases.\n\n[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a\n\nChange-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0\n""}]",2,737308,f820078ecf7b7aa4de988994f77bb23b3491474a,33,7,6,26343,,,0,"Remove tht/tc/ta/tv update before UC upgrade.

After [0] merged, we are not required to run a tripleo-common,
tripleo-heat-templates, tripleo-ansible and tripleo-validations
package update as it will be performed by the undercloud upgrade
command itself.

This patch removes it from tripleo-upgrade. However, this can't be
backported to stable/train or older releases.

[0] - https://github.com/openstack/python-tripleoclient/commit/55c99266c9b589de93e3191cdd4d147e722fdf4a

Change-Id: I25cbeab46f7eeb1d24b104d8bcc2883af68492b0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/08/737308/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,3e41db1705f2ecb47cad9ba84df3b0070d65ae58,ceph_ansible,," - name: Update needed packages prior the undercloud upgrade package: name: - ""{{ 'python-tripleoclient' if use_oooq|bool else 'python3-tripleoclient' }}"" - ""openstack-tripleo-common"" - ""openstack-tripleo-heat-templates"" - ""openstack-tripleo-validations"" state: latest",0,9
openstack%2Ftacker-specs~master~I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0,openstack/tacker-specs,master,I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0,Support scaling operation based on ETSI NFV-SOL specification,MERGED,2020-05-29 06:50:30.000000000,2020-07-02 01:16:11.000000000,2020-07-02 01:14:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2020-05-29 06:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b688fe746dd8db1dbc3cfeb8aec4fcb0da85727d', 'message': 'Support scaling operation based on ETSI NFV-SOL specification\n\nIntroduce a new interface to invoke VNF scaling operation of VNF\ninstances towards Tacker.\n\nChange-Id: I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0\nBlueprint: support-etsi-nfv-specs\n'}, {'number': 2, 'created': '2020-05-29 06:54:26.000000000', 'files': ['specs/victoria/support-scale-api-based-on-etsi-nfv-sol.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3b5a29c5ef45fd104f514960306de0b74b579ccc', 'message': 'Support scaling operation based on ETSI NFV-SOL specification\n\nIntroduce a new interface to invoke VNF scaling operation of VNF\ninstances towards Tacker.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0\n'}]",0,731665,3b5a29c5ef45fd104f514960306de0b74b579ccc,9,3,2,27180,,,0,"Support scaling operation based on ETSI NFV-SOL specification

Introduce a new interface to invoke VNF scaling operation of VNF
instances towards Tacker.

Blueprint: support-etsi-nfv-specs
Change-Id: I0731089ed0e50016bdab1d5a65b9e1bd6d4d21f0
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/65/731665/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-scale-api-based-on-etsi-nfv-sol.rst'],1,b688fe746dd8db1dbc3cfeb8aec4fcb0da85727d,bp/support-etsi-nfv-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================================== Support scaling operations for VNF based on ETSI NFV-SOL specification ====================================================================== https://blueprints.launchpad.net/tacker/+spec/support-etsi-nfv-specs ETSI specifications within the NFV Architecture Framework [#etsi_nfv]_ describe the main aspects of NFV development and usage based on of the industry needs, feedback from SDN/NFV vendors and telecom operators. These specifications include the REST API and data model architecture which is used by NFV users and developers in related products. Problem description =================== In the current Tacker implementation based on ETSI NFV-SOL, Tacker uses its own API which describes scaling operations which is Ability to dynamically extend/reduce resources granted to the Virtual Network Function (VNF) as needed. However, these operations are not aligned with the current ETSI NFV data-model. As a result, there might be lack of compatibility with `3rd party VNFs` [#etsi_plugtest2]_, as they are developed according to ETSI NFV specifications. Support of key ETSI NFV specifications will significantly reduce efforts for Tacker integration into Telecom production networks and also will simplify further development and support of future standards. Proposed change =============== Introduce a new interface to invoke VNF lifecycle management operations of VNF instances towards the VNFM. The operation provided through this interface is: * Scale VNF 1) Flow of Scale Out of a VNF instance -------------------------------------- Precondition: VNF instance in INSTANTIATED state. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; Client -> ""tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (STARTING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; Client <- ""tacker-conductor"" [label = ""POST /grants""]; Client --> ""tacker-conductor"" [label = ""201 Created""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (PROCESSING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""resourse signal""]; ""openstackDriver"" -> ""heat"" [label = ""update stack""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""MgmtDriver"" -> ""VNF"" [label = ""VNF Configuration""]; ""MgmtDriver"" <-- ""VNF"" [label = """"]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (COMPLETED)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequence: #. Client sends a POST request to the Scale VNF Instance resource. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""STARTING"" state to indicate the start occurrence of the lifecycle management operation. #. VNFM and Client exchange granting information. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""PROCESSING"" state to indicate the processing occurrence of the lifecycle management operation. #. OpenstackDriver sends resource-signal request to Heat to scale out the resource. The number of VMs to scale out is calculated by multiplying ""number_of_steps"" contained in Scale VNF request and ""number_of_instances"" contained in VNFD. #. OpenstackDriver sends request to Heat to update the stack, and the ""desired_capacity"", contained in HOT of the target VM, is incremented. As a Heat specification, ""desired_capacity"" is referenced during UpdateStack, this process is performed so as to prevent returning to the previous number of VMs at the time of the next UpdateStack. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""COMPLETED"" state to indicate the completion occurrence of the lifecycle management operation. When scaling multiple VMs, resource-signal and Update Stack are repeated as a set for each VM. Postcondition: VNF instance is still in INSTANTIATED state and VNF has been scaled. 2) Flow of Scale in of a VNF instance ------------------------------------- Precondition: VNF instance in INSTANTIATED state. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; Client -> ""tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (STARTING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; Client <- ""tacker-conductor"" [label = ""POST /grants""]; Client --> ""tacker-conductor"" [label = ""201 Created""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (PROCESSING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""MgmtDriver"" -> ""VNF"" [label = ""VNF Configuration""]; ""MgmtDriver"" <-- ""VNF"" [label = """"]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""resourse signal""]; ""openstackDriver"" -> ""heat"" [label = ""update stack""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (COMPLETED)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequence: #. Client sends a POST request to the Scale VNF Instance resource. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""STARTING"" state to indicate the start occurrence of the lifecycle management operation. #. VNFM and Client exchange granting information. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""PROCESSING"" state to indicate the processing occurrence of the lifecycle management operation. #. OpenstackDriver sends resource-signal request to Heat to scale in the resource. The number of VMs to scale in is calculated by multiplying ""number_of_steps"" contained in Scale VNF request and ""number_of_instances"" contained in VNFD. #. OpenstackDriver sends request to Heat to update the stack, and the ""desired_capacity"", contained in HOT of the target VM, is decremented. As a Heat specification, ""desired_capacity"" is referenced during UpdateStack, this process is performed so as to prevent returning to the previous number of VMs at the time of the next UpdateStack. #. VNFM sends to the Client a VNF lifecycle management operation occurrence notification with the ""COMPLETED"" state to indicate the completion occurence of the lifecycle management operation. When scaling multiple VMs, resource-signal and Update Stack are repeated as a set for each VM. Postcondition: VNF instance still in INSTANTIATED state and VNF has been scaled. Alternatives ------------ None Data model impact ----------------- Modify following tables in current Tacker database. The corresponding schemas are detailed below:- vnf_instantiated_info:: scale_status scale_status json vnf_lcm_op_occs:: operation_params operation_params json ""operation_parames"" stores additionalParams attribute of ScaleVNF Request. It is used for getting operation status from NFVO. REST API impact --------------- The following restFul API will be added. This restFul API will be based on ETSI NFV SOL002 [#NFV-SOL002]_ and SOL003 [#NFV-SOL003]_. * | **Name**: Scale VNF Instances | **Description**: Scale by add/remove VNF instance resources | **Method type**: POST | **URL for the resource**: /vnflcm/v1/vnf_instances/{vnfInstanceId}/scale | **Request**: Resource URI variables for this resource +---------------+------------------------------------------------------+ | Name | Description | +===============+======================================================+ | vnfInstanceId | The identifier of the VNF instance to be scaled. | +---------------+------------------------------------------------------+ | **Request**: +------------------+-------------+-----------------------------------------+ | Data type | Cardinality | Description | +==================+======+======+=========================================+ | ScaleVnfRequest | 1 | Parameters for the Scale VNF operation. | +------------------+-------------+-----------------------------------------+ +---------------------+-------------------+-------------+------------------+ | Attribute name | Data type | Cardinality | Supported in (V) | +=====================+===================+=============+==================+ | type | Enum(inlined) | 1 | Yes | +---------------------+-------------------+-------------+------------------+ | aspectId | IdentifierInVnfd | 1 | Yes | +---------------------+-------------------+-------------+------------------+ | numberOfSteps | Integer | 0..1 | Yes | +---------------------+-------------------+-------------+------------------+ | additionalParams | KeyValuePairs | 0..1 | Yes | +---------------------+-------------------+-------------+------------------+ | **Response**: .. list-table:: :widths: 10 10 16 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - | Success 202 | Error 404 409 - The request was accepted for processing, but the processing has not been completed. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Add new OSC commands in python-tackerclient to invoke scaling operations of VNF instances API. Performance Impact ------------------ None Other deployer impact --------------------- The previously created VNFs will not be allowed to be managed using the newly introduced APIs. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Keiko Kuriu <keiko.kuriu.wa@hco.ntt.co.jp> Work Items ---------- * Add new REST API endpoints to Tacker-server for scaling operations of VNF instances. * Make changes in python-tackerclient to add new OSC commands for calling scaling operations of VNF instances restFul APIs. * Add new unit and functional tests. * Change API Tacker documentation. Dependencies ============ None Testing ======== Unit and functional test cases will be added for VNF lifecycle management of VNF instances. Documentation Impact ==================== Complete user guide will be added to explain how to invoke VNF lifecycle management of VNF instances with examples. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#etsi_plugtest2] https://portal.etsi.org/Portals/0/TBpages/CTI/Docs/2nd_ETSI_NFV_Plugtests_Report_v1.0.0.pdf ",,348,0
openstack%2Ftripleo-ci~master~I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a,openstack/tripleo-ci,master,I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a,turn off NetworkManager in CentOS-8 TripleO,MERGED,2020-07-01 17:10:24.000000000,2020-07-02 01:07:28.000000000,2020-07-02 01:07:28.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-01 17:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b04ae7218b4048de51af3a09b8defa44897bc1b7', 'message': 'turn off NetworkManager in CentOS-8 TripleO\n\nNetworkManager is restarting unexpectedly during\ndeployments of TripleO. Ensure the service is\ndisabled prior to deployment\n\nPartial-Bug: #1885286\nChange-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a\n'}, {'number': 2, 'created': '2020-07-01 18:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/212eb0d026820f66de1b98bce18f736f8bc08adb', 'message': 'turn off NetworkManager in CentOS-8 TripleO\n\nNetworkManager is restarting unexpectedly during\ndeployments of TripleO. Ensure the service is\ndisabled prior to deployment\n\nPartial-Bug: #1885286\nChange-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a\n'}, {'number': 3, 'created': '2020-07-01 19:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/523dfde822266ef1e5a693f33c9aeff2aa3e4265', 'message': 'turn off NetworkManager in CentOS-8 TripleO\n\nNetworkManager is restarting unexpectedly during\ndeployments of TripleO. Ensure the service is\ndisabled prior to deployment\n\nPartial-Bug: #1885286\nChange-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a\n'}, {'number': 4, 'created': '2020-07-01 19:41:59.000000000', 'files': ['roles/disable_network_manager/tasks/main.yml', 'playbooks/tripleo-ci/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7dd82ca385ac3b1d380cf9358cb4cc120981986c', 'message': 'turn off NetworkManager in CentOS-8 TripleO\n\nNetworkManager is restarting unexpectedly during\ndeployments of TripleO. Ensure the service is\ndisabled prior to deployment\n\nPartial-Bug: #1885286\nChange-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a\n'}]",0,738899,7dd82ca385ac3b1d380cf9358cb4cc120981986c,14,5,4,9592,,,0,"turn off NetworkManager in CentOS-8 TripleO

NetworkManager is restarting unexpectedly during
deployments of TripleO. Ensure the service is
disabled prior to deployment

Partial-Bug: #1885286
Change-Id: I67501aaaf34c8fdfa09da37e0e0a3eb6982cff3a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/99/738899/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/disable_network_manager/tasks/main.yml', 'playbooks/tripleo-ci/pre.yaml']",2,b04ae7218b4048de51af3a09b8defa44897bc1b7,, - role: disable_network_manager,,27,0
openstack%2Fpython-cyborgclient~master~I3fde192962d816824f49200daaba8400538d061c,openstack/python-cyborgclient,master,I3fde192962d816824f49200daaba8400538d061c,Fix pygments style,ABANDONED,2020-05-20 02:13:13.000000000,2020-07-02 00:57:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 02:13:13.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/1d9c78315759c0a3936372dfdb6241692104bf4c', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I3fde192962d816824f49200daaba8400538d061c\n'}]",0,729481,1d9c78315759c0a3936372dfdb6241692104bf4c,3,1,1,31412,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I3fde192962d816824f49200daaba8400538d061c
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/81/729481/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,1d9c78315759c0a3936372dfdb6241692104bf4c,,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Fcinder~master~I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90,openstack/cinder,master,I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90,Fix pygments style,ABANDONED,2020-05-20 01:52:47.000000000,2020-07-02 00:54:36.000000000,,"[{'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-05-20 01:52:47.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a35a1a4860b5401d7baba85f8080aec40b7257d2', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90\n'}]",0,729472,a35a1a4860b5401d7baba85f8080aec40b7257d2,26,21,1,31412,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I5cf4e71d7fb12025e5009d72b7a61df7cbdebc90
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/729472/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,a35a1a4860b5401d7baba85f8080aec40b7257d2,hack-3.0.1,pygments_style = 'native',pygments_style = 'sphinx',3,3
openstack%2Fglance~master~I045d12749e952165f6379f5f664ae97c7fd918fd,openstack/glance,master,I045d12749e952165f6379f5f664ae97c7fd918fd,Fix pygments style,ABANDONED,2020-05-20 01:42:24.000000000,2020-07-02 00:54:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 01:42:24.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ed1f99215b0606a2e816c4c9db9b67b1e46bf5ec', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I045d12749e952165f6379f5f664ae97c7fd918fd\n'}]",0,729468,ed1f99215b0606a2e816c4c9db9b67b1e46bf5ec,3,1,1,31412,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I045d12749e952165f6379f5f664ae97c7fd918fd
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/729468/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,ed1f99215b0606a2e816c4c9db9b67b1e46bf5ec,,pygments_style = 'native',pygments_style = 'sphinx',3,3
openstack%2Ftripleo-ansible~master~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,master,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-01 13:08:56.000000000,2020-07-02 00:53:47.000000000,2020-07-02 00:53:47.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-01 13:08:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca165ec94018293dfbbbd37c44a2704b8144f203', 'message': 'Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles\n\nWe set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions\nissues. Bug 1885917 was introduced because it was set to a\nvariable which can make the path too long for a Unix domain\nsocket. We can fix it by hard coding it to something short\nwhich will not vary.\n\nChange-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4\nCloses-Bug: #1885917\n'}]",1,738843,ca165ec94018293dfbbbd37c44a2704b8144f203,17,8,1,18002,,,0,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/738843/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml']",3,ca165ec94018293dfbbbd37c44a2704b8144f203,bug/1885917," - ANSIBLE_SSH_CONTROL_PATH_DIR=""/tmp/ceph_ansible_control_path"""," - ANSIBLE_SSH_CONTROL_PATH_DIR=""{{ playbook_dir }}/ceph-ansible/""",3,2
openstack%2Fcyborg-specs~master~I543ad21c809c6fef9344964c403a658ae03ae093,openstack/cyborg-specs,master,I543ad21c809c6fef9344964c403a658ae03ae093,Fix typos in docs,ABANDONED,2019-12-25 09:38:59.000000000,2020-07-02 00:51:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-12-25 09:38:59.000000000', 'files': ['specs/stein/approved/cyborg-database-model-proposal.rst', 'specs/rocky/approved/cyborg-fpga-programming-proposal.rst', 'specs/train/approved/cyborg-nova-placement.rst', 'specs/rocky/approved/resource-quotas.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/c4e51c321ac24104ca828c973279c9fa0bb593ee', 'message': 'Fix typos in docs\n\nChange-Id: I543ad21c809c6fef9344964c403a658ae03ae093\n'}]",0,700559,c4e51c321ac24104ca828c973279c9fa0bb593ee,9,3,1,23317,,,0,"Fix typos in docs

Change-Id: I543ad21c809c6fef9344964c403a658ae03ae093
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/59/700559/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/approved/cyborg-database-model-proposal.rst', 'specs/rocky/approved/cyborg-fpga-programming-proposal.rst', 'specs/train/approved/cyborg-nova-placement.rst', 'specs/rocky/approved/resource-quotas.rst']",4,c4e51c321ac24104ca828c973279c9fa0bb593ee,fix," guarantee ""fairness"".field will be set to 2 until the fpga attachment is successful. Once"," gurantee ""fairness"".field will be set to 2 untill the fpga attachment is successful. Once",5,5
openstack%2Frequirements~master~I40cb6d292b0726d6827022b11a6bb773e332f8b0,openstack/requirements,master,I40cb6d292b0726d6827022b11a6bb773e332f8b0,Bump upper constraint for oslo.log to 4.3.0,MERGED,2020-07-01 19:07:46.000000000,2020-07-02 00:47:36.000000000,2020-07-02 00:46:20.000000000,"[{'_account_id': 9954}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 19:07:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8987d385d781bf01d7caec61fa4cbd0407582e40', 'message': 'Bump upper constraint for oslo.log to 4.3.0\n\nChange-Id: I40cb6d292b0726d6827022b11a6bb773e332f8b0\n'}]",0,738915,8987d385d781bf01d7caec61fa4cbd0407582e40,9,4,1,5046,,,0,"Bump upper constraint for oslo.log to 4.3.0

Change-Id: I40cb6d292b0726d6827022b11a6bb773e332f8b0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/738915/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8987d385d781bf01d7caec61fa4cbd0407582e40,,oslo.log===4.3.0,oslo.log===4.2.1,1,1
openstack%2Fironic~master~I25e6457b8cb93ea4c64c28437869c339fdddf8b2,openstack/ironic,master,I25e6457b8cb93ea4c64c28437869c339fdddf8b2,Use IRONIC_VM_SPECS_RAM from ironic-base in ipv6 job,MERGED,2020-06-30 15:49:09.000000000,2020-07-02 00:37:23.000000000,2020-07-02 00:28:33.000000000,"[{'_account_id': 1926}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-30 15:49:09.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d72c42b1f7ff48ab3f35a2e879854e657c45d7b2', 'message': 'Use IRONIC_VM_SPECS_RAM from ironic-base in ipv6 job\n\n2G is no longer enough and we have no need to set it\ndifferently to the global value.\n\nChange-Id: I25e6457b8cb93ea4c64c28437869c339fdddf8b2\n'}]",0,738653,d72c42b1f7ff48ab3f35a2e879854e657c45d7b2,26,7,1,1926,,,0,"Use IRONIC_VM_SPECS_RAM from ironic-base in ipv6 job

2G is no longer enough and we have no need to set it
differently to the global value.

Change-Id: I25e6457b8cb93ea4c64c28437869c339fdddf8b2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/738653/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,d72c42b1f7ff48ab3f35a2e879854e657c45d7b2,,, IRONIC_VM_SPECS_RAM: 2048,0,1
openstack%2Fkayobe~master~I3c921f5a558ae57ecc22fc6fc1959fb621c57709,openstack/kayobe,master,I3c921f5a558ae57ecc22fc6fc1959fb621c57709,Remove the neutron-fwaas since it retired,MERGED,2020-06-17 05:35:50.000000000,2020-07-01 23:21:51.000000000,2020-07-01 23:20:34.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2020-06-17 05:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ee308963734eaa041fd7019f9ba4049e14394a74', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709\n'}, {'number': 2, 'created': '2020-06-20 15:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53cc5a47e1f1acff140ad7429e743bcec17fe567', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709\n'}, {'number': 3, 'created': '2020-06-20 15:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0425b68a48342b084999f58b3a56d4e6453294cc', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709\n'}, {'number': 4, 'created': '2020-06-23 15:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/299ddd0353aa0e7406bf3041d41f727a8b02e991', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709\n'}, {'number': 5, 'created': '2020-06-30 01:39:03.000000000', 'files': ['releasenotes/notes/remove-neutron-fwaas-0g6a327ae69e2117.yaml', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7fdacf475923b8a2906dd3e26f5aaede7cb88383', 'message': 'Remove the neutron-fwaas since it retired\n\nDepends-On: I561504160e5548c54d1af31821c3366ab34cf0ec\nChange-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709\n'}]",1,736101,7fdacf475923b8a2906dd3e26f5aaede7cb88383,25,5,5,30356,,,0,"Remove the neutron-fwaas since it retired

Depends-On: I561504160e5548c54d1af31821c3366ab34cf0ec
Change-Id: I3c921f5a558ae57ecc22fc6fc1959fb621c57709
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/736101/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml']",3,ee308963734eaa041fd7019f9ba4049e14394a74,,, - horizon_fwaas - neutron_fwaas,0,6
openstack%2Fopenstack-helm-infra~master~I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06,openstack/openstack-helm-infra,master,I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06,Fix drop databases issue in Postgresql restore,MERGED,2020-06-29 18:44:09.000000000,2020-07-01 23:08:14.000000000,2020-07-01 23:06:25.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30746}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-06-29 18:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eed9ee54e7b0963a4e66900261489b7f4a7b9920', 'message': 'Fix drop databases issue in Postgresql restore\n\nRecently, the Postgresql backups were modified to generate drop database\ncommands (--clean pgdumpall option). Also for single database restore,\na DROP DATABASE command was added before the restore so that the\ndatabase could be restored without duplicate rows. However, if there are\nexisting database connections (by the applications or other users), then\nthe drop database commands will fail. So for the duration of the restore\ndatabase operation, the databases being restored need to have their\nexisting connections dropped and new connections prevented until the\ndatabase(s) restored, then connections should be re-allowed.\n\nAlso found a problem with psql returning 0 (success code) even though\nthere were errors during its execution. The solution is to check the\noutput for errors and if there are any, dump out the log file for the\nuser to see and let the user know there are errors.\n\nChange-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06\n'}, {'number': 2, 'created': '2020-06-29 18:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab7f6c6713df72970ed501a87cdf6685ca0ef0c9', 'message': 'Fix drop databases issue in Postgresql restore\n\nRecently, the Postgresql backups were modified to generate drop database\ncommands (--clean pgdumpall option). Also for single database restore,\na DROP DATABASE command was added before the restore so that the\ndatabase could be restored without duplicate rows. However, if there are\nexisting database connections (by the applications or other users), then\nthe drop database commands will fail. So for the duration of the restore\ndatabase operation, the databases being restored need to have their\nexisting connections dropped and new connections prevented until the\ndatabase(s) restored, then connections should be re-allowed.\n\nAlso found a problem with psql returning 0 (success code) even though\nthere were errors during its execution. The solution is to check the\noutput for errors and if there are any, dump out the log file for the\nuser to see and let the user know there are errors.\n\nLastly, a problem was found with the single database restortion, where\nthe database dump for a single database was being incorrectly extracted\nfrom the psql dump file, resulting in the database not being restored\ncorrectly (most of the db being wiped out!). This patchset fixes that\nissue as well.\n\nChange-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06\n'}, {'number': 3, 'created': '2020-06-30 19:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6adbec277ece7d9a9378a896d0413065cc0375a', 'message': 'Fix drop databases issue in Postgresql restore\n\nRecently, the Postgresql backups were modified to generate drop database\ncommands (--clean pgdumpall option). Also for single database restore,\na DROP DATABASE command was added before the restore so that the\ndatabase could be restored without duplicate rows. However, if there are\nexisting database connections (by the applications or other users), then\nthe drop database commands will fail. So for the duration of the restore\ndatabase operation, the databases being restored need to have their\nexisting connections dropped and new connections prevented until the\ndatabase(s) restored, then connections should be re-allowed.\n\nAlso found a problem with psql returning 0 (success code) even though\nthere were errors during its execution. The solution is to check the\noutput for errors and if there are any, dump out the log file for the\nuser to see and let the user know there are errors.\n\nLastly, a problem was found with the single database restortion, where\nthe database dump for a single database was being incorrectly extracted\nfrom the psql dump file, resulting in the database not being restored\ncorrectly (most of the db being wiped out!). This patchset fixes that\nissue as well.\n\nChange-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06\n'}, {'number': 4, 'created': '2020-06-30 19:39:09.000000000', 'files': ['postgresql/templates/bin/_restore_postgresql.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4964ea2a762bba5fcbae5941fbbfc13e62cdb95f', 'message': 'Fix drop databases issue in Postgresql restore\n\nRecently, the Postgresql backups were modified to generate drop database\ncommands (--clean pgdumpall option). Also for single database restore,\na DROP DATABASE command was added before the restore so that the\ndatabase could be restored without duplicate rows. However, if there are\nexisting database connections (by the applications or other users), then\nthe drop database commands will fail. So for the duration of the restore\ndatabase operation, the databases being restored need to have their\nexisting connections dropped and new connections prevented until the\ndatabase(s) restored, then connections should be re-allowed.\n\nAlso found a problem with psql returning 0 (success code) even though\nthere were errors during its execution. The solution is to check the\noutput for errors and if there are any, dump out the log file for the\nuser to see and let the user know there are errors.\n\nLastly, a problem was found with the single database restortion, where\nthe database dump for a single database was being incorrectly extracted\nfrom the psql dump file, resulting in the database not being restored\ncorrectly (most of the db being wiped out). This patchset fixes that\nissue as well.\n\nChange-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06\n'}]",0,738489,4964ea2a762bba5fcbae5941fbbfc13e62cdb95f,17,8,4,22636,,,0,"Fix drop databases issue in Postgresql restore

Recently, the Postgresql backups were modified to generate drop database
commands (--clean pgdumpall option). Also for single database restore,
a DROP DATABASE command was added before the restore so that the
database could be restored without duplicate rows. However, if there are
existing database connections (by the applications or other users), then
the drop database commands will fail. So for the duration of the restore
database operation, the databases being restored need to have their
existing connections dropped and new connections prevented until the
database(s) restored, then connections should be re-allowed.

Also found a problem with psql returning 0 (success code) even though
there were errors during its execution. The solution is to check the
output for errors and if there are any, dump out the log file for the
user to see and let the user know there are errors.

Lastly, a problem was found with the single database restortion, where
the database dump for a single database was being incorrectly extracted
from the psql dump file, resulting in the database not being restored
correctly (most of the db being wiped out). This patchset fixes that
issue as well.

Change-Id: I4db3f6ac7e9fe7cce6a432dfba056e17ad1e3f06
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/738489/2 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/templates/bin/_restore_postgresql.sh.tpl'],1,eed9ee54e7b0963a4e66900261489b7f4a7b9920,," ARCHIVE=$1 DATABASE=$2 DIR=$3 sed -n '/\\connect'"" ${DATABASE}/,/PostgreSQL database dump complete/p"" ${ARCHIVE} > ${DIR}/${DATABASE}.sql } # Re-enable connections to a database reenable_connections() { SINGLE_DB_NAME=$1 # First make sure this is not the main postgres database or either of the # two template databases that should not be touched. if [[ ${SINGLE_DB_NAME} == ""postgres"" || ${SINGLE_DB_NAME} == ""template0"" || ${SINGLE_DB_NAME} == ""template1"" ]]; then echo ""Cannot re-enable connections on an postgres internal db ${SINGLE_DB_NAME}"" return 1 fi # Re-enable connections to the DB $PSQL -tc ""UPDATE pg_database SET datallowconn = 'true' WHERE datname = '${SINGLE_DB_NAME}';"" > /dev/null 2>&1 if [[ ""$?"" -ne 0 ]]; then echo ""Could not re-enable connections for database ${SINGLE_DB_NAME}"" return 1 fi return 0 } # Drop connections from a database drop_connections() { SINGLE_DB_NAME=$1 # First make sure this is not the main postgres database or either of the # two template databases that should not be touched. if [[ ${SINGLE_DB_NAME} == ""postgres"" || ${SINGLE_DB_NAME} == ""template0"" || ${SINGLE_DB_NAME} == ""template1"" ]]; then echo ""Cannot drop connections on an postgres internal db ${SINGLE_DB_NAME}"" return 1 fi # First, prevent any new connections from happening on this database. $PSQL -tc ""UPDATE pg_database SET datallowconn = 'false' WHERE datname = '${SINGLE_DB_NAME}';"" > /dev/null 2>&1 if [[ ""$?"" -ne 0 ]]; then echo ""Could not prevent new connections before restoring database ${SINGLE_DB_NAME}."" return 1 fi # Next, force disconnection of all clients currently connected to this database. $PSQL -tc ""SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = '${SINGLE_DB_NAME}';"" > /dev/null 2>&1 if [[ ""$?"" -ne 0 ]]; then echo ""Could not drop existing connections before restoring database ${SINGLE_DB_NAME}."" reenable_connections ${SINGLE_DB_NAME} return 1 fi return 0 } # Re-enable connections for all of the databases within Postgresql reenable_connections_on_all_dbs() { # Get a list of the databases DB_LIST=$($PSQL -tc ""\l"" | grep ""| postgres |"" | awk '{print $1}') RET=0 # Re-enable the connections for each of the databases. for DB in $DB_LIST; do if [[ ${DB} != ""postgres"" && ${DB} != ""template0"" && ${DB} != ""template1"" ]]; then reenable_connections $DB if [[ ""$?"" -ne 0 ]]; then RET=1 fi fi done return $RET } # Drop connections in all of the databases within Postgresql drop_connections_on_all_dbs() { # Get a list of the databases DB_LIST=$($PSQL -tc ""\l"" | grep ""| postgres |"" | awk '{print $1}') RET=0 # Drop the connections for each of the databases. for DB in $DB_LIST; do # Make sure this is not the main postgres database or either of the # two template databases that should not be touched. if [[ ${DB} != ""postgres"" && ${DB} != ""template0"" && ${DB} != ""template1"" ]]; then drop_connections $DB if [[ ""$?"" -ne 0 ]]; then RET=1 fi fi done # If there was a failure to drop any connections, go ahead and re-enable # them all to prevent a lock-out condition if [[ $RET -ne 0 ]]; then reenable_connections_on_all_dbs fi return $RET # Reset the logfile incase there was some older log there rm -rf ${LOG_FILE} touch ${LOG_FILE} # First make sure this is not the main postgres database or either of the # two template databases that should not be touched. if [[ ${SINGLE_DB_NAME} == ""postgres"" || ${SINGLE_DB_NAME} == ""template0"" || ${SINGLE_DB_NAME} == ""template1"" ]]; then echo ""Cannot restore an postgres internal db ${SINGLE_DB_NAME}"" return 1 fi # Drop connections first drop_connections ${SINGLE_DB_NAME} if [[ ""$?"" -ne 0 ]]; then return 1 fi # Next, drop the database if [[ ""$?"" -ne 0 ]]; then echo ""Could not drop the old ${SINGLE_DB_NAME} database before restoring it."" reenable_connections ${SINGLE_DB_NAME} return 1 fi reenable_connections ${SINGLE_DB_NAME} if grep ""ERROR:"" ${LOG_FILE} > /dev/null 2>&1; then cat $LOG_FILE echo ""Errors occurred during the restore of database ${SINGLE_DB_NAME}"" reenable_connections ${SINGLE_DB_NAME} return 1 else echo ""Database restore Successful."" fi reenable_connections ${SINGLE_DB_NAME} return 1 fi # Re-enable connections to the DB reenable_connections ${SINGLE_DB_NAME} if [[ ""$?"" -ne 0 ]]; then # Reset the logfile incase there was some older log there rm -rf ${LOG_FILE} touch ${LOG_FILE} # First drop all connections on all databases drop_connections_on_all_dbs if [[ ""$?"" -ne 0 ]]; then return 1 fi if grep ""ERROR:"" ${LOG_FILE} > /dev/null 2>&1; then cat ${LOG_FILE} echo ""Errors occurred during the restore of the databases."" reenable_connections_on_all_dbs return 1 else echo ""Database Restore Successful."" fi cat ${LOG_FILE} reenable_connections_on_all_dbs return 1 fi # Re-enable connections on all databases reenable_connections_on_all_dbs if [[ ""$?"" -ne 0 ]]; then"," sed ""/connect.*$2/,\$!d"" $1 | sed ""/PostgreSQL database dump complete/,\$d"" > ${3}/$2.sql # First drop the database echo ""Database restore Successful."" echo ""Database Restore successful."" cat $LOG_FILE",171,5
openstack%2Fironic~master~I0ffec5fbbe6b6120fc6526637e22341f97bd2737,openstack/ironic,master,I0ffec5fbbe6b6120fc6526637e22341f97bd2737,devstack: get rid of python3_enabled,MERGED,2020-06-30 15:43:29.000000000,2020-07-01 22:57:50.000000000,2020-07-01 22:49:31.000000000,"[{'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-30 15:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c020c86ea070e47f92e88889f6a509bd90d90d1', 'message': ""devstack: get rid of python3_enabled\n\nThis function is currently broken and we don't support Python 2 anyway.\n\nChange-Id: I0ffec5fbbe6b6120fc6526637e22341f97bd2737\n""}, {'number': 2, 'created': '2020-06-30 16:10:19.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0d772d720600e12e38eb58a3d3642aab26213be', 'message': ""devstack: get rid of python3_enabled\n\nThis function is currently broken and we don't support Python 2 anyway.\n\nChange-Id: I0ffec5fbbe6b6120fc6526637e22341f97bd2737\n""}]",1,738652,d0d772d720600e12e38eb58a3d3642aab26213be,42,6,2,10239,,,0,"devstack: get rid of python3_enabled

This function is currently broken and we don't support Python 2 anyway.

Change-Id: I0ffec5fbbe6b6120fc6526637e22341f97bd2737
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/738652/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,5c020c86ea070e47f92e88889f6a509bd90d90d1,gate, install_package gunicorn3 elif is_fedora; then install_package python3-gunicorn, gunicorn=gunicorn if python3_enabled; then gunicorn=${gunicorn}3 fi install_package $gunicorn,3,5
openstack%2Fswift~master~If0fc8ec4d8056afb741bf74b82598a26683dfcd7,openstack/swift,master,If0fc8ec4d8056afb741bf74b82598a26683dfcd7,s3api: Don't do naive HEAD request for auth,MERGED,2020-06-15 21:19:55.000000000,2020-07-01 22:51:27.000000000,2020-07-01 22:49:20.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 21:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f83b9c9d365d9ce6f7a6ce98a66d217c49464f7', 'message': ""s3api: Don't do naive HEAD request for auth\n\nChange-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7\n""}, {'number': 2, 'created': '2020-06-25 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8698dcf0bf1e18fe4057b2f6f35ea4fd0973253b', 'message': ""s3api: Don't do naive HEAD request for auth\n\nChange-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7\n""}, {'number': 3, 'created': '2020-06-25 23:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6bd9dc2e8f2f88ab6279dfd11590f55a986acba', 'message': ""s3api: Don't do naive HEAD request for auth\n\nChange-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7\n""}, {'number': 4, 'created': '2020-06-26 16:06:34.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/__init__.py', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2e001431fd0907c97d44b81dd1f3d2d14ae1208b', 'message': ""s3api: Don't do naive HEAD request for auth\n\nChange-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7\n""}]",18,735738,2e001431fd0907c97d44b81dd1f3d2d14ae1208b,23,3,4,1179,,,0,"s3api: Don't do naive HEAD request for auth

Change-Id: If0fc8ec4d8056afb741bf74b82598a26683dfcd7
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/735738/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3request.py'],1,9f83b9c9d365d9ce6f7a6ce98a66d217c49464f7,s3-mpu-part-no-head,"from swift.proxy.controllers.base import get_container_info if not self.is_authenticated: sw_req = self.to_swift_req('TEST', None, None, body='') # don't show log message of this request sw_req.environ['swift.proxy_access_log_made'] = True sw_resp = sw_req.get_response(app) if not sw_req.remote_user: raise SignatureDoesNotMatch( **self.signature_does_not_match_kwargs()) _, self.account, _ = split_path(sw_resp.environ['PATH_INFO'], 2, 3, True) sw_req = self.to_swift_req(app, self.container_name, None) info = get_container_info(sw_req.environ, app, swift_source='S3') if is_success(info['status']): return info elif info['status'] == 404: raise NoSuchBucket(self.container_name) else: raise InternalError( 'unexpected status code %d' % info['status'])","from swift.proxy.controllers.base import get_container_info, \ headers_to_container_info if self.is_authenticated: # if we have already authenticated, yes we can use the account # name like as AUTH_xxx for performance efficiency sw_req = self.to_swift_req(app, self.container_name, None) info = get_container_info(sw_req.environ, app, swift_source='S3') if is_success(info['status']): return info elif info['status'] == 404: raise NoSuchBucket(self.container_name) else: raise InternalError( 'unexpected status code %d' % info['status']) else: # otherwise we do naive HEAD request with the authentication resp = self.get_response(app, 'HEAD', self.container_name, '') headers = resp.sw_headers.copy() headers.update(resp.sysmeta_headers) return headers_to_container_info( headers, resp.status_int) # pylint: disable-msg=E1101",22,20
openstack%2Fgovernance~master~Ib583f238134e90828d3be06c047938d7855889ec,openstack/governance,master,Ib583f238134e90828d3be06c047938d7855889ec,Add links to chosen release names,MERGED,2020-07-01 15:27:40.000000000,2020-07-01 22:46:08.000000000,2020-07-01 22:43:57.000000000,"[{'_account_id': 1004}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 15:27:40.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/accd556a046535d4504cd405af467cbc130988e8', 'message': 'Add links to chosen release names\n\nWe list the release name polling information details in a table, but no\nwhere do we actually provide either the results or links to the results\nfor someone looking at the release naming process.\n\nThis updates the table to link the release letters to the mailing list\nannouncements declaring the winner of the poll.\n\nChange-Id: Ib583f238134e90828d3be06c047938d7855889ec\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,738867,accd556a046535d4504cd405af467cbc130988e8,12,4,1,11904,,,0,"Add links to chosen release names

We list the release name polling information details in a table, but no
where do we actually provide either the results or links to the results
for someone looking at the release naming process.

This updates the table to link the release letters to the mailing list
announcements declaring the winner of the poll.

Change-Id: Ib583f238134e90828d3be06c047938d7855889ec
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/67/738867/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,accd556a046535d4504cd405af467cbc130988e8,documentation-change,M_ Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo N_ Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Texas Hill Country O_ Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Catalonia P_ Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New England Q_ Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New South Wales R_ Monty Taylor 2017-03-22 2017-04-05 2017-04-12 British Columbia S_ Paul Belanger 2018-02-21 2018-03-14 2018-03-21 Berlin T_ Tony Breeds 2018-09-15 2018-10-15 2018-10-22 Colorado U_ Rico Lin 2019-07-01 2019-08-12 2019-08-19 China V_ Sean McGinnis 2019-11-11 2019-12-09 2019-12-16 British Columbia W_ Sean McGinnis 2020-01-20 2020-02-17 2020-02-23 N/A [*]_ .. _M: http://lists.openstack.org/pipermail/openstack-dev/2015-July/069496.html .. _N: http://lists.openstack.org/pipermail/openstack-dev/2016-January/084432.html .. _O: http://lists.openstack.org/pipermail/openstack-dev/2016-January/084432.html .. _P: http://lists.openstack.org/pipermail/openstack-dev/2016-August/101891.html .. _Q: http://lists.openstack.org/pipermail/openstack-dev/2016-August/101891.html .. _R: http://lists.openstack.org/pipermail/openstack-dev/2017-April/116100.html .. _S: http://lists.openstack.org/pipermail/openstack-dev/2018-March/128899.html .. _T: http://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html .. _U: http://lists.openstack.org/pipermail/openstack-discuss/2019-August/008904.html .. _V: http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011947.html .. _W: http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013006.html ,M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo N Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Texas Hill Country O Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Catalonia P Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New England Q Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New South Wales R Monty Taylor 2017-03-22 2017-04-05 2017-04-12 British Columbia S Paul Belanger 2018-02-21 2018-03-14 2018-03-21 Berlin T Tony Breeds 2018-09-15 2018-10-15 2018-10-22 Colorado U Rico Lin 2019-07-01 2019-08-12 2019-08-19 China V Sean McGinnis 2019-11-11 2019-12-09 2019-12-16 British Columbia W Sean McGinnis 2020-01-20 2020-02-17 2020-02-23 N/A [*]_,24,11
openstack%2Fironic-specs~master~I669496db033c8d33b88f36da37c70684ef52459f,openstack/ironic-specs,master,I669496db033c8d33b88f36da37c70684ef52459f,Periodic task execution mode,ABANDONED,2018-06-27 16:46:44.000000000,2020-07-01 22:37:31.000000000,,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-06-27 16:46:44.000000000', 'files': ['specs/backlog/periodic-task-mode.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7616b8b494a86fd8b727b4ff422c2d7d052c8b47', 'message': 'Periodic task execution mode\n\nChange-Id: I669496db033c8d33b88f36da37c70684ef52459f\n'}]",40,578480,7616b8b494a86fd8b727b4ff422c2d7d052c8b47,17,7,1,11655,,,0,"Periodic task execution mode

Change-Id: I669496db033c8d33b88f36da37c70684ef52459f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/80/578480/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/periodic-task-mode.rst'],1,7616b8b494a86fd8b727b4ff422c2d7d052c8b47,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= Title of the Spec ================= https://storyboard.openstack.org/#!/story/XXXXXXX Larger operators have issues of scale that are rooted in some of he design aspects around ironic. For example, periodic tasks can consume workers which may block additional workers from being able to take-on user requests, which then result in delayed interactions, and failed deployments. Another issue that larger operators have is with specific periodic tasks that check things like power state of the baremetal node, and update it accordingly into the database. The actual time to execute those periodic power check tasks, commonly with ipmitool, results in consumed workers that are also unable to take on additional work. Ultimately this results in a poor user experience. Problem description =================== Presently, in deployments of any scale where each conductor is managing upwards of two hundred to three hundred baremetal nodes at any given time, the amount of time executing the periodic tasks begins to cripple the performance of the deployment. Tyically this begins to result in one of two actions being taken:: * Operators explicitly disabling periodic tasks, up to and replacing some of the funcitons completed by periodic tasks. * Operators are scaling the number of conductors upwards, in order to keep some of the periodic tasks in a state where they can execute. With the consumption of the workers, on tasks that may be in a wait state such as waiting for ``ipmitool`` to return data, the CPU resources of the conductor are not being used to the most possible efficency. This worsens the perceptions when dealing with the scale because the sevics appear to have free resouces, but are unable to execute any faster. Proposed change =============== The introduction of a global master switch for periodic tasks that can be passed via a configuration file or as a command line parameter. This switch would prevent the conductor process from taking requests from message bus, but would soley execute periodic tasks and update the database accordingly. The new process would still issue a lock, although prepended with ``worker-${pid}-``. Alternatives ------------ We could consider breaking each periodic task into a microservice, or further abstracting each task outwards so we don't bottleneck on the conductor, however each periodic task execution process would need to be asyncronous or able to report back via some sort of interface. At which point we may be creating a decomposition of ironic that is too unwiedly and difficult to deploy as then we would require many more services with one release. Also, if we were to take that path, we would need to navigate upgrades and the possibility that the new processes are not there yet or are down, and then maintain some compatability. An alternative variation of this idea would include an additional column or logic to allow additional conductor processes to realize that they are just workers and that a primary process is already running on the host. This seems less operator friendly without changing the process name dynamically to easily signal the operating mode of any given process. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- Use of the global switch will govern if the worker process registers its self in the conductors/drivers table in the database. Not doing so keeps the process out of the hash ring and from receieving end user requests for new work. The hash ring would still be calculated the same way, and each periodic would need to be updated to ensure that it only triggers every `x` seconds from what the database currently shows as the last update time. Upon completion, the last updated field in the database would be again updated. This behavior should prevent two conductor workers from stepping on each other work wise. Driver API impact ----------------- Driver periodic tasks will need to be updated to ensure that they execute with no expectation of triggering a new RPC event or that they triger new RPC requests with the user oriented conductors. Examples of these may be periodic RAID setup tasks which block cleaning from continuing until the RAID controller has completed setup. .. todo:: Should the periodic tasks also introduce a randomization in their timing interval in this mode? Give or take 30 seconds? Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- None Other end user impact --------------------- None Scalability impact ------------------ By offering the ability to offload all periodic tasks to 1 or more ""background worker"" conductor processes will allow for greater concurency of worker threads and a more efficent use of local CPU resources. This will enable larger deployers to operate the existing code base without adding external scripts to perform part of the processes that are currently being completed, and allows for a more featureful set by providing an option aside from disabling all periodic tasks. Both of these changes should allow the primary conductor process to better scale to a larger number of nodes, and provide faster interactive responses to users of the API. Performance Impact ------------------ Introduction of this capability should greatly increase interactive performance of ironic by enabling the spread of the overall worker thread across multiple processes. Please see the above section for additional details. Other deployer impact --------------------- If chosen to be used, operators would need to modify configuration management and startup scripts, however the behavior would be opt-in in nature, allowing the primary code base and patterns to continue forth with minimal impact. Developer impact ---------------- Reviewers would need to be more careful with periodic task code being added or changed, specifically to ensure that the correct patterns are being adhered to. Implementation ============== Assignee(s) ----------- Primary assignee: TBD Other contributors: TBD Work Items ---------- * Add command line configuration flag. * Update logic that interacts with the drivers table in the database to prevent the node from registering * Check/evaluate/fix each existing periodic task. Dependencies ============ None Testing ======= TBD Upgrades and Backwards Compatibility ==================================== As this would be an opt-in only feature, no incompatability is expected. Documentation Impact ==================== None References ========== None ",,242,0
openstack%2Foctavia-tempest-plugin~master~Ic103d8bededfec77ec0034d7c167ac1e49954a5c,openstack/octavia-tempest-plugin,master,Ic103d8bededfec77ec0034d7c167ac1e49954a5c,Apply Octavia hacking checks to the tempest plugin,MERGED,2020-06-30 17:30:31.000000000,2020-07-01 22:34:59.000000000,2020-07-01 22:33:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 17:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/baec8cc9a27278e68a1f78b5f3c527fa69080e3c', 'message': 'Apply Octavia hacking checks to the tempest plugin\n\nCurrently we are not applying the custom hacking checks we use in\nOctavia to the octavia-tempest-plugin. This leads to style issues\nsneaking into the plugin.\nThis patch copies the same checks from Octavia (for simpler\nmanagement) into octavia-tempest-plugin and resolves some of the\nexisting style violations.\n\nChange-Id: Ic103d8bededfec77ec0034d7c167ac1e49954a5c\n'}, {'number': 2, 'created': '2020-06-30 17:53:00.000000000', 'files': ['octavia_tempest_plugin/hacking/__init__.py', 'octavia_tempest_plugin/hacking/checks.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'tox.ini', 'octavia_tempest_plugin/services/load_balancer/v2/__init__.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a5074259fb686f92057ae6313fa620471840de0e', 'message': 'Apply Octavia hacking checks to the tempest plugin\n\nCurrently we are not applying the custom hacking checks we use in\nOctavia to the octavia-tempest-plugin. This leads to style issues\nsneaking into the plugin.\nThis patch copies the same checks from Octavia (for simpler\nmanagement) into octavia-tempest-plugin and resolves some of the\nexisting style violations.\n\nChange-Id: Ic103d8bededfec77ec0034d7c167ac1e49954a5c\n'}]",0,738678,a5074259fb686f92057ae6313fa620471840de0e,10,4,2,11628,,,0,"Apply Octavia hacking checks to the tempest plugin

Currently we are not applying the custom hacking checks we use in
Octavia to the octavia-tempest-plugin. This leads to style issues
sneaking into the plugin.
This patch copies the same checks from Octavia (for simpler
management) into octavia-tempest-plugin and resolves some of the
existing style violations.

Change-Id: Ic103d8bededfec77ec0034d7c167ac1e49954a5c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/78/738678/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/hacking/__init__.py', 'octavia_tempest_plugin/hacking/checks.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'tox.ini', 'octavia_tempest_plugin/services/load_balancer/v2/__init__.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py']",6,baec8cc9a27278e68a1f78b5f3c527fa69080e3c,, self.assertFalse(l7rule_check[const.ADMIN_STATE_UP]) self.assertFalse(l7rule_check[const.ADMIN_STATE_UP])," self.assertEqual(False, l7rule_check[const.ADMIN_STATE_UP]) self.assertEqual(False, l7rule_check[const.ADMIN_STATE_UP])",300,6
openstack%2Fnova~master~I40b8caf06ed525e97e871cf381776164208461fb,openstack/nova,master,I40b8caf06ed525e97e871cf381776164208461fb,Limit the number of concurrent snapshots,MERGED,2020-06-17 12:02:35.000000000,2020-07-01 21:59:16.000000000,2020-07-01 21:56:23.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-17 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21faa82b7b96d245a36ca12de8420a6f52014c87', 'message': 'Limit the number of concurrent snapshots\n\nThis change introduces new [DEFAULT]/max_concurrent_snapshots parameter\nin order to limit by default compute resource overuse related\nto snapshot.\n\nImplements: blueprint max-concurrent-snapshots\n\nChange-Id: I40b8caf06ed525e97e871cf381776164208461fb\n'}, {'number': 2, 'created': '2020-06-17 13:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26e1b9f9bc6e164cf6e0e16ed3fefb8c068ee850', 'message': 'Limit the number of concurrent snapshots\n\nThis change introduces new [DEFAULT]/max_concurrent_snapshots parameter\nin order to limit by default compute resource overuse related\nto snapshot.\n\nImplements: blueprint max-concurrent-snapshots\n\nChange-Id: I40b8caf06ed525e97e871cf381776164208461fb\n'}, {'number': 3, 'created': '2020-06-26 09:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41a71158f8ed559161e2ae490b1eb788554ce02d', 'message': 'Limit the number of concurrent snapshots\n\nThis change introduces new [DEFAULT]/max_concurrent_snapshots parameter\nin order to limit by default compute resource overuse related\nto snapshot.\n\nImplements: blueprint max-concurrent-snapshots\n\nChange-Id: I40b8caf06ed525e97e871cf381776164208461fb\n'}, {'number': 4, 'created': '2020-06-30 06:04:17.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'releasenotes/notes/max-concurrent-snapshots-21a0a437dbe1044a.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb0c4fdabb98f168c530617b7c7a8f9396075fc', 'message': 'Limit the number of concurrent snapshots\n\nThis change introduces new [DEFAULT]/max_concurrent_snapshots parameter\nin order to limit by default compute resource overuse related\nto snapshot.\n\nImplements: blueprint max-concurrent-snapshots\n\nChange-Id: I40b8caf06ed525e97e871cf381776164208461fb\n'}]",21,736169,6bb0c4fdabb98f168c530617b7c7a8f9396075fc,72,15,4,28332,,,0,"Limit the number of concurrent snapshots

This change introduces new [DEFAULT]/max_concurrent_snapshots parameter
in order to limit by default compute resource overuse related
to snapshot.

Implements: blueprint max-concurrent-snapshots

Change-Id: I40b8caf06ed525e97e871cf381776164208461fb
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/736169/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'releasenotes/notes/max-concurrent-snapshots-21a0a437dbe1044a.yaml']",4,21faa82b7b96d245a36ca12de8420a6f52014c87,bp/max-concurrent-snapshots,"--- features: - | A new configuration option, ``[DEFAULT]/max_concurrent_snapshots``, has been added. This allow operator to configure maximum concurrent snapshots on a compute host and prevent resource overuse related to snapshot. upgrade: - | Previously, because ``[DEFAULT]/max_concurrent_snapshots`` was not existing, number of concurrent snapshot was unlimited, now it is limited by default. ",,68,2
openstack%2Fopenstack-helm-infra~master~I2a48bc6472017802267980fe474d81886113fcda,openstack/openstack-helm-infra,master,I2a48bc6472017802267980fe474d81886113fcda,Add generate openAPIV3Schema schema for DaemonJob CRD.,MERGED,2020-06-29 19:18:17.000000000,2020-07-01 21:58:22.000000000,2020-07-01 21:56:30.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 19:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff2ace7c377e298dd2fc7f5e53cd553106befcb9', 'message': 'Add generate openAPIV3Schema schema for DaemonJob CRD.\n\nchange docker image to point to the latest metacontroller image.\nchange python image to point to version 3.7\nadd updateStrategy to CompositeController.\nadd replicas config to DaemonJobController via zuul gate.\n\nChange-Id: I2a48bc6472017802267980fe474d81886113fcda\n'}, {'number': 2, 'created': '2020-06-29 19:44:03.000000000', 'files': ['metacontroller/values.yaml', 'daemonjob-controller/values.yaml', 'metacontroller/templates/crds.yaml', 'tools/deployment/common/daemonjob-controller.sh', 'daemonjob-controller/templates/crd.yaml', 'daemonjob-controller/templates/composite-controller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/64c744d756141681f5252dfbb71eafa3fc1b564f', 'message': 'Add generate openAPIV3Schema schema for DaemonJob CRD.\n\nchange docker image to point to the latest metacontroller image.\nchange python image to point to version 3.7\nadd updateStrategy to CompositeController.\nadd replicas config to DaemonJobController via zuul gate.\n\nChange-Id: I2a48bc6472017802267980fe474d81886113fcda\n'}]",0,738494,64c744d756141681f5252dfbb71eafa3fc1b564f,9,3,2,31482,,,0,"Add generate openAPIV3Schema schema for DaemonJob CRD.

change docker image to point to the latest metacontroller image.
change python image to point to version 3.7
add updateStrategy to CompositeController.
add replicas config to DaemonJobController via zuul gate.

Change-Id: I2a48bc6472017802267980fe474d81886113fcda
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/738494/2 && git format-patch -1 --stdout FETCH_HEAD,"['metacontroller/values.yaml', 'daemonjob-controller/values.yaml', 'metacontroller/templates/crds.yaml', 'tools/deployment/common/daemonjob-controller.sh', 'daemonjob-controller/templates/crd.yaml', 'daemonjob-controller/templates/composite-controller.yaml']",6,ff2ace7c377e298dd2fc7f5e53cd553106befcb9,daemonjobs, updateStrategy: method: InPlace,,3983,251
openstack%2Fopenstack-helm-infra~master~Ie1c3a7aef290bf6de4752798821d96451c1f2fa5,openstack/openstack-helm-infra,master,Ie1c3a7aef290bf6de4752798821d96451c1f2fa5,Fix return code when backup to remote rgw fails,MERGED,2020-06-30 16:29:49.000000000,2020-07-01 21:48:01.000000000,2020-07-01 21:46:25.000000000,"[{'_account_id': 18236}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24816}, {'_account_id': 28237}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-06-30 16:29:49.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1508324ce7f683da93c5344343e3da031fac816d', 'message': 'Fix return code when backup to remote rgw fails\n\nIn the database backup framework (_backup_main.sh.tpl), the\nbackup_databases function exits with code 1 if the store_backup_remotely\nfunction fails to send the backup to the remote RGW. This causes the pod\nto fail and be restarted by the cronjob, over and over until the backoff\nretries limit (6 by default) is reached, so it creates many copies of\nthe same backup on the file system, and the default k8s behavior is to\ndelete the job/pods once the backoff limit has been exceeded, so it then\nbecomes more difficult to troubleshoot (although we may have logs in\nelasticsearch). This patch changes the return code to 0 so that the pod\nwill not fail in that scenario. The error logs generated should be\nenough to flag the failure (via Nagios or whatever alerting system is\nbeing used).\n\nChange-Id: Ie1c3a7aef290bf6de4752798821d96451c1f2fa5\n'}]",0,738665,1508324ce7f683da93c5344343e3da031fac816d,15,9,1,22636,,,0,"Fix return code when backup to remote rgw fails

In the database backup framework (_backup_main.sh.tpl), the
backup_databases function exits with code 1 if the store_backup_remotely
function fails to send the backup to the remote RGW. This causes the pod
to fail and be restarted by the cronjob, over and over until the backoff
retries limit (6 by default) is reached, so it creates many copies of
the same backup on the file system, and the default k8s behavior is to
delete the job/pods once the backoff limit has been exceeded, so it then
becomes more difficult to troubleshoot (although we may have logs in
elasticsearch). This patch changes the return code to 0 so that the pod
will not fail in that scenario. The error logs generated should be
enough to flag the failure (via Nagios or whatever alerting system is
being used).

Change-Id: Ie1c3a7aef290bf6de4752798821d96451c1f2fa5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/738665/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'],1,1508324ce7f683da93c5344343e3da031fac816d,," # Because the local backup was successful, exit with 0 so the pod will not # continue to restart and fill the disk with more backups. The ERRORs are # logged and alerting system should catch those errors and flag the operator. exit 0", exit 1,4,1
openstack%2Fneutron-specs~master~Ie7adfffbd1e81f36ef91011315be5936b29e70e9,openstack/neutron-specs,master,Ie7adfffbd1e81f36ef91011315be5936b29e70e9,Adding a spec for neutron dns_assignment for RFE https://bugs.launchpad.net/neutron/+bug/1873091,MERGED,2020-05-11 16:56:26.000000000,2020-07-01 21:18:22.000000000,2020-07-01 21:11:58.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-11 16:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bb344221d187dec2b58720d1be6ca20264cb4321', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 2, 'created': '2020-05-11 18:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d018f7140507ffd10bdb0c5cd7c846b0bad21dab', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 3, 'created': '2020-06-08 16:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6c087ee6ab1e28ed7bb6398db158e91236f7de89', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 4, 'created': '2020-06-08 17:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/781172b96a677472d856f7b1b6b3b6d868ef5e19', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 5, 'created': '2020-06-24 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/097df53be948df74ee98a3af31e09b91455fa2c7', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 6, 'created': '2020-06-24 21:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/51fd54a90d748ec5a49be118f04de09235391970', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 7, 'created': '2020-06-24 21:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/05b03630a1e4f72744963930f548dfbddb8fc9e3', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}, {'number': 8, 'created': '2020-06-24 21:39:25.000000000', 'files': ['specs/ussuri/port_dns_assignment.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6874689728425edf43a713a261ec83dd5da0f637', 'message': 'Adding a spec for neutron dns_assignment\nfor RFE https://bugs.launchpad.net/neutron/+bug/1873091\n\nChange-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9\n'}]",2,726904,6874689728425edf43a713a261ec83dd5da0f637,22,4,8,31039,,,0,"Adding a spec for neutron dns_assignment
for RFE https://bugs.launchpad.net/neutron/+bug/1873091

Change-Id: Ie7adfffbd1e81f36ef91011315be5936b29e70e9
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/04/726904/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/port_dns_assignment.rst'],1,bb344221d187dec2b58720d1be6ca20264cb4321,neutron_dns_assignment,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Fix the dns-assignment on neutron port ====================================== https://bugs.launchpad.net/neutron/+bug/1873091 The dns-domain part of the dns-assignment for the neutron port is always taken from the dns-domain defined in the neutron configuration Problem Description =================== The dns-domain can be set on network level using openstack network set --dns-domain and on port level using dns_domain_ports extension openstack port create --dns-domain and both of those values (network level, port level dns-domians) are ignored when forming the port dns-assignment which always take the dns-domain in neutron config Proposed Change =============== The port level dns-domain should take precedence over network level dns-domain which take precedence over the neutron config dns-domain which will be the default if the above two levels dont have dns-domain assigned References ========== https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html#config-dns-int-ext-serv ",,35,0
openstack%2Fkeystone~stable%2Fussuri~I69b2c650d20e30e35c2388b824cb28fcef2bae77,openstack/keystone,stable/ussuri,I69b2c650d20e30e35c2388b824cb28fcef2bae77,Run federation jobs on Ubuntu Focal,ABANDONED,2020-07-01 19:22:15.000000000,2020-07-01 20:59:09.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 19:22:15.000000000', 'files': ['devstack/lib/federation.sh', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1157d85e98860b003b42d2845f0111f7acdd94ab', 'message': ""Run federation jobs on Ubuntu Focal\n\nThe packaging issue that was never fixed for Bionic[1] doesn't seem to\nbe a problem on Focal, so let's switch back to Ubuntu.\n\n[1] https://bugs.launchpad.net/ubuntu/+source/shibboleth-sp2/+bug/1776489\n\nChange-Id: I69b2c650d20e30e35c2388b824cb28fcef2bae77\nDepends-on: https://review.opendev.org/726994\n(cherry picked from commit fb86048d0a83cc6f2b5dcf78124ed12202902092)\n""}]",0,738922,1157d85e98860b003b42d2845f0111f7acdd94ab,4,2,1,8482,,,0,"Run federation jobs on Ubuntu Focal

The packaging issue that was never fixed for Bionic[1] doesn't seem to
be a problem on Focal, so let's switch back to Ubuntu.

[1] https://bugs.launchpad.net/ubuntu/+source/shibboleth-sp2/+bug/1776489

Change-Id: I69b2c650d20e30e35c2388b824cb28fcef2bae77
Depends-on: https://review.opendev.org/726994
(cherry picked from commit fb86048d0a83cc6f2b5dcf78124ed12202902092)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/738922/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/federation.sh', '.zuul.yaml']",2,1157d85e98860b003b42d2845f0111f7acdd94ab,focal-ci-stable/ussuri,- job: name: keystone-dsvm-py3-functional-federation-ubuntu-focal parent: keystone-dsvm-functional nodeset: openstack-single-node-focal vars: devstack_localrc: TEMPEST_PLUGINS: '/opt/stack/keystone-tempest-plugin' USE_PYTHON3: True devstack_services: keystone-saml2-federation: true tls-proxy: false devstack_plugins: keystone: https://opendev.org/openstack/keystone zuul_copy_output: /etc/shibboleth: logs /var/log/shibboleth: logs - job: name: keystone-dsvm-py3-functional-federation-ubuntu-focal-k2k parent: keystone-dsvm-py3-functional-federation-ubuntu-focal vars: devstack_localrc: IDP_ID: k2k - keystone-dsvm-py3-functional-federation-ubuntu-focal: - keystone-dsvm-py3-functional-federation-ubuntu-focal-k2k: - keystone-dsvm-py3-functional-federation-ubuntu-focal-k2k:, - keystone-dsvm-py3-functional-federation-opensuse15: - keystone-dsvm-py3-functional-federation-opensuse15-k2k: - keystone-dsvm-py3-functional-federation-opensuse15-k2k:,28,4
openstack%2Fkeystoneauth~stable%2Ftrain~Ic75f0c9b36022b884105b87bfe05f4f8292d53b2,openstack/keystoneauth,stable/train,Ic75f0c9b36022b884105b87bfe05f4f8292d53b2,Inject /v3 in token path for v3 plugins,MERGED,2020-05-28 12:55:23.000000000,2020-07-01 20:57:41.000000000,2020-07-01 20:52:51.000000000,"[{'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-28 12:55:23.000000000', 'files': ['keystoneauth1/identity/v3/base.py', 'releasenotes/notes/bug-1876317-1db97d1b12a3e4b4.yaml', 'keystoneauth1/tests/unit/identity/test_identity_v3.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7d7b9564ba32ded721f67002b712e6d3cafa8511', 'message': ""Inject /v3 in token path for v3 plugins\n\nWithout this, it's possible to get HTTP 404 errors from keystone if\nOS_AUTH_URL isn't versioned (e.g., https://keystone.example.com/ instead\nof https://keystone.example.com/v3), even if OS_IDENTITY_API is set to\n3.\n\nThis commit works around this issue by checking the AUTH_URL before\nbuilding the token_url and appending '/v3' to the URL before sending the\nrequest.\n\nCloses-Bug: 1876317\n\nChange-Id: Ic75f0c9b36022b884105b87bfe05f4f8292d53b2\n(cherry picked from commit ad46262148e7b099e6c7239887e20ade5b8e6ac8)\n(cherry picked from commit 3ba2a3acf2a897de046873f3585463638e3567f6)\n""}]",0,731520,7d7b9564ba32ded721f67002b712e6d3cafa8511,18,6,1,8866,,,0,"Inject /v3 in token path for v3 plugins

Without this, it's possible to get HTTP 404 errors from keystone if
OS_AUTH_URL isn't versioned (e.g., https://keystone.example.com/ instead
of https://keystone.example.com/v3), even if OS_IDENTITY_API is set to
3.

This commit works around this issue by checking the AUTH_URL before
building the token_url and appending '/v3' to the URL before sending the
request.

Closes-Bug: 1876317

Change-Id: Ic75f0c9b36022b884105b87bfe05f4f8292d53b2
(cherry picked from commit ad46262148e7b099e6c7239887e20ade5b8e6ac8)
(cherry picked from commit 3ba2a3acf2a897de046873f3585463638e3567f6)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/20/731520/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/identity/v3/base.py', 'releasenotes/notes/bug-1876317-1db97d1b12a3e4b4.yaml', 'keystoneauth1/tests/unit/identity/test_identity_v3.py']",3,7d7b9564ba32ded721f67002b712e6d3cafa8511,cleanup-py27-support," def test_authenticate_with_unversioned_endpoint(self): self.stub_auth(json=self.TEST_RESPONSE_DICT) # We use the root url here because it doesn't reference the API version # (e.g., '/v3'). We want to make sure the authentication plugin handles # this and appends /v3 if it's not present. a = v3.Password(self.TEST_ROOT_URL, username=self.TEST_USER, password=self.TEST_PASS) self.assertFalse(a.has_scope_parameters) s = session.Session(auth=a) self.assertEqual({'X-Auth-Token': self.TEST_TOKEN}, s.get_auth_headers()) req = {'auth': {'identity': {'methods': ['password'], 'password': {'user': {'name': self.TEST_USER, 'password': self.TEST_PASS}}}}} self.assertRequestBodyIs(json=req) self.assertRequestHeaderEqual('Content-Type', 'application/json') self.assertRequestHeaderEqual('Accept', 'application/json') self.assertEqual(s.auth.auth_ref.auth_token, self.TEST_TOKEN)",,35,1
openstack%2Fopenstack-ansible~master~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,master,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 07:33:27.000000000,2020-07-01 20:54:46.000000000,2020-07-01 20:44:58.000000000,"[{'_account_id': 13095}, {'_account_id': 15993}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-01 07:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a742d5c53cb91c70fab59909ebb4728e752d0ed5', 'message': 'Disable test_swift_acl_anonymous_downloadue test\n\nCeph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized\nfrom 401 to 404, which makes this test fail.\n\nChange-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67\n'}, {'number': 2, 'created': '2020-07-01 07:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d5d9c3757527158f4c1b4537507fc0bdae1731f', 'message': 'Disable test_swift_acl_anonymous_download test\n\nCeph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized\nfrom 401 to 404, which makes this test fail.\n\nChange-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67\n'}, {'number': 3, 'created': '2020-07-01 08:05:56.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75cfbe4db64f0989d1489ed162a45a73cf14b33c', 'message': 'Disable test_swift_acl_anonymous_download test\n\nCeph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized\nfrom 401 to 404, which makes this test fail.\n\nChange-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67\n'}]",0,738746,75cfbe4db64f0989d1489ed162a45a73cf14b33c,15,5,3,28619,,,0,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/738746/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'],1,a742d5c53cb91c70fab59909ebb4728e752d0ed5,,tempest_test_blacklist: - tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps.test_swift_acl_anonymous_download,,2,0
openstack%2Fmanila~stable%2Fstein~If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,openstack/manila,stable/stein,If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97,Get ports filtered by subnet id on share-server cleanup,MERGED,2020-07-01 16:33:23.000000000,2020-07-01 20:14:46.000000000,2020-07-01 20:12:39.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30238}]","[{'number': 1, 'created': '2020-07-01 16:33:23.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/908041c4569ead060c2c9c3a7ed054bcd7b6f6e9', 'message': ""Get ports filtered by subnet id on share-server cleanup\n\nNeutron can filter ports by subnet-id by itself, so:\n- Don't send all ports in Neutron on every share-server removal\n- Don't send fixed-ips fields (which are nearly half of total data)\n\nCloses-Bug: #1879754\nChange-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)\n(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)\n(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)\n""}]",0,738886,908041c4569ead060c2c9c3a7ed054bcd7b6f6e9,11,5,1,16643,,,0,"Get ports filtered by subnet id on share-server cleanup

Neutron can filter ports by subnet-id by itself, so:
- Don't send all ports in Neutron on every share-server removal
- Don't send fixed-ips fields (which are nearly half of total data)

Closes-Bug: #1879754
Change-Id: If42c9a0a662a62bbe2a02b6baee6ae13eedd8c97
Signed-off-by: George Melikov <mail@gmelikov.ru>
(cherry picked from commit d5fc7d28023fb060a077e7913c38b2aa59deae4b)
(cherry picked from commit 1c25df055cfcb4a99f6010dedd9698aeab582c9f)
(cherry picked from commit 6542f2f1c4a509c80531314a7e102ffbf62f02de)
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/738886/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'releasenotes/notes/bug-1879754-teardown-network-d1887cdf6eb83388.yaml']",3,908041c4569ead060c2c9c3a7ed054bcd7b6f6e9,bug/1879754,"--- fixes: - Fixed unneeded all ports list request to Neutron in service instance helper module on tearing down service subnet, Neutron can filter them by subnet_id itself. ",,21,23
openstack%2Fswift~master~Idbddca52e080a55d40137a5b3ec6b72ebb5b8631,openstack/swift,master,Idbddca52e080a55d40137a5b3ec6b72ebb5b8631,s3api: Clean up some logging,NEW,2020-07-01 17:12:59.000000000,2020-07-01 20:03:32.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 17:12:59.000000000', 'files': ['swift/common/middleware/s3api/s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/25bf2a092e63ddadacb83af08287e546bc0a2023', 'message': 's3api: Clean up some logging\n\nNo need to debug-log on every S3 request.\n\nNo need to warn on every 501 caused by having\nallow_multipart_uploads disabled.\n\nChange-Id: Idbddca52e080a55d40137a5b3ec6b72ebb5b8631\n'}]",0,738901,25bf2a092e63ddadacb83af08287e546bc0a2023,4,2,1,15343,,,0,"s3api: Clean up some logging

No need to debug-log on every S3 request.

No need to warn on every 501 caused by having
allow_multipart_uploads disabled.

Change-Id: Idbddca52e080a55d40137a5b3ec6b72ebb5b8631
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/738901/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3api.py'],1,25bf2a092e63ddadacb83af08287e546bc0a2023,," InternalError, MethodNotAllowed, S3ResponseBase controller = req.controller(self.app, self.conf, self.logger) req.set_acl_handler( get_acl_handler(req.controller_name)(req, self.logger))"," InternalError, MethodNotAllowed, S3ResponseBase, S3NotImplemented self.logger.debug('Calling S3Api Middleware') try: controller = req.controller(self.app, self.conf, self.logger) except S3NotImplemented: # TODO: Probably we should distinct the error to log this warning self.logger.warning('multipart: No SLO middleware in pipeline') raise acl_handler = get_acl_handler(req.controller_name)(req, self.logger) req.set_acl_handler(acl_handler)",4,11
